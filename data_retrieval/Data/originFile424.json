{"items":[{"tags":["java","spring-boot","gradle","intellij-idea","microservices"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1682504889,"post_id":76109149,"comment_id":134225568,"body_markdown":"You can [define a composite build](https://docs.gradle.org/current/userguide/composite_builds.html#defining_composite_builds) that includes both your shared library and your application. This will use the classes built from the source over the one that can be downloaded from your repository.","body":"You can <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html#defining_composite_builds\" rel=\"nofollow noreferrer\">define a composite build</a> that includes both your shared library and your application. This will use the classes built from the source over the one that can be downloaded from your repository."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684157441,"creation_date":1684156986,"answer_id":76254541,"question_id":76109149,"body_markdown":"&gt; So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.\r\n\r\nYou cannot avoid having common.jar, as soon as both Maven and Gradle dependency management handles each dependency as a separate jar file.\r\n\r\nWhat you can do is to create a parent `build.gradle` and include `common` module into it. In one of our projects we have the following structure:\r\n```\r\nroot_dir/\r\n..common/\r\n.....src\r\n.....build.gradle\r\n..sql/\r\n.....src\r\n.....build.gradle\r\n..api/\r\n.....src\r\n.....build.gradle\r\n..build.gradle \r\n..settings.gradle\r\n```\r\nHere we created `settings.gradle` in root directory:\r\n```groovy\r\nrootProject.name = &#39;parent&#39;\r\ninclude(&#39;:common&#39;)\r\ninclude(&#39;:sql&#39;)\r\ninclude(&#39;:api&#39;)\r\n```\r\nUnder the same directory we have parent `build.gradle` with properties and settings common for all submodules:\r\n```groovy\r\nallprojects {\r\n  group = &#39;&#39;\r\n  version = &#39;1.0-SNAPSHOT&#39;\r\n}\r\n\r\next {\r\n  lombokVersion = &#39;1.18.22&#39;\r\n  springBootVersion = &#39;2.6.3&#39;\r\n}\r\n\r\nsubprojects {\r\n  apply plugin: &#39;java&#39;\r\n  apply plugin: &#39;maven-publish&#39;\r\n\r\n  repositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n  }\r\n  //common dependencies\r\n  dependencies {\r\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\r\n\r\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;)\r\n  }\r\n\r\n  sourceCompatibility = 17\r\n\r\n  test {\r\n    useJUnitPlatform()\r\n  }\r\n}\r\n```\r\nThen we have `:common` and `:sql` modules, both are dependencies for `:api` module.\r\n\r\nIn the `build.gradle` of `:api` module we juwt specify dependencies:\r\n```\r\ndependencies {\r\n  implementation project(&#39;:sql&#39;)\r\n  implementation project(&#39;:common&#39;)\r\n  //...\r\n}\r\n```\r\nThis structure allows IDEA to import `common` project as a submodule and all changes to the code of that module will be automatically picked up and analyzed. So if you refactor or rename a property in POJO in `:common` module  IDEA finds all its usages in `:api` module and refactors/renames them as well.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<blockquote>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n</blockquote>\n<p>You cannot avoid having common.jar, as soon as both Maven and Gradle dependency management handles each dependency as a separate jar file.</p>\n<p>What you can do is to create a parent <code>build.gradle</code> and include <code>common</code> module into it. In one of our projects we have the following structure:</p>\n<pre><code>root_dir/\n..common/\n.....src\n.....build.gradle\n..sql/\n.....src\n.....build.gradle\n..api/\n.....src\n.....build.gradle\n..build.gradle \n..settings.gradle\n</code></pre>\n<p>Here we created <code>settings.gradle</code> in root directory:</p>\n<pre><code>rootProject.name = 'parent'\ninclude(':common')\ninclude(':sql')\ninclude(':api')\n</code></pre>\n<p>Under the same directory we have parent <code>build.gradle</code> with properties and settings common for all submodules:</p>\n<pre><code>allprojects {\n  group = ''\n  version = '1.0-SNAPSHOT'\n}\n\next {\n  lombokVersion = '1.18.22'\n  springBootVersion = '2.6.3'\n}\n\nsubprojects {\n  apply plugin: 'java'\n  apply plugin: 'maven-publish'\n\n  repositories {\n    mavenLocal()\n    mavenCentral()\n  }\n  //common dependencies\n  dependencies {\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;)\n  }\n\n  sourceCompatibility = 17\n\n  test {\n    useJUnitPlatform()\n  }\n}\n</code></pre>\n<p>Then we have <code>:common</code> and <code>:sql</code> modules, both are dependencies for <code>:api</code> module.</p>\n<p>In the <code>build.gradle</code> of <code>:api</code> module we juwt specify dependencies:</p>\n<pre><code>dependencies {\n  implementation project(':sql')\n  implementation project(':common')\n  //...\n}\n</code></pre>\n<p>This structure allows IDEA to import <code>common</code> project as a submodule and all changes to the code of that module will be automatically picked up and analyzed. So if you refactor or rename a property in POJO in <code>:common</code> module  IDEA finds all its usages in <code>:api</code> module and refactors/renames them as well.</p>\n"},{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684423278,"creation_date":1684423278,"answer_id":76282209,"question_id":76109149,"body_markdown":"While one way is with a [multi-module gradle build](https://docs.gradle.org/current/userguide/multi_project_builds.html), this is not helpful when the individual microservices are split across multiple repos, each with their own repos and `build.gradle`.\r\n\r\nIn this case, there are additional options, each with their own caveats.\r\n\r\n## mavenLocal\r\n\r\nYou can publish your `common.jar` to your maven local with something like [this](https://stackoverflow.com/questions/42765113/how-to-publish-source-into-local-maven-repository-with-gradle).\r\n\r\nThis works well if you only have a single development machine, otherwise, each developer will have to publish to local as well.  Also, for distribution, you would have to bundle `common.jar` into the final jar, which you are likely doing already since it is included locally.\r\n\r\nThis approach would at least prevent you from having to copy/paste.\r\n\r\n## Run a maven server\r\n\r\nOr, of course, you could run a maven on some machine all your devices have access to.  [Nexus](https://www.sonatype.com/products/sonatype-nexus-repository) works well.  There are others.\r\n\r\nThis requires a dedicated &quot;server&quot; of some kind to run this.  Might not work in all envs, but might be something worth investing in.\r\n\r\n## Gradle Task\r\n\r\nAnd, of course, as a &#39;low-tech&#39; solution, if you have a common directory structure and always work out of a workspace where you have all your other repos, you can have a task in the `common`&#39;s Gradle build that after building the jar simply copies the build artifact to the other repos based on known paths and a list of repos to update.\r\n\r\nWhile potentially brittle, you could even perform git commands on those folders and prepare commits to add the changed file. YMMV on this, though, as it has plenty of its own pitfalls.\r\n\r\nThis requires all repos to be cloned, in the same relative paths, but has the advantage of simply removing the manual effort.\r\n\r\n## Scripting\r\n\r\nAnd, of course, there&#39;s no reason you have to use Gradle to do the above.  If can&#39;t use a multi-module build, and you can&#39;t use any of the other tasks, consider writing a script (bash, pwsh, python, etc), and at take advantage of some automation.\r\n\r\nYes, it has the pitfalls of the above, but it is simpler than doing a lot of manual tasks over and over, all of which have the potential of being skipped, forgotten, etc.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>While one way is with a <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">multi-module gradle build</a>, this is not helpful when the individual microservices are split across multiple repos, each with their own repos and <code>build.gradle</code>.</p>\n<p>In this case, there are additional options, each with their own caveats.</p>\n<h2>mavenLocal</h2>\n<p>You can publish your <code>common.jar</code> to your maven local with something like <a href=\"https://stackoverflow.com/questions/42765113/how-to-publish-source-into-local-maven-repository-with-gradle\">this</a>.</p>\n<p>This works well if you only have a single development machine, otherwise, each developer will have to publish to local as well.  Also, for distribution, you would have to bundle <code>common.jar</code> into the final jar, which you are likely doing already since it is included locally.</p>\n<p>This approach would at least prevent you from having to copy/paste.</p>\n<h2>Run a maven server</h2>\n<p>Or, of course, you could run a maven on some machine all your devices have access to.  <a href=\"https://www.sonatype.com/products/sonatype-nexus-repository\" rel=\"nofollow noreferrer\">Nexus</a> works well.  There are others.</p>\n<p>This requires a dedicated &quot;server&quot; of some kind to run this.  Might not work in all envs, but might be something worth investing in.</p>\n<h2>Gradle Task</h2>\n<p>And, of course, as a 'low-tech' solution, if you have a common directory structure and always work out of a workspace where you have all your other repos, you can have a task in the <code>common</code>'s Gradle build that after building the jar simply copies the build artifact to the other repos based on known paths and a list of repos to update.</p>\n<p>While potentially brittle, you could even perform git commands on those folders and prepare commits to add the changed file. YMMV on this, though, as it has plenty of its own pitfalls.</p>\n<p>This requires all repos to be cloned, in the same relative paths, but has the advantage of simply removing the manual effort.</p>\n<h2>Scripting</h2>\n<p>And, of course, there's no reason you have to use Gradle to do the above.  If can't use a multi-module build, and you can't use any of the other tasks, consider writing a script (bash, pwsh, python, etc), and at take advantage of some automation.</p>\n<p>Yes, it has the pitfalls of the above, but it is simpler than doing a lot of manual tasks over and over, all of which have the potential of being skipped, forgotten, etc.</p>\n"},{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684486105,"creation_date":1684486006,"answer_id":76287450,"question_id":76109149,"body_markdown":"I am not sure what you mean by:\r\n\r\n&gt; then build copy that jar to other micro services\r\n\r\nWhen you create a new version of common jar, you should have a pipeline that puts it in some artifactory/nexus from where other dependent micro services can pick up the new version automatically.\r\n\r\nWhat you can also do is instruct the micro services to look for the latest, or the latest version of a major release of that common library when they build\r\n\r\ne.g. `com.boa.dart:funding-common:23.+` will pick the latest version with the major version 23 (as long as you maintain backwards compatibility in each major version this can work).","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>I am not sure what you mean by:</p>\n<blockquote>\n<p>then build copy that jar to other micro services</p>\n</blockquote>\n<p>When you create a new version of common jar, you should have a pipeline that puts it in some artifactory/nexus from where other dependent micro services can pick up the new version automatically.</p>\n<p>What you can also do is instruct the micro services to look for the latest, or the latest version of a major release of that common library when they build</p>\n<p>e.g. <code>com.boa.dart:funding-common:23.+</code> will pick the latest version with the major version 23 (as long as you maintain backwards compatibility in each major version this can work).</p>\n"}],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684486105,"creation_date":1682501164,"question_id":76109149,"body_markdown":"We have multiple micro services dependent on a common code(common.jar) which is a separate project(repo). \r\nCurrently common code(common.jar) is included as dependent jar in all micro services.\r\n\r\n    gradle.properties:\r\n    implementation (&quot;com.boa.dart:funding-common:23.5.1.108&quot;)  --&gt; Prod configuration\r\n    implementation files(&quot;libs/funding-common.23.5.1.108.jar&quot;) --&gt; Local configuration\r\n\r\nAs all micro services dependent on common project, development is taking much time when there is any change required in &quot;Common Project&quot;.\r\nFirst we need to do code change in &quot;Common project&quot;, then build copy that jar to other micro services, then build each individual micro service.\r\n\r\nBut look like we can have lot of improvement in this process.\r\n\r\nSo here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.\r\n\r\n&gt; Here are TechStack: We are using gradle as a build tool. \r\n&gt; Spring Boot for micro Services.\r\n&gt; IntelliJ as IDE.","title":"How to add a dependent project in intellij &amp; Gradle instead using jar dependency","body":"<p>We have multiple micro services dependent on a common code(common.jar) which is a separate project(repo).\nCurrently common code(common.jar) is included as dependent jar in all micro services.</p>\n<pre><code>gradle.properties:\nimplementation (&quot;com.boa.dart:funding-common:23.5.1.108&quot;)  --&gt; Prod configuration\nimplementation files(&quot;libs/funding-common.23.5.1.108.jar&quot;) --&gt; Local configuration\n</code></pre>\n<p>As all micro services dependent on common project, development is taking much time when there is any change required in &quot;Common Project&quot;.\nFirst we need to do code change in &quot;Common project&quot;, then build copy that jar to other micro services, then build each individual micro service.</p>\n<p>But look like we can have lot of improvement in this process.</p>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n<blockquote>\n<p>Here are TechStack: We are using gradle as a build tool.\nSpring Boot for micro Services.\nIntelliJ as IDE.</p>\n</blockquote>\n"},{"tags":["java","android","broadcastreceiver"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1684485580,"post_id":76287245,"comment_id":134527338,"body_markdown":"Please use PascalCase to create classes in Java.... [reference](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"Please use PascalCase to create classes in Java.... <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">reference</a>"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684486102,"creation_date":1684486102,"answer_id":76287464,"question_id":76287245,"body_markdown":"It doesn&#39;t dismiss because you are creating a different `AlertDialog` every time you get on the `onReceive` so you should store a variable in the `NetworkDetector` class.\r\n\r\n```\r\npublic class network_detector extends BroadcastReceiver {\r\n\r\n    private AlertDialog dialog;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n         if (dialog != null) {\r\n            boolean isConnected = networkClass.isConnectedToInternet(context);\r\n            if (isConnected) {\r\n                dialog.dismiss();\r\n                dialog = null;\r\n            } else if (!dialog.isShowing()) {\r\n                showNoInternetDialog(context);\r\n            }\r\n        } else {\r\n            showNoInternetDialog(context);\r\n        }\r\n\r\n}\r\n\r\n\r\n    private void showNoInternetDialog(Context context) {\r\n        View alertdialogView = LayoutInflater.from(context).inflate(R.layout.network_dialog, null);\r\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\r\n        dialogBuilder.setView(alertdialogView);\r\n\r\n        dialog = dialogBuilder.create();\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n\r\n        dialog.setCancelable(false);\r\n        dialog.show();\r\n    }\r\n}\r\n```","title":"Android: showing an alertdialog while internet is not connected in device","body":"<p>It doesn't dismiss because you are creating a different <code>AlertDialog</code> every time you get on the <code>onReceive</code> so you should store a variable in the <code>NetworkDetector</code> class.</p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    private AlertDialog dialog;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n         if (dialog != null) {\n            boolean isConnected = networkClass.isConnectedToInternet(context);\n            if (isConnected) {\n                dialog.dismiss();\n                dialog = null;\n            } else if (!dialog.isShowing()) {\n                showNoInternetDialog(context);\n            }\n        } else {\n            showNoInternetDialog(context);\n        }\n\n}\n\n\n    private void showNoInternetDialog(Context context) {\n        View alertdialogView = LayoutInflater.from(context).inflate(R.layout.network_dialog, null);\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\n        dialogBuilder.setView(alertdialogView);\n\n        dialog = dialogBuilder.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        dialog.show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76287464,"answer_count":1,"score":1,"last_activity_date":1684486102,"creation_date":1684484144,"question_id":76287245,"body_markdown":"I want to check if the internet is connected and show a `dialog` if it is not. This is my code:\r\n\r\n**network_class.java**\r\n```\r\n public class network_class {\r\n    public static boolean isConnectedToInternet(Context context){\r\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n        if (activeNetwork != null) {\r\n            if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\r\n                return true;\r\n            }\r\n            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n**network_detector.java**\r\n```\r\npublic class network_detector extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        View alertdialog_1 = LayoutInflater.from(context).inflate(R.layout.network_dialog,null);\r\n        AlertDialog.Builder dialog_1 = new AlertDialog.Builder(context);\r\n        dialog_1.setView(alertdialog_1);\r\n\r\n        AlertDialog dialog = dialog_1.create();\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n\r\n        dialog.setCancelable(false);\r\n        if(network_class.isConnectedToInternet(context)){\r\n            if(dialog.isShowing())\r\n                dialog.cancel();\r\n        }\r\n        else\r\n            dialog.show();\r\n    }\r\n}\r\n```\r\nAfter that, I am using the receiver in my `MainActivity`:\r\n```\r\nnetwork_detector detector = new network_detector();\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    //some irrelevant code here\r\n}\r\n\r\n@Override\r\nprotected void onStart() {\r\n    IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n    registerReceiver(detector,intentFilter);\r\n    super.onStart();\r\n}\r\n\r\n@Override\r\nprotected void onStop() {\r\n    unregisterReceiver(detector);\r\n    super.onStop();\r\n}\r\n```\r\n\r\nWhile the application is running in my device, when I switch off the internet the dialog shows (which is correct), and then again when I switch on the internet, strangely enough the dialog still keeps on showing. Why is that? Where am I going wrong?\r\n\r\n**EDIT:** These permissions are there in my `manifest`:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```","title":"Android: showing an alertdialog while internet is not connected in device","body":"<p>I want to check if the internet is connected and show a <code>dialog</code> if it is not. This is my code:</p>\n<p><strong>network_class.java</strong></p>\n<pre><code> public class network_class {\n    public static boolean isConnectedToInternet(Context context){\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        if (activeNetwork != null) {\n            if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\n                return true;\n            }\n            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>network_detector.java</strong></p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        View alertdialog_1 = LayoutInflater.from(context).inflate(R.layout.network_dialog,null);\n        AlertDialog.Builder dialog_1 = new AlertDialog.Builder(context);\n        dialog_1.setView(alertdialog_1);\n\n        AlertDialog dialog = dialog_1.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        if(network_class.isConnectedToInternet(context)){\n            if(dialog.isShowing())\n                dialog.cancel();\n        }\n        else\n            dialog.show();\n    }\n}\n</code></pre>\n<p>After that, I am using the receiver in my <code>MainActivity</code>:</p>\n<pre><code>network_detector detector = new network_detector();\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //some irrelevant code here\n}\n\n@Override\nprotected void onStart() {\n    IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n    registerReceiver(detector,intentFilter);\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    unregisterReceiver(detector);\n    super.onStop();\n}\n</code></pre>\n<p>While the application is running in my device, when I switch off the internet the dialog shows (which is correct), and then again when I switch on the internet, strangely enough the dialog still keeps on showing. Why is that? Where am I going wrong?</p>\n<p><strong>EDIT:</strong> These permissions are there in my <code>manifest</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","yaml","spring-cloud","gateway"],"owner":{"account_id":28633719,"reputation":1,"user_id":21924222,"display_name":"departure_L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684486008,"creation_date":1684486008,"question_id":76287451,"body_markdown":"Today, I learned how to implement the gateway for my current project, using the Spring Cloud Gateway\r\n\r\nFound a configuration in the configuration file that is:\r\n```yml\r\nspring:\r\n cloud:\r\n    gateway:\r\n      predicate:\r\n        read-body:\r\n          enabled: true\r\n```\r\nAfter reviewing Spring&#39;s official website document, I couldn&#39;t find a very useful description, only saw one sentence:\r\n[enter image description here](https://i.stack.imgur.com/EGRtK.png)\r\nAt first, I thought it was a use of ReadBodyPredicteFactory, but this PredicteFactory already has a way of using it:\r\n```yml\r\npredicates:\r\n   - Path=/**\r\n   - name: ReadBodyPredicateFactory\r\n```\r\n\r\nWhen writing my own demo and trying to use read-body, there will also be a prompt message:\r\nCannot resolve configuration property &#39;spring.cloud.gateway.predicate.read-body.enabled&#39;\r\n\r\nSo what exactly is read-body used for\r\n\r\nI would like to know how to use this configuration property","title":"What is the configuration property of read-body in Spring Cloud Gateway used for and how to use it","body":"<p>Today, I learned how to implement the gateway for my current project, using the Spring Cloud Gateway</p>\n<p>Found a configuration in the configuration file that is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n cloud:\n    gateway:\n      predicate:\n        read-body:\n          enabled: true\n</code></pre>\n<p>After reviewing Spring's official website document, I couldn't find a very useful description, only saw one sentence:\n<a href=\"https://i.stack.imgur.com/EGRtK.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAt first, I thought it was a use of ReadBodyPredicteFactory, but this PredicteFactory already has a way of using it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>predicates:\n   - Path=/**\n   - name: ReadBodyPredicateFactory\n</code></pre>\n<p>When writing my own demo and trying to use read-body, there will also be a prompt message:\nCannot resolve configuration property 'spring.cloud.gateway.predicate.read-body.enabled'</p>\n<p>So what exactly is read-body used for</p>\n<p>I would like to know how to use this configuration property</p>\n"},{"tags":["java","logging","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1684486537,"post_id":76287441,"comment_id":134527523,"body_markdown":"This could only be configured via the log framework, log4j for example","body":"This could only be configured via the log framework, log4j for example"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1684495780,"post_id":76287441,"comment_id":134529294,"body_markdown":"Maybe this helps:  https://github.com/quickfix-j/quickfixj/discussions/558","body":"Maybe this helps:  <a href=\"https://github.com/quickfix-j/quickfixj/discussions/558\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/discussions/558</a>"}],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684485919,"creation_date":1684485919,"question_id":76287441,"body_markdown":"When running a Java application with QuickFix/J library, is it possible to configure the Quickfix/J logs to be archived every midnight (or when we reach a certain size)? and to delete the logs when the max number of logs reaches x log files?\r\n\r\nSimilar behavior as logback for Java spring boot logs for example...","title":"Quickfix/J: message logs archiving and clean up","body":"<p>When running a Java application with QuickFix/J library, is it possible to configure the Quickfix/J logs to be archived every midnight (or when we reach a certain size)? and to delete the logs when the max number of logs reaches x log files?</p>\n<p>Similar behavior as logback for Java spring boot logs for example...</p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":9578335,"reputation":457,"user_id":7113627,"accept_rate":90,"display_name":"Prabhav"},"score":0,"creation_date":1522229928,"post_id":49530670,"comment_id":86067995,"body_markdown":"{ is missing in  quotes","body":"{ is missing in  quotes"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":1,"creation_date":1522238095,"post_id":49530670,"comment_id":86073890,"body_markdown":"You did not share the full code what exactly you are doing. Did you test your code if it is working with master realm or not?","body":"You did not share the full code what exactly you are doing. Did you test your code if it is working with master realm or not?"}],"answers":[{"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522503154,"creation_date":1522229526,"answer_id":49530927,"question_id":49530670,"body_markdown":"Use the below line of code\r\n\r\n\r\n     RoleRepresentation testerRealmRole =\r\n     realmResource.roles().get(&quot;{rolename}&quot;).toRepresentation();","title":"Getting 403 forbidden","body":"<p>Use the below line of code</p>\n\n<pre><code> RoleRepresentation testerRealmRole =\n realmResource.roles().get(\"{rolename}\").toRepresentation();\n</code></pre>\n"}],"owner":{"account_id":10212782,"reputation":667,"user_id":7539387,"accept_rate":40,"display_name":"Programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2935,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684485628,"creation_date":1522228889,"question_id":49530670,"body_markdown":"I am trying to create the users in keycloak from java application. I am able to create users and also assign roles to the newly created users in the master realm. I have created my own realm and also added some roles in the newly created realm. While adding the users and assigning roles to the newly created users I am getting the below exception           \r\n`javax.ws.rs.ForbiddenException: HTTP 403 Forbidden`\r\n\r\nI am getting an exception in the below line        \r\n`RoleRepresentation testerRealmRole = realmResource.roles().get(&quot;rolename}&quot;).toRepresentation();`\r\n\r\nI have created the {rolename} in the realm. I am not able to find what is missing. Please, anyone, help me. Thanks in advance","title":"Getting 403 forbidden","body":"<p>I am trying to create the users in keycloak from java application. I am able to create users and also assign roles to the newly created users in the master realm. I have created my own realm and also added some roles in the newly created realm. While adding the users and assigning roles to the newly created users I am getting the below exception<br>\n<code>javax.ws.rs.ForbiddenException: HTTP 403 Forbidden</code></p>\n\n<p>I am getting an exception in the below line<br>\n<code>RoleRepresentation testerRealmRole = realmResource.roles().get(\"rolename}\").toRepresentation();</code></p>\n\n<p>I have created the {rolename} in the realm. I am not able to find what is missing. Please, anyone, help me. Thanks in advance</p>\n"},{"tags":["java","transactions","isolation-level"],"comments":[{"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"score":5,"creation_date":1443351005,"post_id":16162357,"comment_id":53451125,"body_markdown":"This completely depends on database. Different database may use different algorithms for isolation levels. Some may use MVCC (no locks on select queries), some use strict 2 phase locking (shared and exclusive locks).","body":"This completely depends on database. Different database may use different algorithms for isolation levels. Some may use MVCC (no locks on select queries), some use strict 2 phase locking (shared and exclusive locks)."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":1,"up_vote_count":179,"is_accepted":true,"score":178,"last_activity_date":1551266558,"creation_date":1366698412,"answer_id":16162426,"question_id":16162357,"body_markdown":"&gt; **I want to understand** the lock each transaction isolation takes on the table\r\n\r\nFor example, you have 3 concurrent processes A, B and C. A starts a transaction, writes data and commit/rollback (depending on results). B just executes a `SELECT` statement to read data. C reads and updates data. All these process work on the same table T.\r\n\r\n- **READ UNCOMMITTED** - no lock on the table. You can read data in the table while writing on it. This means A writes data (uncommitted) and B can read this uncommitted data and use it (for any purpose). If A executes a rollback, B still has read the data and used it. This is the fastest but most insecure way to work with data since can lead to data holes in not physically related tables (yes, two tables can be logically but not physically related in real-world apps =\\\\).\r\n- **READ COMMITTED** - lock on committed data. You can read the data that was only committed. This means A writes data and B can&#39;t read the data saved by A until A executes a commit. The problem here is that C can update data that was read and used on B and B client won&#39;t have the updated data.\r\n- **REPEATABLE READ** - lock on a block of SQL(which is selected by using select query). This means B reads the data under some condition i.e. `WHERE aField &gt; 10 AND aField &lt; 20`, A inserts data where `aField` value is between 10 and 20, then B reads the data again and get a different result.\r\n- **SERIALIZABLE** - lock on a full table(on which Select query is fired). This means, B reads the data and **no other transaction can modify the data** on the table. This is the most secure but slowest way to work with data. Also, since a simple read operation locks **the table**, this can lead to heavy problems on production: imagine that T table is an Invoice table, user X wants to know the invoices of the day and user Y wants to create a new invoice, so while X executes the read of the invoices, Y can&#39;t add a new invoice (and when it&#39;s about money, people get really mad, especially the bosses). \r\n\r\n\r\n&gt; **I want to understand** where we define these isolation levels: only at JDBC/hibernate level or in DB also\r\n\r\nUsing JDBC, you define it using [`Connection#setTransactionIsolation`](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#setTransactionIsolation(int)).\r\n\r\nUsing Hibernate:\r\n\r\n    &lt;property name=&quot;hibernate.connection.isolation&quot;&gt;2&lt;/property&gt;\r\n\r\nWhere\r\n\r\n- 1: READ UNCOMMITTED\r\n- 2: READ COMMITTED\r\n- 4: REPEATABLE READ\r\n- 8: SERIALIZABLE\r\n\r\nHibernate configuration is taken from [here](http://federicovarela.blogspot.com/2008/01/isolation-level-en-hibernate.html) (sorry, it&#39;s in Spanish).\r\n\r\nBy the way, you can set the isolation level on RDBMS as well:\r\n\r\n- [MySQL isolation level](http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html), \r\n- [SQL Server isolation level](http://msdn.microsoft.com/en-us/library/ms173763(v=sql.110).aspx)\r\n- [Informix isolation level](http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqlt.doc/sqltmst239.htm) (Personal Note: I will never forget about `SET ISOLATION TO DIRTY READ` sentence.)\r\n\r\nand on and on...\r\n","title":"Transaction isolation levels relation with locks on table","body":"<blockquote>\n  <p><strong>I want to understand</strong> the lock each transaction isolation takes on the table</p>\n</blockquote>\n\n<p>For example, you have 3 concurrent processes A, B and C. A starts a transaction, writes data and commit/rollback (depending on results). B just executes a <code>SELECT</code> statement to read data. C reads and updates data. All these process work on the same table T.</p>\n\n<ul>\n<li><strong>READ UNCOMMITTED</strong> - no lock on the table. You can read data in the table while writing on it. This means A writes data (uncommitted) and B can read this uncommitted data and use it (for any purpose). If A executes a rollback, B still has read the data and used it. This is the fastest but most insecure way to work with data since can lead to data holes in not physically related tables (yes, two tables can be logically but not physically related in real-world apps =\\).</li>\n<li><strong>READ COMMITTED</strong> - lock on committed data. You can read the data that was only committed. This means A writes data and B can't read the data saved by A until A executes a commit. The problem here is that C can update data that was read and used on B and B client won't have the updated data.</li>\n<li><strong>REPEATABLE READ</strong> - lock on a block of SQL(which is selected by using select query). This means B reads the data under some condition i.e. <code>WHERE aField &gt; 10 AND aField &lt; 20</code>, A inserts data where <code>aField</code> value is between 10 and 20, then B reads the data again and get a different result.</li>\n<li><strong>SERIALIZABLE</strong> - lock on a full table(on which Select query is fired). This means, B reads the data and <strong>no other transaction can modify the data</strong> on the table. This is the most secure but slowest way to work with data. Also, since a simple read operation locks <strong>the table</strong>, this can lead to heavy problems on production: imagine that T table is an Invoice table, user X wants to know the invoices of the day and user Y wants to create a new invoice, so while X executes the read of the invoices, Y can't add a new invoice (and when it's about money, people get really mad, especially the bosses). </li>\n</ul>\n\n<blockquote>\n  <p><strong>I want to understand</strong> where we define these isolation levels: only at JDBC/hibernate level or in DB also</p>\n</blockquote>\n\n<p>Using JDBC, you define it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#setTransactionIsolation(int)\" rel=\"noreferrer\"><code>Connection#setTransactionIsolation</code></a>.</p>\n\n<p>Using Hibernate:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.isolation\"&gt;2&lt;/property&gt;\n</code></pre>\n\n<p>Where</p>\n\n<ul>\n<li>1: READ UNCOMMITTED</li>\n<li>2: READ COMMITTED</li>\n<li>4: REPEATABLE READ</li>\n<li>8: SERIALIZABLE</li>\n</ul>\n\n<p>Hibernate configuration is taken from <a href=\"http://federicovarela.blogspot.com/2008/01/isolation-level-en-hibernate.html\" rel=\"noreferrer\">here</a> (sorry, it's in Spanish).</p>\n\n<p>By the way, you can set the isolation level on RDBMS as well:</p>\n\n<ul>\n<li><a href=\"http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html\" rel=\"noreferrer\">MySQL isolation level</a>, </li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms173763(v=sql.110).aspx\" rel=\"noreferrer\">SQL Server isolation level</a></li>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqlt.doc/sqltmst239.htm\" rel=\"noreferrer\">Informix isolation level</a> (Personal Note: I will never forget about <code>SET ISOLATION TO DIRTY READ</code> sentence.)</li>\n</ul>\n\n<p>and on and on...</p>\n"},{"tags":[],"owner":{"account_id":6699622,"reputation":1259,"user_id":5166587,"display_name":"Goyal Vicky"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662600319,"creation_date":1438717794,"answer_id":31818012,"question_id":16162357,"body_markdown":"The locks are always taken at DB level.\r\n\r\nFrom [Oracle official document][1]:\r\n\r\n&gt; To avoid conflicts during a transaction, a DBMS uses locks, mechanisms for blocking access by others to the data that is being accessed by the transaction. (Note that in auto-commit mode, where each statement is a transaction, locks are held for only one statement.) After a lock is set, it remains in force until the transaction is committed or rolled back. For example, a DBMS could lock a row of a table until updates to it have been committed. The effect of this lock would be to prevent a user from getting a dirty read, that is, reading a value before it is made permanent. (Accessing an updated value that has not been committed is considered a *dirty read* because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.)\r\n&gt; \r\n&gt; How locks are set is determined by what is called a transaction isolation level, which can range from not supporting transactions at all to supporting transactions that enforce very strict access rules.\r\n&gt; \r\n&gt; One example of a transaction isolation level is `TRANSACTION_READ_COMMITTED`, which will not allow a value to be accessed until after it has been committed. In other words, if the transaction isolation level is set to `TRANSACTION_READ_COMMITTED`, the DBMS does not allow dirty reads to occur. The interface `Connection` includes five values that represent the transaction isolation levels you can use in JDBC\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html","title":"Transaction isolation levels relation with locks on table","body":"<p>The locks are always taken at DB level.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">Oracle official document</a>:</p>\n<blockquote>\n<p>To avoid conflicts during a transaction, a DBMS uses locks, mechanisms for blocking access by others to the data that is being accessed by the transaction. (Note that in auto-commit mode, where each statement is a transaction, locks are held for only one statement.) After a lock is set, it remains in force until the transaction is committed or rolled back. For example, a DBMS could lock a row of a table until updates to it have been committed. The effect of this lock would be to prevent a user from getting a dirty read, that is, reading a value before it is made permanent. (Accessing an updated value that has not been committed is considered a <em>dirty read</em> because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.)</p>\n<p>How locks are set is determined by what is called a transaction isolation level, which can range from not supporting transactions at all to supporting transactions that enforce very strict access rules.</p>\n<p>One example of a transaction isolation level is <code>TRANSACTION_READ_COMMITTED</code>, which will not allow a value to be accessed until after it has been committed. In other words, if the transaction isolation level is set to <code>TRANSACTION_READ_COMMITTED</code>, the DBMS does not allow dirty reads to occur. The interface <code>Connection</code> includes five values that represent the transaction isolation levels you can use in JDBC</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1453828739,"creation_date":1453828739,"answer_id":35019843,"question_id":16162357,"body_markdown":"As brb tea says, depends on the database implementation and the algorithm they use: MVCC or Two Phase Locking.\r\n\r\nCUBRID (open source RDBMS) [explains][1] the idea of this two algorithms:\r\n\r\n&gt; - Two-phase locking (2PL)\r\n&gt; \r\n&gt; The first one is when the T2 transaction tries to change the A record,\r\n&gt; it knows that the T1 transaction has already changed the A record and\r\n&gt; waits until the T1 transaction is completed because the T2 transaction\r\n&gt; cannot know whether the T1 transaction will be committed or rolled\r\n&gt; back. This method is called Two-phase locking (2PL).\r\n&gt; \r\n&gt; - Multi-version concurrency control (MVCC)\r\n&gt; \r\n&gt; The other one is to allow each of them, T1 and T2 transactions, to\r\n&gt; have their own changed versions. Even when the T1 transaction has\r\n&gt; changed the A record from 1 to 2, the T1 transaction leaves the\r\n&gt; original value 1 as it is and writes that the T1 transaction version\r\n&gt; of the A record is 2. Then, the following T2 transaction changes the A\r\n&gt; record from 1 to 3, not from 2 to 4, and writes that the T2\r\n&gt; transaction version of the A record is 3.\r\n&gt; \r\n&gt; When the T1 transaction is rolled back, it does not matter if the 2,\r\n&gt; the T1 transaction version, is not applied to the A record. After\r\n&gt; that, if the T2 transaction is committed, the 3, the T2 transaction\r\n&gt; version, will be applied to the A record. If the T1 transaction is\r\n&gt; committed prior to the T2 transaction, the A record is changed to 2,\r\n&gt; and then to 3 at the time of committing the T2 transaction. The final\r\n&gt; database status is identical to the status of executing each\r\n&gt; transaction independently, without any impact on other transactions.\r\n&gt; Therefore, it satisfies the ACID property. This method is called\r\n&gt; Multi-version concurrency control (MVCC).\r\n\r\nThe MVCC allows concurrent modifications at the cost of increased overhead in memory (because it has to maintain different versions of the same data) and computation (in REPETEABLE_READ level you can&#39;t loose updates so it must check the versions of the data, like Hiberate does with [Optimistick Locking][2]).\r\n\r\nIn 2PL [Transaction isolation levels control the following][3]:\r\n\r\n\r\n&gt; - Whether locks are taken when data is read, and what type of locks are requested.\r\n&gt; \r\n&gt; - How long the read locks are held.\r\n&gt; \r\n&gt; - Whether a read operation referencing rows modified by another transaction:\r\n&gt; \r\n&gt;    - Block until the exclusive lock on the row is freed.\r\n&gt; \r\n&gt;    - Retrieve the committed version of the row that existed at the time the statement or transaction started.\r\n&gt; \r\n&gt;    - Read the uncommitted data modification.\r\n&gt; \r\n&gt; Choosing a transaction isolation level does not affect the locks that\r\n&gt; are acquired to protect data modifications. A transaction always gets\r\n&gt; an exclusive lock on any data it modifies and holds that lock until\r\n&gt; the transaction completes, regardless of the isolation level set for\r\n&gt; that transaction. For read operations, transaction isolation levels\r\n&gt; primarily define the level of protection from the effects of\r\n&gt; modifications made by other transactions.\r\n&gt; \r\n&gt; **A lower isolation level increases the ability of many users to access\r\n&gt; data at the same time, but increases the number of concurrency\r\n&gt; effects**, such as dirty reads or lost updates, that users might\r\n&gt; encounter.\r\n\r\nConcrete examples of the relation between locks and isolation levels in [SQL Server][4] (use 2PL except on READ_COMMITED with READ_COMMITTED_SNAPSHOT=ON)\r\n\r\n - READ_UNCOMMITED: do not issue shared locks to prevent other transactions from modifying data read by the current transaction. READ UNCOMMITTED transactions are also not blocked by exclusive locks that would prevent the current transaction from reading rows that have been modified but not committed by other transactions. [...]\r\n\r\n - READ_COMMITED: \r\n\r\n   - If READ_COMMITTED_SNAPSHOT is set to OFF (the default): uses shared locks to prevent other transactions from modifying rows while the current transaction is running a read operation. The shared locks also block the statement from reading rows modified by other transactions until the other transaction is completed. [...]  Row locks are released before the next row is processed. [...]\r\n   - If READ_COMMITTED_SNAPSHOT is set to ON, the Database Engine uses row versioning to present each statement with a transactionally consistent snapshot of the data as it existed at the start of the statement. Locks are not used to protect the data from updates by other transactions.\r\n \r\n - REPETEABLE_READ: Shared locks are placed on all data read by each statement in the transaction and are held until the transaction completes.\r\n\r\n - SERIALIZABLE: Range locks are placed in the range of key values that match the search conditions of each statement executed in a transaction. [...] The range locks are held until the transaction completes.\r\n\r\n\r\n  [1]: http://www.cubrid.org/blog/cubrid-life/all-about-two-phase-locking-and-a-little-bit-mvcc/\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch13.html#transactions-optimistic\r\n  [3]: https://msdn.microsoft.com/en-us/library/ms378149%28v=sql.110%29.aspx\r\n  [4]: https://msdn.microsoft.com/en-us/library/ms173763.aspx","title":"Transaction isolation levels relation with locks on table","body":"<p>As brb tea says, depends on the database implementation and the algorithm they use: MVCC or Two Phase Locking.</p>\n\n<p>CUBRID (open source RDBMS) <a href=\"http://www.cubrid.org/blog/cubrid-life/all-about-two-phase-locking-and-a-little-bit-mvcc/\" rel=\"noreferrer\">explains</a> the idea of this two algorithms:</p>\n\n<blockquote>\n  <ul>\n  <li>Two-phase locking (2PL)</li>\n  </ul>\n  \n  <p>The first one is when the T2 transaction tries to change the A record,\n  it knows that the T1 transaction has already changed the A record and\n  waits until the T1 transaction is completed because the T2 transaction\n  cannot know whether the T1 transaction will be committed or rolled\n  back. This method is called Two-phase locking (2PL).</p>\n  \n  <ul>\n  <li>Multi-version concurrency control (MVCC)</li>\n  </ul>\n  \n  <p>The other one is to allow each of them, T1 and T2 transactions, to\n  have their own changed versions. Even when the T1 transaction has\n  changed the A record from 1 to 2, the T1 transaction leaves the\n  original value 1 as it is and writes that the T1 transaction version\n  of the A record is 2. Then, the following T2 transaction changes the A\n  record from 1 to 3, not from 2 to 4, and writes that the T2\n  transaction version of the A record is 3.</p>\n  \n  <p>When the T1 transaction is rolled back, it does not matter if the 2,\n  the T1 transaction version, is not applied to the A record. After\n  that, if the T2 transaction is committed, the 3, the T2 transaction\n  version, will be applied to the A record. If the T1 transaction is\n  committed prior to the T2 transaction, the A record is changed to 2,\n  and then to 3 at the time of committing the T2 transaction. The final\n  database status is identical to the status of executing each\n  transaction independently, without any impact on other transactions.\n  Therefore, it satisfies the ACID property. This method is called\n  Multi-version concurrency control (MVCC).</p>\n</blockquote>\n\n<p>The MVCC allows concurrent modifications at the cost of increased overhead in memory (because it has to maintain different versions of the same data) and computation (in REPETEABLE_READ level you can't loose updates so it must check the versions of the data, like Hiberate does with <a href=\"http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch13.html#transactions-optimistic\" rel=\"noreferrer\">Optimistick Locking</a>).</p>\n\n<p>In 2PL <a href=\"https://msdn.microsoft.com/en-us/library/ms378149%28v=sql.110%29.aspx\" rel=\"noreferrer\">Transaction isolation levels control the following</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Whether locks are taken when data is read, and what type of locks are requested.</p></li>\n  <li><p>How long the read locks are held.</p></li>\n  <li><p>Whether a read operation referencing rows modified by another transaction:</p>\n  \n  <ul>\n  <li><p>Block until the exclusive lock on the row is freed.</p></li>\n  <li><p>Retrieve the committed version of the row that existed at the time the statement or transaction started.</p></li>\n  <li><p>Read the uncommitted data modification.</p></li>\n  </ul></li>\n  </ul>\n  \n  <p>Choosing a transaction isolation level does not affect the locks that\n  are acquired to protect data modifications. A transaction always gets\n  an exclusive lock on any data it modifies and holds that lock until\n  the transaction completes, regardless of the isolation level set for\n  that transaction. For read operations, transaction isolation levels\n  primarily define the level of protection from the effects of\n  modifications made by other transactions.</p>\n  \n  <p><strong>A lower isolation level increases the ability of many users to access\n  data at the same time, but increases the number of concurrency\n  effects</strong>, such as dirty reads or lost updates, that users might\n  encounter.</p>\n</blockquote>\n\n<p>Concrete examples of the relation between locks and isolation levels in <a href=\"https://msdn.microsoft.com/en-us/library/ms173763.aspx\" rel=\"noreferrer\">SQL Server</a> (use 2PL except on READ_COMMITED with READ_COMMITTED_SNAPSHOT=ON)</p>\n\n<ul>\n<li><p>READ_UNCOMMITED: do not issue shared locks to prevent other transactions from modifying data read by the current transaction. READ UNCOMMITTED transactions are also not blocked by exclusive locks that would prevent the current transaction from reading rows that have been modified but not committed by other transactions. [...]</p></li>\n<li><p>READ_COMMITED: </p>\n\n<ul>\n<li>If READ_COMMITTED_SNAPSHOT is set to OFF (the default): uses shared locks to prevent other transactions from modifying rows while the current transaction is running a read operation. The shared locks also block the statement from reading rows modified by other transactions until the other transaction is completed. [...]  Row locks are released before the next row is processed. [...]</li>\n<li>If READ_COMMITTED_SNAPSHOT is set to ON, the Database Engine uses row versioning to present each statement with a transactionally consistent snapshot of the data as it existed at the start of the statement. Locks are not used to protect the data from updates by other transactions.</li>\n</ul></li>\n<li><p>REPETEABLE_READ: Shared locks are placed on all data read by each statement in the transaction and are held until the transaction completes.</p></li>\n<li><p>SERIALIZABLE: Range locks are placed in the range of key values that match the search conditions of each statement executed in a transaction. [...] The range locks are held until the transaction completes.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28626797,"reputation":1,"user_id":21918633,"display_name":"cherryCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484828,"creation_date":1684484828,"answer_id":76287312,"question_id":16162357,"body_markdown":"Regarding READ COMMITTED -  I think a better example to demonstrate it is as follows：\r\n\r\nAssume:\r\ndata a =10;\r\nThread A ，B，C\r\n1. A execute A = A+1 ==》 A = 11 ;\r\nIn the meantime，B and C tries to update that data but waits because of the lock.\r\n2. A commit data after ,B query A = 11 , In the meantime ,C update A = A +1 = 12,  The problem here that is B query A = 12 again，Two queries with inconsistent data in the same transaction\r\n\r\nCorrect me if I&#39;m wrong.","title":"Transaction isolation levels relation with locks on table","body":"<p>Regarding READ COMMITTED -  I think a better example to demonstrate it is as follows：</p>\n<p>Assume:\ndata a =10;\nThread A ，B，C</p>\n<ol>\n<li>A execute A = A+1 ==》 A = 11 ;\nIn the meantime，B and C tries to update that data but waits because of the lock.</li>\n<li>A commit data after ,B query A = 11 , In the meantime ,C update A = A +1 = 12,  The problem here that is B query A = 12 again，Two queries with inconsistent data in the same transaction</li>\n</ol>\n<p>Correct me if I'm wrong.</p>\n"}],"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120535,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":16162426,"answer_count":4,"score":123,"last_activity_date":1684484828,"creation_date":1366698160,"question_id":16162357,"body_markdown":"I have read about 4 levels of isolation:\r\n   \r\n\r\n    Isolation Level \t  Dirty Read   \tNonrepeatable Read \tPhantom Read  \r\n    READ UNCOMMITTED \t  Permitted \t  Permitted \t      Permitted\r\n    READ COMMITTED           \t-- \t      Permitted \t      Permitted\r\n    REPEATABLE READ \t        -- \t           -- \t          Permitted\r\n    SERIALIZABLE \t            -- \t           -- \t           --\r\n\r\n**I want to understand** the lock each transaction isolation takes on the table  \r\n\r\n    READ UNCOMMITTED - no lock on table\r\n    READ COMMITTED - lock on committed data\r\n    REPEATABLE READ - lock on block of sql(which is selected by using select query)\r\n    SERIALIZABLE - lock on full table(on which Select query is fired)\r\n\r\nbelow are the three phenomena which can occur in transaction isolation\r\n&lt;br&gt;\r\n&lt;i&gt;Dirty Read&lt;/i&gt;- no lock\r\n&lt;br&gt;\r\n&lt;i&gt;Nonrepeatable Read&lt;/i&gt; - no dirty read as lock on committed data\r\n&lt;br&gt;\r\n&lt;i&gt;Phantom Read&lt;/i&gt; - lock on block of sql(which is selected by using select query)  \r\n\r\n**I want to understand** where we define these isolation levels : only at jdbc/hibernate level or in DB also  \r\n\r\nPS: I have gone through the links in https://stackoverflow.com/questions/13647604/isolation-levels-in-oracle, but they looks clumsy and talk on database specific \r\n\r\n","title":"Transaction isolation levels relation with locks on table","body":"<p>I have read about 4 levels of isolation:</p>\n\n<pre><code>Isolation Level       Dirty Read    Nonrepeatable Read  Phantom Read  \nREAD UNCOMMITTED      Permitted       Permitted           Permitted\nREAD COMMITTED              --        Permitted           Permitted\nREPEATABLE READ             --             --             Permitted\nSERIALIZABLE                --             --              --\n</code></pre>\n\n<p><strong>I want to understand</strong> the lock each transaction isolation takes on the table  </p>\n\n<pre><code>READ UNCOMMITTED - no lock on table\nREAD COMMITTED - lock on committed data\nREPEATABLE READ - lock on block of sql(which is selected by using select query)\nSERIALIZABLE - lock on full table(on which Select query is fired)\n</code></pre>\n\n<p>below are the three phenomena which can occur in transaction isolation\n<br>\n<i>Dirty Read</i>- no lock\n<br>\n<i>Nonrepeatable Read</i> - no dirty read as lock on committed data\n<br>\n<i>Phantom Read</i> - lock on block of sql(which is selected by using select query)  </p>\n\n<p><strong>I want to understand</strong> where we define these isolation levels : only at jdbc/hibernate level or in DB also  </p>\n\n<p>PS: I have gone through the links in <a href=\"https://stackoverflow.com/questions/13647604/isolation-levels-in-oracle\">Isolation levels in oracle</a>, but they looks clumsy and talk on database specific </p>\n"},{"tags":["java","eclipse","syntax","lwjgl","java-package"],"comments":[{"owner":{"account_id":7322082,"reputation":205320,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1683957653,"post_id":76241169,"comment_id":134449351,"body_markdown":"This is not a problem with OpenGL itself or with the OpenGL API.","body":"This is not a problem with OpenGL itself or with the OpenGL API."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1683957995,"post_id":76241169,"comment_id":134449375,"body_markdown":"Does this help? `import static fully.qualified.path.GL11.*;`","body":"Does this help? <code>import static fully.qualified.path.GL11.*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484596,"creation_date":1684484596,"answer_id":76287286,"question_id":76241169,"body_markdown":"To reference static methods with qualifying them with the class name, eg `glEnable(x)` instead of `GL11.glEnable(x)`, you must import the static methods, either individually or all of them:\r\n\r\n    import static fully.qualified.path.GL11.*;\r\n\r\n","title":"Java OpenGL Syntax","body":"<p>To reference static methods with qualifying them with the class name, eg <code>glEnable(x)</code> instead of <code>GL11.glEnable(x)</code>, you must import the static methods, either individually or all of them:</p>\n<pre><code>import static fully.qualified.path.GL11.*;\n</code></pre>\n"}],"owner":{"account_id":28592432,"reputation":1,"user_id":21891337,"display_name":"DargPhoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684484596,"creation_date":1683954647,"question_id":76241169,"body_markdown":"i am new here and have a little problem.\r\nI included OpenGl into eclipse and tried to run a little test program and everything is working fine as it should, but i have a problem with the syntax.\r\n\r\nHere is a little example :\r\n\r\n```\r\nGL11.glEnable(GL11.GL_DEPTH_TEST);\r\nGL11.glMatrixMode(GL11.GL_PROJECTION);\r\nGL11.glLoadIdentity();\r\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f,1000f);\r\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\r\n```\r\n\r\nAs far as i remember i didnt have to call the GL version everytime and should look like this :\r\n\r\n        \r\n```\r\nglEnable(GL_DEPTH_TEST);\r\nglMatrixMode(GL_PROJECTION);\r\nglLoadIdentity();\r\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f, 1000f);\r\nglMatrixMode(GL_MODELVIEW);\r\n```\r\n\r\n\r\nI havnt found any answer out there because for everyone it seems to work from scratch. I start to believe that i did a mistake while including opengl into eclipse but i did it like i did it back at university.\r\n\r\n[java build path](https://i.stack.imgur.com/2HLfX.png)\r\n\r\nHopefully someone knows what i can do or not do :D\r\n\r\nI tried following tutorials on youtube and they all use the second codeblock and even if i follow the same libraries it doesnt work for me while it works in the tutorial ???\r\nI tried different build paths and didnt change anything.\r\nI tried to change the library version but didnt do anything either.\r\n\r\n","title":"Java OpenGL Syntax","body":"<p>i am new here and have a little problem.\nI included OpenGl into eclipse and tried to run a little test program and everything is working fine as it should, but i have a problem with the syntax.</p>\n<p>Here is a little example :</p>\n<pre><code>GL11.glEnable(GL11.GL_DEPTH_TEST);\nGL11.glMatrixMode(GL11.GL_PROJECTION);\nGL11.glLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f,1000f);\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\n</code></pre>\n<p>As far as i remember i didnt have to call the GL version everytime and should look like this :</p>\n<pre><code>glEnable(GL_DEPTH_TEST);\nglMatrixMode(GL_PROJECTION);\nglLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f, 1000f);\nglMatrixMode(GL_MODELVIEW);\n</code></pre>\n<p>I havnt found any answer out there because for everyone it seems to work from scratch. I start to believe that i did a mistake while including opengl into eclipse but i did it like i did it back at university.</p>\n<p><a href=\"https://i.stack.imgur.com/2HLfX.png\" rel=\"nofollow noreferrer\">java build path</a></p>\n<p>Hopefully someone knows what i can do or not do :D</p>\n<p>I tried following tutorials on youtube and they all use the second codeblock and even if i follow the same libraries it doesnt work for me while it works in the tutorial ???\nI tried different build paths and didnt change anything.\nI tried to change the library version but didnt do anything either.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":2039154,"reputation":702,"user_id":1820778,"display_name":"Pedro"},"score":1,"creation_date":1684488198,"post_id":76287246,"comment_id":134527866,"body_markdown":"The configuration inside the plugin is applied whenever you use maven to start your application (either from your IDE or from the command line: &quot;mvn spring-boot:run&quot;). However, once the jar has been generated and you want to run it from the command line. Then you need to state the parameters in the command line.  You can find here a better explanation: https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar","body":"The configuration inside the plugin is applied whenever you use maven to start your application (either from your IDE or from the command line: &quot;mvn spring-boot:run&quot;). However, once the jar has been generated and you want to run it from the command line. Then you need to state the parameters in the command line.  You can find here a better explanation: <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-run-maven-vs-executable-jar</a>"}],"owner":{"account_id":28633655,"reputation":3,"user_id":21924172,"display_name":"Noobgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684484149,"creation_date":1684484149,"question_id":76287246,"body_markdown":"What difference between pom.xml jvmargs and java plain args?\r\n\r\nHi,\r\n\r\nI want know abount what&#39;s difference betwwen \r\n \r\n```\r\n   &lt;plugin&gt;\r\n        &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\r\n        &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt;\r\n        &lt;configuration&gt;\r\n            &lt;jvmarguments&gt;\r\n                -Xms1024m -Xmx1024m\r\n            &lt;/jvmarguments&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```\r\nand \r\n\r\n```\r\njava -Xms1024m -Xmx1024m runnable.jar\r\n```\r\n\r\nSome people told me use both of them,\r\n\r\nIs that necessary?","title":"Difference betweem Maven jvmarg and jvm args command","body":"<p>What difference between pom.xml jvmargs and java plain args?</p>\n<p>Hi,</p>\n<p>I want know abount what's difference betwwen</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\n        &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt;\n        &lt;configuration&gt;\n            &lt;jvmarguments&gt;\n                -Xms1024m -Xmx1024m\n            &lt;/jvmarguments&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<p>and</p>\n<pre><code>java -Xms1024m -Xmx1024m runnable.jar\n</code></pre>\n<p>Some people told me use both of them,</p>\n<p>Is that necessary?</p>\n"},{"tags":["java","spring","junit","junit5","springmockito"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684427771,"post_id":76282637,"comment_id":134519304,"body_markdown":"Hello, it looks like you don&#39;t understand the idea of mocking real classes in unit tests. Your tests look more like integration tests and not unit tests. I recommend reading some tutorials first.","body":"Hello, it looks like you don&#39;t understand the idea of mocking real classes in unit tests. Your tests look more like integration tests and not unit tests. I recommend reading some tutorials first."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684428226,"creation_date":1684428226,"answer_id":76282833,"question_id":76282637,"body_markdown":" 1. You don&#39;t need to use openMocks(). The annotation @ExtendWith(MockitoExtension.class) already did it for you.\r\n 2. You didn&#39;t stub any of the behavior for your dependencies.\r\n 3. Remove after and before methods. if you want to create Instances for your User and Dto just use private methods. You do not need to create it after every test.\r\n\r\nHere is my example of how it should look. If it worked then you can start refactoring:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class UserServiceTest {\r\n    \r\n        @Mock\r\n        private UserDAO userDAO;\r\n    \r\n        @Mock\r\n        private ModelMapper modelMapper;\r\n    \r\n        @InjectMocks\r\n        private UserService userService;\r\n    \r\n        @Test\r\n        public void testFindUser() {\r\n            // Arrange\r\n            String username = &quot;testUser&quot;;\r\n            User user = User.builder()\r\n                    .id(1)\r\n                    .username(username)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n            when(userDAO.findUserByUsername(username)).thenReturn(user);\r\n    \r\n            UserDTO expectedDto = UserDTO.builder()\r\n                    .id(1)\r\n                    .username(username)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n            when(userDTOMapper.apply(user)).thenReturn(expectedDto);\r\n            \r\n            UserDTO result = userService.findUser(username);\r\n            \r\n            assertEquals(expectedDto, result);\r\n        }\r\n    \r\n        @Test\r\n        public void testConvertToDto() {\r\n            // Arrange\r\n            User user = User.builder()\r\n                    .id(1)\r\n                    .username(&quot;testUser&quot;)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            UserDTO expectedDto = UserDTO.builder()\r\n                    .id(1)\r\n                    .username(&quot;testUser&quot;)\r\n                    .firstname(&quot;John&quot;)\r\n                    .surname(&quot;Doe&quot;)\r\n                    .email(&quot;johndoe@example.com&quot;)\r\n                    .phoneNumber(&quot;123456789&quot;)\r\n                    .role(Role.USER)\r\n                    .build();\r\n    \r\n            when(modelMapper.map(user, UserDTO.class)).thenReturn(expectedDto);\r\n            \r\n            UserDTO result = userService.convertToDto(user);\r\n    \r\n            assertEquals(expectedDto, result);\r\n        }\r\n\r\n}\r\n\r\n\r\n","title":"Mock object is null in JUnit Test","body":"<ol>\n<li>You don't need to use openMocks(). The annotation @ExtendWith(MockitoExtension.class) already did it for you.</li>\n<li>You didn't stub any of the behavior for your dependencies.</li>\n<li>Remove after and before methods. if you want to create Instances for your User and Dto just use private methods. You do not need to create it after every test.</li>\n</ol>\n<p>Here is my example of how it should look. If it worked then you can start refactoring:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserDAO userDAO;\n\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private UserService userService;\n\n    @Test\n    public void testFindUser() {\n        // Arrange\n        String username = &quot;testUser&quot;;\n        User user = User.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDAO.findUserByUsername(username)).thenReturn(user);\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDTOMapper.apply(user)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.findUser(username);\n        \n        assertEquals(expectedDto, result);\n    }\n\n    @Test\n    public void testConvertToDto() {\n        // Arrange\n        User user = User.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        when(modelMapper.map(user, UserDTO.class)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.convertToDto(user);\n\n        assertEquals(expectedDto, result);\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684440164,"creation_date":1684440164,"answer_id":76284103,"question_id":76282637,"body_markdown":"I can see you have an answer to your question already. \r\n\r\nBut here is what **&quot;mocking&quot;** and **&quot;stubbing&quot;** mean in simple words. By mocking your object, you tell the compiler to create a nullified version of the real instance of that object. So while using the methods of that instance, you might get a **NPE** or the method might return the default value of the return data type. Hence, stubbing comes in handy in this case. By using when() method of *Mockito*, you will teach *Mockito* how to act upon method calls, whether it should throw an exception, or it should call the real method, or it should do nothing.\r\n\r\nThink of JUnit and Mockito as a 4 year-old kid. When you assign a task to that kid, he might not be able to operate on his own, but he might need some instructions to do something.","title":"Mock object is null in JUnit Test","body":"<p>I can see you have an answer to your question already.</p>\n<p>But here is what <strong>&quot;mocking&quot;</strong> and <strong>&quot;stubbing&quot;</strong> mean in simple words. By mocking your object, you tell the compiler to create a nullified version of the real instance of that object. So while using the methods of that instance, you might get a <strong>NPE</strong> or the method might return the default value of the return data type. Hence, stubbing comes in handy in this case. By using when() method of <em>Mockito</em>, you will teach <em>Mockito</em> how to act upon method calls, whether it should throw an exception, or it should call the real method, or it should do nothing.</p>\n<p>Think of JUnit and Mockito as a 4 year-old kid. When you assign a task to that kid, he might not be able to operate on his own, but he might need some instructions to do something.</p>\n"}],"owner":{"account_id":28629241,"reputation":3,"user_id":21920634,"display_name":"caspian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76282833,"answer_count":2,"score":0,"last_activity_date":1684484116,"creation_date":1684426635,"question_id":76282637,"body_markdown":"I design the test in JUnit using Mockito. The problem is in the following Test:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceTest {\r\n    \r\n    @InjectMocks\r\n    private UserService userService;\r\n    @Mock\r\n    private UserDAO userDAO;\r\n    @Mock\r\n    private ModelMapper modelMapper;\r\n    @Mock\r\n    private UserDTOMapper userDTOMapper;\r\n\r\n    private User user;\r\n    private UserDTO userDTO;\r\n\r\n    private AutoCloseable closeable;\r\n\r\n    @BeforeTestMethod\r\n    public void initMocks(){\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        userDTO = UserDTO.builder()\r\n                .username(&quot;johnny&quot;)\r\n                .firstname(&quot;John&quot;)\r\n                .surname(&quot;Rogers&quot;)\r\n                .email(&quot;john@gmail.com&quot;)\r\n                .phoneNumber(&quot;0123456789&quot;)\r\n                .role(Role.ADMIN).build();\r\n        user = User.builder()\r\n                .username(&quot;johnny&quot;)\r\n                .password(&quot;johnny123&quot;)\r\n                .firstname(&quot;John&quot;)\r\n                .surname(&quot;Rogers&quot;)\r\n                .email(&quot;john@gmail.com&quot;)\r\n                .phoneNumber(&quot;0123456789&quot;)\r\n                .role(Role.ADMIN).build();\r\n    }\r\n\r\n    @Test\r\n    void findUser() {\r\n        userDao.sace(user);\r\n        assertEquals(userDTO, userService.findUser(user.getUsername()));\r\n    }\r\n\r\n    @Test\r\n    void convertToDto() {\r\n        assertEquals(userDTO, userDTOMapper.apply(user));\r\n    }\r\n\r\n\r\n    @AfterTestMethod\r\n    public void releaseMocks() throws Exception {\r\n        closeable.close();\r\n    }\r\n}\r\n```\r\n\r\nThe test is for this service class:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n\r\n    private final UserDAO userDAO;\r\n    private final ModelMapper modelMapper;\r\n    private final UserDTOMapper userDTOMapper;\r\n\r\n    public UserDTO findUser(String username) {\r\n        User user = userDAO.findUserByUsername(username);\r\n        return userDTOMapper.apply(user);\r\n    }\r\n\r\n    public UserDTO convertToDto(User user) {\r\n        return modelMapper.map(user, UserDTO.class);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :UserDTO(id=0, username=johnny, firstname=John, surname=Rogers, email=john@gmail.com, phoneNumber=0123456789, role=USER)\r\nActual   :null\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\r\n```\r\n\r\nI&#39;m not really sure what&#39;s the problem or am I doing something wrong? At first, I thought that the problem is in &quot;@RequiredArgsConstructor&quot; annotation, but that&#39;s not a problem. I&#39;m sure that the solution is something simple, but I don&#39;t really understand why **all the mocked objects are NULL**","title":"Mock object is null in JUnit Test","body":"<p>I design the test in JUnit using Mockito. The problem is in the following Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    \n    @InjectMocks\n    private UserService userService;\n    @Mock\n    private UserDAO userDAO;\n    @Mock\n    private ModelMapper modelMapper;\n    @Mock\n    private UserDTOMapper userDTOMapper;\n\n    private User user;\n    private UserDTO userDTO;\n\n    private AutoCloseable closeable;\n\n    @BeforeTestMethod\n    public void initMocks(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @BeforeEach\n    void setUp() {\n        userDTO = UserDTO.builder()\n                .username(&quot;johnny&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n        user = User.builder()\n                .username(&quot;johnny&quot;)\n                .password(&quot;johnny123&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n    }\n\n    @Test\n    void findUser() {\n        userDao.sace(user);\n        assertEquals(userDTO, userService.findUser(user.getUsername()));\n    }\n\n    @Test\n    void convertToDto() {\n        assertEquals(userDTO, userDTOMapper.apply(user));\n    }\n\n\n    @AfterTestMethod\n    public void releaseMocks() throws Exception {\n        closeable.close();\n    }\n}\n</code></pre>\n<p>The test is for this service class:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n    private final UserDAO userDAO;\n    private final ModelMapper modelMapper;\n    private final UserDTOMapper userDTOMapper;\n\n    public UserDTO findUser(String username) {\n        User user = userDAO.findUserByUsername(username);\n        return userDTOMapper.apply(user);\n    }\n\n    public UserDTO convertToDto(User user) {\n        return modelMapper.map(user, UserDTO.class);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :UserDTO(id=0, username=johnny, firstname=John, surname=Rogers, email=john@gmail.com, phoneNumber=0123456789, role=USER)\nActual   :null\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\n</code></pre>\n<p>I'm not really sure what's the problem or am I doing something wrong? At first, I thought that the problem is in &quot;@RequiredArgsConstructor&quot; annotation, but that's not a problem. I'm sure that the solution is something simple, but I don't really understand why <strong>all the mocked objects are NULL</strong></p>\n"},{"tags":["java","spring","eclipse"],"comments":[{"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"score":0,"creation_date":1442987511,"post_id":32731672,"comment_id":53305198,"body_markdown":"possible duplicate of [Importing Dynamic Web Project into Eclipse](http://stackoverflow.com/questions/2972447/importing-dynamic-web-project-into-eclipse)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2972447/importing-dynamic-web-project-into-eclipse\">Importing Dynamic Web Project into Eclipse</a>"},{"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"score":0,"creation_date":1442987931,"post_id":32731672,"comment_id":53305365,"body_markdown":"I did it but still not working","body":"I did it but still not working"},{"owner":{"account_id":6851408,"reputation":129,"user_id":5268478,"display_name":"Divya Gopal"},"score":0,"creation_date":1459105796,"post_id":32731672,"comment_id":60132545,"body_markdown":"This may help. http://stackoverflow.com/questions/22601193/eclipse-maven-spring-server-error-when-i-try-to-run-as-server-tomcat-7","body":"This may help. <a href=\"http://stackoverflow.com/questions/22601193/eclipse-maven-spring-server-error-when-i-try-to-run-as-server-tomcat-7\" title=\"eclipse maven spring server error when i try to run as server tomcat 7\">stackoverflow.com/questions/22601193/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11987849,"reputation":186,"user_id":8771895,"display_name":"Zoica Grecu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1508222467,"creation_date":1508222467,"answer_id":46783956,"question_id":32731672,"body_markdown":"I know that is a bit late, but maybe helps someone in the future. \r\nGo to Project Facets and make sure you have select the properly java version(in my case should be 1.7 for weblogic 12.1.3) and the version for Dynamic Web Module(in my case should be 3.0, not bigger). \r\nTo make sure that your app will run, here in project facets, in Runtimes tab, it will be displayed your server.\r\nThis will work for sure ;)","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I know that is a bit late, but maybe helps someone in the future. \nGo to Project Facets and make sure you have select the properly java version(in my case should be 1.7 for weblogic 12.1.3) and the version for Dynamic Web Module(in my case should be 3.0, not bigger). \nTo make sure that your app will run, here in project facets, in Runtimes tab, it will be displayed your server.\nThis will work for sure ;)</p>\n"},{"tags":[],"owner":{"account_id":16965223,"reputation":11,"user_id":12271311,"display_name":"Abhishek Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571957076,"creation_date":1571957076,"answer_id":58550068,"question_id":32731672,"body_markdown":"Simple:   Right click on your project&gt; build path&gt; configure build path&gt;project facets&gt; change the version of java.(current version, which is installed in your computer)","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Simple:   Right click on your project> build path> configure build path>project facets> change the version of java.(current version, which is installed in your computer)</p>\n"},{"tags":[],"owner":{"account_id":17362364,"reputation":51,"user_id":12578314,"display_name":"Onkar Borade"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576998053,"creation_date":1576990828,"answer_id":59441726,"question_id":32731672,"body_markdown":"Right-click on project (alt + enter) &gt; properties &gt; project facts. \r\n\r\nMake sure that you have selected the checkbox of **Dynamic web module (3.0)** and select the proper **java version (1.8)**. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75lct.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Right-click on project (alt + enter) > properties > project facts. </p>\n\n<p>Make sure that you have selected the checkbox of <strong>Dynamic web module (3.0)</strong> and select the proper <strong>java version (1.8)</strong>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/75lct.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/75lct.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13845289,"reputation":154,"user_id":9994578,"display_name":"Ayush Pal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644168916,"creation_date":1644168916,"answer_id":71009848,"question_id":32731672,"body_markdown":"Sometimes the server might not be selected in project. Go to properties -&gt; Server \r\nSelect the server you want to run this project on.","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>Sometimes the server might not be selected in project. Go to properties -&gt; Server\nSelect the server you want to run this project on.</p>\n"},{"tags":[],"owner":{"account_id":4406198,"reputation":1601,"user_id":3590534,"accept_rate":89,"display_name":"awilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644447974,"creation_date":1644447974,"answer_id":71057922,"question_id":32731672,"body_markdown":"I got this error when I:\r\n\r\n 1. Right click project in Project Explorer\r\n 2. Select Run As -&gt; Run on Server\r\n 3. Click Finish without selecting a server\r\n\r\nI was being lazy and thinking that since there is only one server, it would automatically pick that one, but apparently not. It seems odd that the wizard would let me do that and give such a nonsensical error message.","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I got this error when I:</p>\n<ol>\n<li>Right click project in Project Explorer</li>\n<li>Select Run As -&gt; Run on Server</li>\n<li>Click Finish without selecting a server</li>\n</ol>\n<p>I was being lazy and thinking that since there is only one server, it would automatically pick that one, but apparently not. It seems odd that the wizard would let me do that and give such a nonsensical error message.</p>\n"},{"tags":[],"owner":{"account_id":20890417,"reputation":1,"user_id":15345909,"display_name":"Software Engineer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669146332,"creation_date":1668792415,"answer_id":74493328,"question_id":32731672,"body_markdown":"I was getting the same error mentioned in the heading, that the selection could not be run on any server. This was because when we start our JSP application on the server we have to add our resources.\r\n\r\n 1. Right click on the project\r\n 2. Run application on the server\r\n 3. Select available server and click Next\r\n 4. Add resources and click Finish\r\n\r\n[![Image showing results][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/ulhRS.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I was getting the same error mentioned in the heading, that the selection could not be run on any server. This was because when we start our JSP application on the server we have to add our resources.</p>\n<ol>\n<li>Right click on the project</li>\n<li>Run application on the server</li>\n<li>Select available server and click Next</li>\n<li>Add resources and click Finish</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ulhRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulhRS.png\" alt=\"Image showing results\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684484063,"creation_date":1684474295,"answer_id":76286220,"question_id":32731672,"body_markdown":"In my case, the `html` file to run is under `webapp\\WEB-INF`, after fix move to `webapp`, it run successfully show the html in browser.\r\n\r\nBesides, in Run On Server view as below, if you directly click `Finish`, then get error, click the `Tomcat v10.1 Server at localhost` first and `Finish`, then works.\r\n\r\n[![Run On Server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y0MVa.png","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>In my case, the <code>html</code> file to run is under <code>webapp\\WEB-INF</code>, after fix move to <code>webapp</code>, it run successfully show the html in browser.</p>\n<p>Besides, in Run On Server view as below, if you directly click <code>Finish</code>, then get error, click the <code>Tomcat v10.1 Server at localhost</code> first and <code>Finish</code>, then works.</p>\n<p><a href=\"https://i.stack.imgur.com/Y0MVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0MVa.png\" alt=\"Run On Server\" /></a></p>\n"}],"owner":{"account_id":5776905,"reputation":525,"user_id":4558743,"accept_rate":55,"display_name":"Priyanka Taneja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51916,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":46783956,"answer_count":7,"score":14,"last_activity_date":1684484063,"creation_date":1442986343,"question_id":32731672,"body_markdown":" I&#39;ve been working on a dynamic web project in Eclipse. I am getting this error.\r\n    \r\n&gt;  &quot;The selection cannot be run on any server&quot;.\r\n\r\nEarlier it was working fine but now I&#39;m getting this error. I removed the server and added it again. \r\n\r\n`Project`-&gt;`Right Click`-&gt; `Properties`-&gt;`Server` No server is showing here and two options are there Restore Default and Apply. I am not able to add server here.\r\n      \r\nPlease tell me want is the problem with this.\r\n\r\nPOM.XML\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;try&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;try&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;try Maven Webapp&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;!-- Dependencies --&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \r\n\t\t\t&lt;version&gt;4.2.0.Final&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.132&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;try&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;","title":"&quot;The selection cannot be run on any server&quot;","body":"<p>I've been working on a dynamic web project in Eclipse. I am getting this error.</p>\n\n<blockquote>\n  <p>\"The selection cannot be run on any server\".</p>\n</blockquote>\n\n<p>Earlier it was working fine but now I'm getting this error. I removed the server and added it again. </p>\n\n<p><code>Project</code>-><code>Right Click</code>-> <code>Properties</code>-><code>Server</code> No server is showing here and two options are there Restore Default and Apply. I am not able to add server here.</p>\n\n<p>Please tell me want is the problem with this.</p>\n\n<p>POM.XML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;try&lt;/groupId&gt;\n&lt;artifactId&gt;try&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;try Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;properties&gt;\n    &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- Dependencies --&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20140107&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \n        &lt;version&gt;4.2.0.Final&lt;/version&gt; &lt;/dependency&gt; --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.2.132&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;version&gt;1.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;try&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680828059,"post_id":75954598,"comment_id":133967339,"body_markdown":"What happens if your constants are not capable of being embedded in the opcode, say 999999 or -123456?","body":"What happens if your constants are not capable of being embedded in the opcode, say 999999 or -123456?"},{"owner":{"account_id":27395705,"reputation":11,"user_id":20897927,"display_name":"Zihe Ji"},"score":0,"creation_date":1680829295,"post_id":75954598,"comment_id":133967467,"body_markdown":"I don&#39;t think this caused the issue since the printed message from visitInsn() tells that the opcode is only 2 and 3 for dummy0 and dummy1","body":"I don&#39;t think this caused the issue since the printed message from visitInsn() tells that the opcode is only 2 and 3 for dummy0 and dummy1"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1681744781,"post_id":75954598,"comment_id":134102446,"body_markdown":"When you use compile-time constants in Java, the compiled code will use the constant value directly. Therefore, you can not distinguish between uses of `dummy1`, `notStatic`, or literal `-1` in the compiled code.","body":"When you use compile-time constants in Java, the compiled code will use the constant value directly. Therefore, you can not distinguish between uses of <code>dummy1</code>, <code>notStatic</code>, or literal <code>-1</code> in the compiled code."}],"answers":[{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684484055,"creation_date":1684484055,"answer_id":76287232,"question_id":75954598,"body_markdown":"As someone said in a comment primitive constants will be inlined as a literal in bytecode, so:\r\n```java\r\npublic static final int TEST_CONST = 11;\r\n\r\nprivate static void bar() {\r\n    System.out.println(TEST_CONST);\r\n}\r\n```\r\n\r\nWould compile to\r\n```java\r\npublic static final int TEST_CONST = 11;\r\n\r\nprivate static void bar() {\r\n    System.out.println(11);\r\n}\r\n```\r\n\r\nHowever non primitive constants will still have a `GETSTATIC` reference, for the primitives the best you could do is collect all primitive constants beforehand and then try to guess if a literal is referring to one of them by comparing their values, however this is far from perfect.","title":"How to record visited constants by MethodVisitor in ASM","body":"<p>As someone said in a comment primitive constants will be inlined as a literal in bytecode, so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(TEST_CONST);\n}\n</code></pre>\n<p>Would compile to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(11);\n}\n</code></pre>\n<p>However non primitive constants will still have a <code>GETSTATIC</code> reference, for the primitives the best you could do is collect all primitive constants beforehand and then try to guess if a literal is referring to one of them by comparing their values, however this is far from perfect.</p>\n"}],"owner":{"account_id":27395705,"reputation":11,"user_id":20897927,"display_name":"Zihe Ji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684484055,"creation_date":1680826262,"question_id":75954598,"body_markdown":"I&#39;m trying to check how many times a constant is used in the given classes. My idea is to first use ClassReader.accept(ClassVisitor, ...) to visit the class, and then declare a methodVisitor for each method using MethodVisitor.visitMethod(). Then, for each MethodVisitor, I tried to use visitFieldInsn. However, this method never visits constants. Instead, every other non-constant variables are visited. \r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nimport org.objectweb.asm.*;\r\n\r\nimport javax.tools.JavaCompiler;\r\nimport javax.tools.JavaFileObject;\r\nimport javax.tools.StandardJavaFileManager;\r\nimport javax.tools.ToolProvider;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Method;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ASMVisitor {\r\n\r\n    static class SimpleMethodVisitor extends MethodVisitor {\r\n        public String currMethodName;\r\n        public List&lt;String[]&gt; constants = new ArrayList&lt;&gt;();\r\n        private final Map&lt;Object, Integer&gt; constantFrequencyMap;\r\n\r\n        public SimpleMethodVisitor(int api, MethodVisitor methodVisitor, String methodName) {\r\n            super(Opcodes.ASM9, methodVisitor);\r\n            currMethodName = methodName;\r\n            constantFrequencyMap = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public void visitMethodInsn(int opcode, java.lang.String owner, java.lang.String name, java.lang.String descriptor, boolean isInterface) {\r\n//            System.out.println(Opcodes.LDC);\r\n\r\n//            System.out.println(&quot;Visited method instruction: &quot; + opcode + &quot;, &quot; + owner + &quot;, &quot; + name + &quot;, &quot; + descriptor + &quot;, &quot; + isInterface);\r\n            super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n        }\r\n\r\n        public Map&lt;Object, Integer&gt; getConstantFrequencyMap() {\r\n            return constantFrequencyMap;\r\n        }\r\n\r\n        @Override\r\n        public void visitLdcInsn(Object cst) {\r\n//            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains ldc instruction: &quot; + cst);\r\n            super.visitLdcInsn(cst);\r\n        }\r\n\r\n        @Override\r\n        public void visitInsn(int opcode) {\r\n            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains instruction: &quot; + opcode);\r\n            super.visitInsn(opcode);\r\n        }\r\n\r\n        @Override\r\n        public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\r\n            System.out.printf(&quot;FieldInsn: opcode = %s, Owner = %s, Name = %s, Descriptor = %s\\n&quot;,\r\n                    opcode, owner, name, descriptor);\r\n            constants.add(new String[]{owner, name, descriptor});\r\n        }\r\n\r\n    }\r\n\r\n    static class SimpleClassVisitor extends ClassVisitor {\r\n        public String currClassName;\r\n        public Map&lt;String[],Object&gt; constants;\r\n        public Set&lt;MethodVisitor&gt; mvs = new HashSet&lt;&gt;();\r\n\r\n        public SimpleClassVisitor() {\r\n            super(Opcodes.ASM9);\r\n            currClassName = &quot;&quot;;\r\n            this.constants = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public void visit(int version, int acc, String name,\r\n                                    String sig, String superName, String[] ifs) {\r\n            currClassName = name;\r\n            super.visit(version, acc, name, sig, superName, ifs);\r\n        }\r\n\r\n        @Override\r\n        public FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\r\n            System.out.printf(&quot;visitField: Name = %s, Desc = %s, Signature = %s, Value = %s\\n&quot;,\r\n                    name, desc, signature, value);\r\n\r\n            if (value != null &amp;&amp; (access &amp; Opcodes.ACC_STATIC) != 0) {\r\n                constants.put(new String[]{currClassName, name, desc}, value);\r\n            }\r\n\r\n            return super.visitField(access, name, desc, signature, value);\r\n        }\r\n\r\n        @Override\r\n        public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\r\n//            System.out.printf(&quot;visitMethod: Name = %s, Desc = %s, Signature = %s\\n&quot;, name, desc, signature);\r\n            MethodVisitor methodvisitor = super.visitMethod(access, name, desc, signature, exceptions);\r\n            MethodVisitor mv = new SimpleMethodVisitor(Opcodes.ASM9, methodvisitor, name);\r\n            mvs.add(mv);\r\n            return mv;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n            ...\r\n            try {\r\n                byte[] bytes = Files.readAllBytes(file);\r\n                ClassReader classReader = new ClassReader(bytes);\r\n                SimpleClassVisitor scv = new SimpleClassVisitor();\r\n                classReader.accept(scv, ClassReader.SKIP_FRAMES | ClassReader.SKIP_DEBUG);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here is my dummy test\r\n```\r\npackage DummyTests2;\r\n\r\npublic class DummyTest1 {\r\n    public int publicIVInteger1;\r\n    public static int notFinal = -1;\r\n    public final int notStatic = -1;\r\n    public static final int dummy0 = 0;\r\n    public static final int dummy1 = -1;\r\n\r\n    public DummyTest1() {\r\n        this.publicIVInteger1 = DummyTest2.dummy1;\r\n        getPublicIVInteger1();\r\n    }\r\n\r\n    public int getPublicIVInteger1() {\r\n        setPublicIVInteger1(1);\r\n        notFinal -= dummy1;\r\n        notFinal -= dummy0;\r\n        publicIVInteger1 -= dummy1;\r\n        publicIVInteger1 -= dummy0;\r\n\r\n        return this.publicIVInteger1;\r\n    }\r\n\r\n    public void setPublicIVInteger1(int n) {\r\n        int localInt = 0;\r\n        publicIVInteger1 += dummy1;\r\n    }\r\n}\r\n```\r\n\r\nIn this case, only variables that are not constants are printed out without those constants with static and final like dummy0 and dummy1. I also tried to use visitInsn and seems like constants are visited since the corresponding instructions are visited, but the visitLdcInsn is never visited too. I wonder why constants are not recognized for visitFieldInsn and how can I do to store the frequency of constants into the constantFrequencyMap.\r\n","title":"How to record visited constants by MethodVisitor in ASM","body":"<p>I'm trying to check how many times a constant is used in the given classes. My idea is to first use ClassReader.accept(ClassVisitor, ...) to visit the class, and then declare a methodVisitor for each method using MethodVisitor.visitMethod(). Then, for each MethodVisitor, I tried to use visitFieldInsn. However, this method never visits constants. Instead, every other non-constant variables are visited.</p>\n<p>Here's my code:</p>\n<pre><code>import org.objectweb.asm.*;\n\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class ASMVisitor {\n\n    static class SimpleMethodVisitor extends MethodVisitor {\n        public String currMethodName;\n        public List&lt;String[]&gt; constants = new ArrayList&lt;&gt;();\n        private final Map&lt;Object, Integer&gt; constantFrequencyMap;\n\n        public SimpleMethodVisitor(int api, MethodVisitor methodVisitor, String methodName) {\n            super(Opcodes.ASM9, methodVisitor);\n            currMethodName = methodName;\n            constantFrequencyMap = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visitMethodInsn(int opcode, java.lang.String owner, java.lang.String name, java.lang.String descriptor, boolean isInterface) {\n//            System.out.println(Opcodes.LDC);\n\n//            System.out.println(&quot;Visited method instruction: &quot; + opcode + &quot;, &quot; + owner + &quot;, &quot; + name + &quot;, &quot; + descriptor + &quot;, &quot; + isInterface);\n            super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n        }\n\n        public Map&lt;Object, Integer&gt; getConstantFrequencyMap() {\n            return constantFrequencyMap;\n        }\n\n        @Override\n        public void visitLdcInsn(Object cst) {\n//            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains ldc instruction: &quot; + cst);\n            super.visitLdcInsn(cst);\n        }\n\n        @Override\n        public void visitInsn(int opcode) {\n            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains instruction: &quot; + opcode);\n            super.visitInsn(opcode);\n        }\n\n        @Override\n        public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\n            System.out.printf(&quot;FieldInsn: opcode = %s, Owner = %s, Name = %s, Descriptor = %s\\n&quot;,\n                    opcode, owner, name, descriptor);\n            constants.add(new String[]{owner, name, descriptor});\n        }\n\n    }\n\n    static class SimpleClassVisitor extends ClassVisitor {\n        public String currClassName;\n        public Map&lt;String[],Object&gt; constants;\n        public Set&lt;MethodVisitor&gt; mvs = new HashSet&lt;&gt;();\n\n        public SimpleClassVisitor() {\n            super(Opcodes.ASM9);\n            currClassName = &quot;&quot;;\n            this.constants = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visit(int version, int acc, String name,\n                                    String sig, String superName, String[] ifs) {\n            currClassName = name;\n            super.visit(version, acc, name, sig, superName, ifs);\n        }\n\n        @Override\n        public FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\n            System.out.printf(&quot;visitField: Name = %s, Desc = %s, Signature = %s, Value = %s\\n&quot;,\n                    name, desc, signature, value);\n\n            if (value != null &amp;&amp; (access &amp; Opcodes.ACC_STATIC) != 0) {\n                constants.put(new String[]{currClassName, name, desc}, value);\n            }\n\n            return super.visitField(access, name, desc, signature, value);\n        }\n\n        @Override\n        public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n//            System.out.printf(&quot;visitMethod: Name = %s, Desc = %s, Signature = %s\\n&quot;, name, desc, signature);\n            MethodVisitor methodvisitor = super.visitMethod(access, name, desc, signature, exceptions);\n            MethodVisitor mv = new SimpleMethodVisitor(Opcodes.ASM9, methodvisitor, name);\n            mvs.add(mv);\n            return mv;\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n            ...\n            try {\n                byte[] bytes = Files.readAllBytes(file);\n                ClassReader classReader = new ClassReader(bytes);\n                SimpleClassVisitor scv = new SimpleClassVisitor();\n                classReader.accept(scv, ClassReader.SKIP_FRAMES | ClassReader.SKIP_DEBUG);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>And here is my dummy test</p>\n<pre><code>package DummyTests2;\n\npublic class DummyTest1 {\n    public int publicIVInteger1;\n    public static int notFinal = -1;\n    public final int notStatic = -1;\n    public static final int dummy0 = 0;\n    public static final int dummy1 = -1;\n\n    public DummyTest1() {\n        this.publicIVInteger1 = DummyTest2.dummy1;\n        getPublicIVInteger1();\n    }\n\n    public int getPublicIVInteger1() {\n        setPublicIVInteger1(1);\n        notFinal -= dummy1;\n        notFinal -= dummy0;\n        publicIVInteger1 -= dummy1;\n        publicIVInteger1 -= dummy0;\n\n        return this.publicIVInteger1;\n    }\n\n    public void setPublicIVInteger1(int n) {\n        int localInt = 0;\n        publicIVInteger1 += dummy1;\n    }\n}\n</code></pre>\n<p>In this case, only variables that are not constants are printed out without those constants with static and final like dummy0 and dummy1. I also tried to use visitInsn and seems like constants are visited since the corresponding instructions are visited, but the visitLdcInsn is never visited too. I wonder why constants are not recognized for visitFieldInsn and how can I do to store the frequency of constants into the constantFrequencyMap.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684369613,"post_id":76273096,"comment_id":134510139,"body_markdown":"If the constants can be assigned at compile time, you should review Eclipse&#39;s Externalized Strings option.  https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fpde_actions%2Fexternalize_strings.htm","body":"If the constants can be assigned at compile time, you should review Eclipse&#39;s Externalized Strings option.  <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fpde_actions%2Fexternalize_strings.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a>"},{"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"score":0,"creation_date":1684401770,"post_id":76273096,"comment_id":134513705,"body_markdown":"@Reilas Thank you on your answer, but this won&#39;t solve our problem. :)","body":"@Reilas Thank you on your answer, but this won&#39;t solve our problem. :)"}],"answers":[{"tags":[],"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684483889,"creation_date":1684483889,"answer_id":76287209,"question_id":76273096,"body_markdown":"After all investigation I&#39;ve decided to ask ChatGPT for the help. So, now we have an proper solution for selecting cross-language constants.\r\nSolution:\r\n\r\n````\r\npublic class TestConstants {\r\n    public static String STRING_TEXT;\r\n    public static String NEW_TEXT;\r\n    public static String ANOTHER_TEXT;\r\n}\r\n````\r\n````\r\npublic class EnglishConstants extends TestConstants {\r\n    static {\r\n        STRING_TEXT = &quot;String Text in English.&quot;;\r\n        NEW_TEXT = &quot;New Text in English.&quot;;\r\n        ANOTHER_TEXT = &quot;Another Text in English.&quot;;\r\n    }\r\n}\r\n````\r\n````\r\npublic class PortugueseConstants extends TestConstants {\r\n    static {\r\n        STRING_TEXT = &quot;String Text in Portuguese.&quot;;\r\n        NEW_TEXT = &quot;New Text in Portuguese.&quot;;\r\n        ANOTHER_TEXT = &quot;Another Text in Portuguese.&quot;;\r\n    }\r\n}\r\n````\r\n````\r\n\r\npublic class ConstantsFactory {\r\n    public static TestConstants getLanguageConstants(String language) {\r\n        switch (language) {\r\n            case &quot;pt-pt&quot;:\r\n                return new PortugueseConstants();\r\n            case &quot;en-us&quot;:\r\n            default:\r\n                return new EnglishConstants();\r\n        }\r\n    }\r\n}\r\n````\r\n````\r\n// Usage example\r\npublic class MainClass {\r\n    public static void main(String[] args) {\r\n        String language = System.getProperty(&quot;language&quot;);\r\n// Initialization of the TestConstant as language by parameter can be stored //in the BaseTest also\r\n        TestConstants languageConstants = ConstantsFactory.getLanguageConstants(language);\r\n\r\n        String stringText = languageConstants.STRING_TEXT;\r\n        String newText = languageConstants.NEW_TEXT;\r\n        String anotherText = languageConstants.ANOTHER_TEXT;\r\n\r\n        System.out.println(&quot;String Text: &quot; + stringText);\r\n        System.out.println(&quot;New Text: &quot; + newText);\r\n        System.out.println(&quot;Another Text: &quot; + anotherText);\r\n    }\r\n}\r\n````\r\n\r\nIf you want to run the some test use:\r\n````\r\nmvn clean test -Dlanguage=en-en\r\n````","title":"Java Select which class to initialize by parameter","body":"<p>After all investigation I've decided to ask ChatGPT for the help. So, now we have an proper solution for selecting cross-language constants.\nSolution:</p>\n<pre><code>public class TestConstants {\n    public static String STRING_TEXT;\n    public static String NEW_TEXT;\n    public static String ANOTHER_TEXT;\n}\n</code></pre>\n<pre><code>public class EnglishConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in English.&quot;;\n        NEW_TEXT = &quot;New Text in English.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in English.&quot;;\n    }\n}\n</code></pre>\n<pre><code>public class PortugueseConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in Portuguese.&quot;;\n        NEW_TEXT = &quot;New Text in Portuguese.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in Portuguese.&quot;;\n    }\n}\n</code></pre>\n<pre><code>\npublic class ConstantsFactory {\n    public static TestConstants getLanguageConstants(String language) {\n        switch (language) {\n            case &quot;pt-pt&quot;:\n                return new PortugueseConstants();\n            case &quot;en-us&quot;:\n            default:\n                return new EnglishConstants();\n        }\n    }\n}\n</code></pre>\n<pre><code>// Usage example\npublic class MainClass {\n    public static void main(String[] args) {\n        String language = System.getProperty(&quot;language&quot;);\n// Initialization of the TestConstant as language by parameter can be stored //in the BaseTest also\n        TestConstants languageConstants = ConstantsFactory.getLanguageConstants(language);\n\n        String stringText = languageConstants.STRING_TEXT;\n        String newText = languageConstants.NEW_TEXT;\n        String anotherText = languageConstants.ANOTHER_TEXT;\n\n        System.out.println(&quot;String Text: &quot; + stringText);\n        System.out.println(&quot;New Text: &quot; + newText);\n        System.out.println(&quot;Another Text: &quot; + anotherText);\n    }\n}\n</code></pre>\n<p>If you want to run the some test use:</p>\n<pre><code>mvn clean test -Dlanguage=en-en\n</code></pre>\n"}],"owner":{"account_id":12463513,"reputation":19,"user_id":9074348,"display_name":"Dušan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76287209,"answer_count":1,"score":0,"last_activity_date":1684483889,"creation_date":1684332993,"question_id":76273096,"body_markdown":"There is a main **TestConstant** class where the strings for testing are stored.\r\n\r\n```\r\npublic class TestConstants {\r\n   public static final STRING_TEXT;\r\n}\r\n```\r\nThen, there is a child class **EnglishConstants**. This class will be used if application is using English language:\r\n\r\n```\r\npublic class EnglishConstants extends TestConstants {\r\n   public static final STRING_TEXT = &quot;Text in English.&quot;;\r\n}\r\n```\r\nAt the end, there is a child class **PortugueseConstants**. This class will be used if application is using Portuguese language:\r\n\r\n```\r\npublic class PortugueseConstants extends TestConstants {\r\n   public static final STRING_TEXT = &quot;Text in Portuguese.&quot;;\r\n}\r\n```\r\nWhat&#39;s the point:\r\nWe want if it is possible, when running the test by Maven build from terminal with &quot;-Dlanguage=&quot; property provided, and based on that property &quot;STRING_TEXT&quot; to be selected in that language.\r\nSo, if the:\r\n\r\n```\r\n-Dlanguage=pt-pt is provided\r\n```\r\nTest has then to use &quot;TestConstants.STRING_TEXT&quot; and to take the value in the Portuguese language from the &quot;PortugueseConstants&quot; class.\r\n\r\n\r\n\r\n\r\n\r\nTried with factory on this question and answer:\r\nhttps://stackoverflow.com/a/28602106/9074348 ","title":"Java Select which class to initialize by parameter","body":"<p>There is a main <strong>TestConstant</strong> class where the strings for testing are stored.</p>\n<pre><code>public class TestConstants {\n   public static final STRING_TEXT;\n}\n</code></pre>\n<p>Then, there is a child class <strong>EnglishConstants</strong>. This class will be used if application is using English language:</p>\n<pre><code>public class EnglishConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in English.&quot;;\n}\n</code></pre>\n<p>At the end, there is a child class <strong>PortugueseConstants</strong>. This class will be used if application is using Portuguese language:</p>\n<pre><code>public class PortugueseConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in Portuguese.&quot;;\n}\n</code></pre>\n<p>What's the point:\nWe want if it is possible, when running the test by Maven build from terminal with &quot;-Dlanguage=&quot; property provided, and based on that property &quot;STRING_TEXT&quot; to be selected in that language.\nSo, if the:</p>\n<pre><code>-Dlanguage=pt-pt is provided\n</code></pre>\n<p>Test has then to use &quot;TestConstants.STRING_TEXT&quot; and to take the value in the Portuguese language from the &quot;PortugueseConstants&quot; class.</p>\n<p>Tried with factory on this question and answer:\n<a href=\"https://stackoverflow.com/a/28602106/9074348\">https://stackoverflow.com/a/28602106/9074348</a></p>\n"},{"tags":["java","android","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1598910054,"post_id":34750611,"comment_id":112604558,"body_markdown":"see related https://stackoverflow.com/a/63678543/448779 - may be helpful.","body":"see related <a href=\"https://stackoverflow.com/a/63678543/448779\">stackoverflow.com/a/63678543/448779</a> - may be helpful."}],"answers":[{"tags":[],"owner":{"account_id":242242,"reputation":2252,"user_id":513626,"accept_rate":100,"display_name":"MattMatt"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1454779945,"creation_date":1454779945,"answer_id":35244129,"question_id":34750611,"body_markdown":"Gabor&#39;s suggestion seemed to fix this issue for me. On a Mac (and I presume on a Windows machine, but with a different route to get there) go to Preferences:\r\n\r\nFrom the menu bar at the top **Android Studio → Preferences**\r\n\r\n*or*\r\n\r\nHit **⌘ and ,** to jump straight to it.\r\n\r\nThen in the menu search box type &quot;instant&quot;. Uncheck the box that says &quot;Enable instant run..&quot;, which looks like the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThat fixed it for me; didn&#39;t even need to restart/kill ADB.\r\n\r\nIt seems to be enabled by default, and I use it often to hot-swap changes during development, so I didn&#39;t think to turn it off when running Espresso tests.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Vm40k.png","title":"Unit tests terminated in Debug mode","body":"<p>Gabor's suggestion seemed to fix this issue for me. On a Mac (and I presume on a Windows machine, but with a different route to get there) go to Preferences:</p>\n\n<p>From the menu bar at the top <strong>Android Studio → Preferences</strong></p>\n\n<p><em>or</em></p>\n\n<p>Hit <strong>⌘ and ,</strong> to jump straight to it.</p>\n\n<p>Then in the menu search box type \"instant\". Uncheck the box that says \"Enable instant run..\", which looks like the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vm40k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm40k.png\" alt=\"enter image description here\"></a></p>\n\n<p>That fixed it for me; didn't even need to restart/kill ADB.</p>\n\n<p>It seems to be enabled by default, and I use it often to hot-swap changes during development, so I didn't think to turn it off when running Espresso tests.</p>\n"},{"tags":[],"owner":{"account_id":15643284,"reputation":1,"user_id":11286111,"display_name":"Mohsen Dianati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1554058992,"creation_date":1554058667,"answer_id":55444339,"question_id":34750611,"body_markdown":"To get rid of unit test problems in debug mode, I deleted all test folders in android studio explorer, then I commented three test implementation lines in build.gradle(module) file. Then I changed the combobox in android studio menu (top of the IDE) from &quot;all in app&quot; to &quot;app&quot;.\r\n\r\n\r\nhttps://i.stack.imgur.com/alPrS.png","title":"Unit tests terminated in Debug mode","body":"<p>To get rid of unit test problems in debug mode, I deleted all test folders in android studio explorer, then I commented three test implementation lines in build.gradle(module) file. Then I changed the combobox in android studio menu (top of the IDE) from \"all in app\" to \"app\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/alPrS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/alPrS.png</a></p>\n"},{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1684483611,"creation_date":1597337007,"answer_id":63399650,"question_id":34750611,"body_markdown":"In my company&#39;s case, the fix was to:\r\n\r\n1. Open `Edit Configuration...` for `All tests` (or whatever you renamed it into).\r\n2. Switch to `Debugger` tab.\r\n3. And finally, in `Debug mode` combo-box, select the `Java` option, because:\r\n    - Although we have lots of Native codes,\r\nAndroid-studio 3.2.1 (which we were using) does not seem to support debugging both (but Java only mode works fine).\r\n\r\n&gt; **Note** that we&#39;ve seen above since Android-studio 3.2.1 until Android-studio 2022.x, **but** above might not be required in some newer version.\r\n","title":"Unit tests terminated in Debug mode","body":"<p>In my company's case, the fix was to:</p>\n<ol>\n<li>Open <code>Edit Configuration...</code> for <code>All tests</code> (or whatever you renamed it into).</li>\n<li>Switch to <code>Debugger</code> tab.</li>\n<li>And finally, in <code>Debug mode</code> combo-box, select the <code>Java</code> option, because:\n<ul>\n<li>Although we have lots of Native codes,\nAndroid-studio 3.2.1 (which we were using) does not seem to support debugging both (but Java only mode works fine).</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p><strong>Note</strong> that we've seen above since Android-studio 3.2.1 until Android-studio 2022.x, <strong>but</strong> above might not be required in some newer version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":231483,"reputation":417,"user_id":495739,"accept_rate":75,"display_name":"Fox"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606499542,"creation_date":1606499542,"answer_id":65041754,"question_id":34750611,"body_markdown":"In my situation, the problem is solved by setting in the test&#39;s run configuration:\r\nShorten command line -&gt; JAR manifest.\r\n","title":"Unit tests terminated in Debug mode","body":"<p>In my situation, the problem is solved by setting in the test's run configuration:\nShorten command line -&gt; JAR manifest.</p>\n"}],"owner":{"account_id":6593338,"reputation":737,"user_id":5093897,"display_name":"Andriy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8875,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1684483611,"creation_date":1452621284,"question_id":34750611,"body_markdown":"I&#39;m using IntelliJ IDEA 15.0.2 (Community Edition) under Windows 7 and Windows 10 Pro, Gradle 2.9, JDK 1.7.0_65. Operating systems installed as guests under VMware Workstation 11.1.3\r\n\r\nI have created Android Gradle application with single empty activity and wanted to check how unit test support works. There is a single unit test module ApplicationTest.java created by IDE, it contains only constructor. Right-clicking on [java] folder I created &#39;All in Module&#39; JUnit3 test configuration.\r\n\r\nTests complete successfully when I Run them, however fail if I Debug the configuration. Failure reason says &#39;Terminated&#39; ([screenshot][1], [IDEA log][2]) which explained in the documentation as &#39;Test terminated. This status is assigned to tests that were cancelled by clicking the Stop button&#39;. Just want to confirm that I didn&#39;t click the Stop button.\r\n\r\nLogcat logs don&#39;t report any failures, IDE log reports 2 tests passed too. However problem remains as IntelliJ still reports a termination.\r\n\r\nSometimes I also getting &#39;Test framework quit unexpectedly&#39; error and no tests succeed.\r\n\r\nI&#39;ve done some research and found similar questions, no real solutions mentioned. Have strong suspicion that this is a configuration issue.\r\n\r\nWhat do I do wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HSCmS.png\r\n  [2]: https://drive.google.com/file/d/0B6r9Ag-ygMRaa2VBX0RLUFNhU0U/view?usp=sharing","title":"Unit tests terminated in Debug mode","body":"<p>I'm using IntelliJ IDEA 15.0.2 (Community Edition) under Windows 7 and Windows 10 Pro, Gradle 2.9, JDK 1.7.0_65. Operating systems installed as guests under VMware Workstation 11.1.3</p>\n\n<p>I have created Android Gradle application with single empty activity and wanted to check how unit test support works. There is a single unit test module ApplicationTest.java created by IDE, it contains only constructor. Right-clicking on [java] folder I created 'All in Module' JUnit3 test configuration.</p>\n\n<p>Tests complete successfully when I Run them, however fail if I Debug the configuration. Failure reason says 'Terminated' (<a href=\"https://i.stack.imgur.com/HSCmS.png\" rel=\"noreferrer\">screenshot</a>, <a href=\"https://drive.google.com/file/d/0B6r9Ag-ygMRaa2VBX0RLUFNhU0U/view?usp=sharing\" rel=\"noreferrer\">IDEA log</a>) which explained in the documentation as 'Test terminated. This status is assigned to tests that were cancelled by clicking the Stop button'. Just want to confirm that I didn't click the Stop button.</p>\n\n<p>Logcat logs don't report any failures, IDE log reports 2 tests passed too. However problem remains as IntelliJ still reports a termination.</p>\n\n<p>Sometimes I also getting 'Test framework quit unexpectedly' error and no tests succeed.</p>\n\n<p>I've done some research and found similar questions, no real solutions mentioned. Have strong suspicion that this is a configuration issue.</p>\n\n<p>What do I do wrong?</p>\n"},{"tags":["java","file","curl"],"comments":[{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318253410,"post_id":7713230,"comment_id":9381768,"body_markdown":"What exactly is your problem? And a bit mroe code would be helpfull, what is `httpPost` e.g.?","body":"What exactly is your problem? And a bit mroe code would be helpfull, what is <code>httpPost</code> e.g.?"},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318253577,"post_id":7713230,"comment_id":9381813,"body_markdown":"I&#39;m trying to send the curl command (already a Linux terminal command) using a java program. I&#39;ve tried multipart but I don&#39;t need to upload or download the file, it&#39;s rather a transfer between distant repository.","body":"I&#39;m trying to send the curl command (already a Linux terminal command) using a java program. I&#39;ve tried multipart but I don&#39;t need to upload or download the file, it&#39;s rather a transfer between distant repository."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318254051,"post_id":7713230,"comment_id":9381956,"body_markdown":"Well, your Java code is incomplete. And we don&#39;t know why it does not work. So post more code please (and yes, we all know what `curl` is .... sigh). E.g. you don&#39;t call any post-method, so that fragment above can&#39;t work, obviously. You need at least an HttpURLConnection ...","body":"Well, your Java code is incomplete. And we don&#39;t know why it does not work. So post more code please (and yes, we all know what <code>curl</code> is .... sigh). E.g. you don&#39;t call any post-method, so that fragment above can&#39;t work, obviously. You need at least an HttpURLConnection ..."},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318255813,"post_id":7713230,"comment_id":9382423,"body_markdown":"I&#39;m using org.apache.http.client to communicate with a REST server. I&#39;ve already made requests using cURL. What I&#39;m trying to do now is to execute these requests from a java program. The problem is that in one of the requests need to make a file transfer, with curl It&#39;s made using -F option, the question is how to do it in java ?","body":"I&#39;m using org.apache.http.client to communicate with a REST server. I&#39;ve already made requests using cURL. What I&#39;m trying to do now is to execute these requests from a java program. The problem is that in one of the requests need to make a file transfer, with curl It&#39;s made using -F option, the question is how to do it in java ?"},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1318256009,"post_id":7713230,"comment_id":9382486,"body_markdown":"By calling the correct method of your connection object. AGAIN: why can&#39;t you simply edit your question and add ALL your code? http://hc.apache.org/httpclient-3.x/methods/post.html","body":"By calling the correct method of your connection object. AGAIN: why can&#39;t you simply edit your question and add ALL your code? <a href=\"http://hc.apache.org/httpclient-3.x/methods/post.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpclient-3.x/methods/post.html</a>"},{"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"score":0,"creation_date":1318257040,"post_id":7713230,"comment_id":9382804,"body_markdown":"AGAIN : The problem is just with the -F option, I&#39;ve tested the program with multiple requests and it&#39;s fine","body":"AGAIN : The problem is just with the -F option, I&#39;ve tested the program with multiple requests and it&#39;s fine"},{"owner":{"account_id":73352,"reputation":22219,"user_id":211277,"accept_rate":78,"display_name":"tolitius"},"score":1,"creation_date":1318259171,"post_id":7713230,"comment_id":9383487,"body_markdown":"This should work: [How to upload a file using Java HttpClient](http://stackoverflow.com/questions/1067655/how-to-upload-a-file-using-java-httpclient-library-working-with-php-strange-pro)","body":"This should work: <a href=\"http://stackoverflow.com/questions/1067655/how-to-upload-a-file-using-java-httpclient-library-working-with-php-strange-pro\">How to upload a file using Java HttpClient</a>"}],"answers":[{"tags":[],"owner":{"account_id":3872017,"reputation":31,"user_id":3207069,"display_name":"tjmorrison"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389972046,"creation_date":1389972046,"answer_id":21189398,"question_id":7713230,"body_markdown":"I ran across this problem yesterday. Here is a solution that uses Apache http libraries.\r\n\r\n    package curldashf;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.fluent.Request;\r\n    import org.apache.http.entity.mime.MultipartEntity;\r\n    import org.apache.http.entity.mime.content.ByteArrayBody;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    public class CurlDashF\r\n    {\r\n    \tpublic static void main(String[] args) throws ClientProtocolException, IOException\r\n    \t{\r\n    \t\tString filePath = &quot;file_path&quot;;\r\n    \t\tString url = &quot;http://localhost/files&quot;;\r\n    \t\tFile file = new File(filePath);\r\n    \t\tMultipartEntity entity = new MultipartEntity();\r\n    \t\tentity.addPart(&quot;file&quot;, new FileBody(file));\r\n    \t\tHttpResponse returnResponse = Request.Post(url)\r\n    \t\t\t.body(entity)\r\n    \t\t\t.execute().returnResponse();\r\n    \t\tSystem.out.println(&quot;Response status: &quot; + returnResponse.getStatusLine().getStatusCode());\r\n    \t\tSystem.out.println(EntityUtils.toString(returnResponse.getEntity()));\r\n    \t}\r\n    }\r\n\r\nSet filePath and url as necessary. If you are using something other than a file, you can substitute FileBody with ByteArrayBody, InputStreamBody or StringBody. My particular situation called for ByteArrayBody but the code above works for a file.","title":"&quot;Curl -F&quot; Java equivalent","body":"<p>I ran across this problem yesterday. Here is a solution that uses Apache http libraries.</p>\n\n<pre><code>package curldashf;\n\nimport java.io.File;\nimport java.io.IOException;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.fluent.Request;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.ByteArrayBody;\nimport org.apache.http.util.EntityUtils;\n\npublic class CurlDashF\n{\n    public static void main(String[] args) throws ClientProtocolException, IOException\n    {\n        String filePath = \"file_path\";\n        String url = \"http://localhost/files\";\n        File file = new File(filePath);\n        MultipartEntity entity = new MultipartEntity();\n        entity.addPart(\"file\", new FileBody(file));\n        HttpResponse returnResponse = Request.Post(url)\n            .body(entity)\n            .execute().returnResponse();\n        System.out.println(\"Response status: \" + returnResponse.getStatusLine().getStatusCode());\n        System.out.println(EntityUtils.toString(returnResponse.getEntity()));\n    }\n}\n</code></pre>\n\n<p>Set filePath and url as necessary. If you are using something other than a file, you can substitute FileBody with ByteArrayBody, InputStreamBody or StringBody. My particular situation called for ByteArrayBody but the code above works for a file.</p>\n"}],"owner":{"account_id":465490,"reputation":191,"user_id":869613,"display_name":"amine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5618,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1684483404,"creation_date":1318252133,"question_id":7713230,"body_markdown":"What is the equivalent in java for the following curl command:\r\n\r\n    curl -X POST -F &quot;file=@$File_PATH&quot;\r\n\r\nThe request I want to execute using Java is :\r\n\r\n    curl -X POST -F &#39;file=@file_path&#39; http://localhost/files/ \r\nI was trying : \r\n    \r\n                HttpClient httpClient = new DefaultHttpClient();\t\t\r\n\t\t\r\n\t\tHttpPost httpPost = new HttpPost(_URL);\r\n\t\t\r\n\t\tFile file = new File(PATH);\r\n\r\n      \t        MultipartEntity mpEntity = new MultipartEntity();\r\n\t        ContentBody cbFile = new FileBody(file, &quot;bin&quot;);\r\n \t        mpEntity.addPart(&quot;userfile&quot;, cbFile);\r\n\r\n\t        httpPost.setEntity(mpEntity);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\tHttpResponse response = httpClient.execute(httpPost);\r\n\t\tInputStream instream = response.getEntity().getContent();","title":"&quot;Curl -F&quot; Java equivalent","body":"<p>What is the equivalent in java for the following curl command:</p>\n\n<pre><code>curl -X POST -F \"file=@$File_PATH\"\n</code></pre>\n\n<p>The request I want to execute using Java is :</p>\n\n<pre><code>curl -X POST -F 'file=@file_path' http://localhost/files/ \n</code></pre>\n\n<p>I was trying : </p>\n\n<pre><code>            HttpClient httpClient = new DefaultHttpClient();        \n\n    HttpPost httpPost = new HttpPost(_URL);\n\n    File file = new File(PATH);\n\n            MultipartEntity mpEntity = new MultipartEntity();\n        ContentBody cbFile = new FileBody(file, \"bin\");\n        mpEntity.addPart(\"userfile\", cbFile);\n\n        httpPost.setEntity(mpEntity);\n\n    HttpResponse response = httpClient.execute(httpPost);\n    InputStream instream = response.getEntity().getContent();\n</code></pre>\n"},{"tags":["java","android","7zip"],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684482802,"creation_date":1679477323,"question_id":75810432,"body_markdown":"I want to unzip a .7z archive but I&#39;m facing a weird issue.\r\nMaybe I didn&#39;t understood well how to use the &quot;SevenZFile&quot; class from org.apache.commons:commons-compress:1.20.\r\n\r\nHere is my method which use the SevenZfile class : \r\n\r\n        public static void extract7z(File input, File outputDir) throws IOException {\r\n        SevenZFile sevenZFile = new SevenZFile(input);\r\n        SevenZArchiveEntry entry;\r\n        while ((entry = sevenZFile.getNextEntry()) != null) {\r\n            if (!entry.isDirectory()) {\r\n                File outputFile = new File(outputDir, entry.getName());\r\n                outputFile.getParentFile().mkdirs();\r\n                FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n                IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\r\n                outputStream.close();\r\n            }\r\n        }\r\n        sevenZFile.close();\r\n    }\r\n\r\nI called this method in the same file in this method :\r\n\r\n        public void saveImage(Context myContext, String myDataset) throws IOException {\r\n\r\n        AssetManager assetManager = Objects.requireNonNull(myContext).getAssets();\r\n        String[] archives = null;\r\n        String archiveName = myDataset + &quot;.7z&quot;;\r\n        String archivePath = Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName;\r\n        File archive = new File(archivePath);\r\n        File picturesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;Pictures&quot;);\r\n        picturesFolder.mkdirs();\r\n        try {\r\n            archives = assetManager.list(&quot;photos/&quot;+myDataset+&quot;/&quot;+&quot;archive&quot;);\r\n        } catch (IOException e) {\r\n            Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\r\n        }\r\n        if (archives != null) {\r\n                InputStream in;\r\n                OutputStream out;\r\n                try {\r\n                    in = assetManager.open(&quot;photos/&quot; + myDataset + &quot;/&quot; +&quot;archive&quot;+ &quot;/&quot; +&quot;dataset3.7z&quot;);\r\n                    File outFile = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName);\r\n                    out = new FileOutputStream(outFile);\r\n                    copyFile(in, out);\r\n                    in.close();\r\n                    out.flush();\r\n                    out.close();\r\n                    extract7z(archive, picturesFolder);\r\n                    MediaScannerConnection.scanFile(myContext, new String[]{outFile.toString()}, null, new MediaScannerConnection.OnScanCompletedListener() {\r\n                        @Override\r\n                        public void onScanCompleted(String path, Uri uri) {\r\n                            Log.i(&quot;External Storage&quot;, &quot;Scanned&quot; + path + &quot;:&quot;);\r\n                            Log.i(&quot;External Storage&quot;, &quot;uri &quot; + uri);\r\n\r\n                        }\r\n                    });\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + archiveName, e);\r\n\r\n            }\r\n        } else {\r\n            Log.e(&quot;Error NPE&quot;, &quot;null&quot;);\r\n        }\r\n    }\r\n\r\nIn this method I copy and then paste my file dataset3.7z from asset file to the external public directory. This step is working fine.\r\nBut, then, when I wanted to unzip this file in the phone I faced this error : \r\n\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1000; index=-1\r\n\r\nfrom this line : \r\n\r\n    IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\r\n\r\n\r\nI don&#39;t understand this error, I know my archive is 1000 images, but do I have to loop through the files to unzip them one by one? \r\nDoes this class work like that ?\r\n","title":"How to correctly unzip .7z archive with SevenZFile class?","body":"<p>I want to unzip a .7z archive but I'm facing a weird issue.\nMaybe I didn't understood well how to use the &quot;SevenZFile&quot; class from org.apache.commons:commons-compress:1.20.</p>\n<p>Here is my method which use the SevenZfile class :</p>\n<pre><code>    public static void extract7z(File input, File outputDir) throws IOException {\n    SevenZFile sevenZFile = new SevenZFile(input);\n    SevenZArchiveEntry entry;\n    while ((entry = sevenZFile.getNextEntry()) != null) {\n        if (!entry.isDirectory()) {\n            File outputFile = new File(outputDir, entry.getName());\n            outputFile.getParentFile().mkdirs();\n            FileOutputStream outputStream = new FileOutputStream(outputFile);\n            IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n            outputStream.close();\n        }\n    }\n    sevenZFile.close();\n}\n</code></pre>\n<p>I called this method in the same file in this method :</p>\n<pre><code>    public void saveImage(Context myContext, String myDataset) throws IOException {\n\n    AssetManager assetManager = Objects.requireNonNull(myContext).getAssets();\n    String[] archives = null;\n    String archiveName = myDataset + &quot;.7z&quot;;\n    String archivePath = Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName;\n    File archive = new File(archivePath);\n    File picturesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;Pictures&quot;);\n    picturesFolder.mkdirs();\n    try {\n        archives = assetManager.list(&quot;photos/&quot;+myDataset+&quot;/&quot;+&quot;archive&quot;);\n    } catch (IOException e) {\n        Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\n    }\n    if (archives != null) {\n            InputStream in;\n            OutputStream out;\n            try {\n                in = assetManager.open(&quot;photos/&quot; + myDataset + &quot;/&quot; +&quot;archive&quot;+ &quot;/&quot; +&quot;dataset3.7z&quot;);\n                File outFile = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName);\n                out = new FileOutputStream(outFile);\n                copyFile(in, out);\n                in.close();\n                out.flush();\n                out.close();\n                extract7z(archive, picturesFolder);\n                MediaScannerConnection.scanFile(myContext, new String[]{outFile.toString()}, null, new MediaScannerConnection.OnScanCompletedListener() {\n                    @Override\n                    public void onScanCompleted(String path, Uri uri) {\n                        Log.i(&quot;External Storage&quot;, &quot;Scanned&quot; + path + &quot;:&quot;);\n                        Log.i(&quot;External Storage&quot;, &quot;uri &quot; + uri);\n\n                    }\n                });\n            } catch (IOException e) {\n                Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + archiveName, e);\n\n        }\n    } else {\n        Log.e(&quot;Error NPE&quot;, &quot;null&quot;);\n    }\n}\n</code></pre>\n<p>In this method I copy and then paste my file dataset3.7z from asset file to the external public directory. This step is working fine.\nBut, then, when I wanted to unzip this file in the phone I faced this error :</p>\n<pre><code>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1000; index=-1\n</code></pre>\n<p>from this line :</p>\n<pre><code>IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n</code></pre>\n<p>I don't understand this error, I know my archive is 1000 images, but do I have to loop through the files to unzip them one by one?\nDoes this class work like that ?</p>\n"},{"tags":["java","php","codeigniter","curl"],"comments":[{"owner":{"account_id":9521405,"reputation":24976,"user_id":7076153,"accept_rate":50,"display_name":"Stargateur"},"score":0,"creation_date":1484631495,"post_id":41689667,"comment_id":70576104,"body_markdown":"Why c tag and java and android tag? I don&#39;t see any C not even JAVA, maybe this is specific to android, but that don&#39;t seem to be.","body":"Why c tag and java and android tag? I don&#39;t see any C not even JAVA, maybe this is specific to android, but that don&#39;t seem to be."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1484631605,"post_id":41689667,"comment_id":70576133,"body_markdown":"Also don&#39;t post api keys in public forum, it will be security risk.","body":"Also don&#39;t post api keys in public forum, it will be security risk."},{"owner":{"account_id":6609065,"reputation":151,"user_id":5104907,"display_name":"Sai Manoj Kadiyala"},"score":0,"creation_date":1484637085,"post_id":41689667,"comment_id":70578215,"body_markdown":"@VeeraKannadiga It is a test key.","body":"@VeeraKannadiga It is a test key."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1493385024,"post_id":41689667,"comment_id":74408170,"body_markdown":"@maulik Do I need to register for AUA at the uidai portal ? Can&#39;t I just use some test samples for testing purpose ? Thanks","body":"@maulik Do I need to register for AUA at the uidai portal ? Can&#39;t I just use some test samples for testing purpose ? Thanks"}],"answers":[{"tags":[],"owner":{"account_id":4659668,"reputation":2056,"user_id":3774235,"accept_rate":43,"display_name":"M A SIDDIQUI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484640385,"creation_date":1484640385,"answer_id":41691865,"question_id":41689667,"body_markdown":"In the above code you are sending request to version 1.6 while in XML data you have mentioned version 1.5 You are missing some parameters in xml data which is being sent   and those missing data are mandatory. There are some key missing in the request section.\r\n\r\nI have solved this as per uidai guide. But haven&#39;t got successful response as you didn&#39;t provided the some keys and some keys you have provided are invalid. \r\n\r\n    &lt;?php\r\n    /**\r\n     * Read the documentation here\r\n     * https://uidai.gov.in/images/FrontPageUpdates/aadhaar_authentication_api_1_6.pdf\r\n     */\r\n    $adhar_card_no = &quot;&quot;;\r\n    \r\n    function buildUrl($adhar_card_no)\r\n    {\r\n        $host = &quot;http://auth.uidai.gov.in&quot;;\r\n        $version = 1.6;\r\n        $aua = &quot;&quot;;\r\n        $asalk = &quot;&quot;;\r\n        $uid = str_split($adhar_card_no);\r\n        $url =  $host.&quot;/&quot;.$version.&quot;/&quot;.$aua.&quot;/&quot;.$uid[0].&quot;/&quot;.$uid[1].&quot;/&quot;.$asalk;\r\n        return $url;\r\n    }\r\n    \r\n    function requestDataBuilder($uid)\r\n    {\r\n        $encrypted_encoded_session_key = &quot;&quot;;\r\n        $encrypted_pid_block = &quot;&quot;;\r\n        $sha256_pid_bloc_encrypted_encoded= &quot;&quot;;\r\n        $digital_aua_signatrure= &quot;&quot;;\r\n        /**\r\n         * Authentication data to send request --Mandatory\r\n         */\r\n        $auth_data = [\r\n            &quot;uid&quot; =&gt; $uid, //Adhaar Card No.\r\n            &quot;tid&quot; =&gt; &quot;&quot;, //Terminal Id for registered device else public\r\n            &quot;ac&quot; =&gt; &quot;&quot;, //10 char unique code, public for testing\r\n            &quot;sa&quot; =&gt; &quot;&quot;, //max length 10, same as ac possible\r\n            &quot;ver&quot; =&gt; 1.6, //Current version\r\n            &quot;txn&quot; =&gt; &quot;&quot;, //AUA transaction  identifier. max length 50, not U*\r\n            &quot;lk&quot; =&gt; &quot;&quot;, //Valid License Key, max length 64\r\n        ];\r\n        /**\r\n         * Uses data comprises of options as yes (y) or no (n) -- Mandatory\r\n         */\r\n        $uses_data = [\r\n            &quot;pi&quot; =&gt; &quot;n&quot;,\r\n            &quot;pa&quot; =&gt; &quot;n&quot;,\r\n            &quot;pfa&quot; =&gt; &quot;n&quot;,\r\n            &quot;bio&quot; =&gt; &quot;n&quot;,\r\n            &quot;bt&quot; =&gt; &quot;n&quot;,\r\n            &quot;pin&quot; =&gt; &quot;n&quot;,\r\n            &quot;otp&quot; =&gt; &quot;n&quot;\r\n        ];\r\n        /**\r\n         * Token data -- optional\r\n         */\r\n        $tkn_data = [\r\n            &quot;type&quot; =&gt; &quot;001&quot;, //only this option available for now which is mobile no.\r\n            &quot;value&quot; =&gt; &quot;&quot; //Mobile no. 10 digit only no prefix\r\n        ];\r\n        /**\r\n         * Meta Data Mandatory\r\n         */\r\n        $meta_data = [\r\n            &quot;udc&quot; =&gt; $udc, //[vendorcode][date of deployment][serial number] max length 20\r\n            &quot;fdc&quot; =&gt; &quot;NA&quot;, //Fingerprint device code. use NA or NC or given code\r\n            &quot;idc&quot; =&gt; &quot;NA&quot;, //Iris device  code,  us na or NC\r\n            &quot;pip&quot; =&gt; &quot;NA&quot;, //Public IP address of the device, or NA\r\n            &quot;lot&quot; =&gt; &quot;P&quot;, //G -lat long format. p for pincode format\r\n            &quot;lov&quot; =&gt; &quot;110025&quot; // value as per G and P- my pin change it\r\n        ];\r\n        /**\r\n         * Skey data -- Mandatory\r\n         */\r\n        $skey_data = [\r\n            &quot;ci&quot; =&gt; &quot;&quot;, //Public key certificate Identifier --mandatory\r\n            &quot;ki&quot; =&gt; &quot;&quot; //This is for advanced use only, --optional\r\n        ];\r\n    \r\n        $format = &#39;&lt;Auth uid=”&#39;.$auth_data[&#39;uid&#39;].&#39;” tid =”&#39;.$auth_data[&#39;tid&#39;].&#39;” ac=”&#39;.$auth_data[&#39;ac&#39;].&#39;” sa=”&#39;.$auth_data[&#39;sa&#39;].&#39;” ver=”&#39;.$auth_data[&#39;ver&#39;].&#39;” txn=”&#39;.$auth_data[&#39;txn&#39;].&#39;” lk=”&#39;.$auth_data[&#39;lk&#39;].&#39;”&gt;&#39;;\r\n        $format.= &#39;&lt;Uses pi=”&#39;.$uses_data[&#39;pi&#39;].&#39;” pa=”&#39;.$uses_data[&#39;pa&#39;].&#39;” pfa=”&#39;.$uses_data[&#39;pfa&#39;].&#39;” bio=”&#39;.$uses_data[&#39;bio&#39;].&#39;” bt=”&#39;.$uses_data[&#39;bt&#39;].&#39;” pin=”&#39;.$uses_data[&#39;pin&#39;].&#39;” otp=”&#39;.$uses_data[&#39;otp&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Tkn type=”&#39;.$tkn_data[&#39;type&#39;].&#39;” value=”&#39;.$tkn_data[&#39;value&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Meta udc=”&#39;.$meta_data[&#39;udc&#39;].&#39;” fdc=”&#39;.$meta_data[&#39;fdc&#39;].&#39;” idc=”&#39;.$meta_data[&#39;idc&#39;].&#39;” pip=”&#39;.$meta_data[&#39;pip&#39;].&#39;” lot=”&#39;.$meta_data[&#39;lot&#39;].&#39;” lov=”&#39;.$meta_data[&#39;lov&#39;].&#39;”/&gt;&#39;;\r\n        $format.= &#39;&lt;Skey ci=”&#39;.$skey_data[&#39;ci&#39;].&#39;” ki=”&#39;.$skey_data[&#39;ci&#39;].&#39;”&gt;&#39;.$encrypted_encoded_session_key.&#39;&lt;/Skey&gt;&#39;;\r\n        $format.= &#39;&lt;Data type=”X”&gt;&#39;.$encrypted_pid_block.&#39;&lt;/Data&gt;&#39;;\r\n        $format.= &#39;&lt;Hmac&gt;&#39;.$sha256_pid_bloc_encrypted_encoded.&#39;&lt;/Hmac&gt;&#39;;\r\n        $format.= &#39;&lt;Signature&gt;&#39;.$digital_aua_signatrure.&#39;&lt;/Signature&gt;&lt;/Auth&gt;&#39;;\r\n        return $format;\r\n    \r\n    }\r\n    $request_url = buildUrl($adhar_card_no);\r\n    $data_to_send = requestDataBuilder($adhar_card_no);\r\n    //setting the curl parameters.\r\n    $ch = curl_init();\r\n    $curl_options = [\r\n        CURLOPT_URL =&gt; $request_url,\r\n        CURLOPT_VERBOSE =&gt; 1,\r\n        CURLOPT_SSL_VERIFYHOST =&gt; 0,\r\n        CURLOPT_SSL_VERIFYPEER =&gt; 0,\r\n        CURLOPT_POST =&gt; 1,\r\n        CURLOPT_RETURNTRANSFER =&gt; 1,\r\n        CURLOPT_HTTPHEADER =&gt; array(&#39;Content-Type: application/xnl&#39;),\r\n        CURLOPT_POSTFIELDS =&gt; $data_to_send\r\n    ];\r\n    curl_setopt_array($ch, $curl_options);\r\n    if (curl_errno($ch)) {\r\n    // moving to display page to display curl errors\r\n        echo curl_errno($ch) ;\r\n        echo curl_error($ch);\r\n    } else {\r\n        //getting response from server\r\n        $response = curl_exec($ch);\r\n        print_r($response);\r\n        curl_close($ch);\r\n    }\r\n\r\n","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<p>In the above code you are sending request to version 1.6 while in XML data you have mentioned version 1.5 You are missing some parameters in xml data which is being sent   and those missing data are mandatory. There are some key missing in the request section.</p>\n\n<p>I have solved this as per uidai guide. But haven't got successful response as you didn't provided the some keys and some keys you have provided are invalid. </p>\n\n<pre><code>&lt;?php\n/**\n * Read the documentation here\n * https://uidai.gov.in/images/FrontPageUpdates/aadhaar_authentication_api_1_6.pdf\n */\n$adhar_card_no = \"\";\n\nfunction buildUrl($adhar_card_no)\n{\n    $host = \"http://auth.uidai.gov.in\";\n    $version = 1.6;\n    $aua = \"\";\n    $asalk = \"\";\n    $uid = str_split($adhar_card_no);\n    $url =  $host.\"/\".$version.\"/\".$aua.\"/\".$uid[0].\"/\".$uid[1].\"/\".$asalk;\n    return $url;\n}\n\nfunction requestDataBuilder($uid)\n{\n    $encrypted_encoded_session_key = \"\";\n    $encrypted_pid_block = \"\";\n    $sha256_pid_bloc_encrypted_encoded= \"\";\n    $digital_aua_signatrure= \"\";\n    /**\n     * Authentication data to send request --Mandatory\n     */\n    $auth_data = [\n        \"uid\" =&gt; $uid, //Adhaar Card No.\n        \"tid\" =&gt; \"\", //Terminal Id for registered device else public\n        \"ac\" =&gt; \"\", //10 char unique code, public for testing\n        \"sa\" =&gt; \"\", //max length 10, same as ac possible\n        \"ver\" =&gt; 1.6, //Current version\n        \"txn\" =&gt; \"\", //AUA transaction  identifier. max length 50, not U*\n        \"lk\" =&gt; \"\", //Valid License Key, max length 64\n    ];\n    /**\n     * Uses data comprises of options as yes (y) or no (n) -- Mandatory\n     */\n    $uses_data = [\n        \"pi\" =&gt; \"n\",\n        \"pa\" =&gt; \"n\",\n        \"pfa\" =&gt; \"n\",\n        \"bio\" =&gt; \"n\",\n        \"bt\" =&gt; \"n\",\n        \"pin\" =&gt; \"n\",\n        \"otp\" =&gt; \"n\"\n    ];\n    /**\n     * Token data -- optional\n     */\n    $tkn_data = [\n        \"type\" =&gt; \"001\", //only this option available for now which is mobile no.\n        \"value\" =&gt; \"\" //Mobile no. 10 digit only no prefix\n    ];\n    /**\n     * Meta Data Mandatory\n     */\n    $meta_data = [\n        \"udc\" =&gt; $udc, //[vendorcode][date of deployment][serial number] max length 20\n        \"fdc\" =&gt; \"NA\", //Fingerprint device code. use NA or NC or given code\n        \"idc\" =&gt; \"NA\", //Iris device  code,  us na or NC\n        \"pip\" =&gt; \"NA\", //Public IP address of the device, or NA\n        \"lot\" =&gt; \"P\", //G -lat long format. p for pincode format\n        \"lov\" =&gt; \"110025\" // value as per G and P- my pin change it\n    ];\n    /**\n     * Skey data -- Mandatory\n     */\n    $skey_data = [\n        \"ci\" =&gt; \"\", //Public key certificate Identifier --mandatory\n        \"ki\" =&gt; \"\" //This is for advanced use only, --optional\n    ];\n\n    $format = '&lt;Auth uid=”'.$auth_data['uid'].'” tid =”'.$auth_data['tid'].'” ac=”'.$auth_data['ac'].'” sa=”'.$auth_data['sa'].'” ver=”'.$auth_data['ver'].'” txn=”'.$auth_data['txn'].'” lk=”'.$auth_data['lk'].'”&gt;';\n    $format.= '&lt;Uses pi=”'.$uses_data['pi'].'” pa=”'.$uses_data['pa'].'” pfa=”'.$uses_data['pfa'].'” bio=”'.$uses_data['bio'].'” bt=”'.$uses_data['bt'].'” pin=”'.$uses_data['pin'].'” otp=”'.$uses_data['otp'].'”/&gt;';\n    $format.= '&lt;Tkn type=”'.$tkn_data['type'].'” value=”'.$tkn_data['value'].'”/&gt;';\n    $format.= '&lt;Meta udc=”'.$meta_data['udc'].'” fdc=”'.$meta_data['fdc'].'” idc=”'.$meta_data['idc'].'” pip=”'.$meta_data['pip'].'” lot=”'.$meta_data['lot'].'” lov=”'.$meta_data['lov'].'”/&gt;';\n    $format.= '&lt;Skey ci=”'.$skey_data['ci'].'” ki=”'.$skey_data['ci'].'”&gt;'.$encrypted_encoded_session_key.'&lt;/Skey&gt;';\n    $format.= '&lt;Data type=”X”&gt;'.$encrypted_pid_block.'&lt;/Data&gt;';\n    $format.= '&lt;Hmac&gt;'.$sha256_pid_bloc_encrypted_encoded.'&lt;/Hmac&gt;';\n    $format.= '&lt;Signature&gt;'.$digital_aua_signatrure.'&lt;/Signature&gt;&lt;/Auth&gt;';\n    return $format;\n\n}\n$request_url = buildUrl($adhar_card_no);\n$data_to_send = requestDataBuilder($adhar_card_no);\n//setting the curl parameters.\n$ch = curl_init();\n$curl_options = [\n    CURLOPT_URL =&gt; $request_url,\n    CURLOPT_VERBOSE =&gt; 1,\n    CURLOPT_SSL_VERIFYHOST =&gt; 0,\n    CURLOPT_SSL_VERIFYPEER =&gt; 0,\n    CURLOPT_POST =&gt; 1,\n    CURLOPT_RETURNTRANSFER =&gt; 1,\n    CURLOPT_HTTPHEADER =&gt; array('Content-Type: application/xnl'),\n    CURLOPT_POSTFIELDS =&gt; $data_to_send\n];\ncurl_setopt_array($ch, $curl_options);\nif (curl_errno($ch)) {\n// moving to display page to display curl errors\n    echo curl_errno($ch) ;\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n    curl_close($ch);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10047857,"reputation":11,"user_id":7428577,"display_name":"maulik "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484650012,"creation_date":1484650012,"answer_id":41695070,"question_id":41689667,"body_markdown":"&gt;  get this response\r\n        \r\n                                                                                             &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;AuthRes code=&quot;NA&quot; err=&quot;569&quot; info=&quot;02{49951232b1f45f281c7d4f70f3cbbc57c2afd9c0d6bb5f44578bf1304d4868d4,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,1.6,20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7}&quot; ret=&quot;n&quot; ts=&quot;2017-01-17T16:07:07.664+05:30&quot; txn=&quot;AuthDemoClient:public:20160615010712053&quot;&gt;\r\n            &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                &lt;SignedInfo&gt;\r\n                    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\r\n                    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n                    &lt;Reference URI=&quot;&quot;&gt;\r\n                        &lt;Transforms&gt;\r\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\r\n                        &lt;/Transforms&gt;\r\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n                        &lt;DigestValue&gt;PTE1p00N0sHAHhrcgK3CwOPA43+3LOY9VRpd6EefPNk=&lt;/DigestValue&gt;\r\n                    &lt;/Reference&gt;\r\n                &lt;/SignedInfo&gt;\r\n                &lt;SignatureValue&gt;Rax6Fii6UcgdQB5HyaxhjltUHwfQERLCxdB+7+in29jVo+YKJrK3kwJ3Tk3nJ/+dSTQTitaSg/gY\r\n        e+mn8E+Txepqy4SMhw9jU+DLCchYnjDUu+8MpUJ6DxlmciwFuWF0oX0KosgJhMwh5+LnkmD81O+G\r\n        gnZupgwV/eh5NRIJ9+sSdJRYlgjcOs3pT+OcATO6TQR7QOEE0b4hSps6t5cGQX8aCFdBD5ZXe9r8\r\n        ufYFqoD2o2DRBXeRzWkQGTODdD2Sa0hjWDA4jueZfci9Ybt8R84CnDYGflWO/88nKQClOAJX2f9F\r\n        /ShVyjoRqStaFrmxsKIEOJ55mONmqn67wkuUWg==&lt;/SignatureValue&gt;\r\n            &lt;/Signature&gt;\r\n        &lt;/AuthRes&gt;","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<blockquote>\n  <p>get this response</p>\n</blockquote>\n\n<pre><code>                                                                                         &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;AuthRes code=\"NA\" err=\"569\" info=\"02{49951232b1f45f281c7d4f70f3cbbc57c2afd9c0d6bb5f44578bf1304d4868d4,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,1.6,20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7}\" ret=\"n\" ts=\"2017-01-17T16:07:07.664+05:30\" txn=\"AuthDemoClient:public:20160615010712053\"&gt;\n        &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n            &lt;SignedInfo&gt;\n                &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n                &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n                &lt;Reference URI=\"\"&gt;\n                    &lt;Transforms&gt;\n                        &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n                    &lt;/Transforms&gt;\n                    &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/&gt;\n                    &lt;DigestValue&gt;PTE1p00N0sHAHhrcgK3CwOPA43+3LOY9VRpd6EefPNk=&lt;/DigestValue&gt;\n                &lt;/Reference&gt;\n            &lt;/SignedInfo&gt;\n            &lt;SignatureValue&gt;Rax6Fii6UcgdQB5HyaxhjltUHwfQERLCxdB+7+in29jVo+YKJrK3kwJ3Tk3nJ/+dSTQTitaSg/gY\n    e+mn8E+Txepqy4SMhw9jU+DLCchYnjDUu+8MpUJ6DxlmciwFuWF0oX0KosgJhMwh5+LnkmD81O+G\n    gnZupgwV/eh5NRIJ9+sSdJRYlgjcOs3pT+OcATO6TQR7QOEE0b4hSps6t5cGQX8aCFdBD5ZXe9r8\n    ufYFqoD2o2DRBXeRzWkQGTODdD2Sa0hjWDA4jueZfci9Ybt8R84CnDYGflWO/88nKQClOAJX2f9F\n    /ShVyjoRqStaFrmxsKIEOJ55mONmqn67wkuUWg==&lt;/SignatureValue&gt;\n        &lt;/Signature&gt;\n    &lt;/AuthRes&gt;\n</code></pre>\n"}],"owner":{"account_id":10047857,"reputation":11,"user_id":7428577,"display_name":"maulik "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684482771,"creation_date":1484631107,"question_id":41689667,"body_markdown":"I want to integrate the Aadhaar Card Authentication in PHP. I can try this code but not get response.\r\nHow can get the response  using this code other wise where I was wrong? I can find more details of Aadhaar card api but not get response.\r\n\r\n    &lt;?php\r\n\r\n    $URL = &quot;http://auth.uidai.gov.in/1.6/public/9/9/MH4hSkrev2h_Feu0lBRC8NI-iqzT299_qPSSstOFbNFTwWrie29ThDo&quot;;\r\n\r\n    $xml_data = &#39;&lt;?xml version=&quot;1.0&quot;?&gt;         \r\n        &lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/1.0&quot; \r\n              ver=&quot;1.5&quot; tid=&quot;public&quot; ac=&quot;public&quot; sa=&quot;public&quot; \r\n              lk=&quot;MKg8njN6O+QRUmYF+TrbBUCqlrCnbN/Ns6hYbnnaOk99e5UGNhhE/xQ=&quot; uid=&quot;999999990019&quot; \r\n              txn=&quot;GEO.11051880&quot;&gt; \r\n              &lt;Skey ci=&quot;20131003&quot;&gt;Nc6DrZKFk1oQXxfgnFUl0mmtYYIPl0RGaFd2oINkpChU1++xdddMx6Dlbz6mEYs3 \r\n                    IyzChGjRXN5/al9r0runFX8LspTfMchwpxaaDIOyIUguBoYmPUqJDqTQcwey6Ntc \r\n                    TJWFSgOvBg+omUkdbK/9GOQ5KWWrN+E0A9JN0IPU4IJqJZmsA6ETZlVoZteYtoMI \r\n                    Ucv53qmxNPOEmJ3s4BC3ppHRRWRFMUp/eW7DFJ33W+uInZB6yekKE0dz8fYeo03w \r\n                    2JUT1wlafL7aseb04nv5tNEbllHWafmbMpbv2pXKr+WPgytjrygt1LagGqF4a5Mr \r\n                    /UTNwsy4m/YwlkWN0QcYVw== \r\n              &lt;/Skey&gt; \r\n              &lt;Uses otp=&quot;n&quot; pin=&quot;n&quot; bio=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; /&gt; \r\n              &lt;Data&gt;YOn05vg5qMwElULpEmdiH0j6rM1XWcbQN0n+CFNQeazouCgjyPBH/a2SwbFgq/fF \r\n                    CYUm+the8gQyYC36VO49NLcNcD7WdMhweoiDYgJoCX/t87Kbq/ABoAetfX7OLAck \r\n                    /mHrTmw8tsfJgo4xGSzKZKr+pVn1O8dDHJjwgptySr7vp2Ntj6ogu6B905rsyTWw \r\n                    73iMgoILDHf5soM3Pvde+/XW5rJD9AIPQGhHnKirwkiAgNIhtWU6ttYg4t6gHHbZ \r\n                    0gVBwgjRzM3sDWKzK0EnmA== \r\n              &lt;/Data&gt; \r\n              &lt;Hmac&gt;xy+JPoVN9dsWVm4YPZFwhVBKcUzzCTVvAxikT6BT5EcPgzX2JkLFDls+kLoNMpWe \r\n              &lt;/Hmac&gt; \r\n              &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt; \r\n                    &lt;SignedInfo&gt; \r\n                          &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; /&gt; \r\n                          &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot; /&gt; \r\n                          &lt;Reference&gt; \r\n                                &lt;Transforms&gt; \r\n                                      &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot; /&gt; \r\n                                &lt;/Transforms&gt; \r\n                                &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot; /&gt; \r\n                                &lt;DigestValue&gt;Idd9hQtO+YAR4bjfQpNxXQ/EvXc=&lt;/DigestValue&gt; \r\n                          &lt;/Reference&gt; \r\n                    &lt;/SignedInfo&gt; \r\n                    &lt;SignatureValue&gt;SyFAqzqtJ/VTWcR5cdxoIcsa7GMmgJo7X2Rtr+CVYZLaL2myg3HgaasaT7tPOa95 \r\n                          xYJwnwA/pl+S7ki+W/4Kq1nraV/wxArgE5hFTUFG8G/MOcuMy9Ajd1VPvuqMGvHA \r\n                          gzGfV+qTcU+1lhQscYnwJqqFmoViZO7NRVwPcfgadXs=&lt;/SignatureValue&gt; \r\n                    &lt;KeyInfo&gt; \r\n                          &lt;X509Data&gt; \r\n                                &lt;X509Certificate&gt;MIICfzCCAeigAwIBAgIGAbAh09VkMA0GCSqGSIb3DQEBBQUAMHoxCzAJBgNVBAYT \r\n                                      AklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3JlMQ4wDAYDVQQKEwVV \r\n                                      SURBSTEeMBwGA1UECxMVQXV0aGVudGljYXRpb24gU2VydmVyMRowGAYDVQQDExFV \r\n                                      SURBSSBBdXRoIFNlcnZlcjAeFw0xMTA2MjgwNDQwNDRaFw0xMjA2MjgwNDQwNDRa \r\n                                      MGkxCzAJBgNVBAYTAklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3Jl \r\n                                      MRMwEQYDVQQKEwpQdWJsaWMgQVVBMQ8wDQYDVQQLEwZQdWJsaWMxEzARBgNVBAMT \r\n                                      ClB1YmxpYyBBVUEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAJBEgKhZZNmH \r\n                                      ejKTFaSg0Z/KN6kP98/FKpPkGTlkovJxa7KX0x74I++JhObM8SkRgCGR3DBK/YZB \r\n                                      o0ZCbvs9czTEoDA8CBMDSFLEP5z+Zi65hdNT9XQiaeN0sSY7N4cafsS/KH/LESbM \r\n                                      6I5OLvSGj10aQB8KDgwItvp/7xK6/Vu3AgMBAAGjITAfMB0GA1UdDgQWBBSd3qZJ \r\n                                      j5lPp+1zkJJCqyZoTLLWAzANBgkqhkiG9w0BAQUFAAOBgQBiGVbCITrygzpC+09u \r\n                                      R/l8w0hCInLusQMZeXgHcnxBGDSk1AQxKk5UfQmCwHNcRJMB5Zkj8+9n6T+/wx6D \r\n                                      tKDelktgIoo7w0EJ6MdVJ9Qzr5PJcYzX+ERgJEd/NNNVoPjFc2Al2odjToZdFN8+ \r\n                                      /upJnBH02TRb1Wq63OtcuyBIFA==&lt;/X509Certificate&gt; \r\n                                &lt;X509SubjectName&gt;CN=Public AUA,OU=Public,O=Public \r\n                                      AUA,L=Bangalore,ST=KA,C=IN&lt;/X509SubjectName&gt; \r\n                          &lt;/X509Data&gt; \r\n                    &lt;/KeyInfo&gt; \r\n              &lt;/Signature&gt; \r\n        &lt;/Auth&gt;&#39;;\r\n\r\n    //setting the curl parameters.\r\n    $ch = curl_init();\r\n\r\n    curl_setopt($ch, CURLOPT_URL, $URL);\r\n    curl_setopt($ch, CURLOPT_VERBOSE, 1);\r\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\r\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\r\n    curl_setopt($ch, CURLOPT_POST, 1);\r\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\r\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(&#39;Content-Type: application/xml&#39;));\r\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\r\n\r\n    if (curl_errno($ch)) {\r\n        // moving to display page to display curl errors\r\n        echo curl_errno($ch);\r\n        echo curl_error($ch);\r\n    } else {\r\n        //getting response from server\r\n        $response = curl_exec($ch);\r\n        print_r($response);\r\n\r\n        curl_close($ch);\r\n    }\r\n    ?&gt;\r\n","title":"I want to integrate the Aadhaar Card Authentication in PHP. I tried this code for API access but I can not get any response","body":"<p>I want to integrate the Aadhaar Card Authentication in PHP. I can try this code but not get response.\nHow can get the response  using this code other wise where I was wrong? I can find more details of Aadhaar card api but not get response.</p>\n\n<pre><code>&lt;?php\n\n$URL = \"http://auth.uidai.gov.in/1.6/public/9/9/MH4hSkrev2h_Feu0lBRC8NI-iqzT299_qPSSstOFbNFTwWrie29ThDo\";\n\n$xml_data = '&lt;?xml version=\"1.0\"?&gt;         \n    &lt;Auth xmlns=\"http://www.uidai.gov.in/authentication/uid-auth-request/1.0\" \n          ver=\"1.5\" tid=\"public\" ac=\"public\" sa=\"public\" \n          lk=\"MKg8njN6O+QRUmYF+TrbBUCqlrCnbN/Ns6hYbnnaOk99e5UGNhhE/xQ=\" uid=\"999999990019\" \n          txn=\"GEO.11051880\"&gt; \n          &lt;Skey ci=\"20131003\"&gt;Nc6DrZKFk1oQXxfgnFUl0mmtYYIPl0RGaFd2oINkpChU1++xdddMx6Dlbz6mEYs3 \n                IyzChGjRXN5/al9r0runFX8LspTfMchwpxaaDIOyIUguBoYmPUqJDqTQcwey6Ntc \n                TJWFSgOvBg+omUkdbK/9GOQ5KWWrN+E0A9JN0IPU4IJqJZmsA6ETZlVoZteYtoMI \n                Ucv53qmxNPOEmJ3s4BC3ppHRRWRFMUp/eW7DFJ33W+uInZB6yekKE0dz8fYeo03w \n                2JUT1wlafL7aseb04nv5tNEbllHWafmbMpbv2pXKr+WPgytjrygt1LagGqF4a5Mr \n                /UTNwsy4m/YwlkWN0QcYVw== \n          &lt;/Skey&gt; \n          &lt;Uses otp=\"n\" pin=\"n\" bio=\"n\" pa=\"n\" pfa=\"n\" pi=\"y\" /&gt; \n          &lt;Data&gt;YOn05vg5qMwElULpEmdiH0j6rM1XWcbQN0n+CFNQeazouCgjyPBH/a2SwbFgq/fF \n                CYUm+the8gQyYC36VO49NLcNcD7WdMhweoiDYgJoCX/t87Kbq/ABoAetfX7OLAck \n                /mHrTmw8tsfJgo4xGSzKZKr+pVn1O8dDHJjwgptySr7vp2Ntj6ogu6B905rsyTWw \n                73iMgoILDHf5soM3Pvde+/XW5rJD9AIPQGhHnKirwkiAgNIhtWU6ttYg4t6gHHbZ \n                0gVBwgjRzM3sDWKzK0EnmA== \n          &lt;/Data&gt; \n          &lt;Hmac&gt;xy+JPoVN9dsWVm4YPZFwhVBKcUzzCTVvAxikT6BT5EcPgzX2JkLFDls+kLoNMpWe \n          &lt;/Hmac&gt; \n          &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt; \n                &lt;SignedInfo&gt; \n                      &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt; \n                      &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt; \n                      &lt;Reference&gt; \n                            &lt;Transforms&gt; \n                                  &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /&gt; \n                            &lt;/Transforms&gt; \n                            &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt; \n                            &lt;DigestValue&gt;Idd9hQtO+YAR4bjfQpNxXQ/EvXc=&lt;/DigestValue&gt; \n                      &lt;/Reference&gt; \n                &lt;/SignedInfo&gt; \n                &lt;SignatureValue&gt;SyFAqzqtJ/VTWcR5cdxoIcsa7GMmgJo7X2Rtr+CVYZLaL2myg3HgaasaT7tPOa95 \n                      xYJwnwA/pl+S7ki+W/4Kq1nraV/wxArgE5hFTUFG8G/MOcuMy9Ajd1VPvuqMGvHA \n                      gzGfV+qTcU+1lhQscYnwJqqFmoViZO7NRVwPcfgadXs=&lt;/SignatureValue&gt; \n                &lt;KeyInfo&gt; \n                      &lt;X509Data&gt; \n                            &lt;X509Certificate&gt;MIICfzCCAeigAwIBAgIGAbAh09VkMA0GCSqGSIb3DQEBBQUAMHoxCzAJBgNVBAYT \n                                  AklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3JlMQ4wDAYDVQQKEwVV \n                                  SURBSTEeMBwGA1UECxMVQXV0aGVudGljYXRpb24gU2VydmVyMRowGAYDVQQDExFV \n                                  SURBSSBBdXRoIFNlcnZlcjAeFw0xMTA2MjgwNDQwNDRaFw0xMjA2MjgwNDQwNDRa \n                                  MGkxCzAJBgNVBAYTAklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3Jl \n                                  MRMwEQYDVQQKEwpQdWJsaWMgQVVBMQ8wDQYDVQQLEwZQdWJsaWMxEzARBgNVBAMT \n                                  ClB1YmxpYyBBVUEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAJBEgKhZZNmH \n                                  ejKTFaSg0Z/KN6kP98/FKpPkGTlkovJxa7KX0x74I++JhObM8SkRgCGR3DBK/YZB \n                                  o0ZCbvs9czTEoDA8CBMDSFLEP5z+Zi65hdNT9XQiaeN0sSY7N4cafsS/KH/LESbM \n                                  6I5OLvSGj10aQB8KDgwItvp/7xK6/Vu3AgMBAAGjITAfMB0GA1UdDgQWBBSd3qZJ \n                                  j5lPp+1zkJJCqyZoTLLWAzANBgkqhkiG9w0BAQUFAAOBgQBiGVbCITrygzpC+09u \n                                  R/l8w0hCInLusQMZeXgHcnxBGDSk1AQxKk5UfQmCwHNcRJMB5Zkj8+9n6T+/wx6D \n                                  tKDelktgIoo7w0EJ6MdVJ9Qzr5PJcYzX+ERgJEd/NNNVoPjFc2Al2odjToZdFN8+ \n                                  /upJnBH02TRb1Wq63OtcuyBIFA==&lt;/X509Certificate&gt; \n                            &lt;X509SubjectName&gt;CN=Public AUA,OU=Public,O=Public \n                                  AUA,L=Bangalore,ST=KA,C=IN&lt;/X509SubjectName&gt; \n                      &lt;/X509Data&gt; \n                &lt;/KeyInfo&gt; \n          &lt;/Signature&gt; \n    &lt;/Auth&gt;';\n\n//setting the curl parameters.\n$ch = curl_init();\n\ncurl_setopt($ch, CURLOPT_URL, $URL);\ncurl_setopt($ch, CURLOPT_VERBOSE, 1);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/xml'));\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\n\nif (curl_errno($ch)) {\n    // moving to display page to display curl errors\n    echo curl_errno($ch);\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n\n    curl_close($ch);\n}\n?&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":2,"creation_date":1684484509,"post_id":76287029,"comment_id":134527126,"body_markdown":"This requirement makes no sense. The user can&#39;t change its role. Only administrators can change roles. So the information is useless for regular users. But it is a security issue, because the application exposes security information.","body":"This requirement makes no sense. The user can&#39;t change its role. Only administrators can change roles. So the information is useless for regular users. But it is a security issue, because the application exposes security information."},{"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"score":0,"creation_date":1684485290,"post_id":76287029,"comment_id":134527286,"body_markdown":"Thanks for chiming in. I can tell you it makes sense in our scenario. When it comes to exposing security information, this is always a balance, and letting the user know that you need a certain role to be allowed to perform it is an acceptable one to make (again in our scenario).","body":"Thanks for chiming in. I can tell you it makes sense in our scenario. When it comes to exposing security information, this is always a balance, and letting the user know that you need a certain role to be allowed to perform it is an acceptable one to make (again in our scenario)."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1684485678,"post_id":76287029,"comment_id":134527365,"body_markdown":"My point is, that Spring Security is built on security best practices, so I wouldn&#39;t expect support to easy break these best practices. Maybe I&#39;m wrong, we will see if someone answers your question with an easy solution.","body":"My point is, that Spring Security is built on security best practices, so I wouldn&#39;t expect support to easy break these best practices. Maybe I&#39;m wrong, we will see if someone answers your question with an easy solution."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1684487133,"post_id":76287029,"comment_id":134527644,"body_markdown":"telling a user which role is missing is aiding people with malicious intents in their endeavors. I too agree, that its very bad practice to give out any type of security information that aids.","body":"telling a user which role is missing is aiding people with malicious intents in their endeavors. I too agree, that its very bad practice to give out any type of security information that aids."},{"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"score":1,"creation_date":1684490374,"post_id":76287029,"comment_id":134528318,"body_markdown":"Look, I do not claim that this is not a deviation from the perfect path, but sometimes you have to deal with real-life scenarios. Telling an authenticated user behind (sometimes several) layers of infrastructure security what role they will need to perform a task is useful so they can ask their manager to elevate their privileges. The API docs already mention what role and ACL permissions you are required to hold to perform a certain operation. There is really not any new information exposed other than making your API easier to reason with and debug. Could even have this as a staging/test only","body":"Look, I do not claim that this is not a deviation from the perfect path, but sometimes you have to deal with real-life scenarios. Telling an authenticated user behind (sometimes several) layers of infrastructure security what role they will need to perform a task is useful so they can ask their manager to elevate their privileges. The API docs already mention what role and ACL permissions you are required to hold to perform a certain operation. There is really not any new information exposed other than making your API easier to reason with and debug. Could even have this as a staging/test only"}],"owner":{"account_id":954654,"reputation":1013,"user_id":980178,"display_name":"Morten Haraldsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684482384,"creation_date":1684482384,"question_id":76287029,"body_markdown":"The `AuthorizationManagerBeforeMethodInterceptor` has this method that unfortunately makes it really hard to create a custom exception that contains the required information about the required role:\r\n\r\n```\r\nprivate void attemptAuthorization(MethodInvocation mi) {\r\n\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Authorizing method invocation &quot; + mi));\r\n\t\tAuthorizationDecision decision = this.authorizationManager.check(this.authentication, mi);\r\n\t\tthis.eventPublisher.publishAuthorizationEvent(this.authentication, mi, decision);\r\n\t\tif (decision != null &amp;&amp; !decision.isGranted()) {\r\n\t\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Failed to authorize &quot; + mi + &quot; with authorization manager &quot;\r\n\t\t\t\t\t+ this.authorizationManager + &quot; and decision &quot; + decision));\r\n\t\t\tthrow new AccessDeniedException(&quot;Access Denied&quot;);\r\n\t\t}\r\n\t\tthis.logger.debug(LogMessage.of(() -&gt; &quot;Authorized method invocation &quot; + mi));\r\n\t}\r\n```\r\n\r\nI would like to use as little custom code as possible, but I still need to keep the ability to tell the user which role was missing and not just &quot;access denied&quot;.\r\n\r\nIs there a way that we could add a customizer for this?","title":"How to throw a custom AccessDenied exception in Spring Security","body":"<p>The <code>AuthorizationManagerBeforeMethodInterceptor</code> has this method that unfortunately makes it really hard to create a custom exception that contains the required information about the required role:</p>\n<pre><code>private void attemptAuthorization(MethodInvocation mi) {\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorizing method invocation &quot; + mi));\n        AuthorizationDecision decision = this.authorizationManager.check(this.authentication, mi);\n        this.eventPublisher.publishAuthorizationEvent(this.authentication, mi, decision);\n        if (decision != null &amp;&amp; !decision.isGranted()) {\n            this.logger.debug(LogMessage.of(() -&gt; &quot;Failed to authorize &quot; + mi + &quot; with authorization manager &quot;\n                    + this.authorizationManager + &quot; and decision &quot; + decision));\n            throw new AccessDeniedException(&quot;Access Denied&quot;);\n        }\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorized method invocation &quot; + mi));\n    }\n</code></pre>\n<p>I would like to use as little custom code as possible, but I still need to keep the ability to tell the user which role was missing and not just &quot;access denied&quot;.</p>\n<p>Is there a way that we could add a customizer for this?</p>\n"},{"tags":["java","spring-boot","microsoft-graph-api"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684543337,"post_id":76287017,"comment_id":134537307,"body_markdown":"Your code throws that exception for several different conditions, so you can&#39;t really tell what&#39;s happening.  You need to differentiate the exception causes and log all available data, especially including the HTTP status code, so you can troubleshoot.  Without that as a minimum nobody can help.","body":"Your code throws that exception for several different conditions, so you can&#39;t really tell what&#39;s happening.  You need to differentiate the exception causes and log all available data, especially including the HTTP status code, so you can troubleshoot.  Without that as a minimum nobody can help."}],"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684482279,"creation_date":1684482279,"question_id":76287017,"body_markdown":"I&#39;m having issues with this class that I&#39;m using to download files from SharePoint. The reason I&#39;m reaching out here is that sometimes this method works correctly, and other times it doesn&#39;t and displays the error I&#39;m attaching below.\r\n\r\n```java\r\npackage xyz.derivadas.provider.sharepoint;\r\n\r\n\r\n\r\n\r\n/**\r\n * Realiza las inteeracciones con Sharepoint.\r\n */\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class SharePointClient {\r\n\r\n    private static final String AUTHORIZATION = &quot;Authorization&quot;;\r\n    private static final String BEARER = &quot;Bearer &quot;;\r\n    private static final String ACCEPT = &quot;Accept&quot;;\r\n    private static final String APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\r\n    private static final String DRIVE_ROOT_SEARCH_TOKEN = &quot;/drive/root/search(q=&#39;&quot;;\r\n    private static final String DRIVE_ROOT_SEARCH_TOKEN_CLOSE = &quot;&#39;)&quot;;\r\n    private static final String CHARSET_JSON_SHAREPOINT_RESPONSE = &quot;UTF-8&quot;;\r\n    private static final String SITES_TOKEN_VALUE = &quot;value&quot;;\r\n    private static final String EXPECTED_TOKEN_ID = &quot;id&quot;;\r\n    private final SharePointProperties sharePointProperties;\r\n\r\n    /**\r\n     * Autentica en Microsoft Azure.\r\n     *\r\n     * @return {@link IAuthenticationResult}\r\n     * @throws Exception Si algo falla\r\n     */\r\n    private IAuthenticationResult authenticate() throws Exception {\r\n        ConfidentialClientApplication app = ConfidentialClientApplication\r\n            .builder(sharePointProperties.getClientId(), ClientCredentialFactory.createFromSecret(sharePointProperties.getClientSecret()))\r\n            .authority(sharePointProperties.getAuthority() + sharePointProperties.getTenantId())\r\n            .build();\r\n\r\n        ClientCredentialParameters parameters = ClientCredentialParameters\r\n            .builder(Collections.singleton(this.sharePointProperties.getGraphDefaultSchema()))\r\n            .build();\r\n\r\n        return app.acquireToken(parameters).join();\r\n    }\r\n\r\n    /**\r\n     * Descarga un fichero (previa autenticacion)\r\n     *\r\n     * @param fileUrl       URL en SharePoint\r\n     * @param localFilePath Ruta donde descargarlo.\r\n     * @throws Exception Si algo falla\r\n     */\r\n    @Async\r\n    public Optional&lt;Integer&gt; downloadFile(String fileUrl, String localFilePath) throws Exception {\r\n        checkFileExists(localFilePath);\r\n\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        final String graphDownloadUrl = convertToGraphDownloadUrl(fileUrl);\r\n\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n            HttpGet httpGet = new HttpGet(graphDownloadUrl);\r\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\r\n            httpGet.addHeader(ACCEPT, APPLICATION_OCTET_STREAM);\r\n\r\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n                log.trace(&quot;downloadFile response = {}&quot;, response);\r\n                int statusCode = response.getStatusLine().getStatusCode();\r\n                if (statusCode == 200) {\r\n                    HttpEntity entity = response.getEntity();\r\n                    if (entity != null) {\r\n                        try (OutputStream outputStream = new FileOutputStream(localFilePath)) {\r\n                            entity.writeTo(outputStream);\r\n                        }\r\n                    }\r\n                    return Optional.of(statusCode);\r\n                } else {\r\n                    final String responseString = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\r\n                    log.error(&quot;Error en la descarga del fichero. El codigo de estado no es 200.&quot;);\r\n                    log.error(&quot;\\tstatusCode = {}&quot;, statusCode);\r\n                    log.error(&quot;\\tresponse = {}&quot;, responseString);\r\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Comprueba si el fichero existe.\r\n     *\r\n     * @param localFilePath Path que se quiere ver.\r\n     */\r\n    private static void checkFileExists(String localFilePath) {\r\n        File file = new File(localFilePath);\r\n        if (file.exists()) {\r\n            throw new OposhieldException(ErrorCode.DUPLICATED_FILE);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convierte una URL de Sharepoint en una URL de graph\r\n     *\r\n     * @param sharePointUrl Sharepoint URL\r\n     * @return Graph URL\r\n     * @throws Exception Si algo ha ido mal.\r\n     */\r\n    private String convertToGraphDownloadUrl(String sharePointUrl) throws Exception {\r\n        final String siteId = getSiteId(&quot;Materialesoposiciones&quot;);\r\n        String itemId = getItemId(siteId, sharePointUrl);\r\n        return this.sharePointProperties.getGraphApiUrl().replace(&quot;{site-id}&quot;, siteId).replace(&quot;{item-id}&quot;, itemId);\r\n    }\r\n\r\n    private String getItemId(String siteId, String sharePointUrl) throws Exception {\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        String fileName = sharePointUrl.substring(sharePointUrl.lastIndexOf(&quot;/&quot;) + 1);\r\n        String itemUrl =\r\n            this.sharePointProperties.getGraphSitesUrl() + siteId + DRIVE_ROOT_SEARCH_TOKEN + fileName + DRIVE_ROOT_SEARCH_TOKEN_CLOSE;\r\n\r\n        return getIdFromURL(accessToken, itemUrl);\r\n    }\r\n\r\n    /**\r\n     * Obtiene el siteId de graph sobre el nombre de sharepoint\r\n     *\r\n     * @param siteName Nombre del sitio en sharepoint\r\n     * @return SiteId\r\n     * @throws Exception\r\n\r\n     */\r\n    @Cacheable(&quot;SHAREPOINT_SITE_ID_CACHE&quot;)\r\n    public String getSiteId(String siteName) throws Exception {\r\n        IAuthenticationResult result = authenticate();\r\n        String accessToken = result.accessToken();\r\n\r\n        final String siteUrl = this.sharePointProperties.getGraphSitesUrl() + &quot;?search=&quot; + siteName;\r\n\r\n        return getIdFromURL(accessToken, siteUrl);\r\n    }\r\n\r\n    /**\r\n     * Realiza la peticion y procesa el JSON, obteniendo el ID\r\n     * @param accessToken Token\r\n     * @param siteUrl Site URL\r\n     * @return ID String\r\n     * @throws IOException\r\n     * @throws JSONException\r\n     */\r\n    private static String getIdFromURL(String accessToken, String siteUrl) throws IOException, JSONException {\r\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\r\n            HttpGet httpGet = new HttpGet(siteUrl);\r\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\r\n\r\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n                int statusCode = response.getStatusLine().getStatusCode();\r\n                if (statusCode == 200) {\r\n                    String jsonResponse = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\r\n                    JSONObject jsonObject = new JSONObject(jsonResponse);\r\n                    JSONArray sites = jsonObject.getJSONArray(SITES_TOKEN_VALUE);\r\n                    if (sites.length() &gt; 0) {\r\n                        JSONObject site = sites.getJSONObject(0);\r\n                        return site.getString(EXPECTED_TOKEN_ID);\r\n                    } else {\r\n                        throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                    }\r\n                } else {\r\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve conducted several tests, such as waiting for some time after uploading the file before attempting to download it, or trying to download it immediately, but I haven&#39;t been able to achieve anything.\r\n\r\n```\r\n2023-05-19 07:29:52.927 ERROR 33372 --- [oposhield-task-2] x.d.p.sharepoint.SharePointClient        : Exception in downloadFile() with cause = NULL \r\n2023-05-19 07:29:52.928 ERROR 33372 --- [oposhield-task-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public java.util.Optional xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(java.lang.String,java.lang.String) throws java.lang.Exception \r\n\r\nxyz.derivadas.domain.error.OposhieldException: Se ha producido un error relacionado con sharepoint\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.getIdFromURL(SharePointClient.java:187)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.getItemId(SharePointClient.java:143)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.convertToGraphDownloadUrl(SharePointClient.java:131)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(SharePointClient.java:81)\r\n\tat xyz.derivadas.provider.sharepoint.SharePointClient$$FastClassBySpringCGLIB$$677ff96c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\tat xyz.derivadas.aop.logging.LoggingAspect.logAround(LoggingAspect.java:109)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor108.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat tech.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:79)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Troubleshooting Inconsistent File Download Issues from SharePoint","body":"<p>I'm having issues with this class that I'm using to download files from SharePoint. The reason I'm reaching out here is that sometimes this method works correctly, and other times it doesn't and displays the error I'm attaching below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xyz.derivadas.provider.sharepoint;\n\n\n\n\n/**\n * Realiza las inteeracciones con Sharepoint.\n */\n@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class SharePointClient {\n\n    private static final String AUTHORIZATION = &quot;Authorization&quot;;\n    private static final String BEARER = &quot;Bearer &quot;;\n    private static final String ACCEPT = &quot;Accept&quot;;\n    private static final String APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN = &quot;/drive/root/search(q='&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN_CLOSE = &quot;')&quot;;\n    private static final String CHARSET_JSON_SHAREPOINT_RESPONSE = &quot;UTF-8&quot;;\n    private static final String SITES_TOKEN_VALUE = &quot;value&quot;;\n    private static final String EXPECTED_TOKEN_ID = &quot;id&quot;;\n    private final SharePointProperties sharePointProperties;\n\n    /**\n     * Autentica en Microsoft Azure.\n     *\n     * @return {@link IAuthenticationResult}\n     * @throws Exception Si algo falla\n     */\n    private IAuthenticationResult authenticate() throws Exception {\n        ConfidentialClientApplication app = ConfidentialClientApplication\n            .builder(sharePointProperties.getClientId(), ClientCredentialFactory.createFromSecret(sharePointProperties.getClientSecret()))\n            .authority(sharePointProperties.getAuthority() + sharePointProperties.getTenantId())\n            .build();\n\n        ClientCredentialParameters parameters = ClientCredentialParameters\n            .builder(Collections.singleton(this.sharePointProperties.getGraphDefaultSchema()))\n            .build();\n\n        return app.acquireToken(parameters).join();\n    }\n\n    /**\n     * Descarga un fichero (previa autenticacion)\n     *\n     * @param fileUrl       URL en SharePoint\n     * @param localFilePath Ruta donde descargarlo.\n     * @throws Exception Si algo falla\n     */\n    @Async\n    public Optional&lt;Integer&gt; downloadFile(String fileUrl, String localFilePath) throws Exception {\n        checkFileExists(localFilePath);\n\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String graphDownloadUrl = convertToGraphDownloadUrl(fileUrl);\n\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(graphDownloadUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n            httpGet.addHeader(ACCEPT, APPLICATION_OCTET_STREAM);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                log.trace(&quot;downloadFile response = {}&quot;, response);\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    HttpEntity entity = response.getEntity();\n                    if (entity != null) {\n                        try (OutputStream outputStream = new FileOutputStream(localFilePath)) {\n                            entity.writeTo(outputStream);\n                        }\n                    }\n                    return Optional.of(statusCode);\n                } else {\n                    final String responseString = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    log.error(&quot;Error en la descarga del fichero. El codigo de estado no es 200.&quot;);\n                    log.error(&quot;\\tstatusCode = {}&quot;, statusCode);\n                    log.error(&quot;\\tresponse = {}&quot;, responseString);\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n\n    /**\n     * Comprueba si el fichero existe.\n     *\n     * @param localFilePath Path que se quiere ver.\n     */\n    private static void checkFileExists(String localFilePath) {\n        File file = new File(localFilePath);\n        if (file.exists()) {\n            throw new OposhieldException(ErrorCode.DUPLICATED_FILE);\n        }\n    }\n\n    /**\n     * Convierte una URL de Sharepoint en una URL de graph\n     *\n     * @param sharePointUrl Sharepoint URL\n     * @return Graph URL\n     * @throws Exception Si algo ha ido mal.\n     */\n    private String convertToGraphDownloadUrl(String sharePointUrl) throws Exception {\n        final String siteId = getSiteId(&quot;Materialesoposiciones&quot;);\n        String itemId = getItemId(siteId, sharePointUrl);\n        return this.sharePointProperties.getGraphApiUrl().replace(&quot;{site-id}&quot;, siteId).replace(&quot;{item-id}&quot;, itemId);\n    }\n\n    private String getItemId(String siteId, String sharePointUrl) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        String fileName = sharePointUrl.substring(sharePointUrl.lastIndexOf(&quot;/&quot;) + 1);\n        String itemUrl =\n            this.sharePointProperties.getGraphSitesUrl() + siteId + DRIVE_ROOT_SEARCH_TOKEN + fileName + DRIVE_ROOT_SEARCH_TOKEN_CLOSE;\n\n        return getIdFromURL(accessToken, itemUrl);\n    }\n\n    /**\n     * Obtiene el siteId de graph sobre el nombre de sharepoint\n     *\n     * @param siteName Nombre del sitio en sharepoint\n     * @return SiteId\n     * @throws Exception\n\n     */\n    @Cacheable(&quot;SHAREPOINT_SITE_ID_CACHE&quot;)\n    public String getSiteId(String siteName) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String siteUrl = this.sharePointProperties.getGraphSitesUrl() + &quot;?search=&quot; + siteName;\n\n        return getIdFromURL(accessToken, siteUrl);\n    }\n\n    /**\n     * Realiza la peticion y procesa el JSON, obteniendo el ID\n     * @param accessToken Token\n     * @param siteUrl Site URL\n     * @return ID String\n     * @throws IOException\n     * @throws JSONException\n     */\n    private static String getIdFromURL(String accessToken, String siteUrl) throws IOException, JSONException {\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(siteUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    String jsonResponse = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    JSONObject jsonObject = new JSONObject(jsonResponse);\n                    JSONArray sites = jsonObject.getJSONArray(SITES_TOKEN_VALUE);\n                    if (sites.length() &gt; 0) {\n                        JSONObject site = sites.getJSONObject(0);\n                        return site.getString(EXPECTED_TOKEN_ID);\n                    } else {\n                        throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                    }\n                } else {\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've conducted several tests, such as waiting for some time after uploading the file before attempting to download it, or trying to download it immediately, but I haven't been able to achieve anything.</p>\n<pre><code>2023-05-19 07:29:52.927 ERROR 33372 --- [oposhield-task-2] x.d.p.sharepoint.SharePointClient        : Exception in downloadFile() with cause = NULL \n2023-05-19 07:29:52.928 ERROR 33372 --- [oposhield-task-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public java.util.Optional xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(java.lang.String,java.lang.String) throws java.lang.Exception \n\nxyz.derivadas.domain.error.OposhieldException: Se ha producido un error relacionado con sharepoint\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getIdFromURL(SharePointClient.java:187)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getItemId(SharePointClient.java:143)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.convertToGraphDownloadUrl(SharePointClient.java:131)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(SharePointClient.java:81)\n    at xyz.derivadas.provider.sharepoint.SharePointClient$$FastClassBySpringCGLIB$$677ff96c.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at xyz.derivadas.aop.logging.LoggingAspect.logAround(LoggingAspect.java:109)\n    at jdk.internal.reflect.GeneratedMethodAccessor108.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at tech.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:79)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","reflection","jvm"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684489454,"post_id":76286862,"comment_id":134528126,"body_markdown":"Instrument `Unsafe.defineClass`?","body":"Instrument <code>Unsafe.defineClass</code>?"},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684490641,"post_id":76286862,"comment_id":134528373,"body_markdown":"That is the opposite of what I am trying to do, I want the the &quot;source&quot; bytecode that got defined to a java.lang.Class instance","body":"That is the opposite of what I am trying to do, I want the the &quot;source&quot; bytecode that got defined to a java.lang.Class instance"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684490775,"post_id":76286862,"comment_id":134528393,"body_markdown":"No, that is exactly what you want: get the bytes passed to `Unsafe.defineClass`.","body":"No, that is exactly what you want: get the bytes passed to <code>Unsafe.defineClass</code>."},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684490957,"post_id":76286862,"comment_id":134528424,"body_markdown":"Oh sorry you are right, though it raises the question of how I would do that, I know about agents and redefining classes but could you link an article, blog or thread explaining it since I don&#39;t have much experience with it","body":"Oh sorry you are right, though it raises the question of how I would do that, I know about agents and redefining classes but could you link an article, blog or thread explaining it since I don&#39;t have much experience with it"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684747887,"post_id":76286862,"comment_id":134556880,"body_markdown":"What library are you using? Most libraries allow to get the bytecode in the first place, without the need to intercept the creation of a runtime class.","body":"What library are you using? Most libraries allow to get the bytecode in the first place, without the need to intercept the creation of a runtime class."}],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684482200,"creation_date":1684480946,"question_id":76286862,"body_markdown":"I&#39;m using a library which generates some classes at runtime, now I want to export them to look at their bytecode since reflection on the classes doesn&#39;t give me enough info about them.\r\n\r\nI tried using\r\n```java\r\ngeneratedClassInstance.getClass().getResourceAsStream(generatedClassInstance.getClass().getSimpleName() + &quot;.class&quot;)\r\n```\r\n\r\nAfter this not working I looked at how the class is defined/loaded and it is a simple call to Unsafe#defineClass - so the classes bytes aren&#39;t stored in any type of collection.","title":"Get or recreate .class file of java.lang.Class instance","body":"<p>I'm using a library which generates some classes at runtime, now I want to export them to look at their bytecode since reflection on the classes doesn't give me enough info about them.</p>\n<p>I tried using</p>\n<pre class=\"lang-java prettyprint-override\"><code>generatedClassInstance.getClass().getResourceAsStream(generatedClassInstance.getClass().getSimpleName() + &quot;.class&quot;)\n</code></pre>\n<p>After this not working I looked at how the class is defined/loaded and it is a simple call to Unsafe#defineClass - so the classes bytes aren't stored in any type of collection.</p>\n"},{"tags":["java","spring-boot","tomcat","ignite"],"answers":[{"tags":[],"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684429287,"creation_date":1684429287,"answer_id":76282947,"question_id":76281806,"body_markdown":"The reason is your Tomcat seems to be running under Java 17. All the deployed apps reside in the same `JVM`, so you need to run it with proper startup options (with --add-opens). Please refer to the [docs][1].\r\n\r\nThis behaviour was introduced as a part of the Jigsaw project - [JSR 376][2].\r\n\r\nThis [question][3] sheds some light as well.\r\n\r\n\r\n  [1]: https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11\r\n  [2]: https://openjdk.org/projects/jigsaw/spec/\r\n  [3]: https://stackoverflow.com/questions/44056405/whats-the-difference-between-add-exports-and-add-opens-in-java-9","title":"Issues with Springboot and Apache Ignite deployment on Tomcat","body":"<p>The reason is your Tomcat seems to be running under Java 17. All the deployed apps reside in the same <code>JVM</code>, so you need to run it with proper startup options (with --add-opens). Please refer to the <a href=\"https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>This behaviour was introduced as a part of the Jigsaw project - <a href=\"https://openjdk.org/projects/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR 376</a>.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/44056405/whats-the-difference-between-add-exports-and-add-opens-in-java-9\">question</a> sheds some light as well.</p>\n"}],"owner":{"account_id":28628639,"reputation":23,"user_id":21920140,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76282947,"answer_count":1,"score":1,"last_activity_date":1684481853,"creation_date":1684420148,"question_id":76281806,"body_markdown":"I am currently trying to develop an api that utilizes apache ignite as an in memory cache. In the IDE I am able to get everything running and the ignite cache starts up with no issues. When I try to deploy the war file onto tomcat it seems like there is an issue trying to start up ignite. From what I have seen it looks to be possible but I cant seem to find any configuration settings whether it be in Tomcat or ignite that will allow me to do so. \r\n\r\nThe following is my pom.xml dependencies\r\n```xml\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\r\n\t\t&lt;h2.version&gt;1.4.197&lt;/h2.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!--To enable tomcat deployment--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ignite.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ignite.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nFor testing purposes I just start up ignite with \r\n\r\n    Ignition.start()\r\n\r\nupon requesting an api endpoint to start up the ignite node i see the following error logs in Tomcat\r\n```\r\n`2023-05-18T10:17:23.483-04:00 ERROR 2540 --- [nio-8080-exec-6] o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/test] due to exception [null]\r\n\r\njava.lang.ExceptionInInitializerError: null\r\n        at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:558) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:541) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.Ignition.start(Ignition.java:310) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at com.example.demo.testController.test(testController.java:26) ~[classes/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[servlet-api.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[servlet-api.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-websocket.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:124) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117) ~[spring-boot-3.0.6.jar:3.0.6]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:10.1.8]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[catalina.jar:10.1.8]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-coyote.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:10.1.8]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:10.1.8]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1570) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n        at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:109) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        ... 62 common frames omitted\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @34967d5f\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1562) ~[ignite-core-2.14.0.jar:2.14.0]\r\n        ... 66 common frames omitted`\r\n```","title":"Issues with Springboot and Apache Ignite deployment on Tomcat","body":"<p>I am currently trying to develop an api that utilizes apache ignite as an in memory cache. In the IDE I am able to get everything running and the ignite cache starts up with no issues. When I try to deploy the war file onto tomcat it seems like there is an issue trying to start up ignite. From what I have seen it looks to be possible but I cant seem to find any configuration settings whether it be in Tomcat or ignite that will allow me to do so.</p>\n<p>The following is my pom.xml dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\n        &lt;h2.version&gt;1.4.197&lt;/h2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--To enable tomcat deployment--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>For testing purposes I just start up ignite with</p>\n<pre><code>Ignition.start()\n</code></pre>\n<p>upon requesting an api endpoint to start up the ignite node i see the following error logs in Tomcat</p>\n<pre><code>`2023-05-18T10:17:23.483-04:00 ERROR 2540 --- [nio-8080-exec-6] o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/test] due to exception [null]\n\njava.lang.ExceptionInInitializerError: null\n        at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:558) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:541) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.Ignition.start(Ignition.java:310) ~[ignite-core-2.14.0.jar:2.14.0]\n        at com.example.demo.testController.test(testController.java:26) ~[classes/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[servlet-api.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[servlet-api.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-websocket.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:124) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[catalina.jar:10.1.8]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:10.1.8]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1570) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:109) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 62 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @34967d5f\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1562) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 66 common frames omitted`\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api","elasticsearch-java-api-client"],"answers":[{"tags":[],"owner":{"account_id":26282304,"reputation":36,"user_id":19950609,"display_name":"AnkhSquirrel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684447827,"creation_date":1684446328,"answer_id":76284674,"question_id":76278180,"body_markdown":"Could you try replacing *index* with *create* like this?\r\n\r\n    br.operations(op -&gt; op           \r\n            .create(c -&gt; c            \r\n                .index(&quot;products&quot;)       \r\n                .id(product.getSku())\r\n                .document(product)\r\n            )\r\n        );\r\n\r\nReading the [Bulk API doc][1] about data streams, *index* does update existing documents if they exist, and it&#39;s probably why you can&#39;t use that. Using *create* should create new indexes, as expected of [data streams][2].\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/8.7/docs-bulk.html#docs-bulk-api-desc\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/data-streams.html#backing-indices","title":"Bulk insert in elasticsearch using elasticsearch-java","body":"<p>Could you try replacing <em>index</em> with <em>create</em> like this?</p>\n<pre><code>br.operations(op -&gt; op           \n        .create(c -&gt; c            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n</code></pre>\n<p>Reading the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.7/docs-bulk.html#docs-bulk-api-desc\" rel=\"nofollow noreferrer\">Bulk API doc</a> about data streams, <em>index</em> does update existing documents if they exist, and it's probably why you can't use that. Using <em>create</em> should create new indexes, as expected of <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/data-streams.html#backing-indices\" rel=\"nofollow noreferrer\">data streams</a>.</p>\n"}],"owner":{"account_id":28620378,"reputation":13,"user_id":21913548,"display_name":"Ssk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76284674,"answer_count":1,"score":1,"last_activity_date":1684481850,"creation_date":1684390277,"question_id":76278180,"body_markdown":"I&#39;m trying to bulk insert documents in elasticsearch using java with (elasticsearch-java).\r\n\r\nI checked official documentation of elasticsearch-java and found information around bulk indexing in index, and i&#39;m able to insert bulk data in index.\r\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html\r\n```\r\nList&lt;Product&gt; products = fetchProducts();\r\n\r\nBulkRequest.Builder br = new BulkRequest.Builder();\r\n\r\nfor (Product product : products) {\r\n    br.operations(op -&gt; op           \r\n        .index(idx -&gt; idx            \r\n            .index(&quot;products&quot;)       \r\n            .id(product.getSku())\r\n            .document(product)\r\n        )\r\n    );\r\n}\r\n\r\nBulkResponse result = esClient.bulk(br.build());\r\n\r\n// Log errors, if any\r\nif (result.errors()) {\r\n    logger.error(&quot;Bulk had errors&quot;);\r\n    for (BulkResponseItem item: result.items()) {\r\n        if (item.error() != null) {\r\n            logger.error(item.error().reason());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut when I&#39;m trying to insert data in datastream using this code i&#39;m getting below error:\r\n**only write ops with an op type of create are allowed in data-streams**\r\n\r\n\r\n```\r\nclass Product\r\n{\r\n   String name;\r\n   Map&lt;String, Object&gt; info;\r\n}\r\n```\r\n\r\nHow can we bulk insert data from java object.\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\nI tried below solution, but getting error while inserting in data stream \r\n```\r\nList&lt;Product&gt; products = fetchProducts();\r\n\r\nBulkRequest.Builder br = new BulkRequest.Builder();\r\n\r\nfor (Product product : products) {\r\n    br.operations(op -&gt; op           \r\n        .index(idx -&gt; idx            \r\n            .index(&quot;products&quot;)       \r\n            .id(product.getSku())\r\n            .document(product)\r\n        )\r\n    );\r\n}\r\n\r\nBulkResponse result = esClient.bulk(br.build());\r\n\r\n// Log errors, if any\r\nif (result.errors()) {\r\n    logger.error(&quot;Bulk had errors&quot;);\r\n    for (BulkResponseItem item: result.items()) {\r\n        if (item.error() != null) {\r\n            logger.error(item.error().reason());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Bulk insert in elasticsearch using elasticsearch-java","body":"<p>I'm trying to bulk insert documents in elasticsearch using java with (elasticsearch-java).</p>\n<p>I checked official documentation of elasticsearch-java and found information around bulk indexing in index, and i'm able to insert bulk data in index.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html</a></p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n<p>But when I'm trying to insert data in datastream using this code i'm getting below error:\n<strong>only write ops with an op type of create are allowed in data-streams</strong></p>\n<pre><code>class Product\n{\n   String name;\n   Map&lt;String, Object&gt; info;\n}\n</code></pre>\n<p>How can we bulk insert data from java object.</p>\n<p>Thanks in advance.</p>\n<p>I tried below solution, but getting error while inserting in data stream</p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":12862796,"reputation":96,"user_id":9304033,"display_name":"lautumn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684481461,"creation_date":1684481461,"answer_id":76286921,"question_id":74799065,"body_markdown":"You can refer to the following methods. [Can I manually load @ConfigurationProperties without the Spring AppContext?](https://stackoverflow.com/a/60335339/9304033)\r\n\r\n```java\r\nProperties myPropertiesFromSomeOtherFile = ...;\r\n\r\nConfigurationPropertySource propertySource = new MapConfigurationPropertySource(myPropertiesFromSomeOtherFile);\r\nBinder binder = new Binder(propertySource);\r\n\r\nMyBean myBean = binder.bind(&quot;foo.bar&quot;, MyBean.class).get();\r\n\r\n```","title":"How to manually bind ConfigurationProperties to a bean / create bean from ConfigurationProperties in Spring Boot","body":"<p>You can refer to the following methods. <a href=\"https://stackoverflow.com/a/60335339/9304033\">Can I manually load @ConfigurationProperties without the Spring AppContext?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties myPropertiesFromSomeOtherFile = ...;\n\nConfigurationPropertySource propertySource = new MapConfigurationPropertySource(myPropertiesFromSomeOtherFile);\nBinder binder = new Binder(propertySource);\n\nMyBean myBean = binder.bind(&quot;foo.bar&quot;, MyBean.class).get();\n\n</code></pre>\n"}],"owner":{"account_id":22395067,"reputation":23,"user_id":16606459,"display_name":"curious_capybara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76286921,"answer_count":1,"score":1,"last_activity_date":1684481461,"creation_date":1671024803,"question_id":74799065,"body_markdown":"I use Spring Boot for a project, where configuration files are bound to a bean via \r\n\r\n```\r\n@ConfigurationProperties(prefix=&quot;foo.bar&quot;, ignoreUnknownFields = true)\r\nclass myBean{\r\n  private String propertyA;\r\n  private String propertyB;\r\n  ...\r\n} \r\n```\r\n\r\nThis works quite well, the properties are filled in a process that does not matter much for this problem - it just provides the properties of the prefix defined in the annotation.\r\n\r\nHowever, I would like to create another bean of the same class and have it filled with properties from another file.\r\n\r\nIdeally, this would be something like \r\n\r\n```\r\nMyBean otherBean = (MyBean) WhatEverClass.createBeanFromProperties(MyBean.class, Properties myPropertiesFromSomeOtherFile);\r\n```\r\n\r\nIs there some Class which is able to this Properties-to-Bean Mapping?\r\n\r\n\r\n\r\nI have searched for Classes which could implement this functionality.\r\nDefaultListableBeanFactory only provides already created Beans but I have no method to point Spring to a specific property file for this bean (except for changing the annotation, but I need the prefix mapped to this bean)","title":"How to manually bind ConfigurationProperties to a bean / create bean from ConfigurationProperties in Spring Boot","body":"<p>I use Spring Boot for a project, where configuration files are bound to a bean via</p>\n<pre><code>@ConfigurationProperties(prefix=&quot;foo.bar&quot;, ignoreUnknownFields = true)\nclass myBean{\n  private String propertyA;\n  private String propertyB;\n  ...\n} \n</code></pre>\n<p>This works quite well, the properties are filled in a process that does not matter much for this problem - it just provides the properties of the prefix defined in the annotation.</p>\n<p>However, I would like to create another bean of the same class and have it filled with properties from another file.</p>\n<p>Ideally, this would be something like</p>\n<pre><code>MyBean otherBean = (MyBean) WhatEverClass.createBeanFromProperties(MyBean.class, Properties myPropertiesFromSomeOtherFile);\n</code></pre>\n<p>Is there some Class which is able to this Properties-to-Bean Mapping?</p>\n<p>I have searched for Classes which could implement this functionality.\nDefaultListableBeanFactory only provides already created Beans but I have no method to point Spring to a specific property file for this bean (except for changing the annotation, but I need the prefix mapped to this bean)</p>\n"},{"tags":["java","coding-style","boolean"],"comments":[{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":9,"creation_date":1271570819,"post_id":2661110,"comment_id":2678572,"body_markdown":"I personally like the comparison against a literal for readability reasons - at high resolutions (and increasing age), the exclamation tends to be &quot;absorbed&quot; by many letters.","body":"I personally like the comparison against a literal for readability reasons - at high resolutions (and increasing age), the exclamation tends to be &quot;absorbed&quot; by many letters."},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1271575044,"post_id":2661110,"comment_id":2678730,"body_markdown":"@Uri: a good enough IDE should be able to make `!` stand out as much as you&#39;d like if that&#39;s truly a problem.","body":"@Uri: a good enough IDE should be able to make <code>!</code> stand out as much as you&#39;d like if that&#39;s truly a problem."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":57,"creation_date":1271581213,"post_id":2661110,"comment_id":2678973,"body_markdown":"`if (b == false == true == true) {` You want to be sure.","body":"<code>if (b == false == true == true) {</code> You want to be sure."},{"owner":{"account_id":32038,"reputation":18896,"user_id":88409,"accept_rate":38,"display_name":"Triynko"},"score":0,"creation_date":1299799995,"post_id":2661110,"comment_id":5933554,"body_markdown":"It comes down to whether it&#39;s faster to perform a logical negation on a boolean or compare one boolean value to another boolean constant, before the final resulting boolean is checked by the if statement.  I&#39;d imagine that the negation would be faster, because it could be issued directly on a memory address and handled by a hardware circuit that doesn&#39;t need to read or write or compare a thing.  Just one way of thinking about it.","body":"It comes down to whether it&#39;s faster to perform a logical negation on a boolean or compare one boolean value to another boolean constant, before the final resulting boolean is checked by the if statement.  I&#39;d imagine that the negation would be faster, because it could be issued directly on a memory address and handled by a hardware circuit that doesn&#39;t need to read or write or compare a thing.  Just one way of thinking about it."},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":0,"creation_date":1331066196,"post_id":2661110,"comment_id":12164555,"body_markdown":"@Uri, why not simply separate the ! with a space? e.g.: if ( ! x )","body":"@Uri, why not simply separate the ! with a space? e.g.: if ( ! x )"},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":2,"creation_date":1331066492,"post_id":2661110,"comment_id":12164683,"body_markdown":"@Triynko, usually this kind of thing is optimized out, so that doesnt matter, and if it isnt, it&#39;s not going to cause a noticable difference.","body":"@Triynko, usually this kind of thing is optimized out, so that doesnt matter, and if it isnt, it&#39;s not going to cause a noticable difference."},{"owner":{"account_id":958632,"reputation":3372,"user_id":983442,"accept_rate":79,"display_name":"Nacht"},"score":10,"creation_date":1333594307,"post_id":2661110,"comment_id":12816410,"body_markdown":"The truth is that people only use &quot;== true&quot; and the like because they haven&#39;t actually thought about it, and when it&#39;s pointed out to them they claim &quot;readability&quot; to save face.","body":"The truth is that people only use &quot;== true&quot; and the like because they haven&#39;t actually thought about it, and when it&#39;s pointed out to them they claim &quot;readability&quot; to save face."}],"answers":[{"tags":[],"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1271564297,"creation_date":1271564297,"answer_id":2661119,"question_id":2661110,"body_markdown":"I&#39;ve never seen the former except in code written by beginners; it&#39;s always the latter, and I don&#39;t think anyone is really confused by it. On the other hand, I think\r\n\r\n    int x;\r\n    ...\r\n    if(x) //...\r\n\r\nvs\r\n\r\n    if(x != 0) //...\r\n\r\nis much more debatable, and in that case I do prefer the second","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I've never seen the former except in code written by beginners; it's always the latter, and I don't think anyone is really confused by it. On the other hand, I think</p>\n\n<pre><code>int x;\n...\nif(x) //...\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>if(x != 0) //...\n</code></pre>\n\n<p>is much more debatable, and in that case I do prefer the second</p>\n"},{"tags":[],"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1271564304,"creation_date":1271564304,"answer_id":2661120,"question_id":2661110,"body_markdown":"In my opinion it is simply annoying. Not something I would cause a ruckus over though.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>In my opinion it is simply annoying. Not something I would cause a ruckus over though.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1643749370,"creation_date":1271564322,"answer_id":2661121,"question_id":2661110,"body_markdown":"It&#39;s not necessarily bad, it&#39;s just superfluous. Also, the actual variable name weights a lot. I would prefer for example `if (userIsAllowedToLogin)` over `if (b)` or even worse `if (flag)`.\r\n\r\nAs to the performance concern, the compiler optimizes it away at any way.\r\n\r\nAs to the authoritative sources, I can&#39;t find something explicitly in the [Java Code Conventions][1] as originally written by Sun, but at least [Checkstyle][2] has a [`SimplifyBooleanExpression`][3] module which would warn about that.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\r\n  [2]: https://checkstyle.sourceforge.io\r\n  [3]: https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>It's not necessarily bad, it's just superfluous. Also, the actual variable name weights a lot. I would prefer for example <code>if (userIsAllowedToLogin)</code> over <code>if (b)</code> or even worse <code>if (flag)</code>.</p>\n<p>As to the performance concern, the compiler optimizes it away at any way.</p>\n<p>As to the authoritative sources, I can't find something explicitly in the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\" rel=\"nofollow noreferrer\">Java Code Conventions</a> as originally written by Sun, but at least <a href=\"https://checkstyle.sourceforge.io\" rel=\"nofollow noreferrer\">Checkstyle</a> has a <a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\"><code>SimplifyBooleanExpression</code></a> module which would warn about that.</p>\n"},{"tags":[],"owner":{"account_id":7104,"reputation":38608,"user_id":12193,"accept_rate":98,"display_name":"Head Geek"},"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1271564332,"creation_date":1271564332,"answer_id":2661122,"question_id":2661110,"body_markdown":"I prefer the first, because it&#39;s clearer. The machine can read either equally well, but I try to write code for other *people* to read, not just the machine.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I prefer the first, because it's clearer. The machine can read either equally well, but I try to write code for other <em>people</em> to read, not just the machine.</p>\n"},{"tags":[],"owner":{"account_id":67988,"reputation":64041,"user_id":198643,"display_name":"Thomas"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1314979625,"creation_date":1271564600,"answer_id":2661130,"question_id":2661110,"body_markdown":"You should not use the first style. I have seen people use:\r\n\r\n- `if ( b == true )`\r\n- `if ( b == false )`\r\n\r\nI personally find it hard to read but it is passable. However, a big problem I have with that style is that it leads to the incredibly counter-intuitive examples you showed:\r\n\r\n- `if ( b != true )`\r\n- `if ( b != false )`\r\n\r\nThat takes more effort on the part of the reader to determine the authors intent. Personally, I find including an explicit comparison to true or false to be redundant and thus harder to read, but that&#39;s me.\r\n\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>You should not use the first style. I have seen people use:</p>\n\n<ul>\n<li><code>if ( b == true )</code></li>\n<li><code>if ( b == false )</code></li>\n</ul>\n\n<p>I personally find it hard to read but it is passable. However, a big problem I have with that style is that it leads to the incredibly counter-intuitive examples you showed:</p>\n\n<ul>\n<li><code>if ( b != true )</code></li>\n<li><code>if ( b != false )</code></li>\n</ul>\n\n<p>That takes more effort on the part of the reader to determine the authors intent. Personally, I find including an explicit comparison to true or false to be redundant and thus harder to read, but that's me.</p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1271570547,"creation_date":1271565249,"answer_id":2661150,"question_id":2661110,"body_markdown":"The overriding reason why you shouldn&#39;t use the first style is because both of these are valid:\r\n\r\n    if (b = false) //...\r\n    \r\n    while (b = true) //...\r\n\r\nThat is, if you accidentally leave out one character, you create an assignment instead of a comparison.  An assignment expression evaluates to the value that was assigned, so the first statement above assigns the value `false` to `b` and evaluates to `false`.  The second assigns `true` to `b`, so it always evaluates to `true`, no matter what you do with `b` inside the loop.\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>The overriding reason why you shouldn't use the first style is because both of these are valid:</p>\n\n<pre><code>if (b = false) //...\n\nwhile (b = true) //...\n</code></pre>\n\n<p>That is, if you accidentally leave out one character, you create an assignment instead of a comparison.  An assignment expression evaluates to the value that was assigned, so the first statement above assigns the value <code>false</code> to <code>b</code> and evaluates to <code>false</code>.  The second assigns <code>true</code> to <code>b</code>, so it always evaluates to <code>true</code>, no matter what you do with <code>b</code> inside the loop.</p>\n"},{"tags":[],"owner":{"account_id":58609,"reputation":21683,"user_id":175421,"accept_rate":89,"display_name":"Mahesh Velaga"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1271692579,"creation_date":1271565713,"answer_id":2661160,"question_id":2661110,"body_markdown":"IMHO, I think if you just make the bool variable names prepended with `&quot;Is&quot;`, it will be self evident and more meaningful and then, you can remove the explicit comparison with `true` or `false`\r\n\r\n**Example:**\r\n\r\n    isEdited  // use IsEdited in case of property names\r\n    isAuthorized // use IsAuthorized in case of property names\r\n\r\netc","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>IMHO, I think if you just make the bool variable names prepended with <code>\"Is\"</code>, it will be self evident and more meaningful and then, you can remove the explicit comparison with <code>true</code> or <code>false</code></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>isEdited  // use IsEdited in case of property names\nisAuthorized // use IsAuthorized in case of property names\n</code></pre>\n\n<p>etc</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":6,"up_vote_count":44,"is_accepted":false,"score":38,"last_activity_date":1444207578,"creation_date":1271570623,"answer_id":2661298,"question_id":2661110,"body_markdown":"This is strongly a matter of taste.\r\n\r\nPersonally I&#39;ve found that `if (!a) {` is a lot less _readable_ (EDIT: to me) than `if (a == false) {` and hence more error prone when maintaining the code later, and I&#39;ve converted to use the latter form.\r\n\r\nBasically I dislike the choice of symbols for logic operations instead of words (C versus Pascal), because to _me_ `a = 10 and not b = 20` reads easier than `a == 10 &amp;&amp; !(b==20)`, but that is the way it is in Java.\r\n\r\nAnybody who puts the &quot;== false&quot; approach down in favour of &quot;!&quot; clearly never had stared at code for too long and missed that exclamation mark.  Yes you can get code-blind.\r\n\r\n\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>This is strongly a matter of taste.</p>\n\n<p>Personally I've found that <code>if (!a) {</code> is a lot less <em>readable</em> (EDIT: to me) than <code>if (a == false) {</code> and hence more error prone when maintaining the code later, and I've converted to use the latter form.</p>\n\n<p>Basically I dislike the choice of symbols for logic operations instead of words (C versus Pascal), because to <em>me</em> <code>a = 10 and not b = 20</code> reads easier than <code>a == 10 &amp;&amp; !(b==20)</code>, but that is the way it is in Java.</p>\n\n<p>Anybody who puts the \"== false\" approach down in favour of \"!\" clearly never had stared at code for too long and missed that exclamation mark.  Yes you can get code-blind.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1271576608,"creation_date":1271576608,"answer_id":2661503,"question_id":2661110,"body_markdown":"Personally, I would refactor the code so I am not using a negative test. for example.\r\n\r\n    if (b == false) {\r\n       // false\r\n    } else {\r\n       // true\r\n    }\r\n\r\nor\r\n\r\n    boolean b = false;\r\n    while(b == false) {\r\n      if (condition)\r\n          b = true;\r\n    }\r\n\r\nIMHO, In 90% of cases, code can be refactored so the negative test is not required.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>Personally, I would refactor the code so I am not using a negative test. for example.</p>\n\n<pre><code>if (b == false) {\n   // false\n} else {\n   // true\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean b = false;\nwhile(b == false) {\n  if (condition)\n      b = true;\n}\n</code></pre>\n\n<p>IMHO, In 90% of cases, code can be refactored so the negative test is not required.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1275251232,"creation_date":1275251232,"answer_id":2940179,"question_id":2661110,"body_markdown":"I would say it is bad.\r\n\r\n    while (!b) {\r\n        // do something \r\n    }\r\n\r\nreads much better than\r\n\r\n    while (b != true) {\r\n        // do something \r\n    }","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I would say it is bad.</p>\n\n<pre><code>while (!b) {\n    // do something \n}\n</code></pre>\n\n<p>reads much better than</p>\n\n<pre><code>while (b != true) {\n    // do something \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821125,"reputation":1119,"user_id":2051109,"accept_rate":60,"display_name":"BOC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360247739,"creation_date":1360247739,"answer_id":14753618,"question_id":2661110,"body_markdown":"The normal guideline is to never test against boolean. Some argue that the additional verbosity adds to clarity. The added code may help some people, but every reader will need to read more code.\r\n\r\nThis morning, I have lost 1/2 hour to find a bug. The code was \r\n\r\n        if ( !strcmp(runway_in_use,&quot;CLOSED&quot;) == IPAS_FALSE)\r\n          printf(&quot; ACTIVE    FALSE \\n&quot;);   else\r\n          printf(&quot; ACTIVE    TRUE \\n&quot;);\r\n\r\n\r\nIf it was coded with normal convention, I would have seen a lot faster that it was wrong:\r\n\r\n        if (strcmp(runway_in_use, &quot;CLOSED&quot;))\r\n          printf(&quot; ACTIVE    FALSE \\n&quot;);   else\r\n          printf(&quot; ACTIVE    TRUE \\n&quot;);\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>The normal guideline is to never test against boolean. Some argue that the additional verbosity adds to clarity. The added code may help some people, but every reader will need to read more code.</p>\n\n<p>This morning, I have lost 1/2 hour to find a bug. The code was </p>\n\n<pre><code>    if ( !strcmp(runway_in_use,\"CLOSED\") == IPAS_FALSE)\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n\n<p>If it was coded with normal convention, I would have seen a lot faster that it was wrong:</p>\n\n<pre><code>    if (strcmp(runway_in_use, \"CLOSED\"))\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":445338,"reputation":7451,"user_id":837726,"accept_rate":91,"display_name":"Joel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1369149558,"creation_date":1369149558,"answer_id":16673583,"question_id":2661110,"body_markdown":"I prefer the long approach, but I compare using `==` instead of `!=` 99% of time. \r\n\r\nI know this question is about Java, but I often switch between languages, and in `C#`, for instance, comparing with  (for isntance) `== false` can help when dealing with nullable bool types. So I got this habbit of comparing with `true` or `false` but using the `==` operator.  \r\n\r\nI do these:\r\n\r\n`if(isSomething == false)` or `if(isSomething == true)`\r\n\r\nbut I hate these:\r\n\r\n`if(isSomething != false)` or `if(isSomething != true)`\r\n\r\nfor obvious readability reasons! \r\n\r\nAs long as you keep your code readable, it will not matter.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I prefer the long approach, but I compare using <code>==</code> instead of <code>!=</code> 99% of time. </p>\n\n<p>I know this question is about Java, but I often switch between languages, and in <code>C#</code>, for instance, comparing with  (for isntance) <code>== false</code> can help when dealing with nullable bool types. So I got this habbit of comparing with <code>true</code> or <code>false</code> but using the <code>==</code> operator.  </p>\n\n<p>I do these:</p>\n\n<p><code>if(isSomething == false)</code> or <code>if(isSomething == true)</code></p>\n\n<p>but I hate these:</p>\n\n<p><code>if(isSomething != false)</code> or <code>if(isSomething != true)</code></p>\n\n<p>for obvious readability reasons! </p>\n\n<p>As long as you keep your code readable, it will not matter.</p>\n"},{"tags":[],"owner":{"account_id":4105281,"reputation":66,"user_id":3369540,"display_name":"Kees Huizing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444209732,"creation_date":1444209732,"answer_id":32988507,"question_id":2661110,"body_markdown":"One of the reasons the first one (b==false) is frowned upon is that beginners often do not realize that the second alternative (!b) is possible at all. So using the first form may point at a misconception with boolean expressions and boolean variables. This way, using the second form has become some kind of a sjiboleth: when someone writes this, he/she probably understands what&#39;s going on. \r\n\r\nI believe that this has caused the difference to be considered more important than it really is.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>One of the reasons the first one (b==false) is frowned upon is that beginners often do not realize that the second alternative (!b) is possible at all. So using the first form may point at a misconception with boolean expressions and boolean variables. This way, using the second form has become some kind of a sjiboleth: when someone writes this, he/she probably understands what's going on. </p>\n\n<p>I believe that this has caused the difference to be considered more important than it really is.</p>\n"},{"tags":[],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524830043,"creation_date":1524830043,"answer_id":50061866,"question_id":2661110,"body_markdown":"This is my first answer on StackOverflow so be nice...\r\nRecently while refactoring I noticed that 2 blocks of code had almost the exact same code but one used had \r\n\r\n    for (Alert alert : alerts) {\r\n        Long currentId = alert.getUserId();\r\n\r\n\t\tif (vipList.contains(currentId)) {\r\n\t\t    customersToNotify.add(alert);\r\n\r\n\t\t    if (customersToNotify.size() == maxAlerts) {\r\n\t\t        break;\r\n\t\t\t}\r\n\t    }\r\n    }\r\nand the other had \r\n\r\n    for (Alert alert : alerts) {\r\n        Long currentId = alert.getUserId();\r\n\r\n\t\tif (!vipList.contains(currentId)) {\r\n\t\t    customersToNotify.add(alert);\r\n\r\n\t\t    if (customersToNotify.size() == maxAlerts) {\r\n\t\t        break;\r\n\t\t\t}\r\n\t    }\r\n    }\r\n\r\nso in this case it made sense to create a method which worked for both conditions like this using `boolean == condition` to flip the meaning\r\n\r\n\tprivate void appendCustomersToNotify(List&lt;Alert&gt; alerts\r\n\t\t\tList&lt;Alert&gt; customersToNotify, List&lt;Long&gt; vipList, boolean vip){\r\n\r\n\t\tfor (Alert alert : alerts) {\r\n\t\t\tLong currentId = alertItem.getUserId();\r\n\r\n\t\t\tif (vip == vipList.contains(currentId)) {\r\n\t\t\t\tcustomersToNotify.add(alertItem);\r\n\r\n\t\t\t\tif (customersToNotify.size() == maxAlerts) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>This is my first answer on StackOverflow so be nice...\nRecently while refactoring I noticed that 2 blocks of code had almost the exact same code but one used had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>and the other had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (!vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>so in this case it made sense to create a method which worked for both conditions like this using <code>boolean == condition</code> to flip the meaning</p>\n\n<pre><code>private void appendCustomersToNotify(List&lt;Alert&gt; alerts\n        List&lt;Alert&gt; customersToNotify, List&lt;Long&gt; vipList, boolean vip){\n\n    for (Alert alert : alerts) {\n        Long currentId = alertItem.getUserId();\n\n        if (vip == vipList.contains(currentId)) {\n            customersToNotify.add(alertItem);\n\n            if (customersToNotify.size() == maxAlerts) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684481331,"creation_date":1586247392,"answer_id":61075619,"question_id":2661110,"body_markdown":"While both are valid, to me the first feels like a type mismatch.\r\n\r\nTo me `b == false` looks as wrong as `(i == 0) == false`.  It is like: huh?\r\n\r\nBooleans are not an enum with 2 possible values.  You don&#39;t compare them.  Boolean are predicates and represent some truth.  They have specific operators like `&amp;`, `|`, `^`, `!`.\r\n\r\nTo reverse the truth of an expression use the operator &#39;!&#39;, pronounced as &quot;not&quot;.\r\n\r\nWith proper naming it becomes natural: `!isEmpty` reads &quot;not is empty&quot;, quite readable to me.   \r\nWhile `isEmpty == false` reads something like &quot;it is false that it is empty&quot;, which I need more time to process.\r\n\r\nCoding style guidelines in Java and other language generally discourage &quot;== true/false&quot; style.\r\n\r\nSonar  \r\nhttps://rules.sonarsource.com/java/RSPEC-1125\r\n\r\nCheckStyle  \r\nhttps://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\r\n\r\nTSLint  \r\nhttps://palantir.github.io/tslint/rules/no-boolean-literal-compare/\r\n\r\nC#  \r\nhttps://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/\r\n\r\nC# queries  \r\nhttps://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression\r\n\r\nBut the following Codeshare blog entry shows cases in javascript where &quot;b == true&quot; can be useful.  This might explain why people do it.  \r\nhttps://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>While both are valid, to me the first feels like a type mismatch.</p>\n<p>To me <code>b == false</code> looks as wrong as <code>(i == 0) == false</code>.  It is like: huh?</p>\n<p>Booleans are not an enum with 2 possible values.  You don't compare them.  Boolean are predicates and represent some truth.  They have specific operators like <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>!</code>.</p>\n<p>To reverse the truth of an expression use the operator '!', pronounced as &quot;not&quot;.</p>\n<p>With proper naming it becomes natural: <code>!isEmpty</code> reads &quot;not is empty&quot;, quite readable to me.<br />\nWhile <code>isEmpty == false</code> reads something like &quot;it is false that it is empty&quot;, which I need more time to process.</p>\n<p>Coding style guidelines in Java and other language generally discourage &quot;== true/false&quot; style.</p>\n<p>Sonar<br />\n<a href=\"https://rules.sonarsource.com/java/RSPEC-1125\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-1125</a></p>\n<p>CheckStyle<br />\n<a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression</a></p>\n<p>TSLint<br />\n<a href=\"https://palantir.github.io/tslint/rules/no-boolean-literal-compare/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/no-boolean-literal-compare/</a></p>\n<p>C#<br />\n<a href=\"https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/</a></p>\n<p>C# queries<br />\n<a href=\"https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression\" rel=\"nofollow noreferrer\">https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression</a></p>\n<p>But the following Codeshare blog entry shows cases in javascript where &quot;b == true&quot; can be useful.  This might explain why people do it.<br />\n<a href=\"https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/\" rel=\"nofollow noreferrer\">https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/</a></p>\n"},{"tags":[],"owner":{"account_id":21228254,"reputation":11,"user_id":15613504,"display_name":"poipoi300"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618253195,"creation_date":1618248684,"answer_id":67063031,"question_id":2661110,"body_markdown":"I won&#39;t go into all of the details at length because many people have already answered correctly.\r\n\r\nFunctionality-wise, it gives the same result.\r\n\r\nAs far as styling goes, it&#39;s a matter of preference, but I do believe `!condition` to be more readable.\r\n\r\nFor the performance argument, I have seen many say that it makes no difference, but they have nothing to justify their claims. Let&#39;s go just a bit deeper into that one. So what happens when you compare them?\r\n\r\nFirst, logically: \r\n\r\n`if(condition == false)`\r\n\r\nIn this case, `if` is comparing its desired value to execute with the value between the parentheses, which has to be computed.\r\n\r\n`if(!condition)`\r\n\r\nIn this case, `if` is directly compared to the opposite(NOT) of the condition. So instead of 2 comparisons, it is one comparison and 1 NOT operation, which is faster.\r\n\r\nI wouldn&#39;t just say this without having tested it of course. Here is a quick screenshot of the test I did. `!condition` is nearly twice as fast over 10 million iterations.\r\nhttps://i.stack.imgur.com/EKUIz.jpg\r\n\r\nEDIT: I tested this in C#, compiled with visual studio. Some compilers may be smarter and optimize it properly, which would make the performance the same.\r\n","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>I won't go into all of the details at length because many people have already answered correctly.</p>\n<p>Functionality-wise, it gives the same result.</p>\n<p>As far as styling goes, it's a matter of preference, but I do believe <code>!condition</code> to be more readable.</p>\n<p>For the performance argument, I have seen many say that it makes no difference, but they have nothing to justify their claims. Let's go just a bit deeper into that one. So what happens when you compare them?</p>\n<p>First, logically:</p>\n<p><code>if(condition == false)</code></p>\n<p>In this case, <code>if</code> is comparing its desired value to execute with the value between the parentheses, which has to be computed.</p>\n<p><code>if(!condition)</code></p>\n<p>In this case, <code>if</code> is directly compared to the opposite(NOT) of the condition. So instead of 2 comparisons, it is one comparison and 1 NOT operation, which is faster.</p>\n<p>I wouldn't just say this without having tested it of course. Here is a quick screenshot of the test I did. <code>!condition</code> is nearly twice as fast over 10 million iterations.\n<a href=\"https://i.stack.imgur.com/EKUIz.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EKUIz.jpg</a></p>\n<p>EDIT: I tested this in C#, compiled with visual studio. Some compilers may be smarter and optimize it properly, which would make the performance the same.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39026,"favorite_count":0,"down_vote_count":2,"up_vote_count":83,"closed_date":1691001513,"accepted_answer_id":2661121,"answer_count":16,"score":81,"last_activity_date":1684481331,"creation_date":1271564103,"question_id":2661110,"body_markdown":"Is it bad to write:\r\n\r\n    if (b == false) //...\r\n\r\n    while (b != true) //...\r\n\r\nIs it _always_ better to instead write:\r\n\r\n    if (!b) //...\r\n\r\n    while (!b) //...\r\n\r\nPresumably there is no difference in performance (or is there?), but how do you weigh the explicitness, the conciseness, the clarity, the readability, etc between the two?\r\n\r\n### Update\r\n\r\nTo limit the subjectivity, I&#39;d also appreciate any quotes from authoritative coding style guidelines over which is always preferable or which to use when.\r\n\r\n---\r\n\r\n_Note_: the variable name `b` is just used as an example, ala `foo` and `bar`.","title":"Is it bad to explicitly compare against boolean constants e.g. if (b == false) in Java?","body":"<p>Is it bad to write:</p>\n\n<pre><code>if (b == false) //...\n\nwhile (b != true) //...\n</code></pre>\n\n<p>Is it <em>always</em> better to instead write:</p>\n\n<pre><code>if (!b) //...\n\nwhile (!b) //...\n</code></pre>\n\n<p>Presumably there is no difference in performance (or is there?), but how do you weigh the explicitness, the conciseness, the clarity, the readability, etc between the two?</p>\n\n<h3>Update</h3>\n\n<p>To limit the subjectivity, I'd also appreciate any quotes from authoritative coding style guidelines over which is always preferable or which to use when.</p>\n\n<hr>\n\n<p><em>Note</em>: the variable name <code>b</code> is just used as an example, ala <code>foo</code> and <code>bar</code>.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":1,"creation_date":1684409239,"post_id":76280110,"comment_id":134515015,"body_markdown":"Can you share the full stack trace?","body":"Can you share the full stack trace?"},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":1,"creation_date":1684409451,"post_id":76280110,"comment_id":134515051,"body_markdown":"If you check the logs you will probably find a message like &quot;Found app shell configuration annotations in non AppShellConfigurator classes&quot;, and following the list of the annotation that should be moved","body":"If you check the logs you will probably find a message like &quot;Found app shell configuration annotations in non AppShellConfigurator classes&quot;, and following the list of the annotation that should be moved"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684481271,"creation_date":1684407371,"question_id":76280110,"body_markdown":"    2023-05-18T12:54:22.736+02:00  INFO 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-05-18T12:54:22.738+02:00  INFO 20376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2093 ms\r\n    2023-05-18T12:54:22.934+02:00 ERROR 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n    \r\n    java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat it.unidoc.cdr.core.Application.main(Application.java:20) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\r\ni have this problem when run in intellij and jdk 17 on windows11\r\n","title":"vaadin strange bug when run application","body":"<pre><code>2023-05-18T12:54:22.736+02:00  INFO 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-18T12:54:22.738+02:00  INFO 20376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2093 ms\n2023-05-18T12:54:22.934+02:00 ERROR 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.0.6.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at it.unidoc.cdr.core.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>i have this problem when run in intellij and jdk 17 on windows11</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch","elasticsearch-8"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670337234,"creation_date":1670337234,"answer_id":74704271,"question_id":74703974,"body_markdown":"This is nothing from Spring Data Elasticsearch , it might be an issue in the Elasticsearch client. You might want to create an issue with Elasticsearch (https://github.com/elastic/elasticsearch-java/issues) ","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>This is nothing from Spring Data Elasticsearch , it might be an issue in the Elasticsearch client. You might want to create an issue with Elasticsearch (<a href=\"https://github.com/elastic/elasticsearch-java/issues\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/issues</a>)</p>\n"},{"tags":[],"owner":{"account_id":5428764,"reputation":135,"user_id":4320288,"display_name":"Shalom Ohayon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670396671,"creation_date":1670396671,"answer_id":74712861,"question_id":74703974,"body_markdown":"I am posting my solution if someone have the same issue...\r\n\r\nMy solution is to create a JSONObject via ObjectMapper (jackson) and then use JsonData\r\n\r\n    ObjectMapper om = new ObjectMapper();\t\t\r\n    var node = om.readTree(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;:[&quot;+ lon +&quot;,&quot;+ lat + &quot;]}&quot;);\r\n\tJsonData shape = JsonData.of(node);\r\n\tQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\r\n       .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\r\n","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>I am posting my solution if someone have the same issue...</p>\n<p>My solution is to create a JSONObject via ObjectMapper (jackson) and then use JsonData</p>\n<pre><code>ObjectMapper om = new ObjectMapper();       \nvar node = om.readTree(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;:[&quot;+ lon +&quot;,&quot;+ lat + &quot;]}&quot;);\nJsonData shape = JsonData.of(node);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n   .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16866920,"reputation":11,"user_id":12196408,"display_name":"NoKnow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677766573,"creation_date":1677766573,"answer_id":75616675,"question_id":74703974,"body_markdown":"in addition to the accepted answer, you can simply send the shape as WKT formatted String (and avoid custom converters)\r\n\r\n\r\n    JsonData shape = JsonData.of(WellKnownText.toWKT(new Point(longitude,latitude))); // will create a simple ValueNode, no JSON conversion\r\n    Query geoShape = QueryBuilders.geoShape().field(&quot;coordinates&quot;)\r\n      .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)).build()._toQuery();\r\n\r\n","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>in addition to the accepted answer, you can simply send the shape as WKT formatted String (and avoid custom converters)</p>\n<pre><code>JsonData shape = JsonData.of(WellKnownText.toWKT(new Point(longitude,latitude))); // will create a simple ValueNode, no JSON conversion\nQuery geoShape = QueryBuilders.geoShape().field(&quot;coordinates&quot;)\n  .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)).build()._toQuery();\n</code></pre>\n"}],"owner":{"account_id":5428764,"reputation":135,"user_id":4320288,"display_name":"Shalom Ohayon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74712861,"answer_count":3,"score":0,"last_activity_date":1684480936,"creation_date":1670335960,"question_id":74703974,"body_markdown":"I am trying to move from Spring data elasticsearch 4.x to 5.x &amp; spring-boot-starter-data-elasticsearch 3.0.0 in order to remove rhlc from my code.\r\n\r\nOne of my query is a geoShapeQuery \r\n\r\nHere my old code :\r\n\r\n    GeoShapeQueryBuilder geoShape = QueryBuilders.geoShapeQuery(ConvertUtils.FULL_GEO,new Point(lon, lat));\r\n\tgeoShape.relation(ShapeRelation.CONTAINS);\r\n\tQueryBuilder bool = new BoolQueryBuilder().filter(geoShape).should(rankFeature);\r\n\r\nI am trying to use the new class of geoShapeQuery without success \r\n\r\n    JsonData shape = JsonData.of(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;);\r\n\tQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\r\n\t\t\t\t\t.shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\r\n\tQuery bool = BoolQuery.of(b-&gt;b\r\n\t\t\t\t\t.filter(geoShape)\r\n\t\t\t\t\t.should(rankFeature)\r\n\t\t\t\t\t)._toQuery();\r\n\r\n\r\nWhen I am debugging I am seeing that the geopshape object put the shape as a String instead of a JSON object.\r\n\r\n&gt; Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:**&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;**,&quot;relation&quot;:&quot;contains&quot;}}}\r\n\r\n\r\nI am expecting to have this (without the double quote):\r\n&gt; Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:**{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}**,&quot;relation&quot;:&quot;contains&quot;}}}\r\n\r\nI don&#39;t know what I am doing wrong.","title":"Elasticsearch 8.x java migrating from QueryBuilders.geoShapeQuery to geoShapeQuery class","body":"<p>I am trying to move from Spring data elasticsearch 4.x to 5.x &amp; spring-boot-starter-data-elasticsearch 3.0.0 in order to remove rhlc from my code.</p>\n<p>One of my query is a geoShapeQuery</p>\n<p>Here my old code :</p>\n<pre><code>GeoShapeQueryBuilder geoShape = QueryBuilders.geoShapeQuery(ConvertUtils.FULL_GEO,new Point(lon, lat));\ngeoShape.relation(ShapeRelation.CONTAINS);\nQueryBuilder bool = new BoolQueryBuilder().filter(geoShape).should(rankFeature);\n</code></pre>\n<p>I am trying to use the new class of geoShapeQuery without success</p>\n<pre><code>JsonData shape = JsonData.of(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n                .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\nQuery bool = BoolQuery.of(b-&gt;b\n                .filter(geoShape)\n                .should(rankFeature)\n                )._toQuery();\n</code></pre>\n<p>When I am debugging I am seeing that the geopshape object put the shape as a String instead of a JSON object.</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>&quot;{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}&quot;</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I am expecting to have this (without the double quote):</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I don't know what I am doing wrong.</p>\n"},{"tags":["java","spring-boot","cassandra","cql","datastax-java-driver"],"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1684355275,"post_id":76275293,"comment_id":134508225,"body_markdown":"what cass version are you using?","body":"what cass version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684350285,"creation_date":1684350285,"answer_id":76275432,"question_id":76275293,"body_markdown":"TTL is bound to a specific cell, so when you&#39;re updating only specific columns, then only them are updated. To update everything, you need to update all values \r\n","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>TTL is bound to a specific cell, so when you're updating only specific columns, then only them are updated. To update everything, you need to update all values</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684480817,"creation_date":1684480817,"answer_id":76286848,"question_id":76275293,"body_markdown":"The TTL only applies to the columns in the statement, not to all the columns in the row nor all the rows in the partition.\r\n\r\nThe only workaround I could think of is to set a default TTL on the table using the `default_time_to_live` option. Cheers!","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>The TTL only applies to the columns in the statement, not to all the columns in the row nor all the rows in the partition.</p>\n<p>The only workaround I could think of is to set a default TTL on the table using the <code>default_time_to_live</code> option. Cheers!</p>\n"}],"owner":{"account_id":15207208,"reputation":21,"user_id":10976839,"display_name":"Martin Dardis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76275432,"answer_count":2,"score":1,"last_activity_date":1684480817,"creation_date":1684349043,"question_id":76275293,"body_markdown":"i&#39;m trying to update a column value (not key column) and to set new TTL for the whole row. \r\nBut when i execute the generated statement, only column ttl was updates and the other columns remain with the original, producing NULL values in future reads.\r\n\r\nMy app was written in Java and using datastax for querying, and the function for generating the statement is something like this.\r\n\r\n```java \r\nprivate Statement updateLastActivityStatement(int ttl, Long ts){\r\n    return QueryBuilder.update(KEY_SPACE, TABLE_NAME)\r\n        .with(QueryBuilder.set(LAST_ACTIVITY, ts))\r\n        .where(QueryBuilder.eq(ENTRY_ID, userA))\r\n        .and(QueryBuilder.eq(ID, userB))\r\n        .using(QueryBuilder.ttl(ttl));\r\n}\r\n```","title":"How do I update a column value and set a TTL for the whole row?","body":"<p>i'm trying to update a column value (not key column) and to set new TTL for the whole row.\nBut when i execute the generated statement, only column ttl was updates and the other columns remain with the original, producing NULL values in future reads.</p>\n<p>My app was written in Java and using datastax for querying, and the function for generating the statement is something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Statement updateLastActivityStatement(int ttl, Long ts){\n    return QueryBuilder.update(KEY_SPACE, TABLE_NAME)\n        .with(QueryBuilder.set(LAST_ACTIVITY, ts))\n        .where(QueryBuilder.eq(ENTRY_ID, userA))\n        .and(QueryBuilder.eq(ID, userB))\n        .using(QueryBuilder.ttl(ttl));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","csrf"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1561281239,"creation_date":1561273627,"answer_id":56721773,"question_id":56713604,"body_markdown":"To exclude a particular URL from CSRF protection , you could use `&lt;csrf request-matcher-ref=&quot;csrfMatcher&quot;&gt;` . The `csrfMatcher` is the `RequestMatcher` which defines which URL request will have CSRF protection. \r\n\r\n[Docs][1] has an example to just excluding a particular URL while still keeping other default settings remain unchanged: \r\n\r\n    &lt;http ...&gt;\r\n        &lt;csrf request-matcher-ref=&quot;csrfMatcher&quot;/&gt;\r\n        ...\r\n    &lt;/http&gt;\r\n    \r\n    \r\n    &lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\r\n        &lt;beans:constructor-arg value=&quot;#{T(org.springframework.security.web.csrf.CsrfFilter).DEFAULT_CSRF_MATCHER}&quot;/&gt;\r\n        &lt;beans:constructor-arg&gt;\r\n            &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\r\n              &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\r\n                &lt;beans:constructor-arg value=&quot;/webhook/**&quot;/&gt;\r\n              &lt;/beans:bean&gt;\r\n            &lt;/beans:bean&gt;\r\n        &lt;/beans:constructor-arg&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#websocket-sockjs-csrf","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>To exclude a particular URL from CSRF protection , you could use <code>&lt;csrf request-matcher-ref=\"csrfMatcher\"&gt;</code> . The <code>csrfMatcher</code> is the <code>RequestMatcher</code> which defines which URL request will have CSRF protection. </p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#websocket-sockjs-csrf\" rel=\"nofollow noreferrer\">Docs</a> has an example to just excluding a particular URL while still keeping other default settings remain unchanged: </p>\n\n<pre><code>&lt;http ...&gt;\n    &lt;csrf request-matcher-ref=\"csrfMatcher\"/&gt;\n    ...\n&lt;/http&gt;\n\n\n&lt;beans:bean id=\"csrfMatcher\" class=\"org.springframework.security.web.util.matcher.AndRequestMatcher\"&gt;\n    &lt;beans:constructor-arg value=\"#{T(org.springframework.security.web.csrf.CsrfFilter).DEFAULT_CSRF_MATCHER}\"/&gt;\n    &lt;beans:constructor-arg&gt;\n        &lt;beans:bean class=\"org.springframework.security.web.util.matcher.NegatedRequestMatcher\"&gt;\n          &lt;beans:bean class=\"org.springframework.security.web.util.matcher.AntPathRequestMatcher\"&gt;\n            &lt;beans:constructor-arg value=\"/webhook/**\"/&gt;\n          &lt;/beans:bean&gt;\n        &lt;/beans:bean&gt;\n    &lt;/beans:constructor-arg&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11287994,"reputation":144,"user_id":8278152,"display_name":"Sandip Jangra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684480748,"creation_date":1684480748,"answer_id":76286840,"question_id":56713604,"body_markdown":"For anyone, If Answer from @ken Chan doesnt work due to pom definition errors. Please try below configurations.\r\n\r\nI am using spring security 3.2 and below configurations worked for me. \r\n\r\n    &lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\r\n                    &lt;beans:constructor-arg name=&quot;requestMatchers&quot;&gt;\r\n                            &lt;beans:list&gt;\r\n                                    &lt;beans:bean class=&quot;org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher&quot; /&gt;\r\n                                    &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\r\n                                            &lt;beans:constructor-arg&gt;\r\n                                                    &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\r\n                                                            &lt;beans:constructor-arg value=&quot;/j_spring_security_check&quot;/&gt;\r\n                                                    &lt;/beans:bean&gt;\r\n                                            &lt;/beans:constructor-arg&gt;\r\n                                    &lt;/beans:bean&gt;\r\n                            &lt;/beans:list&gt;\r\n                    &lt;/beans:constructor-arg&gt;\r\n            &lt;/beans:bean&gt;\r\n\r\n**Please add block of NegatedRequestMatcher in the list if you want to bypass multiple urls.**","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>For anyone, If Answer from @ken Chan doesnt work due to pom definition errors. Please try below configurations.</p>\n<p>I am using spring security 3.2 and below configurations worked for me.</p>\n<pre><code>&lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\n                &lt;beans:constructor-arg name=&quot;requestMatchers&quot;&gt;\n                        &lt;beans:list&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher&quot; /&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\n                                        &lt;beans:constructor-arg&gt;\n                                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\n                                                        &lt;beans:constructor-arg value=&quot;/j_spring_security_check&quot;/&gt;\n                                                &lt;/beans:bean&gt;\n                                        &lt;/beans:constructor-arg&gt;\n                                &lt;/beans:bean&gt;\n                        &lt;/beans:list&gt;\n                &lt;/beans:constructor-arg&gt;\n        &lt;/beans:bean&gt;\n</code></pre>\n<p><strong>Please add block of NegatedRequestMatcher in the list if you want to bypass multiple urls.</strong></p>\n"}],"owner":{"account_id":8361588,"reputation":1393,"user_id":6279687,"accept_rate":93,"display_name":"Abhishek Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2931,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56721773,"answer_count":2,"score":1,"last_activity_date":1684480748,"creation_date":1561189392,"question_id":56713604,"body_markdown":"I have a spring security + MVC based project. \r\n\r\nThe web aspect of the project has already been developed by previous developers. I am tasked with exposing some API&#39;s\r\non which an service provider is going to do callback.\r\n\r\nTo archive this I have done the following code.\r\n\r\n\r\n    @RestController\r\n    public class LeegalityController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(LeegalityController.class);\r\n    \r\n    \t@RequestMapping(value = &quot;webhook/{user}/{id}&quot;, method = RequestMethod.POST)\r\n    \tpublic ResponseEntity&lt;String&gt; webhook(@PathVariable(&quot;user&quot;) int user, @PathVariable(&quot;id&quot;) String id,\r\n    \t\t\t@RequestBody LeegalityReqResp reqResp, HttpServletRequest request) {\r\n    \t\ttry {\r\n    \t\t\tlogger.info(&quot;webhook()== user[&quot; + user + &quot;] == id[&quot; + id + &quot;]&quot;);\r\n    \t\t\tlogger.info(&quot;webhook()== LeegalityReqResp--&gt;&quot; + reqResp.toString());\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;webhook() Error==[&quot; + e.getMessage() + &quot;]&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;success&quot;, HttpStatus.OK);\r\n    \t}\r\n    \r\n    }\r\n\r\nHowever while testing the API via postman I got the following error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLnrf.jpg\r\n\r\n\r\n\r\nI have tried some changes in security configuration xml as below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/security\r\n    \t\thttp://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;http pattern=&quot;*/webhook/**&quot; security=&quot;none&quot; create-session=&quot;stateless&quot; /&gt;\r\n    \r\n    \t&lt;http auto-config=&quot;true&quot;&gt;\r\n    \t\t&lt;intercept-url pattern=&quot;/&quot;\r\n    \t\t\taccess=&quot;hasAnyRole(&#39;ROLE_ADMIN&#39;,&#39;ROLE_ONE&#39;,&#39;ROLE_TWO&#39;)&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;!-- &lt;intercept-url pattern=&quot;/webhook/**&quot; method=&quot;POST&quot; access=&quot;permitAll&quot; /&gt; --&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t&lt;intercept-url pattern=&quot;/admin&quot;\r\n    \t\t\taccess=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;intercept-url pattern=&quot;/otp&quot;\r\n    \t\t\taccess=&quot;hasAnyRole(&#39;ROLE_ONE&#39;,&#39;ROLE_TWO&#39;)&quot; /&gt;\r\n    \t\r\n    \r\n    \t\t&lt;form-login login-page=&quot;/ProjectName-Home&quot;\r\n    \t\t\tdefault-target-url=&quot;/&quot; authentication-failure-url=&quot;/login?error&quot;\r\n    \t\t\tusername-parameter=&quot;username&quot; password-parameter=&quot;password&quot; /&gt;\r\n    \t\t\t\r\n    \t\t&lt;logout logout-success-url=&quot;/login?logout&quot; /&gt;\r\n    \t&lt;/http&gt;\r\n    \r\n    \t&lt;authentication-manager\r\n    \t\talias=&quot;authenticationManager&quot;&gt;\r\n    \t\t&lt;authentication-provider\r\n    \t\t\tref=&quot;userAuthenticationProvider&quot;&gt;\r\n    \t\t&lt;/authentication-provider&gt;\r\n    \r\n    \t&lt;/authentication-manager&gt;\r\n    \r\n    \t&lt;beans:bean id=&quot;userAuthenticationProvider&quot;\r\n    \t\tclass=&quot;com.java.ProjectName.service.user.UserAuthenticationProvider&quot;&gt;&lt;/beans:bean&gt;\r\n    \r\n    \t&lt;beans:bean id=&quot;encoder&quot;\r\n    \t\tclass=&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;&gt;\r\n    \t\t&lt;beans:constructor-arg name=&quot;strength&quot;\r\n    \t\t\tvalue=&quot;11&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\n\r\nWhat should I do to make sure this `/webhook/*` is excluded from CSRF verification. Any help is appreciated and thank you in advance.\r\n\r\nMy spring version is 4.2.0.RELEASE and spring security version is 4.0.2.RELEASE.\r\n\r\n","title":"Spring security bypass CSRF verification for specific URL&#39;s","body":"<p>I have a spring security + MVC based project. </p>\n\n<p>The web aspect of the project has already been developed by previous developers. I am tasked with exposing some API's\non which an service provider is going to do callback.</p>\n\n<p>To archive this I have done the following code.</p>\n\n<pre><code>@RestController\npublic class LeegalityController {\n\n    private static final Logger logger = LoggerFactory.getLogger(LeegalityController.class);\n\n    @RequestMapping(value = \"webhook/{user}/{id}\", method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; webhook(@PathVariable(\"user\") int user, @PathVariable(\"id\") String id,\n            @RequestBody LeegalityReqResp reqResp, HttpServletRequest request) {\n        try {\n            logger.info(\"webhook()== user[\" + user + \"] == id[\" + id + \"]\");\n            logger.info(\"webhook()== LeegalityReqResp--&gt;\" + reqResp.toString());\n\n        } catch (Exception e) {\n            logger.error(\"webhook() Error==[\" + e.getMessage() + \"]\", e);\n        }\n\n        return new ResponseEntity&lt;String&gt;(\"success\", HttpStatus.OK);\n    }\n\n}\n</code></pre>\n\n<p>However while testing the API via postman I got the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/zLnrf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLnrf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried some changes in security configuration xml as below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans\n    xmlns=\"http://www.springframework.org/schema/security\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/security\n        http://www.springframework.org/schema/security/spring-security.xsd\"&gt;\n\n\n    &lt;http pattern=\"*/webhook/**\" security=\"none\" create-session=\"stateless\" /&gt;\n\n    &lt;http auto-config=\"true\"&gt;\n        &lt;intercept-url pattern=\"/\"\n            access=\"hasAnyRole('ROLE_ADMIN','ROLE_ONE','ROLE_TWO')\" /&gt;\n\n        &lt;!-- &lt;intercept-url pattern=\"/webhook/**\" method=\"POST\" access=\"permitAll\" /&gt; --&gt;\n\n\n        &lt;intercept-url pattern=\"/admin\"\n            access=\"hasRole('ROLE_ADMIN')\" /&gt;\n\n        &lt;intercept-url pattern=\"/otp\"\n            access=\"hasAnyRole('ROLE_ONE','ROLE_TWO')\" /&gt;\n\n\n        &lt;form-login login-page=\"/ProjectName-Home\"\n            default-target-url=\"/\" authentication-failure-url=\"/login?error\"\n            username-parameter=\"username\" password-parameter=\"password\" /&gt;\n\n        &lt;logout logout-success-url=\"/login?logout\" /&gt;\n    &lt;/http&gt;\n\n    &lt;authentication-manager\n        alias=\"authenticationManager\"&gt;\n        &lt;authentication-provider\n            ref=\"userAuthenticationProvider\"&gt;\n        &lt;/authentication-provider&gt;\n\n    &lt;/authentication-manager&gt;\n\n    &lt;beans:bean id=\"userAuthenticationProvider\"\n        class=\"com.java.ProjectName.service.user.UserAuthenticationProvider\"&gt;&lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"encoder\"\n        class=\"org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\"&gt;\n        &lt;beans:constructor-arg name=\"strength\"\n            value=\"11\" /&gt;\n    &lt;/beans:bean&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p>What should I do to make sure this <code>/webhook/*</code> is excluded from CSRF verification. Any help is appreciated and thank you in advance.</p>\n\n<p>My spring version is 4.2.0.RELEASE and spring security version is 4.0.2.RELEASE.</p>\n"},{"tags":["java","android","android-fragments","nullpointerexception"],"comments":[{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1684390188,"post_id":76277839,"comment_id":134511829,"body_markdown":"Can you please add the error logs for more clarification","body":"Can you please add the error logs for more clarification"},{"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"score":0,"creation_date":1684401440,"post_id":76277839,"comment_id":134513625,"body_markdown":"Full project is here: https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing","body":"Full project is here: <a href=\"https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/&hellip;</a>"},{"owner":{"account_id":10992239,"reputation":472,"user_id":8075762,"display_name":"Amanpreet Kaur"},"score":0,"creation_date":1684478595,"post_id":76277839,"comment_id":134526064,"body_markdown":"you can upload your project on github and share link as then you can check the changes from repository easily","body":"you can upload your project on github and share link as then you can check the changes from repository easily"}],"answers":[{"tags":[],"owner":{"account_id":11672847,"reputation":204,"user_id":8547372,"display_name":"Dharmeet Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684392073,"creation_date":1684392073,"answer_id":76278342,"question_id":76277839,"body_markdown":"As I try to solve that which I understand your object is not being called when you just calling constructor of the oneFragment. So I suggest you to try below code into the constructor of oneFragment.\r\ntry to add this code on constructor and can check.\r\nalso add try catch to prevent unwanted condition of null pointer or etc. on clearBox method befor calling it.\r\n\r\n`public OneFragment(int k) {\r\n boxList = new ArrayList&lt;&gt;();\r\n for(int i=0; i&lt;t; i++) {boxList.add(new Box(i+1, Mode.NOTCHECKED));}\r\n}`","title":"ArrayList of Fragment of ViewPager2 is null after I switched another fragment from NavigationView. How can I solve this problem?","body":"<p>As I try to solve that which I understand your object is not being called when you just calling constructor of the oneFragment. So I suggest you to try below code into the constructor of oneFragment.\ntry to add this code on constructor and can check.\nalso add try catch to prevent unwanted condition of null pointer or etc. on clearBox method befor calling it.</p>\n<p><code>public OneFragment(int k) { boxList = new ArrayList&lt;&gt;(); for(int i=0; i&lt;t; i++) {boxList.add(new Box(i+1, Mode.NOTCHECKED));} }</code></p>\n"}],"owner":{"account_id":28625014,"reputation":1,"user_id":21917206,"display_name":"Xoszagas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684480492,"creation_date":1684385733,"question_id":76277839,"body_markdown":"I am making an Android project. I created a `RecyclerView` in `ViewPager2` as follows:\r\n\r\n1. [Screenshot 1](https://i.stack.imgur.com/0XY68.jpg)\r\n\r\n2. [Screenshot 2](https://i.stack.imgur.com/B9HSL.jpg)\r\n\r\nI switched to `Gallery` or `Slideshow`. Then, I returned back to `Home` and clicked the `Clear Box` button. As soon as I clicked the button, the app crashed. The error was a `nullPointerException`.\r\n\r\nMy Adapter code:\r\n```\r\npublic class MyAdapter extends FragmentStateAdapter {\r\n    private ArrayList&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\r\n\r\n    public MyAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Fragment fragment) {\r\n        super(fragment);\r\n    }\r\n\r\n    public MyAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        return fragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return fragmentList.size();\r\n    }\r\n\r\n    public void addFragment(Fragment fragment) {\r\n        fragmentList.add(fragment);\r\n    }\r\n}\r\n```\r\n\r\nMy fragment code:\r\n```\r\npublic class OneFragment extends Fragment {\r\n    Button button;\r\n    RecyclerView recyclerView;\r\n    BoxAdapter adapter;\r\n    private List&lt;Box&gt; boxList;\r\n    private LinearLayout linearLayout;\r\n    int t;\r\n\r\n    public OneFragment(int k) {\r\n        t = k;\r\n        Log.d(&quot;QQQ&quot;, &quot;OneFragment constructor called&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view;\r\n        view = inflater.inflate(R.layout.fragment_one, container, false);\r\n        linearLayout = view.findViewById(R.id.linearlayout);\r\n        button = view.findViewById(R.id.click);\r\n        recyclerView = view.findViewById(R.id.recyclerview);\r\n        boxList = new ArrayList&lt;&gt;();\r\n       \r\n        for(int i=0; i&lt;t; i++) {\r\n            boxList.add(new Box(i+1, Mode.NOTCHECKED));\r\n        }\r\n        adapter = new BoxAdapter(getActivity(), boxList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getActivity(), &quot;You clicked me. T= &quot;+t, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    public void clearBox() {\r\n        boxList.clear();\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\n    public int getBoxSize() {\r\n        if(boxList == null) {\r\n            return -1;\r\n        } else {\r\n            return boxList.size();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy home fragment code:\r\n```\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n    private Button button;\r\n    private ViewPager2 viewPager2;\r\n    private MyAdapter myAdapter;\r\n    private OneFragment oneFragment;\r\n    private TwoFragment twoFragment;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();   \r\n        button = binding.clearbox;\r\n        viewPager2 = binding.viewpager;\r\n\r\n        int q;\r\n        q = new Random().nextInt(10 - 1 + 1) + 1;\r\n       \r\n        oneFragment = new OneFragment(q);\r\n        twoFragment = new TwoFragment();\r\n\r\n        myAdapter = new MyAdapter(getChildFragmentManager(), getLifecycle());\r\n\r\n        myAdapter.addFragment(oneFragment);\r\n        myAdapter.addFragment(twoFragment);\r\n        myAdapter.notifyDataSetChanged();\r\n        viewPager2.setAdapter(myAdapter);      \r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                oneFragment.clearBox();  // app crashed on this line. Null pointer after returned from Gallery or Slideshow. Why?                \r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\nThe error that I got:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.navbartest2, PID: 18771\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.navbartest2.adapter.BoxAdapter.notifyDataSetChanged()&#39; on a null object reference\r\n        at com.example.navbartest2.fragment.OneFragment.clearBox(OneFragment.java:82)\r\n        at com.example.navbartest2.ui.home.HomeFragment$1.onClick(HomeFragment.java:72)\r\n        at android.view.View.performClick(View.java:8160)\r\n        at android.widget.TextView.performClick(TextView.java:16222)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n        at android.view.View.performClickInternal(View.java:8137)\r\n        at android.view.View.access$3700(View.java:888)\r\n        at android.view.View$PerformClick.run(View.java:30236)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n```\r\n\r\nAny help is appreciated.","title":"ArrayList of Fragment of ViewPager2 is null after I switched another fragment from NavigationView. How can I solve this problem?","body":"<p>I am making an Android project. I created a <code>RecyclerView</code> in <code>ViewPager2</code> as follows:</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/0XY68.jpg\" rel=\"nofollow noreferrer\">Screenshot 1</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/B9HSL.jpg\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n</li>\n</ol>\n<p>I switched to <code>Gallery</code> or <code>Slideshow</code>. Then, I returned back to <code>Home</code> and clicked the <code>Clear Box</code> button. As soon as I clicked the button, the app crashed. The error was a <code>nullPointerException</code>.</p>\n<p>My Adapter code:</p>\n<pre><code>public class MyAdapter extends FragmentStateAdapter {\n    private ArrayList&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\n\n    public MyAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public MyAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public MyAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return fragmentList.size();\n    }\n\n    public void addFragment(Fragment fragment) {\n        fragmentList.add(fragment);\n    }\n}\n</code></pre>\n<p>My fragment code:</p>\n<pre><code>public class OneFragment extends Fragment {\n    Button button;\n    RecyclerView recyclerView;\n    BoxAdapter adapter;\n    private List&lt;Box&gt; boxList;\n    private LinearLayout linearLayout;\n    int t;\n\n    public OneFragment(int k) {\n        t = k;\n        Log.d(&quot;QQQ&quot;, &quot;OneFragment constructor called&quot;);\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view;\n        view = inflater.inflate(R.layout.fragment_one, container, false);\n        linearLayout = view.findViewById(R.id.linearlayout);\n        button = view.findViewById(R.id.click);\n        recyclerView = view.findViewById(R.id.recyclerview);\n        boxList = new ArrayList&lt;&gt;();\n       \n        for(int i=0; i&lt;t; i++) {\n            boxList.add(new Box(i+1, Mode.NOTCHECKED));\n        }\n        adapter = new BoxAdapter(getActivity(), boxList);\n        recyclerView.setAdapter(adapter);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getActivity(), &quot;You clicked me. T= &quot;+t, Toast.LENGTH_SHORT).show();\n            }\n        });\n        return view;\n    }\n\n    public void clearBox() {\n        boxList.clear();\n        adapter.notifyDataSetChanged();\n    }\n\n    public int getBoxSize() {\n        if(boxList == null) {\n            return -1;\n        } else {\n            return boxList.size();\n        }\n    }\n}\n</code></pre>\n<p>My home fragment code:</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n    private Button button;\n    private ViewPager2 viewPager2;\n    private MyAdapter myAdapter;\n    private OneFragment oneFragment;\n    private TwoFragment twoFragment;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();   \n        button = binding.clearbox;\n        viewPager2 = binding.viewpager;\n\n        int q;\n        q = new Random().nextInt(10 - 1 + 1) + 1;\n       \n        oneFragment = new OneFragment(q);\n        twoFragment = new TwoFragment();\n\n        myAdapter = new MyAdapter(getChildFragmentManager(), getLifecycle());\n\n        myAdapter.addFragment(oneFragment);\n        myAdapter.addFragment(twoFragment);\n        myAdapter.notifyDataSetChanged();\n        viewPager2.setAdapter(myAdapter);      \n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                oneFragment.clearBox();  // app crashed on this line. Null pointer after returned from Gallery or Slideshow. Why?                \n            }\n        });\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>The error that I got:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.navbartest2, PID: 18771\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.navbartest2.adapter.BoxAdapter.notifyDataSetChanged()' on a null object reference\n        at com.example.navbartest2.fragment.OneFragment.clearBox(OneFragment.java:82)\n        at com.example.navbartest2.ui.home.HomeFragment$1.onClick(HomeFragment.java:72)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684480262,"creation_date":1684480262,"answer_id":76286796,"question_id":76286434,"body_markdown":"If your `AuthenticationRequest` builder is a simple POJO builder without any database calls or synchronized methods, etc, it will not cause any blocking.\r\n\r\nUsually, it&#39;s recommended to move such a code into the chain. In the Reactor, nothing happens until you subscribe, but if you move your code outside of a chain, it can be executed before subscribing (as part of the chain assembling phase). \r\n\r\nFor example, this code prints &quot;hello world&quot; even if there is no subscription on Reactor chain:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    getData();\r\n}\r\n\r\npublic static Mono&lt;String&gt; getData() {\r\n    var req = new MyRequest(1);\r\n    System.out.println(&quot;hello world&quot;);\r\n    return Mono.defer(() -&gt; Mono.just(req))\r\n        .map(Object::toString);\r\n}\r\n```\r\n\r\nBut this code prints nothing: \r\n```\r\npublic static void main(String[] args) {\r\n    getData();\r\n}\r\n\r\npublic static Mono&lt;String&gt; getData() {\r\n    return Mono.defer(() -&gt; {\r\n            var req = new MyRequest(1);\r\n            System.out.println(&quot;hello world&quot;);\r\n            return Mono.just(req);\r\n        })\r\n        .map(Object::toString);\r\n}\r\n```\r\n\r\nSee more details here: https://stackoverflow.com/a/76275996/6933090\r\n\r\nBut actually, in your case, nothing wrong should happen if you move it outside of `Mono.defer` (as in your example), but it&#39;s anyway better to move it into a chain like this:\r\n\r\n```java\r\nMono.fromCallable(() -&gt; AuthenticationRequest.builder()\r\n        .withAuthenticationProvider(provider)\r\n        .withRedirectUri(redirectUri)\r\n        .withSubject(subject)\r\n        .build())\r\n    .map(req -&gt; authenticationClient.authenticate(req))\r\n    .map(this::mapAuthenticateResponse)\r\n```","title":"Does building a POJO outside of the mono method cause blocking behaviour?","body":"<p>If your <code>AuthenticationRequest</code> builder is a simple POJO builder without any database calls or synchronized methods, etc, it will not cause any blocking.</p>\n<p>Usually, it's recommended to move such a code into the chain. In the Reactor, nothing happens until you subscribe, but if you move your code outside of a chain, it can be executed before subscribing (as part of the chain assembling phase).</p>\n<p>For example, this code prints &quot;hello world&quot; even if there is no subscription on Reactor chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    var req = new MyRequest(1);\n    System.out.println(&quot;hello world&quot;);\n    return Mono.defer(() -&gt; Mono.just(req))\n        .map(Object::toString);\n}\n</code></pre>\n<p>But this code prints nothing:</p>\n<pre><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    return Mono.defer(() -&gt; {\n            var req = new MyRequest(1);\n            System.out.println(&quot;hello world&quot;);\n            return Mono.just(req);\n        })\n        .map(Object::toString);\n}\n</code></pre>\n<p>See more details here: <a href=\"https://stackoverflow.com/a/76275996/6933090\">https://stackoverflow.com/a/76275996/6933090</a></p>\n<p>But actually, in your case, nothing wrong should happen if you move it outside of <code>Mono.defer</code> (as in your example), but it's anyway better to move it into a chain like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.fromCallable(() -&gt; AuthenticationRequest.builder()\n        .withAuthenticationProvider(provider)\n        .withRedirectUri(redirectUri)\n        .withSubject(subject)\n        .build())\n    .map(req -&gt; authenticationClient.authenticate(req))\n    .map(this::mapAuthenticateResponse)\n</code></pre>\n"}],"owner":{"account_id":21194265,"reputation":11,"user_id":15586150,"display_name":"Joel W. Blomster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684480262,"creation_date":1684476719,"question_id":76286434,"body_markdown":"Currently I have a method which looks like this:\r\n\r\n```\r\npublic Mono&lt;Either&lt;CommunicationException, AuthenticateResponse&gt;&gt; authenticate(String provider, String subject, String redirectUri) {\r\n    final var req = AuthenticationRequest.builder().withAuthenticationProvider(provider).withRedirectUri(redirectUri).withSubject(subject).build();\r\n        return Mono.defer(() -&gt; Mono.just(authenticationClient.authenticate(req))\r\n                        .map(this::mapAuthenticateResponse)\r\n                        .map(Either::&lt;CommunicationException, AuthenticateResponse&gt;right))\r\n                .doOnError(err -&gt; LOGGER.error(&quot;Failed to authenticate&quot;, err))\r\n                .onErrorResume(e -&gt; Mono.just(new CommunicationException(e.getMessage())).map(Either::left));\r\n}\r\n```\r\nI am a bit unsure how it with reactive chains, will this be non-blocking even though the request is built outside of the Mono.defer() method? \r\n\r\n\r\nI am not sure how I would go about debugging this.","title":"Does building a POJO outside of the mono method cause blocking behaviour?","body":"<p>Currently I have a method which looks like this:</p>\n<pre><code>public Mono&lt;Either&lt;CommunicationException, AuthenticateResponse&gt;&gt; authenticate(String provider, String subject, String redirectUri) {\n    final var req = AuthenticationRequest.builder().withAuthenticationProvider(provider).withRedirectUri(redirectUri).withSubject(subject).build();\n        return Mono.defer(() -&gt; Mono.just(authenticationClient.authenticate(req))\n                        .map(this::mapAuthenticateResponse)\n                        .map(Either::&lt;CommunicationException, AuthenticateResponse&gt;right))\n                .doOnError(err -&gt; LOGGER.error(&quot;Failed to authenticate&quot;, err))\n                .onErrorResume(e -&gt; Mono.just(new CommunicationException(e.getMessage())).map(Either::left));\n}\n</code></pre>\n<p>I am a bit unsure how it with reactive chains, will this be non-blocking even though the request is built outside of the Mono.defer() method?</p>\n<p>I am not sure how I would go about debugging this.</p>\n"},{"tags":["java","dependencies","java-native-interface"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684409365,"post_id":76279827,"comment_id":134515037,"body_markdown":"What do you mean by a dependency? Where is the code? Post a minimal reproducible example as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example","body":"What do you mean by a dependency? Where is the code? Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1684416242,"post_id":76279827,"comment_id":134516529,"body_markdown":"What command-line tools?  How are you building your `myLib.so`?  It&#39;s possible to &quot;successfully&quot; *build* a shared object and have missing symbols if you omit any dependencies, but that library will then fail to load.","body":"What command-line tools?  How are you building your <code>myLib.so</code>?  It&#39;s possible to &quot;successfully&quot; <i>build</i> a shared object and have missing symbols if you omit any dependencies, but that library will then fail to load."},{"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"score":0,"creation_date":1684422116,"post_id":76279827,"comment_id":134517935,"body_markdown":"Yes,@AndrewHenle you could be right.  Although the liner does not complain, I was beginning to suspect that I have not linked everything correctly.  Your observation that it is possible to successfully build a shared object without all the dependencies makes sense and would explain the observed failures.  Thanks.","body":"Yes,@AndrewHenle you could be right.  Although the liner does not complain, I was beginning to suspect that I have not linked everything correctly.  Your observation that it is possible to successfully build a shared object without all the dependencies makes sense and would explain the observed failures.  Thanks."},{"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"score":0,"creation_date":1684425424,"post_id":76279827,"comment_id":134518797,"body_markdown":"@aled:  I have added a minimum reproducible example.  Sorry it took a while - I started from scratch to keep things simpler.","body":"@aled:  I have added a minimum reproducible example.  Sorry it took a while - I started from scratch to keep things simpler."}],"answers":[{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684480222,"creation_date":1684480222,"answer_id":76286790,"question_id":76279827,"body_markdown":"I think that I have now got it working.  I will post my script for posterity:\r\n```\r\n#!/bin/sh\r\n\r\n#  Example of building JNI app.  \r\n# Designed to run on linux using GCC and a suitable java compiler\r\n#\r\n# Uses an app &#39;HelloWorld&#39; which invokes a shared library &#39;foo&#39;.\r\n# Foo depends upon &#39;bar&#39; which is bound to foo either as\r\n# - an object (bar.o)\r\n# - a static library (bar.a)\r\n# - a dynamic library (libBar.so)\r\n#\r\n# The java app is run once with each of the three forms of the shared library (libFoo.so) \r\n\r\n# compile java and create jni header file\r\njavac HelloWorld.java\r\njavac -h . HelloWorld.java\r\n\r\n\r\n# compile bar\r\ngcc -c -Wall -Werror -fpic bar.c\r\n\r\n# link object into shared library\r\ngcc -shared -o libBar.so bar.o\r\n\r\n# link object into static library\r\nar rcs bar.a bar.o\r\n\r\n# compile foo\r\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\r\n\r\n# Set up the LD_LIBRARY_PATH to resolve dynamic libraries at run time\r\n# current working directory as a variable\r\ncwd=$(pwd)\r\nLD_LIBRARY_PATH=$cwd:$LD_LIBRARY_PATH\r\n# echo &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as object *************&quot;\r\n# link object into shared library an object library for Bar\r\ngcc -shared -o libFoo.so foo.o bar.o\r\njava -Djava.library.path=. HelloWorld\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as static library *************&quot;\r\n# link object into shared library a static library for Bar\r\ngcc -shared -o libFoo.so foo.o -L . bar.a\r\njava -Djava.library.path=. HelloWorld\r\n\r\necho\r\necho\r\necho\r\necho &quot;************** Using Bar as dynamic library *************&quot;\r\n# link object into shared library using a dynamic library for Bar\r\ngcc -shared -o libFoo.so foo.o -L . -lBar\r\njava -Djava.library.path=. HelloWorld\r\n```","title":"My JNI app cannot resolve dependencies of my shared app","body":"<p>I think that I have now got it working.  I will post my script for posterity:</p>\n<pre><code>#!/bin/sh\n\n#  Example of building JNI app.  \n# Designed to run on linux using GCC and a suitable java compiler\n#\n# Uses an app 'HelloWorld' which invokes a shared library 'foo'.\n# Foo depends upon 'bar' which is bound to foo either as\n# - an object (bar.o)\n# - a static library (bar.a)\n# - a dynamic library (libBar.so)\n#\n# The java app is run once with each of the three forms of the shared library (libFoo.so) \n\n# compile java and create jni header file\njavac HelloWorld.java\njavac -h . HelloWorld.java\n\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n# link object into static library\nar rcs bar.a bar.o\n\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n\n# Set up the LD_LIBRARY_PATH to resolve dynamic libraries at run time\n# current working directory as a variable\ncwd=$(pwd)\nLD_LIBRARY_PATH=$cwd:$LD_LIBRARY_PATH\n# echo &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\necho\necho\necho\necho &quot;************** Using Bar as object *************&quot;\n# link object into shared library an object library for Bar\ngcc -shared -o libFoo.so foo.o bar.o\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as static library *************&quot;\n# link object into shared library a static library for Bar\ngcc -shared -o libFoo.so foo.o -L . bar.a\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as dynamic library *************&quot;\n# link object into shared library using a dynamic library for Bar\ngcc -shared -o libFoo.so foo.o -L . -lBar\njava -Djava.library.path=. HelloWorld\n</code></pre>\n"}],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76286790,"answer_count":1,"score":0,"last_activity_date":1684480222,"creation_date":1684405209,"question_id":76279827,"body_markdown":"I want to use 3rd party shared libs from my Java app via JNI.\r\n\r\n(I am running on Manjaro Linux, using command line tools at the moment)\r\n\r\nI can build and run this all fine if I do not create a dependency in myLib.so on the 3rd party libraries.  \r\nAs soon as I create a dependency from myLib.so to 3rd party lib the Java invocation fails with\r\n```\r\njava: symbol lookup error: myLib.so: undefined symbol: acOpenSystem\r\n```\r\n\r\nI have tried setting the library path to the locations of the libraries, but this still fails.\r\n\r\n```\r\njava -Djava.library.path=.:$ARENA_LIBS:$ARENALIBS2 MyClass\r\n```\r\n\r\nI am sure that there is something simple that I am missing, but I cannot seem to divine the answer from the web.  Please help.  Even a link to a blindingly obvious resource that I failed to find would be welcome ;-)\r\n\r\nThanks\r\n\r\nEdit: Here is the source.  HelloWorld -&gt; Foo -&gt; Bar\r\nBar.c\r\n```\r\n#include &lt;stdio.h&gt;\r\n \r\nvoid bar(void)\r\n{\r\n    puts(&quot;\\nHello, I am a shared library called BAR&quot;);\r\n}\r\n```\r\n\r\nbar.h\r\n```\r\n#ifndef bar_h__\r\n#define bar_h__\r\n \r\nextern void bar(void);\r\n \r\n#endif  // bar_h_\r\n```\r\n\r\nfoo.c:\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;stdio.h&gt;\r\n#include &quot;bar.h&quot;\r\n#include &quot;HelloWorld.h&quot;\r\n \r\n// https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\r\n \r\nvoid foo(void)\r\n{\r\n    puts(&quot;\\nHello, I am a shared library&quot;);\r\n    bar();\r\n}\r\n\r\nJNIEXPORT void JNICALL Java_HelloWorld_foo\r\n  (JNIEnv *, jobject) {\r\n    foo();\r\n }\r\n```\r\n\r\nfoo.h:\r\n```\r\n#ifndef foo_h__\r\n#define foo_h__\r\n \r\nextern void foo(void);\r\n \r\n#endif  // foo_h_\r\n```\r\n\r\nHelloWorld.h:\r\n```\r\n/* DO NOT EDIT THIS FILE - it is machine generated */\r\n#include &lt;jni.h&gt;\r\n/* Header for class HelloWorld */\r\n\r\n#ifndef _Included_HelloWorld\r\n#define _Included_HelloWorld\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n/*\r\n * Class:     HelloWorld\r\n * Method:    foo\r\n * Signature: ()V\r\n */\r\nJNIEXPORT void JNICALL Java_HelloWorld_foo\r\n  (JNIEnv *, jobject);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif\r\n```\r\n\r\nHelloWorld.java:\r\n```\r\n\r\nimport java.io.File;\r\n\r\nclass HelloWorld {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            File file = new File(&quot;libFoo.so&quot;);\r\n            String path = file.getAbsoluteFile().toPath().toString();\r\n            System.out.println(&quot;path = &quot;+ path);\r\n            System.load(path);\r\n            System.out.println(&quot;Hello from java app&quot;); // Display the string.\r\n            new HelloWorld().foo();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    private native void foo();\r\n}\r\n```\r\n\r\nAnd my script file:\r\n```\r\n#!/bin/sh\r\n\r\nSCRIPT_DIR=$( cd -- &quot;$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&gt; /dev/null &amp;&amp; pwd )\r\n\r\n# https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\r\n# compile foo\r\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\r\n# link object into shared library\r\ngcc -shared -o libFoo.so foo.o\r\n\r\n# compile bar\r\ngcc -c -Wall -Werror -fpic bar.c\r\n# link object into shared library\r\ngcc -shared -o libBar.so bar.o\r\n\r\n\r\nLD_LIBRARY_PATH=::$LD_LIBRARY_PATH\r\nexport LD_LIBRARY_PATH\r\ngcc -L$SCRIPT_DIR -o test hello-world.c -lFoo -lBar\r\n\r\n./test\r\n\r\n\r\nLD_LIBRARY_PATH=$SCRIPT_DIR:$LD_LIBRARY_PATH\r\necho &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\r\n\r\njavac HelloWorld.java\r\njavac -h . HelloWorld.java\r\njava -Djava.library.path=. HelloWorld\r\n\r\n```\r\n\r\nAnd for completeness, the source for the c executable that proves that the problem is not in the c code:\r\n```\r\n#include &lt;stdio.h&gt;      // C Standard IO Header\r\n#include &quot;foo.h&quot;\r\n\r\nint main(int argc, char *argv[]) {\r\n    printf(&quot;Hello from executable&quot;);\r\n    foo();\r\n}\r\n```\r\n\r\nThe executable in c runs fine, but the java application gives an error:\r\n```\r\nHello from java app\r\n\r\nHello, I am a shared library\r\njava: symbol lookup error: /mnt/data/singer/c/experiment/libFoo.so: undefined symbol: bar\r\n```\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\r\n\r\ngcc --version\r\ngcc (GCC) 12.2.1 20230201\r\n\r\n```\r\n\r\nRunning on Manjaro 22.1","title":"My JNI app cannot resolve dependencies of my shared app","body":"<p>I want to use 3rd party shared libs from my Java app via JNI.</p>\n<p>(I am running on Manjaro Linux, using command line tools at the moment)</p>\n<p>I can build and run this all fine if I do not create a dependency in myLib.so on the 3rd party libraries.<br />\nAs soon as I create a dependency from myLib.so to 3rd party lib the Java invocation fails with</p>\n<pre><code>java: symbol lookup error: myLib.so: undefined symbol: acOpenSystem\n</code></pre>\n<p>I have tried setting the library path to the locations of the libraries, but this still fails.</p>\n<pre><code>java -Djava.library.path=.:$ARENA_LIBS:$ARENALIBS2 MyClass\n</code></pre>\n<p>I am sure that there is something simple that I am missing, but I cannot seem to divine the answer from the web.  Please help.  Even a link to a blindingly obvious resource that I failed to find would be welcome ;-)</p>\n<p>Thanks</p>\n<p>Edit: Here is the source.  HelloWorld -&gt; Foo -&gt; Bar\nBar.c</p>\n<pre><code>#include &lt;stdio.h&gt;\n \nvoid bar(void)\n{\n    puts(&quot;\\nHello, I am a shared library called BAR&quot;);\n}\n</code></pre>\n<p>bar.h</p>\n<pre><code>#ifndef bar_h__\n#define bar_h__\n \nextern void bar(void);\n \n#endif  // bar_h_\n</code></pre>\n<p>foo.c:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n#include &quot;bar.h&quot;\n#include &quot;HelloWorld.h&quot;\n \n// https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n \nvoid foo(void)\n{\n    puts(&quot;\\nHello, I am a shared library&quot;);\n    bar();\n}\n\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject) {\n    foo();\n }\n</code></pre>\n<p>foo.h:</p>\n<pre><code>#ifndef foo_h__\n#define foo_h__\n \nextern void foo(void);\n \n#endif  // foo_h_\n</code></pre>\n<p>HelloWorld.h:</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class HelloWorld */\n\n#ifndef _Included_HelloWorld\n#define _Included_HelloWorld\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     HelloWorld\n * Method:    foo\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>HelloWorld.java:</p>\n<pre><code>\nimport java.io.File;\n\nclass HelloWorld {\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;libFoo.so&quot;);\n            String path = file.getAbsoluteFile().toPath().toString();\n            System.out.println(&quot;path = &quot;+ path);\n            System.load(path);\n            System.out.println(&quot;Hello from java app&quot;); // Display the string.\n            new HelloWorld().foo();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private native void foo();\n}\n</code></pre>\n<p>And my script file:</p>\n<pre><code>#!/bin/sh\n\nSCRIPT_DIR=$( cd -- &quot;$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&gt; /dev/null &amp;&amp; pwd )\n\n# https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n# link object into shared library\ngcc -shared -o libFoo.so foo.o\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n\nLD_LIBRARY_PATH=::$LD_LIBRARY_PATH\nexport LD_LIBRARY_PATH\ngcc -L$SCRIPT_DIR -o test hello-world.c -lFoo -lBar\n\n./test\n\n\nLD_LIBRARY_PATH=$SCRIPT_DIR:$LD_LIBRARY_PATH\necho &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\njavac HelloWorld.java\njavac -h . HelloWorld.java\njava -Djava.library.path=. HelloWorld\n\n</code></pre>\n<p>And for completeness, the source for the c executable that proves that the problem is not in the c code:</p>\n<pre><code>#include &lt;stdio.h&gt;      // C Standard IO Header\n#include &quot;foo.h&quot;\n\nint main(int argc, char *argv[]) {\n    printf(&quot;Hello from executable&quot;);\n    foo();\n}\n</code></pre>\n<p>The executable in c runs fine, but the java application gives an error:</p>\n<pre><code>Hello from java app\n\nHello, I am a shared library\njava: symbol lookup error: /mnt/data/singer/c/experiment/libFoo.so: undefined symbol: bar\n</code></pre>\n<pre><code>java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n\ngcc --version\ngcc (GCC) 12.2.1 20230201\n\n</code></pre>\n<p>Running on Manjaro 22.1</p>\n"},{"tags":["java","junit4"],"comments":[{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":1,"creation_date":1330667202,"post_id":9528581,"comment_id":12071291,"body_markdown":"Can you show the source code of this class?","body":"Can you show the source code of this class?"},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":1,"creation_date":1330667538,"post_id":9528581,"comment_id":12071353,"body_markdown":"A test case would be one of the methods in a test class. Having your tests depend of a certain execution order is not a good practice, as elaborated here: http://stackoverflow.com/q/3693626/422353","body":"A test case would be one of the methods in a test class. Having your tests depend of a certain execution order is not a good practice, as elaborated here: <a href=\"http://stackoverflow.com/q/3693626/422353\">stackoverflow.com/q/3693626/422353</a>"},{"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"score":0,"creation_date":1330673472,"post_id":9528581,"comment_id":12072597,"body_markdown":"Yes, I had read that and realize that unit tests , in the ideal world, should not be executed in some specific order. Sadly, thats how things work here  . A cab cannot be deleted before being created and penalized. So order becomes important.","body":"Yes, I had read that and realize that unit tests , in the ideal world, should not be executed in some specific order. Sadly, thats how things work here  . A cab cannot be deleted before being created and penalized. So order becomes important."},{"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"score":0,"creation_date":1330678879,"post_id":9528581,"comment_id":12073781,"body_markdown":"how is testUpdate() going to work if testCreate() fails?","body":"how is testUpdate() going to work if testCreate() fails?"},{"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"score":0,"creation_date":1330681085,"post_id":9528581,"comment_id":12074391,"body_markdown":"It does not.  Hence the order is important","body":"It does not.  Hence the order is important"}],"answers":[{"tags":[],"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1684479987,"creation_date":1330669699,"answer_id":9529014,"question_id":9528581,"body_markdown":"Generally junit tests(test methods) should not depend on each other. \r\nFollowing is taken from [junit FAQ][1]\r\n\r\n&gt; Each test runs in its own test fixture to isolate tests from the\r\n&gt; changes made by other tests. That is, tests don&#39;t share the state of\r\n&gt; objects in the test fixture. Because the tests are isolated, they can\r\n&gt; be run in any order...... The ordering of test-method invocations is not\r\n&gt; guaranteed.\r\n\r\nSo if you want to do some common initialization stuff then you could do that in the method annotated with `@Before` and cleanup in method annotated with `@After`. Or else if that initialization is not required for all tests methods in your test class then you could put that in private methods and call them appropriately from your tests.\r\n\r\nOn a side note, if you still want to do ordering of tests then you may have a look at `TestNG`.\r\n\r\n  [1]: https://junit.org/junit4/faq.html#atests_2","title":"Specifying order of execution in JUnit test case","body":"<p>Generally junit tests(test methods) should not depend on each other.\nFollowing is taken from <a href=\"https://junit.org/junit4/faq.html#atests_2\" rel=\"nofollow noreferrer\">junit FAQ</a></p>\n<blockquote>\n<p>Each test runs in its own test fixture to isolate tests from the\nchanges made by other tests. That is, tests don't share the state of\nobjects in the test fixture. Because the tests are isolated, they can\nbe run in any order...... The ordering of test-method invocations is not\nguaranteed.</p>\n</blockquote>\n<p>So if you want to do some common initialization stuff then you could do that in the method annotated with <code>@Before</code> and cleanup in method annotated with <code>@After</code>. Or else if that initialization is not required for all tests methods in your test class then you could put that in private methods and call them appropriately from your tests.</p>\n<p>On a side note, if you still want to do ordering of tests then you may have a look at <code>TestNG</code>.</p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1330687646,"creation_date":1330678230,"answer_id":9530377,"question_id":9528581,"body_markdown":"Your kind of situation _is_ awkward, as it feels bad to keep duplicating work in order to isolate the tests (see below) - but note that most of the duplication can be pulled out into `setUp` and `tearDown` (`@Before`, `@After`) methods, so you don&#39;t need much extra code. Provided that the tests are not running so slowly that you stop running them often, it&#39;s better to waste a bit of CPU in the name of clean testing.\r\n\r\n    public void testAdd() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // assert that it was added\r\n    }\r\n    public void testUpdate() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // update it\r\n          // assert that it was updated\r\n    }\r\n    public void testDelete() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // delete it\r\n          // assert that it was deleted\r\n    }\r\n\r\nThe alternative is to stick everything into one test with multiple asserts, but this is harder to understand and maintain, and gives a bit less information when a test fails:\r\n\r\n    public void testCRUD() throws Exception {\r\n          // wipe database\r\n          // add something\r\n          // assert that it was added\r\n          // update it\r\n          // assert that it was updated\r\n          // delete it \r\n          // assert that it was deleted\r\n    }\r\n\r\nTesting with databases or collections or storage of any kind is tricky because one test can always affect other tests by leaving junk behind in the database/collection.  Even if your tests don&#39;t explicitly rely on one another, they may still interfere with one another, especially if one of them fails.\r\n\r\nWhere possible, use a fresh instance for each test, or wipe the data, ideally in as simple a way as possible - e.g. for a database, wiping an entire table is more likely to succeed than a very specific deletion that you might accidentally get wrong. \r\n\r\n**Update**: It&#39;s usually better to wipe data at the start of the test, so one failed test run doesn&#39;t affect the next run. ","title":"Specifying order of execution in JUnit test case","body":"<p>Your kind of situation <em>is</em> awkward, as it feels bad to keep duplicating work in order to isolate the tests (see below) - but note that most of the duplication can be pulled out into <code>setUp</code> and <code>tearDown</code> (<code>@Before</code>, <code>@After</code>) methods, so you don't need much extra code. Provided that the tests are not running so slowly that you stop running them often, it's better to waste a bit of CPU in the name of clean testing.</p>\n\n<pre><code>public void testAdd() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n}\npublic void testUpdate() throws Exception {\n      // wipe database\n      // add something\n      // update it\n      // assert that it was updated\n}\npublic void testDelete() throws Exception {\n      // wipe database\n      // add something\n      // delete it\n      // assert that it was deleted\n}\n</code></pre>\n\n<p>The alternative is to stick everything into one test with multiple asserts, but this is harder to understand and maintain, and gives a bit less information when a test fails:</p>\n\n<pre><code>public void testCRUD() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n      // update it\n      // assert that it was updated\n      // delete it \n      // assert that it was deleted\n}\n</code></pre>\n\n<p>Testing with databases or collections or storage of any kind is tricky because one test can always affect other tests by leaving junk behind in the database/collection.  Even if your tests don't explicitly rely on one another, they may still interfere with one another, especially if one of them fails.</p>\n\n<p>Where possible, use a fresh instance for each test, or wipe the data, ideally in as simple a way as possible - e.g. for a database, wiping an entire table is more likely to succeed than a very specific deletion that you might accidentally get wrong. </p>\n\n<p><strong>Update</strong>: It's usually better to wipe data at the start of the test, so one failed test run doesn't affect the next run. </p>\n"},{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330679365,"creation_date":1330679365,"answer_id":9530600,"question_id":9528581,"body_markdown":"What you can do : \r\n\r\n - Cleanup the database before every test\r\n - Start by testing the first logical operation first. When you have enough confidence, assume it is correct and move to the next, etc...\r\n - Write white box tests first, but start with black box tests. For example if you have triggers or similar in your database, start with that.","title":"Specifying order of execution in JUnit test case","body":"<p>What you can do : </p>\n\n<ul>\n<li>Cleanup the database before every test</li>\n<li>Start by testing the first logical operation first. When you have enough confidence, assume it is correct and move to the next, etc...</li>\n<li>Write white box tests first, but start with black box tests. For example if you have triggers or similar in your database, start with that.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1175701,"reputation":1059,"user_id":1151800,"display_name":"kornero"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352274832,"creation_date":1352274832,"answer_id":13265376,"question_id":9528581,"body_markdown":"If you want to run junit tests in order &quot;just as they present in your source code&quot;, \r\nsee my note about this here:\r\n\r\n[How to run junit tests in order as they present in your source code][1]\r\n\r\nBut it is really not a good idea, tests must be independent.\r\n\r\n\r\n  [1]: http://intellijava.blogspot.com/2012/05/junit-and-java-7.html","title":"Specifying order of execution in JUnit test case","body":"<p>If you want to run junit tests in order \"just as they present in your source code\", \nsee my note about this here:</p>\n\n<p><a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\" rel=\"nofollow\">How to run junit tests in order as they present in your source code</a></p>\n\n<p>But it is really not a good idea, tests must be independent.</p>\n"},{"tags":[],"owner":{"account_id":1405991,"reputation":51,"user_id":1333694,"display_name":"mudd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1365101688,"creation_date":1365101688,"answer_id":15819421,"question_id":9528581,"body_markdown":"In general, JUnit does not guarantee the ordering of test cases. It&#39;s not guaranteed to be alphabetical, nor the order in the file. If the ordering of tests were important, then one depends on the output of the previous. What if the first one failed? Should we even bother with the later (and dependent) tests? Probably not.\r\n\r\n\r\nSo if we had this:\r\n\r\n    @Test\r\n    public void first(){...}\r\n    \r\n    @Test\r\n    public void second() {...}\r\n    \r\n    @Test\r\n    public void third() {...}\r\n\r\nWe don&#39;t know what order they will run in. Since we are hoping they go in order, and we should probably not bother running second or third if the previous one(s) failed, we can do this instead:\r\n\r\n    @Test\r\n    public void firstThree(){\r\n        first();\r\n        second();\r\n        third();\r\n    }\r\n    \r\n    public void first(){...}\r\n    public void second() {...}\r\n    public void third() {...}\r\n\r\nNotice that we only have one @Test this time, and it guarantees ordering.\r\n","title":"Specifying order of execution in JUnit test case","body":"<p>In general, JUnit does not guarantee the ordering of test cases. It's not guaranteed to be alphabetical, nor the order in the file. If the ordering of tests were important, then one depends on the output of the previous. What if the first one failed? Should we even bother with the later (and dependent) tests? Probably not.</p>\n\n<p>So if we had this:</p>\n\n<pre><code>@Test\npublic void first(){...}\n\n@Test\npublic void second() {...}\n\n@Test\npublic void third() {...}\n</code></pre>\n\n<p>We don't know what order they will run in. Since we are hoping they go in order, and we should probably not bother running second or third if the previous one(s) failed, we can do this instead:</p>\n\n<pre><code>@Test\npublic void firstThree(){\n    first();\n    second();\n    third();\n}\n\npublic void first(){...}\npublic void second() {...}\npublic void third() {...}\n</code></pre>\n\n<p>Notice that we only have one @Test this time, and it guarantees ordering.</p>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1365159974,"creation_date":1365159974,"answer_id":15832294,"question_id":9528581,"body_markdown":"If you&#39;re determined you would want to have order of execution for your tests, JUnit 4.11 now supports this through an annotation. See [this thread](https://stackoverflow.com/questions/13723125/create-my-own-methodsorter-for-junits-fixmethodorder) for more discussion - basically, you would use\r\n\r\n    @FixMethodOrder\r\n\r\nto guarantee some test order that way. It is discouraged though.","title":"Specifying order of execution in JUnit test case","body":"<p>If you're determined you would want to have order of execution for your tests, JUnit 4.11 now supports this through an annotation. See <a href=\"https://stackoverflow.com/questions/13723125/create-my-own-methodsorter-for-junits-fixmethodorder\">this thread</a> for more discussion - basically, you would use</p>\n\n<pre><code>@FixMethodOrder\n</code></pre>\n\n<p>to guarantee some test order that way. It is discouraged though.</p>\n"},{"tags":[],"owner":{"account_id":1641190,"reputation":2546,"user_id":1513568,"display_name":"Joshua Wilson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373921750,"creation_date":1373921750,"answer_id":17663772,"question_id":9528581,"body_markdown":"If you are using **Java 7** then you should know that Junit gets the list of all tests using &quot;Method[] getDeclaredMethods()&quot; from java.lang.Class.  You can read from the javadoc of this method or from junit docs that: &quot;**The elements in the array returned are not sorted and are not in any particular order.**&quot;, but in previous jvm implementation methods list was ordered as they were in source code.\r\n\r\nThis was taken from this [blog][1] and he provides a work around.\r\n\r\n\r\n  [1]: http://intellijava.blogspot.com/2012/05/junit-and-java-7.html","title":"Specifying order of execution in JUnit test case","body":"<p>If you are using <strong>Java 7</strong> then you should know that Junit gets the list of all tests using \"Method[] getDeclaredMethods()\" from java.lang.Class.  You can read from the javadoc of this method or from junit docs that: \"<strong>The elements in the array returned are not sorted and are not in any particular order.</strong>\", but in previous jvm implementation methods list was ordered as they were in source code.</p>\n\n<p>This was taken from this <a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\">blog</a> and he provides a work around.</p>\n"}],"owner":{"account_id":198615,"reputation":3049,"user_id":443380,"accept_rate":62,"display_name":"crazyaboutliv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66387,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"closed_date":1381923110,"accepted_answer_id":9530377,"answer_count":7,"score":21,"last_activity_date":1684479987,"creation_date":1330666931,"question_id":9528581,"body_markdown":"I have a test case where I add an entity, update it and delete the same.  Hence, the order of execution is important here. I want it to be :\r\n\r\n 1. Create\r\n 2. Update\r\n 3. Delete \r\n\r\nStrangely, for just one test case ( out of 15) , JUnit executes it in the following order :\r\n\r\n 3. Delete\r\n 2. Update\r\n 1. Create  . \r\n\r\nHow do I tell JUnit  to execute them in a specific order ? In other cases, JUnit works totally fine ( executing serially ) . And why does JUnit behave weirdly in this one case ? \r\n\r\nRelevant code snippet below : \r\n\t\r\n        private static Date date;\r\n        private static int entity;\r\n        static Parking p;\r\n        public ParkingTests(String name) {\r\n\t       super(name);\r\n        }\r\n        public void testAdd() throws Exception {\r\n               //Add code here\r\n        }\r\n        public void testUpdate() throws Exception {\r\n                //update code here\r\n        }\r\n        public void testDelete() throws Exception {\r\n                //delete code here\r\n        }\r\n      }\r\n\r\nIt gets weirder. I run a lot of test cases as part of a suite.  If I run just the Parking case, the order is maintained. If I run it along with others, it is sometimes maintained, sometimes not !  ","title":"Specifying order of execution in JUnit test case","body":"<p>I have a test case where I add an entity, update it and delete the same.  Hence, the order of execution is important here. I want it to be :</p>\n\n<ol>\n<li>Create</li>\n<li>Update</li>\n<li>Delete </li>\n</ol>\n\n<p>Strangely, for just one test case ( out of 15) , JUnit executes it in the following order :</p>\n\n<ol>\n<li>Delete</li>\n<li>Update</li>\n<li>Create  . </li>\n</ol>\n\n<p>How do I tell JUnit  to execute them in a specific order ? In other cases, JUnit works totally fine ( executing serially ) . And why does JUnit behave weirdly in this one case ? </p>\n\n<p>Relevant code snippet below : </p>\n\n<pre><code>    private static Date date;\n    private static int entity;\n    static Parking p;\n    public ParkingTests(String name) {\n       super(name);\n    }\n    public void testAdd() throws Exception {\n           //Add code here\n    }\n    public void testUpdate() throws Exception {\n            //update code here\n    }\n    public void testDelete() throws Exception {\n            //delete code here\n    }\n  }\n</code></pre>\n\n<p>It gets weirder. I run a lot of test cases as part of a suite.  If I run just the Parking case, the order is maintained. If I run it along with others, it is sometimes maintained, sometimes not !  </p>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1684475401,"post_id":76285057,"comment_id":134525594,"body_markdown":"It isn&#39;t possible to debug this from just a log. What is `toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator`? What does &quot;kind of taken&quot; mean.","body":"It isn&#39;t possible to debug this from just a log. What is <code>toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigura&zwnj;&#8203;tor</code>? What does &quot;kind of taken&quot; mean."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684477807,"post_id":76285057,"comment_id":134525932,"body_markdown":"[Vogella&#39;s Tycho example](https://github.com/vogellacompany/tycho-example) works for me. One cannot say what you did wrong if you do not tell what you did differently.","body":"<a href=\"https://github.com/vogellacompany/tycho-example\" rel=\"nofollow noreferrer\">Vogella&#39;s Tycho example</a> works for me. One cannot say what you did wrong if you do not tell what you did differently."}],"owner":{"account_id":24736058,"reputation":1,"user_id":18623409,"display_name":"tim.z.hood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684479497,"creation_date":1684451900,"question_id":76285057,"body_markdown":"I&#39;m trying and failing to build an Eclipse RCP application with Tycho.\r\n\r\nThe application is kind of taken from Vogella&#39;s tutorial.\r\n\r\nI run &quot;mvn clean verify&quot; and the error I&#39;m getting is :-\r\n```\r\n    [INFO] --- tycho-p2-repository:2.7.5:assemble-repository (default-assemble-repository) @ com.jim.mp.build.product ---\r\n    [WARNING] Parameter &#39;qualifier&#39; (user property &#39;buildQualifier&#39;) is read-only, must not be used in configuration\r\n    [INFO]\r\n    [INFO] --- tycho-p2-repository:2.7.5:archive-repository (default-archive-repository) @ com.jim.mp.build.product ---\r\n    [WARNING] Parameter &#39;qualifier&#39; (user property &#39;buildQualifier&#39;) is read-only, must not be used in configuration\r\n    [INFO] Building zip: C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\com.jim.mp.build.product-1.0.0-SNAPSHOT.zip\r\n    [INFO]\r\n    [INFO] --- tycho-p2-director:2.7.5:materialize-products (materialize-products) @ com.jim.mp.build.product ---\r\n    [INFO] Installing product com.vogella.tasks.product.product for environment win32/win32/x86_64 to C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\products\\com.vogella.tasks.product.product\\win32\\win32\\x86_64\r\n    Installing com.vogella.tasks.product.product 0.0.1.\r\n    Installation failed.\r\n    Cannot complete the install because one or more required items could not be found.\r\n            Software being installed: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\r\n            Missing requirement: toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator 0.0.1 requires &#39;osgi.bundle; org.eclipse.equinox.simpleconfigurator 0.0.0&#39; but it could not be found\r\n            Cannot satisfy dependency:\r\n                    From: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\r\n                    To: org.eclipse.equinox.p2.iu; toolingcom.vogella.tasks.product.product.configuration [0.0.1,0.0.1]\r\n            Cannot satisfy dependency:\r\n                    From: toolingcom.vogella.tasks.product.product.configuration 0.0.1\r\n                    To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator [0.0.1,0.0.1]\r\n```\r\n\r\nI&#39;ve tried Tycho versions `2.7.5` and `3.0.4`\r\nI&#39;ve tried removing `org.eclipse.equinox.simpleconfigurator` from my product file entirely\r\nI&#39;ve tried completely deleting my Maven .m2 repo and starting from scratch\r\n\r\nWas hoping for an error free Tycho build of my simple application\r\n\r\nI actually got the errors above\r\n\r\n","title":"Eclipse Tycho is failing: Cannot satisfy dependency: To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator","body":"<p>I'm trying and failing to build an Eclipse RCP application with Tycho.</p>\n<p>The application is kind of taken from Vogella's tutorial.</p>\n<p>I run &quot;mvn clean verify&quot; and the error I'm getting is :-</p>\n<pre><code>    [INFO] --- tycho-p2-repository:2.7.5:assemble-repository (default-assemble-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO]\n    [INFO] --- tycho-p2-repository:2.7.5:archive-repository (default-archive-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO] Building zip: C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\com.jim.mp.build.product-1.0.0-SNAPSHOT.zip\n    [INFO]\n    [INFO] --- tycho-p2-director:2.7.5:materialize-products (materialize-products) @ com.jim.mp.build.product ---\n    [INFO] Installing product com.vogella.tasks.product.product for environment win32/win32/x86_64 to C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\products\\com.vogella.tasks.product.product\\win32\\win32\\x86_64\n    Installing com.vogella.tasks.product.product 0.0.1.\n    Installation failed.\n    Cannot complete the install because one or more required items could not be found.\n            Software being installed: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n            Missing requirement: toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator 0.0.1 requires 'osgi.bundle; org.eclipse.equinox.simpleconfigurator 0.0.0' but it could not be found\n            Cannot satisfy dependency:\n                    From: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n                    To: org.eclipse.equinox.p2.iu; toolingcom.vogella.tasks.product.product.configuration [0.0.1,0.0.1]\n            Cannot satisfy dependency:\n                    From: toolingcom.vogella.tasks.product.product.configuration 0.0.1\n                    To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator [0.0.1,0.0.1]\n</code></pre>\n<p>I've tried Tycho versions <code>2.7.5</code> and <code>3.0.4</code>\nI've tried removing <code>org.eclipse.equinox.simpleconfigurator</code> from my product file entirely\nI've tried completely deleting my Maven .m2 repo and starting from scratch</p>\n<p>Was hoping for an error free Tycho build of my simple application</p>\n<p>I actually got the errors above</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564577160,"post_id":57290897,"comment_id":101076555,"body_markdown":"Which version of Java are you using ?","body":"Which version of Java are you using ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1564577320,"post_id":57290897,"comment_id":101076660,"body_markdown":"Latest - java version &quot;12.0.1&quot; 2019-04-16","body":"Latest - java version &quot;12.0.1&quot; 2019-04-16"}],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564578496,"creation_date":1564578496,"answer_id":57291506,"question_id":57290897,"body_markdown":"In case of Java 12, use the below code snippet inside build in pom.xml.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;12&lt;/release&gt;  \r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter this, add the below for jpamodelgen.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>In case of Java 12, use the below code snippet inside build in pom.xml.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;12&lt;/release&gt;  \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After this, add the below for jpamodelgen.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n  &lt;version&gt;5.4.3.Final&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564645208,"creation_date":1564645208,"answer_id":57304043,"question_id":57290897,"body_markdown":"Remove `&lt;scope&gt;provided&lt;/scope&gt;` from \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAdd plugin\r\n\r\n        &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;process&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;processors&gt;\r\n                                &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n                            &lt;/processors&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n        &lt;/plugins&gt;\r\n\r\nAnd then rebuild\r\n\r\n    mvn clean package -DskipTests","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>Remove <code>&lt;scope&gt;provided&lt;/scope&gt;</code> from </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;5.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Add plugin</p>\n\n<pre><code>    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;process&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                    &lt;version&gt;5.4.3.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>And then rebuild</p>\n\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7276662,"reputation":123,"user_id":6003138,"display_name":"Marcus Schulz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1620809736,"creation_date":1620809736,"answer_id":67500340,"question_id":57290897,"body_markdown":"I usually just add the hibernate-jpamodelgen to the annotationprocessorpath of the compiler plugin. That prevents the processor to be packaged in the deployment.\r\n\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n              &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n              &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        \r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>I usually just add the hibernate-jpamodelgen to the annotationprocessorpath of the compiler plugin. That prevents the processor to be packaged in the deployment.</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n          &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/path&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n          &lt;version&gt;5.4.3.Final&lt;/version&gt;\n        &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    \n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18641079,"reputation":51,"user_id":13586810,"display_name":"Cesar Manuel Cruzata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629812310,"creation_date":1629812310,"answer_id":68908680,"question_id":57290897,"body_markdown":"This works for me\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t        \t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.2.11.RELEASE&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;5.4.22.Final&lt;/version&gt;\r\n\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t&lt;activation&gt;\r\n\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t&lt;/activation&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n    import com.mycompany.myapp.domain.*; // for static metamodels\r\n    import com.mycompany.myapp.domain.User\r\n    \r\n    public class UserQueryService {\r\n    \r\n    private Specification&lt;User&gt; createSpecification(UserCriteria criteria) {\r\n      Specification&lt;User&gt; specification = Specification.where(null);\r\n      if (criteria != null) {\r\n        if (criteria.getId() != null) {\r\n           specification = specification.and(buildSpecification(criteria.getId(), User_.id));\r\n        }\r\n      }\r\n      return specification;\r\n    }    \r\n    }","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>This works for me</p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                        &lt;version&gt;2.2.11.RELEASE&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                            &lt;version&gt;5.4.22.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<pre><code>import com.mycompany.myapp.domain.*; // for static metamodels\nimport com.mycompany.myapp.domain.User\n\npublic class UserQueryService {\n\nprivate Specification&lt;User&gt; createSpecification(UserCriteria criteria) {\n  Specification&lt;User&gt; specification = Specification.where(null);\n  if (criteria != null) {\n    if (criteria.getId() != null) {\n       specification = specification.and(buildSpecification(criteria.getId(), User_.id));\n    }\n  }\n  return specification;\n}    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16494912,"reputation":1,"user_id":11917731,"display_name":"Oliver Matz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684478902,"creation_date":1684478902,"answer_id":76286637,"question_id":57290897,"body_markdown":"Adding hibernate-jpamodelgen to my dependencies did not do the job for me, but rather created dependency conflicts, which caused the dependencyConvergence of the maven-enforcer-plugin to complain unless I combined it with scope &#39;protected&#39;. Besides, it does not seem plausible to me to declare a runtime dependency unless I have one.\r\n\r\nIt turned out not to be necessary for me: I used Cesar&#39;s approach, but unlike in Cesar&#39;s case, I did not need to add\r\nhibernate-jpamodelgen or anything else to my dependencies.\r\n\r\nI already had a processor added to the maven-compiler-plugin, namely mapstruct-processor.\r\nLike Cesar suggested, I added the hibernate-jpamodelgen to that configuration. In my case, the result was:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt;\r\n            &lt;target&gt;11&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;!-- The following path declaration is the only thing I added to make hibernate-jpamodelgen run --&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.20.Final&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>Adding hibernate-jpamodelgen to my dependencies did not do the job for me, but rather created dependency conflicts, which caused the dependencyConvergence of the maven-enforcer-plugin to complain unless I combined it with scope 'protected'. Besides, it does not seem plausible to me to declare a runtime dependency unless I have one.</p>\n<p>It turned out not to be necessary for me: I used Cesar's approach, but unlike in Cesar's case, I did not need to add\nhibernate-jpamodelgen or anything else to my dependencies.</p>\n<p>I already had a processor added to the maven-compiler-plugin, namely mapstruct-processor.\nLike Cesar suggested, I added the hibernate-jpamodelgen to that configuration. In my case, the result was:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- The following path declaration is the only thing I added to make hibernate-jpamodelgen run --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;5.3.20.Final&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17344,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1684478902,"creation_date":1564576568,"question_id":57290897,"body_markdown":"I want to configure `hibernate-jpamodelgen` into Maven `pom.xml`. I tried this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;plugin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;org.plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Plugin&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t ........\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;datalis_plugin&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;10&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;10&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;1.18.6&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t\t&lt;compilerArguments&gt;\r\n    \t\t\t\t\t\t&lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t&lt;/compilerArguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\t\r\n    &lt;/project&gt;\r\n\r\nFull POM: https://pastebin.com/VjucMAYL\r\n\r\nBut I get error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project org.plugin: Compilation failure\r\n    [ERROR] Annotation processor &#39;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&#39; not found\r\n\r\n\r\nDo you know how I can fix this issue?\r\n\r\nI used this quite: https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/","title":"Configure hibernate-jpamodelgen in Maven","body":"<p>I want to configure <code>hibernate-jpamodelgen</code> into Maven <code>pom.xml</code>. I tried this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;org.plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Plugin&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;parent&gt;\n         ........\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;version&gt;5.4.3.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;datalis_plugin&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.6&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;               \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;   \n&lt;/project&gt;\n</code></pre>\n<p>Full POM: <a href=\"https://pastebin.com/VjucMAYL\" rel=\"noreferrer\">https://pastebin.com/VjucMAYL</a></p>\n<p>But I get error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project org.plugin: Compilation failure\n[ERROR] Annotation processor 'org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor' not found\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p>I used this quite: <a href=\"https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/</a></p>\n"},{"tags":["java","spring","soap"],"answers":[{"tags":[],"owner":{"account_id":1355184,"reputation":321,"user_id":1293726,"display_name":"ericl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518806907,"creation_date":1518806907,"answer_id":48833102,"question_id":48832483,"body_markdown":"I&#39;m not sure if this helps but found some [documentation][1]\r\n\r\nFor setting WS-Addressing headers on the client, you can use the org.springframework.ws.soap.addressing.client.ActionCallback. ...\r\n\r\n    webServiceTemplate.marshalSendAndReceive(o, new ActionCallback(&quot;http://samples/RequestOrder&quot;));\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/site/reference/html/client.html","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I'm not sure if this helps but found some <a href=\"https://docs.spring.io/spring-ws/site/reference/html/client.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>For setting WS-Addressing headers on the client, you can use the org.springframework.ws.soap.addressing.client.ActionCallback. ...</p>\n\n<pre><code>webServiceTemplate.marshalSendAndReceive(o, new ActionCallback(\"http://samples/RequestOrder\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12961460,"reputation":31,"user_id":9370587,"display_name":"Kryten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518810065,"creation_date":1518808155,"answer_id":48833357,"question_id":48832483,"body_markdown":"\r\n\r\npublic class WsHttpHeaderCallback implements WebServiceMessageCallback\r\n{\r\n\r\n    public WsHttpHeaderCallback()\r\n    {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\r\n    {\r\n    \tString headerKey=&quot;headerkey&quot;;\r\n    \tString headerValue=&quot;headervalue&quot;;\r\n        addRequestHeader(headerKey, headerValue);     \r\n    }\r\n    \r\n    private void addRequestHeader(String headerKey, String headerValue) throws IOException\r\n    {\r\n\r\n        TransportContext context = TransportContextHolder.getTransportContext();\r\n        WebServiceConnection connection = context.getConnection();\r\n        \r\n        if (connection instanceof HttpUrlConnection) {\r\n            HttpUrlConnection conn = (HttpUrlConnection) connection;\r\n            \r\n            conn.addRequestHeader(headerKey, headerValue); \r\n            \r\n        }\r\n    }   \r\n}","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>public class WsHttpHeaderCallback implements WebServiceMessageCallback\n{</p>\n\n<pre><code>public WsHttpHeaderCallback()\n{\n    super();\n}\n\n@Override\npublic void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\n{\n    String headerKey=\"headerkey\";\n    String headerValue=\"headervalue\";\n    addRequestHeader(headerKey, headerValue);     \n}\n\nprivate void addRequestHeader(String headerKey, String headerValue) throws IOException\n{\n\n    TransportContext context = TransportContextHolder.getTransportContext();\n    WebServiceConnection connection = context.getConnection();\n\n    if (connection instanceof HttpUrlConnection) {\n        HttpUrlConnection conn = (HttpUrlConnection) connection;\n\n        conn.addRequestHeader(headerKey, headerValue); \n\n    }\n}   \n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4791251,"reputation":151,"user_id":3870391,"display_name":"JN Gerbaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684478744,"creation_date":1536829547,"answer_id":52310279,"question_id":48832483,"body_markdown":"I&#39;ve faced the same problem. If it can help someone, I&#39;ve found a solution here: [Spring WS Add Soap Header in Client][1]\r\n\r\nThe idea is to create a class implementing `org.springframework.ws.client.core.WebServiceMessageCallback` and override the `doWithMessage()` method.\r\nThe `doItMessage()` method takes a `WebServiceMessage` as argument and is invoked by the `springWs` process before sending the request, allowing to modify it before it is send.\r\n\r\nWhat is done in the example above is marshalling the object and adding it to the header of the request.\r\n\r\nIn my case I have to be careful with XML annotations of the object to be set as header, especially the @XmlRootElement with the namespace attribute.\r\n\r\nOnce this is done, the `WSClient` has to be adjusted to use the `marshalSendAndReceive()` method that takes a request and an uri, a payload object, and a `WebServiceMessageCallback`.\r\n\r\n  [1]: https://memorynotfound.com/spring-ws-add-soap-header-client/","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I've faced the same problem. If it can help someone, I've found a solution here: <a href=\"https://memorynotfound.com/spring-ws-add-soap-header-client/\" rel=\"nofollow noreferrer\">Spring WS Add Soap Header in Client</a></p>\n<p>The idea is to create a class implementing <code>org.springframework.ws.client.core.WebServiceMessageCallback</code> and override the <code>doWithMessage()</code> method.\nThe <code>doItMessage()</code> method takes a <code>WebServiceMessage</code> as argument and is invoked by the <code>springWs</code> process before sending the request, allowing to modify it before it is send.</p>\n<p>What is done in the example above is marshalling the object and adding it to the header of the request.</p>\n<p>In my case I have to be careful with XML annotations of the object to be set as header, especially the @XmlRootElement with the namespace attribute.</p>\n<p>Once this is done, the <code>WSClient</code> has to be adjusted to use the <code>marshalSendAndReceive()</code> method that takes a request and an uri, a payload object, and a <code>WebServiceMessageCallback</code>.</p>\n"}],"owner":{"account_id":12961460,"reputation":31,"user_id":9370587,"display_name":"Kryten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684478744,"creation_date":1518804040,"question_id":48832483,"body_markdown":"I followed this guide &quot;Consuming a SOAP web service&quot;, at\r\nhttps://spring.io/guides/gs/consuming-web-service/ \r\nand changed it to call my own internal SOAP service, it makes the call\r\nas expected, however now I need to pass an http header via the WsTemplate,\r\nwhat is the easiest way to do this?","title":"Adding a custom http header to a spring boot WS call (wstemplate)","body":"<p>I followed this guide \"Consuming a SOAP web service\", at\n<a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a> \nand changed it to call my own internal SOAP service, it makes the call\nas expected, however now I need to pass an http header via the WsTemplate,\nwhat is the easiest way to do this?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":8780993,"reputation":2797,"user_id":6564620,"display_name":"maow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684477916,"creation_date":1684477595,"answer_id":76286510,"question_id":76282603,"body_markdown":"This is unfortunately just how hopping windows work in Kafka streams. Think about it this way: If you want a new window every second over 24h this means you have `24*60*60 = 86400` windows open. Every time a new event comes in, you need to add it to every single window (and remove the events that dropped out of the window). Yes, 99.9% of the events are the same everywhere but there is no way for Kafka streams to know this. \r\n\r\nIf you have 1Mb data per day this would already use 86.4Gb RAM. Also note that this is actually adding your value to 86400 state stores. The throughput should be abysmal. Ultimately you need to reduce the cardinality somehow (or buy enough ram to fit the state of your aggregations 86400 times).\r\n\r\nI ran into similar problems (trying to get hourly aggregates for data spanning years). However I controlled the API this was queried by and my solution at that time was to aggregate multiple levels (monthly, daily, hourly) and &quot;sum together&quot; the result on the fly. That came at the cost of a lot of complexity and a bit of latency as I needed to store the data somewhere and write logic to query it but at least it worked. \r\n\r\nThinking about it again, a alternative could be to aggregate tumbling windows per second, use `suppress` to throw only one event at the end of the interval and then aggregate the tumbling window events with a hopping window. This won&#39;t help much with RAM, but save a lot of computation at least.\r\n\r\nYou could also ask your PM whether what get this data down to a single second is worth the cost or whether 15 seconds would also suffice. \r\n","title":"Kafka Streams Hopping Window generates thousands of windows","body":"<p>This is unfortunately just how hopping windows work in Kafka streams. Think about it this way: If you want a new window every second over 24h this means you have <code>24*60*60 = 86400</code> windows open. Every time a new event comes in, you need to add it to every single window (and remove the events that dropped out of the window). Yes, 99.9% of the events are the same everywhere but there is no way for Kafka streams to know this.</p>\n<p>If you have 1Mb data per day this would already use 86.4Gb RAM. Also note that this is actually adding your value to 86400 state stores. The throughput should be abysmal. Ultimately you need to reduce the cardinality somehow (or buy enough ram to fit the state of your aggregations 86400 times).</p>\n<p>I ran into similar problems (trying to get hourly aggregates for data spanning years). However I controlled the API this was queried by and my solution at that time was to aggregate multiple levels (monthly, daily, hourly) and &quot;sum together&quot; the result on the fly. That came at the cost of a lot of complexity and a bit of latency as I needed to store the data somewhere and write logic to query it but at least it worked.</p>\n<p>Thinking about it again, a alternative could be to aggregate tumbling windows per second, use <code>suppress</code> to throw only one event at the end of the interval and then aggregate the tumbling window events with a hopping window. This won't help much with RAM, but save a lot of computation at least.</p>\n<p>You could also ask your PM whether what get this data down to a single second is worth the cost or whether 15 seconds would also suffice.</p>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76286510,"answer_count":1,"score":0,"last_activity_date":1684477916,"creation_date":1684426378,"question_id":76282603,"body_markdown":"I have the following topology definition for exchange tickers with hopping window of 24 hours. What I want to achieve is to simply calculate a moving window for every second from last 24 hours. The answer to this is the hopping window, but the problem is that it generates window for every second for last and next 24 hours which ends with OOM error.\r\n\r\nHow to achieve it? The tumbling window is no option here, since it is static and deos not allow duplicates.\r\n\r\n        \r\n        kStreamBuilder.stream(config.input())\r\n                .mapValues(new TickerConverter())\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofHours(24)).advanceBy(Duration.ofSeconds(1)))\r\n                .aggregate(TickerInit::new, new Aggregator(), buildStateStore(STORE))\r\n                .mapValues(new TickerConverter())\r\n                .toStream((key, value) -&gt; key.key())\r\n                .to(config.output().name());","title":"Kafka Streams Hopping Window generates thousands of windows","body":"<p>I have the following topology definition for exchange tickers with hopping window of 24 hours. What I want to achieve is to simply calculate a moving window for every second from last 24 hours. The answer to this is the hopping window, but the problem is that it generates window for every second for last and next 24 hours which ends with OOM error.</p>\n<p>How to achieve it? The tumbling window is no option here, since it is static and deos not allow duplicates.</p>\n<pre><code>    kStreamBuilder.stream(config.input())\n            .mapValues(new TickerConverter())\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofHours(24)).advanceBy(Duration.ofSeconds(1)))\n            .aggregate(TickerInit::new, new Aggregator(), buildStateStore(STORE))\n            .mapValues(new TickerConverter())\n            .toStream((key, value) -&gt; key.key())\n            .to(config.output().name());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684477072,"creation_date":1684387130,"answer_id":76277931,"question_id":76277850,"body_markdown":"In your application pom.xml, you add a repository tag then, a dependency tag, like this:\r\n\r\n    &lt;repositories&gt;\r\n\t    &lt;repository&gt;\r\n\t\t    &lt;id&gt;regulaforensics&lt;/id&gt;\r\n\t\t    &lt;url&gt;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&lt;/url&gt;\r\n\t    &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nthen\r\n\r\n    &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.regula.documentreader&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;webclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.8.4&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"Gradle file to Maven","body":"<p>In your application pom.xml, you add a repository tag then, a dependency tag, like this:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;regulaforensics&lt;/id&gt;\n        &lt;url&gt;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>then</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.regula.documentreader&lt;/groupId&gt;\n        &lt;artifactId&gt;webclient&lt;/artifactId&gt;\n        &lt;version&gt;5.8.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":19297027,"reputation":11,"user_id":14105796,"display_name":"Karim Nashaat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76277931,"answer_count":1,"score":0,"last_activity_date":1684477072,"creation_date":1684385904,"question_id":76277850,"body_markdown":"I want to add this dependency to my maven spring application. \r\n\r\n    repositories {\r\n        maven {\r\n            url = uri(&quot;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&quot;)\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&quot;com.regula.documentreader:webclient:5.+&quot;)\r\n    }\r\n\r\nI am having this code which is of a gradle file and I want to add this dependency to my Spring application. \r\n","title":"Gradle file to Maven","body":"<p>I want to add this dependency to my maven spring application.</p>\n<pre><code>repositories {\n    maven {\n        url = uri(&quot;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&quot;)\n    }\n}\n\ndependencies {\n    implementation(&quot;com.regula.documentreader:webclient:5.+&quot;)\n}\n</code></pre>\n<p>I am having this code which is of a gradle file and I want to add this dependency to my Spring application.</p>\n"},{"tags":["java","unit-testing","mocking"],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1264357600,"creation_date":1264357292,"answer_id":2128153,"question_id":2128148,"body_markdown":"A Mock object is something used for unit testing.  If you have an object whose methods you want to test, and those methods depend on some other object, you create a mock of the dependency rather than an actual instance of that dependency.  This allows you to test your object in isolation.\r\n\r\nCommon Java frameworks for creating mock objects include [JMock][1] and [EasyMock][2].  They generally allow you to create mock objects whose behavior you can define, so you know exactly what to expect (as far as return values and side effects) when you call methods on the mock object.\r\n\r\nAs an example, one common use case might be in an MVC application, where you have a DAO layer (data access objects) and a Controller that performs business logic.  If you&#39;d like to unit test the controller, and the controller has a dependency on a DAO, you can make a mock of the DAO that will return dummy objects to your controller.\r\n\r\nOne thing thats important to note is that its usually the case that mock objects implement the same interface as the objects that they are mocking - this allows your code to deal with them via the interface type, as if they are instances of the real thing.\r\n\r\n\r\n  [1]: http://www.jmock.org/\r\n  [2]: http://easymock.org/","title":"What are mock objects in Java?","body":"<p>A Mock object is something used for unit testing.  If you have an object whose methods you want to test, and those methods depend on some other object, you create a mock of the dependency rather than an actual instance of that dependency.  This allows you to test your object in isolation.</p>\n\n<p>Common Java frameworks for creating mock objects include <a href=\"http://www.jmock.org/\" rel=\"noreferrer\">JMock</a> and <a href=\"http://easymock.org/\" rel=\"noreferrer\">EasyMock</a>.  They generally allow you to create mock objects whose behavior you can define, so you know exactly what to expect (as far as return values and side effects) when you call methods on the mock object.</p>\n\n<p>As an example, one common use case might be in an MVC application, where you have a DAO layer (data access objects) and a Controller that performs business logic.  If you'd like to unit test the controller, and the controller has a dependency on a DAO, you can make a mock of the DAO that will return dummy objects to your controller.</p>\n\n<p>One thing thats important to note is that its usually the case that mock objects implement the same interface as the objects that they are mocking - this allows your code to deal with them via the interface type, as if they are instances of the real thing.</p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264358403,"creation_date":1264357481,"answer_id":2128167,"question_id":2128148,"body_markdown":"Mock objects are the one which is used in unit testing. which helps you to test the only functionality you want to test. because all the dependencies can be achieved by mocking those dependent objects. So if the test passes you will be sure that your unit under test is correct.\r\n\r\nSo its the test writer who creates them. You can use EasyMock as one the tool for Mocking.","title":"What are mock objects in Java?","body":"<p>Mock objects are the one which is used in unit testing. which helps you to test the only functionality you want to test. because all the dependencies can be achieved by mocking those dependent objects. So if the test passes you will be sure that your unit under test is correct.</p>\n\n<p>So its the test writer who creates them. You can use EasyMock as one the tool for Mocking.</p>\n"},{"tags":[],"owner":{"account_id":38612,"reputation":22579,"user_id":110933,"accept_rate":96,"display_name":"davek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1264357646,"creation_date":1264357646,"answer_id":2128179,"question_id":2128148,"body_markdown":"Quote from here: [http://easymock.org/][1]\n\n&gt; Unit testing is the testing of\n&gt; software units in isolation. However,\n&gt; most units do not work alone, but they\n&gt; collaborate with other units. To test\n&gt; a unit in isolation, we have to\n&gt; simulate the collaborators in the\n&gt; test. A Mock Object is a test-oriented\n&gt; replacement for a collaborator. It is\n&gt; configured to simulate the object that\n&gt; it replaces in a simple way.\n\nfor example, if you are wanting to test http calls you will need to create real-life request objects,complete with all their dependencies. This can often require a lot of effort, hence the use of mocked objects which provide a quicker path to creating an accurate rendition of the object you need, without the long chain of dependencies.\n\n  [1]: http://easymock.org/","title":"What are mock objects in Java?","body":"<p>Quote from here: <a href=\"http://easymock.org/\" rel=\"nofollow noreferrer\">http://easymock.org/</a></p>\n<blockquote>\n<p>Unit testing is the testing of\nsoftware units in isolation. However,\nmost units do not work alone, but they\ncollaborate with other units. To test\na unit in isolation, we have to\nsimulate the collaborators in the\ntest. A Mock Object is a test-oriented\nreplacement for a collaborator. It is\nconfigured to simulate the object that\nit replaces in a simple way.</p>\n</blockquote>\n<p>for example, if you are wanting to test http calls you will need to create real-life request objects,complete with all their dependencies. This can often require a lot of effort, hence the use of mocked objects which provide a quicker path to creating an accurate rendition of the object you need, without the long chain of dependencies.</p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1264357909,"creation_date":1264357909,"answer_id":2128205,"question_id":2128148,"body_markdown":"Mock objects let you simulate and verify real objects, without actually running the real code in those objects.  You can set up a mock to return specific results on method calls, you can verify that a method was or wasn&#39;t called, and other cool stuff.\r\n\r\n[Mockito][1] is a very simple and straightforward Java mock object library.\r\n\r\n\r\n  [1]: http://mockito.org","title":"What are mock objects in Java?","body":"<p>Mock objects let you simulate and verify real objects, without actually running the real code in those objects.  You can set up a mock to return specific results on method calls, you can verify that a method was or wasn't called, and other cool stuff.</p>\n\n<p><a href=\"http://mockito.org\" rel=\"noreferrer\">Mockito</a> is a very simple and straightforward Java mock object library.</p>\n"},{"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1264413361,"creation_date":1264396571,"answer_id":2130336,"question_id":2128148,"body_markdown":"Mocking and Mock Objects is not specific to Java. Mock objects is a unit testing \r\ntechnique in which a code chunk is replaced by dummy implementations that emulate\r\nreal code. This helps one to write unit tests targeting the functionality provided\r\nby the class under test.\r\n\r\nCheck these articles which provide a very good introduction to the concept of mocking:  \r\n&lt;a href=&quot;http://media.pragprog.com/articles/may_02_mock.pdf&quot;&gt;Mock Objects&lt;/a&gt; (PDF)   \r\n&lt;a href=&quot;http://connextra.com/aboutUs/mockobjects.pdf&quot;&gt;Endo-Testing: Unit Testing with Mock Objects&lt;/a&gt; (PDF)\r\n\r\nIf you are looking for a mock framework for unit testing in Java, \r\nhave a look at:  &lt;a href=&quot;http://code.google.com/p/mockito/&quot;&gt;Mockito&lt;/a&gt;.\r\nI have found it useful for my unit tests.","title":"What are mock objects in Java?","body":"<p>Mocking and Mock Objects is not specific to Java. Mock objects is a unit testing \ntechnique in which a code chunk is replaced by dummy implementations that emulate\nreal code. This helps one to write unit tests targeting the functionality provided\nby the class under test.</p>\n\n<p>Check these articles which provide a very good introduction to the concept of mocking:<br>\n<a href=\"http://media.pragprog.com/articles/may_02_mock.pdf\" rel=\"noreferrer\">Mock Objects</a> (PDF)<br>\n<a href=\"http://connextra.com/aboutUs/mockobjects.pdf\" rel=\"noreferrer\">Endo-Testing: Unit Testing with Mock Objects</a> (PDF)</p>\n\n<p>If you are looking for a mock framework for unit testing in Java, \nhave a look at:  <a href=\"http://code.google.com/p/mockito/\" rel=\"noreferrer\">Mockito</a>.\nI have found it useful for my unit tests.</p>\n"},{"tags":[],"owner":{"account_id":25626105,"reputation":1,"user_id":19397179,"display_name":"vikash kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684476949,"creation_date":1684476949,"answer_id":76286449,"question_id":2128148,"body_markdown":"Suppose Ramesh and Suresh is working on a project. And Ramesh is developing one method to save the client details and Suresh is developing another method which will validate client exist or not in the DB if it will not exist then only it will return false and then only client will be saved.\r\n\r\nSo here save method depends on the output of isExist method and if you want to test the save method then you need object which has isExist method but the problem is isExist method is not fully developed then how will you test.\r\n\r\nThen you will create Mock Object of that class which contain isExist method and then you will be able to test your save method.\r\n\r\nSo we can say that Mock object is Pseudo Object of any class which help you run the test cases of your unit.\r\n\r\nHence we will not create real object but Mock Object to test any method . ","title":"What are mock objects in Java?","body":"<p>Suppose Ramesh and Suresh is working on a project. And Ramesh is developing one method to save the client details and Suresh is developing another method which will validate client exist or not in the DB if it will not exist then only it will return false and then only client will be saved.</p>\n<p>So here save method depends on the output of isExist method and if you want to test the save method then you need object which has isExist method but the problem is isExist method is not fully developed then how will you test.</p>\n<p>Then you will create Mock Object of that class which contain isExist method and then you will be able to test your save method.</p>\n<p>So we can say that Mock object is Pseudo Object of any class which help you run the test cases of your unit.</p>\n<p>Hence we will not create real object but Mock Object to test any method .</p>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79824,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":6,"score":52,"last_activity_date":1684476949,"creation_date":1264357204,"question_id":2128148,"body_markdown":"I like to know what **mock objects** are in Java. Why do we create them and what are their uses?","title":"What are mock objects in Java?","body":"<p>I like to know what <strong>mock objects</strong> are in Java. Why do we create them and what are their uses?</p>\n"},{"tags":["java","spring","spring-boot","database-connection","aws-parameter-store"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1663625524,"post_id":73779113,"comment_id":130279954,"body_markdown":"How _specifically_ are you &quot;retrieving values from AWS Parameter Store&quot;? Spring Cloud Config? Custom code—exposing the values via what API(s)?","body":"How <i>specifically</i> are you &quot;retrieving values from AWS Parameter Store&quot;? Spring Cloud Config? Custom code—exposing the values via what API(s)?"},{"owner":{"account_id":26384023,"reputation":1,"user_id":20036842,"display_name":"Barbara Atkins"},"score":0,"creation_date":1663678443,"post_id":73779113,"comment_id":130292334,"body_markdown":"@chrylis-cautiouslyoptimistic- We&#39;re using an AWS library - dependency added to problem description (com.amazonaws.services.simplesystemsmanagement.*), specifically com.amazonaws.services.simplesystemsmanagement.model.GetParameterRequest &amp; com.amazonaws.services.simplesystemsmanagement.model.GetParameterResult to get the values after a connection to our AWS instance via com.amazonaws.services.simplesystemsmanagement.AWSSimpleSystemsManagementClientBuilder.","body":"@chrylis-cautiouslyoptimistic- We&#39;re using an AWS library - dependency added to problem description (com.amazonaws.services.simplesystemsmanagement.*), specifically com.amazonaws.services.simplesystemsmanagement.model.GetPara&zwnj;&#8203;meterRequest &amp; com.amazonaws.services.simplesystemsmanagement.model.GetPara&zwnj;&#8203;meterResult to get the values after a connection to our AWS instance via com.amazonaws.services.simplesystemsmanagement.AWSSimpleSyst&zwnj;&#8203;emsManagementClientB&zwnj;&#8203;uilder."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1663689365,"post_id":73779113,"comment_id":130296913,"body_markdown":"So you have a custom implementation that uses the AWS SDK v1? How is this integrated into your Spring Context? Does it implement `PropertyResolver`?","body":"So you have a custom implementation that uses the AWS SDK v1? How is this integrated into your Spring Context? Does it implement <code>PropertyResolver</code>?"},{"owner":{"account_id":26384023,"reputation":1,"user_id":20036842,"display_name":"Barbara Atkins"},"score":0,"creation_date":1663691408,"post_id":73779113,"comment_id":130297589,"body_markdown":"Thanks chrylis-cautiouslyoptimistic- for your help/questions!  We aren&#39;t using PropertyResolver but def open to any suggestions there. \n\n@Autowired\npublic void setProtectedProperties(ConfigurableEnvironment env) {\n\tProperties protectedProperties = new Properties();\n\t/* Logic to retrieve &amp; then put name/value pairs for \n\t\tspring.datasource.username &amp; spring.datasource.password in protectedProperties\n\t\tprotectedProperties.put(name, protectedValue);\n\t*/\n\tenv.getPropertySources().addFirst(new PropertiesPropertySource(&quot;protected-service-props&quot;, protectedProperties));\n}","body":"Thanks chrylis-cautiouslyoptimistic- for your help/questions!  We aren&#39;t using PropertyResolver but def open to any suggestions there.   @Autowired public void setProtectedProperties(ConfigurableEnvironment env) { \tProperties protectedProperties = new Properties(); \t/* Logic to retrieve &amp; then put name/value pairs for  \t\tspring.datasource.username &amp; spring.datasource.password in protectedProperties \t\tprotectedProperties.put(name, protectedValue); \t*/ \tenv.getPropertySources().addFirst(new PropertiesPropertySource(&quot;protected-service-props&quot;, protectedProperties)); }"}],"answers":[{"tags":[],"owner":{"account_id":20622449,"reputation":21,"user_id":15139153,"display_name":"Roman_G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684476878,"creation_date":1684332065,"answer_id":76272958,"question_id":73779113,"body_markdown":"I have encountered similar problem.\r\nParamter store values are beeing retrieved after DataSource initiation with autoconfiguration done by boot from properties file.\r\n\r\nSolution in my case was creation of custom DataSource (wrapped in javax.sql interface) and use `@DependsOn(&quot;ParameterStorePropertySource&quot;)` on Bean creation, \r\nthis forces my ParameterStore bean and custom PropertySource i created to be initiated before DataSource\r\n\r\n    public class AwsParameterStorePropertySource extends PropertySource&lt;AWSSimpleSystemsManagement&gt; {\r\n          //    private static final String activeProfile = System.getenv(&quot;spring_profiles_active&quot;);\r\n    \r\n        public AwsParameterStorePropertySource(String name, AWSSimpleSystemsManagement source) {\r\n    \r\n            super(name, source);\r\n        }\r\n    \r\n        @Override\r\n        public String getProperty(String parameter) {\r\n            if (parameter.startsWith(&quot;/ssm&quot;)) {\r\n                try {\r\n                    GetParameterRequest parameterRequest = new GetParameterRequest();\r\n                   //                parameterRequest.withName(activeProfile + &quot;-&quot; + parameter);\r\n                    var parameterNameWithoutPrefix = parameter.substring(4);\r\n                    parameterRequest.withName(parameterNameWithoutPrefix);\r\n                    GetParameterResult parameterResult = source.getParameter(parameterRequest);\r\n    \r\n                    return parameterResult.getParameter().getValue();\r\n                } catch (ParameterNotFoundException ex) {\r\n                    ex.printStackTrace();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\nthen Config file for spring to use this class, just to make sure i added `@Order(HIGHEST_PRECEDENCE)` bean creation order\r\n\r\n    @Configuration(value = &quot;ParameterStorePropertySource&quot;)\r\n    @Order(HIGHEST_PRECEDENCE)\r\n    public class AwsParameterStorePropertySourceConfig {\r\n        private final AWSSimpleSystemsManagement simpleSystemsManagement;\r\n        private final ConfigurableEnvironment env;\r\n    \r\n        public AwsParameterStorePropertySourceConfig(AWSSimpleSystemsManagement simpleSystemsManagement,\r\n                                                     ConfigurableEnvironment env) {\r\n    \r\n            this.env = env;\r\n            this.simpleSystemsManagement = simpleSystemsManagement;\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            AwsParameterStorePropertySource propertySource = new AwsParameterStorePropertySource(&quot;ParameterStorePropertySource&quot;, simpleSystemsManagement);\r\n            env.getPropertySources().addFirst(propertySource);\r\n        }\r\n    }\r\n\r\nAnd finally DataSource config file \r\n\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n        @Value(&quot;${mysql_url}&quot;)\r\n        private String url;\r\n    \r\n        @Value(&quot;${mysql_user}&quot;)\r\n        private String user;\r\n    \r\n        @Value(&quot;${mysql_pw}&quot;)\r\n        private String pw;\r\n    \r\n        @Bean\r\n        @DependsOn(&quot;ParameterStorePropertySource&quot;)\r\n        public DataSource getMySqlDataSource(){\r\n            return DataSourceBuilder.create()\r\n                    .driverClassName(&quot;com.mysql.jdbc.Driver&quot;)\r\n                    .url(&quot;jdbc:mysql:&quot;+url)\r\n                    .username(user)\r\n                    .password(pw)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nAfter this My db was intiated with injected parameter store values. Also you can use commented section to use it with profiles, i am currently working with only one profile so i did not need this code. You can also pass profile to SSMClient creation  for customazation\r\n\r\n    @Configuration\r\n    @Order(HIGHEST_PRECEDENCE)\r\n    public class SimpleSystemManagementConfig {\r\n        @Bean\r\n        public AWSSimpleSystemsManagement simpleSystemsManagement() {\r\n    //        if (activeProfile.equals(&quot;dev&quot;)) {\r\n    //            return AWSSimpleSystemsManagementClientBuilder.standard()\r\n    //                    .withEndpointConfiguration(new AwsClientBuilder\r\n    //                            .EndpointConfiguration(&quot;http://localstack.host:4583&quot;, awsRegion))\r\n    //                    .build();\r\n    //        } else {\r\n            return AWSSimpleSystemsManagementClientBuilder.standard().\r\n                    withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).build();\r\n    //        }\r\n        }\r\n    }\r\n\r\nHope this was usefull to someone. \r\n\r\nPS. Environment:  \r\n```SpringBoot 2.6.7```  \r\n```spring-cloud 2021.0.5```  \r\n```Java 17```","title":"Unable to get database credentials from AWS parameter store in time to make DB connection after Spring Boot upgrade to 2.7.2","body":"<p>I have encountered similar problem.\nParamter store values are beeing retrieved after DataSource initiation with autoconfiguration done by boot from properties file.</p>\n<p>Solution in my case was creation of custom DataSource (wrapped in javax.sql interface) and use <code>@DependsOn(&quot;ParameterStorePropertySource&quot;)</code> on Bean creation,\nthis forces my ParameterStore bean and custom PropertySource i created to be initiated before DataSource</p>\n<pre><code>public class AwsParameterStorePropertySource extends PropertySource&lt;AWSSimpleSystemsManagement&gt; {\n      //    private static final String activeProfile = System.getenv(&quot;spring_profiles_active&quot;);\n\n    public AwsParameterStorePropertySource(String name, AWSSimpleSystemsManagement source) {\n\n        super(name, source);\n    }\n\n    @Override\n    public String getProperty(String parameter) {\n        if (parameter.startsWith(&quot;/ssm&quot;)) {\n            try {\n                GetParameterRequest parameterRequest = new GetParameterRequest();\n               //                parameterRequest.withName(activeProfile + &quot;-&quot; + parameter);\n                var parameterNameWithoutPrefix = parameter.substring(4);\n                parameterRequest.withName(parameterNameWithoutPrefix);\n                GetParameterResult parameterResult = source.getParameter(parameterRequest);\n\n                return parameterResult.getParameter().getValue();\n            } catch (ParameterNotFoundException ex) {\n                ex.printStackTrace();\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>then Config file for spring to use this class, just to make sure i added <code>@Order(HIGHEST_PRECEDENCE)</code> bean creation order</p>\n<pre><code>@Configuration(value = &quot;ParameterStorePropertySource&quot;)\n@Order(HIGHEST_PRECEDENCE)\npublic class AwsParameterStorePropertySourceConfig {\n    private final AWSSimpleSystemsManagement simpleSystemsManagement;\n    private final ConfigurableEnvironment env;\n\n    public AwsParameterStorePropertySourceConfig(AWSSimpleSystemsManagement simpleSystemsManagement,\n                                                 ConfigurableEnvironment env) {\n\n        this.env = env;\n        this.simpleSystemsManagement = simpleSystemsManagement;\n    }\n\n    @PostConstruct\n    public void init() {\n        AwsParameterStorePropertySource propertySource = new AwsParameterStorePropertySource(&quot;ParameterStorePropertySource&quot;, simpleSystemsManagement);\n        env.getPropertySources().addFirst(propertySource);\n    }\n}\n</code></pre>\n<p>And finally DataSource config file</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n    @Value(&quot;${mysql_url}&quot;)\n    private String url;\n\n    @Value(&quot;${mysql_user}&quot;)\n    private String user;\n\n    @Value(&quot;${mysql_pw}&quot;)\n    private String pw;\n\n    @Bean\n    @DependsOn(&quot;ParameterStorePropertySource&quot;)\n    public DataSource getMySqlDataSource(){\n        return DataSourceBuilder.create()\n                .driverClassName(&quot;com.mysql.jdbc.Driver&quot;)\n                .url(&quot;jdbc:mysql:&quot;+url)\n                .username(user)\n                .password(pw)\n                .build();\n    }\n}\n</code></pre>\n<p>After this My db was intiated with injected parameter store values. Also you can use commented section to use it with profiles, i am currently working with only one profile so i did not need this code. You can also pass profile to SSMClient creation  for customazation</p>\n<pre><code>@Configuration\n@Order(HIGHEST_PRECEDENCE)\npublic class SimpleSystemManagementConfig {\n    @Bean\n    public AWSSimpleSystemsManagement simpleSystemsManagement() {\n//        if (activeProfile.equals(&quot;dev&quot;)) {\n//            return AWSSimpleSystemsManagementClientBuilder.standard()\n//                    .withEndpointConfiguration(new AwsClientBuilder\n//                            .EndpointConfiguration(&quot;http://localstack.host:4583&quot;, awsRegion))\n//                    .build();\n//        } else {\n        return AWSSimpleSystemsManagementClientBuilder.standard().\n                withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).build();\n//        }\n    }\n}\n</code></pre>\n<p>Hope this was usefull to someone.</p>\n<p>PS. Environment:<br />\n<code>SpringBoot 2.6.7</code><br />\n<code>spring-cloud 2021.0.5</code><br />\n<code>Java 17</code></p>\n"}],"owner":{"account_id":26384023,"reputation":1,"user_id":20036842,"display_name":"Barbara Atkins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684476878,"creation_date":1663620438,"question_id":73779113,"body_markdown":"I recently upgraded a Spring Boot microservice from v2.6.7 to v2.7.2.  In the code, we retrieve database credentials from an AWS parameter store and use them to connect to a Postgres database.   We take param values that indicate what to retrieve from the AWS parameter store, retrieve those values and and then add those values to the Spring environment (as spring.datasource.username &amp; spring.datasource.password).   \r\n\r\nThis was working without issue before we upgraded to 2.7.2.  However, since the upgrade, we seem to have a timing issue where a database connection is attempted before the values have been retrieved. We don&#39;t even reach the code to do the parameter store retrieval before it tries to make the DB connection. However, in my properties file, if I put valid values in the hardcoded parameters below (&amp; uncomment them), the database connection is made and I see the code to go get the AWS parameter store values run, so I know the code is good. The class that does the work of getting the values is @Autowired in my SpringBootApplication class. \r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://&lt;aws URL&gt;\r\nspring.datasource.username.param=&lt;aws parameter store for username&gt;\r\nspring.datasource.password.param=&lt;aws parameter store for password&gt;\r\n# spring.datasource.username=&lt;a valid hardcoded username&gt;\r\n# spring.datasource.password=&lt;a valid hardcoded pwd&gt;\r\n```\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.301&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDid anything change in the latest Spring Boot version that would affect the nature &amp;/or order of the auto wiring? How can I force the database connection attempt to wait until the DB creds have been retrieved? Any troubleshooting suggestions? ","title":"Unable to get database credentials from AWS parameter store in time to make DB connection after Spring Boot upgrade to 2.7.2","body":"<p>I recently upgraded a Spring Boot microservice from v2.6.7 to v2.7.2.  In the code, we retrieve database credentials from an AWS parameter store and use them to connect to a Postgres database.   We take param values that indicate what to retrieve from the AWS parameter store, retrieve those values and and then add those values to the Spring environment (as spring.datasource.username &amp; spring.datasource.password).</p>\n<p>This was working without issue before we upgraded to 2.7.2.  However, since the upgrade, we seem to have a timing issue where a database connection is attempted before the values have been retrieved. We don't even reach the code to do the parameter store retrieval before it tries to make the DB connection. However, in my properties file, if I put valid values in the hardcoded parameters below (&amp; uncomment them), the database connection is made and I see the code to go get the AWS parameter store values run, so I know the code is good. The class that does the work of getting the values is @Autowired in my SpringBootApplication class.</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://&lt;aws URL&gt;\nspring.datasource.username.param=&lt;aws parameter store for username&gt;\nspring.datasource.password.param=&lt;aws parameter store for password&gt;\n# spring.datasource.username=&lt;a valid hardcoded username&gt;\n# spring.datasource.password=&lt;a valid hardcoded pwd&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n    &lt;version&gt;1.12.301&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Did anything change in the latest Spring Boot version that would affect the nature &amp;/or order of the auto wiring? How can I force the database connection attempt to wait until the DB creds have been retrieved? Any troubleshooting suggestions?</p>\n"},{"tags":["java","arrays","methods"],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684415801,"creation_date":1684411317,"answer_id":76280652,"question_id":76280123,"body_markdown":"Your code to rotate the array is not working. This code follows the rule: _you must not create and use any new tables and you must not use any additional Java classes_ (except `System` and `Arrays` for printing). See the code comments.\r\n```\r\npublic class Main\r\n{\r\n    public static void rotateLeft(int [] array, int amount)\r\n    {\r\n        // Rotate the array by 1, n times\r\n        for (int i = 0; i &lt; amount; i++) {\r\n            // Save the first val\r\n            int first = array[0];\r\n            // Shift the array left 1\r\n            // Ex: [1,2,3,4] -&gt; [2,3,4,4]\r\n            for (int j = 0; j &lt; array.length - 1; j++) {\r\n                array[j] = array[j + 1];\r\n            }\r\n            // Put the value that was at index 0 in the last index\r\n            // Ex: first = 1, [2,3,4,4] -&gt; [2,3,4,1]\r\n            array[array.length - 1] = first;\r\n        }\r\n    }\r\n    \r\n    // Different code when using a 2nd array\r\n    public static int[] rotateLeft2(int [] array, int amount)\r\n    {\r\n        int [] newArray = new int[array.length];\r\n        // Copy starting from the index of smallest value\r\n        int j = 0;\r\n        for (int i = amount; i &lt; array.length; i++) {\r\n            newArray[j++] = array[i];\r\n        }\r\n        // Copy from begining up to index of smallest\r\n        for (int i = 0; i &lt; amount; i++) {\r\n            newArray[j++] = array[i];\r\n        }\r\n        return newArray;\r\n    }\r\n\r\n    // Find the index of the minimum value in the array\r\n    public static int arrayMinIndex(int [] array)\r\n    {\r\n        int min = array[0];\r\n        int minIndex = 0;\r\n        for (int i = 1; i &lt; array.length; i++) {\r\n            if (array[i] &lt; min) {\r\n                min = array[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n        return minIndex;\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    int [] array = {8,5,6,2,1,-1,-100,425,84};\r\n        System.out.println(Arrays.toString(array));\r\n\t    //rotateLeft(array, arrayMinIndex(array));\r\n\t    //System.out.println(Arrays.toString(array));\r\n        int [] b = rotateLeft2(a, arrayMinIndex(a));\r\n\t    System.out.println(Arrays.toString(b));\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\n[8, 5, 6, 2, 1, -1, -100, 425, 84]\r\n[-100, 425, 84, 8, 5, 6, 2, 1, -1]\r\n```","title":"Cyclically moving elements in an array in java","body":"<p>Your code to rotate the array is not working. This code follows the rule: <em>you must not create and use any new tables and you must not use any additional Java classes</em> (except <code>System</code> and <code>Arrays</code> for printing). See the code comments.</p>\n<pre><code>public class Main\n{\n    public static void rotateLeft(int [] array, int amount)\n    {\n        // Rotate the array by 1, n times\n        for (int i = 0; i &lt; amount; i++) {\n            // Save the first val\n            int first = array[0];\n            // Shift the array left 1\n            // Ex: [1,2,3,4] -&gt; [2,3,4,4]\n            for (int j = 0; j &lt; array.length - 1; j++) {\n                array[j] = array[j + 1];\n            }\n            // Put the value that was at index 0 in the last index\n            // Ex: first = 1, [2,3,4,4] -&gt; [2,3,4,1]\n            array[array.length - 1] = first;\n        }\n    }\n    \n    // Different code when using a 2nd array\n    public static int[] rotateLeft2(int [] array, int amount)\n    {\n        int [] newArray = new int[array.length];\n        // Copy starting from the index of smallest value\n        int j = 0;\n        for (int i = amount; i &lt; array.length; i++) {\n            newArray[j++] = array[i];\n        }\n        // Copy from begining up to index of smallest\n        for (int i = 0; i &lt; amount; i++) {\n            newArray[j++] = array[i];\n        }\n        return newArray;\n    }\n\n    // Find the index of the minimum value in the array\n    public static int arrayMinIndex(int [] array)\n    {\n        int min = array[0];\n        int minIndex = 0;\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; min) {\n                min = array[i];\n                minIndex = i;\n            }\n        }\n        return minIndex;\n    }\n\n    public static void main(String[] args) {\n        int [] array = {8,5,6,2,1,-1,-100,425,84};\n        System.out.println(Arrays.toString(array));\n        //rotateLeft(array, arrayMinIndex(array));\n        //System.out.println(Arrays.toString(array));\n        int [] b = rotateLeft2(a, arrayMinIndex(a));\n        System.out.println(Arrays.toString(b));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[8, 5, 6, 2, 1, -1, -100, 425, 84]\n[-100, 425, 84, 8, 5, 6, 2, 1, -1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684423377,"creation_date":1684416465,"answer_id":76281304,"question_id":76280123,"body_markdown":"The most straight forward way is to just find the minimum value and it&#39;s position and then rotate so the value is at location `0`.  Finding the minimum position is done in linear time.  The long pole is the rotation.  With a single direction rotation, `N` rotations would be required where `N` is the `position` of the `lowest value`.  Using another array would speed up the process but since that is not permitted, providing `left` and `right` rotation methods would minimize the rotations required.  If the min cell is beyond the middle, rotate to the right.  Otherwise, rotate to the left.\r\n```\r\nint[] arr = {8, 5, 6, 2, 1, -1, -100, 425, 84};\r\nSystem.out.println(Arrays.toString(rotateToMin(arr)));\r\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {3,2,1})));\r\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {1,2,3})));\r\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {-1,-10,2})));\r\n```\r\nprints\r\n```\r\n[-100, 425, 84, 8, 5, 6, 2, 1, -1]\r\n[1, 3, 2]\r\n[1, 2, 3]\r\n[-10, 2, -1]\r\n```\r\n- Start by just finding the minimum and save its position\r\n- the rotate to that position.\r\n```\r\npublic static int[] rotateToMin(int[] arr) {\r\n     int pos = 0;\r\n     int min = arr[0];\r\n     for (int i = 1; i &lt; arr.length; i++) {\r\n         if (arr[i] &lt; min) {\r\n             min = arr[i];\r\n             pos = i;\r\n         }\r\n     }\r\n     if (pos &gt; arr.length / 2) {\r\n           rotateRight(arr, arr.length-pos);\r\n     } else {\r\n           rotateLeft(arr, pos);\r\n     }\r\n     return arr;\r\n}\r\n```\r\nLeft and right rotation methods.  There may be fancier ways of doing this but providing two distinct methods was the most straightforward.\r\n```\r\nprivate static void rotateLeft(int[] arr, int count) {\r\n    for (int k = 0; k &lt; count; k++) {\r\n            int save = arr[0];\r\n            for (int i = 0; i &lt; arr.length - 1; i++) {\r\n                arr[i] = arr[i + 1];\r\n            }\r\n            arr[arr.length - 1] = save;\r\n        }\r\n    }\r\n\r\n```\r\nright rotation by count cells\r\n``` \r\nprivate static void rotateRight(int[] arr, int count) {\r\n    for (int k = 0; k &lt; count; k++) { \r\n    int save = arr[arr.length-1];\r\n          for (int i = arr.length - 1; i &gt; 0; i--) {\r\n                arr[i] = arr[i-1];\r\n          }\r\n          arr[0] = save;\r\n    }\r\n}\r\n\r\n```\r\nNote: since you&#39;re modifying a passed array it is not required to return it.  I just did it for ease of demonstration.","title":"Cyclically moving elements in an array in java","body":"<p>The most straight forward way is to just find the minimum value and it's position and then rotate so the value is at location <code>0</code>.  Finding the minimum position is done in linear time.  The long pole is the rotation.  With a single direction rotation, <code>N</code> rotations would be required where <code>N</code> is the <code>position</code> of the <code>lowest value</code>.  Using another array would speed up the process but since that is not permitted, providing <code>left</code> and <code>right</code> rotation methods would minimize the rotations required.  If the min cell is beyond the middle, rotate to the right.  Otherwise, rotate to the left.</p>\n<pre><code>int[] arr = {8, 5, 6, 2, 1, -1, -100, 425, 84};\nSystem.out.println(Arrays.toString(rotateToMin(arr)));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {3,2,1})));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {1,2,3})));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {-1,-10,2})));\n</code></pre>\n<p>prints</p>\n<pre><code>[-100, 425, 84, 8, 5, 6, 2, 1, -1]\n[1, 3, 2]\n[1, 2, 3]\n[-10, 2, -1]\n</code></pre>\n<ul>\n<li>Start by just finding the minimum and save its position</li>\n<li>the rotate to that position.</li>\n</ul>\n<pre><code>public static int[] rotateToMin(int[] arr) {\n     int pos = 0;\n     int min = arr[0];\n     for (int i = 1; i &lt; arr.length; i++) {\n         if (arr[i] &lt; min) {\n             min = arr[i];\n             pos = i;\n         }\n     }\n     if (pos &gt; arr.length / 2) {\n           rotateRight(arr, arr.length-pos);\n     } else {\n           rotateLeft(arr, pos);\n     }\n     return arr;\n}\n</code></pre>\n<p>Left and right rotation methods.  There may be fancier ways of doing this but providing two distinct methods was the most straightforward.</p>\n<pre><code>private static void rotateLeft(int[] arr, int count) {\n    for (int k = 0; k &lt; count; k++) {\n            int save = arr[0];\n            for (int i = 0; i &lt; arr.length - 1; i++) {\n                arr[i] = arr[i + 1];\n            }\n            arr[arr.length - 1] = save;\n        }\n    }\n\n</code></pre>\n<p>right rotation by count cells</p>\n<pre><code>private static void rotateRight(int[] arr, int count) {\n    for (int k = 0; k &lt; count; k++) { \n    int save = arr[arr.length-1];\n          for (int i = arr.length - 1; i &gt; 0; i--) {\n                arr[i] = arr[i-1];\n          }\n          arr[0] = save;\n    }\n}\n\n</code></pre>\n<p>Note: since you're modifying a passed array it is not required to return it.  I just did it for ease of demonstration.</p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684476009,"creation_date":1684426826,"answer_id":76282657,"question_id":76280123,"body_markdown":"**Step-1: Identify the smallest element and get the index.**\r\n\r\n    static int findTheSmallestElementIndex(int ar[]) {\r\n    \r\n   \t\tint index = 0;\r\n   \t\tint min = ar[0];\r\n    \r\n   \t\tfor(int i=1; i&lt;ar.length; i++) {\r\n    \r\n   \t\t\tif(min &gt; ar[i]) {\r\n   \t\t\t\tmin = ar[i];\r\n   \t\t\t\tindex = i;\r\n   \t\t\t}\r\n   \t\t}\r\n    \r\n   \t\treturn index;\r\n   \t}\r\n\r\n**Step-2: Use that index to calculate the number of rotations required.**\r\n\r\n    int numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\r\n\r\n**Step-3: If the smallest element is already at the first index the `numberOfRotations` will be `0` and so no need to do anything, just return the array.**\r\n\r\n**Step-4: Array rotation to the right by one explained.**\r\n\r\n 1. Take the backup of the rightmost element in the array, the last element (`int temp = ar[ar.length-1];`). If you are rotating to the left choose the leftmost element, the first element.\r\n 2. Start a for loop from the last index of the array and stop it right before the first index. (`for(int i=ar.length-1; i&gt;0; i--)`)\r\n 3. Replace the element from the current index with the one just behind it. (`ar[i] = ar[i-1];`). So your array `[8, 5, 6, 2, 1, -1, -100, 425, 84]` after the loop will be transformed like this `[8, 8, 5, 6, 2, 1, -1, -100, 425]`\r\n 4. Replace the first element with the backup (`ar[0] = temp;`), giving you the rotated array as `[84, 8, 5, 6, 2, 1, -1, -100, 425]`\r\n\r\n**Step-5: Continue this process till the `numberOfRotations` becomes 0.**\r\n\r\n**Complete operation**\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] ar = {8, 5, 6, 2, 1, -1, -100, 425, 84};\r\n\r\n\t\tSystem.out.println(Arrays.toString(ar));\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(rotateToTheRight(ar)));\r\n\t}\r\n\r\n\tstatic int findTheSmallestElementIndex(int ar[]) {\r\n\r\n\t\tint index = 0;\r\n\t\tint min = ar[0];\r\n\r\n\t\tfor(int i=1; i&lt;ar.length; i++) {\r\n\r\n\t\t\tif(min &gt; ar[i]) {\r\n\t\t\t\tmin = ar[i];\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tstatic int[] rotateToTheRight(int ar[]) {\r\n\r\n\t\tint numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\r\n\t\t\r\n\t\tif(numberOfRotations == 0)\r\n\t\t\treturn ar;\r\n\t\t\r\n\t\twhile(numberOfRotations-- &gt; 0) {\r\n\t\t\t\r\n\t\t\tint temp = ar[ar.length-1];\r\n\t\t\t\r\n\t\t\tfor(int i=ar.length-1; i&gt;0; i--) {\r\n\t\t\t\t\r\n\t\t\t\tar[i] = ar[i-1];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tar[0] = temp;\r\n\t\t}\r\n\t\t\r\n\t\treturn ar;\r\n\t}","title":"Cyclically moving elements in an array in java","body":"<p><strong>Step-1: Identify the smallest element and get the index.</strong></p>\n<pre><code>static int findTheSmallestElementIndex(int ar[]) {\n\n    int index = 0;\n    int min = ar[0];\n\n    for(int i=1; i&lt;ar.length; i++) {\n\n        if(min &gt; ar[i]) {\n            min = ar[i];\n            index = i;\n        }\n    }\n\n    return index;\n}\n</code></pre>\n<p><strong>Step-2: Use that index to calculate the number of rotations required.</strong></p>\n<pre><code>int numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\n</code></pre>\n<p><strong>Step-3: If the smallest element is already at the first index the <code>numberOfRotations</code> will be <code>0</code> and so no need to do anything, just return the array.</strong></p>\n<p><strong>Step-4: Array rotation to the right by one explained.</strong></p>\n<ol>\n<li>Take the backup of the rightmost element in the array, the last element (<code>int temp = ar[ar.length-1];</code>). If you are rotating to the left choose the leftmost element, the first element.</li>\n<li>Start a for loop from the last index of the array and stop it right before the first index. (<code>for(int i=ar.length-1; i&gt;0; i--)</code>)</li>\n<li>Replace the element from the current index with the one just behind it. (<code>ar[i] = ar[i-1];</code>). So your array <code>[8, 5, 6, 2, 1, -1, -100, 425, 84]</code> after the loop will be transformed like this <code>[8, 8, 5, 6, 2, 1, -1, -100, 425]</code></li>\n<li>Replace the first element with the backup (<code>ar[0] = temp;</code>), giving you the rotated array as <code>[84, 8, 5, 6, 2, 1, -1, -100, 425]</code></li>\n</ol>\n<p><strong>Step-5: Continue this process till the <code>numberOfRotations</code> becomes 0.</strong></p>\n<p><strong>Complete operation</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    int[] ar = {8, 5, 6, 2, 1, -1, -100, 425, 84};\n\n    System.out.println(Arrays.toString(ar));\n    \n    System.out.println(Arrays.toString(rotateToTheRight(ar)));\n}\n\nstatic int findTheSmallestElementIndex(int ar[]) {\n\n    int index = 0;\n    int min = ar[0];\n\n    for(int i=1; i&lt;ar.length; i++) {\n\n        if(min &gt; ar[i]) {\n            min = ar[i];\n            index = i;\n        }\n    }\n\n    return index;\n}\n\nstatic int[] rotateToTheRight(int ar[]) {\n\n    int numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\n    \n    if(numberOfRotations == 0)\n        return ar;\n    \n    while(numberOfRotations-- &gt; 0) {\n        \n        int temp = ar[ar.length-1];\n        \n        for(int i=ar.length-1; i&gt;0; i--) {\n            \n            ar[i] = ar[i-1];\n        }\n        \n        ar[0] = temp;\n    }\n    \n    return ar;\n}\n</code></pre>\n"}],"owner":{"account_id":19987113,"reputation":7,"user_id":14649043,"display_name":"Red Smurf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1684476009,"creation_date":1684407439,"question_id":76280123,"body_markdown":"So I have this assignment I need to do, and it goes as follows:\r\n\r\nWrite a void premakni() method that cyclically moves the elements of the table so that the smallest element is first in the table, but the order of the elements does not change.\r\nWhen implementing a method, you must not create and use any new tables and you must not use any additional Java classes (eg for working with tables or strings).\r\n\r\nI have tried multiple solutions and I cant get the hang of it. Here are some test examples I have:\r\ntest:\r\n\r\n```\r\nint[] a={0,1,2,-1,-2};\r\nint[] b=premakni(a);\r\nSystem.out.println(izpisiTab(a));\r\nSystem.out.println(izpisiTab(b));\r\n\r\n```\r\nresult:\r\n0 1 2 -1 -2\r\n-2 0 1 2 -1\r\n\r\ntest:\r\n```\r\nint[] a={8,5,6,2,1,-1,-100,425,84};\r\nint[] b=premakni(a);\r\nSystem.out.println(izpisiTab(a));\r\nSystem.out.println(izpisiTab(b));\r\n\r\n\r\nresult:\r\n8 5 6 2 1 -1 -100 425 84\r\n-100 425 84 8 5 6 2 1 -1\r\n\r\n```\r\n&quot;izpsiTab&quot; is a method that just prints out the array.\r\nCan someone give me some ideas on how I should do this?\r\n \r\n\r\nMy current code is this:\r\n```\r\npublic static void premakni(int[] tabela) {\r\n        int minValueIndex = 0;\r\n        int minValue = tabela[0];\r\n\r\n        // Find the minimum element and its index in the array\r\n        for (int i = 1; i &lt; tabela.length; i++) {\r\n            if (tabela[i] &lt; minValue) {\r\n                minValue = tabela[i];\r\n                minValueIndex = i;\r\n            }\r\n        }\r\n\r\n        // Shift the elements to the left\r\n        for (int i = minValueIndex; i &gt; 0; i--) {\r\n            tabela[i] = tabela[i - 1];\r\n        }\r\n\r\n        // Place the minimum element at the first position\r\n        tabela[0] = minValue;\r\n        \r\n    }\r\n\r\n```\r\nBut then I get errors because this is a void function and in the tests I have &quot;int[] b=premakni(a);&quot; and I cant put anything in b this way. Also my code changes the &quot;a&quot; array, but it should stay the same","title":"Cyclically moving elements in an array in java","body":"<p>So I have this assignment I need to do, and it goes as follows:</p>\n<p>Write a void premakni() method that cyclically moves the elements of the table so that the smallest element is first in the table, but the order of the elements does not change.\nWhen implementing a method, you must not create and use any new tables and you must not use any additional Java classes (eg for working with tables or strings).</p>\n<p>I have tried multiple solutions and I cant get the hang of it. Here are some test examples I have:\ntest:</p>\n<pre><code>int[] a={0,1,2,-1,-2};\nint[] b=premakni(a);\nSystem.out.println(izpisiTab(a));\nSystem.out.println(izpisiTab(b));\n\n</code></pre>\n<p>result:\n0 1 2 -1 -2\n-2 0 1 2 -1</p>\n<p>test:</p>\n<pre><code>int[] a={8,5,6,2,1,-1,-100,425,84};\nint[] b=premakni(a);\nSystem.out.println(izpisiTab(a));\nSystem.out.println(izpisiTab(b));\n\n\nresult:\n8 5 6 2 1 -1 -100 425 84\n-100 425 84 8 5 6 2 1 -1\n\n</code></pre>\n<p>&quot;izpsiTab&quot; is a method that just prints out the array.\nCan someone give me some ideas on how I should do this?</p>\n<p>My current code is this:</p>\n<pre><code>public static void premakni(int[] tabela) {\n        int minValueIndex = 0;\n        int minValue = tabela[0];\n\n        // Find the minimum element and its index in the array\n        for (int i = 1; i &lt; tabela.length; i++) {\n            if (tabela[i] &lt; minValue) {\n                minValue = tabela[i];\n                minValueIndex = i;\n            }\n        }\n\n        // Shift the elements to the left\n        for (int i = minValueIndex; i &gt; 0; i--) {\n            tabela[i] = tabela[i - 1];\n        }\n\n        // Place the minimum element at the first position\n        tabela[0] = minValue;\n        \n    }\n\n</code></pre>\n<p>But then I get errors because this is a void function and in the tests I have &quot;int[] b=premakni(a);&quot; and I cant put anything in b this way. Also my code changes the &quot;a&quot; array, but it should stay the same</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684473279,"post_id":76286068,"comment_id":134525393,"body_markdown":"That&#39;s a lot of code. Generally, less code means less places for bugs to hide. How about `return s.replace(&quot;()&quot;,&quot;&quot;).replace(&quot;[]&quot;,&quot;&quot;).replace(&quot;{}&quot;,&quot;&quot;).isEmpty();` instead? Or a little fancier, `return s.matches(&quot;(\\\\(\\\\)|\\\\[]|\\\\{})*&quot;);`. This problem is well within one line territory.","body":"That&#39;s a lot of code. Generally, less code means less places for bugs to hide. How about <code>return s.replace(&quot;()&quot;,&quot;&quot;).replace(&quot;[]&quot;,&quot;&quot;).replace(&quot;{}&quot;,&quot;&quot;).isEmpty&zwnj;&#8203;();</code> instead? Or a little fancier, <code>return s.matches(&quot;(\\\\(\\\\)|\\\\[]|\\\\{})*&quot;);</code>. This problem is well within one line territory."},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1684480083,"post_id":76286068,"comment_id":134526306,"body_markdown":"Does this answer your question? [Java balanced expressions check {\\[()\\]}](https://stackoverflow.com/questions/23187539/java-balanced-expressions-check)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23187539/java-balanced-expressions-check\">Java balanced expressions check {&#91;()&#93;}</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684473141,"creation_date":1684473141,"answer_id":76286159,"question_id":76286068,"body_markdown":"Essentially, this problem is stating that for the parentheses pair to be valid, it must meet one of two possible conditions.\r\n\r\n1. It is immediately followed by a matching, closing bracket.  \r\n2. Or, it is immediately followed by an opening bracket.\r\n\r\nSo, for example `()[]` is valid.  Same with `{[]()}` and `[[]]`.\r\nSomething along the lines of `}[`, or `[{])`, is considered invalid.\r\n\r\nYour code, for this task, is incredibly complex.\r\n\r\nTry the &quot;Discussions&quot; tab, on leetcode.  There are quite a few, basic Java implementations.","title":"Mismatch results for the same input on leetCode","body":"<p>Essentially, this problem is stating that for the parentheses pair to be valid, it must meet one of two possible conditions.</p>\n<ol>\n<li>It is immediately followed by a matching, closing bracket.</li>\n<li>Or, it is immediately followed by an opening bracket.</li>\n</ol>\n<p>So, for example <code>()[]</code> is valid.  Same with <code>{[]()}</code> and <code>[[]]</code>.\nSomething along the lines of <code>}[</code>, or <code>[{])</code>, is considered invalid.</p>\n<p>Your code, for this task, is incredibly complex.</p>\n<p>Try the &quot;Discussions&quot; tab, on leetcode.  There are quite a few, basic Java implementations.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684475841,"creation_date":1684475841,"answer_id":76286346,"question_id":76286068,"body_markdown":"&quot;()[]{}&quot; is a very simple input because it has no nesting of parentheses. To solve things like &quot;([{()}])&quot; for instance, you will need some kind of stack.\r\n\r\nYour code is much too complicated anyway.","title":"Mismatch results for the same input on leetCode","body":"<p>&quot;()[]{}&quot; is a very simple input because it has no nesting of parentheses. To solve things like &quot;([{()}])&quot; for instance, you will need some kind of stack.</p>\n<p>Your code is much too complicated anyway.</p>\n"}],"owner":{"account_id":22295850,"reputation":23,"user_id":16566740,"display_name":"Gabe Ebag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684475841,"creation_date":1684471701,"question_id":76286068,"body_markdown":"For the problem 20. Valid Parentheses on leetCode, I wrote the following code. https://leetcode.com/problems/valid-parentheses/\r\n\r\nIt asks if the three types of brackets close in order and all matches in pair. \r\n\r\nSince this question was in my complexity course, so I wrote a solution that could be done within logrithm space, which is completely unnecessary for solving this problem... This is not my point tho.\r\n\r\n\r\nThe problem I faced to is that I tried to run it on my own local app, for the input &quot;()[]{}&quot; I got a true, but it was a false in the test on leetCode. It feels really weird to me. \r\n\r\nIf you run my code with the input &quot;()[]{}&quot;, what do you get?\r\nWhat caused this problem?\r\n\r\n\r\n```\r\nclass Solution18_1 {\r\n    private Map&lt;Character, Character&gt; otherSide = new HashMap&lt;&gt;();\r\n    private int t1l = -1, t2l = -1, t3l = -1, t1r = Integer.MAX_VALUE, t2r = Integer.MAX_VALUE, t3r = Integer.MAX_VALUE;\r\n\r\n    private void initializeMap() {\r\n        otherSide.put(&#39;{&#39;, &#39;}&#39;);\r\n        otherSide.put(&#39;(&#39;, &#39;)&#39;);\r\n        otherSide.put(&#39;[&#39;, &#39;]&#39;);\r\n    }\r\n\r\n    public boolean isValid(String s) {\r\n        initializeMap();\r\n        //step one, check if all three types match on numbers,\r\n        // a { must have a }, so for the other two types\r\n        int matchCounter = 0;\r\n        matchCounter = matchCheck(&#39;{&#39;, s);\r\n        if (matchCounter != 0) return false;\r\n        matchCounter = matchCheck(&#39;[&#39;, s);\r\n        if (matchCounter != 0) return false;\r\n        matchCounter = matchCheck(&#39;(&#39;, s);\r\n        if (matchCounter != 0) return false;\r\n\r\n        //step two, check if order matches\r\n        //When we firstly read a type, we start to find the indices of this pair\r\n        //if the next read type is the same as the last one, we update the pointers.\r\n        //if the next read type is not the same type, we find the pair and compare the orders\r\n        char lastType = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n//            System.out.println(&quot;dealing with index &quot; + i + &quot;,the current char is &quot; + s.charAt(i) + &quot;, and matchCount = &quot; + matchCounter\r\n//                    + &quot;, last type is &quot; + lastType);\r\n            if (lastType == 0) {\r\n                lastType = s.charAt(i);\r\n                matchCounter = 1;\r\n                if (lastType == &#39;{&#39;) t1l = i;\r\n                if (lastType == &#39;[&#39;) t2l = i;\r\n                if (lastType == &#39;(&#39;) t3l = i;\r\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == lastType) {\r\n                matchCounter++;\r\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == otherSide.get(lastType)) {\r\n                matchCounter--;\r\n                if (matchCounter == 0) {\r\n                    //pairs located, check if matches\r\n                    //and go back to the corresponding index\r\n//                    System.out.print(&quot;Going back, &quot;);\r\n                    if (lastType == &#39;{&#39;) {\r\n//                        System.out.println(&quot;we read {, hence use t1l : &quot; + t1l);\r\n                        t1r = i;\r\n                        i = t1l;\r\n                        if (!checkMatch(1)) return false;\r\n                    }\r\n                    if (lastType == &#39;[&#39;) {\r\n//                        System.out.println(&quot;we read [, hence use t2l : &quot; + t2l);\r\n                        t2r = i;\r\n                        i = t2l;\r\n                        if (!checkMatch(2)) return false;\r\n                    }\r\n                    if (lastType == &#39;(&#39;) {\r\n//                        System.out.println(&quot;we read (, hence use t3l : &quot; + t3l);\r\n                        t3r = i;\r\n                        i = t3l;\r\n                        if (!checkMatch(3)) return false;\r\n                    }\r\n                }\r\n            } else if (matchCounter == 0 &amp;&amp; s.charAt(i) == lastType) {\r\n                matchCounter = 1;\r\n                if (lastType == &#39;{&#39;) t1l = i;\r\n                if (lastType == &#39;[&#39;) t2l = i;\r\n                if (lastType == &#39;(&#39;) t3l = i;\r\n            } else if (matchCounter == 0 &amp;&amp; (s.charAt(i) != lastType &amp;&amp; s.charAt(i) != otherSide.get(lastType))) {\r\n//                System.out.println(&quot;\\nChanging lastType by &quot; + s.charAt(i));\r\n                matchCounter = 1;\r\n                lastType = s.charAt(i);\r\n                if (lastType == &#39;{&#39;) t1l = i;\r\n                if (lastType == &#39;[&#39;) t2l = i;\r\n                if (lastType == &#39;(&#39;) t3l = i;\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private boolean checkMatch(int i) {\r\n        if (i == 1) {\r\n            if (t1l &lt; t2l &amp;&amp; t1r &gt; t2r) {\r\n                if (t1r &lt; t2r) return false;\r\n            } else if (t1l &gt; t2l &amp;&amp; t1l &lt; t2r) {\r\n                if (t1r &gt; t2r) return false;\r\n            }\r\n\r\n            if (t1l &lt; t3l &amp;&amp; t1r &gt; t3r) {\r\n                if (t1r &lt; t3r) return false;\r\n            } else if (t1l &gt; t3l &amp;&amp; t1l &lt; t3r) {\r\n                if (t1r &gt; t3r) return false;\r\n            }\r\n        } else if (i == 2) {\r\n            if (t2l &lt; t1l &amp;&amp; t2r &gt; t1r) {\r\n                if (t2r &lt; t1r) return false;\r\n            } else if (t2l &gt; t1l &amp;&amp; t2l &lt; t1r) {\r\n                if (t2r &gt; t1r) return false;\r\n            }\r\n\r\n            if (t2l &lt; t3l &amp;&amp; t2r &gt; t3r) {\r\n                if (t2r &lt; t3r) return false;\r\n            } else if (t2l &gt; t3l &amp;&amp; t2l &lt; t1r) {\r\n                if (t2r &gt; t3r) return false;\r\n            }\r\n\r\n        } else if (i == 3) {\r\n            if (t3l &lt; t1l &amp;&amp; t3r &gt; t1r) {\r\n                if (t3r &lt; t1r) return false;\r\n            } else if (t3l &gt; t1l &amp;&amp; t3l &lt; t1r) {\r\n                if (t3r &gt; t1r) return false;\r\n            }\r\n\r\n            if (t3l &lt; t2l &amp;&amp; t3r &gt; t2r) {\r\n                if (t3r &lt; t2r) return false;\r\n            } else if (t3l &gt; t2l &amp;&amp; t3l &lt; t2r) {\r\n                if (t3r &gt; t2r) return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private int matchCheck(char key, String s) {\r\n        int matchCounter = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (s.charAt(i) == key) {\r\n                matchCounter++;\r\n            } else if (s.charAt(i) == otherSide.get(key)) {\r\n                matchCounter--;\r\n                if (matchCounter &lt; 0) return -1;\r\n            }\r\n        }\r\n        return matchCounter;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Mismatch results for the same input on leetCode","body":"<p>For the problem 20. Valid Parentheses on leetCode, I wrote the following code. <a href=\"https://leetcode.com/problems/valid-parentheses/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/valid-parentheses/</a></p>\n<p>It asks if the three types of brackets close in order and all matches in pair.</p>\n<p>Since this question was in my complexity course, so I wrote a solution that could be done within logrithm space, which is completely unnecessary for solving this problem... This is not my point tho.</p>\n<p>The problem I faced to is that I tried to run it on my own local app, for the input &quot;()[]{}&quot; I got a true, but it was a false in the test on leetCode. It feels really weird to me.</p>\n<p>If you run my code with the input &quot;()[]{}&quot;, what do you get?\nWhat caused this problem?</p>\n<pre><code>class Solution18_1 {\n    private Map&lt;Character, Character&gt; otherSide = new HashMap&lt;&gt;();\n    private int t1l = -1, t2l = -1, t3l = -1, t1r = Integer.MAX_VALUE, t2r = Integer.MAX_VALUE, t3r = Integer.MAX_VALUE;\n\n    private void initializeMap() {\n        otherSide.put('{', '}');\n        otherSide.put('(', ')');\n        otherSide.put('[', ']');\n    }\n\n    public boolean isValid(String s) {\n        initializeMap();\n        //step one, check if all three types match on numbers,\n        // a { must have a }, so for the other two types\n        int matchCounter = 0;\n        matchCounter = matchCheck('{', s);\n        if (matchCounter != 0) return false;\n        matchCounter = matchCheck('[', s);\n        if (matchCounter != 0) return false;\n        matchCounter = matchCheck('(', s);\n        if (matchCounter != 0) return false;\n\n        //step two, check if order matches\n        //When we firstly read a type, we start to find the indices of this pair\n        //if the next read type is the same as the last one, we update the pointers.\n        //if the next read type is not the same type, we find the pair and compare the orders\n        char lastType = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n//            System.out.println(&quot;dealing with index &quot; + i + &quot;,the current char is &quot; + s.charAt(i) + &quot;, and matchCount = &quot; + matchCounter\n//                    + &quot;, last type is &quot; + lastType);\n            if (lastType == 0) {\n                lastType = s.charAt(i);\n                matchCounter = 1;\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == lastType) {\n                matchCounter++;\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == otherSide.get(lastType)) {\n                matchCounter--;\n                if (matchCounter == 0) {\n                    //pairs located, check if matches\n                    //and go back to the corresponding index\n//                    System.out.print(&quot;Going back, &quot;);\n                    if (lastType == '{') {\n//                        System.out.println(&quot;we read {, hence use t1l : &quot; + t1l);\n                        t1r = i;\n                        i = t1l;\n                        if (!checkMatch(1)) return false;\n                    }\n                    if (lastType == '[') {\n//                        System.out.println(&quot;we read [, hence use t2l : &quot; + t2l);\n                        t2r = i;\n                        i = t2l;\n                        if (!checkMatch(2)) return false;\n                    }\n                    if (lastType == '(') {\n//                        System.out.println(&quot;we read (, hence use t3l : &quot; + t3l);\n                        t3r = i;\n                        i = t3l;\n                        if (!checkMatch(3)) return false;\n                    }\n                }\n            } else if (matchCounter == 0 &amp;&amp; s.charAt(i) == lastType) {\n                matchCounter = 1;\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            } else if (matchCounter == 0 &amp;&amp; (s.charAt(i) != lastType &amp;&amp; s.charAt(i) != otherSide.get(lastType))) {\n//                System.out.println(&quot;\\nChanging lastType by &quot; + s.charAt(i));\n                matchCounter = 1;\n                lastType = s.charAt(i);\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            }\n\n\n        }\n\n        return true;\n    }\n\n    private boolean checkMatch(int i) {\n        if (i == 1) {\n            if (t1l &lt; t2l &amp;&amp; t1r &gt; t2r) {\n                if (t1r &lt; t2r) return false;\n            } else if (t1l &gt; t2l &amp;&amp; t1l &lt; t2r) {\n                if (t1r &gt; t2r) return false;\n            }\n\n            if (t1l &lt; t3l &amp;&amp; t1r &gt; t3r) {\n                if (t1r &lt; t3r) return false;\n            } else if (t1l &gt; t3l &amp;&amp; t1l &lt; t3r) {\n                if (t1r &gt; t3r) return false;\n            }\n        } else if (i == 2) {\n            if (t2l &lt; t1l &amp;&amp; t2r &gt; t1r) {\n                if (t2r &lt; t1r) return false;\n            } else if (t2l &gt; t1l &amp;&amp; t2l &lt; t1r) {\n                if (t2r &gt; t1r) return false;\n            }\n\n            if (t2l &lt; t3l &amp;&amp; t2r &gt; t3r) {\n                if (t2r &lt; t3r) return false;\n            } else if (t2l &gt; t3l &amp;&amp; t2l &lt; t1r) {\n                if (t2r &gt; t3r) return false;\n            }\n\n        } else if (i == 3) {\n            if (t3l &lt; t1l &amp;&amp; t3r &gt; t1r) {\n                if (t3r &lt; t1r) return false;\n            } else if (t3l &gt; t1l &amp;&amp; t3l &lt; t1r) {\n                if (t3r &gt; t1r) return false;\n            }\n\n            if (t3l &lt; t2l &amp;&amp; t3r &gt; t2r) {\n                if (t3r &lt; t2r) return false;\n            } else if (t3l &gt; t2l &amp;&amp; t3l &lt; t2r) {\n                if (t3r &gt; t2r) return false;\n            }\n        }\n        return true;\n    }\n\n    private int matchCheck(char key, String s) {\n        int matchCounter = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (s.charAt(i) == key) {\n                matchCounter++;\n            } else if (s.charAt(i) == otherSide.get(key)) {\n                matchCounter--;\n                if (matchCounter &lt; 0) return -1;\n            }\n        }\n        return matchCounter;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","optimization","time-complexity"],"comments":[{"owner":{"account_id":5133110,"reputation":3741,"user_id":4112664,"display_name":"almightyGOSU"},"score":1,"creation_date":1435805582,"post_id":31174840,"comment_id":50357016,"body_markdown":"Are you sure that &quot;with n = 5 and k = 2, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4]&quot; is correct? There seems to be more than 5 elements in that array?","body":"Are you sure that &quot;with n = 5 and k = 2, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4]&quot; is correct? There seems to be more than 5 elements in that array?"},{"owner":{"account_id":77782,"reputation":4807,"user_id":221781,"accept_rate":100,"display_name":"izilotti"},"score":0,"creation_date":1435805592,"post_id":31174840,"comment_id":50357019,"body_markdown":"http://stackoverflow.com/questions/26610309/java-rotating-array","body":"<a href=\"http://stackoverflow.com/questions/26610309/java-rotating-array\">stackoverflow.com/questions/26610309/java-rotating-array</a>"},{"owner":{"account_id":1936502,"reputation":5581,"user_id":1743849,"display_name":"mazhar islam"},"score":0,"creation_date":1435805666,"post_id":31174840,"comment_id":50357037,"body_markdown":"I&#39;ve no idea how `n = 5` and `k = 2` gives the output you show in the question.","body":"I&#39;ve no idea how <code>n = 5</code> and <code>k = 2</code> gives the output you show in the question."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1435805764,"post_id":31174840,"comment_id":50357061,"body_markdown":"Shouldn&#39;t that be &quot;n = 7 and k = 3&quot;?","body":"Shouldn&#39;t that be &quot;n = 7 and k = 3&quot;?"},{"owner":{"account_id":5637659,"reputation":446,"user_id":4462657,"display_name":"Linux Le"},"score":0,"creation_date":1435805971,"post_id":31174840,"comment_id":50357106,"body_markdown":"Sorry my bad it was my error typing... it&#39;s n = 7 and k = 3. thanks!","body":"Sorry my bad it was my error typing... it&#39;s n = 7 and k = 3. thanks!"},{"owner":{"account_id":1936502,"reputation":5581,"user_id":1743849,"display_name":"mazhar islam"},"score":0,"creation_date":1435806037,"post_id":31174840,"comment_id":50357119,"body_markdown":"You can use one temporary `int` variable instead of a whole `int` _array_.","body":"You can use one temporary <code>int</code> variable instead of a whole <code>int</code> <i>array</i>."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1435806182,"post_id":31174840,"comment_id":50357141,"body_markdown":"@rakeb.void - Yes, that is possible, and in at least two ways (that I know of). But at least one of those solutions is not so simple to implement correctly, and neither method is obvious.","body":"@rakeb.void - Yes, that is possible, and in at least two ways (that I know of). But at least one of those solutions is not so simple to implement correctly, and neither method is obvious."},{"owner":{"account_id":3416514,"reputation":2399,"user_id":2865240,"accept_rate":75,"display_name":"aleksandar"},"score":0,"creation_date":1435807029,"post_id":31174840,"comment_id":50357304,"body_markdown":"No, it is not possible to solve it in constant time.","body":"No, it is not possible to solve it in constant time."},{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":2,"creation_date":1435807100,"post_id":31174840,"comment_id":50357322,"body_markdown":"My favorite solution to this problem is the method described in Programming Pearls where you reverse the entire array, then reverse the sub-sections.  More info here: http://articles.leetcode.com/2010/04/rotating-array-in-place.html","body":"My favorite solution to this problem is the method described in Programming Pearls where you reverse the entire array, then reverse the sub-sections.  More info here: <a href=\"http://articles.leetcode.com/2010/04/rotating-array-in-place.html\" rel=\"nofollow noreferrer\">articles.leetcode.com/2010/04/rotating-array-in-place.html</a>"},{"owner":{"account_id":5637659,"reputation":446,"user_id":4462657,"display_name":"Linux Le"},"score":0,"creation_date":1435807291,"post_id":31174840,"comment_id":50357357,"body_markdown":"@Ted- It&#39;s that one of the solution you told about --- for (int i = 0; i &lt; order; i++) {\n\t\tfor (int j = nums.length - 1; j &gt; 0; j--) {\n\t\t\tint temp = nums[j];\n\t\t\tnums[j] = nums[j - 1];\n\t\t\tnums[j - 1] = temp;\n\t\t}","body":"@Ted- It&#39;s that one of the solution you told about --- for (int i = 0; i &lt; order; i++) { \t\tfor (int j = nums.length - 1; j &gt; 0; j--) { \t\t\tint temp = nums[j]; \t\t\tnums[j] = nums[j - 1]; \t\t\tnums[j - 1] = temp; \t\t}"},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1435811345,"post_id":31174840,"comment_id":50358286,"body_markdown":"@LinuxLe - No, that was not one of the methods I had in mind. That method works (except it seems to me that it rotates to the left, and doesn&#39;t work for negative values of `k`). However, while it&#39;s O(1) in space, it&#39;s O(n*k) in time. The methods I had in mind are both O(n) in time. The method that Daniel Nugent references is one of the methods I was thinking of. Both that method and the other one I had in mind are described in the documentation for `Collections.rotate()`.","body":"@LinuxLe - No, that was not one of the methods I had in mind. That method works (except it seems to me that it rotates to the left, and doesn&#39;t work for negative values of <code>k</code>). However, while it&#39;s O(1) in space, it&#39;s O(n*k) in time. The methods I had in mind are both O(n) in time. The method that Daniel Nugent references is one of the methods I was thinking of. Both that method and the other one I had in mind are described in the documentation for <code>Collections.rotate()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3299690,"reputation":4078,"user_id":2776146,"accept_rate":91,"display_name":"TryinHard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1503389754,"creation_date":1435808139,"answer_id":31175162,"question_id":31174840,"body_markdown":"Method 1 - **The Reversal Algorithm**(Good One):\r\n\r\n&gt; Algorithm:\r\n&gt; \r\n&gt; rotate(arr[], d, n)\r\n&gt;&gt;   reverse(arr[], l, n);\r\n\r\n&gt;&gt;   reverse(arr[], 1, n-d) ;\r\n\r\n&gt;&gt;   reverse(arr[], n - d + 1, n);\r\n\r\nLet AB are the two parts of the input array where A = arr[0..n-d-1] and B = arr[n-d..n-1]. The idea of the algorithm is:\r\n&gt;&gt; Reverse all to get (AB) r = BrAr.\r\n\r\n&gt;&gt; Reverse A to get BrA. /* Ar is reverse of A */\r\n\r\n&gt;&gt; Reverse B to get BA. /* Br is reverse of B */\r\n\r\nFor arr[] = [1, 2, 3, 4, 5, 6, 7], d =2 and n = 7 \r\n\r\nA = [1, 2, 3, 4, 5] and B = [ 6, 7]\r\n&gt;&gt; Reverse all, we get BrAr = [7, 6, 5, 4, 3, 2, 1]\r\n\r\n&gt;&gt; Reverse A, we get ArB = [7, 6, 1, 2, 3, 4, 5]\r\n&gt;&gt; Reverse B, we get ArBr = [6, 7, 5, 4, 3, 1, 2]\r\n\r\n\r\nHere is the Code Snippet:\r\n     \r\n    void righttRotate(int arr[], int d, int n)\r\n    {\r\n      reverseArray(arr, 0, n-1);\r\n      reverseArray(arr, 0, n-d-1);\r\n      reverseArray(arr, n-d, n-1);\r\n    }\r\n        \r\n    void reverseArray(int arr[], int start, int end)\r\n    {\r\n      int i;\r\n      int temp;\r\n      while(start &lt; end)\r\n      {\r\n        temp = arr[start];\r\n        arr[start] = arr[end];\r\n        arr[end] = temp;\r\n        start++;\r\n        end--;\r\n       }\r\n    }\r\n\r\nMethod 2 - **A Juggling Algorithm**\r\n\r\nDivide the array in different sets where number of sets is equal to GCD of n and d and move the elements within sets.\r\n\r\nIf GCD is 1, then elements will be moved within one set only, we just start with temp = arr[0] and keep moving arr[I+d] to arr[I] and finally store temp at the right place.\r\n\r\nHere is an example for n =12 and d = 3. GCD is 3 and\r\n\r\nLet arr[] be {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}\r\n\r\n 1. Elements are first moved in first set\r\n          arr[] after this step --&gt; {4 2 3 7 5 6 10 8 9 1 11 12}\r\n\r\n 2. Then in second set.\r\n          arr[] after this step --&gt; {4 5 3 7 8 6 10 11 9 1 2 12}\r\n\r\n 3. Finally in third set.\r\n          arr[] after this step --&gt; {4 5 6 7 8 9 10 11 12 1 2 3}\r\n\r\nHere is the code:\r\n\r\n    void leftRotate(int arr[], int d, int n)\r\n    {\r\n      int i, j, k, temp;\r\n      int gcd = gcd(d, n);\r\n      for (i = 0; i &lt; gcd; i++)\r\n      {\r\n        /* move i-th values of blocks */\r\n        temp = arr[i];\r\n        j = i;\r\n        while(1)\r\n        {\r\n          k = j + d;\r\n          if (k &gt;= n)\r\n            k = k - n;\r\n          if (k == i)\r\n            break;\r\n          arr[j] = arr[k];\r\n          j = k;\r\n        }\r\n        arr[j] = temp;\r\n      }\r\n    }\r\n     \r\n    int gcd(int a,int b)\r\n    {\r\n       if(b==0)\r\n         return a;\r\n       else\r\n         return gcd(b, a%b);\r\n    }\r\n \r\n&gt; Time complexity: O(n)\r\n\r\n&gt; Auxiliary Space: O(1)\r\n\r\nMethod 3 - **Rotate one by one**:\r\n\r\n&gt; righttRotate(arr[], d, n)\r\n\r\n&gt; start\r\n\r\n&gt;&gt;   For i = 0 to i &lt; d\r\n\r\n&gt;&gt;    Right rotate all elements of arr[] by one\r\n\r\n&gt;end\r\n\r\nTo rotate by one, store arr[n-1] in a temporary variable temp, move arr[1] to arr[2], arr[2] to arr[3] …and finally temp to arr[0]\r\n\r\nLet us take the same example arr[] = [1, 2, 3, 4, 5, 6, 7], d = 2, rotate arr[] by one 2 times. We get [7, 1, 2, 3, 4, 5, 6] after first rotation and [ 6, 7, 1, 2, 3, 4, 5] after second rotation.\r\n\r\nHer is Code Snippet:\r\n\r\n    void leftRotate(int arr[], int d, int n)\r\n    {\r\n      int i;\r\n      for (i = 0; i &lt; d; i++)\r\n        leftRotatebyOne(arr, n);\r\n    }\r\n     \r\n    void leftRotatebyOne(int arr[], int n)\r\n    {\r\n      int i, temp;\r\n      temp = arr[n-n];\r\n      for (i = 0; i &lt; n-1; i++)\r\n         arr[i] = arr[i+1];\r\n      arr[n - 1] = temp;\r\n    }\r\n\r\n&gt; Time complexity: O(n*d)\r\n\r\n&gt; Auxiliary Space: O(1)","title":"How to rotate an array?","body":"<p>Method 1 - <strong>The Reversal Algorithm</strong>(Good One):</p>\n\n<blockquote>\n  <p>Algorithm:</p>\n  \n  <p>rotate(arr[], d, n)</p>\n  \n  <blockquote>\n    <p>reverse(arr[], l, n);</p>\n    \n    <p>reverse(arr[], 1, n-d) ;</p>\n    \n    <p>reverse(arr[], n - d + 1, n);</p>\n  </blockquote>\n</blockquote>\n\n<p>Let AB are the two parts of the input array where A = arr[0..n-d-1] and B = arr[n-d..n-1]. The idea of the algorithm is:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Reverse all to get (AB) r = BrAr.</p>\n    \n    <p>Reverse A to get BrA. /* Ar is reverse of A */</p>\n    \n    <p>Reverse B to get BA. /* Br is reverse of B */</p>\n  </blockquote>\n</blockquote>\n\n<p>For arr[] = [1, 2, 3, 4, 5, 6, 7], d =2 and n = 7 </p>\n\n<p>A = [1, 2, 3, 4, 5] and B = [ 6, 7]</p>\n\n<blockquote>\n  <blockquote>\n    <p>Reverse all, we get BrAr = [7, 6, 5, 4, 3, 2, 1]</p>\n    \n    <p>Reverse A, we get ArB = [7, 6, 1, 2, 3, 4, 5]\n    Reverse B, we get ArBr = [6, 7, 5, 4, 3, 1, 2]</p>\n  </blockquote>\n</blockquote>\n\n<p>Here is the Code Snippet:</p>\n\n<pre><code>void righttRotate(int arr[], int d, int n)\n{\n  reverseArray(arr, 0, n-1);\n  reverseArray(arr, 0, n-d-1);\n  reverseArray(arr, n-d, n-1);\n}\n\nvoid reverseArray(int arr[], int start, int end)\n{\n  int i;\n  int temp;\n  while(start &lt; end)\n  {\n    temp = arr[start];\n    arr[start] = arr[end];\n    arr[end] = temp;\n    start++;\n    end--;\n   }\n}\n</code></pre>\n\n<p>Method 2 - <strong>A Juggling Algorithm</strong></p>\n\n<p>Divide the array in different sets where number of sets is equal to GCD of n and d and move the elements within sets.</p>\n\n<p>If GCD is 1, then elements will be moved within one set only, we just start with temp = arr[0] and keep moving arr[I+d] to arr[I] and finally store temp at the right place.</p>\n\n<p>Here is an example for n =12 and d = 3. GCD is 3 and</p>\n\n<p>Let arr[] be {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}</p>\n\n<ol>\n<li><p>Elements are first moved in first set\n      arr[] after this step --> {4 2 3 7 5 6 10 8 9 1 11 12}</p></li>\n<li><p>Then in second set.\n      arr[] after this step --> {4 5 3 7 8 6 10 11 9 1 2 12}</p></li>\n<li><p>Finally in third set.\n      arr[] after this step --> {4 5 6 7 8 9 10 11 12 1 2 3}</p></li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>void leftRotate(int arr[], int d, int n)\n{\n  int i, j, k, temp;\n  int gcd = gcd(d, n);\n  for (i = 0; i &lt; gcd; i++)\n  {\n    /* move i-th values of blocks */\n    temp = arr[i];\n    j = i;\n    while(1)\n    {\n      k = j + d;\n      if (k &gt;= n)\n        k = k - n;\n      if (k == i)\n        break;\n      arr[j] = arr[k];\n      j = k;\n    }\n    arr[j] = temp;\n  }\n}\n\nint gcd(int a,int b)\n{\n   if(b==0)\n     return a;\n   else\n     return gcd(b, a%b);\n}\n</code></pre>\n\n<blockquote>\n  <p>Time complexity: O(n)</p>\n  \n  <p>Auxiliary Space: O(1)</p>\n</blockquote>\n\n<p>Method 3 - <strong>Rotate one by one</strong>:</p>\n\n<blockquote>\n  <p>righttRotate(arr[], d, n)</p>\n  \n  <p>start</p>\n  \n  <blockquote>\n    <p>For i = 0 to i &lt; d</p>\n    \n    <p>Right rotate all elements of arr[] by one</p>\n  </blockquote>\n  \n  <p>end</p>\n</blockquote>\n\n<p>To rotate by one, store arr[n-1] in a temporary variable temp, move arr[1] to arr[2], arr[2] to arr[3] …and finally temp to arr[0]</p>\n\n<p>Let us take the same example arr[] = [1, 2, 3, 4, 5, 6, 7], d = 2, rotate arr[] by one 2 times. We get [7, 1, 2, 3, 4, 5, 6] after first rotation and [ 6, 7, 1, 2, 3, 4, 5] after second rotation.</p>\n\n<p>Her is Code Snippet:</p>\n\n<pre><code>void leftRotate(int arr[], int d, int n)\n{\n  int i;\n  for (i = 0; i &lt; d; i++)\n    leftRotatebyOne(arr, n);\n}\n\nvoid leftRotatebyOne(int arr[], int n)\n{\n  int i, temp;\n  temp = arr[n-n];\n  for (i = 0; i &lt; n-1; i++)\n     arr[i] = arr[i+1];\n  arr[n - 1] = temp;\n}\n</code></pre>\n\n<blockquote>\n  <p>Time complexity: O(n*d)</p>\n  \n  <p>Auxiliary Space: O(1)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435810266,"creation_date":1435809230,"answer_id":31175318,"question_id":31174840,"body_markdown":"The following code will do your job. This is for right rotate.\r\n\r\n    public void rightrotate(int[] nums, int k) {\r\n        k %= nums.length;\r\n        reverse(nums, 0, nums.length - 1);\r\n        reverse(nums, 0, k - 1);\r\n        reverse(nums, k, nums.length - 1);\r\n    }\r\n    \r\n    public void reverse(int[] nums, int start, int end) {\r\n        while (start &lt; end) {\r\n            int temp = nums[start];\r\n            nums[start] = nums[end];\r\n            nums[end] = temp;\r\n            start++;\r\n            end--;\r\n        }\r\n    }\r\n\r\nIf you want to do left rotate just use the following\r\n\r\n     public void leftrotate(int[] nums, int k) {\r\n        k %= nums.length;\r\n        reverse(nums, 0, k - 1);\r\n        reverse(nums, k, nums.length - 1);\r\n        reverse(nums, 0, nums.length - 1);\r\n    }","title":"How to rotate an array?","body":"<p>The following code will do your job. This is for right rotate.</p>\n\n<pre><code>public void rightrotate(int[] nums, int k) {\n    k %= nums.length;\n    reverse(nums, 0, nums.length - 1);\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n}\n\npublic void reverse(int[] nums, int start, int end) {\n    while (start &lt; end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}\n</code></pre>\n\n<p>If you want to do left rotate just use the following</p>\n\n<pre><code> public void leftrotate(int[] nums, int k) {\n    k %= nums.length;\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n    reverse(nums, 0, nums.length - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600811973,"creation_date":1435809562,"answer_id":31175366,"question_id":31174840,"body_markdown":"When `k` is negative, it rotates to the left.\r\n Space is O(1) and time is O(n)\r\n\r\n\r\n    static void rotate(int[] num, int k) {\r\n        int n = num.length;\r\n        k = k % n;\r\n        if (k &lt; 0) k += n;\r\n        int[] result = new int[n];\r\n        System.arraycopy(num, 0, result, k, n - k);\r\n        System.arraycopy(num, n - k, result, 0, k);\r\n        System.arraycopy(result, 0, num, 0, n);\r\n    }\r\n","title":"How to rotate an array?","body":"<p>When <code>k</code> is negative, it rotates to the left.\nSpace is O(1) and time is O(n)</p>\n<pre><code>static void rotate(int[] num, int k) {\n    int n = num.length;\n    k = k % n;\n    if (k &lt; 0) k += n;\n    int[] result = new int[n];\n    System.arraycopy(num, 0, result, k, n - k);\n    System.arraycopy(num, n - k, result, 0, k);\n    System.arraycopy(result, 0, num, 0, n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6533444,"reputation":947,"user_id":5053862,"accept_rate":20,"display_name":"Seeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435813789,"creation_date":1435813789,"answer_id":31176014,"question_id":31174840,"body_markdown":"This is a simple solution to rotate an array.\r\n\r\n    public class ArrayRotate {\r\n    \tpublic int[] rotateArray(int array[], int k) {\r\n    \r\n    \t\tint newArray[] = new int[array.length];\r\n    \t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tnewArray[(i + k) % array.length] = array[i];\r\n    \t\t}\r\n    \t\tSystem.arraycopy(newArray, 0, array, 0, array.length);\r\n    \t\treturn newArray;\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint array[] = { 1, 2, 3, 4, 5, 6, 7 };\r\n    \t\tArrayRotate rotate = new ArrayRotate();\r\n    \t\trotate.display(rotate.rotateArray(array, 3));\r\n    \r\n    \t}\r\n    \r\n    \tpublic void display(int array[]) {\r\n    \t\tfor (int i : array) {\r\n    \t\t\tSystem.out.print(i + &quot;,&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Runtime complexity is O(n)**\r\n\r\nThere are several other algorithm to achieve the same.\r\n\r\n - using temp array \r\n - Rotate One By one \r\n - Juggling algorithm  \r\n - reversal   method","title":"How to rotate an array?","body":"<p>This is a simple solution to rotate an array.</p>\n\n<pre><code>public class ArrayRotate {\n    public int[] rotateArray(int array[], int k) {\n\n        int newArray[] = new int[array.length];\n        for (int i = 0; i &lt; array.length; i++) {\n            newArray[(i + k) % array.length] = array[i];\n        }\n        System.arraycopy(newArray, 0, array, 0, array.length);\n        return newArray;\n\n    }\n\n    public static void main(String[] args) {\n        int array[] = { 1, 2, 3, 4, 5, 6, 7 };\n        ArrayRotate rotate = new ArrayRotate();\n        rotate.display(rotate.rotateArray(array, 3));\n\n    }\n\n    public void display(int array[]) {\n        for (int i : array) {\n            System.out.print(i + \",\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Runtime complexity is O(n)</strong></p>\n\n<p>There are several other algorithm to achieve the same.</p>\n\n<ul>\n<li>using temp array </li>\n<li>Rotate One By one </li>\n<li>Juggling algorithm  </li>\n<li>reversal   method</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7913378,"reputation":63,"user_id":5976676,"display_name":"Lee.O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476185093,"creation_date":1476185093,"answer_id":39976183,"question_id":31174840,"body_markdown":"This solution is O(1) space and O(N) time. It is in C#, takes an array parameter and rotates it in place. The algorithm goes through the first s (the shift) elements, starting with the first element moves it to the s_th position, then moves the s_th to the 2s_th position etc. If each of the first s elements rotates back to itself then there will be (arrayLength / s) * s  = arrayLength loops, and at the end the array will be rotated by s. If the first s elements do not rotate back themselves, then there will still be cycles, say if s = 4, there could be one cycle which is 1-3-1 and the second 2-4-2, the line   -  if (ind == indAtBeg), checks for a cycle and terminates the while loop. The variable loopCount increments, when there is a rotation starting at any of the first s elements.\r\n\r\n\r\n        public static void rotateArrayByS(int[] ar, int s)\r\n        {\r\n            int len = ar.Length, ind = 0, temp1 = ar[0], \r\n                temp2 /*temp1 and temp2 for switching elements*/, \r\n                loopCount /*rotations starting at the first s elemtns of ar*/ = 0;\r\n\r\n            s %= len;\r\n\r\n            while (loopCount &lt; s)\r\n            {\r\n                int indAtBeg = ind;\r\n                temp1 = ar[ind];\r\n\r\n                bool done = false;\r\n                while (!done)\r\n                {\r\n                    if (ind &lt; s)\r\n                        loopCount++;\r\n\r\n                    ind = (ind + s) % len;\r\n\r\n                    //cycle detected\r\n                    if (ind == indAtBeg)\r\n                        done = true;\r\n\r\n                    //switch the elements\r\n                    temp2 = ar[ind];\r\n                    ar[ind] = temp1;\r\n                    temp1 = temp2;\r\n                }\r\n\r\n                ++ind;\r\n            }\r\n        }","title":"How to rotate an array?","body":"<p>This solution is O(1) space and O(N) time. It is in C#, takes an array parameter and rotates it in place. The algorithm goes through the first s (the shift) elements, starting with the first element moves it to the s_th position, then moves the s_th to the 2s_th position etc. If each of the first s elements rotates back to itself then there will be (arrayLength / s) * s  = arrayLength loops, and at the end the array will be rotated by s. If the first s elements do not rotate back themselves, then there will still be cycles, say if s = 4, there could be one cycle which is 1-3-1 and the second 2-4-2, the line   -  if (ind == indAtBeg), checks for a cycle and terminates the while loop. The variable loopCount increments, when there is a rotation starting at any of the first s elements.</p>\n\n<pre><code>    public static void rotateArrayByS(int[] ar, int s)\n    {\n        int len = ar.Length, ind = 0, temp1 = ar[0], \n            temp2 /*temp1 and temp2 for switching elements*/, \n            loopCount /*rotations starting at the first s elemtns of ar*/ = 0;\n\n        s %= len;\n\n        while (loopCount &lt; s)\n        {\n            int indAtBeg = ind;\n            temp1 = ar[ind];\n\n            bool done = false;\n            while (!done)\n            {\n                if (ind &lt; s)\n                    loopCount++;\n\n                ind = (ind + s) % len;\n\n                //cycle detected\n                if (ind == indAtBeg)\n                    done = true;\n\n                //switch the elements\n                temp2 = ar[ind];\n                ar[ind] = temp1;\n                temp1 = temp2;\n            }\n\n            ++ind;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9153029,"reputation":27,"user_id":6806886,"display_name":"nurawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485339927,"creation_date":1485339927,"answer_id":41849091,"question_id":31174840,"body_markdown":"     \r\nPartial Code for ONE time array rotation\r\n\r\n           last=number_holder[n-1];\r\n           first=number_holder[0];\r\n            //rotation \r\n\r\n            number_holder[0]=last;\r\n\r\n            for(i=1;i&lt;n;i++)\r\n            {\r\n                last=number_holder[i];\r\n                number_holder[i]=first;\r\n                first=last;\r\n            }\r\n\r\nDisplay the array \r\n\r\n            for(i=1;i&lt;n;i++)\r\n            {\r\n              System.out.println(number_holder[i]);\r\n            }\r\n","title":"How to rotate an array?","body":"<p>Partial Code for ONE time array rotation</p>\n\n<pre><code>       last=number_holder[n-1];\n       first=number_holder[0];\n        //rotation \n\n        number_holder[0]=last;\n\n        for(i=1;i&lt;n;i++)\n        {\n            last=number_holder[i];\n            number_holder[i]=first;\n            first=last;\n        }\n</code></pre>\n\n<p>Display the array </p>\n\n<pre><code>        for(i=1;i&lt;n;i++)\n        {\n          System.out.println(number_holder[i]);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4828286,"reputation":207,"user_id":3897179,"display_name":"Harshit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487437986,"creation_date":1487432427,"answer_id":42317188,"question_id":31174840,"body_markdown":"*ArrayUtil class is used to provide following utilities in primitive array*\r\n\r\n 1. swap array elements  \r\n 2. reverse array between startIndex and endIndex \r\n 3. leftRotate array by shift\r\n\r\n----------\r\n**Algorithm for array rotation by shift-**\r\n\r\n1. If we have to reverse array by shift value then take mod(%) with array length     so that shift will become smaller than array length.\r\n2. Reverse array between index 0 and shift-1\r\n3. Reverse array between index shift and length-1.\r\n4. Reverse complete array between index 0 and length-1.\r\n\r\n**Space Complexity:** In-place Algorithm, No extra space needed so O(1).\r\n\r\n**Time Complexity :** Array reversal of size k take O(k/2) i.e swapping k/2 pairs of elements.\r\n\r\nArray Reversal time- O(k) for k size array.\r\n\r\nTotal time in Rotation-\r\n \r\n - O(1)  ..........for step 1\r\n - O(shift)  ......for step 2 \r\n - O(n - shift) ...for step 3    \r\n - O(n) ...........for step 4\r\n\r\n              \r\n**Total Time for array Rotation: O(1) + O(shift) + O(n-shift) + O(n) = O(n)**\r\n----------\r\n\r\n\r\n    public class Solution {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint k = 3;\r\n    \t\tint a[] = {1,2,3,4,5,6,7};\r\n\r\n    \t\tArrayUtil.leftRotate(a, k);\r\n\r\n    \t\tfor (int i : a)\r\n    \t\t\tSystem.out.println(i);\r\n    \t}\r\n    }\r\n    \r\n    class ArrayUtil {\r\n    \r\n    \tpublic static final boolean checkIndexOutOfRange(int[] array, int index) {\r\n    \t\tif (index &lt; 0 || index &gt; array.length)\r\n    \t\t\treturn true;\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static final void swap(int[] array, int i, int j) {\r\n    \t\tif (checkIndexOutOfRange(array, i) || checkIndexOutOfRange(array, j))\r\n    \t\t\treturn;\r\n    \t\tint t = array[i];\r\n    \t\tarray[i] = array[j];\r\n    \t\tarray[j] = t;\r\n    \t}\r\n    \r\n    \tpublic static final void reverse(int[] array, int startIndex, int endIndex) {\r\n    \t\tif (checkIndexOutOfRange(array, startIndex) || checkIndexOutOfRange(array, endIndex))\r\n    \t\t\treturn;\r\n    \t\twhile (startIndex &lt; endIndex) {\r\n    \t\t\tswap(array, startIndex, endIndex);\r\n    \t\t\tstartIndex++;\r\n    \t\t\tendIndex--;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static final void reverse(int[] array) {\r\n    \t\treverse(array, 0, array.length - 1);\r\n    \t}\r\n    \r\n    \tpublic static final void leftRotate(int[] array, int shift) {\r\n    \t\tint arrayLength = array.length;\r\n    \t\tif (shift &gt;= arrayLength)\r\n    \t\t\tshift %= arrayLength;\r\n    \t\treverse(array, 0, shift - 1);\r\n    \t\treverse(array, shift, arrayLength - 1);\r\n    \t\treverse(array);\r\n    \t}\r\n    }\r\n","title":"How to rotate an array?","body":"<p><em>ArrayUtil class is used to provide following utilities in primitive array</em></p>\n\n<ol>\n<li>swap array elements  </li>\n<li>reverse array between startIndex and endIndex </li>\n<li>leftRotate array by shift</li>\n</ol>\n\n<hr>\n\n<p><strong>Algorithm for array rotation by shift-</strong></p>\n\n<ol>\n<li>If we have to reverse array by shift value then take mod(%) with array length     so that shift will become smaller than array length.</li>\n<li>Reverse array between index 0 and shift-1</li>\n<li>Reverse array between index shift and length-1.</li>\n<li>Reverse complete array between index 0 and length-1.</li>\n</ol>\n\n<p><strong>Space Complexity:</strong> In-place Algorithm, No extra space needed so O(1).</p>\n\n<p><strong>Time Complexity :</strong> Array reversal of size k take O(k/2) i.e swapping k/2 pairs of elements.</p>\n\n<p>Array Reversal time- O(k) for k size array.</p>\n\n<p>Total time in Rotation-</p>\n\n<ul>\n<li>O(1)  ..........for step 1</li>\n<li>O(shift)  ......for step 2 </li>\n<li>O(n - shift) ...for step 3    </li>\n<li>O(n) ...........for step 4</li>\n</ul>\n\n<h2><strong>Total Time for array Rotation: O(1) + O(shift) + O(n-shift) + O(n) = O(n)</strong></h2>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        int k = 3;\n        int a[] = {1,2,3,4,5,6,7};\n\n        ArrayUtil.leftRotate(a, k);\n\n        for (int i : a)\n            System.out.println(i);\n    }\n}\n\nclass ArrayUtil {\n\n    public static final boolean checkIndexOutOfRange(int[] array, int index) {\n        if (index &lt; 0 || index &gt; array.length)\n            return true;\n        return false;\n    }\n\n    public static final void swap(int[] array, int i, int j) {\n        if (checkIndexOutOfRange(array, i) || checkIndexOutOfRange(array, j))\n            return;\n        int t = array[i];\n        array[i] = array[j];\n        array[j] = t;\n    }\n\n    public static final void reverse(int[] array, int startIndex, int endIndex) {\n        if (checkIndexOutOfRange(array, startIndex) || checkIndexOutOfRange(array, endIndex))\n            return;\n        while (startIndex &lt; endIndex) {\n            swap(array, startIndex, endIndex);\n            startIndex++;\n            endIndex--;\n        }\n    }\n\n    public static final void reverse(int[] array) {\n        reverse(array, 0, array.length - 1);\n    }\n\n    public static final void leftRotate(int[] array, int shift) {\n        int arrayLength = array.length;\n        if (shift &gt;= arrayLength)\n            shift %= arrayLength;\n        reverse(array, 0, shift - 1);\n        reverse(array, shift, arrayLength - 1);\n        reverse(array);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4454701,"reputation":1393,"user_id":3625404,"accept_rate":57,"display_name":"qeatzy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489147001,"creation_date":1489137135,"answer_id":42714433,"question_id":31174840,"body_markdown":"AFAIK, **there are three ways to rotate an array with O(1) extra space**, or put it another way, to swap two contiguous subarray.\r\n\r\n- reverse approach. reverse both part, then reverse all. most easy to code.\r\n- **successively swap two contiguous block, until all items are in place.**\r\n- juggling rotate, shell sort like. -- worse cache performance.\r\n\r\nC++ has builtin function `std::rotate()`, which takes three iterator `first, middle, last`,\r\nand return `new_middle`, which is where the old first element lies in the rotated\r\nsequence.\r\n\r\nI have checked the implementation on my computer, which use second approach I listed above.\r\n(line 1246 in `/usr/lib/gcc/i686-pc-cygwin/5.4.0/include/c++/bits/stl_algo.h`).\r\n\r\n**Below is my implementation of rotate, with test program.**\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;vector&gt;\r\n\r\n    // same logic with STL implementation, but simpler, since no return value needed.\r\n    template &lt;typename Iterator&gt;\r\n    void rotate_by_gcd_like_swap(Iterator first, Iterator mid, Iterator last) {\r\n        if (first == mid) return;\r\n        Iterator old = mid;\r\n        for (; mid != last;) {\r\n            std::iter_swap(first, mid);\r\n            ++first, ++mid;\r\n            if (first == old) old = mid; // left half exhausted\r\n            else if (mid == last) mid = old;\r\n        }\r\n    }\r\n\r\n    // same logic with STL implementation\r\n    template &lt;typename Iterator&gt;\r\n    Iterator rotate_by_gcd_like_swap_then_return_new_mid(Iterator first, Iterator mid, Iterator last) {\r\n        if (first == mid) return last;\r\n        if (mid == last) return first;\r\n        Iterator old = mid;\r\n        for(;;) {\r\n            std::iter_swap(first, mid);\r\n            ++first, ++mid;\r\n            if (first == old) old = mid;\r\n            if (mid == last) break;\r\n        }\r\n        Iterator result = first; // when first time `mid == last`, the position of `first` is the new `mid`.\r\n        for (mid = old; mid != last;) {\r\n            std::iter_swap(first, mid);\r\n            ++first, ++mid;\r\n            if (first == old) old = mid;\r\n            else if (mid == last) mid = old;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    int main() {\r\n        using std::cout;\r\n        std::vector&lt;int&gt; v {0,1,2,3,4,5,6,7,8,9};\r\n        cout &lt;&lt; &quot;before rotate: &quot;;\r\n        for (auto x: v) cout &lt;&lt; x &lt;&lt; &#39; &#39;; cout &lt;&lt; &#39;\\n&#39;;\r\n        int k = 7;\r\n        rotate_by_gcd_like_swap(v.begin(), v.begin() + k, v.end());\r\n        cout &lt;&lt; &quot; after rotate: &quot;;\r\n        for (auto x: v) cout &lt;&lt; x &lt;&lt; &#39; &#39;; cout &lt;&lt; &#39;\\n&#39;;\r\n        cout &lt;&lt; &quot;sz = &quot; &lt;&lt; v.size() &lt;&lt; &quot;, k = &quot; &lt;&lt; k &lt;&lt; &#39;\\n&#39;;\r\n    }\r\n","title":"How to rotate an array?","body":"<p>AFAIK, <strong>there are three ways to rotate an array with O(1) extra space</strong>, or put it another way, to swap two contiguous subarray.</p>\n\n<ul>\n<li>reverse approach. reverse both part, then reverse all. most easy to code.</li>\n<li><strong>successively swap two contiguous block, until all items are in place.</strong></li>\n<li>juggling rotate, shell sort like. -- worse cache performance.</li>\n</ul>\n\n<p>C++ has builtin function <code>std::rotate()</code>, which takes three iterator <code>first, middle, last</code>,\nand return <code>new_middle</code>, which is where the old first element lies in the rotated\nsequence.</p>\n\n<p>I have checked the implementation on my computer, which use second approach I listed above.\n(line 1246 in <code>/usr/lib/gcc/i686-pc-cygwin/5.4.0/include/c++/bits/stl_algo.h</code>).</p>\n\n<p><strong>Below is my implementation of rotate, with test program.</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\n// same logic with STL implementation, but simpler, since no return value needed.\ntemplate &lt;typename Iterator&gt;\nvoid rotate_by_gcd_like_swap(Iterator first, Iterator mid, Iterator last) {\n    if (first == mid) return;\n    Iterator old = mid;\n    for (; mid != last;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid; // left half exhausted\n        else if (mid == last) mid = old;\n    }\n}\n\n// same logic with STL implementation\ntemplate &lt;typename Iterator&gt;\nIterator rotate_by_gcd_like_swap_then_return_new_mid(Iterator first, Iterator mid, Iterator last) {\n    if (first == mid) return last;\n    if (mid == last) return first;\n    Iterator old = mid;\n    for(;;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid;\n        if (mid == last) break;\n    }\n    Iterator result = first; // when first time `mid == last`, the position of `first` is the new `mid`.\n    for (mid = old; mid != last;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid;\n        else if (mid == last) mid = old;\n    }\n    return result;\n}\n\nint main() {\n    using std::cout;\n    std::vector&lt;int&gt; v {0,1,2,3,4,5,6,7,8,9};\n    cout &lt;&lt; \"before rotate: \";\n    for (auto x: v) cout &lt;&lt; x &lt;&lt; ' '; cout &lt;&lt; '\\n';\n    int k = 7;\n    rotate_by_gcd_like_swap(v.begin(), v.begin() + k, v.end());\n    cout &lt;&lt; \" after rotate: \";\n    for (auto x: v) cout &lt;&lt; x &lt;&lt; ' '; cout &lt;&lt; '\\n';\n    cout &lt;&lt; \"sz = \" &lt;&lt; v.size() &lt;&lt; \", k = \" &lt;&lt; k &lt;&lt; '\\n';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6371818,"reputation":285,"user_id":4944033,"accept_rate":100,"display_name":"Rohit Mourya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493361860,"creation_date":1493361860,"answer_id":43673679,"question_id":31174840,"body_markdown":"Above solutions talk about shifting array elements either by reversing them or any other alternative.\r\n\r\nI&#39;ve unique solution. How about determining the starting position of element after n rotations. Once we know that, then simply insert elements from that index and increment counter using modulus operation. Using this method we can avoid using extra array operations and so on.\r\n\r\nHere is my code:\r\n\r\n    #include &lt;cmath&gt;\r\n    #include &lt;cstdio&gt;\r\n    #include &lt;vector&gt;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;algorithm&gt;\r\n    using namespace std;\r\n    \r\n    void rotateLeft(int n,int r) {\r\n    \tvector&lt;long int&gt; vec(n);\r\n    \tint j = n;\r\n        // get the position of starting index after r left rotations.\r\n        while(r!=0) {\r\n            --j;\r\n            if(j==0)\r\n                j = n;\r\n            --r;\r\n        }\r\n        for(long int i=0;i&lt;n;++i) {\r\n            // simply read the input from there and increment j using modulus operator.\r\n            cin&gt;&gt;vec[j];\r\n            j = (j+1)%n;\r\n        }\r\n        // print the array\r\n        for(long int i=0;i&lt;n;++i) \r\n            cout&lt;&lt;vec[i]&lt;&lt;&quot; &quot;;\r\n    }\r\n    int rotateRight (int n,int r) {\r\n    \t// get the position of starting index after r left rotations.\r\n    \tint j = r % n;\r\n    \t\r\n    \tvector&lt;long int&gt; vec(n);\r\n    \tfor(int i=0;i&lt;n;i++) {\r\n    \t\tcin&gt;&gt;vec[j];\r\n    \t\tj=(j+1)%n;\r\n    \t}\r\n    \tfor(int i=0;i&lt;n;i++)\r\n    \t\tcout&lt;&lt;vec[i]&lt;&lt;&quot; &quot;;\r\n    \t\r\n    }\r\n    int main() {\r\n        \r\n        long int n,r;\t// n stands from number of elements in array and r stands for rotations.\r\n        cin&gt;&gt;n&gt;&gt;r;\r\n        // Time Complexity: O(n+r) Space Complexity: O(1)\r\n        rotateLeft(n,r);\r\n        // Time Complexity: O(n) Space Complexity: O(1)\r\n    \trotateRight(n,r);\r\n        return 0;\r\n        \r\n    }","title":"How to rotate an array?","body":"<p>Above solutions talk about shifting array elements either by reversing them or any other alternative.</p>\n\n<p>I've unique solution. How about determining the starting position of element after n rotations. Once we know that, then simply insert elements from that index and increment counter using modulus operation. Using this method we can avoid using extra array operations and so on.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nvoid rotateLeft(int n,int r) {\n    vector&lt;long int&gt; vec(n);\n    int j = n;\n    // get the position of starting index after r left rotations.\n    while(r!=0) {\n        --j;\n        if(j==0)\n            j = n;\n        --r;\n    }\n    for(long int i=0;i&lt;n;++i) {\n        // simply read the input from there and increment j using modulus operator.\n        cin&gt;&gt;vec[j];\n        j = (j+1)%n;\n    }\n    // print the array\n    for(long int i=0;i&lt;n;++i) \n        cout&lt;&lt;vec[i]&lt;&lt;\" \";\n}\nint rotateRight (int n,int r) {\n    // get the position of starting index after r left rotations.\n    int j = r % n;\n\n    vector&lt;long int&gt; vec(n);\n    for(int i=0;i&lt;n;i++) {\n        cin&gt;&gt;vec[j];\n        j=(j+1)%n;\n    }\n    for(int i=0;i&lt;n;i++)\n        cout&lt;&lt;vec[i]&lt;&lt;\" \";\n\n}\nint main() {\n\n    long int n,r;   // n stands from number of elements in array and r stands for rotations.\n    cin&gt;&gt;n&gt;&gt;r;\n    // Time Complexity: O(n+r) Space Complexity: O(1)\n    rotateLeft(n,r);\n    // Time Complexity: O(n) Space Complexity: O(1)\n    rotateRight(n,r);\n    return 0;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7082225,"reputation":347,"user_id":5420223,"accept_rate":100,"display_name":"NeilB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493371195,"creation_date":1493371195,"answer_id":43676555,"question_id":31174840,"body_markdown":"    #include &lt;stdio.h&gt;\r\n    \r\n    int\r\n    main(void)\r\n    {\r\n        int arr[7] = {1,2,3,4,5,6,7};\r\n        int new_arr[7] = {0};\r\n        int k = 3;\r\n        int len = 7;\r\n        int i=0;\r\n    \r\n        for (i = (len-1); i&gt;=0; i--) {\r\n            if ((i+k) &gt;= len) {\r\n                new_arr[(i+k-len)] = arr[i];\r\n            } else {\r\n                new_arr[(i+k)] = arr[i];\r\n            }\r\n        }\r\n    \r\n        for (i=0;i&lt;len;i++) {\r\n            printf(&quot;%d &quot;, new_arr[i]);\r\n        }\r\n    \r\n        return 0;\r\n    }\r\n\r\nTime complexity O(n)\r\nSpace complexity O(2*n).\r\n\r\nThanks.","title":"How to rotate an array?","body":"<pre><code>#include &lt;stdio.h&gt;\n\nint\nmain(void)\n{\n    int arr[7] = {1,2,3,4,5,6,7};\n    int new_arr[7] = {0};\n    int k = 3;\n    int len = 7;\n    int i=0;\n\n    for (i = (len-1); i&gt;=0; i--) {\n        if ((i+k) &gt;= len) {\n            new_arr[(i+k-len)] = arr[i];\n        } else {\n            new_arr[(i+k)] = arr[i];\n        }\n    }\n\n    for (i=0;i&lt;len;i++) {\n        printf(\"%d \", new_arr[i]);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Time complexity O(n)\nSpace complexity O(2*n).</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1059787,"reputation":1263,"user_id":1061664,"accept_rate":36,"display_name":"Girish Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504582436,"creation_date":1495857218,"answer_id":44212790,"question_id":31174840,"body_markdown":"Python code:\r\n\r\n    def reverse(arr,start , end):\t\r\n    \twhile(start &lt;= end):\r\n    \t\tarr[start] , arr[end] = arr[end] , arr[start]\r\n    \t\tstart = start+1\r\n    \t\tend = end-1\r\n    \t\r\n    arr = [1,2,3,4,5,6,7]\r\n    n = 7\r\n    k = 2\r\n    reverse(arr,0,n-1)\r\n    # [7,6,5,4,3,2,1]\r\n    reverse(arr,0,n-1-k)\r\n    # [3,4,5,6,7,2,1]\r\n    reverse(arr,n-k,n-1)\r\n    # [3,4,5,6,7,1,2]\r\n    \r\n    print arr\r\n    # [3, 4, 5, 6, 7, 8, 9, 1, 2]\r\n\r\n\r\n\r\n","title":"How to rotate an array?","body":"<p>Python code:</p>\n\n<pre><code>def reverse(arr,start , end):   \n    while(start &lt;= end):\n        arr[start] , arr[end] = arr[end] , arr[start]\n        start = start+1\n        end = end-1\n\narr = [1,2,3,4,5,6,7]\nn = 7\nk = 2\nreverse(arr,0,n-1)\n# [7,6,5,4,3,2,1]\nreverse(arr,0,n-1-k)\n# [3,4,5,6,7,2,1]\nreverse(arr,n-k,n-1)\n# [3,4,5,6,7,1,2]\n\nprint arr\n# [3, 4, 5, 6, 7, 8, 9, 1, 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10920829,"reputation":21,"user_id":8027186,"display_name":"Nik&#39;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497059732,"creation_date":1497059732,"answer_id":44468796,"question_id":31174840,"body_markdown":"Here is the complete Java code for left and right array rotation by k steps\r\n\r\n\r\n\r\n\timport java.util.*;\r\n\t\r\n\tpublic class ArrayRotation {\r\n\t\tprivate static Scanner sc;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint n,k;\r\n\t\t\tsc = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter the size of array: &quot;);\r\n\t\t\tn = sc.nextInt();\r\n\t\t\t\r\n\t\t\tint[] a = new int[n];\r\n\t\t\tSystem.out.print(&quot;Enter the &quot;+n+&quot; elements in the list: &quot;);\r\n\t\t\tfor(int i=0;i&lt;n;i++)\r\n\t\t\t\ta[i] = sc.nextInt();\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Enter the number of left shifts to array: &quot;);\r\n\t\t\tk = sc.nextInt();\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Array before &quot;+k+&quot; shifts: &quot;);\r\n\t\t\tdisplay(a);\r\n\t\t\t\r\n\t\t\tleftRoation(a,k);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Array after &quot;+k+&quot; left shifts: &quot;);\r\n\t\t\tdisplay(a);\r\n\t\t\t\r\n\t\t\trightRoation(a,k);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Array after &quot;+k+&quot; right shifts: &quot;);\r\n\t\t\tdisplay(a);\r\n\t\t}\r\n\t\r\n\t\tpublic static void leftRoation(int[] a, int k){\r\n\t\t\tint temp=0, j;\r\n\t\t\tfor(int i=0;i&lt;k;i++){\r\n\t\t\t\ttemp = a[0];\r\n\t//\t\t\tj=0;\t\t\t\t\t// both codes work i.e. for loop and while loop as well\r\n\t//\t\t\twhile(j&lt;a.length-1){\r\n\t//\t\t\t\ta[j]=a[j+1];\r\n\t//\t\t\t\tj++;\r\n\t//\t\t\t}\t\r\n\t\t\t\tfor(j=0;j&lt;a.length-1;j++)\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\ta[j]=temp;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void rightRoation(int[] a, int k){\r\n\t\t\tint temp=0, j;\r\n\t\t\tfor(int i=0;i&lt;k;i++){\r\n\t\t\t\ttemp = a[a.length-1];\r\n\t\t\t\tfor(j=a.length-1;j&gt;0;j--)\r\n\t\t\t\t\ta[j]=a[j-1];\r\n\t\t\t\ta[j]=temp;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void display(int[] a){\r\n\t\t\tfor(int i=0;i&lt;a.length;i++)\r\n\t\t\t\tSystem.out.print(a[i]+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/****************** Output ********************\r\n\t\tEnter the size of array: 5\r\n\t\tEnter the 5 elements in the list: 1 2 3 4 5\r\n\t\tEnter the number of left and right shifts to array: 2\r\n\t\tArray before 2 shifts: 1 2 3 4 5 \r\n\t\tArray after 2 left shifts: 3 4 5 1 2 \r\n\t\tArray after 2 right shifts: 1 2 3 4 5  // here the left shifted array is taken as input and hence after right shift it looks same as original array.\r\n\t **********************************************/","title":"How to rotate an array?","body":"<p>Here is the complete Java code for left and right array rotation by k steps</p>\n\n<pre><code>import java.util.*;\n\npublic class ArrayRotation {\n    private static Scanner sc;\n\n    public static void main(String[] args) {\n        int n,k;\n        sc = new Scanner(System.in);\n        System.out.print(\"Enter the size of array: \");\n        n = sc.nextInt();\n\n        int[] a = new int[n];\n        System.out.print(\"Enter the \"+n+\" elements in the list: \");\n        for(int i=0;i&lt;n;i++)\n            a[i] = sc.nextInt();\n\n        System.out.print(\"Enter the number of left shifts to array: \");\n        k = sc.nextInt();\n\n        System.out.print(\"Array before \"+k+\" shifts: \");\n        display(a);\n\n        leftRoation(a,k);\n        System.out.println();\n\n        System.out.print(\"Array after \"+k+\" left shifts: \");\n        display(a);\n\n        rightRoation(a,k);\n        System.out.println();\n\n        System.out.print(\"Array after \"+k+\" right shifts: \");\n        display(a);\n    }\n\n    public static void leftRoation(int[] a, int k){\n        int temp=0, j;\n        for(int i=0;i&lt;k;i++){\n            temp = a[0];\n//          j=0;                    // both codes work i.e. for loop and while loop as well\n//          while(j&lt;a.length-1){\n//              a[j]=a[j+1];\n//              j++;\n//          }   \n            for(j=0;j&lt;a.length-1;j++)\n                a[j]=a[j+1];\n            a[j]=temp;\n        }           \n    }\n\n    public static void rightRoation(int[] a, int k){\n        int temp=0, j;\n        for(int i=0;i&lt;k;i++){\n            temp = a[a.length-1];\n            for(j=a.length-1;j&gt;0;j--)\n                a[j]=a[j-1];\n            a[j]=temp;\n        }           \n    }\n\n    public static void display(int[] a){\n        for(int i=0;i&lt;a.length;i++)\n            System.out.print(a[i]+\" \");\n    }\n}\n\n/****************** Output ********************\n    Enter the size of array: 5\n    Enter the 5 elements in the list: 1 2 3 4 5\n    Enter the number of left and right shifts to array: 2\n    Array before 2 shifts: 1 2 3 4 5 \n    Array after 2 left shifts: 3 4 5 1 2 \n    Array after 2 right shifts: 1 2 3 4 5  // here the left shifted array is taken as input and hence after right shift it looks same as original array.\n **********************************************/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2690191,"reputation":44,"user_id":2323691,"display_name":"Angel Schnider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506001881,"creation_date":1506001881,"answer_id":46345789,"question_id":31174840,"body_markdown":"My solution... (a: the array, n : size of array, k: number of shifts) :\r\n\r\n     public static int[] arrayLeftRotation(int[] a, int n, int k) {\r\n\r\n        if (k == 0) return a;\r\n\r\n        for (int i = 0; i &lt; k; i++) {\r\n            int retenue = a[0];\r\n            int[] copie = java.util.Arrays.copyOfRange(a, 1, n );\r\n            for (int y = 0; y &lt;= copie.length - 1 ; y++) {\r\n                a[y] = copie[y];\r\n            }\r\n            a[n-1] = retenue;\r\n        }\r\n        return a;\r\n    }","title":"How to rotate an array?","body":"<p>My solution... (a: the array, n : size of array, k: number of shifts) :</p>\n\n<pre><code> public static int[] arrayLeftRotation(int[] a, int n, int k) {\n\n    if (k == 0) return a;\n\n    for (int i = 0; i &lt; k; i++) {\n        int retenue = a[0];\n        int[] copie = java.util.Arrays.copyOfRange(a, 1, n );\n        for (int y = 0; y &lt;= copie.length - 1 ; y++) {\n            a[y] = copie[y];\n        }\n        a[n-1] = retenue;\n    }\n    return a;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2042637,"reputation":815,"user_id":1823441,"display_name":"Arjun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535633726,"creation_date":1532426208,"answer_id":51495705,"question_id":31174840,"body_markdown":"In Ruby Its very simple, Please take a look, Its one line. \r\n\r\n    def array_rotate(arr)\r\n        i, j = arr.length - 1, 0\r\n        arr[j],arr[i], i, j = arr[i], arr[j], i - 1, j + 1 while(j&lt;arr.length/2)\r\n        puts &quot;#{arr}&quot;\r\n    end\r\n\r\n**Input**: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20] \r\n\r\n**Output**: [20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]","title":"How to rotate an array?","body":"<p>In Ruby Its very simple, Please take a look, Its one line. </p>\n\n<pre><code>def array_rotate(arr)\n    i, j = arr.length - 1, 0\n    arr[j],arr[i], i, j = arr[i], arr[j], i - 1, j + 1 while(j&lt;arr.length/2)\n    puts \"#{arr}\"\nend\n</code></pre>\n\n<p><strong>Input</strong>: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20] </p>\n\n<p><strong>Output</strong>: [20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]</p>\n"},{"tags":[],"owner":{"account_id":4620191,"reputation":299,"user_id":3745505,"accept_rate":38,"display_name":"ashr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533643221,"creation_date":1533643221,"answer_id":51726288,"question_id":31174840,"body_markdown":"Java implementation for right rotation\r\n\r\n                public int[] solution(int[] A, int K) {\r\n                    int len = A.length;\r\n                    //Create an empty array with same length as A\r\n                    int arr[] = new int[len];\r\n                    \r\n                    for (int i = 0; i &lt; len; i++) {\r\n                        int nextIndex = i + K;\r\n                        if (nextIndex &gt;= len) {\r\n                            // wraps the nextIndex by same number of K steps\r\n                            nextIndex = nextIndex % len;\r\n                        }\r\n                        arr[nextIndex] = A[i];\r\n                    }\r\n                    return arr;\r\n                }","title":"How to rotate an array?","body":"<p>Java implementation for right rotation</p>\n\n<pre><code>            public int[] solution(int[] A, int K) {\n                int len = A.length;\n                //Create an empty array with same length as A\n                int arr[] = new int[len];\n\n                for (int i = 0; i &lt; len; i++) {\n                    int nextIndex = i + K;\n                    if (nextIndex &gt;= len) {\n                        // wraps the nextIndex by same number of K steps\n                        nextIndex = nextIndex % len;\n                    }\n                    arr[nextIndex] = A[i];\n                }\n                return arr;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7215593,"reputation":3,"user_id":5508204,"display_name":"Tushar Sarde Tush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535007755,"creation_date":1535005659,"answer_id":51979531,"question_id":31174840,"body_markdown":"\r\n\r\n    &gt;&gt;&gt; k = 3\r\n    &gt;&gt;&gt; arr = [1,2,3,4,5,6,7]\r\n    &gt;&gt;&gt; actual_rot = k % len(arr)\r\n    &gt;&gt;&gt; left_ar = arr[:-actual_rot]\r\n    &gt;&gt;&gt; right_ar = arr[-actual_rot:]\r\n    &gt;&gt;&gt; result = right_ar + left_ar\r\n    &gt;&gt;&gt; result\r\n    [5, 6, 7, 1, 2, 3, 4]","title":"How to rotate an array?","body":"<pre><code>&gt;&gt;&gt; k = 3\n&gt;&gt;&gt; arr = [1,2,3,4,5,6,7]\n&gt;&gt;&gt; actual_rot = k % len(arr)\n&gt;&gt;&gt; left_ar = arr[:-actual_rot]\n&gt;&gt;&gt; right_ar = arr[-actual_rot:]\n&gt;&gt;&gt; result = right_ar + left_ar\n&gt;&gt;&gt; result\n[5, 6, 7, 1, 2, 3, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5118313,"reputation":87,"user_id":4102750,"display_name":"Neelam Chahal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539939829,"creation_date":1539939641,"answer_id":52889064,"question_id":31174840,"body_markdown":"  1.using a temp array and O(n) time\r\n   \r\n\r\n    public static void rotateAnArrayUsingTemp(int arr[], int d, int n) {\r\n\t\tint temp[] = new int[d];\r\n\t\tint tempIndex = 0;\r\n\t\tfor (int i = 0; i &lt; d; i++) {\r\n\t\t\ttemp[i] = arr[i];\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; arr.length - d; i++) {\r\n\t\t\tarr[i] = arr[i + d];\r\n\t\t}\r\n\t\tfor (int i = arr.length - d; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = temp[tempIndex++];\r\n\t\t}\r\n\t}","title":"How to rotate an array?","body":"<p>1.using a temp array and O(n) time</p>\n\n<pre><code>public static void rotateAnArrayUsingTemp(int arr[], int d, int n) {\n    int temp[] = new int[d];\n    int tempIndex = 0;\n    for (int i = 0; i &lt; d; i++) {\n        temp[i] = arr[i];\n    }\n    for (int i = 0; i &lt; arr.length - d; i++) {\n        arr[i] = arr[i + d];\n    }\n    for (int i = arr.length - d; i &lt; arr.length; i++) {\n        arr[i] = temp[tempIndex++];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13844926,"reputation":5,"user_id":10258022,"display_name":"Cline Colaco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590211930,"creation_date":1590211930,"answer_id":61967886,"question_id":31174840,"body_markdown":"A better way to rotate an array by k steps is:\r\n\r\n    a = [1,2,3,4,5,6]\r\n    b = a[:]\r\n    k = 2\r\n    for i in range(len(a)):\r\n        a[(i + k) % len(a)] = b[i]## (rotate right by k steps)\r\n        #a[(i - k) % len(a)] = b[i]## (rotate left by k steps)\r\n    print(a)\r\n\r\no/p:\r\n[6, 5, 1, 2, 3, 4]\r\n\r\n\r\n\r\n","title":"How to rotate an array?","body":"<p>A better way to rotate an array by k steps is:</p>\n\n<pre><code>a = [1,2,3,4,5,6]\nb = a[:]\nk = 2\nfor i in range(len(a)):\n    a[(i + k) % len(a)] = b[i]## (rotate right by k steps)\n    #a[(i - k) % len(a)] = b[i]## (rotate left by k steps)\nprint(a)\n</code></pre>\n\n<p>o/p:\n[6, 5, 1, 2, 3, 4]</p>\n"},{"tags":[],"owner":{"account_id":16258406,"reputation":1,"user_id":11740482,"display_name":"Codeone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593276795,"creation_date":1593276795,"answer_id":62612912,"question_id":31174840,"body_markdown":"how to rotate an array, IN this function first argument - array, the second argument is \r\na number or integer.\r\n\r\n    def rotLeft(a, d):\r\n        data = a\r\n        n = d\r\n        get = data[n:len(data)]\r\n        remains = data[0:n]\r\n        data.clear()\r\n        for i in get:\r\n            data.append(i)\r\n        for x in remains:\r\n            data.append(x)\r\n        return data","title":"How to rotate an array?","body":"<p>how to rotate an array, IN this function first argument - array, the second argument is\na number or integer.</p>\n<pre><code>def rotLeft(a, d):\n    data = a\n    n = d\n    get = data[n:len(data)]\n    remains = data[0:n]\n    data.clear()\n    for i in get:\n        data.append(i)\n    for x in remains:\n        data.append(x)\n    return data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17782731,"reputation":7,"user_id":12913575,"display_name":"Ayesha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600788618,"creation_date":1600714178,"answer_id":63998306,"question_id":31174840,"body_markdown":"This is rotating the array to the right by k steps, where k is non-negative\r\n\r\n        for (int i = 0; i &lt; k; i++) { \r\n \t\t  for (int j = nums.length - 1; j &gt; 0; j--) {\r\n             int temp = nums[j];\r\n\t\t\t nums[j] = nums[j - 1];\r\n\t\t\t nums[j - 1] = temp;\r\n \t\t  }\r\n \r\n\t   }\r\n      return nums;\r\n","title":"How to rotate an array?","body":"<p>This is rotating the array to the right by k steps, where k is non-negative</p>\n<pre><code>    for (int i = 0; i &lt; k; i++) { \n      for (int j = nums.length - 1; j &gt; 0; j--) {\n         int temp = nums[j];\n         nums[j] = nums[j - 1];\n         nums[j - 1] = temp;\n      }\n\n   }\n  return nums;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17782731,"reputation":7,"user_id":12913575,"display_name":"Ayesha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600805407,"creation_date":1600787259,"answer_id":64012544,"question_id":31174840,"body_markdown":"        if (k &gt; arr.length) {\r\n            k = k % arr.length;\r\n        }\r\n        int n = arr.length - k;\r\n        int count = 0;\r\n      outer:\r\n        for (int i = arr.length - 1; i &gt;= n; i--) {\r\n             int temp = arr[i];\r\n           inner:\r\n             for (int j = i - 1; j &gt;= 0; j--) {\r\n                 arr[j + 1] = arr[j];\r\n                 if (j == 0) {\r\n                     int temp2 = arr[j];\r\n                     arr[j] = temp;\r\n                     i = arr.length;\r\n                     count++;\r\n                     if (count == k) {\r\n                         break outer;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n        ","title":"How to rotate an array?","body":"<pre><code>    if (k &gt; arr.length) {\n        k = k % arr.length;\n    }\n    int n = arr.length - k;\n    int count = 0;\n  outer:\n    for (int i = arr.length - 1; i &gt;= n; i--) {\n         int temp = arr[i];\n       inner:\n         for (int j = i - 1; j &gt;= 0; j--) {\n             arr[j + 1] = arr[j];\n             if (j == 0) {\n                 int temp2 = arr[j];\n                 arr[j] = temp;\n                 i = arr.length;\n                 count++;\n                 if (count == k) {\n                     break outer;\n                 }\n             }\n         }\n     }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13002731,"reputation":141,"user_id":9398300,"display_name":"deepika azad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630346106,"creation_date":1630346106,"answer_id":68988404,"question_id":31174840,"body_markdown":"Here I have solved the same problem in go.\r\n[Try to run in go playground...][1]\r\n\r\n\r\n  [1]: https://play.golang.org/p/KSKh7VREtyY\r\n\r\nsample code.\r\n```\r\nfunc rotate(a []int, k int)  {\r\n    for j := 0; j &lt; k ; j++ {\r\n        temp := a[len(a)-1]\r\n        for i := len(a) - 1; i &gt; 0; i-- {\r\n            a[i] = a[i-1]\r\n        }\r\n\t    a[0] = temp\r\n    }\r\n}","title":"How to rotate an array?","body":"<p>Here I have solved the same problem in go.\n<a href=\"https://play.golang.org/p/KSKh7VREtyY\" rel=\"nofollow noreferrer\">Try to run in go playground...</a></p>\n<p>sample code.</p>\n<pre><code>func rotate(a []int, k int)  {\n    for j := 0; j &lt; k ; j++ {\n        temp := a[len(a)-1]\n        for i := len(a) - 1; i &gt; 0; i-- {\n            a[i] = a[i-1]\n        }\n        a[0] = temp\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14757159,"reputation":4260,"user_id":10657559,"display_name":"Thanhal P A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645600525,"creation_date":1645599994,"answer_id":71232609,"question_id":31174840,"body_markdown":"If you are looking for the soltuion of [Codility - Cyclic Rotation Problem][1] then, here is the **JavaScript** code which gave 100% for me.\r\n\r\n    function solution(A, K) {\r\n      const L =  A.length - (K % A.length);    // to get the rotation length value below array length (since rotation of product of array length gives same array)\r\n      const A1 = A.slice(L);                   // last part of array which need to be get to front after L times rotation\r\n      const A2 = A.slice(0, L);                // part which rotate L times to right side\r\n      const Result = [...A1, ...A2];           // reverse and join both array by spreading\r\n      return Result;\r\n    }\r\n\r\n\r\n  [1]: https://app.codility.com/programmers/lessons/2-arrays/cyclic_rotation/","title":"How to rotate an array?","body":"<p>If you are looking for the soltuion of <a href=\"https://app.codility.com/programmers/lessons/2-arrays/cyclic_rotation/\" rel=\"nofollow noreferrer\">Codility - Cyclic Rotation Problem</a> then, here is the <strong>JavaScript</strong> code which gave 100% for me.</p>\n<pre><code>function solution(A, K) {\n  const L =  A.length - (K % A.length);    // to get the rotation length value below array length (since rotation of product of array length gives same array)\n  const A1 = A.slice(L);                   // last part of array which need to be get to front after L times rotation\n  const A2 = A.slice(0, L);                // part which rotate L times to right side\n  const Result = [...A1, ...A2];           // reverse and join both array by spreading\n  return Result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2166879,"reputation":7843,"user_id":1919821,"accept_rate":40,"display_name":"pery mimon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659085869,"creation_date":1659085869,"answer_id":73164240,"question_id":31174840,"body_markdown":"&gt;Rotate an array of n elements to the right by k steps.\r\n&gt;\r\n&gt;For instance, with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].\r\n\r\nIn JS the solution will be 2 part, in two line:\r\n```js\r\nfunction rotateArray(array,k){\r\n  // remove the rotation part\r\n  const splice = [...array].splice(0,k); //... for make a clone;\r\n  // add reversed version of the what left \r\n  return array.concat(splice.reverse()) from original array. \r\n}\r\n```","title":"How to rotate an array?","body":"<blockquote>\n<p>Rotate an array of n elements to the right by k steps.</p>\n<p>For instance, with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].</p>\n</blockquote>\n<p>In JS the solution will be 2 part, in two line:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function rotateArray(array,k){\n  // remove the rotation part\n  const splice = [...array].splice(0,k); //... for make a clone;\n  // add reversed version of the what left \n  return array.concat(splice.reverse()) from original array. \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684475647,"creation_date":1684475647,"answer_id":76286330,"question_id":31174840,"body_markdown":"**Step-1: Array rotation to the right by one**\r\n\r\n 1. Take the backup of the rightmost element in the array, the last element (`int temp = ar[ar.length-1];`). If you are rotating to the left choose the leftmost element, the first element.\r\n 2. Start a for loop from the last index of the array and stop it right before the first index (`for(int i=ar.length-1; i&gt;0; i--)`).\r\n 3. Replace the element from the current index with the one just behind it. `(ar[i] = ar[i-1];`). The array `[8, 5, 6, 2, 1, -1, -100, 425, 84]` after the loop will be  `[8, 8, 5, 6, 2, 1, -1, -100, 425]`.\r\n 4. Replace the first element with the backup (`ar[0] = temp;`), giving you the rotated array as `[84, 8, 5, 6, 2, 1, -1, -100, 425]`.\r\n\r\nNow continue this process till the `k` becomes `0`\r\n\r\n\twhile(k-- &gt; 0) {\r\n\t\t\r\n\t\tint temp = ar[ar.length-1];\r\n\t\t\r\n\t\tfor(int i=ar.length-1; i&gt;0; i--) {\r\n\t\t\t\r\n\t\t\tar[i] = ar[i-1];\r\n\t\t}\r\n\t\t\r\n\t\tar[0] = temp;\r\n\t}","title":"How to rotate an array?","body":"<p><strong>Step-1: Array rotation to the right by one</strong></p>\n<ol>\n<li>Take the backup of the rightmost element in the array, the last element (<code>int temp = ar[ar.length-1];</code>). If you are rotating to the left choose the leftmost element, the first element.</li>\n<li>Start a for loop from the last index of the array and stop it right before the first index (<code>for(int i=ar.length-1; i&gt;0; i--)</code>).</li>\n<li>Replace the element from the current index with the one just behind it. <code>(ar[i] = ar[i-1];</code>). The array <code>[8, 5, 6, 2, 1, -1, -100, 425, 84]</code> after the loop will be  <code>[8, 8, 5, 6, 2, 1, -1, -100, 425]</code>.</li>\n<li>Replace the first element with the backup (<code>ar[0] = temp;</code>), giving you the rotated array as <code>[84, 8, 5, 6, 2, 1, -1, -100, 425]</code>.</li>\n</ol>\n<p>Now continue this process till the <code>k</code> becomes <code>0</code></p>\n<pre><code>while(k-- &gt; 0) {\n    \n    int temp = ar[ar.length-1];\n    \n    for(int i=ar.length-1; i&gt;0; i--) {\n        \n        ar[i] = ar[i-1];\n    }\n    \n    ar[0] = temp;\n}\n</code></pre>\n"}],"owner":{"account_id":5637659,"reputation":446,"user_id":4462657,"display_name":"Linux Le"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20910,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":25,"score":11,"last_activity_date":1684475647,"creation_date":1435805262,"question_id":31174840,"body_markdown":"I have the following problem to test:\r\n\r\n&gt; Rotate an array of `n` elements to the right by `k` steps. \r\n&gt;\r\n&gt; For instance, with `n = 7` and `k = 3`, the array `[1,2,3,4,5,6,7]` is rotated to\r\n&gt; `[5,6,7,1,2,3,4]`. How many different ways do you know to solve this problem?\r\n\r\nMy solution in intermediate array:\r\n\r\nWith Space is `O(n)` and time is `O(n)`, I can create a new array and then copy elements to the new array. Then change the original array by using `System.arraycopy()`.\r\n\r\n    public void rotate(int[] nums, int k) {\r\n        if (k &gt; nums.length) \r\n            k = k % nums.length;\r\n     \r\n        int[] result = new int[nums.length];\r\n     \r\n        for (int i = 0; i &lt; k; i++) {\r\n            result[i] = nums[nums.length - k + i];\r\n        }\r\n     \r\n        int j = 0;\r\n        for (int i = k; i &lt; nums.length; i++) {\r\n            result[i] = nums[j];\r\n            j++;\r\n        }\r\n     \r\n        System.arraycopy(result, 0, nums, 0, nums.length);\r\n    }\r\n\r\nBut is there a better way we can do it with bubble rotate (like bubble sort) in `O(1`) space?\r\n","title":"How to rotate an array?","body":"<p>I have the following problem to test:</p>\n<blockquote>\n<p>Rotate an array of <code>n</code> elements to the right by <code>k</code> steps.</p>\n<p>For instance, with <code>n = 7</code> and <code>k = 3</code>, the array <code>[1,2,3,4,5,6,7]</code> is rotated to\n<code>[5,6,7,1,2,3,4]</code>. How many different ways do you know to solve this problem?</p>\n</blockquote>\n<p>My solution in intermediate array:</p>\n<p>With Space is <code>O(n)</code> and time is <code>O(n)</code>, I can create a new array and then copy elements to the new array. Then change the original array by using <code>System.arraycopy()</code>.</p>\n<pre><code>public void rotate(int[] nums, int k) {\n    if (k &gt; nums.length) \n        k = k % nums.length;\n \n    int[] result = new int[nums.length];\n \n    for (int i = 0; i &lt; k; i++) {\n        result[i] = nums[nums.length - k + i];\n    }\n \n    int j = 0;\n    for (int i = k; i &lt; nums.length; i++) {\n        result[i] = nums[j];\n        j++;\n    }\n \n    System.arraycopy(result, 0, nums, 0, nums.length);\n}\n</code></pre>\n<p>But is there a better way we can do it with bubble rotate (like bubble sort) in <code>O(1</code>) space?</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1654040726,"post_id":72455004,"comment_id":127996339,"body_markdown":"The first problem I see is that you aren&#39;t using `@SpringBootTest`. I also note that you&#39;re using Jupiter (JUnit 5) but pulling in a JUnit 4 runner; I don&#39;t know whether this is a problem since I use Spock.","body":"The first problem I see is that you aren&#39;t using <code>@SpringBootTest</code>. I also note that you&#39;re using Jupiter (JUnit 5) but pulling in a JUnit 4 runner; I don&#39;t know whether this is a problem since I use Spock."},{"owner":{"account_id":89039,"reputation":444,"user_id":245897,"accept_rate":67,"display_name":"Kraagenskul"},"score":0,"creation_date":1654179078,"post_id":72455004,"comment_id":128033595,"body_markdown":"I popped @SpringBootTest in there a few times, with and without the runner and still had no luck.","body":"I popped @SpringBootTest in there a few times, with and without the runner and still had no luck."}],"answers":[{"tags":[],"owner":{"account_id":89039,"reputation":444,"user_id":245897,"accept_rate":67,"display_name":"Kraagenskul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654179607,"creation_date":1654179607,"answer_id":72477793,"question_id":72455004,"body_markdown":"I was unable to get this to work, but since the end goal was to make a test that didn&#39;t bring in my full Spring configuration, I did find a work around:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Mock\r\n\tprivate UserDao userDao;\r\n\t\r\n\t@InjectMocks\r\n\tprivate UserServiceImpl userService;\r\n\r\n   //Your tests and what not\r\n}\r\n```\r\nCheck out this [tutorial][1] for a better detailed explanation. \r\n\r\n\r\n  [1]: https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockito-junit-example/","title":"Bean is always null when using @TestConfiguration in Spring Boot","body":"<p>I was unable to get this to work, but since the end goal was to make a test that didn't bring in my full Spring configuration, I did find a work around:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserDao userDao;\n    \n    @InjectMocks\n    private UserServiceImpl userService;\n\n   //Your tests and what not\n}\n</code></pre>\n<p>Check out this <a href=\"https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockito-junit-example/\" rel=\"nofollow noreferrer\">tutorial</a> for a better detailed explanation.</p>\n"},{"tags":[],"owner":{"account_id":16638803,"reputation":1,"user_id":12024866,"display_name":"刘佳伦"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684475263,"creation_date":1684475263,"answer_id":76286300,"question_id":72455004,"body_markdown":"use org.junit.Test, NOT org.junit.jupiter.api.Test.\r\n```java\r\nimport org.junit.Test;\r\n//import org.junit.jupiter.api.Test;\r\n```","title":"Bean is always null when using @TestConfiguration in Spring Boot","body":"<p>use org.junit.Test, NOT org.junit.jupiter.api.Test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\n//import org.junit.jupiter.api.Test;\n</code></pre>\n"}],"owner":{"account_id":89039,"reputation":444,"user_id":245897,"accept_rate":67,"display_name":"Kraagenskul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684475263,"creation_date":1654039312,"question_id":72455004,"body_markdown":"I am using a simple TestConfiguration call in my application to initialize a service bean within the test class:\r\n\r\n```\r\n    @TestConfiguration\r\n    static class UserServiceConfiguration {\r\n        @Bean\r\n        public UserService userService() {\r\n            return new UserServiceImpl() {\r\n\r\n            };\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n```\r\nWhen I try running any tests within the class, I immediately get a &quot;this.userService is null&quot; error and the test fails out with a null pointer exception. \r\n\r\nI&#39;ve tried some different fixes, including:\r\n\r\n - Putting the TestConfiguration in its own class and importing it via the @Import annotation\r\n - Adding @Primary to the bean as well as giving it a unique name in the @Bean annotation.\r\n \r\nA breakpoint in the TestConfiguration return is not called, so it appears as if the service is not being automatically wired to that version. \r\n\r\nNote I am new to unit testing in Spring boot and our application is a few years old with various configurations in different places. I am wondering if something else is interfering with the TestConfiguration, but my understanding was that it was supposed to override the service and ignore those configurations? I just cannot figure out why it is not being called.\r\n\r\nI am using Spring Boot 2.5.4, Java 18. \r\n\r\nComplete code of Test Class:\r\n```\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.TestConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\nimport com.evotext.user.service.UserService;\r\nimport com.evotext.user.service.UserServiceImpl;\r\n\r\n@RunWith(SpringRunner.class)\r\npublic class UserServiceTest {\r\n\r\n\t@TestConfiguration\r\n    static class UserServiceConfiguration {\r\n        @Bean\r\n        public UserService userService() {\r\n            return new UserServiceImpl() {\r\n\r\n            };\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n    \r\n    \r\n    \r\n    @Test\r\n    public void getCurrentUserSession() {\r\n    \t\r\n    \tlong l = userService.countTotalUsers();\r\n    \tassertThat(l == 1);\r\n    }\r\n    \r\n}\r\n```\r\n The service class itself is an interface and the implemented version is annotated with @Service and @Transactional, no name is specified. \r\n\r\n","title":"Bean is always null when using @TestConfiguration in Spring Boot","body":"<p>I am using a simple TestConfiguration call in my application to initialize a service bean within the test class:</p>\n<pre><code>    @TestConfiguration\n    static class UserServiceConfiguration {\n        @Bean\n        public UserService userService() {\n            return new UserServiceImpl() {\n\n            };\n        }\n    }\n\n    @Autowired\n    private UserService userService;\n\n</code></pre>\n<p>When I try running any tests within the class, I immediately get a &quot;this.userService is null&quot; error and the test fails out with a null pointer exception.</p>\n<p>I've tried some different fixes, including:</p>\n<ul>\n<li>Putting the TestConfiguration in its own class and importing it via the @Import annotation</li>\n<li>Adding @Primary to the bean as well as giving it a unique name in the @Bean annotation.</li>\n</ul>\n<p>A breakpoint in the TestConfiguration return is not called, so it appears as if the service is not being automatically wired to that version.</p>\n<p>Note I am new to unit testing in Spring boot and our application is a few years old with various configurations in different places. I am wondering if something else is interfering with the TestConfiguration, but my understanding was that it was supposed to override the service and ignore those configurations? I just cannot figure out why it is not being called.</p>\n<p>I am using Spring Boot 2.5.4, Java 18.</p>\n<p>Complete code of Test Class:</p>\n<pre><code>\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport com.evotext.user.service.UserService;\nimport com.evotext.user.service.UserServiceImpl;\n\n@RunWith(SpringRunner.class)\npublic class UserServiceTest {\n\n    @TestConfiguration\n    static class UserServiceConfiguration {\n        @Bean\n        public UserService userService() {\n            return new UserServiceImpl() {\n\n            };\n        }\n    }\n\n    @Autowired\n    private UserService userService;\n    \n    \n    \n    @Test\n    public void getCurrentUserSession() {\n        \n        long l = userService.countTotalUsers();\n        assertThat(l == 1);\n    }\n    \n}\n</code></pre>\n<p>The service class itself is an interface and the implemented version is annotated with @Service and @Transactional, no name is specified.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"score":4,"creation_date":1433357298,"post_id":30628194,"comment_id":49322326,"body_markdown":"Please elaborate what you mean by &quot;not working&quot;.","body":"Please elaborate what you mean by &quot;not working&quot;."},{"owner":{"account_id":6212084,"reputation":17,"user_id":4838087,"display_name":"Gurparv"},"score":0,"creation_date":1433357431,"post_id":30628194,"comment_id":49322428,"body_markdown":"no response on console","body":"no response on console"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":2,"creation_date":1433357707,"post_id":30628194,"comment_id":49322594,"body_markdown":"Have you tried it on smaller numbers? I&#39;ve seen programs like this take a *really* long time; it doesn&#39;t mean it&#39;s not working.","body":"Have you tried it on smaller numbers? I&#39;ve seen programs like this take a <i>really</i> long time; it doesn&#39;t mean it&#39;s not working."},{"owner":{"account_id":4841436,"reputation":695,"user_id":3906361,"display_name":"aakansha"},"score":0,"creation_date":1433357811,"post_id":30628194,"comment_id":49322658,"body_markdown":"The number is very large.Try to optimize the loop.check this http://stackoverflow.com/questions/30515940/project-euler-prob-3-in-c/30516230#30516230","body":"The number is very large.Try to optimize the loop.check this <a href=\"http://stackoverflow.com/questions/30515940/project-euler-prob-3-in-c/30516230#30516230\" title=\"project euler prob 3 in c\">stackoverflow.com/questions/30515940/project-euler-prob-3-in&zwnj;&#8203;-c/&hellip;</a>"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1433357825,"post_id":30628194,"comment_id":49322670,"body_markdown":"Just a hint: you can increase the divisor by two always to only handle odd numbers since no other even number is prime than 2","body":"Just a hint: you can increase the divisor by two always to only handle odd numbers since no other even number is prime than 2"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1433357901,"post_id":30628194,"comment_id":49322714,"body_markdown":"Actually, you can do more than that - only check 2 and 3, and then numbers that are of the form `6n+1` or `6n-1`. And you only have to go up to `sqrt(n)`.","body":"Actually, you can do more than that - only check 2 and 3, and then numbers that are of the form <code>6n+1</code> or <code>6n-1</code>. And you only have to go up to <code>sqrt(n)</code>."},{"owner":{"account_id":6063107,"reputation":732,"user_id":4734332,"accept_rate":23,"display_name":"swingMan"},"score":0,"creation_date":1433359392,"post_id":30628194,"comment_id":49323591,"body_markdown":"600 billion iterations could take a while. You could optimize your loop by only going up to sqrt(n) and starting your loop counter at 3 and incrementing by 2 each iteration, since an even number can&#39;t be prime.","body":"600 billion iterations could take a while. You could optimize your loop by only going up to sqrt(n) and starting your loop counter at 3 and incrementing by 2 each iteration, since an even number can&#39;t be prime."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613458594,"post_id":30628194,"comment_id":117073913,"body_markdown":"Please edit your question to show the input, the actual output, and the expected output.","body":"Please edit your question to show the input, the actual output, and the expected output."}],"answers":[{"tags":[],"owner":{"account_id":4945585,"reputation":451,"user_id":3981048,"display_name":"Bobby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433357912,"creation_date":1433357912,"answer_id":30628432,"question_id":30628194,"body_markdown":"Your program isn&#39;t &quot;returning&quot; anything because it is still running.  Your loop is still iterated.  Your code needs to be modified to be more performant. Here is my solution to the same problem.\r\n\r\n    long testNum = 600851475143l; \r\n    int largestFactor = 0; \r\n    long loopMax = 17425170l; //largest known prime  \r\n    for (int i = 3; i * i &lt;= loopMax; i++) { \r\n        boolean isPrime = true;             \r\n        for (int j = 2; j &lt; i; j++) { \r\n           if (i % j == 0) { \r\n              isPrime = false; \r\n              break; \r\n           } \r\n        }                         \r\n        if (isPrime &amp;&amp; testNum % i == 0) { \r\n            System.out.println(&quot;prime factor: &quot; + i); \r\n            largestFactor = i; \r\n            loopMax = (testNum / i) + 1; \r\n        } \r\n    } \r\n    System.out.println(&quot;result is: &quot; + largestFactor);","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<p>Your program isn't \"returning\" anything because it is still running.  Your loop is still iterated.  Your code needs to be modified to be more performant. Here is my solution to the same problem.</p>\n\n<pre><code>long testNum = 600851475143l; \nint largestFactor = 0; \nlong loopMax = 17425170l; //largest known prime  \nfor (int i = 3; i * i &lt;= loopMax; i++) { \n    boolean isPrime = true;             \n    for (int j = 2; j &lt; i; j++) { \n       if (i % j == 0) { \n          isPrime = false; \n          break; \n       } \n    }                         \n    if (isPrime &amp;&amp; testNum % i == 0) { \n        System.out.println(\"prime factor: \" + i); \n        largestFactor = i; \n        loopMax = (testNum / i) + 1; \n    } \n} \nSystem.out.println(\"result is: \" + largestFactor);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212084,"reputation":17,"user_id":4838087,"display_name":"Gurparv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433433418,"creation_date":1433433418,"answer_id":30648623,"question_id":30628194,"body_markdown":"Thank you guys for your feedback but i have solved this question myself with the following code.. :)\r\n\r\n\r\npublic class ProblemThree {\r\n\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\t\r\n\t\tlong n=600851475143L;\r\n\t\r\n\t\tfor(long i=2;i&lt;n ;++i)\r\n\t\t{\r\n\t\t\twhile(n % i==0)\r\n\t\t\t{//for yes\r\n\t\t\t\tn=n/i;\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(n);\r\n\t}\r\n\t\t\r\n}\r\n\t\t\r\n\t","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<p>Thank you guys for your feedback but i have solved this question myself with the following code.. :)</p>\n\n<p>public class ProblemThree {</p>\n\n<pre><code>public static void main(String args[])\n{\n\n    long n=600851475143L;\n\n    for(long i=2;i&lt;n ;++i)\n    {\n        while(n % i==0)\n        {//for yes\n            n=n/i;\n\n        }   \n\n    }\n    System.out.println(n);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":17888659,"reputation":1,"user_id":12995695,"display_name":"Govind Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583248782,"creation_date":1583243540,"answer_id":60508748,"question_id":30628194,"body_markdown":"    package Euler;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class euler3 {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tlong num;\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tnum= sc.nextLong();\r\n    \t\t\r\n    \t\tfor(int i=2;i&lt;num; i++)\r\n    \t\t{\r\n    \t\t\twhile(num%i == 0)\r\n    \t\t\t{\r\n    \t\t\t\t//System.out.println(i);\r\n    \t\t\t\tnum=num/i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(num&gt;2)\r\n    \t\t\tSystem.out.println(num);\r\n    \t\t\r\n    \t}\r\n    \r\n    }    \r\n    \r\n    \r\nThe prime factors of 13195 are 5, 7, 13 and 29.      \r\nThe largest prime factor of the number 600851475143 is 6857.","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<pre><code>package Euler;\n\nimport java.util.Scanner;\n\npublic class euler3 {\n    public static void main(String args[])\n    {\n        long num;\n        Scanner sc = new Scanner(System.in);\n        num= sc.nextLong();\n\n        for(int i=2;i&lt;num; i++)\n        {\n            while(num%i == 0)\n            {\n                //System.out.println(i);\n                num=num/i;\n            }\n        }\n        if(num&gt;2)\n            System.out.println(num);\n\n    }\n\n}    \n</code></pre>\n\n<p>The prime factors of 13195 are 5, 7, 13 and 29.<br>\nThe largest prime factor of the number 600851475143 is 6857.</p>\n"},{"tags":[],"owner":{"account_id":18681430,"reputation":41,"user_id":13617861,"display_name":"Karmesh Duggar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613456619,"creation_date":1613456619,"answer_id":66219577,"question_id":30628194,"body_markdown":"    #include &lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    int SieveOfEratosthenes(int x,long long signed int n)\r\n    {\r\n        bool prime[x];                                 //use sieve upto square root of \r\n                                                           // required number\r\n        memset(prime, true, sizeof(prime));\r\n     \r\n        for (long long signed int p = 2; p * p &lt;= x; p++)    \r\n        {\r\n            if (prime[p] == true) \r\n            {\r\n                for (long long signed int i = p * p; i &lt;= x; i += p)\r\n                    prime[i] = false;\r\n            }\r\n        }\r\n        int res;\r\n        for (long long signed int p = 2; p &lt;= x; p++)\r\n            if (prime[p])\r\n                {\r\n                \tif(n%p==0)   //if number is divisble by prime number than update with \r\n                \tres=p;        //latest value of prime number\r\n    \t\t\t}\r\n    \t\t\treturn res;\r\n    }\r\n    int main()\r\n    {\r\n    \tios_base::sync_with_stdio(false);\r\n        cin.tie(NULL);\r\n        cout&lt;&lt;SieveOfEratosthenes(775146,600851475143);//Return the answer\r\n\r\n        // long long signed int n;cin&gt;&gt;n;   for value of n\r\n       //cout&lt;&lt;SieveOfEratosthenes(sqrt(n),n);\r\n        return 0;\r\n    }","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\nint SieveOfEratosthenes(int x,long long signed int n)\n{\n    bool prime[x];                                 //use sieve upto square root of \n                                                       // required number\n    memset(prime, true, sizeof(prime));\n \n    for (long long signed int p = 2; p * p &lt;= x; p++)    \n    {\n        if (prime[p] == true) \n        {\n            for (long long signed int i = p * p; i &lt;= x; i += p)\n                prime[i] = false;\n        }\n    }\n    int res;\n    for (long long signed int p = 2; p &lt;= x; p++)\n        if (prime[p])\n            {\n                if(n%p==0)   //if number is divisble by prime number than update with \n                res=p;        //latest value of prime number\n            }\n            return res;\n}\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(NULL);\n    cout&lt;&lt;SieveOfEratosthenes(775146,600851475143);//Return the answer\n\n    // long long signed int n;cin&gt;&gt;n;   for value of n\n   //cout&lt;&lt;SieveOfEratosthenes(sqrt(n),n);\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28632780,"reputation":1,"user_id":21923445,"display_name":"Fathertime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684475023,"creation_date":1684474126,"answer_id":76286214,"question_id":30628194,"body_markdown":"Hi I also attempted the problem and solved with this\r\n```\r\npublic class LargestPrime {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        long x = 600851475143L;\r\n\r\n        int LargestPrimeFactor = 2;\r\n\r\n        while (x % 2 == 0) {\r\n// clears through factors of 2 in the number\r\n            x /= 2;\r\n\r\n        }\r\n        for (int i = 3; i &lt;= x; i += 2) {\r\n            while (x % i == 0) {\r\n                x /= i;\r\n                LargestPrimeFactor = i;\r\n                break;\r\n            }\r\n\r\n        }\r\n        \r\n          System.out.println(LargestPrimeFactor);\r\n    }\r\n}\r\n```","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<p>Hi I also attempted the problem and solved with this</p>\n<pre><code>public class LargestPrime {\n\n    public static void main(String[] args) {\n\n        long x = 600851475143L;\n\n        int LargestPrimeFactor = 2;\n\n        while (x % 2 == 0) {\n// clears through factors of 2 in the number\n            x /= 2;\n\n        }\n        for (int i = 3; i &lt;= x; i += 2) {\n            while (x % i == 0) {\n                x /= i;\n                LargestPrimeFactor = i;\n                break;\n            }\n\n        }\n        \n          System.out.println(LargestPrimeFactor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6212084,"reputation":17,"user_id":4838087,"display_name":"Gurparv"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16671,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":5,"score":-4,"last_activity_date":1684475023,"creation_date":1433357128,"question_id":30628194,"body_markdown":"My program is not working on eclipse.. And i dont know whats wrong with it..\r\nPlz help..\r\nAnd plz tell the reason as well.\r\n\r\n\r\n   \r\n\r\n     public class ProblemThree {\r\n    \r\n    \t    public static void main(String args[])\r\n    \t    {\r\n    \t\t    long a=0L, z=0L;\r\n    \t    \tlong n=600851475143L;\r\n    \t\r\n    \t\t    for(long i=2;i&lt;=n ;++i)\r\n    \t\t    {\r\n    \t\t    \tif(600851475143L % i==0)\r\n    \t\t\t    {\r\n    \t\t\t\t    a=i;\r\n    \t\t\t\r\n        \t\t\t\tif(a%2==0)\r\n    \t    \t\t\t\t{;  }\r\n    \t\t    \t\telse if(a%3==0)\r\n    \t\t\t    \t\t{ ;}\r\n        \t\t\t\telse if(a%5==0)\r\n    \t    \t\t\t\t{ ;}\r\n    \t\t    \t\telse if(a%7==0)\r\n    \t\t\t    \t\t{ ;}\r\n            \t\t    else if (a&gt;z)\r\n    \t       \t\t\t{ \r\n    \t\t    \t\t\tz=a;\r\n    \t\t\t    \t}\r\n    \t\t\t\r\n        \t\t\t}\r\n    \t\t\t\t\t\r\n    \t    \t}\r\n    \t\t\r\n    \t\t    System.out.println(z);\r\n    \t\t\r\n        \t}\r\n        }\r\n\r\n","title":"The prime factors of 13195 are 5, 7, 13 and 29. What is the largest prime factor of the number 600851475143?","body":"<p>My program is not working on eclipse.. And i dont know whats wrong with it..\nPlz help..\nAnd plz tell the reason as well.</p>\n\n<pre><code> public class ProblemThree {\n\n        public static void main(String args[])\n        {\n            long a=0L, z=0L;\n            long n=600851475143L;\n\n            for(long i=2;i&lt;=n ;++i)\n            {\n                if(600851475143L % i==0)\n                {\n                    a=i;\n\n                    if(a%2==0)\n                        {;  }\n                    else if(a%3==0)\n                        { ;}\n                    else if(a%5==0)\n                        { ;}\n                    else if(a%7==0)\n                        { ;}\n                    else if (a&gt;z)\n                    { \n                        z=a;\n                    }\n\n                }\n\n            }\n\n            System.out.println(z);\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","swt","nattable"],"comments":[{"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"score":0,"creation_date":1684407284,"post_id":76278683,"comment_id":134514681,"body_markdown":"Sorry, but I don&#39;t understand the question. Are the both comparators you mention part of NatTable? And where does an error occur? I would assume the Null value needs to be handled correctly in the comparator.","body":"Sorry, but I don&#39;t understand the question. Are the both comparators you mention part of NatTable? And where does an error occur? I would assume the Null value needs to be handled correctly in the comparator."},{"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"score":0,"creation_date":1684440626,"post_id":76278683,"comment_id":134521944,"body_markdown":"@DirkFauth Please see my edits after -edit- . I have explained my issue further.","body":"@DirkFauth Please see my edits after -edit- . I have explained my issue further."}],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684474709,"creation_date":1684474709,"answer_id":76286252,"question_id":76278683,"body_markdown":"You need to implement and register a custom Filter comparator for your special case. The default comparator is actually only a comparison of string representations. ","title":"Change to DefaultGlazedListsFilterStrategy to skip matching of &#39;null&#39; values in Nattable?","body":"<p>You need to implement and register a custom Filter comparator for your special case. The default comparator is actually only a comparison of string representations.</p>\n"}],"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684474709,"creation_date":1684395396,"question_id":76278683,"body_markdown":"I wish to extend DefaultGlazedListsFilterStrategy so that I can apply a filter strategy such that the &#39;null&#39; in my table are ignored during numeric comparison. In the following table, the null values cause a problem in numeric comparison. Any filter comparator cannot work properly with null values since they always have to be accounted for during comparison and hence incorrectly figure in the filtered list. NullsFirstComparator and NullsLastComparator were both incorrect in one of the cases.\r\n\r\n[Filtered nattable with null values ](https://i.stack.imgur.com/wK5qU.png)\r\n\r\n\r\nAs mentioned, I tried DefaultGlazedListsFilterStrategy but could not filter out the &#39;null&#39; values which appear in my table. \r\n\r\n\r\n\r\n-edit-\r\n\r\nThe issue lies in the numeric comparison for column number 3 (Size in bytes) in the image. In the image, entries in the column below\r\n2960 are null. I have used a DefaultComparator as the FilterComparator.\r\n\r\n\r\nIn a scenario where a &#39;null&#39; is compared to 1000( for example row number 2), we get a result of -1 as per the DefaultComparator implementation, resulting in that \r\nnull object being a true match. As per my Nattable design, rows 2-17 are actually a children of row 1 (tree structure). This in turn results in row 1 being automatically shown\r\nin the resulting list since it is the parent. Thus the filtering seems broken because 2960 being greater than 1000 is still shown in the resulting table. \r\n\r\nI am limited by the filter comparator in this case, I could go for Comparator.nullsFirst(new DefaultComparator()) and Comparator.nullsLast(new DefaultComparator()), but both of them \r\nwould break down when the comparison sign is reversed (each one would only work for either &lt;&#39;value&#39; or &gt;&#39;value&#39;).\r\n\r\nIdeally, I dont want any row with a null value to even be considered for filtering since the null value eventually breaks down the numeric filtering.\r\n\r\nThus I thought of implementing a filterstrategy which would ignore such null values altogether.\r\n","title":"Change to DefaultGlazedListsFilterStrategy to skip matching of &#39;null&#39; values in Nattable?","body":"<p>I wish to extend DefaultGlazedListsFilterStrategy so that I can apply a filter strategy such that the 'null' in my table are ignored during numeric comparison. In the following table, the null values cause a problem in numeric comparison. Any filter comparator cannot work properly with null values since they always have to be accounted for during comparison and hence incorrectly figure in the filtered list. NullsFirstComparator and NullsLastComparator were both incorrect in one of the cases.</p>\n<p><a href=\"https://i.stack.imgur.com/wK5qU.png\" rel=\"nofollow noreferrer\">Filtered nattable with null values </a></p>\n<p>As mentioned, I tried DefaultGlazedListsFilterStrategy but could not filter out the 'null' values which appear in my table.</p>\n<p>-edit-</p>\n<p>The issue lies in the numeric comparison for column number 3 (Size in bytes) in the image. In the image, entries in the column below\n2960 are null. I have used a DefaultComparator as the FilterComparator.</p>\n<p>In a scenario where a 'null' is compared to 1000( for example row number 2), we get a result of -1 as per the DefaultComparator implementation, resulting in that\nnull object being a true match. As per my Nattable design, rows 2-17 are actually a children of row 1 (tree structure). This in turn results in row 1 being automatically shown\nin the resulting list since it is the parent. Thus the filtering seems broken because 2960 being greater than 1000 is still shown in the resulting table.</p>\n<p>I am limited by the filter comparator in this case, I could go for Comparator.nullsFirst(new DefaultComparator()) and Comparator.nullsLast(new DefaultComparator()), but both of them\nwould break down when the comparison sign is reversed (each one would only work for either &lt;'value' or &gt;'value').</p>\n<p>Ideally, I dont want any row with a null value to even be considered for filtering since the null value eventually breaks down the numeric filtering.</p>\n<p>Thus I thought of implementing a filterstrategy which would ignore such null values altogether.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":1,"creation_date":1684005871,"post_id":76244498,"comment_id":134454581,"body_markdown":"Make a sure that you are using correct RequestBody annotation, because open-api has @RequestBody annotation too, you should not use this one. Assert that you are using @RequestBody from exactly `org.springframework.web.bind.annotation` package.","body":"Make a sure that you are using correct RequestBody annotation, because open-api has @RequestBody annotation too, you should not use this one. Assert that you are using @RequestBody from exactly <code>org.springframework.web.bind.annotation</code> package."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1684006008,"post_id":76244498,"comment_id":134454603,"body_markdown":"Do not use entities in the rest api. Learn about 3tier architecture.","body":"Do not use entities in the rest api. Learn about 3tier architecture."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1684006105,"post_id":76244498,"comment_id":134454619,"body_markdown":"Have you tried to use first_name in the json data.","body":"Have you tried to use first_name in the json data."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684006337,"post_id":76244498,"comment_id":134454652,"body_markdown":"this looks like a &quot;cli quoting&quot; issue to me... please try(tested in pwsh+bash): `--data &#39;{&quot;firstName&quot;: ...}&#39;` (with enclosing single quotes `&#39;` and (normal) double quotes &#39;&quot;&#39; inside the json.","body":"this looks like a &quot;cli quoting&quot; issue to me... please try(tested in pwsh+bash): <code>--data &#39;{&quot;firstName&quot;: ...}&#39;</code> (with enclosing single quotes <code>&#39;</code> and (normal) double quotes &#39;&quot;&#39; inside the json."},{"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"score":0,"creation_date":1684006779,"post_id":76244498,"comment_id":134454721,"body_markdown":"@Jens I have tried first_name as well, it too read as null from RequestBody","body":"@Jens I have tried first_name as well, it too read as null from RequestBody"},{"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"score":0,"creation_date":1684006849,"post_id":76244498,"comment_id":134454732,"body_markdown":"@xerx593 tried single quote wrapping of json body, got curl: (3) URL using bad/illegal format or missing URL curl: (3) URL using bad/illegal format or missing URL\ncurl: (3) unmatched close brace/bracket in URL position 5:\ncena}&#39;","body":"@xerx593 tried single quote wrapping of json body, got curl: (3) URL using bad/illegal format or missing URL curl: (3) URL using bad/illegal format or missing URL curl: (3) unmatched close brace/bracket in URL position 5: cena}&#39;"},{"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"score":0,"creation_date":1684006906,"post_id":76244498,"comment_id":134454739,"body_markdown":"@Sharofiddin I have used correct import as you mentioned.","body":"@Sharofiddin I have used correct import as you mentioned."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684006962,"post_id":76244498,"comment_id":134454749,"body_markdown":"what is your shell? the error (xp&amp;circumstances) point (me) into this (curl) direction...","body":"what is your shell? the error (xp&amp;circumstances) point (me) into this (curl) direction..."},{"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"score":0,"creation_date":1684007149,"post_id":76244498,"comment_id":134454769,"body_markdown":"@xerx593 I have updated postman results as well, same error, I am sure its not the issue of cmd or curl command.","body":"@xerx593 I have updated postman results as well, same error, I am sure its not the issue of cmd or curl command."},{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1684009225,"post_id":76244498,"comment_id":134455001,"body_markdown":"Can you share your application.properties or application.yml file?","body":"Can you share your application.properties or application.yml file?"},{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":2,"creation_date":1684009496,"post_id":76244498,"comment_id":134455028,"body_markdown":"Also please share your pom.xml","body":"Also please share your pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684473887,"creation_date":1684235576,"answer_id":76262358,"question_id":76244498,"body_markdown":"The issue was with Eclipse setup. The lombok library was not installed for eclipse due to this `@Data` annotation was not working on Employee class and hence no getters and setters. To solve, I installed lombok in eclipse installation folder and restarted it.","title":"Issue with reading request body using spring boot","body":"<p>The issue was with Eclipse setup. The lombok library was not installed for eclipse due to this <code>@Data</code> annotation was not working on Employee class and hence no getters and setters. To solve, I installed lombok in eclipse installation folder and restarted it.</p>\n"}],"owner":{"account_id":2756790,"reputation":3643,"user_id":2374626,"accept_rate":52,"display_name":"Satishakumar Awati"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76262358,"answer_count":1,"score":0,"last_activity_date":1684473887,"creation_date":1684005381,"question_id":76244498,"body_markdown":"I am new to Java and Springboot, I am trying to create simple REST API to insert employee record into mysql database. Getting following error\r\n\r\n    @RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName] with root cause\r\n    \r\n    org.hibernate.PropertyValueException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName\r\n    \tat org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\r\nEmployee Class:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;employees&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \t@Column(name = &quot;first_name&quot;, nullable = false)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@Column(name = &quot;last_name&quot;)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@Column(name = &quot;email&quot;)\r\n    \tprivate String email;\r\n    }\r\n\r\nEmployeeController\r\n\r\n    package com.saa.springboot.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.saa.springboot.model.Employee;\r\n    import com.saa.springboot.service.EmployeeService;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/employees&quot;)\r\n    public class EmployeeController {\r\n    \t\r\n    \tprivate EmployeeService employeeService;\r\n    \r\n    \tpublic EmployeeController(EmployeeService employeeService) {\r\n    \t\tsuper();\r\n    \t\tthis.employeeService = employeeService;\r\n    \t}\r\n    \t\r\n    \t@PostMapping()\r\n    \tpublic ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\r\n    \t\tSystem.out.println(&quot;@RequestBody =&gt; &quot; + employee.toString());\r\n    \t\treturn new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nApplication Properties:\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/ems_db?useSSL=false\r\n    spring.datasource.username = root\r\n    spring.datasource.password = pwd\r\n    spring.jpa.database-platform = org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.generate-ddl = true\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nCurl Request:\r\n\r\n    curl -i -H &quot;Accept: application/json&quot; -H &quot;Content-Type:application/json&quot; -X POST --data &quot;{\\&quot;firstName\\&quot;: \\&quot;john\\&quot;, \\&quot;lastName\\&quot;: \\&quot;cena\\&quot;}&quot; &quot;http://localhost:8080/api/employees&quot;\r\n\r\nFrom the `println` statement, we can clearly see field values(firstName, lastName and email) read as null using @RequestBody\r\n\r\n    @RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\r\n\r\n\r\nI am not sure what I am missing here, I have tried with Postman as well without any luck, same error. \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nAny guidance is must appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bE9mq.png\r\n  [2]: https://i.stack.imgur.com/qYG3U.png","title":"Issue with reading request body using spring boot","body":"<p>I am new to Java and Springboot, I am trying to create simple REST API to insert employee record into mysql database. Getting following error</p>\n<pre><code>@RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName] with root cause\n\norg.hibernate.PropertyValueException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n</code></pre>\n<p>Employee Class:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n<p>EmployeeController</p>\n<pre><code>package com.saa.springboot.controller;\n\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.saa.springboot.model.Employee;\nimport com.saa.springboot.service.EmployeeService;\n\n\n@RestController\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n    \n    private EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        super();\n        this.employeeService = employeeService;\n    }\n    \n    @PostMapping()\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n        System.out.println(&quot;@RequestBody =&gt; &quot; + employee.toString());\n        return new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\n    }\n    \n}\n</code></pre>\n<p>Application Properties:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/ems_db?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = pwd\nspring.jpa.database-platform = org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl = true\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>Curl Request:</p>\n<pre><code>curl -i -H &quot;Accept: application/json&quot; -H &quot;Content-Type:application/json&quot; -X POST --data &quot;{\\&quot;firstName\\&quot;: \\&quot;john\\&quot;, \\&quot;lastName\\&quot;: \\&quot;cena\\&quot;}&quot; &quot;http://localhost:8080/api/employees&quot;\n</code></pre>\n<p>From the <code>println</code> statement, we can clearly see field values(firstName, lastName and email) read as null using @RequestBody</p>\n<pre><code>@RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\n</code></pre>\n<p>I am not sure what I am missing here, I have tried with Postman as well without any luck, same error.</p>\n<p><a href=\"https://i.stack.imgur.com/bE9mq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bE9mq.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/qYG3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qYG3U.png\" alt=\"enter image description here\" /></a></p>\n<p>Any guidance is must appreciated.</p>\n"},{"tags":["java","android","gradle","dependencies"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1587866211,"post_id":61434382,"comment_id":108676940,"body_markdown":"See https://github.com/gradle/gradle/issues/8489. The solution seems to be to run the `clean` and `build` tasks. Also please don&#39;t write a custom `clean` task. Just apply the `base` plugin (`apply plugin: &#39;base&#39;`) which already defines these tasks","body":"See <a href=\"https://github.com/gradle/gradle/issues/8489\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/8489</a>. The solution seems to be to run the <code>clean</code> and <code>build</code> tasks. Also please don&#39;t write a custom <code>clean</code> task. Just apply the <code>base</code> plugin (<code>apply plugin: &#39;base&#39;</code>) which already defines these tasks"},{"owner":{"account_id":6524219,"reputation":53,"user_id":5047404,"display_name":"Ghaem"},"score":0,"creation_date":1587895325,"post_id":61434382,"comment_id":108683607,"body_markdown":"@smac89 Thank you. This worked. Know I faced a new error: `Error: Program type already present: com.google.android.gms.internal.measurement.zzet`","body":"@smac89 Thank you. This worked. Know I faced a new error: <code>Error: Program type already present: com.google.android.gms.internal.measurement.zzet</code>"}],"answers":[{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1587923956,"creation_date":1587907945,"answer_id":61441662,"question_id":61434382,"body_markdown":"&gt; Error: Program type already present:\r\n&gt; com.google.android.gms.internal.measurement.zzet\r\n\r\n\r\n\r\n  Update **`classpath`**\r\n\r\n     dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.6.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n            \r\n        }\r\n\r\n\r\n**OneSignal-Gradle-Plugin**\r\n\r\n \r\n\r\n       classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.12.6, 0.99.99]&#39;\r\n\r\n\r\nUse **`implementation`** instead of `compile`.\r\n\r\n\r\n      implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n      implementation &#39;com.google.firebase:firebase-messaging:17.0.0&#39;\r\n\r\nYou are using very old versions. If you want to use latest then libraries will not work unless you make the following changes in your app:\r\n\r\n - Upgrade compileSdkVersion to 28 or later.\r\n - Update your app to use Jetpack (AndroidX).\r\n\r\nAndroidX replaces the original support library APIs with packages in the androidx namespace. Read official guideline about [**`AndroidX Overview`**][1].\r\n\r\n    compileSdkVersion 29\r\n        defaultConfig {\r\n            minSdkVersion 21\r\n            targetSdkVersion 29\r\n            buildToolsVersion &#39;29.0.2&#39;\r\n            multiDexEnabled true\r\n    \r\n        }\r\n\r\n\r\nYour **`appcompat:appcompat`** &amp; **`constraintlayout`** will\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n\r\n [1]: https://developer.android.com/jetpack/androidx","title":"Failed to notify dependency resolution listener","body":"<blockquote>\n  <p>Error: Program type already present:\n  com.google.android.gms.internal.measurement.zzet</p>\n</blockquote>\n\n<p>Update <strong><code>classpath</code></strong></p>\n\n<pre><code> dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.1'\n        classpath 'com.google.gms:google-services:4.3.2'\n\n    }\n</code></pre>\n\n<p><strong>OneSignal-Gradle-Plugin</strong></p>\n\n<pre><code>   classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.12.6, 0.99.99]'\n</code></pre>\n\n<p>Use <strong><code>implementation</code></strong> instead of <code>compile</code>.</p>\n\n<pre><code>  implementation 'com.google.code.gson:gson:2.8.6'\n  implementation 'com.google.firebase:firebase-messaging:17.0.0'\n</code></pre>\n\n<p>You are using very old versions. If you want to use latest then libraries will not work unless you make the following changes in your app:</p>\n\n<ul>\n<li>Upgrade compileSdkVersion to 28 or later.</li>\n<li>Update your app to use Jetpack (AndroidX).</li>\n</ul>\n\n<p>AndroidX replaces the original support library APIs with packages in the androidx namespace. Read official guideline about <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\"><strong><code>AndroidX Overview</code></strong></a>.</p>\n\n<pre><code>compileSdkVersion 29\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 29\n        buildToolsVersion '29.0.2'\n        multiDexEnabled true\n\n    }\n</code></pre>\n\n<p>Your <strong><code>appcompat:appcompat</code></strong> &amp; <strong><code>constraintlayout</code></strong> will</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18672550,"reputation":199,"user_id":13610941,"display_name":"Ravikant sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684473723,"creation_date":1684473723,"answer_id":76286195,"question_id":61434382,"body_markdown":"if you have the old project and cased by this error. my project was not building after upgradation to flamingo. So i tried this.\r\n\r\n1. Go to file than project structure than find gradle settings changed it to use JDK 11.\r\n[![jdk location ][1]][1]\r\n\r\n\r\n2. changing the gradle version of the project to the newest version 6.2.1 on the project structure options. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oOCJy.png\r\n  [2]: https://i.stack.imgur.com/kmpIA.png","title":"Failed to notify dependency resolution listener","body":"<p>if you have the old project and cased by this error. my project was not building after upgradation to flamingo. So i tried this.</p>\n<ol>\n<li><p>Go to file than project structure than find gradle settings changed it to use JDK 11.\n<a href=\"https://i.stack.imgur.com/oOCJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOCJy.png\" alt=\"jdk location \" /></a></p>\n</li>\n<li><p>changing the gradle version of the project to the newest version 6.2.1 on the project structure options.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/kmpIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmpIA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6524219,"reputation":53,"user_id":5047404,"display_name":"Ghaem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61441662,"answer_count":2,"score":1,"last_activity_date":1684473723,"creation_date":1587861202,"question_id":61434382,"body_markdown":"I tried to run my project for first time but I faced this error:\r\n\r\n&gt; Failed to notify dependency resolution listener.\r\n&gt; Problems reading data\r\n&gt; from Binary store in\r\n&gt; C:\\Users\\Ghaem\\AppData\\Local\\Temp\\gradle9202596089529693792.bin\r\n&gt; (exist: true)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/egTaR.png\r\n\r\n\r\n\r\nI&#39;ve tried changing version of gradle to all available version with no luck.\r\n\r\nMy Project (root) build.gradle file:\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            mavenLocal()\r\n            mavenCentral()\r\n            jcenter()\r\n            maven { url &#39;https://repo1.maven.org/maven2/&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.1.0&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n\r\nMy App build.gradle file:\r\n\r\n    buildscript {\r\n        repositories { maven { url &#39;https://plugins.gradle.org/m2/&#39; } }\r\n        dependencies {\r\n            classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.11.0, 0.99.99]&#39;\r\n        }\r\n    }\r\n    apply plugin: &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n    \r\n    repositories {\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n    }\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 26\r\n        defaultConfig {\r\n            applicationId &quot;com.itechnotion.wpnews&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 26\r\n            versionCode 5\r\n            versionName &quot;1.5&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            manifestPlaceholders = [onesignal_app_id: &quot;f893b120-b601-41e5-b0e3-715626efe0a3&quot;,\r\n                                    onesignal_google_project_number: &quot;REMOTE&quot;]\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                aaptOptions.cruncherEnabled = false\r\n                aaptOptions.useNewCruncher = false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        implementation &#39;com.android.support:design:26.1.0&#39;\r\n        implementation &#39;com.android.support:support-v4:26.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:26.1.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:26.1.0&#39;\r\n        compile &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n        compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.4.1&#39;\r\n        compile &#39;com.google.code.gson:gson:2.7&#39;\r\n        compile &#39;com.squareup.okhttp3:logging-interceptor:3.8.0&#39;\r\n        compile &#39;com.squareup.okhttp:okhttp:2.0.0&#39;\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n        compile &#39;com.facebook.stetho:stetho:1.1.1&#39;\r\n        compile &#39;com.facebook.stetho:stetho-okhttp:1.1.1&#39;\r\n        compile &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n    \r\n        compile &#39;com.google.firebase:firebase-core:16.0.0&#39;\r\n        compile &#39;com.onesignal:OneSignal:[3.7.1, 3.99.99]&#39;\r\n        implementation files(&#39;libs/YouTubeAndroidPlayerApi.jar&#39;)\r\n        compile &#39;org.jsoup:jsoup:1.10.1&#39;\r\n        compile &#39;com.google.android.gms:play-services-ads:17.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:17.0.0&#39;\r\n    \r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n","title":"Failed to notify dependency resolution listener","body":"<p>I tried to run my project for first time but I faced this error:</p>\n\n<blockquote>\n  <p>Failed to notify dependency resolution listener.\n  Problems reading data\n  from Binary store in\n  C:\\Users\\Ghaem\\AppData\\Local\\Temp\\gradle9202596089529693792.bin\n  (exist: true)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/egTaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egTaR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried changing version of gradle to all available version with no luck.</p>\n\n<p>My Project (root) build.gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        mavenLocal()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://repo1.maven.org/maven2/' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath 'com.google.gms:google-services:4.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>My App build.gradle file:</p>\n\n<pre><code>buildscript {\n    repositories { maven { url 'https://plugins.gradle.org/m2/' } }\n    dependencies {\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.11.0, 0.99.99]'\n    }\n}\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n\nrepositories {\n    maven { url 'https://maven.google.com' }\n}\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.itechnotion.wpnews\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 5\n        versionName \"1.5\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        manifestPlaceholders = [onesignal_app_id: \"f893b120-b601-41e5-b0e3-715626efe0a3\",\n                                onesignal_google_project_number: \"REMOTE\"]\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            aaptOptions.cruncherEnabled = false\n            aaptOptions.useNewCruncher = false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:support-v4:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile 'com.android.support:cardview-v7:26.1.0'\n    compile 'com.android.support:recyclerview-v7:26.1.0'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'de.hdodenhof:circleimageview:2.2.0'\n    compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n    compile 'com.squareup.okhttp3:okhttp:3.4.1'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.8.0'\n    compile 'com.squareup.okhttp:okhttp:2.0.0'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.facebook.stetho:stetho:1.1.1'\n    compile 'com.facebook.stetho:stetho-okhttp:1.1.1'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n\n    compile 'com.google.firebase:firebase-core:16.0.0'\n    compile 'com.onesignal:OneSignal:[3.7.1, 3.99.99]'\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\n    compile 'org.jsoup:jsoup:1.10.1'\n    compile 'com.google.android.gms:play-services-ads:17.0.0'\n    implementation 'com.google.firebase:firebase-messaging:17.0.0'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1606826814,"post_id":65089306,"comment_id":115074382,"body_markdown":"You can use `th:utext` for this purpose - see [Unescaped Text](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#unescaped-text). But I would not recommend using that - it has security implications, if user-provided data can be included in the tag. I actually prefer splitting up the data using `&lt;span&gt;` the way you show in the question. It avoids mixing plain text and tags together. And you don&#39;t need to use `th:utext`.","body":"You can use <code>th:utext</code> for this purpose - see <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#unescaped-text\" rel=\"nofollow noreferrer\">Unescaped Text</a>. But I would not recommend using that - it has security implications, if user-provided data can be included in the tag. I actually prefer splitting up the data using <code>&lt;span&gt;</code> the way you show in the question. It avoids mixing plain text and tags together. And you don&#39;t need to use <code>th:utext</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1606829366,"post_id":65089306,"comment_id":115075527,"body_markdown":"@andrewjames That would require me to have the HTML in my resource file, and pass the link property as a parameter. That doesn&#39;t sound like a better solution...","body":"@andrewjames That would require me to have the HTML in my resource file, and pass the link property as a parameter. That doesn&#39;t sound like a better solution..."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1606829452,"post_id":65089306,"comment_id":115075586,"body_markdown":"... which is also why the suggested duplicate isn&#39;t good enough: It suggests an *even worse* solution, not a better one.","body":"... which is also why the suggested duplicate isn&#39;t good enough: It suggests an <i>even worse</i> solution, not a better one."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1606831266,"post_id":65089306,"comment_id":115076496,"body_markdown":"The duplicate link is intended to show the existence of `th:utext` - not that you have to use it in the exact way specified in the answer - just that it exists, and can be used. Sorry for implying a worse solution - that was not my intention. You can use `th:utext` in the way shown in the documentation I link to in my first comment (it&#39;s just that I wouldn&#39;t recommend it).","body":"The duplicate link is intended to show the existence of <code>th:utext</code> - not that you have to use it in the exact way specified in the answer - just that it exists, and can be used. Sorry for implying a worse solution - that was not my intention. You can use <code>th:utext</code> in the way shown in the documentation I link to in my first comment (it&#39;s just that I wouldn&#39;t recommend it)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1606831589,"post_id":65089306,"comment_id":115076663,"body_markdown":"Just to add: I take your point about the dupe - and I have retracted it.","body":"Just to add: I take your point about the dupe - and I have retracted it."},{"owner":{"account_id":579291,"reputation":6754,"user_id":232467,"display_name":"Slava Ivanov"},"score":0,"creation_date":1606834607,"post_id":65089306,"comment_id":115078284,"body_markdown":"Why would you just rephrase &quot;Follow &lt;this&gt; link&quot; to something like &quot;Click the following link:&quot; &lt;link&gt;? This simple approach would allow you to separate sentence, link title, and URL from each other. Resource files would include separate items, which are easy to translate for any international language. Not every time the development team supposed to do the work (weird coding, compromise security, etc), sometimes it&#39;s better to kick the documentation team to do their part and rephrase the mock-up you probably have.","body":"Why would you just rephrase &quot;Follow &lt;this&gt; link&quot; to something like &quot;Click the following link:&quot; &lt;link&gt;? This simple approach would allow you to separate sentence, link title, and URL from each other. Resource files would include separate items, which are easy to translate for any international language. Not every time the development team supposed to do the work (weird coding, compromise security, etc), sometimes it&#39;s better to kick the documentation team to do their part and rephrase the mock-up you probably have."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1606842605,"post_id":65089306,"comment_id":115082308,"body_markdown":"@SlavaIvanov That works in some languages, but not in others. I&#39;d like this to be flexible enough so that all supported languages can make it flow nicely.","body":"@SlavaIvanov That works in some languages, but not in others. I&#39;d like this to be flexible enough so that all supported languages can make it flow nicely."},{"owner":{"account_id":579291,"reputation":6754,"user_id":232467,"display_name":"Slava Ivanov"},"score":0,"creation_date":1606844391,"post_id":65089306,"comment_id":115083062,"body_markdown":"Interesting, maybe I am not aware, would you provide an example of such language, just out of curiosity? We have 32 languages, including one RTL and this approach works all the time, at least for those languages.","body":"Interesting, maybe I am not aware, would you provide an example of such language, just out of curiosity? We have 32 languages, including one RTL and this approach works all the time, at least for those languages."}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1965,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684473641,"creation_date":1606820620,"question_id":65089306,"body_markdown":"I&#39;m trying to use Thymeleaf, to generate something like this:\r\n\r\n```html\r\n&lt;p&gt;Follow &lt;a href=&quot;...&quot;&gt;this&lt;/a&gt; link&lt;/p&gt;\r\n```\r\n\r\nAll the text comes from a resource provider (Java resource bundle), and the link contains values from the Thymeleaf context.\r\n\r\nI can separate the blocks of text, but that&#39;s ugly:\r\n```html\r\n&lt;p&gt;\r\n  &lt;span th:text=&quot;#{resource1}&quot;&gt;Follow &lt;/span&gt;\r\n  &lt;a th:href=&quot;${link}&quot; th:text=&quot;#{resource2}&quot;&gt;this&lt;/a&gt;\r\n  &lt;span th:text=&quot;#{resource3}&quot;&gt; link&lt;span&gt;\r\n&lt;/p&gt;\r\n```\r\n\r\nHow do I do this nicely?","title":"How to make a link within a text in Thymeleaf?","body":"<p>I'm trying to use Thymeleaf, to generate something like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;Follow &lt;a href=&quot;...&quot;&gt;this&lt;/a&gt; link&lt;/p&gt;\n</code></pre>\n<p>All the text comes from a resource provider (Java resource bundle), and the link contains values from the Thymeleaf context.</p>\n<p>I can separate the blocks of text, but that's ugly:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;\n  &lt;span th:text=&quot;#{resource1}&quot;&gt;Follow &lt;/span&gt;\n  &lt;a th:href=&quot;${link}&quot; th:text=&quot;#{resource2}&quot;&gt;this&lt;/a&gt;\n  &lt;span th:text=&quot;#{resource3}&quot;&gt; link&lt;span&gt;\n&lt;/p&gt;\n</code></pre>\n<p>How do I do this nicely?</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684473397,"creation_date":1684473397,"answer_id":76286176,"question_id":76281707,"body_markdown":"  It works for me and I think it solves your problem \r\n\r\n\r\n      @Component\r\n      public class FeignRequestInterceptor implements \r\n      RequestInterceptor \r\n    {\r\n\r\n        @Override\r\n        public void apply(RequestTemplate template) {\r\n            final RequestAttributes requestAttributes = \r\n            RequestContextHolder.getRequestAttributes();\r\n            if (requestAttributes != null) {\r\n            final HttpServletRequest httpServletRequest = \r\n            ((ServletRequestAttributes) \r\n              requestAttributes).getRequest();\r\n            template.header(HttpHeaders.AUTHORIZATION, \r\n            httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\r\n        }\r\n    }\r\n","title":"Feign request interceptor is sending an incorrect header&#39;s value (is concatenating the name + value inside the value)","body":"<p>It works for me and I think it solves your problem</p>\n<pre><code>  @Component\n  public class FeignRequestInterceptor implements \n  RequestInterceptor \n{\n\n    @Override\n    public void apply(RequestTemplate template) {\n        final RequestAttributes requestAttributes = \n        RequestContextHolder.getRequestAttributes();\n        if (requestAttributes != null) {\n        final HttpServletRequest httpServletRequest = \n        ((ServletRequestAttributes) \n          requestAttributes).getRequest();\n        template.header(HttpHeaders.AUTHORIZATION, \n        httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2473795,"reputation":367,"user_id":2154913,"display_name":"ErisoHV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684473397,"creation_date":1684419517,"question_id":76281707,"body_markdown":"I&#39;m trying to add 2 headers to a request made with feign using an interceptor, using spring-boot 2.5.9, but I&#39;m receiving this error:\r\n\r\n    feign.FeignException$Unauthorized: [401] during [POST] to [http://xxxxx/api/files/files] [FilesClient#upload(String,MultipartFile,String)]\r\n\r\n**pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Feign client:**\r\n\r\n    @FeignClient(name = &quot;files&quot;, url = &quot;${feign.clients.files.url}&quot;)\r\n    public interface FilesClient {\r\n        @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        FileUploadResponse upload(@RequestPart(&quot;file&quot;) MultipartFile file,\r\n                                  @RequestParam(&quot;fileName&quot;) String fileName,\r\n                                  @RequestHeader String path);\r\n    }\r\n\r\n**FeignRequestInterceptor:**\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class FeignRequestInterceptor implements RequestInterceptor{\r\n    \r\n      @Override\r\n      public void apply(RequestTemplate requestTemplate) {\r\n        Map&lt;String, Collection&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(Constants.AUTH_HEADER, Collections.singleton(Access.token()));\r\n        headers.put(Constants.X_TENANT_ID, Collections.singleton(Access.getCurrentTenant()));\r\n        requestTemplate.headers(headers);\r\n        log.error(&quot;Feign interceptor&quot;);\r\n      }\r\n    }\r\n\r\nIn the debug I&#39;m reviewing the header&#39;s value and I realize that each value has the header&#39;s name:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is inside Feign HeaderTemplate.java:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is causing the auth token value to be sent to the service with an incorrect value.\r\n\r\nHow to prevent feign from concatenating header name to value?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iDNGo.png\r\n  [2]: https://i.stack.imgur.com/VnlsJ.png","title":"Feign request interceptor is sending an incorrect header&#39;s value (is concatenating the name + value inside the value)","body":"<p>I'm trying to add 2 headers to a request made with feign using an interceptor, using spring-boot 2.5.9, but I'm receiving this error:</p>\n<pre><code>feign.FeignException$Unauthorized: [401] during [POST] to [http://xxxxx/api/files/files] [FilesClient#upload(String,MultipartFile,String)]\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n  &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Feign client:</strong></p>\n<pre><code>@FeignClient(name = &quot;files&quot;, url = &quot;${feign.clients.files.url}&quot;)\npublic interface FilesClient {\n    @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    FileUploadResponse upload(@RequestPart(&quot;file&quot;) MultipartFile file,\n                              @RequestParam(&quot;fileName&quot;) String fileName,\n                              @RequestHeader String path);\n}\n</code></pre>\n<p><strong>FeignRequestInterceptor:</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class FeignRequestInterceptor implements RequestInterceptor{\n\n  @Override\n  public void apply(RequestTemplate requestTemplate) {\n    Map&lt;String, Collection&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\n    headers.put(Constants.AUTH_HEADER, Collections.singleton(Access.token()));\n    headers.put(Constants.X_TENANT_ID, Collections.singleton(Access.getCurrentTenant()));\n    requestTemplate.headers(headers);\n    log.error(&quot;Feign interceptor&quot;);\n  }\n}\n</code></pre>\n<p>In the debug I'm reviewing the header's value and I realize that each value has the header's name:</p>\n<p><a href=\"https://i.stack.imgur.com/iDNGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iDNGo.png\" alt=\"enter image description here\" /></a></p>\n<p>This is inside Feign HeaderTemplate.java:</p>\n<p><a href=\"https://i.stack.imgur.com/VnlsJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VnlsJ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is causing the auth token value to be sent to the service with an incorrect value.</p>\n<p>How to prevent feign from concatenating header name to value?</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":6,"creation_date":1377627187,"post_id":18472606,"comment_id":27151460,"body_markdown":"Why does it not work if all elements are positive? Minimum sum in that case is 0 for the empty sequence and that will be correctly found.","body":"Why does it not work if all elements are positive? Minimum sum in that case is 0 for the empty sequence and that will be correctly found."},{"owner":{"account_id":1529569,"reputation":32709,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":1,"creation_date":1377627327,"post_id":18472606,"comment_id":27151529,"body_markdown":"@Henry - He probably wants to find the minimum sum of a size-_k_ subarray for some _k_ ≤ _N_.","body":"@Henry - He probably wants to find the minimum sum of a size-<i>k</i> subarray for some <i>k</i> ≤ <i>N</i>."},{"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"score":0,"creation_date":1377627355,"post_id":18472606,"comment_id":27151537,"body_markdown":"in that case we can traverse the array and if we see that all elements are +ve than we can take the minimum of the elements, which is more appropriate than retuning 0. Thanks. but the main question here is, will the approach that i have mentioned will work to find the minimum sum or not?","body":"in that case we can traverse the array and if we see that all elements are +ve than we can take the minimum of the elements, which is more appropriate than retuning 0. Thanks. but the main question here is, will the approach that i have mentioned will work to find the minimum sum or not?"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1377627897,"creation_date":1377627897,"answer_id":18472835,"question_id":18472606,"body_markdown":"&gt; Will the approach that I have mentioned work to find the minimum sum?\r\n\r\nYes, it will. You can re-state the problem of finding the minimum sum as finding a negative sum with the largest absolute value. When you switch the signs of your numbers and keep the rest of the algorithm in place, that&#39;s the number that the algorithm is going to return back to you.\r\n\r\n&gt; I know there is an issue if all the elements are positive\r\n\r\nNo, there&#39;s no issue: consider the original Kadane&#39;s algorithm when all elements are negative. In this case the algorithm returns an empty sequence for the sum of zero - the highest one possible under the circumstances. In other words, when all elements are negative, your best solution is to take none of them.\r\n\r\nYour modified algorithm is going to do the same in case when all numbers are positive: again, your best solution is to not take numbers at all.\r\n\r\nIf you add a requirement that the range returned back from the algorithm may not be empty, you could modify the algorithm slightly to find the smallest positive number (or the greatest negative number) in case when Kadane&#39;s algorithm returns an empty range as the optimal solution.","title":"minimum sum subarray in O(N) by Kadane&#39;s algorithm","body":"<blockquote>\n  <p>Will the approach that I have mentioned work to find the minimum sum?</p>\n</blockquote>\n\n<p>Yes, it will. You can re-state the problem of finding the minimum sum as finding a negative sum with the largest absolute value. When you switch the signs of your numbers and keep the rest of the algorithm in place, that's the number that the algorithm is going to return back to you.</p>\n\n<blockquote>\n  <p>I know there is an issue if all the elements are positive</p>\n</blockquote>\n\n<p>No, there's no issue: consider the original Kadane's algorithm when all elements are negative. In this case the algorithm returns an empty sequence for the sum of zero - the highest one possible under the circumstances. In other words, when all elements are negative, your best solution is to take none of them.</p>\n\n<p>Your modified algorithm is going to do the same in case when all numbers are positive: again, your best solution is to not take numbers at all.</p>\n\n<p>If you add a requirement that the range returned back from the algorithm may not be empty, you could modify the algorithm slightly to find the smallest positive number (or the greatest negative number) in case when Kadane's algorithm returns an empty range as the optimal solution.</p>\n"},{"tags":[],"owner":{"account_id":3010302,"reputation":31,"user_id":2553989,"display_name":"yadongwen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1546954728,"creation_date":1402043777,"answer_id":24077503,"question_id":18472606,"body_markdown":"Just replace max with min.\r\n\r\n    //O(n)\r\n    public static int minSubArraySum(int[] arr) {\r\n        int minSum = 0;\r\n        int curSum = 0;\r\n        for (int num : arr) {\r\n            curSum += num;\r\n            minSum = Math.min(minSum, curSum);\r\n            curSum = Math.min(curSum, 0);\r\n        }\r\n        return minSum;\r\n    }","title":"minimum sum subarray in O(N) by Kadane&#39;s algorithm","body":"<p>Just replace max with min.</p>\n\n<pre><code>//O(n)\npublic static int minSubArraySum(int[] arr) {\n    int minSum = 0;\n    int curSum = 0;\n    for (int num : arr) {\n        curSum += num;\n        minSum = Math.min(minSum, curSum);\n        curSum = Math.min(curSum, 0);\n    }\n    return minSum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653684,"reputation":596,"user_id":3045238,"display_name":"Hiccup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548950311,"creation_date":1548950311,"answer_id":54464505,"question_id":18472606,"body_markdown":"   \r\n\r\n    static void subArraySumMin(int a[]) {\r\n            int minendingHere = 0;\r\n            int minSoFar = a[0];\r\n    \r\n            for (int i = 1; i &lt; a.length; i++) {\r\n                minendingHere = Math.min(a[i], minendingHere + a[i]);\r\n                minSoFar = Math.min(minSoFar, minendingHere);\r\n            }\r\n    \r\n            System.out.println(minSoFar);\r\n        }","title":"minimum sum subarray in O(N) by Kadane&#39;s algorithm","body":"<pre><code>static void subArraySumMin(int a[]) {\n        int minendingHere = 0;\n        int minSoFar = a[0];\n\n        for (int i = 1; i &lt; a.length; i++) {\n            minendingHere = Math.min(a[i], minendingHere + a[i]);\n            minSoFar = Math.min(minSoFar, minendingHere);\n        }\n\n        System.out.println(minSoFar);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18058956,"reputation":1,"user_id":13126548,"display_name":"Tapu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684472022,"creation_date":1684472022,"answer_id":76286088,"question_id":18472606,"body_markdown":"    function minSubArray(arr) {\r\n    let min = 0;\r\n    let currSum = 0;\r\n    for (let i = 0; i &lt; arr.length; i++) {\r\n        currSum = currSum + arr[i];\r\n        if (currSum &gt; 0) {\r\n            currSum = 0;\r\n        }\r\n        if (currSum &lt; min) min = currSum;\r\n    }\r\n    return min;\r\n}\r\n","title":"minimum sum subarray in O(N) by Kadane&#39;s algorithm","body":"<pre><code>function minSubArray(arr) {\nlet min = 0;\nlet currSum = 0;\nfor (let i = 0; i &lt; arr.length; i++) {\n    currSum = currSum + arr[i];\n    if (currSum &gt; 0) {\n        currSum = 0;\n    }\n    if (currSum &lt; min) min = currSum;\n}\nreturn min;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12863,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":18472835,"answer_count":4,"score":16,"last_activity_date":1684472022,"creation_date":1377626950,"question_id":18472606,"body_markdown":"We all know about the maximum sum subarray and the famous [Kadane&#39;s algorithm][1]. But can we use the same algorithm to find minimum sum also?\r\n\r\nMy take is: \r\n\r\n&gt; **change the sign and find the max sum in that, same as the way we calculate the maximum sum subarray. Than change the sign of the\r\n&gt; elements in the array to make it in initial state.**\r\n\r\nPlease help me in correcting the algo if it has any issue. \r\n\r\n**corner case:** I know there is an issue if all the elements are positive and we can handle this case by doing some preprocessing i.e. traverse the array if all are +ve than just return the minimum number from the array. \r\n\r\n***The above mention algorithm will work and well supported (explained) by [dasblinkenlight][2].***\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane.27s_algorithm\r\n  [2]: https://stackoverflow.com/questions/18472606/minimum-sum-subarray-in-on-by-kadanes-algorithm/18472835?noredirect=1#18472835","title":"minimum sum subarray in O(N) by Kadane&#39;s algorithm","body":"<p>We all know about the maximum sum subarray and the famous <a href=\"http://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane.27s_algorithm\" rel=\"nofollow noreferrer\">Kadane's algorithm</a>. But can we use the same algorithm to find minimum sum also?</p>\n\n<p>My take is: </p>\n\n<blockquote>\n  <p><strong>change the sign and find the max sum in that, same as the way we calculate the maximum sum subarray. Than change the sign of the\n  elements in the array to make it in initial state.</strong></p>\n</blockquote>\n\n<p>Please help me in correcting the algo if it has any issue. </p>\n\n<p><strong>corner case:</strong> I know there is an issue if all the elements are positive and we can handle this case by doing some preprocessing i.e. traverse the array if all are +ve than just return the minimum number from the array. </p>\n\n<p><strong><em>The above mention algorithm will work and well supported (explained) by <a href=\"https://stackoverflow.com/questions/18472606/minimum-sum-subarray-in-on-by-kadanes-algorithm/18472835?noredirect=1#18472835\">dasblinkenlight</a>.</em></strong></p>\n"},{"tags":["java","spring-boot","maven","error-handling","plugins"],"owner":{"account_id":22647881,"reputation":1,"user_id":16822982,"display_name":"Janath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684470747,"creation_date":1684468273,"question_id":76285883,"body_markdown":"I added below configurations but this error occurred how to solve it guys\r\n\r\n[![enter image description here](https://i.stack.imgur.com/0ODH7.png)](https://i.stack.imgur.com/0ODH7.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/q4anx.png)](https://i.stack.imgur.com/q4anx.png)\r\n\r\nI setup the maven configurations and also set the jdk version there, I tried several ways but couldn&#39;t resolve.","title":"Cannot resolve plugin org.springframework.boot:spring-boot-maven-plugin:2.7.8","body":"<p>I added below configurations but this error occurred how to solve it guys</p>\n<p><a href=\"https://i.stack.imgur.com/0ODH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ODH7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q4anx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4anx.png\" alt=\"enter image description here\" /></a></p>\n<p>I setup the maven configurations and also set the jdk version there, I tried several ways but couldn't resolve.</p>\n"},{"tags":["java","selenium-webdriver","automation"],"owner":{"account_id":24210927,"reputation":1,"user_id":18167473,"display_name":"Kd-Jaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684470617,"creation_date":1684469661,"question_id":76285949,"body_markdown":"Whenever i&#39;m using the Robot function in the child class this exception occures `[Exception AWTException is not compatible with throws clause in basic_methods.main(String[])]`\r\n\r\n```java\r\npackage Window_Handling;\r\n\r\nimport java.awt.AWTException;\r\nimport java.awt.Robot;\r\n\r\nimport org.openqa.selenium.interactions.Actions;\r\n\r\nimport base_methods.basic_methods;\r\n\r\npublic class window_handling_Robot_notes extends basic_methods {\r\n\r\n\tpublic static void main(String[] args) throws AWTException {\r\n\t\tbrowserLaunch(&quot;chrome&quot;);\r\n\t\turlGo(&quot;https://demo.nopcommerce.com/&quot;);\r\n\t\tActions mouse = new Actions(driver);  \r\n\t\t\r\n\t\tRobot Keyboard = new Robot();\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Fixing Exception: AWTException Incompatible with Throws Clause When Using Robot Function in Child Class","body":"<p>Whenever i'm using the Robot function in the child class this exception occures <code>[Exception AWTException is not compatible with throws clause in basic_methods.main(String[])]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Window_Handling;\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\n\nimport org.openqa.selenium.interactions.Actions;\n\nimport base_methods.basic_methods;\n\npublic class window_handling_Robot_notes extends basic_methods {\n\n    public static void main(String[] args) throws AWTException {\n        browserLaunch(&quot;chrome&quot;);\n        urlGo(&quot;https://demo.nopcommerce.com/&quot;);\n        Actions mouse = new Actions(driver);  \n        \n        Robot Keyboard = new Robot();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","api"],"answers":[{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684470573,"creation_date":1684470573,"answer_id":76286009,"question_id":76285792,"body_markdown":"Have you tried to draw polyline on `Main` or `UI` thread?\r\nTry drawing it on main thread and check if API call response is happening on the background thread. \r\n\r\nIf it is, then simply put `polyline` code into the main thread and you&#39;ll get it working perfectly!","title":"Route between two points in Android Studio (Java) using the Maps Directions API","body":"<p>Have you tried to draw polyline on <code>Main</code> or <code>UI</code> thread?\nTry drawing it on main thread and check if API call response is happening on the background thread.</p>\n<p>If it is, then simply put <code>polyline</code> code into the main thread and you'll get it working perfectly!</p>\n"}],"owner":{"account_id":28602102,"reputation":13,"user_id":21898802,"display_name":"Cristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76286009,"answer_count":1,"score":1,"last_activity_date":1684470573,"creation_date":1684466530,"question_id":76285792,"body_markdown":"I have the following code, which has the purpose of showing the route between a point &#39;A&#39; and a point &#39;B&#39;, the initial point &#39;A&#39; is originated by the current location of the device, while the point &#39;B&#39; is generated when the user touches a point other than the starting point on the map, I clarify it is a MapView. But the problem is that when using the button responsible for generating the route between both points, it is not displayed / shown on the screen. The strange thing is that when checking my Cloud, if the Directions usage count goes up with each attempt to use the button, at this point I have no idea what it could be, I hope someone can help me, thanks.\r\n\r\nPS: I speak Spanish but I translated this with a translator, sorry if there is a spelling mistake\r\n\r\nImplementations of my build.gradle file (Some are from other activities, ignore):\r\n\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n    implementation &#39;com.google.maps:google-maps-services:0.17.0&#39;\r\n    implementation &#39;com.google.maps.android:android-maps-utils:2.2.0&#39;\r\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\r\n    implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\r\n\r\nXML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/map&quot;\r\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.RutaLocal&quot;&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/btnRuta&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_gravity=&quot;center|bottom&quot;\r\n        android:layout_marginBottom=&quot;60dp&quot;\r\n        android:text=&quot;@string/calcular_ruta&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:textStyle=&quot;bold&quot;/&gt;\r\n&lt;/fragment&gt;\r\n```\r\n\r\nManifest (permissions and API KEY):\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\n    &lt;meta-data\r\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n        android:value=&quot;Here is my api key, but obviously it is not possible for me to show it&quot;/&gt;\r\n```\r\n\r\n  \r\nClass:\r\n\r\n```\r\npackage com.example.mapa;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.example.mapa.databinding.RutaLocalBinding;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.model.Polyline;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\nimport com.google.maps.DirectionsApi;\r\nimport com.google.maps.DirectionsApiRequest;\r\nimport com.google.maps.GeoApiContext;\r\nimport com.google.maps.PendingResult;\r\nimport com.google.maps.android.PolyUtil;\r\nimport com.google.maps.model.DirectionsResult;\r\nimport com.google.maps.model.DirectionsRoute;\r\nimport com.google.maps.model.DirectionsStep;\r\nimport com.google.maps.model.TravelMode;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class RutaLocal extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private RutaLocalBinding binding;\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    private Polyline routePolyline;\r\n    private List&lt;Marker&gt; markers = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = RutaLocalBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        Button btnRuta = binding.btnRuta;\r\n        btnRuta.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                LatLng currentLocation = getCurrentLocation();\r\n                LatLng destination = getDestinationLocation();\r\n\r\n                if (currentLocation != null &amp;&amp; destination != null) {\r\n                    getDirections(currentLocation, destination);\r\n                } else {\r\n                    Toast.makeText(RutaLocal.this, &quot;No hay puntos&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\r\n                    Manifest.permission.ACCESS_FINE_LOCATION\r\n            }, 100);\r\n        }\r\n\r\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION\r\n            }, 100);\r\n        }\r\n\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    private LatLng getCurrentLocation() {\r\n        for (Marker marker : markers) {\r\n            if (marker.getTitle().equals(&quot;Ubicaci&#243;n actual&quot;)) {\r\n                return marker.getPosition();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private LatLng getDestinationLocation() {\r\n        for (Marker marker : markers) {\r\n            if (marker.getTitle().equals(&quot;Destino&quot;)) {\r\n                return marker.getPosition();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling ActivityCompat#requestPermissions\r\n\r\n            return;\r\n        }\r\n        fusedLocationProviderClient.getLastLocation()\r\n                .addOnSuccessListener(this, location -&gt; {\r\n                    if (location != null) {\r\n\r\n                        double latitude = location.getLatitude();\r\n                        double longitude = location.getLongitude();\r\n\r\n                        LatLng currentLocation = new LatLng(latitude, longitude);\r\n                        mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicaci&#243;n actual&quot;));\r\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\r\n\r\n                        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                            @Override\r\n                            public void onMapClick(LatLng point) {\r\n                                mMap.clear();\r\n                                markers.clear();\r\n                                LatLng currentLocation = new LatLng(latitude, longitude);\r\n                                Marker currentMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicaci&#243;n actual&quot;));\r\n                                markers.add(currentMarker);\r\n                                Marker destinationMarker = mMap.addMarker(new MarkerOptions().position(point).title(&quot;Destino&quot;));\r\n                                markers.add(destinationMarker);\r\n                                getDirections(currentLocation, point);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void getDirections(LatLng origin, LatLng destination) {\r\n\r\n        GeoApiContext context = new GeoApiContext.Builder()\r\n                .apiKey(&quot;API Key, again&quot;)\r\n                .build();\r\n\r\n        DirectionsApiRequest request = DirectionsApi.newRequest(context)\r\n                .mode(TravelMode.DRIVING)\r\n                .origin(new com.google.maps.model.LatLng(origin.latitude, origin.longitude))\r\n                .destination(new com.google.maps.model.LatLng(destination.latitude, destination.longitude));\r\n\r\n        request.setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\r\n            @Override\r\n            public void onResult(DirectionsResult result) {\r\n                if (routePolyline != null) {\r\n                    routePolyline.remove();\r\n                }\r\n\r\n                DirectionsRoute route = result.routes[0];\r\n                List&lt;LatLng&gt; points = new ArrayList&lt;&gt;();\r\n                for (DirectionsStep step : route.legs[0].steps) {\r\n                    points.add(new LatLng(\r\n                            step.startLocation.lat,\r\n                            step.startLocation.lng\r\n                    ));\r\n                }\r\n\r\n                PolylineOptions polylineOptions = new PolylineOptions()\r\n                        .addAll(points)\r\n                        .color(Color.BLUE)\r\n                        .width(5);\r\n                routePolyline = mMap.addPolyline(polylineOptions);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable e) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\nAs I said before, I don&#39;t know the reason why it doesn&#39;t show me the polyline, I even tried to add Logs to validate in LogCat if the button was calling the appropriate method and if the rest of the methods worked correctly, everything normal","title":"Route between two points in Android Studio (Java) using the Maps Directions API","body":"<p>I have the following code, which has the purpose of showing the route between a point 'A' and a point 'B', the initial point 'A' is originated by the current location of the device, while the point 'B' is generated when the user touches a point other than the starting point on the map, I clarify it is a MapView. But the problem is that when using the button responsible for generating the route between both points, it is not displayed / shown on the screen. The strange thing is that when checking my Cloud, if the Directions usage count goes up with each attempt to use the button, at this point I have no idea what it could be, I hope someone can help me, thanks.</p>\n<p>PS: I speak Spanish but I translated this with a translator, sorry if there is a spelling mistake</p>\n<p>Implementations of my build.gradle file (Some are from other activities, ignore):</p>\n<pre><code>implementation 'com.google.android.gms:play-services-maps:18.1.0'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\nimplementation 'com.google.maps:google-maps-services:0.17.0'\nimplementation 'com.google.maps.android:android-maps-utils:2.2.0'\nimplementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\nimplementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\n</code></pre>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.RutaLocal&quot;&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/btnRuta&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_gravity=&quot;center|bottom&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;@string/calcular_ruta&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n&lt;/fragment&gt;\n</code></pre>\n<p>Manifest (permissions and API KEY):</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;Here is my api key, but obviously it is not possible for me to show it&quot;/&gt;\n</code></pre>\n<p>Class:</p>\n<pre><code>package com.example.mapa;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.example.mapa.databinding.RutaLocalBinding;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.model.Polyline;\nimport com.google.android.gms.maps.model.PolylineOptions;\nimport com.google.maps.DirectionsApi;\nimport com.google.maps.DirectionsApiRequest;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.PendingResult;\nimport com.google.maps.android.PolyUtil;\nimport com.google.maps.model.DirectionsResult;\nimport com.google.maps.model.DirectionsRoute;\nimport com.google.maps.model.DirectionsStep;\nimport com.google.maps.model.TravelMode;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RutaLocal extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private RutaLocalBinding binding;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private Polyline routePolyline;\n    private List&lt;Marker&gt; markers = new ArrayList&lt;&gt;();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = RutaLocalBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Button btnRuta = binding.btnRuta;\n        btnRuta.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                LatLng currentLocation = getCurrentLocation();\n                LatLng destination = getDestinationLocation();\n\n                if (currentLocation != null &amp;&amp; destination != null) {\n                    getDirections(currentLocation, destination);\n                } else {\n                    Toast.makeText(RutaLocal.this, &quot;No hay puntos&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\n                    Manifest.permission.ACCESS_FINE_LOCATION\n            }, 100);\n        }\n\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\n                    Manifest.permission.ACCESS_COARSE_LOCATION\n            }, 100);\n        }\n\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    private LatLng getCurrentLocation() {\n        for (Marker marker : markers) {\n            if (marker.getTitle().equals(&quot;Ubicación actual&quot;)) {\n                return marker.getPosition();\n            }\n        }\n        return null;\n    }\n\n    private LatLng getDestinationLocation() {\n        for (Marker marker : markers) {\n            if (marker.getTitle().equals(&quot;Destino&quot;)) {\n                return marker.getPosition();\n            }\n        }\n        return null;\n    }\n\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling ActivityCompat#requestPermissions\n\n            return;\n        }\n        fusedLocationProviderClient.getLastLocation()\n                .addOnSuccessListener(this, location -&gt; {\n                    if (location != null) {\n\n                        double latitude = location.getLatitude();\n                        double longitude = location.getLongitude();\n\n                        LatLng currentLocation = new LatLng(latitude, longitude);\n                        mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicación actual&quot;));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n\n                        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                            @Override\n                            public void onMapClick(LatLng point) {\n                                mMap.clear();\n                                markers.clear();\n                                LatLng currentLocation = new LatLng(latitude, longitude);\n                                Marker currentMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicación actual&quot;));\n                                markers.add(currentMarker);\n                                Marker destinationMarker = mMap.addMarker(new MarkerOptions().position(point).title(&quot;Destino&quot;));\n                                markers.add(destinationMarker);\n                                getDirections(currentLocation, point);\n                            }\n                        });\n                    }\n                });\n    }\n\n    private void getDirections(LatLng origin, LatLng destination) {\n\n        GeoApiContext context = new GeoApiContext.Builder()\n                .apiKey(&quot;API Key, again&quot;)\n                .build();\n\n        DirectionsApiRequest request = DirectionsApi.newRequest(context)\n                .mode(TravelMode.DRIVING)\n                .origin(new com.google.maps.model.LatLng(origin.latitude, origin.longitude))\n                .destination(new com.google.maps.model.LatLng(destination.latitude, destination.longitude));\n\n        request.setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\n            @Override\n            public void onResult(DirectionsResult result) {\n                if (routePolyline != null) {\n                    routePolyline.remove();\n                }\n\n                DirectionsRoute route = result.routes[0];\n                List&lt;LatLng&gt; points = new ArrayList&lt;&gt;();\n                for (DirectionsStep step : route.legs[0].steps) {\n                    points.add(new LatLng(\n                            step.startLocation.lat,\n                            step.startLocation.lng\n                    ));\n                }\n\n                PolylineOptions polylineOptions = new PolylineOptions()\n                        .addAll(points)\n                        .color(Color.BLUE)\n                        .width(5);\n                routePolyline = mMap.addPolyline(polylineOptions);\n            }\n\n            @Override\n            public void onFailure(Throwable e) {\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>As I said before, I don't know the reason why it doesn't show me the polyline, I even tried to add Logs to validate in LogCat if the button was calling the appropriate method and if the rest of the methods worked correctly, everything normal</p>\n"},{"tags":["java","java-8","java-7","java-11"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1661915559,"post_id":73545053,"comment_id":129882907,"body_markdown":"Relevant: https://stackoverflow.com/questions/69402824","body":"Relevant: <a href=\"https://stackoverflow.com/questions/69402824\">stackoverflow.com/questions/69402824</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1661875164,"creation_date":1661875164,"answer_id":73545335,"question_id":73545053,"body_markdown":"This option was completely removed between Java 11 and Java 17. If you want to use Java 17 or later you **must** remove `MaxPermSize=512m` - the JVM will plainly refuse to start if that option is present .\r\n\r\nPlease note that already with Java 8 this option no longer had any effect and can therefore be safely removed even for Java 8. (https://docs.oracle.com/javase/9/migrate/)\r\n\r\nThe only possible reason to keep this option in some configurations is if you still must support Java 7. But Java 7 is so much outdated that IMHO it is questionable if any time spent supporting Java 7 is time well spent.","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)","body":"<p>This option was completely removed between Java 11 and Java 17. If you want to use Java 17 or later you <strong>must</strong> remove <code>MaxPermSize=512m</code> - the JVM will plainly refuse to start if that option is present .</p>\n<p>Please note that already with Java 8 this option no longer had any effect and can therefore be safely removed even for Java 8. (<a href=\"https://docs.oracle.com/javase/9/migrate/\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/migrate/</a>)</p>\n<p>The only possible reason to keep this option in some configurations is if you still must support Java 7. But Java 7 is so much outdated that IMHO it is questionable if any time spent supporting Java 7 is time well spent.</p>\n"},{"tags":[],"owner":{"account_id":8553651,"reputation":91,"user_id":6409900,"display_name":"Roman Romaniuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666824448,"creation_date":1666824448,"answer_id":74215018,"question_id":73545053,"body_markdown":"The option seems to be decommissioned.\r\nYou can add to the command line which starts your app a flag -XX:+IgnoreUnrecognizedVMOptions. In this case, JVM will ignore all unrecognized flags.","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)","body":"<p>The option seems to be decommissioned.\nYou can add to the command line which starts your app a flag -XX:+IgnoreUnrecognizedVMOptions. In this case, JVM will ignore all unrecognized flags.</p>\n"}],"owner":{"account_id":10376986,"reputation":146,"user_id":10962675,"display_name":"Auvee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11422,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73545335,"answer_count":2,"score":3,"last_activity_date":1684470390,"creation_date":1661873623,"question_id":73545053,"body_markdown":"I tried to run react native app with this command.\r\n\r\n    npx react-native run-android --variant=stagingDebug --appId com.xx_staging\r\n\r\nBut I am getting this error message. I want to **run multiple java versions on my machine**. How can I do that? Also I don&#39;t want to change the **MaxPermSize=512m**. I want to keep **MaxPermSize=512m** as it is. \r\n\r\n\r\n    npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\r\n    info Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\r\n    Jetifier found 2228 file(s) to forward-jetify. Using 4 workers...\r\n    info Starting JS server...\r\n    &#39;&quot;adb&quot;&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    info Launching emulator...\r\n    error Failed to launch emulator. Reason: No emulators found as an output of `emulator -list-avds`.\r\n    warn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\r\n    info Installing the app...\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\r\n    Process command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    Unrecognized VM option &#39;MaxPermSize=512m&#39;\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    \r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\n    Error: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\r\n    Process command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    Unrecognized VM option &#39;MaxPermSize=512m&#39;\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    \r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n        at makeError (F:\\test\\xx\\node_modules\\execa\\index.js:174:9)\r\n        at F:\\test\\xx\\node_modules\\execa\\index.js:278:16\r\n        at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n        at async runOnAllDevices (F:\\test\\xx\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\r\n        at async Command.handleAction (F:\\test\\xx\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\r\n    info Run CLI with --verbose flag for more details.\r\n\r\n\r\nHow can I fix this error?","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)","body":"<p>I tried to run react native app with this command.</p>\n<pre><code>npx react-native run-android --variant=stagingDebug --appId com.xx_staging\n</code></pre>\n<p>But I am getting this error message. I want to <strong>run multiple java versions on my machine</strong>. How can I do that? Also I don't want to change the <strong>MaxPermSize=512m</strong>. I want to keep <strong>MaxPermSize=512m</strong> as it is.</p>\n<pre><code>npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\ninfo Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\nJetifier found 2228 file(s) to forward-jetify. Using 4 workers...\ninfo Starting JS server...\n'&quot;adb&quot;' is not recognized as an internal or external command,\noperable program or batch file.\ninfo Launching emulator...\nerror Failed to launch emulator. Reason: No emulators found as an output of `emulator -list-avds`.\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\ninfo Installing the app...\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\n    at makeError (F:\\test\\xx\\node_modules\\execa\\index.js:174:9)\n    at F:\\test\\xx\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (F:\\test\\xx\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\n    at async Command.handleAction (F:\\test\\xx\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>How can I fix this error?</p>\n"},{"tags":["java","react-native"],"comments":[{"owner":{"account_id":6431998,"reputation":881,"user_id":10239403,"display_name":"Demian Sims"},"score":0,"creation_date":1649707174,"post_id":70929615,"comment_id":126940005,"body_markdown":"Did you ever find a solution? I&#39;m running into this now.","body":"Did you ever find a solution? I&#39;m running into this now."},{"owner":{"account_id":24112514,"reputation":55,"user_id":18082910,"display_name":"AsZik"},"score":0,"creation_date":1649739651,"post_id":70929615,"comment_id":126946062,"body_markdown":"Yes , Jdk 17 had some problem and I downgraded the jdk","body":"Yes , Jdk 17 had some problem and I downgraded the jdk"},{"owner":{"account_id":8148252,"reputation":1894,"user_id":6136235,"display_name":"Ian"},"score":0,"creation_date":1684470714,"post_id":70929615,"comment_id":134525179,"body_markdown":"Does this answer your question? [Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)](https://stackoverflow.com/questions/73545053/unrecognized-vm-option-maxpermsize-512m-and-could-not-create-the-java-virtual)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73545053/unrecognized-vm-option-maxpermsize-512m-and-could-not-create-the-java-virtual\">Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)</a>"}],"owner":{"account_id":24112514,"reputation":55,"user_id":18082910,"display_name":"AsZik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684470303,"creation_date":1643647369,"question_id":70929615,"body_markdown":"I&#39;m facing this issue while running react native.\r\n```\r\nUnrecognized VM option &#39;MaxPermSize=512m&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\nMy system java version is ,\r\n```\r\nJava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```\r\nWithout changing the version How do I run the react native app\r\n\r\n","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; in react native","body":"<p>I'm facing this issue while running react native.</p>\n<pre><code>Unrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>My system java version is ,</p>\n<pre><code>Java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>Without changing the version How do I run the react native app</p>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1457949178,"post_id":35974972,"comment_id":59621404,"body_markdown":"Take a look at my solution below.","body":"Take a look at my solution below."}],"answers":[{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684470046,"creation_date":1457948860,"answer_id":35984161,"question_id":35974972,"body_markdown":"There are a few ways to do it. You can keep a list of BufferedImages as your layers of images and render them accordingly:\r\n\r\n    class AdvancePaint extends JPanel{\r\n        ArrayList&lt;BufferedImage&gt; layers;\r\n        //Other constructors, variables, initializations not shown\r\n        \r\n        AdvancePaint(){\r\n            layers = new ArrayList&lt;BufferedImage&gt;();\r\n        }\r\n    \r\n        public void addLayer(BufferedImage layer){\r\n            layers.add(layer);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            for(BufferedImage buf : layers)  //render all layers\r\n                g.drawImage(buf, 0, 0, width, height, null);\r\n        }\r\n    }\r\n\r\n\r\nThe above codes will render the BufferedImage from the list in accordance to the order they are added to the list. If you do not want to paint all layers on every repaint, you can always add another `draw(Graphics g)` method which you can pick the layers to be drawn onto another BufferedImage. Then only draw this BufferedImage on `paintComponent(g)`.\r\n\r\nSince the layers are stored as a `Collection`, you can always change their rendering order by sorting them or changing their position in the list.\r\n\r\nYou can always tweak on the minor details from my example to customize what you need.\r\n\r\n--------\r\n\r\n**To add a Layer:**\r\n\r\n    BufferedImage layer = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    advancePaint.addLayer(layer);\r\n\r\nUsing `BufferedImage.TYPE_INT_ARGB`, the background will be transparent, hence other layers will be able to &quot;shine through&quot;.\r\n  \r\n","title":"Multiple independent layers in Graphics","body":"<p>There are a few ways to do it. You can keep a list of BufferedImages as your layers of images and render them accordingly:</p>\n<pre><code>class AdvancePaint extends JPanel{\n    ArrayList&lt;BufferedImage&gt; layers;\n    //Other constructors, variables, initializations not shown\n    \n    AdvancePaint(){\n        layers = new ArrayList&lt;BufferedImage&gt;();\n    }\n\n    public void addLayer(BufferedImage layer){\n        layers.add(layer);\n    }\n\n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        for(BufferedImage buf : layers)  //render all layers\n            g.drawImage(buf, 0, 0, width, height, null);\n    }\n}\n</code></pre>\n<p>The above codes will render the BufferedImage from the list in accordance to the order they are added to the list. If you do not want to paint all layers on every repaint, you can always add another <code>draw(Graphics g)</code> method which you can pick the layers to be drawn onto another BufferedImage. Then only draw this BufferedImage on <code>paintComponent(g)</code>.</p>\n<p>Since the layers are stored as a <code>Collection</code>, you can always change their rendering order by sorting them or changing their position in the list.</p>\n<p>You can always tweak on the minor details from my example to customize what you need.</p>\n<hr />\n<p><strong>To add a Layer:</strong></p>\n<pre><code>BufferedImage layer = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\nadvancePaint.addLayer(layer);\n</code></pre>\n<p>Using <code>BufferedImage.TYPE_INT_ARGB</code>, the background will be transparent, hence other layers will be able to &quot;shine through&quot;.</p>\n"}],"owner":{"account_id":2401344,"reputation":1298,"user_id":2098939,"accept_rate":100,"display_name":"Gerrit-K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35984161,"answer_count":1,"score":1,"last_activity_date":1684470046,"creation_date":1457898599,"question_id":35974972,"body_markdown":"Is it possible to have multiple independent drawing layers using `Graphics`? I actually need two layers (like in Photoshop, Gimp, Paint.NET, ...) on which I can draw objects and I want all objects of the top layer appear above all objects of the bottom layer, independent of the order in which objects are drawn. It is not the case that I can first draw all objects of one layer and then draw all objects of the other.\r\n\r\nExample: \r\n\r\n1. draw red filled circle on bottom layer\r\n2. draw green rectangle on top layer\r\n3. draw red filled rectangle on bottom layer\r\n4. draw green circle on top layer\r\n\r\nDesired result: the two empty green objects should be rendered above the two filled red objects.\r\n\r\nI fiddled around using `JLayeredPane` and `Canvas` and the closest I could get was a `Canvas` on top of a `JComponent` but unfortunately the `Canvas` background cannot be transparent, so everything that is drawn in the `JComponent` is covered by the `Canvas` background.\r\n\r\nCan you tell me how to achieve this (if it&#39;s possible after all)?","title":"Multiple independent layers in Graphics","body":"<p>Is it possible to have multiple independent drawing layers using <code>Graphics</code>? I actually need two layers (like in Photoshop, Gimp, Paint.NET, ...) on which I can draw objects and I want all objects of the top layer appear above all objects of the bottom layer, independent of the order in which objects are drawn. It is not the case that I can first draw all objects of one layer and then draw all objects of the other.</p>\n\n<p>Example: </p>\n\n<ol>\n<li>draw red filled circle on bottom layer</li>\n<li>draw green rectangle on top layer</li>\n<li>draw red filled rectangle on bottom layer</li>\n<li>draw green circle on top layer</li>\n</ol>\n\n<p>Desired result: the two empty green objects should be rendered above the two filled red objects.</p>\n\n<p>I fiddled around using <code>JLayeredPane</code> and <code>Canvas</code> and the closest I could get was a <code>Canvas</code> on top of a <code>JComponent</code> but unfortunately the <code>Canvas</code> background cannot be transparent, so everything that is drawn in the <code>JComponent</code> is covered by the <code>Canvas</code> background.</p>\n\n<p>Can you tell me how to achieve this (if it's possible after all)?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684468813,"creation_date":1683202036,"answer_id":76172992,"question_id":76172785,"body_markdown":"You must annotate the `User` class with [`@MappedSuperclass`](https://javadoc.io/doc/jakarta.persistence/jakarta.persistence-api/latest/jakarta.persistence/jakarta/persistence/MappedSuperclass.html)\r\n\r\nSo you `User` class should be.\r\n\r\n```java\r\npackage com.example.demo.entity;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Period;\r\n\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.MappedSuperclass;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Transient;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.NonNull;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private String id;\r\n    @NonNull private String name;\r\n    @NonNull private String email;\r\n    @NonNull private LocalDate dob;\r\n    @Transient @NonNull private Integer age;\r\n\r\n    public Integer getAge() {\r\n        return Period.between(this.dob, LocalDate.now()).getYears();\r\n    }\r\n}\r\n```","title":"How can I create common class for entities","body":"<p>You must annotate the <code>User</code> class with <a href=\"https://javadoc.io/doc/jakarta.persistence/jakarta.persistence-api/latest/jakarta.persistence/jakarta/persistence/MappedSuperclass.html\" rel=\"nofollow noreferrer\"><code>@MappedSuperclass</code></a></p>\n<p>So you <code>User</code> class should be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.time.Period;\n\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.MappedSuperclass;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@RequiredArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String id;\n    @NonNull private String name;\n    @NonNull private String email;\n    @NonNull private LocalDate dob;\n    @Transient @NonNull private Integer age;\n\n    public Integer getAge() {\n        return Period.between(this.dob, LocalDate.now()).getYears();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76172992,"answer_count":1,"score":1,"last_activity_date":1684468813,"creation_date":1683200574,"question_id":76172785,"body_markdown":"I am getting `org.apache.maven.plugin.MojoExecutionException` error when I run my application and I have checked http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException but I couldn&#39;t figure out the problem\r\n\r\nThe error that I am getting\r\n```text\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Process terminated with exit code: 1\r\n    at org.springframework.boot.maven.JavaProcessExecutor.run (JavaProcessExecutor.java:74)\r\n    at org.springframework.boot.maven.RunMojo.run (RunMojo.java:68)\r\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:218)\r\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:205)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\n\r\n\r\n\r\nI have 2 entities. One is student other one is teacher. But class atributes are the some. Thefore, I wanted to create a common class and extend common class with Student and Teacher classes. My classes are as below;\r\n\r\nNOTE: For the first step I only made the changes on the `Student.java` class\r\n\r\n`Student.java`\r\n```java\r\npackage com.example.demo.entity;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.JoinTable;\r\nimport jakarta.persistence.ManyToMany;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Table(name = &quot;Student&quot;)\r\n@ToString\r\n@NoArgsConstructor\r\npublic class Student extends User {\r\n\r\n    public Student(String name, String email, LocalDate dob) {\r\n        setName(name);\r\n        setEmail(email);\r\n        setDob(dob);\r\n    }\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;enrolled&quot;, \r\n        joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\r\n    )\r\n    @Getter @Setter \r\n    @JsonIgnore\r\n    private Set&lt;Course&gt; enrolledCourses = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n`User.java`\r\n```java\r\npackage com.example.demo.entity;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Period;\r\n\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Transient;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.NonNull;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private String id;\r\n    @NonNull private String name;\r\n    @NonNull private String email;\r\n    @NonNull private LocalDate dob;\r\n    @Transient @NonNull private Integer age;\r\n\r\n    public Integer getAge() {\r\n        return Period.between(this.dob, LocalDate.now()).getYears();\r\n    }\r\n}\r\n```","title":"How can I create common class for entities","body":"<p>I am getting <code>org.apache.maven.plugin.MojoExecutionException</code> error when I run my application and I have checked <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a> but I couldn't figure out the problem</p>\n<p>The error that I am getting</p>\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Process terminated with exit code: 1\n    at org.springframework.boot.maven.JavaProcessExecutor.run (JavaProcessExecutor.java:74)\n    at org.springframework.boot.maven.RunMojo.run (RunMojo.java:68)\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:218)\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:205)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>I have 2 entities. One is student other one is teacher. But class atributes are the some. Thefore, I wanted to create a common class and extend common class with Student and Teacher classes. My classes are as below;</p>\n<p>NOTE: For the first step I only made the changes on the <code>Student.java</code> class</p>\n<p><code>Student.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name = &quot;Student&quot;)\n@ToString\n@NoArgsConstructor\npublic class Student extends User {\n\n    public Student(String name, String email, LocalDate dob) {\n        setName(name);\n        setEmail(email);\n        setDob(dob);\n    }\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;enrolled&quot;, \n        joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\n    )\n    @Getter @Setter \n    @JsonIgnore\n    private Set&lt;Course&gt; enrolledCourses = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><code>User.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.time.Period;\n\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@RequiredArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String id;\n    @NonNull private String name;\n    @NonNull private String email;\n    @NonNull private LocalDate dob;\n    @Transient @NonNull private Integer age;\n\n    public Integer getAge() {\n        return Period.between(this.dob, LocalDate.now()).getYears();\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684358053,"post_id":76276226,"comment_id":134508714,"body_markdown":"https://stackoverflow.com/questions/59919046/java-13-eclipse-java-lang-module-findexception-module-abalonegame-not-found","body":"<a href=\"https://stackoverflow.com/questions/59919046/java-13-eclipse-java-lang-module-findexception-module-abalonegame-not-found\" title=\"java 13 eclipse java lang module findexception module abalonegame not found\">stackoverflow.com/questions/59919046/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684468622,"creation_date":1684362856,"answer_id":76276602,"question_id":76276226,"body_markdown":"You are using Idea, create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html).  I advise selecting Maven as the build tool when you do so.  Then your module will be found with no problem.\r\n\r\nAlso, ensure that you are using the most recent stable versions of Maven and Idea as earlier versions may not have as high a quality integration with and understanding of the Java module system.\r\n\r\nFurther info is in the answer to:\r\n\r\n * https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk","title":"IntelliJ: Error occurred during initialization of boot layer","body":"<p>You are using Idea, create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a>.  I advise selecting Maven as the build tool when you do so.  Then your module will be found with no problem.</p>\n<p>Also, ensure that you are using the most recent stable versions of Maven and Idea as earlier versions may not have as high a quality integration with and understanding of the Java module system.</p>\n<p>Further info is in the answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk\">Error: JavaFX runtime components are missing, with IntelliJ Idea, Maven and JDK 19</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684362998,"creation_date":1684362998,"answer_id":76276614,"question_id":76276226,"body_markdown":"Alright so I&#39;m responding cuz I got it to &quot;work&quot;. I copied the project and ran the copy which actually works, just the original doesn&#39;t. If anyone finds the &quot;real&quot; solution would be great to know.","title":"IntelliJ: Error occurred during initialization of boot layer","body":"<p>Alright so I'm responding cuz I got it to &quot;work&quot;. I copied the project and ran the copy which actually works, just the original doesn't. If anyone finds the &quot;real&quot; solution would be great to know.</p>\n"}],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684468622,"creation_date":1684357817,"question_id":76276226,"body_markdown":"I receive the error :\r\n\r\n````Error occurred during initialization of boot layer\r\njava.lang.module.FindException: Module com.example.test not found\r\n\r\nProcess finished with exit code 1\r\n````\r\n\r\n\r\n\r\nI have been looking for a solution myself but have not been able to find one as either they didn&#39;t apply/work. I noticed there were mentioning changing --module-path in the VM Options but this (--module-path) was nowhere in my VM options(I haven&#39;t touched VM options ever)\r\n\r\nUnder my java files and next to the folder com.example.test there is module-info.java which is just:\r\n\r\n\r\n```\r\nmodule com.example.test {\r\nrequires javafx.controls;\r\nrequires javafx.fxml;\r\nrequires java.desktop;\r\n\r\n    opens com.example.test to javafx.fxml;\r\n    exports com.example.test;\r\n\r\n}\r\n```\r\nI&#39;m not sure why it isn&#39;t working, It was working earlier in the morning on my current PC, I was able to run it at school on the school pc and a friend&#39;s laptop but now I&#39;m getting this error instead.\r\n\r\nThanks in advance.","title":"IntelliJ: Error occurred during initialization of boot layer","body":"<p>I receive the error :</p>\n<pre><code>java.lang.module.FindException: Module com.example.test not found\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have been looking for a solution myself but have not been able to find one as either they didn't apply/work. I noticed there were mentioning changing --module-path in the VM Options but this (--module-path) was nowhere in my VM options(I haven't touched VM options ever)</p>\n<p>Under my java files and next to the folder com.example.test there is module-info.java which is just:</p>\n<pre><code>module com.example.test {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires java.desktop;\n\n    opens com.example.test to javafx.fxml;\n    exports com.example.test;\n\n}\n</code></pre>\n<p>I'm not sure why it isn't working, It was working earlier in the morning on my current PC, I was able to run it at school on the school pc and a friend's laptop but now I'm getting this error instead.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684440548,"post_id":76284097,"comment_id":134521933,"body_markdown":"Watch your code formatting. I fixed your today by wrapping in a pair of triple back-ticks.","body":"Watch your code formatting. I fixed your today by wrapping in a pair of triple back-ticks."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684441407,"post_id":76284097,"comment_id":134522061,"body_markdown":"What *exactly* is returned by `products.get(i).getImageURL()`? Put that return value in a declared local variable to prove its type.","body":"What <i>exactly</i> is returned by <code>products.get(i).getImageURL()</code>? Put that return value in a declared local variable to prove its type."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1684448706,"post_id":76284097,"comment_id":134523262,"body_markdown":"Please [edit] your question to provide a [mre].","body":"Please <a href=\"https://stackoverflow.com/posts/76284097/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1684468495,"creation_date":1684441002,"answer_id":76284190,"question_id":76284097,"body_markdown":"# `new Image( …URL…`\r\n\r\nJust pass your URL as a string to the constructor. \r\n\r\nTo quote [the Javadoc][1]:\r\n\r\n    Image image3 = new Image(&quot;http://sample.com/res/flower.png&quot;, 100, 0, false, false);\r\n\r\n## Example code\r\n\r\nI cobbled together a crude little demo.\r\n\r\nWe define a list of a few URLs, as `String` objects. For each URL string, we instantiate an `ImageView` object. To each we give an `Image` object where the image came from over the internet via the URL string passed to its constructor.\r\n\r\n[![screenshot of example app with 3 ImageView objects, each assigned an Image object where the image file was obtained via a string URL over the internets][2]][2]\r\n\r\n```java\r\npackage work.basil.example.imagesex;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.FlowPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\npublic class HelloApplication extends Application\r\n{\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        Scene scene = new Scene ( this.makeImagesPane ( ) , 800 , 300 );\r\n        stage.setTitle ( &quot;Example of images from the Web&quot; );\r\n        stage.setScene ( scene );\r\n        stage.show ( );\r\n    }\r\n\r\n    public FlowPane makeImagesPane ( )\r\n    {\r\n        FlowPane flow = new FlowPane ( );\r\n        flow.setPadding ( new Insets ( 5 , 0 , 5 , 0 ) );\r\n        flow.setVgap ( 4 );\r\n        flow.setHgap ( 4 );\r\n\r\n        List &lt; String &gt; urls =\r\n                List.of (\r\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg/320px-Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg&quot; ,\r\n                        // https://commons.wikimedia.org/wiki/File:Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg\r\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/b/bb/Apollo_10_Lunar_Module.jpg&quot; ,\r\n                        // https://commons.wikimedia.org/wiki/File:Apollo_10_Lunar_Module.jpg\r\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Kumquat_from_Spain.jpg/320px-Kumquat_from_Spain.jpg&quot;\r\n                        // https://en.wikipedia.org/wiki/File:Kumquat_from_Spain.jpg\r\n                );\r\n        for ( String url : urls )\r\n        {\r\n            ImageView imageView = new ImageView ( );\r\n            imageView.setFitHeight ( 250 );\r\n            imageView.setFitWidth ( 250 );\r\n            imageView.setImage ( new Image ( url ) );\r\n            flow.getChildren ( ).add ( imageView );\r\n        }\r\n\r\n        return flow;\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        launch ( );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\r\n  [2]: https://i.stack.imgur.com/FrGFM.jpg","title":"How do I set an ImageView in javaFX to have a url of an image on the internet?","body":"<h1><code>new Image( …URL…</code></h1>\n<p>Just pass your URL as a string to the constructor.</p>\n<p>To quote <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<pre><code>Image image3 = new Image(&quot;http://sample.com/res/flower.png&quot;, 100, 0, false, false);\n</code></pre>\n<h2>Example code</h2>\n<p>I cobbled together a crude little demo.</p>\n<p>We define a list of a few URLs, as <code>String</code> objects. For each URL string, we instantiate an <code>ImageView</code> object. To each we give an <code>Image</code> object where the image came from over the internet via the URL string passed to its constructor.</p>\n<p><a href=\"https://i.stack.imgur.com/FrGFM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FrGFM.jpg\" alt=\"screenshot of example app with 3 ImageView objects, each assigned an Image object where the image file was obtained via a string URL over the internets\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.imagesex;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.FlowPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class HelloApplication extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        Scene scene = new Scene ( this.makeImagesPane ( ) , 800 , 300 );\n        stage.setTitle ( &quot;Example of images from the Web&quot; );\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    public FlowPane makeImagesPane ( )\n    {\n        FlowPane flow = new FlowPane ( );\n        flow.setPadding ( new Insets ( 5 , 0 , 5 , 0 ) );\n        flow.setVgap ( 4 );\n        flow.setHgap ( 4 );\n\n        List &lt; String &gt; urls =\n                List.of (\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg/320px-Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg&quot; ,\n                        // https://commons.wikimedia.org/wiki/File:Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/b/bb/Apollo_10_Lunar_Module.jpg&quot; ,\n                        // https://commons.wikimedia.org/wiki/File:Apollo_10_Lunar_Module.jpg\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Kumquat_from_Spain.jpg/320px-Kumquat_from_Spain.jpg&quot;\n                        // https://en.wikipedia.org/wiki/File:Kumquat_from_Spain.jpg\n                );\n        for ( String url : urls )\n        {\n            ImageView imageView = new ImageView ( );\n            imageView.setFitHeight ( 250 );\n            imageView.setFitWidth ( 250 );\n            imageView.setImage ( new Image ( url ) );\n            flow.getChildren ( ).add ( imageView );\n        }\n\n        return flow;\n    }\n\n    public static void main ( String[] args )\n    {\n        launch ( );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28596148,"reputation":11,"user_id":21894249,"display_name":"Haadiya Sajid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1684468495,"creation_date":1684440094,"question_id":76284097,"body_markdown":"I have a list of &quot;Product&quot; items that I fetch to show on my JavaFX screen, which contains a list of Images, Labels, and so on to represent the products. The product class contains a String URL which is basically the link to an image on the web. \r\n\r\nI found that it works fine in SceneBuilder, as I can enter the image URL in the &quot;Image&quot; property, like this, and it shows up:\r\n\r\n![enter image description here](https://i.stack.imgur.com/AE2Cs.png)\r\n\r\nIn my code, when I want to change this URL, I&#39;m doing this:\r\n\r\n```java\r\nfor(i=0;i&lt;products.size();i++) {\r\n    productsToDisplay.add(products.get(i));\r\n    productImages.get(i).imageProperty().set(new Image(products.get(i).getImageURL())); \r\n}\r\n```\r\n\r\nBut the image doesn&#39;t show up. Any help would really be appreciated.\r\n","title":"How do I set an ImageView in javaFX to have a url of an image on the internet?","body":"<p>I have a list of &quot;Product&quot; items that I fetch to show on my JavaFX screen, which contains a list of Images, Labels, and so on to represent the products. The product class contains a String URL which is basically the link to an image on the web.</p>\n<p>I found that it works fine in SceneBuilder, as I can enter the image URL in the &quot;Image&quot; property, like this, and it shows up:</p>\n<p><img src=\"https://i.stack.imgur.com/AE2Cs.png\" alt=\"enter image description here\" /></p>\n<p>In my code, when I want to change this URL, I'm doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(i=0;i&lt;products.size();i++) {\n    productsToDisplay.add(products.get(i));\n    productImages.get(i).imageProperty().set(new Image(products.get(i).getImageURL())); \n}\n</code></pre>\n<p>But the image doesn't show up. Any help would really be appreciated.</p>\n"},{"tags":["java","node.js","csrf","f5"],"owner":{"account_id":3211504,"reputation":11,"user_id":2711416,"display_name":"Anurag Shetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684468086,"creation_date":1684468086,"question_id":76285880,"body_markdown":"we hosting an application(nodejs(frontend)+ java(backend)) on azure kubernetes service with F5 load balancer in front. we have some API calls at node js layer. All the GET api calls succeded, but POST fails with invalid csrf token error which can i see on browser, in  nodejs side i can see that it doesnt make the POST call, it fails before making the call. \r\n\r\nHowever without F5 loadbalancer this error never occurs.\r\n\r\nI have validated _csrf and XSRF_TOKEN token on cookie, both GET and POST the request they seems to be same. \r\n\r\n\r\n ","title":"Forbidden Error Invalid Csrf Token in Nodejs with F5 load balancer","body":"<p>we hosting an application(nodejs(frontend)+ java(backend)) on azure kubernetes service with F5 load balancer in front. we have some API calls at node js layer. All the GET api calls succeded, but POST fails with invalid csrf token error which can i see on browser, in  nodejs side i can see that it doesnt make the POST call, it fails before making the call.</p>\n<p>However without F5 loadbalancer this error never occurs.</p>\n<p>I have validated _csrf and XSRF_TOKEN token on cookie, both GET and POST the request they seems to be same.</p>\n"},{"tags":["java","interface","javac","javacompiler"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1684403861,"post_id":76279604,"comment_id":134514103,"body_markdown":"publish and download javadoc/and or sources for your library.","body":"publish and download javadoc/and or sources for your library."},{"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"score":0,"creation_date":1684404012,"post_id":76279604,"comment_id":134514122,"body_markdown":"Can you please elaborate? I&#39;m new to this :)","body":"Can you please elaborate? I&#39;m new to this :)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1684404018,"post_id":76279604,"comment_id":134514124,"body_markdown":"You need to generate sources and javadoc. This [question](https://stackoverflow.com/questions/4725668/how-to-deploy-snapshot-with-sources-and-javadoc) should help with the required configuration for maven. If you have generated them, just download as mentioned in the other comment.","body":"You need to generate sources and javadoc. This <a href=\"https://stackoverflow.com/questions/4725668/how-to-deploy-snapshot-with-sources-and-javadoc\">question</a> should help with the required configuration for maven. If you have generated them, just download as mentioned in the other comment."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684409484,"post_id":76279604,"comment_id":134515058,"body_markdown":"The subject doesn&#39;t make sense and doesn&#39;t seem related to the issue.","body":"The subject doesn&#39;t make sense and doesn&#39;t seem related to the issue."}],"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684467860,"creation_date":1684403389,"question_id":76279604,"body_markdown":"I have an Interface and a Class that implements it in a Project (say Project1):\r\n\r\n```\r\npublic interface MainInterface {\r\n\t/**\r\n\t * some description goes here\r\n\t * @param foo\r\n\t * @param bar\r\n\t * @param ufo\r\n\t */\r\n\tvoid someAbstractMethod(int foo, int bar, int ufo);\r\n}\r\n```\r\n```\r\npublic class MainInterfaceImpl implements MainInterface {\r\n\t@Override\r\n\tpublic void someAbstractMethod(int foo, int bar, int ufo) {\r\n\t\t//blah blah\r\n\t}\t\r\n}\r\n```\r\nI have built this project using maven and using it as a dependency in another Project(say Project2), In Project 2, I am trying to create an object like this:\r\n\r\n[![Implementation in project 2][1]][1]\r\n\r\n\r\nIts losing the variable names, Is there a way I can persist the variable names? I think this is achievable since all the methods of java.util.List interface have their argument names intact.\r\n\r\n[![List interface implementation][2]][2]\r\n\r\nWhat am I missing here?\r\n  [1]: https://i.stack.imgur.com/9yfty.png\r\n  [2]: https://i.stack.imgur.com/NPCdP.png\r\n\r\nP.S: I don&#39;t really understand how this image attachment works with stackoverflow, please feel free to edit the question to keep the images in-line.","title":"Generate Javadoc and sources for the library","body":"<p>I have an Interface and a Class that implements it in a Project (say Project1):</p>\n<pre><code>public interface MainInterface {\n    /**\n     * some description goes here\n     * @param foo\n     * @param bar\n     * @param ufo\n     */\n    void someAbstractMethod(int foo, int bar, int ufo);\n}\n</code></pre>\n<pre><code>public class MainInterfaceImpl implements MainInterface {\n    @Override\n    public void someAbstractMethod(int foo, int bar, int ufo) {\n        //blah blah\n    }   \n}\n</code></pre>\n<p>I have built this project using maven and using it as a dependency in another Project(say Project2), In Project 2, I am trying to create an object like this:</p>\n<p>[![Implementation in project 2][1]][1]</p>\n<p>Its losing the variable names, Is there a way I can persist the variable names? I think this is achievable since all the methods of java.util.List interface have their argument names intact.</p>\n<p>[![List interface implementation][2]][2]</p>\n<p>What am I missing here?\n[1]: <a href=\"https://i.stack.imgur.com/9yfty.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9yfty.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/NPCdP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NPCdP.png</a></p>\n<p>P.S: I don't really understand how this image attachment works with stackoverflow, please feel free to edit the question to keep the images in-line.</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":5100366,"reputation":653,"user_id":4090157,"display_name":"ultimate"},"score":0,"creation_date":1684403199,"post_id":76278836,"comment_id":134513994,"body_markdown":"The code should be part of the question as text (not as image) so that others can copy and adapt it to answer your question","body":"The code should be part of the question as text (not as image) so that others can copy and adapt it to answer your question"}],"owner":{"account_id":28625920,"reputation":1,"user_id":21917922,"display_name":"yang chao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684467524,"creation_date":1684396760,"question_id":76278836,"body_markdown":"recently,my code connot connct mail,protel=pop3 \r\nIt used to be normal，bad is recently\r\nconnect error,but username,password is right,it donot change\r\nrecently The mail client also encountered this issue\r\n[enter image description here](https://i.stack.imgur.com/wl9wi.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/vAQcP.png)\r\n\r\n\r\nHave you met anyone recently?\r\nI encountered a problem there：store.connect(host,995,user,passwd)\r\n\r\n\r\n   \r\n\r\n     public  Store getMailStore(String host, String user, String passwd, \r\n        boolean ifSSL, int protocol) {\r\n            Store store=null;\r\n            if (protocol == 1) {\r\n                if (ifSSL) {\r\n                    Properties properties = System.getProperties();\r\n                    properties.setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\r\n                    properties.setProperty(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n                    properties.setProperty(&quot;mail.pop3.socketFactory.port&quot;, &quot;995&quot;);\r\n                    //        建立链接时间\r\n                    properties.setProperty(&quot;mail.pop3.connectiontimeout&quot;, &quot;30000&quot;);\r\n                    //        读取邮件时间\r\n                    properties.setProperty(&quot;mail.pop3.timeout&quot;, &quot;30000&quot;);\r\n                    //        发送时间时间\r\n                    properties.setProperty(&quot;mail.pop3.writetimeout&quot;, &quot;30000&quot;);\r\n    \r\n                    URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\r\n                    Session session = Session.getDefaultInstance(properties, null);\r\n                    store = new POP3SSLStore(session, url);\r\n    \r\n    \r\n                    int con=0;\r\n    \r\n                    do {\r\n                        log.info(&quot;邮箱开始begin。&quot;);\r\n                        SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                        // new Date()为获取当前系统时间\r\n                        log.info(&quot;链接邮箱时间&quot;+df.format(new Date()));\r\n                        try {\r\n                            store.connect(host,995,user,passwd);\r\n                        } catch (Exception e) {\r\n                            log.info(&quot;登录邮箱失败,准备再试！&quot;);\r\n                            try {\r\n                                Thread.sleep(10000);\r\n                            } catch (InterruptedException ex) {\r\n                                throw new RuntimeException(ex);\r\n                            }\r\n                        }\r\n                        log.info(&quot;邮件链接状态：==============================&quot;+store.isConnected());\r\n                        if (store.isConnected()){\r\n                            // new Date()为获取当前系统时间\r\n                            log.info(&quot;登录邮箱成功时间&quot;+df.format(new Date()));\r\n    \r\n                            break;\r\n                        }\r\n                        con++;\r\n    \r\n                    } while (con&lt;=5);\r\n                } else {\r\n                    // 获取默认会话\r\n                    Properties prop = new Properties();\r\n                    Session session = Session.getDefaultInstance(prop, null);\r\n                    log.info(&quot;准备邮箱链接实例&quot;);\r\n                    try {\r\n                        store = session.getStore(&quot;pop3&quot;);\r\n                        log.info(&quot;登录邮箱成功。&quot;);\r\n                        store.connect(host, user, passwd);\r\n                        log.info(&quot;登录邮箱成功。&quot;);\r\n                    } catch (MessagingException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n    \r\n                }\r\n            }\r\n    //        走imap\r\n            else  if ( protocol == 2) {\r\n                if (ifSSL) {\r\n                    String PROTOCOL = &quot;imap&quot;;\r\n                    Integer port = 993;\r\n                    String sslFactory = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n                    Properties props = new Properties();\r\n                    props.setProperty(&quot;mail.store.protocol&quot;, PROTOCOL);\r\n                    props.setProperty(&quot;mail.imap.host&quot;, host);\r\n                    props.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n                    props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n                    props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n                    props.setProperty(&quot;mail.imap.socketFactory.class&quot;, sslFactory);\r\n    \r\n    \r\n                    props.setProperty(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n                    props.setProperty(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\r\n                    props.setProperty(&quot;mail.imap.auth.ntlm.disable&quot;, &quot;true&quot;);\r\n                    props.setProperty(&quot;mail.imap.auth.gssapi.disable&quot;, &quot;true&quot;);\r\n    \r\n    \r\n    //                ================================================================================================\r\n                    // SSL 需要这三行\r\n    //                props.setProperty(&quot;mail.imap.socketFactory.port&quot;, &quot;993&quot;);\r\n    //                props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n                    //        props.put(&quot;mail.imap.auth&quot;, true);\r\n                    //        props.put(&quot;mail.imap.auth.plain.disable&quot;, true);\r\n                    //        props.put(&quot;mail.imap.auth.ntlm.disable&quot;, true);\r\n                    //        props.put(&quot;mail.imap.auth.gssapi.disable&quot;, true);\r\n    \r\n                    // SSL安全连接参数\r\n    //                props .setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\r\n    \r\n    //                Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\r\n    //                props.setProperty(&quot;mail.pop3.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n    //                URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\r\n    \r\n    \r\n    //            MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n    //            sf.setTrustAllHosts(true);\r\n    //            props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\r\n    \r\n                    // 创建Session实例对象\r\n                    try {\r\n                        Session session = Session.getInstance(props);\r\n                        // 创建IMAP协议的Store对象\r\n                        store = session.getStore(PROTOCOL);\r\n                        // 连接邮件服务器\r\n                        store.connect(user, passwd);\r\n                        log.info(&quot;登录邮箱成功。&quot;);\r\n                    } catch (MessagingException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n    \r\n                }\r\n    \r\n    \r\n            }\r\n            return  store;\r\n    \r\n        }","title":"java pop3 Logon failure: unknown user name or bad password","body":"<p>recently,my code connot connct mail,protel=pop3\nIt used to be normal，bad is recently\nconnect error,but username,password is right,it donot change\nrecently The mail client also encountered this issue\n<a href=\"https://i.stack.imgur.com/wl9wi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/vAQcP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Have you met anyone recently?\nI encountered a problem there：store.connect(host,995,user,passwd)</p>\n<pre><code> public  Store getMailStore(String host, String user, String passwd, \n    boolean ifSSL, int protocol) {\n        Store store=null;\n        if (protocol == 1) {\n            if (ifSSL) {\n                Properties properties = System.getProperties();\n                properties.setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\n                properties.setProperty(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n                properties.setProperty(&quot;mail.pop3.socketFactory.port&quot;, &quot;995&quot;);\n                //        建立链接时间\n                properties.setProperty(&quot;mail.pop3.connectiontimeout&quot;, &quot;30000&quot;);\n                //        读取邮件时间\n                properties.setProperty(&quot;mail.pop3.timeout&quot;, &quot;30000&quot;);\n                //        发送时间时间\n                properties.setProperty(&quot;mail.pop3.writetimeout&quot;, &quot;30000&quot;);\n\n                URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\n                Session session = Session.getDefaultInstance(properties, null);\n                store = new POP3SSLStore(session, url);\n\n\n                int con=0;\n\n                do {\n                    log.info(&quot;邮箱开始begin。&quot;);\n                    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                    // new Date()为获取当前系统时间\n                    log.info(&quot;链接邮箱时间&quot;+df.format(new Date()));\n                    try {\n                        store.connect(host,995,user,passwd);\n                    } catch (Exception e) {\n                        log.info(&quot;登录邮箱失败,准备再试！&quot;);\n                        try {\n                            Thread.sleep(10000);\n                        } catch (InterruptedException ex) {\n                            throw new RuntimeException(ex);\n                        }\n                    }\n                    log.info(&quot;邮件链接状态：==============================&quot;+store.isConnected());\n                    if (store.isConnected()){\n                        // new Date()为获取当前系统时间\n                        log.info(&quot;登录邮箱成功时间&quot;+df.format(new Date()));\n\n                        break;\n                    }\n                    con++;\n\n                } while (con&lt;=5);\n            } else {\n                // 获取默认会话\n                Properties prop = new Properties();\n                Session session = Session.getDefaultInstance(prop, null);\n                log.info(&quot;准备邮箱链接实例&quot;);\n                try {\n                    store = session.getStore(&quot;pop3&quot;);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                    store.connect(host, user, passwd);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                } catch (MessagingException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n        }\n//        走imap\n        else  if ( protocol == 2) {\n            if (ifSSL) {\n                String PROTOCOL = &quot;imap&quot;;\n                Integer port = 993;\n                String sslFactory = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n                Properties props = new Properties();\n                props.setProperty(&quot;mail.store.protocol&quot;, PROTOCOL);\n                props.setProperty(&quot;mail.imap.host&quot;, host);\n                props.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\n                props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.socketFactory.class&quot;, sslFactory);\n\n\n                props.setProperty(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.ntlm.disable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.gssapi.disable&quot;, &quot;true&quot;);\n\n\n//                ================================================================================================\n                // SSL 需要这三行\n//                props.setProperty(&quot;mail.imap.socketFactory.port&quot;, &quot;993&quot;);\n//                props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\n\n                //        props.put(&quot;mail.imap.auth&quot;, true);\n                //        props.put(&quot;mail.imap.auth.plain.disable&quot;, true);\n                //        props.put(&quot;mail.imap.auth.ntlm.disable&quot;, true);\n                //        props.put(&quot;mail.imap.auth.gssapi.disable&quot;, true);\n\n                // SSL安全连接参数\n//                props .setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\n\n//                Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n//                props.setProperty(&quot;mail.pop3.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n//                URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\n\n\n//            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n//            sf.setTrustAllHosts(true);\n//            props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\n\n                // 创建Session实例对象\n                try {\n                    Session session = Session.getInstance(props);\n                    // 创建IMAP协议的Store对象\n                    store = session.getStore(PROTOCOL);\n                    // 连接邮件服务器\n                    store.connect(user, passwd);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                } catch (MessagingException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n\n\n        }\n        return  store;\n\n    }\n</code></pre>\n"},{"tags":["java","android","android-imageview","alpha","android-background"],"comments":[{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":1,"creation_date":1684319323,"post_id":76252382,"comment_id":134500005,"body_markdown":"Can&#39;t you use 2 ImageViews one over the other. One with solid background color which can change dynamically at run time and the other ImageView with a drawable that you can set the visibility to visible/non-visible?","body":"Can&#39;t you use 2 ImageViews one over the other. One with solid background color which can change dynamically at run time and the other ImageView with a drawable that you can set the visibility to visible/non-visible?"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684321590,"post_id":76252382,"comment_id":134500488,"body_markdown":"@Lakshmi, yes, even I thought of that, and I guess that would work (I guess I&#39;d have to change that Z-index attribute to hide the `ImageView`s below each other). But I doubt if having 2 `ImageView`s for every 1 would be efficient, as the XML has many like these two. I mean, there must be some way to change the same `ImageView`&#39;s properties to show/hide *only* the background or the image, no? I thought you could change some XML attributes, etc., to create some kind of XML style/class which I can use instead of the `ImageView`; or some Java code to manipulate the same view.","body":"@Lakshmi, yes, even I thought of that, and I guess that would work (I guess I&#39;d have to change that Z-index attribute to hide the <code>ImageView</code>s below each other). But I doubt if having 2 <code>ImageView</code>s for every 1 would be efficient, as the XML has many like these two. I mean, there must be some way to change the same <code>ImageView</code>&#39;s properties to show/hide <i>only</i> the background or the image, no? I thought you could change some XML attributes, etc., to create some kind of XML style/class which I can use instead of the <code>ImageView</code>; or some Java code to manipulate the same view."},{"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"score":1,"creation_date":1684333097,"post_id":76252382,"comment_id":134503219,"body_markdown":"Explore LayerDrawable class.\nIt says it can be defined in an XML file with the &lt;layer-list&gt; element. Each Drawable in the layer is defined in a nested &lt;item&gt;. \nI think you can define different layers and that is the solution to your problem.\nCheck this link for more information.\nhttps://medium.com/@akashjha/multiimageview-with-layerlist-ebb16a0850af","body":"Explore LayerDrawable class. It says it can be defined in an XML file with the &lt;layer-list&gt; element. Each Drawable in the layer is defined in a nested &lt;item&gt;.  I think you can define different layers and that is the solution to your problem. Check this link for more information. <a href=\"https://medium.com/@akashjha/multiimageview-with-layerlist-ebb16a0850af\" rel=\"nofollow noreferrer\">medium.com/@akashjha/multiimageview-with-layerlist-ebb16a085&zwnj;&#8203;0af</a>"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684350561,"post_id":76252382,"comment_id":134507288,"body_markdown":"@Lakshmi, thanks for the information; I&#39;ll try it. But again, I&#39;m not sure if adding another element is needed or efficient. The code in the website you linked looks simple and easy to implement, but again, it&#39;s *not the same View*.","body":"@Lakshmi, thanks for the information; I&#39;ll try it. But again, I&#39;m not sure if adding another element is needed or efficient. The code in the website you linked looks simple and easy to implement, but again, it&#39;s <i>not the same View</i>."},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1684411611,"post_id":76252382,"comment_id":134515462,"body_markdown":"Can&#39;t you use **imageView.setBackgroundColor(Color.RED);** and      **imageView.setImageResource(R.drawable.your_drawable);**","body":"Can&#39;t you use <b>imageView.setBackgroundColor(Color.RED);</b> and      <b>imageView.setImageResource(R.drawable.your_drawable);</b>"},{"owner":{"account_id":5339964,"reputation":1577,"user_id":4257442,"accept_rate":100,"display_name":"Pouya Danesh"},"score":0,"creation_date":1684580931,"post_id":76252382,"comment_id":134539879,"body_markdown":"don&#39;t search for show/hide the imageView background but search for image placeholders you can easily achieve this using somethings like Picasso or glide.\nor you can use https://stackoverflow.com/questions/46192545/how-to-put-new-placeholder-resources-into-android-studio-project-toolssample","body":"don&#39;t search for show/hide the imageView background but search for image placeholders you can easily achieve this using somethings like Picasso or glide. or you can use <a href=\"https://stackoverflow.com/questions/46192545/how-to-put-new-placeholder-resources-into-android-studio-project-toolssample\" title=\"how to put new placeholder resources into android studio project toolssample\">stackoverflow.com/questions/46192545/&hellip;</a>"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684583383,"post_id":76252382,"comment_id":134540142,"body_markdown":"@NiranjPatel, no, they produce weird results.","body":"@NiranjPatel, no, they produce weird results."},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684583648,"post_id":76252382,"comment_id":134540181,"body_markdown":"@PouyaDanesh, but additional dependencies are needed, and they seem like heavy libraries and so not efficient, either.","body":"@PouyaDanesh, but additional dependencies are needed, and they seem like heavy libraries and so not efficient, either."},{"owner":{"account_id":5339964,"reputation":1577,"user_id":4257442,"accept_rate":100,"display_name":"Pouya Danesh"},"score":0,"creation_date":1684650869,"post_id":76252382,"comment_id":134546124,"body_markdown":"don&#39;t use them just search for image placeholders and you&#39;ll find your answer","body":"don&#39;t use them just search for image placeholders and you&#39;ll find your answer"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684684198,"post_id":76252382,"comment_id":134549526,"body_markdown":"@PouyaDanesh, but it still seems like it&#39;s not efficient and isn&#39;t suitable for my use case. The results I get are about the libraries and placeholder widgets.","body":"@PouyaDanesh, but it still seems like it&#39;s not efficient and isn&#39;t suitable for my use case. The results I get are about the libraries and placeholder widgets."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684317006,"creation_date":1684317006,"answer_id":76270758,"question_id":76252382,"body_markdown":"Imageview can show a bitmap as you know. You can set the bitmap by deleting the background of the relevant bitmap.\r\n\r\nMain Object\r\n\r\n    object BackgroundRemover {\r\n    \r\n        private val segment: Segmenter\r\n        private var buffer = ByteBuffer.allocate(0)\r\n        private var width = 0\r\n        private var height = 0\r\n    \r\n    \r\n        init {\r\n            val segmentOptions = SelfieSegmenterOptions.Builder()\r\n                .setDetectorMode(SelfieSegmenterOptions.SINGLE_IMAGE_MODE)\r\n                .build()\r\n            segment = Segmentation.getClient(segmentOptions)\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Process the image to get buffer and image height and width\r\n         * @param bitmap Bitmap which you want to remove background.\r\n         * @param trimEmptyPart After removing the background if its true it will remove the empty part of bitmap. by default its false.\r\n         * @param listener listener for success and failure callback.\r\n         **/\r\n        fun bitmapForProcessing(\r\n            bitmap: Bitmap,\r\n            trimEmptyPart: Boolean? = false,\r\n            listener: OnBackgroundChangeListener\r\n        ) {\r\n            //Generate a copy of bitmap just in case the if the bitmap is immutable.\r\n            val copyBitmap = bitmap.copy(Bitmap.Config.ARGB_8888, true)\r\n            val input = InputImage.fromBitmap(copyBitmap, 0)\r\n            segment.process(input)\r\n                .addOnSuccessListener { segmentationMask -&gt;\r\n                    buffer = segmentationMask.buffer\r\n                    width = segmentationMask.width\r\n                    height = segmentationMask.height\r\n    \r\n                    CoroutineScope(Dispatchers.IO).launch {\r\n                        val time = measureTimeMillis {\r\n                            val resultBitmap = if (trimEmptyPart == true) {\r\n                                val bgRemovedBitmap = removeBackgroundFromImage(copyBitmap)\r\n                                trim(bgRemovedBitmap)\r\n                            } else {\r\n                                removeBackgroundFromImage(copyBitmap)\r\n                            }\r\n                            withContext(Dispatchers.Main) {\r\n                                listener.onSuccess(resultBitmap)\r\n                            }\r\n                        }\r\n                        Log.e(&quot;TAG&quot;, &quot;bitmapForProcessingTime: $time&quot;)\r\n                    }\r\n    \r\n                }\r\n                .addOnFailureListener { e -&gt;\r\n                    println(&quot;Image processing failed: $e&quot;)\r\n                    listener.onFailed(e)\r\n    \r\n                }\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Change the background pixels color to transparent.\r\n         * */\r\n        private suspend fun removeBackgroundFromImage(\r\n            image: Bitmap\r\n        ): Bitmap {\r\n            val bitmap = CoroutineScope(Dispatchers.IO).async {\r\n                for (y in 0 until height) {\r\n                    for (x in 0 until width) {\r\n                        val bgConfidence = ((1.0 - buffer.float) * 255).toInt()\r\n                        if (bgConfidence &gt;= 100) {\r\n                            image.setHasAlpha(true)\r\n                            image.setPixel(x, y, 0)\r\n                        }\r\n                    }\r\n                }\r\n                buffer.rewind()\r\n                return@async image\r\n            }\r\n            return bitmap.await()\r\n        }\r\n    \r\n    \r\n        /**\r\n         * trim the empty part of a bitmap.\r\n         **/\r\n        private suspend fun trim(\r\n            bitmap: Bitmap\r\n        ): Bitmap {\r\n            val result = CoroutineScope(Dispatchers.Default).async {\r\n                var firstX = 0\r\n                var firstY = 0\r\n                var lastX = bitmap.width\r\n                var lastY = bitmap.height\r\n                val pixels = IntArray(bitmap.width * bitmap.height)\r\n                bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\r\n                loop@ for (x in 0 until bitmap.width) {\r\n                    for (y in 0 until bitmap.height) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            firstX = x\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (y in 0 until bitmap.height) {\r\n                    for (x in firstX until bitmap.width) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            firstY = y\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (x in bitmap.width - 1 downTo firstX) {\r\n                    for (y in bitmap.height - 1 downTo firstY) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            lastX = x\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (y in bitmap.height - 1 downTo firstY) {\r\n                    for (x in bitmap.width - 1 downTo firstX) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            lastY = y\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                return@async Bitmap.createBitmap(bitmap, firstX, firstY, lastX - firstX, lastY - firstY)\r\n            }\r\n            return result.await()\r\n        }\r\n    \r\n    }\r\n\r\nListener \r\n\r\n    interface OnBackgroundChangeListener {\r\n    \r\n        fun onSuccess(bitmap: Bitmap)\r\n    \r\n        fun onFailed(exception: Exception)\r\n    \r\n    }","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>Imageview can show a bitmap as you know. You can set the bitmap by deleting the background of the relevant bitmap.</p>\n<p>Main Object</p>\n<pre><code>object BackgroundRemover {\n\n    private val segment: Segmenter\n    private var buffer = ByteBuffer.allocate(0)\n    private var width = 0\n    private var height = 0\n\n\n    init {\n        val segmentOptions = SelfieSegmenterOptions.Builder()\n            .setDetectorMode(SelfieSegmenterOptions.SINGLE_IMAGE_MODE)\n            .build()\n        segment = Segmentation.getClient(segmentOptions)\n    }\n\n\n    /**\n     * Process the image to get buffer and image height and width\n     * @param bitmap Bitmap which you want to remove background.\n     * @param trimEmptyPart After removing the background if its true it will remove the empty part of bitmap. by default its false.\n     * @param listener listener for success and failure callback.\n     **/\n    fun bitmapForProcessing(\n        bitmap: Bitmap,\n        trimEmptyPart: Boolean? = false,\n        listener: OnBackgroundChangeListener\n    ) {\n        //Generate a copy of bitmap just in case the if the bitmap is immutable.\n        val copyBitmap = bitmap.copy(Bitmap.Config.ARGB_8888, true)\n        val input = InputImage.fromBitmap(copyBitmap, 0)\n        segment.process(input)\n            .addOnSuccessListener { segmentationMask -&gt;\n                buffer = segmentationMask.buffer\n                width = segmentationMask.width\n                height = segmentationMask.height\n\n                CoroutineScope(Dispatchers.IO).launch {\n                    val time = measureTimeMillis {\n                        val resultBitmap = if (trimEmptyPart == true) {\n                            val bgRemovedBitmap = removeBackgroundFromImage(copyBitmap)\n                            trim(bgRemovedBitmap)\n                        } else {\n                            removeBackgroundFromImage(copyBitmap)\n                        }\n                        withContext(Dispatchers.Main) {\n                            listener.onSuccess(resultBitmap)\n                        }\n                    }\n                    Log.e(&quot;TAG&quot;, &quot;bitmapForProcessingTime: $time&quot;)\n                }\n\n            }\n            .addOnFailureListener { e -&gt;\n                println(&quot;Image processing failed: $e&quot;)\n                listener.onFailed(e)\n\n            }\n    }\n\n\n    /**\n     * Change the background pixels color to transparent.\n     * */\n    private suspend fun removeBackgroundFromImage(\n        image: Bitmap\n    ): Bitmap {\n        val bitmap = CoroutineScope(Dispatchers.IO).async {\n            for (y in 0 until height) {\n                for (x in 0 until width) {\n                    val bgConfidence = ((1.0 - buffer.float) * 255).toInt()\n                    if (bgConfidence &gt;= 100) {\n                        image.setHasAlpha(true)\n                        image.setPixel(x, y, 0)\n                    }\n                }\n            }\n            buffer.rewind()\n            return@async image\n        }\n        return bitmap.await()\n    }\n\n\n    /**\n     * trim the empty part of a bitmap.\n     **/\n    private suspend fun trim(\n        bitmap: Bitmap\n    ): Bitmap {\n        val result = CoroutineScope(Dispatchers.Default).async {\n            var firstX = 0\n            var firstY = 0\n            var lastX = bitmap.width\n            var lastY = bitmap.height\n            val pixels = IntArray(bitmap.width * bitmap.height)\n            bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\n            loop@ for (x in 0 until bitmap.width) {\n                for (y in 0 until bitmap.height) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in 0 until bitmap.height) {\n                for (x in firstX until bitmap.width) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstY = y\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (x in bitmap.width - 1 downTo firstX) {\n                for (y in bitmap.height - 1 downTo firstY) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in bitmap.height - 1 downTo firstY) {\n                for (x in bitmap.width - 1 downTo firstX) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastY = y\n                        break@loop\n                    }\n                }\n            }\n            return@async Bitmap.createBitmap(bitmap, firstX, firstY, lastX - firstX, lastY - firstY)\n        }\n        return result.await()\n    }\n\n}\n</code></pre>\n<p>Listener</p>\n<pre><code>interface OnBackgroundChangeListener {\n\n    fun onSuccess(bitmap: Bitmap)\n\n    fun onFailed(exception: Exception)\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14338249,"reputation":3000,"user_id":10357086,"display_name":"Dev4Life"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684467159,"creation_date":1684414480,"answer_id":76281055,"question_id":76252382,"body_markdown":"Well, it&#39;s not directly possible to work it as expected with two views, and as you said, you have multiple views like that &amp; that&#39;s why it&#39;s not memory efficient.\r\n\r\nBut We can achieve that functionality using **`CustomView`** designed according to our needs.\r\n\r\n**If you know a little bit of `drawing on the canvas` and how it works, then it&#39;ll be easier.**\r\n\r\nHere, I made the custom view to achieve exactly what you want.\r\n\r\n    public class ImageAlphaBGView extends View {\r\n        private Bitmap bitmap;\r\n        Paint mPaint;\r\n        Paint mPaintBG;\r\n        Rect bgRect;\r\n    \r\n        private int mWidth;\r\n        private int mHeight;\r\n        float centreX;\r\n        float centreY;\r\n    \r\n        public ImageAlphaBGView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            mPaint = new Paint();\r\n            mPaint.setColor(Color.RED);\r\n            mPaint.setStyle(Paint.Style.FILL);\r\n            mPaint.setAntiAlias(true);\r\n    \r\n            mPaintBG = new Paint();\r\n            mPaintBG.setColor(Color.parseColor(&quot;#000000&quot;));\r\n            mPaintBG.setStyle(Paint.Style.FILL);\r\n            mPaintBG.setAntiAlias(true);\r\n        }\r\n    \r\n        public void setImageBitmap(Bitmap bitmap) {\r\n            this.bitmap = bitmap;\r\n            try {\r\n                centreX = (mWidth - bitmap.getWidth()) / 2;\r\n                centreY = (mHeight - bitmap.getHeight()) / 2;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            invalidate();\r\n        }\r\n    \r\n        public void setBGColor(int color) {\r\n            mPaintBG.setColor(color);\r\n            invalidate();\r\n        }\r\n    \r\n        public void setImageAlpha(@IntRange(from = 0, to = 255) int alpha) {\r\n            mPaint.setAlpha(alpha);\r\n            invalidate();\r\n        }\r\n    \r\n        public void setBGAlpha(@IntRange(from = 0, to = 255) int alpha) {\r\n            mPaintBG.setAlpha(alpha);\r\n            invalidate();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n            canvas.drawRect(bgRect, mPaintBG);\r\n            if (bitmap != null)\r\n                canvas.drawBitmap(bitmap, centreX, centreY, mPaint);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            super.onSizeChanged(w, h, oldw, oldh);\r\n            mWidth = w;\r\n            mHeight = h;\r\n    \r\n            bgRect = new Rect(0, 0, mWidth, mHeight);\r\n            invalidate();\r\n        }\r\n    }\r\n\r\n\r\n\r\nSimply put this view in your xml &amp; then you can programmatically pass a bitmap and alpha of the background.\r\n\r\nIt supports setting up **image alpha, background alpha seperately** as well as background color.\r\n\r\n**Here is what you need to do :**\r\n\r\n**In the xml,** \r\n\r\n    &lt;com.demo.example.views.ImageAlphaBGView\r\n                android:id=&quot;@+id/alphaView&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_height=&quot;150dp&quot;/&gt;\r\n\r\n**In the activity or fragment,**\r\n\r\n    ImageAlphaBGView imageView = findViewById(R.id.alphaView)\r\n    imageView.setImageBitmap(bitmap)\r\n    imageView.setBGColor(Color.RED)\r\n    imageView.setImageAlpha(255)\r\n\r\n\r\n**And you&#39;ve got it. :)**","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>Well, it's not directly possible to work it as expected with two views, and as you said, you have multiple views like that &amp; that's why it's not memory efficient.</p>\n<p>But We can achieve that functionality using <strong><code>CustomView</code></strong> designed according to our needs.</p>\n<p><strong>If you know a little bit of <code>drawing on the canvas</code> and how it works, then it'll be easier.</strong></p>\n<p>Here, I made the custom view to achieve exactly what you want.</p>\n<pre><code>public class ImageAlphaBGView extends View {\n    private Bitmap bitmap;\n    Paint mPaint;\n    Paint mPaintBG;\n    Rect bgRect;\n\n    private int mWidth;\n    private int mHeight;\n    float centreX;\n    float centreY;\n\n    public ImageAlphaBGView(Context context) {\n        super(context);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        init();\n    }\n\n    private void init() {\n        mPaint = new Paint();\n        mPaint.setColor(Color.RED);\n        mPaint.setStyle(Paint.Style.FILL);\n        mPaint.setAntiAlias(true);\n\n        mPaintBG = new Paint();\n        mPaintBG.setColor(Color.parseColor(&quot;#000000&quot;));\n        mPaintBG.setStyle(Paint.Style.FILL);\n        mPaintBG.setAntiAlias(true);\n    }\n\n    public void setImageBitmap(Bitmap bitmap) {\n        this.bitmap = bitmap;\n        try {\n            centreX = (mWidth - bitmap.getWidth()) / 2;\n            centreY = (mHeight - bitmap.getHeight()) / 2;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        invalidate();\n    }\n\n    public void setBGColor(int color) {\n        mPaintBG.setColor(color);\n        invalidate();\n    }\n\n    public void setImageAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaint.setAlpha(alpha);\n        invalidate();\n    }\n\n    public void setBGAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaintBG.setAlpha(alpha);\n        invalidate();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawRect(bgRect, mPaintBG);\n        if (bitmap != null)\n            canvas.drawBitmap(bitmap, centreX, centreY, mPaint);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n        mWidth = w;\n        mHeight = h;\n\n        bgRect = new Rect(0, 0, mWidth, mHeight);\n        invalidate();\n    }\n}\n</code></pre>\n<p>Simply put this view in your xml &amp; then you can programmatically pass a bitmap and alpha of the background.</p>\n<p>It supports setting up <strong>image alpha, background alpha seperately</strong> as well as background color.</p>\n<p><strong>Here is what you need to do :</strong></p>\n<p><strong>In the xml,</strong></p>\n<pre><code>&lt;com.demo.example.views.ImageAlphaBGView\n            android:id=&quot;@+id/alphaView&quot;\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;/&gt;\n</code></pre>\n<p><strong>In the activity or fragment,</strong></p>\n<pre><code>ImageAlphaBGView imageView = findViewById(R.id.alphaView)\nimageView.setImageBitmap(bitmap)\nimageView.setBGColor(Color.RED)\nimageView.setImageAlpha(255)\n</code></pre>\n<p><strong>And you've got it. :)</strong></p>\n"}],"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76281055,"answer_count":2,"score":0,"last_activity_date":1684467159,"creation_date":1684140846,"question_id":76252382,"body_markdown":"I have an `ImageView`, and its alpha is set to 0 in the XML. The XML looks like this:\r\n\r\n```xml\r\n&lt;LinearLayout\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;&lt;height&gt;&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/&lt;id&gt;&quot;\r\n                android:layout_width=&quot;&lt;width&gt;&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:alpha=&quot;0&quot;\r\n                android:background=&quot;#ff00ff&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusable=&quot;true&quot;\r\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/&lt;id&gt;&quot;\r\n                android:layout_width=&quot;&lt;width&gt;&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:alpha=&quot;0&quot;\r\n                android:background=&quot;#0000ff&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusable=&quot;true&quot;\r\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI tried searching how to do this, but most questions are about how to hide the background or the entire `ImageView`, and not just the background. Also, the `alpha` has to be set to `&quot;0&quot;`. Is there any way to hide only the image so that only the `background` (solid color) is visible? Only the `background` colors of both `ImageView`s have to be displayed, so the container (`LinearLayout`)&#39;s `background` cannot be used to do this for both (the background colors are different).\r\n\r\nChanging the image&#39;s source to an image which is a solid color, the same as the background color, would work, but I need to change this color programmatically, so it might be inefficient. I&#39;ve also tried different combinations of `ImageView.`- `setAlpha(float)`, `setImageAlpha(int)`, `setImageResource(int)` (to `0`) and `setImageDrawable(Drawable)` (to show the image again, with the background [color]), but they produce weird results. Using `setImageResource(0)` (with alpha `1f`) hides the image, showing only the solid background, but I&#39;m not able to display the image again. Is there any easy method I&#39;m unaware of?\r\n\r\nI need to do this programmatically, so methods like in https://stackoverflow.com/questions/44154644/java-android-linearlayout-set-two-colors wouldn&#39;t work. What is the best way to do this programmatically?","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>I have an <code>ImageView</code>, and its alpha is set to 0 in the XML. The XML looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;&lt;height&gt;&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#ff00ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#0000ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried searching how to do this, but most questions are about how to hide the background or the entire <code>ImageView</code>, and not just the background. Also, the <code>alpha</code> has to be set to <code>&quot;0&quot;</code>. Is there any way to hide only the image so that only the <code>background</code> (solid color) is visible? Only the <code>background</code> colors of both <code>ImageView</code>s have to be displayed, so the container (<code>LinearLayout</code>)'s <code>background</code> cannot be used to do this for both (the background colors are different).</p>\n<p>Changing the image's source to an image which is a solid color, the same as the background color, would work, but I need to change this color programmatically, so it might be inefficient. I've also tried different combinations of <code>ImageView.</code>- <code>setAlpha(float)</code>, <code>setImageAlpha(int)</code>, <code>setImageResource(int)</code> (to <code>0</code>) and <code>setImageDrawable(Drawable)</code> (to show the image again, with the background [color]), but they produce weird results. Using <code>setImageResource(0)</code> (with alpha <code>1f</code>) hides the image, showing only the solid background, but I'm not able to display the image again. Is there any easy method I'm unaware of?</p>\n<p>I need to do this programmatically, so methods like in <a href=\"https://stackoverflow.com/questions/44154644/java-android-linearlayout-set-two-colors\">Java android Linearlayout set two colors</a> wouldn't work. What is the best way to do this programmatically?</p>\n"},{"tags":["java","selenium","selenium-webdriver","appium"],"comments":[{"owner":{"account_id":6625654,"reputation":753,"user_id":5115972,"accept_rate":62,"display_name":"Nicole Phillips"},"score":0,"creation_date":1478269284,"post_id":40420990,"comment_id":68098244,"body_markdown":"What is the system output printing?","body":"What is the system output printing?"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478277342,"post_id":40420990,"comment_id":68103826,"body_markdown":"@NicolePhillips. This line System.out.println(&quot;previous date is &quot;+allButtons.get(0).getText()); prints &quot;Dec&quot;","body":"@NicolePhillips. This line System.out.println(&quot;previous date is &quot;+allButtons.get(0).getText()); prints &quot;Dec&quot;"},{"owner":{"account_id":6625654,"reputation":753,"user_id":5115972,"accept_rate":62,"display_name":"Nicole Phillips"},"score":1,"creation_date":1478277973,"post_id":40420990,"comment_id":68104229,"body_markdown":"check out this question and answer: http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element","body":"check out this question and answer: <a href=\"http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element\" title=\"java appium unable to click element\">stackoverflow.com/questions/32518284/&hellip;</a>"},{"owner":{"account_id":1379009,"reputation":1186,"user_id":1312415,"accept_rate":0,"display_name":"Mani"},"score":0,"creation_date":1478439694,"post_id":40420990,"comment_id":68145338,"body_markdown":"can you post your appium full logs ?","body":"can you post your appium full logs ?"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478499828,"post_id":40420990,"comment_id":68163146,"body_markdown":"@NicolePhillips Thank you. The issue is solved on using tap method. Thanks for your help","body":"@NicolePhillips Thank you. The issue is solved on using tap method. Thanks for your help"}],"answers":[{"tags":[],"owner":{"account_id":7391918,"reputation":415,"user_id":5625064,"accept_rate":20,"display_name":"Keshav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478257701,"creation_date":1478257701,"answer_id":40421139,"question_id":40420990,"body_markdown":"You can click and select the date in devices the way you are trying. You need to use send keys. Try the below code:\r\n\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[1]&quot;)).sendKeys(Dec);\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[2]&quot;)).sendKeys(04);\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[3]&quot;)).sendKeys(2015);","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>You can click and select the date in devices the way you are trying. You need to use send keys. Try the below code:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//UIAPickerWheel[1]\")).sendKeys(Dec);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[2]\")).sendKeys(04);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[3]\")).sendKeys(2015);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4891050,"reputation":2440,"user_id":3942186,"accept_rate":77,"display_name":"Emna Ayadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478270523,"creation_date":1478268827,"answer_id":40424869,"question_id":40420990,"body_markdown":"I suggest that you use Swipe method to help you scroll calendar dates.\r\n\r\nFor Example :\r\n\r\nMake a first click on your calendar icon and then use following code :\r\n\r\n    Thread.sleep(3000);\r\n     for(int x=0;x&lt;9;x++)\r\n        {\r\n         // Swipe syntax sould be like this way depending on your needs, you have just need to change points\r\n         //driver.swipe(startx, starty, endx, endy, duration);\r\n            driver.swipe(450,550,350,500,0);  \r\n    \r\n        }\r\n    \r\nThe loop i have used is to scroll from 1 March to 10 March for example you can change by your needs.\r\nTell me if that works for you.","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>I suggest that you use Swipe method to help you scroll calendar dates.</p>\n\n<p>For Example :</p>\n\n<p>Make a first click on your calendar icon and then use following code :</p>\n\n<pre><code>Thread.sleep(3000);\n for(int x=0;x&lt;9;x++)\n    {\n     // Swipe syntax sould be like this way depending on your needs, you have just need to change points\n     //driver.swipe(startx, starty, endx, endy, duration);\n        driver.swipe(450,550,350,500,0);  \n\n    }\n</code></pre>\n\n<p>The loop i have used is to scroll from 1 March to 10 March for example you can change by your needs.\nTell me if that works for you.</p>\n"},{"tags":[],"owner":{"account_id":28421144,"reputation":1,"user_id":21743201,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684467107,"creation_date":1684399789,"answer_id":76279166,"question_id":40420990,"body_markdown":"    driver.findElement(By.xpath(&quot;//XCUIElementTypeOther[@name=\\&quot;Proposed Insured Information, tab panel\\&quot;]/XCUIElementTypeTextField[3]&quot;)).click();\r\n            \r\n    List &lt;WebElement&gt; values = (List&lt;WebElement&gt;) driver.findElements(By.xpath(&quot;//XCUIElementTypePickerWheel&quot;));\r\n            \r\n    for (int i=0; i&lt;values.size();i++) \r\n          `enter code here`{\r\n            System.out.println(values.get(i).getText());\r\n           }\r\n            values.get(0).sendKeys(&quot;30&quot;);\r\n            values.get(0).sendKeys(Keys.TAB);\r\n            \r\n            values.get(1).sendKeys(&quot;November&quot;);\r\n            values.get(1).sendKeys(Keys.TAB);\r\n            \r\n            values.get(2).sendKeys(&quot;1995&quot;);\r\n            values.get(3).sendKeys(Keys.TAB);","title":"Not able to click on the date picker button to change the date using appium and java","body":"<pre><code>driver.findElement(By.xpath(&quot;//XCUIElementTypeOther[@name=\\&quot;Proposed Insured Information, tab panel\\&quot;]/XCUIElementTypeTextField[3]&quot;)).click();\n        \nList &lt;WebElement&gt; values = (List&lt;WebElement&gt;) driver.findElements(By.xpath(&quot;//XCUIElementTypePickerWheel&quot;));\n        \nfor (int i=0; i&lt;values.size();i++) \n      `enter code here`{\n        System.out.println(values.get(i).getText());\n       }\n        values.get(0).sendKeys(&quot;30&quot;);\n        values.get(0).sendKeys(Keys.TAB);\n        \n        values.get(1).sendKeys(&quot;November&quot;);\n        values.get(1).sendKeys(Keys.TAB);\n        \n        values.get(2).sendKeys(&quot;1995&quot;);\n        values.get(3).sendKeys(Keys.TAB);\n</code></pre>\n"}],"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684467107,"creation_date":1478257240,"question_id":40420990,"body_markdown":"Am not able to click on the month,date, year, hh,mm buttons on the date picker for changing the values. But using the getText method i can read the name of the buttons. \r\n\r\nList&lt;WebElement&gt; allButtons = driver.findElements(By.className(&quot;android.widget.Button&quot;));\r\nSystem.out.println(&quot;previous date is &quot;+allButtons.get(0).getText());\r\nallButtons.get(0).click();\r\n\r\n\r\nJava code and appium not showing any error and the testng testcase passed.\r\nPlease help\r\nNot able to click on the date picker button to change the date using appium and java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rUGi8.png","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>Am not able to click on the month,date, year, hh,mm buttons on the date picker for changing the values. But using the getText method i can read the name of the buttons. </p>\n\n<p>List allButtons = driver.findElements(By.className(\"android.widget.Button\"));\nSystem.out.println(\"previous date is \"+allButtons.get(0).getText());\nallButtons.get(0).click();</p>\n\n<p>Java code and appium not showing any error and the testng testcase passed.\nPlease help\nNot able to click on the date picker button to change the date using appium and java\n<a href=\"https://i.stack.imgur.com/rUGi8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUGi8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-cloud","stack-overflow","feign","openfeign"],"comments":[{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1639675158,"post_id":70375468,"comment_id":124415491,"body_markdown":"Could you please upgrade your dependencies (use latest) and try again?","body":"Could you please upgrade your dependencies (use latest) and try again?"},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1639732135,"post_id":70375468,"comment_id":124428777,"body_markdown":"it doesnot works. - -","body":"it doesnot works. - -"},{"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1639771711,"post_id":70375468,"comment_id":124442656,"body_markdown":"Could you please create a **minimal** sample project on github that reproduces the issue and open a new issue in Sleuth&#39;s repo?","body":"Could you please create a <b>minimal</b> sample project on github that reproduces the issue and open a new issue in Sleuth&#39;s repo?"},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1640178828,"post_id":70375468,"comment_id":124533617,"body_markdown":"Could you have any ideas about this, just make me to reappearance this problem.   I cant reappearance it in my develop environment， it just happened in kubernetes environment. I&#39;m going crazy about this problem.","body":"Could you have any ideas about this, just make me to reappearance this problem.   I cant reappearance it in my develop environment， it just happened in kubernetes environment. I&#39;m going crazy about this problem."},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1640179079,"post_id":70375468,"comment_id":124533740,"body_markdown":"here is my emai mersycle@hotmail.com, it will be nice if i can receive any message from u","body":"here is my emai mersycle@hotmail.com, it will be nice if i can receive any message from u"}],"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684466731,"creation_date":1639640782,"question_id":70375468,"body_markdown":"The test environment service is normal, and there is no such problem. However, such a situation often occurs in the production environment. After GC analysis, it is found that there is no memory problem. This situation still occurs after adjusting the JVM XSS parameters. Does anyone encounter this situation? The following is a complete trace\r\n```\r\njava.lang.RuntimeException: com.netflix.client.ClientException\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\r\n\tat com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient.execute(SeataLoadBalancerFeignClient.java:45)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.executeTraceFeignClient(TraceFeignAspect.java:66)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.feignClientWasCalled(TraceFeignAspect.java:56)\r\n\tat sun.reflect.GeneratedMethodAccessor287.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient$$EnhancerBySpringCGLIB$$21ea282.execute(&lt;generated&gt;)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n\tat feign.hystrix.HystrixInvocationHandler$1.run(HystrixInvocationHandler.java:109)\r\n\tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\r\n\tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\r\n\tat com.alibaba.cloud.seata.feign.hystrix.SeataHystrixConcurrencyStrategy$SeataContextCallable.call(SeataHystrixConcurrencyStrategy.java:163)\r\n\tat org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:71)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\r\n\tat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.netflix.client.ClientException: null\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\r\n\t... 52 common frames omitted\r\nCaused by: org.springframework.retry.RetryException: Could not recover; nested exception is java.lang.StackOverflowError\r\n\tat org.springframework.cloud.client.loadbalancer.LoadBalancedRecoveryCallback.recover(LoadBalancedRecoveryCallback.java:56)\r\n\tat org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512)\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)\r\n\tat org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:92)\r\n\tat org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:52)\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)\r\n\tat rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber$1.call(OperatorRetryWithPredicate.java:127)\r\n\tat rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.enqueue(TrampolineScheduler.java:73)\r\n\tat rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.schedule(TrampolineScheduler.java:52)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:79)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:45)\r\n\tat rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)\r\n\tat rx.Subscriber.setProducer(Subscriber.java:209)\r\n\tat rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)\r\n\tat rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.subscribe(Observable.java:10423)\r\n\tat rx.Observable.subscribe(Observable.java:10390)\r\n\tat rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\r\n\tat rx.observables.BlockingObservable.single(BlockingObservable.java:340)\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\r\n\t... 53 common frames omitted\r\nCaused by: java.lang.StackOverflowError: null\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\tat org.apache.http.impl.BHttpConnectionBase.fillInputBuffer(BHttpConnectionBase.java:342)\r\n\tat org.apache.http.impl.BHttpConnectionBase.isStale(BHttpConnectionBase.java:362)\r\n\tat org.apache.http.impl.conn.CPool.validate(CPool.java:71)\r\n\tat org.apache.http.impl.conn.CPool.validate(CPool.java:45)\r\n\tat org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:256)\r\n\tat org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:198)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.leaseConnection(PoolingHttpClientConnectionManager.java:306)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$1.get(PoolingHttpClientConnectionManager.java:282)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:190)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\r\n\tat com.alibaba.cloud.seata.feign.SeataFeignClient.execute(SeataFeignClient.java:59)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n```","title":"when i use spring-cloud openfeign， oepnfeign error =&gt; com.netflix.client.ClientException","body":"<p>The test environment service is normal, and there is no such problem. However, such a situation often occurs in the production environment. After GC analysis, it is found that there is no memory problem. This situation still occurs after adjusting the JVM XSS parameters. Does anyone encounter this situation? The following is a complete trace</p>\n<pre><code>java.lang.RuntimeException: com.netflix.client.ClientException\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient.execute(SeataLoadBalancerFeignClient.java:45)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.executeTraceFeignClient(TraceFeignAspect.java:66)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.feignClientWasCalled(TraceFeignAspect.java:56)\n    at sun.reflect.GeneratedMethodAccessor287.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient$$EnhancerBySpringCGLIB$$21ea282.execute(&lt;generated&gt;)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.hystrix.HystrixInvocationHandler$1.run(HystrixInvocationHandler.java:109)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\n    at com.alibaba.cloud.seata.feign.hystrix.SeataHystrixConcurrencyStrategy$SeataContextCallable.call(SeataHystrixConcurrencyStrategy.java:163)\n    at org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:71)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\n    at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.netflix.client.ClientException: null\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\n    ... 52 common frames omitted\nCaused by: org.springframework.retry.RetryException: Could not recover; nested exception is java.lang.StackOverflowError\n    at org.springframework.cloud.client.loadbalancer.LoadBalancedRecoveryCallback.recover(LoadBalancedRecoveryCallback.java:56)\n    at org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:92)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:52)\n    at com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber$1.call(OperatorRetryWithPredicate.java:127)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.enqueue(TrampolineScheduler.java:73)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.schedule(TrampolineScheduler.java:52)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:79)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:45)\n    at rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)\n    at rx.Subscriber.setProducer(Subscriber.java:209)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.subscribe(Observable.java:10423)\n    at rx.Observable.subscribe(Observable.java:10390)\n    at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\n    at rx.observables.BlockingObservable.single(BlockingObservable.java:340)\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\n    ... 53 common frames omitted\nCaused by: java.lang.StackOverflowError: null\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.BHttpConnectionBase.fillInputBuffer(BHttpConnectionBase.java:342)\n    at org.apache.http.impl.BHttpConnectionBase.isStale(BHttpConnectionBase.java:362)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:71)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:45)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:256)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:198)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.leaseConnection(PoolingHttpClientConnectionManager.java:306)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$1.get(PoolingHttpClientConnectionManager.java:282)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:190)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\n    at com.alibaba.cloud.seata.feign.SeataFeignClient.execute(SeataFeignClient.java:59)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":5519922,"reputation":60,"user_id":4383248,"display_name":"Denis Rozhko"},"score":0,"creation_date":1684447695,"post_id":76283847,"comment_id":134523124,"body_markdown":"probably schema is created and no update, drop the schema. Add logs to sql to look what is going on","body":"probably schema is created and no update, drop the schema. Add logs to sql to look what is going on"}],"answers":[{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458449,"creation_date":1684458449,"answer_id":76285395,"question_id":76283847,"body_markdown":"I think there is a problem in application.properties file\r\nYou can find some useful things about hbm2ddl in https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=admin\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.schema=public\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true  \r\n    spring.jpa.properties.hibernate.dialect=..\r\n    spring.jpa.open-in-view=true\r\n\r\nNote: when show SQL is true at first check the queries that shows in the console.","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>I think there is a problem in application.properties file\nYou can find some useful things about hbm2ddl in <a href=\"https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\">What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do</a></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.schema=public\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true  \nspring.jpa.properties.hibernate.dialect=..\nspring.jpa.open-in-view=true\n</code></pre>\n<p>Note: when show SQL is true at first check the queries that shows in the console.</p>\n"},{"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684465770,"creation_date":1684465770,"answer_id":76285751,"question_id":76283847,"body_markdown":"Try change:\r\n\r\n    @Table(name = &quot;users&quot;)\r\n\r\nTo:\r\n\r\n    @Table(name = &quot;users&quot;,  schema = &quot;public&quot;, catalog = &quot;quizmenia&quot;)","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>Try change:</p>\n<pre><code>@Table(name = &quot;users&quot;)\n</code></pre>\n<p>To:</p>\n<pre><code>@Table(name = &quot;users&quot;,  schema = &quot;public&quot;, catalog = &quot;quizmenia&quot;)\n</code></pre>\n"}],"owner":{"account_id":20735491,"reputation":158,"user_id":15226447,"display_name":"Harshit Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684465770,"creation_date":1684437661,"question_id":76283847,"body_markdown":"I am trying to generate tables based on entities. The application starts correctly, none of tables are created. What&#39;s wrong?\r\n\r\nI&#39;m using postgre sql version 14 and java 17\r\n\r\nhere is my pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.quizmenia&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;quizmeniaserver&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;quizmeniaserver&lt;/name&gt;\r\n\t&lt;description&gt;quizmenia - Application to host quiz for students, communities etc&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\r\nspring.datasource.username=postgres\r\nspring.datasource.password=admin\r\n\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nspring.datasource.schema=public\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.open-in-view=true\r\n\r\n```\r\n\r\nAs you can see I have the spring.jpa.hibernate.ddl-auto=create-drop line added but the tables are still not being created by the JPA. What is wrong?\r\n\r\nuser entity:\r\n\r\n\r\n```\r\npackage com.quizmenia.quizmeniaserver.model;\r\n\r\nimport java.util.*;\r\nimport javax.persistence.*;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class user {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name=&quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name=&quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name=&quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name=&quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name=&quot;enable&quot;)\r\n    private Boolean enable;\r\n\r\n    @Column(name=&quot;about&quot;)\r\n    private String about;\r\n\r\n    @Column(name=&quot;phone_number&quot;)\r\n    private Integer phoneNumber;\r\n\r\n\r\n    public user() {\r\n        \r\n    }\r\n\r\n\r\n\r\n    public user(Long userId, String firstName, String lastName, String email, String password, Boolean enable,\r\n            String about, Integer phoneNumber) {\r\n        this.userId = userId;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.enable = enable;\r\n        this.about = about;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Long userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Boolean getenable() {\r\n        return enable;\r\n    }\r\n\r\n    public void setenable(Boolean enable) {\r\n        this.enable = enable;\r\n    }\r\n\r\n    public String getAbout() {\r\n        return about;\r\n    }\r\n\r\n    public void setAbout(String about) {\r\n        this.about = about;\r\n    }\r\n\r\n    public Integer getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(Integer phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nfolder structure:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EFbmX.png)](https://i.stack.imgur.com/EFbmX.png)\r\n\r\n","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>I am trying to generate tables based on entities. The application starts correctly, none of tables are created. What's wrong?</p>\n<p>I'm using postgre sql version 14 and java 17</p>\n<p>here is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.quizmenia&lt;/groupId&gt;\n    &lt;artifactId&gt;quizmeniaserver&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;quizmeniaserver&lt;/name&gt;\n    &lt;description&gt;quizmenia - Application to host quiz for students, communities etc&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\n\nspring.jpa.hibernate.ddl-auto=create-drop\n\nspring.datasource.schema=public\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.open-in-view=true\n\n</code></pre>\n<p>As you can see I have the spring.jpa.hibernate.ddl-auto=create-drop line added but the tables are still not being created by the JPA. What is wrong?</p>\n<p>user entity:</p>\n<pre><code>package com.quizmenia.quizmeniaserver.model;\n\nimport java.util.*;\nimport javax.persistence.*;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class user {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(nullable = false)\n    private Long userId;\n\n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @Column(name=&quot;password&quot;)\n    private String password;\n\n    @Column(name=&quot;enable&quot;)\n    private Boolean enable;\n\n    @Column(name=&quot;about&quot;)\n    private String about;\n\n    @Column(name=&quot;phone_number&quot;)\n    private Integer phoneNumber;\n\n\n    public user() {\n        \n    }\n\n\n\n    public user(Long userId, String firstName, String lastName, String email, String password, Boolean enable,\n            String about, Integer phoneNumber) {\n        this.userId = userId;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.enable = enable;\n        this.about = about;\n        this.phoneNumber = phoneNumber;\n    }\n\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Long userId) {\n        this.userId = userId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Boolean getenable() {\n        return enable;\n    }\n\n    public void setenable(Boolean enable) {\n        this.enable = enable;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public Integer getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(Integer phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n}\n</code></pre>\n<p>folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/EFbmX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFbmX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","keycloak"],"comments":[{"owner":{"account_id":10961971,"reputation":5515,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1677619031,"post_id":75594511,"comment_id":133373156,"body_markdown":"You can add custom fields  in [here](https://stackoverflow.com/questions/75530965/how-to-add-programmed-custom-field-to-keycloak-user/75532971#75532971) and search by custom value.","body":"You can add custom fields  in <a href=\"https://stackoverflow.com/questions/75530965/how-to-add-programmed-custom-field-to-keycloak-user/75532971#75532971\">here</a> and search by custom value."}],"answers":[{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684464510,"creation_date":1684464510,"answer_id":76285702,"question_id":75594511,"body_markdown":"Yes you can add attributes in UserRepresentation object like this:\r\n   \r\n    @Autowired\r\n    private final Keycloak keycloak;\r\n    \r\n    public void createUser(UserDTO userDTO){\r\n    UserRepresentation user = new UserRepresentation();\r\n    user.setUsername(userDTO.getUsername());\r\n    user.setEmail(userDTO.getEmailAddress());\r\n    user.setFirstName(userDTO.getFirstName());\r\n    user.setLastName(userDTO.getLastName());\r\n    RealmResource realmResource = keycloak.realm(REALM);\r\n    UsersResource userRessource = realmResource.users();\r\n    Map&lt;String, List&lt;String&gt;&gt; attr = new HashMap&lt;&gt;;// create your attr\r\n    user.setAttributes(attr);\r\n    // Create user\r\n    Response result = userRessource.create(user);\r\n    }\r\n    ","title":"How to add custom fields (attributes) in keycloak","body":"<p>Yes you can add attributes in UserRepresentation object like this:</p>\n<pre><code>@Autowired\nprivate final Keycloak keycloak;\n\npublic void createUser(UserDTO userDTO){\nUserRepresentation user = new UserRepresentation();\nuser.setUsername(userDTO.getUsername());\nuser.setEmail(userDTO.getEmailAddress());\nuser.setFirstName(userDTO.getFirstName());\nuser.setLastName(userDTO.getLastName());\nRealmResource realmResource = keycloak.realm(REALM);\nUsersResource userRessource = realmResource.users();\nMap&lt;String, List&lt;String&gt;&gt; attr = new HashMap&lt;&gt;;// create your attr\nuser.setAttributes(attr);\n// Create user\nResponse result = userRessource.create(user);\n}\n</code></pre>\n"}],"owner":{"account_id":15342581,"reputation":111,"user_id":11069129,"display_name":"Ghassen Jema&#238;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684464510,"creation_date":1677600265,"question_id":75594511,"body_markdown":"I wonder how can I add custom attributes in Keycloak so the user can fill additional fields upon registration rather than using the default ones, also I might have some additional fields that I would need to fill later from my backend service","title":"How to add custom fields (attributes) in keycloak","body":"<p>I wonder how can I add custom attributes in Keycloak so the user can fill additional fields upon registration rather than using the default ones, also I might have some additional fields that I would need to fill later from my backend service</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684251007,"post_id":76264695,"comment_id":134489259,"body_markdown":"`list` is defined in the main method only, for now getToken can&#39;t get access to it, what about passing it as a method parameter ?","body":"<code>list</code> is defined in the main method only, for now getToken can&#39;t get access to it, what about passing it as a method parameter ?"},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1684253703,"post_id":76264695,"comment_id":134489994,"body_markdown":"Don&#39;t use exceptions for flow control. See CsvReader","body":"Don&#39;t use exceptions for flow control. See CsvReader"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684464255,"creation_date":1684464255,"answer_id":76285686,"question_id":76264695,"body_markdown":"You can read a file line-for-line with the `BufferedReader` class.\r\n\r\n```java\r\ntry (BufferedReader reader = new BufferedReader(new FileReader(path))) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    String line;\r\n    while ((line = reader.readLine()) != null)\r\n        list.add(line);\r\n    return list;\r\n}\r\n```\r\n","title":"How would I import each line of text in a CSV text file into an ArrayList&lt;String&gt;?","body":"<p>You can read a file line-for-line with the <code>BufferedReader</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    String line;\n    while ((line = reader.readLine()) != null)\n        list.add(line);\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":28570444,"reputation":1,"user_id":21872757,"display_name":"Kyle Tse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684464255,"creation_date":1684250347,"question_id":76264695,"body_markdown":"I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList &lt;String&gt;. Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are.\r\n\r\nheres the code for the main method:\r\n\r\n```\r\npublic static void main ()\r\n    {\r\n        boolean moreLines = true;\r\n        int numTransactions = 0;\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        try {\r\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\r\n        }\r\n        catch (FileNotFoundException e)\r\n        {\r\n            System.out.println(&quot;File Not Found&quot;);\r\n        } \r\n        \r\n        while (moreLines)\r\n        {\r\n            try\r\n            {\r\n                list.add(s.nextLine());\r\n                numTransactions++;\r\n            }\r\n            \r\n            catch (NullPointerException e)\r\n            {\r\n                moreLines = false;\r\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\r\n            }\r\n            catch (NoSuchElementException e)\r\n            {\r\n                moreLines = false;\r\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\r\n            }\r\n        }\r\n        getTokens()\r\n    }\r\n```\r\nThe getTokens() method is my StringTokenizer method and i need to input every line of text from the CSV file into it using my ArrayList but i dont know how to do that\r\n","title":"How would I import each line of text in a CSV text file into an ArrayList&lt;String&gt;?","body":"<p>I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList . Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are.</p>\n<p>heres the code for the main method:</p>\n<pre><code>public static void main ()\n    {\n        boolean moreLines = true;\n        int numTransactions = 0;\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try {\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\n        }\n        catch (FileNotFoundException e)\n        {\n            System.out.println(&quot;File Not Found&quot;);\n        } \n        \n        while (moreLines)\n        {\n            try\n            {\n                list.add(s.nextLine());\n                numTransactions++;\n            }\n            \n            catch (NullPointerException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n            catch (NoSuchElementException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n        }\n        getTokens()\n    }\n</code></pre>\n<p>The getTokens() method is my StringTokenizer method and i need to input every line of text from the CSV file into it using my ArrayList but i dont know how to do that</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684464045,"creation_date":1684464045,"answer_id":76285677,"question_id":76284593,"body_markdown":"Assuming userRepository is derived from JpaRepository interface, the method signnature is not correct.\r\n\r\nYou have two options:\r\nImplement a custom repository and create the query yourself.\r\nSecond option is to try change the method signature to something like:\r\n\r\n    Optional&lt;User&gt; findByEmailAndCompanyId(String email, Long companyId);","title":"Spring Boot ApplicationConfig UserDetailsService when username is not unique","body":"<p>Assuming userRepository is derived from JpaRepository interface, the method signnature is not correct.</p>\n<p>You have two options:\nImplement a custom repository and create the query yourself.\nSecond option is to try change the method signature to something like:</p>\n<pre><code>Optional&lt;User&gt; findByEmailAndCompanyId(String email, Long companyId);\n</code></pre>\n"}],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76285677,"answer_count":1,"score":0,"last_activity_date":1684464045,"creation_date":1684445083,"question_id":76284593,"body_markdown":"in my application username (email) is not unique. It has to be paired with companyId. The same email can exist in different companies which are all being held in the same database. \r\n\r\nThe problem lies in the Bean initiating the userDetailsService in applicationConfig. Whatever I try to do I get different errors. In the current state it says: &quot;&#39;findByEmail(java.lang.String, java.lang.Long)&#39; in &#39;wmi.inzynierka.repository.UserRepository&#39; cannot be applied to &#39;(&lt; lambda parameter&gt;, &lt; lambda parameter&gt;)&#39;&quot;\r\n\r\n**Application config:**\r\n```\r\n  @Bean\r\n  public CustomUserDetailsService customUserDetailsService() {\r\n    return (username, companyId) -&gt; repository.findByEmail(username, companyId)\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n  }\r\n```\r\n\r\n**userRepository**\r\n```\r\nOptional&lt;User&gt; findByEmail(String email, Long companyId);\r\n```\r\n\r\n***CustomUserDetailsService***\r\n```\r\npublic interface CustomUserDetailsService extends UserDetailsService {\r\n    UserDetails loadUserByUsernameAndCompanyId(String username, Long companyId) throws UsernameNotFoundException;\r\n}\r\n```\r\n\r\nAny ideas how to resolve this issue?","title":"Spring Boot ApplicationConfig UserDetailsService when username is not unique","body":"<p>in my application username (email) is not unique. It has to be paired with companyId. The same email can exist in different companies which are all being held in the same database.</p>\n<p>The problem lies in the Bean initiating the userDetailsService in applicationConfig. Whatever I try to do I get different errors. In the current state it says: &quot;'findByEmail(java.lang.String, java.lang.Long)' in 'wmi.inzynierka.repository.UserRepository' cannot be applied to '(&lt; lambda parameter&gt;, &lt; lambda parameter&gt;)'&quot;</p>\n<p><strong>Application config:</strong></p>\n<pre><code>  @Bean\n  public CustomUserDetailsService customUserDetailsService() {\n    return (username, companyId) -&gt; repository.findByEmail(username, companyId)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n  }\n</code></pre>\n<p><strong>userRepository</strong></p>\n<pre><code>Optional&lt;User&gt; findByEmail(String email, Long companyId);\n</code></pre>\n<p><em><strong>CustomUserDetailsService</strong></em></p>\n<pre><code>public interface CustomUserDetailsService extends UserDetailsService {\n    UserDetails loadUserByUsernameAndCompanyId(String username, Long companyId) throws UsernameNotFoundException;\n}\n</code></pre>\n<p>Any ideas how to resolve this issue?</p>\n"},{"tags":["java","maven","gradle","guava","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":413995,"reputation":28249,"user_id":787968,"accept_rate":25,"display_name":"Rene Groeschke"},"down_vote_count":1,"up_vote_count":76,"is_accepted":true,"score":75,"last_activity_date":1592323521,"creation_date":1433844613,"answer_id":30729087,"question_id":30728533,"body_markdown":"Currently classifiers are not yet taken into account when it comes to *resolutionStrategies*. A workaround for you might excluding the transitive Guava library when declaring your dependencies and adding the Guava `cdi1.0` version explicitly:\r\n\r\n\tdependencies {\r\n\t\tcompile (&quot;org.acme:someDependency:1.0&quot;){\r\n\t\t\texclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n\t\t}\t\t\r\n\t\tcompile &quot;com.google.guava:guava:15.0:cdi1.0&quot;\r\n\t}\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Currently classifiers are not yet taken into account when it comes to <em>resolutionStrategies</em>. A workaround for you might excluding the transitive Guava library when declaring your dependencies and adding the Guava <code>cdi1.0</code> version explicitly:</p>\n\n<pre><code>dependencies {\n    compile (\"org.acme:someDependency:1.0\"){\n        exclude group: 'com.google.guava', module: 'guava'\n    }       \n    compile \"com.google.guava:guava:15.0:cdi1.0\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769821,"reputation":8891,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1483804767,"creation_date":1483804767,"answer_id":41523344,"question_id":30728533,"body_markdown":"This will not work if the same dependency is pointed by some other jar. Sureshot way to exclude the dependency\r\n\r\n    configurations {\r\n     all*.exclude group: &#39;com.google.guava&#39;, module:&#39;guava-jdk5&#39;\r\n    }","title":"Gradle: Override transitive dependency by version classifier","body":"<p>This will not work if the same dependency is pointed by some other jar. Sureshot way to exclude the dependency</p>\n\n<pre><code>configurations {\n all*.exclude group: 'com.google.guava', module:'guava-jdk5'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52828,"reputation":1372,"user_id":157924,"accept_rate":40,"display_name":"Sobvan"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1508897215,"creation_date":1506340515,"answer_id":46404627,"question_id":30728533,"body_markdown":"I came across a more elegant approach which is simply:\r\n\r\n    compile (&quot;com.google.guava:guava:15.0:cdi1.0&quot;) {\r\n      force = true\r\n    }\r\n\r\n###Explanation\r\nSetting `force = true` for a dependency tells gradle to use the specified version in case of a version conflict\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>I came across a more elegant approach which is simply:</p>\n\n<pre><code>compile (\"com.google.guava:guava:15.0:cdi1.0\") {\n  force = true\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>Setting <code>force = true</code> for a dependency tells gradle to use the specified version in case of a version conflict</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518289781,"creation_date":1518288789,"answer_id":48724412,"question_id":30728533,"body_markdown":"Gradle 4.5.1 has the function [DependencySubstitutions](https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.DependencySubstitutions.html). Here an example to replace a dependency:\r\n\r\n    configurations.each {\r\n        c -&gt; c.resolutionStrategy.dependencySubstitution {\r\n            all { DependencySubstitution dependency -&gt;\r\n                if (dependency.requested.group == &#39;org.json&#39;) {\r\n                    dependency.useTarget &#39;com.vaadin.external.google:android-json:0.0.20131108.vaadin1&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Gradle 4.5.1 has the function <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.DependencySubstitutions.html\" rel=\"noreferrer\">DependencySubstitutions</a>. Here an example to replace a dependency:</p>\n\n<pre><code>configurations.each {\n    c -&gt; c.resolutionStrategy.dependencySubstitution {\n        all { DependencySubstitution dependency -&gt;\n            if (dependency.requested.group == 'org.json') {\n                dependency.useTarget 'com.vaadin.external.google:android-json:0.0.20131108.vaadin1'\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8270852,"reputation":1497,"user_id":6218555,"accept_rate":92,"display_name":"uptoyou"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585916294,"creation_date":1585916294,"answer_id":61011778,"question_id":30728533,"body_markdown":"Since `force = true` is deprecated, relevant solution is to use `strictly(...)` version, e.g.:\r\n\r\n```code\r\ndependencies {\r\n    // no need to exclude transitive spring-data-relational from this dependency\r\n    implementation(&quot;org.springframework.data&quot;, &quot;spring-data-r2dbc&quot;, &quot;1.1.0.RC1&quot;)\r\n\r\n    implementation(&quot;org.springframework.data&quot;, &quot;spring-data-relational&quot;).version {\r\n        strictly(&quot;2.0.0.RC1&quot;)\r\n    }\r\n}\r\n```\r\n\r\nP.S. tested on Gradle 6.3","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Since <code>force = true</code> is deprecated, relevant solution is to use <code>strictly(...)</code> version, e.g.:</p>\n\n<pre><code>dependencies {\n    // no need to exclude transitive spring-data-relational from this dependency\n    implementation(\"org.springframework.data\", \"spring-data-r2dbc\", \"1.1.0.RC1\")\n\n    implementation(\"org.springframework.data\", \"spring-data-relational\").version {\n        strictly(\"2.0.0.RC1\")\n    }\n}\n</code></pre>\n\n<p>P.S. tested on Gradle 6.3</p>\n"},{"tags":[],"owner":{"account_id":1236539,"reputation":778,"user_id":1200024,"display_name":"Pravanjan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1605798745,"creation_date":1605798745,"answer_id":64914507,"question_id":30728533,"body_markdown":"    implementation( group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;){\r\n          version{\r\n            strictly &quot;[1.15]&quot;\r\n          }\r\n       }\r\nThis works for me with gradle 6.6.1\r\n\r\nThe documentation link for  strictly can found here [https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints][1]   \r\n\r\n  [1]: https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints","title":"Gradle: Override transitive dependency by version classifier","body":"<pre><code>implementation( group: 'commons-codec', name: 'commons-codec'){\n      version{\n        strictly &quot;[1.15]&quot;\n      }\n   }\n</code></pre>\n<p>This works for me with gradle 6.6.1</p>\n<p>The documentation link for  strictly can found here <a href=\"https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints</a></p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651117940,"creation_date":1651117940,"answer_id":72037844,"question_id":30728533,"body_markdown":"Try this:\r\n```\r\nconfigurations.all {\r\n\tresolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n\r\n\t\t// https://docs.gradle.org/current/userguide/resolution_rules.html\r\n\t\tif (details.requested.group == &#39;com.google.guava&#39; &amp;&amp; details.requested.name == &#39;guava&#39;) {\r\n\t\t\tdetails.useVersion &#39;15.0:cdi1.0&#39;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Try this:</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n\n        // https://docs.gradle.org/current/userguide/resolution_rules.html\n        if (details.requested.group == 'com.google.guava' &amp;&amp; details.requested.name == 'guava') {\n            details.useVersion '15.0:cdi1.0'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17096091,"reputation":141,"user_id":12371049,"display_name":"Asif Mehmood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676467804,"creation_date":1676467804,"answer_id":75460516,"question_id":30728533,"body_markdown":"try this its working perfectly  in my case in App level in  build.gradle file \r\n\r\n\r\n    android {\r\n    configurations {\r\n        all*.exclude module: &#39;conceal&#39;\r\n\r\n        all*.exclude module: &#39;bcprov-jdk15on&#39;\r\n        }\r\n    }   \r\n\r\n    \r\n\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>try this its working perfectly  in my case in App level in  build.gradle file</p>\n<pre><code>android {\nconfigurations {\n    all*.exclude module: 'conceal'\n\n    all*.exclude module: 'bcprov-jdk15on'\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14062814,"reputation":1724,"user_id":10158398,"display_name":"Zhou Haibo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684463712,"creation_date":1684463712,"answer_id":76285660,"question_id":30728533,"body_markdown":"I fix it by exclude `org.bouncycastle` from the module which causes this duplicate error.\r\n\r\n**build.gradle(:app)**\r\n\r\n```\r\nimplementation(project(Modules.yourModuleName)) {\r\n    exclude group: &#39;org.bouncycastle&#39;\r\n}\r\n```","title":"Gradle: Override transitive dependency by version classifier","body":"<p>I fix it by exclude <code>org.bouncycastle</code> from the module which causes this duplicate error.</p>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>implementation(project(Modules.yourModuleName)) {\n    exclude group: 'org.bouncycastle'\n}\n</code></pre>\n"}],"owner":{"account_id":3241392,"reputation":1682,"user_id":2734342,"accept_rate":27,"display_name":"dinup24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81542,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":30729087,"answer_count":9,"score":69,"last_activity_date":1684463712,"creation_date":1433843068,"question_id":30728533,"body_markdown":"One of the dependencies declared in my project has a transitive dependency on `&#39;com.google.guava:guava:15.0&#39;`. But my application deployed on WAS/Weblogic doesn&#39;t work due to a CDI issue which has been fixed in `&#39;com.google.guava:guava:15.0:cdi1.0&#39;`. (same version, but with classifier) I need to tell gradle to use this jar during build and packaging. I am trying to figure out how we can override this transitive dependency with a jar specific version classifier.\r\n\r\nTried the following approaches:\r\n\r\n 1. Added the dependency explicitly: `compile &#39;com.google.guava:guava:15.0:cdi1.0&#39;`. But both jars got included in the resultant WAR.\r\n 2. Added the dependency explicitly and defined a resolution strategy:\r\n\r\n        configurations.all {\r\n            resolutionStrategy {\r\n\t            force &#39;com.google.guava:guava:15.0:cdi1.0&#39;\r\n            }\r\n        }\r\nEven this didn&#39;t work.\r\n\r\n 3. Defined a resolution strategy to check and change the version.\r\n\r\n        configurations.all {\r\n             resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n    \t\t     if (details.requested.group + &quot;:&quot; + details.requested.name == &#39;com.google.guava:guava&#39;) {\r\n    \t            details.useVersion &quot;15.0:cdi1.0&quot;\r\n    \t            //details.useTarget &quot;com.google.guava:guava:15.0:cdi1.0&quot;\r\n    \t        }\r\n    \t    }\r\n        }\r\nEven this didn&#39;t work.\r\n\r\nNeed your suggestions on how this issue can be tackled.","title":"Gradle: Override transitive dependency by version classifier","body":"<p>One of the dependencies declared in my project has a transitive dependency on <code>'com.google.guava:guava:15.0'</code>. But my application deployed on WAS/Weblogic doesn't work due to a CDI issue which has been fixed in <code>'com.google.guava:guava:15.0:cdi1.0'</code>. (same version, but with classifier) I need to tell gradle to use this jar during build and packaging. I am trying to figure out how we can override this transitive dependency with a jar specific version classifier.</p>\n<p>Tried the following approaches:</p>\n<ol>\n<li><p>Added the dependency explicitly: <code>compile 'com.google.guava:guava:15.0:cdi1.0'</code>. But both jars got included in the resultant WAR.</p>\n</li>\n<li><p>Added the dependency explicitly and defined a resolution strategy:</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'com.google.guava:guava:15.0:cdi1.0'\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<ol start=\"3\">\n<li><p>Defined a resolution strategy to check and change the version.</p>\n<pre><code>configurations.all {\n     resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n         if (details.requested.group + &quot;:&quot; + details.requested.name == 'com.google.guava:guava') {\n            details.useVersion &quot;15.0:cdi1.0&quot;\n            //details.useTarget &quot;com.google.guava:guava:15.0:cdi1.0&quot;\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<p>Need your suggestions on how this issue can be tackled.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1386285409,"post_id":20412445,"comment_id":30486161,"body_markdown":"In all my TableViews you just click the header to reorder by that column.  You may have to write a custom comparator for some things.  If you mean dragging the columns to new positions, that works as well.","body":"In all my TableViews you just click the header to reorder by that column.  You may have to write a custom comparator for some things.  If you mean dragging the columns to new positions, that works as well."},{"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"score":0,"creation_date":1386294120,"post_id":20412445,"comment_id":30488938,"body_markdown":"@brian I updated it to be clearer. I meant drag to reorder the table ROWS","body":"@brian I updated it to be clearer. I meant drag to reorder the table ROWS"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1684463232,"creation_date":1386323152,"answer_id":20420711,"question_id":20412445,"body_markdown":"Here is some code to re-order rows in a ListView by dragging the rows.  \r\n\r\nDrag the birds to re-order them.\r\n\r\n![birds][1]\r\n\r\nImplementation for a TableView would be somewhat similar.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.*;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class ListOrganizer extends Application {\r\n        private static final String PREFIX =\r\n                &quot;http://icons.iconarchive.com/icons/jozef89/origami-birds/72/bird&quot;;\r\n    \r\n        private static final String SUFFIX =\r\n                &quot;-icon.png&quot;;\r\n    \r\n        private static final ObservableList&lt;String&gt; birds = FXCollections.observableArrayList(\r\n                &quot;-black&quot;,\r\n                &quot;-blue&quot;,\r\n                &quot;-red&quot;,\r\n                &quot;-red-2&quot;,\r\n                &quot;-yellow&quot;,\r\n                &quot;s-green&quot;,\r\n                &quot;s-green-2&quot;\r\n        );\r\n    \r\n        private static final ObservableList&lt;Image&gt; birdImages = FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            birds.forEach(bird -&gt; birdImages.add(new Image(PREFIX + bird + SUFFIX)));\r\n    \r\n            ListView&lt;String&gt; birdList = new ListView&lt;&gt;(birds);\r\n            birdList.setCellFactory(param -&gt; new BirdCell());\r\n            birdList.setPrefWidth(180);\r\n    \r\n            VBox layout = new VBox(birdList);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(ListOrganizer.class);\r\n        }\r\n    \r\n        private class BirdCell extends ListCell&lt;String&gt; {\r\n            private final ImageView imageView = new ImageView();\r\n    \r\n            public BirdCell() {\r\n                ListCell thisCell = this;\r\n    \r\n                setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n                setAlignment(Pos.CENTER);\r\n    \r\n                setOnDragDetected(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    ObservableList&lt;String&gt; items = getListView().getItems();\r\n    \r\n                    Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\r\n                    ClipboardContent content = new ClipboardContent();\r\n                    content.putString(getItem());\r\n                    dragboard.setDragView(\r\n                        birdImages.get(\r\n                            items.indexOf(\r\n                                getItem()\r\n                            )\r\n                        )\r\n                    );\r\n                    dragboard.setContent(content);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragOver(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                           event.getDragboard().hasString()) {\r\n                        event.acceptTransferModes(TransferMode.MOVE);\r\n                    }\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragEntered(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasString()) {\r\n                        setOpacity(0.3);\r\n                    }\r\n                });\r\n    \r\n                setOnDragExited(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasString()) {\r\n                        setOpacity(1);\r\n                    }\r\n                });\r\n    \r\n                setOnDragDropped(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard db = event.getDragboard();\r\n                    boolean success = false;\r\n    \r\n                    if (db.hasString()) {\r\n                        ObservableList&lt;String&gt; items = getListView().getItems();\r\n                        int draggedIdx = items.indexOf(db.getString());\r\n                        int thisIdx = items.indexOf(getItem());\r\n    \r\n                        Image temp = birdImages.get(draggedIdx);\r\n                        birdImages.set(draggedIdx, birdImages.get(thisIdx));\r\n                        birdImages.set(thisIdx, temp);\r\n    \r\n                        items.set(draggedIdx, getItem());\r\n                        items.set(thisIdx, db.getString());\r\n    \r\n                        List&lt;String&gt; itemscopy = new ArrayList&lt;&gt;(getListView().getItems());\r\n                        getListView().getItems().setAll(itemscopy);\r\n    \r\n                        success = true;\r\n                    }\r\n                    event.setDropCompleted(success);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragDone(DragEvent::consume);\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(String item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n    \r\n                if (empty || item == null) {\r\n                    setGraphic(null);\r\n                } else {\r\n                    imageView.setImage(\r\n                        birdImages.get(\r\n                            getListView().getItems().indexOf(item)\r\n                        )\r\n                    );\r\n                    setGraphic(imageView);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Iconset Homepage: http://jozef89.deviantart.com/art/Origami-Birds-400642253\r\n        // License: CC Attribution-Noncommercial-No Derivate 3.0\r\n        // Commercial usage: Not allowed    \r\n    \r\n    }\r\n\r\nRelated:\r\n\r\n * [Draggable list using a custom data type](https://stackoverflow.com/a/76285625/1155209).\r\n\r\n  [1]: http://i.stack.imgur.com/mOMb4.png","title":"How to create a reorder-able TableView in JavaFx","body":"<p>Here is some code to re-order rows in a ListView by dragging the rows.</p>\n<p>Drag the birds to re-order them.</p>\n<p><img src=\"https://i.stack.imgur.com/mOMb4.png\" alt=\"birds\" /></p>\n<p>Implementation for a TableView would be somewhat similar.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.*;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.image.*;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.*;\n\npublic class ListOrganizer extends Application {\n    private static final String PREFIX =\n            &quot;http://icons.iconarchive.com/icons/jozef89/origami-birds/72/bird&quot;;\n\n    private static final String SUFFIX =\n            &quot;-icon.png&quot;;\n\n    private static final ObservableList&lt;String&gt; birds = FXCollections.observableArrayList(\n            &quot;-black&quot;,\n            &quot;-blue&quot;,\n            &quot;-red&quot;,\n            &quot;-red-2&quot;,\n            &quot;-yellow&quot;,\n            &quot;s-green&quot;,\n            &quot;s-green-2&quot;\n    );\n\n    private static final ObservableList&lt;Image&gt; birdImages = FXCollections.observableArrayList();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        birds.forEach(bird -&gt; birdImages.add(new Image(PREFIX + bird + SUFFIX)));\n\n        ListView&lt;String&gt; birdList = new ListView&lt;&gt;(birds);\n        birdList.setCellFactory(param -&gt; new BirdCell());\n        birdList.setPrefWidth(180);\n\n        VBox layout = new VBox(birdList);\n        layout.setPadding(new Insets(10));\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(ListOrganizer.class);\n    }\n\n    private class BirdCell extends ListCell&lt;String&gt; {\n        private final ImageView imageView = new ImageView();\n\n        public BirdCell() {\n            ListCell thisCell = this;\n\n            setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n            setAlignment(Pos.CENTER);\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                ObservableList&lt;String&gt; items = getListView().getItems();\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n                content.putString(getItem());\n                dragboard.setDragView(\n                    birdImages.get(\n                        items.indexOf(\n                            getItem()\n                        )\n                    )\n                );\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                       event.getDragboard().hasString()) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasString()) {\n                    ObservableList&lt;String&gt; items = getListView().getItems();\n                    int draggedIdx = items.indexOf(db.getString());\n                    int thisIdx = items.indexOf(getItem());\n\n                    Image temp = birdImages.get(draggedIdx);\n                    birdImages.set(draggedIdx, birdImages.get(thisIdx));\n                    birdImages.set(thisIdx, temp);\n\n                    items.set(draggedIdx, getItem());\n                    items.set(thisIdx, db.getString());\n\n                    List&lt;String&gt; itemscopy = new ArrayList&lt;&gt;(getListView().getItems());\n                    getListView().getItems().setAll(itemscopy);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n\n            if (empty || item == null) {\n                setGraphic(null);\n            } else {\n                imageView.setImage(\n                    birdImages.get(\n                        getListView().getItems().indexOf(item)\n                    )\n                );\n                setGraphic(imageView);\n            }\n        }\n    }\n\n    // Iconset Homepage: http://jozef89.deviantart.com/art/Origami-Birds-400642253\n    // License: CC Attribution-Noncommercial-No Derivate 3.0\n    // Commercial usage: Not allowed    \n\n}\n</code></pre>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76285625/1155209\">Draggable list using a custom data type</a>.</li>\n</ul>\n"}],"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8456,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":20420711,"answer_count":1,"score":9,"last_activity_date":1684463232,"creation_date":1386283885,"question_id":20412445,"body_markdown":"I have a JavaFx `TableView`. I&#39;d like to allow the user to click and drag to reorder the table rows. I can&#39;t seem to find any way to do this, but it seems like a pretty common thing in GUIs. ","title":"How to create a reorder-able TableView in JavaFx","body":"<p>I have a JavaFx <code>TableView</code>. I'd like to allow the user to click and drag to reorder the table rows. I can't seem to find any way to do this, but it seems like a pretty common thing in GUIs. </p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1684447482,"post_id":76284734,"comment_id":134523093,"body_markdown":"Individually, probably not. What might be better is to have a factory or builder which can produce a `JPopupMenu` which you have control of, from which you can then monitor yourself","body":"Individually, probably not. What might be better is to have a factory or builder which can produce a <code>JPopupMenu</code> which you have control of, from which you can then monitor yourself"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684448168,"creation_date":1684447843,"answer_id":76284793,"question_id":76284734,"body_markdown":"This may sound esoteric, but there are a number of tools that modify Java code on the fly. Think of breakpoints or instrumentation aiming at test coverage reports or profiling.\r\n\r\nWhat you might want to discover is whenever [MouseEvent.isPopupTrigger()][1] returns true, or even better whenever [JPopupMenu.show()][2] is called.\r\n\r\nUnfortunately I have never tried something like this myself, and am wondering whether these links might contain a starting point:\r\n- [Apache Commons BCEL][3]\r\n- [Mockito][4]\r\n- [java.lang.instrumentation][5]\r\n- https://stackoverflow.com/questions/10659610/how-to-instrument-java-methods\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/MouseEvent.html#isPopupTrigger()\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\r\n  [3]: https://commons.apache.org/proper/commons-bcel/\r\n  [4]: https://site.mockito.org/\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/instrumentation/index.html","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>This may sound esoteric, but there are a number of tools that modify Java code on the fly. Think of breakpoints or instrumentation aiming at test coverage reports or profiling.</p>\n<p>What you might want to discover is whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/MouseEvent.html#isPopupTrigger()\" rel=\"nofollow noreferrer\">MouseEvent.isPopupTrigger()</a> returns true, or even better whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">JPopupMenu.show()</a> is called.</p>\n<p>Unfortunately I have never tried something like this myself, and am wondering whether these links might contain a starting point:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">Apache Commons BCEL</a></li>\n<li><a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/instrumentation/index.html\" rel=\"nofollow noreferrer\">java.lang.instrumentation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10659610/how-to-instrument-java-methods\">How to instrument java methods?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684463212,"creation_date":1684453738,"answer_id":76285160,"question_id":76284734,"body_markdown":"It seems like focus is given to the `JRootPane` whenever a `JPopupMenu` is shown. You can listen for this event by using a `KeyboardFocusManager`:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.beans.*;\r\n    \r\n    public class PopupListener extends JPanel\r\n    {\r\n    \tJPopupMenu menu;\r\n    \r\n    \tpublic PopupListener()\r\n    \t{\r\n    \t\tmenu = new JPopupMenu();\r\n    \t\tmenu.add( new JMenuItem( &quot;Cut&quot; ) );\r\n    \t\tmenu.add( new JMenuItem( &quot;Copy&quot; ) );\r\n    \t\tmenu.add( new JMenuItem( &quot;Paste&quot; ) );\r\n    \r\n    \t\tMouseListener ml = new MouseAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void mouseReleased(MouseEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif (e.isPopupTrigger())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmenu.show(e.getComponent(), e.getX(), e.getY());\r\n    \t\t\t\t\tmenu.setInvoker( e.getComponent() );\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\taddMouseListener( ml );\r\n    \r\n    \t\tJButton button = new JButton( &quot;Button&quot; );\r\n    \t\tbutton.setComponentPopupMenu( menu );\r\n    \t\t//button.addMouseListener( ml );\r\n    \t\tadd(button);\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;PopupListener&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(new PopupListener());\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(400, 400);\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \r\n    \t\tKeyboardFocusManager.getCurrentKeyboardFocusManager()\r\n    \t\t    .addPropertyChangeListener(&quot;focusOwner&quot;, new PropertyChangeListener()\r\n    \t\t{\r\n    \t\t    public void propertyChange(final PropertyChangeEvent e)\r\n    \t\t    {\r\n    \t\t\t\tContainer container = (Container)e.getNewValue();\r\n    \r\n    \t\t\t\tif (container != null\r\n    \t\t\t\t&amp;&amp;  container instanceof JRootPane)\r\n    \t\t\t\t{\r\n    \t\t\t    \tSystem.out.println( &quot;Popup Shown&quot; );\r\n    \t\t\t\t}\r\n    \t\t    }\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\nDon&#39;t know if this is the only event that will give focus to the root pane.\r\n\r\nSo, a more complete check might be to see if a `JPopupMenu` component has been added to the `JRootPane`.\r\n\r\nThis can be done by using the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class and replacing the above edit with:\r\n\r\n\tif (container != null\r\n\t&amp;&amp;  SwingUtils.getDescendantsOfType(JPopupMenu.class, container, true).size() != 0)\r\n\t{\r\n    \tSystem.out.println( &quot;JPopupMenu found&quot; );\r\n\t}\r\n\r\n","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>It seems like focus is given to the <code>JRootPane</code> whenever a <code>JPopupMenu</code> is shown. You can listen for this event by using a <code>KeyboardFocusManager</code>:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.beans.*;\n\npublic class PopupListener extends JPanel\n{\n    JPopupMenu menu;\n\n    public PopupListener()\n    {\n        menu = new JPopupMenu();\n        menu.add( new JMenuItem( &quot;Cut&quot; ) );\n        menu.add( new JMenuItem( &quot;Copy&quot; ) );\n        menu.add( new JMenuItem( &quot;Paste&quot; ) );\n\n        MouseListener ml = new MouseAdapter()\n        {\n            public void mouseReleased(MouseEvent e)\n            {\n                if (e.isPopupTrigger())\n                {\n                    menu.show(e.getComponent(), e.getX(), e.getY());\n                    menu.setInvoker( e.getComponent() );\n                }\n            }\n        };\n\n        addMouseListener( ml );\n\n        JButton button = new JButton( &quot;Button&quot; );\n        button.setComponentPopupMenu( menu );\n        //button.addMouseListener( ml );\n        add(button);\n    }\n\n    private static void createAndShowGUI()\n    {\n        JFrame frame = new JFrame(&quot;PopupListener&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new PopupListener());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(400, 400);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n\n        KeyboardFocusManager.getCurrentKeyboardFocusManager()\n            .addPropertyChangeListener(&quot;focusOwner&quot;, new PropertyChangeListener()\n        {\n            public void propertyChange(final PropertyChangeEvent e)\n            {\n                Container container = (Container)e.getNewValue();\n\n                if (container != null\n                &amp;&amp;  container instanceof JRootPane)\n                {\n                    System.out.println( &quot;Popup Shown&quot; );\n                }\n            }\n        });\n    }\n\n    public static void main(String[] args)\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n<p>Don't know if this is the only event that will give focus to the root pane.</p>\n<p>So, a more complete check might be to see if a <code>JPopupMenu</code> component has been added to the <code>JRootPane</code>.</p>\n<p>This can be done by using the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class and replacing the above edit with:</p>\n<pre><code>if (container != null\n&amp;&amp;  SwingUtils.getDescendantsOfType(JPopupMenu.class, container, true).size() != 0)\n{\n    System.out.println( &quot;JPopupMenu found&quot; );\n}\n</code></pre>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285160,"answer_count":2,"score":1,"last_activity_date":1684463212,"creation_date":1684447094,"question_id":76284734,"body_markdown":"I want to log every time any `JPopupMenu` is shown (visible).\r\n\r\nI tried to catch via AWT Events, but `MouseEvent` does not provide `JPopupMenu` due `JPopupMenu` might still be generating and not yet visible\r\n\r\nI wonder if there some trick so I can catch when any `JPopupMenu` is shown without adding listeners to each `JPopupMenu` currently used in an App","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>I want to log every time any <code>JPopupMenu</code> is shown (visible).</p>\n<p>I tried to catch via AWT Events, but <code>MouseEvent</code> does not provide <code>JPopupMenu</code> due <code>JPopupMenu</code> might still be generating and not yet visible</p>\n<p>I wonder if there some trick so I can catch when any <code>JPopupMenu</code> is shown without adding listeners to each <code>JPopupMenu</code> currently used in an App</p>\n"},{"tags":["java","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684241438,"post_id":76262770,"comment_id":134486454,"body_markdown":"Wild guess... may need to add &quot;OPTIONS&quot; in allowed methods","body":"Wild guess... may need to add &quot;OPTIONS&quot; in allowed methods"}],"answers":[{"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684242996,"creation_date":1684242996,"answer_id":76263474,"question_id":76262770,"body_markdown":"No need to implement the CORS filter by yourself. \r\n\r\nSpringBoot has everything ready, you just need to pass the configuration.\r\n\r\n```\r\n@Configuration\r\npublic class WebMvcConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(mapping)\r\n                .allowedHeaders(allowedHeaders) // *\r\n                .exposedHeaders(exposedHeaders) // *\r\n                .allowedMethods(allowedMethods) // *\r\n                .allowedOrigins(allowedOrigins) // *\r\n                .allowCredentials(allowedCredentials);  // false\r\n    }\r\n...\r\n}\r\n```","title":"CORS Spring Boot","body":"<p>No need to implement the CORS filter by yourself.</p>\n<p>SpringBoot has everything ready, you just need to pass the configuration.</p>\n<pre><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(mapping)\n                .allowedHeaders(allowedHeaders) // *\n                .exposedHeaders(exposedHeaders) // *\n                .allowedMethods(allowedMethods) // *\n                .allowedOrigins(allowedOrigins) // *\n                .allowCredentials(allowedCredentials);  // false\n    }\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15808222,"reputation":1,"user_id":11406165,"display_name":"pramod sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684246555,"creation_date":1684246555,"answer_id":76264099,"question_id":76262770,"body_markdown":"    @Configuration\r\n    class CorsConfiguration {\r\n        @Bean\r\n        fun corsConfigurer(): WebMvcConfigurer {\r\n            return object : WebMvcConfigurer {\r\n                override fun addCorsMappings(registry: CorsRegistry) {\r\n                    registry\r\n                        .addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;*&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\r\n                }\r\n            }\r\n        }\r\n    }","title":"CORS Spring Boot","body":"<pre><code>@Configuration\nclass CorsConfiguration {\n    @Bean\n    fun corsConfigurer(): WebMvcConfigurer {\n        return object : WebMvcConfigurer {\n            override fun addCorsMappings(registry: CorsRegistry) {\n                registry\n                    .addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;*&quot;)\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684432559,"creation_date":1684432559,"answer_id":76283335,"question_id":76262770,"body_markdown":"Fix it, add bean with configuration\r\n\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\r\n            return http\r\n                    .cors().configurationSource(request -&gt; {\r\n                        final CorsConfiguration cors = new CorsConfiguration();\r\n                        cors.setAllowedOrigins(List.of(&quot;*&quot;));\r\n                        cors.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;HEAD&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                        cors.setAllowedHeaders(List.of(&quot;Origin&quot;, &quot;Accept&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Authorization&quot;));\r\n                        cors.setExposedHeaders(List.of(&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Authorization&quot;));\r\n                        return cors;\r\n                    })\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .authorizeHttpRequests((requests) -&gt; requests\r\n                            .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/opinions&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/login&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/merchant_queries&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(tokenAuthorizationFilter, SecurityContextHolderAwareRequestFilter.class)\r\n                    .build();\r\n        }","title":"CORS Spring Boot","body":"<p>Fix it, add bean with configuration</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\n        return http\n                .cors().configurationSource(request -&gt; {\n                    final CorsConfiguration cors = new CorsConfiguration();\n                    cors.setAllowedOrigins(List.of(&quot;*&quot;));\n                    cors.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;HEAD&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n                    cors.setAllowedHeaders(List.of(&quot;Origin&quot;, &quot;Accept&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Authorization&quot;));\n                    cors.setExposedHeaders(List.of(&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Authorization&quot;));\n                    return cors;\n                })\n                .and()\n                .csrf().disable()\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/opinions&quot;).permitAll()\n                        .mvcMatchers(&quot;/login&quot;).permitAll()\n                        .mvcMatchers(&quot;/merchant_queries&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(tokenAuthorizationFilter, SecurityContextHolderAwareRequestFilter.class)\n                .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684460048,"creation_date":1684460048,"answer_id":76285472,"question_id":76262770,"body_markdown":"The simplest solution is adding @CrossOrigin(&quot;*&quot;) up to your controller","title":"CORS Spring Boot","body":"<p>The simplest solution is adding @CrossOrigin(&quot;*&quot;) up to your controller</p>\n"}],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1684463148,"creation_date":1684238201,"question_id":76262770,"body_markdown":"i have problem with cors, when i call to api without header authorization i get back success data, but when i call to endpoint authorized by token, and i add header i get an error like this:\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/merchants&#39; from origin `&#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.`\r\n\r\nMy cors filter:\r\n\r\n    package com.kompan.security.filter;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class CorsFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n                                        final FilterChain filterChain) throws ServletException, IOException {\r\n            response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Authorization&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"CORS Spring Boot","body":"<p>i have problem with cors, when i call to api without header authorization i get back success data, but when i call to endpoint authorized by token, and i add header i get an error like this:\nAccess to XMLHttpRequest at 'http://localhost:8080/merchants' from origin <code>'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p>My cors filter:</p>\n<pre><code>package com.kompan.security.filter;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class CorsFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n                                    final FilterChain filterChain) throws ServletException, IOException {\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1684454266,"post_id":76285176,"comment_id":134523843,"body_markdown":"Are there any other activation conditions other than the os?","body":"Are there any other activation conditions other than the os?"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1684454450,"post_id":76285176,"comment_id":134523863,"body_markdown":"Also, is your colleague using WSL by any chance? What&#39;s the output of `mvn enforcer:display-info` in his machine?","body":"Also, is your colleague using WSL by any chance? What&#39;s the output of <code>mvn enforcer:display-info</code> in his machine?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1684455610,"post_id":76285176,"comment_id":134523963,"body_markdown":"Despite the fact that I&#39;m not showing the entire pom.xml, I did show the entire start of the profiles block, that shows the only activation conditions. I&#39;ll queue up a request for him to run that mvn command, and I&#39;ll inspect the output and compare it with mine. Oh, looking at the output of that, I already have that. I&#39;ll update the post with that. He is not using WSL.","body":"Despite the fact that I&#39;m not showing the entire pom.xml, I did show the entire start of the profiles block, that shows the only activation conditions. I&#39;ll queue up a request for him to run that mvn command, and I&#39;ll inspect the output and compare it with mine. Oh, looking at the output of that, I already have that. I&#39;ll update the post with that. He is not using WSL."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684458745,"post_id":76285176,"comment_id":134524226,"body_markdown":"Find that bit of code in maven and put a breakpoint there.","body":"Find that bit of code in maven and put a breakpoint there."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684462884,"creation_date":1684462884,"answer_id":76285606,"question_id":76285176,"body_markdown":"The issue seems that his slightly newer version of JDK actually reports the correct version of the operating system. According to Java [bug report JDK-8274737][1] that was fixed in version 11.0.13 and included in the [release notes][2] but the version that you are using for some reason doesn&#39;t seem to contain the fix and it is mentioned again in the [release notes of Java 11.0.1][3]4. Since that is the only apparent difference you should try with a newer version of Java 11.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8274737\r\n  [2]: https://www.oracle.com/java/technologies/javase/11-0-13-relnotes.html\r\n  [3]: https://www.oracle.com/java/technologies/javase/11-0-14-relnotes.html","title":"Why are builds from one developer not evaluating the Maven profile activation expression properly?","body":"<p>The issue seems that his slightly newer version of JDK actually reports the correct version of the operating system. According to Java <a href=\"https://bugs.openjdk.org/browse/JDK-8274737\" rel=\"nofollow noreferrer\">bug report JDK-8274737</a> that was fixed in version 11.0.13 and included in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-13-relnotes.html\" rel=\"nofollow noreferrer\">release notes</a> but the version that you are using for some reason doesn't seem to contain the fix and it is mentioned again in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-14-relnotes.html\" rel=\"nofollow noreferrer\">release notes of Java 11.0.1</a>4. Since that is the only apparent difference you should try with a newer version of Java 11.</p>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684462884,"creation_date":1684453961,"question_id":76285176,"body_markdown":"I work on the platform for a large number of Maven-built services.  Quite a few of them have a construct like this:\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;local&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;local&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n\t\t\t\t&lt;skipITs&gt;true&lt;/skipITs&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\r\n\t\t\t\t&lt;skipITs&gt;false&lt;/skipITs&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;os&gt;\r\n\t\t\t\t\t&lt;family&gt;!windows&lt;/family&gt;\r\n\t\t\t\t&lt;/os&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\r\nFor now, I&#39;m not including the entire pom.xml.  I might if no one can get a clue with what I&#39;ve provided so far.\r\n\r\nThe important part is the end of that listing.  That last profile should only activate if the OS is NOT Windows.  I work on Windows, and another developer I work with is also on Windows. We also have many other developers working on Windows, and also Macs, but that one developer on Windows is having a problem with this pom.xml.\r\n\r\nWhen I run a build using this, it correctly does NOT execute the plugins in that activation block, because I am on Windows. When that other developer executes this, and we&#39;ve tried with Maven 3.9.1 and 3.8.8 (I&#39;m testing with 3.8.8), it executes the plugins in that block, and fails because of that (it specifies steps that will not work on Windows).\r\n\r\nI have carefully pored over the &quot;mvn -X&quot; output from both me and him (which I&#39;m not providing as of yet), and I certainly see where his output executes those plugins and mine does not, but I don&#39;t see any obvious &quot;decision point&quot; where it evaluates that expression and decides to activate that profile.\r\n\r\nWhat I&#39;m looking for are some leads.  What should I look for in differences between his output and mine?\r\n\r\n**Update**:\r\n\r\nIf it helps, the output of the enforcer plugin is shown at the top of our &quot;mvn -X&quot; output, so I&#39;ll post that here.  There are only two small differences between his and mine.\r\n\r\nMine:\r\n\r\n\tApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\n\tMaven home: ...\\apache-maven-3.8.8\r\n\tJava version: 11.0.13, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.13\r\n\tDefault locale: en_US, platform encoding: Cp1252\r\n\tOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nHis:\r\n\r\n\tApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\n\tMaven home: ...\\apache-maven-3.8.8\r\n\tJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\r\n\tDefault locale: en_US, platform encoding: Cp1252\r\n\tOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nWe&#39;re using slightly different patch versions of Java 11, and for some reason his OS name is &quot;windows 11&quot;, whereas mine is &quot;windows 10&quot;. Everything else is the same.","title":"Why are builds from one developer not evaluating the Maven profile activation expression properly?","body":"<p>I work on the platform for a large number of Maven-built services.  Quite a few of them have a construct like this:</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;local&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;activation&gt;\n            &lt;os&gt;\n                &lt;family&gt;!windows&lt;/family&gt;\n            &lt;/os&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n</code></pre>\n<p>For now, I'm not including the entire pom.xml.  I might if no one can get a clue with what I've provided so far.</p>\n<p>The important part is the end of that listing.  That last profile should only activate if the OS is NOT Windows.  I work on Windows, and another developer I work with is also on Windows. We also have many other developers working on Windows, and also Macs, but that one developer on Windows is having a problem with this pom.xml.</p>\n<p>When I run a build using this, it correctly does NOT execute the plugins in that activation block, because I am on Windows. When that other developer executes this, and we've tried with Maven 3.9.1 and 3.8.8 (I'm testing with 3.8.8), it executes the plugins in that block, and fails because of that (it specifies steps that will not work on Windows).</p>\n<p>I have carefully pored over the &quot;mvn -X&quot; output from both me and him (which I'm not providing as of yet), and I certainly see where his output executes those plugins and mine does not, but I don't see any obvious &quot;decision point&quot; where it evaluates that expression and decides to activate that profile.</p>\n<p>What I'm looking for are some leads.  What should I look for in differences between his output and mine?</p>\n<p><strong>Update</strong>:</p>\n<p>If it helps, the output of the enforcer plugin is shown at the top of our &quot;mvn -X&quot; output, so I'll post that here.  There are only two small differences between his and mine.</p>\n<p>Mine:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.13, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.13\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>His:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>We're using slightly different patch versions of Java 11, and for some reason his OS name is &quot;windows 11&quot;, whereas mine is &quot;windows 10&quot;. Everything else is the same.</p>\n"},{"tags":["java","memory-leaks","java.util.scanner"],"comments":[{"owner":{"account_id":4512652,"reputation":568,"user_id":3668343,"display_name":"Lys"},"score":4,"creation_date":1490905782,"post_id":43120687,"comment_id":73334305,"body_markdown":"Possible duplicate of [Resource leak: &#39;in&#39; is never closed](http://stackoverflow.com/questions/12519335/resource-leak-in-is-never-closed)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12519335/resource-leak-in-is-never-closed\">Resource leak: &#39;in&#39; is never closed</a>"}],"answers":[{"tags":[],"owner":{"account_id":7212623,"reputation":2118,"user_id":5562711,"display_name":"Omar El Halabi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531916368,"creation_date":1491132922,"answer_id":43167837,"question_id":43120687,"body_markdown":"Scanner objects need to be closed after one is done using them. So, after you&#39;re done with it you should call the following before the end of your main method\r\n   \r\n    SC.close();","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Scanner objects need to be closed after one is done using them. So, after you're done with it you should call the following before the end of your main method</p>\n\n<pre><code>SC.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13983243,"reputation":31,"user_id":10098954,"display_name":"user10098954"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531910518,"creation_date":1531909248,"answer_id":51399528,"question_id":43120687,"body_markdown":"after your scanner work completed put:  `sc.close();`\r\n\r\nIt is working 100%","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>after your scanner work completed put:  <code>sc.close();</code></p>\n\n<p>It is working 100%</p>\n"},{"tags":[],"owner":{"account_id":13985719,"reputation":17,"user_id":10100874,"display_name":"Debugger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551268691,"creation_date":1551268691,"answer_id":54904984,"question_id":43120687,"body_markdown":"Try this code\r\n\r\n    public static void number - count(String args[]) throws IOException {\r\n     Scanner sc = new Scanner(System.in);\r\n       try{\r\n            //your code\r\n          }\r\n       finally {\r\n       sc.close();\r\n       } \r\n       }","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Try this code</p>\n\n<pre><code>public static void number - count(String args[]) throws IOException {\n Scanner sc = new Scanner(System.in);\n   try{\n        //your code\n      }\n   finally {\n   sc.close();\n   } \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19315964,"reputation":51,"user_id":14120735,"display_name":"atharva parikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611045713,"creation_date":1611045344,"answer_id":65787890,"question_id":43120687,"body_markdown":"If you want to use the scanner globally in a class(which is the case sometimes)\r\n\r\n*try this:*\r\n\r\n    static Scanner sc = new Scanner(System.in);","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>If you want to use the scanner globally in a class(which is the case sometimes)</p>\n<p><em>try this:</em></p>\n<pre><code>static Scanner sc = new Scanner(System.in);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26000933,"reputation":1,"user_id":19711478,"display_name":"Soham Ambekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667508571,"creation_date":1667508571,"answer_id":74309400,"question_id":43120687,"body_markdown":"/* Making it easy for beginners, when we use Scanner sc it is required to be close once we have taken all inputs from user, to close use sc.close(); */\r\n\r\n    package basicjava;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class sumbyuser {\r\n        public static void main(String args[]){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your numbers for summation : &quot;);\r\n            int a = sc.nextInt();\r\n            int b = sc.nextInt();\r\n            sc.close();\r\n            int sum = a+b;\r\n            System.out.println(&quot;Summation is  : &quot;+sum);\r\n        \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>/* Making it easy for beginners, when we use Scanner sc it is required to be close once we have taken all inputs from user, to close use sc.close(); */</p>\n<pre><code>package basicjava;\nimport java.util.*;\n\n\npublic class sumbyuser {\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your numbers for summation : &quot;);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a+b;\n        System.out.println(&quot;Summation is  : &quot;+sum);\n    \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27603010,"reputation":1,"user_id":21067841,"display_name":"Noman Jaffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674582047,"creation_date":1674497871,"answer_id":75213461,"question_id":43120687,"body_markdown":"***Try sc.close();*** \r\n\r\nAfter the using the scanner inputs :\r\n```\r\nimport java.util.*;\r\n\r\npublic class Func1 {\r\n\r\n    public static void CalculateSum() {\r\n        Scanner sc = new Scanner(System.in);\r\n        int a = sc.nextInt();\r\n        int b = sc.nextInt();\r\n        sc.close();\r\n        int sum = a + b;\r\n        System.out.println(&quot;The sum is &quot; + sum);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CalculateSum();\r\n    }\r\n}\r\n```","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p><em><strong>Try sc.close();</strong></em></p>\n<p>After the using the scanner inputs :</p>\n<pre><code>import java.util.*;\n\npublic class Func1 {\n\n    public static void CalculateSum() {\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a + b;\n        System.out.println(&quot;The sum is &quot; + sum);\n    }\n\n    public static void main(String[] args) {\n        CalculateSum();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19879841,"reputation":1,"user_id":21922816,"display_name":"user21922816"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684461902,"creation_date":1684461902,"answer_id":76285560,"question_id":43120687,"body_markdown":"The close() somebody already got, the other thing is to change sc. to SC. + I would recommnend main(String[] args), works for me.\r\n\r\n    public static void  main(String[] args) {\r\n        \r\n        String s;\r\n        char ch;\r\n        int count = 0;\r\n        Scanner SC = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a sentence&quot;);\r\n        String str = SC.nextLine();\r\n        System.out.println(&quot;Enter a character to be searched for occurence&quot;);\r\n        s = SC.nextLine();\r\n        char c = s.charAt(0);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            if (ch == c) {\r\n                count++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\r\n\r\n        SC.close();\r\n    }\r\n}\r\n","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>The close() somebody already got, the other thing is to change sc. to SC. + I would recommnend main(String[] args), works for me.</p>\n<pre><code>public static void  main(String[] args) {\n    \n    String s;\n    char ch;\n    int count = 0;\n    Scanner SC = new Scanner(System.in);\n    System.out.println(&quot;Enter a sentence&quot;);\n    String str = SC.nextLine();\n    System.out.println(&quot;Enter a character to be searched for occurence&quot;);\n    s = SC.nextLine();\n    char c = s.charAt(0);\n    for (int i = 0; i &lt; str.length(); i++) {\n        ch = str.charAt(i);\n        if (ch == c) {\n            count++;\n        }\n    }\n    System.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\n\n    SC.close();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":10577697,"reputation":51,"user_id":7792568,"display_name":"user7792568"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39568,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1684461902,"creation_date":1490883848,"question_id":43120687,"body_markdown":"Program to count how many times a particular character, letter or number occur in a sentence. \r\n\r\nHowever I keep getting message: \r\n\r\n&gt; Resource leak: &#39;sc&#39; is never closed\r\n\r\nI am using Java and Eclipse. What should I do?\r\n\r\n&lt;!-- language: java --&gt; \r\n\r\n    import java.util.Scanner;\r\n    class Number-count {\r\n    \tpublic static void number - count(String args[]) {\r\n    \t\tString s;\r\n    \t\tchar ch;\r\n    \t\tint count = 0;\r\n    \t\tScanner SC = new Scanner(System. in );\r\n    \t\tSystem.out.println(&quot;Enter a sentence&quot;);\r\n    \t\tString str = sc.nextLine();\r\n    \t\tSystem.out.println(&quot;Enter a character to be searched for occurence&quot;);\r\n    \t\ts = sc.nextLine();\r\n    \t\tchar c = s.charAt(0);\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\tch = str.charAt(i);\r\n    \t\t\tif (ch == c) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\r\n    \t}\r\n    }","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Program to count how many times a particular character, letter or number occur in a sentence. </p>\n\n<p>However I keep getting message: </p>\n\n<blockquote>\n  <p>Resource leak: 'sc' is never closed</p>\n</blockquote>\n\n<p>I am using Java and Eclipse. What should I do?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass Number-count {\n    public static void number - count(String args[]) {\n        String s;\n        char ch;\n        int count = 0;\n        Scanner SC = new Scanner(System. in );\n        System.out.println(\"Enter a sentence\");\n        String str = sc.nextLine();\n        System.out.println(\"Enter a character to be searched for occurence\");\n        s = sc.nextLine();\n        char c = s.charAt(0);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            if (ch == c) {\n                count++;\n            }\n        }\n        System.out.println(\"Character \" + c + \" occur \" + count + \" times\");\n    }\n}\n</code></pre>\n"},{"tags":["java","orm","ormlite"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684471658,"post_id":76285546,"comment_id":134525260,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6784013,"reputation":1,"user_id":5223385,"display_name":"Sudhakar G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684461713,"creation_date":1684461713,"question_id":76285546,"body_markdown":"How to run ORMLite Auto-Generator generate table entity class\r\n\r\nAuto generate ORMLITE entity class. \r\n\r\nI have tried below cmd but didn&#39;t work \r\n&quot;ormlite-autogen generate -c generator.properties&quot; Where I can find &quot;ORMLite Auto-Generator&quot; dependencies\r\n\r\n","title":"How to Generate Entity Classes using ORMLITE for database tables","body":"<p>How to run ORMLite Auto-Generator generate table entity class</p>\n<p>Auto generate ORMLITE entity class.</p>\n<p>I have tried below cmd but didn't work\n&quot;ormlite-autogen generate -c generator.properties&quot; Where I can find &quot;ORMLite Auto-Generator&quot; dependencies</p>\n"},{"tags":["java","gradle","intellij-idea","javafx"],"comments":[{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647886665,"post_id":71562138,"comment_id":126479400,"body_markdown":"edited, could you please help now?","body":"edited, could you please help now?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647886980,"post_id":71562138,"comment_id":126479500,"body_markdown":"Your Gradle build script doesn&#39;t define a dependency on the `javafaker` library.","body":"Your Gradle build script doesn&#39;t define a dependency on the <code>javafaker</code> library."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":1,"creation_date":1647887142,"post_id":71562138,"comment_id":126479551,"body_markdown":"I removed it since my module.info gives me a tooltip that says &quot;Ambiguous module reference: javafaker&quot;","body":"I removed it since my module.info gives me a tooltip that says &quot;Ambiguous module reference: javafaker&quot;"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1647887378,"post_id":71562138,"comment_id":126479645,"body_markdown":"You definitely need the javafaker library declared in your dependencies.  Put it back.","body":"You definitely need the javafaker library declared in your dependencies.  Put it back."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887485,"post_id":71562138,"comment_id":126479684,"body_markdown":"added the javafaker to the gradle file again.","body":"added the javafaker to the gradle file again."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887612,"post_id":71562138,"comment_id":126479720,"body_markdown":"My first approach is to add the implementation in the build.gradle file, sync the gradle file and use the library classes. The only problem is, I can&#39;t import the class since the IDE tells me to add a requires directive in the module-info.java file, but then it says it can&#39;t find the module. When this failed, then I tried adding the library via the IDE.","body":"My first approach is to add the implementation in the build.gradle file, sync the gradle file and use the library classes. The only problem is, I can&#39;t import the class since the IDE tells me to add a requires directive in the module-info.java file, but then it says it can&#39;t find the module. When this failed, then I tried adding the library via the IDE."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887801,"post_id":71562138,"comment_id":126479775,"body_markdown":"&quot;Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it&quot; This is the error I get when I don&#39;t add the requires directive in my module-info.java file","body":"&quot;Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it&quot; This is the error I get when I don&#39;t add the requires directive in my module-info.java file"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684461514,"creation_date":1647902211,"answer_id":71564960,"question_id":71562138,"body_markdown":"I tried for a while to get this to work with Gradle but was unable to.  I don&#39;t know Gradle well, but unless you do, I don&#39;t advise trying it (unless the alternate option of a static import, discussed below, works for you).\r\n\r\n**Alternate option: use a static import**\r\n\r\nI didn&#39;t try this, but this is [suggested in another answer](https://stackoverflow.com/a/71964439/1155209).\r\n\r\nBefore you try this, see:\r\n\r\n * https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\r\n\r\nIt is IMO, a bit of a hack in this usage case.  This makes the module optional at runtime.  But, if the module is on the classpath instead of the module path its code can still be used.  More information quoted from the linked answer:\r\n\r\n\r\n\r\n&gt; A requires static clause expresses a dependency that is optional at\r\n&gt; run time. That means at compile time the module system behaves exactly\r\n&gt; as described above.\r\n&gt; \r\n&gt; At run time, on the other hand, it mostly ignores requires static\r\n&gt; clauses. If it encounters one, it does not resolve it. That means, if\r\n&gt; an observable module is only referenced with requires static, it does\r\n&gt; not make it into the module graph!\r\n\r\n\r\n**Alternate option: Non-modular project**\r\n\r\nYou can fix this issue by making your project non-modular:\r\n\r\n * Delete your `module-info.java` file.\r\n * Run your application with JavaFX modules on the module-path.\r\n   * The `org.openjfx.javafxplugin` you are already doing will help achieve this by specifying the modules to be used.\r\n   * To execute the application directly in the IDE rather than through Gradle, you will need to specify the module options to the VM for the IDE execution configuration (information on that is in the getting started documentation at openjfx.io).\r\n * For packaging, switch to using the [badass-runtime-plugin](https://badass-runtime-plugin.beryx.org/releases/latest/) rather than the [badass-jlink-plugin](https://badass-jlink-plugin.beryx.org/releases/latest/).  This will package the application via `jpackage` rather than `jlink` (which cannot package non-modular applications or applications with automatic modules).\r\n * In the `application` block of your build file, you no longer need to specify the module for your application as you no longer have one.\r\n\r\nWhile that means that your application is no longer modular, in this case, in my opinion, this is not such a big loss.  The dependencies you are using are not well-defined modules, so you can&#39;t use `jlink` to create a package for your application, and you don&#39;t have the level of modular encapsulation and definition you would normally receive for fully modular projects.\r\n\r\nFor more information, see the Getting started instructions at:\r\n\r\n * https://openjfx.io/openjfx-docs/\r\n\r\nUnder the sections &quot;Non-Modular with Gradle&quot; for your selected IDE.\r\n\r\n**Alternate option: Using Maven**\r\n\r\nIt is easy to get this to work with Maven.\r\n\r\n 1. Create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html)\r\n    * Choose Maven as your build system instead of Gradle.\r\n\r\n 2. Add the javafaker dependency to your pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n \r\n 3. Press the refresh icon in the Maven window to reimport the Maven project into the IDE.\r\n\r\n 4. Add the requires clause for the javafaker module into your module-info.java\r\n\r\n        requires javafaker;\r\n\r\n 5. Add the code to use javafaker to your app.\r\n\r\nI don&#39;t have code to use javafaker, so I could not verify that the last step would work, but, give it a try . . .\r\n\r\n**Why you can receive this issue when using Gradle, but not Maven**\r\n\r\nLooking at the [Gradle Documentation][2] section &quot;Using libraries that are not modules&quot;:\r\n\r\n&gt; A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. **Gradle puts such libraries on the classpath instead of the module path.** The classpath is then treated as one module (the so called unnamed module) by Java.\r\n\r\nThis is the case with the javafaker dependency that you are using. It has no `module-info.java` and does not define the property `Automatic-Module-Name` in its manifest file (which are the other two cases in the section). Both the other cases result in Gradle putting the library on the module path, but the case you have means that it is on the class path.\r\n\r\nThis is a problem when you want to access the code from a named module that you define, which you have because you created a `module-info.java`. \r\n\r\nYour module can only find code and resources of modules it requires (which need to be on the module path), so you add `requires javafaker` to the `module-info.java`, and get the following when you try to run through the IDE:\r\n\r\n    java.lang.module.FindException: Module javafaker not found, required by com.example.demo1\r\n\r\nSo you remove the `requires javafaker` from the `module-info.java` as advised by the Gradle documentation I linked and you get the following when you try to compile:\r\n\r\n    Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it\r\n\r\nSo you must place the library in the module-info to use it, but you can&#39;t place the library in module-info because Gradle puts in on the classpath -&gt; [catch-22][3].  \r\n\r\nThere are workarounds to this such as providing VM arguments to allow access to the unnamed module (which is the classpath), or maybe modifying the module path handling of the Gradle build and/or IDE somehow (I don&#39;t know how), but they are pretty ugly.\r\n\r\nOn the other hand, for this case, Maven acts differently from Gradle, it places the dependent library on the module path, even if it does not have a `module-info.java` or `Automatic-Module-Name` defined.  This means that it was (for me) much easier to set up and use. \r\n\r\n**Incidental advice on module naming**\r\n\r\nThis is not an error, but note: Although [module names with numbers in them are now allowed due to a change in the module system specification][4], it is probably best not to put numbers in module names to [prevent the module name and version info being confused][5]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\r\n  [2]: https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\r\n  [3]: https://en.wikipedia.org/wiki/Catch-22#Concept\r\n  [4]: https://openjdk.java.net/projects/jigsaw/spec/issues/#VersionsInModuleNames\r\n  [5]: https://stackoverflow.com/a/41859239/1155209","title":"JavaFX with Gradle error module not found","body":"<p>I tried for a while to get this to work with Gradle but was unable to.  I don't know Gradle well, but unless you do, I don't advise trying it (unless the alternate option of a static import, discussed below, works for you).</p>\n<p><strong>Alternate option: use a static import</strong></p>\n<p>I didn't try this, but this is <a href=\"https://stackoverflow.com/a/71964439/1155209\">suggested in another answer</a>.</p>\n<p>Before you try this, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\">What&#39;s the difference between requires and requires static in module declaration</a></li>\n</ul>\n<p>It is IMO, a bit of a hack in this usage case.  This makes the module optional at runtime.  But, if the module is on the classpath instead of the module path its code can still be used.  More information quoted from the linked answer:</p>\n<blockquote>\n<p>A requires static clause expresses a dependency that is optional at\nrun time. That means at compile time the module system behaves exactly\nas described above.</p>\n<p>At run time, on the other hand, it mostly ignores requires static\nclauses. If it encounters one, it does not resolve it. That means, if\nan observable module is only referenced with requires static, it does\nnot make it into the module graph!</p>\n</blockquote>\n<p><strong>Alternate option: Non-modular project</strong></p>\n<p>You can fix this issue by making your project non-modular:</p>\n<ul>\n<li>Delete your <code>module-info.java</code> file.</li>\n<li>Run your application with JavaFX modules on the module-path.\n<ul>\n<li>The <code>org.openjfx.javafxplugin</code> you are already doing will help achieve this by specifying the modules to be used.</li>\n<li>To execute the application directly in the IDE rather than through Gradle, you will need to specify the module options to the VM for the IDE execution configuration (information on that is in the getting started documentation at openjfx.io).</li>\n</ul>\n</li>\n<li>For packaging, switch to using the <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass-runtime-plugin</a> rather than the <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass-jlink-plugin</a>.  This will package the application via <code>jpackage</code> rather than <code>jlink</code> (which cannot package non-modular applications or applications with automatic modules).</li>\n<li>In the <code>application</code> block of your build file, you no longer need to specify the module for your application as you no longer have one.</li>\n</ul>\n<p>While that means that your application is no longer modular, in this case, in my opinion, this is not such a big loss.  The dependencies you are using are not well-defined modules, so you can't use <code>jlink</code> to create a package for your application, and you don't have the level of modular encapsulation and definition you would normally receive for fully modular projects.</p>\n<p>For more information, see the Getting started instructions at:</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></li>\n</ul>\n<p>Under the sections &quot;Non-Modular with Gradle&quot; for your selected IDE.</p>\n<p><strong>Alternate option: Using Maven</strong></p>\n<p>It is easy to get this to work with Maven.</p>\n<ol>\n<li><p>Create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a></p>\n<ul>\n<li>Choose Maven as your build system instead of Gradle.</li>\n</ul>\n</li>\n<li><p>Add the javafaker dependency to your pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Press the refresh icon in the Maven window to reimport the Maven project into the IDE.</p>\n</li>\n<li><p>Add the requires clause for the javafaker module into your module-info.java</p>\n<pre><code>requires javafaker;\n</code></pre>\n</li>\n<li><p>Add the code to use javafaker to your app.</p>\n</li>\n</ol>\n<p>I don't have code to use javafaker, so I could not verify that the last step would work, but, give it a try . . .</p>\n<p><strong>Why you can receive this issue when using Gradle, but not Maven</strong></p>\n<p>Looking at the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">Gradle Documentation</a> section &quot;Using libraries that are not modules&quot;:</p>\n<blockquote>\n<p>A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. <strong>Gradle puts such libraries on the classpath instead of the module path.</strong> The classpath is then treated as one module (the so called unnamed module) by Java.</p>\n</blockquote>\n<p>This is the case with the javafaker dependency that you are using. It has no <code>module-info.java</code> and does not define the property <code>Automatic-Module-Name</code> in its manifest file (which are the other two cases in the section). Both the other cases result in Gradle putting the library on the module path, but the case you have means that it is on the class path.</p>\n<p>This is a problem when you want to access the code from a named module that you define, which you have because you created a <code>module-info.java</code>.</p>\n<p>Your module can only find code and resources of modules it requires (which need to be on the module path), so you add <code>requires javafaker</code> to the <code>module-info.java</code>, and get the following when you try to run through the IDE:</p>\n<pre><code>java.lang.module.FindException: Module javafaker not found, required by com.example.demo1\n</code></pre>\n<p>So you remove the <code>requires javafaker</code> from the <code>module-info.java</code> as advised by the Gradle documentation I linked and you get the following when you try to compile:</p>\n<pre><code>Package 'com.github.javafaker' is declared in module 'javafaker', but module 'com.example.demo1' does not read it\n</code></pre>\n<p>So you must place the library in the module-info to use it, but you can't place the library in module-info because Gradle puts in on the classpath -&gt; <a href=\"https://en.wikipedia.org/wiki/Catch-22#Concept\" rel=\"nofollow noreferrer\">catch-22</a>.</p>\n<p>There are workarounds to this such as providing VM arguments to allow access to the unnamed module (which is the classpath), or maybe modifying the module path handling of the Gradle build and/or IDE somehow (I don't know how), but they are pretty ugly.</p>\n<p>On the other hand, for this case, Maven acts differently from Gradle, it places the dependent library on the module path, even if it does not have a <code>module-info.java</code> or <code>Automatic-Module-Name</code> defined.  This means that it was (for me) much easier to set up and use.</p>\n<p><strong>Incidental advice on module naming</strong></p>\n<p>This is not an error, but note: Although <a href=\"https://openjdk.java.net/projects/jigsaw/spec/issues/#VersionsInModuleNames\" rel=\"nofollow noreferrer\">module names with numbers in them are now allowed due to a change in the module system specification</a>, it is probably best not to put numbers in module names to <a href=\"https://stackoverflow.com/a/41859239/1155209\">prevent the module name and version info being confused</a>.</p>\n"},{"tags":[],"owner":{"account_id":25047856,"reputation":21,"user_id":18904086,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650609756,"creation_date":1650609756,"answer_id":71964439,"question_id":71562138,"body_markdown":"I&#39;ve had a similar issue recently. Adding static to the requires statement helped however. Maybe this will fix your issue without having to switch to maven.\r\n\r\nSo you&#39;d need to add: `requires static javafaker;`","title":"JavaFX with Gradle error module not found","body":"<p>I've had a similar issue recently. Adding static to the requires statement helped however. Maybe this will fix your issue without having to switch to maven.</p>\n<p>So you'd need to add: <code>requires static javafaker;</code></p>\n"}],"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3562,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71564960,"answer_count":2,"score":3,"last_activity_date":1684461514,"creation_date":1647885914,"question_id":71562138,"body_markdown":"I&#39;m creating a sample demo application with JavaFX in IntelliJ, but I need to use a library called the JavaFaker library. I&#39;m using Gradle as the build system, but every time I try to add the library, either as the implementation in the build.gradle file, or via IntelliJ project structure options, the module.java file says error: module not found. I&#39;ve already tried adding it to modules but nothing changes.\r\n\r\nmodule-info.java\r\n```java\r\nmodule com.example.demo1 {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafaker;\r\n\r\n    opens com.example.demo1 to javafx.fxml;\r\n    exports com.example.demo1;\r\n}\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.24.1&#39;\r\n}\r\n\r\ngroup &#39;com.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.8.2&#39;\r\n    javaFakerVersion = &#39;1.0.2&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.example.demo1&#39;\r\n    mainClass = &#39;com.example.demo1.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;17.0.1&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.github.javafaker:javafaker:${javaFakerVersion}&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;) as RegularFile\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n\r\n```\r\n\r\nerror message\r\n```\r\n&gt; Task :HelloApplication.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafaker not found, required by com.example.demo1\r\n```\r\n\r\n[![added library via project structure][1]][1]  \r\n\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/afOed.png\r\n  [2]: https://i.stack.imgur.com/hJuev.png","title":"JavaFX with Gradle error module not found","body":"<p>I'm creating a sample demo application with JavaFX in IntelliJ, but I need to use a library called the JavaFaker library. I'm using Gradle as the build system, but every time I try to add the library, either as the implementation in the build.gradle file, or via IntelliJ project structure options, the module.java file says error: module not found. I've already tried adding it to modules but nothing changes.</p>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.demo1 {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafaker;\n\n    opens com.example.demo1 to javafx.fxml;\n    exports com.example.demo1;\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.1'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.8.2'\n    javaFakerVersion = '1.0.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.example.demo1'\n    mainClass = 'com.example.demo1.HelloApplication'\n}\n\njavafx {\n    version = '17.0.1'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation(&quot;com.github.javafaker:javafaker:${javaFakerVersion}&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;) as RegularFile\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n\n</code></pre>\n<p>error message</p>\n<pre><code>&gt; Task :HelloApplication.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafaker not found, required by com.example.demo1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/afOed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afOed.png\" alt=\"added library via project structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hJuev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJuev.png\" alt=\"error\" /></a></p>\n"},{"tags":["java","spring","junit5"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1684455084,"post_id":76285226,"comment_id":134523913,"body_markdown":"I continue to be amazed how few people know how to [read stack traces](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors). The root cause of the error is the last &quot;Caused by&quot; in the stack trace, not the first line you provided us with ...","body":"I continue to be amazed how few people know how to <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">read stack traces</a>. The root cause of the error is the last &quot;Caused by&quot; in the stack trace, not the first line you provided us with ..."},{"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"score":0,"creation_date":1684455569,"post_id":76285226,"comment_id":134523956,"body_markdown":"Thank you for clarifying @meriton that I indeed did miss the obvious caused by, I updated with my stack trace.  My bad for forgetting to include it","body":"Thank you for clarifying @meriton that I indeed did miss the obvious caused by, I updated with my stack trace.  My bad for forgetting to include it"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1684457109,"post_id":76285226,"comment_id":134524081,"body_markdown":"Well, that [complains](https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/core/support/AbstractRepositoryMetadata.java#L59) that your repository interface is not, in fact, an interface. Try setting a breakpoint in the line of code throwing this exception to find out which repository interface Spring is complaining about ...","body":"Well, that <a href=\"https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/core/support/AbstractRepositoryMetadata.java#L59\" rel=\"nofollow noreferrer\">complains</a> that your repository interface is not, in fact, an interface. Try setting a breakpoint in the line of code throwing this exception to find out which repository interface Spring is complaining about ..."},{"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"score":0,"creation_date":1684457691,"post_id":76285226,"comment_id":134524131,"body_markdown":"@meriton, i guess i have some diving to do to see why this is occurring.  Any ideas why Spring is trying to instantiate my repos at all?  Why isnt the test just staying scoped to the single test?","body":"@meriton, i guess i have some diving to do to see why this is occurring.  Any ideas why Spring is trying to instantiate my repos at all?  Why isnt the test just staying scoped to the single test?"}],"answers":[{"tags":[],"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458958,"creation_date":1684458958,"answer_id":76285416,"question_id":76285226,"body_markdown":"Thanks @mertion for the string handed guide in the right direction.\r\n\r\nJust because my test was not testing any repositories, doesn&#39;t mean the test didn&#39;t try to instantiate them.  \r\nI had a test call &#39;MyRepo&#39; instead of &#39;MyRepoTest&#39;, so Spring was instantiating the test as the real repo, which was causing my issue.  \r\n\r\nSo renaming a file fixed my issue.","title":"How to resolve &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot; for registry &quot;addViewControllers&quot; tests?","body":"<p>Thanks @mertion for the string handed guide in the right direction.</p>\n<p>Just because my test was not testing any repositories, doesn't mean the test didn't try to instantiate them.<br />\nI had a test call 'MyRepo' instead of 'MyRepoTest', so Spring was instantiating the test as the real repo, which was causing my issue.</p>\n<p>So renaming a file fixed my issue.</p>\n"}],"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684458958,"creation_date":1684454666,"question_id":76285226,"body_markdown":"I am writing a barebones junit5 test to test a view, but no matter how I set up the file, I get the same error over and over.  As a noob, I was wondering if anyone could guide me to the answer/or just tell me what combination of things I am doing is wrong.\r\n\r\nTest File\r\n```\r\npackage com.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.context.support.StaticApplicationContext;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n// @ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class MyViewTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    // private WebApplicationContext webApplicationContext;\r\n\r\n    private ViewControllerRegistry registry;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        this.registry = new ViewControllerRegistry(new StaticApplicationContext());\r\n        // this.mockMvc = MockMvcBuilders.standaloneSetup(webApplicationContext).build();\r\n    }\r\n\r\n    @Test\r\n    public void testAddViewControllers() throws Exception {\r\n        MyViewview = new MyView();\r\n        view.addViewControllers(registry);\r\n\r\n        mockMvc.perform(get(&quot;/&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(view().name(&quot;forward:/public/index&quot;));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHere are the parts of my POM that I think are relevant\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd the View\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class MyView implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addViewControllers( ViewControllerRegistry registry ) {\r\n        registry.addViewController( &quot;/&quot; ).setViewName( &quot;forward:/public/index&quot; );\r\n        registry.setOrder( Ordered.HIGHEST_PRECEDENCE );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried all combinations of online examples for the class @, using just @SpringBootTest, just the @AutoConfigureMockMvc, the @ExtendWith, and all possible permutations, as well as @autowiring the mvc, and trying to build it in the setup.\r\n\r\nEDIT\r\nThe stack trace meant nothing to me, but it was wrong of me to assume.\r\nStack Trace, last caused by\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Given type must be an interface!\r\n        at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.6.jar:5.3.6]\r\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:60) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.core.support.AnnotationRepositoryMetadata.&lt;init&gt;(AnnotationRepositoryMetadata.java:45) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:149) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.4.5.jar:2.4.5]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.6.jar:5.3.6]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.6.jar:5.3.6]\r\n        ... 67 common frames omitted\r\n    ```","title":"How to resolve &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot; for registry &quot;addViewControllers&quot; tests?","body":"<p>I am writing a barebones junit5 test to test a view, but no matter how I set up the file, I get the same error over and over.  As a noob, I was wondering if anyone could guide me to the answer/or just tell me what combination of things I am doing is wrong.</p>\n<p>Test File</p>\n<pre><code>package com.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.context.support.StaticApplicationContext;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n// @ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class MyViewTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    // private WebApplicationContext webApplicationContext;\n\n    private ViewControllerRegistry registry;\n\n    @BeforeEach\n    public void setup() {\n        this.registry = new ViewControllerRegistry(new StaticApplicationContext());\n        // this.mockMvc = MockMvcBuilders.standaloneSetup(webApplicationContext).build();\n    }\n\n    @Test\n    public void testAddViewControllers() throws Exception {\n        MyViewview = new MyView();\n        view.addViewControllers(registry);\n\n        mockMvc.perform(get(&quot;/&quot;))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;forward:/public/index&quot;));\n    }\n}\n\n\n</code></pre>\n<p>Here are the parts of my POM that I think are relevant</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And the View</p>\n<pre><code>package com.example;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class MyView implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers( ViewControllerRegistry registry ) {\n        registry.addViewController( &quot;/&quot; ).setViewName( &quot;forward:/public/index&quot; );\n        registry.setOrder( Ordered.HIGHEST_PRECEDENCE );\n    }\n}\n</code></pre>\n<p>I've tried all combinations of online examples for the class @, using just @SpringBootTest, just the @AutoConfigureMockMvc, the @ExtendWith, and all possible permutations, as well as @autowiring the mvc, and trying to build it in the setup.</p>\n<p>EDIT\nThe stack trace meant nothing to me, but it was wrong of me to assume.\nStack Trace, last caused by</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Given type must be an interface!\n        at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.6.jar:5.3.6]\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:60) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.core.support.AnnotationRepositoryMetadata.&lt;init&gt;(AnnotationRepositoryMetadata.java:45) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:149) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.6.jar:5.3.6]\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.4.5.jar:2.4.5]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.6.jar:5.3.6]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.6.jar:5.3.6]\n        ... 67 common frames omitted\n    ```\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":1,"creation_date":1684339586,"post_id":76274029,"comment_id":134504979,"body_markdown":"Why do you need the function to be generic.? An array of integers should be enough (knowing that you cast the elements to int inside the function.","body":"Why do you need the function to be generic.? An array of integers should be enough (knowing that you cast the elements to int inside the function."},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684340015,"post_id":76274029,"comment_id":134505088,"body_markdown":"for university test","body":"for university test"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1684341395,"post_id":76274029,"comment_id":134505401,"body_markdown":"Also consider `Array.asList()`, a &quot;bridge between array-based and collection-based APIs.&quot;","body":"Also consider <code>Array.asList()</code>, a &quot;bridge between array-based and collection-based APIs.&quot;"},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684341911,"post_id":76274029,"comment_id":134505493,"body_markdown":"meh,,,,fixed it","body":"meh,,,,fixed it"},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1684342071,"post_id":76274029,"comment_id":134505528,"body_markdown":"why are you writhing a generic method only to cast the results to int inside of the function?  That seems redundant and a good place for a whole host of errors.","body":"why are you writhing a generic method only to cast the results to int inside of the function?  That seems redundant and a good place for a whole host of errors."},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684344411,"post_id":76274029,"comment_id":134506018,"body_markdown":"because my faculty wants it this way","body":"because my faculty wants it this way"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1684351178,"post_id":76274029,"comment_id":134507415,"body_markdown":"It doesn&#39;t make sense. A generic method is supposed to work with any type. Is `new Object()` a palindrome? I suspect you&#39;re miscommunicating the requirements.","body":"It doesn&#39;t make sense. A generic method is supposed to work with any type. Is <code>new Object()</code> a palindrome? I suspect you&#39;re miscommunicating the requirements."}],"answers":[{"tags":[],"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684378312,"creation_date":1684341966,"answer_id":76274413,"question_id":76274029,"body_markdown":"```\r\npublic class pali{\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] a = {12131,121,324,123,33,43,5654,45654};\r\n\r\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\r\n\r\n        }\r\n\r\n        public static &lt;T&gt; int checkPalindrome(T[] b){\r\n\r\n            int n=0;\r\n\r\n            for(T a:b){\r\n                int sum=0,r=0;\r\n                int temp = (int)a;\r\n                int k = (int)a;\r\n\r\n                while(k!=0){\r\n                    r = k%10;\r\n                    sum = (sum*10)+r;\r\n                    k/=10;\r\n                }\r\n                if(temp == sum) \r\n                n++;\r\n            }\r\n\r\n            return n;\r\n        }\r\n    }\r\n```","title":"How to write a generic method to count the number of palindromes in an array?","body":"<pre><code>public class pali{\n    public static void main(String[] args) {\n\n        Integer[] a = {12131,121,324,123,33,43,5654,45654};\n\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\n\n        }\n\n        public static &lt;T&gt; int checkPalindrome(T[] b){\n\n            int n=0;\n\n            for(T a:b){\n                int sum=0,r=0;\n                int temp = (int)a;\n                int k = (int)a;\n\n                while(k!=0){\n                    r = k%10;\n                    sum = (sum*10)+r;\n                    k/=10;\n                }\n                if(temp == sum) \n                n++;\n            }\n\n            return n;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458791,"creation_date":1684346014,"answer_id":76274935,"question_id":76274029,"body_markdown":"You can convert your `Integer` values to strings, and utilize the `StringBuilder.reverse` method to validate a palindrome.\r\n\r\n```java\r\nstatic int checkPalindrome(Integer[] values) {\r\n    StringBuilder string;\r\n    int count = 0;\r\n    for (Integer value : values) {\r\n        string = new StringBuilder(value.toString());\r\n        if (string.reverse().toString().equals(value.toString()))\r\n            count++;\r\n    }\r\n    return count;\r\n}\r\n```","title":"How to write a generic method to count the number of palindromes in an array?","body":"<p>You can convert your <code>Integer</code> values to strings, and utilize the <code>StringBuilder.reverse</code> method to validate a palindrome.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int checkPalindrome(Integer[] values) {\n    StringBuilder string;\n    int count = 0;\n    for (Integer value : values) {\n        string = new StringBuilder(value.toString());\n        if (string.reverse().toString().equals(value.toString()))\n            count++;\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684458791,"creation_date":1684339112,"question_id":76274029,"body_markdown":"I want to write a generic method that takes an array of integers and counts how many of them are palindrome.\r\n\r\nHere is my program:\r\n\r\n```\r\npublic class pal {\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] a = {12131,121,324,123,33,43,5654};\r\n\r\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\r\n\r\n        }\r\n\r\n        public static &lt;T&gt; int checkPalindrome(T[] b){\r\n            int n=0,temp=0,sum=0,r=0;\r\n            for(T a:b){\r\n                temp = (int)a;\r\n                while((int)a&gt;0){\r\n                    r = (int)a%10;\r\n                    sum = (sum*10)+r;\r\n                }\r\n                if(temp == sum){\r\n                    n++;\r\n                }\r\n            }\r\n            return n;\r\n        }\r\n    }\r\n```\r\n\r\nThe code doesn&#39;t throw any exception nor does it do anything.","title":"How to write a generic method to count the number of palindromes in an array?","body":"<p>I want to write a generic method that takes an array of integers and counts how many of them are palindrome.</p>\n<p>Here is my program:</p>\n<pre><code>public class pal {\n    public static void main(String[] args) {\n\n        Integer[] a = {12131,121,324,123,33,43,5654};\n\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\n\n        }\n\n        public static &lt;T&gt; int checkPalindrome(T[] b){\n            int n=0,temp=0,sum=0,r=0;\n            for(T a:b){\n                temp = (int)a;\n                while((int)a&gt;0){\n                    r = (int)a%10;\n                    sum = (sum*10)+r;\n                }\n                if(temp == sum){\n                    n++;\n                }\n            }\n            return n;\n        }\n    }\n</code></pre>\n<p>The code doesn't throw any exception nor does it do anything.</p>\n"},{"tags":["java","reflection","constructor"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1684457546,"post_id":76285343,"comment_id":134524117,"body_markdown":"Is `Point` an inner class?  What happens if you declare it `static`?","body":"Is <code>Point</code> an inner class?  What happens if you declare it <code>static</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684457866,"creation_date":1684457866,"answer_id":76285376,"question_id":76285343,"body_markdown":"Your code is fine. You just need to handle the [checked exception][1] by catching it:\r\n\r\n    try {\r\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\r\n    } catch (NoSuchMethodException e) {\r\n        System.out.println(&quot;missing constructor&quot;);\r\n    }\r\n\r\nOr declare it in the method signature:\r\n\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html","title":"Java reflection: Class.getConstructor throws NoSuchMethodException but Class.getConstructors finds the correct constructor","body":"<p>Your code is fine. You just need to handle the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">checked exception</a> by catching it:</p>\n<pre><code>try {\n    Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\n} catch (NoSuchMethodException e) {\n    System.out.println(&quot;missing constructor&quot;);\n}\n</code></pre>\n<p>Or declare it in the method signature:</p>\n<pre><code>public static void main(String[] args) throws NoSuchMethodException {\n</code></pre>\n"}],"owner":{"account_id":9178086,"reputation":25,"user_id":17544483,"display_name":"Nonne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76285376,"answer_count":1,"score":0,"last_activity_date":1684457866,"creation_date":1684457288,"question_id":76285343,"body_markdown":"I&#39;m attempting to use reflection to create a new instance of a class, using `Class.getConstructor`, like so:\r\n\r\n```\r\nclass Program {\r\n    public static void main(String[] args) {\r\n        // this throws NoSuchMethodException\r\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\r\n\r\n        // but this finds the method\r\n        Constructor&lt;Point&gt;[] constructors = (Constructor&lt;Point&gt;[])Point.class.getConstructors();\r\n        System.out.println(constructors[0].toString()); // public Point(float,float)\r\n    }\r\n}\r\n\r\nclass Point {\r\n    public float x, y;\r\n\r\n    public Point(float x, float y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n```\r\n\r\nWhat am I doing wrong? Why can&#39;t I get the constructor by supplying argument types?","title":"Java reflection: Class.getConstructor throws NoSuchMethodException but Class.getConstructors finds the correct constructor","body":"<p>I'm attempting to use reflection to create a new instance of a class, using <code>Class.getConstructor</code>, like so:</p>\n<pre><code>class Program {\n    public static void main(String[] args) {\n        // this throws NoSuchMethodException\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\n\n        // but this finds the method\n        Constructor&lt;Point&gt;[] constructors = (Constructor&lt;Point&gt;[])Point.class.getConstructors();\n        System.out.println(constructors[0].toString()); // public Point(float,float)\n    }\n}\n\nclass Point {\n    public float x, y;\n\n    public Point(float x, float y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n<p>What am I doing wrong? Why can't I get the constructor by supplying argument types?</p>\n"},{"tags":["java","logging","packaging"],"comments":[{"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"score":0,"creation_date":1331914683,"post_id":9740569,"comment_id":12388491,"body_markdown":"Take a peek at the Spring framework. Specifically, the Dependency Injection capability is the part that is most useful to you.","body":"Take a peek at the Spring framework. Specifically, the Dependency Injection capability is the part that is most useful to you."}],"answers":[{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489429018,"creation_date":1331914018,"answer_id":9740671,"question_id":9740569,"body_markdown":"The location of your log file is set outside the package, in a logging framework configuration. \r\nThe config file is usually on classpath. How it looks depends on what logging framework you use - I recommend to go with [SLF4J][1] and [Logback][2]. \r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/","title":"Logger for Java library","body":"<p>The location of your log file is set outside the package, in a logging framework configuration. \nThe config file is usually on classpath. How it looks depends on what logging framework you use - I recommend to go with <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J</a> and <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">Logback</a>. </p>\n"},{"tags":[],"owner":{"account_id":1272460,"reputation":53083,"user_id":1228454,"accept_rate":76,"display_name":"nwinkler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495652261,"creation_date":1331914029,"answer_id":9740675,"question_id":9740569,"body_markdown":"The standard solutions for this are:\r\n\r\n - Log4J: http://logging.apache.org/log4j/\r\n - SLF4J: http://www.slf4j.org/\r\n - JDK Built-in Logger: https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html\r\n\r\nAll of them will allow you to configure the log file location through configuration.\r\n","title":"Logger for Java library","body":"<p>The standard solutions for this are:</p>\n\n<ul>\n<li>Log4J: <a href=\"http://logging.apache.org/log4j/\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/</a></li>\n<li>SLF4J: <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">http://www.slf4j.org/</a></li>\n<li>JDK Built-in Logger: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html</a></li>\n</ul>\n\n<p>All of them will allow you to configure the log file location through configuration.</p>\n"},{"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1332503411,"creation_date":1331915800,"answer_id":9741118,"question_id":9740569,"body_markdown":"If you are developing a **library** the others will include in their application you should use a **logging facade**. Otherwise you force the users of your library to configure and include the logging framework you have choosen **in addition to the framework** they chose for their application.\n\nFor instance if you use **log4j** but the developer using your library uses **logback** he will have to include a log4j configuration file and the log4j jar (or take [other measures]) to make your library happy. \n\nLogging Facades solve this problem (from Apache Commons Logging):\n\n&gt; When writing a library it is very useful to log information. However there are many logging implementations out there, and a library cannot impose the use of a particular one on the overall application that the library is a part of.\n&gt;\n&gt; The Logging package is an ultra-thin bridge between different logging implementations. A library that uses the commons-logging API can be used with any logging implementation at runtime. Commons-logging comes with support for a number of popular logging implementations, and writing adapters for others is a reasonably simple task.\n\nOr the reasoning from SLF4J:\n\n&gt;The Simple Logging Facade for Java or (SLF4J) serves as a simple facade or abstraction for various logging frameworks, e.g. java.util.logging, log4j and logback, allowing the end user to plug in the desired logging framework at *deployment* time.\n\nCandidates for logging facades are:\n\n - [Apache Commons Logging][1]\n - [SLF4J][2]\n\nPersonally I would recommend [SLF4J][2] (with [Logback][3]).\n\n\n  [1]: http://commons.apache.org/logging/\n  [2]: http://www.slf4j.org/\n  [3]: http://logback.qos.ch/\n  [other measures]: http://www.slf4j.org/legacy.html","title":"Logger for Java library","body":"<p>If you are developing a <strong>library</strong> the others will include in their application you should use a <strong>logging facade</strong>. Otherwise you force the users of your library to configure and include the logging framework you have choosen <strong>in addition to the framework</strong> they chose for their application.</p>\n<p>For instance if you use <strong>log4j</strong> but the developer using your library uses <strong>logback</strong> he will have to include a log4j configuration file and the log4j jar (or take <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">other measures</a>) to make your library happy.</p>\n<p>Logging Facades solve this problem (from Apache Commons Logging):</p>\n<blockquote>\n<p>When writing a library it is very useful to log information. However there are many logging implementations out there, and a library cannot impose the use of a particular one on the overall application that the library is a part of.</p>\n<p>The Logging package is an ultra-thin bridge between different logging implementations. A library that uses the commons-logging API can be used with any logging implementation at runtime. Commons-logging comes with support for a number of popular logging implementations, and writing adapters for others is a reasonably simple task.</p>\n</blockquote>\n<p>Or the reasoning from SLF4J:</p>\n<blockquote>\n<p>The Simple Logging Facade for Java or (SLF4J) serves as a simple facade or abstraction for various logging frameworks, e.g. java.util.logging, log4j and logback, allowing the end user to plug in the desired logging framework at <em>deployment</em> time.</p>\n</blockquote>\n<p>Candidates for logging facades are:</p>\n<ul>\n<li><a href=\"http://commons.apache.org/logging/\" rel=\"noreferrer\">Apache Commons Logging</a></li>\n<li><a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a></li>\n</ul>\n<p>Personally I would recommend <a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> (with <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">Logback</a>).</p>\n"},{"tags":[],"owner":{"account_id":16012911,"reputation":1,"user_id":11556488,"display_name":"khaled abd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684457851,"creation_date":1684457740,"answer_id":76285367,"question_id":9740569,"body_markdown":"Starting From Java 9 libraries authors should use [System#getLogger][1] Facade \r\nand let the Developer choose the logging backend framework.\r\n\r\nAll Java popular logging frameworks implement [Service Provider ][2] of the new Facade [SPI][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.LoggerFinder.html","title":"Logger for Java library","body":"<p>Starting From Java 9 libraries authors should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">System#getLogger</a> Facade\nand let the Developer choose the logging backend framework.</p>\n<p>All Java popular logging frameworks implement <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">Service Provider </a> of the new Facade <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.LoggerFinder.html\" rel=\"nofollow noreferrer\">SPI</a></p>\n"}],"owner":{"account_id":1104943,"reputation":8806,"user_id":1096545,"accept_rate":87,"display_name":"Jo&#227;o Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32673,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":9741118,"answer_count":4,"score":36,"last_activity_date":1684457851,"creation_date":1331913582,"question_id":9740569,"body_markdown":"I&#39;m writing a library that gathers various functions that I&#39;ll be using in different applications. I want it to generate log statements visible for the user of the library, i.e., if I&#39;m building an application and I&#39;m using the library, I want the library to generate log statements visible to me. How do I do that? Since the log file will be configured by the developer of the application, how will my library know how to log?","title":"Logger for Java library","body":"<p>I'm writing a library that gathers various functions that I'll be using in different applications. I want it to generate log statements visible for the user of the library, i.e., if I'm building an application and I'm using the library, I want the library to generate log statements visible to me. How do I do that? Since the log file will be configured by the developer of the application, how will my library know how to log?</p>\n"},{"tags":["java","maven","gradle","junit","junit5"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1681138804,"post_id":75978156,"comment_id":134004537,"body_markdown":"For a reputable answer, i would cite *all of* https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests","body":"For a reputable answer, i would cite <i>all of</i> <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":2,"creation_date":1681161510,"post_id":75978156,"comment_id":134009195,"body_markdown":"It&#39;s possible to filter the included tests in Gradle https://stackoverflow.com/a/31468902/4161471. However, it would be more idiomatic to move the different types of tests into different source sets. The [JVM Test Suite](https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html) plugin is the best way to achieve this.","body":"It&#39;s possible to filter the included tests in Gradle <a href=\"https://stackoverflow.com/a/31468902/4161471\">stackoverflow.com/a/31468902/4161471</a>. However, it would be more idiomatic to move the different types of tests into different source sets. The <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">JVM Test Suite</a> plugin is the best way to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684457818,"creation_date":1684457818,"answer_id":76285374,"question_id":75978156,"body_markdown":"I ended up using filters to separate the unit and integration tests and to bind the integration tests to the **check** task:\r\n\r\n```\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform {\r\n        filter {\r\n            includeTestsMatching &quot;*Test&quot;\r\n            excludeTestsMatching &quot;*IT&quot;\r\n        }\r\n    }\r\n}\r\n\r\ndef integrationTest = tasks.register(&quot;integrationTest&quot;, Test) {\r\n    useJUnitPlatform {\r\n        filter {\r\n            includeTestsMatching &#39;*IT&#39;\r\n            includeTestsMatching &#39;IT*&#39;\r\n            includeTestsMatching &#39;*ITCase&#39;\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) {\r\n    dependsOn integrationTest\r\n}\r\n```","title":"Separate integration and unit tests with Gradle","body":"<p>I ended up using filters to separate the unit and integration tests and to bind the integration tests to the <strong>check</strong> task:</p>\n<pre><code>tasks.named('test') {\n    useJUnitPlatform {\n        filter {\n            includeTestsMatching &quot;*Test&quot;\n            excludeTestsMatching &quot;*IT&quot;\n        }\n    }\n}\n\ndef integrationTest = tasks.register(&quot;integrationTest&quot;, Test) {\n    useJUnitPlatform {\n        filter {\n            includeTestsMatching '*IT'\n            includeTestsMatching 'IT*'\n            includeTestsMatching '*ITCase'\n        }\n    }\n}\n\ntasks.named('check') {\n    dependsOn integrationTest\n}\n</code></pre>\n"}],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285374,"answer_count":1,"score":1,"last_activity_date":1684457818,"creation_date":1681138413,"question_id":75978156,"body_markdown":"I&#39;m migrating an existing Maven and JUnit 5 project where the integration and unit tests are separated into different phases:\r\n\r\n - the `*Test.java` unit tests are run on the *test* phase \r\n - the `*IT.java` integration tests are run on the *verify* phase\r\n\r\nHow do I accomplish the same separation with Gradle? It is my understanding that Gradle&#39;s *check* task is the equivalent to Maven&#39;s *verify*.","title":"Separate integration and unit tests with Gradle","body":"<p>I'm migrating an existing Maven and JUnit 5 project where the integration and unit tests are separated into different phases:</p>\n<ul>\n<li>the <code>*Test.java</code> unit tests are run on the <em>test</em> phase</li>\n<li>the <code>*IT.java</code> integration tests are run on the <em>verify</em> phase</li>\n</ul>\n<p>How do I accomplish the same separation with Gradle? It is my understanding that Gradle's <em>check</em> task is the equivalent to Maven's <em>verify</em>.</p>\n"},{"tags":["java","android","barcode-scanner","capacitor","google-mlkit"],"comments":[{"owner":{"account_id":194463,"reputation":465,"user_id":436810,"accept_rate":75,"display_name":"Vinoth K"},"score":0,"creation_date":1681220912,"post_id":75661357,"comment_id":134018933,"body_markdown":"this is happening in Samsung S22 Ultra as well. It used to work. Suddenly it stopped working. Looks like Google ML Kit is not reliable.","body":"this is happening in Samsung S22 Ultra as well. It used to work. Suddenly it stopped working. Looks like Google ML Kit is not reliable."},{"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"score":0,"creation_date":1681323003,"post_id":75661357,"comment_id":134039373,"body_markdown":"@VinothK It does also not work on the Samsung Galaxy A51 anymore. We had decided to refactor our custom barcode scanning Capacitor plugin to use `com.google.mlkit:barcode-scanning:17.1.0` instead. More info [here](https://developers.google.com/ml-kit/vision/barcode-scanning/android). This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it works perfectly fine and is faster than the one mentioned in my post.","body":"@VinothK It does also not work on the Samsung Galaxy A51 anymore. We had decided to refactor our custom barcode scanning Capacitor plugin to use <code>com.google.mlkit:barcode-scanning:17.1.0</code> instead. More info <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android\" rel=\"nofollow noreferrer\">here</a>. This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it works perfectly fine and is faster than the one mentioned in my post."},{"owner":{"account_id":3791121,"reputation":1002,"user_id":3147640,"accept_rate":55,"display_name":"Sweety Bertilla"},"score":0,"creation_date":1684193600,"post_id":75661357,"comment_id":134478717,"body_markdown":"did we find any solution I am seeing the issue in Samsung S22","body":"did we find any solution I am seeing the issue in Samsung S22"},{"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"score":0,"creation_date":1684308778,"post_id":75661357,"comment_id":134497608,"body_markdown":"@SweetyBertilla The solution for us was to refactor into using `com.google.mlkit:barcode-scanning:17.1.0`","body":"@SweetyBertilla The solution for us was to refactor into using <code>com.google.mlkit:barcode-scanning:17.1.0</code>"},{"owner":{"account_id":3791121,"reputation":1002,"user_id":3147640,"accept_rate":55,"display_name":"Sweety Bertilla"},"score":0,"creation_date":1685035281,"post_id":75661357,"comment_id":134608574,"body_markdown":"@fruityloops but this is different from google code scanner right, we have launch the camera, where as this would directly launch camera outside for us.. also google code scanner was faster when it worked","body":"@fruityloops but this is different from google code scanner right, we have launch the camera, where as this would directly launch camera outside for us.. also google code scanner was faster when it worked"},{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1689663049,"post_id":75661357,"comment_id":135241428,"body_markdown":"The same issue is occurring today. On a Samsung Galaxy M21.","body":"The same issue is occurring today. On a Samsung Galaxy M21."}],"answers":[{"tags":[],"owner":{"account_id":3030073,"reputation":1,"user_id":2569283,"display_name":"RogerBCA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880486,"creation_date":1683880486,"answer_id":76234524,"question_id":75661357,"body_markdown":"The solution that worked for me was to remove the updates from &quot;Google play services&quot;\r\n\r\n\r\n&gt; Story of how I got to this: Yesterday I was testing the library with a\r\n&gt; project that exists on github and everything worked ok\r\n&gt; \r\n&gt; Today I tried to do it directly from a new project (thanks to the\r\n&gt; repository that I used yesterday, I just met\r\n&gt; &quot;com.google.android.gms:play-services-code-scanner&quot;) and I got the\r\n&gt; error that you posted and I couldn&#39;t find a solution (Samsung S20\r\n&gt; Ultra), then a similar error came to mind with the &quot;android webview&quot;\r\n&gt; that made many apps unusable and the solution was to remove all\r\n&gt; updates and everything worked normally, so I tried the same to &quot;Google\r\n&gt; play services &quot;and it turns out that now if I open the camera.\r\n\r\nI hope my solution will help you, which I think is not the cleanest\r\nfor the end user.","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<p>The solution that worked for me was to remove the updates from &quot;Google play services&quot;</p>\n<blockquote>\n<p>Story of how I got to this: Yesterday I was testing the library with a\nproject that exists on github and everything worked ok</p>\n<p>Today I tried to do it directly from a new project (thanks to the\nrepository that I used yesterday, I just met\n&quot;com.google.android.gms:play-services-code-scanner&quot;) and I got the\nerror that you posted and I couldn't find a solution (Samsung S20\nUltra), then a similar error came to mind with the &quot;android webview&quot;\nthat made many apps unusable and the solution was to remove all\nupdates and everything worked normally, so I tried the same to &quot;Google\nplay services &quot;and it turns out that now if I open the camera.</p>\n</blockquote>\n<p>I hope my solution will help you, which I think is not the cleanest\nfor the end user.</p>\n"},{"tags":[],"owner":{"account_id":3235785,"reputation":19,"user_id":2730054,"display_name":"suc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684456391,"creation_date":1684456391,"answer_id":76285310,"question_id":75661357,"body_markdown":"I met similar problem because of reuse `GmsBarcodeScanner`.\r\nMost of time it works. But once it stops working, the phone has to be reset to factory.\r\n\r\nThe old code reuse `GmsBarcodeScanner`:\r\n```\r\nclass HomeFragment : Fragment() {\r\n\tprivate var mQRScanner : GmsBarcodeScanner?           = null\r\n    private var mQrCode    : String?                      = null\r\n\t\r\n\toverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n\t\tval options = GmsBarcodeScannerOptions.Builder()\r\n            .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\r\n            .build()\r\n        mQRScanner = GmsBarcodeScanning.getClient(requireContext(), options)\r\n\t\t\r\n\t\tbinding.bnQrCode.setOnClickListener{\r\n            mQRScanner?.startScan()\r\n                ?.addOnSuccessListener { barcode -&gt;\r\n                    mQrCode = barcode.rawValue                    \r\n                }\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nthe new code:\r\n```\r\nclass HomeFragment : Fragment() {\r\n\tprivate var mQrCode    : String?                      = null\r\n\t\r\n\t override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        binding.bnQrCode.setOnClickListener{\r\n            val options = GmsBarcodeScannerOptions.Builder()\r\n                .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\r\n                .build()\r\n            val QRScanner = GmsBarcodeScanning.getClient( requireContext(), options )\r\n\r\n            QRScanner.startScan()\r\n                .addOnSuccessListener { barcode -&gt;\r\n                    mQrCode = barcode.rawValue\r\n                }                \r\n        }\r\n\t}\r\n}\r\n```","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<p>I met similar problem because of reuse <code>GmsBarcodeScanner</code>.\nMost of time it works. But once it stops working, the phone has to be reset to factory.</p>\n<p>The old code reuse <code>GmsBarcodeScanner</code>:</p>\n<pre><code>class HomeFragment : Fragment() {\n    private var mQRScanner : GmsBarcodeScanner?           = null\n    private var mQrCode    : String?                      = null\n    \n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val options = GmsBarcodeScannerOptions.Builder()\n            .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\n            .build()\n        mQRScanner = GmsBarcodeScanning.getClient(requireContext(), options)\n        \n        binding.bnQrCode.setOnClickListener{\n            mQRScanner?.startScan()\n                ?.addOnSuccessListener { barcode -&gt;\n                    mQrCode = barcode.rawValue                    \n                }\n        }\n    }\n}\n</code></pre>\n<p>the new code:</p>\n<pre><code>class HomeFragment : Fragment() {\n    private var mQrCode    : String?                      = null\n    \n     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        binding.bnQrCode.setOnClickListener{\n            val options = GmsBarcodeScannerOptions.Builder()\n                .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\n                .build()\n            val QRScanner = GmsBarcodeScanning.getClient( requireContext(), options )\n\n            QRScanner.startScan()\n                .addOnSuccessListener { barcode -&gt;\n                    mQrCode = barcode.rawValue\n                }                \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684456391,"creation_date":1678188240,"question_id":75661357,"body_markdown":"## UPDATE:\r\n\r\n**Maybe it works now since the [March 21, 2023 update](https://developers.google.com/ml-kit/release-notes#march_21_2023), maybe not.** You can read more about it in the [docs](https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner) if you want to use it.\r\n\r\n**Note again that we haven&#39;t tested if it works now. We had to quickly decide on how to get barcode scanning working again. So we refactored our custom barcode scanning Capacitor plugin to use `com.google.mlkit:barcode-scanning:17.1.0` instead. More info about it [here](https://developers.google.com/ml-kit/vision/barcode-scanning/android). This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it just works and it seems to be faster.**\r\n\r\n---\r\n\r\nWe are using `com.google.android.gms:play-services-code-scanner:16.0.0-beta3` in combination with a custom Capacitor plugin for scanning barcodes like EAN-13 and EAN-8, but on certain devices, the activity seems to crash whenever the user tries to open the Google&#39;s barcode scanner UI.\r\n\r\nHere is the **error log** from logcat:\r\n\r\n```\r\nwin=Window{f8c052d u0 com.[redacted]/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136\r\n```\r\n\r\nThe code that handles the scanning UI:\r\n\r\n```java\r\npackage com.[redacted];\r\n\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginCall;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\nimport com.google.mlkit.vision.barcode.common.Barcode;\r\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScannerOptions;\r\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScanning;\r\n\r\n@CapacitorPlugin()\r\npublic class BarcodeScanner extends Plugin  {\r\n    private void scan() {\r\n        GmsBarcodeScannerOptions options = new GmsBarcodeScannerOptions.Builder()\r\n                .setBarcodeFormats(Barcode.FORMAT_EAN_13, Barcode.FORMAT_EAN_8, Barcode.FORMAT_CODE_128, Barcode.FORMAT_ITF)\r\n                .allowManualInput()\r\n                .build();\r\n\r\n        GmsBarcodeScanning\r\n                .getClient(getContext(), options)\r\n                .startScan()\r\n                .addOnSuccessListener(this::onSuccess);\r\n    }\r\n\r\n    private void onSuccess(Barcode result) {\r\n        JSObject jsObject = new JSObject();\r\n        jsObject.put(&quot;content&quot;, result.getDisplayValue());\r\n        jsObject.put(&quot;format&quot;, result.getFormat());\r\n\r\n        this.getSavedCall().success(jsObject);\r\n    }\r\n\r\n    @PluginMethod\r\n    public void startScan(PluginCall call) {\r\n        this.saveCall(call);\r\n        this.scan();\r\n    }\r\n}\r\n```\r\n\r\nThe versions\r\n```gradle\r\n    minSdkVersion = 23\r\n    compileSdkVersion = 33\r\n    targetSdkVersion = 33\r\n    androidxActivityVersion = &#39;1.6.1&#39;\r\n    androidxAppCompatVersion = &#39;1.6.1&#39;\r\n    androidxCoordinatorLayoutVersion = &#39;1.2.0&#39;\r\n    androidxCoreVersion = &#39;1.9.0&#39;\r\n    androidxFragmentVersion = &#39;1.5.5&#39;\r\n    coreSplashScreenVersion = &#39;1.0.0-rc01&#39;\r\n    androidxWebkitVersion = &#39;1.6.0&#39;\r\n    junitVersion = &#39;4.13.2&#39;\r\n    androidxJunitVersion = &#39;1.1.5&#39;\r\n    androidxEspressoCoreVersion = &#39;3.5.1&#39;\r\n    cordovaAndroidVersion = &#39;10.1.1&#39;\r\n```\r\n\r\nWe have updated the Android Webview to the latest version, as well as any implementation package inside the app and Capacitor plugin&#39;s `build.gradle` files. We have no clue what causes the error, because the error description is very vague. We cannot find a solution anywhere. The error happens on a Galaxy Tab S7, **where it has worked before**. It suddenly stopped working, probably because of an internal update we don&#39;t know anything of. We have also tested with a Samsung Galaxy A51, but it just works on that device.","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<h2>UPDATE:</h2>\n<p><strong>Maybe it works now since the <a href=\"https://developers.google.com/ml-kit/release-notes#march_21_2023\" rel=\"nofollow noreferrer\">March 21, 2023 update</a>, maybe not.</strong> You can read more about it in the <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner\" rel=\"nofollow noreferrer\">docs</a> if you want to use it.</p>\n<p><strong>Note again that we haven't tested if it works now. We had to quickly decide on how to get barcode scanning working again. So we refactored our custom barcode scanning Capacitor plugin to use <code>com.google.mlkit:barcode-scanning:17.1.0</code> instead. More info about it <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android\" rel=\"nofollow noreferrer\">here</a>. This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it just works and it seems to be faster.</strong></p>\n<hr />\n<p>We are using <code>com.google.android.gms:play-services-code-scanner:16.0.0-beta3</code> in combination with a custom Capacitor plugin for scanning barcodes like EAN-13 and EAN-8, but on certain devices, the activity seems to crash whenever the user tries to open the Google's barcode scanner UI.</p>\n<p>Here is the <strong>error log</strong> from logcat:</p>\n<pre><code>win=Window{f8c052d u0 com.[redacted]/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136\n</code></pre>\n<p>The code that handles the scanning UI:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.[redacted];\n\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport com.google.mlkit.vision.barcode.common.Barcode;\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScannerOptions;\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScanning;\n\n@CapacitorPlugin()\npublic class BarcodeScanner extends Plugin  {\n    private void scan() {\n        GmsBarcodeScannerOptions options = new GmsBarcodeScannerOptions.Builder()\n                .setBarcodeFormats(Barcode.FORMAT_EAN_13, Barcode.FORMAT_EAN_8, Barcode.FORMAT_CODE_128, Barcode.FORMAT_ITF)\n                .allowManualInput()\n                .build();\n\n        GmsBarcodeScanning\n                .getClient(getContext(), options)\n                .startScan()\n                .addOnSuccessListener(this::onSuccess);\n    }\n\n    private void onSuccess(Barcode result) {\n        JSObject jsObject = new JSObject();\n        jsObject.put(&quot;content&quot;, result.getDisplayValue());\n        jsObject.put(&quot;format&quot;, result.getFormat());\n\n        this.getSavedCall().success(jsObject);\n    }\n\n    @PluginMethod\n    public void startScan(PluginCall call) {\n        this.saveCall(call);\n        this.scan();\n    }\n}\n</code></pre>\n<p>The versions</p>\n<pre><code>    minSdkVersion = 23\n    compileSdkVersion = 33\n    targetSdkVersion = 33\n    androidxActivityVersion = '1.6.1'\n    androidxAppCompatVersion = '1.6.1'\n    androidxCoordinatorLayoutVersion = '1.2.0'\n    androidxCoreVersion = '1.9.0'\n    androidxFragmentVersion = '1.5.5'\n    coreSplashScreenVersion = '1.0.0-rc01'\n    androidxWebkitVersion = '1.6.0'\n    junitVersion = '4.13.2'\n    androidxJunitVersion = '1.1.5'\n    androidxEspressoCoreVersion = '3.5.1'\n    cordovaAndroidVersion = '10.1.1'\n</code></pre>\n<p>We have updated the Android Webview to the latest version, as well as any implementation package inside the app and Capacitor plugin's <code>build.gradle</code> files. We have no clue what causes the error, because the error description is very vague. We cannot find a solution anywhere. The error happens on a Galaxy Tab S7, <strong>where it has worked before</strong>. It suddenly stopped working, probably because of an internal update we don't know anything of. We have also tested with a Samsung Galaxy A51, but it just works on that device.</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1413467735,"creation_date":1413467735,"answer_id":26406270,"question_id":26406010,"body_markdown":"You should try this:\r\n\r\n    info.addStyleName(&quot;line&quot;);\r\n    \r\nwith this CSS:\r\n\r\n    .v-caption-line {\r\n        display: inline !important;\r\n    }","title":"How to output label with icon in line?","body":"<p>You should try this:</p>\n\n<pre><code>info.addStyleName(\"line\");\n</code></pre>\n\n<p>with this CSS:</p>\n\n<pre><code>.v-caption-line {\n    display: inline !important;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":559143,"reputation":36,"user_id":4117602,"display_name":"Abdullah Amin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413469741,"creation_date":1413469741,"answer_id":26406921,"question_id":26406010,"body_markdown":"It might be the label as well, you can try some inline CSS since you have specified your content type to HTML anyway, it should be something like this:\r\n`Label info = new Label(&quot;&lt;span style=\\&quot;dispaly: inline;\\&quot;&gt;Reports are generated every day at 5 pm&lt;/span&gt;&quot;, ContentMode.HTML);`\r\n\r\nIf that didn&#39;t work, try doing the same thing with the div associated with the label - or - you can inject your icon with the inline CSS within the span.","title":"How to output label with icon in line?","body":"<p>It might be the label as well, you can try some inline CSS since you have specified your content type to HTML anyway, it should be something like this:\n<code>Label info = new Label(\"&lt;span style=\\\"dispaly: inline;\\\"&gt;Reports are generated every day at 5 pm&lt;/span&gt;\", ContentMode.HTML);</code></p>\n\n<p>If that didn't work, try doing the same thing with the div associated with the label - or - you can inject your icon with the inline CSS within the span.</p>\n"},{"tags":[],"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1444049702,"creation_date":1444049702,"answer_id":32949196,"question_id":26406010,"body_markdown":"You can use icon inside label text:\r\n\r\n    Label date = new Label(FontAwesome.CALENDAR.getHtml() + &quot; &quot; + new Date());\r\n    date.setContentMode(ContentMode.HTML);\r\n\r\nSource: [Vaadin Wiki](https://vaadin.com/wiki?p_p_id=36&amp;p_p_lifecycle=0&amp;p_p_state=normal&amp;p_p_mode=view&amp;p_p_col_id=row-1&amp;p_p_col_pos=1&amp;p_p_col_count=3&amp;_36_struts_action=%2Fwiki%2Fview&amp;p_r_p_185834411_nodeName=vaadin.com+wiki&amp;p_r_p_185834411_title=Using+font+icons#section-Using+font+icons-Using+FontAwesome).\r\n\r\nResult:\r\n\r\n[![Vaadin label with icon in the same line.][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VHTbk.png","title":"How to output label with icon in line?","body":"<p>You can use icon inside label text:</p>\n\n<pre><code>Label date = new Label(FontAwesome.CALENDAR.getHtml() + \" \" + new Date());\ndate.setContentMode(ContentMode.HTML);\n</code></pre>\n\n<p>Source: <a href=\"https://vaadin.com/wiki?p_p_id=36&amp;p_p_lifecycle=0&amp;p_p_state=normal&amp;p_p_mode=view&amp;p_p_col_id=row-1&amp;p_p_col_pos=1&amp;p_p_col_count=3&amp;_36_struts_action=%2Fwiki%2Fview&amp;p_r_p_185834411_nodeName=vaadin.com+wiki&amp;p_r_p_185834411_title=Using+font+icons#section-Using+font+icons-Using+FontAwesome\" rel=\"noreferrer\">Vaadin Wiki</a>.</p>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VHTbk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VHTbk.png\" alt=\"Vaadin label with icon in the same line.\"></a></p>\n"},{"tags":[],"owner":{"account_id":4780239,"reputation":300,"user_id":3865181,"accept_rate":100,"display_name":"spilymp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467847120,"creation_date":1467847120,"answer_id":38235335,"question_id":26406010,"body_markdown":"I had the same problem and used the following &quot;solution&quot; at the end. The advantage is if you use multiple labels on below each other they have the same space between icon and text.\r\n\r\nVaadin Code\r\n\r\n\tButton label = new Button(&quot;Your label text here.&quot;);\r\n\tlabel.setIcon(FontAwesome.USER);\r\n\tlabel.addStyleName(ValoTheme.BUTTON_BORDERLESS + &quot; labelButton&quot;);\r\n\r\nCSS Code\r\n\r\n\t.labelButton:after, .labelButton:active {\r\n  \t\tcontent: none;\r\n  \t\tborder: none;\r\n  \t\tcolor: #000000;\r\n\t}\r\n\t\t\r\n\t.labelButton {\r\n\t\tcursor: default;\r\n\t}","title":"How to output label with icon in line?","body":"<p>I had the same problem and used the following \"solution\" at the end. The advantage is if you use multiple labels on below each other they have the same space between icon and text.</p>\n\n<p>Vaadin Code</p>\n\n<pre><code>Button label = new Button(\"Your label text here.\");\nlabel.setIcon(FontAwesome.USER);\nlabel.addStyleName(ValoTheme.BUTTON_BORDERLESS + \" labelButton\");\n</code></pre>\n\n<p>CSS Code</p>\n\n<pre><code>.labelButton:after, .labelButton:active {\n    content: none;\n    border: none;\n    color: #000000;\n}\n\n.labelButton {\n    cursor: default;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13489356,"reputation":55,"user_id":9732125,"display_name":"Lakshan Thilakarathne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684455476,"creation_date":1684455476,"answer_id":76285270,"question_id":26406010,"body_markdown":"**If it is your label is plain text, We can use use label.setCaption() instead of label.setValue() (leaving the value unset/null) Then caption will appear next to the icon.**\r\n\r\nBut there will be additional empty space left below the label due to the space reserved for the blank value. This may impact the appearance. To avoid that we can use alignments for the whole row by align other elements to top (`layout.setComponentAlignment(otherComponent, Alignment.TOP_LEFT);`).","title":"How to output label with icon in line?","body":"<p><strong>If it is your label is plain text, We can use use label.setCaption() instead of label.setValue() (leaving the value unset/null) Then caption will appear next to the icon.</strong></p>\n<p>But there will be additional empty space left below the label due to the space reserved for the blank value. This may impact the appearance. To avoid that we can use alignments for the whole row by align other elements to top (<code>layout.setComponentAlignment(otherComponent, Alignment.TOP_LEFT);</code>).</p>\n"}],"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6453,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32949196,"answer_count":5,"score":4,"last_activity_date":1684455476,"creation_date":1413467004,"question_id":26406010,"body_markdown":"Text of the label jumps on a next line when I use `setIcon()`. How to output it in one line?         \r\n         \r\n    Label info = new Label(&quot;Reports are generated every day at 5 pm&quot;, ContentMode.HTML);\r\n    info.setIcon( new ThemeResource(&quot;img/icons/information.png&quot;) ) ;\r\n    info.setSizeUndefined();\r\n    JobsLayout.addComponent( info );\r\n    JobsLayout.setComponentAlignment(info, Alignment.MIDDLE_RIGHT);","title":"How to output label with icon in line?","body":"<p>Text of the label jumps on a next line when I use <code>setIcon()</code>. How to output it in one line?         </p>\n\n<pre><code>Label info = new Label(\"Reports are generated every day at 5 pm\", ContentMode.HTML);\ninfo.setIcon( new ThemeResource(\"img/icons/information.png\") ) ;\ninfo.setSizeUndefined();\nJobsLayout.addComponent( info );\nJobsLayout.setComponentAlignment(info, Alignment.MIDDLE_RIGHT);\n</code></pre>\n"},{"tags":["java","c++","math","bit-manipulation","integer-overflow"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1380589573,"post_id":19106350,"comment_id":28250305,"body_markdown":"Java doesn&#39;t have unsigned integers. Consider what would happen if your `int` overflowed? Also consider what `&gt;&gt;&gt;` does.","body":"Java doesn&#39;t have unsigned integers. Consider what would happen if your <code>int</code> overflowed? Also consider what <code>&gt;&gt;&gt;</code> does."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1380589974,"post_id":19106350,"comment_id":28250377,"body_markdown":"I suggest you try it and see what difference it makes. This has been a known issue for decades so you could look it up but you will learn more by figuring it out by yourself.","body":"I suggest you try it and see what difference it makes. This has been a known issue for decades so you could look it up but you will learn more by figuring it out by yourself."}],"answers":[{"tags":[],"owner":{"account_id":3374746,"reputation":59,"user_id":2833119,"display_name":"trimble13"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380589980,"creation_date":1380589980,"answer_id":19106417,"question_id":19106350,"body_markdown":"You cannot use an unsigned int in Java. In case of overflow, the low 32 bits are considered, and the high order bits are discarded. The unsigned right shift will help u treat the int as unsigned int. However, in C++ you won&#39;t have the overflow.","title":"Explanation of the safe average of two numbers","body":"<p>You cannot use an unsigned int in Java. In case of overflow, the low 32 bits are considered, and the high order bits are discarded. The unsigned right shift will help u treat the int as unsigned int. However, in C++ you won't have the overflow.</p>\n"},{"tags":[],"owner":{"account_id":91739,"reputation":95489,"user_id":251738,"accept_rate":75,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380590488,"creation_date":1380589995,"answer_id":19106420,"question_id":19106350,"body_markdown":"The C++ version *doesn&#39;t* solve the overflow issue. It only solves the issue of successfully dividing by 2 using shift instead of `/`, an optimization that your compiler should be able to make itself if it would be a performance improvement.\r\n\r\nOn the other hand overflow may not be a real problem, if your integral types are large enough to hold a reasonable range of indices.","title":"Explanation of the safe average of two numbers","body":"<p>The C++ version <em>doesn't</em> solve the overflow issue. It only solves the issue of successfully dividing by 2 using shift instead of <code>/</code>, an optimization that your compiler should be able to make itself if it would be a performance improvement.</p>\n\n<p>On the other hand overflow may not be a real problem, if your integral types are large enough to hold a reasonable range of indices.</p>\n"},{"tags":[],"owner":{"account_id":1488826,"reputation":1027,"user_id":1396448,"display_name":"Diego Giagio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380590181,"creation_date":1380590181,"answer_id":19106443,"question_id":19106350,"body_markdown":"You are safe from integer overflows by using the way you said you already use, which is:\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nLet you compiler do it&#39;s job to optimize this if it needs to.","title":"Explanation of the safe average of two numbers","body":"<p>You are safe from integer overflows by using the way you said you already use, which is:</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>Let you compiler do it's job to optimize this if it needs to.</p>\n"},{"tags":[],"owner":{"account_id":125768,"reputation":16988,"user_id":321772,"accept_rate":81,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684453760,"creation_date":1380590426,"answer_id":19106474,"question_id":19106350,"body_markdown":"The C++ version has a hidden cheat: `low` and `high` are `int`s but they&#39;re never negative. When you cast them to `unsigned int` your sign bit becomes an extra precision bit, which a single addition cannot overflow.\r\n\r\nIt&#39;s not a very good cheat because array indices *may* be `unsigned` already. In that case the assumption is that the actual values aren&#39;t large enough to overflow even though they could be. If using 64-bit integers then that&#39;s a safe enough bet.\r\n\r\nLike was said elsewhere, `i &gt;&gt; 1` means `/2` for unsigned integers. ","title":"Explanation of the safe average of two numbers","body":"<p>The C++ version has a hidden cheat: <code>low</code> and <code>high</code> are <code>int</code>s but they're never negative. When you cast them to <code>unsigned int</code> your sign bit becomes an extra precision bit, which a single addition cannot overflow.</p>\n<p>It's not a very good cheat because array indices <em>may</em> be <code>unsigned</code> already. In that case the assumption is that the actual values aren't large enough to overflow even though they could be. If using 64-bit integers then that's a safe enough bet.</p>\n<p>Like was said elsewhere, <code>i &gt;&gt; 1</code> means <code>/2</code> for unsigned integers.</p>\n"},{"tags":[],"owner":{"account_id":1884536,"reputation":715,"user_id":1964573,"accept_rate":83,"display_name":"John Zeringue"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1380590493,"creation_date":1380590493,"answer_id":19106490,"question_id":19106350,"body_markdown":"So let&#39;s consider bytes instead of ints. The only difference is that a byte is an 8-bit integer, while an int has 32 bits. In Java, both are always signed, meaning that the leading bit indicates whether they&#39;re positive (0) or negative (1).\r\n\r\n    byte low = Byte.valueOf(&quot;01111111&quot;, 2); // The maximum byte value\r\n    byte high = low; // This copies low.\r\n\r\n    byte sum = low + high; // The bit representation of this is 11111110, which, having a\r\n                           // leading 1, is negative. Consider this the worst case\r\n                           // overflow, since low and high can&#39;t be any larger.\r\n\r\n    byte mid = sum &gt;&gt;&gt; 1; // This correctly gives us 01111111, fixing the overflow.\r\n\r\nFor ints, it&#39;s the same thing. Basically the gist of all this is that using an unsigned bitshift on signed integers allows you to leverage the leading bit to handle the largest possible values of low and high.","title":"Explanation of the safe average of two numbers","body":"<p>So let's consider bytes instead of ints. The only difference is that a byte is an 8-bit integer, while an int has 32 bits. In Java, both are always signed, meaning that the leading bit indicates whether they're positive (0) or negative (1).</p>\n\n<pre><code>byte low = Byte.valueOf(\"01111111\", 2); // The maximum byte value\nbyte high = low; // This copies low.\n\nbyte sum = low + high; // The bit representation of this is 11111110, which, having a\n                       // leading 1, is negative. Consider this the worst case\n                       // overflow, since low and high can't be any larger.\n\nbyte mid = sum &gt;&gt;&gt; 1; // This correctly gives us 01111111, fixing the overflow.\n</code></pre>\n\n<p>For ints, it's the same thing. Basically the gist of all this is that using an unsigned bitshift on signed integers allows you to leverage the leading bit to handle the largest possible values of low and high.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1380617046,"creation_date":1380614472,"answer_id":19110944,"question_id":19106350,"body_markdown":"The code you saw is broken: it doesn&#39;t compute the average of negative numbers correctly. If you are operating on non-negative values only, like indexes, that&#39;s OK, but it&#39;s not a  general replacement.\r\nThe code you have originally,\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nisn&#39;t safe from overflow either because the difference `high - low` may overflow the range for signed integers. Again, if you only work with non-negative integers it&#39;s fine.\r\n\r\nUsing the fact that `A+B = 2*(A&amp;B) + A^B` we can compute the average of two integers without overflow like this:\r\n\r\n    int mid = (high&amp;low) + (high^low)/2;\r\n\r\nYou can compute the division by 2 using a bit shift, but keep in mind the two are not the same: the division rounds towards 0 while the bit shift always rounds down.\r\n\r\n    int mid = (high&amp;low) + ((high^low)&gt;&gt;1);","title":"Explanation of the safe average of two numbers","body":"<p>The code you saw is broken: it doesn't compute the average of negative numbers correctly. If you are operating on non-negative values only, like indexes, that's OK, but it's not a  general replacement.\nThe code you have originally,</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>isn't safe from overflow either because the difference <code>high - low</code> may overflow the range for signed integers. Again, if you only work with non-negative integers it's fine.</p>\n\n<p>Using the fact that <code>A+B = 2*(A&amp;B) + A^B</code> we can compute the average of two integers without overflow like this:</p>\n\n<pre><code>int mid = (high&amp;low) + (high^low)/2;\n</code></pre>\n\n<p>You can compute the division by 2 using a bit shift, but keep in mind the two are not the same: the division rounds towards 0 while the bit shift always rounds down.</p>\n\n<pre><code>int mid = (high&amp;low) + ((high^low)&gt;&gt;1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3794893,"reputation":49,"user_id":3150318,"accept_rate":0,"display_name":"user3150318"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589844682,"creation_date":1589844682,"answer_id":61880711,"question_id":19106350,"body_markdown":"Program synthesis techniques appear to solve such problems. \r\n\r\nIn this video, the programmer specifies constraints a) no overflow, b) no division, and c) no if-then-else. The synthesizer automatically came up with something pretty nice.\r\n\r\nhttps://youtu.be/jZ-mMprVVBU ","title":"Explanation of the safe average of two numbers","body":"<p>Program synthesis techniques appear to solve such problems. </p>\n\n<p>In this video, the programmer specifies constraints a) no overflow, b) no division, and c) no if-then-else. The synthesizer automatically came up with something pretty nice.</p>\n\n<p><a href=\"https://youtu.be/jZ-mMprVVBU\" rel=\"nofollow noreferrer\">https://youtu.be/jZ-mMprVVBU</a> </p>\n"}],"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8206,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":19106490,"answer_count":7,"score":12,"last_activity_date":1684453760,"creation_date":1380589497,"question_id":19106350,"body_markdown":"Whenever I need to average two numbers for an algorithm like binary search, I always do something like this:\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nI recently saw another way to do it in [this post][1], but I don&#39;t understand it. It says you can do this in Java:\r\n\r\n    int mid = (low + high) &gt;&gt;&gt; 1;\r\n\r\nor this in C++:\r\n\r\n    int mid = ((unsigned int)low + (unsigned int)high)) &gt;&gt; 1;\r\n\r\nThe C++ version essentially makes both operands unsigned, so doing a shift results in an arithmetic shift instead of a signed shift. I understand what both these pieces of code are doing, but how does this solve the overflow issue? I thought the whole issue was that the intermediate value `high + low` could overflow?\r\n\r\n**Edit:**\r\n\r\nOh, duh. All the answers didn&#39;t exactly answer my question, but it was @John Zeringue&#39;s answer that made it click. I&#39;ll try to explain here.\r\n\r\nThe issue with `(high + low)/2` in Java isn&#39;t exactly that `high + low` overflows (it does overflow since the integers are both signed, but all the bits are still there, and no information is lost). The issue with taking the average like this is the division. The division is operating on a signed value, so your result will be negative. Using the shift instead will divide by two but consider the bits instead of the sign (effectively treating it as unsigned).\r\n\r\n\r\n  [1]: http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html","title":"Explanation of the safe average of two numbers","body":"<p>Whenever I need to average two numbers for an algorithm like binary search, I always do something like this:</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>I recently saw another way to do it in <a href=\"http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"noreferrer\">this post</a>, but I don't understand it. It says you can do this in Java:</p>\n\n<pre><code>int mid = (low + high) &gt;&gt;&gt; 1;\n</code></pre>\n\n<p>or this in C++:</p>\n\n<pre><code>int mid = ((unsigned int)low + (unsigned int)high)) &gt;&gt; 1;\n</code></pre>\n\n<p>The C++ version essentially makes both operands unsigned, so doing a shift results in an arithmetic shift instead of a signed shift. I understand what both these pieces of code are doing, but how does this solve the overflow issue? I thought the whole issue was that the intermediate value <code>high + low</code> could overflow?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Oh, duh. All the answers didn't exactly answer my question, but it was @John Zeringue's answer that made it click. I'll try to explain here.</p>\n\n<p>The issue with <code>(high + low)/2</code> in Java isn't exactly that <code>high + low</code> overflows (it does overflow since the integers are both signed, but all the bits are still there, and no information is lost). The issue with taking the average like this is the division. The division is operating on a signed value, so your result will be negative. Using the shift instead will divide by two but consider the bits instead of the sign (effectively treating it as unsigned).</p>\n"},{"tags":["java","docker","jvm"],"comments":[{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":0,"creation_date":1523872010,"post_id":49854237,"comment_id":86722910,"body_markdown":"Related: https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j","body":"Related: <a href=\"https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j\" title=\"how do i elegantly and safely maximize the amount of heap space allocated to a j\">stackoverflow.com/questions/46211535/&hellip;</a>"},{"owner":{"account_id":303777,"reputation":4568,"user_id":612920,"accept_rate":87,"display_name":"Mansuro"},"score":0,"creation_date":1523872449,"post_id":49854237,"comment_id":86723191,"body_markdown":"Did you read [Running a JVM in a container without getting killed](https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/)?","body":"Did you read <a href=\"https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/\" rel=\"nofollow noreferrer\">Running a JVM in a container without getting killed</a>?"},{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":2,"creation_date":1523874447,"post_id":49854237,"comment_id":86724455,"body_markdown":"I did. Someone asked in the comments whether allocating more than 90% of the available RAM for heap was safe and the author replied &quot;Supposedly the MaxRAMFraction=1 will still leave some room for the other non-heap memory. I haven’t done extensive testing though&quot;. Does not seem like a definitive answer.","body":"I did. Someone asked in the comments whether allocating more than 90% of the available RAM for heap was safe and the author replied &quot;Supposedly the MaxRAMFraction=1 will still leave some room for the other non-heap memory. I haven’t done extensive testing though&quot;. Does not seem like a definitive answer."},{"owner":{"account_id":2810249,"reputation":181,"user_id":2416624,"display_name":"Ashutosh"},"score":8,"creation_date":1526454109,"post_id":49854237,"comment_id":87744796,"body_markdown":"I know you are asking for Java8/9, but just an fyi Java 10 has added new option -XX:MaxRAMPercentage which is more sensible and gives more flexibility to specify the max heap size. So you can say -XX:MaxRAMPercentage=80 to tell JVM to use 80% of container memory as the heap. And the default max heap size is also closer to the container memory limit.","body":"I know you are asking for Java8/9, but just an fyi Java 10 has added new option -XX:MaxRAMPercentage which is more sensible and gives more flexibility to specify the max heap size. So you can say -XX:MaxRAMPercentage=80 to tell JVM to use 80% of container memory as the heap. And the default max heap size is also closer to the container memory limit."},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":0,"creation_date":1680687174,"post_id":49854237,"comment_id":133938833,"body_markdown":"why is -Xss used for","body":"why is -Xss used for"}],"answers":[{"tags":[],"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1684453154,"creation_date":1525896226,"answer_id":50261206,"question_id":49854237,"body_markdown":"We did some simple testing which showed that setting `-XX:MaxRAM=$QUOTA` and `-XX:MaxRAMFraction=1` results in killed containers under load. The JVM allocates more than 900M heap, which is way too much. `-XX:MaxRAMFraction=2` seems safe(ish).\r\n\r\nKeep in mind that you may want to leave headroom for other processes like getting a debug shell (`docker exec`) or diagnostics in the container.\r\n\r\n---\r\n\r\nEdit: we&#39;ve written up what we&#39;ve learned in detail in an [article][1]. Money quotes:\r\n\r\n&gt;**TL&#39;DR:** \r\nJava memory management and configuration is still complex. Although the JVM can read cgroup memory limits and adapt memory usage accordingly since Java 9/8u131, it’s not a golden bullet. You need to know what `-XX:+UseCGroupMemoryLimitForHeap` does and you need to fine tune some parameters for every deployment. Otherwise you risk wasting resources and money or getting your containers killed at the worst time possible. `-XX:MaxRAMFraction=1` is especially dangerous. Java 10+ brings a lot of improvements but still needs manual configuration. To be safe, load test your stuff.\r\n\r\nand\r\n\r\n&gt; The most elegant solution is to upgrade to Java 10+. Java 10 deprecates `-XX:+UseCGroupMemoryLimitForHeap` (11) and introduces `-XX:+UseContainerSupport` (12), which supersedes it. It also introduces `-XX:MaxRAMPercentage` (13) which takes a value between 0 and 100. This allows fine grained control of the amount of RAM the JVM is allowed to allocate. Since `+UseContainerSupport` is enabled by default, everything should work out of the box.\r\n\r\n---\r\n\r\nEdit #2: we&#39;ve [written a little bit more][2] about `-XX:+UseContainerSupport`\r\n\r\n&gt; Java 10 introduced `+UseContainerSupport` (enabled by default) which makes the JVM use sane defaults in a container environment. This feature is backported to Java 8 since 8u191, potentially allowing a huge percentage of Java deployments in the wild to properly configure their memory.\r\n\r\n\r\n  [1]: https://www.atamanroman.dev/development/2018/11/10/jvm-memory-settings-container-environment.html\r\n  [2]: https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>We did some simple testing which showed that setting <code>-XX:MaxRAM=$QUOTA</code> and <code>-XX:MaxRAMFraction=1</code> results in killed containers under load. The JVM allocates more than 900M heap, which is way too much. <code>-XX:MaxRAMFraction=2</code> seems safe(ish).</p>\n<p>Keep in mind that you may want to leave headroom for other processes like getting a debug shell (<code>docker exec</code>) or diagnostics in the container.</p>\n<hr />\n<p>Edit: we've written up what we've learned in detail in an <a href=\"https://www.atamanroman.dev/development/2018/11/10/jvm-memory-settings-container-environment.html\" rel=\"nofollow noreferrer\">article</a>. Money quotes:</p>\n<blockquote>\n<p><strong>TL'DR:</strong>\nJava memory management and configuration is still complex. Although the JVM can read cgroup memory limits and adapt memory usage accordingly since Java 9/8u131, it’s not a golden bullet. You need to know what <code>-XX:+UseCGroupMemoryLimitForHeap</code> does and you need to fine tune some parameters for every deployment. Otherwise you risk wasting resources and money or getting your containers killed at the worst time possible. <code>-XX:MaxRAMFraction=1</code> is especially dangerous. Java 10+ brings a lot of improvements but still needs manual configuration. To be safe, load test your stuff.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The most elegant solution is to upgrade to Java 10+. Java 10 deprecates <code>-XX:+UseCGroupMemoryLimitForHeap</code> (11) and introduces <code>-XX:+UseContainerSupport</code> (12), which supersedes it. It also introduces <code>-XX:MaxRAMPercentage</code> (13) which takes a value between 0 and 100. This allows fine grained control of the amount of RAM the JVM is allowed to allocate. Since <code>+UseContainerSupport</code> is enabled by default, everything should work out of the box.</p>\n</blockquote>\n<hr />\n<p>Edit #2: we've <a href=\"https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html\" rel=\"nofollow noreferrer\">written a little bit more</a> about <code>-XX:+UseContainerSupport</code></p>\n<blockquote>\n<p>Java 10 introduced <code>+UseContainerSupport</code> (enabled by default) which makes the JVM use sane defaults in a container environment. This feature is backported to Java 8 since 8u191, potentially allowing a huge percentage of Java deployments in the wild to properly configure their memory.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1545356425,"creation_date":1545293315,"answer_id":53864640,"question_id":49854237,"body_markdown":"The recent oracle-jdk-8(8u191) brings the following options to allow Docker container users to gain more fine grained control over the amount of system memory that will be used for the Java Heap:\r\n\r\n    -XX:InitialRAMPercentage\r\n    -XX:MaxRAMPercentage\r\n    -XX:MinRAMPercentage\r\n\r\n&gt; Three new JVM options have been added to allow Docker container users\r\n&gt; to gain more fine grained control over the amount of system memory\r\n&gt; that will be used for the Java Heap:\r\n&gt; \r\n&gt; -XX:InitialRAMPercentage\r\n&gt; -XX:MaxRAMPercentage\r\n&gt; -XX:MinRAMPercentage These options replace the deprecated Fraction forms (-XX:InitialRAMFraction, -XX:MaxRAMFraction, and\r\n&gt; -XX:MinRAMFraction).\r\n\r\nSee https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>The recent oracle-jdk-8(8u191) brings the following options to allow Docker container users to gain more fine grained control over the amount of system memory that will be used for the Java Heap:</p>\n\n<pre><code>-XX:InitialRAMPercentage\n-XX:MaxRAMPercentage\n-XX:MinRAMPercentage\n</code></pre>\n\n<blockquote>\n  <p>Three new JVM options have been added to allow Docker container users\n  to gain more fine grained control over the amount of system memory\n  that will be used for the Java Heap:</p>\n  \n  <p>-XX:InitialRAMPercentage\n  -XX:MaxRAMPercentage\n  -XX:MinRAMPercentage These options replace the deprecated Fraction forms (-XX:InitialRAMFraction, -XX:MaxRAMFraction, and\n  -XX:MinRAMFraction).</p>\n</blockquote>\n\n<p>See <a href=\"https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html</a></p>\n"}],"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36074,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":50261206,"answer_count":2,"score":55,"last_activity_date":1684453154,"creation_date":1523871905,"question_id":49854237,"body_markdown":"Java 8/9 brought support for `-XX:+UseCGroupMemoryLimitForHeap` (with `-XX:+UnlockExperimentalVMOptions`). This sets `-XX:MaxRAM` to the cgroup memory limit. Per default, the JVM allocates roughly 25% of the max RAM, because `-XX:MaxRAMFraction` defaults to 4.\r\n\r\nExample: \r\n\r\n    MaxRAM = 1g\r\n    MaxRAMFraction = 4\r\n    JVM is allowed to allocate: MaxRAM / MaxRAMFraction = 1g / 4 = 256m\r\n\r\nUsing only 25% of the quota seems like waste for a deployment which (usually) consists of a single JVM process. So now people set `-XX:MaxRAMFraction=1`, so the JVM is theoretically allowed to use 100% of the MaxRAM. \r\n\r\nFor the 1g example, this often results in heap sizes around 900m. This seems a bit high - there is not a lot of free room for the JVM or other stuff like remote shells or out-of-process tasks.\r\n\r\nSo is this configuration (`-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1`) considered safe for prod or even best practice? Or should I still hand pick `-Xmx`, `-Xms`, `-Xss` and so on?","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>Java 8/9 brought support for <code>-XX:+UseCGroupMemoryLimitForHeap</code> (with <code>-XX:+UnlockExperimentalVMOptions</code>). This sets <code>-XX:MaxRAM</code> to the cgroup memory limit. Per default, the JVM allocates roughly 25% of the max RAM, because <code>-XX:MaxRAMFraction</code> defaults to 4.</p>\n\n<p>Example: </p>\n\n<pre><code>MaxRAM = 1g\nMaxRAMFraction = 4\nJVM is allowed to allocate: MaxRAM / MaxRAMFraction = 1g / 4 = 256m\n</code></pre>\n\n<p>Using only 25% of the quota seems like waste for a deployment which (usually) consists of a single JVM process. So now people set <code>-XX:MaxRAMFraction=1</code>, so the JVM is theoretically allowed to use 100% of the MaxRAM. </p>\n\n<p>For the 1g example, this often results in heap sizes around 900m. This seems a bit high - there is not a lot of free room for the JVM or other stuff like remote shells or out-of-process tasks.</p>\n\n<p>So is this configuration (<code>-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1</code>) considered safe for prod or even best practice? Or should I still hand pick <code>-Xmx</code>, <code>-Xms</code>, <code>-Xss</code> and so on?</p>\n"},{"tags":["java","spring","websocket","stomp","sockjs"],"comments":[{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":1,"creation_date":1541096526,"post_id":53105701,"comment_id":93109620,"body_markdown":"It is pretty obvious what is happening. Each HTTP request you send is being redirected to a `login.jsp` page. The 200 is coming from when that login page is requested. So clearly you don&#39;t have the right credentials to access the WebSocket resource, or you are not sending them correctly.","body":"It is pretty obvious what is happening. Each HTTP request you send is being redirected to a <code>login.jsp</code> page. The 200 is coming from when that login page is requested. So clearly you don&#39;t have the right credentials to access the WebSocket resource, or you are not sending them correctly."},{"owner":{"account_id":6241506,"reputation":61,"user_id":4854981,"display_name":"Mohan"},"score":0,"creation_date":1541147773,"post_id":53105701,"comment_id":93124675,"body_markdown":"Hi thanks for the reply. i am new to websockets. how do we add credentials to the websocket client request.","body":"Hi thanks for the reply. i am new to websockets. how do we add credentials to the websocket client request."}],"answers":[{"tags":[],"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1590425000,"creation_date":1590425000,"answer_id":62006898,"question_id":53105701,"body_markdown":"Too late to be able to present a helpful resolution for your problem. Today I&#39;m facing the same issue that you have already experienced. Unfortunately, Spring Framework samples and official resources are not referencing entirely.  Therefore, I would like to write about how I made it up and running. Firstly, the original answer doesn&#39;t belong to me. I found it at https://code5.cn/so/java/783097. \r\n\r\nAs far as I can understand, to be able to upgrade the WebSocket protocol from HTTP, we should extend the &quot;WebSocketConfiguration&quot; part a little bit with desired capabilities.\r\n\r\n```java\r\nRequestUpgradeStrategy upgradeStrategy = new TomcatRequestUpgradeStrategy();\r\nregistry.addEndpoint(&quot;/hello&quot;)\r\n        .withSockJS();\r\n\r\nregistry.addEndpoint(&quot;/hello&quot;)\r\n        .setHandshakeHandler(new DefaultHandshakeHandler(upgradeStrategy))\r\n        .setAllowedOrigins(&quot;*&quot;);\r\n```\r\n\r\nAfter making the above adjustments, you could comprehend regarding switching between protocols through sniffing WireShark.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI hope it would be helpful for someone who is looking for a way to get rid of errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/isL2e.png","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>Too late to be able to present a helpful resolution for your problem. Today I'm facing the same issue that you have already experienced. Unfortunately, Spring Framework samples and official resources are not referencing entirely.  Therefore, I would like to write about how I made it up and running. Firstly, the original answer doesn't belong to me. I found it at <a href=\"https://code5.cn/so/java/783097\" rel=\"noreferrer\">https://code5.cn/so/java/783097</a>. </p>\n\n<p>As far as I can understand, to be able to upgrade the WebSocket protocol from HTTP, we should extend the \"WebSocketConfiguration\" part a little bit with desired capabilities.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RequestUpgradeStrategy upgradeStrategy = new TomcatRequestUpgradeStrategy();\nregistry.addEndpoint(\"/hello\")\n        .withSockJS();\n\nregistry.addEndpoint(\"/hello\")\n        .setHandshakeHandler(new DefaultHandshakeHandler(upgradeStrategy))\n        .setAllowedOrigins(\"*\");\n</code></pre>\n\n<p>After making the above adjustments, you could comprehend regarding switching between protocols through sniffing WireShark.</p>\n\n<p><a href=\"https://i.stack.imgur.com/isL2e.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/isL2e.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope it would be helpful for someone who is looking for a way to get rid of errors.</p>\n"},{"tags":[],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684452668,"creation_date":1684369819,"answer_id":76277005,"question_id":53105701,"body_markdown":" I fixed my project adding the websocket endpoint, from websocket config, into ***requestMatchers(from SecurityFilterChain)*** like this:\r\n\r\n    .requestMatchers(&quot;/h2-console/**&quot;, &quot;/&quot;, &quot;/login&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,\r\n     &quot;/img/**&quot;, &quot;/websocket-server&quot;, &quot;/websocket-server/**&quot;).permitAll()","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>I fixed my project adding the websocket endpoint, from websocket config, into <em><strong>requestMatchers(from SecurityFilterChain)</strong></em> like this:</p>\n<pre><code>.requestMatchers(&quot;/h2-console/**&quot;, &quot;/&quot;, &quot;/login&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,\n &quot;/img/**&quot;, &quot;/websocket-server&quot;, &quot;/websocket-server/**&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":6241506,"reputation":61,"user_id":4854981,"display_name":"Mohan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14160,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684452668,"creation_date":1541090762,"question_id":53105701,"body_markdown":"I have my websocket client developed in STOMP Java client (Spring project) and server implemented in Spring boot.\r\n\r\nWhen the client/server handshake happens, I am getting a connection upgrade issue.\r\n\r\n**Java Client Code**\r\n\r\n    List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\r\n\ttransports.add(new WebSocketTransport(new StandardWebSocketClient()));\t\t\r\n\t\t\r\n\tSockJsClient sockjsClient = new SockJsClient(transports);\t\r\n\t\t\r\n\tWebSocketStompClient stompClient = new WebSocketStompClient(sockjsClient);\r\n\r\n\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\tstompClient.setTaskScheduler(new ConcurrentTaskScheduler());\r\n\r\n\tStompSessionHandler sessionHandler = new SessionHandler();\r\n\tstompClient.connect(&quot;ws://localhost:9090/health&quot;, sessionHandler);\r\n\r\n**Server side**\r\n\r\n    @Override\r\n\tpublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\t\t\r\n\t\tstompEndpointRegistry.addEndpoint(&quot;/health&quot;)\r\n\t\t\t\t.setAllowedOrigins(&quot;*&quot;)\r\n\t\t\t\t.withSockJS();\r\n\t}\r\n\t@Override\r\n\tpublic void configureMessageBroker(MessageBrokerRegistry registry) {\r\n\t\tregistry.enableSimpleBroker(&quot;/topic&quot;);\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n\t}\r\n\r\n**Exception generated at client side while connection to server**\r\n\r\n&lt;pre&gt;\r\n16:18:50.955/3771 [SimpleAsyncTaskExecutor-1] ERROR o.s.w.s.s.c.DefaultTransportRequest - No more fallback transports after TransportRequest[url=ws://localhost:9090/health/29/344d627baac949f5bab5506f05f1a7eb/websocket]\r\njavax.websocket.DeploymentException: The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:434)\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:392)\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:194)\r\n               at org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$doHandshakeInternal$0(StandardWebSocketClient.java:150)\r\n               at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n               at java.lang.Thread.run(Thread.java:745)\r\n&lt;/pre&gt;\r\n\r\n**In the tomcat localhost_access_log I see the below request info**\r\n\r\n&lt;pre&gt;\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /health/info HTTP/1.1&quot; 302 - 0\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /login.jsp HTTP/1.1&quot; 200 7649 16\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /health/191/6828a1fdefee40cf8dc74e825d8d2b0c/websocket HTTP/1.1&quot; 302 - 0\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /login.jsp HTTP/1.1&quot; 200 7649 0\r\n&lt;/pre&gt;\r\n\r\nI didn&#39;t find any info on how to fix this issue and what is causing it.\r\n\r\nPlease help me resolve this issue.","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>I have my websocket client developed in STOMP Java client (Spring project) and server implemented in Spring boot.</p>\n\n<p>When the client/server handshake happens, I am getting a connection upgrade issue.</p>\n\n<p><strong>Java Client Code</strong></p>\n\n<pre><code>List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\ntransports.add(new WebSocketTransport(new StandardWebSocketClient()));      \n\nSockJsClient sockjsClient = new SockJsClient(transports);   \n\nWebSocketStompClient stompClient = new WebSocketStompClient(sockjsClient);\n\nstompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\nstompClient.setTaskScheduler(new ConcurrentTaskScheduler());\n\nStompSessionHandler sessionHandler = new SessionHandler();\nstompClient.connect(\"ws://localhost:9090/health\", sessionHandler);\n</code></pre>\n\n<p><strong>Server side</strong></p>\n\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {       \n    stompEndpointRegistry.addEndpoint(\"/health\")\n            .setAllowedOrigins(\"*\")\n            .withSockJS();\n}\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.enableSimpleBroker(\"/topic\");\n    registry.setApplicationDestinationPrefixes(\"/app\");\n}\n</code></pre>\n\n<p><strong>Exception generated at client side while connection to server</strong></p>\n\n<pre>\n16:18:50.955/3771 [SimpleAsyncTaskExecutor-1] ERROR o.s.w.s.s.c.DefaultTransportRequest - No more fallback transports after TransportRequest[url=ws://localhost:9090/health/29/344d627baac949f5bab5506f05f1a7eb/websocket]\njavax.websocket.DeploymentException: The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:434)\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:392)\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:194)\n               at org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$doHandshakeInternal$0(StandardWebSocketClient.java:150)\n               at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n               at java.lang.Thread.run(Thread.java:745)\n</pre>\n\n<p><strong>In the tomcat localhost_access_log I see the below request info</strong></p>\n\n<pre>\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /health/info HTTP/1.1\" 302 - 0\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /login.jsp HTTP/1.1\" 200 7649 16\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /health/191/6828a1fdefee40cf8dc74e825d8d2b0c/websocket HTTP/1.1\" 302 - 0\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /login.jsp HTTP/1.1\" 200 7649 0\n</pre>\n\n<p>I didn't find any info on how to fix this issue and what is causing it.</p>\n\n<p>Please help me resolve this issue.</p>\n"},{"tags":["java","maven","netbeans","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1684366313,"post_id":76276401,"comment_id":134509839,"body_markdown":"Your version of maven-war-plugin (2.3 from your pom.xml listing) is over 10 years old. Try using a newer version. Also,  GlassFish 7 definitely won&#39;t work with JDK 20 in NetBeans. Unless you have a specific reason to be using JDK 20, just use JDK 17 with NetBeans, and also update your question to state which version  of NetBeans is being used.","body":"Your version of maven-war-plugin (2.3 from your pom.xml listing) is over 10 years old. Try using a newer version. Also,  GlassFish 7 definitely won&#39;t work with JDK 20 in NetBeans. Unless you have a specific reason to be using JDK 20, just use JDK 17 with NetBeans, and also update your question to state which version  of NetBeans is being used."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684452088,"creation_date":1684451619,"answer_id":76285042,"question_id":76276401,"body_markdown":"**TLDR:** \r\n\r\nYou are using a very old version of **maven-war-plugin** in your **pom.xml**. Use a recent version instead.\r\n\r\n**The Details:**\r\n\r\nYou correctly cite this as the root cause of your problem:\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field\r\n&gt; private final java.util.Comparator java.util.TreeMap.comparator\r\n&gt; accessible: module java.base does not &quot;opens java.util&quot; to unnamed\r\n&gt; module @79a13920\r\n\r\nThat error arises from your use of a very old version of the maven-war-plugin:\r\n\r\n&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on\r\n&gt; project mavenproject2: Execution default-war of goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to\r\n&gt; load the mojo &#39;war&#39; in the plugin\r\n&gt; &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API\r\n&gt; incompatibility\r\n\r\nThat _&quot;API incompatibility&quot;_ is happening because you are using version 2.3 of **maven-war-plugin** which was released in 2012. That precedes by several years the introduction of Java Platform Module System (JPMS) in Java in JDK 9 in 2017. \r\n\r\nThe war&#39;s attempt to access `private final java.util.Comparator java.util.TreeMap.comparator` was valid (if unwise) with Java 8, but is no longer allowed with JPMS. So just [use a more recent version of maven-war-plugin](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin) to resolve this.\r\n\r\nHere is the **maven-war-plugin** bug report for this issue, from 2017: [MWAR-405\r\nWorkaround XStream incompatibility with Java9](https://issues.apache.org/jira/browse/MWAR-405). It states: _&quot;The problem is that XStreams tries to access &quot;comparator&quot; field of java.util.TreeMap and this is forbidden in Java9&quot;_. That is exactly what your stack trace shows.\r\n\r\nThere is also an open NetBeans Bug Report for an issue very similar to yours. See [need to update maven-war-plugin for maven web application using jdk17 #4552](https://github.com/apache/netbeans/issues/4552). It shows the same error in the stack trace as yours. Note that the bug report cites this as a workaround:\r\n_&quot;work around bump maven-web-plugin to version 3.3.2 in pom.xml&quot;_. (Actually I see that as the solution rather than a workaround, because there is nothing that NetBeans can do to prevent the use of obsolete software.)\r\n\r\nUpdate your question accordingly if using a recent version of **maven-war-plugin** doesn&#39;t fix your problem.\r\n\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p><strong>TLDR:</strong></p>\n<p>You are using a very old version of <strong>maven-war-plugin</strong> in your <strong>pom.xml</strong>. Use a recent version instead.</p>\n<p><strong>The Details:</strong></p>\n<p>You correctly cite this as the root cause of your problem:</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field\nprivate final java.util.Comparator java.util.TreeMap.comparator\naccessible: module java.base does not &quot;opens java.util&quot; to unnamed\nmodule @79a13920</p>\n</blockquote>\n<p>That error arises from your use of a very old version of the maven-war-plugin:</p>\n<blockquote>\n<p>Failed to execute goal\norg.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on\nproject mavenproject2: Execution default-war of goal\norg.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to\nload the mojo 'war' in the plugin\n'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API\nincompatibility</p>\n</blockquote>\n<p>That <em>&quot;API incompatibility&quot;</em> is happening because you are using version 2.3 of <strong>maven-war-plugin</strong> which was released in 2012. That precedes by several years the introduction of Java Platform Module System (JPMS) in Java in JDK 9 in 2017.</p>\n<p>The war's attempt to access <code>private final java.util.Comparator java.util.TreeMap.comparator</code> was valid (if unwise) with Java 8, but is no longer allowed with JPMS. So just <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin\" rel=\"nofollow noreferrer\">use a more recent version of maven-war-plugin</a> to resolve this.</p>\n<p>Here is the <strong>maven-war-plugin</strong> bug report for this issue, from 2017: <a href=\"https://issues.apache.org/jira/browse/MWAR-405\" rel=\"nofollow noreferrer\">MWAR-405\nWorkaround XStream incompatibility with Java9</a>. It states: <em>&quot;The problem is that XStreams tries to access &quot;comparator&quot; field of java.util.TreeMap and this is forbidden in Java9&quot;</em>. That is exactly what your stack trace shows.</p>\n<p>There is also an open NetBeans Bug Report for an issue very similar to yours. See <a href=\"https://github.com/apache/netbeans/issues/4552\" rel=\"nofollow noreferrer\">need to update maven-war-plugin for maven web application using jdk17 #4552</a>. It shows the same error in the stack trace as yours. Note that the bug report cites this as a workaround:\n<em>&quot;work around bump maven-web-plugin to version 3.3.2 in pom.xml&quot;</em>. (Actually I see that as the solution rather than a workaround, because there is nothing that NetBeans can do to prevent the use of obsolete software.)</p>\n<p>Update your question accordingly if using a recent version of <strong>maven-war-plugin</strong> doesn't fix your problem.</p>\n"}],"owner":{"account_id":28615783,"reputation":25,"user_id":21909811,"display_name":"aapt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76285042,"answer_count":1,"score":2,"last_activity_date":1684452088,"creation_date":1684359890,"question_id":76276401,"body_markdown":"I am trying to create and run a jsf web app of &#39;hellow world&#39; in netbeans using glassfish.\r\nI am using netbeans 17. I am using jdk 17 for glassfish 7.\r\n\r\nI have jdk 20 and jdk 17 installed. I have glassfish 7 installed and using jdk 17.\r\n\r\nThe build of the project when created passes but when I try to actually run in I get the following error\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n\r\nBelow is the full stack trace\r\n\r\n```\r\nError injecting: org.apache.maven.plugin.war.WarMojo\r\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n\r\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\r\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n  while locating org.apache.maven.plugin.war.WarMojo\r\n\r\n1 error\r\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\r\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\r\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\r\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\r\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\r\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt; (TreeMapConverter.java:59)\r\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\r\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\r\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n------------------------------------------------------------------------\r\nBUILD FAILURE\r\n------------------------------------------------------------------------\r\nTotal time:  2.836 s\r\nFinished at: 2023-05-18T00:24:47+03:00\r\n------------------------------------------------------------------------\r\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project mavenproject2: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n-----------------------------------------------------\r\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\r\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\nurls[0] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\r\nurls[1] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\nurls[2] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\nurls[3] = file:/C:/Users/Aidel%20Silber/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\nurls[4] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\nurls[5] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\nurls[6] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\r\nurls[7] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\r\nurls[8] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\nurls[9] = file:/C:/Users/Aidel%20Silber/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\nurls[10] = file:/C:/Users/Aidel%20Silber/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\r\nurls[11] = file:/C:/Users/Aidel%20Silber/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\r\nurls[12] = file:/C:/Users/Aidel%20Silber/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\nurls[13] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\r\nurls[14] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\nNumber of foreign imports: 1\r\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n\r\n-----------------------------------------------------\r\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n-&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n```\r\n\r\nMy pom is as following:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;mavenproject2-1.0-SNAPSHOT&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy nb-configuration is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project-shared-configuration&gt;\r\n    &lt;!--\r\nThis file contains additional configuration written by modules in the NetBeans IDE.\r\nThe configuration is intended to be shared among all the users of project and\r\ntherefore it is assumed to be part of version control checkout.\r\nWithout this configuration present, some functionality in the IDE may be limited or fail altogether.\r\n--&gt;\r\n    &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\r\n        &lt;!--\r\nProperties that influence various parts of the IDE, especially code formatting and the like. \r\nYou can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\r\nThat way multiple projects can share the same settings (useful for formatting rules for example).\r\nAny value defined here will override the pom.xml file value but is only applicable to the current project.\r\n--&gt;\r\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;10-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\r\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv700ee10&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\r\n        &lt;org-netbeans-modules-projectapi.jsf_2e_language&gt;Facelets&lt;/org-netbeans-modules-projectapi.jsf_2e_language&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project-shared-configuration&gt;\r\n```\r\n\r\nI tried setting netbeans to use jdk17 instead of 20.\r\n\r\nI tried deleting the repository folder from C:\\\\Users\\\\Username\\\\.m2\\\\repository","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>I am trying to create and run a jsf web app of 'hellow world' in netbeans using glassfish.\nI am using netbeans 17. I am using jdk 17 for glassfish 7.</p>\n<p>I have jdk 20 and jdk 17 installed. I have glassfish 7 installed and using jdk 17.</p>\n<p>The build of the project when created passes but when I try to actually run in I get the following error</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920</p>\n</blockquote>\n<p>Below is the full stack trace</p>\n<pre><code>Error injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.ExceptionInInitializerError\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt; (TreeMapConverter.java:59)\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  2.836 s\nFinished at: 2023-05-18T00:24:47+03:00\n------------------------------------------------------------------------\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project mavenproject2: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n-----------------------------------------------------\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\nurls[0] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\nurls[1] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\nurls[2] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\nurls[3] = file:/C:/Users/Aidel%20Silber/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\nurls[4] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\nurls[5] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\nurls[6] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\nurls[7] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\nurls[8] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\nurls[9] = file:/C:/Users/Aidel%20Silber/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\nurls[10] = file:/C:/Users/Aidel%20Silber/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\nurls[11] = file:/C:/Users/Aidel%20Silber/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\nurls[12] = file:/C:/Users/Aidel%20Silber/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\nurls[13] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\nurls[14] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\nNumber of foreign imports: 1\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n\n-----------------------------------------------------\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\n-&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>My pom is as following:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;mavenproject2-1.0-SNAPSHOT&lt;/name&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My nb-configuration is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project-shared-configuration&gt;\n    &lt;!--\nThis file contains additional configuration written by modules in the NetBeans IDE.\nThe configuration is intended to be shared among all the users of project and\ntherefore it is assumed to be part of version control checkout.\nWithout this configuration present, some functionality in the IDE may be limited or fail altogether.\n--&gt;\n    &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\n        &lt;!--\nProperties that influence various parts of the IDE, especially code formatting and the like. \nYou can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\nThat way multiple projects can share the same settings (useful for formatting rules for example).\nAny value defined here will override the pom.xml file value but is only applicable to the current project.\n--&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;10-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv700ee10&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\n        &lt;org-netbeans-modules-projectapi.jsf_2e_language&gt;Facelets&lt;/org-netbeans-modules-projectapi.jsf_2e_language&gt;\n    &lt;/properties&gt;\n&lt;/project-shared-configuration&gt;\n</code></pre>\n<p>I tried setting netbeans to use jdk17 instead of 20.</p>\n<p>I tried deleting the repository folder from C:\\Users\\Username\\.m2\\repository</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":1,"creation_date":1684437224,"post_id":76283749,"comment_id":134521325,"body_markdown":"Show your error logs. It may be crash","body":"Show your error logs. It may be crash"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1684437490,"post_id":76283749,"comment_id":134521368,"body_markdown":"Assign empty value for hall,  String hall=&quot;&quot;; or check not null when using hall. either way it will solve problem","body":"Assign empty value for hall,  String hall=&quot;&quot;; or check not null when using hall. either way it will solve problem"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450835,"creation_date":1684450835,"answer_id":76284998,"question_id":76283749,"body_markdown":"It&#39;s not clear exactly what you&#39;re doing or what triggers this code (is it a checkbox listener?) but you have a few unsafe operations:\r\n\r\n````\r\nint adult = Integer.parseInt(etAdult.getText().toString());\r\n````\r\n\r\n`parseInt` [will throw a `NumberFormatException`][1] if the contents of that `EditText` don&#39;t represent a valid integer, e.g. if it&#39;s empty or has text in it. So you need to catch that exception and handle it (e.g. treat the value as zero), and you need to do that for both of the text boxes you&#39;re parsing.\r\n\r\n----\r\n\r\n````\r\nEditText etAdult = findViewById(R.id.etAdult);\r\n````\r\n\r\nAll `findViewById` calls can return *null* if the view with that ID isn&#39;t found, so make sure all your views are in the layout. Calling `getText()` or `setText()` on a null variable will cause a `NullPointerException`. It&#39;s suspicious that your method takes a `View` parameter that you never use, are you supposed to be calling `findViewById` on that?\r\n\r\nLook in your error logs, if your app is restarting (which it sounds like, if the first Activity is appearing again) then it&#39;s probably a crash, and the error message will tell you exactly what&#39;s causing it and where to look.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-","title":"How to calculate checkbox price if it is checked","body":"<p>It's not clear exactly what you're doing or what triggers this code (is it a checkbox listener?) but you have a few unsafe operations:</p>\n<pre><code>int adult = Integer.parseInt(etAdult.getText().toString());\n</code></pre>\n<p><code>parseInt</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">will throw a <code>NumberFormatException</code></a> if the contents of that <code>EditText</code> don't represent a valid integer, e.g. if it's empty or has text in it. So you need to catch that exception and handle it (e.g. treat the value as zero), and you need to do that for both of the text boxes you're parsing.</p>\n<hr />\n<pre><code>EditText etAdult = findViewById(R.id.etAdult);\n</code></pre>\n<p>All <code>findViewById</code> calls can return <em>null</em> if the view with that ID isn't found, so make sure all your views are in the layout. Calling <code>getText()</code> or <code>setText()</code> on a null variable will cause a <code>NullPointerException</code>. It's suspicious that your method takes a <code>View</code> parameter that you never use, are you supposed to be calling <code>findViewById</code> on that?</p>\n<p>Look in your error logs, if your app is restarting (which it sounds like, if the first Activity is appearing again) then it's probably a crash, and the error message will tell you exactly what's causing it and where to look.</p>\n"}],"owner":{"account_id":19823396,"reputation":1,"user_id":14519413,"display_name":"Fatihah Shazeera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684450835,"creation_date":1684436654,"question_id":76283749,"body_markdown":"I&#39;m stuck with these checkbox calculate function. What I want to do is the checkbox that being checked will display at the total price along with the value of textview value of ticket for adult and child. But i did not find the solution to do it. The error is, when i click the checkbox, it will jump back to home screen. But when i calculate the hall and the ticket price only, it shows the total.\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class movie1 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_movie1);\r\n    }\r\n\r\n    public void calculateTDEE(View view) {\r\n\r\n        String hall;\r\n\r\n        RadioButton rb1 = findViewById(R.id.rb1);\r\n        if (rb1.isSelected())\r\n            hall = &quot;2D&quot;;\r\n\r\n        else\r\n            hall = &quot;MX4D&quot;;\r\n\r\n        double sum =0;\r\n\r\n        CheckBox cb1 = (CheckBox) findViewById(R.id.cb1);\r\n        if(cb1.isChecked()){\r\n            sum = 14.50;\r\n        }\r\n        CheckBox cb2 = (CheckBox) findViewById(R.id.cb2);\r\n        if(cb2.isChecked()){\r\n            sum=18.50;\r\n        }\r\n        CheckBox cb3 = (CheckBox) findViewById(R.id.cb3);\r\n        if(cb3.isChecked()){\r\n            sum=14.50;\r\n        }\r\n\r\n            EditText etAdult = findViewById(R.id.etAdult);\r\n            int adult = Integer.parseInt(etAdult.getText().toString());\r\n\r\n            EditText etChild = findViewById(R.id.etChild);\r\n            int child = Integer.parseInt(etChild.getText().toString());\r\n\r\n            double BMR = 0.00;\r\n            if (hall.equals(&quot;2D&quot;))\r\n                BMR = (10.00 * child) + (21.50 * adult) + sum;\r\n            else\r\n                BMR = (18.00 * child) + (30.50 * adult ) + sum;\r\n\r\n            double TDEE = BMR;\r\n\r\n            TextView tvResult = findViewById(R.id.tvResult);\r\n            tvResult.setText(&quot;Your order already booked! Your Total Price is &quot; + (double) TDEE + &quot; Pay at Counter&quot;);\r\n        }\r\n```","title":"How to calculate checkbox price if it is checked","body":"<p>I'm stuck with these checkbox calculate function. What I want to do is the checkbox that being checked will display at the total price along with the value of textview value of ticket for adult and child. But i did not find the solution to do it. The error is, when i click the checkbox, it will jump back to home screen. But when i calculate the hall and the ticket price only, it shows the total.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class movie1 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_movie1);\n    }\n\n    public void calculateTDEE(View view) {\n\n        String hall;\n\n        RadioButton rb1 = findViewById(R.id.rb1);\n        if (rb1.isSelected())\n            hall = &quot;2D&quot;;\n\n        else\n            hall = &quot;MX4D&quot;;\n\n        double sum =0;\n\n        CheckBox cb1 = (CheckBox) findViewById(R.id.cb1);\n        if(cb1.isChecked()){\n            sum = 14.50;\n        }\n        CheckBox cb2 = (CheckBox) findViewById(R.id.cb2);\n        if(cb2.isChecked()){\n            sum=18.50;\n        }\n        CheckBox cb3 = (CheckBox) findViewById(R.id.cb3);\n        if(cb3.isChecked()){\n            sum=14.50;\n        }\n\n            EditText etAdult = findViewById(R.id.etAdult);\n            int adult = Integer.parseInt(etAdult.getText().toString());\n\n            EditText etChild = findViewById(R.id.etChild);\n            int child = Integer.parseInt(etChild.getText().toString());\n\n            double BMR = 0.00;\n            if (hall.equals(&quot;2D&quot;))\n                BMR = (10.00 * child) + (21.50 * adult) + sum;\n            else\n                BMR = (18.00 * child) + (30.50 * adult ) + sum;\n\n            double TDEE = BMR;\n\n            TextView tvResult = findViewById(R.id.tvResult);\n            tvResult.setText(&quot;Your order already booked! Your Total Price is &quot; + (double) TDEE + &quot; Pay at Counter&quot;);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1637460186,"creation_date":1637460186,"answer_id":70051265,"question_id":70050719,"body_markdown":"Assuming security is configured correctly. Spring security initialize `ReactiveSecurityContextHolder` during subscription so you can access it within this chain using `ReactiveSecurityContextHolder.getContext()`:\r\n```java\r\n@GetMapping\r\nMono&lt;Void&gt; getItems() {\r\n\treturn ReactiveSecurityContextHolder.getContext()\r\n\t\t\t.map(SecurityContext::getAuthentication)\r\n\t\t\t.doOnNext(auth -&gt; log.info(String.valueOf(auth)))\r\n\t\t\t.then();\r\n}\r\n```\r\n\r\nSample output:\r\n\r\n&gt; UsernamePasswordAuthenticationToken\r\n&gt; [Principal=org.springframework.security.core.userdetails.User\r\n&gt; [Username=admin, Password=[PROTECTED], Enabled=true,\r\n&gt; AccountNonExpired=true, credentialsNonExpired=true,\r\n&gt; AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]],\r\n&gt; Credentials=[PROTECTED], Authenticated=true, Details=null, Granted\r\n&gt; Authorities=[ROLE_ADMIN]]\r\n\r\n","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Assuming security is configured correctly. Spring security initialize <code>ReactiveSecurityContextHolder</code> during subscription so you can access it within this chain using <code>ReactiveSecurityContextHolder.getContext()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\nMono&lt;Void&gt; getItems() {\n    return ReactiveSecurityContextHolder.getContext()\n            .map(SecurityContext::getAuthentication)\n            .doOnNext(auth -&gt; log.info(String.valueOf(auth)))\n            .then();\n}\n</code></pre>\n<p>Sample output:</p>\n<blockquote>\n<p>UsernamePasswordAuthenticationToken\n[Principal=org.springframework.security.core.userdetails.User\n[Username=admin, Password=[PROTECTED], Enabled=true,\nAccountNonExpired=true, credentialsNonExpired=true,\nAccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]],\nCredentials=[PROTECTED], Authenticated=true, Details=null, Granted\nAuthorities=[ROLE_ADMIN]]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450580,"creation_date":1684450580,"answer_id":76284983,"question_id":70050719,"body_markdown":"Simply try\r\n\r\n    return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication)\r\n\r\nand check the response. If no authentication is returned we need to see your full SecurityWebFilterChain setup","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Simply try</p>\n<pre><code>return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication)\n</code></pre>\n<p>and check the response. If no authentication is returned we need to see your full SecurityWebFilterChain setup</p>\n"}],"owner":{"account_id":6684402,"reputation":678,"user_id":5156262,"accept_rate":37,"display_name":"TariqN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7198,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1684450580,"creation_date":1637451235,"question_id":70050719,"body_markdown":"Usually while working with Spring Boot, a common way to get currently logged users is to use: \r\n\r\n    SecurityContextHolder.getContext();\r\n\r\nThis does not work when working with reactive programming, and Mono in Java since they do not belong to the same thread. It&#39;s recommended to use:\r\n\r\n    ReactiveSecurityContextHolder.getContext()\r\n\r\nI&#39;ve read many articles, StackOverflow questions, and answers, but never found a full explanation or example of how to fully integrate ReactiveSecurityContextHolder.\r\n\r\nAny help would be highly appreciated.\r\n\r\n\r\nThis is what I have tried: \r\n\r\n       @RequestMapping(value = &quot;/get-auth&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Mono&lt;Authentication&gt; test(Authentication authp) {\r\n        return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication).doOnNext(auth -&gt; {\r\n            log.info(&quot;print auth&quot;, String.valueOf(auth));\r\n        }).doOnSuccess(auth -&gt; {\r\n            log.error(&quot;print auth&quot;, auth);\r\n        });\r\n    }\r\n\r\ndoOnSuccess - returns null  \r\ndoOnNext - not triggered","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Usually while working with Spring Boot, a common way to get currently logged users is to use:</p>\n<pre><code>SecurityContextHolder.getContext();\n</code></pre>\n<p>This does not work when working with reactive programming, and Mono in Java since they do not belong to the same thread. It's recommended to use:</p>\n<pre><code>ReactiveSecurityContextHolder.getContext()\n</code></pre>\n<p>I've read many articles, StackOverflow questions, and answers, but never found a full explanation or example of how to fully integrate ReactiveSecurityContextHolder.</p>\n<p>Any help would be highly appreciated.</p>\n<p>This is what I have tried:</p>\n<pre><code>   @RequestMapping(value = &quot;/get-auth&quot;, method = RequestMethod.GET)\npublic @ResponseBody Mono&lt;Authentication&gt; test(Authentication authp) {\n    return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication).doOnNext(auth -&gt; {\n        log.info(&quot;print auth&quot;, String.valueOf(auth));\n    }).doOnSuccess(auth -&gt; {\n        log.error(&quot;print auth&quot;, auth);\n    });\n}\n</code></pre>\n<p>doOnSuccess - returns null<br />\ndoOnNext - not triggered</p>\n"},{"tags":["java","tomcat7"],"comments":[{"owner":{"account_id":5424004,"reputation":7245,"user_id":4316870,"display_name":"Leandro Carracedo"},"score":1,"creation_date":1422478119,"post_id":28201794,"comment_id":44770391,"body_markdown":"This is related to entropy source: http://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source","body":"This is related to entropy source: <a href=\"http://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source\" rel=\"nofollow noreferrer\">wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1422480079,"post_id":28201794,"comment_id":44771341,"body_markdown":"I&#39;m on mobile, so I don&#39;t have my links, but aet it to use /dev/urandom. There&#39;s no meaningful downside to using the non-blocking generator.","body":"I&#39;m on mobile, so I don&#39;t have my links, but aet it to use /dev/urandom. There&#39;s no meaningful downside to using the non-blocking generator."}],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1422478924,"creation_date":1422478924,"answer_id":28202322,"question_id":28201794,"body_markdown":"The secure random calls may be blocking as there is not enough entropy to feed them in /dev/random.\r\n\r\nIf you have the line \r\n\r\n    securerandom.source=file:/dev/random\r\n\r\nin /jre/lib/security/java.security, changing this to urandom may improve things (although this is probably already the default).\r\n\r\nAlternatively there are some suggestions on how to feed the pool here\r\n\r\nhttps://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>The secure random calls may be blocking as there is not enough entropy to feed them in /dev/random.</p>\n\n<p>If you have the line </p>\n\n<pre><code>securerandom.source=file:/dev/random\n</code></pre>\n\n<p>in /jre/lib/security/java.security, changing this to urandom may improve things (although this is probably already the default).</p>\n\n<p>Alternatively there are some suggestions on how to feed the pool here</p>\n\n<p><a href=\"https://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool\">https://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool</a></p>\n"},{"tags":[],"owner":{"account_id":7154914,"reputation":197,"user_id":5467720,"display_name":"刘同彬"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459959327,"creation_date":1459959327,"answer_id":36456691,"question_id":28201794,"body_markdown":"I changed /jre/lib/security/java.security, below:\r\nsecurerandom.source=file:/dev/./urandom","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I changed /jre/lib/security/java.security, below:\nsecurerandom.source=file:/dev/./urandom</p>\n"},{"tags":[],"owner":{"account_id":244145,"reputation":9933,"user_id":516748,"accept_rate":86,"display_name":"KCD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460587428,"creation_date":1460587428,"answer_id":36610855,"question_id":28201794,"body_markdown":"Here are some specific instructions to adjust just tomcat as per Henry&#39;s answer\r\n\r\ncreate `/etc/tomcat/fastersecurerandom.properties`\r\n\r\n    securerandom.source=file:/dev/urandom\r\n\r\nedit `JAVA_OPTS` inside `/etc/tomcat/tomcat.conf`\r\n\r\n    JAVA_OPTS=&quot;-Djava.security.properties=/etc/tomcat/fastersecurerandom.properties&quot;\r\n\r\nFYI I found I could not set multiple `JAVA_OPTS` with `JAVA_OPTS=&quot;$JAVA_OPTS ...&quot;` despite the commented out examples. Poor old confused tomcat 7 wouldn&#39;t start as per a warning in `/var/log/messages`\r\n\r\nOn different versions/flavours you may find variations on where is best to set the environment variables for tomcat. The best way to debug if they are taking affect is is to check the command running like this:\r\n\r\n    $ ps aux | grep java\r\n    tomcat    4821  4.7 13.9 2626888 263396 ?      Ssl  22:31   0:23 /usr/lib/jvm/jre/bin/java -DJENKINS_HOME=/opt/jenkins/ -Xmx512m -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Djava.security.properties=/etc/tomcat/fastersecurerandom.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/usr/share/tomcat -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start\r\n\r\n","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>Here are some specific instructions to adjust just tomcat as per Henry's answer</p>\n\n<p>create <code>/etc/tomcat/fastersecurerandom.properties</code></p>\n\n<pre><code>securerandom.source=file:/dev/urandom\n</code></pre>\n\n<p>edit <code>JAVA_OPTS</code> inside <code>/etc/tomcat/tomcat.conf</code></p>\n\n<pre><code>JAVA_OPTS=\"-Djava.security.properties=/etc/tomcat/fastersecurerandom.properties\"\n</code></pre>\n\n<p>FYI I found I could not set multiple <code>JAVA_OPTS</code> with <code>JAVA_OPTS=\"$JAVA_OPTS ...\"</code> despite the commented out examples. Poor old confused tomcat 7 wouldn't start as per a warning in <code>/var/log/messages</code></p>\n\n<p>On different versions/flavours you may find variations on where is best to set the environment variables for tomcat. The best way to debug if they are taking affect is is to check the command running like this:</p>\n\n<pre><code>$ ps aux | grep java\ntomcat    4821  4.7 13.9 2626888 263396 ?      Ssl  22:31   0:23 /usr/lib/jvm/jre/bin/java -DJENKINS_HOME=/opt/jenkins/ -Xmx512m -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Djava.security.properties=/etc/tomcat/fastersecurerandom.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/usr/share/tomcat -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1479362567,"creation_date":1479362567,"answer_id":40647727,"question_id":28201794,"body_markdown":"I faced same [issue][1] of tomcat being too slow to start. I followed [this article on DigitalOcean][2] and installed haveged instead of using urandom. \r\n\r\nhaveged is a solution which will not compromise on security.\r\n----\r\n\r\n&gt; haveged allows generating randomness based on variations in\r\n&gt; code execution time on a processor. Since it&#39;s nearly impossible for\r\n&gt; one piece of code to take the same exact time to execute, even in the\r\n&gt; same environment on the same hardware, the timing of running a single\r\n&gt; or multiple programs should be suitable to seed a random source. The\r\n&gt; haveged implementation seeds your system&#39;s random source (usually\r\n&gt; /dev/random) using differences in your processor&#39;s time stamp counter\r\n&gt; (TSC) after executing a loop repeatedly\r\n\r\nHow to install haveged\r\n---\r\nFollow the steps in this article. https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\r\n\r\nI have posted it [here][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom\r\n  [2]: https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\r\n  [3]: https://stackoverflow.com/a/40603084/6785908","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I faced same <a href=\"https://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom\">issue</a> of tomcat being too slow to start. I followed <a href=\"https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\" rel=\"noreferrer\">this article on DigitalOcean</a> and installed haveged instead of using urandom. </p>\n\n<h2>haveged is a solution which will not compromise on security.</h2>\n\n<blockquote>\n  <p>haveged allows generating randomness based on variations in\n  code execution time on a processor. Since it's nearly impossible for\n  one piece of code to take the same exact time to execute, even in the\n  same environment on the same hardware, the timing of running a single\n  or multiple programs should be suitable to seed a random source. The\n  haveged implementation seeds your system's random source (usually\n  /dev/random) using differences in your processor's time stamp counter\n  (TSC) after executing a loop repeatedly</p>\n</blockquote>\n\n<h2>How to install haveged</h2>\n\n<p>Follow the steps in this article. <a href=\"https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\" rel=\"noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged</a></p>\n\n<p>I have posted it <a href=\"https://stackoverflow.com/a/40603084/6785908\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3651968,"reputation":119,"user_id":3043896,"display_name":"nby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635768946,"creation_date":1547409639,"answer_id":54172682,"question_id":28201794,"body_markdown":"@KCD s answer above almost worked for me, I needed to massage it a bit - as follows:\r\n\r\n1) my tomcat was `tomcat7` , so I created my `fastersecurerandom.properties` file in the `/etc/tomcat7` directory,\r\n\r\n2) As per [another page][1], I had to change the contents of `fastersecurerandom.properties` \r\n from \r\n `securerandom.source=file:/dev/urandom`  \r\n to  \r\n `securerandom.source=file:/dev/./urandom`\r\n\r\n3) I didn&#39;t have a `tomcat.conf` file, so I added to my `/etc/init.d/tomcat7` (tomcat&#39;s startup script - I know) , just before the line - `catalina_sh() {`  \r\n `JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/etc/tomcat7/fastersecurerandom.properties&quot;`\r\n\r\nNote: I added `7` to `tomcat` here too.\r\n\r\nIt was worthwhile doing a `ps -deaf | grep tomcat` to first confirm that the new `-D` setting was getting through to the command, and also to check that it was referring to the correct file, and that the file was there.  This is when I noticed the missing `7`.\r\n\r\nI was on Java 1.7, and on Ubuntu 14.04.1.\r\n\r\n  [1]: https://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>@KCD s answer above almost worked for me, I needed to massage it a bit - as follows:</p>\n<ol>\n<li><p>my tomcat was <code>tomcat7</code> , so I created my <code>fastersecurerandom.properties</code> file in the <code>/etc/tomcat7</code> directory,</p>\n</li>\n<li><p>As per <a href=\"https://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source\" rel=\"nofollow noreferrer\">another page</a>, I had to change the contents of <code>fastersecurerandom.properties</code>\nfrom\n<code>securerandom.source=file:/dev/urandom</code><br />\nto<br />\n<code>securerandom.source=file:/dev/./urandom</code></p>\n</li>\n<li><p>I didn't have a <code>tomcat.conf</code> file, so I added to my <code>/etc/init.d/tomcat7</code> (tomcat's startup script - I know) , just before the line - <code>catalina_sh() {</code><br />\n<code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/etc/tomcat7/fastersecurerandom.properties&quot;</code></p>\n</li>\n</ol>\n<p>Note: I added <code>7</code> to <code>tomcat</code> here too.</p>\n<p>It was worthwhile doing a <code>ps -deaf | grep tomcat</code> to first confirm that the new <code>-D</code> setting was getting through to the command, and also to check that it was referring to the correct file, and that the file was there.  This is when I noticed the missing <code>7</code>.</p>\n<p>I was on Java 1.7, and on Ubuntu 14.04.1.</p>\n"},{"tags":[],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565885547,"creation_date":1565804282,"answer_id":57499558,"question_id":28201794,"body_markdown":"Instead of changing the file `java.security` directly, at least with Java 8 it documents to support the following system property already:\r\n\r\n    -Djava.security.egd=file:/dev/random\r\n\r\nIn the context of Tomcat, that can be used to create a file `bin/setenv.sh` containing the following line:\r\n\r\n    CATALINA_OPTS=-Djava.security.egd=file:///dev/urandom","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>Instead of changing the file <code>java.security</code> directly, at least with Java 8 it documents to support the following system property already:</p>\n\n<pre><code>-Djava.security.egd=file:/dev/random\n</code></pre>\n\n<p>In the context of Tomcat, that can be used to create a file <code>bin/setenv.sh</code> containing the following line:</p>\n\n<pre><code>CATALINA_OPTS=-Djava.security.egd=file:///dev/urandom\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19565818,"reputation":21,"user_id":14317996,"display_name":"Aadlani Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628915814,"creation_date":1628915814,"answer_id":68780368,"question_id":28201794,"body_markdown":"**configuration spring boot**\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors().and().csrf().disable()\r\n\r\n                .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS) //using JWT\r\n                    .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(PUBLIC_ENDPOINTS).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .addFilterBefore(authFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n&gt; **.cors().and().csrf().disable()**\r\n\r\n    \r\n\r\n","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p><strong>configuration spring boot</strong></p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors().and().csrf().disable()\n\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS) //using JWT\n                .and()\n            .authorizeRequests()\n                .antMatchers(PUBLIC_ENDPOINTS).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .addFilterBefore(authFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n<blockquote>\n<p><strong>.cors().and().csrf().disable()</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635766118,"creation_date":1635765693,"answer_id":69796215,"question_id":28201794,"body_markdown":"# Background info\r\nThis is not an answer in itself. But it&#39;s some background info, in case you&#39;re wondering where this log line comes from.\r\n\r\nThis log line gets triggered when generation takes longer than a tenth of a second (100 miliseconds)\r\n\r\nThis line used to be level INFO in 2014...\r\n* https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273 \r\n\r\n... but got changed to level WARN in 2017...\r\n\r\n* https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c\r\n\r\n...to make it stand out more in the logs. The motivation for that change was this bug report here:\r\n* [Bug 61180 - Change log level of sessionIdGeneratorBase.createRandom to warn rather than info](https://bz.apache.org/bugzilla/show_bug.cgi?id=61180)\r\n\r\n# Source\r\nThe message is triggered here:\r\nhttps://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272\r\n```` java\r\nlong t2 = System.currentTimeMillis();\r\nif ((t2 - t1) &gt; 100) {\r\nlog.warn(sm.getString(&quot;sessionIdGeneratorBase.createRandom&quot;,\r\n        result.getAlgorithm(), Long.valueOf(t2 - t1)));\r\n}\r\n````\r\n\r\nAnd the human readable English text comes from here:\r\nhttps://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46\r\n````\r\nsessionIdGeneratorBase.createRandom=Creation of SecureRandom instance for session ID generation using [{0}] took [{1}] milliseconds.\r\n````","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<h1>Background info</h1>\n<p>This is not an answer in itself. But it's some background info, in case you're wondering where this log line comes from.</p>\n<p>This log line gets triggered when generation takes longer than a tenth of a second (100 miliseconds)</p>\n<p>This line used to be level INFO in 2014...</p>\n<ul>\n<li><a href=\"https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273</a></li>\n</ul>\n<p>... but got changed to level WARN in 2017...</p>\n<ul>\n<li><a href=\"https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c</a></li>\n</ul>\n<p>...to make it stand out more in the logs. The motivation for that change was this bug report here:</p>\n<ul>\n<li><a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=61180\" rel=\"nofollow noreferrer\">Bug 61180 - Change log level of sessionIdGeneratorBase.createRandom to warn rather than info</a></li>\n</ul>\n<h1>Source</h1>\n<p>The message is triggered here:\n<a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>long t2 = System.currentTimeMillis();\nif ((t2 - t1) &gt; 100) {\nlog.warn(sm.getString(&quot;sessionIdGeneratorBase.createRandom&quot;,\n        result.getAlgorithm(), Long.valueOf(t2 - t1)));\n}\n</code></pre>\n<p>And the human readable English text comes from here:\n<a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46</a></p>\n<pre><code>sessionIdGeneratorBase.createRandom=Creation of SecureRandom instance for session ID generation using [{0}] took [{1}] milliseconds.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27654582,"reputation":1,"user_id":21108772,"display_name":"user21108772"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675332184,"creation_date":1675063640,"answer_id":75281281,"question_id":28201794,"body_markdown":"if in case you are using spring security add web security class.\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t// ...\r\n\t\thttp.cors();\r\n\t //other configure params.\r\n\t\thttp.csrf().disable();\r\n\t}\r\n\r\n\t@Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\r\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\r\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\r\n        corsConfiguration.setAllowCredentials(true);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return source;\r\n    }\r\n}\r\n```","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>if in case you are using spring security add web security class.</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // ...\n        http.cors();\n     //other configure params.\n        http.csrf().disable();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\n        corsConfiguration.setAllowCredentials(true);\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22566658,"reputation":51,"user_id":16753576,"display_name":"diego panqueva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450506,"creation_date":1684450506,"answer_id":76284979,"question_id":28201794,"body_markdown":"In spring boot, u can use this code block:\r\n\r\n       @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().csrfTokenRepository(new CookieCsrfTokenRepository())\r\n                .requireCsrfProtectionMatcher(httpServletRequest -&gt; httpServletRequest.getMethod().equals(&quot;none&quot;));\r\n        return http.build();\r\n    }\r\nits ok for me!!","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>In spring boot, u can use this code block:</p>\n<pre><code>   @Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().csrfTokenRepository(new CookieCsrfTokenRepository())\n            .requireCsrfProtectionMatcher(httpServletRequest -&gt; httpServletRequest.getMethod().equals(&quot;none&quot;));\n    return http.build();\n}\n</code></pre>\n<p>its ok for me!!</p>\n"}],"owner":{"account_id":5649797,"reputation":471,"user_id":4470833,"display_name":"Jose Monreal Bailey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48083,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":28202322,"answer_count":10,"score":40,"last_activity_date":1684450506,"creation_date":1422476920,"question_id":28201794,"body_markdown":"I&#39;m using Tomcat 7.0.57 on CentOS 6.6 32 bit and openJDK7.\r\nWhen I start 14 different instances of Tomcat on my server(production environment), many of them take too much time to start.\r\n\r\nThis is part of the startup log, which tells me where is taking all the time\r\n\r\n    Jan 28, 2015 2:49:41 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom\r\n    INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [199,620] milliseconds.\r\n\r\nWhat&#39;s the best practice/solution for this problem?\r\n\r\nThanks!","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I'm using Tomcat 7.0.57 on CentOS 6.6 32 bit and openJDK7.\nWhen I start 14 different instances of Tomcat on my server(production environment), many of them take too much time to start.</p>\n\n<p>This is part of the startup log, which tells me where is taking all the time</p>\n\n<pre><code>Jan 28, 2015 2:49:41 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom\nINFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [199,620] milliseconds.\n</code></pre>\n\n<p>What's the best practice/solution for this problem?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","annotations","config"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1564595068,"post_id":57246626,"comment_id":101086758,"body_markdown":"I updated my answer.","body":"I updated my answer."}],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1663330977,"creation_date":1564368491,"answer_id":57246657,"question_id":57246626,"body_markdown":"You can use SnakeYAML without Spring.\r\n\r\nDownload the dependency:\r\n\r\n    compile group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;1.24&#39;\r\n\r\n\r\nThen you can load the .yaml (or .yml) file this way:\r\n\r\n    Yaml yaml = new Yaml();\r\n    InputStream inputStream = this.getClass().getClassLoader()\r\n                               .getResourceAsStream(&quot;youryamlfile.yaml&quot;); //This assumes that youryamlfile.yaml is on the classpath\r\n    Map&lt;String, Object&gt; obj = yaml.load(inputStream);\r\n    obj.forEach((key,value) -&gt; { System.out.println(&quot;key: &quot; + key + &quot; value: &quot; + value ); });\r\n\r\n[Reference.][1]\r\n\r\n**Edit:** Upon further investigation, OP wants to know how to load properties in Spring boot. Spring boot has a built-in feature to read properties.\r\n\r\nLet&#39;s say you have a application.properties sitting in src/main/resources, and in it there is an entry say `application.name=&quot;My Spring Boot Application&quot;`, then in one of your classes annotated with `@Component` or any of its sub-stereotype annotations, one can fetch values like this:\r\n\r\n    @Value(&quot;${application.name}&quot;)\r\n    private String applicationName;\r\n\r\nThe property in application.property file is now bound to this variable `applicationName`\r\n\r\nYou could also have a application.yml file and have the same property written this way\r\n\r\n    application:\r\n      name: &quot;My Spring Boot Application&quot;\r\n\r\nYou will get this property value the same way like last time by annotation a filed with `@Value` annotation.\r\n\r\n  [1]: https://www.baeldung.com/java-snake-yaml","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>You can use SnakeYAML without Spring.</p>\n<p>Download the dependency:</p>\n<pre><code>compile group: 'org.yaml', name: 'snakeyaml', version: '1.24'\n</code></pre>\n<p>Then you can load the .yaml (or .yml) file this way:</p>\n<pre><code>Yaml yaml = new Yaml();\nInputStream inputStream = this.getClass().getClassLoader()\n                           .getResourceAsStream(&quot;youryamlfile.yaml&quot;); //This assumes that youryamlfile.yaml is on the classpath\nMap&lt;String, Object&gt; obj = yaml.load(inputStream);\nobj.forEach((key,value) -&gt; { System.out.println(&quot;key: &quot; + key + &quot; value: &quot; + value ); });\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-snake-yaml\" rel=\"nofollow noreferrer\">Reference.</a></p>\n<p><strong>Edit:</strong> Upon further investigation, OP wants to know how to load properties in Spring boot. Spring boot has a built-in feature to read properties.</p>\n<p>Let's say you have a application.properties sitting in src/main/resources, and in it there is an entry say <code>application.name=&quot;My Spring Boot Application&quot;</code>, then in one of your classes annotated with <code>@Component</code> or any of its sub-stereotype annotations, one can fetch values like this:</p>\n<pre><code>@Value(&quot;${application.name}&quot;)\nprivate String applicationName;\n</code></pre>\n<p>The property in application.property file is now bound to this variable <code>applicationName</code></p>\n<p>You could also have a application.yml file and have the same property written this way</p>\n<pre><code>application:\n  name: &quot;My Spring Boot Application&quot;\n</code></pre>\n<p>You will get this property value the same way like last time by annotation a filed with <code>@Value</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684450290,"creation_date":1670326803,"answer_id":74701892,"question_id":57246626,"body_markdown":"flat properties from yaml\r\n\r\n    import static java.lang.String.format;\r\n    import static java.lang.System.getenv;\r\n    import static java.nio.charset.Charset.defaultCharset;\r\n    import static java.util.Collections.singletonMap;\r\n    import static org.apache.commons.io.IOUtils.resourceToString;\r\n    import static org.apache.commons.lang3.StringUtils.isBlank;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Collection;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import org.yaml.snakeyaml.Yaml;\r\n    \r\n    public class PropertiesUtils {\r\n    \r\n        public static Properties loadProperties() {\r\n            return loadProperties(getenv(&quot;ENV&quot;));\r\n        }\r\n    \r\n        public static Properties loadProperties(String profile) {\r\n            try {\r\n                Yaml yaml = new Yaml();\r\n                Properties properties = new Properties();\r\n                properties.putAll(getFlattenedMap(yaml.load(resourceToString(&quot;/application-config.yml&quot;, defaultCharset()))));\r\n                if (profile != null)\r\n                    properties.putAll(getFlattenedMap(yaml.load(resourceToString(format(&quot;/application-config-%s.yml&quot;, profile), defaultCharset()))));\r\n                return properties;\r\n            } catch (IOException e) {\r\n                throw new Error(&quot;Cannot load properties&quot;, e);\r\n            }\r\n        }\r\n    \r\n        private static final Map&lt;String, Object&gt; getFlattenedMap(Map&lt;String, Object&gt; source) {\r\n            Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n            buildFlattenedMap(result, source, null);\r\n            return result;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static void buildFlattenedMap(Map&lt;String, Object&gt; result, Map&lt;String, Object&gt; source, String path) {\r\n            source.forEach((key, value) -&gt; {\r\n                if (!isBlank(path))\r\n                    key = path + (key.startsWith(&quot;[&quot;) ? key : &#39;.&#39; + key);\r\n                if (value instanceof String) {\r\n                    result.put(key, value);\r\n                } else if (value instanceof Map) {\r\n                    buildFlattenedMap(result, (Map&lt;String, Object&gt;) value, key);\r\n                } else if (value instanceof Collection) {\r\n                    int count = 0;\r\n                    for (Object object : (Collection&lt;?&gt;) value)\r\n                        buildFlattenedMap(result, singletonMap(&quot;[&quot; + (count++) + &quot;]&quot;, object), key);\r\n                } else {\r\n                    result.put(key, value != null ? &quot;&quot; + value : &quot;&quot;);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>flat properties from yaml</p>\n<pre><code>import static java.lang.String.format;\nimport static java.lang.System.getenv;\nimport static java.nio.charset.Charset.defaultCharset;\nimport static java.util.Collections.singletonMap;\nimport static org.apache.commons.io.IOUtils.resourceToString;\nimport static org.apache.commons.lang3.StringUtils.isBlank;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Properties;\nimport org.yaml.snakeyaml.Yaml;\n\npublic class PropertiesUtils {\n\n    public static Properties loadProperties() {\n        return loadProperties(getenv(&quot;ENV&quot;));\n    }\n\n    public static Properties loadProperties(String profile) {\n        try {\n            Yaml yaml = new Yaml();\n            Properties properties = new Properties();\n            properties.putAll(getFlattenedMap(yaml.load(resourceToString(&quot;/application-config.yml&quot;, defaultCharset()))));\n            if (profile != null)\n                properties.putAll(getFlattenedMap(yaml.load(resourceToString(format(&quot;/application-config-%s.yml&quot;, profile), defaultCharset()))));\n            return properties;\n        } catch (IOException e) {\n            throw new Error(&quot;Cannot load properties&quot;, e);\n        }\n    }\n\n    private static final Map&lt;String, Object&gt; getFlattenedMap(Map&lt;String, Object&gt; source) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        buildFlattenedMap(result, source, null);\n        return result;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static void buildFlattenedMap(Map&lt;String, Object&gt; result, Map&lt;String, Object&gt; source, String path) {\n        source.forEach((key, value) -&gt; {\n            if (!isBlank(path))\n                key = path + (key.startsWith(&quot;[&quot;) ? key : '.' + key);\n            if (value instanceof String) {\n                result.put(key, value);\n            } else if (value instanceof Map) {\n                buildFlattenedMap(result, (Map&lt;String, Object&gt;) value, key);\n            } else if (value instanceof Collection) {\n                int count = 0;\n                for (Object object : (Collection&lt;?&gt;) value)\n                    buildFlattenedMap(result, singletonMap(&quot;[&quot; + (count++) + &quot;]&quot;, object), key);\n            } else {\n                result.put(key, value != null ? &quot;&quot; + value : &quot;&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2532761,"reputation":1941,"user_id":2200690,"display_name":"Suketu Bhuta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682977660,"creation_date":1682977660,"answer_id":76150381,"question_id":57246626,"body_markdown":"I understand your question is about accessing the content with .yaml and .properties file ***without*** using the Spring framework, ***however*** if you do have access to the Spring Framework in your classpath and don&#39;t mind using some internal classes, the following code can read the content in a very succinct fashion\r\n\r\nFor Properties file:\r\n```\r\n    File file = ResourceUtils.getFile(&quot;classpath:application.properties&quot;);\r\n    PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\r\n    propertiesFactoryBean.setLocation(new PathResource(file.toPath()));\r\n    propertiesFactoryBean.afterPropertiesSet();\r\n\r\n    // you now have properties corresponding to contents in the application.properties file in a java.util.Properties object\r\n    Properties applicationProperties = propertiesFactoryBean.getObject();   \r\n    // now get access to whatever property exists in your file, for example\r\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \r\n\r\n```\r\n\r\nFor a Yaml resource\r\n\r\n```\r\n    File file = ResourceUtils.getFile(&quot;classpath:application.yaml&quot;);\r\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    factory.setResources(new PathResource(file.toPath()));\r\n    factory.afterPropertiesSet();\r\n\r\n    // you now have properties corresponding to contents in the application.yaml file in a java.util.Properties object\r\n    Properties applicationProperties = factory.getObject();\r\n    // now get access to whatever property exists in your file, for example\r\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \r\n```","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>I understand your question is about accessing the content with .yaml and .properties file <em><strong>without</strong></em> using the Spring framework, <em><strong>however</strong></em> if you do have access to the Spring Framework in your classpath and don't mind using some internal classes, the following code can read the content in a very succinct fashion</p>\n<p>For Properties file:</p>\n<pre><code>    File file = ResourceUtils.getFile(&quot;classpath:application.properties&quot;);\n    PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\n    propertiesFactoryBean.setLocation(new PathResource(file.toPath()));\n    propertiesFactoryBean.afterPropertiesSet();\n\n    // you now have properties corresponding to contents in the application.properties file in a java.util.Properties object\n    Properties applicationProperties = propertiesFactoryBean.getObject();   \n    // now get access to whatever property exists in your file, for example\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \n\n</code></pre>\n<p>For a Yaml resource</p>\n<pre><code>    File file = ResourceUtils.getFile(&quot;classpath:application.yaml&quot;);\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n    factory.setResources(new PathResource(file.toPath()));\n    factory.afterPropertiesSet();\n\n    // you now have properties corresponding to contents in the application.yaml file in a java.util.Properties object\n    Properties applicationProperties = factory.getObject();\n    // now get access to whatever property exists in your file, for example\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \n</code></pre>\n"}],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17934,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1684450290,"creation_date":1564368018,"question_id":57246626,"body_markdown":"I have a project but not in spring, how can I use annotation to read content in config files like `*.yaml or *.properties` under resource package.\r\n ","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>I have a project but not in spring, how can I use annotation to read content in config files like <code>*.yaml or *.properties</code> under resource package.</p>\n"},{"tags":["java","apache-kafka","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449727,"creation_date":1684449727,"answer_id":76284932,"question_id":76114151,"body_markdown":"Since `Propagator.Getter` is context-dependent, you need to define it on your own, e.g.:\r\n```java\r\npropagator.extract(request, (record, key) -&gt; record.getHeader(key));\r\n```\r\nAlso, a few things were redesigned, please look into the `io.micrometer.observation.transport` package where you also find the `Propagator` interface, it has `RequestReplyReceiverContext` and  `ReceiverContext` that might be useful to you (and how they are used).","title":"Parameter 1 of constructor UtilSpanner required a bean of type &#39;io.micrometer.tracing.Propagator$Getter&#39; that could not be found","body":"<p>Since <code>Propagator.Getter</code> is context-dependent, you need to define it on your own, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>propagator.extract(request, (record, key) -&gt; record.getHeader(key));\n</code></pre>\n<p>Also, a few things were redesigned, please look into the <code>io.micrometer.observation.transport</code> package where you also find the <code>Propagator</code> interface, it has <code>RequestReplyReceiverContext</code> and  <code>ReceiverContext</code> that might be useful to you (and how they are used).</p>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684449727,"creation_date":1682535214,"question_id":76114151,"body_markdown":"I am trying to upgrade my application to Java 17 , my application is a gradle project and I am using micrometer propagator in place of Spring sleuth propagator for some specific reason.Below is the code i am using ,\r\n\r\n    import io.micrometer.tracing.Span;\r\n    import io.micrometer.tracing.SPanAndScope;\r\n    import io.micrometer.tracing.Tracer;\r\n    ........\r\n\r\n\r\n    @Component\r\n    public class UtilSpanner implements BiFunction&lt;AtomicReference&lt;SpanAndScope&gt;, RecieverRecord&lt;String, ScheduleKafka&gt;,RecieverRecord&lt;String,ScheduleKafka&gt;&gt; {\r\n\r\n    private final Tracer tracer;\r\n    private final Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor; \r\n    private final Propagator propagator;\r\n\r\n    public UtilSpanner(Tracer tracer, Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor //here is the problem i am getting \r\n    , Propagator propagator){\r\n     this.tracer = tracer;\r\n     this.extractor = extractor;\r\n     this.propagator = propagator;\r\n    }\r\n\r\nI am getting problem in the paramater 1 of the constructor where it is not able to identify the Propagator.Getter. \r\n\r\nBelow is the gradle dependency i am using regarding micrometer \r\n\r\n       plugins{\r\n         id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n         id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n         ......\r\n    }\r\n\r\n    implementation &#39;io.micrometer:micrometer-core:1.10.6&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-promethus:1.10.6&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-cuircuitbreaker-reactor-resiliance4j:3.0.1&#39;\r\n    implementation &#39;io.micrometer:micrometer-tracing:latest.integration&#39;\r\n    implementation &#39;io.micrometer:micrometer-observation&#39;\r\n    implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\n\r\nPlease let me know how to solve this issue \r\n\r\n         \r\n    \r\n     \r\n\r\n  ","title":"Parameter 1 of constructor UtilSpanner required a bean of type &#39;io.micrometer.tracing.Propagator$Getter&#39; that could not be found","body":"<p>I am trying to upgrade my application to Java 17 , my application is a gradle project and I am using micrometer propagator in place of Spring sleuth propagator for some specific reason.Below is the code i am using ,</p>\n<pre><code>import io.micrometer.tracing.Span;\nimport io.micrometer.tracing.SPanAndScope;\nimport io.micrometer.tracing.Tracer;\n........\n\n\n@Component\npublic class UtilSpanner implements BiFunction&lt;AtomicReference&lt;SpanAndScope&gt;, RecieverRecord&lt;String, ScheduleKafka&gt;,RecieverRecord&lt;String,ScheduleKafka&gt;&gt; {\n\nprivate final Tracer tracer;\nprivate final Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor; \nprivate final Propagator propagator;\n\npublic UtilSpanner(Tracer tracer, Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor //here is the problem i am getting \n, Propagator propagator){\n this.tracer = tracer;\n this.extractor = extractor;\n this.propagator = propagator;\n}\n</code></pre>\n<p>I am getting problem in the paramater 1 of the constructor where it is not able to identify the Propagator.Getter.</p>\n<p>Below is the gradle dependency i am using regarding micrometer</p>\n<pre><code>   plugins{\n     id 'org.springframework.boot' version '3.0.5'\n     id 'io.spring.dependency-management' version '1.1.0'\n     ......\n}\n\nimplementation 'io.micrometer:micrometer-core:1.10.6'\nimplementation 'io.micrometer:micrometer-registry-promethus:1.10.6'\nimplementation 'org.springframework.cloud:spring-cloud-starter-cuircuitbreaker-reactor-resiliance4j:3.0.1'\nimplementation 'io.micrometer:micrometer-tracing:latest.integration'\nimplementation 'io.micrometer:micrometer-observation'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\n</code></pre>\n<p>Please let me know how to solve this issue</p>\n"},{"tags":["java","jwt","rhel","rhel8"],"answers":[{"tags":[],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449655,"creation_date":1684449655,"answer_id":76284922,"question_id":76283941,"body_markdown":"Still not sure what is causing this, but it seems isolated to the builds of Java in the RHEL 8 repositories. Using other openjdk builds works as expected.","title":"io.jsonwebtoken.security.InvalidKeyException: The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey on RHEL 8","body":"<p>Still not sure what is causing this, but it seems isolated to the builds of Java in the RHEL 8 repositories. Using other openjdk builds works as expected.</p>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684449655,"creation_date":1684438553,"question_id":76283941,"body_markdown":"I am attempting to sign a JWT token and am receiving the following error\r\n```\r\nio.jsonwebtoken.security.InvalidKeyException: JWT standard signing algorithms require either 1) a SecretKey for HMAC-SHA algorithms or 2) a private RSAKey for RSA algorithms or 3) a private ECKey for Elliptic Curve algorithms.  The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey\r\n```\r\n\r\nThe code where this error occurs\r\n```\r\n    public static String createJwtToken(Key privKey, String iss, String[] roles) {\r\n        long nowMs = System.currentTimeMillis();\r\n        long ttl = 60*60*1000; // 1 hour\r\n        Date now = new Date(nowMs);\r\n        Date exp = new Date(nowMs+ttl);\r\n        return &quot;Bearer &quot; + Jwts.builder()\r\n                .setHeaderParam(&quot;typ&quot;, &quot;JWT&quot;)\r\n                .claim(&quot;roles&quot;, roles)\r\n                .setIssuer(iss).setAudience(&quot;DRF&quot;)\r\n                .setIssuedAt(now)\r\n                .setExpiration(exp)\r\n                .signWith(privKey)\r\n                .compact();\r\n    }\r\n```\r\n\r\nMy private key is an ECDSA key. The bytes are read from a file and then used to create a PrivateKey object with this code\r\n```\r\n     KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n     EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n     PrivateKey privateKey = kf.generatePrivate(keySpec);\r\n```\r\n\r\nThere was no issue on RHEL 7 using Java 8. I have upgraded to RHEL 8 (with no other changes) and now see the problem. I&#39;ve tried using Java 11 as well with no change. I&#39;m using openjdk.","title":"io.jsonwebtoken.security.InvalidKeyException: The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey on RHEL 8","body":"<p>I am attempting to sign a JWT token and am receiving the following error</p>\n<pre><code>io.jsonwebtoken.security.InvalidKeyException: JWT standard signing algorithms require either 1) a SecretKey for HMAC-SHA algorithms or 2) a private RSAKey for RSA algorithms or 3) a private ECKey for Elliptic Curve algorithms.  The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey\n</code></pre>\n<p>The code where this error occurs</p>\n<pre><code>    public static String createJwtToken(Key privKey, String iss, String[] roles) {\n        long nowMs = System.currentTimeMillis();\n        long ttl = 60*60*1000; // 1 hour\n        Date now = new Date(nowMs);\n        Date exp = new Date(nowMs+ttl);\n        return &quot;Bearer &quot; + Jwts.builder()\n                .setHeaderParam(&quot;typ&quot;, &quot;JWT&quot;)\n                .claim(&quot;roles&quot;, roles)\n                .setIssuer(iss).setAudience(&quot;DRF&quot;)\n                .setIssuedAt(now)\n                .setExpiration(exp)\n                .signWith(privKey)\n                .compact();\n    }\n</code></pre>\n<p>My private key is an ECDSA key. The bytes are read from a file and then used to create a PrivateKey object with this code</p>\n<pre><code>     KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n     EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBytes);\n     PrivateKey privateKey = kf.generatePrivate(keySpec);\n</code></pre>\n<p>There was no issue on RHEL 7 using Java 8. I have upgraded to RHEL 8 (with no other changes) and now see the problem. I've tried using Java 11 as well with no change. I'm using openjdk.</p>\n"},{"tags":["java","apache-spark","amazon-s3","pyspark"],"comments":[{"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1684422412,"post_id":76281744,"comment_id":134518009,"body_markdown":"are you sure this is the full stack trace? Please add everything you see in your logs here, not just what you think it relevant.","body":"are you sure this is the full stack trace? Please add everything you see in your logs here, not just what you think it relevant."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684449339,"post_id":76281744,"comment_id":134523335,"body_markdown":"The error is suggesting you&#39;re missing guava jar in your Spark libraries... How did you install Spark? Which version?","body":"The error is suggesting you&#39;re missing guava jar in your Spark libraries... How did you install Spark? Which version?"},{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1684509530,"post_id":76281744,"comment_id":134532337,"body_markdown":"you have an older version of guava than whatever the hadoop-aws module was built with. Switch to hadoop 3.3.5 binaries which has its private copy of guava and reimplemented that precondition check internally as it was so brittle","body":"you have an older version of guava than whatever the hadoop-aws module was built with. Switch to hadoop 3.3.5 binaries which has its private copy of guava and reimplemented that precondition check internally as it was so brittle"}],"owner":{"account_id":28628669,"reputation":1,"user_id":21920171,"display_name":"Atharva Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684449371,"creation_date":1684419748,"question_id":76281744,"body_markdown":"I am getting the following error when I am trying to write spark 3 dataframe to AWS s3.\r\nBut with some minor change when I am trying to write it with spark 2 dataframe to s3 I am able to do it.\r\n\r\nSPARK 3 code:\r\n \r\n```\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    spark.conf.set(&quot;spark.hadoop.fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, access_key)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, secret_key)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\r\n\r\n    df.coalesce(1).write.mode(&quot;overwrite&quot;).parquet(path)\r\n```\r\n\r\nError:\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o88.parquet.\r\n: java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:816)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:792)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.getAWSAccessKeys(S3AUtils.java:747)\r\n\tat org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider.&lt;init&gt;(SimpleAWSCredentialsProvider.java:58)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.createAWSCredentialProviderSet(S3AUtils.java:600)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:257)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3303)\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:124)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3352)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3320)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:479)\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:361)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:556)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\r\n\tat org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:781)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\n","title":"Getting error in while writing spark-3 data frame to AWS S3","body":"<p>I am getting the following error when I am trying to write spark 3 dataframe to AWS s3.\nBut with some minor change when I am trying to write it with spark 2 dataframe to s3 I am able to do it.</p>\n<p>SPARK 3 code:</p>\n<pre><code>    spark.conf.set(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n    spark.conf.set(&quot;spark.hadoop.fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, access_key)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, secret_key)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\n\n    df.coalesce(1).write.mode(&quot;overwrite&quot;).parquet(path)\n</code></pre>\n<p>Error:</p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o88.parquet.\n: java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\n    at org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:816)\n    at org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:792)\n    at org.apache.hadoop.fs.s3a.S3AUtils.getAWSAccessKeys(S3AUtils.java:747)\n    at org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider.&lt;init&gt;(SimpleAWSCredentialsProvider.java:58)\n    at org.apache.hadoop.fs.s3a.S3AUtils.createAWSCredentialProviderSet(S3AUtils.java:600)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:257)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3303)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:124)\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3352)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3320)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:479)\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:361)\n    at org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\n    at org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:556)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\n    at org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:781)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":0,"creation_date":1684348510,"post_id":76274286,"comment_id":134506868,"body_markdown":"Can you post your complete current working code in java that is giving you this output?","body":"Can you post your complete current working code in java that is giving you this output?"},{"owner":{"account_id":5994077,"reputation":4784,"user_id":4709300,"accept_rate":100,"display_name":"Andria"},"score":0,"creation_date":1685028363,"post_id":76274286,"comment_id":134607013,"body_markdown":"@krishna-lakshmi If my dotall flag solution (or any of the other solutions) haven&#39;t worked for you, could you comment what issues you&#39;re having. If a solution has worked, can you mark one as the answer, please","body":"@krishna-lakshmi If my dotall flag solution (or any of the other solutions) haven&#39;t worked for you, could you comment what issues you&#39;re having. If a solution has worked, can you mark one as the answer, please"}],"answers":[{"tags":[],"owner":{"account_id":5994077,"reputation":4784,"user_id":4709300,"accept_rate":100,"display_name":"Andria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684436628,"creation_date":1684348853,"answer_id":76275270,"question_id":76274286,"body_markdown":"To start, I&#39;m not sure how you got the results you did with code you&#39;ve shown, so it&#39;s a bit difficult to understand exactly what your regular expression does. However, it seems like your main issue is that the content capture group in your regular expression is using `.+` to try to match anything. By default, `.` doesn&#39;t match line terminators (e.g. `\\r` and `\\n`), so you have a few options.\r\n\r\n## Solutions\r\n\r\n### The dotall flag\r\n\r\nThis is probably the right solution for you here. After you include the dotall flag, `.+` will match line terminators as well. This will allow you to easily match multiple lines of arbitrary note content.\r\n\r\n```java\r\nPattern.compile(&quot;pattern&quot;, Pattern.DOTALL);\r\n```\r\n\r\n### Non-capturing group with alternations between `.` and line terminators\r\n\r\nThis solution is also fairly effective if you can&#39;t use the dotall flag. It allows you to check for `.` or a line terminator and use the `+` quantifier to check for that 1 or more times.\r\n\r\n```none\r\n/(?:.|\\r|\\n)+/\r\n```\r\n\r\n### Character set including line terminators\r\n\r\nYou can include line terminators in a character set that includes all of the characters you wish to allow in the note content. This is not a very good solution as it limits the note content to whatever characters you remember to include.\r\n\r\n```none\r\n/[\\w\\s!@#$%^&amp;*()=+[\\]{}&quot;&#39;:;&lt;&gt;,.?|\\\\~`\\r\\n]+/\r\n```\r\n\r\n## Complete regular expression\r\n\r\nAs I couldn&#39;t reproduce the results you got with your own regular expression. I&#39;ve started from scratch and written one that should match your requirements.\r\n\r\n[View this solution at RegExr](https://regexr.com/7dvvl)\r\n```none\r\n/^\\*+$\\n(?&lt;content&gt;.+?)\\n^(?:(?&lt;userid&gt;\\w+)  )?(?&lt;timestamp&gt;\\d+-\\d+-\\d+T\\d\\d:\\d\\d:\\d\\dZ)$\\n+^\\*+$/gms\r\n```\r\n\r\nIt should be noted that I didn&#39;t include `\\r` since RegExr doesn&#39;t have carriage return characters only `\\n` newline characters. However, this should be super easy to fix.\r\n\r\n### Results\r\n\r\n - Match 0\r\n   - content: `Example noteText `\r\n   - userid: `krishna`\r\n   - timestamp: `2023-05-16T11:29:59Z`\r\n - Match 1\r\n   - content: `Example notes for testing\\nExtension of the same notes`\r\n   - userid: *empty*\r\n   - timestamp: `2023-05-16T11:36:03Z`","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<p>To start, I'm not sure how you got the results you did with code you've shown, so it's a bit difficult to understand exactly what your regular expression does. However, it seems like your main issue is that the content capture group in your regular expression is using <code>.+</code> to try to match anything. By default, <code>.</code> doesn't match line terminators (e.g. <code>\\r</code> and <code>\\n</code>), so you have a few options.</p>\n<h2>Solutions</h2>\n<h3>The dotall flag</h3>\n<p>This is probably the right solution for you here. After you include the dotall flag, <code>.+</code> will match line terminators as well. This will allow you to easily match multiple lines of arbitrary note content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;pattern&quot;, Pattern.DOTALL);\n</code></pre>\n<h3>Non-capturing group with alternations between <code>.</code> and line terminators</h3>\n<p>This solution is also fairly effective if you can't use the dotall flag. It allows you to check for <code>.</code> or a line terminator and use the <code>+</code> quantifier to check for that 1 or more times.</p>\n<pre class=\"lang-none prettyprint-override\"><code>/(?:.|\\r|\\n)+/\n</code></pre>\n<h3>Character set including line terminators</h3>\n<p>You can include line terminators in a character set that includes all of the characters you wish to allow in the note content. This is not a very good solution as it limits the note content to whatever characters you remember to include.</p>\n<pre class=\"lang-none prettyprint-override\"><code>/[\\w\\s!@#$%^&amp;*()=+[\\]{}&quot;':;&lt;&gt;,.?|\\\\~`\\r\\n]+/\n</code></pre>\n<h2>Complete regular expression</h2>\n<p>As I couldn't reproduce the results you got with your own regular expression. I've started from scratch and written one that should match your requirements.</p>\n<p><a href=\"https://regexr.com/7dvvl\" rel=\"nofollow noreferrer\">View this solution at RegExr</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>/^\\*+$\\n(?&lt;content&gt;.+?)\\n^(?:(?&lt;userid&gt;\\w+)  )?(?&lt;timestamp&gt;\\d+-\\d+-\\d+T\\d\\d:\\d\\d:\\d\\dZ)$\\n+^\\*+$/gms\n</code></pre>\n<p>It should be noted that I didn't include <code>\\r</code> since RegExr doesn't have carriage return characters only <code>\\n</code> newline characters. However, this should be super easy to fix.</p>\n<h3>Results</h3>\n<ul>\n<li>Match 0\n<ul>\n<li>content: <code>Example noteText </code></li>\n<li>userid: <code>krishna</code></li>\n<li>timestamp: <code>2023-05-16T11:29:59Z</code></li>\n</ul>\n</li>\n<li>Match 1\n<ul>\n<li>content: <code>Example notes for testing\\nExtension of the same notes</code></li>\n<li>userid: <em>empty</em></li>\n<li>timestamp: <code>2023-05-16T11:36:03Z</code></li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449234,"creation_date":1684449234,"answer_id":76284888,"question_id":76274286,"body_markdown":"First, regular expression captures have to be in the order they appear.\r\n\r\nSecondly, you cannot merge capture groups, unfortunately.\r\n\r\nMy recommendation is to just read the note line-for-line with a `BufferedReader`.\r\n\r\nYou can use a class to hold the `timestamp` and `content`, and another class to hold the `userid` and a list of `content`.\r\n\r\n```java\r\nclass Note {\r\n    String userid;\r\n    List&lt;Content&gt; content;\r\n}\r\n\r\nclass Content {\r\n    String timestamp;\r\n    String string;\r\n\r\n    void append(String string) {\r\n        this.string += System.lineSeparator() + string;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.join(&quot; &quot;, string.split(&quot;\\r\\n?|\\n&quot;));\r\n    }\r\n}\r\n```\r\nI&#39;ve included a `toString` method in the `Content` class, as it appears you want the strings appended on one line.  \r\n\r\nThen, create a method called `parse`, which returns a `Note`.  \r\nThe regular expression within this method is attempting to match the timestamp.\r\n\r\n```java\r\nNote parse(String string) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new StringReader(string))) {\r\n        String line;\r\n        int indexOf;\r\n        Note note = new Note();\r\n        Content content = null;\r\n        List&lt;Content&gt; list = new ArrayList&lt;&gt;();\r\n        while ((line = reader.readLine()) != null) {\r\n            if (!line.isEmpty() &amp;&amp; !line.matches(&quot;\\\\*+&quot;)) {\r\n                if (line.matches(&quot;.*\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;)) {\r\n                    indexOf = line.lastIndexOf(&#39; &#39;);\r\n                    if (content == null) content = new Content();\r\n                    if (indexOf != -1) {\r\n                        note.userid = line.substring(0, indexOf).strip();\r\n                        content.timestamp = line.substring(indexOf + 1);\r\n                    } else\r\n                        content.timestamp = line;\r\n                    list.add(content);\r\n                    content = null;\r\n                } else {\r\n                    if (content == null) {\r\n                        content = new Content();\r\n                        content.string = line;\r\n                    } else\r\n                        content.append(line);\r\n                }\r\n            }\r\n        }\r\n        note.content = list;\r\n        return note;\r\n    }\r\n}\r\n```\r\n\r\nFinally, add a `toString` method to your `Note` class, to build the JSON object.\r\n\r\n```java\r\nclass Note {\r\n    String userid;\r\n    List&lt;Content&gt; content;\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder json = new StringBuilder();\r\n        String newline = System.lineSeparator();\r\n        json.append(&#39;[&#39;).append(newline);\r\n        int index = 0;\r\n        for (Content string : content) {\r\n            json.append(&quot;{&quot;.indent(2));\r\n            json.append(&quot;\\&quot;timestamp\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string.timestamp).indent(4));\r\n            json.append(&quot;\\&quot;userid\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(userid).indent(4));\r\n            json.append(&quot;\\&quot;content\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string).indent(4));\r\n            if (++index != content.size()) json.append(&quot;},&quot;.indent(2));\r\n            else json.append(&quot;}&quot;.indent(2));\r\n        }\r\n        json.append(&#39;]&#39;);\r\n        return json.toString();\r\n    }\r\n}\r\n```\r\n\r\nIf you were to run `parse` on your input string, and then printed the `Note`, you would get the following.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;\r\n    &quot;userid&quot;: &quot;krishna&quot;\r\n    &quot;content&quot;: &quot;Example noteText &quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;\r\n    &quot;userid&quot;: &quot;krishna&quot;\r\n    &quot;content&quot;: &quot;Example notes for testing Extension of the same notes&quot;\r\n  }\r\n]\r\n```","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<p>First, regular expression captures have to be in the order they appear.</p>\n<p>Secondly, you cannot merge capture groups, unfortunately.</p>\n<p>My recommendation is to just read the note line-for-line with a <code>BufferedReader</code>.</p>\n<p>You can use a class to hold the <code>timestamp</code> and <code>content</code>, and another class to hold the <code>userid</code> and a list of <code>content</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String userid;\n    List&lt;Content&gt; content;\n}\n\nclass Content {\n    String timestamp;\n    String string;\n\n    void append(String string) {\n        this.string += System.lineSeparator() + string;\n    }\n\n    @Override\n    public String toString() {\n        return String.join(&quot; &quot;, string.split(&quot;\\r\\n?|\\n&quot;));\n    }\n}\n</code></pre>\n<p>I've included a <code>toString</code> method in the <code>Content</code> class, as it appears you want the strings appended on one line.</p>\n<p>Then, create a method called <code>parse</code>, which returns a <code>Note</code>.<br />\nThe regular expression within this method is attempting to match the timestamp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Note parse(String string) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new StringReader(string))) {\n        String line;\n        int indexOf;\n        Note note = new Note();\n        Content content = null;\n        List&lt;Content&gt; list = new ArrayList&lt;&gt;();\n        while ((line = reader.readLine()) != null) {\n            if (!line.isEmpty() &amp;&amp; !line.matches(&quot;\\\\*+&quot;)) {\n                if (line.matches(&quot;.*\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;)) {\n                    indexOf = line.lastIndexOf(' ');\n                    if (content == null) content = new Content();\n                    if (indexOf != -1) {\n                        note.userid = line.substring(0, indexOf).strip();\n                        content.timestamp = line.substring(indexOf + 1);\n                    } else\n                        content.timestamp = line;\n                    list.add(content);\n                    content = null;\n                } else {\n                    if (content == null) {\n                        content = new Content();\n                        content.string = line;\n                    } else\n                        content.append(line);\n                }\n            }\n        }\n        note.content = list;\n        return note;\n    }\n}\n</code></pre>\n<p>Finally, add a <code>toString</code> method to your <code>Note</code> class, to build the JSON object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String userid;\n    List&lt;Content&gt; content;\n\n    @Override\n    public String toString() {\n        StringBuilder json = new StringBuilder();\n        String newline = System.lineSeparator();\n        json.append('[').append(newline);\n        int index = 0;\n        for (Content string : content) {\n            json.append(&quot;{&quot;.indent(2));\n            json.append(&quot;\\&quot;timestamp\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string.timestamp).indent(4));\n            json.append(&quot;\\&quot;userid\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(userid).indent(4));\n            json.append(&quot;\\&quot;content\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string).indent(4));\n            if (++index != content.size()) json.append(&quot;},&quot;.indent(2));\n            else json.append(&quot;}&quot;.indent(2));\n        }\n        json.append(']');\n        return json.toString();\n    }\n}\n</code></pre>\n<p>If you were to run <code>parse</code> on your input string, and then printed the <code>Note</code>, you would get the following.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;\n    &quot;userid&quot;: &quot;krishna&quot;\n    &quot;content&quot;: &quot;Example noteText &quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;\n    &quot;userid&quot;: &quot;krishna&quot;\n    &quot;content&quot;: &quot;Example notes for testing Extension of the same notes&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":28003742,"reputation":1,"user_id":21387491,"display_name":"krishna lakshmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684449234,"creation_date":1684340992,"question_id":76274286,"body_markdown":"## The Problem\r\n\r\nIn my application we are pulling notes that look like this:\r\n\r\n```none\r\n****************************\r\nExample noteText \r\nkrishna  2023-05-16T11:29:59Z\r\n\r\n****************************\r\n\r\n*****************************\r\nExample notes for testing\r\nExtension of the same notes\r\n\r\n2023-05-16T11:36:03Z\r\n******************************\r\n```\r\n\r\nThen we need to convert the notes to JSON. The result needs to be formatted like the following JSON:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example noteText&quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example notes for testing  Extension of the same notes&quot;\r\n  } \r\n]\r\n```\r\n\r\n\r\n## Attempted Solution\r\n\r\nMy current solution is a regular expression in Java that unfortunately cannot capture multi-line note content in one capture group. This causes the output to separate one multi-line note into two notes.\r\n\r\n\r\n### Code\r\n\r\n```java\r\nPattern notesPattern = Pattern.compile(\r\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\r\n    &quot;(?&lt;date&gt;[\\\\w\\\\s:]+?)&quot; +\r\n    &quot;\\\\r\\\\n&quot; +\r\n    &quot;(?&lt;userid&gt;\\\\w+?)&quot; +\r\n    &quot;\\\\r\\\\n&quot; +\r\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\r\n    &quot;(?&lt;content&gt;.+)&quot; + // Note content is captured here\r\n    &quot;(?:\\\\r\\\\n\\\\r\\\\n)?&quot;);\r\n```\r\n\r\n\r\n### Output\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example noteText&quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example notes for testing &quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: null,\r\n    &quot;userid&quot;: null,\r\n    &quot;content&quot;: &quot;\\n\\nExtension of the same notes&quot;\r\n  }\r\n]\r\n```\r\n\r\nHow can I modify my regular expression to capture multiple lines in one capture group?","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<h2>The Problem</h2>\n<p>In my application we are pulling notes that look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>****************************\nExample noteText \nkrishna  2023-05-16T11:29:59Z\n\n****************************\n\n*****************************\nExample notes for testing\nExtension of the same notes\n\n2023-05-16T11:36:03Z\n******************************\n</code></pre>\n<p>Then we need to convert the notes to JSON. The result needs to be formatted like the following JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example noteText&quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example notes for testing  Extension of the same notes&quot;\n  } \n]\n</code></pre>\n<h2>Attempted Solution</h2>\n<p>My current solution is a regular expression in Java that unfortunately cannot capture multi-line note content in one capture group. This causes the output to separate one multi-line note into two notes.</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern notesPattern = Pattern.compile(\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\n    &quot;(?&lt;date&gt;[\\\\w\\\\s:]+?)&quot; +\n    &quot;\\\\r\\\\n&quot; +\n    &quot;(?&lt;userid&gt;\\\\w+?)&quot; +\n    &quot;\\\\r\\\\n&quot; +\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\n    &quot;(?&lt;content&gt;.+)&quot; + // Note content is captured here\n    &quot;(?:\\\\r\\\\n\\\\r\\\\n)?&quot;);\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example noteText&quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example notes for testing &quot;\n  },\n  {\n    &quot;timestamp&quot;: null,\n    &quot;userid&quot;: null,\n    &quot;content&quot;: &quot;\\n\\nExtension of the same notes&quot;\n  }\n]\n</code></pre>\n<p>How can I modify my regular expression to capture multiple lines in one capture group?</p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1683998482,"post_id":76243966,"comment_id":134453755,"body_markdown":"In your screenshot, I see `junit-4.12.jar` of test scope (shown with a darker icon) which contains `org.junit.Assert` and `org.junit.Test`, so it is not available in your non-test source folder `src`. The JARs are collapsed, not showing where `com.binance4j.binance` and `com.binance4j.model.market.TickerPrice` is contained.","body":"In your screenshot, I see <code>junit-4.12.jar</code> of test scope (shown with a darker icon) which contains <code>org.junit.Assert</code> and <code>org.junit.Test</code>, so it is not available in your non-test source folder <code>src</code>. The JARs are collapsed, not showing where <code>com.binance4j.binance</code> and <code>com.binance4j.model.market.TickerPrice</code> is contained."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1683998529,"post_id":76243966,"comment_id":134453763,"body_markdown":"First why have you changed the default `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` if don&#39;t know what you are doing... second remove that line... and to solve your problem you have to add appropriate dependencies for the libraries you are using... Furthermore you have to use at least JDK 17 because you have defined `&lt;release&gt;17&lt;/release&gt;` ... and also correctly locate your files for production code into `src/main/java/&lt;package&gt;` and for test into `src/test/java/&lt;package&gt;`...","body":"First why have you changed the default <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> if don&#39;t know what you are doing... second remove that line... and to solve your problem you have to add appropriate dependencies for the libraries you are using... Furthermore you have to use at least JDK 17 because you have defined <code>&lt;release&gt;17&lt;&#47;release&gt;</code> ... and also correctly locate your files for production code into <code>src&#47;main&#47;java&#47;&lt;package&gt;</code> and for test into <code>src&#47;test&#47;java&#47;&lt;package&gt;</code>..."}],"answers":[{"tags":[],"owner":{"account_id":3380783,"reputation":11,"user_id":2837868,"display_name":"Jorg8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684447831,"creation_date":1684010145,"answer_id":76244770,"question_id":76243966,"body_markdown":"Have you tried updating the maven project to download the dependencies?\r\n\r\n[![E][1]][1]\r\n\r\n\r\nUPDATED!\r\n\r\nYou can&#39;t find the junit imports because the scope is &quot;test&quot;. Here you can see how the same class in /src/main/java does not find dependencies, but in /src/test/java it can import the Test and Assert classes.\r\n\r\nCheck the other two classes, they don&#39;t exist in the libraries you are importing. I don&#39;t know those libraries but in all maven central com.binance4j* dependencies neither of these two classes exist.\r\n\r\n[![!\\[enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3Eyo.png\r\n  [2]: https://i.stack.imgur.com/AQuzP.png","title":"Maven Eclipse Java Error: &quot;The import com.binance4j.binance cannot be resolved&quot;","body":"<p>Have you tried updating the maven project to download the dependencies?</p>\n<p><a href=\"https://i.stack.imgur.com/x3Eyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3Eyo.png\" alt=\"E\" /></a></p>\n<p>UPDATED!</p>\n<p>You can't find the junit imports because the scope is &quot;test&quot;. Here you can see how the same class in /src/main/java does not find dependencies, but in /src/test/java it can import the Test and Assert classes.</p>\n<p>Check the other two classes, they don't exist in the libraries you are importing. I don't know those libraries but in all maven central com.binance4j* dependencies neither of these two classes exist.</p>\n<p><a href=\"https://i.stack.imgur.com/AQuzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQuzP.png\" alt=\"![enter image description here\" /></a></p>\n"}],"owner":{"account_id":24160703,"reputation":11,"user_id":21893619,"display_name":"Simon Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684447831,"creation_date":1683997390,"question_id":76243966,"body_markdown":"I have set up a new project, converted it to a maven project and have imported the necessary dependencies. Independent from what dependency I use, I always get error message &quot;The import ... cannot be resolved&quot;.\r\n\r\nThings I have done so far:\r\n-Rebuilt and saved the project\r\n-Checked if Maven Repository contains files: it does (see screenshot)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n-Downloaded the maven to eclipse plugin from [github](https://github.com/eclipse-m2e/m2e-core/blob/master/README.md#-installation)\r\n-tried it with different JRE Versions (JavaSE-1.6 and JavaSE-15)\r\n\r\n\r\n\r\n\r\nMy pom.xml contains:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;BuyCoinDieZweite&lt;/groupId&gt;\r\n  &lt;artifactId&gt;BuyCoinDieZweite&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n\t  &lt;!-- https://mvnrepository.com/artifact/com.binance4j/binance4j-spot --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.binance4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;binance4j-spot&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy Main java file for test purpose:\r\n```\r\nimport com.binance4j.binance.SpotApiRestClient;\r\nimport com.binance4j.model.market.TickerPrice;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    @Test\r\n    public void testConnection() {\r\n        // Create a client with API Key and Secret Key\r\n        // Replace &quot;yourApiKey&quot; and &quot;yourSecretKey&quot; with your actual keys\r\n        SpotApiRestClient client = new SpotApiRestClient(&quot;yourApiKey&quot;, &quot;yourSecretKey&quot;);\r\n\r\n        // Get ticker price for BTC/USDT\r\n        TickerPrice tickerPrice = client.getTickerPrice(&quot;BTCUSDT&quot;);\r\n\r\n        // Check that the ticker price is not null\r\n        Assert.assertNotNull(tickerPrice);\r\n        \r\n        // Check that the symbol is as expected\r\n        Assert.assertEquals(&quot;BTCUSDT&quot;, tickerPrice.getSymbol());\r\n    }\r\n}\r\n\r\n```\r\n\r\nThere are no errors in the pom.xml, but only in the Main.java file. See the following (I have left out the errors &quot;ObjectXYZ cannot be resolved&quot;:\r\n\r\n```\r\n&quot;The import com.binance4j.binance cannot be resolved&quot;\r\n&quot;The import com.binance4j.model.market.TickerPrice cannot be resolved&quot;\r\n&quot;The import org.junit.Assert cannot be resolved&quot;\r\n&quot;The import org.junit.Test cannot be resolved&quot;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h6zpZ.png","title":"Maven Eclipse Java Error: &quot;The import com.binance4j.binance cannot be resolved&quot;","body":"<p>I have set up a new project, converted it to a maven project and have imported the necessary dependencies. Independent from what dependency I use, I always get error message &quot;The import ... cannot be resolved&quot;.</p>\n<p>Things I have done so far:\n-Rebuilt and saved the project\n-Checked if Maven Repository contains files: it does (see screenshot)</p>\n<p><a href=\"https://i.stack.imgur.com/h6zpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6zpZ.png\" alt=\"enter image description here\" /></a></p>\n<p>-Downloaded the maven to eclipse plugin from <a href=\"https://github.com/eclipse-m2e/m2e-core/blob/master/README.md#-installation\" rel=\"nofollow noreferrer\">github</a>\n-tried it with different JRE Versions (JavaSE-1.6 and JavaSE-15)</p>\n<p>My pom.xml contains:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;BuyCoinDieZweite&lt;/groupId&gt;\n  &lt;artifactId&gt;BuyCoinDieZweite&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n      &lt;!-- https://mvnrepository.com/artifact/com.binance4j/binance4j-spot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.binance4j&lt;/groupId&gt;\n    &lt;artifactId&gt;binance4j-spot&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My Main java file for test purpose:</p>\n<pre><code>import com.binance4j.binance.SpotApiRestClient;\nimport com.binance4j.model.market.TickerPrice;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.List;\n\npublic class Main {\n\n    @Test\n    public void testConnection() {\n        // Create a client with API Key and Secret Key\n        // Replace &quot;yourApiKey&quot; and &quot;yourSecretKey&quot; with your actual keys\n        SpotApiRestClient client = new SpotApiRestClient(&quot;yourApiKey&quot;, &quot;yourSecretKey&quot;);\n\n        // Get ticker price for BTC/USDT\n        TickerPrice tickerPrice = client.getTickerPrice(&quot;BTCUSDT&quot;);\n\n        // Check that the ticker price is not null\n        Assert.assertNotNull(tickerPrice);\n        \n        // Check that the symbol is as expected\n        Assert.assertEquals(&quot;BTCUSDT&quot;, tickerPrice.getSymbol());\n    }\n}\n\n</code></pre>\n<p>There are no errors in the pom.xml, but only in the Main.java file. See the following (I have left out the errors &quot;ObjectXYZ cannot be resolved&quot;:</p>\n<pre><code>&quot;The import com.binance4j.binance cannot be resolved&quot;\n&quot;The import com.binance4j.model.market.TickerPrice cannot be resolved&quot;\n&quot;The import org.junit.Assert cannot be resolved&quot;\n&quot;The import org.junit.Test cannot be resolved&quot;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1684463446,"post_id":76283588,"comment_id":134524636,"body_markdown":"check if this [helps](https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error)","body":"check if this <a href=\"https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error\">helps</a>"}],"owner":{"account_id":11626545,"reputation":11,"user_id":11979235,"display_name":"Vennela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684446176,"creation_date":1684435079,"question_id":76283588,"body_markdown":"I&#39;m new to springBoot, I tried to built a simple form and added validation. Everything works fine but when I click on submit button with empty subject and name the program throws an error. I&#39;m attaching the files and error for reference. Thanks In advance.\r\n\r\n\r\n    **ERROR**\r\n    \r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Thu May 18 23:36:46 IST 2023\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor&#39; (template: &quot;form&quot; - line 93, col 30)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor&#39; (template: &quot;form&quot; - line 93, col 30)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;grades&#39; available as request attribute\r\n    \tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n    \tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n    \tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n    \tat org.thymeleaf.spring5.processor.SpringErrorsTagProcessor.doProcess(SpringErrorsTagProcessor.java:65)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 63 more\r\n\r\n**form.html**\r\n\r\n      &lt;form method=&quot;post&quot; th:object=&quot;${grades}&quot; th:action=&quot;@{handleSubmit}&quot;&gt; \r\n        &lt;p style=&quot;color:red&quot; th:errors=&quot;*{name}&quot;&gt;&lt;/p&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; th:field=&quot;*{name}&quot;&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Score&quot; th:field=&quot;*{score}&quot;&gt;  \r\n        &lt;p style=&quot;color:red&quot; th:errors=&quot;*{subject}&quot;&gt;&lt;/p&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Subject&quot; th:field=&quot;*{subject}&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\r\n        &lt;br&gt;&lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n      &lt;/form&gt;  \r\n\r\n**Controller**\r\n    \r\n    List&lt;Grade&gt; obj=new ArrayList&lt;&gt;();\r\n    @GetMapping(&quot;/grades&quot;)\r\n    public String getGrades(Model model){\r\n        model.addAttribute(&quot;grades&quot;,obj);\r\n        return &quot;grades&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String getForm(Model model,@RequestParam(required = false) String id){\r\n        int index=getGradeIndex(id);\r\n         model.addAttribute(&quot;grades&quot;,index==Constants.Not_Found?new Grade():obj.get(index));\r\n        return &quot;form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/handleSubmit&quot;)\r\n    public String submitForm(@Valid Grade grade, BindingResult result){\r\n        if(result.hasErrors()){\r\n            return &quot;form&quot;;\r\n        }\r\n        int index=getGradeIndex(grade.getId());\r\n        if(index==Constants.Not_Found)\r\n        obj.add(grade);\r\n        else{\r\n            obj.set(index, grade);\r\n        }\r\n        \r\n        return &quot;redirect:/grades&quot;;\r\n    }\r\n\r\n    public Integer getGradeIndex(String id){\r\n        for(int i=0;i&lt;obj.size();i++){\r\n            if(obj.get(i).getId().equals(id)){\r\n                return i;\r\n            }\r\n        }\r\n        return Constants.Not_Found;\r\n    }\r\n}\r\n\r\n**Grade.java**\r\n\r\n    @NotBlank(message=&quot;Name cannot be blank&quot;)\r\n    private String name;\r\n    @NotBlank(message=&quot;Subject cannot be blank&quot;)\r\n    private String subject;\r\n    private String score;\r\n    private String id;\r\n\r\n    public Grade(){\r\n        this.id=UUID.randomUUID().toString();\r\n    }\r\n\r\n    public Grade(String name,String subject,String score){\r\n        this.name=name;\r\n        this.subject=subject;\r\n        this.score=score;\r\n    }\r\n\r\n\r\n","title":"Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor","body":"<p>I'm new to springBoot, I tried to built a simple form and added validation. Everything works fine but when I click on submit button with empty subject and name the program throws an error. I'm attaching the files and error for reference. Thanks In advance.</p>\n<pre><code>**ERROR**\n\nWhitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nThu May 18 23:36:46 IST 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringErrorsTagProcessor' (template: &quot;form&quot; - line 93, col 30)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringErrorsTagProcessor' (template: &quot;form&quot; - line 93, col 30)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'grades' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.SpringErrorsTagProcessor.doProcess(SpringErrorsTagProcessor.java:65)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 63 more\n</code></pre>\n<p><strong>form.html</strong></p>\n<pre><code>  &lt;form method=&quot;post&quot; th:object=&quot;${grades}&quot; th:action=&quot;@{handleSubmit}&quot;&gt; \n    &lt;p style=&quot;color:red&quot; th:errors=&quot;*{name}&quot;&gt;&lt;/p&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; th:field=&quot;*{name}&quot;&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Score&quot; th:field=&quot;*{score}&quot;&gt;  \n    &lt;p style=&quot;color:red&quot; th:errors=&quot;*{subject}&quot;&gt;&lt;/p&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Subject&quot; th:field=&quot;*{subject}&quot;&gt;\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;  \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>List&lt;Grade&gt; obj=new ArrayList&lt;&gt;();\n@GetMapping(&quot;/grades&quot;)\npublic String getGrades(Model model){\n    model.addAttribute(&quot;grades&quot;,obj);\n    return &quot;grades&quot;;\n}\n\n@GetMapping(&quot;/&quot;)\npublic String getForm(Model model,@RequestParam(required = false) String id){\n    int index=getGradeIndex(id);\n     model.addAttribute(&quot;grades&quot;,index==Constants.Not_Found?new Grade():obj.get(index));\n    return &quot;form&quot;;\n}\n\n@PostMapping(&quot;/handleSubmit&quot;)\npublic String submitForm(@Valid Grade grade, BindingResult result){\n    if(result.hasErrors()){\n        return &quot;form&quot;;\n    }\n    int index=getGradeIndex(grade.getId());\n    if(index==Constants.Not_Found)\n    obj.add(grade);\n    else{\n        obj.set(index, grade);\n    }\n    \n    return &quot;redirect:/grades&quot;;\n}\n\npublic Integer getGradeIndex(String id){\n    for(int i=0;i&lt;obj.size();i++){\n        if(obj.get(i).getId().equals(id)){\n            return i;\n        }\n    }\n    return Constants.Not_Found;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Grade.java</strong></p>\n<pre><code>@NotBlank(message=&quot;Name cannot be blank&quot;)\nprivate String name;\n@NotBlank(message=&quot;Subject cannot be blank&quot;)\nprivate String subject;\nprivate String score;\nprivate String id;\n\npublic Grade(){\n    this.id=UUID.randomUUID().toString();\n}\n\npublic Grade(String name,String subject,String score){\n    this.name=name;\n    this.subject=subject;\n    this.score=score;\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":0,"creation_date":1345725270,"post_id":12084265,"comment_id":16156995,"body_markdown":"&quot;But then i thought adding jars one by one is waster of time&quot; you must be a very busy man indeed! My advice, do it the &quot;right&quot; way instead.","body":"&quot;But then i thought adding jars one by one is waster of time&quot; you must be a very busy man indeed! My advice, do it the &quot;right&quot; way instead."},{"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"score":0,"creation_date":1345731649,"post_id":12084265,"comment_id":16160615,"body_markdown":"what i did was the right thing actually. download spring distribution and add the jars to build path","body":"what i did was the right thing actually. download spring distribution and add the jars to build path"},{"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"score":1,"creation_date":1345986177,"post_id":12084265,"comment_id":16222909,"body_markdown":"I have resolved this. the problem was i have added the source jars for the build path instead of .class jars. Need to add the jars inside the dist folder of spring distribution.","body":"I have resolved this. the problem was i have added the source jars for the build path instead of .class jars. Need to add the jars inside the dist folder of spring distribution."},{"owner":{"account_id":36527,"reputation":28775,"user_id":104223,"display_name":"Leigh"},"score":0,"creation_date":1368719957,"post_id":12084265,"comment_id":23847210,"body_markdown":"@FrankD - Haha, I have done that before. Glad you figured it out. You should post that as an answer, and close the question.","body":"@FrankD - Haha, I have done that before. Glad you figured it out. You should post that as an answer, and close the question."}],"answers":[{"tags":[],"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345692019,"creation_date":1345692019,"answer_id":12084286,"question_id":12084265,"body_markdown":"You have to add each of them, not just the directory. You can use Ctrl-click / mouse-drag to multi-select all the jars.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>You have to add each of them, not just the directory. You can use Ctrl-click / mouse-drag to multi-select all the jars.</p>\n"},{"tags":[],"owner":{"account_id":1776040,"reputation":893,"user_id":1619817,"accept_rate":80,"display_name":"deepakraut"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684445913,"creation_date":1345789190,"answer_id":12104100,"question_id":12084265,"body_markdown":"Include these libraries:\r\n\r\n- org.springframework.context.support-3.1.0.RELEASE.jar and\r\n- org.springframework.context-3.1.0.RELEASE.jar&lt;/p&gt;","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Include these libraries:</p>\n<ul>\n<li>org.springframework.context.support-3.1.0.RELEASE.jar and</li>\n<li>org.springframework.context-3.1.0.RELEASE.jar</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2777322,"reputation":21,"user_id":2390643,"display_name":"Subhadeep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368720009,"creation_date":1368718004,"answer_id":16591562,"question_id":12084265,"body_markdown":"Its not the Spring-bean jar.You need **Spring-context** jar. You might have missed it while adding all jars together. Good luck.\r\n","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Its not the Spring-bean jar.You need <strong>Spring-context</strong> jar. You might have missed it while adding all jars together. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":5580525,"reputation":1,"user_id":4422528,"display_name":"Santhiya S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425036294,"creation_date":1425036294,"answer_id":28763975,"question_id":12084265,"body_markdown":"The spring jars should be imported from &quot;dist&quot; folder not from &quot;src&quot; folder.\r\nThis will resolve the above issue.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>The spring jars should be imported from \"dist\" folder not from \"src\" folder.\nThis will resolve the above issue.</p>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460962762,"creation_date":1460962762,"answer_id":36687296,"question_id":12084265,"body_markdown":"Download org.springframework.context-2.5.6.a.jar.zip from\r\nhttp://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm\r\nand import it from build path. Will resolve your problem.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Download org.springframework.context-2.5.6.a.jar.zip from\n<a href=\"http://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm</a>\nand import it from build path. Will resolve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2266207,"reputation":622,"user_id":1994816,"display_name":"Rohit Rokde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498826674,"creation_date":1498826674,"answer_id":44846809,"question_id":12084265,"body_markdown":"I know that this answer is given in a lot of other threads, but still here is the solution that worked for me. Hope it helps somebody.\r\n\r\nStep 1: Close Eclipse\r\n\r\nStep 2:\r\nJust go to your maven folder:-\r\n\r\nC:\\Users\\Rohit.rokade\\.m2\\repository\\org\r\n\r\nAnd delete the &#39;springframework&#39; folder. (This contains all the maven dependencies related to spring)\r\n\r\nNow open eclipse.\r\n\r\nStep 3: Eclipse shall re-download all the dependencies and the errors should have gone by now. If some of them still don&#39;t, just update your maven project.\r\n(Right click your project in eclipse -&gt; Maven -&gt; Update project)  ","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>I know that this answer is given in a lot of other threads, but still here is the solution that worked for me. Hope it helps somebody.</p>\n\n<p>Step 1: Close Eclipse</p>\n\n<p>Step 2:\nJust go to your maven folder:-</p>\n\n<p>C:\\Users\\Rohit.rokade.m2\\repository\\org</p>\n\n<p>And delete the 'springframework' folder. (This contains all the maven dependencies related to spring)</p>\n\n<p>Now open eclipse.</p>\n\n<p>Step 3: Eclipse shall re-download all the dependencies and the errors should have gone by now. If some of them still don't, just update your maven project.\n(Right click your project in eclipse -> Maven -> Update project)  </p>\n"},{"tags":[],"owner":{"account_id":3956292,"reputation":1659,"user_id":3264635,"display_name":"Sdembla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525659541,"creation_date":1525659541,"answer_id":50206289,"question_id":12084265,"body_markdown":"This resolved my issue:\r\n\r\n1. Open pom.xml\r\n2. Click on &quot;dependencies&quot; tab at the bottom and click Add.\r\n3. In artifactId - type &quot;org.springframework&quot;\r\n4. In groupId - type &quot;spring-core&quot;\r\n5. In search tab - type &quot;springframework&quot; and wait for couple of seconds.\r\n6. Look for spring-context and add it.\r\n\r\nNow, In the project explorer, right click on the project and search for Maven.\r\nClick on &quot;Update project. \r\n\r\nThis should resolve the issue. ","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>This resolved my issue:</p>\n\n<ol>\n<li>Open pom.xml</li>\n<li>Click on \"dependencies\" tab at the bottom and click Add.</li>\n<li>In artifactId - type \"org.springframework\"</li>\n<li>In groupId - type \"spring-core\"</li>\n<li>In search tab - type \"springframework\" and wait for couple of seconds.</li>\n<li>Look for spring-context and add it.</li>\n</ol>\n\n<p>Now, In the project explorer, right click on the project and search for Maven.\nClick on \"Update project. </p>\n\n<p>This should resolve the issue. </p>\n"},{"tags":[],"owner":{"account_id":18411247,"reputation":31,"user_id":13411481,"display_name":"Bareet Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613197010,"creation_date":1613197010,"answer_id":66182346,"question_id":12084265,"body_markdown":"You have to include this dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>You have to include this dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17505980,"reputation":41,"user_id":12695193,"display_name":"NOOB_developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641277077,"creation_date":1641277077,"answer_id":70574717,"question_id":12084265,"body_markdown":"This works with MacOS 10.15.7 + IntelliJ IDEA if you prefer adding any spring dependencies manually via project structure. otherwise using maven or other repos would definitely save the hassle. By the time this answer is written spring 5 has been launched.  \r\n\r\n1. press the shortcut keys `command` + `;` together to redirect to project structure, and click the libraries. In the library section, press the plus sign and it will prompt you to find the directory where you should locate the spring jar package. \r\n\r\n2. Starting from where we were at the last step, if you have been working with Spring before on the same machine, it is very likely that you have installed Spring framework in your machine. \r\nGo to finder &gt;`shift+command+h` to go to the home directory&gt; `shift+command+.` to show hidden file. Find .m2 file, enter .m2&gt;repository&gt;org&gt;spring-framework, click straight through the folders till you can see the `spring-context-versionnumber.jar` . Choose it and apply it, by now the `spring-conntext.jar` file would be successfully added to your working environment. \r\n\r\n3. if step 2 is not your case, download the spring jar from here [https://repo.spring.io/ui/native/release/org/springframework/spring/][1]\r\nchoose your desired version ends with `....RELEASE-dist.zip`, then unzip and locate the jar file in the same way as step 2 in the file you store the downloaded Spring release package. \r\n\r\n  [1]: https://repo.spring.io/ui/native/release/org/springframework/spring/","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>This works with MacOS 10.15.7 + IntelliJ IDEA if you prefer adding any spring dependencies manually via project structure. otherwise using maven or other repos would definitely save the hassle. By the time this answer is written spring 5 has been launched.</p>\n<ol>\n<li><p>press the shortcut keys <code>command</code> + <code>;</code> together to redirect to project structure, and click the libraries. In the library section, press the plus sign and it will prompt you to find the directory where you should locate the spring jar package.</p>\n</li>\n<li><p>Starting from where we were at the last step, if you have been working with Spring before on the same machine, it is very likely that you have installed Spring framework in your machine.\nGo to finder &gt;<code>shift+command+h</code> to go to the home directory&gt; <code>shift+command+.</code> to show hidden file. Find .m2 file, enter .m2&gt;repository&gt;org&gt;spring-framework, click straight through the folders till you can see the <code>spring-context-versionnumber.jar</code> . Choose it and apply it, by now the <code>spring-conntext.jar</code> file would be successfully added to your working environment.</p>\n</li>\n<li><p>if step 2 is not your case, download the spring jar from here <a href=\"https://repo.spring.io/ui/native/release/org/springframework/spring/\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/release/org/springframework/spring/</a>\nchoose your desired version ends with <code>....RELEASE-dist.zip</code>, then unzip and locate the jar file in the same way as step 2 in the file you store the downloaded Spring release package.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684093707,"creation_date":1684093707,"answer_id":76249401,"question_id":12084265,"body_markdown":"in **SpringToolSuite** IDE\r\nadd in **build.gradle** \r\n\r\n    //implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework:spring-context&#39; \r\n\r\nand comment `spring-boot-starter` (optionally).\r\nThen back to red underlined ApplicationContext word of the  main class click on crossed spot and select **Fix Project Setup** in dropdown window. save all, **project -&gt; clean**  and reds should go","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>in <strong>SpringToolSuite</strong> IDE\nadd in <strong>build.gradle</strong></p>\n<pre><code>//implementation 'org.springframework.boot:spring-boot-starter'\nimplementation 'org.springframework:spring-context' \n</code></pre>\n<p>and comment <code>spring-boot-starter</code> (optionally).\nThen back to red underlined ApplicationContext word of the  main class click on crossed spot and select <strong>Fix Project Setup</strong> in dropdown window. save all, <strong>project -&gt; clean</strong>  and reds should go</p>\n"}],"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38208,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":10,"score":5,"last_activity_date":1684445913,"creation_date":1345691777,"question_id":12084265,"body_markdown":"I have added the all spring distribution 3.1.1 jars to the build path which includes org.springframework.context-sources-3.1.1.RELEASE.jar \r\norg.springframework.beans-sources-3.1.1.RELEASE.jar. \r\n\r\nBut still the eclipse build error says, \r\n*&quot;The import org.springframework.context.ApplicationContext cannot be resolved&quot;.*\r\n\r\nBefore adding the all jars in spring distribution 3.1.1, I have added jars manually one by one which includes, spring-context-3.0.2.RELEASE.jar and spring-beans-3.0.2.RELEASE.jar. At that time the ApplicationContext recognized successfully. But then i thought adding jars one by one is waster of time and why not download all jars in latest spring distribution and give it to build path.\r\n\r\nInitially i thought it might be a conflict with complied class in build forder because i build the project with diferent versions of context-sources jar. So i delete the build folder and clean the project too. Still the issue exists when i add spring 3.1.1 jars.\r\n\r\n","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>I have added the all spring distribution 3.1.1 jars to the build path which includes org.springframework.context-sources-3.1.1.RELEASE.jar \norg.springframework.beans-sources-3.1.1.RELEASE.jar. </p>\n\n<p>But still the eclipse build error says, \n<em>\"The import org.springframework.context.ApplicationContext cannot be resolved\".</em></p>\n\n<p>Before adding the all jars in spring distribution 3.1.1, I have added jars manually one by one which includes, spring-context-3.0.2.RELEASE.jar and spring-beans-3.0.2.RELEASE.jar. At that time the ApplicationContext recognized successfully. But then i thought adding jars one by one is waster of time and why not download all jars in latest spring distribution and give it to build path.</p>\n\n<p>Initially i thought it might be a conflict with complied class in build forder because i build the project with diferent versions of context-sources jar. So i delete the build folder and clean the project too. Still the issue exists when i add spring 3.1.1 jars.</p>\n"},{"tags":["java","web","google-signin"],"answers":[{"tags":[],"owner":{"account_id":7447337,"reputation":1117,"user_id":5663107,"accept_rate":18,"display_name":"Lazaruss"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1684445680,"creation_date":1491299321,"answer_id":43203748,"question_id":43043526,"body_markdown":"I finally figured it out.\r\n\r\nSince no one knew how to help me, I dropped the designated Google libraries and made my own token verification from scratch.\r\n\r\nI used the google-token-verifier-url-tool here: \r\n\r\nhttps://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123\r\n\r\nAt the bottom of the page here:\r\n\r\nhttps://developers.google.com/identity/protocols/OpenIDConnect\r\n\r\nI found how to decipher the JSON.\r\n\r\nWhat I did was, I contact their online tool in code, get the JSONresponse and verify it manually.\r\nThis is my code:\r\n\r\n        private Map&lt;String,String&gt; getMapFromGoogleTokenString(final String idTokenString){\r\n    \t\tBufferedReader in = null;\r\n    \t\ttry {\r\n    \t\t\t// get information from token by contacting the google_token_verify_tool url :\r\n    \t\t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\t\t\t\t\t\t((HttpURLConnection) (new URL(&quot;https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=&quot; + idTokenString.trim()))\r\n    \t\t\t\t\t\t\t\t\t    .openConnection()).getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\t\t\r\n    \t\t\t// read information into a string buffer :\r\n    \t\t\tStringBuffer b = new StringBuffer();\r\n    \t\t\tString inputLine;\r\n    \t\t\twhile ((inputLine = in.readLine()) != null){\r\n    \t\t\t\tb.append(inputLine + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// transforming json string into Map&lt;String,String&gt; :\r\n    \t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\treturn objectMapper.readValue(b.toString(), objectMapper.getTypeFactory().constructMapType(Map.class, String.class, String.class));\r\n    \t\t\t\r\n    \t\t// exception handling :\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tFailed to transform json to string\\n&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally{\r\n    \t\t\tif(in!=null){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tin.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// chack the &quot;email_verified&quot; and &quot;email&quot; values in token payload \r\n    \tprivate boolean verifyEmail(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload.get(&quot;email_verified&quot;)!=null &amp;&amp; tokenPayload.get(&quot;email&quot;)!=null){\r\n    \t\t\ttry{\r\n    \t\t\t\treturn Boolean.valueOf(tokenPayload.get(&quot;email_verified&quot;)) &amp;&amp; tokenPayload.get(&quot;email&quot;).contains(&quot;@gmail.&quot;);\r\n    \t\t\t}catch(Exception e){\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck emailVerified failed - cannot parse &quot;+tokenPayload.get(&quot;email_verified&quot;)+&quot; to boolean\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tCheck emailVerified failed - required information missing in the token&quot;);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// check token expiration is after now :\r\n    \tprivate boolean checkExpirationTime(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\ttry{\r\n    \t\t\tif(tokenPayload.get(&quot;exp&quot;)!=null){\r\n    \t\t\t\t// the &quot;exp&quot; value is in seconds and Date().getTime is in mili seconds\r\n    \t\t\t\treturn Long.parseLong(tokenPayload.get(&quot;exp&quot;)+&quot;000&quot;) &gt; new java.util.Date().getTime();\r\n    \t\t\t}else{\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck expiration failed - required information missing in the token\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tCheck expiration failed - cannot parse &quot;+tokenPayload.get(&quot;exp&quot;)+&quot; into long\\n&quot;);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// check that at least one CLIENT_ID matches with token values\r\n    \tprivate boolean checkAudience(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload.get(&quot;aud&quot;)!=null &amp;&amp; tokenPayload.get(&quot;azp&quot;)!=null){\r\n    \t\t\tList&lt;String&gt; pom = Arrays.asList(&quot;MY_CLIENT_ID_1&quot;,\r\n    \t\t\t\t\t\t  \t\t\t\t\t &quot;MY_CLIENT_ID_2&quot;,\r\n    \t\t\t\t\t\t  \t\t\t\t\t &quot;MY_CLIENT_ID_3&quot;);\r\n    \t\t\t\r\n    \t\t\tif(pom.contains(tokenPayload.get(&quot;aud&quot;)) || pom.contains(tokenPayload.get(&quot;azp&quot;))){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}else{\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck audience failed - audiences differ\\n&quot;);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\n\\n\\tCheck audience failed - required information missing in the token\\n&quot;);\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// verify google token payload :\r\n    \tprivate boolean doTokenVerification(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload!=null){\r\n    \t\t\treturn verifyEmail(tokenPayload) // check that email address is verifies \r\n    \t\t\t\t&amp;&amp; checkExpirationTime(tokenPayload) // check that token is not expired\r\n    \t\t\t\t&amp;&amp; checkAudience(tokenPayload) // check audience\r\n    \t\t\t\t; \r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n\r\nOnce I have had this detailed verification, I was able to see exactly where the mistake was. The front end was sending me an invalid CLIENT_ID value. [**grumble, grumble**] I have asked them about it about a hundred times and they told me that those values match. **BAH !**\r\n\r\nSo the mistake was not somewhere in my original code for token verification, it was an error in communication in my office.\r\n\r\nI will revert to the original code, with the proper CLIENT_ID this time for the sake of security. Still, I must make one complaint about the Google library - it never told me why the token verification was failing. It took me DAYS of painstaking effort to finally figure it out. I know they did it out of security, but still, the lack of support is galling.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I finally figured it out.</p>\n<p>Since no one knew how to help me, I dropped the designated Google libraries and made my own token verification from scratch.</p>\n<p>I used the google-token-verifier-url-tool here:</p>\n<p><a href=\"https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123\" rel=\"nofollow noreferrer\">https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123</a></p>\n<p>At the bottom of the page here:</p>\n<p><a href=\"https://developers.google.com/identity/protocols/OpenIDConnect\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/OpenIDConnect</a></p>\n<p>I found how to decipher the JSON.</p>\n<p>What I did was, I contact their online tool in code, get the JSONresponse and verify it manually.\nThis is my code:</p>\n<pre><code>    private Map&lt;String,String&gt; getMapFromGoogleTokenString(final String idTokenString){\n        BufferedReader in = null;\n        try {\n            // get information from token by contacting the google_token_verify_tool url :\n            in = new BufferedReader(new InputStreamReader(\n                                        ((HttpURLConnection) (new URL(&quot;https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=&quot; + idTokenString.trim()))\n                                        .openConnection()).getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\n            \n            // read information into a string buffer :\n            StringBuffer b = new StringBuffer();\n            String inputLine;\n            while ((inputLine = in.readLine()) != null){\n                b.append(inputLine + &quot;\\n&quot;);\n            }\n            \n            // transforming json string into Map&lt;String,String&gt; :\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(b.toString(), objectMapper.getTypeFactory().constructMapType(Map.class, String.class, String.class));\n            \n        // exception handling :\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch(Exception e){\n            System.out.println(&quot;\\n\\n\\tFailed to transform json to string\\n&quot;);\n            e.printStackTrace();\n        } finally{\n            if(in!=null){\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n    \n    // chack the &quot;email_verified&quot; and &quot;email&quot; values in token payload \n    private boolean verifyEmail(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload.get(&quot;email_verified&quot;)!=null &amp;&amp; tokenPayload.get(&quot;email&quot;)!=null){\n            try{\n                return Boolean.valueOf(tokenPayload.get(&quot;email_verified&quot;)) &amp;&amp; tokenPayload.get(&quot;email&quot;).contains(&quot;@gmail.&quot;);\n            }catch(Exception e){\n                System.out.println(&quot;\\n\\n\\tCheck emailVerified failed - cannot parse &quot;+tokenPayload.get(&quot;email_verified&quot;)+&quot; to boolean\\n&quot;);\n            }\n        }else{\n            System.out.println(&quot;\\n\\n\\tCheck emailVerified failed - required information missing in the token&quot;);\n        }\n        return false;\n    }\n    \n    // check token expiration is after now :\n    private boolean checkExpirationTime(final Map&lt;String,String&gt; tokenPayload){\n        try{\n            if(tokenPayload.get(&quot;exp&quot;)!=null){\n                // the &quot;exp&quot; value is in seconds and Date().getTime is in mili seconds\n                return Long.parseLong(tokenPayload.get(&quot;exp&quot;)+&quot;000&quot;) &gt; new java.util.Date().getTime();\n            }else{\n                System.out.println(&quot;\\n\\n\\tCheck expiration failed - required information missing in the token\\n&quot;);\n            }\n        }catch(Exception e){\n            System.out.println(&quot;\\n\\n\\tCheck expiration failed - cannot parse &quot;+tokenPayload.get(&quot;exp&quot;)+&quot; into long\\n&quot;);\n        }\n        return false;\n    }\n    \n    // check that at least one CLIENT_ID matches with token values\n    private boolean checkAudience(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload.get(&quot;aud&quot;)!=null &amp;&amp; tokenPayload.get(&quot;azp&quot;)!=null){\n            List&lt;String&gt; pom = Arrays.asList(&quot;MY_CLIENT_ID_1&quot;,\n                                             &quot;MY_CLIENT_ID_2&quot;,\n                                             &quot;MY_CLIENT_ID_3&quot;);\n            \n            if(pom.contains(tokenPayload.get(&quot;aud&quot;)) || pom.contains(tokenPayload.get(&quot;azp&quot;))){\n                return true;\n            }else{\n                System.out.println(&quot;\\n\\n\\tCheck audience failed - audiences differ\\n&quot;);\n                return false;\n            }\n        }\n        System.out.println(&quot;\\n\\n\\tCheck audience failed - required information missing in the token\\n&quot;);\n        return false;\n    }\n    \n    // verify google token payload :\n    private boolean doTokenVerification(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload!=null){\n            return verifyEmail(tokenPayload) // check that email address is verifies \n                &amp;&amp; checkExpirationTime(tokenPayload) // check that token is not expired\n                &amp;&amp; checkAudience(tokenPayload) // check audience\n                ; \n        }\n        return false;\n    }\n</code></pre>\n<p>Once I have had this detailed verification, I was able to see exactly where the mistake was. The front end was sending me an invalid CLIENT_ID value. [<strong>grumble, grumble</strong>] I have asked them about it about a hundred times and they told me that those values match. <strong>BAH !</strong></p>\n<p>So the mistake was not somewhere in my original code for token verification, it was an error in communication in my office.</p>\n<p>I will revert to the original code, with the proper CLIENT_ID this time for the sake of security. Still, I must make one complaint about the Google library - it never told me why the token verification was failing. It took me DAYS of painstaking effort to finally figure it out. I know they did it out of security, but still, the lack of support is galling.</p>\n"},{"tags":[],"owner":{"account_id":11939877,"reputation":555,"user_id":8737036,"display_name":"Zeon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530155383,"creation_date":1530154776,"answer_id":51074057,"question_id":43043526,"body_markdown":"Had similar issue. It was so stupid, but I just have wrong time on my server. I think verification always fail because expiration time of token is end in my server time universe.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>Had similar issue. It was so stupid, but I just have wrong time on my server. I think verification always fail because expiration time of token is end in my server time universe.</p>\n"},{"tags":[],"owner":{"account_id":20859676,"reputation":1,"user_id":15322203,"display_name":"Alexander Yukhimchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614776258,"creation_date":1614776258,"answer_id":66457568,"question_id":43043526,"body_markdown":"For those who still having this issue:\r\n\r\n 1. Try python example(https://developers.google.com/identity/sign-in/web/backend-auth#python) to ensure that you are using right CLIENT_ID, if no, you will see exception message with right CLIENT_ID\r\n\r\n 2. Use `com.google.api-client` of version `1.31.3` and `com.google.oauth-client` of version `1.31.4`\r\n\r\n 3. Use `com.google.api.client.json.gson.GsonFactory` as `JsonFactory`","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>For those who still having this issue:</p>\n<ol>\n<li><p>Try python example(<a href=\"https://developers.google.com/identity/sign-in/web/backend-auth#python\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/backend-auth#python</a>) to ensure that you are using right CLIENT_ID, if no, you will see exception message with right CLIENT_ID</p>\n</li>\n<li><p>Use <code>com.google.api-client</code> of version <code>1.31.3</code> and <code>com.google.oauth-client</code> of version <code>1.31.4</code></p>\n</li>\n<li><p>Use <code>com.google.api.client.json.gson.GsonFactory</code> as <code>JsonFactory</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20953532,"reputation":1,"user_id":15394639,"display_name":"Steven Majek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627151422,"creation_date":1627151422,"answer_id":68512773,"question_id":43043526,"body_markdown":"I solved my problem by sending `idToken` and not `authToken` from the client","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I solved my problem by sending <code>idToken</code> and not <code>authToken</code> from the client</p>\n"},{"tags":[],"owner":{"account_id":24454267,"reputation":1,"user_id":18376079,"display_name":"LeBaron88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646417290,"creation_date":1646417290,"answer_id":71355568,"question_id":43043526,"body_markdown":"Not sure if anyone is still looking at this, but the code from google GitHub actually solved this for me. \r\nhttps://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken\r\n\r\nThey mention that the project is no longer actively maintained, and remains there as an archive of this work though.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>Not sure if anyone is still looking at this, but the code from google GitHub actually solved this for me.\n<a href=\"https://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken\" rel=\"nofollow noreferrer\">https://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken</a></p>\n<p>They mention that the project is no longer actively maintained, and remains there as an archive of this work though.</p>\n"},{"tags":[],"owner":{"account_id":15595311,"reputation":1,"user_id":11251027,"display_name":"Aakarsh S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663522586,"creation_date":1663522586,"answer_id":73765022,"question_id":43043526,"body_markdown":"I found two reasons of why it can happen.\r\n1) There is a CLIENT_ID mismatch between the Spring boot server and the frontend library.\r\n2) The token id which is generated upon Sign in with Google is expired. It generally expires after 1 hour.\r\n\r\nSolution to refresh the auth token:\r\n\r\nWe get a reloadAuthResponse method on the response object upon successful sign in. Also, we get the expires_in property which gives us the number of milliseconds after which the token will expire. Following is the code snippet to use it.\r\n\r\n    const handleSuccessfulGoogleResponse = (response) =&gt; {\r\n     console.log(response)\r\n     const loginDetails = {\r\n       name: response.profileObj.name,\r\n       email: response.profileObj.email,\r\n       tokenId: response.tokenId\r\n     }\r\n     //Do what is needed with the data\r\n     refreshTokenGenerator(response);\r\n    }\r\n\r\n    const refreshTokenGenerator = res =&gt; {\r\n     let refreshTime = (res.tokenObj.expires_in || 3600 - 50 * 60) * 1000;\r\n     const refreshToken = async () =&gt; {\r\n        console.log(&#39;running at &#39;,new Date(Date.now()).toLocaleTimeString());\r\n        const refreshedResponse = await res.reloadAuthResponse();\r\n        refreshTime = (refreshedResponse.expires_in || 3600 - 50 * 60) * \r\n       1000;\r\n\r\n       const newTokenId = refreshedResponse.id_token;\r\n       //store the newTokenId and use it for the network calls\r\n        setTimeout(refreshToken, refreshTime);\r\n     }\r\n     setTimeout(refreshToken, refreshTime);\r\n    }\r\n\r\nHere, the handleSuccessfulGoogleResponse() is executed upon a successful sign in. We are calling the refreshTokenGenerator() inside it which uses the expires_in property(if it exists otherwise 3600ms by default). We are then using setTimeout() to execute the function to generate the new token before the current one expires.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I found two reasons of why it can happen.</p>\n<ol>\n<li>There is a CLIENT_ID mismatch between the Spring boot server and the frontend library.</li>\n<li>The token id which is generated upon Sign in with Google is expired. It generally expires after 1 hour.</li>\n</ol>\n<p>Solution to refresh the auth token:</p>\n<p>We get a reloadAuthResponse method on the response object upon successful sign in. Also, we get the expires_in property which gives us the number of milliseconds after which the token will expire. Following is the code snippet to use it.</p>\n<pre><code>const handleSuccessfulGoogleResponse = (response) =&gt; {\n console.log(response)\n const loginDetails = {\n   name: response.profileObj.name,\n   email: response.profileObj.email,\n   tokenId: response.tokenId\n }\n //Do what is needed with the data\n refreshTokenGenerator(response);\n}\n\nconst refreshTokenGenerator = res =&gt; {\n let refreshTime = (res.tokenObj.expires_in || 3600 - 50 * 60) * 1000;\n const refreshToken = async () =&gt; {\n    console.log('running at ',new Date(Date.now()).toLocaleTimeString());\n    const refreshedResponse = await res.reloadAuthResponse();\n    refreshTime = (refreshedResponse.expires_in || 3600 - 50 * 60) * \n   1000;\n\n   const newTokenId = refreshedResponse.id_token;\n   //store the newTokenId and use it for the network calls\n    setTimeout(refreshToken, refreshTime);\n }\n setTimeout(refreshToken, refreshTime);\n}\n</code></pre>\n<p>Here, the handleSuccessfulGoogleResponse() is executed upon a successful sign in. We are calling the refreshTokenGenerator() inside it which uses the expires_in property(if it exists otherwise 3600ms by default). We are then using setTimeout() to execute the function to generate the new token before the current one expires.</p>\n"}],"owner":{"account_id":7447337,"reputation":1117,"user_id":5663107,"accept_rate":18,"display_name":"Lazaruss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4670,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1684445680,"creation_date":1490609198,"question_id":43043526,"body_markdown":"I am adding Google register/signin to my web app and I have encountered a problem.\r\n\r\nThis is my code:\r\n\r\n    private static final HttpTransport transport = new NetHttpTransport();\r\n    private static final JsonFactory jsonFactory = new JacksonFactory();\r\n    private static final String MY_APP_GOOGLE_CLIENT_ID = &quot;wouldntyouliketoknow&quot;;\r\n    \r\n    public UsernamePasswordAuthenticationToken verify(final String idTokenString){\r\n    \t\r\n    \tGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\r\n    \t\t\t\t\t\t\t\t\t\t\t.setAudience(Collections.singletonList(MY_APP_GOOGLE_CLIENT_ID))\r\n    \t\t\t\t\t\t\t\t\t\t\t.build();\r\n    \r\n    \ttry {\r\n    \t\tGoogleIdToken idToken = verifier.verify(idTokenString);// &lt;-- verifier.verify returns null !!!\r\n    \t\tif (idToken != null) {\r\n    \t\t\tPayload payload = idToken.getPayload();\r\n    \t\t\tString email = payload.getEmail();\r\n    \t\t\tif(Boolean.valueOf(payload.getEmailVerified())){\r\n    \t\t\t\tUserJPA jpa = userRepository.findByEmail(email);\r\n    \t\t\t\tif(jpa==null){\r\n    \t\t\t\t\tthrow new UsernameNotFoundException(&quot;Cannot find user with email = &quot;+email);\r\n    \t\t\t\t}\r\n    \t\t\t\tif(!jpa.isRegisterredWithGoogle()){\r\n    \t\t\t\t\tthrow new UsernameNotFoundException(&quot;This user did not use the &#39;Register with google&#39; option.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tbokiAuthenticationProvider.checkUserActiveAndUnlocked(jpa);\r\n\r\n    \t\t\t\treturn new UsernamePasswordAuthenticationToken(jpa.getUsername(), jpa.getPasswordHesh(), \r\n    \t\t\t\t\t\tbokiAuthenticationProvider.getAuthorities(jpa.getUserHasRoleSecurityList()));\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;The *idToken* object is null !!!&quot;);\r\n    \t\t}\r\n    \t} catch (GeneralSecurityException | IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \tthrow new MyCustomException(&quot;Google token is invalid or has expired&quot;);\r\n    }\r\n\r\nTo create my CLIENT_ID, I followed the instructions in the link below:\r\n\r\nhttps://developers.google.com/identity/sign-in/web/devconsole-project\r\n\r\nThe problem is that **verifier.verify** keeps returning **null**.\r\n\r\nI have checked:\r\n\r\n- my user did register with google and the database fields are properly filled\r\n\r\n- I am getting different string tokens from google each time I try google_sign_in\r\n\r\n- my **CLIENT_ID** is valid and active in the Google console.\r\n\r\nTo add to the confusion, this whole thing worked fine just a month ago. I went away on sick leave and when I came back, my boss welcomed me with this issue.\r\n\r\nAnyone have any idea what might have happened?","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I am adding Google register/signin to my web app and I have encountered a problem.</p>\n<p>This is my code:</p>\n<pre><code>private static final HttpTransport transport = new NetHttpTransport();\nprivate static final JsonFactory jsonFactory = new JacksonFactory();\nprivate static final String MY_APP_GOOGLE_CLIENT_ID = &quot;wouldntyouliketoknow&quot;;\n\npublic UsernamePasswordAuthenticationToken verify(final String idTokenString){\n    \n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\n                                            .setAudience(Collections.singletonList(MY_APP_GOOGLE_CLIENT_ID))\n                                            .build();\n\n    try {\n        GoogleIdToken idToken = verifier.verify(idTokenString);// &lt;-- verifier.verify returns null !!!\n        if (idToken != null) {\n            Payload payload = idToken.getPayload();\n            String email = payload.getEmail();\n            if(Boolean.valueOf(payload.getEmailVerified())){\n                UserJPA jpa = userRepository.findByEmail(email);\n                if(jpa==null){\n                    throw new UsernameNotFoundException(&quot;Cannot find user with email = &quot;+email);\n                }\n                if(!jpa.isRegisterredWithGoogle()){\n                    throw new UsernameNotFoundException(&quot;This user did not use the 'Register with google' option.&quot;);\n                }\n                bokiAuthenticationProvider.checkUserActiveAndUnlocked(jpa);\n\n                return new UsernamePasswordAuthenticationToken(jpa.getUsername(), jpa.getPasswordHesh(), \n                        bokiAuthenticationProvider.getAuthorities(jpa.getUserHasRoleSecurityList()));\n            }\n        }else{\n            System.out.println(&quot;The *idToken* object is null !!!&quot;);\n        }\n    } catch (GeneralSecurityException | IOException e) {\n        e.printStackTrace();\n    }\n\n    throw new MyCustomException(&quot;Google token is invalid or has expired&quot;);\n}\n</code></pre>\n<p>To create my CLIENT_ID, I followed the instructions in the link below:</p>\n<p><a href=\"https://developers.google.com/identity/sign-in/web/devconsole-project\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/devconsole-project</a></p>\n<p>The problem is that <strong>verifier.verify</strong> keeps returning <strong>null</strong>.</p>\n<p>I have checked:</p>\n<ul>\n<li><p>my user did register with google and the database fields are properly filled</p>\n</li>\n<li><p>I am getting different string tokens from google each time I try google_sign_in</p>\n</li>\n<li><p>my <strong>CLIENT_ID</strong> is valid and active in the Google console.</p>\n</li>\n</ul>\n<p>To add to the confusion, this whole thing worked fine just a month ago. I went away on sick leave and when I came back, my boss welcomed me with this issue.</p>\n<p>Anyone have any idea what might have happened?</p>\n"},{"tags":["java","string","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1601286839,"post_id":64076617,"comment_id":113349933,"body_markdown":"In the title, you ask “How many String objects are created…”, in the body text, you ask “how many objects will be created…”. This is not the same. Further, the last sentence creates an entirely different question.","body":"In the title, you ask “How many String objects are created…”, in the body text, you ask “how many objects will be created…”. This is not the same. Further, the last sentence creates an entirely different question."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601118913,"creation_date":1601117620,"answer_id":64076782,"question_id":64076617,"body_markdown":"The answer is ... it depends.\r\n\r\nThe one thing that we can say with certainty is that neither `toUpperCase()` or `subString()` will place a `String` in the string pool&lt;sup&gt;1&lt;/sup&gt;.  The only `String` operation that is specified as (possibly) adding a `String` to the string pool is `intern()`.\r\n\r\nWe cannot say for certain that `toUpperCase()` and `subString()` will generate a new `String` object.  For example, in Java 11 `str.substring(0)` returns `str` itself.  This is an implementation detail, but the javadocs for many operations are worded so that it would be valid to return `this` ... if `this` satisfied the requirements.\r\n\r\nIn the cases when a new `String` is created, it is implementation dependent how may objects are created.  A Java string is typically represented as a `String` object with a reference to an backing `char[]` or `byte[]` that represent the string&#39;s characters.  But in some Java releases, a backing array can be shared between multiple `String` objects ... under certain circumstances.  And indeed `substring` was one of the methods that would create `String` with shared backing arrays.\r\n\r\nFinally, as a commenter pointed out, this stuff is irrelevant to real world Java programming ... in all but the most extreme circumstances.  Normally, you should just let the JVM deal with this kind of stuff.\r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - It is the string pool not the &quot;constant string pool&quot;.  The &quot;constant pool&quot; is actually something that exists in class files.  But the string pool may contain strings that do not correspond to Java constants.&lt;/sup&gt;  ","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>The answer is ... it depends.</p>\n<p>The one thing that we can say with certainty is that neither <code>toUpperCase()</code> or <code>subString()</code> will place a <code>String</code> in the string pool<sup>1</sup>.  The only <code>String</code> operation that is specified as (possibly) adding a <code>String</code> to the string pool is <code>intern()</code>.</p>\n<p>We cannot say for certain that <code>toUpperCase()</code> and <code>subString()</code> will generate a new <code>String</code> object.  For example, in Java 11 <code>str.substring(0)</code> returns <code>str</code> itself.  This is an implementation detail, but the javadocs for many operations are worded so that it would be valid to return <code>this</code> ... if <code>this</code> satisfied the requirements.</p>\n<p>In the cases when a new <code>String</code> is created, it is implementation dependent how may objects are created.  A Java string is typically represented as a <code>String</code> object with a reference to an backing <code>char[]</code> or <code>byte[]</code> that represent the string's characters.  But in some Java releases, a backing array can be shared between multiple <code>String</code> objects ... under certain circumstances.  And indeed <code>substring</code> was one of the methods that would create <code>String</code> with shared backing arrays.</p>\n<p>Finally, as a commenter pointed out, this stuff is irrelevant to real world Java programming ... in all but the most extreme circumstances.  Normally, you should just let the JVM deal with this kind of stuff.</p>\n<hr />\n<p><sup>1 - It is the string pool not the &quot;constant string pool&quot;.  The &quot;constant pool&quot; is actually something that exists in class files.  But the string pool may contain strings that do not correspond to Java constants.</sup></p>\n"},{"tags":[],"owner":{"account_id":23070139,"reputation":30,"user_id":17184034,"display_name":"Abhinav S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684431781,"creation_date":1684365169,"answer_id":76276751,"question_id":64076617,"body_markdown":"No.\r\n\r\nYou can test it by running the following code.\r\n```java\r\n    String s = new String(&quot;Hello&quot;);\r\n    String upperS = &quot;HELLO&quot;;\r\n    String s1 = s.toUpperCase();\r\n    System.out.println(s==s1);  //prints false\r\n    System.out.println(upperS==s1);  //prints false\r\n```\r\n\r\nFrom [&#167;3.10.5](https://docs.oracle.com/javase/specs/jls/se20/html/jls-3.html#:~:text=a%20string%20literal%20always%20refers%20to%20the%20same%20instance%20of%20class%20String.%20This%20is%20because%20string%20literals%20%2D%20or%2C%20more%20generally%2C%20strings%20that%20are%20the%20values%20of%20constant%20expressions%20(%C2%A715.29)%20%2D%20are%20%22interned%22%20so%20as%20to%20share%20unique%20instances%2C%20as%20if%20by%20execution%20of%20the%20method%20String.intern%20(%C2%A712.5)) of the Java documentation:\r\n\r\n&gt; …a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5).\r\n\r\nSo, the String Pool holds only string literals from the Java source code (expressions like `&quot;abc&quot;`) and strings that have had their `.intern` method called.\r\n\r\nIn your code the following line creates a String object on the heap, but not a literal in the String Pool.\r\n```java\r\n    String s = new String(&quot;Hello&quot;);\r\n```\r\n\r\nThe following line also creates another object in the Heap and doesn&#39;t create a literal in the String Pool.\r\n```java\r\n    String s1 = s.toUpperCase();\r\n```\r\nSo, in your example. 2 objects will be created in the heap. No new literals will be added to the String Pool.\r\n\r\nTake a look at this [answer](https://stackoverflow.com/questions/46398042/string-touppercase-created-a-new-object-in-heap-or-string-pool)","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>No.</p>\n<p>You can test it by running the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s = new String(&quot;Hello&quot;);\n    String upperS = &quot;HELLO&quot;;\n    String s1 = s.toUpperCase();\n    System.out.println(s==s1);  //prints false\n    System.out.println(upperS==s1);  //prints false\n</code></pre>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-3.html#:%7E:text=a%20string%20literal%20always%20refers%20to%20the%20same%20instance%20of%20class%20String.%20This%20is%20because%20string%20literals%20%2D%20or%2C%20more%20generally%2C%20strings%20that%20are%20the%20values%20of%20constant%20expressions%20(%C2%A715.29)%20%2D%20are%20%22interned%22%20so%20as%20to%20share%20unique%20instances%2C%20as%20if%20by%20execution%20of%20the%20method%20String.intern%20(%C2%A712.5)\" rel=\"nofollow noreferrer\">§3.10.5</a> of the Java documentation:</p>\n<blockquote>\n<p>…a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (§15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (§12.5).</p>\n</blockquote>\n<p>So, the String Pool holds only string literals from the Java source code (expressions like <code>&quot;abc&quot;</code>) and strings that have had their <code>.intern</code> method called.</p>\n<p>In your code the following line creates a String object on the heap, but not a literal in the String Pool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s = new String(&quot;Hello&quot;);\n</code></pre>\n<p>The following line also creates another object in the Heap and doesn't create a literal in the String Pool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s1 = s.toUpperCase();\n</code></pre>\n<p>So, in your example. 2 objects will be created in the heap. No new literals will be added to the String Pool.</p>\n<p>Take a look at this <a href=\"https://stackoverflow.com/questions/46398042/string-touppercase-created-a-new-object-in-heap-or-string-pool\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684375446,"creation_date":1684375446,"answer_id":76277279,"question_id":64076617,"body_markdown":"Correct me if I&#39;m wrong; the &quot;String Constant pool&quot; is just a section of the heap, specifically for `String` values.  \r\nSo, what is created in the heap, is the pool you&#39;re referring to.\r\n\r\nIt&#39;s +2 `String` objects for `String s = new String(&quot;Hello&quot;)`.  \r\nAnd, +1 `String` object for `String s1 = s.toUpperCase()`.\r\n\r\nAdditionally, most IDEs allow you to view the memory during a debugging process.","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>Correct me if I'm wrong; the &quot;String Constant pool&quot; is just a section of the heap, specifically for <code>String</code> values.<br />\nSo, what is created in the heap, is the pool you're referring to.</p>\n<p>It's +2 <code>String</code> objects for <code>String s = new String(&quot;Hello&quot;)</code>.<br />\nAnd, +1 <code>String</code> object for <code>String s1 = s.toUpperCase()</code>.</p>\n<p>Additionally, most IDEs allow you to view the memory during a debugging process.</p>\n"}],"owner":{"account_id":4204896,"reputation":21,"user_id":3444096,"display_name":"user3444096"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1684445342,"creation_date":1601116615,"question_id":64076617,"body_markdown":"How many objects are created by the following 2 lines of Java code?\r\n\r\n    String s = new String(&quot;Hello&quot;);\r\n    String s1 = s.toUpperCase();\r\n\r\nI know toUpperCase() will create a new object in the heap. But I want to know if it will also be placed in the String pool.\r\n","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>How many objects are created by the following 2 lines of Java code?</p>\n<pre><code>String s = new String(&quot;Hello&quot;);\nString s1 = s.toUpperCase();\n</code></pre>\n<p>I know toUpperCase() will create a new object in the heap. But I want to know if it will also be placed in the String pool.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9568,"page":424,"page_size":100}
