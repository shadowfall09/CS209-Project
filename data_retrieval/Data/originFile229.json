{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1692801978,"post_id":76962467,"comment_id":135674247,"body_markdown":"doesn&#39;t the constructor `ResponseStatusException(HttpStatusCode status, String reason)` provide you the argument `reason` to pass the error message of your choice? If you add a new constructor, `public RetailIn_APIException(String message) { super(ORDER_NOT_FOUND_STATUS, message);  }` it should work","body":"doesn&#39;t the constructor <code>ResponseStatusException(HttpStatusCode status, String reason)</code> provide you the argument <code>reason</code> to pass the error message of your choice? If you add a new constructor, <code>public RetailIn_APIException(String message) { super(ORDER_NOT_FOUND_STATUS, message);  }</code> it should work"},{"owner":{"account_id":13333580,"reputation":39,"user_id":19241184,"display_name":"redbeard"},"score":0,"creation_date":1692802350,"post_id":76962467,"comment_id":135674351,"body_markdown":"adding your changes @MarcLeBihan this is the response i get:&quot;{\n    &quot;timestamp&quot;: &quot;2023-08-23T14:51:22.145+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/api/orders/8&quot;\n}&quot;","body":"adding your changes @MarcLeBihan this is the response i get:&quot;{     &quot;timestamp&quot;: &quot;2023-08-23T14:51:22.145+00:00&quot;,     &quot;status&quot;: 404,     &quot;error&quot;: &quot;Not Found&quot;,     &quot;path&quot;: &quot;/api/orders/8&quot; }&quot;"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692804296,"creation_date":1692804296,"answer_id":76962814,"question_id":76962467,"body_markdown":"Whether the message is shown in Json responses depends on the application property [server.error.include-message][1]. Since Spring Boot 2.3, by default, [the message is not shown due to security reasons][2]. If you want it to be shown, you can set the property to `always`.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.include-message\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content","title":"Custom Exception including messages","body":"<p>Whether the message is shown in Json responses depends on the application property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.include-message\" rel=\"nofollow noreferrer\">server.error.include-message</a>. Since Spring Boot 2.3, by default, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\" rel=\"nofollow noreferrer\">the message is not shown due to security reasons</a>. If you want it to be shown, you can set the property to <code>always</code>.</p>\n"}],"owner":{"account_id":13333580,"reputation":39,"user_id":19241184,"display_name":"redbeard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692804296,"creation_date":1692801583,"question_id":76962467,"body_markdown":"Hello i am trying to create my custom exception and i want to show me the message &quot;Order does not exist&quot; rather then &quot;Not found&quot;. I will include the source code:\r\nRetailinIn_APIException.java:\r\n\r\n    public class RetailIn_APIException extends ResponseStatusException {\r\n    \r\n        public static final HttpStatus ORDER_NOT_FOUND_STATUS = HttpStatus.NOT_FOUND;\r\n        public static final String ORDER_NOT_FOUND_MESSAGE = &quot;Order does not exist&quot;;\r\n    \r\n        public RetailIn_APIException() {\r\n            super(ORDER_NOT_FOUND_STATUS, ORDER_NOT_FOUND_MESSAGE);\r\n        }\r\n\r\nClientOrderService.java:\r\n\r\n    public Optional&lt;ClientOrder&gt; getOrderById(Long orderId) throws RetailIn_APIException {\r\n            Optional&lt;ClientOrder&gt; retrievedOrder = orderRepository.findById(orderId);\r\n            if (retrievedOrder.isPresent())\r\n                return retrievedOrder;\r\n            else\r\n                throw new RetailIn_APIException();\r\n    }\r\nClientOrderController.java:\r\n\r\n    @GetMapping(&quot;/{orderId}&quot;)\r\n        public ResponseEntity&lt;Optional&lt;ClientOrder&gt;&gt; getOrderById(@PathVariable Long orderId) throws RetailIn_APIException {\r\n    \r\n                Optional&lt;ClientOrder&gt; orderOptional = orderService.getOrderById(orderId);\r\n    \r\n                return ResponseEntity.ok(orderOptional);\r\n    \r\n        }\r\nIf you guys will help me, will it be the right way for future custom exceptions?\r\nThank you for you time and help.\r\n","title":"Custom Exception including messages","body":"<p>Hello i am trying to create my custom exception and i want to show me the message &quot;Order does not exist&quot; rather then &quot;Not found&quot;. I will include the source code:\nRetailinIn_APIException.java:</p>\n<pre><code>public class RetailIn_APIException extends ResponseStatusException {\n\n    public static final HttpStatus ORDER_NOT_FOUND_STATUS = HttpStatus.NOT_FOUND;\n    public static final String ORDER_NOT_FOUND_MESSAGE = &quot;Order does not exist&quot;;\n\n    public RetailIn_APIException() {\n        super(ORDER_NOT_FOUND_STATUS, ORDER_NOT_FOUND_MESSAGE);\n    }\n</code></pre>\n<p>ClientOrderService.java:</p>\n<pre><code>public Optional&lt;ClientOrder&gt; getOrderById(Long orderId) throws RetailIn_APIException {\n        Optional&lt;ClientOrder&gt; retrievedOrder = orderRepository.findById(orderId);\n        if (retrievedOrder.isPresent())\n            return retrievedOrder;\n        else\n            throw new RetailIn_APIException();\n}\n</code></pre>\n<p>ClientOrderController.java:</p>\n<pre><code>@GetMapping(&quot;/{orderId}&quot;)\n    public ResponseEntity&lt;Optional&lt;ClientOrder&gt;&gt; getOrderById(@PathVariable Long orderId) throws RetailIn_APIException {\n\n            Optional&lt;ClientOrder&gt; orderOptional = orderService.getOrderById(orderId);\n\n            return ResponseEntity.ok(orderOptional);\n\n    }\n</code></pre>\n<p>If you guys will help me, will it be the right way for future custom exceptions?\nThank you for you time and help.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688263947,"creation_date":1688263947,"answer_id":76597161,"question_id":76596749,"body_markdown":"Try this \r\n\r\n&gt;\r\n\r\n     @AllArgsConstructor\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JWTRequestFilter jwtRequestFilter;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                .cors().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }","title":"Spring Security v6.0 whitelist endpoints","body":"<p>Try this</p>\n<blockquote>\n</blockquote>\n<pre><code> @AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JWTRequestFilter jwtRequestFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .cors().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeRequests()\n            .antMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692804253,"creation_date":1692803945,"answer_id":76962769,"question_id":76596749,"body_markdown":"In Spring Security 6 you need two security filter chains, one configured to respond only to your whitelisted endpoints and another as a catch-all for your authenticated endpoints. Only the catch-all will add the jwt request filter to the chain.\r\n\r\nHere&#39;s the outline, adapt to your needs:\r\n\r\n```java\r\n@Configuration\r\npublic class MySecurityConfiguration {\r\n\r\n  // whitelist\r\n  @Bean\r\n  @Order(0)\r\n  public SecurityFilterChain whitelistFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n    String[] endpoints = new String[] {&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;};\r\n    \r\n    return http\r\n      .securityMatcher(endpoints)\r\n      // add other calls on the HttpSecurity object\r\n      .authorizeHttpRequests(auth -&gt; auth.requestMatchers(endpoints).permitAll())\r\n      .build();\r\n  }\r\n\r\n  // catch-all\r\n  @Bean\r\n  @Order(1)\r\n  public SecurityFilterChain catchAllFilterChain(HttpSecurity http) throws Exception {\r\n\r\n    return http\r\n      .addFilter(yourAuthFilter)\r\n      // add other calls on the HttpSecurity object\r\n      .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\r\n      .build();\r\n  }\r\n}\r\n```\r\n\r\nThe key here is that the first security filter chain to be evaluated with `@Order(0)` has a `securityMatcher` call that opts-in to only the matched endpoints. This approach is better than the old `web.ignoring()` method because you can still make use of Spring&#39;s CSRF and XSS protection.\r\n","title":"Spring Security v6.0 whitelist endpoints","body":"<p>In Spring Security 6 you need two security filter chains, one configured to respond only to your whitelisted endpoints and another as a catch-all for your authenticated endpoints. Only the catch-all will add the jwt request filter to the chain.</p>\n<p>Here's the outline, adapt to your needs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MySecurityConfiguration {\n\n  // whitelist\n  @Bean\n  @Order(0)\n  public SecurityFilterChain whitelistFilterChain(HttpSecurity http) throws Exception {\n    \n    String[] endpoints = new String[] {&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;};\n    \n    return http\n      .securityMatcher(endpoints)\n      // add other calls on the HttpSecurity object\n      .authorizeHttpRequests(auth -&gt; auth.requestMatchers(endpoints).permitAll())\n      .build();\n  }\n\n  // catch-all\n  @Bean\n  @Order(1)\n  public SecurityFilterChain catchAllFilterChain(HttpSecurity http) throws Exception {\n\n    return http\n      .addFilter(yourAuthFilter)\n      // add other calls on the HttpSecurity object\n      .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\n      .build();\n  }\n}\n</code></pre>\n<p>The key here is that the first security filter chain to be evaluated with <code>@Order(0)</code> has a <code>securityMatcher</code> call that opts-in to only the matched endpoints. This approach is better than the old <code>web.ignoring()</code> method because you can still make use of Spring's CSRF and XSS protection.</p>\n"}],"owner":{"account_id":28769096,"reputation":29,"user_id":22033265,"display_name":"Abanoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1692804253,"creation_date":1688249447,"question_id":76596749,"body_markdown":"I am trying to whitelist login and register endpoints from going through JWTRequestFilter using permitAll(); method however all the requests are going through it.\r\n\r\n```\r\npackage com.ecommerce.ecommerce.security;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\r\n\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final JWTRequestFilter jwtRequestFilter;\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception\r\n    {\r\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\r\n        httpSecurity.cors(AbstractHttpConfigurer::disable);\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, AuthorizationFilter.class);\r\n        httpSecurity.authorizeHttpRequests((auth)  -&gt; auth\r\n                .requestMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;)\r\n                .permitAll().anyRequest().authenticated());\r\n        httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        return httpSecurity.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have tried to whitlist it using web.ignoring() method however still not working and also I learned that WebSecurityConfigurerAdapter is deprecated and not available anymore in Spring Security 6.0 as suggested in some old threads.\r\n\r\n","title":"Spring Security v6.0 whitelist endpoints","body":"<p>I am trying to whitelist login and register endpoints from going through JWTRequestFilter using permitAll(); method however all the requests are going through it.</p>\n<pre><code>package com.ecommerce.ecommerce.security;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\n\n@AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final JWTRequestFilter jwtRequestFilter;\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception\n    {\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\n        httpSecurity.cors(AbstractHttpConfigurer::disable);\n        httpSecurity.addFilterBefore(jwtRequestFilter, AuthorizationFilter.class);\n        httpSecurity.authorizeHttpRequests((auth)  -&gt; auth\n                .requestMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;)\n                .permitAll().anyRequest().authenticated());\n        httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        return httpSecurity.build();\n    }\n\n}\n</code></pre>\n<p>I have tried to whitlist it using web.ignoring() method however still not working and also I learned that WebSecurityConfigurerAdapter is deprecated and not available anymore in Spring Security 6.0 as suggested in some old threads.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692776817,"post_id":76959304,"comment_id":135668939,"body_markdown":"Well....don&#39;t set it visible until after the other calls?","body":"Well....don&#39;t set it visible until after the other calls?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692780238,"post_id":76959304,"comment_id":135669579,"body_markdown":"Or have the dialog capable of doing the updates to itself","body":"Or have the dialog capable of doing the updates to itself"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1692780302,"post_id":76959304,"comment_id":135669594,"body_markdown":"waitForSomeServerToGetSomeData shouldn’t be called on the Event Dispatching Thread anyway, in this case, you should be making use of SwingWorker","body":"waitForSomeServerToGetSomeData shouldn’t be called on the Event Dispatching Thread anyway, in this case, you should be making use of SwingWorker"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692787490,"post_id":76959304,"comment_id":135670951,"body_markdown":"Your question sounds like it may in fact be an [XY Problem](http://mywiki.wooledge.org/XyProblem) where you ask &quot;how do I fix this code&quot; when the real solution is to use a different approach entirely (as noted above).","body":"Your question sounds like it may in fact be an <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XY Problem</a> where you ask &quot;how do I fix this code&quot; when the real solution is to use a different approach entirely (as noted above)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692788729,"post_id":76959304,"comment_id":135671195,"body_markdown":"As said by others, the operation `waitForSomeServerToGetSomeData()` should not run on the event dispatch thread. If you are in a different thread, `EventQueue.invokeLater(() -&gt; modalDialog.setVisible(true));` is the way to open the modal dialog without blocking the other thread but then, also `EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));` is mandatory to adhere to Swings threading policy.","body":"As said by others, the operation <code>waitForSomeServerToGetSomeData()</code> should not run on the event dispatch thread. If you are in a different thread, <code>EventQueue.invokeLater(() -&gt; modalDialog.setVisible(true));</code> is the way to open the modal dialog without blocking the other thread but then, also <code>EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));</code> is mandatory to adhere to Swings threading policy."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1692789541,"post_id":76959304,"comment_id":135671366,"body_markdown":"You don&#39;t say what you want to update your `JDialog` with.  One application is a progress monitor, which updates a `JProgressBar` while a long-running task runs.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use Progress Bars](https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html) and [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) sections.","body":"You don&#39;t say what you want to update your <code>JDialog</code> with.  One application is a progress monitor, which updates a <code>JProgressBar</code> while a long-running task runs.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html\" rel=\"nofollow noreferrer\">How to Use Progress Bars</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> sections."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692826456,"post_id":76959304,"comment_id":135678631,"body_markdown":"For [example](https://stackoverflow.com/questions/25418694/opening-jdialog-with-swingworker/25419069#25419069); [example](https://stackoverflow.com/questions/43536964/java-swingworker-dialog-is-not-shown/43537032#43537032); [example](https://stackoverflow.com/questions/33406447/executing-code-after-swingworker-execute-after-it/33406654#33406654); [example](https://stackoverflow.com/questions/72514952/java-swing-wait-message-will-not-show-up/72515391#72515391);","body":"For <a href=\"https://stackoverflow.com/questions/25418694/opening-jdialog-with-swingworker/25419069#25419069\">example</a>; <a href=\"https://stackoverflow.com/questions/43536964/java-swingworker-dialog-is-not-shown/43537032#43537032\">example</a>; <a href=\"https://stackoverflow.com/questions/33406447/executing-code-after-swingworker-execute-after-it/33406654#33406654\">example</a>; <a href=\"https://stackoverflow.com/questions/72514952/java-swing-wait-message-will-not-show-up/72515391#72515391\">example</a>;"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692826763,"post_id":76959304,"comment_id":135678675,"body_markdown":"[example](https://stackoverflow.com/questions/32807495/how-to-return-value-from-swingworker-class-and-use-in-other-class-and-enable-men/32819321#32819321); [example](https://stackoverflow.com/questions/25395201/jframe-only-shows-components-at-first-creation/25395328#25395328); [example](https://stackoverflow.com/questions/14113644/java-global-reusable-loading-dialog/14114663#14114663)","body":"<a href=\"https://stackoverflow.com/questions/32807495/how-to-return-value-from-swingworker-class-and-use-in-other-class-and-enable-men/32819321#32819321\">example</a>; <a href=\"https://stackoverflow.com/questions/25395201/jframe-only-shows-components-at-first-creation/25395328#25395328\">example</a>; <a href=\"https://stackoverflow.com/questions/14113644/java-global-reusable-loading-dialog/14114663#14114663\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692804224,"creation_date":1692804224,"answer_id":76962806,"question_id":76959304,"body_markdown":"Don’t retrieve your data in the AWT event dispatch thread.\r\n\r\nAWT and Swing are single-threaded.  Most GUI frameworks are.  What this means is that all painting of windows, and all processing of user input like typing and mouse clicking, is done in a single special thread created by the system.  AWT and Swing call it the Event Dispatch Thread.\r\n\r\nIf you do something to hold that thread up, there will be no repainting and no response to user input during that time.\r\n\r\nIf `waitForSomeServerToGetSomeData()` takes ten seconds to complete, your GUI will be frozen for ten seconds.  Windows cannot be closed during that time.  Buttons cannot be pressed during that time.  And if the user happens to switch to a different window that obscures your dialog, then tries to look at your dialog again, your dialog will be a blank gray rectangle during those ten seconds.\r\n\r\nThe solution is to perform tasks that may take a long time in a different thread:\r\n\r\n    new Thread(() -&gt; waitForSomeServerToGetSomeData()).start();\r\n\r\nBut… you want to update the dialog as data is being read.  Changes to Swing components *must* be done in the Event Dispatch Thread and in no other thread.  To do that, there is a special method that executes code in the Event Dispatch Thread:  [EventQueue.invokeLater](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/EventQueue.html#invokeLater(java.lang.Runnable)).\r\n\r\nSo your code would do something like this:\r\n\r\n    Runnable dataRetriever = () -&gt; {\r\n        waitForSomeServerToGetSomeData();\r\n        EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));\r\n\r\n        waitForSomeMoreData();\r\n        EventQueue.invokeLater(() -&gt; modalDialog.add(panelWithMoreData));\r\n    };\r\n\r\n    new Thread(dataRetriever).start();\r\n    modalDialog.setVisible(true);\r\n\r\nThere are other ways to do this.  As Gilbert suggested, you may just want to use a JProgressBar.  AS MadProgrammer suggested, you may benefit from using a [SwingWorker](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html), which lets you update Swing components by “publishing” the completion of each step of your long-running task.\r\n\r\nBut if it’s a fairly simple case, a Thread and some invokeLater calls are all you need.\r\n","title":"How to set the modal dialog visible without blocking current Thread?","body":"<p>Don’t retrieve your data in the AWT event dispatch thread.</p>\n<p>AWT and Swing are single-threaded.  Most GUI frameworks are.  What this means is that all painting of windows, and all processing of user input like typing and mouse clicking, is done in a single special thread created by the system.  AWT and Swing call it the Event Dispatch Thread.</p>\n<p>If you do something to hold that thread up, there will be no repainting and no response to user input during that time.</p>\n<p>If <code>waitForSomeServerToGetSomeData()</code> takes ten seconds to complete, your GUI will be frozen for ten seconds.  Windows cannot be closed during that time.  Buttons cannot be pressed during that time.  And if the user happens to switch to a different window that obscures your dialog, then tries to look at your dialog again, your dialog will be a blank gray rectangle during those ten seconds.</p>\n<p>The solution is to perform tasks that may take a long time in a different thread:</p>\n<pre><code>new Thread(() -&gt; waitForSomeServerToGetSomeData()).start();\n</code></pre>\n<p>But… you want to update the dialog as data is being read.  Changes to Swing components <em>must</em> be done in the Event Dispatch Thread and in no other thread.  To do that, there is a special method that executes code in the Event Dispatch Thread:  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/EventQueue.html#invokeLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">EventQueue.invokeLater</a>.</p>\n<p>So your code would do something like this:</p>\n<pre><code>Runnable dataRetriever = () -&gt; {\n    waitForSomeServerToGetSomeData();\n    EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));\n\n    waitForSomeMoreData();\n    EventQueue.invokeLater(() -&gt; modalDialog.add(panelWithMoreData));\n};\n\nnew Thread(dataRetriever).start();\nmodalDialog.setVisible(true);\n</code></pre>\n<p>There are other ways to do this.  As Gilbert suggested, you may just want to use a JProgressBar.  AS MadProgrammer suggested, you may benefit from using a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>, which lets you update Swing components by “publishing” the completion of each step of your long-running task.</p>\n<p>But if it’s a fairly simple case, a Thread and some invokeLater calls are all you need.</p>\n"}],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692826273,"accepted_answer_id":76962806,"answer_count":1,"score":-2,"last_activity_date":1692804224,"creation_date":1692776562,"question_id":76959304,"body_markdown":"Java documentation:\r\n\r\n&gt;`setVisible(true)`: If the dialog is not already visible, this call will not return until the dialog is hidden by calling setVisible(false) or dispose.\r\n\r\nWhat if I need to change dialog contents from the constructor?\r\ne.g.\r\n```java\r\nmodalDialog.setVisible(true);\r\nwaitForSomeServerToGetSomeData();\r\nmodalDialog.add(jPanelWithServerData);\r\n```","title":"How to set the modal dialog visible without blocking current Thread?","body":"<p>Java documentation:</p>\n<blockquote>\n<p><code>setVisible(true)</code>: If the dialog is not already visible, this call will not return until the dialog is hidden by calling setVisible(false) or dispose.</p>\n</blockquote>\n<p>What if I need to change dialog contents from the constructor?\ne.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>modalDialog.setVisible(true);\nwaitForSomeServerToGetSomeData();\nmodalDialog.add(jPanelWithServerData);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692803022,"creation_date":1692803022,"answer_id":76962663,"question_id":76829541,"body_markdown":"ModelAttribute annotation should be avoided for primitive Types like int and String. Use request param or path variable instead.","title":"ModelAttribute should have already been expanded via ExpandedParameterBuilderPlugin","body":"<p>ModelAttribute annotation should be avoided for primitive Types like int and String. Use request param or path variable instead.</p>\n"}],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962663,"answer_count":1,"score":0,"last_activity_date":1692803022,"creation_date":1691076357,"question_id":76829541,"body_markdown":"For the annotation @ModelAttribute i am getting the WARN log: \r\n\r\n&gt; @ModelAttribute annotated parameters should have already been expanded via the ExpandedParameterBuilderPlugin\r\n\r\n Causing class is ParameterTypeReader, package springfox.documentation.spring.web.readers.parameter.\r\nI am using @ModelAttribute in my Controllers. How can I fix this warning?\r\n\r\n","title":"ModelAttribute should have already been expanded via ExpandedParameterBuilderPlugin","body":"<p>For the annotation @ModelAttribute i am getting the WARN log:</p>\n<blockquote>\n<p>@ModelAttribute annotated parameters should have already been expanded via the ExpandedParameterBuilderPlugin</p>\n</blockquote>\n<p>Causing class is ParameterTypeReader, package springfox.documentation.spring.web.readers.parameter.\nI am using @ModelAttribute in my Controllers. How can I fix this warning?</p>\n"},{"tags":["java","amazon-web-services","log4j2","amazon-cloudwatch","amazon-cloudwatchlogs"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1522339463,"post_id":49560269,"comment_id":86129022,"body_markdown":"...so did you add `-Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE` to see what Log4j2 was doing when it wasn&#39;t picking up your log file?","body":"...so did you add <code>-Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRAC&zwnj;&#8203;E</code> to see what Log4j2 was doing when it wasn&#39;t picking up your log file?"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522644106,"post_id":49560269,"comment_id":86217658,"body_markdown":"Sorry for the late reply.. No I did not add this. Where should I add this?","body":"Sorry for the late reply.. No I did not add this. Where should I add this?"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522759711,"post_id":49560269,"comment_id":86267779,"body_markdown":"Please provide a solution for this","body":"Please provide a solution for this"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522762500,"post_id":49560269,"comment_id":86269912,"body_markdown":"Thanks it is solved. I have added the log4j2.xml in the path where the my main lambda class is. Thannk you @Makoto for your reply.","body":"Thanks it is solved. I have added the log4j2.xml in the path where the my main lambda class is. Thannk you @Makoto for your reply."}],"answers":[{"tags":[],"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530168900,"creation_date":1530168900,"answer_id":51076467,"question_id":49560269,"body_markdown":"I found I did not have any luck placing my log4j2.xml file at either src/main/resources or at src/main/resources/path/to/my/Lambda/log4j2.xml.\r\nSo I did a little digging.  In my case, Lambda deploys my handler with a classpath whose first entry is a folder /var/task.  The class files are rooted directly at /var/task - but the resource files are placed in /var/task/resources - so Log4J2 cannot find log4j2.xml in the classpath.  The solution for me was to use the log4j.configurationFile property to specify the location of the file within the resources folder:\r\n\r\n    static {\r\n        // System.setProperty(&quot;org.apache.logging.log4j.simplelog.StatusLogger.level&quot;,&quot;TRACE&quot;);\r\n        System.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.log4j.jul.LogManager&quot;);\r\n        System.setProperty(&quot;log4j.configurationFile&quot;, &quot;resources/lambda-log4j2.xml&quot;);\r\n    }\r\n\r\nI also renamed the file &quot;lambda-log4j2.xml&quot; - to make sure it was reading my file, during debugging this...\r\nThis static block is at the top of my handler class.","title":"Helpme to get log4j2 correctly","body":"<p>I found I did not have any luck placing my log4j2.xml file at either src/main/resources or at src/main/resources/path/to/my/Lambda/log4j2.xml.\nSo I did a little digging.  In my case, Lambda deploys my handler with a classpath whose first entry is a folder /var/task.  The class files are rooted directly at /var/task - but the resource files are placed in /var/task/resources - so Log4J2 cannot find log4j2.xml in the classpath.  The solution for me was to use the log4j.configurationFile property to specify the location of the file within the resources folder:</p>\n\n<pre><code>static {\n    // System.setProperty(\"org.apache.logging.log4j.simplelog.StatusLogger.level\",\"TRACE\");\n    System.setProperty(\"java.util.logging.manager\", \"org.apache.logging.log4j.jul.LogManager\");\n    System.setProperty(\"log4j.configurationFile\", \"resources/lambda-log4j2.xml\");\n}\n</code></pre>\n\n<p>I also renamed the file \"lambda-log4j2.xml\" - to make sure it was reading my file, during debugging this...\nThis static block is at the top of my handler class.</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802998,"creation_date":1692802998,"answer_id":76962660,"question_id":49560269,"body_markdown":"This issue is misleading on what the actual issue is, The real issue at play with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. If you wish to correct this the necessary edits are not related to the log4j2.xml or to your code but to how the application is being built. In order to resolve the issues between log4j2 and shadowJar/shaded jar you will need to apply an additional transformation at build time in order for correct compilation.\r\n\r\n**Using Gradle**\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n\r\nshadowJar{\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\n\r\n**Using Maven**\r\n```\r\n&lt;dependencies&gt;\r\n  ...\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ....\r\n&lt;/dependencies&gt;\r\n```\r\nand add the following transformation\r\n```\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nTo try to more quickly remediate this issue I have linked all the posts I used to correct this below.\r\n\r\n- [log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar][1]\r\nOriginal post that clued me in\r\n- [Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency][2]\r\nFull example of how to fix in maven or gradle\r\n- [How correctly log AWS Lambda event with lambda powertools][3]\r\nExplanation with powertools\r\n- [Logging using Log4J2 on aws lambda - Class not found][4]\r\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n  [3]: https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n  [4]: https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833","title":"Helpme to get log4j2 correctly","body":"<p>This issue is misleading on what the actual issue is, The real issue at play with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. If you wish to correct this the necessary edits are not related to the log4j2.xml or to your code but to how the application is being built. In order to resolve the issues between log4j2 and shadowJar/shaded jar you will need to apply an additional transformation at build time in order for correct compilation.</p>\n<p><strong>Using Gradle</strong></p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n\nshadowJar{\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p><strong>Using Maven</strong></p>\n<pre><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  ....\n&lt;/dependencies&gt;\n</code></pre>\n<p>and add the following transformation</p>\n<pre><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>To try to more quickly remediate this issue I have linked all the posts I used to correct this below.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn't work when jar file built by shadowJar</a>\nOriginal post that clued me in</li>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\nFull example of how to fix in maven or gradle</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\nExplanation with powertools</li>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a>\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)</li>\n</ul>\n"}],"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3039,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51076467,"answer_count":2,"score":1,"last_activity_date":1692802998,"creation_date":1522338634,"question_id":49560269,"body_markdown":"I am newbie to implement log4j2 with my aws java lambda cloud watch. I need custom log instead of cloud watch logs. I am uploading a csv of large size record using step function.So the built in cloud watch logs the same thing repeatedly. So I am planning to add log4j2 with my java lambda. For this I added below dependency in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\nThen added the log4j2.xml under src/main/resources. The log4j2.xml is like below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nAfter that to check the log i have created one aws java lambda project and my code looks like below.\r\n\r\n     package com.amazonaws.lambda.demo;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.S3Event;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.GetObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3Object;\r\n    \r\n    import com.amazonaws.services.stepfunctions.AWSStepFunctions;\r\n    import com.amazonaws.services.stepfunctions.AWSStepFunctionsClientBuilder;\r\n    import com.amazonaws.services.stepfunctions.model.StartExecutionRequest;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    public class log4jTest implements RequestHandler&lt;S3Event, String&gt; {\r\n    \tstatic final Logger logger = LogManager.getLogger(log4jTest.class);\t\r\n        private AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();      \r\n        public log4jTest() {}\r\n    \tlog4jTest(AmazonS3 s3) {\r\n        this.s3 = s3;\r\n    \t}\r\n    @Override\r\n    public String handleRequest(S3Event event, Context context) {\r\n    \tString bucket = event.getRecords().get(0).getS3().getBucket().getName();\r\n        String key = event.getRecords().get(0).getS3().getObject().getKey();\r\n        try {\r\n    \t\t\tfor(int i=0;i&lt;10;i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(i==10)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlogger.error(&quot;log data Error&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t}\r\n          \r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\t\r\n    \t\t\t\t\t\t\tcontext.getLogger().log(String.format(\r\n    \t\t\t\t\t\t\t\t&quot;Error getting object %s from bucket %s. Make sure they exist and&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot; your bucket is in the same region as this function.&quot;, key, bucket));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\treturn null;\r\n    }\r\n    }\r\nAccording to the aws document [Logging (Java)][1]. \r\nEverything I did as the doc says. But when I am run the lambda I am getting an error like below\r\n\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property &#39;org.apache.logging.log4j.simplelog.StatusLogger.level&#39; to TRACE to show Log4j2 internal initialization logging.\r\n\r\nI am checking the log in lambda -&gt; Monitoring -&gt; jump to logs [Screen shot given below]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI googled and went through below sites.\r\n\r\n[https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er][2]\r\n\r\n[https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784][3]\r\n\r\n\r\n\r\nBut I dont know I can&#39;t fix this error anyway. Please anyone can help me on this. It would be really grateful if u can do this.\r\n\r\nThanks in advance \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\r\n  [2]: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\r\n  [3]: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784\r\n  [4]: https://i.stack.imgur.com/DA7li.png","title":"Helpme to get log4j2 correctly","body":"<p>I am newbie to implement log4j2 with my aws java lambda cloud watch. I need custom log instead of cloud watch logs. I am uploading a csv of large size record using step function.So the built in cloud watch logs the same thing repeatedly. So I am planning to add log4j2 with my java lambda. For this I added below dependency in my pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Then added the log4j2.xml under src/main/resources. The log4j2.xml is like below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration packages=\"com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender\"&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=\"Lambda\"&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=\"debug\"&gt;\n      &lt;AppenderRef ref=\"Lambda\" /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>After that to check the log i have created one aws java lambda project and my code looks like below.</p>\n\n<pre><code> package com.amazonaws.lambda.demo;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.GetObjectRequest;\nimport com.amazonaws.services.s3.model.S3Object;\n\nimport com.amazonaws.services.stepfunctions.AWSStepFunctions;\nimport com.amazonaws.services.stepfunctions.AWSStepFunctionsClientBuilder;\nimport com.amazonaws.services.stepfunctions.model.StartExecutionRequest;\n\nimport com.amazonaws.services.lambda.runtime.Context;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class log4jTest implements RequestHandler&lt;S3Event, String&gt; {\n    static final Logger logger = LogManager.getLogger(log4jTest.class); \n    private AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();      \n    public log4jTest() {}\n    log4jTest(AmazonS3 s3) {\n    this.s3 = s3;\n    }\n@Override\npublic String handleRequest(S3Event event, Context context) {\n    String bucket = event.getRecords().get(0).getS3().getBucket().getName();\n    String key = event.getRecords().get(0).getS3().getObject().getKey();\n    try {\n            for(int i=0;i&lt;10;i++)\n                {\n                    if(i==10)\n                        {\n                            logger.error(\"log data Error\");\n                        }\n                }\n\n        } catch (Exception e) {\n\n                            context.getLogger().log(String.format(\n                                \"Error getting object %s from bucket %s. Make sure they exist and\"\n                                    + \" your bucket is in the same region as this function.\", key, bucket));\n                            }\n                return null;\n}\n}\n</code></pre>\n\n<p>According to the aws document <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\" rel=\"nofollow noreferrer\">Logging (Java)</a>. \nEverything I did as the doc says. But when I am run the lambda I am getting an error like below</p>\n\n<pre><code>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property 'org.apache.logging.log4j.simplelog.StatusLogger.level' to TRACE to show Log4j2 internal initialization logging.\n</code></pre>\n\n<p>I am checking the log in lambda -> Monitoring -> jump to logs [Screen shot given below]</p>\n\n<p><a href=\"https://i.stack.imgur.com/DA7li.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DA7li.png\" alt=\"enter image description here\"></a></p>\n\n<p>I googled and went through below sites.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\">No log4j2 configuration file found. Using default configuration: logging only errors to the console</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784\">No log4j2 configuration file found. Using default configuration: logging only errors to the console</a></p>\n\n<p>But I dont know I can't fix this error anyway. Please anyone can help me on this. It would be really grateful if u can do this.</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1568635938,"post_id":57956636,"comment_id":102325026,"body_markdown":"which JDBC driver (and DBMS product) **are** you using?","body":"which JDBC driver (and DBMS product) <b>are</b> you using?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568636873,"post_id":57956636,"comment_id":102325561,"body_markdown":"The SQL stems from you, and `getParameterMetaData` might provide the context details. The database engine might provide logging. BTW I miss `close()` on statement and result set.","body":"The SQL stems from you, and <code>getParameterMetaData</code> might provide the context details. The database engine might provide logging. BTW I miss <code>close()</code> on statement and result set."},{"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"score":0,"creation_date":1568637013,"post_id":57956636,"comment_id":102325649,"body_markdown":"@a_horse_with_no_name we are using ojdbc14","body":"@a_horse_with_no_name we are using ojdbc14"},{"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"score":0,"creation_date":1568637383,"post_id":57956636,"comment_id":102325843,"body_markdown":"@JoopEggen the close statment is in the &quot;...&quot;","body":"@JoopEggen the close statment is in the &quot;...&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568637749,"post_id":57956636,"comment_id":102326014,"body_markdown":"Okay. (You might also consider try-with-resources allowing exceptions and inner returns and such.)","body":"Okay. (You might also consider try-with-resources allowing exceptions and inner returns and such.)"},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1568638415,"post_id":57956636,"comment_id":102326363,"body_markdown":"Have you looked at [p6spy](https://github.com/p6spy/p6spy)?","body":"Have you looked at <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">p6spy</a>?"},{"owner":{"account_id":213468,"reputation":103491,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1568641894,"post_id":57956636,"comment_id":102328451,"body_markdown":"There is nothing defined in JDBC for this, nor does JDBC require (or expect) that a driver implements the `toString()` to return the prepared statement.","body":"There is nothing defined in JDBC for this, nor does JDBC require (or expect) that a driver implements the <code>toString()</code> to return the prepared statement."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1568658733,"post_id":57956636,"comment_id":102336429,"body_markdown":"Are you really still using Java 1.4? That&#39;s what ojdbc14 is intended for","body":"Are you really still using Java 1.4? That&#39;s what ojdbc14 is intended for"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568638387,"creation_date":1568638387,"answer_id":57957330,"question_id":57956636,"body_markdown":"Much time ago I used [p6spy][1]: a *proxy* for the real JDBC driver that logs real queries before passing them to the real driver.\r\n\r\nAnother solution is [datasource-proxy][2] that, as the name implies, proxies a DataSource, not the low-level driver.  I&#39;ve never tried it.\r\n\r\n\r\n  [1]: https://github.com/p6spy/p6spy\r\n  [2]: https://github.com/ttddyy/datasource-proxy","title":"Is there a way to read the SQL query of a PreparedStatement, after it is constructed?","body":"<p>Much time ago I used <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">p6spy</a>: a <em>proxy</em> for the real JDBC driver that logs real queries before passing them to the real driver.</p>\n\n<p>Another solution is <a href=\"https://github.com/ttddyy/datasource-proxy\" rel=\"nofollow noreferrer\">datasource-proxy</a> that, as the name implies, proxies a DataSource, not the low-level driver.  I've never tried it.</p>\n"}],"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692802899,"creation_date":1568635846,"question_id":57956636,"body_markdown":"I work on some really old code (10 years+) and it&#39;s (probably) practically impossible to get the query that is going to be executed,\r\nbut I need to log the queries in case of an error.\r\n\r\nI tried to read the Metadata of the statement. But that does not do the job when I try to get the exact query.\r\n\r\n`System.out.println(preparedStatement);` is also not working because we use a really old JDBC driver, which does not implement a nice `toString()` for the prepared Statement and I am not allowed to change the driver. \r\n\r\n```java\r\npublic void doQuery(Connection conn) throws SQLException {\r\n\tPreparedStatement st=null;\r\n\tResultSet result=null;\r\n\tst=createStatement(conn);\r\n\tresult = st.executeQuery();\r\n\t... \r\n}\r\n\r\npublic abstract PreparedStatement createStatement(Connection conn) throws SQLException;\r\n\r\n```\r\n\r\nthe `createStatement` is an abstract method with 46 (magical) implementations, which are all different. \r\nThat&#39;s what makes it really hard for me to figure out how the `Statement` is created at all.\r\n\r\nI only want to have something like\r\n\r\n```\r\nString query = preparedStatement.getQueryString();\r\n```","title":"Is there a way to read the SQL query of a PreparedStatement, after it is constructed?","body":"<p>I work on some really old code (10 years+) and it's (probably) practically impossible to get the query that is going to be executed,\nbut I need to log the queries in case of an error.</p>\n<p>I tried to read the Metadata of the statement. But that does not do the job when I try to get the exact query.</p>\n<p><code>System.out.println(preparedStatement);</code> is also not working because we use a really old JDBC driver, which does not implement a nice <code>toString()</code> for the prepared Statement and I am not allowed to change the driver.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doQuery(Connection conn) throws SQLException {\n    PreparedStatement st=null;\n    ResultSet result=null;\n    st=createStatement(conn);\n    result = st.executeQuery();\n    ... \n}\n\npublic abstract PreparedStatement createStatement(Connection conn) throws SQLException;\n\n</code></pre>\n<p>the <code>createStatement</code> is an abstract method with 46 (magical) implementations, which are all different.\nThat's what makes it really hard for me to figure out how the <code>Statement</code> is created at all.</p>\n<p>I only want to have something like</p>\n<pre><code>String query = preparedStatement.getQueryString();\n</code></pre>\n"},{"tags":["java","sql","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1692622661,"post_id":76944952,"comment_id":135644455,"body_markdown":"Thank&#39;s. It work&#39;s","body":"Thank&#39;s. It work&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802611,"creation_date":1692802611,"answer_id":76962611,"question_id":76944952,"body_markdown":"Use @SqlResultSetMapping as explained [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-sql-resultset-mapping","title":"Spring jpa No converter found capable of converting from type AbstractJpaQuery$TupleConverter$TupleBackedMap","body":"<p>Use @SqlResultSetMapping as explained <a href=\"https://www.baeldung.com/jpa-sql-resultset-mapping\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692822935,"answer_count":1,"score":0,"last_activity_date":1692802611,"creation_date":1692618076,"question_id":76944952,"body_markdown":"My Entity:\r\n```\r\n@Entity(name = &quot;Car&quot;)\r\n@Table(name = &quot;Car&quot;)\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarEntity\r\n{\r\n   private final String identification;\r\n   private final String attribute_2;\r\n   private final String attribute_3;\r\n   private final String attribute_4;\r\n   private final String attribute_5;\r\n   private final String attribute_6;\r\n}\r\n```\r\n\r\nThe Dto has two attributes more. \r\n\r\nMy Dto:\r\n```\r\n@RequiredArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\npublic class CarDto\r\n{\r\n   private final String identification;\r\n   private final String attribute_2;\r\n   private final String attribute_3;\r\n   private final String attribute_4;\r\n   private final String attribute_5;\r\n   private final String attribute_6;\r\n   private final String childCarIdentification;\r\n   private final String parentCarIdentification;\r\n}\r\n```\r\n\r\n```\r\n@Entity(name = &quot;CarRelation&quot;)\r\n@Table(name = &quot;CarRelation&quot;)\r\n@IdClass(CarRelationId.class)\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarRelationEntity\r\n{\r\n   @Id\r\n   private String carIdentification;\r\n   @Id\r\n   private String subCarIdentification;\r\n}\r\n```\r\n\r\nThe `CarRelationId`:\r\n```\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarRelationId implements Serializable\r\n{\r\n   private String carIdentification;\r\n   private String subCarIdentification;\r\n}\r\n```\r\n\r\nThe CarRelationDto:\r\n```\r\n@RequiredArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\npublic class CarRelation\r\n{\r\n   private final String carIdentification;\r\n   private final String subCarIdentification;\r\n}\r\n```\r\n\r\nMy repository:\r\n```\r\n@Repository\r\npublic interface JpaCarRepository extends JpaRepository&lt;CarEntity, String&gt;\r\n{\r\n   @Query(&quot;&quot;&quot;\r\n         SELECT        c.identification, c.attribute_2, c.attribute_3, c.attribute_4,\r\n            c.attribute_5, c.attribute_6, cr.subCarIdentification AS childCarIdentification, cr_1.carIdentification AS parentCarIdentification\r\n         FROM            Car c LEFT OUTER JOIN\r\n                                  CarRelation cr ON cr.carIdentification = c.identification LEFT OUTER JOIN\r\n                                  CarRelation AS cr_1 ON c.identification = cr_1.subComponentIdentification\r\n         WHERE        (c.identification = :identification )\r\n    &quot;&quot;&quot;)\r\n   Optional&lt;CarDto&gt; findByIdentification(@Param(&quot;identification &quot;) String identification );\r\n```\r\n\r\nThe error:\r\n```\r\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [path.to.object.Car]\r\n```\r\n\r\nHow can i transform the Sql-Result to `CarDto` Object other how the pass the Result to a Dto Object","title":"Spring jpa No converter found capable of converting from type AbstractJpaQuery$TupleConverter$TupleBackedMap","body":"<p>My Entity:</p>\n<pre><code>@Entity(name = &quot;Car&quot;)\n@Table(name = &quot;Car&quot;)\n@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarEntity\n{\n   private final String identification;\n   private final String attribute_2;\n   private final String attribute_3;\n   private final String attribute_4;\n   private final String attribute_5;\n   private final String attribute_6;\n}\n</code></pre>\n<p>The Dto has two attributes more.</p>\n<p>My Dto:</p>\n<pre><code>@RequiredArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class CarDto\n{\n   private final String identification;\n   private final String attribute_2;\n   private final String attribute_3;\n   private final String attribute_4;\n   private final String attribute_5;\n   private final String attribute_6;\n   private final String childCarIdentification;\n   private final String parentCarIdentification;\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;CarRelation&quot;)\n@Table(name = &quot;CarRelation&quot;)\n@IdClass(CarRelationId.class)\n@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarRelationEntity\n{\n   @Id\n   private String carIdentification;\n   @Id\n   private String subCarIdentification;\n}\n</code></pre>\n<p>The <code>CarRelationId</code>:</p>\n<pre><code>@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarRelationId implements Serializable\n{\n   private String carIdentification;\n   private String subCarIdentification;\n}\n</code></pre>\n<p>The CarRelationDto:</p>\n<pre><code>@RequiredArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class CarRelation\n{\n   private final String carIdentification;\n   private final String subCarIdentification;\n}\n</code></pre>\n<p>My repository:</p>\n<pre><code>@Repository\npublic interface JpaCarRepository extends JpaRepository&lt;CarEntity, String&gt;\n{\n   @Query(&quot;&quot;&quot;\n         SELECT        c.identification, c.attribute_2, c.attribute_3, c.attribute_4,\n            c.attribute_5, c.attribute_6, cr.subCarIdentification AS childCarIdentification, cr_1.carIdentification AS parentCarIdentification\n         FROM            Car c LEFT OUTER JOIN\n                                  CarRelation cr ON cr.carIdentification = c.identification LEFT OUTER JOIN\n                                  CarRelation AS cr_1 ON c.identification = cr_1.subComponentIdentification\n         WHERE        (c.identification = :identification )\n    &quot;&quot;&quot;)\n   Optional&lt;CarDto&gt; findByIdentification(@Param(&quot;identification &quot;) String identification );\n</code></pre>\n<p>The error:</p>\n<pre><code>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [path.to.object.Car]\n</code></pre>\n<p>How can i transform the Sql-Result to <code>CarDto</code> Object other how the pass the Result to a Dto Object</p>\n"},{"tags":["java","jpa","spring-data-jpa","hql","jpql"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1692473503,"post_id":76936526,"comment_id":135629115,"body_markdown":"Have you tried what was suggested [here](https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststring-in-jpa)?","body":"Have you tried what was suggested <a href=\"https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststring-in-jpa\">here</a>?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802505,"creation_date":1692802505,"answer_id":76962593,"question_id":76936526,"body_markdown":"If you are trying to get DogSubset instances built with List&lt;String&gt; eventId within it - no, you cannot. JPA and its query languages do not support aggregating into lists. Options you have are to take the dogId,dogName,birthDate,String eventId, put them in a dogEvent (or just deal with a tuple or Object[] result) and aggregate them yourself into DogSubset instances. \r\n\r\nAlternatively, you could create a DogSubset view &#39;entity&#39; and map it to the Dog table with the Event.eventId mapped as an @ElementCollection. For example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;dog_table&quot;)\r\n    public class DogSubset {\r\n      @Id\r\n      private String dogId;\r\n      private String dogName;\r\n      private Date birthDate;\r\n      @ElementCollection \r\n      @CollectionTable(name = &quot;event_table&quot;, joinColumns = @JoinColumn(name = &quot;dogId&quot;))\r\n      private List&lt;String&gt; eventId\r\n    }\r\n\r\nJust make sure you never try creating new instances or updating them, as this will mess up your Dog and Event entity data.\r\n\r\n","title":"Returning list of strings in JPA @Query using projection","body":"<p>If you are trying to get DogSubset instances built with List eventId within it - no, you cannot. JPA and its query languages do not support aggregating into lists. Options you have are to take the dogId,dogName,birthDate,String eventId, put them in a dogEvent (or just deal with a tuple or Object[] result) and aggregate them yourself into DogSubset instances.</p>\n<p>Alternatively, you could create a DogSubset view 'entity' and map it to the Dog table with the Event.eventId mapped as an @ElementCollection. For example:</p>\n<pre><code>@Entity\n@Table(name = &quot;dog_table&quot;)\npublic class DogSubset {\n  @Id\n  private String dogId;\n  private String dogName;\n  private Date birthDate;\n  @ElementCollection \n  @CollectionTable(name = &quot;event_table&quot;, joinColumns = @JoinColumn(name = &quot;dogId&quot;))\n  private List&lt;String&gt; eventId\n}\n</code></pre>\n<p>Just make sure you never try creating new instances or updating them, as this will mess up your Dog and Event entity data.</p>\n"}],"owner":{"account_id":11119678,"reputation":1,"user_id":8162952,"display_name":"Palabok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692802505,"creation_date":1692469456,"question_id":76936526,"body_markdown":"I have an entity Dog and then an entity of Event that the dogs participate in. I want to extract a list(string) of each Event that has a corresponding DogId. I am using JPA projection because I need a subset of the entity with the addition of the eventId.\r\n\r\n```\r\npublic class DogSubset {\r\n\r\nprivate String dogId;\r\nprivate String dogName;\r\nprivate Date birthDate;\r\nprivate List&lt;String&gt; eventId\r\n\r\n}\r\n```\r\n\r\n```\r\n@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, e.eventId) FROM Dog d JOIN Event e on d.dogId = e.dogId WHERE d.dogId = :dogId&quot;)\r\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\r\n```\r\n\r\nNext, based on [another answer here](https://stackoverflow.com/questions/68605749/returning-list-of-strings-in-jparepository-using-query) is my attempt to join on e.EventId and extract as a collection, but it does not work.\r\n\r\n```\r\n@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, x) FROM Dog d JOIN Event e on d.dogId = e.dogId JOIN FETCH e.eventId x WHERE d.dogId = :dogId&quot;)\r\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\r\n```\r\n\r\nAfter more research I am not sure if what I am trying to do is possible, is there a way to return the List of Strings without a separate query?","title":"Returning list of strings in JPA @Query using projection","body":"<p>I have an entity Dog and then an entity of Event that the dogs participate in. I want to extract a list(string) of each Event that has a corresponding DogId. I am using JPA projection because I need a subset of the entity with the addition of the eventId.</p>\n<pre><code>public class DogSubset {\n\nprivate String dogId;\nprivate String dogName;\nprivate Date birthDate;\nprivate List&lt;String&gt; eventId\n\n}\n</code></pre>\n<pre><code>@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, e.eventId) FROM Dog d JOIN Event e on d.dogId = e.dogId WHERE d.dogId = :dogId&quot;)\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\n</code></pre>\n<p>Next, based on <a href=\"https://stackoverflow.com/questions/68605749/returning-list-of-strings-in-jparepository-using-query\">another answer here</a> is my attempt to join on e.EventId and extract as a collection, but it does not work.</p>\n<pre><code>@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, x) FROM Dog d JOIN Event e on d.dogId = e.dogId JOIN FETCH e.eventId x WHERE d.dogId = :dogId&quot;)\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\n</code></pre>\n<p>After more research I am not sure if what I am trying to do is possible, is there a way to return the List of Strings without a separate query?</p>\n"},{"tags":["java","aws-lambda","log4j2","amazon-cloudwatch"],"answers":[{"tags":[],"owner":{"account_id":8437558,"reputation":147,"user_id":6331235,"display_name":"Srinivas Nangana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646652932,"creation_date":1646652932,"answer_id":71380463,"question_id":71380254,"body_markdown":"alternatively, You can use the Context object to get a logger like below\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    public class MyClass implements RequestHandler&lt;Map&lt;String, Object&gt;, Void&gt; {\r\n\t   @Override\r\n\tpublic Void handleRequest(Map&lt;String, Object&gt; inputRequest, Context context) {\r\n\tLambdaLogger logger = context.getLogger();\r\n\tlogger.log(&quot;Hello &quot;);\r\n\t}}","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>alternatively, You can use the Context object to get a logger like below</p>\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\npublic class MyClass implements RequestHandler&lt;Map&lt;String, Object&gt;, Void&gt; {\n   @Override\npublic Void handleRequest(Map&lt;String, Object&gt; inputRequest, Context context) {\nLambdaLogger logger = context.getLogger();\nlogger.log(&quot;Hello &quot;);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25120729,"reputation":1,"user_id":18969114,"display_name":"Nick Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651097403,"creation_date":1651097403,"answer_id":72035841,"question_id":71380254,"body_markdown":"Changing these lines:\r\n\r\n    runtimeOnly &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;    \r\n    runtimeOnly &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n\r\nTo\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;\r\n    implementation &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n\r\nSolved this problem for me\r\n","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>Changing these lines:</p>\n<pre><code>runtimeOnly 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'    \nruntimeOnly 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p>To</p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'\nimplementation 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p>Solved this problem for me</p>\n"},{"tags":[],"owner":{"account_id":4005547,"reputation":21,"user_id":3300283,"display_name":"Dmytro Kosiachenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691501709,"creation_date":1691501709,"answer_id":76860085,"question_id":71380254,"body_markdown":"Just add this dependencies:\r\n\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nBe careful that any other logging packages are removed, also slf4j packages.","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>Just add this dependencies:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n                &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n                &lt;version&gt;1.5.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>Be careful that any other logging packages are removed, also slf4j packages.</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802473,"creation_date":1692802473,"answer_id":76962587,"question_id":71380254,"body_markdown":"The issue that you are seeing with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. In order to correct this and get the log output you expect you need an additional transformation at build time.\r\n\r\n**Using Gradle**\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n\r\nshadowJar{\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\n\r\nTo try to more quickly remediate this issue I have linked all the posts I used to correct this below.\r\n\r\n- [log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar][1]\r\nOriginal post that clued me in\r\n- [Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency][2]\r\nFull example of how to fix in maven or gradle\r\n- [How correctly log AWS Lambda event with lambda powertools][3]\r\nExplanation with powertools\r\n- [Logging using Log4J2 on aws lambda - Class not found][4]\r\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)\r\n\r\nDisclaimer: To the person who deleted my previous post - the posts that I posted on are not duplicates but they are similar, there is a nuanced difference between them and all of them helped understanding various aspects of the problem. It took a very long time to put together all these random pieces of info into a true fix and I stand by my answer as being relevant on this post. Please do not remove posts that are geared towards saving multiple hours of research for others. Especially when there is no way to contact you, no suggested edit system, and no way to dispute YOUR opinion. Please allow the community to decide how valuable a post is by the vote system.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n  [3]: https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n  [4]: https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>The issue that you are seeing with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. In order to correct this and get the log output you expect you need an additional transformation at build time.</p>\n<p><strong>Using Gradle</strong></p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n\nshadowJar{\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p>To try to more quickly remediate this issue I have linked all the posts I used to correct this below.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn't work when jar file built by shadowJar</a>\nOriginal post that clued me in</li>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\nFull example of how to fix in maven or gradle</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\nExplanation with powertools</li>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a>\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)</li>\n</ul>\n<p>Disclaimer: To the person who deleted my previous post - the posts that I posted on are not duplicates but they are similar, there is a nuanced difference between them and all of them helped understanding various aspects of the problem. It took a very long time to put together all these random pieces of info into a true fix and I stand by my answer as being relevant on this post. Please do not remove posts that are geared towards saving multiple hours of research for others. Especially when there is no way to contact you, no suggested edit system, and no way to dispute YOUR opinion. Please allow the community to decide how valuable a post is by the vote system.</p>\n"}],"owner":{"account_id":14495033,"reputation":43,"user_id":10469922,"display_name":"satyam pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3380,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1692802473,"creation_date":1646651886,"question_id":71380254,"body_markdown":"I am using the following configurations in my code but cloudwatch logs are not getting generated. Log4j2.xml is present in main/resources. I am following the AWS documentation and some stack overflow but I am not getting the logs it says -\r\n\r\n**Cloudwatch Logs** \r\n        \r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSTART RequestId: e36-c827-46-93-a7 Version: $LATEST\r\nTransforming org/apache/logging/log4j/core/lookup/JndiLookup (lambdainternal.CustomerClassLoader@433d)\r\n2022-03-07T16:01:51.527+05:30\t2022-03-07 10:31:51,526 main ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\r\n2022-03-07T16:01:51.626+05:30\t2022-03-07 10:31:51,626 main ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\r\n```  \r\n        \r\n**Log4j2.xml**\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot; status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot; /&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n        \r\n**Gradle Dependencies used:** \r\n        \r\n```\r\nimplementation &#39;org.apache.logging.log4j:log4j-api:2.17.2&#39;\r\nimplementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\nruntimeOnly &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;\r\nruntimeOnly &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n```\r\n\r\n**Service class Logging Declaration**\r\n\r\n```java\r\n@Slf4j\r\npublic class ABC {\r\n        \r\n    public void method1(){\r\n        log.info(&quot; HELLO WORLD  ________ &quot;);\r\n    }\r\n}\r\n```\r\n\r\nPlease help.","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>I am using the following configurations in my code but cloudwatch logs are not getting generated. Log4j2.xml is present in main/resources. I am following the AWS documentation and some stack overflow but I am not getting the logs it says -</p>\n<p><strong>Cloudwatch Logs</strong></p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSTART RequestId: e36-c827-46-93-a7 Version: $LATEST\nTransforming org/apache/logging/log4j/core/lookup/JndiLookup (lambdainternal.CustomerClassLoader@433d)\n2022-03-07T16:01:51.527+05:30   2022-03-07 10:31:51,526 main ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\n2022-03-07T16:01:51.626+05:30   2022-03-07 10:31:51,626 main ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\n</code></pre>\n<p><strong>Log4j2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot; status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Lambda&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot; /&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot; /&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>Gradle Dependencies used:</strong></p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-api:2.17.2'\nimplementation 'org.apache.logging.log4j:log4j-core:2.17.2'\nruntimeOnly 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'\nruntimeOnly 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p><strong>Service class Logging Declaration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class ABC {\n        \n    public void method1(){\n        log.info(&quot; HELLO WORLD  ________ &quot;);\n    }\n}\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","jackson","xmlmapper"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692806636,"post_id":76962554,"comment_id":135675271,"body_markdown":"You should probably be using `LocalDateTime` and `LocalDate`","body":"You should probably be using <code>LocalDateTime</code> and <code>LocalDate</code>"}],"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692802203,"creation_date":1692802203,"question_id":76962554,"body_markdown":"I&#39;m working on a project where they used a serializer to convert data fields:\r\n\t\r\n    public static class DateSerializer extends JsonSerializer&lt;Date&gt; {\r\n\t\tprivate static final DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n\r\n\t\t@Override\r\n\t\tpublic void serialize(Date value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n\t\t\tjgen.writeNumber(df.format(value));\r\n\t\t}\r\n\t}\r\n\r\nWith this, all Date fields are formatted with the same mask.\r\n\r\nI need a **specific field from one of the models** to be formatted with another mask (&quot;yyyy-MM-dd&quot;, without time).\r\n\r\n    public class DPS {\r\n      private Date dhEmi;\r\n      private Date dCompet;\r\n      ...\r\n    }\r\n\r\nExcepted result:\r\n\r\n    &lt;DPS&gt;\r\n      &lt;dhEmi&gt;2022-09-22T10:36:00-03:00&lt;/dhEmi&gt;\r\n      &lt;dCompet&gt;2022-09-22&lt;/dCompet&gt;\r\n    &lt;/DPS&gt;\r\n\r\nI tried using @JsonFormat on field dCompet, but the Serializer overrides the notation, and the notation is ignored.\r\n\r\nRemoving the Serializer and adding the notation to all Date fields in the project is an option, but I should consider it as a last resort due to the labor involved.\r\n\r\nIs there a way to do this without refactoring the whole project?","title":"Jackson - How to add different formatting to a specific Date field?","body":"<p>I'm working on a project where they used a serializer to convert data fields:</p>\n<pre><code>public static class DateSerializer extends JsonSerializer&lt;Date&gt; {\n    private static final DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\n\n    @Override\n    public void serialize(Date value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n        jgen.writeNumber(df.format(value));\n    }\n}\n</code></pre>\n<p>With this, all Date fields are formatted with the same mask.</p>\n<p>I need a <strong>specific field from one of the models</strong> to be formatted with another mask (&quot;yyyy-MM-dd&quot;, without time).</p>\n<pre><code>public class DPS {\n  private Date dhEmi;\n  private Date dCompet;\n  ...\n}\n</code></pre>\n<p>Excepted result:</p>\n<pre><code>&lt;DPS&gt;\n  &lt;dhEmi&gt;2022-09-22T10:36:00-03:00&lt;/dhEmi&gt;\n  &lt;dCompet&gt;2022-09-22&lt;/dCompet&gt;\n&lt;/DPS&gt;\n</code></pre>\n<p>I tried using @JsonFormat on field dCompet, but the Serializer overrides the notation, and the notation is ignored.</p>\n<p>Removing the Serializer and adding the notation to all Date fields in the project is an option, but I should consider it as a last resort due to the labor involved.</p>\n<p>Is there a way to do this without refactoring the whole project?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692802178,"creation_date":1692802178,"answer_id":76962552,"question_id":76962365,"body_markdown":"It’s now located in keycloak-model-legacy-private-x.x.x.jar it was moved to the legacy package, the package is the same though.","title":"InMemoryUserAdapter keycloack jar in version &gt; 19","body":"<p>It’s now located in keycloak-model-legacy-private-x.x.x.jar it was moved to the legacy package, the package is the same though.</p>\n"}],"owner":{"account_id":21092302,"reputation":3,"user_id":22190920,"display_name":"Fran&#231;ois Schuster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962552,"answer_count":1,"score":0,"last_activity_date":1692802178,"creation_date":1692800964,"question_id":76962365,"body_markdown":"Good morning,\r\n\r\nI want to use org.keycloak.storage.adapter.InMemoryUserAdapter class in maeven project.\r\nUntil version 18 it works with the keycloak-server-spi-private library but when I try to switch to version 19 the class is no longer found.\r\nIndeed I think it must be in another package but I have not found which one.\r\n\r\n\r\nThanks for your help.\r\n\r\nOn the documentation, the class still seems to be present though:\r\n\r\nhttps://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html","title":"InMemoryUserAdapter keycloack jar in version &gt; 19","body":"<p>Good morning,</p>\n<p>I want to use org.keycloak.storage.adapter.InMemoryUserAdapter class in maeven project.\nUntil version 18 it works with the keycloak-server-spi-private library but when I try to switch to version 19 the class is no longer found.\nIndeed I think it must be in another package but I have not found which one.</p>\n<p>Thanks for your help.</p>\n<p>On the documentation, the class still seems to be present though:</p>\n<p><a href=\"https://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html</a></p>\n"},{"tags":["java","docker","alpine-linux","corretto"],"answers":[{"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680777416,"creation_date":1680777416,"answer_id":75948555,"question_id":75948176,"body_markdown":"I found an aws [doc][1] to install Amazon Corretto 17 on Alpine Linux \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/generic-linux-install.html\r\n\r\nbelow is the command that neet to insert in your docker file to install corretto 17.\r\n\r\n    FROM alpine:3.17\r\n        RUN apk add --no-cache &amp;&amp;\\\r\n                wget -O /etc/apk/keys/amazoncorretto.rsa.pub https://apk.corretto.aws/amazoncorretto.rsa.pub &amp;&amp; \\\r\n                echo &quot;https://apk.corretto.aws&quot; &gt;&gt; /etc/apk/repositories &amp;&amp; \\\r\n                apk update &amp;&amp;\\\r\n                apk add amazon-corretto-17\r\n\r\n","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>I found an aws <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/generic-linux-install.html\" rel=\"nofollow noreferrer\">doc</a> to install Amazon Corretto 17 on Alpine Linux</p>\n<p>below is the command that neet to insert in your docker file to install corretto 17.</p>\n<pre><code>FROM alpine:3.17\n    RUN apk add --no-cache &amp;&amp;\\\n            wget -O /etc/apk/keys/amazoncorretto.rsa.pub https://apk.corretto.aws/amazoncorretto.rsa.pub &amp;&amp; \\\n            echo &quot;https://apk.corretto.aws&quot; &gt;&gt; /etc/apk/repositories &amp;&amp; \\\n            apk update &amp;&amp;\\\n            apk add amazon-corretto-17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680802851,"creation_date":1680795786,"answer_id":75951375,"question_id":75948176,"body_markdown":"An approach, based on my comment in [this answer](https://stackoverflow.com/a/75948555/12567365):\r\n\r\nUse the following to use one of the [official](https://hub.docker.com/_/amazoncorretto) Corretto Java images - in this case, using Alpine:\r\n\r\n```\r\ndocker pull amazoncorretto:17-alpine-jdk\r\n``` \r\n\r\nand then \r\n\r\n```\r\ndocker run -it amazoncorretto:17-alpine-jdk /bin/sh\r\n```\r\n\r\n---\r\n\r\nOr, if you want a `Dockerfile`:\r\n\r\n```\r\nFROM amazoncorretto:17-alpine-jdk\r\nCMD [&quot;/usr/bin/java&quot;, &quot;--version&quot;]\r\n```\r\n\r\nIf I build the image using this...\r\n\r\n    docker build -t whateveryouwant .\r\n\r\n...then I can run it with:\r\n\r\n    docker run whateveryouwant \r\n\r\nAnd the `run` output is:\r\n\r\n```\r\nopenjdk 17.0.6 2023-01-17 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\r\n```\r\n\r\nThis obviously doesn&#39;t do anything useful, except to show the Java details.","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>An approach, based on my comment in <a href=\"https://stackoverflow.com/a/75948555/12567365\">this answer</a>:</p>\n<p>Use the following to use one of the <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">official</a> Corretto Java images - in this case, using Alpine:</p>\n<pre><code>docker pull amazoncorretto:17-alpine-jdk\n</code></pre>\n<p>and then</p>\n<pre><code>docker run -it amazoncorretto:17-alpine-jdk /bin/sh\n</code></pre>\n<hr />\n<p>Or, if you want a <code>Dockerfile</code>:</p>\n<pre><code>FROM amazoncorretto:17-alpine-jdk\nCMD [&quot;/usr/bin/java&quot;, &quot;--version&quot;]\n</code></pre>\n<p>If I build the image using this...</p>\n<pre><code>docker build -t whateveryouwant .\n</code></pre>\n<p>...then I can run it with:</p>\n<pre><code>docker run whateveryouwant \n</code></pre>\n<p>And the <code>run</code> output is:</p>\n<pre><code>openjdk 17.0.6 2023-01-17 LTS\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\n</code></pre>\n<p>This obviously doesn't do anything useful, except to show the Java details.</p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692536534,"creation_date":1692536534,"answer_id":76939505,"question_id":75948176,"body_markdown":"You don&#39;t need to build those images yourself (and you should not!) because Amazon provides several [pre-built images][1] at Docker Hub.\r\n\r\nFor Java 8 you can choose between JDK (`amazoncorretto:8-alpine-jdk`) and JRE (`amazoncorretto:8-alpine-jre`), for Java 17 Amazon provides the JDK only (`amazoncorretto:17-alpine-jdk`) but you can find a pre-built JRE at https://hub.docker.com/r/pnavato/amazoncorretto-jre.  In the same page you can find the Dockerfile you have asked for, if you really want to build the image yourself for any reason.\r\n\r\n  [1]: https://hub.docker.com/_/amazoncorretto","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>You don't need to build those images yourself (and you should not!) because Amazon provides several <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">pre-built images</a> at Docker Hub.</p>\n<p>For Java 8 you can choose between JDK (<code>amazoncorretto:8-alpine-jdk</code>) and JRE (<code>amazoncorretto:8-alpine-jre</code>), for Java 17 Amazon provides the JDK only (<code>amazoncorretto:17-alpine-jdk</code>) but you can find a pre-built JRE at <a href=\"https://hub.docker.com/r/pnavato/amazoncorretto-jre\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/pnavato/amazoncorretto-jre</a>.  In the same page you can find the Dockerfile you have asked for, if you really want to build the image yourself for any reason.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4093,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75948555,"answer_count":3,"score":-2,"last_activity_date":1692802095,"creation_date":1680774918,"question_id":75948176,"body_markdown":"I am new to Docker, and I need help to build Corretto 17 Alpine Linux image.\r\nI have an existing Dockerfile which build Java 8 Alpine Linux image as below.\r\n\r\n    FROM alpine:3.17\r\n    \r\n    # install software\r\n    RUN apk add --no-cache \\\r\n        bash \\\r\n    \topenjdk8-jre\r\n\r\nHow can I add Corretto 17 command to this Dockerfile to run my application on Corretto 17?\r\n","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>I am new to Docker, and I need help to build Corretto 17 Alpine Linux image.\nI have an existing Dockerfile which build Java 8 Alpine Linux image as below.</p>\n<pre><code>FROM alpine:3.17\n\n# install software\nRUN apk add --no-cache \\\n    bash \\\n    openjdk8-jre\n</code></pre>\n<p>How can I add Corretto 17 command to this Dockerfile to run my application on Corretto 17?</p>\n"},{"tags":["java","arrays","recursion","call","point"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692723492,"post_id":76955175,"comment_id":135662275,"body_markdown":"Please provide examples of input and expected output.  Also declare an `cp1` and any other values that are undefined or undeclared.","body":"Please provide examples of input and expected output.  Also declare an <code>cp1</code> and any other values that are undefined or undeclared."},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692723684,"post_id":76955175,"comment_id":135662312,"body_markdown":"@WJS The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. This method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n];","body":"@WJS The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. This method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n];"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692723937,"post_id":76955175,"comment_id":135662352,"body_markdown":"@WJS like if I have 3 points this is:\nP: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]]\n\nDelta: 138.2931668593933\n\nCP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]","body":"@WJS like if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]]  Delta: 138.2931668593933  CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1692726765,"post_id":76955175,"comment_id":135662933,"body_markdown":"Please [edit] your question to add details, instead of posting it in the comment section.","body":"Please <a href=\"https://stackoverflow.com/posts/76955175/edit\">edit</a> your question to add details, instead of posting it in the comment section."},{"owner":{"account_id":10510817,"reputation":624,"user_id":7746591,"display_name":"Andres Bores"},"score":3,"creation_date":1692726900,"post_id":76955175,"comment_id":135662965,"body_markdown":"Why would you want to convert that to a recursive method? Non-recursive methods perform better than recursive ones.","body":"Why would you want to convert that to a recursive method? Non-recursive methods perform better than recursive ones."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802087,"creation_date":1692725826,"answer_id":76955672,"question_id":76955175,"body_markdown":"First, recursion isn&#39;t as efficient as your existing method.  So if anything, you would be de-optimizing you existing solution.  But if this is just an academic question, here is one solution that simply gets rid of the outer loop.\r\n\r\nCall it like this.\r\n```\r\nftc.findDeltaLRecurse(pl, 0, delta);\r\n```\r\n```\r\npublic double findDeltaLRecurse(Point[] pl, int next,\r\n       double delta) {\r\n    if (next &lt; pl.length) {\r\n\r\n       for (int i = next + 1; i &lt; pl.length; i++) {\r\n\r\n           double x12 = pl[next].getX() - pl[i].getX();\r\n           double y12 = pl[next].getY() - pl[i].getY();\r\n\r\n           double delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n\r\n           if (delta &gt;= delta1) {\r\n               delta = delta1;\r\n               this.cp1[0] = pl[i];\r\n               this.cp1[1] = pl[next];\r\n               return findDeltaLRecurse(pl, next + 1,\r\n                        delta);\r\n           }\r\n       }\r\n   }\r\n   return delta;\r\n}\r\n```\r\nNote that the initial value of `delta` was computed outside the method and passed as an argument to avoid re-computing it upon each method call.","title":"How can I transform this method in a recursive call?","body":"<p>First, recursion isn't as efficient as your existing method.  So if anything, you would be de-optimizing you existing solution.  But if this is just an academic question, here is one solution that simply gets rid of the outer loop.</p>\n<p>Call it like this.</p>\n<pre><code>ftc.findDeltaLRecurse(pl, 0, delta);\n</code></pre>\n<pre><code>public double findDeltaLRecurse(Point[] pl, int next,\n       double delta) {\n    if (next &lt; pl.length) {\n\n       for (int i = next + 1; i &lt; pl.length; i++) {\n\n           double x12 = pl[next].getX() - pl[i].getX();\n           double y12 = pl[next].getY() - pl[i].getY();\n\n           double delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n\n           if (delta &gt;= delta1) {\n               delta = delta1;\n               this.cp1[0] = pl[i];\n               this.cp1[1] = pl[next];\n               return findDeltaLRecurse(pl, next + 1,\n                        delta);\n           }\n       }\n   }\n   return delta;\n}\n</code></pre>\n<p>Note that the initial value of <code>delta</code> was computed outside the method and passed as an argument to avoid re-computing it upon each method call.</p>\n"},{"tags":[],"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692727678,"creation_date":1692727678,"answer_id":76955866,"question_id":76955175,"body_markdown":"    public double findDeltaL(Point[] pl) {\r\n\r\n        // not sure what you need to do if pl has only one point or if it null or empty array\r\n        // so i assumed it has at least 2 element\r\n\r\n        if (pl.length == 2) {\r\n            return Math.sqrt(Math.pow(pl[1].getX() - pl[0].getX(), 2) +\r\n                    Math.pow(pl[1].getY() - pl[0].getY(), 2));\r\n        } else {\r\n\r\n            return findDeltaL(pl, 0);\r\n        }\r\n\r\n    }\r\n\r\n    private double findDeltaL(Point[] pl, int currentIndex) {\r\n        if (pl.length == currentIndex + 2) {\r\n            return Math.min(minOfRow(pl, currentIndex));\r\n            // confirm if it the correct order for cp1 and cp2 as i do not know what you do with it\r\n            this.cp1[0] = pl[1];\r\n            this.cp1[1] = pl[0];\r\n        } else {\r\n            return Math.min(minOfRow(pl, currentIndex), findDeltaL(pl, currentIndex + 1));\r\n        }\r\n    }\r\n\r\n    private double minOfRow(Point[] pl, int currentIndex) {\r\n        // delta could be defined as static (maybe final too) field of your class\r\n       // minOFRow could also defined recursive in same way but you need to keep track of index of the current column on the current row also \r\n\r\n        double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\r\n        double delta1;\r\n        for (int i = currentIndex + 1; i &lt; pl.length; i++) {\r\n\r\n            double x12 = pl[currentIndex].getX() - pl[i].getX();\r\n            double y12 = pl[currentIndex].getY() - pl[i].getY();\r\n\r\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n\r\n            if (delta &gt;= delta1) {\r\n\r\n                delta = delta1;\r\n                this.cp1[0] = pl[i];\r\n                this.cp1[1] = pl[currentIndex];\r\n            }\r\n        }\r\n        return delta;\r\n    }\r\n    ","title":"How can I transform this method in a recursive call?","body":"<pre><code>public double findDeltaL(Point[] pl) {\n\n    // not sure what you need to do if pl has only one point or if it null or empty array\n    // so i assumed it has at least 2 element\n\n    if (pl.length == 2) {\n        return Math.sqrt(Math.pow(pl[1].getX() - pl[0].getX(), 2) +\n                Math.pow(pl[1].getY() - pl[0].getY(), 2));\n    } else {\n\n        return findDeltaL(pl, 0);\n    }\n\n}\n\nprivate double findDeltaL(Point[] pl, int currentIndex) {\n    if (pl.length == currentIndex + 2) {\n        return Math.min(minOfRow(pl, currentIndex));\n        // confirm if it the correct order for cp1 and cp2 as i do not know what you do with it\n        this.cp1[0] = pl[1];\n        this.cp1[1] = pl[0];\n    } else {\n        return Math.min(minOfRow(pl, currentIndex), findDeltaL(pl, currentIndex + 1));\n    }\n}\n\nprivate double minOfRow(Point[] pl, int currentIndex) {\n    // delta could be defined as static (maybe final too) field of your class\n   // minOFRow could also defined recursive in same way but you need to keep track of index of the current column on the current row also \n\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\n    double delta1;\n    for (int i = currentIndex + 1; i &lt; pl.length; i++) {\n\n        double x12 = pl[currentIndex].getX() - pl[i].getX();\n        double y12 = pl[currentIndex].getY() - pl[i].getY();\n\n        delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n\n        if (delta &gt;= delta1) {\n\n            delta = delta1;\n            this.cp1[0] = pl[i];\n            this.cp1[1] = pl[currentIndex];\n        }\n    }\n    return delta;\n}\n</code></pre>\n"}],"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692802087,"creation_date":1692721111,"question_id":76955175,"body_markdown":"I have this method and I would to transform it in a recursive call.\r\n\r\n```java\r\npublic double findDeltaL(Point[] pl) {\r\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2)); \r\n    double delta1;\r\n\r\n    for (int j = 0; j &lt; pl.length; j++) {\r\n        for (int i = j + 1; i &lt; pl.length; i++) {\r\n            double x12 = pl[j].getX() - pl[i].getX();\r\n            double y12 = pl[j].getY() - pl[i].getY();\r\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n            if (delta &gt;= delta1) {\r\n                delta = delta1;\r\n                this.cp1[0] = pl[i];\r\n                this.cp1[1] = pl[j];\r\n            }\r\n        }\r\n    }\r\n    return delta;\r\n}\r\n```\r\n\r\nThis method takes an array of points and calculates the minor distance between two points (delta).\r\n\r\nAnd then put the pair of points in a new array (cp[]) that I will recall to print.\r\n\r\nThe pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. \r\nThis method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n].   \r\nLike if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]] Delta: 138.2931668593933 CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]","title":"How can I transform this method in a recursive call?","body":"<p>I have this method and I would to transform it in a recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double findDeltaL(Point[] pl) {\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2)); \n    double delta1;\n\n    for (int j = 0; j &lt; pl.length; j++) {\n        for (int i = j + 1; i &lt; pl.length; i++) {\n            double x12 = pl[j].getX() - pl[i].getX();\n            double y12 = pl[j].getY() - pl[i].getY();\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n            if (delta &gt;= delta1) {\n                delta = delta1;\n                this.cp1[0] = pl[i];\n                this.cp1[1] = pl[j];\n            }\n        }\n    }\n    return delta;\n}\n</code></pre>\n<p>This method takes an array of points and calculates the minor distance between two points (delta).</p>\n<p>And then put the pair of points in a new array (cp[]) that I will recall to print.</p>\n<p>The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point.\nThis method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n].<br />\nLike if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]] Delta: 138.2931668593933 CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":2,"creation_date":1692802266,"post_id":76962491,"comment_id":135674333,"body_markdown":"You are repeating the call to `btn1.setBounds` three times. I assume your are supposed to set bounds for `btn2` and `btn3`?","body":"You are repeating the call to <code>btn1.setBounds</code> three times. I assume your are supposed to set bounds for <code>btn2</code> and <code>btn3</code>?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1692815996,"post_id":76962491,"comment_id":135677003,"body_markdown":"@MartinSieburg *that solved it. * - a better solution is to NOT use a null layout and instead use layout managers. Then the layout manager is responsible for setting the size/location of the buttons. Its easier to maintain and Swing was designed to be used with layout managers.","body":"@MartinSieburg *that solved it. * - a better solution is to NOT use a null layout and instead use layout managers. Then the layout manager is responsible for setting the size/location of the buttons. Its easier to maintain and Swing was designed to be used with layout managers."}],"owner":{"account_id":18093191,"reputation":87,"user_id":13152159,"display_name":"Martin Sieburg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801733,"creation_date":1692801733,"question_id":76962491,"body_markdown":"So I am learning Java with the *IntelliJ* software and am trying to learn how to add multiple ```ActionListeners``` to the program.  \r\nI am using a video from the **Programming Guru** on Youtube to learn this.  \r\nI have followed his steps up until I got to the point where he adds the ```ActionListeners```.  \r\nHowever, at this point, there is only a single Button being displayed in the wrong location.\r\n  \r\n  \r\nHere is the code I have:\r\n```java\r\nimport javax.swing.*\r\nimport java.awt.*\r\n\r\nclass MultipleButtonsEvent {\r\n    public MultipleButtonsEvent(){\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setbounds(0, 0, 500, 500);\r\n        Container container = frame.getContentPane();\r\n\r\n        container.setLayout(null);\r\n\r\n        JButton btn1 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 10, 200, 40);\r\n        container.add(btn1);\r\n\r\n        JButton btn2 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 60, 200, 40);\r\n        container.add(btn2);\r\n\r\n        JButton btn3 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 110, 200, 40);\r\n        container.add(btn3);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MultipleButtonsEvent mbe = new MultipleButtonsEvent();\r\n    }\r\n}\r\n```\r\n\r\nAll I am getting at this time is the correct screen size, however only &#39;Button 1&#39; is displayed with the wrong dimensions and it is nearly positioned just above the centre of the panel.  \r\nAdditionally, when I remove the following line:\r\n```java\r\ncontainer.add(btn1);\r\n```\r\nit gives me a blank screen panel.  \r\n  \r\nCan anyone tell me what I am doing wrong?","title":"Why aren&#39;t all the Buttons being displayed correctly in a Container?","body":"<p>So I am learning Java with the <em>IntelliJ</em> software and am trying to learn how to add multiple <code>ActionListeners</code> to the program.<br />\nI am using a video from the <strong>Programming Guru</strong> on Youtube to learn this.<br />\nI have followed his steps up until I got to the point where he adds the <code>ActionListeners</code>.<br />\nHowever, at this point, there is only a single Button being displayed in the wrong location.</p>\n<p>Here is the code I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*\nimport java.awt.*\n\nclass MultipleButtonsEvent {\n    public MultipleButtonsEvent(){\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setbounds(0, 0, 500, 500);\n        Container container = frame.getContentPane();\n\n        container.setLayout(null);\n\n        JButton btn1 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 10, 200, 40);\n        container.add(btn1);\n\n        JButton btn2 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 60, 200, 40);\n        container.add(btn2);\n\n        JButton btn3 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 110, 200, 40);\n        container.add(btn3);\n\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MultipleButtonsEvent mbe = new MultipleButtonsEvent();\n    }\n}\n</code></pre>\n<p>All I am getting at this time is the correct screen size, however only 'Button 1' is displayed with the wrong dimensions and it is nearly positioned just above the centre of the panel.<br />\nAdditionally, when I remove the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>container.add(btn1);\n</code></pre>\n<p>it gives me a blank screen panel.</p>\n<p>Can anyone tell me what I am doing wrong?</p>\n"},{"tags":["java","logging","websphere"],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801582,"creation_date":1692801582,"question_id":76962466,"body_markdown":"I am using WebSphere Application Server to run jakarta EE applications.\r\n\r\nPreviously, I have used the following style of log initiation:\r\n\r\n`Logger.getLogger(&quot;uk.co.company.app.pkg.classname&quot;)`\r\n\r\nwhich logs against that particular class in the trace.log/SystemOut.log file. additionally, in the WAS console, under `Troubleshooting &gt; Logs and Trace &gt; server &gt; Change log level details &gt; +Components and Groups &gt; + * [All Components]` I can see my class listed as  `uk.co.company.app.pkg.classname.*`, because when I installed the application into WebSphere it took the registered logger and added it to its list of known loggers.\r\n\r\nI am now moving to a different approach for log initialisation, as follows:\r\n\r\n```java\r\n@Inject\r\nprivate Logger logger;\r\n```\r\n\r\nand then a producer that uses the following to get a logger that is relevant for each class: \r\n\r\n```java\r\n@Produces\r\npublic Logger getLogger(InjectionPoint injectionPoint) {\r\n    return LoggerFactory.getLogger(injectionPoint.getMember().getDeclaringClass().getName());}\r\n```\r\n\r\nloggers produced this way don&#39;t register in the WAS console - or at least, mine aren&#39;t -- presumably because they&#39;re created dynamically at injection time. (note also the change from `java.util.logging` to `org.slf4j.logger` which I guess might be clouding things, but I hope not)\r\n\r\nIs there any way to get the loggers to show up?","title":"Registering an injected java logger that can be seen in the WAS console","body":"<p>I am using WebSphere Application Server to run jakarta EE applications.</p>\n<p>Previously, I have used the following style of log initiation:</p>\n<p><code>Logger.getLogger(&quot;uk.co.company.app.pkg.classname&quot;)</code></p>\n<p>which logs against that particular class in the trace.log/SystemOut.log file. additionally, in the WAS console, under <code>Troubleshooting &gt; Logs and Trace &gt; server &gt; Change log level details &gt; +Components and Groups &gt; + * [All Components]</code> I can see my class listed as  <code>uk.co.company.app.pkg.classname.*</code>, because when I installed the application into WebSphere it took the registered logger and added it to its list of known loggers.</p>\n<p>I am now moving to a different approach for log initialisation, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nprivate Logger logger;\n</code></pre>\n<p>and then a producer that uses the following to get a logger that is relevant for each class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces\npublic Logger getLogger(InjectionPoint injectionPoint) {\n    return LoggerFactory.getLogger(injectionPoint.getMember().getDeclaringClass().getName());}\n</code></pre>\n<p>loggers produced this way don't register in the WAS console - or at least, mine aren't -- presumably because they're created dynamically at injection time. (note also the change from <code>java.util.logging</code> to <code>org.slf4j.logger</code> which I guess might be clouding things, but I hope not)</p>\n<p>Is there any way to get the loggers to show up?</p>\n"},{"tags":["java","json-deserialization","jsonparser"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1692805675,"post_id":76962452,"comment_id":135675081,"body_markdown":"Not sure why you put ListDeserializer as an inner class, it should be a top level class or static nested class. Read https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class to understand why you see the error.","body":"Not sure why you put ListDeserializer as an inner class, it should be a top level class or static nested class. Read <a href=\"https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class\" title=\"java inner class and static nested class\">stackoverflow.com/questions/70324/&hellip;</a> to understand why you see the error."}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801489,"creation_date":1692801489,"question_id":76962452,"body_markdown":"I&#39;m trying to set the custom deserialization for my object.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class CtlEntity {\r\n      @JsonProperty(&quot;id&quot;)\r\n      private int id;  \r\n  \r\n      @JsonProperty(&quot;kids&quot;)\r\n      @JsonDeserialize (using = ListDeserializer.class)\r\n      private List&lt;CtlEntity&gt; kids;\r\n\r\n    }\r\n\r\nMy deserializer is:\r\n\r\n      public class ListDeserializer extends StdDeserializer {\r\n\r\n         public ListDeserializer() {\r\n             this(null);\r\n         }\r\n        public ListDeserializer(Class clazz) {\r\n            super(clazz);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;CtlEntity&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n            InnerItems innerItems = jsonParser.readValueAs(InnerItems.class);\r\n            return innerItems.elements;\r\n        }\r\n        private class InnerItems {\r\n            public List&lt;CtlEntity&gt; elements;\r\n        }\r\n      }\r\n\r\nSo I locate my ListDeserializer in CtlEntity as inner class.\r\n\r\nBut receive the error:  \r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Class ru.sber.entity.model.CtlEntity$ListDeserializer has no default (no arg) constructor\r\n\r\nThis answer is not usefull for me: [CustomDeserializer has no default (no arg) constructor][1]\r\n     \r\n\r\n  [1]: https://stackoverflow.com/questions/43214545/customdeserializer-has-no-default-no-arg-constructor","title":"Java JsonMappingException: custom StdDeserializer has no default (no arg) constructor","body":"<p>I'm trying to set the custom deserialization for my object.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class CtlEntity {\n  @JsonProperty(&quot;id&quot;)\n  private int id;  \n\n  @JsonProperty(&quot;kids&quot;)\n  @JsonDeserialize (using = ListDeserializer.class)\n  private List&lt;CtlEntity&gt; kids;\n\n}\n</code></pre>\n<p>My deserializer is:</p>\n<pre><code>  public class ListDeserializer extends StdDeserializer {\n\n     public ListDeserializer() {\n         this(null);\n     }\n    public ListDeserializer(Class clazz) {\n        super(clazz);\n    }\n\n    @Override\n    public List&lt;CtlEntity&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        InnerItems innerItems = jsonParser.readValueAs(InnerItems.class);\n        return innerItems.elements;\n    }\n    private class InnerItems {\n        public List&lt;CtlEntity&gt; elements;\n    }\n  }\n</code></pre>\n<p>So I locate my ListDeserializer in CtlEntity as inner class.</p>\n<p>But receive the error:</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Class ru.sber.entity.model.CtlEntity$ListDeserializer has no default (no arg) constructor\n</code></pre>\n<p>This answer is not usefull for me: <a href=\"https://stackoverflow.com/questions/43214545/customdeserializer-has-no-default-no-arg-constructor\">CustomDeserializer has no default (no arg) constructor</a></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1692802974,"post_id":76962417,"comment_id":135674479,"body_markdown":"It uses BULK feature which bypasses standard inserts which you&#39;re doing. You can use SQLServerBulkCopy class from ms-jdbc driver to achieve similar (albeit slightly worse) performance. Your way generates a lot of inserts which can never match bulk performance","body":"It uses BULK feature which bypasses standard inserts which you&#39;re doing. You can use SQLServerBulkCopy class from ms-jdbc driver to achieve similar (albeit slightly worse) performance. Your way generates a lot of inserts which can never match bulk performance"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1692865516,"post_id":76962417,"comment_id":135682776,"body_markdown":"One thing you can do is manually build sql with a list of values as insert into xyz (...) values (1,2,3),(4,5,6) but it&#39;s still not as good as bulking","body":"One thing you can do is manually build sql with a list of values as insert into xyz (...) values (1,2,3),(4,5,6) but it&#39;s still not as good as bulking"}],"owner":{"account_id":17493469,"reputation":1,"user_id":12685142,"display_name":"Deocareza NoevieJean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801274,"creation_date":1692801274,"question_id":76962417,"body_markdown":"I am trying to replicate the &quot;Import Flat File&quot; functionality of SQL Server Management Studio using Java code. This feature allows me to quickly import CSV files into a SQL Server database. \r\nI have attempted to achieve this using Java with the JdbcTemplate and PreparedStatement, but the import process is significantly slower compared to using SQL Server Management Studio. \r\nFor instance, while SQL Server Management Studio takes around ten minutes to import a CSV file, my Java implementation using JdbcTemplate takes about three hours for the same task.\r\nWhen I turn BATCH_ When the SIZE is increased, the database will report an error : connection closed by server.\r\n\r\nMy code of jdbcTemplate:\r\n\r\n```\r\npublic class CsvImportDemo {\r\n\r\n    private static final String CSV_FILE_PATH = &quot;file.csv&quot;;\r\n    private static final String SQL_INSERT = &quot;INSERT INTO TableA (Column1, Column2, ...) VALUES (?, ?)&quot;;\r\n    private static final int BATCH_SIZE = 100;\r\n\r\n    public static void main(String[] args) {\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(/*data source */);//get by @Autowired\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(CSV_FILE_PATH))) {\r\n            List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();\r\n            String line;\r\n            int rowCount = 0;\r\n\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                Object[] rowArgs = new Object[]{values[0], values[1]}; \r\n                batchArgs.add(rowArgs);\r\n\r\n                rowCount++;\r\n\r\n                if (rowCount % BATCH_SIZE == 0) {\r\n                    jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\r\n                        for (Object[] argsArray : batchArgs) {\r\n                            ps.setObject(1, argsArray[0]);\r\n                            ps.setObject(2, argsArray[1]);\r\n                           \r\n                            ps.addBatch();\r\n                        }\r\n                        ps.executeBatch();\r\n                    });\r\n\r\n                    batchArgs.clear();\r\n                }\r\n            }\r\n\r\n            if (!batchArgs.isEmpty()) {\r\n                jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\r\n                    for (Object[] argsArray : batchArgs) {\r\n                        ps.setObject(1, argsArray[0]);\r\n                        ps.setObject(2, argsArray[1]);\r\n                       \r\n                        ps.addBatch();\r\n                    }\r\n                    ps.executeBatch();\r\n                });\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI would like to understand the underlying principles that make SQL Server Management Studio&#39;s import process so efficient and seek advice on how to implement a Java solution that achieves similar levels of efficiency. Could someone please provide insights or suggestions on how I can optimize my Java code for faster CSV import into SQL Server?\r\n\r\nAny help with this matter would be greatly appreciated. Thank you in advance!\r\n\r\n Optimize my Java code for faster CSV import into SQL Server","title":"Efficiently Importing CSV into SQL Server using Java Comparable to SQL Server Management Studio","body":"<p>I am trying to replicate the &quot;Import Flat File&quot; functionality of SQL Server Management Studio using Java code. This feature allows me to quickly import CSV files into a SQL Server database.\nI have attempted to achieve this using Java with the JdbcTemplate and PreparedStatement, but the import process is significantly slower compared to using SQL Server Management Studio.\nFor instance, while SQL Server Management Studio takes around ten minutes to import a CSV file, my Java implementation using JdbcTemplate takes about three hours for the same task.\nWhen I turn BATCH_ When the SIZE is increased, the database will report an error : connection closed by server.</p>\n<p>My code of jdbcTemplate:</p>\n<pre><code>public class CsvImportDemo {\n\n    private static final String CSV_FILE_PATH = &quot;file.csv&quot;;\n    private static final String SQL_INSERT = &quot;INSERT INTO TableA (Column1, Column2, ...) VALUES (?, ?)&quot;;\n    private static final int BATCH_SIZE = 100;\n\n    public static void main(String[] args) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(/*data source */);//get by @Autowired\n\n        try (BufferedReader br = new BufferedReader(new FileReader(CSV_FILE_PATH))) {\n            List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();\n            String line;\n            int rowCount = 0;\n\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                Object[] rowArgs = new Object[]{values[0], values[1]}; \n                batchArgs.add(rowArgs);\n\n                rowCount++;\n\n                if (rowCount % BATCH_SIZE == 0) {\n                    jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\n                        for (Object[] argsArray : batchArgs) {\n                            ps.setObject(1, argsArray[0]);\n                            ps.setObject(2, argsArray[1]);\n                           \n                            ps.addBatch();\n                        }\n                        ps.executeBatch();\n                    });\n\n                    batchArgs.clear();\n                }\n            }\n\n            if (!batchArgs.isEmpty()) {\n                jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\n                    for (Object[] argsArray : batchArgs) {\n                        ps.setObject(1, argsArray[0]);\n                        ps.setObject(2, argsArray[1]);\n                       \n                        ps.addBatch();\n                    }\n                    ps.executeBatch();\n                });\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>I would like to understand the underlying principles that make SQL Server Management Studio's import process so efficient and seek advice on how to implement a Java solution that achieves similar levels of efficiency. Could someone please provide insights or suggestions on how I can optimize my Java code for faster CSV import into SQL Server?</p>\n<p>Any help with this matter would be greatly appreciated. Thank you in advance!</p>\n<p>Optimize my Java code for faster CSV import into SQL Server</p>\n"},{"tags":["java","google-app-engine","deployment","archive"],"answers":[{"tags":[],"owner":{"account_id":12220645,"reputation":240,"user_id":8919791,"display_name":"V&#237;tor Resende"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692800924,"creation_date":1692800924,"answer_id":76962359,"question_id":76962358,"body_markdown":"As well as did Google tutorial, to deploy a pre-existing WAR or runnable JAR file we need to start setting up an app.yaml file with flexible environment, java runtime and with our jar/war file:\r\n\r\n    runtime: java\r\n    env: flex\r\n    handlers:\r\n      - url: /.*\r\n      script: &lt;file_name&gt;.war\r\n\r\n*N.B.: it assumes your app.yaml file is located in the same folder of your jar/war file.*\r\n\r\nOnce we have our .yaml file we can deploy our application running the following gcloud command (you must have GCP SDK installed or use GCP cloud shell):\r\n\r\n    gcloud app deploy app.yaml\r\n\r\nSimple as you can see, we just need to wait for the deploy process to finish.","title":"Deploying an App Engine application using an archive file [jar/war]","body":"<p>As well as did Google tutorial, to deploy a pre-existing WAR or runnable JAR file we need to start setting up an app.yaml file with flexible environment, java runtime and with our jar/war file:</p>\n<pre><code>runtime: java\nenv: flex\nhandlers:\n  - url: /.*\n  script: &lt;file_name&gt;.war\n</code></pre>\n<p><em>N.B.: it assumes your app.yaml file is located in the same folder of your jar/war file.</em></p>\n<p>Once we have our .yaml file we can deploy our application running the following gcloud command (you must have GCP SDK installed or use GCP cloud shell):</p>\n<pre><code>gcloud app deploy app.yaml\n</code></pre>\n<p>Simple as you can see, we just need to wait for the deploy process to finish.</p>\n"}],"owner":{"account_id":12220645,"reputation":240,"user_id":8919791,"display_name":"V&#237;tor Resende"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962359,"answer_count":1,"score":0,"last_activity_date":1692800924,"creation_date":1692800924,"question_id":76962358,"body_markdown":"Even though we have access to the google documentation about this topic [here][1], I’ve thought hard to follow all the instructions once we need to have Eclipse installed. To make matters worse, I haven’t found anything on the internet that could help me to deploy an .war file using an App Engine of Google Cloud Computing (GCP).\r\n\r\n**Context**\r\n\r\nIn my specific case, I coded an application using Bazel + Guice ([bazel-guice-app][2]) and I didn’t find any easy tutorial explaining how to deploy it without installing anything (of course, we need to install GCP SDK).\r\n\r\n**Goal**\r\n\r\nDeploy an application in App Engine using .war/.jar files.\r\n\r\n  [1]: https://cloud.google.com/eclipse/docs/deploy-flex-jar\r\n  [2]: https://github.com/vitoresende/bazel-guice-app","title":"Deploying an App Engine application using an archive file [jar/war]","body":"<p>Even though we have access to the google documentation about this topic <a href=\"https://cloud.google.com/eclipse/docs/deploy-flex-jar\" rel=\"nofollow noreferrer\">here</a>, I’ve thought hard to follow all the instructions once we need to have Eclipse installed. To make matters worse, I haven’t found anything on the internet that could help me to deploy an .war file using an App Engine of Google Cloud Computing (GCP).</p>\n<p><strong>Context</strong></p>\n<p>In my specific case, I coded an application using Bazel + Guice (<a href=\"https://github.com/vitoresende/bazel-guice-app\" rel=\"nofollow noreferrer\">bazel-guice-app</a>) and I didn’t find any easy tutorial explaining how to deploy it without installing anything (of course, we need to install GCP SDK).</p>\n<p><strong>Goal</strong></p>\n<p>Deploy an application in App Engine using .war/.jar files.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1692714555,"post_id":76954266,"comment_id":135660232,"body_markdown":"Use a sliding window approach. Start from both ends and work towards the center. If two items match, you don&#39;t have to proceed further.","body":"Use a sliding window approach. Start from both ends and work towards the center. If two items match, you don&#39;t have to proceed further."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1692714897,"post_id":76954266,"comment_id":135660301,"body_markdown":"This seems underspecified. If you go strictly by strings, then the first common value would surely have to be &quot;/partA/partB/partC/value&quot;, and the last one &quot;/&quot;. So is there more to what you want? Comparing pairs of strings? Matching by delimiters?","body":"This seems underspecified. If you go strictly by strings, then the first common value would surely have to be &quot;/partA/partB/partC/value&quot;, and the last one &quot;/&quot;. So is there more to what you want? Comparing pairs of strings? Matching by delimiters?"},{"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"score":0,"creation_date":1692715064,"post_id":76954266,"comment_id":135660340,"body_markdown":"Yeah, it&#39;s matching string by delimiter &#39;/&#39;","body":"Yeah, it&#39;s matching string by delimiter &#39;/&#39;"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1692715319,"post_id":76954266,"comment_id":135660395,"body_markdown":"But your code is not considering that. So this is one problem with it.","body":"But your code is not considering that. So this is one problem with it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692715987,"post_id":76954266,"comment_id":135660560,"body_markdown":"What&#39;s the overall goal of the problem you&#39;re describing here? Be wary of the [XY Problem](https://xyproblem.info/). It looks like you are maybe trying to break these down into some kind of tree structure? If so, a literal `Tree&lt;String&gt;` may service you well, or making your own by hand. Barring the `value1` bit in the output, you&#39;re looking essentially at &quot;branches&quot; of a tree with no leaves (end-nodes).","body":"What&#39;s the overall goal of the problem you&#39;re describing here? Be wary of the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It looks like you are maybe trying to break these down into some kind of tree structure? If so, a literal <code>Tree&lt;String&gt;</code> may service you well, or making your own by hand. Barring the <code>value1</code> bit in the output, you&#39;re looking essentially at &quot;branches&quot; of a tree with no leaves (end-nodes)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692716030,"post_id":76954266,"comment_id":135660570,"body_markdown":"These all have a longest common prefix of `&quot;/part&quot;`, why isn&#39;t that the answer?","body":"These all have a longest common prefix of <code>&quot;&#47;part&quot;</code>, why isn&#39;t that the answer?"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692717244,"creation_date":1692717244,"answer_id":76954716,"question_id":76954266,"body_markdown":"You could tokenize all the paths, loop over each path, and for each path, loop through the other paths.\r\n\r\nJust compare them at index 1 and work your way to the right until they no longer match. Store the path inside of a set.\r\n\r\nBased on your desired output, you want a common path for each of the first parts i.e., `partA`, `partD`, `partG`, and `partJ`.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\npublic class LongestCommonPath {\r\n  public static void main(String[] args) {\r\n    String arr[] = {\r\n        &quot;/partA/partB/partC/value1&quot;, &quot;/partA/partB/partC/value2&quot;,\r\n        &quot;/partD/partE/partF/value1&quot;, &quot;/partD/partE/partF/value2&quot;,\r\n        &quot;/partG/partH/partI/value1&quot;, &quot;/partG/value2&quot;,\r\n        &quot;/partJ/value1&quot;\r\n    };\r\n\r\n    for (String path : longestCommonPaths(1, &quot;/&quot;, arr)) {\r\n      System.out.println(path);\r\n    }\r\n  }\r\n\r\n  public static List&lt;String&gt; longestCommonPaths(int offset, String delimiter, String... paths) {\r\n    Set&lt;String&gt; result = new LinkedHashSet&lt;&gt;();\r\n    List&lt;List&lt;String&gt;&gt; tokenizedPaths = Stream.of(paths).map(path -&gt; tokenizePath(path, delimiter)).collect(Collectors.toList());\r\n    for (List&lt;String&gt; currPath : tokenizedPaths) {\r\n      boolean found = false;\r\n      for (List&lt;String&gt; otherPath : tokenizedPaths) {\r\n        if (currPath != otherPath &amp;&amp; currPath.get(offset).equals(otherPath.get(offset))) {\r\n          result.add(commonPath(currPath, otherPath).stream().collect(Collectors.joining(delimiter)));\r\n          found = true;\r\n        }\r\n      }\r\n      if (!found) {\r\n        result.add(currPath.stream().collect(Collectors.joining(delimiter)));\r\n        found = false;\r\n      }\r\n    }\r\n    return new ArrayList&lt;&gt;(result);\r\n  }\r\n\r\n  private static List&lt;String&gt; commonPath(List&lt;String&gt; path, List&lt;String&gt; otherPath) {\r\n    int index = 0;\r\n    while (index &lt; path.size() &amp;&amp; index &lt; otherPath.size() &amp;&amp; path.get(index).equals(otherPath.get(index))) {\r\n      index++;\r\n    }\r\n    return path.subList(0, index);\r\n  }\r\n\r\n  private static List&lt;String&gt; tokenizePath(String path, String delimiter) {\r\n    return Stream.of(path.split(delimiter)).collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<p>You could tokenize all the paths, loop over each path, and for each path, loop through the other paths.</p>\n<p>Just compare them at index 1 and work your way to the right until they no longer match. Store the path inside of a set.</p>\n<p>Based on your desired output, you want a common path for each of the first parts i.e., <code>partA</code>, <code>partD</code>, <code>partG</code>, and <code>partJ</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class LongestCommonPath {\n  public static void main(String[] args) {\n    String arr[] = {\n        &quot;/partA/partB/partC/value1&quot;, &quot;/partA/partB/partC/value2&quot;,\n        &quot;/partD/partE/partF/value1&quot;, &quot;/partD/partE/partF/value2&quot;,\n        &quot;/partG/partH/partI/value1&quot;, &quot;/partG/value2&quot;,\n        &quot;/partJ/value1&quot;\n    };\n\n    for (String path : longestCommonPaths(1, &quot;/&quot;, arr)) {\n      System.out.println(path);\n    }\n  }\n\n  public static List&lt;String&gt; longestCommonPaths(int offset, String delimiter, String... paths) {\n    Set&lt;String&gt; result = new LinkedHashSet&lt;&gt;();\n    List&lt;List&lt;String&gt;&gt; tokenizedPaths = Stream.of(paths).map(path -&gt; tokenizePath(path, delimiter)).collect(Collectors.toList());\n    for (List&lt;String&gt; currPath : tokenizedPaths) {\n      boolean found = false;\n      for (List&lt;String&gt; otherPath : tokenizedPaths) {\n        if (currPath != otherPath &amp;&amp; currPath.get(offset).equals(otherPath.get(offset))) {\n          result.add(commonPath(currPath, otherPath).stream().collect(Collectors.joining(delimiter)));\n          found = true;\n        }\n      }\n      if (!found) {\n        result.add(currPath.stream().collect(Collectors.joining(delimiter)));\n        found = false;\n      }\n    }\n    return new ArrayList&lt;&gt;(result);\n  }\n\n  private static List&lt;String&gt; commonPath(List&lt;String&gt; path, List&lt;String&gt; otherPath) {\n    int index = 0;\n    while (index &lt; path.size() &amp;&amp; index &lt; otherPath.size() &amp;&amp; path.get(index).equals(otherPath.get(index))) {\n      index++;\n    }\n    return path.subList(0, index);\n  }\n\n  private static List&lt;String&gt; tokenizePath(String path, String delimiter) {\n    return Stream.of(path.split(delimiter)).collect(Collectors.toList());\n  }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692764730,"creation_date":1692762643,"answer_id":76958151,"question_id":76954266,"body_markdown":"&gt; _&quot;... I&#39;m trying to fetch the unique longest common substring element information from an array. ...&quot;_\r\n\r\n&gt; _&quot;... From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. ...&quot;_\r\n\r\nSo, the longest common prefix of each value.  \r\nYou&#39;ll need additional code; a &quot;longest common prefix&quot; code will return one value, in this case &quot;/part&quot;.\r\n\r\nYou&#39;ll need to traverse _arr_ and additionally sub-traverse the other items.  \r\nIn this example the prefix value is added to a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_, and then removed when a longer _string_ is found.  \r\nI then added the list to a _[Set](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html)_, to remove any duplicate values.\r\n\r\n```java\r\nString arr[] = {\r\n    &quot;/partA/partB/partC/value1&quot;,\r\n    &quot;/partA/partB/partC/value2&quot;,\r\n    &quot;/partD/partE/partF/value1&quot;,\r\n    &quot;/partD/partE/partF/value2&quot;,\r\n    &quot;/partG/partH/partI/value1&quot;,\r\n    &quot;/partG/value2&quot;,\r\n    &quot;/partJ/value1&quot;\r\n};\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nString string;\r\nint maximum;\r\nfor (int a = 0, b; a &lt; arr.length; a++) {\r\n    maximum = 0;\r\n    for (b = 0; b &lt; arr.length; b++) {\r\n        if (a == b) continue;\r\n        string = longestCommonPrefix(arr[a], arr[b]);\r\n        if (string.length() &gt; maximum) {\r\n            if (maximum != 0) list.remove(list.size() - 1);\r\n            list.add(string);\r\n            maximum = string.length();\r\n        }\r\n    }\r\n    if (maximum == 0) list.add(arr[a]);\r\n}\r\nnew TreeSet&lt;&gt;(list).forEach(System.out::println);\r\n```\r\n\r\nI&#39;m using a &quot;longest common prefix&quot; routine from _Google AI_; it&#39;s similar to what you have.  \r\nI&#39;ve adjusted it to check for a `/`, since you&#39;re looking to evaluate each field of the delimited values.  \r\nIn other words, if it&#39;s not the entire value, return up to the last `/` character of the prefix.\r\n\r\n```java\r\nString longestCommonPrefix(String a, String b) {\r\n    int index, length = Math.min(a.length(), b.length());\r\n    for (index = 0; index &lt; length; index++) {\r\n        if (a.charAt(index) != b.charAt(index)) break;\r\n    }\r\n    if (index == a.length()) return a.substring(0, index);\r\n    else {\r\n        int indexOf = a.substring(0, index).lastIndexOf(&#39;/&#39;);\r\n        if (indexOf != -1) return a.substring(0, indexOf);\r\n        else return a.substring(0, 1);\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<blockquote>\n<p><em>&quot;... I'm trying to fetch the unique longest common substring element information from an array. ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. ...&quot;</em></p>\n</blockquote>\n<p>So, the longest common prefix of each value.<br />\nYou'll need additional code; a &quot;longest common prefix&quot; code will return one value, in this case &quot;/part&quot;.</p>\n<p>You'll need to traverse <em>arr</em> and additionally sub-traverse the other items.<br />\nIn this example the prefix value is added to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>, and then removed when a longer <em>string</em> is found.<br />\nI then added the list to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></em>, to remove any duplicate values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String arr[] = {\n    &quot;/partA/partB/partC/value1&quot;,\n    &quot;/partA/partB/partC/value2&quot;,\n    &quot;/partD/partE/partF/value1&quot;,\n    &quot;/partD/partE/partF/value2&quot;,\n    &quot;/partG/partH/partI/value1&quot;,\n    &quot;/partG/value2&quot;,\n    &quot;/partJ/value1&quot;\n};\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nString string;\nint maximum;\nfor (int a = 0, b; a &lt; arr.length; a++) {\n    maximum = 0;\n    for (b = 0; b &lt; arr.length; b++) {\n        if (a == b) continue;\n        string = longestCommonPrefix(arr[a], arr[b]);\n        if (string.length() &gt; maximum) {\n            if (maximum != 0) list.remove(list.size() - 1);\n            list.add(string);\n            maximum = string.length();\n        }\n    }\n    if (maximum == 0) list.add(arr[a]);\n}\nnew TreeSet&lt;&gt;(list).forEach(System.out::println);\n</code></pre>\n<p>I'm using a &quot;longest common prefix&quot; routine from <em>Google AI</em>; it's similar to what you have.<br />\nI've adjusted it to check for a <code>/</code>, since you're looking to evaluate each field of the delimited values.<br />\nIn other words, if it's not the entire value, return up to the last <code>/</code> character of the prefix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String longestCommonPrefix(String a, String b) {\n    int index, length = Math.min(a.length(), b.length());\n    for (index = 0; index &lt; length; index++) {\n        if (a.charAt(index) != b.charAt(index)) break;\n    }\n    if (index == a.length()) return a.substring(0, index);\n    else {\n        int indexOf = a.substring(0, index).lastIndexOf('/');\n        if (indexOf != -1) return a.substring(0, indexOf);\n        else return a.substring(0, 1);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692770650,"creation_date":1692769591,"answer_id":76958567,"question_id":76954266,"body_markdown":"The solution could be done with `O(nlogn)` complexity using search tree data structure.\r\n \r\n```java\r\npublic static List&lt;String&gt; findCommonPrefix(String... paths) {\r\n    Node root = buildTree(paths);\r\n    return dfs(root);\r\n}\r\n\r\nprivate static List&lt;String&gt; dfs(Node root) {\r\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n    Deque&lt;String&gt; stack = new LinkedList&lt;&gt;();\r\n\r\n    for (Node node : root.children.values())\r\n        dfs(node, stack, res);\r\n\r\n    return res;\r\n}\r\n\r\nprivate static void dfs(Node node, Deque&lt;String&gt; queue, List&lt;String&gt; res) {\r\n    queue.add(node.data);\r\n\r\n    if (node.children.size() == 1)\r\n        dfs(node.children.values().iterator().next(), queue, res);\r\n    else\r\n        res.add(queue.stream().collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;)));\r\n    \r\n    queue.remove();\r\n}\r\n\r\nprivate static Node buildTree(String... paths) {\r\n    Node root = new Node(&quot;/&quot;);\r\n\r\n    for (String path : paths)\r\n        addNode(root, path.split(&quot;/&quot;), 1);\r\n   \r\n\r\n    return root;\r\n}\r\n\r\nprivate static Node addNode(Node parent, String[] parts, int i) {\r\n    if (parts.length &gt; i) {\r\n        Node node = parent.children.computeIfAbsent(parts[i], Node::new);\r\n        return addNode(node, parts, i + 1);\r\n    }\r\n\r\n    return parent;\r\n}\r\n\r\n@RequiredArgsConstructor\r\nprivate static final class Node {\r\n\r\n    private final String data;\r\n    private final Map&lt;String, Node&gt; children = new HashMap&lt;&gt;();\r\n\r\n}\r\n```\r\n**Output:**\r\n```\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<p>The solution could be done with <code>O(nlogn)</code> complexity using search tree data structure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; findCommonPrefix(String... paths) {\n    Node root = buildTree(paths);\n    return dfs(root);\n}\n\nprivate static List&lt;String&gt; dfs(Node root) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    Deque&lt;String&gt; stack = new LinkedList&lt;&gt;();\n\n    for (Node node : root.children.values())\n        dfs(node, stack, res);\n\n    return res;\n}\n\nprivate static void dfs(Node node, Deque&lt;String&gt; queue, List&lt;String&gt; res) {\n    queue.add(node.data);\n\n    if (node.children.size() == 1)\n        dfs(node.children.values().iterator().next(), queue, res);\n    else\n        res.add(queue.stream().collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;)));\n    \n    queue.remove();\n}\n\nprivate static Node buildTree(String... paths) {\n    Node root = new Node(&quot;/&quot;);\n\n    for (String path : paths)\n        addNode(root, path.split(&quot;/&quot;), 1);\n   \n\n    return root;\n}\n\nprivate static Node addNode(Node parent, String[] parts, int i) {\n    if (parts.length &gt; i) {\n        Node node = parent.children.computeIfAbsent(parts[i], Node::new);\n        return addNode(node, parts, i + 1);\n    }\n\n    return parent;\n}\n\n@RequiredArgsConstructor\nprivate static final class Node {\n\n    private final String data;\n    private final Map&lt;String, Node&gt; children = new HashMap&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"}],"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":76954716,"answer_count":3,"score":2,"last_activity_date":1692800877,"creation_date":1692714226,"question_id":76954266,"body_markdown":"I&#39;m trying to fetch the unique longest common substring element information from an array.\r\n\r\n    String arr[] = { \r\n    &quot;/partA/partB/partC/value1&quot;,\r\n    &quot;/partA/partB/partC/value2&quot;,\r\n    &quot;/partD/partE/partF/value1&quot;,\r\n    &quot;/partD/partE/partF/value2&quot;,\r\n    &quot;/partG/partH/partI/value1&quot;,\r\n    &quot;/partG/value2&quot;,\r\n    &quot;/partJ/value1&quot; \r\n    }\r\n\r\nFrom the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. Like wise, the 3rd and 4th elements have the common value as &quot;/partD/partE/partF&quot; the 5th and 6th have the common value as /partG,&quot; and the 7th doesn&#39;t have any common value with the other elements, so it should print as &quot;/partJ/value1.&quot;  The final output should be mentioned below,\r\n\r\n    [ &quot;/partA/partB/partC&quot;,\r\n      &quot;/partD/partE/partF&quot;,\r\n      &quot;/partG&quot;,\r\n      &quot;/partJ/value1&quot;\r\n    ]\r\n\r\nFor this, I&#39;m comparing and trying to find the longest common substring, something like below, but  bot getting the desired output.\r\n\r\n     \r\n\r\n    while(idx &lt; s1.length() &amp;&amp; idx &lt; s2.length()){\r\n            if(s1.charAt(idx) == s2.charAt(idx)){\r\n                idx++;\r\n            } else {\r\n                break;\r\n            }\r\n         }\r\n         s1.substring(0, idx);","title":"Get the unique longest common prefix element info from array in java","body":"<p>I'm trying to fetch the unique longest common substring element information from an array.</p>\n<pre><code>String arr[] = { \n&quot;/partA/partB/partC/value1&quot;,\n&quot;/partA/partB/partC/value2&quot;,\n&quot;/partD/partE/partF/value1&quot;,\n&quot;/partD/partE/partF/value2&quot;,\n&quot;/partG/partH/partI/value1&quot;,\n&quot;/partG/value2&quot;,\n&quot;/partJ/value1&quot; \n}\n</code></pre>\n<p>From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. Like wise, the 3rd and 4th elements have the common value as &quot;/partD/partE/partF&quot; the 5th and 6th have the common value as /partG,&quot; and the 7th doesn't have any common value with the other elements, so it should print as &quot;/partJ/value1.&quot;  The final output should be mentioned below,</p>\n<pre><code>[ &quot;/partA/partB/partC&quot;,\n  &quot;/partD/partE/partF&quot;,\n  &quot;/partG&quot;,\n  &quot;/partJ/value1&quot;\n]\n</code></pre>\n<p>For this, I'm comparing and trying to find the longest common substring, something like below, but  bot getting the desired output.</p>\n<pre><code>while(idx &lt; s1.length() &amp;&amp; idx &lt; s2.length()){\n        if(s1.charAt(idx) == s2.charAt(idx)){\n            idx++;\n        } else {\n            break;\n        }\n     }\n     s1.substring(0, idx);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641290626,"post_id":70576485,"comment_id":124761048,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641293781,"post_id":70576485,"comment_id":124762131,"body_markdown":"the app is crashing at com.example.whatsappclone.MainActivity$1.onDataChange(MainActivity.java:46) which is                 \nUser user = snapshot1.getValue(User.class);","body":"the app is crashing at com.example.whatsappclone.MainActivity$1.onDataChange(MainAc&zwnj;&#8203;tivity.java:46) which is                  User user = snapshot1.getValue(User.class);"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641294483,"post_id":70576485,"comment_id":124762377,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641295468,"post_id":70576485,"comment_id":124762690,"body_markdown":"Please Check Sir","body":"Please Check Sir"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641296829,"creation_date":1641296829,"answer_id":70578314,"question_id":70576485,"body_markdown":"You are getting the following error:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User\r\n\r\nBecause under your &quot;users&quot; there aren&#39;t only User objects, there are also strings:\r\n\r\n```\r\n&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\r\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\r\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\r\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\r\n```\r\n\r\nWhen you are using the following line of code:\r\n\r\n    User user = snapshot1.getValue(User.class);\r\n\r\nIt means that you are trying to map each child into an object of type `User`, which isn&#39;t possible since you are mixing `User` objects with strings, hence that error. The simplest solution would be to remove all those strings and make sure you have only `User` objects under the &quot;users&quot; node. The code looks good to me.\r\n\r\nSee, all these children exist right under the &quot;users&quot; node.","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.whatsappclone.User</p>\n</blockquote>\n<p>Because under your &quot;users&quot; there aren't only User objects, there are also strings:</p>\n<pre><code>&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\n</code></pre>\n<p>When you are using the following line of code:</p>\n<pre><code>User user = snapshot1.getValue(User.class);\n</code></pre>\n<p>It means that you are trying to map each child into an object of type <code>User</code>, which isn't possible since you are mixing <code>User</code> objects with strings, hence that error. The simplest solution would be to remove all those strings and make sure you have only <code>User</code> objects under the &quot;users&quot; node. The code looks good to me.</p>\n<p>See, all these children exist right under the &quot;users&quot; node.</p>\n"},{"tags":[],"owner":{"account_id":16185541,"reputation":130,"user_id":11685790,"display_name":"Aly Abdelaal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666036493,"creation_date":1666036493,"answer_id":74102552,"question_id":70576485,"body_markdown":"if ```&quot;users&quot;``` is first layer of database children it will be a reference\r\ninstead of \r\n```\r\ndatabase.getReference().child(&quot;users&quot;).addValueEventListener ...\r\n\r\n```\r\nuse\r\n```\r\ndatabase.getReference(&quot;users&quot;).addValueEventListener ...\r\n\r\n```\r\n\r\nif ```&quot;users&quot;``` is a child or an upper reference\r\n```\r\ndatabase.getReference(&quot;upperReference&quot;).child(&quot;users&quot;).addValueEventListener ...\r\n\r\n```","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>if <code>&quot;users&quot;</code> is first layer of database children it will be a reference\ninstead of</p>\n<pre><code>database.getReference().child(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n<p>use</p>\n<pre><code>database.getReference(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n<p>if <code>&quot;users&quot;</code> is a child or an upper reference</p>\n<pre><code>database.getReference(&quot;upperReference&quot;).child(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20745195,"reputation":1,"user_id":15233930,"display_name":"Jay Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692800814,"creation_date":1692587035,"answer_id":76942150,"question_id":70576485,"body_markdown":"This is occurring because there is a requirement to transform your data into a Firebase node. I have coded the same in java ,and it is working fine \r\n\r\nThis should be your firebase  hierarchy\r\n[Check this image  , in this under the user child we have one another key which is your uID ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z5Za0.png\r\n\r\nThe error you&#39;re encountering will be resolved when you update the current code with the following modification:\r\n\r\n```java\r\ndatabase\r\n    .getReference()\r\n    .child(&quot;users&quot;)\r\n    .child(uid)\r\n    .setValue(user)\r\n    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            Intent intent= new Intent(SetUpProfileActivity.this,ActivityMainChat.class);\r\n            startActivity(intent);\r\n        }\r\n});\r\n```\r\n\r\nMake sure you add `.child(uid)` \r\n\r\n```java\r\ndatabase.getReference().child(&quot;users&quot;).child(uid).setValue(user)...\r\n```\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>This is occurring because there is a requirement to transform your data into a Firebase node. I have coded the same in java ,and it is working fine</p>\n<p>This should be your firebase  hierarchy\n<a href=\"https://i.stack.imgur.com/z5Za0.png\" rel=\"nofollow noreferrer\">Check this image  , in this under the user child we have one another key which is your uID </a></p>\n<p>The error you're encountering will be resolved when you update the current code with the following modification:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database\n    .getReference()\n    .child(&quot;users&quot;)\n    .child(uid)\n    .setValue(user)\n    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            Intent intent= new Intent(SetUpProfileActivity.this,ActivityMainChat.class);\n            startActivity(intent);\n        }\n});\n</code></pre>\n<p>Make sure you add <code>.child(uid)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>database.getReference().child(&quot;users&quot;).child(uid).setValue(user)...\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70578314,"answer_count":3,"score":0,"last_activity_date":1692800814,"creation_date":1641288008,"question_id":70576485,"body_markdown":"I am not able to retrieve data from Firebase it always crashes saying:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object\r\n&gt; of type java.lang.String to type com.example.whatsappclone.User\r\n\r\nThis is My Model Class\r\n\r\n    public class User {\r\n\r\n    String uid, name, phoneNumber, profileImage;\r\n\r\n    public User()\r\n    {\r\n\r\n    }\r\n\r\n    public User(String uid, String name, String phoneNumber, String profileImage) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.phoneNumber = phoneNumber;\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getProfileImage() {\r\n        return profileImage;\r\n    }\r\n\r\n    public void setProfileImage(String profileImage) {\r\n        this.profileImage = profileImage;\r\n    }\r\n}\r\n\r\n\r\n    \r\n\r\nThis is My ViewHolder Class\r\n\r\n\r\n    public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt; {\r\n\r\n\r\n    Context context;\r\n    ArrayList&lt;User&gt; users;\r\n    public UsersAdapter(Context context, ArrayList&lt;User&gt;users) {\r\n        this.context = context;\r\n        this.users = users;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(context).inflate(R.layout.conversation_layout, parent, false);\r\n\r\n        return new UsersViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\r\n\r\n        User user = users.get(position);\r\n        holder.binding.userName.setText(user.getName());\r\n\r\n        Glide.with(context).load(user.getProfileImage())\r\n                .into(holder.binding.profile);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    public class UsersViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ConversationLayoutBinding binding;\r\n\r\n        public UsersViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            binding = ConversationLayoutBinding.bind(itemView);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nThis is My MainActivity\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseDatabase database;\r\n    ArrayList&lt;User&gt; users;\r\n    UsersAdapter usersAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        users = new ArrayList&lt;&gt;();\r\n\r\n        usersAdapter = new UsersAdapter(this, users);\r\n        binding.recyclerView.setAdapter(usersAdapter);\r\n\r\n        database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                users.clear();\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren())\r\n                {\r\n                    User user = snapshot1.getValue(User.class);\r\n                    users.add(user);\r\n\r\n                }\r\n                usersAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nMy Firebase database Structured\r\n\r\n    \r\n[Firebase Database Strucuture][1]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFxy7.png\r\n\r\n\r\nFirebase JSON\r\n\r\n   \r\n\r\n    { &quot;users&quot; : {\r\n    &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot; : {\r\n      &quot;name&quot; : &quot;Rahul Singh&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+918350877517&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=55fcdc75-da0c-43f5-8f9c-44bfa7df500f&quot;,\r\n      &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;\r\n    },\r\n    &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot; : {\r\n      &quot;name&quot; : &quot;Alok Bhai&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919886542409&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FCO6Yw59BHweNJ03UdbcsGq4kyXY2?alt=media&amp;token=b006e40d-e8df-4b96-9165-d980cd018af3&quot;,\r\n      &quot;uid&quot; : &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot;\r\n    },\r\n    &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot; : {\r\n      &quot;name&quot; : &quot;radhe govind&#39;&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+916378757808&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot;\r\n    },\r\n    &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot; : {\r\n      &quot;name&quot; : &quot;Mohit Dada&#128170;&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+917853471027&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FNOt57HC59DZm1s5XaBk0mHb9H553?alt=media&amp;token=6aba255c-5f96-4ba1-a4a4-b998d3ae5b4a&quot;,\r\n      &quot;uid&quot; : &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot;\r\n    },\r\n    &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot; : {\r\n      &quot;name&quot; : &quot;Alok Singh Deshwal&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919960726182&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot;\r\n    },\r\n    &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot; : {\r\n      &quot;name&quot; : &quot;Anku Bhai&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919094974311&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FZIcwyjMGC3Yk5GrT7vIeTxphQPt2?alt=media&amp;token=5773be33-d610-4f8d-8bbd-d655e5228666&quot;,\r\n      &quot;uid&quot; : &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot;\r\n    },\r\n    &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot; : {\r\n      &quot;name&quot; : &quot;Prinshu&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+91989600555&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FkE3i5DsP9DTorG5DkJ4Vy7nArwZ2?alt=media&amp;token=e4d13d95-3906-4bdf-aaac-028816e490d5&quot;,\r\n      &quot;uid&quot; : &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot;\r\n    },\r\n    &quot;name&quot; : &quot;Vivek Fauzdar&quot;,\r\n    &quot;phoneNumber&quot; : &quot;+916486627517&quot;,\r\n    &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\r\n    &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\r\n    &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot; : {\r\n      &quot;name&quot; : &quot;Om Swami&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n  \r\n\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>I am not able to retrieve data from Firebase it always crashes saying:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object\nof type java.lang.String to type com.example.whatsappclone.User</p>\n</blockquote>\n<p>This is My Model Class</p>\n<pre><code>public class User {\n\nString uid, name, phoneNumber, profileImage;\n\npublic User()\n{\n\n}\n\npublic User(String uid, String name, String phoneNumber, String profileImage) {\n    this.uid = uid;\n    this.name = name;\n    this.phoneNumber = phoneNumber;\n    this.profileImage = profileImage;\n}\n\npublic String getUid() {\n    return uid;\n}\n\npublic void setUid(String uid) {\n    this.uid = uid;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getPhoneNumber() {\n    return phoneNumber;\n}\n\npublic void setPhoneNumber(String phoneNumber) {\n    this.phoneNumber = phoneNumber;\n}\n\npublic String getProfileImage() {\n    return profileImage;\n}\n\npublic void setProfileImage(String profileImage) {\n    this.profileImage = profileImage;\n}\n</code></pre>\n<p>}</p>\n<p>This is My ViewHolder Class</p>\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt; {\n\n\nContext context;\nArrayList&lt;User&gt; users;\npublic UsersAdapter(Context context, ArrayList&lt;User&gt;users) {\n    this.context = context;\n    this.users = users;\n}\n\n@NonNull\n@Override\npublic UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(context).inflate(R.layout.conversation_layout, parent, false);\n\n    return new UsersViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\n\n    User user = users.get(position);\n    holder.binding.userName.setText(user.getName());\n\n    Glide.with(context).load(user.getProfileImage())\n            .into(holder.binding.profile);\n\n}\n\n@Override\npublic int getItemCount() {\n    return users.size();\n}\n\npublic class UsersViewHolder extends RecyclerView.ViewHolder {\n\n    ConversationLayoutBinding binding;\n\n    public UsersViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        binding = ConversationLayoutBinding.bind(itemView);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>This is My MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nActivityMainBinding binding;\nFirebaseDatabase database;\nArrayList&lt;User&gt; users;\nUsersAdapter usersAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    database = FirebaseDatabase.getInstance();\n    users = new ArrayList&lt;&gt;();\n\n    usersAdapter = new UsersAdapter(this, users);\n    binding.recyclerView.setAdapter(usersAdapter);\n\n    database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            users.clear();\n            for (DataSnapshot snapshot1 : snapshot.getChildren())\n            {\n                User user = snapshot1.getValue(User.class);\n                users.add(user);\n\n            }\n            usersAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>My Firebase database Structured</p>\n<p><a href=\"https://i.stack.imgur.com/rFxy7.png\" rel=\"nofollow noreferrer\">Firebase Database Strucuture</a></p>\n<p>Firebase JSON</p>\n<pre><code>{ &quot;users&quot; : {\n&quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot; : {\n  &quot;name&quot; : &quot;Rahul Singh&quot;,\n  &quot;phoneNumber&quot; : &quot;+918350877517&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=55fcdc75-da0c-43f5-8f9c-44bfa7df500f&quot;,\n  &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;\n},\n&quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot; : {\n  &quot;name&quot; : &quot;Alok Bhai&quot;,\n  &quot;phoneNumber&quot; : &quot;+919886542409&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FCO6Yw59BHweNJ03UdbcsGq4kyXY2?alt=media&amp;token=b006e40d-e8df-4b96-9165-d980cd018af3&quot;,\n  &quot;uid&quot; : &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot;\n},\n&quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot; : {\n  &quot;name&quot; : &quot;radhe govind'&quot;,\n  &quot;phoneNumber&quot; : &quot;+916378757808&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot;\n},\n&quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot; : {\n  &quot;name&quot; : &quot;Mohit Dada💪&quot;,\n  &quot;phoneNumber&quot; : &quot;+917853471027&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FNOt57HC59DZm1s5XaBk0mHb9H553?alt=media&amp;token=6aba255c-5f96-4ba1-a4a4-b998d3ae5b4a&quot;,\n  &quot;uid&quot; : &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot;\n},\n&quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot; : {\n  &quot;name&quot; : &quot;Alok Singh Deshwal&quot;,\n  &quot;phoneNumber&quot; : &quot;+919960726182&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot;\n},\n&quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot; : {\n  &quot;name&quot; : &quot;Anku Bhai&quot;,\n  &quot;phoneNumber&quot; : &quot;+919094974311&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FZIcwyjMGC3Yk5GrT7vIeTxphQPt2?alt=media&amp;token=5773be33-d610-4f8d-8bbd-d655e5228666&quot;,\n  &quot;uid&quot; : &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot;\n},\n&quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot; : {\n  &quot;name&quot; : &quot;Prinshu&quot;,\n  &quot;phoneNumber&quot; : &quot;+91989600555&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FkE3i5DsP9DTorG5DkJ4Vy7nArwZ2?alt=media&amp;token=e4d13d95-3906-4bdf-aaac-028816e490d5&quot;,\n  &quot;uid&quot; : &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot;\n},\n&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\n&quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot; : {\n  &quot;name&quot; : &quot;Om Swami&quot;,\n  &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot;\n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","apache-beam","avro","apache-beam-kafkaio"],"owner":{"account_id":1741477,"reputation":33,"user_id":1592753,"display_name":"pravish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692800755,"creation_date":1692800755,"question_id":76962330,"body_markdown":"I have a typical KafkaIO based source for reading Avro formatted key and value from a Kafka topic.\r\n\r\n```\r\nPCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt; records =\r\n    pipeline.apply(\r\n        &quot;Read from Kafka&quot;,\r\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\r\n                .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\r\n                .withConsumerConfigUpdates(\r\n                    ImmutableMap.copyOf(consumerConfigUpdates)\r\n                )\r\n                .withBootstrapServers(options.getBootstrapServer())\r\n                .withTopics(topicsList)\r\n                .withKeyDeserializer(\r\n                    ConfluentSchemaRegistryDeserializerProvider.of(\r\n                        options.getSchemaRegistryUrl(),\r\n                        options.getInputTopic()+&quot;-key&quot;\r\n                    )\r\n                )\r\n                .withValueDeserializer(\r\n                    ConfluentSchemaRegistryDeserializerProvider.of(\r\n                        options.getSchemaRegistryUrl(),\r\n                        options.getInputTopic()+&quot;-value&quot;)\r\n                )\r\n    );\r\n```\r\nThe issue is that the values can be null for some of the events and the Avro Schema doesn&#39;t allow the values to be null and thus this throws an exception causing the pipeline to halt. I&#39;m ok with logging the keys for null values and moving on with the correct values in my pipeline.\r\n\r\n\r\n\r\nI figured that I could NOT deserialize at the source and instead filter out the null Values and then work with only the non-null records.\r\n\r\n```\r\npipeline.apply(\r\n    &quot;Read from Kafka&quot;,\r\n    KafkaIO.&lt;byte[], byte[]&gt;read()\r\n        .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\r\n        .withConsumerConfigUpdates(\r\n                ImmutableMap.copyOf(consumerConfigUpdates)\r\n        )\r\n        .withBootstrapServers(options.getBootstrapServer())\r\n        .withTopics(topicsList)\r\n        .withKeyDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\r\n        .withValueDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\r\n)\r\n.apply(&quot;filter non-null payloads&quot;,\r\n    ParDo.of(new FilterNonNullPayloads(nullPayloadTag))\r\n        .withOutputTags(deserializedAvroOutputTag, TupleTagList.of(nullPayloadTag))\r\n)\r\n.get(deserializedAvroOutputTag)\r\n.apply(ParDo.of(new DeserializeKeyValueToGenericRecord(keyAvroSchema, valueAvroSchema)))\r\n.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))\r\n.apply(\r\n    MapElements\r\n        .into(TypeDescriptors.strings())\r\n        .via(e -&gt; e.toString())\r\n)\r\n.apply(new ConsoleWriter&lt;String&gt;());\r\n```\r\n\r\nThe `DeserializeKeyValueToGenericRecord` is a DoFn as follows - \r\n```\r\npublic class DeserializeKeyValueToGenericRecord extends DoFn&lt;KafkaRecord&lt;byte[], byte[]&gt;, KV&lt;GenericRecord, GenericRecord&gt;&gt; implements Serializable {\r\n    private static final Logger LOG = LoggerFactory.getLogger(DeserializeKeyToGenericRecord.class);\r\n    private final Schema keySchema;\r\n    private final Schema valueSchema;\r\n\r\n    public DeserializeKeyValueToGenericRecord(Schema keySchema, Schema valueSchema){\r\n        this.keySchema = keySchema;\r\n        this.valueSchema = valueSchema;\r\n    }\r\n\r\n    @ProcessElement\r\n    public void processElement(@Element KafkaRecord&lt;byte[], byte[]&gt; input, OutputReceiver&lt;KV&lt;GenericRecord, GenericRecord&gt;&gt; receiver) {\r\n        GenericRecord genericRecordKey = new GenericData.Record(keySchema);\r\n        GenericRecord genericRecordValue = new GenericData.Record(valueSchema);\r\n        try {\r\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; keyReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(keySchema);\r\n            org.apache.avro.io.Decoder decoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getKey(), null);\r\n            genericRecordKey = keyReader.read(null, decoder);\r\n        } catch (Exception e) {\r\n            LOG.error( &quot;Key issue - &quot; + e.getMessage());\r\n        }\r\n\r\n        try {\r\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; valueReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(valueSchema);\r\n            org.apache.avro.io.Decoder valueDecoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getValue(), null);\r\n            genericRecordValue = valueReader.read(null, valueDecoder);\r\n        } catch (Exception e) {\r\n            LOG.error( &quot;Value issue - &quot; + e.getMessage() + &quot; for key &quot; + genericRecordKey.toString());\r\n        }\r\n\r\n        receiver.output(KV.of(genericRecordKey, genericRecordValue));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe `.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))` throws an exception since I&#39;m not decoding the `byte[]` properly there. I don&#39;t fully understand how I should be deserializing the input and what roles does the `setCoder` play.","title":"Capturing deserialization exceptions in KafkaIO","body":"<p>I have a typical KafkaIO based source for reading Avro formatted key and value from a Kafka topic.</p>\n<pre><code>PCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt; records =\n    pipeline.apply(\n        &quot;Read from Kafka&quot;,\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\n                .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\n                .withConsumerConfigUpdates(\n                    ImmutableMap.copyOf(consumerConfigUpdates)\n                )\n                .withBootstrapServers(options.getBootstrapServer())\n                .withTopics(topicsList)\n                .withKeyDeserializer(\n                    ConfluentSchemaRegistryDeserializerProvider.of(\n                        options.getSchemaRegistryUrl(),\n                        options.getInputTopic()+&quot;-key&quot;\n                    )\n                )\n                .withValueDeserializer(\n                    ConfluentSchemaRegistryDeserializerProvider.of(\n                        options.getSchemaRegistryUrl(),\n                        options.getInputTopic()+&quot;-value&quot;)\n                )\n    );\n</code></pre>\n<p>The issue is that the values can be null for some of the events and the Avro Schema doesn't allow the values to be null and thus this throws an exception causing the pipeline to halt. I'm ok with logging the keys for null values and moving on with the correct values in my pipeline.</p>\n<p>I figured that I could NOT deserialize at the source and instead filter out the null Values and then work with only the non-null records.</p>\n<pre><code>pipeline.apply(\n    &quot;Read from Kafka&quot;,\n    KafkaIO.&lt;byte[], byte[]&gt;read()\n        .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\n        .withConsumerConfigUpdates(\n                ImmutableMap.copyOf(consumerConfigUpdates)\n        )\n        .withBootstrapServers(options.getBootstrapServer())\n        .withTopics(topicsList)\n        .withKeyDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\n        .withValueDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\n)\n.apply(&quot;filter non-null payloads&quot;,\n    ParDo.of(new FilterNonNullPayloads(nullPayloadTag))\n        .withOutputTags(deserializedAvroOutputTag, TupleTagList.of(nullPayloadTag))\n)\n.get(deserializedAvroOutputTag)\n.apply(ParDo.of(new DeserializeKeyValueToGenericRecord(keyAvroSchema, valueAvroSchema)))\n.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))\n.apply(\n    MapElements\n        .into(TypeDescriptors.strings())\n        .via(e -&gt; e.toString())\n)\n.apply(new ConsoleWriter&lt;String&gt;());\n</code></pre>\n<p>The <code>DeserializeKeyValueToGenericRecord</code> is a DoFn as follows -</p>\n<pre><code>public class DeserializeKeyValueToGenericRecord extends DoFn&lt;KafkaRecord&lt;byte[], byte[]&gt;, KV&lt;GenericRecord, GenericRecord&gt;&gt; implements Serializable {\n    private static final Logger LOG = LoggerFactory.getLogger(DeserializeKeyToGenericRecord.class);\n    private final Schema keySchema;\n    private final Schema valueSchema;\n\n    public DeserializeKeyValueToGenericRecord(Schema keySchema, Schema valueSchema){\n        this.keySchema = keySchema;\n        this.valueSchema = valueSchema;\n    }\n\n    @ProcessElement\n    public void processElement(@Element KafkaRecord&lt;byte[], byte[]&gt; input, OutputReceiver&lt;KV&lt;GenericRecord, GenericRecord&gt;&gt; receiver) {\n        GenericRecord genericRecordKey = new GenericData.Record(keySchema);\n        GenericRecord genericRecordValue = new GenericData.Record(valueSchema);\n        try {\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; keyReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(keySchema);\n            org.apache.avro.io.Decoder decoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getKey(), null);\n            genericRecordKey = keyReader.read(null, decoder);\n        } catch (Exception e) {\n            LOG.error( &quot;Key issue - &quot; + e.getMessage());\n        }\n\n        try {\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; valueReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(valueSchema);\n            org.apache.avro.io.Decoder valueDecoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getValue(), null);\n            genericRecordValue = valueReader.read(null, valueDecoder);\n        } catch (Exception e) {\n            LOG.error( &quot;Value issue - &quot; + e.getMessage() + &quot; for key &quot; + genericRecordKey.toString());\n        }\n\n        receiver.output(KV.of(genericRecordKey, genericRecordValue));\n    }\n\n}\n</code></pre>\n<p>The <code>.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))</code> throws an exception since I'm not decoding the <code>byte[]</code> properly there. I don't fully understand how I should be deserializing the input and what roles does the <code>setCoder</code> play.</p>\n"},{"tags":["java","spring","testing","spring-data-jpa","integration-testing"],"owner":{"account_id":17669728,"reputation":145,"user_id":12826216,"display_name":"Amine Ch 99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692800641,"creation_date":1692800280,"question_id":76962258,"body_markdown":"I&#39;m using Spring Data JPA along with PostgreSQL for my application&#39;s persistence layer. In my repository, I&#39;ve defined a custom JPA query to retrieve orders by merchant and status, and I&#39;m using the Page&lt;Order&gt; return type to handle pagination. The query is functional and works as expected when invoked through my API.\r\n\r\nTo ensure the correctness of this custom query, I&#39;m attempting to write an integration test for it using TestContainers to set up a PostgreSQL container. However, when I run the integration test, it fails with a ConversionFailedException, specifically:\r\n```\r\nFailed to convert from type [java.lang.String] to type [java.lang.Long] for value &#39;40288bea8a1e0f3d018a1e0f4bce0001&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;40288bea8a1e0f3d018a1e0f4bce0001&quot;\r\n```\r\n\r\nThe exception indicates that Spring is trying to convert the entity&#39;s ID from String to Long, even though the ID is of type String. This behavior occurs exclusively in the integration test, while the custom query works without issues when invoked through the API. \r\n\r\n\r\n**Entity Code:**\r\n\r\n```\r\n@Entity\r\npublic class Order extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n    private String id;\r\n    \r\n    //Other fields, getters and setters\r\n}\r\n```\r\n**Jpa Query:** \r\n```\r\n @Query(value = &quot;SELECT * FROM \\&quot;ORDER\\&quot; as o \\n&quot; +\r\n            &quot;WHERE \\&quot;ID_MERCHANT\\&quot; = ?1 \\n&quot; +\r\n            &quot;AND (?2 IS NULL OR \\&quot;ID_STATUS\\&quot; = (SELECT \\&quot;ID\\&quot; FROM \\&quot;STATUS_ORDER\\&quot; WHERE \\&quot;STATUS\\&quot; = ?2 ))\\n&quot; +\r\n            &quot;ORDER BY \\&quot;DATE\\&quot; DESC&quot;, nativeQuery = true)\r\n    Page&lt;Order&gt; findAllByMarchanAndStatusByDate(String idMerchant, String statusName, Pageable pageable);\r\n\r\n```\r\n**Integration test method:** \r\n```\r\nclass OrderRespositoryAdapterTest extends IntegrationTestConfig {\r\n    @Autowired\r\n    private OrderRespository underTest;\r\n    @Autowired\r\n    private StatusOrderRepository statusOrderRepository;\r\n    @Autowired\r\n    private MarchantRepository marchantRepository;\r\n    private EasyRandom easyRandom; // Dependencie that fill dummy objects with dummy values\r\n    private Marchant marchant;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        //Set up StatusOrders\r\n        statusOrderRepository.saveAll(Arrays.asList(new Status(&quot;Processing&quot;), new Status(&quot;Completed&quot;)\r\n                , new Status(&quot;Failed&quot;), new Status(&quot;Canceled&quot;)));\r\n        //Set up Merchant\r\n        marchant = MarchantRepository.save(new Marchant());\r\n    }\r\n\r\n    @Test\r\n    void shoudlReturnOrdersWithStatusCompleted() {\r\n        //given\r\n        List&lt;Order&gt; dummyOrders = easyRandom.objects(Order.class, 1).collect(Collectors.toList());\r\n        //Setting status\r\n        dummyOrders.get(0).setStatus(statusOrderRepository.findByName(STATUS.Completed.name()).get());\r\n        //Setting Merchant\r\n        dummyOrders.get(0).setMarchant(marchant);\r\n        underTest.saveAll(dummyOrders);\r\n        //when\r\n        PageRequest pageRequest = PageRequest.of(0, dummyOrders.size());\r\n        System.err.println(underTest.findAll(pageRequest).getContent());\r\n        Page&lt;Order&gt; result =underTest.findAllByMarchanAndStatusByDate(marchant.getId(), STATUS.Completed.name(), pageRequest); // Failure Occurs in this Line\r\n        //then\r\n        long expected = 0;\r\n        assertThat(result.getContent().size()).isEqualTo(expected);\r\n        assertThat(true).isTrue();\r\n    }\r\n}\r\n```\r\n**NB 1:** IntegrationTestConfig is responsible for orchestrating the setup of the PostgreSQL database instance and modifying the database connection properties to ensure successful connectivity. This aspect of the configuration is functioning as intended.\r\n\r\nI experimented with testing the issue using an H2 database, but unfortunately, the problem persisted. To address this, I opted for TestContainers to replicate a production-like database environment for testing purposes which is PostgreSQL.\r\n\r\nIt&#39;s worth noting that an intriguing aspect emerged: when I altered the return type of the custom query to List&lt;Order&gt; from Page&lt;Order&gt;, the integration test executed without encountering any exceptions.\r\n\r\nSurprisingly, the built-in findAll method from Spring Data JPA, when employed with a return type of Page&lt;Order&gt;, functioned perfectly without encountering any difficulties.\r\n","title":"ConversionFailedException in Spring Data JPA Integration Test with Page&lt;&gt; Return Type","body":"<p>I'm using Spring Data JPA along with PostgreSQL for my application's persistence layer. In my repository, I've defined a custom JPA query to retrieve orders by merchant and status, and I'm using the Page return type to handle pagination. The query is functional and works as expected when invoked through my API.</p>\n<p>To ensure the correctness of this custom query, I'm attempting to write an integration test for it using TestContainers to set up a PostgreSQL container. However, when I run the integration test, it fails with a ConversionFailedException, specifically:</p>\n<pre><code>Failed to convert from type [java.lang.String] to type [java.lang.Long] for value '40288bea8a1e0f3d018a1e0f4bce0001'; nested exception is java.lang.NumberFormatException: For input string: &quot;40288bea8a1e0f3d018a1e0f4bce0001&quot;\n</code></pre>\n<p>The exception indicates that Spring is trying to convert the entity's ID from String to Long, even though the ID is of type String. This behavior occurs exclusively in the integration test, while the custom query works without issues when invoked through the API.</p>\n<p><strong>Entity Code:</strong></p>\n<pre><code>@Entity\npublic class Order extends BaseEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    \n    //Other fields, getters and setters\n}\n</code></pre>\n<p><strong>Jpa Query:</strong></p>\n<pre><code> @Query(value = &quot;SELECT * FROM \\&quot;ORDER\\&quot; as o \\n&quot; +\n            &quot;WHERE \\&quot;ID_MERCHANT\\&quot; = ?1 \\n&quot; +\n            &quot;AND (?2 IS NULL OR \\&quot;ID_STATUS\\&quot; = (SELECT \\&quot;ID\\&quot; FROM \\&quot;STATUS_ORDER\\&quot; WHERE \\&quot;STATUS\\&quot; = ?2 ))\\n&quot; +\n            &quot;ORDER BY \\&quot;DATE\\&quot; DESC&quot;, nativeQuery = true)\n    Page&lt;Order&gt; findAllByMarchanAndStatusByDate(String idMerchant, String statusName, Pageable pageable);\n\n</code></pre>\n<p><strong>Integration test method:</strong></p>\n<pre><code>class OrderRespositoryAdapterTest extends IntegrationTestConfig {\n    @Autowired\n    private OrderRespository underTest;\n    @Autowired\n    private StatusOrderRepository statusOrderRepository;\n    @Autowired\n    private MarchantRepository marchantRepository;\n    private EasyRandom easyRandom; // Dependencie that fill dummy objects with dummy values\n    private Marchant marchant;\n\n    @BeforeEach\n    void init() {\n        //Set up StatusOrders\n        statusOrderRepository.saveAll(Arrays.asList(new Status(&quot;Processing&quot;), new Status(&quot;Completed&quot;)\n                , new Status(&quot;Failed&quot;), new Status(&quot;Canceled&quot;)));\n        //Set up Merchant\n        marchant = MarchantRepository.save(new Marchant());\n    }\n\n    @Test\n    void shoudlReturnOrdersWithStatusCompleted() {\n        //given\n        List&lt;Order&gt; dummyOrders = easyRandom.objects(Order.class, 1).collect(Collectors.toList());\n        //Setting status\n        dummyOrders.get(0).setStatus(statusOrderRepository.findByName(STATUS.Completed.name()).get());\n        //Setting Merchant\n        dummyOrders.get(0).setMarchant(marchant);\n        underTest.saveAll(dummyOrders);\n        //when\n        PageRequest pageRequest = PageRequest.of(0, dummyOrders.size());\n        System.err.println(underTest.findAll(pageRequest).getContent());\n        Page&lt;Order&gt; result =underTest.findAllByMarchanAndStatusByDate(marchant.getId(), STATUS.Completed.name(), pageRequest); // Failure Occurs in this Line\n        //then\n        long expected = 0;\n        assertThat(result.getContent().size()).isEqualTo(expected);\n        assertThat(true).isTrue();\n    }\n}\n</code></pre>\n<p><strong>NB 1:</strong> IntegrationTestConfig is responsible for orchestrating the setup of the PostgreSQL database instance and modifying the database connection properties to ensure successful connectivity. This aspect of the configuration is functioning as intended.</p>\n<p>I experimented with testing the issue using an H2 database, but unfortunately, the problem persisted. To address this, I opted for TestContainers to replicate a production-like database environment for testing purposes which is PostgreSQL.</p>\n<p>It's worth noting that an intriguing aspect emerged: when I altered the return type of the custom query to List from Page, the integration test executed without encountering any exceptions.</p>\n<p>Surprisingly, the built-in findAll method from Spring Data JPA, when employed with a return type of Page, functioned perfectly without encountering any difficulties.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1358150332,"post_id":14314917,"comment_id":19888497,"body_markdown":"The question isn&#39;t clear. What do you want the program to do ?","body":"The question isn&#39;t clear. What do you want the program to do ?"},{"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"score":4,"creation_date":1358150377,"post_id":14314917,"comment_id":19888509,"body_markdown":"Change `[a-aZ-Z]{4}` to `[a-zA-Z]{4}`...","body":"Change <code>[a-aZ-Z]{4}</code> to <code>[a-zA-Z]{4}</code>..."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1358150442,"post_id":14314917,"comment_id":19888524,"body_markdown":"@Cylian: I think you mean it should be changed to `[a-zA-Z]{4}`","body":"@Cylian: I think you mean it should be changed to <code>[a-zA-Z]{4}</code>"},{"owner":{"account_id":2161952,"reputation":99,"user_id":1915933,"accept_rate":83,"display_name":"MOnasz"},"score":0,"creation_date":1358151753,"post_id":14314917,"comment_id":19888653,"body_markdown":"thx , i must change [a-aZ-Z]{4} to [a-zA-Z]{4} . its work","body":"thx , i must change [a-aZ-Z]{4} to [a-zA-Z]{4} . its work"}],"answers":[{"tags":[],"owner":{"account_id":1966788,"reputation":1791,"user_id":1766828,"display_name":"Javier Diaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358155307,"creation_date":1358155307,"answer_id":14315768,"question_id":14314917,"body_markdown":"`[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+`\r\n\r\n 1. Do not use `[]` if you are only using one `\\d`, you can use `{3}` with `\\d` directly.\r\n 2. `[a-aZ-Z]` that is exactly the same as `[aZ]`, you must use `[a-zA-Z]`\r\n 3. The last part seems good but you may want to add all the chars that you mentioned before.\r\n\r\nResult: `\\\\d{3}[a-zA-Z]{4}[,@!%]+`","title":"Sequences of characters in java","body":"<p><code>[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+</code></p>\n\n<ol>\n<li>Do not use <code>[]</code> if you are only using one <code>\\d</code>, you can use <code>{3}</code> with <code>\\d</code> directly.</li>\n<li><code>[a-aZ-Z]</code> that is exactly the same as <code>[aZ]</code>, you must use <code>[a-zA-Z]</code></li>\n<li>The last part seems good but you may want to add all the chars that you mentioned before.</li>\n</ol>\n\n<p>Result: <code>\\\\d{3}[a-zA-Z]{4}[,@!%]+</code></p>\n"}],"owner":{"account_id":2161952,"reputation":99,"user_id":1915933,"accept_rate":83,"display_name":"MOnasz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692800378,"creation_date":1358150267,"question_id":14314917,"body_markdown":"I was a exercise to do . &quot;Sequences of characters - passwords, which from left to right consists of 3 consecutive digits, 4 letters (the English alphabet) consecutive, and one or more characters from the set {*, ^,%, #, ~,!, &amp;, |, @, $}.&quot; I do it , but i isnt work :/\r\n\r\n    public class regex {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString regex = &quot;[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+&quot;;\r\n    \t\tString txt = &quot;394aZbr@&quot;;\r\n    \t\t\r\n    \t\tPattern p = Pattern.compile(regex);\r\n    \t\tMatcher m = p.matcher(txt);\r\n    \t\t\r\n    \t\twhile(m.find()){\r\n    \t\t\tString s = m.group();\r\n    \t\t\tSystem.out.println(&quot;pass : &quot; + s);\r\n    \t\t}\r\n\r\nResult of my exrcise :\r\n\r\n    pass: 493ahTz@\t\r\n\r\n\r\nCould you help me ?\t","title":"Sequences of characters in java","body":"<p>I was a exercise to do . \"Sequences of characters - passwords, which from left to right consists of 3 consecutive digits, 4 letters (the English alphabet) consecutive, and one or more characters from the set {*, ^,%, #, ~,!, &amp;, |, @, $}.\" I do it , but i isnt work :/</p>\n\n<pre><code>public class regex {\n\n    public static void main(String[] args) {\n        String regex = \"[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+\";\n        String txt = \"394aZbr@\";\n\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(txt);\n\n        while(m.find()){\n            String s = m.group();\n            System.out.println(\"pass : \" + s);\n        }\n</code></pre>\n\n<p>Result of my exrcise :</p>\n\n<pre><code>pass: 493ahTz@  \n</code></pre>\n\n<p>Could you help me ? </p>\n"},{"tags":["java","maven-2"],"comments":[{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":1,"creation_date":1256571295,"post_id":1625492,"comment_id":1493288,"body_markdown":"can&#39;t you just bind it to a phase which is not executed in a pom-type project (which your parent should be?)","body":"can&#39;t you just bind it to a phase which is not executed in a pom-type project (which your parent should be?)"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256572217,"post_id":1625492,"comment_id":1493400,"body_markdown":"@roe I think your comment could be turned to an answer :-) I would like to know, and I would vote for it ;-)","body":"@roe I think your comment could be turned to an answer :-) I would like to know, and I would vote for it ;-)"},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1256572700,"post_id":1625492,"comment_id":1493445,"body_markdown":"@KLE It was not an answer, I was trying to help the brainstorm. I have no idea how to actually do this.","body":"@KLE It was not an answer, I was trying to help the brainstorm. I have no idea how to actually do this."},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1256572887,"post_id":1625492,"comment_id":1493452,"body_markdown":"I think, in general, you&#39;d like to have the goal realize it&#39;s not applicable to the parent project, and just specify it in parent project. The second option I can think of, which probably suits your needs even worse, is to define a new packaging form, since you need to specify a packaging anyway...","body":"I think, in general, you&#39;d like to have the goal realize it&#39;s not applicable to the parent project, and just specify it in parent project. The second option I can think of, which probably suits your needs even worse, is to define a new packaging form, since you need to specify a packaging anyway..."},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256573409,"post_id":1625492,"comment_id":1493507,"body_markdown":"We need some help from Rich Seller ! Rich, are you there? ;-) http://stackoverflow.com/users/123582/rich-seller","body":"We need some help from Rich Seller ! Rich, are you there? ;-) <a href=\"http://stackoverflow.com/users/123582/rich-seller\">stackoverflow.com/users/123582/rich-seller</a>"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256573625,"post_id":1625492,"comment_id":1493519,"body_markdown":"Maybe you guys could vote for the question, to make it more attractive to answerers?","body":"Maybe you guys could vote for the question, to make it more attractive to answerers?"}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1256686770,"creation_date":1256573488,"answer_id":1625674,"question_id":1625492,"body_markdown":"&lt;strike&gt;\r\nAccording to the [Default Lifecycle Bindings][3], the bindings for a packaging `pom` are:\r\n\r\n&gt; **Default Lifecycle Bindings - Packaging\r\n&gt; pom**\r\n&gt; \r\n&gt; &lt;pre&gt;\r\n&gt; package       site:attach-descriptor  \r\n&gt; install       install:install  \r\n&gt; deploy        deploy:deploy\r\n&gt; &lt;/pre&gt;\r\n\r\nSo if your parent POM has a `&lt;packaging&gt;pom&lt;packaging&gt;` (this should be the case as pointed out in a comment) and if you bind your plugins to other phases than those above (see the [Lifecycle Reference][4] for a comprehensive list), they won&#39;t be executed during the build of the parent POM.\r\n&lt;/strike&gt;\r\n\r\n(EDIT: My initial answer is just wrong. If you bind a plugin goal to a particular phase, it will be triggered during that phase, regardless of the packaging of the project. The [Default Lifecycle Bindings][2] don&#39;t have anything to do with that, they are just default lifecycle bindings. All what matters is if the phase to which the plugin is bound is part of the [build lifecyle][1].)\r\n\r\n\r\nAs you pointed out, you can use the [`pluginManagement`][5] in the parent pom for the configuration of the plugin but if you really want to execute a plugin goal in children modules and **not** in the parent (you might have good reasons to do this but most of time, plugins won&#39;t have much effet on a module with a `pom` packaging that doesn&#39;t have any content), you&#39;ll have to reference plugins in the `plugins` element in the children. \r\n\r\nApplied to your example, the parent pom.xml could define the following specifications:\r\n\r\n    &lt;project&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      ...\r\n      &lt;modules&gt;\r\n        &lt;module&gt;child&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;my-execution-id&lt;/id&gt;\r\n                  &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nAnd in every child `pom.xml`, only the following is required:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        ...\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\r\n  [2]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\r\n  [3]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\r\n  [4]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\r\n  [5]: http://maven.apache.org/pom.html#Plugin_Management","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p><strike>\nAccording to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\" rel=\"noreferrer\">Default Lifecycle Bindings</a>, the bindings for a packaging <code>pom</code> are:</p>\n\n<blockquote>\n  <p><strong>Default Lifecycle Bindings - Packaging\n  pom</strong></p>\n\n<pre>\npackage       site:attach-descriptor  \ninstall       install:install  \ndeploy        deploy:deploy\n</pre>\n</blockquote>\n\n<p>So if your parent POM has a <code>&lt;packaging&gt;pom&lt;packaging&gt;</code> (this should be the case as pointed out in a comment) and if you bind your plugins to other phases than those above (see the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">Lifecycle Reference</a> for a comprehensive list), they won't be executed during the build of the parent POM.\n</strike></p>\n\n<p>(EDIT: My initial answer is just wrong. If you bind a plugin goal to a particular phase, it will be triggered during that phase, regardless of the packaging of the project. The <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\" rel=\"noreferrer\">Default Lifecycle Bindings</a> don't have anything to do with that, they are just default lifecycle bindings. All what matters is if the phase to which the plugin is bound is part of the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">build lifecyle</a>.)</p>\n\n<p>As you pointed out, you can use the <a href=\"http://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\"><code>pluginManagement</code></a> in the parent pom for the configuration of the plugin but if you really want to execute a plugin goal in children modules and <strong>not</strong> in the parent (you might have good reasons to do this but most of time, plugins won't have much effet on a module with a <code>pom</code> packaging that doesn't have any content), you'll have to reference plugins in the <code>plugins</code> element in the children. </p>\n\n<p>Applied to your example, the parent pom.xml could define the following specifications:</p>\n\n<pre><code>&lt;project&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  ...\n  &lt;modules&gt;\n    &lt;module&gt;child&lt;/module&gt;\n  &lt;/modules&gt;\n  ...\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;my-execution-id&lt;/id&gt;\n              &lt;phase&gt;integration-test&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        ...\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>And in every child <code>pom.xml</code>, only the following is required:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    ...\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":719486,"reputation":281,"user_id":652836,"display_name":"Mikhail"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1407329736,"creation_date":1299728285,"answer_id":5255176,"question_id":1625492,"body_markdown":"The described solution with plugin management is certainly correct, but in certain cases it does not fit. Suppose you would like to run several jar:jar goals in the child module each configured with its own settings (configuration) per execution. Or in general, when you don&#39;t want to force child poms to explicitly trigger the plugin(s). \r\n\r\nIn this case the solution that worked for me was to define the executions in the parent pom under a specific profile, and have it activated only in child poms for example by checking for existence of some file or property:\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;generate-dc&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;file&gt;\r\n                &lt;exists&gt;src/main/assembly/some.xml&lt;/exists&gt;\r\n            &lt;/file&gt;\r\n        &lt;/activation&gt;\r\n\r\nThen plugins won&#39;t be executed in the parent, but will be executed in all children if those contain the file, or set some property.\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>The described solution with plugin management is certainly correct, but in certain cases it does not fit. Suppose you would like to run several jar:jar goals in the child module each configured with its own settings (configuration) per execution. Or in general, when you don't want to force child poms to explicitly trigger the plugin(s). </p>\n\n<p>In this case the solution that worked for me was to define the executions in the parent pom under a specific profile, and have it activated only in child poms for example by checking for existence of some file or property:</p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;generate-dc&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;file&gt;\n            &lt;exists&gt;src/main/assembly/some.xml&lt;/exists&gt;\n        &lt;/file&gt;\n    &lt;/activation&gt;\n</code></pre>\n\n<p>Then plugins won't be executed in the parent, but will be executed in all children if those contain the file, or set some property.</p>\n"},{"tags":[],"owner":{"account_id":1460668,"reputation":259,"user_id":1375102,"display_name":"Rafeeq"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1456254200,"creation_date":1336141791,"answer_id":10450845,"question_id":1625492,"body_markdown":"I had a similar requirement to run some plugins in the child but not the parent POM. i achieved this by stating `&lt;skip&gt;true&lt;/skip&gt;`  in the parent POM.\r\n\r\nThe parent pom entry is below:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;eviware&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;inherited&gt;false&lt;/inherited&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;4.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt; \r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt; \r\n\r\nThe child project pom entry is below \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;eviware&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;settingsFile&gt;site-service-web/src/test/soapui/soapui-settings.xml&lt;/settingsFile&gt;\r\n                &lt;projectFile&gt;site-service-web/src/test/soapui/PodifiSite-soapui-project.xml&lt;/projectFile&gt;\r\n                &lt;outputFolder&gt;site-service-web/target/surefire-reports&lt;/outputFolder&gt;\r\n                &lt;junitReport&gt;true&lt;/junitReport&gt;\r\n                &lt;exportwAll&gt;true&lt;/exportwAll&gt;\r\n                &lt;printReport&gt;true&lt;/printReport&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>I had a similar requirement to run some plugins in the child but not the parent POM. i achieved this by stating <code>&lt;skip&gt;true&lt;/skip&gt;</code>  in the parent POM.</p>\n\n<p>The parent pom entry is below:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;eviware&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;inherited&gt;false&lt;/inherited&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n    &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt; \n</code></pre>\n\n<p>The child project pom entry is below </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;eviware&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;settingsFile&gt;site-service-web/src/test/soapui/soapui-settings.xml&lt;/settingsFile&gt;\n            &lt;projectFile&gt;site-service-web/src/test/soapui/PodifiSite-soapui-project.xml&lt;/projectFile&gt;\n            &lt;outputFolder&gt;site-service-web/target/surefire-reports&lt;/outputFolder&gt;\n            &lt;junitReport&gt;true&lt;/junitReport&gt;\n            &lt;exportwAll&gt;true&lt;/exportwAll&gt;\n            &lt;printReport&gt;true&lt;/printReport&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2391183,"reputation":41,"user_id":2091003,"display_name":"Michael Siegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427888950,"creation_date":1427888950,"answer_id":29390010,"question_id":1625492,"body_markdown":"I tried the answer from Pascal but it did not work for me.  The plugins referenced in the child pom did not execute, I&#39;m assuming because they did not have a build phase binding.\r\n\r\nThe post here describes a solution that works by binding the plugins to execution ids and build phases: https://stackoverflow.com/questions/13250377/how-to-override-default-binding-to-phase-of-a-maven-plugin\r\n\r\nI&#39;d recommend that to anyone else trying to get this working.","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>I tried the answer from Pascal but it did not work for me.  The plugins referenced in the child pom did not execute, I'm assuming because they did not have a build phase binding.</p>\n\n<p>The post here describes a solution that works by binding the plugins to execution ids and build phases: <a href=\"https://stackoverflow.com/questions/13250377/how-to-override-default-binding-to-phase-of-a-maven-plugin\">How to override default binding to phase of a Maven plugin</a></p>\n\n<p>I'd recommend that to anyone else trying to get this working.</p>\n"},{"tags":[],"owner":{"account_id":8393922,"reputation":21,"user_id":6301755,"display_name":"Y L"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1462564707,"creation_date":1462561066,"answer_id":37079587,"question_id":1625492,"body_markdown":"Use `&lt;inherited&gt;false&lt;/inherited&gt;` under the plugins section in the parent project.\r\n\r\nPlese refer to [this page](https://maven.apache.org/pom.html) for more information. ","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>Use <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> under the plugins section in the parent project.</p>\n\n<p>Plese refer to <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow\">this page</a> for more information. </p>\n"},{"tags":[],"owner":{"account_id":3926437,"reputation":119,"user_id":3246745,"display_name":"lakshmanas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1477597499,"creation_date":1477597499,"answer_id":40293016,"question_id":1625492,"body_markdown":"This below config worked for me. Add the plugin in both the parent and child pom. \r\n\r\n**Parent :** \r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;inherited&gt;true&lt;/inherited&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n             &lt;skip&gt;true&lt;/skip&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**Child**\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;inherited&gt;false&lt;/inherited&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n             &lt;skip&gt;false&lt;/skip&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>This below config worked for me. Add the plugin in both the parent and child pom. </p>\n\n<p><strong>Parent :</strong> </p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;inherited&gt;true&lt;/inherited&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n         &lt;skip&gt;true&lt;/skip&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>Child</strong></p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;inherited&gt;false&lt;/inherited&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n         &lt;skip&gt;false&lt;/skip&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28862374,"reputation":1,"user_id":22105871,"display_name":"Mike y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692800369,"creation_date":1692799086,"answer_id":76962082,"question_id":1625492,"body_markdown":"Create a skipme property in both parent and child.\r\nSet it to true in the parent.\r\nSet it to false in child.\r\nYou don&#39;t have to add the plugin again in child, it will be inherited\r\nThis way you can turn a plugin execution on/off anywhere easily in module hierarchy (child/grandchild/greatgrandchild)\r\nAlso suggest using execution IDs, but not mandatory.\r\n\r\nParent:\r\n\r\n      &lt;properties&gt;\r\n      &lt;skipme&gt;true&lt;skipme&gt;\r\n      &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                  &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                             \r\n                              &lt;executions&gt;\r\n                                    &lt;execution&gt;                                          \r\n                                          &lt;goals&gt;\r\n                                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                                          &lt;/goals&gt;\r\n                                    &lt;/execution&gt;\r\n                              &lt;/executions&gt;\r\n                              &lt;configuration&gt;\r\n                                    &lt;skip&gt;${skipme}&lt;/skip&gt;\r\n                              &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                  &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nChild:\r\n\r\n      &lt;properties&gt;\r\n                  &lt;skipme&gt;false&lt;skipme&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      \r\nAnother trick is to use phase.\r\nCreate a &quot;myphase&quot; property in both parent and child.\r\nSet it to &quot;none&quot; in the parent.\r\nSet it to &quot;integration-test&quot; (or as desired) in child.\r\nYou don&#39;t have to add the plugin again in child, it will be inherited  \r\n\r\nParent:\r\n\r\n      &lt;properties&gt;\r\n        &lt;myphase&gt;none&lt;myphase&gt;\r\n      &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                  &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                            \r\n                              &lt;executions&gt;\r\n                                    &lt;execution&gt;\r\n                                          &lt;phase&gt;${myphase}&lt;/phase&gt;\r\n                                          &lt;goals&gt;\r\n                                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                                          &lt;/goals&gt;\r\n                                    &lt;/execution&gt;\r\n                              &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                  &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nChild:\r\n\r\n      &lt;properties&gt;\r\n                  &lt;myphase&gt;integration-test&lt;myphase&gt;\r\n      &lt;/properties&gt;","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>Create a skipme property in both parent and child.\nSet it to true in the parent.\nSet it to false in child.\nYou don't have to add the plugin again in child, it will be inherited\nThis way you can turn a plugin execution on/off anywhere easily in module hierarchy (child/grandchild/greatgrandchild)\nAlso suggest using execution IDs, but not mandatory.</p>\n<p>Parent:</p>\n<pre><code>  &lt;properties&gt;\n  &lt;skipme&gt;true&lt;skipme&gt;\n  &lt;/properties&gt;\n        &lt;build&gt;\n              &lt;plugins&gt;\n                    &lt;plugin&gt;\n                          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                             \n                          &lt;executions&gt;\n                                &lt;execution&gt;                                          \n                                      &lt;goals&gt;\n                                            &lt;goal&gt;jar&lt;/goal&gt;\n                                      &lt;/goals&gt;\n                                &lt;/execution&gt;\n                          &lt;/executions&gt;\n                          &lt;configuration&gt;\n                                &lt;skip&gt;${skipme}&lt;/skip&gt;\n                          &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n              &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Child:</p>\n<pre><code>  &lt;properties&gt;\n              &lt;skipme&gt;false&lt;skipme&gt;\n  &lt;/properties&gt;\n  \n  \n</code></pre>\n<p>Another trick is to use phase.\nCreate a &quot;myphase&quot; property in both parent and child.\nSet it to &quot;none&quot; in the parent.\nSet it to &quot;integration-test&quot; (or as desired) in child.\nYou don't have to add the plugin again in child, it will be inherited</p>\n<p>Parent:</p>\n<pre><code>  &lt;properties&gt;\n    &lt;myphase&gt;none&lt;myphase&gt;\n  &lt;/properties&gt;\n        &lt;build&gt;\n              &lt;plugins&gt;\n                    &lt;plugin&gt;\n                          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                            \n                          &lt;executions&gt;\n                                &lt;execution&gt;\n                                      &lt;phase&gt;${myphase}&lt;/phase&gt;\n                                      &lt;goals&gt;\n                                            &lt;goal&gt;jar&lt;/goal&gt;\n                                      &lt;/goals&gt;\n                                &lt;/execution&gt;\n                          &lt;/executions&gt;\n                    &lt;/plugin&gt;\n              &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Child:</p>\n<pre><code>  &lt;properties&gt;\n              &lt;myphase&gt;integration-test&lt;myphase&gt;\n  &lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":36735,"reputation":10242,"user_id":104894,"accept_rate":45,"display_name":"L&#243;r&#225;nt Pint&#233;r"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61078,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":7,"score":76,"last_activity_date":1692800369,"creation_date":1256571065,"question_id":1625492,"body_markdown":"In a multi-module project, how can you specify that you want to execute a plugin goal in all the child-modules, but not on the parent project? There is `&lt;pluginManagement&gt;`, but that only defines the configuration for the execution -- the child modules would still need to reference the plugin to get the goal executed:\r\n\r\n&gt; [...] However, this only configures plugins that are actually referenced within the plugins element in the children. *([POM Reference](http://maven.apache.org/pom.html#Plugin_Management))*\r\n\r\nAny other way to achieve this?\r\n\r\n**UPDATE:** I&#39;ve tried this according to Pascal&#39;s advice:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n      &lt;module&gt;child&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\nThis will still generate a .jar for the parent project, even though the `jar` goal is bound to the `integration-test` phase.","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>In a multi-module project, how can you specify that you want to execute a plugin goal in all the child-modules, but not on the parent project? There is <code>&lt;pluginManagement&gt;</code>, but that only defines the configuration for the execution -- the child modules would still need to reference the plugin to get the goal executed:</p>\n\n<blockquote>\n  <p>[...] However, this only configures plugins that are actually referenced within the plugins element in the children. <em>(<a href=\"http://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\">POM Reference</a>)</em></p>\n</blockquote>\n\n<p>Any other way to achieve this?</p>\n\n<p><strong>UPDATE:</strong> I've tried this according to Pascal's advice:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n  &lt;module&gt;child&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>This will still generate a .jar for the parent project, even though the <code>jar</code> goal is bound to the <code>integration-test</code> phase.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":241882,"reputation":8623,"user_id":512998,"accept_rate":72,"display_name":"You Qi"},"score":0,"creation_date":1341278726,"post_id":11303309,"comment_id":14872828,"body_markdown":"just do a post-regex looping thru all the 3 or more characters results","body":"just do a post-regex looping thru all the 3 or more characters results"},{"owner":{"account_id":275100,"reputation":833,"user_id":1207867,"accept_rate":94,"display_name":"sathish_at_madison"},"score":0,"creation_date":1341279104,"post_id":11303309,"comment_id":14872881,"body_markdown":"http://regexlib.com/ might be a good place to do some digging.","body":"<a href=\"http://regexlib.com/\" rel=\"nofollow noreferrer\">regexlib.com</a> might be a good place to do some digging."},{"owner":{"account_id":275100,"reputation":833,"user_id":1207867,"accept_rate":94,"display_name":"sathish_at_madison"},"score":0,"creation_date":1341279333,"post_id":11303309,"comment_id":14872921,"body_markdown":"@Ωmega Trying my best, but open to feedback that is not useful. Cheers.","body":"@Ωmega Trying my best, but open to feedback that is not useful. Cheers."},{"owner":{"account_id":241882,"reputation":8623,"user_id":512998,"accept_rate":72,"display_name":"You Qi"},"score":0,"creation_date":1341279722,"post_id":11303309,"comment_id":14872965,"body_markdown":"I think regex doesn&#39;t do a duplicate scanning. a character in a haystack can only be used once. The closest approach I can think of is an ungreedy match. but that only return you 12, 35 and won&#39;t get you 1235.","body":"I think regex doesn&#39;t do a duplicate scanning. a character in a haystack can only be used once. The closest approach I can think of is an ungreedy match. but that only return you 12, 35 and won&#39;t get you 1235."},{"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"score":0,"creation_date":1341351171,"post_id":11303309,"comment_id":14899429,"body_markdown":"Duplicate: http://stackoverflow.com/questions/7318469/java-recursive-repeated-deep-pattern-matching?rq=1","body":"Duplicate: <a href=\"http://stackoverflow.com/questions/7318469/java-recursive-repeated-deep-pattern-matching?rq=1\" title=\"java recursive repeated deep pattern matching\">stackoverflow.com/questions/7318469/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341401601,"creation_date":1341285668,"answer_id":11304030,"question_id":11303309,"body_markdown":"The closest you can get is something like this.\r\n\r\n    &quot;(?=((\\\\d*)\\\\d))(?=(\\\\d)\\\\d*)&quot;\r\n\r\nThe result will be in capturing group 1, 2 and 3.\r\n\r\nAs far as my imagination can go, I can only think of capturing in zero-length assertion as a viable way to recapture the same position of a string. Capturing text outside the zero-length assertion will consume the text once and for all (look-behind can only capture fixed-length in Java, so it can considered to be inaccessible).\r\n\r\nThis solution is not perfect: aside from repetition (of text at same position!) and empty string matches, it won&#39;t capture all possible substrings.\r\n\r\nOne way to capture all possible substrings is construct the following regex with value of n starting from 1:\r\n\r\n    &quot;(?=(\\\\d{&quot; + n + &quot;}))&quot;\r\n\r\nAnd match the string against this for incrementing value of n until there is no match.\r\n\r\nThis method is of course, inefficient compared to the method of matching all numbers with &quot;\\\\d+&quot; and extract all substring.","title":"All overlapping substrings matching a regex","body":"<p>The closest you can get is something like this.</p>\n\n<pre><code>\"(?=((\\\\d*)\\\\d))(?=(\\\\d)\\\\d*)\"\n</code></pre>\n\n<p>The result will be in capturing group 1, 2 and 3.</p>\n\n<p>As far as my imagination can go, I can only think of capturing in zero-length assertion as a viable way to recapture the same position of a string. Capturing text outside the zero-length assertion will consume the text once and for all (look-behind can only capture fixed-length in Java, so it can considered to be inaccessible).</p>\n\n<p>This solution is not perfect: aside from repetition (of text at same position!) and empty string matches, it won't capture all possible substrings.</p>\n\n<p>One way to capture all possible substrings is construct the following regex with value of n starting from 1:</p>\n\n<pre><code>\"(?=(\\\\d{\" + n + \"}))\"\n</code></pre>\n\n<p>And match the string against this for incrementing value of n until there is no match.</p>\n\n<p>This method is of course, inefficient compared to the method of matching all numbers with \"\\d+\" and extract all substring.</p>\n"},{"tags":[],"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341314539,"creation_date":1341314063,"answer_id":11309750,"question_id":11303309,"body_markdown":"It is doable as *O(n)* **only if you specify the range of allowed number length**.\r\n\r\nLet&#39;s say from 2-4 digits (*numbers 00-9999*): `(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)`\r\n\r\nThis is a zero-length assertion via positive lookahead, capturing such lookahead into groups. The results is an array of all 2-4 digit strings that can be found within the regex input, together with duplicates and empty strings (for non-match captures).\r\n\r\nI am not a Java developer, but I believe a Perl script can be read as an example as well.\r\n\r\n    #!/usr/bin/perl                                       # perl script\r\n    use List::MoreUtils qw/ uniq /;                       # uniq subroutine library\r\n    $_ = &#39;04/31 412-555-1235&#39;;                            # input\r\n    my @n = uniq (/(?=(\\d{2}))(?=(\\1\\d)?)(?=(\\2\\d)?)/g);  # regex (single slash in Perl)\r\n    print &quot;$_\\n&quot; for grep(/\\S/, @n);                      # print non-empty lines\r\n\r\nThe trick is using backreferences. If you would like to capture 2-5 digit string, you would need to use one more positive lookahead in the regex: `(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)(?=(\\\\3\\\\d)?)`.\r\n\r\nI believe this is a closest approach you can make. If this works for you, drop a comment and hopefully some Java developer will edit my answer with Java code for the above script.","title":"All overlapping substrings matching a regex","body":"<p>It is doable as <em>O(n)</em> <strong>only if you specify the range of allowed number length</strong>.</p>\n\n<p>Let's say from 2-4 digits (<em>numbers 00-9999</em>): <code>(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)</code></p>\n\n<p>This is a zero-length assertion via positive lookahead, capturing such lookahead into groups. The results is an array of all 2-4 digit strings that can be found within the regex input, together with duplicates and empty strings (for non-match captures).</p>\n\n<p>I am not a Java developer, but I believe a Perl script can be read as an example as well.</p>\n\n<pre><code>#!/usr/bin/perl                                       # perl script\nuse List::MoreUtils qw/ uniq /;                       # uniq subroutine library\n$_ = '04/31 412-555-1235';                            # input\nmy @n = uniq (/(?=(\\d{2}))(?=(\\1\\d)?)(?=(\\2\\d)?)/g);  # regex (single slash in Perl)\nprint \"$_\\n\" for grep(/\\S/, @n);                      # print non-empty lines\n</code></pre>\n\n<p>The trick is using backreferences. If you would like to capture 2-5 digit string, you would need to use one more positive lookahead in the regex: <code>(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)(?=(\\\\3\\\\d)?)</code>.</p>\n\n<p>I believe this is a closest approach you can make. If this works for you, drop a comment and hopefully some Java developer will edit my answer with Java code for the above script.</p>\n"},{"tags":[],"owner":{"account_id":3531578,"reputation":117,"user_id":2950964,"accept_rate":0,"display_name":"Darshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433843997,"creation_date":1433843321,"answer_id":30728618,"question_id":11303309,"body_markdown":"I faced a similar situation and I tried the above answers but in my case it took too much of time by setting the start and end index of the matcher\r\nbut I think I&#39;ve found a better solution, I&#39;m posting it here for others.\r\nSo below is my code sniplet.\r\n\r\n    if (textToParse != null) {\r\n    Matcher matcher = PLACEHOLDER_PATTERN.matcher(textToParse);\r\n    \twhile(matcher.hitEnd()!=true){\r\n    \t    Boolean result = matcher.find();\r\n    \t    int count = matcher.groupCount();\r\n    \t    System.out.println(&quot;Result &quot; +result+&quot; count &quot;+count);\r\n    \t    if(result==true &amp;&amp; count==1){\r\n    \t        mergeFieldName = matcher.group(1);\r\n    \t        mergeFieldNames.add(mergeFieldName);\r\n    \t       }\r\n    \t   }\r\n      }\r\n\r\nI have used the matcher.hitEnd() method to check if i have reached the end of text.\r\n\r\nHope this helps.\r\nThanks!\r\n","title":"All overlapping substrings matching a regex","body":"<p>I faced a similar situation and I tried the above answers but in my case it took too much of time by setting the start and end index of the matcher\nbut I think I've found a better solution, I'm posting it here for others.\nSo below is my code sniplet.</p>\n\n<pre><code>if (textToParse != null) {\nMatcher matcher = PLACEHOLDER_PATTERN.matcher(textToParse);\n    while(matcher.hitEnd()!=true){\n        Boolean result = matcher.find();\n        int count = matcher.groupCount();\n        System.out.println(\"Result \" +result+\" count \"+count);\n        if(result==true &amp;&amp; count==1){\n            mergeFieldName = matcher.group(1);\n            mergeFieldNames.add(mergeFieldName);\n           }\n       }\n  }\n</code></pre>\n\n<p>I have used the matcher.hitEnd() method to check if i have reached the end of text.</p>\n\n<p>Hope this helps.\nThanks!</p>\n"}],"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3374,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692800295,"creation_date":1341278540,"question_id":11303309,"body_markdown":"Is there an API method that returns all (possibly overlapping) substrings that match a regular expression?\r\n\r\nFor example, I have a text string: `String t = 04/31  412-555-1235;`, and I have a pattern: `Pattern p = new Pattern(&quot;\\\\d\\\\d+&quot;);` that matches strings of two or more characters.\r\n\r\nThe matches I get are: 04, 31, 412, 555, 1235.\r\n\r\nHow do I get overlapping matches?\r\n\r\nI want the code to return: 04, 31, 41, 412, 12, 55, 555, 55, 12, 123, 1235, 23, 235, 35.\r\n\r\nTheoretically it should be possible &amp;ndash; there is an obvious `O(n^2)` algorithm that enumerates and checks all the substrings against the pattern.\r\n\r\nRather than enumerating all substrings, it is safer to use the `region(int start, int end)` method in `Matcher`. Checking the pattern against a separate, extracted substring might change the result of the match (e.g. if there is a non-capturing group or word boundary check at the start/end of the pattern).\r\n\r\n\r\n\r\nActually, it&#39;s unclear whether `region()` does what you expect for zero-width matches. The specification is vague, and experiments yield disappointing results.\r\n\r\nFor example:\r\n\r\n    String line = &quot;xx90xx&quot;;\r\n    String pat = &quot;\\\\b90\\\\b&quot;;\r\n    System.out.println(Pattern.compile(pat).matcher(line).find()); // prints false\r\n    for (int i = 0; i &lt; line.length(); ++i) {\r\n      for (int j = i + 1; j &lt;= line.length(); ++j) {\r\n        Matcher m = Pattern.compile(pat).matcher(line).region(i, j);\r\n        if (m.find() &amp;&amp; m.group().size == (j - i)) {\r\n          System.out.println(m.group() + &quot; (&quot; + i + &quot;, &quot; + j + &quot;)&quot;); // prints 90 (2, 4)\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;m not sure what the most elegant solution is. One approach would be to take a substring of `line` and pad with with the appropriate boundary characters before checking whether the `pat` matches.\r\n\r\n\r\n\r\nHere is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried &amp;ndash; although I haven&#39;t done extensive testing. It is most certainly less efficient than it could be.\r\n\r\n      public static void allMatches(String text, String regex)\r\n      {\r\n        for (int i = 0; i &lt; text.length(); ++i) {\r\n          for (int j = i + 1; j &lt;= text.length(); ++j) {\r\n            String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\r\n            Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\r\n    \r\n            if (m.find()) \r\n            {   \r\n              System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\r\n            }   \r\n          }   \r\n        }   \r\n      }\r\n\r\n\r\n\r\nHere&#39;s a better way of doing this: https://stackoverflow.com/a/11372670/244526\r\n\r\n\r\n\r\nThe [JRegex][1] library supports finding all overlapping substrings matching a Java regex (although it appears not to have been updated in a while). Specifically, the [documentation on non-breaking search][2] specifies:\r\n\r\n&gt; Using non-breaking search you can finding all possible occureneces of a\r\n&gt; pattern, including those that are intersecting or nested. This is\r\n&gt; achieved by using the Matcher&#39;s method proceed() instead of find()\r\n\r\n\r\n  [1]: http://jregex.sourceforge.net/\r\n  [2]: http://jregex.sourceforge.net/gstarted-advanced.html#imatching","title":"All overlapping substrings matching a regex","body":"<p>Is there an API method that returns all (possibly overlapping) substrings that match a regular expression?</p>\n<p>For example, I have a text string: <code>String t = 04/31  412-555-1235;</code>, and I have a pattern: <code>Pattern p = new Pattern(&quot;\\\\d\\\\d+&quot;);</code> that matches strings of two or more characters.</p>\n<p>The matches I get are: 04, 31, 412, 555, 1235.</p>\n<p>How do I get overlapping matches?</p>\n<p>I want the code to return: 04, 31, 41, 412, 12, 55, 555, 55, 12, 123, 1235, 23, 235, 35.</p>\n<p>Theoretically it should be possible – there is an obvious <code>O(n^2)</code> algorithm that enumerates and checks all the substrings against the pattern.</p>\n<p>Rather than enumerating all substrings, it is safer to use the <code>region(int start, int end)</code> method in <code>Matcher</code>. Checking the pattern against a separate, extracted substring might change the result of the match (e.g. if there is a non-capturing group or word boundary check at the start/end of the pattern).</p>\n<p>Actually, it's unclear whether <code>region()</code> does what you expect for zero-width matches. The specification is vague, and experiments yield disappointing results.</p>\n<p>For example:</p>\n<pre><code>String line = &quot;xx90xx&quot;;\nString pat = &quot;\\\\b90\\\\b&quot;;\nSystem.out.println(Pattern.compile(pat).matcher(line).find()); // prints false\nfor (int i = 0; i &lt; line.length(); ++i) {\n  for (int j = i + 1; j &lt;= line.length(); ++j) {\n    Matcher m = Pattern.compile(pat).matcher(line).region(i, j);\n    if (m.find() &amp;&amp; m.group().size == (j - i)) {\n      System.out.println(m.group() + &quot; (&quot; + i + &quot;, &quot; + j + &quot;)&quot;); // prints 90 (2, 4)\n    }\n  }\n}\n</code></pre>\n<p>I'm not sure what the most elegant solution is. One approach would be to take a substring of <code>line</code> and pad with with the appropriate boundary characters before checking whether the <code>pat</code> matches.</p>\n<p>Here is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried – although I haven't done extensive testing. It is most certainly less efficient than it could be.</p>\n<pre><code>  public static void allMatches(String text, String regex)\n  {\n    for (int i = 0; i &lt; text.length(); ++i) {\n      for (int j = i + 1; j &lt;= text.length(); ++j) {\n        String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\n        Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\n\n        if (m.find()) \n        {   \n          System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\n        }   \n      }   \n    }   \n  }\n</code></pre>\n<p>Here's a better way of doing this: <a href=\"https://stackoverflow.com/a/11372670/244526\">https://stackoverflow.com/a/11372670/244526</a></p>\n<p>The <a href=\"http://jregex.sourceforge.net/\" rel=\"nofollow noreferrer\">JRegex</a> library supports finding all overlapping substrings matching a Java regex (although it appears not to have been updated in a while). Specifically, the <a href=\"http://jregex.sourceforge.net/gstarted-advanced.html#imatching\" rel=\"nofollow noreferrer\">documentation on non-breaking search</a> specifies:</p>\n<blockquote>\n<p>Using non-breaking search you can finding all possible occureneces of a\npattern, including those that are intersecting or nested. This is\nachieved by using the Matcher's method proceed() instead of find()</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":6,"creation_date":1341822164,"post_id":11391337,"comment_id":15016496,"body_markdown":"By all means reuse the `Matcher`. The only good reason to create a new  `Matcher` is to ensure thread-safety. That&#39;s why you don&#39;t make a `public static Matcher m`---in fact, that&#39;s the reason a separate `Pattern` class exists in the first place.","body":"By all means reuse the <code>Matcher</code>. The only good reason to create a new  <code>Matcher</code> is to ensure thread-safety. That&#39;s why you don&#39;t make a <code>public static Matcher m</code>---in fact, that&#39;s the reason a separate <code>Pattern</code> class exists in the first place."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":2,"creation_date":1341822326,"post_id":11391337,"comment_id":15016558,"body_markdown":"So, for single-threaded applications even as an instance or class variable, or for multi-threaded ones in which the Matcher object is created inside a method, reset() is fine, yes?","body":"So, for single-threaded applications even as an instance or class variable, or for multi-threaded ones in which the Matcher object is created inside a method, reset() is fine, yes?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1341822378,"post_id":11391337,"comment_id":15016584,"body_markdown":"@MarkoTopolnik: I think separating the compilation of the regex from it&#39;s application is another good reason for having a `Pattern` class.","body":"@MarkoTopolnik: I think separating the compilation of the regex from it&#39;s application is another good reason for having a <code>Pattern</code> class."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1341822409,"post_id":11391337,"comment_id":15016601,"body_markdown":"In every situation where you are sure there&#39;s only one user of `Matcher` at any point in time, it is OK to reuse it with `reset`.","body":"In every situation where you are sure there&#39;s only one user of <code>Matcher</code> at any point in time, it is OK to reuse it with <code>reset</code>."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341822472,"post_id":11391337,"comment_id":15016622,"body_markdown":"@JoachimSauer For that they could just have offered `public static Matcher compile(String regexp)`. It doesn&#39;t motivate a separate factory object.","body":"@JoachimSauer For that they could just have offered <code>public static Matcher compile(String regexp)</code>. It doesn&#39;t motivate a separate factory object."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1341822611,"post_id":11391337,"comment_id":15016677,"body_markdown":"@MarkoTopolnik Thanks for the clarification. I have numerous scenarios of Matcher objects created inside static methods and heavily used, so replacing re-instantiation with reset() will definitely improve application performance.","body":"@MarkoTopolnik Thanks for the clarification. I have numerous scenarios of Matcher objects created inside static methods and heavily used, so replacing re-instantiation with reset() will definitely improve application performance."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1341822620,"post_id":11391337,"comment_id":15016680,"body_markdown":"@MarkoTopolnik: I don&#39;t follow. Would that `Matcher` then be a `Matcher` with no `CharSequence` to match on? So you&#39;d suddenly have two different &quot;states&quot; of `Matcher`: with or without a string to be matched-on.","body":"@MarkoTopolnik: I don&#39;t follow. Would that <code>Matcher</code> then be a <code>Matcher</code> with no <code>CharSequence</code> to match on? So you&#39;d suddenly have two different &quot;states&quot; of <code>Matcher</code>: with or without a string to be matched-on."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341822825,"post_id":11391337,"comment_id":15016770,"body_markdown":"@JoachimSauer I&#39;m just writing a comment, not carefully designing the API as we speak. You must not imagine `Matcher` to be the one we are used to, but a blend of `Pattern` and `Matcher`. The API would just be different. For comparison you can see how they implemented XPath in jaxen.","body":"@JoachimSauer I&#39;m just writing a comment, not carefully designing the API as we speak. You must not imagine <code>Matcher</code> to be the one we are used to, but a blend of <code>Pattern</code> and <code>Matcher</code>. The API would just be different. For comparison you can see how they implemented XPath in jaxen."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1341822873,"post_id":11391337,"comment_id":15016789,"body_markdown":"@MarkoTopolnik: ok, never mind my asking, I was just curious as how you&#39;d have approached that.","body":"@MarkoTopolnik: ok, never mind my asking, I was just curious as how you&#39;d have approached that."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341823393,"post_id":11391337,"comment_id":15016960,"body_markdown":"@JoachimSauer I&#39;ve thought about it for a minute, it probably would make sense to have that kind of `Matcher` start its life in the state of &quot;no input&quot;. That wouldn&#39;t be a new state, though, because the real JDK `Matcher` finds itself in more-or-less the same state when it is done processing a string.","body":"@JoachimSauer I&#39;ve thought about it for a minute, it probably would make sense to have that kind of <code>Matcher</code> start its life in the state of &quot;no input&quot;. That wouldn&#39;t be a new state, though, because the real JDK <code>Matcher</code> finds itself in more-or-less the same state when it is done processing a string."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1341825118,"post_id":11391337,"comment_id":15017592,"body_markdown":"@MarkoTopolnik Can you please create a new answer to the question and copy-paste (a summary of) your comments there, so that I accept it and other people can mark it? Thanks!","body":"@MarkoTopolnik Can you please create a new answer to the question and copy-paste (a summary of) your comments there, so that I accept it and other people can mark it? Thanks!"},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":2,"creation_date":1388765326,"post_id":11391337,"comment_id":31384937,"body_markdown":"Just for information, both reset() method and reset(CharSequence) method were introduced in java.util.regex.Matcher class in Java 1.5 and are there since then.","body":"Just for information, both reset() method and reset(CharSequence) method were introduced in java.util.regex.Matcher class in Java 1.5 and are there since then."},{"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"score":0,"creation_date":1688652672,"post_id":11391337,"comment_id":135105238,"body_markdown":"In the &quot;new Matcher&quot; code, the premature declaration of the Matcher variable does not make any sense (it is not a C++ automatic variable), but the comment might look like it did to some readers.","body":"In the &quot;new Matcher&quot; code, the premature declaration of the Matcher variable does not make any sense (it is not a C++ automatic variable), but the comment might look like it did to some readers."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1341825686,"creation_date":1341825686,"answer_id":11392203,"question_id":11391337,"body_markdown":"By all means reuse the `Matcher`. The only good reason to create a new `Matcher` is to ensure thread-safety. That&#39;s why you don&#39;t make a `public static Matcher m`&amp;mdash;in fact, that&#39;s the reason a separate, thread-safe `Pattern` factory object exists in the first place.\r\n\r\nIn every situation where you are sure there&#39;s only one user of `Matcher` at any point in time, it is OK to reuse it with `reset`.","title":"Java Pattern Matcher: create new or reset?","body":"<p>By all means reuse the <code>Matcher</code>. The only good reason to create a new <code>Matcher</code> is to ensure thread-safety. That's why you don't make a <code>public static Matcher m</code>&mdash;in fact, that's the reason a separate, thread-safe <code>Pattern</code> factory object exists in the first place.</p>\n\n<p>In every situation where you are sure there's only one user of <code>Matcher</code> at any point in time, it is OK to reuse it with <code>reset</code>.</p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21615,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":11392203,"answer_count":1,"score":30,"last_activity_date":1692800223,"creation_date":1341822032,"question_id":11391337,"body_markdown":"Assume a regular expression, which, via a Java `Matcher` object, is matched against a large number of strings:\r\n\r\n    String expression = ...; // The Regular Expression\r\n    Pattern pattern = Pattern.compile(expression);\r\n    String[] ALL_INPUT = ...; // The large number of strings to be matched\r\n\r\n    Matcher matcher; // Declare but not initialize a Matcher\r\n    \r\n    for (String input:ALL_INPUT)\r\n    {\r\n        matcher = pattern.matcher(input); // Create a new Matcher\r\n    \r\n        if (matcher.matches()) // Or whatever other matcher check\r\n        {\r\n             // Whatever processing\r\n        }\r\n    }\r\n\r\nIn the [Java SE 6 JavaDoc for Matcher][1], one finds the option of reusing the same `Matcher` object, via the `reset(CharSequence)` method, which, as the source code shows, is a bit less expensive than creating a new `Matcher` every time, i.e., unlike above, one could do:\r\n\r\n    String expression = ...; // The Regular Expression\r\n    Pattern pattern = Pattern.compile(expression);\r\n    String[] ALL_INPUT = ...; // The large number of strings to be matched\r\n\r\n    Matcher matcher = pattern.matcher(&quot;&quot;); // Declare and initialize a matcher\r\n    \r\n    for (String input:ALL_INPUT)\r\n    {\r\n        matcher.reset(input); // Reuse the same matcher\r\n    \r\n        if (matcher.matches()) // Or whatever other matcher check\r\n        {\r\n             // Whatever processing\r\n        }\r\n    }\r\n\r\nShould one use the `reset(CharSequence)` pattern above, or should they prefer to initialize a new `Matcher` object every time?\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/index.html?java/util/regex/Matcher.html","title":"Java Pattern Matcher: create new or reset?","body":"<p>Assume a regular expression, which, via a Java <code>Matcher</code> object, is matched against a large number of strings:</p>\n<pre><code>String expression = ...; // The Regular Expression\nPattern pattern = Pattern.compile(expression);\nString[] ALL_INPUT = ...; // The large number of strings to be matched\n\nMatcher matcher; // Declare but not initialize a Matcher\n\nfor (String input:ALL_INPUT)\n{\n    matcher = pattern.matcher(input); // Create a new Matcher\n\n    if (matcher.matches()) // Or whatever other matcher check\n    {\n         // Whatever processing\n    }\n}\n</code></pre>\n<p>In the <a href=\"http://docs.oracle.com/javase/6/docs/api/index.html?java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Java SE 6 JavaDoc for Matcher</a>, one finds the option of reusing the same <code>Matcher</code> object, via the <code>reset(CharSequence)</code> method, which, as the source code shows, is a bit less expensive than creating a new <code>Matcher</code> every time, i.e., unlike above, one could do:</p>\n<pre><code>String expression = ...; // The Regular Expression\nPattern pattern = Pattern.compile(expression);\nString[] ALL_INPUT = ...; // The large number of strings to be matched\n\nMatcher matcher = pattern.matcher(&quot;&quot;); // Declare and initialize a matcher\n\nfor (String input:ALL_INPUT)\n{\n    matcher.reset(input); // Reuse the same matcher\n\n    if (matcher.matches()) // Or whatever other matcher check\n    {\n         // Whatever processing\n    }\n}\n</code></pre>\n<p>Should one use the <code>reset(CharSequence)</code> pattern above, or should they prefer to initialize a new <code>Matcher</code> object every time?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1356545931,"creation_date":1356545931,"answer_id":14044497,"question_id":14044464,"body_markdown":"The match *consumes* the input, so the next match is found *after* the end of the previous match:\r\n\r\nPosition of &quot;bab&quot; matcher&#39;s pointer before each match would be:\r\n\r\n1. `|abababa`\r\n1. `abab|aba`","title":"pattern search using regex in java","body":"<p>The match <em>consumes</em> the input, so the next match is found <em>after</em> the end of the previous match:</p>\n\n<p>Position of \"bab\" matcher's pointer before each match would be:</p>\n\n<ol>\n<li><code>|abababa</code></li>\n<li><code>abab|aba</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356545949,"creation_date":1356545949,"answer_id":14044501,"question_id":14044464,"body_markdown":"For Case 2:\r\n\r\nits because, after it search&#39;s for `bab`, it wouldn&#39;t consider the already searched char(b in this case at index 3) thus you get only 1.\r\n\r\n\r\n\r\n\r\n    Input:  abababa\r\n    Search for bab, \r\n     find&#39;s a match starting at index 1 and ending at index 3, next the search would start at index 4(aba)\r\n\r\n\r\n","title":"pattern search using regex in java","body":"<p>For Case 2:</p>\n\n<p>its because, after it search's for <code>bab</code>, it wouldn't consider the already searched char(b in this case at index 3) thus you get only 1.</p>\n\n<pre><code>Input:  abababa\nSearch for bab, \n find's a match starting at index 1 and ending at index 3, next the search would start at index 4(aba)\n</code></pre>\n"}],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14044497,"answer_count":2,"score":1,"last_activity_date":1692800184,"creation_date":1356545793,"question_id":14044464,"body_markdown":"    public static void main(String args[]) {\r\n        Pattern p = Pattern.compile(&quot;ab&quot;);  // Case 1\r\n        Pattern p = Pattern.compile(&quot;bab&quot;);  // Case 2\r\n        Matcher m = p.matcher(&quot;abababa&quot;);\r\n        while(m.find()){\r\n            System.out.print(m.start());\r\n        }\r\n    }\r\n\r\nWhen I used **Case 1**, then output is **024** as expected. But, when I used **Case 2** then output is **1**, but I was expected **13**. So, anyone explain me, is there any exceptional rule in `regex`, which causes this output, if not. Then, why I&#39;m getting this output. \r\n\r\nHelp appreciated !!\r\n\r\n\r\n\r\n**Note :** Case 1 and Case 2 are independently used.   ","title":"pattern search using regex in java","body":"<pre><code>public static void main(String args[]) {\n    Pattern p = Pattern.compile(\"ab\");  // Case 1\n    Pattern p = Pattern.compile(\"bab\");  // Case 2\n    Matcher m = p.matcher(\"abababa\");\n    while(m.find()){\n        System.out.print(m.start());\n    }\n}\n</code></pre>\n\n<p>When I used <strong>Case 1</strong>, then output is <strong>024</strong> as expected. But, when I used <strong>Case 2</strong> then output is <strong>1</strong>, but I was expected <strong>13</strong>. So, anyone explain me, is there any exceptional rule in <code>regex</code>, which causes this output, if not. Then, why I'm getting this output. </p>\n\n<p>Help appreciated !!</p>\n\n<p><strong>Note :</strong> Case 1 and Case 2 are independently used.   </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1355939736,"post_id":13958119,"comment_id":19252922,"body_markdown":"I assume you want to include `(Mason City Illinois )` but exclude `(black)` ?","body":"I assume you want to include <code>(Mason City Illinois )</code> but exclude <code>(black)</code> ?"},{"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"score":0,"creation_date":1355939874,"post_id":13958119,"comment_id":19252982,"body_markdown":"Yes exactly, that is one of the issues I&#39;ve run into","body":"Yes exactly, that is one of the issues I&#39;ve run into"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355940119,"post_id":13958119,"comment_id":19253087,"body_markdown":"I suspect you want only the last `()` to be parsed.","body":"I suspect you want only the last <code>()</code> to be parsed."}],"answers":[{"tags":[],"owner":{"account_id":363867,"reputation":462,"user_id":707891,"accept_rate":100,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355939843,"creation_date":1355939532,"answer_id":13958201,"question_id":13958119,"body_markdown":"If you are certain that there will always be 3 groups then this expression will work:\r\n\r\n(.\\*)\\\\((.\\*)\\\\)(.\\*)\r\n\r\nYou can try it yourself here:\r\n\r\nhttp://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html","title":"Regex to split a string into 3 parts","body":"<p>If you are certain that there will always be 3 groups then this expression will work:</p>\n\n<p>(.*)\\((.*)\\)(.*)</p>\n\n<p>You can try it yourself here:</p>\n\n<p><a href=\"http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html\" rel=\"nofollow\">http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":112241,"reputation":4633,"user_id":296158,"accept_rate":93,"display_name":"Adam P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355939703,"creation_date":1355939703,"answer_id":13958235,"question_id":13958119,"body_markdown":"Not sure if you need to use regex, but if you don&#39;t why not use [String.split][1]. Then you can use `&quot;\\\\(|\\\\)&quot;` to split the string on parentheses and then get the various sections from the created string array.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Regex to split a string into 3 parts","body":"<p>Not sure if you need to use regex, but if you don't why not use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\">String.split</a>. Then you can use <code>\"\\\\(|\\\\)\"</code> to split the string on parentheses and then get the various sections from the created string array.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355940649,"creation_date":1355940018,"answer_id":13958317,"question_id":13958119,"body_markdown":"**[Edit]** I wouldn&#39;t use regular expressions for this problem; instead I would simply use the [`String#lastIndexOf(...)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(int)) method to find the bounds of the last `(` and `)` characters and return substrings from those values:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String[] splitParens(String s) { \r\n      if (s == null) return null;\r\n      int indexOfLastOpenParen = s.lastIndexOf(&#39;(&#39;);\r\n      int indexOfLastCloseParen = s.lastIndexOf(&#39;)&#39;);\r\n      return new String[] { \r\n        s.substring(0, indexOfLastOpenParen),\r\n        s.substring(indexOfLastOpenParen + 1, indexOfLastCloseParen),\r\n        s.substring(indexOfLastCloseParen + 1)\r\n      };\r\n    } \r\n    public static void main(String args[]) throws Exception { \r\n      String input[] = { \r\n        &quot;Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200&quot;,\r\n        &quot;$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.&quot;,\r\n        &quot;Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly&quot;,\r\n        &quot;\\&quot;Great Xmas Gift\\&quot; XBox 360 Guitar Hero (Springfied)&quot;\r\n      };\r\n      Pattern p = Pattern.compile(&quot;\\\\(([^\\\\)]+)\\\\)&quot;);\r\n      for (String s : input) { \r\n        System.out.println(Arrays.asList(splitParens(s)));\r\n      }\r\n      // =&gt;\r\n      // [Xbox 360 (black) Elite Console 120GB , Mason City Illinois ,  $200]\r\n      // [$200 2013 North Trail Camper , RT 202. Manchester, Maine,  $224/mo.]\r\n      // [Snowmobile Bike trailers , Winthrop / Augusta,  $40 Monthly]\r\n      // [&quot;Great Xmas Gift&quot; XBox 360 Guitar Hero , Springfied, ]\r\n    }\r\n\r\nOf course, more error checking is needed (e.g. what if there is no `(` or `)`?).","title":"Regex to split a string into 3 parts","body":"<p><strong>[Edit]</strong> I wouldn't use regular expressions for this problem; instead I would simply use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf%28int%29\" rel=\"nofollow\"><code>String#lastIndexOf(...)</code></a> method to find the bounds of the last <code>(</code> and <code>)</code> characters and return substrings from those values:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] splitParens(String s) { \n  if (s == null) return null;\n  int indexOfLastOpenParen = s.lastIndexOf('(');\n  int indexOfLastCloseParen = s.lastIndexOf(')');\n  return new String[] { \n    s.substring(0, indexOfLastOpenParen),\n    s.substring(indexOfLastOpenParen + 1, indexOfLastCloseParen),\n    s.substring(indexOfLastCloseParen + 1)\n  };\n} \npublic static void main(String args[]) throws Exception { \n  String input[] = { \n    \"Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\",\n    \"$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\",\n    \"Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\",\n    \"\\\"Great Xmas Gift\\\" XBox 360 Guitar Hero (Springfied)\"\n  };\n  Pattern p = Pattern.compile(\"\\\\(([^\\\\)]+)\\\\)\");\n  for (String s : input) { \n    System.out.println(Arrays.asList(splitParens(s)));\n  }\n  // =&gt;\n  // [Xbox 360 (black) Elite Console 120GB , Mason City Illinois ,  $200]\n  // [$200 2013 North Trail Camper , RT 202. Manchester, Maine,  $224/mo.]\n  // [Snowmobile Bike trailers , Winthrop / Augusta,  $40 Monthly]\n  // [\"Great Xmas Gift\" XBox 360 Guitar Hero , Springfied, ]\n}\n</code></pre>\n\n<p>Of course, more error checking is needed (e.g. what if there is no <code>(</code> or <code>)</code>?).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1355940349,"creation_date":1355940349,"answer_id":13958401,"question_id":13958119,"body_markdown":"I suspect you could do this with a regular expression, but it might be simpler not to.\r\n\r\n        String input[] = {\r\n                &quot;Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200&quot;,\r\n                &quot;$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.&quot;,\r\n                &quot;Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly&quot;,\r\n                &quot;\\&quot;Great Xmas Gift\\&quot; XBox 360 Guitar Hero (Springfied)&quot;\r\n        };\r\n        for (String s : input) {\r\n            int lastClose = s.lastIndexOf(&#39;)&#39;);\r\n            int lastOpen = s.lastIndexOf(&#39;(&#39;, lastClose);\r\n            System.out.println(s.substring(0, lastOpen).trim() +\r\n                    &quot;~&quot; + s.substring(lastOpen + 1, lastClose).trim() +\r\n                    &quot;~&quot; + s.substring(lastClose + 1).trim());\r\n        }\r\n\r\nprints\r\n\r\n    Xbox 360 (black) Elite Console 120GB~Mason City Illinois~$200\r\n    $200 2013 North Trail Camper~RT 202. Manchester, Maine~$224/mo.\r\n    Snowmobile Bike trailers~Winthrop / Augusta~$40 Monthly\r\n    &quot;Great Xmas Gift&quot; XBox 360 Guitar Hero~Springfied~\r\n\r\n","title":"Regex to split a string into 3 parts","body":"<p>I suspect you could do this with a regular expression, but it might be simpler not to.</p>\n\n<pre><code>    String input[] = {\n            \"Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\",\n            \"$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\",\n            \"Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\",\n            \"\\\"Great Xmas Gift\\\" XBox 360 Guitar Hero (Springfied)\"\n    };\n    for (String s : input) {\n        int lastClose = s.lastIndexOf(')');\n        int lastOpen = s.lastIndexOf('(', lastClose);\n        System.out.println(s.substring(0, lastOpen).trim() +\n                \"~\" + s.substring(lastOpen + 1, lastClose).trim() +\n                \"~\" + s.substring(lastClose + 1).trim());\n    }\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Xbox 360 (black) Elite Console 120GB~Mason City Illinois~$200\n$200 2013 North Trail Camper~RT 202. Manchester, Maine~$224/mo.\nSnowmobile Bike trailers~Winthrop / Augusta~$40 Monthly\n\"Great Xmas Gift\" XBox 360 Guitar Hero~Springfied~\n</code></pre>\n"}],"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13958401,"answer_count":4,"score":3,"last_activity_date":1692800178,"creation_date":1355939211,"question_id":13958119,"body_markdown":"I have an example dynamic input of information like this:\r\n\r\n&gt; Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\r\n&gt; \r\n&gt; $200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\r\n&gt; \r\n&gt; Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\r\n&gt; \r\n&gt; &quot;Great Xmas Gift&quot; XBox 360 Guitar Hero (Springfied) \r\n\r\nI am trying to use Regex in Android to split the string into three parts:\r\n\r\n 1. Text before XXX()\r\n 2. Text in (XXX)\r\n 3. Text after () XXX\r\n\r\nSometimes there won&#39;t be a price, the text after the location in ().\r\n\r\nI&#39;ve tried to \r\n\r\n    Pattern p = Pattern.compile(&quot;\\(([^]*)\\)&quot;);\r\n    Matcher m = p.matcher(title);\r\n\r\nBut I can&#39;t get matchers to work in Android. It always returns empty when I look in with `matcher.group(1)`. I have it setup currently to look for either ( or $ and explode too give me the separate strings. But this is inaccurate and inefficient.\r\n\r\nAny help is apperciated!\r\n","title":"Regex to split a string into 3 parts","body":"<p>I have an example dynamic input of information like this:</p>\n\n<blockquote>\n  <p>Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200</p>\n  \n  <p>$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.</p>\n  \n  <p>Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly</p>\n  \n  <p>\"Great Xmas Gift\" XBox 360 Guitar Hero (Springfied) </p>\n</blockquote>\n\n<p>I am trying to use Regex in Android to split the string into three parts:</p>\n\n<ol>\n<li>Text before XXX()</li>\n<li>Text in (XXX)</li>\n<li>Text after () XXX</li>\n</ol>\n\n<p>Sometimes there won't be a price, the text after the location in ().</p>\n\n<p>I've tried to </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\(([^]*)\\)\");\nMatcher m = p.matcher(title);\n</code></pre>\n\n<p>But I can't get matchers to work in Android. It always returns empty when I look in with <code>matcher.group(1)</code>. I have it setup currently to look for either ( or $ and explode too give me the separate strings. But this is inaccurate and inefficient.</p>\n\n<p>Any help is apperciated!</p>\n"},{"tags":["java","regex","unique"],"answers":[{"tags":[],"owner":{"account_id":1793115,"reputation":43687,"user_id":1633117,"accept_rate":50,"display_name":"Martin Ender"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1354135344,"creation_date":1354134601,"answer_id":13613844,"question_id":13613813,"body_markdown":"Yes there is. You can combine a negative lookahead and a backreference:\r\n\r\n    &quot;(\\\\[[^\\\\[\\\\]]*\\\\])(?!.*\\\\1)&quot;\r\n\r\nThat will only match if that, which was matched by your actual pattern, does not occur again in the string. Effectively, that means you always get the **last** occurrence of every match, so you would get them in a different order:\r\n\r\n    [inputString]\r\n    [userName]\r\n\r\nIf the order is a problem for you (i.e. if it&#39;s crucial to order them by first occurrence), you won&#39;t be able to do this using regex only. You would need a variable-length look*behind* for that, and that is not supported by Java.\r\n\r\nFurther reading:\r\n\r\n - [Lookarounds][1]\r\n - [Backreferences][2]\r\n\r\n---\r\n\r\n**Some notes on a general solution**\r\n\r\nNote that this will work with any pattern whose matches are of non-zero width. The general solution is simply:\r\n\r\n    (yourPatternHere)(?!.*\\1)\r\n\r\n(I left out the double backslash, because that only applies to a few languages.)\r\n\r\nIf you want it to work with patterns that have zero-width matches (because you only want to know a position and are using lookarounds only for some reason), you could do this:\r\n\r\n    (zeroWidthPatternHere)(?!.+\\1)\r\n\r\nAlso, note that (generally) you might have to use the &quot;singleline&quot; or &quot;dotall&quot; option, if your input may contain linebreaks (otherwise the lookahead will only check in the current line). If you cannot or do not want to activate that (because you have a pattern that includes periods which should not match line breaks; or because you use JavaScript), this is the general solution:\r\n\r\n    (yourPatternHere)(?![\\s\\S]*\\1)\r\n\r\nAnd to make this answer even more widely applicable, here is how you could match only the *first* occurrence of every match (in an engine with variable-length lookbehinds, like .NET):\r\n\r\n    (yourPatternHere)(?&lt;!\\1.*\\1)\r\n    or\r\n    (yourPatternHere)(?&lt;!\\1[\\s\\S]*\\1)\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html\r\n  [2]: http://www.regular-expressions.info/brackets.html","title":"get unique regex matcher results (without using maps or lists)","body":"<p>Yes there is. You can combine a negative lookahead and a backreference:</p>\n\n<pre><code>\"(\\\\[[^\\\\[\\\\]]*\\\\])(?!.*\\\\1)\"\n</code></pre>\n\n<p>That will only match if that, which was matched by your actual pattern, does not occur again in the string. Effectively, that means you always get the <strong>last</strong> occurrence of every match, so you would get them in a different order:</p>\n\n<pre><code>[inputString]\n[userName]\n</code></pre>\n\n<p>If the order is a problem for you (i.e. if it's crucial to order them by first occurrence), you won't be able to do this using regex only. You would need a variable-length look*behind* for that, and that is not supported by Java.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/lookaround.html\">Lookarounds</a></li>\n<li><a href=\"http://www.regular-expressions.info/brackets.html\">Backreferences</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Some notes on a general solution</strong></p>\n\n<p>Note that this will work with any pattern whose matches are of non-zero width. The general solution is simply:</p>\n\n<pre><code>(yourPatternHere)(?!.*\\1)\n</code></pre>\n\n<p>(I left out the double backslash, because that only applies to a few languages.)</p>\n\n<p>If you want it to work with patterns that have zero-width matches (because you only want to know a position and are using lookarounds only for some reason), you could do this:</p>\n\n<pre><code>(zeroWidthPatternHere)(?!.+\\1)\n</code></pre>\n\n<p>Also, note that (generally) you might have to use the \"singleline\" or \"dotall\" option, if your input may contain linebreaks (otherwise the lookahead will only check in the current line). If you cannot or do not want to activate that (because you have a pattern that includes periods which should not match line breaks; or because you use JavaScript), this is the general solution:</p>\n\n<pre><code>(yourPatternHere)(?![\\s\\S]*\\1)\n</code></pre>\n\n<p>And to make this answer even more widely applicable, here is how you could match only the <em>first</em> occurrence of every match (in an engine with variable-length lookbehinds, like .NET):</p>\n\n<pre><code>(yourPatternHere)(?&lt;!\\1.*\\1)\nor\n(yourPatternHere)(?&lt;!\\1[\\s\\S]*\\1)\n</code></pre>\n"}],"owner":{"account_id":1275170,"reputation":2721,"user_id":1230594,"accept_rate":90,"display_name":"Isaac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6038,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":13613844,"answer_count":1,"score":8,"last_activity_date":1692800168,"creation_date":1354134469,"question_id":13613813,"body_markdown":"Is there a way to get only the unique matches? without using a list or a map after the matching, I want the matcher output to be unique right away.\r\n\r\nSample input/output:\r\n \r\n\r\n    String input = &quot;This is a question from [userName] about finding unique regex matches for [inputString] without using any lists or maps. -[userName].&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\[[^\\\\[\\\\]]*\\\\]&quot;);\r\n    Matcher matcher = pattern.matcher(rawText);\r\n    while (matcher.find()) {\r\n        String tokenName = matcher.group(0);\r\n        System.out.println(tokenName);\r\n    }\r\n\r\nThis will output the following:\r\n\r\n    [userName]\r\n    [inputString]\r\n    [userName]\r\n\r\nBut I want it to output the following:\r\n\r\n    [userName]\r\n    [inputString]\r\n","title":"get unique regex matcher results (without using maps or lists)","body":"<p>Is there a way to get only the unique matches? without using a list or a map after the matching, I want the matcher output to be unique right away.</p>\n\n<p>Sample input/output:</p>\n\n<pre><code>String input = \"This is a question from [userName] about finding unique regex matches for [inputString] without using any lists or maps. -[userName].\";\nPattern pattern = Pattern.compile(\"\\\\[[^\\\\[\\\\]]*\\\\]\");\nMatcher matcher = pattern.matcher(rawText);\nwhile (matcher.find()) {\n    String tokenName = matcher.group(0);\n    System.out.println(tokenName);\n}\n</code></pre>\n\n<p>This will output the following:</p>\n\n<pre><code>[userName]\n[inputString]\n[userName]\n</code></pre>\n\n<p>But I want it to output the following:</p>\n\n<pre><code>[userName]\n[inputString]\n</code></pre>\n"},{"tags":["java","regex","greedy"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352266109,"post_id":13263550,"comment_id":18077136,"body_markdown":"Do you just want two tags there: - `NP` and `VP`? And you aren&#39;t actually matching your `VP` tag?","body":"Do you just want two tags there: - <code>NP</code> and <code>VP</code>? And you aren&#39;t actually matching your <code>VP</code> tag?"}],"answers":[{"tags":[],"owner":{"account_id":1938,"reputation":1580,"user_id":2667,"display_name":"Dwight Holman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352267322,"creation_date":1352266960,"answer_id":13263762,"question_id":13263550,"body_markdown":"`((\\(NP .*?\\)( )?)+\\./\\.)` is the compiled pattern.\r\n\r\nSimplify:\r\n\r\n`\\(NP .*?\\) ?+\\./\\.` removing unused capturing groups.\r\n\r\nNow, lets look at the example strings you have: \r\n\r\nIn `(NP first tag) (VP second tag) ./.`, the `.*?` matches `first tag) (VP second tag`.  \r\nIn `(NP first tag) (VP second tag) (MISC tag that must not be catch) ./.`, `.*?` matches `first tag) (VP second tag) (MISC tag that must not be catch`.\r\n\r\n\r\nWhy?  I mean, it&#39;s non-greedy right? Right, but...  \r\n\r\n`.*?\\)` starts off matching ` first tag)`, what you want.  However, the rest of the regex fails the match and the regex engine throws that out as a possible answer and keeps looking.\r\n\r\nIf you don&#39;t have tags in tags like (NP (tag)), you can change the pattern: `\\(NP [^)]*?\\) `\r\n\r\nTo match the string you described in your question: `\\(NP [^)]*?\\)  ?\\(VP [^)]*?\\) \\./\\.`\r\n\r\nWith Java escaping it becomes `\\\\(NP [^)]*?\\\\)  ?\\\\(VP [^)]*?\\\\) \\./\\.`.  \r\n\r\nFor further reading, there is a great [Stack Overflow question][1] covering more of the theory and practice around this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5319840/greedy-vs-reluctant-vs-possessive-quantifiers","title":"Regex on Java: avoiding unnecessary &quot;greedy&quot; strategy by Matcher class","body":"<p><code>((\\(NP .*?\\)( )?)+\\./\\.)</code> is the compiled pattern.</p>\n\n<p>Simplify:</p>\n\n<p><code>\\(NP .*?\\) ?+\\./\\.</code> removing unused capturing groups.</p>\n\n<p>Now, lets look at the example strings you have: </p>\n\n<p>In <code>(NP first tag) (VP second tag) ./.</code>, the <code>.*?</code> matches <code>first tag) (VP second tag</code>.<br>\nIn <code>(NP first tag) (VP second tag) (MISC tag that must not be catch) ./.</code>, <code>.*?</code> matches <code>first tag) (VP second tag) (MISC tag that must not be catch</code>.</p>\n\n<p>Why?  I mean, it's non-greedy right? Right, but...  </p>\n\n<p><code>.*?\\)</code> starts off matching <code>first tag)</code>, what you want.  However, the rest of the regex fails the match and the regex engine throws that out as a possible answer and keeps looking.</p>\n\n<p>If you don't have tags in tags like (NP (tag)), you can change the pattern: <code>\\(NP [^)]*?\\)</code></p>\n\n<p>To match the string you described in your question: <code>\\(NP [^)]*?\\)  ?\\(VP [^)]*?\\) \\./\\.</code></p>\n\n<p>With Java escaping it becomes <code>\\\\(NP [^)]*?\\\\)  ?\\\\(VP [^)]*?\\\\) \\./\\.</code>.  </p>\n\n<p>For further reading, there is a great <a href=\"https://stackoverflow.com/questions/5319840/greedy-vs-reluctant-vs-possessive-quantifiers\">Stack Overflow question</a> covering more of the theory and practice around this.</p>\n"}],"owner":{"account_id":2018340,"reputation":915,"user_id":1805077,"accept_rate":89,"display_name":"Felipe Le&#227;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13263762,"answer_count":1,"score":1,"last_activity_date":1692800155,"creation_date":1352265756,"question_id":13263550,"body_markdown":"I&#39;m trying to develop a regex to look for a sequence of tags inside a string. For example, I can have the tag `(NP .*)` at least one time (can be multiple times), followed by a punctuation symbol (in this case a `./.`). If there&#39;s another tag between de `(NP)` and the `./.` (like the VP in the example below), the Matcher must not find anything. The problem is that even if I use the question mark after the `.*` it will keep looking for a `)` that makes the expression match something in the string. Here is my method:\r\n\r\n    public void myMethod() {\r\n        String input = &quot;(NP first tag) (VP second tag) ./.&quot;;\r\n        String regex = &quot;(\\\\(NP .*?\\\\)( )?)+&quot; + &quot;\\\\./\\\\.&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;(&quot; + regex + &quot;)&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n\r\n        if (matcher.find()) {\r\n            System.out.println(&quot;&lt;S &quot;+matcher.group(0)+&quot;&gt;&quot;);\r\n        } else {\r\n            System.out.println(&quot;sem grupos.&quot;);\r\n        }\r\n    }\r\n\r\nThe method will still match the regex, but it shouldn&#39;t.  I need it to tell me that no group was found, since the &quot;VP&quot; tag shouldn&#39;t be there. I believe the problem relies on the greedy strategy adopted by the Regex in Java. It tries to find some combination of characters that attend to the pattern described by the regex. I have no idea on how to rewrite this expression.\r\n\r\nAny Help?\r\n\r\n**EDITED:**\r\n\r\n1) I noticed that my question was a bit confusing, so I changed a bit the example to make it clearer.\r\n\r\n2) Thanks Aan Moore. I Agree that I was using more groups than necessary, but this happened because of the operators like `+`. I tried to cut away the unnecessary groups. Also your simple idea of replacing the `.*?` by a `[^)]*?` was great! The only thing that I adjusted was that I escaped the `)` symbol by using `[^\\\\)]*?`. Below I show the final REGEX used. \r\n\r\n    String regex = &quot;(\\\\(NP [^\\\\)]*?\\\\) ?)+\\\\./\\\\.&quot;;\r\n\r\nThanks a lot! :)","title":"Regex on Java: avoiding unnecessary &quot;greedy&quot; strategy by Matcher class","body":"<p>I'm trying to develop a regex to look for a sequence of tags inside a string. For example, I can have the tag <code>(NP .*)</code> at least one time (can be multiple times), followed by a punctuation symbol (in this case a <code>./.</code>). If there's another tag between de <code>(NP)</code> and the <code>./.</code> (like the VP in the example below), the Matcher must not find anything. The problem is that even if I use the question mark after the <code>.*</code> it will keep looking for a <code>)</code> that makes the expression match something in the string. Here is my method:</p>\n\n<pre><code>public void myMethod() {\n    String input = \"(NP first tag) (VP second tag) ./.\";\n    String regex = \"(\\\\(NP .*?\\\\)( )?)+\" + \"\\\\./\\\\.\";\n\n    Pattern pattern = Pattern.compile(\"(\" + regex + \")\");\n    Matcher matcher = pattern.matcher(input);\n\n    if (matcher.find()) {\n        System.out.println(\"&lt;S \"+matcher.group(0)+\"&gt;\");\n    } else {\n        System.out.println(\"sem grupos.\");\n    }\n}\n</code></pre>\n\n<p>The method will still match the regex, but it shouldn't.  I need it to tell me that no group was found, since the \"VP\" tag shouldn't be there. I believe the problem relies on the greedy strategy adopted by the Regex in Java. It tries to find some combination of characters that attend to the pattern described by the regex. I have no idea on how to rewrite this expression.</p>\n\n<p>Any Help?</p>\n\n<p><strong>EDITED:</strong></p>\n\n<p>1) I noticed that my question was a bit confusing, so I changed a bit the example to make it clearer.</p>\n\n<p>2) Thanks Aan Moore. I Agree that I was using more groups than necessary, but this happened because of the operators like <code>+</code>. I tried to cut away the unnecessary groups. Also your simple idea of replacing the <code>.*?</code> by a <code>[^)]*?</code> was great! The only thing that I adjusted was that I escaped the <code>)</code> symbol by using <code>[^\\\\)]*?</code>. Below I show the final REGEX used. </p>\n\n<pre><code>String regex = \"(\\\\(NP [^\\\\)]*?\\\\) ?)+\\\\./\\\\.\";\n</code></pre>\n\n<p>Thanks a lot! :)</p>\n"},{"tags":["java","regex","performance","mediawiki"],"comments":[{"owner":{"account_id":1929427,"reputation":33,"user_id":1739166,"display_name":"user1739166"},"score":0,"creation_date":1349982959,"post_id":12846866,"comment_id":17384143,"body_markdown":"Also, if I have something like \\_\\*\\[link|\\]\\*\\_: A link (without the url part) in bold and italic, I will need to parse it 3 times, one to remove the italic, other to remove the bold and the last one to remove the brackets... this is too slow for what I need","body":"Also, if I have something like _*&#91;link|&#93;*_: A link (without the url part) in bold and italic, I will need to parse it 3 times, one to remove the italic, other to remove the bold and the last one to remove the brackets... this is too slow for what I need"}],"answers":[{"tags":[],"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1349986725,"creation_date":1349986725,"answer_id":12847819,"question_id":12846866,"body_markdown":"Since it looks that is basically three types of code formatting: *italic*, **bold**, and [LINK][1]\r\n\r\n\r\n  [1]: http://pastebin.com/7WWwYMpy\r\n\r\nI&#39;ll do a 3-pass Regex replacer.\r\n\r\nand the order of precedence according to the input you have given should be:\r\n\r\n    /**\r\n     * FIRST REMOVE ITALICS, THEN BOLD, THEN URL\r\n     */\r\n    public static String cleanWikiFormat(CharSequence sequence) {\r\n        return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\r\n    }\r\n\r\n\r\nHere&#39;s a sample code:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Test {\r\n    \r\n        private static String removeItalic(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;_\\\\*(.+?)\\\\*_&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static String removeBold(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;\\\\*(.+?)\\\\*&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        private static String removeUrl(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;\\\\[(.+?)\\\\|\\\\]&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        public static String cleanWikiFormat(CharSequence sequence) {\r\n            return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String text = &quot;[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_&quot;;\r\n            System.out.println(&quot;Original&quot;);\r\n            System.out.println(text);\r\n            text = Test.cleanWikiFormat(text);\r\n            System.out.println(&quot;CHANGED&quot;);\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe following will give:\r\n\r\n    Original\r\n    [hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\r\n    CHANGED\r\n    hello this is just a test to clean wiki type and formatting\r\n\r\n","title":"java regex to clear mediawiki markup","body":"<p>Since it looks that is basically three types of code formatting: <em>italic</em>, <strong>bold</strong>, and <a href=\"http://pastebin.com/7WWwYMpy\" rel=\"nofollow\">LINK</a></p>\n\n<p>I'll do a 3-pass Regex replacer.</p>\n\n<p>and the order of precedence according to the input you have given should be:</p>\n\n<pre><code>/**\n * FIRST REMOVE ITALICS, THEN BOLD, THEN URL\n */\npublic static String cleanWikiFormat(CharSequence sequence) {\n    return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\n}\n</code></pre>\n\n<p>Here's a sample code:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Test {\n\n    private static String removeItalic(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"_\\\\*(.+?)\\\\*_\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n    private static String removeBold(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"\\\\*(.+?)\\\\*\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    private static String removeUrl(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"\\\\[(.+?)\\\\|\\\\]\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    public static String cleanWikiFormat(CharSequence sequence) {\n        return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\n    }\n\n    public static void main(String[] args) {\n        String text = \"[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\";\n        System.out.println(\"Original\");\n        System.out.println(text);\n        text = Test.cleanWikiFormat(text);\n        System.out.println(\"CHANGED\");\n        System.out.println(text);\n    }\n}\n</code></pre>\n\n<p>The following will give:</p>\n\n<pre><code>Original\n[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\nCHANGED\nhello this is just a test to clean wiki type and formatting\n</code></pre>\n"}],"owner":{"account_id":1929427,"reputation":33,"user_id":1739166,"display_name":"user1739166"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1349988116,"accepted_answer_id":12847819,"answer_count":1,"score":1,"last_activity_date":1692800145,"creation_date":1349982790,"question_id":12846866,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Wikipedia : Java library to remove wikipedia text markup removal](https://stackoverflow.com/questions/2863272/wikipedia-java-library-to-remove-wikipedia-text-markup-removal)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI have to clean some content that comes from Confluence. That content is almost clean; however, there are some things like: \r\n\r\n1. \\[link|\\]: A link without the url part\r\n2. \\*\\[link|\\]\\*: A link (without the url part) in bold\r\n3. \\*text\\*: Bolded text\r\n4. \\_\\*text\\*\\_: italic bolded text \r\n\r\nAnd so on.\r\nI need to write a regex that clean all that, so, I did something like: \r\n\r\n`String wikiCleanMarkupRegex = &quot;\\\\\\\\[(.*?)[\\\\\\\\|.*?]?\\\\\\\\]|\\\\\\\\*(.*?)\\\\\\\\*|_(.*?)_&quot;;`\r\n\r\nBut that doesn&#39;t clean everything, I mean, if I give it the link in #2, I will get: \r\n\r\n\\[link|\\]\r\n\r\nWhich is not what I want, I want to get &quot;link&quot;... so, I need to reparse the string again and again until no other match is found.\r\n\r\nThis is really slow because there are millions of records to clean, so, is there any way of doing a regex that does all at once?\r\n\r\nThanks a lot. \r\n\r\n","title":"java regex to clear mediawiki markup","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/2863272/wikipedia-java-library-to-remove-wikipedia-text-markup-removal\">Wikipedia : Java library to remove wikipedia text markup removal</a>  </p>\n</blockquote>\n\n\n\n<p>I have to clean some content that comes from Confluence. That content is almost clean; however, there are some things like: </p>\n\n<ol>\n<li>[link|]: A link without the url part</li>\n<li>*[link|]*: A link (without the url part) in bold</li>\n<li>*text*: Bolded text</li>\n<li>_*text*_: italic bolded text </li>\n</ol>\n\n<p>And so on.\nI need to write a regex that clean all that, so, I did something like: </p>\n\n<p><code>String wikiCleanMarkupRegex = \"\\\\\\\\[(.*?)[\\\\\\\\|.*?]?\\\\\\\\]|\\\\\\\\*(.*?)\\\\\\\\*|_(.*?)_\";</code></p>\n\n<p>But that doesn't clean everything, I mean, if I give it the link in #2, I will get: </p>\n\n<p>[link|]</p>\n\n<p>Which is not what I want, I want to get \"link\"... so, I need to reparse the string again and again until no other match is found.</p>\n\n<p>This is really slow because there are millions of records to clean, so, is there any way of doing a regex that does all at once?</p>\n\n<p>Thanks a lot. </p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1912673,"reputation":281,"user_id":1726030,"display_name":"Usman Salihin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1349587828,"creation_date":1349587828,"answer_id":12766371,"question_id":12766205,"body_markdown":"Short sample for you:\r\n\r\n\tPattern pattern = Pattern.compile(&quot;\\\\.A\\\\s(\\\\d+)&quot;); // grouping number\r\n\tMatcher matcher = pattern.matcher(&quot;.A 1 .A 2 .A 3 .A 4 *text* .A5&quot;); // full input string\r\n\twhile (matcher.find()) {\r\n\t    int n = Integer.valueOf(matcher.group(1)); // getting captured number - group #1\r\n\t    System.out.println(n);\r\n\t}\r\n\r\n\r\n","title":"Java regex partial match with period","body":"<p>Short sample for you:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\.A\\\\s(\\\\d+)\"); // grouping number\nMatcher matcher = pattern.matcher(\".A 1 .A 2 .A 3 .A 4 *text* .A5\"); // full input string\nwhile (matcher.find()) {\n    int n = Integer.valueOf(matcher.group(1)); // getting captured number - group #1\n    System.out.println(n);\n}\n</code></pre>\n"}],"owner":{"account_id":1912850,"reputation":13,"user_id":1726163,"display_name":"M. Dearning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12766371,"answer_count":1,"score":1,"last_activity_date":1692800093,"creation_date":1349585541,"question_id":12766205,"body_markdown":"In Java I am using Pattern and Matcher to find all instances of &quot;.A (a number)&quot; in a set of strings to retrieve the numbers.\r\n\r\nI run into problems because one of the words in the file is &quot;P.A.M.X.&quot; and the number returns 0. It won&#39;t go through the rest of the file. I&#39;ve tried using many different regular expressions but I can&#39;t get past that occurrence of &quot;P.A.M.X.&quot; and onto the next &quot;.A (number)&quot;\r\n\r\n    for (int i = 0; i &lt; input.size(); i++) {\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\.A\\\\s\\\\d+&quot;);\r\n    Matcher matcher = pattern.matcher(input.get(i));\r\n    \r\n    while (matcherDocId.find())\r\n        {\t\r\n                String matchFound = matcher.group().toString();\r\n                int numMatch = 0;\r\n                String[] tokens = matchFound.split(&quot; &quot;);\r\n                numMatch = Integer.parseInt(tokens[1]); \r\n                System.out.println(&quot;The number is: &quot; + numMatch);\r\n        }\r\n    }","title":"Java regex partial match with period","body":"<p>In Java I am using Pattern and Matcher to find all instances of \".A (a number)\" in a set of strings to retrieve the numbers.</p>\n\n<p>I run into problems because one of the words in the file is \"P.A.M.X.\" and the number returns 0. It won't go through the rest of the file. I've tried using many different regular expressions but I can't get past that occurrence of \"P.A.M.X.\" and onto the next \".A (number)\"</p>\n\n<pre><code>for (int i = 0; i &lt; input.size(); i++) {\n\nPattern pattern = Pattern.compile(\"\\\\.A\\\\s\\\\d+\");\nMatcher matcher = pattern.matcher(input.get(i));\n\nwhile (matcherDocId.find())\n    {   \n            String matchFound = matcher.group().toString();\n            int numMatch = 0;\n            String[] tokens = matchFound.split(\" \");\n            numMatch = Integer.parseInt(tokens[1]); \n            System.out.println(\"The number is: \" + numMatch);\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692800082,"creation_date":1692778653,"answer_id":76959534,"question_id":76958007,"body_markdown":"The short answer to your question is that the cell style needs a data format as shown in [quick-guide.html#DataFormats](https://poi.apache.org/components/spreadsheet/quick-guide.html#DataFormats). \r\n\r\nThe formula `=G2-H2` results in a numeric cell value. Such numeric values ​​are automatically right-justified, but only display as many decimal places as necessary. To show 0 as additional decimal place a special number format (data format) must be set. This can be `0.00` or `#,##0.00` if thousands also shall be separated if necessary.\r\n\r\nBut there are other problems in your code.\r\n\r\nYou seems creating a separate cell style for each single cell. This is not recommended. Excel has [limited count of cell styles per workbook](https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3). If that limit gets reached, cell styles will no longer be effective. Cell styles are stored at workbook level and are shared by all cells in all sheets of that workbook. Thus all needed cell styles need to be created at workbook level and then used while creating a cell.\r\n\r\nSame is for fonts. Fonts also have limited count per workbook. So fonts also should be created at workbook level and then shared by cell styles.\r\n\r\nYour code `String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, &#39;.&#39;);` converts the numeric value of whold tax into a formatted string. Then you set that string as the cell value. That&#39;s not recommended. Numeric values shall be numeric cell values too else calculations using those cells might fail. The green triangle on top left of your cells indicates this in Excel&#39;s GUI. So don&#39;t do this. Instead set the numeric (`double`) cell value and set a appropriate data format in cell style to proper format that value.\r\n\r\nFollowing complete example shows how to do this more properly.\r\n\r\nUsed `Income` POJO:\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Income {\r\n      private LocalDate pymtDate;\r\n      private String secCode;\r\n      private double grossFC;\r\n      private double wholdTax;\r\n      \r\n      public Income(LocalDate pymtDate, String secCode, double grossFC, double wholdTax) {\r\n       this.pymtDate = pymtDate;\r\n       this.secCode = secCode;\r\n       this.grossFC = grossFC;\r\n       this.wholdTax = wholdTax;\r\n      }\r\n      \r\n      public LocalDate getPymtDate() {\r\n       return this.pymtDate;\r\n      }\r\n      \r\n      public String getSecCode() {\r\n       return this.secCode;\r\n      }\r\n      \r\n      public double getGrossFC() {\r\n       return this.grossFC;\r\n      }\r\n      \r\n      public double getWholdTax() {\r\n       return this.wholdTax;\r\n      }\r\n    }\r\n\r\nCode:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    public class CreateExcel {\r\n        \r\n     private Workbook workbook;\r\n     private String filePath;\r\n     private Sheet sheet;\r\n     private Map&lt;String, CellStyle&gt; cellStyles = new HashMap&lt;String, CellStyle&gt;();\r\n     private Map&lt;String, Font&gt; fonts = new HashMap&lt;String, Font&gt;();\r\n        \r\n     public CreateExcel() {\r\n      this.workbook = new XSSFWorkbook(); this.filePath=&quot;./ExcelExample.xlsx&quot;;\r\n      //this.workbook = new HSSFWorkbook(); this.filePath=&quot;./ExcelExample.xls&quot;;\r\n        \r\n      // create all needed fonts and cell styles on workbook level\r\n      createFonts(&quot;Cordia New&quot;, (short)13);\r\n      createCellStyles();\r\n      \r\n      this.sheet = this.workbook.createSheet();\r\n      \r\n      writeHeaders();\r\n      writeRows();\r\n    \r\n      try (FileOutputStream out = new FileOutputStream(filePath)) {\r\n       workbook.write(out);\r\n       workbook.close();\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }     \r\n     }\r\n    \r\n     private void createFonts(String fontName, short height) {\r\n      Font font = this.workbook.createFont();\r\n      font.setFontName(fontName);\r\n      font.setFontHeightInPoints(height);\r\n      this.fonts.put(&quot;dataFont&quot;, font);\r\n      Font fontBold = this.workbook.createFont();\r\n      fontBold.setFontName(fontName);\r\n      fontBold.setFontHeightInPoints(height);\r\n      fontBold.setBold(true);\r\n      this.fonts.put(&quot;headerFont&quot;, fontBold);  \r\n     }\r\n     \r\n     private void createCellStyles() {\r\n      CreationHelper creationHelper = this.workbook.getCreationHelper();\r\n      \r\n      CellStyle headerCellStyleLeft = workbook.createCellStyle();\r\n      headerCellStyleLeft.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleLeft.setAlignment(HorizontalAlignment.LEFT);\r\n      this.cellStyles.put(&quot;headerCellStyleLeft&quot;, headerCellStyleLeft);\r\n      \r\n      CellStyle headerCellStyleCenter = workbook.createCellStyle();\r\n      headerCellStyleCenter.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleCenter.setAlignment(HorizontalAlignment.CENTER);\r\n      this.cellStyles.put(&quot;headerCellStyleCenter&quot;, headerCellStyleCenter);\r\n      \r\n      CellStyle headerCellStyleRight = workbook.createCellStyle();\r\n      headerCellStyleRight.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleRight.setAlignment(HorizontalAlignment.RIGHT);\r\n      this.cellStyles.put(&quot;headerCellStyleRight&quot;, headerCellStyleRight);\r\n      \r\n      CellStyle pymtDateCellStyle = workbook.createCellStyle();\r\n      pymtDateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd. MMM&quot;));\r\n      pymtDateCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      pymtDateCellStyle.setAlignment(HorizontalAlignment.CENTER);\r\n      this.cellStyles.put(&quot;pymtDateCellStyle&quot;, pymtDateCellStyle);\r\n      \r\n      CellStyle secCodeCellStyle = workbook.createCellStyle();\r\n      secCodeCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      this.cellStyles.put(&quot;secCodeCellStyle&quot;, secCodeCellStyle);\r\n      \r\n      CellStyle amountCellStyle = workbook.createCellStyle();\r\n      amountCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;#,##0.00&quot;));\r\n      amountCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      this.cellStyles.put(&quot;amountCellStyle&quot;, amountCellStyle);\r\n         \r\n     }\r\n     \r\n     private List&lt;Income&gt; getValues() {\r\n      List&lt;Income&gt; values = new ArrayList&lt;Income&gt;();\r\n      values.add(new Income(LocalDate.of(2023, 1, 3), &quot;Three Chemes Fund&quot;, 72.0, 10.8));\r\n      values.add(new Income(LocalDate.of(2023, 1, 10), &quot;St&#246;tafyg A B&quot;, 165.0, 24.75));\r\n      values.add(new Income(LocalDate.of(2023, 1, 11), &quot;Rising Damp Resorts&quot;, 4680.0, 702.0));\r\n      values.add(new Income(LocalDate.of(2023, 1, 27), &quot;Pang Technology&quot;, 43.52, 6.38));\r\n      return values;\r\n     }\r\n     \r\n     private void writeHeaders() {\r\n      Row row;\r\n      Cell cell;\r\n      row = sheet.createRow(0);\r\n      cell = row.createCell(0);\r\n      cell.setCellValue(&quot;Date&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleCenter&quot;));\r\n      cell = row.createCell(1);\r\n      cell.setCellValue(&quot;From&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleLeft&quot;));\r\n      cell = row.createCell(6);\r\n      cell.setCellValue(&quot;Gross FC&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n      cell = row.createCell(7);\r\n      cell.setCellValue(&quot;w/h tax&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n      cell = row.createCell(8);\r\n      cell.setCellValue(&quot;Net FC&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n     }\r\n     \r\n     private void writeRows() {\r\n      List&lt;Income&gt; values = getValues(); \r\n      int r = 1;\r\n      Row row;\r\n      Cell cell;\r\n      for (Income income : values) {\r\n       row = sheet.createRow(r);\r\n       cell = row.createCell(0);\r\n       cell.setCellValue(income.getPymtDate());\r\n       cell.setCellStyle(cellStyles.get(&quot;pymtDateCellStyle&quot;));\r\n       cell = row.createCell(1);\r\n       cell.setCellValue(income.getSecCode());\r\n       cell.setCellStyle(cellStyles.get(&quot;secCodeCellStyle&quot;));\r\n       \r\n       cell = row.createCell(6);\r\n       cell.setCellValue(income.getGrossFC());\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       cell = row.createCell(7);\r\n       cell.setCellValue(income.getWholdTax());\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       \r\n       cell = row.createCell(8);\r\n       cell.setCellFormula(&quot;G&quot; + (r+1) + &quot;-H&quot; + (r+1));\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       \r\n       r++;\r\n      }\r\n     }\r\n     \r\n     public static void main(String[] args) {\r\n      CreateExcel app = new CreateExcel();\r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5tg1j.png","title":"How do I Format Cell Content that has been derived from a Formula in Java POI","body":"<p>The short answer to your question is that the cell style needs a data format as shown in <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#DataFormats\" rel=\"nofollow noreferrer\">quick-guide.html#DataFormats</a>.</p>\n<p>The formula <code>=G2-H2</code> results in a numeric cell value. Such numeric values ​​are automatically right-justified, but only display as many decimal places as necessary. To show 0 as additional decimal place a special number format (data format) must be set. This can be <code>0.00</code> or <code>#,##0.00</code> if thousands also shall be separated if necessary.</p>\n<p>But there are other problems in your code.</p>\n<p>You seems creating a separate cell style for each single cell. This is not recommended. Excel has <a href=\"https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3\" rel=\"nofollow noreferrer\">limited count of cell styles per workbook</a>. If that limit gets reached, cell styles will no longer be effective. Cell styles are stored at workbook level and are shared by all cells in all sheets of that workbook. Thus all needed cell styles need to be created at workbook level and then used while creating a cell.</p>\n<p>Same is for fonts. Fonts also have limited count per workbook. So fonts also should be created at workbook level and then shared by cell styles.</p>\n<p>Your code <code>String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, '.');</code> converts the numeric value of whold tax into a formatted string. Then you set that string as the cell value. That's not recommended. Numeric values shall be numeric cell values too else calculations using those cells might fail. The green triangle on top left of your cells indicates this in Excel's GUI. So don't do this. Instead set the numeric (<code>double</code>) cell value and set a appropriate data format in cell style to proper format that value.</p>\n<p>Following complete example shows how to do this more properly.</p>\n<p>Used <code>Income</code> POJO:</p>\n<pre><code>import java.time.LocalDate;\n\npublic class Income {\n  private LocalDate pymtDate;\n  private String secCode;\n  private double grossFC;\n  private double wholdTax;\n  \n  public Income(LocalDate pymtDate, String secCode, double grossFC, double wholdTax) {\n   this.pymtDate = pymtDate;\n   this.secCode = secCode;\n   this.grossFC = grossFC;\n   this.wholdTax = wholdTax;\n  }\n  \n  public LocalDate getPymtDate() {\n   return this.pymtDate;\n  }\n  \n  public String getSecCode() {\n   return this.secCode;\n  }\n  \n  public double getGrossFC() {\n   return this.grossFC;\n  }\n  \n  public double getWholdTax() {\n   return this.wholdTax;\n  }\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nimport java.time.LocalDate;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class CreateExcel {\n    \n private Workbook workbook;\n private String filePath;\n private Sheet sheet;\n private Map&lt;String, CellStyle&gt; cellStyles = new HashMap&lt;String, CellStyle&gt;();\n private Map&lt;String, Font&gt; fonts = new HashMap&lt;String, Font&gt;();\n    \n public CreateExcel() {\n  this.workbook = new XSSFWorkbook(); this.filePath=&quot;./ExcelExample.xlsx&quot;;\n  //this.workbook = new HSSFWorkbook(); this.filePath=&quot;./ExcelExample.xls&quot;;\n    \n  // create all needed fonts and cell styles on workbook level\n  createFonts(&quot;Cordia New&quot;, (short)13);\n  createCellStyles();\n  \n  this.sheet = this.workbook.createSheet();\n  \n  writeHeaders();\n  writeRows();\n\n  try (FileOutputStream out = new FileOutputStream(filePath)) {\n   workbook.write(out);\n   workbook.close();\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }     \n }\n\n private void createFonts(String fontName, short height) {\n  Font font = this.workbook.createFont();\n  font.setFontName(fontName);\n  font.setFontHeightInPoints(height);\n  this.fonts.put(&quot;dataFont&quot;, font);\n  Font fontBold = this.workbook.createFont();\n  fontBold.setFontName(fontName);\n  fontBold.setFontHeightInPoints(height);\n  fontBold.setBold(true);\n  this.fonts.put(&quot;headerFont&quot;, fontBold);  \n }\n \n private void createCellStyles() {\n  CreationHelper creationHelper = this.workbook.getCreationHelper();\n  \n  CellStyle headerCellStyleLeft = workbook.createCellStyle();\n  headerCellStyleLeft.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleLeft.setAlignment(HorizontalAlignment.LEFT);\n  this.cellStyles.put(&quot;headerCellStyleLeft&quot;, headerCellStyleLeft);\n  \n  CellStyle headerCellStyleCenter = workbook.createCellStyle();\n  headerCellStyleCenter.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleCenter.setAlignment(HorizontalAlignment.CENTER);\n  this.cellStyles.put(&quot;headerCellStyleCenter&quot;, headerCellStyleCenter);\n  \n  CellStyle headerCellStyleRight = workbook.createCellStyle();\n  headerCellStyleRight.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleRight.setAlignment(HorizontalAlignment.RIGHT);\n  this.cellStyles.put(&quot;headerCellStyleRight&quot;, headerCellStyleRight);\n  \n  CellStyle pymtDateCellStyle = workbook.createCellStyle();\n  pymtDateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd. MMM&quot;));\n  pymtDateCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  pymtDateCellStyle.setAlignment(HorizontalAlignment.CENTER);\n  this.cellStyles.put(&quot;pymtDateCellStyle&quot;, pymtDateCellStyle);\n  \n  CellStyle secCodeCellStyle = workbook.createCellStyle();\n  secCodeCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  this.cellStyles.put(&quot;secCodeCellStyle&quot;, secCodeCellStyle);\n  \n  CellStyle amountCellStyle = workbook.createCellStyle();\n  amountCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;#,##0.00&quot;));\n  amountCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  this.cellStyles.put(&quot;amountCellStyle&quot;, amountCellStyle);\n     \n }\n \n private List&lt;Income&gt; getValues() {\n  List&lt;Income&gt; values = new ArrayList&lt;Income&gt;();\n  values.add(new Income(LocalDate.of(2023, 1, 3), &quot;Three Chemes Fund&quot;, 72.0, 10.8));\n  values.add(new Income(LocalDate.of(2023, 1, 10), &quot;Stötafyg A B&quot;, 165.0, 24.75));\n  values.add(new Income(LocalDate.of(2023, 1, 11), &quot;Rising Damp Resorts&quot;, 4680.0, 702.0));\n  values.add(new Income(LocalDate.of(2023, 1, 27), &quot;Pang Technology&quot;, 43.52, 6.38));\n  return values;\n }\n \n private void writeHeaders() {\n  Row row;\n  Cell cell;\n  row = sheet.createRow(0);\n  cell = row.createCell(0);\n  cell.setCellValue(&quot;Date&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleCenter&quot;));\n  cell = row.createCell(1);\n  cell.setCellValue(&quot;From&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleLeft&quot;));\n  cell = row.createCell(6);\n  cell.setCellValue(&quot;Gross FC&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n  cell = row.createCell(7);\n  cell.setCellValue(&quot;w/h tax&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n  cell = row.createCell(8);\n  cell.setCellValue(&quot;Net FC&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n }\n \n private void writeRows() {\n  List&lt;Income&gt; values = getValues(); \n  int r = 1;\n  Row row;\n  Cell cell;\n  for (Income income : values) {\n   row = sheet.createRow(r);\n   cell = row.createCell(0);\n   cell.setCellValue(income.getPymtDate());\n   cell.setCellStyle(cellStyles.get(&quot;pymtDateCellStyle&quot;));\n   cell = row.createCell(1);\n   cell.setCellValue(income.getSecCode());\n   cell.setCellStyle(cellStyles.get(&quot;secCodeCellStyle&quot;));\n   \n   cell = row.createCell(6);\n   cell.setCellValue(income.getGrossFC());\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   cell = row.createCell(7);\n   cell.setCellValue(income.getWholdTax());\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   \n   cell = row.createCell(8);\n   cell.setCellFormula(&quot;G&quot; + (r+1) + &quot;-H&quot; + (r+1));\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   \n   r++;\n  }\n }\n \n public static void main(String[] args) {\n  CreateExcel app = new CreateExcel();\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/5tg1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5tg1j.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7988365,"reputation":103,"user_id":6027012,"accept_rate":56,"display_name":"Rusty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76959534,"answer_count":1,"score":0,"last_activity_date":1692800082,"creation_date":1692760054,"question_id":76958007,"body_markdown":"I am trying to create a Java POI application that iterates through a list of transactions that subtracts one value from another to produce a new value. In Excel this is achieved by subtracting the value of one cell from another and then writing the result to a third cell. The output looks like this:\r\n[![Fig 1][1]][1]\r\n\r\n\r\nThe formula in the Net FC column represents a deduction of tax from a gross amount to produce a new amount (Net FC).  I have checked that this works by opening the Excel file and examining cell I.  It does what it is expected to do:\r\n[![Fig 2][2]][2]\r\n\r\n\r\nMy issue is that I cant style the result consistently so that it shows as a column of correctly right aligned values, to two decimal places, like this:\r\n\r\n[![Fig 3][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I0MTR.png\r\n  [2]: https://i.stack.imgur.com/ix37N.png\r\n  [3]: https://i.stack.imgur.com/DSVWN.png\r\n\r\nI have tried so far:\r\n\r\n    private CellStyle getCellStyle(String fname, int size, boolean isbold, String align) {\r\n            CellStyle style = workbook.createCellStyle();\r\n        switch(align) {\r\n          case &quot;L&quot; : {style.setAlignment(HorizontalAlignment.LEFT); break;}\r\n          case &quot;C&quot; : {style.setAlignment(HorizontalAlignment.CENTER); break;}\r\n          case &quot;R&quot; : {style.setAlignment(HorizontalAlignment.RIGHT); break;}\r\n        }\r\n        style.setFont(getFont(fname, size, isbold));\r\n        return style;\r\n      }\r\n    \r\n     private void writeRows() {\r\n        int row = 0;\r\n        String font = &quot;Cordia New&quot;;\r\n        Dao.connect();\r\n        TreeMap&lt;Integer, Income&gt; map = Dao.selectIncomesByYear(&quot;2023&quot;);\r\n        Dao.disconnect();\r\n        Income obj; \r\n        Iterator&lt;Income&gt; li = map.values().iterator();\r\n        while (li.hasNext()) {\r\n          obj = li.next();\r\n          row++;\r\n          XSSFRow dataRow = sheet.createRow(row);   \r\n    \r\n          XSSFCell cell = dataRow.createCell(0);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;C&quot;));\r\n          cell.setCellValue(getPaymentDate(obj.getPymtDate()));  \r\n    \r\n          cell = dataRow.createCell(1);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;L&quot;));\r\n          cell.setCellValue(getSecurityName(obj.getSecCode()));\r\n    \r\n          …\r\n          \r\n          cell = dataRow.createCell(7);\r\n          String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, &#39;.&#39;);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;R&quot;));\r\n          cell.setCellValue(wtax);\r\n          \r\n    \t\tFormulaEvaluator evaluator =    \r\n      \t\t\tworkbook.getCreationHelper().createFormulaEvaluator();\r\n          \r\n          dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\r\n          dataRow.createCell(9).setCellFormula(getFormula9(row + 1));\r\n        }\r\n      }\r\n\r\nThe above code produces the first example of the Excel result shown above, that is without the formula cells being formatted correctly. As I am unable to proceed beyond this point I would appreciate some help in getting a solution so that the formula cells I and J contain right aligned values to two decimal places.\r\n\r\nI  have found a solution from a 10 year old post, thanks Piyas De:\r\n\r\nCreate an instance of org.apache.poi.ss.usermodel.CreationHelper;\r\n\r\n    createHelper = workbook.getCreationHelper();\r\n\r\nAssign the value to the cell then use the helper to apply the format:\r\n\r\n    dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\r\n          cell = dataRow.getCell(8);\r\n          CellStyle cellStyle = workbook.createCellStyle();\r\n      cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;#####0.00&quot;));\r\n          cell.setCellStyle(cellStyle);\r\n\r\n\r\n \r\n\r\n\r\n\r\n","title":"How do I Format Cell Content that has been derived from a Formula in Java POI","body":"<p>I am trying to create a Java POI application that iterates through a list of transactions that subtracts one value from another to produce a new value. In Excel this is achieved by subtracting the value of one cell from another and then writing the result to a third cell. The output looks like this:\n<a href=\"https://i.stack.imgur.com/I0MTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I0MTR.png\" alt=\"Fig 1\" /></a></p>\n<p>The formula in the Net FC column represents a deduction of tax from a gross amount to produce a new amount (Net FC).  I have checked that this works by opening the Excel file and examining cell I.  It does what it is expected to do:\n<a href=\"https://i.stack.imgur.com/ix37N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ix37N.png\" alt=\"Fig 2\" /></a></p>\n<p>My issue is that I cant style the result consistently so that it shows as a column of correctly right aligned values, to two decimal places, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DSVWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSVWN.png\" alt=\"Fig 3\" /></a></p>\n<p>I have tried so far:</p>\n<pre><code>private CellStyle getCellStyle(String fname, int size, boolean isbold, String align) {\n        CellStyle style = workbook.createCellStyle();\n    switch(align) {\n      case &quot;L&quot; : {style.setAlignment(HorizontalAlignment.LEFT); break;}\n      case &quot;C&quot; : {style.setAlignment(HorizontalAlignment.CENTER); break;}\n      case &quot;R&quot; : {style.setAlignment(HorizontalAlignment.RIGHT); break;}\n    }\n    style.setFont(getFont(fname, size, isbold));\n    return style;\n  }\n\n private void writeRows() {\n    int row = 0;\n    String font = &quot;Cordia New&quot;;\n    Dao.connect();\n    TreeMap&lt;Integer, Income&gt; map = Dao.selectIncomesByYear(&quot;2023&quot;);\n    Dao.disconnect();\n    Income obj; \n    Iterator&lt;Income&gt; li = map.values().iterator();\n    while (li.hasNext()) {\n      obj = li.next();\n      row++;\n      XSSFRow dataRow = sheet.createRow(row);   \n\n      XSSFCell cell = dataRow.createCell(0);\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;C&quot;));\n      cell.setCellValue(getPaymentDate(obj.getPymtDate()));  \n\n      cell = dataRow.createCell(1);\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;L&quot;));\n      cell.setCellValue(getSecurityName(obj.getSecCode()));\n\n      …\n      \n      cell = dataRow.createCell(7);\n      String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, '.');\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;R&quot;));\n      cell.setCellValue(wtax);\n      \n        FormulaEvaluator evaluator =    \n            workbook.getCreationHelper().createFormulaEvaluator();\n      \n      dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\n      dataRow.createCell(9).setCellFormula(getFormula9(row + 1));\n    }\n  }\n</code></pre>\n<p>The above code produces the first example of the Excel result shown above, that is without the formula cells being formatted correctly. As I am unable to proceed beyond this point I would appreciate some help in getting a solution so that the formula cells I and J contain right aligned values to two decimal places.</p>\n<p>I  have found a solution from a 10 year old post, thanks Piyas De:</p>\n<p>Create an instance of org.apache.poi.ss.usermodel.CreationHelper;</p>\n<pre><code>createHelper = workbook.getCreationHelper();\n</code></pre>\n<p>Assign the value to the cell then use the helper to apply the format:</p>\n<pre><code>dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\n      cell = dataRow.getCell(8);\n      CellStyle cellStyle = workbook.createCellStyle();\n  cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;#####0.00&quot;));\n      cell.setCellStyle(cellStyle);\n</code></pre>\n"},{"tags":["java","android","regex","string"],"answers":[{"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347794509,"creation_date":1347794509,"answer_id":12446442,"question_id":12446405,"body_markdown":"How does it crash? What is the regex? `group(0)` is the whole match and `group(i), i &gt;0` will give you the captures in the regex if any. Also `while(m.find())` processes the string until any matches left. So call `find()` only once if you need the first match.","title":"How to get the first match of a regex in a string?","body":"<p>How does it crash? What is the regex? <code>group(0)</code> is the whole match and <code>group(i), i &gt;0</code> will give you the captures in the regex if any. Also <code>while(m.find())</code> processes the string until any matches left. So call <code>find()</code> only once if you need the first match.</p>\n"}],"owner":{"display_name":"user1667162"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":12446442,"answer_count":1,"score":1,"last_activity_date":1692800082,"creation_date":1347794122,"question_id":12446405,"body_markdown":"How can I read the first substring that matches my pattern?\r\nI have tried with \r\n\r\n    while (m.find()) {\r\n\t\t\t\t  URL=(m.group(1));\r\n\t\t\t\t  \t\t\t\t  \r\n\t\t\t\t}\r\nWith 1 in the `group` call the app crashes, and if I put nothing in it I get only the last match, I have to read the first matched string, how can I do?\r\nIt give me an error about regex, but it&#39;s strange because without the 1 in between the () the app works good and don&#39;t give me any error about my regex...\r\n","title":"How to get the first match of a regex in a string?","body":"<p>How can I read the first substring that matches my pattern?\nI have tried with </p>\n\n<pre><code>while (m.find()) {\n              URL=(m.group(1));\n\n            }\n</code></pre>\n\n<p>With 1 in the <code>group</code> call the app crashes, and if I put nothing in it I get only the last match, I have to read the first matched string, how can I do?\nIt give me an error about regex, but it's strange because without the 1 in between the () the app works good and don't give me any error about my regex...</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":2,"creation_date":1347567026,"post_id":12413974,"comment_id":16685516,"body_markdown":"There are no capturing groups in your pattern, so `.groupCount()` returns zero. Note that this does **not** return how many matches were found.","body":"There are no capturing groups in your pattern, so <code>.groupCount()</code> returns zero. Note that this does <b>not</b> return how many matches were found."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567178,"post_id":12413974,"comment_id":16685571,"body_markdown":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?","body":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1347567523,"post_id":12413974,"comment_id":16685720,"body_markdown":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? `int count = 0; for (; m.find(); count++);` should give you what you want.","body":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? <code>int count = 0; for (; m.find(); count++);</code> should give you what you want."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567748,"post_id":12413974,"comment_id":16685817,"body_markdown":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read","body":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1519131114,"post_id":12413974,"comment_id":84775983,"body_markdown":"As of Java 8, you might find it useful to use `Pattern.splitAsStream().count()`.","body":"As of Java 8, you might find it useful to use <code>Pattern.splitAsStream().count()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1347567335,"creation_date":1347566990,"answer_id":12414038,"question_id":12413974,"body_markdown":"From the javadoc of [Matcher.groupCount()][1]:  \r\n\r\n&gt; _Returns the number of capturing groups in this matcher&#39;s pattern.  \r\nGroup zero denotes the entire pattern by convention. It is not\r\n&gt; included in this count._\r\n\r\nIf you check the return value from `m.find()` it returns `true`, and `m.group()` returns `mas`, so the matcher does find a match.  \r\n\r\nIf what you are trying to do is to count the number of occurances of `s` in `mybooks.get(i).getBody()`, you can do it like this:  \r\n\r\n    String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n    int hit=0;\r\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(mybooks.get(i).getBody());\r\n    while (m.find()) {\r\n        hit++;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>From the javadoc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29\" rel=\"noreferrer\">Matcher.groupCount()</a>:  </p>\n\n<blockquote>\n  <p><em>Returns the number of capturing groups in this matcher's pattern.<br>\n  Group zero denotes the entire pattern by convention. It is not\n  included in this count.</em></p>\n</blockquote>\n\n<p>If you check the return value from <code>m.find()</code> it returns <code>true</code>, and <code>m.group()</code> returns <code>mas</code>, so the matcher does find a match.  </p>\n\n<p>If what you are trying to do is to count the number of occurances of <code>s</code> in <code>mybooks.get(i).getBody()</code>, you can do it like this:  </p>\n\n<pre><code>String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\nint hit=0;\nPattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(mybooks.get(i).getBody());\nwhile (m.find()) {\n    hit++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534830414,"creation_date":1347567540,"answer_id":12414152,"question_id":12413974,"body_markdown":"&gt; How could I then find the number of &quot;mas&quot; (or any other) words in a string without looping?\r\n\r\nYou could use [StringUtils][1] in Apache Commons:\r\n\r\n    int countMatches = StringUtils.countMatches(&quot;quiero mas dinero...&quot;, &quot;mas&quot;);\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>How could I then find the number of \"mas\" (or any other) words in a string without looping?</p>\n</blockquote>\n\n<p>You could use <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> in Apache Commons:</p>\n\n<pre><code>int countMatches = StringUtils.countMatches(\"quiero mas dinero...\", \"mas\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323740,"reputation":83,"user_id":1269018,"display_name":"jinglezju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405592932,"creation_date":1405592932,"answer_id":24801101,"question_id":12413974,"body_markdown":"You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n"},{"tags":[],"owner":{"account_id":11721189,"reputation":1,"user_id":8580106,"display_name":"R. Sham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566841380,"creation_date":1507104630,"answer_id":46559996,"question_id":12413974,"body_markdown":"&gt;You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.\r\n&gt;\r\n\r\nThat way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\r\nIn this case even if pattern is &quot;(mas)&quot; for input text like &quot;mas mas&quot; m.groupcount() show 1 - one and only groop for both matches.\r\n\r\nSo first response is correct and the only possible for the purpose of matches counting.","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n</blockquote>\n\n<p>That way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\nIn this case even if pattern is \"(mas)\" for input text like \"mas mas\" m.groupcount() show 1 - one and only groop for both matches.</p>\n\n<p>So first response is correct and the only possible for the purpose of matches counting.</p>\n"}],"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19252,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12414038,"answer_count":4,"score":11,"last_activity_date":1692800071,"creation_date":1347566731,"question_id":12413974,"body_markdown":"I know this has been asked but I am unable to fix it\r\n\r\nFor a book object with body (spanish): `&quot;quiero mas dinero&quot;` (actually quite a bit longer)\r\n\r\nMy `Matcher` keeps returning 0 for:\r\n\r\n        String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n        int hit=0;\r\n        Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(mybooks.get(i).getBody());\r\n        m.find();\r\n        System.out.println(s+&quot;  &quot;+m.groupCount()+&quot;  &quot; +mybooks.get(i).getBody());\r\n        hit+=m.groupCount();\r\n\r\nI keep getting `&quot;mas 0 quiero mas dinero&quot;` on console. Why oh why?\r\n\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>I know this has been asked but I am unable to fix it</p>\n\n<p>For a book object with body (spanish): <code>\"quiero mas dinero\"</code> (actually quite a bit longer)</p>\n\n<p>My <code>Matcher</code> keeps returning 0 for:</p>\n\n<pre><code>    String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\n    int hit=0;\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(mybooks.get(i).getBody());\n    m.find();\n    System.out.println(s+\"  \"+m.groupCount()+\"  \" +mybooks.get(i).getBody());\n    hit+=m.groupCount();\n</code></pre>\n\n<p>I keep getting <code>\"mas 0 quiero mas dinero\"</code> on console. Why oh why?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":2,"creation_date":1343308957,"post_id":11670224,"comment_id":15468172,"body_markdown":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log","body":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log"},{"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"score":0,"creation_date":1343309493,"post_id":11670224,"comment_id":15468465,"body_markdown":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern.","body":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern."},{"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1343309721,"post_id":11670224,"comment_id":15468608,"body_markdown":"ah i got it now.  added an answer...","body":"ah i got it now.  added an answer..."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343310957,"creation_date":1343309592,"answer_id":11670460,"question_id":11670224,"body_markdown":"You need to add groups to your regex.\r\n\r\n`private final static String REGEX_SMALL_COLLECTION = &quot;(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;`\r\n\r\nand then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use [&lt;code&gt;Matcher.group()&lt;/code&gt;][1] to get each group.  Note that group 0 is always the entire match. The rest are numbered from &lt;code&gt;1&lt;/code&gt; up, in order of their opening parens &lt;code&gt;(&lt;/code&gt;.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29","title":"Splitting pattern based on Regular Expressions","body":"<p>You need to add groups to your regex.</p>\n\n<p><code>private final static String REGEX_SMALL_COLLECTION = \"(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";</code></p>\n\n<p>and then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29\" rel=\"nofollow\"><code>Matcher.group()</code></a> to get each group.  Note that group 0 is always the entire match. The rest are numbered from <code>1</code> up, in order of their opening parens <code>(</code>.</p>\n"}],"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11670460,"answer_count":1,"score":0,"last_activity_date":1692800067,"creation_date":1343308816,"question_id":11670224,"body_markdown":"I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?\r\n\r\n    public class RegexTestHarness {\r\n      private final static String REGEX_SMALL_COLLECTION = &quot;\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;\r\n      \r\n      public static void main(String[] args){\r\n        Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \r\n        Matcher matcher = pattern.matcher(&quot;54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]&quot;);\r\n        while (matcher.find()) {           \t\r\n          System.out.println(matcher.group(0));\r\n          System.out.println(matcher.start());\r\n          System.out.println(matcher.end()); \r\n        }\r\n      }\r\n    }","title":"Splitting pattern based on Regular Expressions","body":"<p>I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?</p>\n\n<pre><code>public class RegexTestHarness {\n  private final static String REGEX_SMALL_COLLECTION = \"\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";\n\n  public static void main(String[] args){\n    Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \n    Matcher matcher = pattern.matcher(\"54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]\");\n    while (matcher.find()) {            \n      System.out.println(matcher.group(0));\n      System.out.println(matcher.start());\n      System.out.println(matcher.end()); \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":3,"creation_date":1342904194,"post_id":11595760,"comment_id":15346975,"body_markdown":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s).","body":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s)."},{"owner":{"account_id":138349,"reputation":8426,"user_id":343238,"accept_rate":82,"display_name":"dlras2"},"score":0,"creation_date":1342907092,"post_id":11595760,"comment_id":15347501,"body_markdown":"@nhahtdh http://gskinner.com/RegExr/ is another good online regex tester.","body":"@nhahtdh <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow noreferrer\">gskinner.com/RegExr</a> is another good online regex tester."}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1342904224,"creation_date":1342904224,"answer_id":11595778,"question_id":11595760,"body_markdown":"    String data = &quot;s:64:\\&quot;first string\\&quot; random stuff here s:64:\\&quot;second string\\&quot;&quot;;\r\n    Pattern p = Pattern.compile(&quot;s:64:\\&quot;([^\\&quot;]*)\\&quot;.*s:64:\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n    Matcher m = p.matcher(data);\r\n    if (m.find()) {\r\n      System.out.println(&quot;First string: &#39;&quot; + m.group(1) + &quot;&#39;&quot;);\r\n      System.out.println(&quot;Second string: &#39;&quot; + m.group(2) + &quot;&#39;&quot;);\r\n    }\r\nprints:\r\n\r\n&gt; First string: &#39;first string&#39;  \r\n&gt; Second string: &#39;second string&#39;","title":"Java how to setup regex for this string","body":"<pre><code>String data = \"s:64:\\\"first string\\\" random stuff here s:64:\\\"second string\\\"\";\nPattern p = Pattern.compile(\"s:64:\\\"([^\\\"]*)\\\".*s:64:\\\"([^\\\"]*)\\\"\");\nMatcher m = p.matcher(data);\nif (m.find()) {\n  System.out.println(\"First string: '\" + m.group(1) + \"'\");\n  System.out.println(\"Second string: '\" + m.group(2) + \"'\");\n}\n</code></pre>\n\n<p>prints:</p>\n\n<blockquote>\n  <p>First string: 'first string'<br>\n  Second string: 'second string'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342904230,"creation_date":1342904230,"answer_id":11595779,"question_id":11595760,"body_markdown":"Regex you need should be `compile(&quot;s:64:\\&quot;(.*?)\\&quot;.*s:64:\\&quot;(.*?)\\&quot;&quot;)`","title":"Java how to setup regex for this string","body":"<p>Regex you need should be <code>compile(\"s:64:\\\"(.*?)\\\".*s:64:\\\"(.*?)\\\"\")</code></p>\n"},{"tags":[],"owner":{"account_id":234517,"reputation":18006,"user_id":500725,"accept_rate":69,"display_name":"Siva Charan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342907019,"creation_date":1342904533,"answer_id":11595807,"question_id":11595760,"body_markdown":"Try this regex:-\r\n\r\n    s:64:\\&quot;(.*?)\\&quot;\r\n\r\nCode:\r\n-----\r\n\r\n    Pattern pattern = Pattern.compile(&quot;s:64:\\&quot;(.*?)\\&quot;&quot;);\r\n    Matcher matcher = pattern.matcher(YourStringVar);\r\n    // Check all occurance\r\n    int count = 0;\r\n    while (matcher.find() &amp;&amp; count++ &lt; 2) {\r\n        System.out.println(&quot;Group : &quot; + matcher.group(1));\r\n    }\r\n\r\nHere `group(1)` returns the each match.\r\n\r\nOUTPUT:\r\n-------\r\n\r\n    Group : First Match\r\n    Group : Second Match\r\n\r\nRefer **[LIVE DEMO][1]**\r\n\r\n[1]:http://ideone.com/PsbNB\r\n","title":"Java how to setup regex for this string","body":"<p>Try this regex:-</p>\n\n<pre><code>s:64:\\\"(.*?)\\\"\n</code></pre>\n\n<h2>Code:</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(\"s:64:\\\"(.*?)\\\"\");\nMatcher matcher = pattern.matcher(YourStringVar);\n// Check all occurance\nint count = 0;\nwhile (matcher.find() &amp;&amp; count++ &lt; 2) {\n    System.out.println(\"Group : \" + matcher.group(1));\n}\n</code></pre>\n\n<p>Here <code>group(1)</code> returns the each match.</p>\n\n<h2>OUTPUT:</h2>\n\n<pre><code>Group : First Match\nGroup : Second Match\n</code></pre>\n\n<p>Refer <strong><a href=\"http://ideone.com/PsbNB\" rel=\"nofollow\">LIVE DEMO</a></strong></p>\n"}],"owner":{"account_id":1678197,"reputation":382,"user_id":1543210,"accept_rate":100,"display_name":"grundyboy34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11595778,"answer_count":3,"score":0,"last_activity_date":1692800042,"creation_date":1342904071,"question_id":11595760,"body_markdown":"So I&#39;m trying to pull two strings via a matcher object from one string that is stored in my online databases.\r\n\r\nEach string appears after s:64: and is in quotations \r\nExample   s:64:&quot;stringhere&quot;\r\n\r\nI&#39;m currently trying to get them as so but any regex that I&#39;ve tried has failed,\r\n\r\n   \r\n\r\n     Pattern p = Pattern.compile(&quot;I don&#39;t know what to put as the regex&quot;);\r\n    Matcher m = p.matcher(data);\r\n\r\nSo with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.","title":"Java how to setup regex for this string","body":"<p>So I'm trying to pull two strings via a matcher object from one string that is stored in my online databases.</p>\n\n<p>Each string appears after s:64: and is in quotations \nExample   s:64:\"stringhere\"</p>\n\n<p>I'm currently trying to get them as so but any regex that I've tried has failed,</p>\n\n<pre><code> Pattern p = Pattern.compile(\"I don't know what to put as the regex\");\nMatcher m = p.matcher(data);\n</code></pre>\n\n<p>So with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.</p>\n"},{"tags":["java","spring-boot","multithreading","performance"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797210,"post_id":76961776,"comment_id":135673013,"body_markdown":"You could use the singleton pattern. In that way you create your `ThreadPoolTaskExecutor ` once and you can request the instance where needed to submit tasks. More info in this [tutorial](https://www.baeldung.com/java-singleton).","body":"You could use the singleton pattern. In that way you create your <code>ThreadPoolTaskExecutor </code> once and you can request the instance where needed to submit tasks. More info in this <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692797479,"post_id":76961776,"comment_id":135673054,"body_markdown":"In singleton pattern, at a time a single thread can access the method to get `ThreadPoolTaskExecutor` . Will that be helpful in multithreaded application?","body":"In singleton pattern, at a time a single thread can access the method to get <code>ThreadPoolTaskExecutor</code> . Will that be helpful in multithreaded application?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692797603,"post_id":76961776,"comment_id":135673083,"body_markdown":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade.","body":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade."},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797974,"post_id":76961776,"comment_id":135673178,"body_markdown":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block.","body":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block."}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692799406,"creation_date":1692799406,"answer_id":76962131,"question_id":76961776,"body_markdown":"It&#39;s a bit of an atypical implementation, but you could use a static block to create the `ThreadPoolTaskExecutor` and then submit tasks to it as you please.\r\n\r\n```\r\npublic class ThreadPoolTaskExecutorSingleton {\r\n    private static ThreadPoolTaskExecutor executor;\r\n\r\n    static {\r\n        executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(4);\r\n        executor.setMaxPoolSize(8);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n        executor.initialize();\r\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\r\n    }\r\n\r\n    public static ThreadPoolTaskExecutor getInstance() {\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI created a working example in this [repository](https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block).","title":"Way to implement multi threading in non spring managed class","body":"<p>It's a bit of an atypical implementation, but you could use a static block to create the <code>ThreadPoolTaskExecutor</code> and then submit tasks to it as you please.</p>\n<pre><code>public class ThreadPoolTaskExecutorSingleton {\n    private static ThreadPoolTaskExecutor executor;\n\n    static {\n        executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(4);\n        executor.setMaxPoolSize(8);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\n        executor.initialize();\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\n    }\n\n    public static ThreadPoolTaskExecutor getInstance() {\n        return executor;\n    }\n\n}\n</code></pre>\n<p>I created a working example in this <a href=\"https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}],"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799406,"creation_date":1692796944,"question_id":76961776,"body_markdown":"For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using `ThreadPoolTaskExecutor` as below:\r\n\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(4);\r\n    executor.setMaxPoolSize(8);\r\n    executor.setQueueCapacity(100);\r\n    executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n    executor.initialize();\r\n    return executor;\r\n\r\nThe above `executor` I am creating for each API request and calling `shutdown()` at the end. After that, somewhere I read that its costly to create `ThreadPoolTaskExecutor` object for each request.\r\n\r\nAnyways, with above code the performance is not good. Kindly suggest the better way to implement this.\r\n\r\nFYI, I am executing this code in **final non Spring managed class**. So, could not create bean of `ThreadPoolTaskExecutor` and autowire it. \r\n\r\nAny suggestions will be helpful. Thanks in advance. \r\n","title":"Way to implement multi threading in non spring managed class","body":"<p>For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using <code>ThreadPoolTaskExecutor</code> as below:</p>\n<pre><code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\nexecutor.setCorePoolSize(4);\nexecutor.setMaxPoolSize(8);\nexecutor.setQueueCapacity(100);\nexecutor.setThreadNamePrefix(&quot;customThread-&quot;);\nexecutor.initialize();\nreturn executor;\n</code></pre>\n<p>The above <code>executor</code> I am creating for each API request and calling <code>shutdown()</code> at the end. After that, somewhere I read that its costly to create <code>ThreadPoolTaskExecutor</code> object for each request.</p>\n<p>Anyways, with above code the performance is not good. Kindly suggest the better way to implement this.</p>\n<p>FYI, I am executing this code in <strong>final non Spring managed class</strong>. So, could not create bean of <code>ThreadPoolTaskExecutor</code> and autowire it.</p>\n<p>Any suggestions will be helpful. Thanks in advance.</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692706843,"post_id":76953253,"comment_id":135658121,"body_markdown":"Did you try just including `null` as a value in the list?","body":"Did you try just including <code>null</code> as a value in the list?"},{"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"score":0,"creation_date":1692786312,"post_id":76953253,"comment_id":135670716,"body_markdown":"@Jorn I tried but it didn&#39;t count that null value in the list in my case.","body":"@Jorn I tried but it didn&#39;t count that null value in the list in my case."}],"answers":[{"tags":[],"owner":{"account_id":4627939,"reputation":29,"user_id":3751177,"display_name":"lbos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692799314,"creation_date":1692799314,"answer_id":76962115,"question_id":76953253,"body_markdown":"You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs**Not**Null.","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs<strong>Not</strong>Null.</p>\n"}],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799314,"creation_date":1692706758,"question_id":76953253,"body_markdown":"I have a Spring JPA repository:\r\n```\r\n@Repository\r\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\r\n}\r\n```\r\nAnd I want to include `User` entities which have `type is null` into the results of this method. I tried something like `findByTypeInOrTypeIsNotNull` or `findByTypeIsNullOrIn and it didn&#39;t work. Is there a way to do this?","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>I have a Spring JPA repository:</p>\n<pre><code>@Repository\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\n}\n</code></pre>\n<p>And I want to include <code>User</code> entities which have <code>type is null</code> into the results of this method. I tried something like <code>findByTypeInOrTypeIsNotNull</code> or `findByTypeIsNullOrIn and it didn't work. Is there a way to do this?</p>\n"},{"tags":["java","spring","spring-boot","jdbc","spring-security"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692617292,"post_id":76942338,"comment_id":135643246,"body_markdown":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable.","body":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable."},{"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"score":0,"creation_date":1692799233,"post_id":76942338,"comment_id":135673547,"body_markdown":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.\n\nOne example is, in Spring Boot 3, I am unable to use `csrf` nor to get it working.","body":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.  One example is, in Spring Boot 3, I am unable to use <code>csrf</code> nor to get it working."}],"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692799259,"creation_date":1692590933,"question_id":76942338,"body_markdown":"I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.\r\n\r\nI tried the [Spring documentation itself][1], but I have difficulties to understand the steps without seeing the folder structure of a project. \r\n\r\nCan someone please guide me?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html","title":"How can I create JDBC auth with Spring Boot 3?","body":"<p>I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.</p>\n<p>I tried the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html\" rel=\"nofollow noreferrer\">Spring documentation itself</a>, but I have difficulties to understand the steps without seeing the folder structure of a project.</p>\n<p>Can someone please guide me?</p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692800945,"post_id":76962043,"comment_id":135673985,"body_markdown":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction.","body":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1692801421,"post_id":76962043,"comment_id":135674102,"body_markdown":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres","body":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692801537,"post_id":76962043,"comment_id":135674146,"body_markdown":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE","body":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE"},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693899002,"post_id":76962043,"comment_id":135816467,"body_markdown":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?","body":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693914407,"post_id":76962043,"comment_id":135819434,"body_markdown":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out.","body":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693982870,"post_id":76962043,"comment_id":135829649,"body_markdown":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints","body":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints"}],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692798849,"creation_date":1692798849,"question_id":76962043,"body_markdown":"Going through the doc here: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\r\n\r\n`The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.`\r\n\r\nThis implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using **postgres** database. Will the lock mode work for me as expected?","title":"Is lockmode PESSIMISTIC_FORCE_INCREMENT supported for all database engines including postgres?","body":"<p>Going through the doc here: <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html</a></p>\n<p><code>The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.</code></p>\n<p>This implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using <strong>postgres</strong> database. Will the lock mode work for me as expected?</p>\n"},{"tags":["java","weblogic","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":5841528,"reputation":231,"user_id":4602963,"display_name":"Steve Brewin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526501563,"creation_date":1503408275,"answer_id":45818919,"question_id":44949679,"body_markdown":"We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking\r\n \r\n    // Answer the cuurent container if it exists else create a new container\r\n    KieServices.Factory.get().getKieClasspathContainer();\r\n\r\n&lt;strong&gt;not&lt;/strong&gt;\r\n \r\n    // Always create a new container\r\n    KieServices.Factory.get().newKieClasspathContainer();\r\n\r\nfixed most things for us.  \r\n\r\nAlso, before the container goes out of scope be sure to invoke:\r\n \r\n    KieServices.Factory.get().getKieClasspathContainer().dispose();\r\n\r\nThis will release the container and its resources from the Drools global singleton.\r\n\r\nWe also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\r\npom.xml\r\nby adding\r\n\r\n    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\r\nto your Surefire configuration. For example:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;default-test&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                     &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n           &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nAlso, you might consider assigning each Java EE module its own KieContainer\r\n\r\n    KieContainer getKieClasspathContainer(String containerId);\r\n\r\nThis would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.","title":"Drools KieContainer from different ClassLoader","body":"<p>We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking</p>\n\n<pre><code>// Answer the cuurent container if it exists else create a new container\nKieServices.Factory.get().getKieClasspathContainer();\n</code></pre>\n\n<p><strong>not</strong></p>\n\n<pre><code>// Always create a new container\nKieServices.Factory.get().newKieClasspathContainer();\n</code></pre>\n\n<p>fixed most things for us.  </p>\n\n<p>Also, before the container goes out of scope be sure to invoke:</p>\n\n<pre><code>KieServices.Factory.get().getKieClasspathContainer().dispose();\n</code></pre>\n\n<p>This will release the container and its resources from the Drools global singleton.</p>\n\n<p>We also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\npom.xml\nby adding</p>\n\n<pre><code>&lt;reuseForks&gt;false&lt;/reuseForks&gt;\n</code></pre>\n\n<p>to your Surefire configuration. For example:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-test&lt;/id&gt;\n            &lt;configuration&gt;\n                 &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n       &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Also, you might consider assigning each Java EE module its own KieContainer</p>\n\n<pre><code>KieContainer getKieClasspathContainer(String containerId);\n</code></pre>\n\n<p>This would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.</p>\n"},{"tags":[],"owner":{"account_id":17691437,"reputation":11,"user_id":12843113,"display_name":"Param Natarajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580879154,"creation_date":1580879154,"answer_id":60069332,"question_id":44949679,"body_markdown":"The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\r\n**KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())**\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\n<strong>KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())</strong></p>\n"},{"tags":[],"owner":{"account_id":15905280,"reputation":31,"user_id":11476660,"display_name":"jim owens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798492,"creation_date":1692798492,"answer_id":76961993,"question_id":44949679,"body_markdown":"Personally, I think the solution is to transition to using the `KieRuntimeBuilder`, which generates a session through the following code: \r\n\r\n`kieRuntimeBuilder.newKieSession();`\r\n\r\nAt the end, you can dispose of it, but another option I haven&#39;t looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.","title":"Drools KieContainer from different ClassLoader","body":"<p>Personally, I think the solution is to transition to using the <code>KieRuntimeBuilder</code>, which generates a session through the following code:</p>\n<p><code>kieRuntimeBuilder.newKieSession();</code></p>\n<p>At the end, you can dispose of it, but another option I haven't looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.</p>\n"}],"owner":{"account_id":5174312,"reputation":4637,"user_id":4141980,"accept_rate":86,"display_name":"Jo&#227;o Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2534,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1692798492,"creation_date":1499346070,"question_id":44949679,"body_markdown":"\r\nWe have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. \r\n\r\nHowever, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:\r\n\r\n\r\n    null    java.lang.IllegalStateException: There&#39;s already another KieContainer created from a different ClassLoader; \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\r\n\r\n\r\nDo you have any suggestion on how to solve this?\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>We have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. </p>\n\n<p>However, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:</p>\n\n<pre><code>null    java.lang.IllegalStateException: There's already another KieContainer created from a different ClassLoader; \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\n</code></pre>\n\n<p>Do you have any suggestion on how to solve this?</p>\n"},{"tags":["java","dataframe","geometry","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1688978039,"post_id":76639838,"comment_id":135142435,"body_markdown":"What if you try raw SQL directly like `val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))`","body":"What if you try raw SQL directly like <code>val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))</code>"}],"answers":[{"tags":[],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692798487,"creation_date":1692798487,"answer_id":76961990,"question_id":76639838,"body_markdown":"I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\r\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : `Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\&#39;$geometryWKT\\&#39;))&quot;)` (in Kotlin)","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : <code>Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\'$geometryWKT\\'))&quot;)</code> (in Kotlin)</p>\n"}],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961990,"answer_count":1,"score":0,"last_activity_date":1692798487,"creation_date":1688759088,"question_id":76639838,"body_markdown":"I&#39;ve got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\r\nThe [ST_INTERSECTS ](https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes) function seems to not have its implementation in the Functions package. I didn&#39;t find any other way to use it.\r\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\r\n`val dataFrame = snowparkSession.table(tableName)\r\n            .where(ST_INTERSECTS(columnName, envelope))\r\n            .select(*)`\r\n\r\n\r\nI tried doing this :\r\n`Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)`\r\nsince  it is what was recommended here : https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\r\nBut it awaits 2 columns attributes, and my envelope isn&#39;t one or doesn&#39;t contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I've got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\nThe <a href=\"https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes\" rel=\"nofollow noreferrer\">ST_INTERSECTS </a> function seems to not have its implementation in the Functions package. I didn't find any other way to use it.\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\n<code>val dataFrame = snowparkSession.table(tableName) .where(ST_INTERSECTS(columnName, envelope)) .select(*)</code></p>\n<p>I tried doing this :\n<code>Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)</code>\nsince  it is what was recommended here : <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions</a>\nBut it awaits 2 columns attributes, and my envelope isn't one or doesn't contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle</p>\n"},{"tags":["java","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1692798066,"post_id":76960912,"comment_id":135673211,"body_markdown":"Try having a look at this: https://stackoverflow.com/a/71889101/3324415","body":"Try having a look at this: <a href=\"https://stackoverflow.com/a/71889101/3324415\">stackoverflow.com/a/71889101/3324415</a>"}],"answers":[{"tags":[],"owner":{"account_id":25245622,"reputation":9,"user_id":19078929,"display_name":"vizallati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798289,"creation_date":1692798289,"answer_id":76961963,"question_id":76960912,"body_markdown":"Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes</p>\n"}],"owner":{"account_id":3048324,"reputation":93,"user_id":2583445,"accept_rate":62,"display_name":"Peter O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692798289,"creation_date":1692789954,"question_id":76960912,"body_markdown":"\\initialization\\DriverUtils.java: \r\n- Here I have a takeScreenshot() function\r\n\r\n\\steps\\Hooks.java\r\n   - Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).\r\n\r\nIn the feature files we declare the tags (and suite) at the beginning:\r\n\r\n```\r\n# language: nl\r\n@suite=1A01\r\n@all @aanvraagflow_cv @OK\r\n```\r\nHow can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).\r\n\r\nI am not a real JAVA guru. This is the current implementation. I&#39;ve read a lot of different ways to implement Selenium / Cucumber in Java. But I can&#39;t find a match with mine, that&#39;s why my question.","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>\\initialization\\DriverUtils.java:</p>\n<ul>\n<li>Here I have a takeScreenshot() function</li>\n</ul>\n<p>\\steps\\Hooks.java</p>\n<ul>\n<li>Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).</li>\n</ul>\n<p>In the feature files we declare the tags (and suite) at the beginning:</p>\n<pre><code># language: nl\n@suite=1A01\n@all @aanvraagflow_cv @OK\n</code></pre>\n<p>How can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).</p>\n<p>I am not a real JAVA guru. This is the current implementation. I've read a lot of different ways to implement Selenium / Cucumber in Java. But I can't find a match with mine, that's why my question.</p>\n"},{"tags":["java","spring-boot","asynchronous","jaxb","sigterm"],"answers":[{"tags":[],"owner":{"account_id":15064463,"reputation":40,"user_id":10872098,"display_name":"Reza Eskandari"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692300434,"creation_date":1692300434,"answer_id":76924562,"question_id":76923513,"body_markdown":" The error message indicates that the SOAP client is throwing an exception because it&#39;s trying to access a resource (`META-INF/services/javax.xml.bind.JAXBContext`) that is not available due to the web application being stopped.\r\n\r\nThis issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here&#39;s an example of how you can do this:\r\n\r\n```java\r\nimport javax.xml.ws.WebServiceException;\r\n\r\n// ...\r\n\r\ntry {\r\n    // Call the SOAP method\r\n    // Your SOAP method invocation code here\r\n} catch (WebServiceException ex) {\r\n    if (ex.getCause() instanceof IllegalStateException) {\r\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\r\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\r\n            // Handle the case where the web application is stopping\r\n            // You can choose to log the error or perform any necessary cleanup\r\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\r\n        } else {\r\n            // Handle other WebServiceException cases\r\n        }\r\n    } else {\r\n        // Handle other WebServiceException cases\r\n    }\r\n}\r\n```\r\n\r\nIn the code above, we catch the `WebServiceException` and check if the cause of the exception is an `IllegalStateException` with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).\r\n\r\nBy handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The error message indicates that the SOAP client is throwing an exception because it's trying to access a resource (<code>META-INF/services/javax.xml.bind.JAXBContext</code>) that is not available due to the web application being stopped.</p>\n<p>This issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here's an example of how you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.ws.WebServiceException;\n\n// ...\n\ntry {\n    // Call the SOAP method\n    // Your SOAP method invocation code here\n} catch (WebServiceException ex) {\n    if (ex.getCause() instanceof IllegalStateException) {\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\n            // Handle the case where the web application is stopping\n            // You can choose to log the error or perform any necessary cleanup\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\n        } else {\n            // Handle other WebServiceException cases\n        }\n    } else {\n        // Handle other WebServiceException cases\n    }\n}\n</code></pre>\n<p>In the code above, we catch the <code>WebServiceException</code> and check if the cause of the exception is an <code>IllegalStateException</code> with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).</p>\n<p>By handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.</p>\n"},{"tags":[],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692798278,"creation_date":1692797848,"answer_id":76961894,"question_id":76923513,"body_markdown":"The problem was in the libraries.\r\n\r\nWas: \r\n\r\n    implementation group: &#39;org.glassfish.main.javaee-api&#39;, name: &#39;javax.jws&#39;, version: &#39;3.1.2.2&#39;\r\n    implementation group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.1&#39;\r\n    implementation group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-rt&#39;, version: &#39;2.3.1&#39;\r\n\r\nNeed to do:\r\n\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n    implementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n    implementation &#39;jakarta.activation:jakarta.activation-api:2.1.2&#39;\r\n    implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.1&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.1&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:4.0.2&#39;\r\n    runtimeOnly &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n    runtime Only &#39;com.sun.xml.messaging.saaj:saaj-impl:3.0.2&#39;\r\n\r\n**And accordingly, fix the imports in the classes from *javax* to *jakarta***","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The problem was in the libraries.</p>\n<p>Was:</p>\n<pre><code>implementation group: 'org.glassfish.main.javaee-api', name: 'javax.jws', version: '3.1.2.2'\nimplementation group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.1'\nimplementation group: 'com.sun.xml.ws', name: 'jaxws-rt', version: '2.3.1'\n</code></pre>\n<p>Need to do:</p>\n<pre><code>implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\nimplementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\nimplementation 'jakarta.activation:jakarta.activation-api:2.1.2'\nimplementation 'com.sun.xml.ws:jaxws-rt:4.0.1'\nimplementation 'com.sun.xml.bind:jaxb-impl:2.3.1'\nimplementation 'org.glassfish.jaxb:jaxb-runtime:4.0.2'\nruntimeOnly 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\nruntime Only 'com.sun.xml.messaging.saaj:saaj-impl:3.0.2'\n</code></pre>\n<p><strong>And accordingly, fix the imports in the classes from <em>javax</em> to <em>jakarta</em></strong></p>\n"}],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961894,"answer_count":2,"score":0,"last_activity_date":1692798278,"creation_date":1692290317,"question_id":76923513,"body_markdown":"I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.\r\n\r\nSet the settings for SpringBoot:\r\n```\r\nserver:\r\n  shutdown: graceful\r\n\r\nspring.task.execution:\r\n  pool:\r\n    allow-core-thread-timeout: true\r\n    keep-alive: 3m\r\n  shutdown:\r\n    await-termination: true\r\n    await-termination-period: 3m\r\n```\r\n\r\nAnd I also tried it with `ThreadPoolTaskExecutor`:\r\n```\r\nThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\r\ndefaultExecutor.setKeepAliveSeconds(180);\r\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\ndefaultExecutor.setAwaitTerminationSeconds(180);\r\n```\r\nBut I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:\r\n```\r\nERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\r\njava.lang.ExceptionInInitializerError: null\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\r\n…\r\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\r\n```\r\n\r\nPlease, help. What do I need to do?","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.</p>\n<p>Set the settings for SpringBoot:</p>\n<pre><code>server:\n  shutdown: graceful\n\nspring.task.execution:\n  pool:\n    allow-core-thread-timeout: true\n    keep-alive: 3m\n  shutdown:\n    await-termination: true\n    await-termination-period: 3m\n</code></pre>\n<p>And I also tried it with <code>ThreadPoolTaskExecutor</code>:</p>\n<pre><code>ThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\ndefaultExecutor.setKeepAliveSeconds(180);\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\ndefaultExecutor.setAwaitTerminationSeconds(180);\n</code></pre>\n<p>But I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:</p>\n<pre><code>ERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\njava.lang.ExceptionInInitializerError: null\n    at com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\n…\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\n</code></pre>\n<p>Please, help. What do I need to do?</p>\n"},{"tags":["java","selenium","junit","junit4","selenium-webdriver"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":1,"creation_date":1347664397,"post_id":12429793,"comment_id":16716215,"body_markdown":"In what kind of failure? When it can&#39;t click on a element? When it can&#39;t find an element immeaditely? When it can&#39;t find an element after waiting a little bit? When it can&#39;t launch the browser? The way I have done this is have a central method when the browser finds elements, wrap it in a try catch and in the catch, take a screenshot. Whenever I need to find an element, call this. Then this will handle it for you.","body":"In what kind of failure? When it can&#39;t click on a element? When it can&#39;t find an element immeaditely? When it can&#39;t find an element after waiting a little bit? When it can&#39;t launch the browser? The way I have done this is have a central method when the browser finds elements, wrap it in a try catch and in the catch, take a screenshot. Whenever I need to find an element, call this. Then this will handle it for you."},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":1,"creation_date":1347952689,"post_id":12429793,"comment_id":16777382,"body_markdown":"With TestNG you can easly achive that. You only need a listner that takes the screenshot. If you are interested in a TestNG solution I will post my code for that tomorrow.","body":"With TestNG you can easly achive that. You only need a listner that takes the screenshot. If you are interested in a TestNG solution I will post my code for that tomorrow."},{"owner":{"account_id":179989,"reputation":5011,"user_id":413020,"accept_rate":67,"display_name":"Alberto"},"score":1,"creation_date":1386936501,"post_id":12429793,"comment_id":30760221,"body_markdown":"Possible dup of: [Selenium 2 and JUnit4: How to capture screenshot on exception?](http://stackoverflow.com/a/7649994/413020)","body":"Possible dup of: <a href=\"http://stackoverflow.com/a/7649994/413020\">Selenium 2 and JUnit4: How to capture screenshot on exception?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1692797664,"creation_date":1347942285,"answer_id":12470351,"question_id":12429793,"body_markdown":"A few quick searches led me to a relevant article, &quot;Grabbing Screenshots of Failed Selenium Tests&quot; by Jason Lee, dated 24 Jan 2012. (Defunct original blogs.steeplesoft.com url: &lt;http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html&gt;, now available from [an archive.org mirror dated 7 Mar 2017](https://web.archive.org/web/20170307174236/http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html).)\r\n\r\nIn short, he recommends creating a JUnit4 `Rule` that wraps the test `Statement` in a try/catch block in which he calls:\r\n\r\n    imageFileOutputStream.write(\r\n        ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES));\r\n\r\nIn the comments, Leukipp links to a similar article [&quot;Performing an action when a test fails&quot;](http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails), by Thomas Sundberg, dated 8 Jul 2012, which offers a very similar @Rule but using `getScreenshotAs(OutputType.FILE)` which is then copied/moved to the intended destination.","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>A few quick searches led me to a relevant article, &quot;Grabbing Screenshots of Failed Selenium Tests&quot; by Jason Lee, dated 24 Jan 2012. (Defunct original blogs.steeplesoft.com url: <a href=\"http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html\" rel=\"nofollow noreferrer\">http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html</a>, now available from <a href=\"https://web.archive.org/web/20170307174236/http://blogs.steeplesoft.com/posts/2012/grabbing-screenshots-of-failed-selenium-tests.html\" rel=\"nofollow noreferrer\">an archive.org mirror dated 7 Mar 2017</a>.)</p>\n<p>In short, he recommends creating a JUnit4 <code>Rule</code> that wraps the test <code>Statement</code> in a try/catch block in which he calls:</p>\n<pre><code>imageFileOutputStream.write(\n    ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES));\n</code></pre>\n<p>In the comments, Leukipp links to a similar article <a href=\"http://www.thinkcode.se/blog/2012/07/08/performing-an-action-when-a-test-fails\" rel=\"nofollow noreferrer\">&quot;Performing an action when a test fails&quot;</a>, by Thomas Sundberg, dated 8 Jul 2012, which offers a very similar @Rule but using <code>getScreenshotAs(OutputType.FILE)</code> which is then copied/moved to the intended destination.</p>\n"},{"tags":[],"owner":{"account_id":38840,"reputation":932,"user_id":111755,"display_name":"dellsala"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444769285,"creation_date":1444769285,"answer_id":33112337,"question_id":12429793,"body_markdown":"If you want to quickly add this behavior to **ALL** your tests in the run you can use the `RunListener` interface to listen for test failures.\r\n\r\n    public class ScreenshotListener extends RunListener {\r\n\r\n        private TakesScreenshot screenshotTaker;\r\n\r\n        @Override\r\n\t    public void testFailure(Failure failure) throws Exception {\r\n\t\t    File file = screenshotTaker.getScreenshotAs(OutputType.File);\r\n            // do something with your file\r\n        }\r\n\r\n\t}\r\n\r\n\r\n\r\nAdd the listener to your test runner like this...\r\n\r\n    JUnitCore junit = new JUnitCore();\r\n    junit.addListener(new ScreenshotListener((TakesScreenShots) webDriver));\r\n    \r\n    // then run your test...\r\n    \r\n    Result result = junit.run(Request.classes(FullTestSuite.class));\r\n\r\n\r\n","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>If you want to quickly add this behavior to <strong>ALL</strong> your tests in the run you can use the <code>RunListener</code> interface to listen for test failures.</p>\n\n<pre><code>public class ScreenshotListener extends RunListener {\n\n    private TakesScreenshot screenshotTaker;\n\n    @Override\n    public void testFailure(Failure failure) throws Exception {\n        File file = screenshotTaker.getScreenshotAs(OutputType.File);\n        // do something with your file\n    }\n\n}\n</code></pre>\n\n<p>Add the listener to your test runner like this...</p>\n\n<pre><code>JUnitCore junit = new JUnitCore();\njunit.addListener(new ScreenshotListener((TakesScreenShots) webDriver));\n\n// then run your test...\n\nResult result = junit.run(Request.classes(FullTestSuite.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602058077,"creation_date":1593943711,"answer_id":62739342,"question_id":12429793,"body_markdown":"If you want to take a screenshot on test failure, add this class\r\n\r\n    import java.io.File;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    import org.junit.rules.MethodRule;\r\n    \r\n    import org.junit.runners.model.FrameworkMethod;\r\n    \r\n    import org.junit.runners.model.Statement;\r\n    \r\n    import org.openqa.selenium.OutputType;\r\n    \r\n    import org.openqa.selenium.TakesScreenshot;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class ScreenShotOnFailure implements MethodRule {\r\n    \r\n        private WebDriver driver;\r\n    \r\n        public ScreenShotOnFailure(WebDriver driver){\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n                    try {\r\n                        statement.evaluate();\r\n                    } catch (Throwable t) {\r\n                        captureScreenShot(frameworkMethod.getName());\r\n                        throw t;\r\n                    }\r\n                }\r\n    \r\n                public void captureScreenShot(String fileName) throws IOException {\r\n                    File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                    fileName += UUID.randomUUID().toString();\r\n                    File targetFile = new File(&quot;./Screenshots/&quot; + fileName + &quot;.png&quot;);\r\n                    FileUtils.copyFile(scrFile, targetFile);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAnd Before all tests, you should use this Rule:\r\n\r\n    @Rule\r\n    public ScreenShotOnFailure failure = new ScreenShotOnFailure(driver));\r\n    \r\n    @Before\r\n    public void before() {\r\n       ...\r\n    }","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>If you want to take a screenshot on test failure, add this class</p>\n<pre><code>import java.io.File;\n\nimport java.io.IOException;\n\nimport java.util.UUID;\n\nimport org.apache.commons.io.FileUtils;\n\nimport org.junit.rules.MethodRule;\n\nimport org.junit.runners.model.FrameworkMethod;\n\nimport org.junit.runners.model.Statement;\n\nimport org.openqa.selenium.OutputType;\n\nimport org.openqa.selenium.TakesScreenshot;\n\nimport org.openqa.selenium.WebDriver;\n\npublic class ScreenShotOnFailure implements MethodRule {\n\n    private WebDriver driver;\n\n    public ScreenShotOnFailure(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object o) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                try {\n                    statement.evaluate();\n                } catch (Throwable t) {\n                    captureScreenShot(frameworkMethod.getName());\n                    throw t;\n                }\n            }\n\n            public void captureScreenShot(String fileName) throws IOException {\n                File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n                fileName += UUID.randomUUID().toString();\n                File targetFile = new File(&quot;./Screenshots/&quot; + fileName + &quot;.png&quot;);\n                FileUtils.copyFile(scrFile, targetFile);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And Before all tests, you should use this Rule:</p>\n<pre><code>@Rule\npublic ScreenShotOnFailure failure = new ScreenShotOnFailure(driver));\n\n@Before\npublic void before() {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30059,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":12470351,"answer_count":3,"score":22,"last_activity_date":1692797664,"creation_date":1347646251,"question_id":12429793,"body_markdown":"When my test case fails, especially on our build server, I want to take a picture / screenshot of the screen to help me debug what happened later on.  I know how to take a screenshot, but I was hoping for a way in JUnit to call my `takeScreenshot()` method if a test fails, before the browser is closed. \r\n\r\nNo, I don&#39;t want to go edit our bazillions of tests to add a try/catch.  I could maybe, just possibly be talked into an annotation, I suppose.  All of my tests have a common parent class, but I can&#39;t think of anything I can do there to solve this.\r\n\r\nIdeas?\r\n","title":"Can Selenium take a screenshot on test failure with JUnit?","body":"<p>When my test case fails, especially on our build server, I want to take a picture / screenshot of the screen to help me debug what happened later on.  I know how to take a screenshot, but I was hoping for a way in JUnit to call my <code>takeScreenshot()</code> method if a test fails, before the browser is closed. </p>\n\n<p>No, I don't want to go edit our bazillions of tests to add a try/catch.  I could maybe, just possibly be talked into an annotation, I suppose.  All of my tests have a common parent class, but I can't think of anything I can do there to solve this.</p>\n\n<p>Ideas?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":25,"creation_date":1270816102,"post_id":2607289,"comment_id":2617440,"body_markdown":"I think your example is broken: `Arrays.asList(new int[] { 1, 2, 3 })`; definitely didn&#39;t compile in Java 1.4.2, because an `int[]` is **not** a `Object[]`.","body":"I think your example is broken: <code>Arrays.asList(new int[] { 1, 2, 3 })</code>; definitely didn&#39;t compile in Java 1.4.2, because an <code>int[]</code> is <b>not</b> a <code>Object[]</code>."},{"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"score":1,"creation_date":1270816481,"post_id":2607289,"comment_id":2617486,"body_markdown":"Oh, you may be right. I didn&#39;t have Java 1.4.2 compiler around to test my example before posting. Now, after your comment and Joe&#39;s answer, everything makes much more sense.","body":"Oh, you may be right. I didn&#39;t have Java 1.4.2 compiler around to test my example before posting. Now, after your comment and Joe&#39;s answer, everything makes much more sense."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":1,"creation_date":1378230847,"post_id":2607289,"comment_id":27372396,"body_markdown":"I thought Autoboxing would have covered conversion from primitive to wrapper Integer class. You can make the cast yourself first and then the above code for `Arrays.asList` should work.","body":"I thought Autoboxing would have covered conversion from primitive to wrapper Integer class. You can make the cast yourself first and then the above code for <code>Arrays.asList</code> should work."},{"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"score":2,"creation_date":1431950504,"post_id":2607289,"comment_id":48700921,"body_markdown":"Java 8&#39;s Stream.boxed() will take care of the autoboxing and can be used for this. See my answer [below](http://stackoverflow.com/a/30281879/752918).","body":"Java 8&#39;s Stream.boxed() will take care of the autoboxing and can be used for this. See my answer <a href=\"http://stackoverflow.com/a/30281879/752918\">below</a>."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1652098699,"creation_date":1270815986,"answer_id":2607327,"question_id":2607289,"body_markdown":"The problem is that varargs got introduced in Java 5 and unfortunately, `Arrays.asList()` got overloaded with a vararg version too. So `Arrays.asList(numbers)` is understood by the Java 5 compiler as a vararg parameter of int arrays.\r\n\r\nThis problem is explained in more details in Effective Java 2nd Ed., Chapter 7, Item 42.","title":"Converting array to list in Java","body":"<p>The problem is that varargs got introduced in Java 5 and unfortunately, <code>Arrays.asList()</code> got overloaded with a vararg version too. So <code>Arrays.asList(numbers)</code> is understood by the Java 5 compiler as a vararg parameter of int arrays.</p>\n<p>This problem is explained in more details in Effective Java 2nd Ed., Chapter 7, Item 42.</p>\n"},{"tags":[],"owner":{"account_id":15102,"reputation":45656,"user_id":31563,"accept_rate":70,"display_name":"Joe Daley"},"down_vote_count":8,"up_vote_count":1720,"is_accepted":true,"score":1712,"last_activity_date":1652098660,"creation_date":1270816043,"answer_id":2607335,"question_id":2607289,"body_markdown":"In your example, it is because you can&#39;t have a List of a primitive type. In other words, `List&lt;int&gt;` is not possible. \r\n\r\nYou can, however, have a `List&lt;Integer&gt;` using the [`Integer`][1] class that wraps the `int` primitive. Convert your array to a [`List`][2] with the [`Arrays.asList`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)) utility method.\r\n\r\n    Integer[] numbers = new Integer[] { 1, 2, 3 };\r\n    List&lt;Integer&gt; list = Arrays.asList(numbers);\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\r\n  [3]: https://ideone.com/KVd5j4","title":"Converting array to list in Java","body":"<p>In your example, it is because you can't have a List of a primitive type. In other words, <code>List&lt;int&gt;</code> is not possible.</p>\n<p>You can, however, have a <code>List&lt;Integer&gt;</code> using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html\" rel=\"noreferrer\"><code>Integer</code></a> class that wraps the <code>int</code> primitive. Convert your array to a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> with the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\"><code>Arrays.asList</code></a> utility method.</p>\n<pre><code>Integer[] numbers = new Integer[] { 1, 2, 3 };\nList&lt;Integer&gt; list = Arrays.asList(numbers);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/KVd5j4\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":217536,"reputation":341,"user_id":473384,"display_name":"Giancarlo Frison"},"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1407848899,"creation_date":1407848899,"answer_id":25265142,"question_id":2607289,"body_markdown":"you have to cast in to array\r\n\r\n    Arrays.asList((Object[]) array)","title":"Converting array to list in Java","body":"<p>you have to cast in to array</p>\n\n<pre><code>Arrays.asList((Object[]) array)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1409505984,"creation_date":1409505984,"answer_id":25594467,"question_id":2607289,"body_markdown":"I recently had to convert an array to a List.  Later on the program filtered the list attempting to remove the data.  When you use the Arrays.asList(array) function, you create a fixed size collection:  you can neither add nor delete.  This entry explains the problem better than I can: [https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list][1].\r\n\r\nIn the end, I had to do a &quot;manual&quot; conversion:\r\n\r\n        List&lt;ListItem&gt; items = new ArrayList&lt;ListItem&gt;();\r\n\t\tfor (ListItem item: itemsArray) {\r\n\t\t\titems.add(item);\r\n\t\t}\r\n\r\nI suppose I could have added conversion from an array to a list using an List.addAll(items) operation. \r\n\r\n  [1]: https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list","title":"Converting array to list in Java","body":"<p>I recently had to convert an array to a List.  Later on the program filtered the list attempting to remove the data.  When you use the Arrays.asList(array) function, you create a fixed size collection:  you can neither add nor delete.  This entry explains the problem better than I can: <a href=\"https://stackoverflow.com/questions/2965747/why-i-get-unsupportedoperationexception-when-trying-to-remove-from-the-list\">Why do I get an UnsupportedOperationException when trying to remove an element from a List?</a>.</p>\n\n<p>In the end, I had to do a \"manual\" conversion:</p>\n\n<pre><code>    List&lt;ListItem&gt; items = new ArrayList&lt;ListItem&gt;();\n    for (ListItem item: itemsArray) {\n        items.add(item);\n    }\n</code></pre>\n\n<p>I suppose I could have added conversion from an array to a list using an List.addAll(items) operation. </p>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1508398866,"creation_date":1411834927,"answer_id":26076682,"question_id":2607289,"body_markdown":"Speaking about conversion way, it depends on why do you need your `List`.\r\nIf you need it just to read data. OK, here you go:\r\n\r\n    Integer[] values = { 1, 3, 7 };\r\n    List&lt;Integer&gt; list = Arrays.asList(values);\r\n\r\nBut then if you do something like this:\r\n\r\n    list.add(1);\r\n\r\nyou get `java.lang.UnsupportedOperationException`.\r\nSo for some cases you even need this:\r\n\r\n    Integer[] values = { 1, 3, 7 };\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(values));\r\n\r\nFirst approach actually does not convert array but &#39;represents&#39; it like a `List`. But array is under the hood with all its properties like fixed number of elements. Please note you need to specify type when constructing `ArrayList`.\r\n\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<p>Speaking about conversion way, it depends on why do you need your <code>List</code>.\nIf you need it just to read data. OK, here you go:</p>\n\n<pre><code>Integer[] values = { 1, 3, 7 };\nList&lt;Integer&gt; list = Arrays.asList(values);\n</code></pre>\n\n<p>But then if you do something like this:</p>\n\n<pre><code>list.add(1);\n</code></pre>\n\n<p>you get <code>java.lang.UnsupportedOperationException</code>.\nSo for some cases you even need this:</p>\n\n<pre><code>Integer[] values = { 1, 3, 7 };\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(values));\n</code></pre>\n\n<p>First approach actually does not convert array but 'represents' it like a <code>List</code>. But array is under the hood with all its properties like fixed number of elements. Please note you need to specify type when constructing <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"down_vote_count":2,"up_vote_count":268,"is_accepted":false,"score":266,"last_activity_date":1652098670,"creation_date":1431820156,"answer_id":30281879,"question_id":2607289,"body_markdown":"In Java 8, you can use streams:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.stream(numbers)\r\n          .boxed()\r\n          .collect(Collectors.toList());","title":"Converting array to list in Java","body":"<p>In Java 8, you can use streams:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.stream(numbers)\n      .boxed()\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1227394,"reputation":3921,"user_id":1192702,"accept_rate":75,"display_name":"alaster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1652098718,"creation_date":1442838441,"answer_id":32695224,"question_id":2607289,"body_markdown":"Another workaround if you use Apache commons-lang:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.asList(ArrayUtils.toObject(numbers));\r\n\r\nWhere [ArrayUtils.toObject][1] converts `int[]` to `Integer[]`\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#toObject(int[])","title":"Converting array to list in Java","body":"<p>Another workaround if you use Apache commons-lang:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.asList(ArrayUtils.toObject(numbers));\n</code></pre>\n<p>Where <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#toObject(int%5B%5D)\" rel=\"nofollow noreferrer\">ArrayUtils.toObject</a> converts <code>int[]</code> to <code>Integer[]</code></p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":1,"up_vote_count":194,"is_accepted":false,"score":193,"last_activity_date":1644589873,"creation_date":1450847223,"answer_id":34428978,"question_id":2607289,"body_markdown":"We cannot have `List&lt;int&gt;` as `int` is a primitive type so we can only have `List&lt;Integer&gt;`. \r\n\r\n**Java 16**\r\n-----------\r\nJava 16 introduces a new method on Stream API called `toList()`. This handy method returns an unmodifiable List containing the stream elements. So, trying to add a new element to the list will simply lead to `UnsupportedOperationException`.\r\n\r\n    int[] ints = new int[] {1,2,3,4,5};\r\n    Arrays.stream(ints).boxed().toList();\r\n\r\n\r\nJava 8 (int array)\r\n--------------------------\r\n\r\n    int[] ints = new int[] {1,2,3,4,5};\r\n    List&lt;Integer&gt; list11 =Arrays.stream(ints).boxed().collect(Collectors.toList()); \r\n\r\nJava 8 and below (Integer array)\r\n-------------------\r\n\r\n    Integer[] integers = new Integer[] {1,2,3,4,5};\r\n    List&lt;Integer&gt; list21 =  Arrays.asList(integers); // returns a fixed-size list backed by the specified array.\r\n    List&lt;Integer&gt; list22 = new ArrayList&lt;&gt;(Arrays.asList(integers)); // good\r\n    List&lt;Integer&gt; list23 = Arrays.stream(integers).collect(Collectors.toList()); //Java 8 only\r\n\r\nNeed ArrayList and not List?\r\n----------------------------\r\n\r\nIn case we want a specific implementation of `List` e.g. `ArrayList` then we can use `toCollection` as:\r\n\r\n    ArrayList&lt;Integer&gt; list24 = Arrays.stream(integers)\r\n                              .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n----------\r\n\r\n**Why `list21` cannot be structurally modified?**\r\n\r\nWhen we use `Arrays.asList` the size of the returned list is fixed because the list returned is not `java.util.ArrayList`, but a private static class defined inside `java.util.Arrays`. So if we add or remove elements from the returned list, an `UnsupportedOperationException` will be thrown. So we should go with `list22` when we want to modify the list. If we have Java8 then we can also go with `list23`.\r\n\r\nTo be clear `list21` can be modified in sense that we can call `list21.set(index,element)` but this list may not be structurally modified i.e. cannot add or remove elements from the list. You can also check this [answer][1] of mine for more explanation.\r\n\r\n----------\r\nIf we want an immutable list then we can wrap it as:\r\n\r\n    List&lt;Integer&gt; list22 = Collections.unmodifiableList(Arrays.asList(integers));\r\n\r\nAnother point to note is that the method `Collections.unmodifiableList` returns an unmodifiable view of the specified list. An unmodifiable view collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection might still be possible, and if they occur, they are visible through the unmodifiable view. \r\n\r\nWe can have a truly immutable list in Java 9 and 10.\r\n\r\nTruly Immutable list\r\n-------------------------------------------\r\n\r\nJava 9:\r\n------\r\n\r\n    String[] objects = {&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;};\r\n    List&lt;String&gt; objectList = List.of(objects);\r\n\r\nJava 10 (Truly Immutable list):\r\n-------------------------------------------\r\nWe can use `List.of` introduced in Java 9. Also other ways:\r\n 1. `List.copyOf(Arrays.asList(integers))`\r\n 2. `Arrays.stream(integers).collect(Collectors.toUnmodifiableList());`\r\n\r\n  [1]: https://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist/52536126#52536126","title":"Converting array to list in Java","body":"<p>We cannot have <code>List&lt;int&gt;</code> as <code>int</code> is a primitive type so we can only have <code>List&lt;Integer&gt;</code>.</p>\n<h2><strong>Java 16</strong></h2>\n<p>Java 16 introduces a new method on Stream API called <code>toList()</code>. This handy method returns an unmodifiable List containing the stream elements. So, trying to add a new element to the list will simply lead to <code>UnsupportedOperationException</code>.</p>\n<pre><code>int[] ints = new int[] {1,2,3,4,5};\nArrays.stream(ints).boxed().toList();\n</code></pre>\n<h2>Java 8 (int array)</h2>\n<pre><code>int[] ints = new int[] {1,2,3,4,5};\nList&lt;Integer&gt; list11 =Arrays.stream(ints).boxed().collect(Collectors.toList()); \n</code></pre>\n<h2>Java 8 and below (Integer array)</h2>\n<pre><code>Integer[] integers = new Integer[] {1,2,3,4,5};\nList&lt;Integer&gt; list21 =  Arrays.asList(integers); // returns a fixed-size list backed by the specified array.\nList&lt;Integer&gt; list22 = new ArrayList&lt;&gt;(Arrays.asList(integers)); // good\nList&lt;Integer&gt; list23 = Arrays.stream(integers).collect(Collectors.toList()); //Java 8 only\n</code></pre>\n<h2>Need ArrayList and not List?</h2>\n<p>In case we want a specific implementation of <code>List</code> e.g. <code>ArrayList</code> then we can use <code>toCollection</code> as:</p>\n<pre><code>ArrayList&lt;Integer&gt; list24 = Arrays.stream(integers)\n                          .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<hr />\n<p><strong>Why <code>list21</code> cannot be structurally modified?</strong></p>\n<p>When we use <code>Arrays.asList</code> the size of the returned list is fixed because the list returned is not <code>java.util.ArrayList</code>, but a private static class defined inside <code>java.util.Arrays</code>. So if we add or remove elements from the returned list, an <code>UnsupportedOperationException</code> will be thrown. So we should go with <code>list22</code> when we want to modify the list. If we have Java8 then we can also go with <code>list23</code>.</p>\n<p>To be clear <code>list21</code> can be modified in sense that we can call <code>list21.set(index,element)</code> but this list may not be structurally modified i.e. cannot add or remove elements from the list. You can also check this <a href=\"https://stackoverflow.com/questions/26027396/arrays-aslist-vs-collections-singletonlist/52536126#52536126\">answer</a> of mine for more explanation.</p>\n<hr />\n<p>If we want an immutable list then we can wrap it as:</p>\n<pre><code>List&lt;Integer&gt; list22 = Collections.unmodifiableList(Arrays.asList(integers));\n</code></pre>\n<p>Another point to note is that the method <code>Collections.unmodifiableList</code> returns an unmodifiable view of the specified list. An unmodifiable view collection is a collection that is unmodifiable and is also a view onto a backing collection. Note that changes to the backing collection might still be possible, and if they occur, they are visible through the unmodifiable view.</p>\n<p>We can have a truly immutable list in Java 9 and 10.</p>\n<h2>Truly Immutable list</h2>\n<h2>Java 9:</h2>\n<pre><code>String[] objects = {&quot;Apple&quot;, &quot;Ball&quot;, &quot;Cat&quot;};\nList&lt;String&gt; objectList = List.of(objects);\n</code></pre>\n<h2>Java 10 (Truly Immutable list):</h2>\n<p>We can use <code>List.of</code> introduced in Java 9. Also other ways:</p>\n<ol>\n<li><code>List.copyOf(Arrays.asList(integers))</code></li>\n<li><code>Arrays.stream(integers).collect(Collectors.toUnmodifiableList());</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457669746,"creation_date":1457669746,"answer_id":35932105,"question_id":2607289,"body_markdown":"One-liner:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(new Integer[] {1, 2, 3, 4});","title":"Converting array to list in Java","body":"<p>One-liner:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(new Integer[] {1, 2, 3, 4});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8060532,"reputation":127,"user_id":6076212,"display_name":"Vitaliy Sokolov"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1458208505,"creation_date":1458208505,"answer_id":36057027,"question_id":2607289,"body_markdown":"Even shorter: \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\r\n","title":"Converting array to list in Java","body":"<p>Even shorter: </p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30900,"reputation":9089,"user_id":84540,"accept_rate":81,"display_name":"nybon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528992316,"creation_date":1471013520,"answer_id":38920860,"question_id":2607289,"body_markdown":"If you are targeting Java 8 (or later), you can try this:\r\n    \r\n    int[] numbers = new int[] {1, 2, 3, 4};\r\n    List&lt;Integer&gt; integers = Arrays.stream(numbers)\r\n                            .boxed().collect(Collectors.&lt;Integer&gt;toList());\r\n\r\n\r\nNOTE:\r\n\r\nPay attention to the `Collectors.&lt;Integer&gt;toList()`, this generic method helps you to avoid the error &quot;Type mismatch: cannot convert from `List&lt;Object&gt;` to `List&lt;Integer&gt;`&quot;.\r\n","title":"Converting array to list in Java","body":"<p>If you are targeting Java 8 (or later), you can try this:</p>\n\n<pre><code>int[] numbers = new int[] {1, 2, 3, 4};\nList&lt;Integer&gt; integers = Arrays.stream(numbers)\n                        .boxed().collect(Collectors.&lt;Integer&gt;toList());\n</code></pre>\n\n<p>NOTE:</p>\n\n<p>Pay attention to the <code>Collectors.&lt;Integer&gt;toList()</code>, this generic method helps you to avoid the error \"Type mismatch: cannot convert from <code>List&lt;Object&gt;</code> to <code>List&lt;Integer&gt;</code>\".</p>\n"},{"tags":[],"owner":{"account_id":5516910,"reputation":5424,"user_id":4381330,"accept_rate":92,"display_name":"Mincong Huang"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1488665566,"creation_date":1488665566,"answer_id":42602008,"question_id":2607289,"body_markdown":"### Using Arrays\r\n\r\nThis is the simplest way to convert an array to `List`. However, if you try to add a new element or remove an existing element from the list, an `UnsupportedOperationException` will be thrown.\r\n\r\n    Integer[] existingArray = {1, 2, 3};\r\n    List&lt;Integer&gt; list1 = Arrays.asList(existingArray);\r\n    List&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3);\r\n\r\n    // WARNING:\r\n    list2.add(1);     // Unsupported operation!\r\n    list2.remove(1);  // Unsupported operation!\r\n\r\n### Using ArrayList or Other List Implementations\r\n\r\nYou can use a `for` loop to add all the elements of the array into a `List` implementation, e.g. `ArrayList`:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for (int i : new int[]{1, 2, 3}) {\r\n      list.add(i);\r\n    }\r\n\r\n### Using Stream API in Java 8\r\n\r\nYou can turn the array into a stream, then collect the stream using different collectors: The default collector in Java 8 use `ArrayList` behind the screen, but you can also impose your preferred implementation.\r\n\r\n    List&lt;Integer&gt; list1, list2, list3;\r\n    list1 = Stream.of(1, 2, 3).collect(Collectors.toList());\r\n    list2 = Stream.of(1, 2, 3).collect(Collectors.toCollection(ArrayList::new));\r\n    list3 = Stream.of(1, 2, 3).collect(Collectors.toCollection(LinkedList::new));\r\n\r\nSee also:\r\n\r\n- [Why do we use autoboxing and unboxing in Java?][box]\r\n- [When to use LinkedList over ArrayList?][ArrayList vs LinkedList]\r\n\r\n[box]: https://stackoverflow.com/questions/27647407/why-do-we-use-autoboxing-and-unboxing-in-java\r\n[ArrayList vs LinkedList]: https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\r\n","title":"Converting array to list in Java","body":"<h3>Using Arrays</h3>\n\n<p>This is the simplest way to convert an array to <code>List</code>. However, if you try to add a new element or remove an existing element from the list, an <code>UnsupportedOperationException</code> will be thrown.</p>\n\n<pre><code>Integer[] existingArray = {1, 2, 3};\nList&lt;Integer&gt; list1 = Arrays.asList(existingArray);\nList&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3);\n\n// WARNING:\nlist2.add(1);     // Unsupported operation!\nlist2.remove(1);  // Unsupported operation!\n</code></pre>\n\n<h3>Using ArrayList or Other List Implementations</h3>\n\n<p>You can use a <code>for</code> loop to add all the elements of the array into a <code>List</code> implementation, e.g. <code>ArrayList</code>:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int i : new int[]{1, 2, 3}) {\n  list.add(i);\n}\n</code></pre>\n\n<h3>Using Stream API in Java 8</h3>\n\n<p>You can turn the array into a stream, then collect the stream using different collectors: The default collector in Java 8 use <code>ArrayList</code> behind the screen, but you can also impose your preferred implementation.</p>\n\n<pre><code>List&lt;Integer&gt; list1, list2, list3;\nlist1 = Stream.of(1, 2, 3).collect(Collectors.toList());\nlist2 = Stream.of(1, 2, 3).collect(Collectors.toCollection(ArrayList::new));\nlist3 = Stream.of(1, 2, 3).collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27647407/why-do-we-use-autoboxing-and-unboxing-in-java\">Why do we use autoboxing and unboxing in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist\">When to use LinkedList over ArrayList?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4601207,"reputation":1353,"user_id":3731900,"accept_rate":14,"display_name":"yousef"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1630690665,"creation_date":1497169870,"answer_id":44481846,"question_id":2607289,"body_markdown":"use two line of code to convert array to list if you use it in integer value\r\nyou must use autoboxing type for primitive data type\r\n\r\n      Integer [] arr={1,2};\r\n      List&lt;Integer&gt; listInt=Arrays.asList(arr);","title":"Converting array to list in Java","body":"<p>use two line of code to convert array to list if you use it in integer value\nyou must use autoboxing type for primitive data type</p>\n<pre><code>  Integer [] arr={1,2};\n  List&lt;Integer&gt; listInt=Arrays.asList(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4961451,"reputation":1211,"user_id":3992420,"accept_rate":50,"display_name":"Hitesh Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501222917,"creation_date":1501222917,"answer_id":45366236,"question_id":2607289,"body_markdown":"So it depends on which Java version you are trying-\r\n\r\nJava 7\r\n------\r\n\r\n     Arrays.asList(1, 2, 3);\r\n\r\nOR\r\n\r\n           final String arr[] = new String[] { &quot;G&quot;, &quot;E&quot;, &quot;E&quot;, &quot;K&quot; };\r\n           final List&lt;String&gt; initialList = new ArrayList&lt;String&gt;() {{\r\n               add(&quot;C&quot;);\r\n               add(&quot;O&quot;);\r\n               add(&quot;D&quot;);\r\n               add(&quot;I&quot;);\r\n               add(&quot;N&quot;);\r\n           }};\r\n     \r\n           // Elements of the array are appended at the end\r\n           Collections.addAll(initialList, arr);\r\nOR \r\n\r\n    Integer[] arr = new Integer[] { 1, 2, 3 };\r\n    Arrays.asList(arr);\r\n\r\n## In Java 8 ##\r\n\r\n    int[] num = new int[] {1, 2, 3};\r\n    List&lt;Integer&gt; list = Arrays.stream(num)\r\n                            .boxed().collect(Collectors.&lt;Integer&gt;toList())\r\n\r\n**Reference** - [http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/][1]\r\n\r\n\r\n  [1]: http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/","title":"Converting array to list in Java","body":"<p>So it depends on which Java version you are trying-</p>\n\n<h2>Java 7</h2>\n\n<pre><code> Arrays.asList(1, 2, 3);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>       final String arr[] = new String[] { \"G\", \"E\", \"E\", \"K\" };\n       final List&lt;String&gt; initialList = new ArrayList&lt;String&gt;() {{\n           add(\"C\");\n           add(\"O\");\n           add(\"D\");\n           add(\"I\");\n           add(\"N\");\n       }};\n\n       // Elements of the array are appended at the end\n       Collections.addAll(initialList, arr);\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>Integer[] arr = new Integer[] { 1, 2, 3 };\nArrays.asList(arr);\n</code></pre>\n\n<h2>In Java 8</h2>\n\n<pre><code>int[] num = new int[] {1, 2, 3};\nList&lt;Integer&gt; list = Arrays.stream(num)\n                        .boxed().collect(Collectors.&lt;Integer&gt;toList())\n</code></pre>\n\n<p><strong>Reference</strong> - <a href=\"http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/\" rel=\"nofollow noreferrer\">http://www.codingeek.com/java/how-to-convert-array-to-list-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":11673657,"reputation":353,"user_id":8547947,"display_name":"kleines Filmr&#246;llchen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644589896,"creation_date":1504624745,"answer_id":46058441,"question_id":2607289,"body_markdown":"I&#39;ve had the same problem and wrote a generic function that takes an array and returns an ArrayList of the same type with the same contents:\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; ArrayToArrayList(T[] array) {\r\n\t\tArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\t\tfor(T elmt : array) list.add(elmt);\r\n\t\treturn list;\r\n\t}","title":"Converting array to list in Java","body":"<p>I've had the same problem and wrote a generic function that takes an array and returns an ArrayList of the same type with the same contents:</p>\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; ArrayToArrayList(T[] array) {\n    ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for(T elmt : array) list.add(elmt);\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511944958,"creation_date":1511911370,"answer_id":47542599,"question_id":2607289,"body_markdown":"In Java 9 you have the even more elegant solution of using immutable lists via the new convenience factory method [`List.of`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-):\r\n\r\n    List&lt;String&gt; immutableList = List.of(&quot;one&quot;,&quot;two&quot;,&quot;three&quot;);\r\n\r\n(shamelessly copied from [here](https://www.journaldev.com/13121/java-9-features-with-examples#factory-methods-immutable) )","title":"Converting array to list in Java","body":"<p>In Java 9 you have the even more elegant solution of using immutable lists via the new convenience factory method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-E-E-\" rel=\"noreferrer\"><code>List.of</code></a>:</p>\n\n<pre><code>List&lt;String&gt; immutableList = List.of(\"one\",\"two\",\"three\");\n</code></pre>\n\n<p>(shamelessly copied from <a href=\"https://www.journaldev.com/13121/java-9-features-with-examples#factory-methods-immutable\" rel=\"noreferrer\">here</a> )</p>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522674628,"creation_date":1522674213,"answer_id":49611856,"question_id":2607289,"body_markdown":" 1. Using Guava:\r\n\r\n        Integer[] array = { 1, 2, 3};\r\n        List&lt;Integer&gt; list = Lists.newArrayList(sourceArray);\r\n\r\n\r\n 2. Using Apache Commons Collections:\r\n\r\n        Integer[] array = { 1, 2, 3};\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(6);\r\n        CollectionUtils.addAll(list, array);\r\n\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<ol>\n<li><p>Using Guava:</p>\n\n<pre><code>Integer[] array = { 1, 2, 3};\nList&lt;Integer&gt; list = Lists.newArrayList(sourceArray);\n</code></pre></li>\n<li><p>Using Apache Commons Collections:</p>\n\n<pre><code>Integer[] array = { 1, 2, 3};\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(6);\nCollectionUtils.addAll(list, array);\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567883781,"creation_date":1567883781,"answer_id":57836782,"question_id":2607289,"body_markdown":"**Given Array:**\r\n\r\n        int[] givenArray = {2,2,3,3,4,5};\r\n\r\n**Converting integer array to Integer List**\r\n\r\n**One way:   boxed() -&gt; returns the IntStream**\r\n\r\n        List&lt;Integer&gt; givenIntArray1 = Arrays.stream(givenArray)\r\n                                      .boxed()\r\n                                      .collect(Collectors.toList());\r\n      \r\n\r\n   \r\n\r\n**Second Way:  map each element of the stream to Integer and then collect**\r\n   \r\n**NOTE:** \r\n**Using mapToObj you can covert each int element into string stream, char stream etc by casing i to (char)i**\r\n\r\n        List&lt;Integer&gt; givenIntArray2 = Arrays.stream(givenArray)\r\n                                             .mapToObj(i-&gt;i)\r\n                                             .collect(Collectors.toList());\r\n\r\n**Converting One array Type to Another Type Example:**\r\n     \r\n    List&lt;Character&gt; givenIntArray2 = Arrays.stream(givenArray)\r\n                                                 .mapToObj(i-&gt;(char)i)\r\n                                                 .collect(Collectors.toList());\r\n\r\n","title":"Converting array to list in Java","body":"<p><strong>Given Array:</strong></p>\n\n<pre><code>    int[] givenArray = {2,2,3,3,4,5};\n</code></pre>\n\n<p><strong>Converting integer array to Integer List</strong></p>\n\n<p><strong>One way:   boxed() -> returns the IntStream</strong></p>\n\n<pre><code>    List&lt;Integer&gt; givenIntArray1 = Arrays.stream(givenArray)\n                                  .boxed()\n                                  .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Second Way:  map each element of the stream to Integer and then collect</strong></p>\n\n<p><strong>NOTE:</strong> \n<strong>Using mapToObj you can covert each int element into string stream, char stream etc by casing i to (char)i</strong></p>\n\n<pre><code>    List&lt;Integer&gt; givenIntArray2 = Arrays.stream(givenArray)\n                                         .mapToObj(i-&gt;i)\n                                         .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Converting One array Type to Another Type Example:</strong></p>\n\n<pre><code>List&lt;Character&gt; givenIntArray2 = Arrays.stream(givenArray)\n                                             .mapToObj(i-&gt;(char)i)\n                                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395386,"reputation":1084,"user_id":758323,"accept_rate":75,"display_name":"DevilCode"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1573685826,"creation_date":1573685826,"answer_id":58846892,"question_id":2607289,"body_markdown":"Can you improve this answer please as this is what I use but im not 100% clear. It works fine but intelliJ added new WeatherStation[0]. Why the 0 ?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public WeatherStation[] removeElementAtIndex(WeatherStation[] array, int index)\r\n        {\r\n            List&lt;WeatherStation&gt; list = new ArrayList&lt;WeatherStation&gt;(Arrays.asList(array));\r\n            list.remove(index);\r\n            return list.toArray(new WeatherStation[0]);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Converting array to list in Java","body":"<p>Can you improve this answer please as this is what I use but im not 100% clear. It works fine but intelliJ added new WeatherStation[0]. Why the 0 ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    public WeatherStation[] removeElementAtIndex(WeatherStation[] array, int index)\r\n    {\r\n        List&lt;WeatherStation&gt; list = new ArrayList&lt;WeatherStation&gt;(Arrays.asList(array));\r\n        list.remove(index);\r\n        return list.toArray(new WeatherStation[0]);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18642036,"reputation":39,"user_id":13587569,"display_name":"Dishant Tanwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626769089,"creation_date":1626769089,"answer_id":68451663,"question_id":2607289,"body_markdown":"**Use this to convert an Array `arr` to List.**\r\n`Arrays.stream(arr).collect(Collectors.toList());`\r\n\r\nAn example of defining a generic method to convert an array to a list:\r\n\r\n    \r\n    public &lt;T&gt; List&lt;T&gt; fromArrayToList(T[] a) {   \r\n        return Arrays.stream(a).collect(Collectors.toList());\r\n    }\r\n    \r\n\r\n","title":"Converting array to list in Java","body":"<p><strong>Use this to convert an Array <code>arr</code> to List.</strong>\n<code>Arrays.stream(arr).collect(Collectors.toList());</code></p>\n<p>An example of defining a generic method to convert an array to a list:</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; fromArrayToList(T[] a) {   \n    return Arrays.stream(a).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13359715,"reputation":69,"user_id":9642174,"display_name":"ivenpoker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632407283,"creation_date":1632407283,"answer_id":69301974,"question_id":2607289,"body_markdown":"As of Java 8, the following should do\r\n```\r\nint[] temp = {1, 2, 3, 4, 5};\r\nList&lt;Integer&gt; tempList = Arrays.stream(temp).boxed().collect(Collectors.toList());\r\n```\r\n","title":"Converting array to list in Java","body":"<p>As of Java 8, the following should do</p>\n<pre><code>int[] temp = {1, 2, 3, 4, 5};\nList&lt;Integer&gt; tempList = Arrays.stream(temp).boxed().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12173438,"reputation":1361,"user_id":8887313,"display_name":"ATOMP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650355692,"creation_date":1650355692,"answer_id":71921599,"question_id":2607289,"body_markdown":"If you are trying to optimize for memory, etc., (and don&#39;t want to pull in external libraries) it&#39;s simpler than you think to implement your own immutable &quot;array view list&quot;&#160;–&#160;you just need to extend `java.util.AbstractList`.\r\n\r\n```java\r\nclass IntArrayViewList extends AbstractList&lt;Integer&gt; {\r\n    int[] backingArray;\r\n    int size;\r\n\r\n    IntArrayViewList(int[] backingArray, int size) {\r\n        this.backingArray = backingArray;\r\n        this.size = size;\r\n    }\r\n\r\n    public Iterator&lt;Integer&gt; iterator() {\r\n        return new Iterator&lt;Integer&gt;() {\r\n            int i = 0;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return i &lt; size;\r\n            }\r\n\r\n            @Override\r\n            public Integer next() {\r\n                return get(i++);\r\n            }\r\n        };\r\n    }\r\n\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    public Integer get(int i) {\r\n        return backingArray[i];\r\n    }\r\n}\r\n```","title":"Converting array to list in Java","body":"<p>If you are trying to optimize for memory, etc., (and don't want to pull in external libraries) it's simpler than you think to implement your own immutable &quot;array view list&quot; – you just need to extend <code>java.util.AbstractList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class IntArrayViewList extends AbstractList&lt;Integer&gt; {\n    int[] backingArray;\n    int size;\n\n    IntArrayViewList(int[] backingArray, int size) {\n        this.backingArray = backingArray;\n        this.size = size;\n    }\n\n    public Iterator&lt;Integer&gt; iterator() {\n        return new Iterator&lt;Integer&gt;() {\n            int i = 0;\n\n            @Override\n            public boolean hasNext() {\n                return i &lt; size;\n            }\n\n            @Override\n            public Integer next() {\n                return get(i++);\n            }\n        };\n    }\n\n    public int size() {\n        return size;\n    }\n\n    public Integer get(int i) {\n        return backingArray[i];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179742,"reputation":9030,"user_id":412591,"accept_rate":46,"display_name":"Angelin Nadar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666268317,"creation_date":1666268142,"answer_id":74139744,"question_id":2607289,"body_markdown":"`int` is a primitive. Primitives can’t accept null and have default value. Hence, to accept `null` you need to use wrapper class `Integer`.\r\n\r\n\r\nOption 1: \r\n\r\n    int[] nos = { 1, 2, 3, 4, 5 };\r\n    Integer[] nosWrapped = Arrays.stream(nos).boxed()&#160;&#160;&#160;\r\n                                            .toArray(Integer[]::new);\r\n    nosWrapped[5] = null // can store null\r\n\r\nOption 2:\r\nYou can use any data structure that uses the wrapper class Integer\r\n\r\n    int[] nos = { 1, 2, 3, 4, 5 };\r\n    List&lt;Integer&gt; = Arrays.asList(nos)\r\n\r\n\r\n\r\n","title":"Converting array to list in Java","body":"<p><code>int</code> is a primitive. Primitives can’t accept null and have default value. Hence, to accept <code>null</code> you need to use wrapper class <code>Integer</code>.</p>\n<p>Option 1:</p>\n<pre><code>int[] nos = { 1, 2, 3, 4, 5 };\nInteger[] nosWrapped = Arrays.stream(nos).boxed()   \n                                        .toArray(Integer[]::new);\nnosWrapped[5] = null // can store null\n</code></pre>\n<p>Option 2:\nYou can use any data structure that uses the wrapper class Integer</p>\n<pre><code>int[] nos = { 1, 2, 3, 4, 5 };\nList&lt;Integer&gt; = Arrays.asList(nos)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6484208,"reputation":1561,"user_id":5020311,"display_name":"Enrique Palacio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674928692,"creation_date":1674928692,"answer_id":75269723,"question_id":2607289,"body_markdown":"I started looking at this by trying to reduce the amount of code preparing the input of some test cases. I see a lot of effort around trying to include advanced and new features along with ***Arrays.asList()***, but below the code chosen due simplicity:\r\n\r\n        //Integer input[]\r\n        List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4});\r\n        \r\n        //String input[]\r\n        List&lt;String&gt; names = Arrays.asList(new String[]{&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;});\r\n        \r\n        //String input[]\r\n        List&lt;Character&gt; letters = Arrays.asList(new Character[]{&#39;A&#39;, &#39;B&#39;, &#39;K&#39;, &#39;J&#39;, &#39;F&#39;});\r\n        \r\nPlease notice that Anonymous array example will work just with Arrays of **Non Primitive Types** as the API uses Generics, that&#39;s the reason you can see several 2 line examples around, more info here: https://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\r\n\r\nFor newer JDKs there is another simpler option, the below examples are equivalent to the ones show above:\r\n\r\n        //Integer\r\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4);\r\n        \r\n        //String\r\n        List&lt;String&gt; names = Arrays.asList(&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;); \r\n        \r\n        //Character\r\n        List&lt;Character&gt; letters = Arrays.asList(&#39;A&#39;, &#39;B&#39;, &#39;K&#39;, &#39;J&#39;, &#39;F&#39;);","title":"Converting array to list in Java","body":"<p>I started looking at this by trying to reduce the amount of code preparing the input of some test cases. I see a lot of effort around trying to include advanced and new features along with <em><strong>Arrays.asList()</strong></em>, but below the code chosen due simplicity:</p>\n<pre><code>    //Integer input[]\n    List&lt;Integer&gt; numbers = Arrays.asList(new Integer[]{1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4});\n    \n    //String input[]\n    List&lt;String&gt; names = Arrays.asList(new String[]{&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;});\n    \n    //String input[]\n    List&lt;Character&gt; letters = Arrays.asList(new Character[]{'A', 'B', 'K', 'J', 'F'});\n    \n</code></pre>\n<p>Please notice that Anonymous array example will work just with Arrays of <strong>Non Primitive Types</strong> as the API uses Generics, that's the reason you can see several 2 line examples around, more info here: <a href=\"https://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\">Why don&#39;t Java Generics support primitive types?</a></p>\n<p>For newer JDKs there is another simpler option, the below examples are equivalent to the ones show above:</p>\n<pre><code>    //Integer\n    List&lt;Integer&gt; numbers = Arrays.asList(1, 2 ,3, 4, 5, 4, 3, 2, 1, 3, 4);\n    \n    //String\n    List&lt;String&gt; names = Arrays.asList(&quot;Jhon&quot;, &quot;Lucas&quot;, &quot;Daniel&quot;, &quot;Jim&quot;, &quot;Sam&quot;); \n    \n    //Character\n    List&lt;Character&gt; letters = Arrays.asList('A', 'B', 'K', 'J', 'F');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692797523,"creation_date":1692781300,"answer_id":76959848,"question_id":2607289,"body_markdown":"&gt; _&quot;... How do I convert an array to a list in Java? ...&quot;_\r\n\r\nThere are several ways to accomplish this task.  \r\nAnd, depending on the _data-type_, some solutions may require more code.\r\n\r\nThe most simple approach is to traverse the array, and append each value to a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_.\r\n\r\n```java\r\nint[] values = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nfor (int value : values) list.add(value);\r\n```\r\n\r\nAlthough, if you&#39;re not using a _[primitive data-type](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_, you can utilize the _[List#of](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...))_ method, and get rid of the _loop_.  \r\nTo create a mutable _List_, I supplied the value as a new _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html)_ parameter.\r\n\r\n```java\r\nString[] strings = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(strings));\r\n```\r\n\r\n```java\r\nInteger[] numbers = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(numbers));\r\n```\r\n\r\nAdditionally, you can _[stream](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_ the array, to derive a _List_ object.\r\n\r\n\r\nFor a _primitive data-type_ array, it will take slightly more effort.  \r\nThe _[Collections Framework](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/doc-files/coll-overview.html)_ was built specifically for _objects_, and not _primitive data-types_.  \r\nIt&#39;s recommended to use the _[wrapper-classes](https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html)_, _[Integer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html)_, _[Float](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html)_, etc., for any resourced array objects.\r\n\r\nYou can stream the array using the _[Arrays#stream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#stream(int[]))_ method.  \r\nThis will return an _[IntStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html)_, which you can then call the _[boxed](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed())_ method on, which returns a stream of wrapped, or _&quot;[boxed](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)&quot;_ values.  \r\nFinally, use the _[Stream#toList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList())_ method to return the _boxed_ stream as a _List_.\r\n\r\nAgain, to obtain a mutable _List_, I supplied the value as a new _ArrayList_ parameter.\r\n\r\n```java\r\nint[] numbers = { 1, 2, 3 };\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().toList());\r\n```\r\n\r\nOn a final note, if you&#39;re simply looking to add an array of values to a _List_, just use the _List#of_ method.  \r\nJust remember this produces an _[immutable](https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html)_ _List_.\r\n\r\n_Immutable:_\r\n\r\n```java\r\nList&lt;Integer&gt; list = List.of(1, 2, 3);\r\n```\r\n\r\n_Mutable:_\r\n\r\n```java\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\r\n```","title":"Converting array to list in Java","body":"<blockquote>\n<p><em>&quot;... How do I convert an array to a list in Java? ...&quot;</em></p>\n</blockquote>\n<p>There are several ways to accomplish this task.<br />\nAnd, depending on the <em>data-type</em>, some solutions may require more code.</p>\n<p>The most simple approach is to traverse the array, and append each value to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] values = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor (int value : values) list.add(value);\n</code></pre>\n<p>Although, if you're not using a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive data-type</a></em>, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">List#of</a></em> method, and get rid of the <em>loop</em>.<br />\nTo create a mutable <em>List</em>, I supplied the value as a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a></em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\nList&lt;String&gt; list = new ArrayList&lt;&gt;(List.of(strings));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] numbers = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(numbers));\n</code></pre>\n<p>Additionally, you can <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream</a></em> the array, to derive a <em>List</em> object.</p>\n<p>For a <em>primitive data-type</em> array, it will take slightly more effort.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/doc-files/coll-overview.html\" rel=\"nofollow noreferrer\">Collections Framework</a></em> was built specifically for <em>objects</em>, and not <em>primitive data-types</em>.<br />\nIt's recommended to use the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html\" rel=\"nofollow noreferrer\">wrapper-classes</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Float.html\" rel=\"nofollow noreferrer\">Float</a></em>, etc., for any resourced array objects.</p>\n<p>You can stream the array using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#stream(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#stream</a></em> method.<br />\nThis will return an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a></em>, which you can then call the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#boxed()\" rel=\"nofollow noreferrer\">boxed</a></em> method on, which returns a stream of wrapped, or <em>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">boxed</a>&quot;</em> values.<br />\nFinally, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">Stream#toList</a></em> method to return the <em>boxed</em> stream as a <em>List</em>.</p>\n<p>Again, to obtain a mutable <em>List</em>, I supplied the value as a new <em>ArrayList</em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] numbers = { 1, 2, 3 };\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.stream(numbers).boxed().toList());\n</code></pre>\n<p>On a final note, if you're simply looking to add an array of values to a <em>List</em>, just use the <em>List#of</em> method.<br />\nJust remember this produces an <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">immutable</a></em> <em>List</em>.</p>\n<p><em>Immutable:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = List.of(1, 2, 3);\n</code></pre>\n<p><em>Mutable:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3));\n</code></pre>\n"}],"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936663,"favorite_count":0,"down_vote_count":1,"up_vote_count":1283,"accepted_answer_id":2607335,"answer_count":25,"score":1282,"last_activity_date":1692797523,"creation_date":1270815620,"question_id":2607289,"body_markdown":"How do I convert an array to a list in Java?\r\n\r\nI used the `Arrays.asList()` but the behavior (and signature) somehow changed from Java SE [1.4.2][1] (docs now in archive) to [8][2] and most snippets I found on the web use the 1.4.2 behaviour.\r\n\r\nFor example:\r\n\r\n    int[] numbers = new int[] { 1, 2, 3 };\r\n    Arrays.asList(numbers)\r\n\r\n* on 1.4.2 returns a list containing the elements 1, 2, 3\r\n* on 1.5.0+ returns a list containing the array &#39;numbers&#39;\r\n\r\nIn many cases it should be easy to detect, but sometimes it can slip unnoticed:\r\n\r\n    Assert.assertTrue(Arrays.asList(numbers).indexOf(4) == -1);\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-142docs-2045554.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-","title":"Converting array to list in Java","body":"<p>How do I convert an array to a list in Java?</p>\n<p>I used the <code>Arrays.asList()</code> but the behavior (and signature) somehow changed from Java SE <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-142docs-2045554.html\" rel=\"noreferrer\">1.4.2</a> (docs now in archive) to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"noreferrer\">8</a> and most snippets I found on the web use the 1.4.2 behaviour.</p>\n<p>For example:</p>\n<pre><code>int[] numbers = new int[] { 1, 2, 3 };\nArrays.asList(numbers)\n</code></pre>\n<ul>\n<li>on 1.4.2 returns a list containing the elements 1, 2, 3</li>\n<li>on 1.5.0+ returns a list containing the array 'numbers'</li>\n</ul>\n<p>In many cases it should be easy to detect, but sometimes it can slip unnoticed:</p>\n<pre><code>Assert.assertTrue(Arrays.asList(numbers).indexOf(4) == -1);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"score":0,"creation_date":1422828761,"post_id":28268499,"comment_id":44893177,"body_markdown":"Did that path even exist? If you want to create the folder if it didn&#39;t exist, you have to use mkdir","body":"Did that path even exist? If you want to create the folder if it didn&#39;t exist, you have to use mkdir"}],"answers":[{"tags":[],"owner":{"account_id":5488637,"reputation":2572,"user_id":4362675,"accept_rate":58,"display_name":"The Coder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422830420,"creation_date":1422829351,"answer_id":28268621,"question_id":28268499,"body_markdown":"I&#39;ve uploaded files using Spring mvc, but never used transferTo(), I just assume that your problem is due to &quot;No existence of specified path&quot; because there wont be a path ending with .jpg. Try it like this.\r\n\r\n    String path = &quot;/tmp/practicewellness/&quot;;\r\n    File dirPath = new File(path);\r\n    if (!dirPath.exists()) {\r\n            dirPath.mkdirs();     \r\n    }\r\n\r\nAnd then execute the transferTo() code.\r\nAlso do not set the path directly like you&#39;ve done. Since you&#39;re doing it in spring, so I assume you want the folder to be in your Project path not the eclipse&#39;s metadata path. So change your path to this.\r\n\r\n    String path = request.getSession().getServletContext().getRealPath(&quot;/tmp/practicewellness/&quot;);\r\n\r\nIt will create a folder inside your Project&#39;s Webapp folder using mkdir. If you want to save differentiate the files for each user, you can create a folder for each user by using this below path.\r\n\r\n    String path = request.getSession().getServletContext().getRealPath(&quot;/tmp/practicewellness&quot;)+&quot;/&quot;+employee.getUsername()+&quot;/&quot;;","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>I've uploaded files using Spring mvc, but never used transferTo(), I just assume that your problem is due to \"No existence of specified path\" because there wont be a path ending with .jpg. Try it like this.</p>\n\n<pre><code>String path = \"/tmp/practicewellness/\";\nFile dirPath = new File(path);\nif (!dirPath.exists()) {\n        dirPath.mkdirs();     \n}\n</code></pre>\n\n<p>And then execute the transferTo() code.\nAlso do not set the path directly like you've done. Since you're doing it in spring, so I assume you want the folder to be in your Project path not the eclipse's metadata path. So change your path to this.</p>\n\n<pre><code>String path = request.getSession().getServletContext().getRealPath(\"/tmp/practicewellness/\");\n</code></pre>\n\n<p>It will create a folder inside your Project's Webapp folder using mkdir. If you want to save differentiate the files for each user, you can create a folder for each user by using this below path.</p>\n\n<pre><code>String path = request.getSession().getServletContext().getRealPath(\"/tmp/practicewellness\")+\"/\"+employee.getUsername()+\"/\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692797245,"creation_date":1692698059,"answer_id":76952110,"question_id":28268499,"body_markdown":"This post is quite old, but I just wanted to add: the path you&#39;re transferring to is relative. Better idea is to use an absolute path.\r\n\r\nAnyway, transferTo(File) is a perfect method. The problem with multipart file upload is that you have not so much control over where the stream goes when it arrives on the server over HTTP. By definition it works in 2 steps, first file upload will store it in a temp file (out of your control), and then it is up to you to consume it in the file upload callback either by reading the stream out or by transferring it to a location totally in your control. The advantage of transferring is that it takes virtually no time compared to reading the stream (which will block the upload HTTP request).\r\n\r\n**Caution to make sure you pass in a File argument (and not a Path). Seems like a very bad idea to have overloaded methods like this with quite different implementations. Passing in a Path will always execute a streamed copy!**","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>This post is quite old, but I just wanted to add: the path you're transferring to is relative. Better idea is to use an absolute path.</p>\n<p>Anyway, transferTo(File) is a perfect method. The problem with multipart file upload is that you have not so much control over where the stream goes when it arrives on the server over HTTP. By definition it works in 2 steps, first file upload will store it in a temp file (out of your control), and then it is up to you to consume it in the file upload callback either by reading the stream out or by transferring it to a location totally in your control. The advantage of transferring is that it takes virtually no time compared to reading the stream (which will block the upload HTTP request).</p>\n<p><strong>Caution to make sure you pass in a File argument (and not a Path). Seems like a very bad idea to have overloaded methods like this with quite different implementations. Passing in a Path will always execute a streamed copy!</strong></p>\n"}],"owner":{"account_id":1367445,"reputation":579,"user_id":1303598,"accept_rate":72,"display_name":"Kyle Walker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17687,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692797245,"creation_date":1422828405,"question_id":28268499,"body_markdown":"I am using Spring Framework&#39;s MultipartFile to allow a user to upload a picture to a profile. I&#39;ve configured DispatcherServlet in a servlet initializer class that extends AbstractAnnotationConfigDispatcherServletInitializer. In that class, I&#39;ve overridden the customizeRegistration() method as follows:\r\n\r\n    @Override\r\n\tprotected void customizeRegistration(Dynamic registration) {\r\n\t\tregistration.setMultipartConfig(new MultipartConfigElement(&quot;/tmp/practicewellness/uploads&quot;, 2097152, 4194304, 0));\r\n\t}\r\n\r\nThe MultipartFile&#39;s transferTo() method calls for a file location in the filesystem where the uploaded file will be written temporarily. Can this location be anywhere? When I used the following location in the method:\r\n\r\n    profilePicture.transferTo(new File(&quot;tmp/practicewellness/&quot; + employee.getUsername() + &quot;.jpg&quot;));\r\n\r\n... I get the following error:\r\n\r\n    Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [C:\\Users\\kyle\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\work\\Catalina\\localhost\\practicewellness\\tmp\\practicewellness\\uploads] is not valid\r\n\r\nSo I can see that it&#39;s looking for this file location deep inside one of my Eclipse plugins. I don&#39;t understand why it looks there. When I look there, the &quot;tmp&quot; directory is not there. But regardless, is it okay for me to go into that plugin and create the directory there? Or is there a better way to smooth this out? ","title":"Understanding MultipartFile transferTo() method in Spring MVC","body":"<p>I am using Spring Framework's MultipartFile to allow a user to upload a picture to a profile. I've configured DispatcherServlet in a servlet initializer class that extends AbstractAnnotationConfigDispatcherServletInitializer. In that class, I've overridden the customizeRegistration() method as follows:</p>\n\n<pre><code>@Override\nprotected void customizeRegistration(Dynamic registration) {\n    registration.setMultipartConfig(new MultipartConfigElement(\"/tmp/practicewellness/uploads\", 2097152, 4194304, 0));\n}\n</code></pre>\n\n<p>The MultipartFile's transferTo() method calls for a file location in the filesystem where the uploaded file will be written temporarily. Can this location be anywhere? When I used the following location in the method:</p>\n\n<pre><code>profilePicture.transferTo(new File(\"tmp/practicewellness/\" + employee.getUsername() + \".jpg\"));\n</code></pre>\n\n<p>... I get the following error:</p>\n\n<pre><code>Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is java.io.IOException: The temporary upload location [C:\\Users\\kyle\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\work\\Catalina\\localhost\\practicewellness\\tmp\\practicewellness\\uploads] is not valid\n</code></pre>\n\n<p>So I can see that it's looking for this file location deep inside one of my Eclipse plugins. I don't understand why it looks there. When I look there, the \"tmp\" directory is not there. But regardless, is it okay for me to go into that plugin and create the directory there? Or is there a better way to smooth this out? </p>\n"},{"tags":["java","linux","spring","spring-boot","backend"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692797229,"post_id":76961786,"comment_id":135673016,"body_markdown":"can you provide your `yml` configuration file or `application.properties` file ?","body":"can you provide your <code>yml</code> configuration file or <code>application.properties</code> file ?"},{"owner":{"account_id":26389799,"reputation":1,"user_id":20041820,"display_name":"Vignesh"},"score":0,"creation_date":1692902854,"post_id":76961786,"comment_id":135691158,"body_markdown":"Sorry , I accidentally deleted the file","body":"Sorry , I accidentally deleted the file"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692902949,"post_id":76961786,"comment_id":135691177,"body_markdown":"if you want to have a database in the project, you should add params like database url, username, password  in configuration file","body":"if you want to have a database in the project, you should add params like database url, username, password  in configuration file"}],"owner":{"account_id":26389799,"reputation":1,"user_id":20041820,"display_name":"Vignesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692797016,"creation_date":1692797016,"question_id":76961786,"body_markdown":"Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n\r\n2023-08-23T18:50:48.564+05:30 ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\nI tried to start my spring boot project and expected it to run normally","title":"ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter : in SpringBoot","body":"<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.</p>\n<p>2023-08-23T18:50:48.564+05:30 ERROR 18254 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</p>\n<p>Reason: Failed to determine a suitable driver class</p>\n<p>I tried to start my spring boot project and expected it to run normally</p>\n"},{"tags":["java","jetty","jetty-10"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692794861,"creation_date":1692794861,"answer_id":76961503,"question_id":76961442,"body_markdown":"Enable the `secure-redirect` module.\r\n\r\n``` shell\r\n$ cd /path/to/my-jetty-base\r\n$ java -jar /opt/jetty-home-10.0.15/start.jar --add-module=secure-redirect\r\n```\r\n\r\nThis will add the `org.eclipse.jetty.server.handler.SecuredRedirectHandler` to your Server.\r\n\r\nThat will use the information present in the `HttpConfiguration` regarding what ports you consider plain text vs secure to know how to redirect properly (be it 80 to 443, or 8080 to 8443, or even arbitrary ports like 20080 to 20443)","title":"Jetty 10 redirect http to https","body":"<p>Enable the <code>secure-redirect</code> module.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cd /path/to/my-jetty-base\n$ java -jar /opt/jetty-home-10.0.15/start.jar --add-module=secure-redirect\n</code></pre>\n<p>This will add the <code>org.eclipse.jetty.server.handler.SecuredRedirectHandler</code> to your Server.</p>\n<p>That will use the information present in the <code>HttpConfiguration</code> regarding what ports you consider plain text vs secure to know how to redirect properly (be it 80 to 443, or 8080 to 8443, or even arbitrary ports like 20080 to 20443)</p>\n"}],"owner":{"account_id":29235090,"reputation":73,"user_id":22397881,"display_name":"Boco909"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961503,"answer_count":1,"score":0,"last_activity_date":1692796872,"creation_date":1692794372,"question_id":76961442,"body_markdown":"I am trying to modify Jetty 10.0.15 to handle http to https redirection. I tried searching in their official Operations guide but i cant find anything. For example:\r\n\r\nhttp://localhost:8443/login?lang=en -&gt; https://localhost:8443/login?lang=en\r\n\r\nor also have the option to redirect http 8081 port to https post 8443\r\n\r\nhttp://localhost:8081/login?lang=en -&gt; https://localhost:8443/login?lang=en\r\n\r\nIs this possible? Do i need to modify the ssl.ini or http.ini files in the start.d folder? In my webapps folder i am also using a context file xml.\r\n\r\nThanks!\r\n\r\nPS here are the ini files:\r\n\r\nssl.ini\r\n```\r\n# --------------------------------------- \r\n# Module: ssl\r\n# Enables a TLS (SSL) connector to support secure protocols.\r\n# Secure HTTP/1.1 is provided by enabling the &quot;https&quot; module and secure HTTP/2 is provided by enabling the &quot;http2&quot; module.\r\n# --------------------------------------- \r\n--module=ssl\r\n\r\n### TLS (SSL) Connector Configuration\r\n\r\n## The host/address to bind the connector to.\r\n# jetty.ssl.host=0.0.0.0\r\n\r\n## The port the connector listens on.\r\njetty.ssl.port=8443\r\n\r\n## The connector idle timeout, in milliseconds.\r\n# jetty.ssl.idleTimeout=30000\r\n\r\n## The number of acceptors (-1 picks a default value based on number of cores).\r\n# jetty.ssl.acceptors=1\r\n\r\n## The number of selectors (-1 picks a default value based on number of cores).\r\n# jetty.ssl.selectors=-1\r\n\r\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\r\n# jetty.ssl.acceptQueueSize=0\r\n\r\n## The thread priority delta to give to acceptor threads.\r\n# jetty.ssl.acceptorPriorityDelta=0\r\n\r\n## Whether to enable the SO_REUSEADDR socket option.\r\n# jetty.ssl.reuseAddress=true\r\n\r\n## Whether to enable the SO_REUSEPORT socket option.\r\n# jetty.ssl.reusePort=false\r\n\r\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\r\n# jetty.ssl.acceptedTcpNoDelay=true\r\n\r\n## The SO_RCVBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.ssl.acceptedReceiveBufferSize=-1\r\n\r\n## The SO_SNDBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.ssl.acceptedSendBufferSize=-1\r\n\r\n## Whether client SNI data is required for all secure connections.\r\n## When SNI is required, clients that do not send SNI data are rejected with an HTTP 400 response.\r\n# jetty.ssl.sniRequired=false\r\n\r\n## Whether client SNI data is checked to match CN and SAN in server certificates.\r\n## When SNI is checked, if the match fails the connection is rejected with an HTTP 400 response.\r\n# jetty.ssl.sniHostCheck=true\r\n\r\n## The max age, in seconds, for the Strict-Transport-Security response header.\r\n# jetty.ssl.stsMaxAgeSeconds=31536000\r\n\r\n## Whether to include the subdomain property in any Strict-Transport-Security header.\r\n# jetty.ssl.stsIncludeSubdomains=true\r\n\r\n### SslContextFactory Configuration\r\n## Note that OBF passwords are not secure, just protected from casual observation.\r\n\r\n## Whether client SNI data is required for all secure connections.\r\n## When SNI is required, clients that do not send SNI data are rejected with a TLS handshake error.\r\n# jetty.sslContext.sniRequired=false\r\n\r\n## The Endpoint Identification Algorithm.\r\n## Same as javax.net.ssl.SSLParameters#setEndpointIdentificationAlgorithm(String).\r\n# jetty.sslContext.endpointIdentificationAlgorithm=\r\n\r\n## The JSSE Provider.\r\n# jetty.sslContext.provider=\r\n\r\n## The KeyStore file path (relative to $JETTY_BASE).\r\n# jetty.sslContext.keyStorePath=etc/keystore.p12\r\n## The KeyStore absolute file path.\r\n# jetty.sslContext.keyStoreAbsolutePath=${jetty.base}/etc/keystore.p12\r\n\r\n## The TrustStore file path (relative to $JETTY_BASE).\r\n# jetty.sslContext.trustStorePath=etc/keystore.p12\r\n## The TrustStore absolute file path.\r\n# jetty.sslContext.trustStoreAbsolutePath=${jetty.base}/etc/keystore.p12\r\n\r\n## The KeyStore password.\r\n# jetty.sslContext.keyStorePassword=\r\n\r\n## The Keystore type.\r\n# jetty.sslContext.keyStoreType=PKCS12\r\n\r\n## The KeyStore provider.\r\n# jetty.sslContext.keyStoreProvider=\r\n\r\n## The KeyManager password.\r\n# jetty.sslContext.keyManagerPassword=\r\n\r\n## The TrustStore password.\r\n# jetty.sslContext.trustStorePassword=\r\n\r\n## The TrustStore type.\r\n# jetty.sslContext.trustStoreType=PKCS12\r\n\r\n## The TrustStore provider.\r\n# jetty.sslContext.trustStoreProvider=\r\n\r\n## Whether client certificate authentication is required.\r\n# jetty.sslContext.needClientAuth=false\r\n\r\n## Whether client certificate authentication is desired, but not required.\r\n# jetty.sslContext.wantClientAuth=false\r\n\r\n## Whether cipher order is significant.\r\n# jetty.sslContext.useCipherSuitesOrder=true\r\n\r\n## The SSLSession cache size.\r\n# jetty.sslContext.sslSessionCacheSize=-1\r\n\r\n## The SSLSession cache timeout (in seconds).\r\n# jetty.sslContext.sslSessionTimeout=-1\r\n\r\n## Whether TLS renegotiation is allowed.\r\n# jetty.sslContext.renegotiationAllowed=true\r\n\r\n## The max number of TLS renegotiations per connection.\r\n# jetty.sslContext.renegotiationLimit=5\r\n```\r\nserver.ini\r\n```\r\n# --------------------------------------- \r\n# Module: server\r\n# Enables and configures the Jetty server.\r\n# This module does not enable any network protocol support.\r\n# To enable a specific network protocol such as HTTP/1.1, you must enable the correspondent Jetty module.\r\n# --------------------------------------- \r\n--module=server\r\n\r\n### Common HTTP configuration\r\n## Scheme to use to build URIs for secure redirects\r\n#jetty.httpConfig.secureScheme=https\r\n\r\n## Port to use to build URIs for secure redirects\r\njetty.httpConfig.securePort=8443\r\n\r\n## Response content buffer size (in bytes)\r\n# jetty.httpConfig.outputBufferSize=32768\r\n\r\n## Max response content write length that is buffered (in bytes)\r\n# jetty.httpConfig.outputAggregationSize=8192\r\n\r\n## Max request headers size (in bytes)\r\n# jetty.httpConfig.requestHeaderSize=8192\r\n\r\n## Max response headers size (in bytes)\r\n# jetty.httpConfig.responseHeaderSize=8192\r\n\r\n## Whether to send the Server: header\r\n# jetty.httpConfig.sendServerVersion=true\r\n\r\n## Whether to send the Date: header\r\n# jetty.httpConfig.sendDateHeader=false\r\n\r\n## Max per-connection header cache size (in nodes)\r\n# jetty.httpConfig.headerCacheSize=1024\r\n\r\n## Whether, for requests with content, delay dispatch until some content has arrived\r\n# jetty.httpConfig.delayDispatchUntilContent=true\r\n\r\n## Maximum number of error dispatches to prevent looping\r\n# jetty.httpConfig.maxErrorDispatches=10\r\n\r\n## Relative Redirect Locations allowed\r\n# jetty.httpConfig.relativeRedirectAllowed=false\r\n\r\n## Whether to use direct ByteBuffers for reading or writing\r\n# jetty.httpConfig.useInputDirectByteBuffers=true\r\n# jetty.httpConfig.useOutputDirectByteBuffers=true\r\n\r\n## HTTP Compliance: RFC7230, RFC7230_LEGACY, RFC2616, RFC2616_LEGACY, LEGACY\r\n# jetty.httpConfig.compliance=RFC7230\r\n\r\n## URI Compliance: DEFAULT, LEGACY, RFC3986, RFC3986_UNAMBIGUOUS, UNSAFE\r\n# jetty.httpConfig.uriCompliance=DEFAULT\r\n\r\n## Cookie compliance mode for parsing request Cookie headers: RFC6265_STRICT, RFC6265, RFC6265_LEGACY, RFC2965, RFC2965_LEGACY\r\n# jetty.httpConfig.requestCookieCompliance=RFC6265\r\n\r\n## Cookie compliance mode for generating response Set-Cookie: RFC2965, RFC6265\r\n# jetty.httpConfig.responseCookieCompliance=RFC6265\r\n\r\n## multipart/form-data compliance mode of: LEGACY(slow), RFC7578(fast)\r\n# jetty.httpConfig.multiPartFormDataCompliance=RFC7578\r\n\r\n### Server configuration\r\n## Whether ctrl+c on the console gracefully stops the Jetty server\r\n# jetty.server.stopAtShutdown=true\r\n\r\n## Timeout in ms to apply when stopping the server gracefully\r\n# jetty.server.stopTimeout=5000\r\n\r\n## Dump the state of the Jetty server, components, and webapps after startup\r\n# jetty.server.dumpAfterStart=false\r\n\r\n## Dump the state of the Jetty server, components, and webapps before shutdown\r\n# jetty.server.dumpBeforeStop=false\r\n\r\n### Server Scheduler Configuration\r\n## The scheduler thread name, defaults to &quot;Scheduler-{hashCode()}&quot; if blank.\r\n# jetty.scheduler.name=\r\n\r\n## Whether the server scheduler threads are daemon.\r\n# jetty.scheduler.daemon=false\r\n\r\n## The number of server scheduler threads.\r\n# jetty.scheduler.threads=1\r\n```\r\nhttp.ini\r\n```\r\n# --------------------------------------- \r\n# Module: http\r\n# Enables a clear-text HTTP connector.\r\n# By default clear-text HTTP/1.1 is enabled, and clear-text HTTP/2 may be added by enabling the &quot;http2c&quot; module.\r\n# --------------------------------------- \r\n--module=http\r\n\r\n### Clear-Text HTTP Connector Configuration\r\n\r\n## The host/address to bind the connector to.\r\n# jetty.http.host=0.0.0.0\r\n\r\n## The port the connector listens on.\r\n jetty.http.port=8081\r\n\r\n## The connector idle timeout, in milliseconds.\r\n# jetty.http.idleTimeout=30000\r\n\r\n## The number of acceptors (-1 picks a default value based on number of cores).\r\n# jetty.http.acceptors=1\r\n\r\n## The number of selectors (-1 picks a default value based on number of cores).\r\n# jetty.http.selectors=-1\r\n\r\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\r\n# jetty.http.acceptQueueSize=0\r\n\r\n## The thread priority delta to give to acceptor threads.\r\n# jetty.http.acceptorPriorityDelta=0\r\n\r\n## Whether to enable the SO_REUSEADDR socket option.\r\n# jetty.http.reuseAddress=true\r\n\r\n## Whether to enable the SO_REUSEPORT socket option.\r\n# jetty.http.reusePort=false\r\n\r\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\r\n# jetty.http.acceptedTcpNoDelay=true\r\n\r\n## The SO_RCVBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.http.acceptedReceiveBufferSize=-1\r\n\r\n## The SO_SNDBUF socket option to set on accepted sockets.\r\n## A value of -1 indicates that the platform default is used.\r\n# jetty.http.acceptedSendBufferSize=-1\r\n```\r\nhttps.ini\r\n\r\n```\r\n# --------------------------------------- \r\n# Module: https\r\n# Adds HTTPS protocol support to the TLS(SSL) Connector.\r\n# --------------------------------------- \r\n--module=https\r\n```\r\n\r\n\r\nlist-config\r\n```\r\nEnabled Modules:\r\n----------------\r\n  0) bytebufferpool            transitive provider of bytebufferpool for server\r\n                               ini template available with --add-module=bytebufferpool\r\n  1) resources                 transitive provider of resources for logging-jetty\r\n  2) logging/slf4j             transitive provider of logging/slf4j for logging-jetty\r\n                               dynamic dependency of logging-jetty\r\n  3) logging-jetty             transitive provider of logging for threadpool\r\n                               transitive provider of logging for server\r\n                               transitive provider of logging for console-capture\r\n  4) threadpool                transitive provider of threadpool for server\r\n                               ini template available with --add-module=threadpool\r\n  5) server                    ${jetty.base}\\start.d\\server.ini\r\n  6) jndi                      transitive provider of jndi for plus\r\n  7) security                  transitive provider of security for webapp\r\n                               transitive provider of security for plus\r\n  8) servlet                   transitive provider of servlet for webapp\r\n                               transitive provider of servlet for jsp\r\n  9) webapp                    transitive provider of webapp for plus\r\n                               transitive provider of webapp for deploy\r\n                               ini template available with --add-module=webapp\r\n 10) plus                      transitive provider of plus for annotations\r\n 11) annotations               ${jetty.base}\\start.d\\annotations.ini\r\n 12) apache-jsp                transitive provider of apache-jsp for jsp\r\n 13) apache-jstl               transitive provider of apache-jstl for jstl\r\n 14) console-capture           ${jetty.base}\\start.d\\console-capture.ini\r\n 15) deploy                    ${jetty.base}\\start.d\\deploy.ini\r\n 16) ssl                       ${jetty.base}\\start.d\\ssl.ini\r\n 17) https                     ${jetty.base}\\start.d\\https.ini\r\n 18) jsp                       ${jetty.base}\\start.d\\jsp.ini\r\n 19) jstl                      ${jetty.base}\\start.d\\jstl.ini\r\n 20) secure-redirect           ${jetty.base}\\start.d\\secure-redirect.ini\r\n 21) test-keystore             ${jetty.base}\\start.d\\test-keystore.ini\r\n\r\nJava Environment:\r\n-----------------\r\n java.home = C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7+7\r\n java.vm.vendor = Eclipse Adoptium\r\n java.vm.version = 17.0.7+7\r\n java.vm.name = OpenJDK 64-Bit Server VM\r\n java.vm.info = mixed mode, sharing\r\n java.runtime.name = OpenJDK Runtime Environment\r\n java.runtime.version = 17.0.7+7\r\n java.io.tmpdir = C:\\Users\\Bojan\\AppData\\Local\\Temp\\\r\n user.dir = C:\\qaelum\\services\\Webserver\r\n user.language = en\r\n user.country = US\r\n\r\nJetty Environment:\r\n------------------\r\n jetty.version = 10.0.15\r\n jetty.tag.version = jetty-10.0.15\r\n jetty.build = 68017dbd00236bb7e187330d7585a059610f661d\r\n jetty.home = C:\\qaelum\\frameworks\\jetty10\r\n jetty.base = C:\\qaelum\\services\\Webserver\r\n\r\nConfig Search Order:\r\n--------------------\r\n &lt;command-line&gt;\r\n ${jetty.base} -&gt; C:\\qaelum\\services\\Webserver\r\n ${jetty.home} -&gt; C:\\qaelum\\frameworks\\jetty10\r\n\r\nSystem Properties:\r\n------------------\r\n (no system properties specified)\r\n\r\nProperties:\r\n-----------\r\n bouncycastle.version = 1.70\r\n java.version = 17.0.7\r\n java.version.major = 17\r\n java.version.micro = 7\r\n java.version.minor = 0\r\n java.version.platform = 17\r\n jetty.base = C:\\qaelum\\services\\Webserver\r\n jetty.base.uri = file:///C:/qaelum/services/Webserver\r\n jetty.console-capture.dir = C:\\qaelum\\services\\Webserver\\logs\r\n jetty.home = C:\\qaelum\\frameworks\\jetty10\r\n jetty.home.uri = file:///C:/qaelum/frameworks/jetty10\r\n jetty.httpConfig.securePort = 8443\r\n jetty.ssl.port = 8443\r\n jetty.sslContext.keyStorePassword = OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\r\n jetty.sslContext.keyStorePath = etc/test-keystore.p12\r\n jetty.sslContext.keyStoreType = PKCS12\r\n jetty.webapp.addServerClasses = org.eclipse.jetty.logging.,${jetty.home.uri}/lib/logging/,org.slf4j.,${jetty.base.uri}/lib/bouncycastle/\r\n runtime.feature.alpn = true\r\n slf4j.version = 2.0.5\r\n\r\nJetty Server Classpath:\r\n-----------------------\r\nVersion Information on 32 entries in the classpath.\r\nNote: order presented here is how they would appear on the classpath.\r\n      changes to the --module=name command line options will be reflected here.\r\n 0:                    (dir) | ${jetty.base}\\resources\r\n 1:                    2.0.5 | ${jetty.home}\\lib\\logging\\slf4j-api-2.0.5.jar\r\n 2:                  10.0.15 | ${jetty.home}\\lib\\logging\\jetty-slf4j-impl-10.0.15.jar\r\n 3:                    4.0.6 | ${jetty.home}\\lib\\jetty-servlet-api-4.0.6.jar\r\n 4:                  10.0.15 | ${jetty.home}\\lib\\jetty-http-10.0.15.jar\r\n 5:                  10.0.15 | ${jetty.home}\\lib\\jetty-server-10.0.15.jar\r\n 6:                  10.0.15 | ${jetty.home}\\lib\\jetty-xml-10.0.15.jar\r\n 7:                  10.0.15 | ${jetty.home}\\lib\\jetty-util-10.0.15.jar\r\n 8:                  10.0.15 | ${jetty.home}\\lib\\jetty-io-10.0.15.jar\r\n 9:                  10.0.15 | ${jetty.home}\\lib\\jetty-jndi-10.0.15.jar\r\n10:                  10.0.15 | ${jetty.home}\\lib\\jetty-security-10.0.15.jar\r\n11:                  10.0.15 | ${jetty.home}\\lib\\jetty-servlet-10.0.15.jar\r\n12:                  10.0.15 | ${jetty.home}\\lib\\jetty-webapp-10.0.15.jar\r\n13:                  10.0.15 | ${jetty.home}\\lib\\jetty-plus-10.0.15.jar\r\n14:                    1.3.3 | ${jetty.home}\\lib\\jakarta.transaction-api-1.3.3.jar\r\n15:                  10.0.15 | ${jetty.home}\\lib\\jetty-annotations-10.0.15.jar\r\n16:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-9.5.jar\r\n17:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-analysis-9.5.jar\r\n18:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-commons-9.5.jar\r\n19:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-tree-9.5.jar\r\n20:                    1.3.5 | ${jetty.home}\\lib\\annotations\\jakarta.annotation-api-1.3.5.jar\r\n21:    3.26.0.v20210609-0549 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jdt.ecj-3.26.0.jar\r\n22:                  10.0.15 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jetty.apache-jsp-10.0.15.jar\r\n23:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-el-9.0.52.jar\r\n24:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-jsp-9.0.52.jar\r\n25:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-impl-1.2.5.jar\r\n26:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-spec-1.2.5.jar\r\n27:                  10.0.15 | ${jetty.home}\\lib\\jetty-deploy-10.0.15.jar\r\n28:                  10.0.15 | ${jetty.home}\\lib\\jetty-keystore-10.0.15.jar\r\n29:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcpkix-jdk15on-1.70.jar\r\n30:                   1.70.0 | ${jetty.base}\\lib\\bouncycastle\\bcprov-jdk15on-1.70.jar\r\n31:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcutil-jdk15on-1.70.jar\r\n\r\nJetty Active XMLs:\r\n------------------\r\n ${jetty.home}\\etc\\jetty-bytebufferpool.xml\r\n ${jetty.home}\\etc\\jetty-threadpool.xml\r\n ${jetty.home}\\etc\\jetty.xml\r\n ${jetty.home}\\etc\\jetty-webapp.xml\r\n ${jetty.home}\\etc\\console-capture.xml\r\n ${jetty.home}\\etc\\jetty-deploy.xml\r\n ${jetty.home}\\etc\\jetty-ssl.xml\r\n ${jetty.home}\\etc\\jetty-ssl-context.xml\r\n ${jetty.home}\\etc\\jetty-https.xml\r\n ${jetty.home}\\etc\\jetty-secure-redirect.xml\r\n ${jetty.home}\\etc\\jetty-test-keystore.xml\r\n```\r\ni am also using the test-keystore.ini\r\n\r\n\r\n\r\n\r\n","title":"Jetty 10 redirect http to https","body":"<p>I am trying to modify Jetty 10.0.15 to handle http to https redirection. I tried searching in their official Operations guide but i cant find anything. For example:</p>\n<p>http://localhost:8443/login?lang=en -&gt; https://localhost:8443/login?lang=en</p>\n<p>or also have the option to redirect http 8081 port to https post 8443</p>\n<p>http://localhost:8081/login?lang=en -&gt; https://localhost:8443/login?lang=en</p>\n<p>Is this possible? Do i need to modify the ssl.ini or http.ini files in the start.d folder? In my webapps folder i am also using a context file xml.</p>\n<p>Thanks!</p>\n<p>PS here are the ini files:</p>\n<p>ssl.ini</p>\n<pre><code># --------------------------------------- \n# Module: ssl\n# Enables a TLS (SSL) connector to support secure protocols.\n# Secure HTTP/1.1 is provided by enabling the &quot;https&quot; module and secure HTTP/2 is provided by enabling the &quot;http2&quot; module.\n# --------------------------------------- \n--module=ssl\n\n### TLS (SSL) Connector Configuration\n\n## The host/address to bind the connector to.\n# jetty.ssl.host=0.0.0.0\n\n## The port the connector listens on.\njetty.ssl.port=8443\n\n## The connector idle timeout, in milliseconds.\n# jetty.ssl.idleTimeout=30000\n\n## The number of acceptors (-1 picks a default value based on number of cores).\n# jetty.ssl.acceptors=1\n\n## The number of selectors (-1 picks a default value based on number of cores).\n# jetty.ssl.selectors=-1\n\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\n# jetty.ssl.acceptQueueSize=0\n\n## The thread priority delta to give to acceptor threads.\n# jetty.ssl.acceptorPriorityDelta=0\n\n## Whether to enable the SO_REUSEADDR socket option.\n# jetty.ssl.reuseAddress=true\n\n## Whether to enable the SO_REUSEPORT socket option.\n# jetty.ssl.reusePort=false\n\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\n# jetty.ssl.acceptedTcpNoDelay=true\n\n## The SO_RCVBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.ssl.acceptedReceiveBufferSize=-1\n\n## The SO_SNDBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.ssl.acceptedSendBufferSize=-1\n\n## Whether client SNI data is required for all secure connections.\n## When SNI is required, clients that do not send SNI data are rejected with an HTTP 400 response.\n# jetty.ssl.sniRequired=false\n\n## Whether client SNI data is checked to match CN and SAN in server certificates.\n## When SNI is checked, if the match fails the connection is rejected with an HTTP 400 response.\n# jetty.ssl.sniHostCheck=true\n\n## The max age, in seconds, for the Strict-Transport-Security response header.\n# jetty.ssl.stsMaxAgeSeconds=31536000\n\n## Whether to include the subdomain property in any Strict-Transport-Security header.\n# jetty.ssl.stsIncludeSubdomains=true\n\n### SslContextFactory Configuration\n## Note that OBF passwords are not secure, just protected from casual observation.\n\n## Whether client SNI data is required for all secure connections.\n## When SNI is required, clients that do not send SNI data are rejected with a TLS handshake error.\n# jetty.sslContext.sniRequired=false\n\n## The Endpoint Identification Algorithm.\n## Same as javax.net.ssl.SSLParameters#setEndpointIdentificationAlgorithm(String).\n# jetty.sslContext.endpointIdentificationAlgorithm=\n\n## The JSSE Provider.\n# jetty.sslContext.provider=\n\n## The KeyStore file path (relative to $JETTY_BASE).\n# jetty.sslContext.keyStorePath=etc/keystore.p12\n## The KeyStore absolute file path.\n# jetty.sslContext.keyStoreAbsolutePath=${jetty.base}/etc/keystore.p12\n\n## The TrustStore file path (relative to $JETTY_BASE).\n# jetty.sslContext.trustStorePath=etc/keystore.p12\n## The TrustStore absolute file path.\n# jetty.sslContext.trustStoreAbsolutePath=${jetty.base}/etc/keystore.p12\n\n## The KeyStore password.\n# jetty.sslContext.keyStorePassword=\n\n## The Keystore type.\n# jetty.sslContext.keyStoreType=PKCS12\n\n## The KeyStore provider.\n# jetty.sslContext.keyStoreProvider=\n\n## The KeyManager password.\n# jetty.sslContext.keyManagerPassword=\n\n## The TrustStore password.\n# jetty.sslContext.trustStorePassword=\n\n## The TrustStore type.\n# jetty.sslContext.trustStoreType=PKCS12\n\n## The TrustStore provider.\n# jetty.sslContext.trustStoreProvider=\n\n## Whether client certificate authentication is required.\n# jetty.sslContext.needClientAuth=false\n\n## Whether client certificate authentication is desired, but not required.\n# jetty.sslContext.wantClientAuth=false\n\n## Whether cipher order is significant.\n# jetty.sslContext.useCipherSuitesOrder=true\n\n## The SSLSession cache size.\n# jetty.sslContext.sslSessionCacheSize=-1\n\n## The SSLSession cache timeout (in seconds).\n# jetty.sslContext.sslSessionTimeout=-1\n\n## Whether TLS renegotiation is allowed.\n# jetty.sslContext.renegotiationAllowed=true\n\n## The max number of TLS renegotiations per connection.\n# jetty.sslContext.renegotiationLimit=5\n</code></pre>\n<p>server.ini</p>\n<pre><code># --------------------------------------- \n# Module: server\n# Enables and configures the Jetty server.\n# This module does not enable any network protocol support.\n# To enable a specific network protocol such as HTTP/1.1, you must enable the correspondent Jetty module.\n# --------------------------------------- \n--module=server\n\n### Common HTTP configuration\n## Scheme to use to build URIs for secure redirects\n#jetty.httpConfig.secureScheme=https\n\n## Port to use to build URIs for secure redirects\njetty.httpConfig.securePort=8443\n\n## Response content buffer size (in bytes)\n# jetty.httpConfig.outputBufferSize=32768\n\n## Max response content write length that is buffered (in bytes)\n# jetty.httpConfig.outputAggregationSize=8192\n\n## Max request headers size (in bytes)\n# jetty.httpConfig.requestHeaderSize=8192\n\n## Max response headers size (in bytes)\n# jetty.httpConfig.responseHeaderSize=8192\n\n## Whether to send the Server: header\n# jetty.httpConfig.sendServerVersion=true\n\n## Whether to send the Date: header\n# jetty.httpConfig.sendDateHeader=false\n\n## Max per-connection header cache size (in nodes)\n# jetty.httpConfig.headerCacheSize=1024\n\n## Whether, for requests with content, delay dispatch until some content has arrived\n# jetty.httpConfig.delayDispatchUntilContent=true\n\n## Maximum number of error dispatches to prevent looping\n# jetty.httpConfig.maxErrorDispatches=10\n\n## Relative Redirect Locations allowed\n# jetty.httpConfig.relativeRedirectAllowed=false\n\n## Whether to use direct ByteBuffers for reading or writing\n# jetty.httpConfig.useInputDirectByteBuffers=true\n# jetty.httpConfig.useOutputDirectByteBuffers=true\n\n## HTTP Compliance: RFC7230, RFC7230_LEGACY, RFC2616, RFC2616_LEGACY, LEGACY\n# jetty.httpConfig.compliance=RFC7230\n\n## URI Compliance: DEFAULT, LEGACY, RFC3986, RFC3986_UNAMBIGUOUS, UNSAFE\n# jetty.httpConfig.uriCompliance=DEFAULT\n\n## Cookie compliance mode for parsing request Cookie headers: RFC6265_STRICT, RFC6265, RFC6265_LEGACY, RFC2965, RFC2965_LEGACY\n# jetty.httpConfig.requestCookieCompliance=RFC6265\n\n## Cookie compliance mode for generating response Set-Cookie: RFC2965, RFC6265\n# jetty.httpConfig.responseCookieCompliance=RFC6265\n\n## multipart/form-data compliance mode of: LEGACY(slow), RFC7578(fast)\n# jetty.httpConfig.multiPartFormDataCompliance=RFC7578\n\n### Server configuration\n## Whether ctrl+c on the console gracefully stops the Jetty server\n# jetty.server.stopAtShutdown=true\n\n## Timeout in ms to apply when stopping the server gracefully\n# jetty.server.stopTimeout=5000\n\n## Dump the state of the Jetty server, components, and webapps after startup\n# jetty.server.dumpAfterStart=false\n\n## Dump the state of the Jetty server, components, and webapps before shutdown\n# jetty.server.dumpBeforeStop=false\n\n### Server Scheduler Configuration\n## The scheduler thread name, defaults to &quot;Scheduler-{hashCode()}&quot; if blank.\n# jetty.scheduler.name=\n\n## Whether the server scheduler threads are daemon.\n# jetty.scheduler.daemon=false\n\n## The number of server scheduler threads.\n# jetty.scheduler.threads=1\n</code></pre>\n<p>http.ini</p>\n<pre><code># --------------------------------------- \n# Module: http\n# Enables a clear-text HTTP connector.\n# By default clear-text HTTP/1.1 is enabled, and clear-text HTTP/2 may be added by enabling the &quot;http2c&quot; module.\n# --------------------------------------- \n--module=http\n\n### Clear-Text HTTP Connector Configuration\n\n## The host/address to bind the connector to.\n# jetty.http.host=0.0.0.0\n\n## The port the connector listens on.\n jetty.http.port=8081\n\n## The connector idle timeout, in milliseconds.\n# jetty.http.idleTimeout=30000\n\n## The number of acceptors (-1 picks a default value based on number of cores).\n# jetty.http.acceptors=1\n\n## The number of selectors (-1 picks a default value based on number of cores).\n# jetty.http.selectors=-1\n\n## The ServerSocketChannel accept queue backlog (0 picks the platform default).\n# jetty.http.acceptQueueSize=0\n\n## The thread priority delta to give to acceptor threads.\n# jetty.http.acceptorPriorityDelta=0\n\n## Whether to enable the SO_REUSEADDR socket option.\n# jetty.http.reuseAddress=true\n\n## Whether to enable the SO_REUSEPORT socket option.\n# jetty.http.reusePort=false\n\n## Whether to enable the TCP_NODELAY socket option on accepted sockets.\n# jetty.http.acceptedTcpNoDelay=true\n\n## The SO_RCVBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.http.acceptedReceiveBufferSize=-1\n\n## The SO_SNDBUF socket option to set on accepted sockets.\n## A value of -1 indicates that the platform default is used.\n# jetty.http.acceptedSendBufferSize=-1\n</code></pre>\n<p>https.ini</p>\n<pre><code># --------------------------------------- \n# Module: https\n# Adds HTTPS protocol support to the TLS(SSL) Connector.\n# --------------------------------------- \n--module=https\n</code></pre>\n<p>list-config</p>\n<pre><code>Enabled Modules:\n----------------\n  0) bytebufferpool            transitive provider of bytebufferpool for server\n                               ini template available with --add-module=bytebufferpool\n  1) resources                 transitive provider of resources for logging-jetty\n  2) logging/slf4j             transitive provider of logging/slf4j for logging-jetty\n                               dynamic dependency of logging-jetty\n  3) logging-jetty             transitive provider of logging for threadpool\n                               transitive provider of logging for server\n                               transitive provider of logging for console-capture\n  4) threadpool                transitive provider of threadpool for server\n                               ini template available with --add-module=threadpool\n  5) server                    ${jetty.base}\\start.d\\server.ini\n  6) jndi                      transitive provider of jndi for plus\n  7) security                  transitive provider of security for webapp\n                               transitive provider of security for plus\n  8) servlet                   transitive provider of servlet for webapp\n                               transitive provider of servlet for jsp\n  9) webapp                    transitive provider of webapp for plus\n                               transitive provider of webapp for deploy\n                               ini template available with --add-module=webapp\n 10) plus                      transitive provider of plus for annotations\n 11) annotations               ${jetty.base}\\start.d\\annotations.ini\n 12) apache-jsp                transitive provider of apache-jsp for jsp\n 13) apache-jstl               transitive provider of apache-jstl for jstl\n 14) console-capture           ${jetty.base}\\start.d\\console-capture.ini\n 15) deploy                    ${jetty.base}\\start.d\\deploy.ini\n 16) ssl                       ${jetty.base}\\start.d\\ssl.ini\n 17) https                     ${jetty.base}\\start.d\\https.ini\n 18) jsp                       ${jetty.base}\\start.d\\jsp.ini\n 19) jstl                      ${jetty.base}\\start.d\\jstl.ini\n 20) secure-redirect           ${jetty.base}\\start.d\\secure-redirect.ini\n 21) test-keystore             ${jetty.base}\\start.d\\test-keystore.ini\n\nJava Environment:\n-----------------\n java.home = C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.7+7\n java.vm.vendor = Eclipse Adoptium\n java.vm.version = 17.0.7+7\n java.vm.name = OpenJDK 64-Bit Server VM\n java.vm.info = mixed mode, sharing\n java.runtime.name = OpenJDK Runtime Environment\n java.runtime.version = 17.0.7+7\n java.io.tmpdir = C:\\Users\\Bojan\\AppData\\Local\\Temp\\\n user.dir = C:\\qaelum\\services\\Webserver\n user.language = en\n user.country = US\n\nJetty Environment:\n------------------\n jetty.version = 10.0.15\n jetty.tag.version = jetty-10.0.15\n jetty.build = 68017dbd00236bb7e187330d7585a059610f661d\n jetty.home = C:\\qaelum\\frameworks\\jetty10\n jetty.base = C:\\qaelum\\services\\Webserver\n\nConfig Search Order:\n--------------------\n &lt;command-line&gt;\n ${jetty.base} -&gt; C:\\qaelum\\services\\Webserver\n ${jetty.home} -&gt; C:\\qaelum\\frameworks\\jetty10\n\nSystem Properties:\n------------------\n (no system properties specified)\n\nProperties:\n-----------\n bouncycastle.version = 1.70\n java.version = 17.0.7\n java.version.major = 17\n java.version.micro = 7\n java.version.minor = 0\n java.version.platform = 17\n jetty.base = C:\\qaelum\\services\\Webserver\n jetty.base.uri = file:///C:/qaelum/services/Webserver\n jetty.console-capture.dir = C:\\qaelum\\services\\Webserver\\logs\n jetty.home = C:\\qaelum\\frameworks\\jetty10\n jetty.home.uri = file:///C:/qaelum/frameworks/jetty10\n jetty.httpConfig.securePort = 8443\n jetty.ssl.port = 8443\n jetty.sslContext.keyStorePassword = OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4\n jetty.sslContext.keyStorePath = etc/test-keystore.p12\n jetty.sslContext.keyStoreType = PKCS12\n jetty.webapp.addServerClasses = org.eclipse.jetty.logging.,${jetty.home.uri}/lib/logging/,org.slf4j.,${jetty.base.uri}/lib/bouncycastle/\n runtime.feature.alpn = true\n slf4j.version = 2.0.5\n\nJetty Server Classpath:\n-----------------------\nVersion Information on 32 entries in the classpath.\nNote: order presented here is how they would appear on the classpath.\n      changes to the --module=name command line options will be reflected here.\n 0:                    (dir) | ${jetty.base}\\resources\n 1:                    2.0.5 | ${jetty.home}\\lib\\logging\\slf4j-api-2.0.5.jar\n 2:                  10.0.15 | ${jetty.home}\\lib\\logging\\jetty-slf4j-impl-10.0.15.jar\n 3:                    4.0.6 | ${jetty.home}\\lib\\jetty-servlet-api-4.0.6.jar\n 4:                  10.0.15 | ${jetty.home}\\lib\\jetty-http-10.0.15.jar\n 5:                  10.0.15 | ${jetty.home}\\lib\\jetty-server-10.0.15.jar\n 6:                  10.0.15 | ${jetty.home}\\lib\\jetty-xml-10.0.15.jar\n 7:                  10.0.15 | ${jetty.home}\\lib\\jetty-util-10.0.15.jar\n 8:                  10.0.15 | ${jetty.home}\\lib\\jetty-io-10.0.15.jar\n 9:                  10.0.15 | ${jetty.home}\\lib\\jetty-jndi-10.0.15.jar\n10:                  10.0.15 | ${jetty.home}\\lib\\jetty-security-10.0.15.jar\n11:                  10.0.15 | ${jetty.home}\\lib\\jetty-servlet-10.0.15.jar\n12:                  10.0.15 | ${jetty.home}\\lib\\jetty-webapp-10.0.15.jar\n13:                  10.0.15 | ${jetty.home}\\lib\\jetty-plus-10.0.15.jar\n14:                    1.3.3 | ${jetty.home}\\lib\\jakarta.transaction-api-1.3.3.jar\n15:                  10.0.15 | ${jetty.home}\\lib\\jetty-annotations-10.0.15.jar\n16:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-9.5.jar\n17:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-analysis-9.5.jar\n18:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-commons-9.5.jar\n19:                      9.5 | ${jetty.home}\\lib\\annotations\\asm-tree-9.5.jar\n20:                    1.3.5 | ${jetty.home}\\lib\\annotations\\jakarta.annotation-api-1.3.5.jar\n21:    3.26.0.v20210609-0549 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jdt.ecj-3.26.0.jar\n22:                  10.0.15 | ${jetty.home}\\lib\\apache-jsp\\org.eclipse.jetty.apache-jsp-10.0.15.jar\n23:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-el-9.0.52.jar\n24:                   9.0.52 | ${jetty.home}\\lib\\apache-jsp\\org.mortbay.jasper.apache-jsp-9.0.52.jar\n25:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-impl-1.2.5.jar\n26:                    1.2.5 | ${jetty.home}\\lib\\apache-jstl\\org.apache.taglibs.taglibs-standard-spec-1.2.5.jar\n27:                  10.0.15 | ${jetty.home}\\lib\\jetty-deploy-10.0.15.jar\n28:                  10.0.15 | ${jetty.home}\\lib\\jetty-keystore-10.0.15.jar\n29:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcpkix-jdk15on-1.70.jar\n30:                   1.70.0 | ${jetty.base}\\lib\\bouncycastle\\bcprov-jdk15on-1.70.jar\n31:                1.70.00.0 | ${jetty.base}\\lib\\bouncycastle\\bcutil-jdk15on-1.70.jar\n\nJetty Active XMLs:\n------------------\n ${jetty.home}\\etc\\jetty-bytebufferpool.xml\n ${jetty.home}\\etc\\jetty-threadpool.xml\n ${jetty.home}\\etc\\jetty.xml\n ${jetty.home}\\etc\\jetty-webapp.xml\n ${jetty.home}\\etc\\console-capture.xml\n ${jetty.home}\\etc\\jetty-deploy.xml\n ${jetty.home}\\etc\\jetty-ssl.xml\n ${jetty.home}\\etc\\jetty-ssl-context.xml\n ${jetty.home}\\etc\\jetty-https.xml\n ${jetty.home}\\etc\\jetty-secure-redirect.xml\n ${jetty.home}\\etc\\jetty-test-keystore.xml\n</code></pre>\n<p>i am also using the test-keystore.ini</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1626355388,"post_id":68394081,"comment_id":120874942,"body_markdown":"What type is the collection with a size of zero?","body":"What type is the collection with a size of zero?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1626355799,"post_id":68394081,"comment_id":120875161,"body_markdown":"Can you provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? Even if that code works for you locally, it would **really** help if we saw the code that failed in your build pipelines. My wild guess woud be something related to unit test execution being different in your build vs. your local test runs (did you try running the tests locally via your build script?).","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>? Even if that code works for you locally, it would <b>really</b> help if we saw the code that failed in your build pipelines. My wild guess woud be something related to unit test execution being different in your build vs. your local test runs (did you try running the tests locally via your build script?)."},{"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"score":0,"creation_date":1626358736,"post_id":68394081,"comment_id":120876586,"body_markdown":"@OlivierGr&#233;goire, its a list of a custom object.\nJoachimSauer I really think it&#39;s a bug in the library, since it&#39;s not failing just on the build, it also fails locally when a colleague of mine tries","body":"@OlivierGr&#233;goire, its a list of a custom object. JoachimSauer I really think it&#39;s a bug in the library, since it&#39;s not failing just on the build, it also fails locally when a colleague of mine tries"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1626360050,"post_id":68394081,"comment_id":120877261,"body_markdown":"@UnguruBulan: possible. But without a reproducible example you won&#39;t get far. Reduce the code to the minimum possible that still fails at your collegues computer. Remove unnecessary tests, replace your custom classes with simple dummies, do everything possible to reduce the code until you&#39;ve got a minimal, reproducible example. With that we can continue the hunt, but with just your description above, it&#39;s really anyone&#39;s guess.","body":"@UnguruBulan: possible. But without a reproducible example you won&#39;t get far. Reduce the code to the minimum possible that still fails at your collegues computer. Remove unnecessary tests, replace your custom classes with simple dummies, do everything possible to reduce the code until you&#39;ve got a minimal, reproducible example. With that we can continue the hunt, but with just your description above, it&#39;s really anyone&#39;s guess."},{"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"score":0,"creation_date":1626431045,"post_id":68394081,"comment_id":120896717,"body_markdown":"I found the problem. Will post the solution later on. Thanks for trying to help","body":"I found the problem. Will post the solution later on. Thanks for trying to help"}],"answers":[{"tags":[],"owner":{"account_id":9945374,"reputation":620,"user_id":7361008,"display_name":"Tomas F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692796668,"creation_date":1692796668,"answer_id":76961738,"question_id":68394081,"body_markdown":"This was my case:\r\n\r\nBy default, if your class has some fields already initialized, EasyRandom skips them.\r\n\r\nThis is the case also for initialization at declaration such as `List&lt;YourClass&gt; yourList = new ArrayList&lt;&gt;()`. Even if the collection itself is empty, EasyRandom skips such field.\r\n\r\nYou can use `overrideDefaultInitialization(true)` to change this behavior\r\n\r\n     new EasyRandomParameters()\r\n            .collectionSizeRange(1, 2)\r\n            .overrideDefaultInitialization(true)","title":"EasyRandom collection size bug?","body":"<p>This was my case:</p>\n<p>By default, if your class has some fields already initialized, EasyRandom skips them.</p>\n<p>This is the case also for initialization at declaration such as <code>List&lt;YourClass&gt; yourList = new ArrayList&lt;&gt;()</code>. Even if the collection itself is empty, EasyRandom skips such field.</p>\n<p>You can use <code>overrideDefaultInitialization(true)</code> to change this behavior</p>\n<pre><code> new EasyRandomParameters()\n        .collectionSizeRange(1, 2)\n        .overrideDefaultInitialization(true)\n</code></pre>\n"}],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692796668,"creation_date":1626353028,"question_id":68394081,"body_markdown":"I&#39;m using easy random (4.1.0, but even tried the latest ones).\r\n\r\nSo before each test, I&#39;m running this:\r\n\r\n    easyRandom = new EasyRandom(new EasyRandomParameters().collectionSizeRange(1, 2));\r\n\r\nThen in my tests I&#39;m generating an object which contains an inner object which also contains a List of SomeObject\r\n\r\n    MyObj obj = easyRandom.nextObject(MyObj.class);\r\n\r\nIt works fine. It generates the object and even populates the inner collection with 1-2 elements.\r\nOne colleague of mine had a problem where the inner collection was generated with 0 elements.\r\nThought it was something from his setup. But now, our pipelines are ending in build failure because of the exact same problem. That collection is generated with 0 elements and the tests are failing, even though it works locally.\r\n\r\nHas anyone met this weird bug?","title":"EasyRandom collection size bug?","body":"<p>I'm using easy random (4.1.0, but even tried the latest ones).</p>\n<p>So before each test, I'm running this:</p>\n<pre><code>easyRandom = new EasyRandom(new EasyRandomParameters().collectionSizeRange(1, 2));\n</code></pre>\n<p>Then in my tests I'm generating an object which contains an inner object which also contains a List of SomeObject</p>\n<pre><code>MyObj obj = easyRandom.nextObject(MyObj.class);\n</code></pre>\n<p>It works fine. It generates the object and even populates the inner collection with 1-2 elements.\nOne colleague of mine had a problem where the inner collection was generated with 0 elements.\nThought it was something from his setup. But now, our pipelines are ending in build failure because of the exact same problem. That collection is generated with 0 elements and the tests are failing, even though it works locally.</p>\n<p>Has anyone met this weird bug?</p>\n"},{"tags":["java","spring-boot","version-control","openapi"],"owner":{"account_id":25103965,"reputation":89,"user_id":18954336,"display_name":"JoeBloggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692796284,"creation_date":1692796284,"question_id":76961686,"body_markdown":"I am using Spring Boot to run my service. Now I want to be able to define different versions of my api and separate them by some header. My current approach is to design specification first and then use openapi generator to get delegates.\r\n\r\nFor example, I have a spec file similar to this\r\n\r\n    openapi: 3.0.2\r\n    paths:\r\n      /api/stuff:\r\n        get:\r\n          operationId: method\r\n          parameters:\r\n            - in: header\r\n              name: version\r\n              type: integer\r\n          responses:\r\n            &#39;200&#39;:\r\n              $ref: &#39;#/components/responses/DtoV1&#39;\r\n\r\nHow can I say that for version 2 I will return `DtoV2`?\r\nAnd how will Spring handle those Controllers and Delegates?","title":"OpenApi versioning by header in Spring","body":"<p>I am using Spring Boot to run my service. Now I want to be able to define different versions of my api and separate them by some header. My current approach is to design specification first and then use openapi generator to get delegates.</p>\n<p>For example, I have a spec file similar to this</p>\n<pre><code>openapi: 3.0.2\npaths:\n  /api/stuff:\n    get:\n      operationId: method\n      parameters:\n        - in: header\n          name: version\n          type: integer\n      responses:\n        '200':\n          $ref: '#/components/responses/DtoV1'\n</code></pre>\n<p>How can I say that for version 2 I will return <code>DtoV2</code>?\nAnd how will Spring handle those Controllers and Delegates?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1340474206,"creation_date":1340471787,"answer_id":11171460,"question_id":11171445,"body_markdown":"Your regular expression can match zero characters. The final match is a zero width string occurring at the end of the string, **after** the character at index 5. The index of this zero width string is therefore 6.\r\n\r\n---\r\n\r\nAs an aside, you might also find it easier to understand what is going on if you use separators to make the output more readable:\r\n\r\n    System.out.println(matcher.start()+ &quot;: &quot; + matcher.group());\r\n\r\nResults:\r\n\r\n    0: \r\n    1: \r\n    2: 34\r\n    4: \r\n    5: \r\n    6: \r\n\r\n[ideone](http://ideone.com/hM4SE#)\r\n","title":"How Matcher.find() works","body":"<p>Your regular expression can match zero characters. The final match is a zero width string occurring at the end of the string, <strong>after</strong> the character at index 5. The index of this zero width string is therefore 6.</p>\n\n<hr>\n\n<p>As an aside, you might also find it easier to understand what is going on if you use separators to make the output more readable:</p>\n\n<pre><code>System.out.println(matcher.start()+ \": \" + matcher.group());\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>0: \n1: \n2: 34\n4: \n5: \n6: \n</code></pre>\n\n<p><a href=\"http://ideone.com/hM4SE#\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1340472518,"creation_date":1340472518,"answer_id":11171544,"question_id":11171445,"body_markdown":"Your expression use `*` that means 0 or more digit, so can match no digit too.\r\n\r\nChange your regular expression in this way\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n\r\nUsing `+` means 1 or more.\r\n\r\n\r\n\r\n","title":"How Matcher.find() works","body":"<p>Your expression use <code>*</code> that means 0 or more digit, so can match no digit too.</p>\n\n<p>Change your regular expression in this way</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\d+\");\n</code></pre>\n\n<p>Using <code>+</code> means 1 or more.</p>\n"}],"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57512,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1441914368,"accepted_answer_id":11171460,"answer_count":2,"score":18,"last_activity_date":1692796148,"creation_date":1340471681,"question_id":11171445,"body_markdown":"I am testing a small stub of Matcher and Pattern class...see the following small stub..  \r\n\r\n\r\n    package scjp2.escape.sequence.examples;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Sample_19 {\r\n        \r\n        public static void main(String a[]){\r\n            String stream = &quot;ab34ef&quot;;\r\n            Pattern pattern = Pattern.compile(&quot;\\\\d*&quot;);\r\n    \r\n            //HERE * IS GREEDY QUANTIFIER THAT LOOKS FOR ZERO TO MANY COMBINATION THAT \r\n            //START WITH NUMBER \r\n            Matcher matcher = pattern.matcher(stream);\r\n            \r\n            while(matcher.find()){\r\n                System.out.print(matcher.start()+matcher.group());\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\nHere ...our string which we are comparing is &quot;ab34ef&quot;. which is of length 6.\r\n\r\nNoe let see the iteration...\r\n\r\n---------------------------------------------------\r\nIteration NO    matcher.start()    matcher.group()\r\n-----------------------------------------------------\r\n\r\n1                     0                &quot;&quot;\r\n\r\n2                     1                &quot;&quot;\r\n\r\n3                     2                34\r\n\r\n4                     4                &quot;&quot;\r\n\r\n5                     5                &quot;&quot;\r\n\r\n\r\nNow ..let combine...matcher.start() + matcher.group()....\r\nthe output as per our calculation is : 0123445\r\n\r\nBut, the stub generates 01234456.\r\n\r\nI am not able to understand from where the &quot;6&quot; is coming.\r\nString index starts from zero and so here there can be maximum index is 5.So from where 6 is coming??\r\n\r\nIt iterates over the loop six times..How ?\r\nAny suggestion ?","title":"How Matcher.find() works","body":"<p>I am testing a small stub of Matcher and Pattern class...see the following small stub..  </p>\n\n<pre><code>package scjp2.escape.sequence.examples;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Sample_19 {\n\n    public static void main(String a[]){\n        String stream = \"ab34ef\";\n        Pattern pattern = Pattern.compile(\"\\\\d*\");\n\n        //HERE * IS GREEDY QUANTIFIER THAT LOOKS FOR ZERO TO MANY COMBINATION THAT \n        //START WITH NUMBER \n        Matcher matcher = pattern.matcher(stream);\n\n        while(matcher.find()){\n            System.out.print(matcher.start()+matcher.group());\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here ...our string which we are comparing is \"ab34ef\". which is of length 6.</p>\n\n<p>Noe let see the iteration...</p>\n\n<hr>\n\n<h2>Iteration NO    matcher.start()    matcher.group()</h2>\n\n<p>1                     0                \"\"</p>\n\n<p>2                     1                \"\"</p>\n\n<p>3                     2                34</p>\n\n<p>4                     4                \"\"</p>\n\n<p>5                     5                \"\"</p>\n\n<p>Now ..let combine...matcher.start() + matcher.group()....\nthe output as per our calculation is : 0123445</p>\n\n<p>But, the stub generates 01234456.</p>\n\n<p>I am not able to understand from where the \"6\" is coming.\nString index starts from zero and so here there can be maximum index is 5.So from where 6 is coming??</p>\n\n<p>It iterates over the loop six times..How ?\nAny suggestion ?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1340385810,"creation_date":1340385810,"answer_id":11161176,"question_id":11161149,"body_markdown":"I believe you need import \r\n\r\n&gt; org.apache.commons.lang3.StringUtils;\r\n\r\n  for this\r\n\r\n     private Boolean validateEmail(String email)\r\n        {\r\n        \treturn email.matches(&quot;^[-!#$%&amp;&#39;*+/0-9=?A-Z^_a-z{|}~](\\\\.?[-!#$%&amp;&#39;*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\\\\.[a-zA-Z](-?[a-zA-Z0-9])*)+$&quot;);\r\n        }\r\n        \r\n        private Boolean validateIP(String IP)\r\n        {\r\n        \treturn IP.matches(&quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;);\r\n        }\r\n        \r\n        private Boolean validateHostname(String Hostname)\r\n        {\r\n        \treturn Hostname.matches(&quot;^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\\\-]*[a-zA-Z0-9])\\\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\\\-]*[A-Za-z0-9])$&quot;);\r\n        }\r\n        ","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>I believe you need import </p>\n\n<blockquote>\n  <p>org.apache.commons.lang3.StringUtils;</p>\n</blockquote>\n\n<p>for this</p>\n\n<pre><code> private Boolean validateEmail(String email)\n    {\n        return email.matches(\"^[-!#$%&amp;'*+/0-9=?A-Z^_a-z{|}~](\\\\.?[-!#$%&amp;'*+/0-9=?A-Z^_a-z{|}~])*@[a-zA-Z](-?[a-zA-Z0-9])*(\\\\.[a-zA-Z](-?[a-zA-Z0-9])*)+$\");\n    }\n\n    private Boolean validateIP(String IP)\n    {\n        return IP.matches(\"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$\");\n    }\n\n    private Boolean validateHostname(String Hostname)\n    {\n        return Hostname.matches(\"^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\\\-]*[a-zA-Z0-9])\\\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\\\-]*[A-Za-z0-9])$\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333187,"reputation":6777,"user_id":658907,"accept_rate":67,"display_name":"matts"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1424798192,"creation_date":1340385932,"answer_id":11161209,"question_id":11161149,"body_markdown":"This is supported starting in [Java 7][1].  Your C# code can be translated to something like this:\r\n\r\n    String pattern = &quot;;(?&lt;foo&gt;\\\\d{6});(?&lt;bar&gt;\\\\d{6});&quot;;\r\n    Pattern regex = Pattern.compile(pattern);\r\n    Matcher matcher = regex.matcher(&quot;;123456;123456;&quot;);\r\n    boolean success = matcher.find();\r\n\r\n    String foo = success ? matcher.group(&quot;foo&quot;) : null;\r\n    String bar = success ? matcher.group(&quot;bar&quot;) : null;\r\n\r\nYou have to create a `Matcher` object which doesn&#39;t actually perform the regex test until you call [`find()`][2].\r\n\r\n(I used `find()` because it can find a match anywhere in the input string, like the [`Regex.Match()`][4] method.  The [`.matches()`][3] method only returns true if the regex matches the entire input string.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\r\n  [4]: https://msdn.microsoft.com/en-us/library/twcw2f1c(v=vs.110).aspx","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>This is supported starting in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname\">Java 7</a>.  Your C# code can be translated to something like this:</p>\n\n<pre><code>String pattern = \";(?&lt;foo&gt;\\\\d{6});(?&lt;bar&gt;\\\\d{6});\";\nPattern regex = Pattern.compile(pattern);\nMatcher matcher = regex.matcher(\";123456;123456;\");\nboolean success = matcher.find();\n\nString foo = success ? matcher.group(\"foo\") : null;\nString bar = success ? matcher.group(\"bar\") : null;\n</code></pre>\n\n<p>You have to create a <code>Matcher</code> object which doesn't actually perform the regex test until you call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\"><code>find()</code></a>.</p>\n\n<p>(I used <code>find()</code> because it can find a match anywhere in the input string, like the <a href=\"https://msdn.microsoft.com/en-us/library/twcw2f1c(v=vs.110).aspx\"><code>Regex.Match()</code></a> method.  The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\"><code>.matches()</code></a> method only returns true if the regex matches the entire input string.)</p>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340386040,"creation_date":1340386040,"answer_id":11161235,"question_id":11161149,"body_markdown":"Java v1.7 now supports  Perl-standard named groups like `(?&lt;name&gt;...)` and `\\k&lt;name&gt;` in patterns.\r\n\r\n You cannot have duplicate group names in the same pattern, which can be annoying in very complex cases where you are building up larger patterns out of smaller pieces out of your control.  It also lacks relative indexing.  \r\n\r\nHowever, it should be enough for such simple things as you appear to be writing.","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>Java v1.7 now supports  Perl-standard named groups like <code>(?&lt;name&gt;...)</code> and <code>\\k&lt;name&gt;</code> in patterns.</p>\n\n<p>You cannot have duplicate group names in the same pattern, which can be annoying in very complex cases where you are building up larger patterns out of smaller pieces out of your control.  It also lacks relative indexing.  </p>\n\n<p>However, it should be enough for such simple things as you appear to be writing.</p>\n"}],"owner":{"account_id":436466,"reputation":382,"user_id":823667,"accept_rate":81,"display_name":"aelstonjones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17136,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1486588392,"accepted_answer_id":11161209,"answer_count":3,"score":13,"last_activity_date":1692796115,"creation_date":1340385677,"question_id":11161149,"body_markdown":"I was wondering if Java had an equivalent to C#’s named pattern matching.  For example, in C# I can do something like this:\r\n\r\n    var pattern = @&quot;;(?&lt;foo&gt;\\d{6});(?&lt;bar&gt;\\d{6});&quot;;\r\n    var regex = new Regex(pattern , RegexOptions.None);\r\n    var match = regex.Match(&quot;;123456;123456;&quot;);\r\n\r\n    var foo = match.Groups[&quot;foo&quot;].Success ? match.Groups[&quot;foo&quot;].Value : null;\r\n    var bar = match.Groups[&quot;bar&quot;].Success ? match.Groups[&quot;bar&quot;].Value : null;\r\n\r\nThis just seems like a clean way to grab groups.  Can Java do something similar, or do I need to grab groups based on index position?\r\n\r\n    String foo = matcher.group(0);","title":"Java support for  &quot;(?&lt;name&gt;pattern)&quot; in patterns","body":"<p>I was wondering if Java had an equivalent to C#’s named pattern matching.  For example, in C# I can do something like this:</p>\n\n<pre><code>var pattern = @\";(?&lt;foo&gt;\\d{6});(?&lt;bar&gt;\\d{6});\";\nvar regex = new Regex(pattern , RegexOptions.None);\nvar match = regex.Match(\";123456;123456;\");\n\nvar foo = match.Groups[\"foo\"].Success ? match.Groups[\"foo\"].Value : null;\nvar bar = match.Groups[\"bar\"].Success ? match.Groups[\"bar\"].Value : null;\n</code></pre>\n\n<p>This just seems like a clean way to grab groups.  Can Java do something similar, or do I need to grab groups based on index position?</p>\n\n<pre><code>String foo = matcher.group(0);\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":300805,"reputation":5077,"user_id":608170,"accept_rate":90,"display_name":"verisimilitude"},"score":0,"creation_date":1339919812,"post_id":11069739,"comment_id":14488148,"body_markdown":"so that means you might be having one or more SECTIONs in your file, correct?","body":"so that means you might be having one or more SECTIONs in your file, correct?"},{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1339921662,"post_id":11069739,"comment_id":14488378,"body_markdown":"Regular expressions are not the right choice for parsing matched, nestable braces.","body":"Regular expressions are not the right choice for parsing matched, nestable braces."}],"answers":[{"tags":[],"owner":{"account_id":1447288,"reputation":3160,"user_id":1365324,"accept_rate":91,"display_name":"EyalAr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339920001,"creation_date":1339920001,"answer_id":11069815,"question_id":11069739,"body_markdown":"Perhaps you have white spaces which you don&#39;t consider.  \r\nTry this:  \r\n\r\n    &quot;SECTIONS\\\\s*\\\\{(.*)\\\\}&quot;\r\n\r\nNotice that I also removed the outer group from the pattern (I don&#39;t see a reason for it).  \r\nIn my example, after matching, use group 1.  \r\nNotice that this will work only if you do greedy matches (which is the case by default).","title":"java pattern and matcher","body":"<p>Perhaps you have white spaces which you don't consider.<br>\nTry this:  </p>\n\n<pre><code>\"SECTIONS\\\\s*\\\\{(.*)\\\\}\"\n</code></pre>\n\n<p>Notice that I also removed the outer group from the pattern (I don't see a reason for it).<br>\nIn my example, after matching, use group 1.<br>\nNotice that this will work only if you do greedy matches (which is the case by default).</p>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1339920220,"creation_date":1339920220,"answer_id":11069827,"question_id":11069739,"body_markdown":"This will match and print the content inside SECTIONS `{` and `}`.:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;SECTIONS.*?\\\\{(.*)\\\\}&quot;, Pattern.DOTALL);\r\n    Matcher matcher = pattern.matcher(sample);\r\n    matcher.find();\r\n\r\n    System.out.println(matcher.group(1));\r\n\r\nwhere `sample` is your pattern sample. `Pattern.DOTALL` is required to handle line breaks correctly, the others should be self-explanatory. ","title":"java pattern and matcher","body":"<p>This will match and print the content inside SECTIONS <code>{</code> and <code>}</code>.:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"SECTIONS.*?\\\\{(.*)\\\\}\", Pattern.DOTALL);\nMatcher matcher = pattern.matcher(sample);\nmatcher.find();\n\nSystem.out.println(matcher.group(1));\n</code></pre>\n\n<p>where <code>sample</code> is your pattern sample. <code>Pattern.DOTALL</code> is required to handle line breaks correctly, the others should be self-explanatory. </p>\n"}],"owner":{"account_id":1306905,"reputation":111,"user_id":1255710,"accept_rate":86,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11069827,"answer_count":2,"score":1,"last_activity_date":1692796108,"creation_date":1339919188,"question_id":11069739,"body_markdown":"I am using Pattern and Matcher classes from Java to parse a link file script.\r\nThe text I need is in the SECTIONS part:\r\n\r\n    SECTIONS\r\n    \t{\r\n    \t\t.text : {} &gt; FAST_MEM /* Link all .text sections into ROM */\r\n    \t\t.intvecs : {} &gt; 0x0 /* Link interrupt vectors at 0x0 */\r\n    \t\t.data : /* Link .data sections */\r\n    \t\t{\r\n    \t\t\ttables.obj(.data)\r\n    \t\t\t. = 0x400; /* Create hole at end of block */\r\n    \t\t} = 0xFF00FF00 &gt; EEPROM /* Fill and link into EEPROM */\r\n    \t\tctrl_vars: /* Create new ctrl_vars section */\r\n    \t\t{\r\n    \t\t\tctrl.obj(.bss)\r\n    \t\t} = 0x00000100 &gt; SLOW_MEM /* Fill with 0x100 and link into RAM */\r\n    \t\t.bss : {} &gt; SLOW_MEM /* Link remaining .bss sections into RAM */\r\n    \t}\r\n\r\nright now I am using \r\n\r\n    Pattern SectPattern = Pattern.compile(&quot;(SECTIONS\\\\{(.*)\\\\})&quot;);\r\n\r\nand I want to extract the (.*) group but the result is not what I expected\r\nDoes anyone have any ideas of a better pattern to use?\r\n","title":"java pattern and matcher","body":"<p>I am using Pattern and Matcher classes from Java to parse a link file script.\nThe text I need is in the SECTIONS part:</p>\n\n<pre><code>SECTIONS\n    {\n        .text : {} &gt; FAST_MEM /* Link all .text sections into ROM */\n        .intvecs : {} &gt; 0x0 /* Link interrupt vectors at 0x0 */\n        .data : /* Link .data sections */\n        {\n            tables.obj(.data)\n            . = 0x400; /* Create hole at end of block */\n        } = 0xFF00FF00 &gt; EEPROM /* Fill and link into EEPROM */\n        ctrl_vars: /* Create new ctrl_vars section */\n        {\n            ctrl.obj(.bss)\n        } = 0x00000100 &gt; SLOW_MEM /* Fill with 0x100 and link into RAM */\n        .bss : {} &gt; SLOW_MEM /* Link remaining .bss sections into RAM */\n    }\n</code></pre>\n\n<p>right now I am using </p>\n\n<pre><code>Pattern SectPattern = Pattern.compile(\"(SECTIONS\\\\{(.*)\\\\})\");\n</code></pre>\n\n<p>and I want to extract the (.*) group but the result is not what I expected\nDoes anyone have any ideas of a better pattern to use?</p>\n"},{"tags":["java","regex","substring"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1339008049,"post_id":10920019,"comment_id":14242686,"body_markdown":"+1 well-structured question, specific, with all relevant details.","body":"+1 well-structured question, specific, with all relevant details."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1339007587,"creation_date":1339007587,"answer_id":10920056,"question_id":10920019,"body_markdown":"It _does_ work.  Your pattern\r\n\r\n    ^.*pattern.*$\r\n\r\nsays to match:\r\n\r\n1. start at the beginning\r\n2. accept any number of characters\r\n3. followed by the string `pattern`\r\n4. followed by any number of characters\r\n5. until the end of the string\r\n\r\nThe result is the entire input string.  If you wanted to find only the word `pattern`, then the regex would be just the word by itself, or as you found, bracketed with word-boundary metacharacters.","title":"Why this code don&#39;t work properly?","body":"<p>It <em>does</em> work.  Your pattern</p>\n\n<pre><code>^.*pattern.*$\n</code></pre>\n\n<p>says to match:</p>\n\n<ol>\n<li>start at the beginning</li>\n<li>accept any number of characters</li>\n<li>followed by the string <code>pattern</code></li>\n<li>followed by any number of characters</li>\n<li>until the end of the string</li>\n</ol>\n\n<p>The result is the entire input string.  If you wanted to find only the word <code>pattern</code>, then the regex would be just the word by itself, or as you found, bracketed with word-boundary metacharacters.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1339007643,"creation_date":1339007643,"answer_id":10920068,"question_id":10920019,"body_markdown":"It is not that the first example didn&#39;t work, it is that you inadvertently asked it to match more than you meant.\r\n\r\nThe `.*` expressions expand to contain all the characters before &quot;pattern&quot; and all the characters after pattern, so the whole expression matches the whole line.\r\n\r\nWith your second example, you only specify that it match a blank space before and after &quot;pattern&quot; so the expression matches _mostly_ pattern, plus a couple of spaces.","title":"Why this code don&#39;t work properly?","body":"<p>It is not that the first example didn't work, it is that you inadvertently asked it to match more than you meant.</p>\n\n<p>The <code>.*</code> expressions expand to contain all the characters before \"pattern\" and all the characters after pattern, so the whole expression matches the whole line.</p>\n\n<p>With your second example, you only specify that it match a blank space before and after \"pattern\" so the expression matches <em>mostly</em> pattern, plus a couple of spaces.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1339007773,"creation_date":1339007773,"answer_id":10920100,"question_id":10920019,"body_markdown":"The problem is in your regex: `&quot;^.*&quot; + keyword + &quot;.*$&quot;`\r\n\r\nThe expression `.*` matches as many characters as there are in the string. It means that it actually matches whole string. After the whole string it cannot find your keyword.\r\n\r\nTo make it working you have to make it greedy, i.e.  add question sign after `.*`: \r\n\r\n`&quot;^.*?&quot; + keyword + &quot;.*$&quot;`\r\n\r\nThis time `.*?` matches minimum characters followed by your keyword. \r\n\r\n\r\n","title":"Why this code don&#39;t work properly?","body":"<p>The problem is in your regex: <code>\"^.*\" + keyword + \".*$\"</code></p>\n\n<p>The expression <code>.*</code> matches as many characters as there are in the string. It means that it actually matches whole string. After the whole string it cannot find your keyword.</p>\n\n<p>To make it working you have to make it greedy, i.e.  add question sign after <code>.*</code>: </p>\n\n<p><code>\"^.*?\" + keyword + \".*$\"</code></p>\n\n<p>This time <code>.*?</code> matches minimum characters followed by your keyword. </p>\n"}],"owner":{"account_id":417690,"reputation":2002,"user_id":793824,"accept_rate":83,"display_name":"abg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10920056,"answer_count":3,"score":1,"last_activity_date":1692796088,"creation_date":1339007431,"question_id":10920019,"body_markdown":"Why this code:\r\n\r\n    String keyword = &quot;pattern&quot;;\r\n    String text    = &quot;sometextpatternsometext&quot;;\r\n    String patternStr = &quot;^.*&quot; + keyword + &quot;.*$&quot;; //\r\n    Pattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(text);\r\n    while (matcher.find()) {\r\n        int start = matcher.start();\r\n        int end = matcher.end();\r\n        System.out.println(&quot;start = &quot; + start + &quot;, end = &quot; + end);\r\n    }\r\n\r\n&gt; start = 0, end = 23\r\n\r\ndon&#39;t work properly.\r\n\r\nBut, this code:\r\n\r\n    String keyword = &quot;pattern&quot;;\r\n    String text    = &quot;sometext pattern sometext&quot;;\r\n    String patternStr = &quot;\\\\b&quot; + keyword + &quot;\\\\b&quot;; //\r\n    Pattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(text);\r\n    while (matcher.find()) {\r\n        int start = matcher.start();\r\n        int end = matcher.end();\r\n        System.out.println(&quot;start = &quot; + start + &quot;, end = &quot; + end);\r\n    }\r\n\r\n&gt; start = 9, end = 16\r\n\r\nwork fine.","title":"Why this code don&#39;t work properly?","body":"<p>Why this code:</p>\n\n<pre><code>String keyword = \"pattern\";\nString text    = \"sometextpatternsometext\";\nString patternStr = \"^.*\" + keyword + \".*$\"; //\nPattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(text);\nwhile (matcher.find()) {\n    int start = matcher.start();\n    int end = matcher.end();\n    System.out.println(\"start = \" + start + \", end = \" + end);\n}\n</code></pre>\n\n<blockquote>\n  <p>start = 0, end = 23</p>\n</blockquote>\n\n<p>don't work properly.</p>\n\n<p>But, this code:</p>\n\n<pre><code>String keyword = \"pattern\";\nString text    = \"sometext pattern sometext\";\nString patternStr = \"\\\\b\" + keyword + \"\\\\b\"; //\nPattern pattern = Pattern.compile(patternStr, Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(text);\nwhile (matcher.find()) {\n    int start = matcher.start();\n    int end = matcher.end();\n    System.out.println(\"start = \" + start + \", end = \" + end);\n}\n</code></pre>\n\n<blockquote>\n  <p>start = 9, end = 16</p>\n</blockquote>\n\n<p>work fine.</p>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1338115170,"creation_date":1338115170,"answer_id":10773321,"question_id":10773296,"body_markdown":"You should use this:\r\n\r\n    while (m.find()) {\r\n    \t\t\tstudent.setName(m.group(1));\r\n                student.setState(m.group(2));\r\n    \t\t}\r\n\r\nRead [this][1] for understanding exactly why should you use `find()` and not `matches()`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex","title":"extract string from http document with matcher/pattern","body":"<p>You should use this:</p>\n\n<pre><code>while (m.find()) {\n            student.setName(m.group(1));\n            student.setState(m.group(2));\n        }\n</code></pre>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\">this</a> for understanding exactly why should you use <code>find()</code> and not <code>matches()</code>.</p>\n"}],"owner":{"account_id":1506371,"reputation":3,"user_id":1409656,"display_name":"user1409656"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10773321,"answer_count":1,"score":0,"last_activity_date":1692796077,"creation_date":1338114911,"question_id":10773296,"body_markdown":"Here is a part of my document:\r\n\r\n    &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Име:&lt;/b&gt;&lt;/td&gt; &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;Павлин Евгениев Тишев&lt;/td&gt;\r\n    &lt;td rowspan=&quot;7&quot; align=&quot;center&quot; valign=&quot;top&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\r\n    &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;&lt;b&gt;Състояние:&lt;/b&gt;&lt;/td&gt;\r\n    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;Редовен&lt;/td&gt;\r\n\r\nI want to extract the String between `&lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;` and `&lt;/td&gt;` from all occurrences one by one because the values are ordered by type.\r\n\r\nI am using this code (**in** is the whole input String part of which is shown above)\r\n\r\n    Pattern p = Pattern.compile(&quot;&lt;td align=\\&quot;left\\&quot; valign=\\&quot;top\\&quot;&gt;(.*?)&lt;/td&gt;&quot;);\r\n    \t\tMatcher m = p.matcher(in);\r\n    \r\n    \t\tif (m.matches()) {\r\n    \t\t\tstudent.setName(m.group(1));\r\n    \t\t\tstudent.setState(m.group(2));\r\n    \t\t}\r\n\r\nbut it does not even enter the **if**","title":"extract string from http document with matcher/pattern","body":"<p>Here is a part of my document:</p>\n\n<pre><code>&lt;td align=\"right\" valign=\"top\"&gt;&lt;b&gt;Име:&lt;/b&gt;&lt;/td&gt; &lt;td align=\"left\" valign=\"top\"&gt;Павлин Евгениев Тишев&lt;/td&gt;\n&lt;td rowspan=\"7\" align=\"center\" valign=\"top\"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n&lt;td align=\"right\" valign=\"top\"&gt;&lt;b&gt;Състояние:&lt;/b&gt;&lt;/td&gt;\n&lt;td align=\"left\" valign=\"top\"&gt;Редовен&lt;/td&gt;\n</code></pre>\n\n<p>I want to extract the String between <code>&lt;td align=\"left\" valign=\"top\"&gt;</code> and <code>&lt;/td&gt;</code> from all occurrences one by one because the values are ordered by type.</p>\n\n<p>I am using this code (<strong>in</strong> is the whole input String part of which is shown above)</p>\n\n<pre><code>Pattern p = Pattern.compile(\"&lt;td align=\\\"left\\\" valign=\\\"top\\\"&gt;(.*?)&lt;/td&gt;\");\n        Matcher m = p.matcher(in);\n\n        if (m.matches()) {\n            student.setName(m.group(1));\n            student.setState(m.group(2));\n        }\n</code></pre>\n\n<p>but it does not even enter the <strong>if</strong></p>\n"},{"tags":["java","regex","special-characters"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1338032116,"post_id":10765837,"comment_id":13995599,"body_markdown":"[What have you tried](http://mattgemmell.com/2008/12/08/what-have-you-tried/)?","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried</a>?"},{"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"score":0,"creation_date":1338032910,"post_id":10765837,"comment_id":13995740,"body_markdown":"For the first pattern [&lt;&gt;[]:;/\\&quot;|=+*?,] For the Second Pattern [&lt;&gt;/\\&quot;|] Is this correct? I dont know how can we check for Names cannot start with a period, Can anyone suggest?","body":"For the first pattern [&lt;&gt;[]:;/\\&quot;|=+*?,] For the Second Pattern [&lt;&gt;/\\&quot;|] Is this correct? I dont know how can we check for Names cannot start with a period, Can anyone suggest?"}],"answers":[{"tags":[],"owner":{"account_id":250344,"reputation":3620,"user_id":526995,"accept_rate":94,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338033185,"creation_date":1338033185,"answer_id":10765966,"question_id":10765837,"body_markdown":"Instead of using a regular expression, which you&#39;re obviously not confident with, you could use the `String.contains()` method.\r\n\r\nHowever, if you must use regex, like Mayur Patel said, &quot;`[ab]`&quot; basically means a or b ! You should check out regularexpressions.info","title":"Special Character check using Java Pattern","body":"<p>Instead of using a regular expression, which you're obviously not confident with, you could use the <code>String.contains()</code> method.</p>\n\n<p>However, if you must use regex, like Mayur Patel said, \"<code>[ab]</code>\" basically means a or b ! You should check out regularexpressions.info</p>\n"},{"tags":[],"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1338044690,"creation_date":1338034409,"answer_id":10766115,"question_id":10765837,"body_markdown":"**Try these patterns**\r\n\r\n*for 1st point*\r\n\r\n    (?i)^([a-z][^&quot;\\[:\\]\\|=\\+\\*\\?&lt;&gt;\\\\\\/\\r\\n]+)$\r\n\r\n\r\n*for 2st point*\r\n\r\n    (?i)^([a-z][^&lt;&gt;\\\\\\/\\|\\r\\n]+)$\r\n\r\n\r\n**Explanations**\r\n\r\n    1st Pattern\r\n    \r\n    &quot;(?i)&quot; +                               -- Match the remainder of the regex with the options: case insensitive (i)\r\n    &quot;^&quot; +                                  -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\r\n    &quot;(&quot; +                                  -- Match the regular expression below and capture its match into backreference number 1\r\n       &quot;[a-z]&quot; +                              -- Match a single character in the range between “a” and “z”\r\n       &quot;[^\\&quot;\\\\[:\\\\]\\\\|=\\\\+\\\\*\\\\?&lt;&gt;\\\\\\\\\\\\/\\r\\n]&quot; +       -- Match a single character NOT present in the list below\r\n                                                 -- The character “&quot;”\r\n                                                 -- A [ character\r\n                                                 -- The character “:”\r\n                                                 -- A ] character\r\n                                                 -- A | character\r\n                                                 -- The character “=”\r\n                                                 -- A + character\r\n                                                 -- A * character\r\n                                                 -- A ? character\r\n                                                 -- One of the characters “&lt;&gt;”\r\n                                                 -- A \\ character\r\n                                                 -- A / character\r\n                                                 -- A carriage return character\r\n                                                 -- A line feed character\r\n          &quot;+&quot; +                                  -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\r\n    &quot;)&quot; +\r\n    &quot;$&quot;                                    -- Assert position at the end of a line (at the end of the string or before a line break character)\r\n    \r\n    \r\n    2nd Pattern\r\n    \r\n    &quot;(?i)&quot; +                  -- Match the remainder of the regex with the options: case insensitive (i)\r\n    &quot;^&quot; +                     -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\r\n    &quot;(&quot; +                     -- Match the regular expression below and capture its match into backreference number 1\r\n       &quot;[a-z]&quot; +                 -- Match a single character in the range between “a” and “z”\r\n       &quot;[^&lt;&gt;\\\\\\\\\\\\/\\\\|\\r\\n]&quot; +       -- Match a single character NOT present in the list below\r\n                                    -- One of the characters “&lt;&gt;”\r\n                                    -- A \\ character\r\n                                    -- A / character\r\n                                    -- A | character\r\n                                    -- A carriage return character\r\n                                    -- A line feed character\r\n          &quot;+&quot; +                     -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\r\n    &quot;)&quot; +\r\n    &quot;$&quot;                       -- Assert position at the end of a line (at the end of the string or before a line break character)\r\n\r\n\r\n**code**\r\n\r\n\r\n\r\n    try {\r\n        boolean foundMatch = subjectString.matches(&quot;(?i)^([a-z][^\\&quot;\\\\[:\\\\]|=+*?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$&quot;);\r\n    } catch (PatternSyntaxException ex) {\r\n        // Syntax error in the regular expression\r\n    }\r\n\r\n","title":"Special Character check using Java Pattern","body":"<p><strong>Try these patterns</strong></p>\n\n<p><em>for 1st point</em></p>\n\n<pre><code>(?i)^([a-z][^\"\\[:\\]\\|=\\+\\*\\?&lt;&gt;\\\\\\/\\r\\n]+)$\n</code></pre>\n\n<p><em>for 2st point</em></p>\n\n<pre><code>(?i)^([a-z][^&lt;&gt;\\\\\\/\\|\\r\\n]+)$\n</code></pre>\n\n<p><strong>Explanations</strong></p>\n\n<pre><code>1st Pattern\n\n\"(?i)\" +                               -- Match the remainder of the regex with the options: case insensitive (i)\n\"^\" +                                  -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\n\"(\" +                                  -- Match the regular expression below and capture its match into backreference number 1\n   \"[a-z]\" +                              -- Match a single character in the range between “a” and “z”\n   \"[^\\\"\\\\[:\\\\]\\\\|=\\\\+\\\\*\\\\?&lt;&gt;\\\\\\\\\\\\/\\r\\n]\" +       -- Match a single character NOT present in the list below\n                                             -- The character “\"”\n                                             -- A [ character\n                                             -- The character “:”\n                                             -- A ] character\n                                             -- A | character\n                                             -- The character “=”\n                                             -- A + character\n                                             -- A * character\n                                             -- A ? character\n                                             -- One of the characters “&lt;&gt;”\n                                             -- A \\ character\n                                             -- A / character\n                                             -- A carriage return character\n                                             -- A line feed character\n      \"+\" +                                  -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\n\")\" +\n\"$\"                                    -- Assert position at the end of a line (at the end of the string or before a line break character)\n\n\n2nd Pattern\n\n\"(?i)\" +                  -- Match the remainder of the regex with the options: case insensitive (i)\n\"^\" +                     -- Assert position at the beginning of a line (at beginning of the string or after a line break character)\n\"(\" +                     -- Match the regular expression below and capture its match into backreference number 1\n   \"[a-z]\" +                 -- Match a single character in the range between “a” and “z”\n   \"[^&lt;&gt;\\\\\\\\\\\\/\\\\|\\r\\n]\" +       -- Match a single character NOT present in the list below\n                                -- One of the characters “&lt;&gt;”\n                                -- A \\ character\n                                -- A / character\n                                -- A | character\n                                -- A carriage return character\n                                -- A line feed character\n      \"+\" +                     -- Between one and unlimited times, as many times as possible, giving back as needed (greedy)\n\")\" +\n\"$\"                       -- Assert position at the end of a line (at the end of the string or before a line break character)\n</code></pre>\n\n<p><strong>code</strong></p>\n\n<pre><code>try {\n    boolean foundMatch = subjectString.matches(\"(?i)^([a-z][^\\\"\\\\[:\\\\]|=+*?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$\");\n} catch (PatternSyntaxException ex) {\n    // Syntax error in the regular expression\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338047245,"creation_date":1338047245,"answer_id":10767655,"question_id":10765837,"body_markdown":"Below is the solution of my problem\r\n\r\n1) (?i)^([a-z][^\\&quot;\\\\[:\\\\]|=+*.?&lt;&gt;\\\\\\\\/\\\\r\\\\n]+)$\r\n\r\n2) (?i)^([a-z][^\\&quot;&lt;&gt;|\\\\\\\\/\\\\r\\\\n]+)$\r\n\r\nI&#39;ve also added period symbol in 1) point for checking not to start Names with period symbol.\r\n\r\nThanks a lot Cylian and Andy for the help, It really helped me a lot.\r\n\r\nThanks again :)","title":"Special Character check using Java Pattern","body":"<p>Below is the solution of my problem</p>\n\n<p>1) (?i)^([a-z][^\\\"\\[:\\]|=+*.?&lt;>\\\\/\\r\\n]+)$</p>\n\n<p>2) (?i)^([a-z][^\\\"&lt;>|\\\\/\\r\\n]+)$</p>\n\n<p>I've also added period symbol in 1) point for checking not to start Names with period symbol.</p>\n\n<p>Thanks a lot Cylian and Andy for the help, It really helped me a lot.</p>\n\n<p>Thanks again :)</p>\n"}],"owner":{"account_id":254140,"reputation":189,"user_id":533326,"accept_rate":71,"display_name":"Mayur Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8735,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":10766115,"answer_count":3,"score":-2,"last_activity_date":1692796067,"creation_date":1338031971,"question_id":10765837,"body_markdown":"I want to generate Two patterns with below information,\r\n\r\n1)The following special characters cannot be entered in the first name, last name, email, phone number fields in the Account form:\r\n\r\n**Pattern**  &quot; [ ] : ; | = + * ? &lt; &gt; / \\ ,\r\n**Names cannot start with a period**\r\n\r\n2)The following special characters cannot be entered in the Company address fields:\r\n\r\n**Pattern** &lt; &gt; / \\ |\r\n\r\nPlease give me an idea.\r\n\r\nThanks in advance","title":"Special Character check using Java Pattern","body":"<p>I want to generate Two patterns with below information,</p>\n\n<p>1)The following special characters cannot be entered in the first name, last name, email, phone number fields in the Account form:</p>\n\n<p><strong>Pattern</strong>  \" [ ] : ; | = + * ? &lt; > / \\ ,\n<strong>Names cannot start with a period</strong></p>\n\n<p>2)The following special characters cannot be entered in the Company address fields:</p>\n\n<p><strong>Pattern</strong> &lt; > / \\ |</p>\n\n<p>Please give me an idea.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1337790522,"creation_date":1337790522,"answer_id":10724147,"question_id":10724038,"body_markdown":"The [**`matches()`**][1] method attempts to match the regular expression against the entire string.  If you want to match a part of the string, you want the [**`find()`**][2] method:\r\n\r\n    if (matcher.find())\r\n\r\nYou could, however, build a single regular expression to match all three parts at once:\r\n\r\n    String regex = &quot;\\&quot;(.+?)\\&quot; \\\\&lt;sip:\\\\+(.+?)@(.+?)\\\\&gt;&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher matcher = p.matcher(remoteUriStr);\r\n    if (matcher.matches()) {\r\n        title = matcher.group(1);\r\n        part2 = matcher.group(2);\r\n        ip = matcher.group(3);\r\n    }\r\n\r\nDemo: http://ideone.com/8t2EC\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#matches%28%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29","title":"regex extract string between two characters","body":"<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#matches%28%29\" rel=\"nofollow\"><strong><code>matches()</code></strong></a> method attempts to match the regular expression against the entire string.  If you want to match a part of the string, you want the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\"><strong><code>find()</code></strong></a> method:</p>\n\n<pre><code>if (matcher.find())\n</code></pre>\n\n<p>You could, however, build a single regular expression to match all three parts at once:</p>\n\n<pre><code>String regex = \"\\\"(.+?)\\\" \\\\&lt;sip:\\\\+(.+?)@(.+?)\\\\&gt;\";\nPattern p = Pattern.compile(regex);\nMatcher matcher = p.matcher(remoteUriStr);\nif (matcher.matches()) {\n    title = matcher.group(1);\n    part2 = matcher.group(2);\n    ip = matcher.group(3);\n}\n</code></pre>\n\n<p>Demo: <a href=\"http://ideone.com/8t2EC\" rel=\"nofollow\">http://ideone.com/8t2EC</a></p>\n"},{"tags":[],"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337793581,"creation_date":1337790651,"answer_id":10724182,"question_id":10724038,"body_markdown":"If your input always looks like that and you always want the same parts from it you can put that in a single regex (with multiple capturing groups):\r\n\r\n    &quot;([^&quot;]+)&quot; &lt;sip:([^@]+)@([^&gt;]+)&gt;\r\n\r\nSo you can then use\r\n\r\n    Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]+)\\&quot; &lt;sip:([^@]+)@([^&gt;]+)&gt;&quot;);\r\n    Matcher m = p.matcher(remoteUri);\r\n    if (m.find()) {\r\n      String s1 = m.group(1);\r\n      String s2 = m.group(2);\r\n      String s3 = m.group(3);\r\n    }","title":"regex extract string between two characters","body":"<p>If your input always looks like that and you always want the same parts from it you can put that in a single regex (with multiple capturing groups):</p>\n\n<pre><code>\"([^\"]+)\" &lt;sip:([^@]+)@([^&gt;]+)&gt;\n</code></pre>\n\n<p>So you can then use</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\"([^\\\"]+)\\\" &lt;sip:([^@]+)@([^&gt;]+)&gt;\");\nMatcher m = p.matcher(remoteUri);\nif (m.find()) {\n  String s1 = m.group(1);\n  String s2 = m.group(2);\n  String s3 = m.group(3);\n}\n</code></pre>\n"}],"owner":{"account_id":158248,"reputation":9125,"user_id":376742,"accept_rate":93,"display_name":"ssk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10724147,"answer_count":2,"score":2,"last_activity_date":1692796048,"creation_date":1337790071,"question_id":10724038,"body_markdown":"I would like to extract the strings between the following characters in the given string using regex in Java:\r\n\r\n    /*\r\n    1) Between \\&quot; and \\&quot;   ===&gt; 12222222222\r\n    2) Between :+ and @    ===&gt; 12222222222\r\n    3) Between @ and &gt;     ===&gt; 192.168.140.1\r\n    */\r\n\r\n    String remoteUriStr = &quot;\\&quot;+12222222222\\&quot; &lt;sip:+12222222222@192.168.140.1&gt;&quot;;\r\n    String regex1 = &quot;\\&quot;(.+?)\\&quot;&quot;;\r\n    String regex2 = &quot;:+(.+?)@&quot;;\r\n    String regex3 = &quot;@(.+?)&gt;&quot;;\r\n    \r\n    Pattern p = Pattern.compile(regex1);\r\n    Matcher matcher = p.matcher(remoteUri);\r\n    if (matcher.matches()) {\r\n        title = matcher.group(1);\r\n    }\r\n\r\nI am using the above given code snippet, its not able to extract the strings that I want it to. Am I doing anything wrong? Meanwhile, I am quite new to regex.\r\n\r\n","title":"regex extract string between two characters","body":"<p>I would like to extract the strings between the following characters in the given string using regex in Java:</p>\n\n<pre><code>/*\n1) Between \\\" and \\\"   ===&gt; 12222222222\n2) Between :+ and @    ===&gt; 12222222222\n3) Between @ and &gt;     ===&gt; 192.168.140.1\n*/\n\nString remoteUriStr = \"\\\"+12222222222\\\" &lt;sip:+12222222222@192.168.140.1&gt;\";\nString regex1 = \"\\\"(.+?)\\\"\";\nString regex2 = \":+(.+?)@\";\nString regex3 = \"@(.+?)&gt;\";\n\nPattern p = Pattern.compile(regex1);\nMatcher matcher = p.matcher(remoteUri);\nif (matcher.matches()) {\n    title = matcher.group(1);\n}\n</code></pre>\n\n<p>I am using the above given code snippet, its not able to extract the strings that I want it to. Am I doing anything wrong? Meanwhile, I am quite new to regex.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1337691158,"post_id":10702367,"comment_id":13894674,"body_markdown":"Assuming you want this in Groovy?  You make no mention of Groovy apart from in the tag...","body":"Assuming you want this in Groovy?  You make no mention of Groovy apart from in the tag..."},{"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"score":1,"creation_date":1337691191,"post_id":10702367,"comment_id":13894691,"body_markdown":"You mean the 10th character should not be a &lt;space&gt;? What if it is a space?","body":"You mean the 10th character should not be a &lt;space&gt;? What if it is a space?"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1337691372,"post_id":10702367,"comment_id":13894773,"body_markdown":"What happens if there is a word that&#39;s longer than 10 characters all by itself? Should it be split in the middle? For example, should `&quot;quickbrownfoxjumpsoverthelazydog&quot;` become `{&quot;quickbrown&quot;,&quot;foxjumpsov&quot;, &quot;erthelazyd&quot;, &quot;og&quot;}`?","body":"What happens if there is a word that&#39;s longer than 10 characters all by itself? Should it be split in the middle? For example, should <code>&quot;quickbrownfoxjumpsoverthelazydog&quot;</code> become <code>{&quot;quickbrown&quot;,&quot;foxjumpsov&quot;, &quot;erthelazyd&quot;, &quot;og&quot;}</code>?"},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":2,"creation_date":1337691404,"post_id":10702367,"comment_id":13894791,"body_markdown":"It&#39;s not clear to me what you want the output to be - could you specify what how you would like your example sentence to be split?","body":"It&#39;s not clear to me what you want the output to be - could you specify what how you would like your example sentence to be split?"},{"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"score":0,"creation_date":1337695036,"post_id":10702367,"comment_id":13896540,"body_markdown":"@amaidment My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line.","body":"@amaidment My requirement is I need to restrict the number of characters in 1 line to less than or equal to 100 characters with out breaking the word.If the word at the end of the 100 the character is breaking we need to add this word in the next line."},{"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"score":0,"creation_date":1337695156,"post_id":10702367,"comment_id":13896597,"body_markdown":"@dasblinkenlight Good question my actual requirement is for 100 characters but just for sample reference I mentioned it as 10 character.","body":"@dasblinkenlight Good question my actual requirement is for 100 characters but just for sample reference I mentioned it as 10 character."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337707964,"creation_date":1337692398,"answer_id":10702760,"question_id":10702367,"body_markdown":"I avoided regex as is doesn&#39;t pull the weight. This code word-wraps, and if a single word is more than 10 chars, breaks it. It also takes care of excess whitespace.\r\n\r\n    import static java.lang.Character.isWhitespace;\r\n\r\n    public static void main(String[] args) {\r\n      final String original =\r\n        &quot;This is a sentence.Rajesh want to test the application for the word split.&quot;;\r\n      final StringBuilder b = new StringBuilder(original.trim());\r\n      final List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\n      while (true) {\r\n        b.delete(0, indexOfFirstNonWsChar(b));\r\n        if (b.length() == 0) break;\r\n        final int splitAt = lastIndexOfWsBeforeIndex(b, 10);\r\n        matchList.add(b.substring(0, splitAt).trim());\r\n        b.delete(0, splitAt);\r\n      }\r\n      System.out.println(&quot;Match List &quot;+matchList);\r\n    }\r\n    static int lastIndexOfWsBeforeIndex(CharSequence s, int i) {\r\n      if (s.length() &lt;= i) return s.length();\r\n      for (int j = i; j &gt; 0; j--) if (isWhitespace(s.charAt(j-1))) return j;\r\n      return i;\r\n    }\r\n    static int indexOfFirstNonWsChar(CharSequence s) {\r\n      for (int i = 0; i &lt; s.length(); i++) if (!isWhitespace(s.charAt(i))) return i;\r\n      return s.length();\r\n    }\r\n\r\nPrints:\r\n\r\n    Match List [This is a, sentence.R, ajesh, want to, test the, applicatio, n for the, word, split.]\r\n","title":"Break a long string into lines with proper word wrapping","body":"<p>I avoided regex as is doesn't pull the weight. This code word-wraps, and if a single word is more than 10 chars, breaks it. It also takes care of excess whitespace.</p>\n\n<pre><code>import static java.lang.Character.isWhitespace;\n\npublic static void main(String[] args) {\n  final String original =\n    \"This is a sentence.Rajesh want to test the application for the word split.\";\n  final StringBuilder b = new StringBuilder(original.trim());\n  final List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\n  while (true) {\n    b.delete(0, indexOfFirstNonWsChar(b));\n    if (b.length() == 0) break;\n    final int splitAt = lastIndexOfWsBeforeIndex(b, 10);\n    matchList.add(b.substring(0, splitAt).trim());\n    b.delete(0, splitAt);\n  }\n  System.out.println(\"Match List \"+matchList);\n}\nstatic int lastIndexOfWsBeforeIndex(CharSequence s, int i) {\n  if (s.length() &lt;= i) return s.length();\n  for (int j = i; j &gt; 0; j--) if (isWhitespace(s.charAt(j-1))) return j;\n  return i;\n}\nstatic int indexOfFirstNonWsChar(CharSequence s) {\n  for (int i = 0; i &lt; s.length(); i++) if (!isWhitespace(s.charAt(i))) return i;\n  return s.length();\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Match List [This is a, sentence.R, ajesh, want to, test the, applicatio, n for the, word, split.]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284007,"reputation":18939,"user_id":581845,"accept_rate":83,"display_name":"epidemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337718141,"creation_date":1337718141,"answer_id":10709585,"question_id":10702367,"body_markdown":"This question was tagged as Groovy at some point. Assuming a Groovy answer is still valid and you are not worried about preserving multiple white spaces (e.g. &#39;  &#39;):\r\n\r\n    def splitIntoLines(text, maxLineSize) {\r\n        def words = text.split(/\\s+/)\r\n        def lines = [&#39;&#39;]\r\n        words.each { word -&gt;\r\n            def lastLine = (lines[-1] + &#39; &#39; + word).trim()\r\n            if (lastLine.size() &lt;= maxLineSize)\r\n                // Change last line.\r\n                lines[-1] = lastLine\r\n            else\r\n                // Add word as new line.\r\n                lines &lt;&lt; word\r\n        }\r\n        lines\r\n    }\r\n    \r\n    // Tests...\r\n    def original = &quot;This is a sentence. Rajesh want to test the application for the word split.&quot;\r\n    \r\n    assert splitIntoLines(original, 10) == [\r\n        &quot;This is a&quot;,\r\n        &quot;sentence.&quot;,\r\n        &quot;Rajesh&quot;,\r\n        &quot;want to&quot;,\r\n        &quot;test the&quot;,\r\n        &quot;application&quot;,\r\n        &quot;for the&quot;,\r\n        &quot;word&quot;,\r\n        &quot;split.&quot;\r\n    ]\r\n    assert splitIntoLines(original, 20) == [\r\n        &quot;This is a sentence.&quot;,\r\n        &quot;Rajesh want to test&quot;,\r\n        &quot;the application for&quot;,\r\n        &quot;the word split.&quot;\r\n    ]\r\n    assert splitIntoLines(original, original.size()) == [original]","title":"Break a long string into lines with proper word wrapping","body":"<p>This question was tagged as Groovy at some point. Assuming a Groovy answer is still valid and you are not worried about preserving multiple white spaces (e.g. '  '):</p>\n\n<pre><code>def splitIntoLines(text, maxLineSize) {\n    def words = text.split(/\\s+/)\n    def lines = ['']\n    words.each { word -&gt;\n        def lastLine = (lines[-1] + ' ' + word).trim()\n        if (lastLine.size() &lt;= maxLineSize)\n            // Change last line.\n            lines[-1] = lastLine\n        else\n            // Add word as new line.\n            lines &lt;&lt; word\n    }\n    lines\n}\n\n// Tests...\ndef original = \"This is a sentence. Rajesh want to test the application for the word split.\"\n\nassert splitIntoLines(original, 10) == [\n    \"This is a\",\n    \"sentence.\",\n    \"Rajesh\",\n    \"want to\",\n    \"test the\",\n    \"application\",\n    \"for the\",\n    \"word\",\n    \"split.\"\n]\nassert splitIntoLines(original, 20) == [\n    \"This is a sentence.\",\n    \"Rajesh want to test\",\n    \"the application for\",\n    \"the word split.\"\n]\nassert splitIntoLines(original, original.size()) == [original]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1369878046,"creation_date":1369878046,"answer_id":16826626,"question_id":10702367,"body_markdown":"OK, so I&#39;ve managed to get the following working, with max line length of 10, but also splitting the words that are longer than 10 correctly! \r\n\r\n    String original = &quot;This is a sentence. Rajesh want to test the applications for the word split handling.&quot;;\r\n    List matchList = new ArrayList();\r\n    Pattern regex = Pattern.compile(&quot;(.{1,10}(?:\\\\s|$))|(.{0,10})&quot;, Pattern.DOTALL);\r\n    Matcher regexMatcher = regex.matcher(original);\r\n    while (regexMatcher.find()) {\r\n      matchList.add(regexMatcher.group());\r\n    }\r\n    System.out.println(&quot;Match List &quot;+matchList);\r\n\r\nThis is the result:\r\n\r\n    This is a \r\n    sentence. \r\n    Rajesh want \r\n    to test \r\n    the \r\n    applicatio\r\n    ns word \r\n    split \r\n    handling.\r\n","title":"Break a long string into lines with proper word wrapping","body":"<p>OK, so I've managed to get the following working, with max line length of 10, but also splitting the words that are longer than 10 correctly! </p>\n\n<pre><code>String original = \"This is a sentence. Rajesh want to test the applications for the word split handling.\";\nList matchList = new ArrayList();\nPattern regex = Pattern.compile(\"(.{1,10}(?:\\\\s|$))|(.{0,10})\", Pattern.DOTALL);\nMatcher regexMatcher = regex.matcher(original);\nwhile (regexMatcher.find()) {\n  matchList.add(regexMatcher.group());\n}\nSystem.out.println(\"Match List \"+matchList);\n</code></pre>\n\n<p>This is the result:</p>\n\n<pre><code>This is a \nsentence. \nRajesh want \nto test \nthe \napplicatio\nns word \nsplit \nhandling.\n</code></pre>\n"}],"owner":{"account_id":1507056,"reputation":39,"user_id":1410204,"display_name":"Raja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8489,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1692796042,"creation_date":1337690928,"question_id":10702367,"body_markdown":"\t String original = &quot;This is a sentence.Rajesh want to test the application for the word split.&quot;;\r\n\t List matchList = new ArrayList();\r\n\t Pattern regex = Pattern.compile(&quot;.{1,10}(?:\\\\s|$)&quot;, Pattern.DOTALL);\r\n\t Matcher regexMatcher = regex.matcher(original);\r\n\t while (regexMatcher.find()) {\r\n\t\t matchList.add(regexMatcher.group());\r\n\t }\r\n\t System.out.println(&quot;Match List &quot;+matchList);\r\n\r\nI need to parse text into an array of lines that do not exceed 10 characters in length and should not have a break in word at the end of the line. \r\n\r\nI used below logic in my scenario but the problem it is parsing to the nearest white space after 10 characters if there is a break at end of line\r\n\r\nfor eg: The actual sentence is &quot;**This is a sentence.Rajesh want to test the application for the word split.**&quot; But after logic execution its getting as below.\r\n\r\nMatch List [This is a , nce.Rajesh , want to , test the , pplication , for the , word , split.]","title":"Break a long string into lines with proper word wrapping","body":"<pre><code> String original = \"This is a sentence.Rajesh want to test the application for the word split.\";\n List matchList = new ArrayList();\n Pattern regex = Pattern.compile(\".{1,10}(?:\\\\s|$)\", Pattern.DOTALL);\n Matcher regexMatcher = regex.matcher(original);\n while (regexMatcher.find()) {\n     matchList.add(regexMatcher.group());\n }\n System.out.println(\"Match List \"+matchList);\n</code></pre>\n\n<p>I need to parse text into an array of lines that do not exceed 10 characters in length and should not have a break in word at the end of the line. </p>\n\n<p>I used below logic in my scenario but the problem it is parsing to the nearest white space after 10 characters if there is a break at end of line</p>\n\n<p>for eg: The actual sentence is \"<strong>This is a sentence.Rajesh want to test the application for the word split.</strong>\" But after logic execution its getting as below.</p>\n\n<p>Match List [This is a , nce.Rajesh , want to , test the , pplication , for the , word , split.]</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1337516567,"creation_date":1337516567,"answer_id":10673356,"question_id":10673344,"body_markdown":"The `+` quantifier is greedy so it matches as much as possible. You should the [reluctant version][1] of this quantifier `+?`; your pattern then becomes:\r\n\r\n    (.+?)1\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#reluc","title":"Java Regexp Matcher","body":"<p>The <code>+</code> quantifier is greedy so it matches as much as possible. You should the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#reluc\" rel=\"noreferrer\">reluctant version</a> of this quantifier <code>+?</code>; your pattern then becomes:</p>\n\n<pre><code>(.+?)1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337522823,"creation_date":1337516681,"answer_id":10673370,"question_id":10673344,"body_markdown":"Greedy and non greedy regexps. `.+` is greedy and will make the longest possible match. Adding a `?` will make it non-greedy: `.+?`\r\n\r\nFor your example you don&#39;t really need a regexp though, but I guess it was just an example.\r\nInstead you could do this with your example:\r\n\r\n    String firstPart = text.substring(0, text.indexOf(&#39;1&#39;))\r\n\r\nor even a (very simple) regexp in split:\r\n\r\n    String firstPart = text.split(&quot;1&quot;)[0]\r\n\r\nBoth would be easier to read than regexp for most people. Be careful if you don&#39;t have an &quot;1&quot; in there though.","title":"Java Regexp Matcher","body":"<p>Greedy and non greedy regexps. <code>.+</code> is greedy and will make the longest possible match. Adding a <code>?</code> will make it non-greedy: <code>.+?</code></p>\n\n<p>For your example you don't really need a regexp though, but I guess it was just an example.\nInstead you could do this with your example:</p>\n\n<pre><code>String firstPart = text.substring(0, text.indexOf('1'))\n</code></pre>\n\n<p>or even a (very simple) regexp in split:</p>\n\n<pre><code>String firstPart = text.split(\"1\")[0]\n</code></pre>\n\n<p>Both would be easier to read than regexp for most people. Be careful if you don't have an \"1\" in there though.</p>\n"},{"tags":[],"owner":{"account_id":240061,"reputation":6801,"user_id":510081,"display_name":"SuperJulietta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337517496,"creation_date":1337517496,"answer_id":10673464,"question_id":10673344,"body_markdown":"An alternative may be using split function:\r\n\r\n    String s=&quot;foobar1foobar2&quot;;\r\n    String[] splitted = s.split(&quot;1&quot;);\r\n\r\n\r\nThe string you are searching for is in splitted[0].","title":"Java Regexp Matcher","body":"<p>An alternative may be using split function:</p>\n\n<pre><code>String s=\"foobar1foobar2\";\nString[] splitted = s.split(\"1\");\n</code></pre>\n\n<p>The string you are searching for is in splitted[0].</p>\n"}],"owner":{"account_id":1501790,"reputation":147,"user_id":1406196,"accept_rate":79,"display_name":"user1406196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10673356,"answer_count":3,"score":1,"last_activity_date":1692796036,"creation_date":1337516388,"question_id":10673344,"body_markdown":"Simple question about regexps.\r\nI&#39;ve got \r\n\r\n    String text = &quot;foobar1foobar1&quot;;\r\n\r\nAnd I need to get part before first 1 (foobar)\r\nWhen I do something like that:\r\n\r\n    Pattern date_pattern = Pattern.compile(&quot;(.+)1&quot;);\r\n    Matcher matcher = date_pattern.matcher(text);\r\n    matcher.group(1);\r\n\r\nBut I recieve &quot;foobar1foobar&quot;.\r\n\r\n","title":"Java Regexp Matcher","body":"<p>Simple question about regexps.\nI've got </p>\n\n<pre><code>String text = \"foobar1foobar1\";\n</code></pre>\n\n<p>And I need to get part before first 1 (foobar)\nWhen I do something like that:</p>\n\n<pre><code>Pattern date_pattern = Pattern.compile(\"(.+)1\");\nMatcher matcher = date_pattern.matcher(text);\nmatcher.group(1);\n</code></pre>\n\n<p>But I recieve \"foobar1foobar\".</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1266557,"reputation":3015,"user_id":1223744,"accept_rate":89,"display_name":"alexg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336559794,"creation_date":1336559474,"answer_id":10514295,"question_id":10514258,"body_markdown":"If you&#39;re searching for a constant string and not for a pattern, there&#39;s a number of reasons why you shouldn&#39;t use regex:\r\n\r\n - The user might type in some character that has a special meaning in regex grammar.\r\n - Regular expressions are slow compared to substring searching.\r\n - You don&#39;t want to allow the user more features (using regex matching) than you intend to.\r\n\r\nUse `String.indexOf` and/or `String.replace` instead.\r\n\r\n    while ((line = readLine()) != null)\r\n        if (line.indexOf(searchString) != -1 )\r\n            line.replace(searchString, replaceString);","title":"Search for any given string using JAVA REGEX","body":"<p>If you're searching for a constant string and not for a pattern, there's a number of reasons why you shouldn't use regex:</p>\n\n<ul>\n<li>The user might type in some character that has a special meaning in regex grammar.</li>\n<li>Regular expressions are slow compared to substring searching.</li>\n<li>You don't want to allow the user more features (using regex matching) than you intend to.</li>\n</ul>\n\n<p>Use <code>String.indexOf</code> and/or <code>String.replace</code> instead.</p>\n\n<pre><code>while ((line = readLine()) != null)\n    if (line.indexOf(searchString) != -1 )\n        line.replace(searchString, replaceString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1336560023,"creation_date":1336560023,"answer_id":10514417,"question_id":10514258,"body_markdown":"Shouldn&#39;t it be...?\r\n\r\n    patternMatcher = Pattern.compile(searchString);\r\n    while ((line = readLine()) != null) {\r\n    \tMatcher regexMatcher = patternMatcher.matcher(line);\r\n           while (regexMatcher.find()) {\r\n              line = regexMatcher.replaceAll(replaceString); \r\n\r\nTake into account that the quatifier may affect the results, perhapaps the search string should be &quot;(this)+&quot; or &quot;(this)+?&quot;.","title":"Search for any given string using JAVA REGEX","body":"<p>Shouldn't it be...?</p>\n\n<pre><code>patternMatcher = Pattern.compile(searchString);\nwhile ((line = readLine()) != null) {\n    Matcher regexMatcher = patternMatcher.matcher(line);\n       while (regexMatcher.find()) {\n          line = regexMatcher.replaceAll(replaceString); \n</code></pre>\n\n<p>Take into account that the quatifier may affect the results, perhapaps the search string should be \"(this)+\" or \"(this)+?\".</p>\n"},{"tags":[],"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336560446,"creation_date":1336560446,"answer_id":10514523,"question_id":10514258,"body_markdown":"I&#39;m not familiar with Java, but as per the docs, `lookingAt` looks at the beginning of the string.  I would just skip looking for the match and blindly run `replaceAll` regardless of whether there is a match; it will replace nothing if there is no match.\r\n\r\nIf for some reason you need to look for a match before attempting to replace (which is wasteful), the correct function is `find`.  See http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html","title":"Search for any given string using JAVA REGEX","body":"<p>I'm not familiar with Java, but as per the docs, <code>lookingAt</code> looks at the beginning of the string.  I would just skip looking for the match and blindly run <code>replaceAll</code> regardless of whether there is a match; it will replace nothing if there is no match.</p>\n\n<p>If for some reason you need to look for a match before attempting to replace (which is wasteful), the correct function is <code>find</code>.  See <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html</a></p>\n"},{"tags":[],"owner":{"account_id":1473453,"reputation":555,"user_id":1384436,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336563162,"creation_date":1336563162,"answer_id":10515209,"question_id":10514258,"body_markdown":"If memory is not an issue, you can read the entire file as String and use `public String replaceAll(String regex, String replacement)` in String API.","title":"Search for any given string using JAVA REGEX","body":"<p>If memory is not an issue, you can read the entire file as String and use <code>public String replaceAll(String regex, String replacement)</code> in String API.</p>\n"}],"owner":{"account_id":1473160,"reputation":1261,"user_id":1384205,"accept_rate":23,"display_name":"user1384205"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10514417,"answer_count":4,"score":0,"last_activity_date":1692796030,"creation_date":1336559340,"question_id":10514258,"body_markdown":"I am trying to write a generic method that will search a file for a given string and replace it with another string. I am using java regex for the same\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    patternMatcher = Pattern.compile(searchString);\r\n    while ((line = readLine()) != null) {\r\n    \tMatcher regexMatcher = patternMatcher.matcher(line);\r\n           if (regexMatcher.lookingAt()) {\r\n              line = regexMatcher.replaceAll(replaceString); \r\n..so on\r\n\r\nThis logic works as long as the search string is in the beginning of each line in the file. otherwise the pattern matching does not occur. Can anyone please suggest a solution?\r\n\r\nfor eg. My search String is &quot;This&quot; and Replace string is &quot;That&quot; &lt;br/&gt;\r\nInput file contains: `This is not This funny` &lt;br/&gt;\r\nOutput: `That is not That funny` &lt;br/&gt;\r\n\r\nBut when &lt;br/&gt;\r\nInput file contains: `007 This is not This funny` &lt;br/&gt;\r\nOutput: `007 This is not This funny` &lt;br/&gt;\r\n","title":"Search for any given string using JAVA REGEX","body":"<p>I am trying to write a generic method that will search a file for a given string and replace it with another string. I am using java regex for the same</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>patternMatcher = Pattern.compile(searchString);\nwhile ((line = readLine()) != null) {\n    Matcher regexMatcher = patternMatcher.matcher(line);\n       if (regexMatcher.lookingAt()) {\n          line = regexMatcher.replaceAll(replaceString); \n</code></pre>\n\n<p>..so on</p>\n\n<p>This logic works as long as the search string is in the beginning of each line in the file. otherwise the pattern matching does not occur. Can anyone please suggest a solution?</p>\n\n<p>for eg. My search String is \"This\" and Replace string is \"That\" <br/>\nInput file contains: <code>This is not This funny</code> <br/>\nOutput: <code>That is not That funny</code> <br/></p>\n\n<p>But when <br/>\nInput file contains: <code>007 This is not This funny</code> <br/>\nOutput: <code>007 This is not This funny</code> <br/></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4756,"reputation":4005,"user_id":7295,"accept_rate":100,"display_name":"erikxiv"},"score":0,"creation_date":1336319935,"post_id":10471923,"comment_id":13528636,"body_markdown":"&quot;Returns the offset **after** the last character matched&quot;?","body":"&quot;Returns the offset <b>after</b> the last character matched&quot;?"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1336320072,"post_id":10471923,"comment_id":13528656,"body_markdown":"It&#39;s not index-offset semantics. Both are indices, one of the start position, the other of one past the end position. Just like in `String.substring`","body":"It&#39;s not index-offset semantics. Both are indices, one of the start position, the other of one past the end position. Just like in <code>String.substring</code>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1336319941,"creation_date":1336319941,"answer_id":10471955,"question_id":10471923,"body_markdown":"No, it doesn&#39;t start with 1 - it starts with 0. The documentation makes it reasonably clear:\r\n\r\n&gt; Returns the offset **after** the last character matched.\r\n\r\n(Emphasis mine.)\r\n\r\nBasically it&#39;s the end of the match in *exclusive* form, which is common in Java. It means you can do something like:\r\n\r\n    String text = candidate.substring(matcher.start(), matcher.end());\r\n\r\nNote that your &quot;index&quot; and &quot;offset&quot; should really be regarded as &quot;start&quot; and &quot;end&quot; (hence the method names). The terms &quot;index&quot; and &quot;offset&quot; are effectively synonymous in this context; the important point is that `start()` returns the index/offset of the *start* of the match, and `end()` returns the index/offset after the *end* of the match.","title":"index and offset have different meaning in Java Regex?","body":"<p>No, it doesn't start with 1 - it starts with 0. The documentation makes it reasonably clear:</p>\n\n<blockquote>\n  <p>Returns the offset <strong>after</strong> the last character matched.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>Basically it's the end of the match in <em>exclusive</em> form, which is common in Java. It means you can do something like:</p>\n\n<pre><code>String text = candidate.substring(matcher.start(), matcher.end());\n</code></pre>\n\n<p>Note that your \"index\" and \"offset\" should really be regarded as \"start\" and \"end\" (hence the method names). The terms \"index\" and \"offset\" are effectively synonymous in this context; the important point is that <code>start()</code> returns the index/offset of the <em>start</em> of the match, and <code>end()</code> returns the index/offset after the <em>end</em> of the match.</p>\n"}],"owner":{"account_id":955577,"reputation":578,"user_id":1007447,"accept_rate":63,"display_name":"Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10471955,"answer_count":1,"score":1,"last_activity_date":1692795963,"creation_date":1336319671,"question_id":10471923,"body_markdown":"I&#39;m bit confused with Java doc about Matcher in the definition of `start()` and `end()`.\n\n[`Matcher.start()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#start())\n\n[`Matcher.end()`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#end())\n\nConsider the following code:\n\n    public static void test()\n    {\n        String candidate = &quot;stackoverflow&quot;;\n        Pattern p = Pattern.compile(&quot;s&quot;);\n        Matcher m = p.matcher(candidate);\n        \n        m.find();\n        int index = m.start();\n        out.println(&quot;Index from Match\\t&quot;+index);\n        \n        int offset = m.end();\n        out.println(&quot;Offset from match\\t&quot;+offset);\n    }\n\nThe above will return the following result.\n\n&gt; Index from Match  0\n&gt;\n&gt; Offset from match 1\n\nAs I learned every char array or string will start by Index 0 and it&#39;s right in the above expression. \nBut Offset also returns the same character &#39;s&#39; but why it starts with 1?\n","title":"index and offset have different meaning in Java Regex?","body":"<p>I'm bit confused with Java doc about Matcher in the definition of <code>start()</code> and <code>end()</code>.</p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#start()\" rel=\"nofollow noreferrer\"><code>Matcher.start()</code></a></p>\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#end()\" rel=\"nofollow noreferrer\"><code>Matcher.end()</code></a></p>\n<p>Consider the following code:</p>\n<pre><code>public static void test()\n{\n    String candidate = &quot;stackoverflow&quot;;\n    Pattern p = Pattern.compile(&quot;s&quot;);\n    Matcher m = p.matcher(candidate);\n    \n    m.find();\n    int index = m.start();\n    out.println(&quot;Index from Match\\t&quot;+index);\n    \n    int offset = m.end();\n    out.println(&quot;Offset from match\\t&quot;+offset);\n}\n</code></pre>\n<p>The above will return the following result.</p>\n<blockquote>\n<p>Index from Match  0</p>\n<p>Offset from match 1</p>\n</blockquote>\n<p>As I learned every char array or string will start by Index 0 and it's right in the above expression.\nBut Offset also returns the same character 's' but why it starts with 1?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1335363864,"creation_date":1335363450,"answer_id":10317613,"question_id":10317603,"body_markdown":"Use Java&#39;s simple string concatenation, using the plus sign.\r\n\r\n\r\n    if (mobile.matches(&quot;[0-9]{&quot; + minValue + &quot;,&quot; + maxValue + &quot;}&quot;)) {\r\n\r\nIndeed, as Michael suggested compiling it is better for performance if you use it a lot.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{&quot; + minValue + &quot;,&quot; + maxValue + &quot;}&quot;);\r\n\r\nThen use it when needed like this:\r\n\r\n    Matcher m = pattern.matcher(mobile);\r\n    if (m.matches()) {","title":"Use variables in pattern matcher","body":"<p>Use Java's simple string concatenation, using the plus sign.</p>\n\n<pre><code>if (mobile.matches(\"[0-9]{\" + minValue + \",\" + maxValue + \"}\")) {\n</code></pre>\n\n<p>Indeed, as Michael suggested compiling it is better for performance if you use it a lot.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9]{\" + minValue + \",\" + maxValue + \"}\");\n</code></pre>\n\n<p>Then use it when needed like this:</p>\n\n<pre><code>Matcher m = pattern.matcher(mobile);\nif (m.matches()) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10803388,"reputation":336,"user_id":7946496,"display_name":"P Szuberski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617712958,"creation_date":1617712958,"answer_id":66968889,"question_id":10317603,"body_markdown":"You can also use `String.format(&quot;[0-9]{%s,%s}&quot;, minValue, maxValue)`","title":"Use variables in pattern matcher","body":"<p>You can also use <code>String.format(&quot;[0-9]{%s,%s}&quot;, minValue, maxValue)</code></p>\n"}],"owner":{"account_id":229505,"reputation":5896,"user_id":492508,"accept_rate":87,"display_name":"Thomas Buckley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38089,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10317613,"answer_count":2,"score":12,"last_activity_date":1692795948,"creation_date":1335363429,"question_id":10317603,"body_markdown":"I have the following:\r\n\r\n    if (mobile.matches(&quot;[0-9]{6,20}&quot;)) {\r\n       ...\r\n    }\r\n\r\nBut would like to replace the {6,20} with variable values due to them been dynamic in some cases.\r\n\r\nI.e.\r\n\r\n    int minValue = 11;\r\n    int maxValue = 20\r\n    \r\n    if (mobile.matches(&quot;[0-9]{minValue,maxValue}&quot;)) {\r\n       ...\r\n    }\r\n\r\nHow can I include variables in the Reg Exp?\r\n\r\nThanks","title":"Use variables in pattern matcher","body":"<p>I have the following:</p>\n\n<pre><code>if (mobile.matches(\"[0-9]{6,20}\")) {\n   ...\n}\n</code></pre>\n\n<p>But would like to replace the {6,20} with variable values due to them been dynamic in some cases.</p>\n\n<p>I.e.</p>\n\n<pre><code>int minValue = 11;\nint maxValue = 20\n\nif (mobile.matches(\"[0-9]{minValue,maxValue}\")) {\n   ...\n}\n</code></pre>\n\n<p>How can I include variables in the Reg Exp?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1263814920,"post_id":2085637,"comment_id":2017475,"body_markdown":"Just one additional issue: zos won&#39;t be closed if an exception is thrown. Could you paste the rest of the outer try/catch/finally?","body":"Just one additional issue: zos won&#39;t be closed if an exception is thrown. Could you paste the rest of the outer try/catch/finally?"}],"answers":[{"tags":[],"owner":{"account_id":92349,"reputation":166,"user_id":253125,"display_name":"John Doe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263814578,"creation_date":1263814578,"answer_id":2085670,"question_id":2085637,"body_markdown":"I think you&#39;ll see correspondent exception stack trace during zip-file generation. So, you probably wan&#39;t to enhance your exception handling. \r\n\r\n","title":"How to check if a generated zip file is corrupted?","body":"<p>I think you'll see correspondent exception stack trace during zip-file generation. So, you probably wan't to enhance your exception handling. </p>\n"},{"tags":[],"owner":{"display_name":"user7094"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1263814927,"creation_date":1263814927,"answer_id":2085697,"question_id":2085637,"body_markdown":"ZipOutputStream [does not close][1] the underlying stream.\r\n\r\nWhat you need to do is:\r\n\r\n    FileOutputStream fos = new FileOutputStream(...);\r\n    ZipOutputStream zos = new ZipOutputStream(fos);\r\n\r\nThen in your closing block:\r\n\r\n    zos.close();\r\n    fos.flush(); // Can&#39;t remember whether this is necessary off the top of my head!\r\n    fos.close();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html#close%28%29","title":"How to check if a generated zip file is corrupted?","body":"<p>ZipOutputStream <a href=\"http://java.sun.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html#close%28%29\" rel=\"nofollow noreferrer\">does not close</a> the underlying stream.</p>\n\n<p>What you need to do is:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(...);\nZipOutputStream zos = new ZipOutputStream(fos);\n</code></pre>\n\n<p>Then in your closing block:</p>\n\n<pre><code>zos.close();\nfos.flush(); // Can't remember whether this is necessary off the top of my head!\nfos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67380,"reputation":2024,"user_id":197198,"display_name":"Waverick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263815031,"creation_date":1263815031,"answer_id":2085705,"question_id":2085637,"body_markdown":"\r\nPerhaps swap the following two lines?;\r\n\r\n    fis.close();\r\n    zos.closeEntry();\r\n\r\nI can imagine that the closeEntry() will still read some data from the stream.\r\n\r\n","title":"How to check if a generated zip file is corrupted?","body":"<p>Perhaps swap the following two lines?;</p>\n\n<pre><code>fis.close();\nzos.closeEntry();\n</code></pre>\n\n<p>I can imagine that the closeEntry() will still read some data from the stream.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263820013,"creation_date":1263820013,"answer_id":2086158,"question_id":2085637,"body_markdown":"Your code is basically OK, try to find out which file is responsible for the corrupted zip file. Check whether digitalFile.getFile() always returns a valid and accessible argument to FileInputStream. Just add a bit logging to your code and you will find out what&#39;s wrong.","title":"How to check if a generated zip file is corrupted?","body":"<p>Your code is basically OK, try to find out which file is responsible for the corrupted zip file. Check whether digitalFile.getFile() always returns a valid and accessible argument to FileInputStream. Just add a bit logging to your code and you will find out what's wrong.</p>\n"},{"tags":[],"owner":{"account_id":82187,"reputation":531,"user_id":231289,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1430405143,"creation_date":1263826343,"answer_id":2086792,"question_id":2085637,"body_markdown":"You can use the `ZipFile` class to check your file :\r\n\r\n     static boolean isValid(final File file) {\r\n\t\tZipFile zipfile = null;\r\n\t\ttry {\r\n\t\t\tzipfile = new ZipFile(file);\r\n\t\t\treturn true;\r\n\t\t} catch (IOException e) {\r\n\t\t\treturn false;\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif (zipfile != null) {\r\n\t\t\t\t\tzipfile.close();\r\n\t\t\t\t\tzipfile = null;\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to check if a generated zip file is corrupted?","body":"<p>You can use the <code>ZipFile</code> class to check your file :</p>\n\n<pre><code> static boolean isValid(final File file) {\n    ZipFile zipfile = null;\n    try {\n        zipfile = new ZipFile(file);\n        return true;\n    } catch (IOException e) {\n        return false;\n    } finally {\n        try {\n            if (zipfile != null) {\n                zipfile.close();\n                zipfile = null;\n            }\n        } catch (IOException e) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":700783,"reputation":21,"user_id":583210,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295539010,"creation_date":1295539010,"answer_id":4749347,"question_id":2085637,"body_markdown":"in my implementation it looks like that. maybe it helps you:\r\n\r\n    //[...]\r\n\r\n    try {\r\n        FileInputStream fis = new FileInputStream(file);\r\n        BufferedInputStream bis = new BufferedInputStream(fis);\r\n\r\n        zos.putNextEntry(new ZipEntry(file.getName()));\r\n\r\n        try {\r\n            final byte[] buf = new byte[BUFFER_SIZE];\r\n            while (true) {\r\n                final int len = bis.read(buf);\r\n                if (len == -1) {\r\n                    break;\r\n                }\r\n                zos.write(buf, 0, len);\r\n            }\r\n            zos.flush();\r\n            zos.closeEntry();\r\n        } finally {\r\n            try {\r\n                bis.close();\r\n            } catch (IOException e) {\r\n                LOG.debug(&quot;Buffered Stream closing failed&quot;);\r\n            } finally {\r\n                fis.close();\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new Exception(e);\r\n    }\r\n\r\n    //[...]\r\n    zos.close","title":"How to check if a generated zip file is corrupted?","body":"<p>in my implementation it looks like that. maybe it helps you:</p>\n\n<pre><code>//[...]\n\ntry {\n    FileInputStream fis = new FileInputStream(file);\n    BufferedInputStream bis = new BufferedInputStream(fis);\n\n    zos.putNextEntry(new ZipEntry(file.getName()));\n\n    try {\n        final byte[] buf = new byte[BUFFER_SIZE];\n        while (true) {\n            final int len = bis.read(buf);\n            if (len == -1) {\n                break;\n            }\n            zos.write(buf, 0, len);\n        }\n        zos.flush();\n        zos.closeEntry();\n    } finally {\n        try {\n            bis.close();\n        } catch (IOException e) {\n            LOG.debug(\"Buffered Stream closing failed\");\n        } finally {\n            fis.close();\n        }\n    }\n} catch (IOException e) {\n    throw new Exception(e);\n}\n\n//[...]\nzos.close\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451920,"reputation":12682,"user_id":848072,"accept_rate":47,"display_name":"albfan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348709232,"creation_date":1348709232,"answer_id":12612804,"question_id":2085637,"body_markdown":"    new ZipFile(file) \r\n\r\ncompress again the file, so duplicate efforts and that is not what you are looking for. Despite of the fact that only check one file and the question compress n-files.\r\n\r\nTake a look to this: http://www.kodejava.org/examples/336.html\r\n\r\nCreate a checksum for your zip:\r\n\r\n    CheckedOutputStream checksum = new CheckedOutputStream(fos, new CRC32());\r\n    ZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(checksum));\r\n    ...\r\n\r\nAnd when you finish the compression show it\r\n\r\n    System.out.println(&quot;Checksum   : &quot; + checksum.getChecksum().getValue());\r\n\r\nYou must do the same reading the zip with java or others tools checking if checksums match.\r\n\r\nsee https://stackoverflow.com/a/10689488/848072 for more information","title":"How to check if a generated zip file is corrupted?","body":"<pre><code>new ZipFile(file) \n</code></pre>\n\n<p>compress again the file, so duplicate efforts and that is not what you are looking for. Despite of the fact that only check one file and the question compress n-files.</p>\n\n<p>Take a look to this: <a href=\"http://www.kodejava.org/examples/336.html\" rel=\"nofollow noreferrer\">http://www.kodejava.org/examples/336.html</a></p>\n\n<p>Create a checksum for your zip:</p>\n\n<pre><code>CheckedOutputStream checksum = new CheckedOutputStream(fos, new CRC32());\nZipOutputStream zos = new ZipOutputStream(new BufferedOutputStream(checksum));\n...\n</code></pre>\n\n<p>And when you finish the compression show it</p>\n\n<pre><code>System.out.println(\"Checksum   : \" + checksum.getChecksum().getValue());\n</code></pre>\n\n<p>You must do the same reading the zip with java or others tools checking if checksums match.</p>\n\n<p>see <a href=\"https://stackoverflow.com/a/10689488/848072\">https://stackoverflow.com/a/10689488/848072</a> for more information</p>\n"},{"tags":[],"owner":{"account_id":1888409,"reputation":1883,"user_id":1707141,"accept_rate":48,"display_name":"Nikhil Das Nomula"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1371758582,"creation_date":1371758582,"answer_id":17222756,"question_id":2085637,"body_markdown":"I know its been a while that this has been posted, I have used the code that all of you provided and came up with this. This is working great for the actual question. Checking if the zip file is corrupted or not\r\n\r\n    private boolean isValid(File file) {\r\n\t    ZipFile zipfile = null;\r\n\t    ZipInputStream zis = null;\r\n\t    try {\r\n\t        zipfile = new ZipFile(file);\r\n\t        zis = new ZipInputStream(new FileInputStream(file));\r\n\t    \tZipEntry ze = zis.getNextEntry();\r\n\t    \tif(ze == null) {\r\n\t    \t\treturn false;\r\n\t    \t}\r\n\t    \twhile(ze != null) {\r\n\t    \t\t// if it throws an exception fetching any of the following then we know the file is corrupted.\r\n\t    \t\tzipfile.getInputStream(ze);\r\n\t    \t\tze.getCrc();\r\n\t    \t\tze.getCompressedSize();\r\n\t    \t\tze.getName();\r\n\t    \t\tze = zis.getNextEntry();\r\n\t    \t} \r\n\t        return true;\r\n\t    } catch (ZipException e) {\r\n\t        return false;\r\n\t    } catch (IOException e) {\r\n\t        return false;\r\n\t    } finally {\r\n\t        try {\r\n\t            if (zipfile != null) {\r\n\t                zipfile.close();\r\n\t                zipfile = null;\r\n\t            }\r\n\t        } catch (IOException e) {\r\n\t        \treturn false;\r\n\t        } try {\r\n\t            if (zis != null) {\r\n\t            \tzis.close();\r\n\t                zis = null;\r\n\t            }\r\n\t        } catch (IOException e) {\r\n\t        \treturn false;\r\n\t        }\r\n\t        \r\n\t    }\r\n\t}","title":"How to check if a generated zip file is corrupted?","body":"<p>I know its been a while that this has been posted, I have used the code that all of you provided and came up with this. This is working great for the actual question. Checking if the zip file is corrupted or not</p>\n\n<pre><code>private boolean isValid(File file) {\n    ZipFile zipfile = null;\n    ZipInputStream zis = null;\n    try {\n        zipfile = new ZipFile(file);\n        zis = new ZipInputStream(new FileInputStream(file));\n        ZipEntry ze = zis.getNextEntry();\n        if(ze == null) {\n            return false;\n        }\n        while(ze != null) {\n            // if it throws an exception fetching any of the following then we know the file is corrupted.\n            zipfile.getInputStream(ze);\n            ze.getCrc();\n            ze.getCompressedSize();\n            ze.getName();\n            ze = zis.getNextEntry();\n        } \n        return true;\n    } catch (ZipException e) {\n        return false;\n    } catch (IOException e) {\n        return false;\n    } finally {\n        try {\n            if (zipfile != null) {\n                zipfile.close();\n                zipfile = null;\n            }\n        } catch (IOException e) {\n            return false;\n        } try {\n            if (zis != null) {\n                zis.close();\n                zis = null;\n            }\n        } catch (IOException e) {\n            return false;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795807,"creation_date":1692795209,"answer_id":76961543,"question_id":2085637,"body_markdown":"I simplified the code from `Nikhil Das Nomula` by using try-with-resources:\r\n\r\n```\r\n    public static boolean isValidZipFile(File file) {\r\n        try(ZipFile zipfile = new ZipFile(file); \r\n            ZipInputStream zis = new ZipInputStream(new FileInputStream(file))\r\n        ) {\r\n            ZipEntry ze = zis.getNextEntry();\r\n            if (ze == null) {\r\n                return false;\r\n            }\r\n            while (ze != null) {\r\n                // if it throws an exception fetching any of the following then we know the file is corrupted.\r\n                zipfile.getInputStream(ze);\r\n                ze.getCrc();\r\n                ze.getCompressedSize();\r\n                ze.getName();\r\n\r\n                ze = zis.getNextEntry();\r\n            }\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAt first I thought using `ZipFile` was redundant, but then I deleted one byte at the end of the archive file. `ZipEntry` did not show the problem, but `ZipFile` threw the error `java.util.zip.ZipException: zip END header not found`.","title":"How to check if a generated zip file is corrupted?","body":"<p>I simplified the code from <code>Nikhil Das Nomula</code> by using try-with-resources:</p>\n<pre><code>    public static boolean isValidZipFile(File file) {\n        try(ZipFile zipfile = new ZipFile(file); \n            ZipInputStream zis = new ZipInputStream(new FileInputStream(file))\n        ) {\n            ZipEntry ze = zis.getNextEntry();\n            if (ze == null) {\n                return false;\n            }\n            while (ze != null) {\n                // if it throws an exception fetching any of the following then we know the file is corrupted.\n                zipfile.getInputStream(ze);\n                ze.getCrc();\n                ze.getCompressedSize();\n                ze.getName();\n\n                ze = zis.getNextEntry();\n            }\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n</code></pre>\n<p>At first I thought using <code>ZipFile</code> was redundant, but then I deleted one byte at the end of the archive file. <code>ZipEntry</code> did not show the problem, but <code>ZipFile</code> threw the error <code>java.util.zip.ZipException: zip END header not found</code>.</p>\n"}],"owner":{"account_id":63233,"reputation":4374,"user_id":187309,"accept_rate":67,"display_name":"Kico Lobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38218,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2086792,"answer_count":9,"score":28,"last_activity_date":1692795807,"creation_date":1263814259,"question_id":2085637,"body_markdown":"we have a piece of code which generates a zip file on our system. Everything is ok, but sometimes this zip file while opened by FilZip or WinZip is considered to be corrupted.\r\n\r\nSo here is my question: how can we check programatically if a generated zip file is corrupted?\r\n\r\nHere is the code we are using to generate our zip files:\r\n\r\n    try {\r\n        ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(tmpFile));\r\n        byte[] buffer = new byte[16384];\r\n        int contador = -1;\r\n        for (DigitalFile digitalFile : document.getDigitalFiles().getContent()) {\r\n           ZipEntry entry = new ZipEntry(digitalFile.getName());\r\n           FileInputStream fis = new FileInputStream(digitalFile.getFile());\r\n           try {\r\n              zos.putNextEntry(entry);\r\n              while ((counter = fis.read(buffer)) != -1) {\r\n                 zos.write(buffer, 0, counter);\r\n              }\r\n              fis.close();\r\n              zos.closeEntry();\r\n           } catch (IOException ex) {\r\n              throw new OurException(&quot;It was not possible to read this file &quot; + arquivo.getId());\r\n           }\r\n        }\r\n        try {\r\n          zos.close();\r\n        } catch (IOException ex) {\r\n          throw new OurException(&quot;We couldn&#39;t close this stream&quot;, ex);\r\n        }\r\n\r\nIs there anything we are doing wrong here?\r\n\r\nEDIT:\r\nActually, the code above is absolutely ok. My problem was that I was redirecting the WRONG stream for my users. So, instead of opening a zip file they where opening something completely different. Mea culpa :(\r\n\r\nBUT the main question remains: **how programatically I can verify if a given zip file is not corrupted?**","title":"How to check if a generated zip file is corrupted?","body":"<p>we have a piece of code which generates a zip file on our system. Everything is ok, but sometimes this zip file while opened by FilZip or WinZip is considered to be corrupted.</p>\n\n<p>So here is my question: how can we check programatically if a generated zip file is corrupted?</p>\n\n<p>Here is the code we are using to generate our zip files:</p>\n\n<pre><code>try {\n    ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(tmpFile));\n    byte[] buffer = new byte[16384];\n    int contador = -1;\n    for (DigitalFile digitalFile : document.getDigitalFiles().getContent()) {\n       ZipEntry entry = new ZipEntry(digitalFile.getName());\n       FileInputStream fis = new FileInputStream(digitalFile.getFile());\n       try {\n          zos.putNextEntry(entry);\n          while ((counter = fis.read(buffer)) != -1) {\n             zos.write(buffer, 0, counter);\n          }\n          fis.close();\n          zos.closeEntry();\n       } catch (IOException ex) {\n          throw new OurException(\"It was not possible to read this file \" + arquivo.getId());\n       }\n    }\n    try {\n      zos.close();\n    } catch (IOException ex) {\n      throw new OurException(\"We couldn't close this stream\", ex);\n    }\n</code></pre>\n\n<p>Is there anything we are doing wrong here?</p>\n\n<p>EDIT:\nActually, the code above is absolutely ok. My problem was that I was redirecting the WRONG stream for my users. So, instead of opening a zip file they where opening something completely different. Mea culpa :(</p>\n\n<p>BUT the main question remains: <strong>how programatically I can verify if a given zip file is not corrupted?</strong></p>\n"},{"tags":["java","java-8","java-stream","functional-interface"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":6,"creation_date":1540484766,"post_id":52993929,"comment_id":92893028,"body_markdown":"probably because its `BiFunction&lt;Integer, Integer, Integer&gt;` and not `BiFunction&lt;Integer, Integer&gt;` that you&#39;ve given a try.... also if you look at the BinaryOperator itself, it reads `BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt;`","body":"probably because its <code>BiFunction&lt;Integer, Integer, Integer&gt;</code> and not <code>BiFunction&lt;Integer, Integer&gt;</code> that you&#39;ve given a try.... also if you look at the BinaryOperator itself, it reads <code>BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1540485135,"creation_date":1540484593,"answer_id":52993974,"question_id":52993929,"body_markdown":"`BinaryOperator` is a special `BiFunction`. So you can assign the same expression to both of them. Check this out.\r\n\r\n\tBinaryOperator&lt;Integer&gt; foo = (a, b) -&gt; {\r\n\t\treturn a * a + b * b;\r\n\t};\r\n\tBiFunction&lt;Integer, Integer, Integer&gt; barFn = (a, b) -&gt; {\r\n\t\treturn a * a + b * b;\r\n\t};\r\n\r\nIf you look at the source code, it would be\r\n\r\n    public interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\r\n       // Remainder omitted.\r\n    }","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p><code>BinaryOperator</code> is a special <code>BiFunction</code>. So you can assign the same expression to both of them. Check this out.</p>\n\n<pre><code>BinaryOperator&lt;Integer&gt; foo = (a, b) -&gt; {\n    return a * a + b * b;\n};\nBiFunction&lt;Integer, Integer, Integer&gt; barFn = (a, b) -&gt; {\n    return a * a + b * b;\n};\n</code></pre>\n\n<p>If you look at the source code, it would be</p>\n\n<pre><code>public interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\n   // Remainder omitted.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14056454,"reputation":69,"user_id":11272787,"display_name":"Mehrose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558778304,"creation_date":1558778304,"answer_id":56303766,"question_id":52993929,"body_markdown":"The Bifunction&lt;T,T,T&gt; and the BinaryOperator&lt;T&gt; are same but the only difference here is the argument type and the return type of interfaces.\r\n\r\nConsider a case where you want to concatenate two strings and return the result. In this case, you can choose either one of them but BinaryOperator is a good choice to go with because if you focus on the arguments and the return type, they all are the same.\r\n   \r\n    BinaryOperator&lt;String&gt; c=(str,str1)-&gt;str+str1;\r\n\r\nyou can do the same with Bifunction but now see the difference here:\r\n\r\n    \r\n    BiFunction&lt;String,String,String&gt; c=(str,str1)-&gt;str+str1;\r\n\r\nNow consider a case in which we want to add two integers and return a string. Here we can only choose the BiFunction and not the BinaryOperator:\r\n\r\n    BiFunction&lt;Integer,Integer,String&gt; c=(a,b)-&gt;&quot;Answer=&quot;+(a+b);\r\n   ","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>The Bifunction and the BinaryOperator are same but the only difference here is the argument type and the return type of interfaces.</p>\n\n<p>Consider a case where you want to concatenate two strings and return the result. In this case, you can choose either one of them but BinaryOperator is a good choice to go with because if you focus on the arguments and the return type, they all are the same.</p>\n\n<pre><code>BinaryOperator&lt;String&gt; c=(str,str1)-&gt;str+str1;\n</code></pre>\n\n<p>you can do the same with Bifunction but now see the difference here:</p>\n\n<pre><code>BiFunction&lt;String,String,String&gt; c=(str,str1)-&gt;str+str1;\n</code></pre>\n\n<p>Now consider a case in which we want to add two integers and return a string. Here we can only choose the BiFunction and not the BinaryOperator:</p>\n\n<pre><code>BiFunction&lt;Integer,Integer,String&gt; c=(a,b)-&gt;\"Answer=\"+(a+b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5722938,"reputation":1123,"user_id":4520839,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795670,"creation_date":1692795670,"answer_id":76961606,"question_id":52993929,"body_markdown":"If you take a look at `BinaryOperator` code you will see that `BinaryOperator` has been extended `BiFunction` which means `BinaryOperator` is a special kind of `BiFunction`.\r\n```java\r\n@FunctionalInterface\r\npublic interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\r\n    // interface implementation\r\n}\r\n```\r\nbut the main difference is that when you use `BinaryOperator` your two inputs and return type is the same.\r\nhere is an example of `BinaryOperator` and `BiFunction` to get more of it:\r\n```java\r\nBinaryOperator&lt;Integer&gt; sum = (a, b) -&gt; a + b;\r\nBiFunction&lt;Integer, Integer, Integer&gt; sum2 = (a, b) -&gt; a + b;\r\n```\r\na better way to use BinaryOperator if you want to use java&#39;s primitive data type there has been some functional interface to have a good experience and get rid of boxing thing: `IntBinaryOperator` &amp; `LongBinaryOperator` &amp; `DoubleBinaryOperator`.\r\nand finally you can write above code like this:\r\n```java\r\nIntBinaryOperator sum = (a, b) -&gt; a + b;\r\n// OR use method reference like bellow\r\nIntBinaryOperator sum = Integer::sum;\r\n```","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>If you take a look at <code>BinaryOperator</code> code you will see that <code>BinaryOperator</code> has been extended <code>BiFunction</code> which means <code>BinaryOperator</code> is a special kind of <code>BiFunction</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface BinaryOperator&lt;T&gt; extends BiFunction&lt;T,T,T&gt; {\n    // interface implementation\n}\n</code></pre>\n<p>but the main difference is that when you use <code>BinaryOperator</code> your two inputs and return type is the same.\nhere is an example of <code>BinaryOperator</code> and <code>BiFunction</code> to get more of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BinaryOperator&lt;Integer&gt; sum = (a, b) -&gt; a + b;\nBiFunction&lt;Integer, Integer, Integer&gt; sum2 = (a, b) -&gt; a + b;\n</code></pre>\n<p>a better way to use BinaryOperator if you want to use java's primitive data type there has been some functional interface to have a good experience and get rid of boxing thing: <code>IntBinaryOperator</code> &amp; <code>LongBinaryOperator</code> &amp; <code>DoubleBinaryOperator</code>.\nand finally you can write above code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBinaryOperator sum = (a, b) -&gt; a + b;\n// OR use method reference like bellow\nIntBinaryOperator sum = Integer::sum;\n</code></pre>\n"}],"owner":{"account_id":179063,"reputation":12273,"user_id":411449,"accept_rate":63,"display_name":"skip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2228,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":52993974,"answer_count":3,"score":-1,"last_activity_date":1692795670,"creation_date":1540484380,"question_id":52993929,"body_markdown":"I am not able to understand that how come `BinaryOperator&lt;Integer&gt;` could be placed at the place of `A` in the code below, but not `BiFunction&lt;Integer, Integer&gt;`?\r\n\r\n    A foo = (a, b) -&gt; { return a * a + b * b; };\r\n    int bar = foo.apply(2, 3);\r\n    System.out.println(bar);\r\n\r\nCould someone please help me understand it.","title":"Difference between BiFunction&lt;X, X&gt; and BinaryOperator&lt;X&gt;","body":"<p>I am not able to understand that how come <code>BinaryOperator&lt;Integer&gt;</code> could be placed at the place of <code>A</code> in the code below, but not <code>BiFunction&lt;Integer, Integer&gt;</code>?</p>\n\n<pre><code>A foo = (a, b) -&gt; { return a * a + b * b; };\nint bar = foo.apply(2, 3);\nSystem.out.println(bar);\n</code></pre>\n\n<p>Could someone please help me understand it.</p>\n"},{"tags":["java","ldap-query","spring-ldap"],"answers":[{"tags":[],"owner":{"account_id":10045362,"reputation":114,"user_id":7426965,"accept_rate":100,"display_name":"kpenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692795460,"creation_date":1692795460,"answer_id":76961574,"question_id":76951669,"body_markdown":"LDAP servers implement resources limits, to reduce the impact of client queries. OpenLDAP support to two limits; size (no of entries returned) and time (no of seconds an operation takes). LDAP servers such as Fedora 389/RedHat Directory Server have more granular limits. [How to count large number of attribute entries using an anonymous bind][1] \r\n\r\nHad the same error on 389/RedHat Directory Server. The searchable field (in your case &quot;department&quot;) was not indexed and it was hitting the Look-through limit. Fixed the issue by adding attribute `nsLookThroughLimit` with value of `-1` for the bind dn user to disable the check. [Improving Search Performance through Resource Limits][2] Afterwards the query worked fine.\r\n\r\n  [1]: https://www.port389.org/docs/389ds/howto/howto-ldapsearchmanyattr.html\r\n  [2]: https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/ldapsearch-ex-complex-range","title":"Spring LDAP filter search on a multivalued attribute","body":"<p>LDAP servers implement resources limits, to reduce the impact of client queries. OpenLDAP support to two limits; size (no of entries returned) and time (no of seconds an operation takes). LDAP servers such as Fedora 389/RedHat Directory Server have more granular limits. <a href=\"https://www.port389.org/docs/389ds/howto/howto-ldapsearchmanyattr.html\" rel=\"nofollow noreferrer\">How to count large number of attribute entries using an anonymous bind</a></p>\n<p>Had the same error on 389/RedHat Directory Server. The searchable field (in your case &quot;department&quot;) was not indexed and it was hitting the Look-through limit. Fixed the issue by adding attribute <code>nsLookThroughLimit</code> with value of <code>-1</code> for the bind dn user to disable the check. <a href=\"https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/ldapsearch-ex-complex-range\" rel=\"nofollow noreferrer\">Improving Search Performance through Resource Limits</a> Afterwards the query worked fine.</p>\n"}],"owner":{"account_id":3407728,"reputation":103,"user_id":2858411,"accept_rate":17,"display_name":"jimny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961574,"answer_count":1,"score":0,"last_activity_date":1692795460,"creation_date":1692694691,"question_id":76951669,"body_markdown":"I am using Spring LDAP and have entries (person) with a multivalued attribute named Department. i.e each person can have zero or more Department attributes.\r\nI am trying to make a search (filter) and return those entries that have only a specified value in one of their Department Values.  However when I add the filter on the multivalued attribute I am getting the following error\r\n\r\n**LDAP: error code 11 - Administrative Limit Exceeded**\r\n\r\nThis is the query code I am using. \r\n\r\n    LdapQuery query = query().base(&quot;ou=People&quot;).attributes(&quot;uid&quot;).where(&quot;objectclass&quot;).is(&quot;person&quot;).and(&quot;department&quot;).is(&quot;Marketing&quot;);\r\n\r\nHas anyone encountered this situation or can it even be done to filter on a multivalued attribute?\r\n\r\nThanks","title":"Spring LDAP filter search on a multivalued attribute","body":"<p>I am using Spring LDAP and have entries (person) with a multivalued attribute named Department. i.e each person can have zero or more Department attributes.\nI am trying to make a search (filter) and return those entries that have only a specified value in one of their Department Values.  However when I add the filter on the multivalued attribute I am getting the following error</p>\n<p><strong>LDAP: error code 11 - Administrative Limit Exceeded</strong></p>\n<p>This is the query code I am using.</p>\n<pre><code>LdapQuery query = query().base(&quot;ou=People&quot;).attributes(&quot;uid&quot;).where(&quot;objectclass&quot;).is(&quot;person&quot;).and(&quot;department&quot;).is(&quot;Marketing&quot;);\n</code></pre>\n<p>Has anyone encountered this situation or can it even be done to filter on a multivalued attribute?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692715979,"post_id":76954309,"comment_id":135660558,"body_markdown":"Try to execute the sql generated at the Caused by line in the database and see what error it gives.","body":"Try to execute the sql generated at the Caused by line in the database and see what error it gives."}],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795206,"creation_date":1692736663,"answer_id":76956716,"question_id":76954309,"body_markdown":"You have the wrong class in your Native Query: \r\n\r\n```\r\nfrom SKU\r\n```\r\n\r\nNative Queries are case sensitive, if you want to select from your entity you should change it to: \r\n\r\n```\r\nfrom Sku\r\n```\r\n","title":"spring boot hibernate SQLGrammarException: could not extract ResultSet","body":"<p>You have the wrong class in your Native Query:</p>\n<pre><code>from SKU\n</code></pre>\n<p>Native Queries are case sensitive, if you want to select from your entity you should change it to:</p>\n<pre><code>from Sku\n</code></pre>\n"}],"owner":{"account_id":3766723,"reputation":246,"user_id":3130060,"accept_rate":67,"display_name":"unknowncodder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692795206,"creation_date":1692714590,"question_id":76954309,"body_markdown":"I would like to fetch specific fields of an entity via spring data jpa and dto peojection.\r\n\r\nPerson class:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Entity(name = &quot;SKU&quot;)\r\n@DynamicUpdate\r\n@OptimisticLocking(type = OptimisticLockType.DIRTY)\r\npublic class Sku extends BaseCqrsEntity {\r\n    private Long sellerId;\r\n    private String gtin;\r\n    @Enumerated(EnumType.STRING)\r\n    private SkuState state;\r\n    @Enumerated(EnumType.STRING)\r\n    private VariantState variantState;\r\n    private String brand;\r\n    \r\n    @ElementCollection(targetClass = VariantImage.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;SKU_VARIANT_IMAGES&quot;, joinColumns = @JoinColumn(name = &quot;SKU_ID&quot;))\r\n    @Fetch(FetchMode.SELECT)\r\n    @BatchSize(size = 1000)\r\n    private List&lt;VariantImage&gt; variantImages = new ArrayList&lt;&gt;();\r\n\r\n    //OTHER ATTRIBUTES\r\n }\r\n```\r\n\r\nPersonImage class:\r\n\r\n```\r\n@Embeddable\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class VariantImage implements Serializable {\r\n\r\n    private static final long serialVersionUID = -7449583602767726061L;\r\n\r\n    private Long id;\r\n\r\n    private Integer position;\r\n\r\n    private String relativePath;\r\n}\r\n```\r\n\r\nJPA repository class:\r\n\r\n\r\n```\r\n@Query(&quot; select new SkuFeedProjection(s.productId, s.variantId, s.categoryId, s.sellerId, s.gtin, s.brand, s.unitPrice, s.discountValue, s.discountType, s.saleStartDate, s.saleEndDate, s.variantTitle, s.currencyId, s.variantImages, s.discountStartDate, s.discountEndDate) from SKU s where s.variantState = :variantState and s.state = :skuState&quot;)\r\n    Page&lt;SkuFeedProjection&gt; pageAllByVariantStateAndState(@Param(&quot;variantState&quot;) VariantState variantState,\r\n                                                          @Param(&quot;skuState&quot;) SkuState skuState,\r\n                                                          Pageable pageable);\r\n}\r\n```\r\n\r\nException log:\r\n\r\n\r\n```\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 131 more\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00936: missing expression\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)\r\n\tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\r\n\tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\t... 163 more\r\n\r\nCaused by: Error : 936, Position : 408, Sql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=:1  and sku0_.state=:2  fetch first :3  rows only, \r\n\r\nOriginalSql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=? and sku0_.state=? fetch first ? rows only, Error Msg = ORA-00936: missing expression\r\n```\r\n\r\n\r\nwhenever repository method is called. I am getting **org.hibernate.exception.SQLGrammarException: could not extract ResultSet.**\r\n\r\nThis is because, I guess Hibernate does not handle embedded collections (@ElementCollection) well in JPQL when using them in a projection. Could I hear your suggestions. How can I get rid of this problem ? \r\n\r\nThanks in advance.","title":"spring boot hibernate SQLGrammarException: could not extract ResultSet","body":"<p>I would like to fetch specific fields of an entity via spring data jpa and dto peojection.</p>\n<p>Person class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Entity(name = &quot;SKU&quot;)\n@DynamicUpdate\n@OptimisticLocking(type = OptimisticLockType.DIRTY)\npublic class Sku extends BaseCqrsEntity {\n    private Long sellerId;\n    private String gtin;\n    @Enumerated(EnumType.STRING)\n    private SkuState state;\n    @Enumerated(EnumType.STRING)\n    private VariantState variantState;\n    private String brand;\n    \n    @ElementCollection(targetClass = VariantImage.class, fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;SKU_VARIANT_IMAGES&quot;, joinColumns = @JoinColumn(name = &quot;SKU_ID&quot;))\n    @Fetch(FetchMode.SELECT)\n    @BatchSize(size = 1000)\n    private List&lt;VariantImage&gt; variantImages = new ArrayList&lt;&gt;();\n\n    //OTHER ATTRIBUTES\n }\n</code></pre>\n<p>PersonImage class:</p>\n<pre><code>@Embeddable\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class VariantImage implements Serializable {\n\n    private static final long serialVersionUID = -7449583602767726061L;\n\n    private Long id;\n\n    private Integer position;\n\n    private String relativePath;\n}\n</code></pre>\n<p>JPA repository class:</p>\n<pre><code>@Query(&quot; select new SkuFeedProjection(s.productId, s.variantId, s.categoryId, s.sellerId, s.gtin, s.brand, s.unitPrice, s.discountValue, s.discountType, s.saleStartDate, s.saleEndDate, s.variantTitle, s.currencyId, s.variantImages, s.discountStartDate, s.discountEndDate) from SKU s where s.variantState = :variantState and s.state = :skuState&quot;)\n    Page&lt;SkuFeedProjection&gt; pageAllByVariantStateAndState(@Param(&quot;variantState&quot;) VariantState variantState,\n                                                          @Param(&quot;skuState&quot;) SkuState skuState,\n                                                          Pageable pageable);\n}\n</code></pre>\n<p>Exception log:</p>\n<pre><code>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1454)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 131 more\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00936: missing expression\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:494)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:446)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1054)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:623)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:612)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:226)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:59)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:747)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:904)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1082)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3780)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    ... 163 more\n\nCaused by: Error : 936, Position : 408, Sql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=:1  and sku0_.state=:2  fetch first :3  rows only, \n\nOriginalSql = select sku0_.product_id as col_0_0_, sku0_.variant_id as col_1_0_, sku0_.category_id as col_2_0_, sku0_.seller_id as col_3_0_, sku0_.gtin as col_4_0_, sku0_.brand as col_5_0_, sku0_.unit_price as col_6_0_, sku0_.discount_value as col_7_0_, sku0_.discount_type as col_8_0_, sku0_.sale_start_date as col_9_0_, sku0_.sale_end_date as col_10_0_, sku0_.variant_title as col_11_0_, sku0_.currency_id as col_12_0_, . as col_13_0_, sku0_.discount_start_date as col_14_0_, sku0_.discount_end_date as col_15_0_ from my_schema.sku sku0_ inner join my_schema.sku_variant_images variantima1_ on sku0_.id=variantima1_.sku_id where sku0_.variant_state=? and sku0_.state=? fetch first ? rows only, Error Msg = ORA-00936: missing expression\n</code></pre>\n<p>whenever repository method is called. I am getting <strong>org.hibernate.exception.SQLGrammarException: could not extract ResultSet.</strong></p>\n<p>This is because, I guess Hibernate does not handle embedded collections (@ElementCollection) well in JPQL when using them in a projection. Could I hear your suggestions. How can I get rid of this problem ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","rest","http"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1692443888,"post_id":76934595,"comment_id":135625864,"body_markdown":"The first version is clearly incorrect.  Characters such as `[`, `]` and `:` in the query part must be encoded. In the second version, the problem is mostly something to do with the URL path being unknown to the server or the query being invalid.  Check the response body for error messages and the server access and error logs.  (We have no knowledge of the server you are trying to use or its request syntax.)","body":"The first version is clearly incorrect.  Characters such as <code>[</code>, <code>]</code> and <code>:</code> in the query part must be encoded. In the second version, the problem is mostly something to do with the URL path being unknown to the server or the query being invalid.  Check the response body for error messages and the server access and error logs.  (We have no knowledge of the server you are trying to use or its request syntax.)"},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444016,"post_id":76934595,"comment_id":135625883,"body_markdown":"I could see postman sending encoded url like this:\n\n&#39;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={%24and%3A[{customerSignatureRequestSentOn_srq%3A{%24gte%3A%20%272023-04-13%27}}%2C{customerSignatureRequestSentOn_srq%3A{%24lte%3A%20%272023-07-14%27}}%2C{customerSigned_srq%3A{%20%24exists%3A%20false%20}}%2C{renewalType_srq%3A{%20%24eq%3A%20%27Amendment%27}}%2C{subType_srq%3A{%20%24eq%3A%20%27Proactive%27}}]}&amp;fields=quoteNumber_srq%2CcustomerSignatureRequestSentOn_srq&#39;\n\n\nI dont know what encoding its using, but its getting proper result","body":"I could see postman sending encoded url like this:  &#39;<a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=\" rel=\"nofollow noreferrer\">host.com/rest/v14/&hellip;</a>{%24and%3A[{customerSignatureRequestSent&zwnj;&#8203;On_srq%3A{%24gte%3A%&zwnj;&#8203;20%272023-04-13%27}}&zwnj;&#8203;%2C{customerSignatur&zwnj;&#8203;eRequestSentOn_srq%3&zwnj;&#8203;A{%24lte%3A%20%27202&zwnj;&#8203;3-07-14%27}}%2C{cust&zwnj;&#8203;omerSigned_srq%3A{%2&zwnj;&#8203;0%24exists%3A%20fals&zwnj;&#8203;e%20}}%2C{renewalTyp&zwnj;&#8203;e_srq%3A{%20%24eq%3A&zwnj;&#8203;%20%27Amendment%27}}&zwnj;&#8203;%2C{subType_srq%3A{%&zwnj;&#8203;20%24eq%3A%20%27Proa&zwnj;&#8203;ctive%27}}]}&amp;fields=&zwnj;&#8203;quoteNumber_srq%2Ccu&zwnj;&#8203;stomerSignatureReque&zwnj;&#8203;stSentOn_srq&#39;   I dont know what encoding its using, but its getting proper result"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444194,"post_id":76934595,"comment_id":135625900,"body_markdown":"Put the details into the question.  They are unreadable in the comments.  (Look at it!!)","body":"Put the details into the question.  They are unreadable in the comments.  (Look at it!!)"},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444224,"post_id":76934595,"comment_id":135625906,"body_markdown":"@StephenC \n{&quot;type&quot;:&quot;HTTP://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot;,&quot;title&quot;:&quot;Parameter q is invalid.\\nUnexpected character (&#39;&amp;&#39; (code 38)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\\n at [Source: (String)\\&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq\\&quot;; line: 1, column: 240]&quot;}","body":"@StephenC  {&quot;type&quot;:&quot;<a href=\"HTTP://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html&quot;,&quot;title&quot;:&quot;Parameter\" rel=\"nofollow noreferrer\">HTTP://www.w3.org/Protocols/rfc2616/&hellip;</a> q is invalid.\\nUnexpected character (&#39;&amp;&#39; (code 38)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\\n at [Source: (String)\\&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_s&zwnj;&#8203;rq\\&quot;; line: 1, column: 240]&quot;}"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444258,"post_id":76934595,"comment_id":135625910,"body_markdown":"And it is completely unreadable.  This is a &gt;you&lt; problem!   Use the [Edit button](https://stackoverflow.com/posts/76934595/edit).","body":"And it is completely unreadable.  This is a &gt;you&lt; problem!   Use the <a href=\"https://stackoverflow.com/posts/76934595/edit\">Edit button</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1692444691,"post_id":76934595,"comment_id":135625958,"body_markdown":"By the way ... you seem to be setting a `Content-Type` header in your `GET` request.  That has no effect since your request has no body.  The header is redundant.","body":"By the way ... you seem to be setting a <code>Content-Type</code> header in your <code>GET</code> request.  That has no effect since your request has no body.  The header is redundant."},{"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"score":0,"creation_date":1692444711,"post_id":76934595,"comment_id":135625959,"body_markdown":"@StephenC I have encoded the part still &#39;&amp;&#39; and sent it. Its working. All I need to find is how to append parameters with &amp; symbol. coz I am getting the error:\n\nUnexpected character (&#39;&amp;&#39; (code 38)):","body":"@StephenC I have encoded the part still &#39;&amp;&#39; and sent it. Its working. All I need to find is how to append parameters with &amp; symbol. coz I am getting the error:  Unexpected character (&#39;&amp;&#39; (code 38)):"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692444775,"post_id":76934595,"comment_id":135625969,"body_markdown":"I&#39;m not answering any further until you fix the question.  This is the 3rd and final time I will say this.  All relevant information should be 1) in the question (not the comments) and 2) readable.","body":"I&#39;m not answering any further until you fix the question.  This is the 3rd and final time I will say this.  All relevant information should be 1) in the question (not the comments) and 2) readable."}],"answers":[{"tags":[],"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692633136,"creation_date":1692445011,"answer_id":76934900,"question_id":76934595,"body_markdown":"Finally, I got the solution to this. I am posting here, so it may help whomever face this:\r\n\r\nSolution: Instead of sending complete encoded URL, I sent it partially encoded like below:\r\n\r\n\r\n    String encodedUrl = `&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=&quot; +  URLEncoder.encode(&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&quot;, StandardCharsets.UTF_8) + &quot;&amp;fields=&quot;+ URLEncoder.encode(&quot;quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;, StandardCharsets.UTF_8);`\r\n\r\nand it worked...\r\n\r\nIf anyone has a better approach, please share.\r\n\r\nThanks.\r\n","title":"Encoding issue while fetching with Java HTTP Request","body":"<p>Finally, I got the solution to this. I am posting here, so it may help whomever face this:</p>\n<p>Solution: Instead of sending complete encoded URL, I sent it partially encoded like below:</p>\n<pre><code>String encodedUrl = `&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=&quot; +  URLEncoder.encode(&quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&quot;, StandardCharsets.UTF_8) + &quot;&amp;fields=&quot;+ URLEncoder.encode(&quot;quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;, StandardCharsets.UTF_8);`\n</code></pre>\n<p>and it worked...</p>\n<p>If anyone has a better approach, please share.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":4777123,"reputation":41,"user_id":3859924,"display_name":"MI Haque"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76934900,"answer_count":1,"score":0,"last_activity_date":1692795111,"creation_date":1692440111,"question_id":76934595,"body_markdown":"I am trying to hit a URL with a Java HTTP request. I have tried with both encodings and without encoding methods for it. It failed with both approaches. \r\n\r\nURL: &gt; https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: &quot;Amendment&quot; }},{subType_srq:{ $eq: &quot;Proactive&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq\r\n\r\n\r\nHere is my source code:\r\n```\r\nURL url = new URI(uri).toURL();\r\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\nvar apiUsername = &quot;***&quot;;\r\nvar apiPassword = &quot;***&quot;;\r\nconn.setRequestProperty(HEADERS_AUTHORIZATION, generateBasicAuthInHeaders(apiUsername, apiPassword));\r\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\nconn.setConnectTimeout(3000);\r\nconn.setRequestMethod(&quot;GET&quot;);\r\nconn.connect();\r\n```\r\n\r\nError I am getting without encoding:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in query at index 98\r\n\r\nIf I encode only the query part:\r\n\r\nURL will be like:\r\n\r\n&gt; https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq`\r\n\r\nand I am getting the response:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL:\r\n\r\nI have tried using Jersey client for URL building:\r\n\r\n```   \r\nURI url = UriBuilder.fromPath(&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction&quot;)\r\n        .queryParam(&quot;q&quot;, &quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: &#39;2023-04-01&#39;}},{customerSignatureRequestSentOn_srq:{$lte: &#39;2023-06-04&#39;}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;)\r\n        .build();\r\n```\r\n\r\nI didn&#39;t get success either. Any help would be great.","title":"Encoding issue while fetching with Java HTTP Request","body":"<p>I am trying to hit a URL with a Java HTTP request. I have tried with both encodings and without encoding methods for it. It failed with both approaches.</p>\n<p>URL: &gt; <a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B$and:%5B%7BcustomerSignatureRequestSentOn_srq:%7B$gte\" rel=\"nofollow noreferrer\">https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q={$and:[{customerSignatureRequestSentOn_srq:{$gte</a>: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: &quot;Amendment&quot; }},{subType_srq:{ $eq: &quot;Proactive&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq</p>\n<p>Here is my source code:</p>\n<pre><code>URL url = new URI(uri).toURL();\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nvar apiUsername = &quot;***&quot;;\nvar apiPassword = &quot;***&quot;;\nconn.setRequestProperty(HEADERS_AUTHORIZATION, generateBasicAuthInHeaders(apiUsername, apiPassword));\nconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\nconn.setConnectTimeout(3000);\nconn.setRequestMethod(&quot;GET&quot;);\nconn.connect();\n</code></pre>\n<p>Error I am getting without encoding:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.net.URISyntaxException: Illegal character in query at index 98</p>\n</blockquote>\n<p>If I encode only the query part:</p>\n<p>URL will be like:</p>\n<blockquote>\n<p><a href=\"https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq%60\" rel=\"nofollow noreferrer\">https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction?q=%7B%24and%3A%5B%7BcustomerSignatureRequestSentOn_srq%3A%7B%24gte%3A+%272023-04-01%27%7D%7D%2C%7BcustomerSignatureRequestSentOn_srq%3A%7B%24lte%3A+%272023-06-04%27%7D%7D%2C%7BcustomerSigned_srq%3A%7B+%24exists%3A+false+%7D%7D%2C%7BrenewalType_srq%3A%7B+%24eq%3A+%22Amendment%22+%7D%7D%2C%7BsubType_srq%3A%7B+%24eq%3A+%22Proactive%22+%7D%7D%5D%7D%26fields%3DquoteNumber_srq%2CcustomerSignatureRequestSentOn_srq`</a></p>\n</blockquote>\n<p>and I am getting the response:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 400 for URL:</p>\n</blockquote>\n<p>I have tried using Jersey client for URL building:</p>\n<pre><code>URI url = UriBuilder.fromPath(&quot;https://host.com/rest/v14/commerceDocumentsSimplifiedRenewalsTransaction&quot;)\n        .queryParam(&quot;q&quot;, &quot;{$and:[{customerSignatureRequestSentOn_srq:{$gte: '2023-04-01'}},{customerSignatureRequestSentOn_srq:{$lte: '2023-06-04'}},{customerSigned_srq:{ $exists: false }},{renewalType_srq:{ $eq: \\&quot;Amendment\\&quot; }},{subType_srq:{ $eq: \\&quot;Proactive\\&quot; }}]}&amp;fields=quoteNumber_srq,customerSignatureRequestSentOn_srq&quot;)\n        .build();\n</code></pre>\n<p>I didn't get success either. Any help would be great.</p>\n"},{"tags":["java","jackson","deserialization","bigdecimal","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1559253210,"creation_date":1559253210,"answer_id":56386102,"question_id":56383123,"body_markdown":"When you want to set scale you need to take care about rounding. You have some options such as [ROUND_HALF_EVEN][1] and you need to decide which rounding mode to use.\r\n\r\nTo intercept `BigDecimal` deserialisation you can write custom deserialiser. Below example shows how to do that, we can extend default one and set scale after deserialzation:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.deser.std.NumberDeserializers;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.math.BigDecimal;\r\n    \r\n    public class JsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tFoo person = mapper.readValue(jsonFile, Foo.class);\r\n    \t\tSystem.out.println(person);\r\n    \t}\r\n    }\r\n    \r\n    class BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\r\n    \r\n    \t@Override\r\n    \tpublic BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n    \t\tBigDecimal value = super.deserialize(p, ctxt);\r\n    \r\n    \t\t// set scale\r\n    \t\tvalue = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n    \r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n    \r\n    class Foo {\r\n    \r\n    \t@JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\r\n    \tprivate BigDecimal amount;\r\n    \r\n    \tpublic BigDecimal getAmount() {\r\n    \t\treturn amount;\r\n    \t}\r\n    \r\n    \tpublic void setAmount(BigDecimal amount) {\r\n    \t\tthis.amount = amount;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Foo{&quot; +\r\n    \t\t\t\t&quot;amount=&quot; + amount +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n\r\nFor below `JSON` payload:\r\n\r\n    {\r\n      &quot;amount&quot;: 16.127\r\n    }\r\n\r\nabove app prints:\r\n\r\n    Foo{amount=16.13}\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\r\n","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>When you want to set scale you need to take care about rounding. You have some options such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\" rel=\"noreferrer\">ROUND_HALF_EVEN</a> and you need to decide which rounding mode to use.</p>\n\n<p>To intercept <code>BigDecimal</code> deserialisation you can write custom deserialiser. Below example shows how to do that, we can extend default one and set scale after deserialzation:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.NumberDeserializers;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.math.BigDecimal;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        Foo person = mapper.readValue(jsonFile, Foo.class);\n        System.out.println(person);\n    }\n}\n\nclass BigDecimal2JsonDeserializer extends NumberDeserializers.BigDecimalDeserializer {\n\n    @Override\n    public BigDecimal deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        BigDecimal value = super.deserialize(p, ctxt);\n\n        // set scale\n        value = value.setScale(2, BigDecimal.ROUND_HALF_EVEN);\n\n        return value;\n    }\n}\n\nclass Foo {\n\n    @JsonDeserialize(using = BigDecimal2JsonDeserializer.class)\n    private BigDecimal amount;\n\n    public BigDecimal getAmount() {\n        return amount;\n    }\n\n    public void setAmount(BigDecimal amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return \"Foo{\" +\n                \"amount=\" + amount +\n                '}';\n    }\n}\n</code></pre>\n\n<p>For below <code>JSON</code> payload:</p>\n\n<pre><code>{\n  \"amount\": 16.127\n}\n</code></pre>\n\n<p>above app prints:</p>\n\n<pre><code>Foo{amount=16.13}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376274,"reputation":160,"user_id":2834361,"display_name":"gizit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692794981,"creation_date":1692793816,"answer_id":76961376,"question_id":56383123,"body_markdown":"For you Kotlin lovers, I implemented this BigDecimal ContextualSerializer where the number of decimal places can be configured using an annotation. Although it is strange place to introduce rounding in the serializer, for my case this was not an issue. Check for yourselves if rounding can be an issue.\r\n\r\nThe Serializer class:\r\n\r\n    class CustomBigDecimalSerializer(private val decimalPlaces: Int = 2) : StdSerializer&lt;BigDecimal&gt;(BigDecimal::class.java),\r\n            ContextualSerializer {\r\n    \r\n        override fun serialize(value: BigDecimal?, jsonGenerator: JsonGenerator?, serializerProvider: SerializerProvider?) {\r\n            if (value != null) {\r\n                jsonGenerator?.writeNumber(value.setScale(decimalPlaces, RoundingMode.HALF_UP))\r\n            } else {\r\n                jsonGenerator?.writeNull()\r\n            }\r\n        }\r\n    \r\n        override fun createContextual(provider: SerializerProvider?, property: BeanProperty?): JsonSerializer&lt;*&gt; {\r\n            val decimalPlaces = property?.getAnnotation(DecimalPlaces::class.java)\r\n            return CustomBigDecimalSerializer(decimalPlaces?.numberOfDigits ?: 2)\r\n        }\r\n    }\r\n\r\nThe annotation that can be used to configure the number of decimal places:\r\n\r\n    @Target(AnnotationTarget.FIELD)\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    annotation class DecimalPlaces(val numberOfDigits: Int)\r\n\r\nAnd finally the usage of it in this &#39;unit test&#39;:\r\n\r\n    class CustomBigDecimalSerializerTest {\r\n    \r\n        @Test\r\n        fun serializeBigDecimals(){\r\n            val objectMapper: ObjectMapper = ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT)\r\n            val container = BigDecimalContainer(BigDecimal(Math.PI))\r\n            // no assertions, just print the serialized container\r\n            println(objectMapper.writeValueAsString(container))\r\n        }\r\n    \r\n        data class BigDecimalContainer(val rawValue: BigDecimal){\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            val defaultDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 1)\r\n            val oneDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 2)\r\n            val twoDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 3)\r\n            val threeDecimalPlaces = rawValue\r\n    \r\n            @JsonSerialize(using = CustomBigDecimalSerializer::class)\r\n            @DecimalPlaces(numberOfDigits = 10)\r\n            val tenDecimalPlaces = rawValue\r\n        }\r\n    }\r\n\r\nThe output of the test is:\r\n\r\n    {\r\n      &quot;rawValue&quot; : 3.141592653589793115997963468544185161590576171875,\r\n      &quot;defaultDecimalPlaces&quot; : 3.14,\r\n      &quot;oneDecimalPlaces&quot; : 3.1,\r\n      &quot;twoDecimalPlaces&quot; : 3.14,\r\n      &quot;threeDecimalPlaces&quot; : 3.142,\r\n      &quot;tenDecimalPlaces&quot; : 3.1415926536\r\n    }\r\n\r\nHave fun with it!","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>For you Kotlin lovers, I implemented this BigDecimal ContextualSerializer where the number of decimal places can be configured using an annotation. Although it is strange place to introduce rounding in the serializer, for my case this was not an issue. Check for yourselves if rounding can be an issue.</p>\n<p>The Serializer class:</p>\n<pre><code>class CustomBigDecimalSerializer(private val decimalPlaces: Int = 2) : StdSerializer&lt;BigDecimal&gt;(BigDecimal::class.java),\n        ContextualSerializer {\n\n    override fun serialize(value: BigDecimal?, jsonGenerator: JsonGenerator?, serializerProvider: SerializerProvider?) {\n        if (value != null) {\n            jsonGenerator?.writeNumber(value.setScale(decimalPlaces, RoundingMode.HALF_UP))\n        } else {\n            jsonGenerator?.writeNull()\n        }\n    }\n\n    override fun createContextual(provider: SerializerProvider?, property: BeanProperty?): JsonSerializer&lt;*&gt; {\n        val decimalPlaces = property?.getAnnotation(DecimalPlaces::class.java)\n        return CustomBigDecimalSerializer(decimalPlaces?.numberOfDigits ?: 2)\n    }\n}\n</code></pre>\n<p>The annotation that can be used to configure the number of decimal places:</p>\n<pre><code>@Target(AnnotationTarget.FIELD)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class DecimalPlaces(val numberOfDigits: Int)\n</code></pre>\n<p>And finally the usage of it in this 'unit test':</p>\n<pre><code>class CustomBigDecimalSerializerTest {\n\n    @Test\n    fun serializeBigDecimals(){\n        val objectMapper: ObjectMapper = ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT)\n        val container = BigDecimalContainer(BigDecimal(Math.PI))\n        // no assertions, just print the serialized container\n        println(objectMapper.writeValueAsString(container))\n    }\n\n    data class BigDecimalContainer(val rawValue: BigDecimal){\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        val defaultDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 1)\n        val oneDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 2)\n        val twoDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 3)\n        val threeDecimalPlaces = rawValue\n\n        @JsonSerialize(using = CustomBigDecimalSerializer::class)\n        @DecimalPlaces(numberOfDigits = 10)\n        val tenDecimalPlaces = rawValue\n    }\n}\n</code></pre>\n<p>The output of the test is:</p>\n<pre><code>{\n  &quot;rawValue&quot; : 3.141592653589793115997963468544185161590576171875,\n  &quot;defaultDecimalPlaces&quot; : 3.14,\n  &quot;oneDecimalPlaces&quot; : 3.1,\n  &quot;twoDecimalPlaces&quot; : 3.14,\n  &quot;threeDecimalPlaces&quot; : 3.142,\n  &quot;tenDecimalPlaces&quot; : 3.1415926536\n}\n</code></pre>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":3570477,"reputation":631,"user_id":2980916,"accept_rate":20,"display_name":"ernitingoel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10875,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56386102,"answer_count":2,"score":6,"last_activity_date":1692794981,"creation_date":1559238146,"question_id":56383123,"body_markdown":"I have `POJO` like where I have a `BigDecimal` field:\r\n\r\n    public class Foo implements Serializable {\r\n    \r\n       private BigDecimal amount;\r\n    }\r\n\r\nI want to have the `BigDecimal` value up to `2` decimal place only. Is there any annotation exist using which I can directly change it&#39;s value at the field level itself? I cannot change it&#39;s type as well.\r\n\r\nThough it can be done with getter and `ObjectMapper` within the application.","title":"Jackson annotation to convert BigDecimal value and set scale to 2","body":"<p>I have <code>POJO</code> like where I have a <code>BigDecimal</code> field:</p>\n\n<pre><code>public class Foo implements Serializable {\n\n   private BigDecimal amount;\n}\n</code></pre>\n\n<p>I want to have the <code>BigDecimal</code> value up to <code>2</code> decimal place only. Is there any annotation exist using which I can directly change it's value at the field level itself? I cannot change it's type as well.</p>\n\n<p>Though it can be done with getter and <code>ObjectMapper</code> within the application.</p>\n"},{"tags":["java","spring-boot","resttemplate"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692794924,"creation_date":1692794924,"question_id":76961511,"body_markdown":"`DefaultResponseErrorHandler` has some methods, but I would like to point out only a few of them. From source code:\r\n```\r\n    /**\r\n\t * Template method called from {@link #hasError(ClientHttpResponse)}.\r\n\t * &lt;p&gt;The default implementation checks {@link HttpStatusCode#isError()}.\r\n\t * Can be overridden in subclasses.\r\n\t * @param statusCode the HTTP status code\r\n\t * @return {@code true} if the response indicates an error; {@code false} otherwise\r\n\t * @see HttpStatusCode#isError()\r\n\t */\r\n    protected boolean hasError(HttpStatusCode statusCode) {\r\n\t\treturn statusCode.isError();\r\n\t}\r\n\r\n    /**\r\n\t * Handle the error based on the resolved status code.\r\n\t *\r\n\t * &lt;p&gt;The default implementation delegates to\r\n\t * {@link HttpClientErrorException#create} for errors in the 4xx range, to\r\n\t * {@link HttpServerErrorException#create} for errors in the 5xx range,\r\n\t * or otherwise raises {@link UnknownHttpStatusCodeException}.\r\n\t * @since 5.0\r\n\t * @see HttpClientErrorException#create\r\n\t * @see HttpServerErrorException#create\r\n\t */\r\n\tprotected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\r\n\t\tString statusText = response.getStatusText();\r\n\t\tHttpHeaders headers = response.getHeaders();\r\n\t\tbyte[] body = getResponseBody(response);\r\n\t\tCharset charset = getCharset(response);\r\n\t\tString message = getErrorMessage(statusCode.value(), statusText, body, charset);\r\n\r\n\t\tRestClientResponseException ex;\r\n\t\tif (statusCode.is4xxClientError()) {\r\n\t\t\tex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n\t\t}\r\n\t\telse if (statusCode.is5xxServerError()) {\r\n\t\t\tex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\r\n\t\t}\r\n\r\n\t\tif (!CollectionUtils.isEmpty(this.messageConverters)) {\r\n\t\t\tex.setBodyConvertFunction(initBodyConvertFunction(response, body));\r\n\t\t}\r\n\r\n\t\tthrow ex;\r\n\t}\r\n\r\n    /**\r\n\t * Read the body of the given response (for inclusion in a status exception).\r\n\t * @param response the response to inspect\r\n\t * @return the response body as a byte array,\r\n\t * or an empty byte array if the body could not be read\r\n\t * @since 4.3.8\r\n\t */\r\n\tprotected byte[] getResponseBody(ClientHttpResponse response) {\r\n\t\ttry {\r\n\t\t\treturn FileCopyUtils.copyToByteArray(response.getBody());\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\treturn new byte[0];\r\n\t}\r\n```\r\nThe reason I created this thread is that I can&#39;t understand how the `getResponseBody` method works...\r\n\r\nOK - to the point. I&#39;ve extended this class to create my implementation of `ResponseErrorHandler` interface. Here it is:\r\n\r\n```\r\npublic class RestTemplateErrorHandler extends DefaultResponseErrorHandler {\r\n\r\n    @Override\r\n    protected boolean hasError(ClientHttpResponse response) {\r\n        getResponseBody(response);\r\n        return super.hasError(response);\r\n    }\r\n\r\n    @Override\r\n    protected void handleError(ClientHttpResponse response) {\r\n        String statusText = response.getStatusText();\r\n        HttpHeaders headers = response.getHeaders();\r\n        byte[] body = &quot;Dummy message&quot;.getBytes(); // &lt;--- ONLY CHANGE COMPARING TO DefaultResponseErrorHandler.handleError\r\n        Charset charset = getCharset(response);\r\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\r\n\r\n        RestClientResponseException ex;\r\n        if (statusCode.is4xxClientError()) {\r\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n        }\r\n        else if (statusCode.is5xxServerError()) {\r\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\r\n        }\r\n        else {\r\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\r\n        }\r\n\r\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\r\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\r\n        }\r\n\r\n        throw ex;\r\n    }\r\n}\r\n```\r\nAs you noticed, I&#39;ve only added `getResponseBody(response)` method call in overriden `hasError` and changed body in the handleError. When I make a `RestTemplate` call, it results in `StreamClosedException` of Apache HttpClient (under-the-hood HTTP client for `RestTemplate`).\r\n\r\nI have no idea why that happens. Why `hasError` does not have an &quot;access&quot; to the `InputStream` of `response.getBody()`? Why is the stream closed there, but works perfectly fine in the **next** method? Also, in Spring Boot&#39;s source code we can also see:\r\n\r\n```\r\n\t/**\r\n\t * Handle the given response, performing appropriate logging and\r\n\t * invoking the {@link ResponseErrorHandler} if necessary.\r\n\t * &lt;p&gt;Can be overridden in subclasses.\r\n\t * @param url the fully-expanded URL to connect to\r\n\t * @param method the HTTP method to execute (GET, POST, etc.)\r\n\t * @param response the resulting {@link ClientHttpResponse}\r\n\t * @throws IOException if propagated from {@link ResponseErrorHandler}\r\n\t * @since 4.1.6\r\n\t * @see #setErrorHandler\r\n\t */\r\n\tprotected void handleResponse(URI url, HttpMethod method, ClientHttpResponse response) throws IOException {\r\n\t\tResponseErrorHandler errorHandler = getErrorHandler();\r\n\t\tboolean hasError = errorHandler.hasError(response);\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\ttry {\r\n\t\t\t\tHttpStatusCode statusCode = response.getStatusCode();\r\n\t\t\t\tlogger.debug(&quot;Response &quot; + statusCode);\r\n\t\t\t}\r\n\t\t\tcatch (IOException ex) {\r\n\t\t\t\tlogger.debug(&quot;Failed to obtain response status code&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (hasError) {\r\n\t\t\terrorHandler.handleError(url, method, response);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n`HasError` is the 1st method to be called, after the request has been made and response retrieved... and the stream is closed. But if the if statement `if(hasError)` is executed, then `handleErrors` *DO* have an access to the `getResponseBody`: stream is not closed and everything works fine. In both cases, it works on the same `ClientHttpResponse` object.\r\n\r\nWhat&#39;s going on here?","title":"getResponseBody(ClientHttpResponse) not quite working in DefaultResponseErrorHandler","body":"<p><code>DefaultResponseErrorHandler</code> has some methods, but I would like to point out only a few of them. From source code:</p>\n<pre><code>    /**\n     * Template method called from {@link #hasError(ClientHttpResponse)}.\n     * &lt;p&gt;The default implementation checks {@link HttpStatusCode#isError()}.\n     * Can be overridden in subclasses.\n     * @param statusCode the HTTP status code\n     * @return {@code true} if the response indicates an error; {@code false} otherwise\n     * @see HttpStatusCode#isError()\n     */\n    protected boolean hasError(HttpStatusCode statusCode) {\n        return statusCode.isError();\n    }\n\n    /**\n     * Handle the error based on the resolved status code.\n     *\n     * &lt;p&gt;The default implementation delegates to\n     * {@link HttpClientErrorException#create} for errors in the 4xx range, to\n     * {@link HttpServerErrorException#create} for errors in the 5xx range,\n     * or otherwise raises {@link UnknownHttpStatusCodeException}.\n     * @since 5.0\n     * @see HttpClientErrorException#create\n     * @see HttpServerErrorException#create\n     */\n    protected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\n        String statusText = response.getStatusText();\n        HttpHeaders headers = response.getHeaders();\n        byte[] body = getResponseBody(response);\n        Charset charset = getCharset(response);\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\n\n        RestClientResponseException ex;\n        if (statusCode.is4xxClientError()) {\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else if (statusCode.is5xxServerError()) {\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else {\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\n        }\n\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\n        }\n\n        throw ex;\n    }\n\n    /**\n     * Read the body of the given response (for inclusion in a status exception).\n     * @param response the response to inspect\n     * @return the response body as a byte array,\n     * or an empty byte array if the body could not be read\n     * @since 4.3.8\n     */\n    protected byte[] getResponseBody(ClientHttpResponse response) {\n        try {\n            return FileCopyUtils.copyToByteArray(response.getBody());\n        }\n        catch (IOException ex) {\n            // ignore\n        }\n        return new byte[0];\n    }\n</code></pre>\n<p>The reason I created this thread is that I can't understand how the <code>getResponseBody</code> method works...</p>\n<p>OK - to the point. I've extended this class to create my implementation of <code>ResponseErrorHandler</code> interface. Here it is:</p>\n<pre><code>public class RestTemplateErrorHandler extends DefaultResponseErrorHandler {\n\n    @Override\n    protected boolean hasError(ClientHttpResponse response) {\n        getResponseBody(response);\n        return super.hasError(response);\n    }\n\n    @Override\n    protected void handleError(ClientHttpResponse response) {\n        String statusText = response.getStatusText();\n        HttpHeaders headers = response.getHeaders();\n        byte[] body = &quot;Dummy message&quot;.getBytes(); // &lt;--- ONLY CHANGE COMPARING TO DefaultResponseErrorHandler.handleError\n        Charset charset = getCharset(response);\n        String message = getErrorMessage(statusCode.value(), statusText, body, charset);\n\n        RestClientResponseException ex;\n        if (statusCode.is4xxClientError()) {\n            ex = HttpClientErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else if (statusCode.is5xxServerError()) {\n            ex = HttpServerErrorException.create(message, statusCode, statusText, headers, body, charset);\n        }\n        else {\n            ex = new UnknownHttpStatusCodeException(message, statusCode.value(), statusText, headers, body, charset);\n        }\n\n        if (!CollectionUtils.isEmpty(this.messageConverters)) {\n            ex.setBodyConvertFunction(initBodyConvertFunction(response, body));\n        }\n\n        throw ex;\n    }\n}\n</code></pre>\n<p>As you noticed, I've only added <code>getResponseBody(response)</code> method call in overriden <code>hasError</code> and changed body in the handleError. When I make a <code>RestTemplate</code> call, it results in <code>StreamClosedException</code> of Apache HttpClient (under-the-hood HTTP client for <code>RestTemplate</code>).</p>\n<p>I have no idea why that happens. Why <code>hasError</code> does not have an &quot;access&quot; to the <code>InputStream</code> of <code>response.getBody()</code>? Why is the stream closed there, but works perfectly fine in the <strong>next</strong> method? Also, in Spring Boot's source code we can also see:</p>\n<pre><code>    /**\n     * Handle the given response, performing appropriate logging and\n     * invoking the {@link ResponseErrorHandler} if necessary.\n     * &lt;p&gt;Can be overridden in subclasses.\n     * @param url the fully-expanded URL to connect to\n     * @param method the HTTP method to execute (GET, POST, etc.)\n     * @param response the resulting {@link ClientHttpResponse}\n     * @throws IOException if propagated from {@link ResponseErrorHandler}\n     * @since 4.1.6\n     * @see #setErrorHandler\n     */\n    protected void handleResponse(URI url, HttpMethod method, ClientHttpResponse response) throws IOException {\n        ResponseErrorHandler errorHandler = getErrorHandler();\n        boolean hasError = errorHandler.hasError(response);\n        if (logger.isDebugEnabled()) {\n            try {\n                HttpStatusCode statusCode = response.getStatusCode();\n                logger.debug(&quot;Response &quot; + statusCode);\n            }\n            catch (IOException ex) {\n                logger.debug(&quot;Failed to obtain response status code&quot;, ex);\n            }\n        }\n        if (hasError) {\n            errorHandler.handleError(url, method, response);\n        }\n    }\n</code></pre>\n<p><code>HasError</code> is the 1st method to be called, after the request has been made and response retrieved... and the stream is closed. But if the if statement <code>if(hasError)</code> is executed, then <code>handleErrors</code> <em>DO</em> have an access to the <code>getResponseBody</code>: stream is not closed and everything works fine. In both cases, it works on the same <code>ClientHttpResponse</code> object.</p>\n<p>What's going on here?</p>\n"},{"tags":["java","git","maven","selenium-webdriver","jenkins"],"answers":[{"tags":[],"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692794900,"creation_date":1692794056,"answer_id":76961405,"question_id":76961325,"body_markdown":"So your logs state:\r\n\r\n&gt; Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder\r\n&gt; findNearestMatch WARNING: Unable to find an exact match for CDP\r\n&gt; version 116, so returning the closest version found: 115\r\n\r\nThis means you need to update your Selenium dependancy, it&#39;s not only your browser version that is in play here.\r\n\r\nAs you can see in the [last two release notes][1], I am guessing that you are running `v4.11.0` of Selenium, you might need to wait for version `v4.12.0` if it&#39;s not available yet to get support for `CDP version 116`...\r\n\r\n&gt; v4.12.0\r\n&gt; ======\r\n&gt; * Supported CDP versions: 85, 114, 115, 116\r\n&gt; \r\n&gt; v4.11.0\r\n&gt; ======\r\n&gt; * Supported CDP versions: 85, 113, 114, 115\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG","title":"Setup breaking in Selenium project in Jenkins but all tests passing","body":"<p>So your logs state:</p>\n<blockquote>\n<p>Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder\nfindNearestMatch WARNING: Unable to find an exact match for CDP\nversion 116, so returning the closest version found: 115</p>\n</blockquote>\n<p>This means you need to update your Selenium dependancy, it's not only your browser version that is in play here.</p>\n<p>As you can see in the <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">last two release notes</a>, I am guessing that you are running <code>v4.11.0</code> of Selenium, you might need to wait for version <code>v4.12.0</code> if it's not available yet to get support for <code>CDP version 116</code>...</p>\n<blockquote>\n<h1>v4.12.0</h1>\n<ul>\n<li>Supported CDP versions: 85, 114, 115, 116</li>\n</ul>\n<h1>v4.11.0</h1>\n<ul>\n<li>Supported CDP versions: 85, 113, 114, 115</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":3454844,"reputation":53,"user_id":2893577,"accept_rate":25,"display_name":"vishalpamnani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692794900,"creation_date":1692793342,"question_id":76961325,"body_markdown":"I have a Selenium Java UI automation freestyle project setup at my local Jenkins and after building it I am facing the error, &quot;Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114. The current browser version is 116.0.5845.96.&quot;\r\n\r\nDue to this error, my setup step is breaking which is eventually making the build unstable but all my tests are passing.\r\n\r\nAttaching the setup step error and the console output as well below:\r\n \r\n\r\n        org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\n    Current browser version is 116.0.5845.96 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome \r\n    Host info: host: &#39;Vishals-MacBook-Air.local&#39;, ip: &#39;2405:201:401d:e834:1d4e:a572:5d7c:4fae%en0&#39;\r\n    Build info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\n    System info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4&#39;, java.version: &#39;11.0.20&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n    \tat com.qa.opencart.factory.DriverFactory.initDriver(DriverFactory.java:47)\r\n    \tat com.qa.opencart.base.BaseTest.setup(BaseTest.java:35)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\r\n    \tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:529)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:497)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\r\n    \tat org.testng.SuiteRunner.access$000(SuiteRunner.java:40)\r\n    \tat org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:489)\r\n    \tat org.testng.internal.thread.ThreadUtil$1.call(ThreadUtil.java:52)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \r\n    \r\n        Started by user Vishal Pamnani\r\n    Running as SYSTEM\r\n    Building in workspace /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job\r\n    The recommended git tool is: NONE\r\n    No credentials specified\r\n     &gt; git rev-parse --resolve-git-dir /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/.git # timeout=10\r\n    Fetching changes from the remote Git repository\r\n     &gt; git config remote.origin.url https://github.com/vishalpamnani/November2022POMSeriesCode # timeout=10\r\n    Fetching upstream changes from https://github.com/vishalpamnani/November2022POMSeriesCode\r\n     &gt; git --version # timeout=10\r\n     &gt; git --version # &#39;git version 2.39.2 (Apple Git-143)&#39;\r\n     &gt; git fetch --tags --force --progress -- https://github.com/vishalpamnani/November2022POMSeriesCode +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n     &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10\r\n    Checking out Revision e1430e2a702e3c86527088e040790422dcc3ca48 (refs/remotes/origin/main)\r\n     &gt; git config core.sparsecheckout # timeout=10\r\n     &gt; git checkout -f e1430e2a702e3c86527088e040790422dcc3ca48 # timeout=10\r\n    Commit message: &quot;added set browser version code in options manager&quot;\r\n     &gt; git rev-list --no-walk 4e661f14c03d38eca0bccbcad65fa7d84e4d500b # timeout=10\r\n    Parsing POMs\r\n    Established TCP socket on 57753\r\n    [OpenCart Automation Job] $ /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home//bin/java -cp /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.14.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.7.0.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven /Users/vishalpamnani/.jenkins/war/WEB-INF/lib/remoting-3107.v665000b_51092.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.14.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.14.jar 57753\r\n    &lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\r\n    Executing Maven:  -B -f /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------&lt; Naveen2023POMSeries:Naveen2023POMSeries &gt;---------------\r\n    [INFO] Building Naveen2023POMSeries 0.0.1-SNAPSHOT\r\n    [INFO]   from pom.xml\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- clean:3.2.0:clean (default-clean) @ Naveen2023POMSeries ---\r\n    [INFO] Deleting /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target\r\n    [INFO] \r\n    [INFO] --- resources:3.3.1:resources (default-resources) @ Naveen2023POMSeries ---\r\n    [INFO] skip non existing resourceDirectory /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/src/main/resources\r\n    [INFO] \r\n    [INFO] --- compiler:3.8.1:compile (default-compile) @ Naveen2023POMSeries ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 14 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/classes\r\n    [INFO] \r\n    [INFO] --- resources:3.3.1:testResources (default-testResources) @ Naveen2023POMSeries ---\r\n    [INFO] Copying 3 resources from src/test/resources to target/test-classes\r\n    [INFO] \r\n    [INFO] --- compiler:3.8.1:testCompile (default-testCompile) @ Naveen2023POMSeries ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 5 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/test-classes\r\n    [INFO] \r\n    [INFO] --- surefire:3.0.0-M1:test (default-test) @ Naveen2023POMSeries ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running TestSuite\r\n    ...\r\n    ... TestNG 6.14.3 by C&#233;dric Beust (cedric@beust.com)\r\n    ...\r\n    \r\n    I am in onStart method Login Page Test\r\n    Test Suite started!\r\n    Browser Name is: chrome\r\n    Aug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 115\r\n    I am in onTestStart method loginPageTitleTeststart\r\n    loginPageTitleTeststarted!\r\n    Login page title is: Account Login\r\n    I am in onTestSuccess method loginPageTitleTestsucceeded\r\n    loginPageTitleTestpassed!\r\n    I am in onTestStart method loginPageURLTeststart\r\n    loginPageURLTeststarted!\r\n    Login page url is: https://naveenautomationlabs.com/opencart/index.php?route=account/login\r\n    I am in onTestSuccess method loginPageURLTestsucceeded\r\n    loginPageURLTestpassed!\r\n    I am in onTestStart method forgotPasswordLinkExistTeststart\r\n    forgotPasswordLinkExistTeststarted!\r\n    I am in onTestSuccess method forgotPasswordLinkExistTestsucceeded\r\n    forgotPasswordLinkExistTestpassed!\r\n    I am in onTestStart method loginTeststart\r\n    loginTeststarted!\r\n    App credentials are: best@yopmail.com : Trying@123\r\n    I am in onTestSuccess method loginTestsucceeded\r\n    loginTestpassed!\r\n    I am in onFinish method Login Page Test\r\n    Test Suite is ending!\r\n    log4j:WARN No appenders could be found for logger (freemarker.cache).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    [INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.816 s - in TestSuite\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [JENKINS] Recording test results\r\n    [INFO] \r\n    [INFO] --- jar:3.3.0:jar (default-jar) @ Naveen2023POMSeries ---\r\n    [INFO] Building jar: /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    [INFO] \r\n    [INFO] --- install:3.1.1:install (default-install) @ Naveen2023POMSeries ---\r\n    [INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\r\n    [INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  13.469 s\r\n    [INFO] Finished at: 2023-08-23T16:15:12+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    Waiting for Jenkins to finish collecting data\r\n    [JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\r\n    [JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\r\n    channel stopped\r\n    [OpenCart Automation Job] $ /Users/vishalpamnani/.jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure/bin/allure generate &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history/history&quot; -c -o &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report&quot;\r\n    Report successfully generated to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report\r\n    Allure report was successfully generated.\r\n    Creating artifact for the build.\r\n    Artifact was added to the build.\r\n    Build step &#39;Allure Report&#39; changed build result to UNSTABLE\r\n    [htmlpublisher] Archiving HTML reports...\r\n    [htmlpublisher] Archiving at BUILD level /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/reports to /Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/htmlreports/Extent_20HTML_20Report\r\n    TestNG Reports Processing: START\r\n    Looking for TestNG results report in workspace using pattern: **/testng-results.xml\r\n    Saving reports...\r\n    Processing &#39;/Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/testng/testng-results.xml&#39;\r\n    TestNG Reports Processing: FINISH\r\n    Finished: UNSTABLE\r\n\r\n","title":"Setup breaking in Selenium project in Jenkins but all tests passing","body":"<p>I have a Selenium Java UI automation freestyle project setup at my local Jenkins and after building it I am facing the error, &quot;Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114. The current browser version is 116.0.5845.96.&quot;</p>\n<p>Due to this error, my setup step is breaking which is eventually making the build unstable but all my tests are passing.</p>\n<p>Attaching the setup step error and the console output as well below:</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.96 with binary path /Applications/Google Chrome.app/Contents/MacOS/Google Chrome \nHost info: host: 'Vishals-MacBook-Air.local', ip: '2405:201:401d:e834:1d4e:a572:5d7c:4fae%en0'\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4', java.version: '11.0.20'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:148)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n    at com.qa.opencart.factory.DriverFactory.initDriver(DriverFactory.java:47)\n    at com.qa.opencart.base.BaseTest.setup(BaseTest.java:35)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:59)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:458)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:222)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:529)\n    at org.testng.TestRunner.run(TestRunner.java:497)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)\n    at org.testng.SuiteRunner.access$000(SuiteRunner.java:40)\n    at org.testng.SuiteRunner$SuiteWorker.run(SuiteRunner.java:489)\n    at org.testng.internal.thread.ThreadUtil$1.call(ThreadUtil.java:52)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n\n    Started by user Vishal Pamnani\nRunning as SYSTEM\nBuilding in workspace /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job\nThe recommended git tool is: NONE\nNo credentials specified\n &gt; git rev-parse --resolve-git-dir /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/.git # timeout=10\nFetching changes from the remote Git repository\n &gt; git config remote.origin.url https://github.com/vishalpamnani/November2022POMSeriesCode # timeout=10\nFetching upstream changes from https://github.com/vishalpamnani/November2022POMSeriesCode\n &gt; git --version # timeout=10\n &gt; git --version # 'git version 2.39.2 (Apple Git-143)'\n &gt; git fetch --tags --force --progress -- https://github.com/vishalpamnani/November2022POMSeriesCode +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10\nChecking out Revision e1430e2a702e3c86527088e040790422dcc3ca48 (refs/remotes/origin/main)\n &gt; git config core.sparsecheckout # timeout=10\n &gt; git checkout -f e1430e2a702e3c86527088e040790422dcc3ca48 # timeout=10\nCommit message: &quot;added set browser version code in options manager&quot;\n &gt; git rev-list --no-walk 4e661f14c03d38eca0bccbcad65fa7d84e4d500b # timeout=10\nParsing POMs\nEstablished TCP socket on 57753\n[OpenCart Automation Job] $ /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home//bin/java -cp /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-agent-1.14.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/boot/plexus-classworlds-2.7.0.jar:/Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven/conf/logging jenkins.maven3.agent.Maven35Main /Users/vishalpamnani/.jenkins/tools/hudson.tasks.Maven_MavenInstallation/maven /Users/vishalpamnani/.jenkins/war/WEB-INF/lib/remoting-3107.v665000b_51092.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven35-interceptor-1.14.jar /Users/vishalpamnani/.jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.14.jar 57753\n&lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started\nExecuting Maven:  -B -f /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml clean install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------&lt; Naveen2023POMSeries:Naveen2023POMSeries &gt;---------------\n[INFO] Building Naveen2023POMSeries 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- clean:3.2.0:clean (default-clean) @ Naveen2023POMSeries ---\n[INFO] Deleting /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target\n[INFO] \n[INFO] --- resources:3.3.1:resources (default-resources) @ Naveen2023POMSeries ---\n[INFO] skip non existing resourceDirectory /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/src/main/resources\n[INFO] \n[INFO] --- compiler:3.8.1:compile (default-compile) @ Naveen2023POMSeries ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 14 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/classes\n[INFO] \n[INFO] --- resources:3.3.1:testResources (default-testResources) @ Naveen2023POMSeries ---\n[INFO] Copying 3 resources from src/test/resources to target/test-classes\n[INFO] \n[INFO] --- compiler:3.8.1:testCompile (default-testCompile) @ Naveen2023POMSeries ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 5 source files to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/test-classes\n[INFO] \n[INFO] --- surefire:3.0.0-M1:test (default-test) @ Naveen2023POMSeries ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running TestSuite\n...\n... TestNG 6.14.3 by Cédric Beust (cedric@beust.com)\n...\n\nI am in onStart method Login Page Test\nTest Suite started!\nBrowser Name is: chrome\nAug 23, 2023 4:15:07 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 115\nI am in onTestStart method loginPageTitleTeststart\nloginPageTitleTeststarted!\nLogin page title is: Account Login\nI am in onTestSuccess method loginPageTitleTestsucceeded\nloginPageTitleTestpassed!\nI am in onTestStart method loginPageURLTeststart\nloginPageURLTeststarted!\nLogin page url is: https://naveenautomationlabs.com/opencart/index.php?route=account/login\nI am in onTestSuccess method loginPageURLTestsucceeded\nloginPageURLTestpassed!\nI am in onTestStart method forgotPasswordLinkExistTeststart\nforgotPasswordLinkExistTeststarted!\nI am in onTestSuccess method forgotPasswordLinkExistTestsucceeded\nforgotPasswordLinkExistTestpassed!\nI am in onTestStart method loginTeststart\nloginTeststarted!\nApp credentials are: best@yopmail.com : Trying@123\nI am in onTestSuccess method loginTestsucceeded\nloginTestpassed!\nI am in onFinish method Login Page Test\nTest Suite is ending!\nlog4j:WARN No appenders could be found for logger (freemarker.cache).\nlog4j:WARN Please initialize the log4j system properly.\n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.816 s - in TestSuite\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[JENKINS] Recording test results\n[INFO] \n[INFO] --- jar:3.3.0:jar (default-jar) @ Naveen2023POMSeries ---\n[INFO] Building jar: /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\n[INFO] \n[INFO] --- install:3.1.1:install (default-install) @ Naveen2023POMSeries ---\n[INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\n[INFO] Installing /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to /Users/vishalpamnani/.m2/repository/Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  13.469 s\n[INFO] Finished at: 2023-08-23T16:15:12+05:30\n[INFO] ------------------------------------------------------------------------\nWaiting for Jenkins to finish collecting data\n[JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/pom.xml to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.pom\n[JENKINS] Archiving /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/target/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar to Naveen2023POMSeries/Naveen2023POMSeries/0.0.1-SNAPSHOT/Naveen2023POMSeries-0.0.1-SNAPSHOT.jar\nchannel stopped\n[OpenCart Automation Job] $ /Users/vishalpamnani/.jenkins/tools/ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation/allure/bin/allure generate &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history&quot; &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-results/history/history/history/history/history/history/history/history/history/history&quot; -c -o &quot;/Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report&quot;\nReport successfully generated to /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/allure-report\nAllure report was successfully generated.\nCreating artifact for the build.\nArtifact was added to the build.\nBuild step 'Allure Report' changed build result to UNSTABLE\n[htmlpublisher] Archiving HTML reports...\n[htmlpublisher] Archiving at BUILD level /Users/vishalpamnani/.jenkins/workspace/OpenCart Automation Job/reports to /Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/htmlreports/Extent_20HTML_20Report\nTestNG Reports Processing: START\nLooking for TestNG results report in workspace using pattern: **/testng-results.xml\nSaving reports...\nProcessing '/Users/vishalpamnani/.jenkins/jobs/OpenCart Automation Job/builds/16/testng/testng-results.xml'\nTestNG Reports Processing: FINISH\nFinished: UNSTABLE\n</code></pre>\n"},{"tags":["java","android","google-ads-api"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1692832804,"post_id":76961151,"comment_id":135679328,"body_markdown":"What is the error exactly?","body":"What is the error exactly?"},{"owner":{"account_id":29250126,"reputation":11,"user_id":22409668,"display_name":"Sinan_KECE"},"score":0,"creation_date":1692955926,"post_id":76961151,"comment_id":135698173,"body_markdown":"error is adSize adSize attribute not found","body":"error is adSize adSize attribute not found"}],"owner":{"account_id":29250126,"reputation":11,"user_id":22409668,"display_name":"Sinan_KECE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692794843,"creation_date":1692792045,"question_id":76961151,"body_markdown":"\r\n```\r\nAdRequest adRequest = new AdRequest.Builder()\r\n                .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\r\n                .build();\r\n\r\n        adView.loadAd(adRequest);\r\n```\r\n\r\n    ads:adSize=&quot;BANNER&quot;\r\n\r\nads code is errorring\r\n\r\nThis is the Code But .addTestDevice is erroring how can ı add addTestDevice\r\nThis is the code thanks","title":"How to add a addTestDevice in Android studio","body":"<pre><code>AdRequest adRequest = new AdRequest.Builder()\n                .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\n                .build();\n\n        adView.loadAd(adRequest);\n</code></pre>\n<pre><code>ads:adSize=&quot;BANNER&quot;\n</code></pre>\n<p>ads code is errorring</p>\n<p>This is the Code But .addTestDevice is erroring how can ı add addTestDevice\nThis is the code thanks</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":218391,"reputation":3815,"user_id":474693,"accept_rate":67,"display_name":"Jong Bor Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314309375,"creation_date":1314309375,"answer_id":7197717,"question_id":7197618,"body_markdown":"This should give the desired output.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;abc     123 xyz&quot;;\r\n    \t\tString[] result = s.split(&quot;\\\\s+&quot;,2);\r\n    \t\tSystem.out.println(&quot;Result: &quot;+result[1]);\r\n    \t}\r\n    }","title":"How do I get the remaining text after the first occurrence of a word following whitespace?","body":"<p>This should give the desired output.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String s = \"abc     123 xyz\";\n        String[] result = s.split(\"\\\\s+\",2);\n        System.out.println(\"Result: \"+result[1]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":774236,"reputation":1,"user_id":913024,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692794330,"creation_date":1314308846,"question_id":7197618,"body_markdown":"Example:\r\n\r\n&lt;pre&gt;abc     123 xyz&lt;/pre&gt;\r\n\r\nExpected result:\r\n\r\n&lt;pre&gt;123 xyz&lt;/pre&gt;\r\n\r\nThe two strings could be separated by one or more whitespace characters. The text is abritary and there is no guarantee to the number of whitespace and non-whitespace characters.\r\n\r\n","title":"How do I get the remaining text after the first occurrence of a word following whitespace?","body":"<p>Example:</p>\n\n<pre>abc     123 xyz</pre>\n\n<p>Expected result:</p>\n\n<pre>123 xyz</pre>\n\n<p>The two strings could be separated by one or more whitespace characters. The text is abritary and there is no guarantee to the number of whitespace and non-whitespace characters.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1319426535,"post_id":7871007,"comment_id":9603314,"body_markdown":"Are you constructing a separate Matcher for each line, or one for the entire contents of the file, or something else? Some code would be nice.","body":"Are you constructing a separate Matcher for each line, or one for the entire contents of the file, or something else? Some code would be nice."},{"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"score":0,"creation_date":1319426765,"post_id":7871007,"comment_id":9603339,"body_markdown":"no not separate matcher for each line. one for the entire file right now.  and loop through finding all text using this regex = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot; let me see if I can simplify some code to post","body":"no not separate matcher for each line. one for the entire file right now.  and loop through finding all text using this regex = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot; let me see if I can simplify some code to post"}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319426559,"creation_date":1319426559,"answer_id":7871021,"question_id":7871007,"body_markdown":"You need to separately create an array of the indexes where each line starts, and then you can use this array together with the index returned by `start()` to figure out which line your match is on. A binary search of that line index array would do nicely. You could actually create this list of line indexes also by using a regex that matches a line end (matching just &#39;\\n&#39; would be fine) and then starting each line at the next character.","title":"get line number within matcher.find() using matcher.start()","body":"<p>You need to separately create an array of the indexes where each line starts, and then you can use this array together with the index returned by <code>start()</code> to figure out which line your match is on. A binary search of that line index array would do nicely. You could actually create this list of line indexes also by using a regex that matches a line end (matching just '\\n' would be fine) and then starting each line at the next character.</p>\n"},{"tags":[],"owner":{"account_id":5160313,"reputation":614,"user_id":4132230,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413029248,"creation_date":1413029248,"answer_id":26314471,"question_id":7871007,"body_markdown":"You can use a reverse method to get line number by creating a region from 0 to character number returned from start().\r\n\r\nFor example,\r\n\r\n    class MatchTest {\r\n   \tpublic static void main(String...args) {\r\n   \t\ttry {\r\n   \t\t\tFileInputStream fis = new FileInputStream(&quot;source.txt&quot;);\r\n   \t\t\tbyte[] buffer = new byte[fis.available()];\r\n   \t\t\tfis.read(buffer);\r\n   \t\t\tString data = new String(buffer);\r\n   \t\t\tfis.close();\r\n   \r\n   \t\t\t\t\t\r\n   \t\t\tPattern pattern = Pattern.compile(args[0]);\r\n   \t\t\tMatcher matcher = pattern.matcher(data);\r\n   \t\t\twhile(matcher.find()) {\r\n   \t\t\t\tout.println(matcher.group());\r\n   \t\t\t\tout.println(getLine(data, matcher.start()));\r\n   \r\n   \t\t\t\t\r\n   \t\t\t}\r\n   \t\t}\r\n   \t\tcatch(Exception e) {\r\n   \t\t\te.printStackTrace();\r\n   \t\t}\r\n   \t}\r\n   \r\n   \tstatic int getLine(String data, int start) {\r\n   \t\tint line = 1;\r\n   \t\tPattern pattern = Pattern.compile(&quot;\\n&quot;);\r\n   \t\tMatcher matcher = pattern.matcher(data);\r\n   \t\tmatcher.region(0, start);\r\n   \t\twhile(matcher.find()) {\r\n   \t\t\tline++;\r\n   \t\t}\r\n   \t\treturn(line);\r\n   \t}\r\n   }\r\n\r\nHere, the getLine method will return line number.","title":"get line number within matcher.find() using matcher.start()","body":"<p>You can use a reverse method to get line number by creating a region from 0 to character number returned from start().</p>\n\n<p>For example,</p>\n\n<pre><code>class MatchTest {\npublic static void main(String...args) {\n    try {\n        FileInputStream fis = new FileInputStream(\"source.txt\");\n        byte[] buffer = new byte[fis.available()];\n        fis.read(buffer);\n        String data = new String(buffer);\n        fis.close();\n\n\n        Pattern pattern = Pattern.compile(args[0]);\n        Matcher matcher = pattern.matcher(data);\n        while(matcher.find()) {\n            out.println(matcher.group());\n            out.println(getLine(data, matcher.start()));\n\n\n        }\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n\nstatic int getLine(String data, int start) {\n    int line = 1;\n    Pattern pattern = Pattern.compile(\"\\n\");\n    Matcher matcher = pattern.matcher(data);\n    matcher.region(0, start);\n    while(matcher.find()) {\n        line++;\n    }\n    return(line);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here, the getLine method will return line number.</p>\n"}],"owner":{"account_id":446533,"reputation":550,"user_id":839628,"accept_rate":86,"display_name":"Pengume"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7871021,"answer_count":2,"score":2,"last_activity_date":1692793956,"creation_date":1319426276,"question_id":7871007,"body_markdown":"I am using `while(matcher.find())` to loop through and retrieve things from a file. I was wondering how would I get a line number from within this loop, if I knew the index of what I have found is at `matcher.start()`.\r\n\r\nI am confused, could someone please explain? \r\n\r\n     String expr = &quot;&lt;[^&lt;?!&gt;]+&gt;&quot;;\r\n\t\t String[] response = new String[5];\r\n\t\t   \r\n\t\t    Pattern p = Pattern.compile(expr);\r\n\t\t    Matcher m = p.matcher(xmlDocument);\r\n\t\t    while (m.find()) {\r\n\t\t    //\tSystem.out.println(m.group() + &quot; located at &quot; + m.start());\r\n\t\t   //   txtMatches.append(m.group() + &quot; located at &quot; + m.start() + &quot;\\n&quot;);\r\n\t\t    \tif (itemStack.getCount() == 0 &amp;&amp; m.group().contains(&quot;&lt;/&quot;)) {\r\n\t\t    \t\tresponse[0] = &quot;Orphan closing tag&quot; ; \r\n\t\t    \t\tresponse[1] = stripUnwantedChars(m.group(), true); \r\n\t\t    \t\tresponse[2] =  String.valueOf(m.start()); //right here is where i want to return line number\r\n\t\t    \t\treturn response; \r\n\t\t    \t}\r\n            //rest of code\r\n\r\n`itemStack` is a stack of pushed matches and then I am comparing them to see if there is no more items in the stack but there is a match with a closing tag.","title":"get line number within matcher.find() using matcher.start()","body":"<p>I am using <code>while(matcher.find())</code> to loop through and retrieve things from a file. I was wondering how would I get a line number from within this loop, if I knew the index of what I have found is at <code>matcher.start()</code>.</p>\n\n<p>I am confused, could someone please explain? </p>\n\n<pre><code> String expr = \"&lt;[^&lt;?!&gt;]+&gt;\";\n     String[] response = new String[5];\n\n        Pattern p = Pattern.compile(expr);\n        Matcher m = p.matcher(xmlDocument);\n        while (m.find()) {\n        //  System.out.println(m.group() + \" located at \" + m.start());\n       //   txtMatches.append(m.group() + \" located at \" + m.start() + \"\\n\");\n            if (itemStack.getCount() == 0 &amp;&amp; m.group().contains(\"&lt;/\")) {\n                response[0] = \"Orphan closing tag\" ; \n                response[1] = stripUnwantedChars(m.group(), true); \n                response[2] =  String.valueOf(m.start()); //right here is where i want to return line number\n                return response; \n            }\n        //rest of code\n</code></pre>\n\n<p><code>itemStack</code> is a stack of pushed matches and then I am comparing them to see if there is no more items in the stack but there is a match with a closing tag.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":208799,"reputation":18960,"user_id":459517,"accept_rate":83,"display_name":"Robbie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1334350284,"creation_date":1334311516,"answer_id":10138885,"question_id":10138828,"body_markdown":"Your regular expression matches either a single digit, OR any single char that is NOT a word OR any single char that is a white space char.\r\n\r\nAny of those three alternatives must start at the beginning of the subject because you have `^` in each alternation.\r\n\r\nBased on your description, i think you want an expression like this:\r\n\r\n    ^[\\w#$]+$\r\n\r\nWhich will match anything containing one or more word characters `[A-Za-z0-9_]`, hash `#`, and dollar `$`. Word characters do not include spaces, so this should work.\r\n\r\nI&#39;ve added anchors `^` and `$` which ensure that it only matches the whole string (is this what you want?) If you just want it to match at the beginning as in your example, then remove the `$`.\r\n\r\nNote that as in your example, you will need to escape the `\\` in your java code like this:\r\n\r\n    Pattern p = Pattern.compile(&quot;^[\\\\w#$]+$&quot;);\r\n\r\n    ","title":"Java Regular Expression","body":"<p>Your regular expression matches either a single digit, OR any single char that is NOT a word OR any single char that is a white space char.</p>\n\n<p>Any of those three alternatives must start at the beginning of the subject because you have <code>^</code> in each alternation.</p>\n\n<p>Based on your description, i think you want an expression like this:</p>\n\n<pre><code>^[\\w#$]+$\n</code></pre>\n\n<p>Which will match anything containing one or more word characters <code>[A-Za-z0-9_]</code>, hash <code>#</code>, and dollar <code>$</code>. Word characters do not include spaces, so this should work.</p>\n\n<p>I've added anchors <code>^</code> and <code>$</code> which ensure that it only matches the whole string (is this what you want?) If you just want it to match at the beginning as in your example, then remove the <code>$</code>.</p>\n\n<p>Note that as in your example, you will need to escape the <code>\\</code> in your java code like this:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^[\\\\w#$]+$\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334311715,"creation_date":1334311715,"answer_id":10138922,"question_id":10138828,"body_markdown":"To add to other answers: I think you are looking for a pattern like `&quot;^\\\\S*$&quot;`, which means: match any number of non-space characters (`\\\\S*`) from beginning (`^`) to the end (`$`).","title":"Java Regular Expression","body":"<p>To add to other answers: I think you are looking for a pattern like <code>\"^\\\\S*$\"</code>, which means: match any number of non-space characters (<code>\\\\S*</code>) from beginning (<code>^</code>) to the end (<code>$</code>).</p>\n"}],"owner":{"account_id":185612,"reputation":10597,"user_id":422437,"accept_rate":84,"display_name":"Sandeep Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10138885,"answer_count":2,"score":1,"last_activity_date":1692793824,"creation_date":1334311309,"question_id":10138828,"body_markdown":"I have a below peace of code :\r\n\r\n         Pattern p = Pattern.compile(&quot;^\\\\d|^\\\\W|^\\\\s&quot;);\r\n         Matcher m = p.matcher(&quot;stack overflow&quot;);\r\n\r\nCan somebody explain the above regex pattern ? What it does ? \r\nI have to make it not allow spaces in between with the existing functionality .e.g. it should not allow &quot;stack overflow &quot; since it contains spaces . \r\n\r\n**EDIT**\r\n\r\n\r\nBelow  pattern I tried is working fine for me . Thanks all for your suggestion:\r\n   \r\n\r\n    [a-zA-Z0-9_$#]\r\n\r\n","title":"Java Regular Expression","body":"<p>I have a below peace of code :</p>\n\n<pre><code>     Pattern p = Pattern.compile(\"^\\\\d|^\\\\W|^\\\\s\");\n     Matcher m = p.matcher(\"stack overflow\");\n</code></pre>\n\n<p>Can somebody explain the above regex pattern ? What it does ? \nI have to make it not allow spaces in between with the existing functionality .e.g. it should not allow \"stack overflow \" since it contains spaces . </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Below  pattern I tried is working fine for me . Thanks all for your suggestion:</p>\n\n<pre><code>[a-zA-Z0-9_$#]\n</code></pre>\n"},{"tags":["java","regex","newline"],"comments":[{"owner":{"account_id":411534,"reputation":2703,"user_id":784043,"accept_rate":50,"display_name":"RokL"},"score":0,"creation_date":1333107709,"post_id":9942036,"comment_id":12693740,"body_markdown":"You should change `      itemLines.append(text.substring(matcher.start(), matcher.end())\n                + &quot;\\n&quot;);` to `itemLines.append(matcher.group()); itemLines.append(&#39;\\n&#39;);`\n\nYou shouldn&#39;t do string concatenations using + when you have string buffer at hand. Also I would use StringBuilder instead of StringBuffer.","body":"You should change `      itemLines.append(text.substring(matcher.start(), matcher.end())                 + &quot;\\n&quot;);` to <code>itemLines.append(matcher.group()); itemLines.append(&#39;\\n&#39;);</code>  You shouldn&#39;t do string concatenations using + when you have string buffer at hand. Also I would use StringBuilder instead of StringBuffer."}],"answers":[{"tags":[],"owner":{"account_id":1266891,"reputation":9885,"user_id":1224016,"accept_rate":80,"display_name":"Michał Kosmulski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333107085,"creation_date":1333107085,"answer_id":9942105,"question_id":9942036,"body_markdown":"Use `Pattern.compile(patternHolder, Pattern.DOTALL)` to compile the pattern. This way the dot will match the newline. By default, newline is treated in a special way and not matched by the dot.","title":"Pattern/Matcher in Java?","body":"<p>Use <code>Pattern.compile(patternHolder, Pattern.DOTALL)</code> to compile the pattern. This way the dot will match the newline. By default, newline is treated in a special way and not matched by the dot.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1333122678,"creation_date":1333107135,"answer_id":9942117,"question_id":9942036,"body_markdown":"Use this instead:\n\n    Pattern.compile(patternHolder, Pattern.DOTALL);\n\nFrom the [javadoc][1], the `DOTALL` flag means:\n\n&gt; Enables dotall mode.\n&gt;\n&gt; In dotall mode, the expression . matches any character, including a line terminator. By default this expression does not match line terminators.\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Pattern/Matcher in Java?","body":"<p>Use this instead:</p>\n<pre><code>Pattern.compile(patternHolder, Pattern.DOTALL);\n</code></pre>\n<p>From the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"noreferrer\">javadoc</a>, the <code>DOTALL</code> flag means:</p>\n<blockquote>\n<p>Enables dotall mode.</p>\n<p>In dotall mode, the expression . matches any character, including a line terminator. By default this expression does not match line terminators.</p>\n</blockquote>\n"}],"owner":{"account_id":989343,"reputation":3301,"user_id":1007059,"accept_rate":77,"display_name":"ZimZim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9942117,"answer_count":2,"score":3,"last_activity_date":1692793816,"creation_date":1333106801,"question_id":9942036,"body_markdown":"I have a certain text in Java, and I want to use pattern and matcher to extract something from it. This is my program: \r\n\r\n    public String getItemsByType(String text, String start, String end) {\r\n\r\n\t\tString patternHolder;\r\n\t\tStringBuffer itemLines = new StringBuffer();\r\n\r\n\t\tpatternHolder = start + &quot;.*&quot; + end;\r\n\r\n\t\tPattern pattern = Pattern.compile(patternHolder);\r\n\t\tMatcher matcher = pattern.matcher(text);\r\n\r\n\t\twhile (matcher.find()) {\r\n\t\t\titemLines.append(text.substring(matcher.start(), matcher.end())\r\n\t\t\t\t\t+ &quot;\\n&quot;);\r\n\t\t}\r\n\r\n\t\treturn itemLines.toString();\r\n\t}\r\n\r\nThis code works fully WHEN the searched text is on the same line, for instance: \r\n\r\n    String text = &quot;My name is John and I am 18 years Old&quot;; \r\n    \r\n    getItemsByType(text, &quot;My&quot;, &quot;John&quot;);\r\n\r\nimmediately grabs the text &quot;My name is John&quot; out of the text. However, when my text looks like this: \r\n\r\n    String text = &quot;My name\\nis John\\nand I&#39;m\\n18 years\\nold&quot;; \r\n    \r\n    getItemsByType(text, &quot;My&quot;, &quot;John&quot;); \r\n\r\nIt doesn&#39;t grab anything, since &quot;My&quot; and &quot;John&quot; are on different lines. How do I solve this? ","title":"Pattern/Matcher in Java?","body":"<p>I have a certain text in Java, and I want to use pattern and matcher to extract something from it. This is my program: </p>\n\n<pre><code>public String getItemsByType(String text, String start, String end) {\n\n    String patternHolder;\n    StringBuffer itemLines = new StringBuffer();\n\n    patternHolder = start + \".*\" + end;\n\n    Pattern pattern = Pattern.compile(patternHolder);\n    Matcher matcher = pattern.matcher(text);\n\n    while (matcher.find()) {\n        itemLines.append(text.substring(matcher.start(), matcher.end())\n                + \"\\n\");\n    }\n\n    return itemLines.toString();\n}\n</code></pre>\n\n<p>This code works fully WHEN the searched text is on the same line, for instance: </p>\n\n<pre><code>String text = \"My name is John and I am 18 years Old\"; \n\ngetItemsByType(text, \"My\", \"John\");\n</code></pre>\n\n<p>immediately grabs the text \"My name is John\" out of the text. However, when my text looks like this: </p>\n\n<pre><code>String text = \"My name\\nis John\\nand I'm\\n18 years\\nold\"; \n\ngetItemsByType(text, \"My\", \"John\"); \n</code></pre>\n\n<p>It doesn't grab anything, since \"My\" and \"John\" are on different lines. How do I solve this? </p>\n"},{"tags":["java","regex","parsing","key-value"],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234102,"creation_date":1332234102,"answer_id":9783849,"question_id":9783733,"body_markdown":"    StringBuffer s = new StringBuffer(&quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;);\r\n\tint i = s.indexOf(&quot;ID2&quot;);\r\n\ts.insert(i, &quot;\\n&quot;);\r\n\ti = s.indexOf(&quot;TYPE&quot;);\r\n\ts.insert(i, &quot;\\n&quot;);\r\n        //............The rest code for other keywords\r\n\r\nNOTE: This is just a temporary solution what I know, there may be some more efficient logic.","title":"How do I parse a log line in Java delimited by keywords?","body":"<pre><code>StringBuffer s = new StringBuffer(\"ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\");\nint i = s.indexOf(\"ID2\");\ns.insert(i, \"\\n\");\ni = s.indexOf(\"TYPE\");\ns.insert(i, \"\\n\");\n    //............The rest code for other keywords\n</code></pre>\n\n<p>NOTE: This is just a temporary solution what I know, there may be some more efficient logic.</p>\n"},{"tags":[],"owner":{"account_id":312289,"reputation":90997,"user_id":626273,"accept_rate":92,"display_name":"stema"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1332234531,"creation_date":1332234531,"answer_id":9783947,"question_id":9783733,"body_markdown":"The main problem in your expression are the square brackets, they create a [character class][1], this matches exactly one character from those inside.\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\r\n                                                        ^                                  ^\r\n\r\nI made the alternation at the end also a [positive lookahead assertion][2] (The group starting with `?=`), so this is not matched, just ensured that one of those alternatives are ahead. I added also the end of the string `$` to the alternation.\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*(?=ID1|ID2|TYPE|DATE|CLASS|SUBCLASS|$)\r\n\r\nSee it [here on Regexr][3], a good tool to test regular expressions!\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/charclass.html\r\n  [2]: http://www.regular-expressions.info/lookaround.html\r\n  [3]: http://regexr.com?30ch8","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>The main problem in your expression are the square brackets, they create a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">character class</a>, this matches exactly one character from those inside.</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\n                                                    ^                                  ^\n</code></pre>\n\n<p>I made the alternation at the end also a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">positive lookahead assertion</a> (The group starting with <code>?=</code>), so this is not matched, just ensured that one of those alternatives are ahead. I added also the end of the string <code>$</code> to the alternation.</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*(?=ID1|ID2|TYPE|DATE|CLASS|SUBCLASS|$)\n</code></pre>\n\n<p>See it <a href=\"http://regexr.com?30ch8\" rel=\"nofollow\">here on Regexr</a>, a good tool to test regular expressions!</p>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332234578,"creation_date":1332234578,"answer_id":9783952,"question_id":9783733,"body_markdown":"You can try this :\n\n            String s = &quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;;  \n            Pattern pattern = Pattern.compile(&quot;(ID1 :\\\\s+\\\\d+|ID2 :\\\\s+\\\\d+|TYPE :\\\\s+\\\\w+|DATE :\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}|CLASS :\\\\s+\\\\w+|SUBCLASS :\\\\s+\\\\w+)&quot;);  \n            Matcher matcher = pattern.matcher(s); \n            String res=&quot;&quot;;\n            while(matcher.find()){\n                res+=matcher.group(0)+System.getProperty(&quot;line.separator&quot;);\n            }\n            System.out.println(res);\n\n\nI assume ID and ID2 are only digits and TYPE, CLASS, SUBCLASS are words.\n\n**Output**\n&gt;ID1 : 0\n&gt;\n&gt;ID2 : 214\n&gt;\n&gt;TYPE : ERROR\n&gt;\n&gt;DATE : 2012-01-11 14:08:07.432\n&gt;\n&gt;CLASS : Maintenance\n&gt;\n&gt;SUBCLASS : Operations","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>You can try this :</p>\n<pre><code>        String s = &quot;ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations&quot;;  \n        Pattern pattern = Pattern.compile(&quot;(ID1 :\\\\s+\\\\d+|ID2 :\\\\s+\\\\d+|TYPE :\\\\s+\\\\w+|DATE :\\\\s+\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}|CLASS :\\\\s+\\\\w+|SUBCLASS :\\\\s+\\\\w+)&quot;);  \n        Matcher matcher = pattern.matcher(s); \n        String res=&quot;&quot;;\n        while(matcher.find()){\n            res+=matcher.group(0)+System.getProperty(&quot;line.separator&quot;);\n        }\n        System.out.println(res);\n</code></pre>\n<p>I assume ID and ID2 are only digits and TYPE, CLASS, SUBCLASS are words.</p>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>ID1 : 0</p>\n<p>ID2 : 214</p>\n<p>TYPE : ERROR</p>\n<p>DATE : 2012-01-11 14:08:07.432</p>\n<p>CLASS : Maintenance</p>\n<p>SUBCLASS : Operations</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1230248,"reputation":337,"user_id":1195001,"accept_rate":92,"display_name":"Kiwy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234828,"creation_date":1332234828,"answer_id":9783997,"question_id":9783733,"body_markdown":"You could probably use a regex like this: &quot;(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*&quot;\r\nand use a patern matcher this way:\r\n     \r\n     Pattern p = Pattern.compile(&quot;(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*&quot;);\r\n     Matcher matcher = pattern.matcher(s); \r\n        \r\n     while(matcher.find()){\r\n         //your couple &quot;properties + : + value&quot;\r\n         System.out.println( matcher.group(0) );\r\n         //your properties\r\n         System.out.println( matcher.group(1) );\r\n         //your value\r\n         System.out.println( matcher.group(2) );\r\n     }\r\n\r\n ","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>You could probably use a regex like this: \"(\\w*)\\s\\:\\s([\\w\\.\\-\\,]<em>)\\s</em>\"\nand use a patern matcher this way:</p>\n\n<pre><code> Pattern p = Pattern.compile(\"(\\\\w*)\\\\s\\\\:\\\\s([\\\\w\\\\.\\\\-\\\\,]*)\\\\s*\");\n Matcher matcher = pattern.matcher(s); \n\n while(matcher.find()){\n     //your couple \"properties + : + value\"\n     System.out.println( matcher.group(0) );\n     //your properties\n     System.out.println( matcher.group(1) );\n     //your value\n     System.out.println( matcher.group(2) );\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1329238,"reputation":46,"user_id":1273466,"display_name":"fanzhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332234952,"creation_date":1332234952,"answer_id":9784020,"question_id":9783733,"body_markdown":"    public static String format(String line) {\r\n\t\treturn\r\n\t\tline.replaceFirst(&quot;ID2&quot;, &quot;\\nID2&quot;)\r\n\t\t.replaceFirst(&quot;ID1&quot;, &quot;\\nID1&quot;)\r\n\t\t.replaceFirst(&quot;TYPE&quot;, &quot;\\nTYPE&quot;)\r\n\t\t.replaceFirst(&quot;DATE&quot;, &quot;\\nDATE&quot;)\r\n\t\t.replaceFirst(&quot;CLASS&quot;, &quot;\\nCLASS&quot;)\r\n\t\t.replaceFirst(&quot;SUBCLASS&quot;, &quot;\\nSUBCLASS&quot;);\r\n\t}","title":"How do I parse a log line in Java delimited by keywords?","body":"<pre><code>public static String format(String line) {\n    return\n    line.replaceFirst(\"ID2\", \"\\nID2\")\n    .replaceFirst(\"ID1\", \"\\nID1\")\n    .replaceFirst(\"TYPE\", \"\\nTYPE\")\n    .replaceFirst(\"DATE\", \"\\nDATE\")\n    .replaceFirst(\"CLASS\", \"\\nCLASS\")\n    .replaceFirst(\"SUBCLASS\", \"\\nSUBCLASS\");\n}\n</code></pre>\n"}],"owner":{"account_id":1025610,"reputation":201,"user_id":1034976,"accept_rate":62,"display_name":"amor214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9783947,"answer_count":5,"score":3,"last_activity_date":1692793795,"creation_date":1332233446,"question_id":9783733,"body_markdown":"I&#39;m working on a log parser that should parse a line like this:\r\n\r\n    ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\r\n\r\nID1, ID2, TYPE, DATE, CLASS, and SUBCLASS are all keywords and I want to have something like this:\r\n\r\n    ID1 : 0  \r\n    ID2 : 214  \r\n    TYPE : ERROR  \r\n    DATE : 2012-01-11 14:08:07.432  \r\n    CLASS : Maintenance  \r\n    SUBCLASS : Operations\r\n\r\nI am really quite new to regex and I have the following:\r\n\r\n    (ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\r\n\r\nOf course, it does not work.\r\n\r\nAny advice will be very much appreciated.","title":"How do I parse a log line in Java delimited by keywords?","body":"<p>I'm working on a log parser that should parse a line like this:</p>\n\n<pre><code>ID1 : 0     ID2 : 214 TYPE : ERROR      DATE : 2012-01-11 14:08:07.432 CLASS : Maintenance    SUBCLASS : Operations\n</code></pre>\n\n<p>ID1, ID2, TYPE, DATE, CLASS, and SUBCLASS are all keywords and I want to have something like this:</p>\n\n<pre><code>ID1 : 0  \nID2 : 214  \nTYPE : ERROR  \nDATE : 2012-01-11 14:08:07.432  \nCLASS : Maintenance  \nSUBCLASS : Operations\n</code></pre>\n\n<p>I am really quite new to regex and I have the following:</p>\n\n<pre><code>(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)\\\\s*:\\\\s*(.+?)\\\\s*[(ID1|ID2|TYPE|DATE|CLASS|SUBCLASS)]\n</code></pre>\n\n<p>Of course, it does not work.</p>\n\n<p>Any advice will be very much appreciated.</p>\n"},{"tags":["java","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":29283088,"reputation":1,"user_id":22435271,"display_name":"yogesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692793401,"creation_date":1692793361,"answer_id":76961329,"question_id":75462962,"body_markdown":"Do the required changes to fix this issue:\r\n\r\n      SimpleClientHttpRequestFactory simpleClientHttpRequestFactory = new SimpleClientHttpRequestFactory();\r\n            simpleClientHttpRequestFactory.setOutputStreaming(false);\r\n            BufferingClientHttpRequestFactory requestFactory = new BufferingClientHttpRequestFactory(simpleClientHttpRequestFactory);","title":"HttpRetryException: cannot retry due to server authentication, in streaming mode","body":"<p>Do the required changes to fix this issue:</p>\n<pre><code>  SimpleClientHttpRequestFactory simpleClientHttpRequestFactory = new SimpleClientHttpRequestFactory();\n        simpleClientHttpRequestFactory.setOutputStreaming(false);\n        BufferingClientHttpRequestFactory requestFactory = new BufferingClientHttpRequestFactory(simpleClientHttpRequestFactory);\n</code></pre>\n"}],"owner":{"account_id":27795107,"reputation":1,"user_id":21220811,"display_name":"Alok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692793401,"creation_date":1676479654,"question_id":75462962,"body_markdown":"I am getting this error on a POST request even though i don&#39;t have any retry logic in my code. \r\nMy application is running on spring boot version 2.6.4 and java 17.\r\n\r\n```\r\nI/O error on POST request for {url}: cannot retry due to server authentication, in streaming mode; nested exception is java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\\n\r\n```\r\n\r\n\r\nBelow is the configuration of restTemplate which application is using for making requests \r\n\r\n\r\n```\r\n@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\tClientHttpRequestFactory factory =\r\n\t\t\t\tnew BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory());\r\n\t\tRestTemplate restTemplate = new RestTemplate(factory);\r\n\t\tList&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n\t\tif (CollectionUtils.isEmpty(interceptors)) {\r\n\t\t\tinterceptors = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tinterceptors.add(new LoggingInterceptor());\r\n\t\trestTemplate.setInterceptors(interceptors);\r\n\t\treturn restTemplate;\r\n\t}\r\n```\r\n\r\nWhat could be the reason of this exception ??\r\n\r\nI tried debugging the problem to find out the cause but nothing worked.\r\n","title":"HttpRetryException: cannot retry due to server authentication, in streaming mode","body":"<p>I am getting this error on a POST request even though i don't have any retry logic in my code.\nMy application is running on spring boot version 2.6.4 and java 17.</p>\n<pre><code>I/O error on POST request for {url}: cannot retry due to server authentication, in streaming mode; nested exception is java.net.HttpRetryException: cannot retry due to server authentication, in streaming mode\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\\n\n</code></pre>\n<p>Below is the configuration of restTemplate which application is using for making requests</p>\n<pre><code>@Bean\n    public RestTemplate getRestTemplate() {\n        ClientHttpRequestFactory factory =\n                new BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory());\n        RestTemplate restTemplate = new RestTemplate(factory);\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n        if (CollectionUtils.isEmpty(interceptors)) {\n            interceptors = new ArrayList&lt;&gt;();\n        }\n        interceptors.add(new LoggingInterceptor());\n        restTemplate.setInterceptors(interceptors);\n        return restTemplate;\n    }\n</code></pre>\n<p>What could be the reason of this exception ??</p>\n<p>I tried debugging the problem to find out the cause but nothing worked.</p>\n"},{"tags":["java","ocr","tesseract"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1692793653,"post_id":76961259,"comment_id":135672203,"body_markdown":"[What The Font](https://www.myfonts.com/pages/whatthefont) says this is [Bourgeois Rounded Medium](https://www.myfonts.com/collections/bourgeois-rounded-font-virus).  Can you train Tesseract on that specific font?","body":"<a href=\"https://www.myfonts.com/pages/whatthefont\" rel=\"nofollow noreferrer\">What The Font</a> says this is <a href=\"https://www.myfonts.com/collections/bourgeois-rounded-font-virus\" rel=\"nofollow noreferrer\">Bourgeois Rounded Medium</a>.  Can you train Tesseract on that specific font?"},{"owner":{"account_id":12692819,"reputation":21,"user_id":9222228,"display_name":"The Doctor"},"score":0,"creation_date":1692794863,"post_id":76961259,"comment_id":135672462,"body_markdown":"@RobertHarvey Probably, but I am totally new to Tesseract and training it on a specific font seems pretty involved to me at this point. I would rather like to find an &quot;easier&quot; solution, if possible, using training only as a very last resort :)","body":"@RobertHarvey Probably, but I am totally new to Tesseract and training it on a specific font seems pretty involved to me at this point. I would rather like to find an &quot;easier&quot; solution, if possible, using training only as a very last resort :)"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1692798075,"post_id":76961259,"comment_id":135673213,"body_markdown":"If your goal is accuracy, training Tesseract on that specific font is your best strategy.","body":"If your goal is accuracy, training Tesseract on that specific font is your best strategy."}],"owner":{"account_id":12692819,"reputation":21,"user_id":9222228,"display_name":"The Doctor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692793210,"creation_date":1692792851,"question_id":76961259,"body_markdown":"Dear StackOverflowers,\r\n\r\nI am currently working on a Java program utilizing bytedecos Tesseract port (https://github.com/bytedeco/javacpp-presets/tree/master/tesseract) to extract text from a very specific kind of images. All images contain 5x5 to 7x7 matrices with each matrix element consisting of a hex number.\r\n\r\nThe example image I currently try to extract from is this one:\r\n[![first image of matrix](https://i.stack.imgur.com/yuSsB.jpg)](https://i.stack.imgur.com/yuSsB.jpg)\r\n\r\nWith some preprocessing and binarization, converted to png:\r\n[![enter image description here](https://i.stack.imgur.com/LJjq1.png)](https://i.stack.imgur.com/LJjq1.png)\r\n\r\nOriginal image size is 395x395, size of preprocessed image is 790x790.\r\n\r\nFor this image, Tesseract gives me the following result (with page segmentation mode 6 automatically chosen by Tesseract itself):\r\n\r\n    1C 55 E9 55 E9\r\n    E9 18 18 BD 18\r\n    55 E9 18 E9 55\r\n    E9 18 55 55 BD\r\n    E9 10 BD 55 55\r\n\r\nMy testcode for text extraction (ignore the `return null` at the end, will be replaced by a proper return value later):\r\n\r\n```\r\nprivate String[] analyseStep(String imagePath) {\r\n        BytePointer outText;\r\n\r\n        TessBaseAPI api = new TessBaseAPI();\r\n        if(api.Init(null, &quot;eng&quot;) != 0) {\r\n            throw new RuntimeException(&quot;Could not initialize Tesseract!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;Analyzing: &quot; + imagePath);\r\n\r\n        PIX image = pixRead(imagePath);\r\n        api.SetImage(image);\r\n        outText = api.GetUTF8Text();\r\n\r\n        System.out.println(&quot;OCR result:\\n&quot; + outText.getString());\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\nAs you can see, recognition is already good, but it seems to have severe problems with the letter &quot;C&quot; nonetheless, sometimes correctly recognizing it as &quot;C&quot;, sometimes as &quot;8&quot;, sometimes as &quot;0&quot;. This is a big problem, since i have to automatically process the images later, extract the correct text and then perform operations on it, so ideally there are no recognition errors whatsoever.\r\n\r\nI already tried the following operations on the image to improve recognition, all with no improvements as of yet:\r\n- Converting the image from .jpg to .png and .tif\r\n- Color inversion\r\n- Contrast enhancement\r\n- Erosion and Dilation\r\n- Doubling image size from 395x395 to 790x790\r\n- Trying all page segmentation modes of Tesseract (mode 6 &quot;Assume a single uniform block of text.&quot; gives the result above, which is the already the best of all results)\r\n- Splitting the matrix in five rows\r\n\r\nI would greatly appreciate any hint or advice on what else i could try to correctly recognize all letters in the image.\r\n\r\n\r\n**Addendum, maybe unrelated to recognition quality:**\r\nAlso, after each run of Tesseract, i get the following error messages at the end, i don&#39;t know if they have anything to do with the bad recognition quality:\r\n\r\n```\r\nWarning: Parameter not found: enable_new_segsearch\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 00000209807427e0 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatapunc-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742770 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddataword-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742a80 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatanumber-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742380 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatabigram-dawg)\r\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742850 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatafreq-dawg)\r\n```\r\n\r\n(I am using Tesseract with Maven in IntelliJ. Dependency from pom.xml if this helps:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1-1.5.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nContent of tessdata, which i had to download manually:\r\n[![enter image description here](https://i.stack.imgur.com/hxUlZ.jpg)](https://i.stack.imgur.com/hxUlZ.jpg)\r\n)","title":"Can&#39;t get better OCR recognition quality with Tesseract in Java for specific samples","body":"<p>Dear StackOverflowers,</p>\n<p>I am currently working on a Java program utilizing bytedecos Tesseract port (<a href=\"https://github.com/bytedeco/javacpp-presets/tree/master/tesseract\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacpp-presets/tree/master/tesseract</a>) to extract text from a very specific kind of images. All images contain 5x5 to 7x7 matrices with each matrix element consisting of a hex number.</p>\n<p>The example image I currently try to extract from is this one:\n<a href=\"https://i.stack.imgur.com/yuSsB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yuSsB.jpg\" alt=\"first image of matrix\" /></a></p>\n<p>With some preprocessing and binarization, converted to png:\n<a href=\"https://i.stack.imgur.com/LJjq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJjq1.png\" alt=\"enter image description here\" /></a></p>\n<p>Original image size is 395x395, size of preprocessed image is 790x790.</p>\n<p>For this image, Tesseract gives me the following result (with page segmentation mode 6 automatically chosen by Tesseract itself):</p>\n<pre><code>1C 55 E9 55 E9\nE9 18 18 BD 18\n55 E9 18 E9 55\nE9 18 55 55 BD\nE9 10 BD 55 55\n</code></pre>\n<p>My testcode for text extraction (ignore the <code>return null</code> at the end, will be replaced by a proper return value later):</p>\n<pre><code>private String[] analyseStep(String imagePath) {\n        BytePointer outText;\n\n        TessBaseAPI api = new TessBaseAPI();\n        if(api.Init(null, &quot;eng&quot;) != 0) {\n            throw new RuntimeException(&quot;Could not initialize Tesseract!&quot;);\n        }\n\n        System.out.println(&quot;Analyzing: &quot; + imagePath);\n\n        PIX image = pixRead(imagePath);\n        api.SetImage(image);\n        outText = api.GetUTF8Text();\n\n        System.out.println(&quot;OCR result:\\n&quot; + outText.getString());\n\n        return null;\n    }\n</code></pre>\n<p>As you can see, recognition is already good, but it seems to have severe problems with the letter &quot;C&quot; nonetheless, sometimes correctly recognizing it as &quot;C&quot;, sometimes as &quot;8&quot;, sometimes as &quot;0&quot;. This is a big problem, since i have to automatically process the images later, extract the correct text and then perform operations on it, so ideally there are no recognition errors whatsoever.</p>\n<p>I already tried the following operations on the image to improve recognition, all with no improvements as of yet:</p>\n<ul>\n<li>Converting the image from .jpg to .png and .tif</li>\n<li>Color inversion</li>\n<li>Contrast enhancement</li>\n<li>Erosion and Dilation</li>\n<li>Doubling image size from 395x395 to 790x790</li>\n<li>Trying all page segmentation modes of Tesseract (mode 6 &quot;Assume a single uniform block of text.&quot; gives the result above, which is the already the best of all results)</li>\n<li>Splitting the matrix in five rows</li>\n</ul>\n<p>I would greatly appreciate any hint or advice on what else i could try to correctly recognize all letters in the image.</p>\n<p><strong>Addendum, maybe unrelated to recognition quality:</strong>\nAlso, after each run of Tesseract, i get the following error messages at the end, i don't know if they have anything to do with the bad recognition quality:</p>\n<pre><code>Warning: Parameter not found: enable_new_segsearch\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 00000209807427e0 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatapunc-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742770 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddataword-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742a80 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatanumber-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742380 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatabigram-dawg)\nObjectCache(00007ffcf9d5a4e0)::~ObjectCache(): WARNING! LEAK! object 0000020980742850 still has count 1 (id D:\\[some folders omitted]\\src\\main\\resources\\tessdata/eng.traineddatafreq-dawg)\n</code></pre>\n<p>(I am using Tesseract with Maven in IntelliJ. Dependency from pom.xml if this helps:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n            &lt;artifactId&gt;tesseract-platform&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1-1.5.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Content of tessdata, which i had to download manually:\n<a href=\"https://i.stack.imgur.com/hxUlZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxUlZ.jpg\" alt=\"enter image description here\" /></a>\n)</p>\n"},{"tags":["java","git","jgit"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1492496866,"post_id":43445457,"comment_id":73985484,"body_markdown":"Possible duplicate of [Is partial checkout supported by JGit 3.7?](http://stackoverflow.com/questions/29505919/is-partial-checkout-supported-by-jgit-3-7)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29505919/is-partial-checkout-supported-by-jgit-3-7\">Is partial checkout supported by JGit 3.7?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10368452,"reputation":374,"user_id":7646830,"display_name":"zachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492409367,"creation_date":1492407258,"answer_id":43445717,"question_id":43445457,"body_markdown":"Try making changes in the checkout part like this\r\n\r\n`&quot;origin/&quot;`\r\n\r\nand give it a try.\r\n \r\nOtherwise you want to do is a `sparse checkout`\r\n\r\nhttps://stackoverflow.com/questions/14407461/how-do-i-implement-sparse-checkout-in-jgit","title":"How to checkout a certain folder with JGit","body":"<p>Try making changes in the checkout part like this</p>\n\n<p><code>\"origin/\"</code></p>\n\n<p>and give it a try.</p>\n\n<p>Otherwise you want to do is a <code>sparse checkout</code></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14407461/how-do-i-implement-sparse-checkout-in-jgit\">How do I implement sparse checkout in JGit?</a></p>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692793145,"creation_date":1492424681,"answer_id":43449642,"question_id":43445457,"body_markdown":"In order to check out a particular folder with JGit (a sparse checkout), you need to tell the `CheckoutCommand` which folder to check out.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    git.checkout().setName(&quot;branch-to-check-out&quot;).addPath(&quot;path/to/folder&quot;).call();\r\n\r\n\r\n`addPath()` can be called multiple times to check out each of the given paths. The path is interpreted relative to the work directory.","title":"How to checkout a certain folder with JGit","body":"<p>In order to check out a particular folder with JGit (a sparse checkout), you need to tell the <code>CheckoutCommand</code> which folder to check out.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>git.checkout().setName(&quot;branch-to-check-out&quot;).addPath(&quot;path/to/folder&quot;).call();\n</code></pre>\n<p><code>addPath()</code> can be called multiple times to check out each of the given paths. The path is interpreted relative to the work directory.</p>\n"}],"owner":{"account_id":4924093,"reputation":41,"user_id":3965846,"display_name":"sabari "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1909,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43445717,"answer_count":2,"score":0,"last_activity_date":1692793145,"creation_date":1492405659,"question_id":43445457,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    FetchResult fr = git.fetch().setCredentialsProvider(credentials).setCheckFetchedObjects(true).Call();\r\n    git.checkout().setCreateBranch(true).setName(&quot;origin/&quot; + branchName).setStartPoint(&quot;origin/&quot; + branchName + &quot;path/to/folder&quot;).call()\r\n\r\nThis is the code I&#39;m using to check out a single folder from a remote repository.\r\nEquivalent git commands are:\r\n\r\n    git fetch origin\r\n    git checkout origin/branch -- path/to/folder\r\n\r\n \r\n\r\nBut, the Java code doesn&#39;t work for me, I was only able to initialise the local repository and configure remote repository. The checkout didn&#39;t work and I couldn&#39;t find out what mistake I&#39;m making. ","title":"How to checkout a certain folder with JGit","body":"<pre class=\"lang-java prettyprint-override\"><code>FetchResult fr = git.fetch().setCredentialsProvider(credentials).setCheckFetchedObjects(true).Call();\ngit.checkout().setCreateBranch(true).setName(\"origin/\" + branchName).setStartPoint(\"origin/\" + branchName + \"path/to/folder\").call()\n</code></pre>\n\n<p>This is the code I'm using to check out a single folder from a remote repository.\nEquivalent git commands are:</p>\n\n<pre><code>git fetch origin\ngit checkout origin/branch -- path/to/folder\n</code></pre>\n\n<p>But, the Java code doesn't work for me, I was only able to initialise the local repository and configure remote repository. The checkout didn't work and I couldn't find out what mistake I'm making. </p>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692768953,"creation_date":1692768916,"answer_id":76958517,"question_id":76956856,"body_markdown":"Shall you change to the following code ,and use the client.getId() to use the client id?\r\nYou hava to ensure the table in you database named client is exist\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;client&quot;)\r\n        private Client client;","title":"Not saving ClientID in Address","body":"<p>Shall you change to the following code ,and use the client.getId() to use the client id?\nYou hava to ensure the table in you database named client is exist</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;client&quot;)\n    private Client client;\n</code></pre>\n"}],"owner":{"account_id":17737221,"reputation":1,"user_id":12878379,"display_name":"Joaquim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692793093,"creation_date":1692738283,"question_id":76956856,"body_markdown":"#### Client\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;client&quot;)\r\npublic class Client implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;cpf&quot;, nullable = false)\r\n    private String cpf;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name = &quot;registration_data&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM-dd-yyyy HH:mm&quot;, timezone = &quot;GMT&quot;) //ISO 8601\r\n    private Date registrationData;\r\n\r\n    @OneToMany(mappedBy = &quot;clientId&quot;)\r\n    private List&lt;Contact&gt; contacts;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;clientId&quot;)\r\n    @JoinColumn(name = &quot;address&quot;)\r\n    private Address address;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;pets&quot;)\r\n    private List&lt;Pet&gt; pets;\r\n\r\n    @Column(name = &quot;type_profile&quot;, nullable = false)\r\n    private String typeProfile;\r\n\r\n    @Lob\r\n    @Basic(fetch = FetchType.LAZY)\r\n    @Column(name = &quot;image&quot;)\r\n    private byte[] image;\r\n}\r\n```\r\n\r\n#### Address\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;address&quot;)\r\npublic class Address implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;clientId&quot;)\r\n    private Client clientId;\r\n\r\n    @Column(name = &quot;publicPlace&quot;)\r\n    private String publicPlace;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name = &quot;district&quot;)\r\n    private String district;\r\n\r\n    @Column(name = &quot;complement&quot;)\r\n    private String complement;\r\n\r\n    @Column(name = &quot;tag&quot;)\r\n    private String tag;\r\n}\r\n```\r\nI tried messing with the one to many relationships but it didn&#39;t work.\r\n\r\nNone of the relations are working as expected, saving the id.\r\n\r\nIn the database saves only the first object without having the cascade of adding the ID in the related table.\r\n\r\nI don&#39;t know what I could be doing wrong, because it saves the object and creates the ID in the table, but it doesn&#39;t associate as a cascade in the second object.","title":"Not saving ClientID in Address","body":"<h4>Client</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;client&quot;)\npublic class Client implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;cpf&quot;, nullable = false)\n    private String cpf;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name = &quot;registration_data&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;MM-dd-yyyy HH:mm&quot;, timezone = &quot;GMT&quot;) //ISO 8601\n    private Date registrationData;\n\n    @OneToMany(mappedBy = &quot;clientId&quot;)\n    private List&lt;Contact&gt; contacts;\n\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;clientId&quot;)\n    @JoinColumn(name = &quot;address&quot;)\n    private Address address;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;pets&quot;)\n    private List&lt;Pet&gt; pets;\n\n    @Column(name = &quot;type_profile&quot;, nullable = false)\n    private String typeProfile;\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    @Column(name = &quot;image&quot;)\n    private byte[] image;\n}\n</code></pre>\n<h4>Address</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;address&quot;)\npublic class Address implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;clientId&quot;)\n    private Client clientId;\n\n    @Column(name = &quot;publicPlace&quot;)\n    private String publicPlace;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @Column(name = &quot;district&quot;)\n    private String district;\n\n    @Column(name = &quot;complement&quot;)\n    private String complement;\n\n    @Column(name = &quot;tag&quot;)\n    private String tag;\n}\n</code></pre>\n<p>I tried messing with the one to many relationships but it didn't work.</p>\n<p>None of the relations are working as expected, saving the id.</p>\n<p>In the database saves only the first object without having the cascade of adding the ID in the related table.</p>\n<p>I don't know what I could be doing wrong, because it saves the object and creates the ID in the table, but it doesn't associate as a cascade in the second object.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692214236,"post_id":76916348,"comment_id":135594728,"body_markdown":"Which line of that stack trace implicates which line of the code presented?  My first impression from the code and the exception message is that the code in the question is at best peripherally related to the exception, and in particular, that if there is an association at all, then it is with *creating* or *executing* the statement, not with closing it.","body":"Which line of that stack trace implicates which line of the code presented?  My first impression from the code and the exception message is that the code in the question is at best peripherally related to the exception, and in particular, that if there is an association at all, then it is with <i>creating</i> or <i>executing</i> the statement, not with closing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692216891,"post_id":76916348,"comment_id":135595191,"body_markdown":"*I have the following code:* Really - what query is it executing exactly?","body":"<i>I have the following code:</i> Really - what query is it executing exactly?"},{"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"score":0,"creation_date":1692255243,"post_id":76916348,"comment_id":135599062,"body_markdown":"The code is crashing when calling mypackage.NamedParameterStatement.close method which will simply close the prepared statement.\nThe first query is a select query","body":"The code is crashing when calling mypackage.NamedParameterStatement.close method which will simply close the prepared statement. The first query is a select query"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1692274545,"post_id":76916348,"comment_id":135602667,"body_markdown":"I still mistrust `createStatement`","body":"I still mistrust <code>createStatement</code>"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692216926,"creation_date":1692215241,"answer_id":76916627,"question_id":76916348,"body_markdown":"&gt; I have googled but didn&#39;t find an explanation why I&#39;m getting this crash when closing my statement.\r\n\r\nI&#39;m not sure you are.  Not when *closing* the statement.\r\n\r\n&gt; The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my statement.close got called.\r\n\r\nQuite so.\r\n\r\n&gt; Even if my resultset.close is not called, I would expect statement.close() will also check if resultset is opened and close it if needed.\r\n\r\nThe specs say that `Statement.close()` has that effect, yes.\r\n\r\nRead the exception message again, especially the highlighted part:\r\n\r\n&gt; Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. **No statements may be issued** when any streaming result sets are open and in use on a given connection.\r\n\r\nThat message sure doesn&#39;t look like it&#39;s about closing the statement. And per your own analysis, it should not be about a conflict between closing the `Statement` and `ResultSet` that are created by the same execution of that code fragment.\r\n\r\nI&#39;m inclined to think that you have a *different* `ResultSet` associated with a *different* `Statement` belonging to the same `Connection` still active, and that the exception is thrown when you try to create or execute a new `Statement`, not when you try to close a statement (though the analysis is not much affected if the exception is thrown from the `close()` after all).\r\n\r\nGood candidates for the source of such an issue include\r\n\r\n - having erroneously failed to close a previously obtained `ResultSet`;\r\n - using the same `Connection` concurrently in multiple threads; or\r\n - simply using your connection to attempt to perform a new query within the context of processing the results of another query.\r\n\r\nThe last of those should be determinate, so identifiable from the full stack trace.  The other two are more likely to seem random, and you might well expect to see similar exceptions originating from different parts of your application code.","title":"Random mysql crash when closing a statement","body":"<blockquote>\n<p>I have googled but didn't find an explanation why I'm getting this crash when closing my statement.</p>\n</blockquote>\n<p>I'm not sure you are.  Not when <em>closing</em> the statement.</p>\n<blockquote>\n<p>The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my statement.close got called.</p>\n</blockquote>\n<p>Quite so.</p>\n<blockquote>\n<p>Even if my resultset.close is not called, I would expect statement.close() will also check if resultset is opened and close it if needed.</p>\n</blockquote>\n<p>The specs say that <code>Statement.close()</code> has that effect, yes.</p>\n<p>Read the exception message again, especially the highlighted part:</p>\n<blockquote>\n<p>Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. <strong>No statements may be issued</strong> when any streaming result sets are open and in use on a given connection.</p>\n</blockquote>\n<p>That message sure doesn't look like it's about closing the statement. And per your own analysis, it should not be about a conflict between closing the <code>Statement</code> and <code>ResultSet</code> that are created by the same execution of that code fragment.</p>\n<p>I'm inclined to think that you have a <em>different</em> <code>ResultSet</code> associated with a <em>different</em> <code>Statement</code> belonging to the same <code>Connection</code> still active, and that the exception is thrown when you try to create or execute a new <code>Statement</code>, not when you try to close a statement (though the analysis is not much affected if the exception is thrown from the <code>close()</code> after all).</p>\n<p>Good candidates for the source of such an issue include</p>\n<ul>\n<li>having erroneously failed to close a previously obtained <code>ResultSet</code>;</li>\n<li>using the same <code>Connection</code> concurrently in multiple threads; or</li>\n<li>simply using your connection to attempt to perform a new query within the context of processing the results of another query.</li>\n</ul>\n<p>The last of those should be determinate, so identifiable from the full stack trace.  The other two are more likely to seem random, and you might well expect to see similar exceptions originating from different parts of your application code.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692239465,"creation_date":1692238887,"answer_id":76918083,"question_id":76916348,"body_markdown":"[try-with-resources][1]\r\n\r\n&gt; The try-with-resources statement is a try statement that declares one or more resources. A resource is as an object that must be closed after the program is finished with it\r\n\r\nIn fact, it has been automatically closed, you don&#39;t need to manually call the close method.\r\n\r\nback to your question！\r\n\r\nPay attention to the error message you provided\r\n&gt; caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \r\n\r\n[refer here][2]\r\n&gt; streaming mode has one limitation: When a resultset is open in streaming mode on a MySQL connection, you cannot use that same database connection to run other queries.\r\n\r\nIn other words, when you execute this statement, it is likely that there are already other result sets in the open stage.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\r\n  [2]: https://support.datavirtuality.com/hc/en-us/articles/212166126-Error-message-Streaming-result-set-com-mysql-jdbc-RowDataDynamic-XXXXXX-is-still-active-","title":"Random mysql crash when closing a statement","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">try-with-resources</a></p>\n<blockquote>\n<p>The try-with-resources statement is a try statement that declares one or more resources. A resource is as an object that must be closed after the program is finished with it</p>\n</blockquote>\n<p>In fact, it has been automatically closed, you don't need to manually call the close method.</p>\n<p>back to your question！</p>\n<p>Pay attention to the error message you provided</p>\n<blockquote>\n<p>caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection.</p>\n</blockquote>\n<p><a href=\"https://support.datavirtuality.com/hc/en-us/articles/212166126-Error-message-Streaming-result-set-com-mysql-jdbc-RowDataDynamic-XXXXXX-is-still-active-\" rel=\"nofollow noreferrer\">refer here</a></p>\n<blockquote>\n<p>streaming mode has one limitation: When a resultset is open in streaming mode on a MySQL connection, you cannot use that same database connection to run other queries.</p>\n</blockquote>\n<p>In other words, when you execute this statement, it is likely that there are already other result sets in the open stage.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692272376,"creation_date":1692271905,"answer_id":76921097,"question_id":76916348,"body_markdown":"Answered your own question.\r\n\r\n Hence, it is good practice to explicitly close the `Statement`.\r\n\r\n True, it must be added here that if an implicit closure is performed, i.e.  if [*try-with-resources*][1] is used, then the exception that occurs when executing `close()` should be caught separately.\r\n\r\n The `AutoClosable` interface **does not** automatically close a `Statement`, but is used to close it *implicitly*, as in the situation mentioned above.\r\n\r\n And now\r\n\r\n //todo and if it was not possible to close the statement, then what to do?\r\n\r\n Well, here the reasons may be different, but in most cases there is little sense from this, so the exception can simply be ignored.\r\n\r\n&gt;I know that statement object should be created in the try-with-resource block but this is a generated code.\r\n\r\n\r\nHere is a typical code for working with a database\r\n```\r\n try(Connection con = .......) {\r\n   ......\r\n   try (Statement stmt = con.PrepareStatement(...)) {\r\n     ......\r\n     try(ResultSet res = stmt.executeQuery()) {\r\n       .........\r\n     }\r\n   }\r\n }\r\n```\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Random mysql crash when closing a statement","body":"<p>Answered your own question.</p>\n<p>Hence, it is good practice to explicitly close the <code>Statement</code>.</p>\n<p>True, it must be added here that if an implicit closure is performed, i.e.  if <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try-with-resources</em></a> is used, then the exception that occurs when executing <code>close()</code> should be caught separately.</p>\n<p>The <code>AutoClosable</code> interface <strong>does not</strong> automatically close a <code>Statement</code>, but is used to close it <em>implicitly</em>, as in the situation mentioned above.</p>\n<p>And now</p>\n<p>//todo and if it was not possible to close the statement, then what to do?</p>\n<p>Well, here the reasons may be different, but in most cases there is little sense from this, so the exception can simply be ignored.</p>\n<blockquote>\n<p>I know that statement object should be created in the try-with-resource block but this is a generated code.</p>\n</blockquote>\n<p>Here is a typical code for working with a database</p>\n<pre><code> try(Connection con = .......) {\n   ......\n   try (Statement stmt = con.PrepareStatement(...)) {\n     ......\n     try(ResultSet res = stmt.executeQuery()) {\n       .........\n     }\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692793018,"creation_date":1692793018,"answer_id":76961286,"question_id":76916348,"body_markdown":"What is also interesting is that the query is crashing randomly after more than two hours.\r\nI rerun the same process/query and it work in less than one minute sometime the second retry, third retry...\r\n\r\nThis how the thread dump look when the query is stuck/running for long time:\r\n\r\n    &quot;f2297067-13d5-427a-83ec-fc31253922c6_Worker-6&quot; #83 prio=5 os_prio=0 cpu=202433.86ms elapsed=85008.80s tid=0x00007fb527394800 nid=0x159 runnable  [0x00007fb462df1000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(java.base@11.0.19/Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(java.base@11.0.19/Unknown Source)\r\n    \tat java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\r\n    \tat com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\r\n    \t- locked &lt;0x00007fba710040e8&gt; (a com.mysql.cj.protocol.ReadAheadInputStream)\r\n    \tat java.io.FilterInputStream.read(java.base@11.0.19/Unknown Source)\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessageLocal(SimplePacketReader.java:137)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:102)\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:45)\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:66)\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:44)\r\n    \tat com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:75)\r\n    \tat com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\r\n    \tat com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:194)\r\n    \tat com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:62)\r\n    \tat com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1813)\r\n    \t- locked &lt;0x00007fba71004690&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyResultSet.next(HikariProxyResultSet.java)\r\n\r\n","title":"Random mysql crash when closing a statement","body":"<p>What is also interesting is that the query is crashing randomly after more than two hours.\nI rerun the same process/query and it work in less than one minute sometime the second retry, third retry...</p>\n<p>This how the thread dump look when the query is stuck/running for long time:</p>\n<pre><code>&quot;f2297067-13d5-427a-83ec-fc31253922c6_Worker-6&quot; #83 prio=5 os_prio=0 cpu=202433.86ms elapsed=85008.80s tid=0x00007fb527394800 nid=0x159 runnable  [0x00007fb462df1000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(java.base@11.0.19/Native Method)\n    at java.net.SocketInputStream.socketRead(java.base@11.0.19/Unknown Source)\n    at java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\n    at java.net.SocketInputStream.read(java.base@11.0.19/Unknown Source)\n    at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)\n    at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)\n    at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)\n    - locked &lt;0x00007fba710040e8&gt; (a com.mysql.cj.protocol.ReadAheadInputStream)\n    at java.io.FilterInputStream.read(java.base@11.0.19/Unknown Source)\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessageLocal(SimplePacketReader.java:137)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:102)\n    at com.mysql.cj.protocol.a.SimplePacketReader.readMessage(SimplePacketReader.java:45)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:66)\n    at com.mysql.cj.protocol.a.MultiPacketReader.readMessage(MultiPacketReader.java:44)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:75)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\n    at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\n    at com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:194)\n    at com.mysql.cj.protocol.a.result.ResultsetRowsStreaming.next(ResultsetRowsStreaming.java:62)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.next(ResultSetImpl.java:1813)\n    - locked &lt;0x00007fba71004690&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\n    at com.zaxxer.hikari.pool.HikariProxyResultSet.next(HikariProxyResultSet.java)\n</code></pre>\n"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1692793018,"creation_date":1692212183,"question_id":76916348,"body_markdown":"I have the following code:\r\n\r\n    Statement statement =createStatement();\r\n    try (java.sql.ResultSet resultset = statement.executeQuery()) {\r\n    \twhile (resultset.next()) {\r\n    \t\tmyObject.setProcessingDate(resultset.getDate(1));\r\n    \t\tmyObject.set...\r\n    \r\n    \t}\r\n    }finally {\r\n    \tif (statement != null) {\r\n    \t\tstatement.close();\r\n    \t}\r\n    }\r\n\r\nI know that statement object should be created in the try-with-resource block but this is a generated code.\r\n\r\nRandomly, I&#39;m getting the following exception:\r\n\r\n    caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \r\n    Ensure that you have called .close() on any active streaming result sets before attempting more queries.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ServerPreparedStatement.realClose(ServerPreparedStatement.java:549)\r\n    \tat com.mysql.cj.jdbc.ServerPreparedStatement.close(ServerPreparedStatement.java:284)\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.close(ProxyStatement.java:76)\r\n    \tat mypackage.NamedParameterStatement.close(NamedParameterStatement.java:520)\r\n\r\nI have googled but didn&#39;t find an explanation why I&#39;m getting this crash when closing my statement.\r\n\r\nThe &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my `statement.close()` got called.\r\n\r\nEven if my `resultset.close()` is not called, I would expect `statement.close()` will also check if resultset is opened and close it if needed.\r\n\r\nAm I missing something or why is this issue?","title":"Random mysql crash when closing a statement","body":"<p>I have the following code:</p>\n<pre><code>Statement statement =createStatement();\ntry (java.sql.ResultSet resultset = statement.executeQuery()) {\n    while (resultset.next()) {\n        myObject.setProcessingDate(resultset.getDate(1));\n        myObject.set...\n\n    }\n}finally {\n    if (statement != null) {\n        statement.close();\n    }\n}\n</code></pre>\n<p>I know that statement object should be created in the try-with-resource block but this is a generated code.</p>\n<p>Randomly, I'm getting the following exception:</p>\n<pre><code>caused by: java.sql.SQLException: Streaming result set com.mysql.cj.protocol.a.result.ResultsetRowsStreaming@9h6d41205 is still active. No statements may be issued when any streaming result sets are open and in use on a given connection. \nEnsure that you have called .close() on any active streaming result sets before attempting more queries.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.realClose(ServerPreparedStatement.java:549)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.close(ServerPreparedStatement.java:284)\n    at com.zaxxer.hikari.pool.ProxyStatement.close(ProxyStatement.java:76)\n    at mypackage.NamedParameterStatement.close(NamedParameterStatement.java:520)\n</code></pre>\n<p>I have googled but didn't find an explanation why I'm getting this crash when closing my statement.</p>\n<p>The &quot;auto&quot; close of my resultset object should be called before entering into the finally block and than before my <code>statement.close()</code> got called.</p>\n<p>Even if my <code>resultset.close()</code> is not called, I would expect <code>statement.close()</code> will also check if resultset is opened and close it if needed.</p>\n<p>Am I missing something or why is this issue?</p>\n"},{"tags":["java","android","kotlin","android-studio","android-intent-chooser"],"answers":[{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692792758,"creation_date":1692792758,"answer_id":76961246,"question_id":76961245,"body_markdown":"You can **override this behaviour** by using the below code:\r\n\r\n     val i = Intent(Intent.ACTION_VIEW)\r\n                    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                    i.data = Uri.parse(deepLinkUri)\r\n\r\n\r\n                    // Create a chooser intent\r\n                    val chooserIntent = Intent.createChooser(i, &quot;Choose an app&quot;)\r\n                    // Clear any previous default setting\r\n                    chooserIntent.putExtra(\r\n                        Intent.EXTRA_EXCLUDE_COMPONENTS,\r\n                        arrayOf&lt;ComponentName&gt;()\r\n                    )\r\n                    chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n                    startActivity(chooserIntent)","title":"How can I change the default app for opening a URI and enlist all the supported Android apps for this purpose?","body":"<p>You can <strong>override this behaviour</strong> by using the below code:</p>\n<pre><code> val i = Intent(Intent.ACTION_VIEW)\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                i.data = Uri.parse(deepLinkUri)\n\n\n                // Create a chooser intent\n                val chooserIntent = Intent.createChooser(i, &quot;Choose an app&quot;)\n                // Clear any previous default setting\n                chooserIntent.putExtra(\n                    Intent.EXTRA_EXCLUDE_COMPONENTS,\n                    arrayOf&lt;ComponentName&gt;()\n                )\n                chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                startActivity(chooserIntent)\n</code></pre>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76961246,"answer_count":1,"score":-1,"last_activity_date":1692792758,"creation_date":1692792758,"question_id":76961245,"body_markdown":"Override the always-selected app by the user in Android Kotlin\r\n\r\n**Use case:**&lt;br&gt;\r\nI parse the URL to intent in order to initialize the system to open the supported app by the user.\r\nNow user selects Firefox as always and whenever the user taps on the URL(to share as intent) it doesn&#39;t show any more all apps(e.g.: Firefox, Chrome, Edge, etc.) for a user to select again rather just using Firefox as the always remember by the android system.\r\n\r\n**Actual Problem To Solve:**&lt;br&gt;\r\nNeed to show all apps to users that support that URL rather than the always selected app the user selected somewhere. (e.g.: **Firefox** is **default** *but* I **want all the supported apps** in the system i.e.: ***Firefox, chrome*** **to preview** for the **user** to select)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I change the default app for opening a URI and enlist all the supported Android apps for this purpose?","body":"<p>Override the always-selected app by the user in Android Kotlin</p>\n<p><strong>Use case:</strong><br>\nI parse the URL to intent in order to initialize the system to open the supported app by the user.\nNow user selects Firefox as always and whenever the user taps on the URL(to share as intent) it doesn't show any more all apps(e.g.: Firefox, Chrome, Edge, etc.) for a user to select again rather just using Firefox as the always remember by the android system.</p>\n<p><strong>Actual Problem To Solve:</strong><br>\nNeed to show all apps to users that support that URL rather than the always selected app the user selected somewhere. (e.g.: <strong>Firefox</strong> is <strong>default</strong> <em>but</em> I <strong>want all the supported apps</strong> in the system i.e.: <em><strong>Firefox, chrome</strong></em> <strong>to preview</strong> for the <strong>user</strong> to select)</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":201896,"reputation":57765,"user_id":448625,"accept_rate":96,"display_name":"Caner"},"score":0,"creation_date":1331045388,"post_id":9585859,"comment_id":12156233,"body_markdown":"Your pattern is not even close to what you want. I recommend you should more about regex before: http://docs.oracle.com/javase/tutorial/essential/regex/","body":"Your pattern is not even close to what you want. I recommend you should more about regex before: <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex</a>"}],"answers":[{"tags":[],"owner":{"account_id":327641,"reputation":4103,"user_id":650136,"accept_rate":82,"display_name":"Petter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331045138,"creation_date":1331045138,"answer_id":9585897,"question_id":9585859,"body_markdown":"m.matches() will only return true if the entire string matches. Use m.find() instead, and it should work better!","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>m.matches() will only return true if the entire string matches. Use m.find() instead, and it should work better!</p>\n"},{"tags":[],"owner":{"account_id":1300670,"reputation":584,"user_id":1250670,"display_name":"arc"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1331045214,"creation_date":1331045214,"answer_id":9585924,"question_id":9585859,"body_markdown":"By default, the . does not match line breaks. You would need to add a regex option so that it does:\r\n\r\n    Pattern p = Pattern.compile(myPattern,Pattern.DOTALL);","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>By default, the . does not match line breaks. You would need to add a regex option so that it does:</p>\n\n<pre><code>Pattern p = Pattern.compile(myPattern,Pattern.DOTALL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125401,"reputation":63,"user_id":321157,"display_name":"greguren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331045986,"creation_date":1331045986,"answer_id":9586142,"question_id":9585859,"body_markdown":"First, as arc has said, . won&#39;t match to \\n unless you activate Pattern.DOTALL, and as Petter M, you should use m.find(), or else it won&#39;t match.\r\n\r\nThen, you could use this other expression, if, by any reason, you cannot work with Pattern.DOTALL.\r\n\r\nFILES_SECTION(?:.|\\s)*FILES_SECTION\r\n\r\n(Note I&#39;m using a non-capturing group for the characters between the FILES_SECTION delimiters).","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>First, as arc has said, . won't match to \\n unless you activate Pattern.DOTALL, and as Petter M, you should use m.find(), or else it won't match.</p>\n\n<p>Then, you could use this other expression, if, by any reason, you cannot work with Pattern.DOTALL.</p>\n\n<p>FILES_SECTION(?:.|\\s)*FILES_SECTION</p>\n\n<p>(Note I'm using a non-capturing group for the characters between the FILES_SECTION delimiters).</p>\n"}],"owner":{"account_id":1245683,"reputation":199,"user_id":1207197,"accept_rate":44,"display_name":"Davidoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18978,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9585924,"answer_count":3,"score":4,"last_activity_date":1692792728,"creation_date":1331045024,"question_id":9585859,"body_markdown":"I have the following code:\r\n\r\n    String example = &quot;&lt;!--&#167;FILES_SECTION&#167;\\n&quot; +\r\n                    &quot;Example line one\\n&quot; +\r\n                    &quot;Example line two\\n&quot; +\r\n                    &quot;&#167;FILES_SECTION&#167;--&gt;&quot;;\r\n            \r\n            String myPattern = &quot;.*?FILES_SECTION.*?\\n(.*?)\\n.*?FILES_SECTION.*?&quot;;\r\n            Pattern p = Pattern.compile(myPattern);\r\n            Matcher m = p.matcher(example);\r\n            \r\n            if ( m.matches() )\r\n                Log.d(&quot;Matcher&quot;, &quot;PATTERN MATCHES!&quot;);\r\n            else\r\n                Log.d(&quot;MATCHER&quot;, &quot;PATTERN DOES NOT MATCH!&quot;);\r\n\r\nWhy does it always return &quot;PATTERN DOES NOT MATCH?&quot;","title":"How to use Android REGEX with Pattern and Matcher Classes?","body":"<p>I have the following code:</p>\n\n<pre><code>String example = \"&lt;!--§FILES_SECTION§\\n\" +\n                \"Example line one\\n\" +\n                \"Example line two\\n\" +\n                \"§FILES_SECTION§--&gt;\";\n\n        String myPattern = \".*?FILES_SECTION.*?\\n(.*?)\\n.*?FILES_SECTION.*?\";\n        Pattern p = Pattern.compile(myPattern);\n        Matcher m = p.matcher(example);\n\n        if ( m.matches() )\n            Log.d(\"Matcher\", \"PATTERN MATCHES!\");\n        else\n            Log.d(\"MATCHER\", \"PATTERN DOES NOT MATCH!\");\n</code></pre>\n\n<p>Why does it always return \"PATTERN DOES NOT MATCH?\"</p>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328450729,"creation_date":1328450729,"answer_id":9149855,"question_id":9149838,"body_markdown":"&gt; Can you please give me any hint?\r\n\r\nYes. Neither `-`, nor `:`, nor `+` are part of `\\w`.","title":"JAVA regex failing","body":"<blockquote>\n  <p>Can you please give me any hint?</p>\n</blockquote>\n\n<p>Yes. Neither <code>-</code>, nor <code>:</code>, nor <code>+</code> are part of <code>\\w</code>.</p>\n"},{"tags":[],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328453095,"creation_date":1328452025,"answer_id":9150002,"question_id":9149838,"body_markdown":"Do you have to use a regex? Why not call `String.split()` to break up the string on semi-colon boundaries. Then call it again to break up the chunks by the equals sign. At that point you&#39;ll have an integer and the date in string form. From there you can [parse][1] the [date][2] string.\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public final class DateScan {\r\n        private static final String INPUT = &quot;;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;&quot;;\r\n        public static void main(final String... args) {\r\n            final SimpleDateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n            final String[] pairs = INPUT.split(&quot;;&quot;);\r\n            for (final String pair : pairs) {\r\n                if (&quot;&quot;.equals(pair)) {\r\n                    continue;\r\n                }\r\n                final String[] integerAndDate = pair.split(&quot;=&quot;);\r\n                final Integer integer = Integer.parseInt(integerAndDate[0]);\r\n                final String dateString = integerAndDate[1];\r\n                try {\r\n                    final Date date = parser.parse(dateString);\r\n                    System.out.println(integer + &quot; -&gt; &quot; + date);\r\n                } catch (final ParseException pe) {\r\n                    System.err.println(&quot;bad date: &quot; + dateString + &quot;: &quot; + pe);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/999172\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"JAVA regex failing","body":"<p>Do you have to use a regex? Why not call <code>String.split()</code> to break up the string on semi-colon boundaries. Then call it again to break up the chunks by the equals sign. At that point you'll have an integer and the date in string form. From there you can <a href=\"https://stackoverflow.com/questions/999172\">parse</a> the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">date</a> string.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic final class DateScan {\n    private static final String INPUT = \";1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;\";\n    public static void main(final String... args) {\n        final SimpleDateFormat parser = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\n        final String[] pairs = INPUT.split(\";\");\n        for (final String pair : pairs) {\n            if (\"\".equals(pair)) {\n                continue;\n            }\n            final String[] integerAndDate = pair.split(\"=\");\n            final Integer integer = Integer.parseInt(integerAndDate[0]);\n            final String dateString = integerAndDate[1];\n            try {\n                final Date date = parser.parse(dateString);\n                System.out.println(integer + \" -&gt; \" + date);\n            } catch (final ParseException pe) {\n                System.err.println(\"bad date: \" + dateString + \": \" + pe);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1328452611,"creation_date":1328452611,"answer_id":9150064,"question_id":9149838,"body_markdown":"I&#39;ve change the input a bit, but just for presentation reasons that is\r\n\r\nYou can try this:\r\n\r\n     String input = &quot; ;1=2011-10-23T16:16:53+0530;   2=2011-10-23T16:17:53+0530;3=2011-10-23T16:18:53+0530;4=2011-10-23T16:19:53+0530;&quot;;\r\n\t\r\n\tPattern p = Pattern.compile(&quot;(;\\\\d+?)?=(.+?);&quot;);\r\n\tMatcher m = p.matcher(input);\r\n\t\r\n\twhile(m.find()){\r\n\t    System.out.println(m.group(2));\r\n\t}\r\n\r\n ","title":"JAVA regex failing","body":"<p>I've change the input a bit, but just for presentation reasons that is</p>\n\n<p>You can try this:</p>\n\n<pre><code> String input = \" ;1=2011-10-23T16:16:53+0530;   2=2011-10-23T16:17:53+0530;3=2011-10-23T16:18:53+0530;4=2011-10-23T16:19:53+0530;\";\n\nPattern p = Pattern.compile(\"(;\\\\d+?)?=(.+?);\");\nMatcher m = p.matcher(input);\n\nwhile(m.find()){\n    System.out.println(m.group(2));\n}\n</code></pre>\n"}],"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9150064,"answer_count":3,"score":0,"last_activity_date":1692792696,"creation_date":1328450571,"question_id":9149838,"body_markdown":"I have string which is of format: \r\n    \r\n`;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;`\r\n\r\nI have written following code to find string `2011-10-23T16:16:53+0530` from `(;1=2011-10-23T16:16:53+0530;)`\r\n\r\n    Pattern pattern = Pattern.compile(&quot;(;1+)=(\\\\w+);&quot;);\r\n\r\n    String strFound= &quot;&quot;;\r\n    Matcher matcher = pattern.matcher(strindData);\r\n    while (matcher.find()) {\r\n       strFound= matcher.group(2);\r\n    }\r\n\r\nBut it is not working as expected. Can you please give me any hint?","title":"JAVA regex failing","body":"<p>I have string which is of format: </p>\n\n<p><code>;1=2011-10-23T16:16:53+0530;2=2011-10-23T16:16:53+0530;3=2011-10-23T16:16:53+0530;4=2011-10-23T16:16:53+0530;</code></p>\n\n<p>I have written following code to find string <code>2011-10-23T16:16:53+0530</code> from <code>(;1=2011-10-23T16:16:53+0530;)</code></p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(;1+)=(\\\\w+);\");\n\nString strFound= \"\";\nMatcher matcher = pattern.matcher(strindData);\nwhile (matcher.find()) {\n   strFound= matcher.group(2);\n}\n</code></pre>\n\n<p>But it is not working as expected. Can you please give me any hint?</p>\n"},{"tags":["javascript","java","regex"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1612879158,"creation_date":1325833233,"answer_id":8754472,"question_id":8754444,"body_markdown":"Change the leading and trailing `&#39;/&#39;` characters to `&#39;&quot;&#39;`, and then replace each `&#39;\\&#39;` with `&quot;\\\\&quot;`.\r\n\r\nUnlike, JavaScript, Perl and other scripting languages, Java doesn&#39;t have a special syntax for regexes.  Instead, they are (typically) expressed using Java string literals.  But `&#39;\\&#39;` is the escape character in a Java string literal, so each `&#39;\\&#39;` in the original regex has to be escaped with a 2nd `&#39;\\&#39;`.  (And if you have a literal backslash character in the regex, you end up with `&quot;\\\\\\\\&quot;` in the Java string literal!!)  \r\n\r\nThis is a bit confusing / daunting for Java novices, but it is totally logical.  Just remember that you are using a Java *string literal* to express the regex.\r\n\r\n---------\r\n\r\nHowever as @antak notes, there are various differences between the regex languages implemented by Java and JavaScript.  So if you take an arbitrary JavaScript regex and transliterate it to Java (as above) it might not work.\r\n\r\nHere are some references that summarize the differences.\r\n\r\n  - https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines\r\n  - https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>Change the leading and trailing <code>'/'</code> characters to <code>'&quot;'</code>, and then replace each <code>'\\'</code> with <code>&quot;\\\\&quot;</code>.</p>\n<p>Unlike, JavaScript, Perl and other scripting languages, Java doesn't have a special syntax for regexes.  Instead, they are (typically) expressed using Java string literals.  But <code>'\\'</code> is the escape character in a Java string literal, so each <code>'\\'</code> in the original regex has to be escaped with a 2nd <code>'\\'</code>.  (And if you have a literal backslash character in the regex, you end up with <code>&quot;\\\\\\\\&quot;</code> in the Java string literal!!)</p>\n<p>This is a bit confusing / daunting for Java novices, but it is totally logical.  Just remember that you are using a Java <em>string literal</em> to express the regex.</p>\n<hr />\n<p>However as @antak notes, there are various differences between the regex languages implemented by Java and JavaScript.  So if you take an arbitrary JavaScript regex and transliterate it to Java (as above) it might not work.</p>\n<p>Here are some references that summarize the differences.</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines</a></li>\n<li><a href=\"https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816\" rel=\"noreferrer\">https://gist.github.com/CMCDragonkai/6c933f4a7d713ef712145c5eb94a1816</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325835288,"creation_date":1325833361,"answer_id":8754491,"question_id":8754444,"body_markdown":"The only thing you have to do is to duplicate back slashes.\r\n\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a-zA-Z]&quot;);\r\n    Pattern p2 = Pattern.compile(&quot;[0-9]|[\\\\x21-\\\\x2F|\\\\x3A-\\\\x40|\\\\x5B-\\\\x60|\\\\x7B-\\\\x7E]&quot;);\r\n    \r\n    if (p1.matcher(str).find() &amp;&amp; p2.matcher(str).find()) {\r\n        return true;\r\n    }","title":"Convert Javascript regular expression to Java syntax","body":"<p>The only thing you have to do is to duplicate back slashes.</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a-zA-Z]\");\nPattern p2 = Pattern.compile(\"[0-9]|[\\\\x21-\\\\x2F|\\\\x3A-\\\\x40|\\\\x5B-\\\\x60|\\\\x7B-\\\\x7E]\");\n\nif (p1.matcher(str).find() &amp;&amp; p2.matcher(str).find()) {\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325839199,"creation_date":1325833434,"answer_id":8754505,"question_id":8754444,"body_markdown":"Java regular expressions are first and foremost strings, so you must start with double quotes and not `/`. Also, in java, you need to escape the `\\` by doing two of them like so `\\\\`. \r\n\r\nTake a look at [this][1] tutorial from Oracle for more information.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/regex/","title":"Convert Javascript regular expression to Java syntax","body":"<p>Java regular expressions are first and foremost strings, so you must start with double quotes and not <code>/</code>. Also, in java, you need to escape the <code>\\</code> by doing two of them like so <code>\\\\</code>. </p>\n\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow\">this</a> tutorial from Oracle for more information.</p>\n"},{"tags":[],"owner":{"account_id":12057011,"reputation":41,"user_id":8817433,"display_name":"Thayakoti krishna"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526390001,"creation_date":1508736925,"answer_id":46882545,"question_id":8754444,"body_markdown":"If you really need Javascript regex semantics in Java, one approach would be to use the embedded Javascript engine to evaluate the regex.   For example:\r\n\r\n    javax.script.ScriptEngineManager se = new javax.script.ScriptEngineManager();\r\n    javax.script.ScriptEngine engine = se.getEngineByName(&quot;js&quot;);\r\n    \r\n    String regExp = &quot;/^\\\\d+$/&quot;;\r\n    engine.put(&quot;str&quot;, &quot;1234&quot;);\r\n    engine.eval(&quot;var rgx=&quot; + regExp);\r\n    Object value = engine.eval(\r\n        &quot;function validate(r, s){ return (r).test(s);};validate(rgx, str);&quot;);\r\n    logger.log(value);","title":"Convert Javascript regular expression to Java syntax","body":"<p>If you really need Javascript regex semantics in Java, one approach would be to use the embedded Javascript engine to evaluate the regex.   For example:</p>\n\n<pre><code>javax.script.ScriptEngineManager se = new javax.script.ScriptEngineManager();\njavax.script.ScriptEngine engine = se.getEngineByName(\"js\");\n\nString regExp = \"/^\\\\d+$/\";\nengine.put(\"str\", \"1234\");\nengine.eval(\"var rgx=\" + regExp);\nObject value = engine.eval(\n    \"function validate(r, s){ return (r).test(s);};validate(rgx, str);\");\nlogger.log(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825361,"reputation":583,"user_id":6593782,"accept_rate":50,"display_name":"Rajas47Ashtikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540198567,"creation_date":1540198567,"answer_id":52925590,"question_id":8754444,"body_markdown":"If you want to use the same regex in Javascript as well as Java try to get the regex string at runtime, rather than trying to define the regex at compile time. At compile time it will check for syntax and it will give you invalid escape character error, however at runtime it will not check for the syntax and will directly compile the pattern.\r\n\r\nIf you can get the regex from API or can read it from locally stored text file, it will great.","title":"Convert Javascript regular expression to Java syntax","body":"<p>If you want to use the same regex in Javascript as well as Java try to get the regex string at runtime, rather than trying to define the regex at compile time. At compile time it will check for syntax and it will give you invalid escape character error, however at runtime it will not check for the syntax and will directly compile the pattern.</p>\n\n<p>If you can get the regex from API or can read it from locally stored text file, it will great.</p>\n"},{"tags":[],"owner":{"account_id":4819617,"reputation":1007,"user_id":3890692,"display_name":"Evgeny Kharitonov"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1566309928,"creation_date":1566309928,"answer_id":57575475,"question_id":8754444,"body_markdown":"You can use **online regex evaluators** like https://regex101.com for conversion.\r\n\r\n1. Go to https://regex101.com\r\n2. Choose `ECMAScript (JavaScript) FLAVOR`\r\n3. Insert your regex\r\n4. Open `TOOLS -&gt; Code Generator (LANGUAGE - Java)`\r\n5. Copy-paste\r\n\r\nEven though it isn&#39;t hardcore programmer way, it is significantly less error-prone.\r\nEspecially if you need to convert only one or two expressions.\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>You can use <strong>online regex evaluators</strong> like <a href=\"https://regex101.com\" rel=\"noreferrer\">https://regex101.com</a> for conversion.</p>\n\n<ol>\n<li>Go to <a href=\"https://regex101.com\" rel=\"noreferrer\">https://regex101.com</a></li>\n<li>Choose <code>ECMAScript (JavaScript) FLAVOR</code></li>\n<li>Insert your regex</li>\n<li>Open <code>TOOLS -&gt; Code Generator (LANGUAGE - Java)</code></li>\n<li>Copy-paste</li>\n</ol>\n\n<p>Even though it isn't hardcore programmer way, it is significantly less error-prone.\nEspecially if you need to convert only one or two expressions.</p>\n"},{"tags":[],"owner":{"account_id":10593161,"reputation":79,"user_id":7802954,"display_name":"Bhanu PS Kushwah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666095712,"creation_date":1666095712,"answer_id":74110891,"question_id":8754444,"body_markdown":"**Javascript regex pattern to java 8 regex pattern.**\r\n\r\nAbove comment I think he forget to mention some point when we convert such **complex Javascript based regex pattern**.\r\nFor example below regex basically for email validate. \r\n\r\n^(([^&lt;&gt;#&amp;%/?~()\\[\\]\\.,;:|\\s@\\&quot;]+(\\.[^&lt;&gt;#&amp;%/?~()\\[\\]\\.,;:|\\s@\\&quot;]+)*)|(\\&quot;.+\\&quot;))@((&lt;&gt;#&amp;%/?~()[\\]\\.,;:|\\s@\\&quot;]+\\.)+&lt;&gt;#&amp;%/?~()[\\]\\.,;:|\\s@\\&quot;]+)$\r\n\r\nGo to **https://regex101.com** \r\n\r\nInsert your regex. \r\n\r\nThen select Java 8 refer below screenshot. \r\n\r\nYou can see in below screenshot there is some error showing in right hand side just fix that error and copy the same script and it will work same as in JS.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI fixed that error which was showing please refer below screenshot. It will give true if user have given invalid mail address. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAdding below code snap which help you to test string cases\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString testEmailAddress = &quot;hello@gmail.com&quot;;\r\n    \t\tPattern _PATTERN = Pattern.compile(&quot;^(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+(\\\\.[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+)*)|(\\\\\\&quot;.+\\\\\\&quot;))@(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+\\\\.)+[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\&quot;]+)$&quot;);\r\n\r\n    \t\tif (!_PATTERN .matcher(testEmailAddress).matches()) {\r\n    \t\t\tSystem.out.println(true);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMy34.png\r\n  [2]: https://i.stack.imgur.com/hHIIr.png","title":"Convert Javascript regular expression to Java syntax","body":"<p><strong>Javascript regex pattern to java 8 regex pattern.</strong></p>\n<p>Above comment I think he forget to mention some point when we convert such <strong>complex Javascript based regex pattern</strong>.\nFor example below regex basically for email validate.</p>\n<p>^(([^&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+(.[^&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+)*)|(&quot;.+&quot;))@((&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+.)+&lt;&gt;#&amp;%/?~()[].,;:|\\s@&quot;]+)$</p>\n<p>Go to <strong><a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a></strong></p>\n<p>Insert your regex.</p>\n<p>Then select Java 8 refer below screenshot.</p>\n<p>You can see in below screenshot there is some error showing in right hand side just fix that error and copy the same script and it will work same as in JS.</p>\n<p><a href=\"https://i.stack.imgur.com/YMy34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMy34.png\" alt=\"enter image description here\" /></a></p>\n<p>I fixed that error which was showing please refer below screenshot. It will give true if user have given invalid mail address.</p>\n<p><a href=\"https://i.stack.imgur.com/hHIIr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hHIIr.png\" alt=\"enter image description here\" /></a></p>\n<p>Adding below code snap which help you to test string cases</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.regex.Pattern;\n\npublic class Test {\n    public static void main(String[] args) {\n        String testEmailAddress = \"hello@gmail.com\";\n        Pattern _PATTERN = Pattern.compile(\"^(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+(\\\\.[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+)*)|(\\\\\\\".+\\\\\\\"))@(([^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+\\\\.)+[^&lt;&gt;#&amp;%/?~()\\\\[\\\\]\\\\.,;:|\\\\s@\\\\\\\"]+)$\");\n\n        if (!_PATTERN .matcher(testEmailAddress).matches()) {\n            System.out.println(true);\n        } else {\n            System.out.println(false);\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":225326,"reputation":49638,"user_id":485743,"accept_rate":60,"display_name":"copenndthagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43521,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":8754472,"answer_count":7,"score":39,"last_activity_date":1692792678,"creation_date":1325833032,"question_id":8754444,"body_markdown":"I am aware that regEx are common across languages...But I am having trouble in writing the Java syntax.\r\nI have a regular expression coded in JS as;\r\n\r\n    if((/[a-zA-Z]/).test(str) &amp;&amp; (/[0-9]|[\\x21-\\x2F|\\x3A-\\x40|\\x5B-\\x60|\\x7B-\\x7E]/).test(str))    \t\t\r\n    return true;\r\n\r\nHow do I write the same in Java ?\r\n\r\nI have imported\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n\r\nJust to add, from what I am trying it is saying \\x is an invalid escape character..\r\n","title":"Convert Javascript regular expression to Java syntax","body":"<p>I am aware that regEx are common across languages...But I am having trouble in writing the Java syntax.\nI have a regular expression coded in JS as;</p>\n\n<pre><code>if((/[a-zA-Z]/).test(str) &amp;&amp; (/[0-9]|[\\x21-\\x2F|\\x3A-\\x40|\\x5B-\\x60|\\x7B-\\x7E]/).test(str))         \nreturn true;\n</code></pre>\n\n<p>How do I write the same in Java ?</p>\n\n<p>I have imported</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n</code></pre>\n\n<p>Just to add, from what I am trying it is saying \\x is an invalid escape character..</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":71375,"reputation":2999,"user_id":206502,"accept_rate":100,"display_name":"Jirka Kopřiva"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1325807344,"creation_date":1325807013,"answer_id":8751568,"question_id":8751482,"body_markdown":"There should be plus operator:\r\n\r\n    user_id : [0-9]+\r\n\r\nDouble apostrophes only when the string has to contain it.\r\n\r\nWhen the string including curly brackets use:\r\n\r\n    \\{user_id : [0-9]+\\}\r\n","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>There should be plus operator:</p>\n\n<pre><code>user_id : [0-9]+\n</code></pre>\n\n<p>Double apostrophes only when the string has to contain it.</p>\n\n<p>When the string including curly brackets use:</p>\n\n<pre><code>\\{user_id : [0-9]+\\}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1537831672,"creation_date":1325807034,"answer_id":8751574,"question_id":8751482,"body_markdown":"The `{` and `}` are special in Java&#39;s regex dialect (and most other dialects for that matter): they are the opening and closing tokens for the repetition quantifier `{n,m}` where `n` and `m` are integers. Hence the error message: &quot;Illegal repetition&quot;.\r\n\r\nYou should escape them: `&quot;\\\\{\\&quot;user_id\\&quot; : [0-9]*\\\\}&quot;`.\r\n\r\nAnd since you seem to be trying to parse JSON, I suggest you have a look at [Jackson][1].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>The <code>{</code> and <code>}</code> are special in Java's regex dialect (and most other dialects for that matter): they are the opening and closing tokens for the repetition quantifier <code>{n,m}</code> where <code>n</code> and <code>m</code> are integers. Hence the error message: \"Illegal repetition\".</p>\n\n<p>You should escape them: <code>\"\\\\{\\\"user_id\\\" : [0-9]*\\\\}\"</code>.</p>\n\n<p>And since you seem to be trying to parse JSON, I suggest you have a look at <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>.</p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664287118,"creation_date":1664221902,"answer_id":73859278,"question_id":8751482,"body_markdown":"**@IntelliJ** IDE for example detects the inconsistency. Depending on the input, What you could do is to escape the characters or handle the problem using the data provided by the exception.\r\n\r\n[![enter image description here][1]][1]\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.regex.PatternSyntaxException;\r\n\r\npublic class StackOverflow {\r\n    private static String REGEX = &quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Pattern pattern = Pattern.compile(REGEX);\r\n\r\n            // get a matcher object\r\n            String input = &quot;Hello stackoverflow&quot;;\r\n            Matcher matcher = pattern.matcher(input);\r\n            input = matcher.replaceAll(&quot;something&quot;);\r\n        } catch (PatternSyntaxException e){\r\n            System.out.println(&quot;PatternSyntaxException: &quot;);\r\n            System.out.println(&quot;Description: &quot;+ e.getDescription());\r\n            System.out.println(&quot;Index: &quot;+ e.getIndex());\r\n            System.out.println(&quot;Message: &quot;+ e.getMessage());\r\n            System.out.println(&quot;Pattern: &quot;+ e.getPattern());\r\n        }\r\n    }\r\n}\r\n```\r\n**Output** \r\n```\r\nPatternSyntaxException: \r\nDescription: Illegal repetition\r\nIndex: 1\r\nMessage: Illegal repetition near index 1\r\n{&quot;user_id&quot; : [0-9]*}\r\n ^\r\nPattern: {&quot;user_id&quot; : [0-9]*}\r\n```\r\n**Possible solution**\r\n```java\r\n\r\ncatch... ex\r\n    StringBuilder sb = new StringBuilder(text);\r\n    sb.insert(ex.getIndex() + 1, &quot;\\\\&quot;);\r\n    matcher.replaceAll(sb.toString())\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/bGgQT.png","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p><strong>@IntelliJ</strong> IDE for example detects the inconsistency. Depending on the input, What you could do is to escape the characters or handle the problem using the data provided by the exception.</p>\n<p><a href=\"https://i.stack.imgur.com/bGgQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGgQT.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.regex.PatternSyntaxException;\n\npublic class StackOverflow {\n    private static String REGEX = &quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;;\n\n    public static void main(String[] args) {\n        try {\n            Pattern pattern = Pattern.compile(REGEX);\n\n            // get a matcher object\n            String input = &quot;Hello stackoverflow&quot;;\n            Matcher matcher = pattern.matcher(input);\n            input = matcher.replaceAll(&quot;something&quot;);\n        } catch (PatternSyntaxException e){\n            System.out.println(&quot;PatternSyntaxException: &quot;);\n            System.out.println(&quot;Description: &quot;+ e.getDescription());\n            System.out.println(&quot;Index: &quot;+ e.getIndex());\n            System.out.println(&quot;Message: &quot;+ e.getMessage());\n            System.out.println(&quot;Pattern: &quot;+ e.getPattern());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>PatternSyntaxException: \nDescription: Illegal repetition\nIndex: 1\nMessage: Illegal repetition near index 1\n{&quot;user_id&quot; : [0-9]*}\n ^\nPattern: {&quot;user_id&quot; : [0-9]*}\n</code></pre>\n<p><strong>Possible solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\ncatch... ex\n    StringBuilder sb = new StringBuilder(text);\n    sb.insert(ex.getIndex() + 1, &quot;\\\\&quot;);\n    matcher.replaceAll(sb.toString())\n</code></pre>\n"}],"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124120,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":8751574,"answer_count":3,"score":131,"last_activity_date":1692792636,"creation_date":1325806465,"question_id":8751482,"body_markdown":"I don&#39;t know much regex, but I need to match a simple pattern. The following should return true,\r\n\r\n    Pattern.matches(&quot;{\\&quot;user_id\\&quot; : [0-9]*}&quot;, inputLine)\r\n\r\nwhen inputLine is\r\n\r\n    {&quot;user_id&quot; : 34}\r\n\r\nHowever, I&#39;m getting this exception:\r\n\r\n    java.util.regex.PatternSyntaxException: Illegal repetition\r\n    {&quot;user_id&quot; : 24}\r\n    \tat java.util.regex.Pattern.error(Unknown Source)\r\n    \tat java.util.regex.Pattern.closure(Unknown Source)\r\n    \tat java.util.regex.Pattern.sequence(Unknown Source)\r\n    \tat java.util.regex.Pattern.expr(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.regex.Pattern.compile(Unknown Source)\r\n    \tat java.util.regex.Pattern.matches(Unknown Source)\r\n    \tat org.whispercomm.manes.server.http.IntegrationTest.createUser(IntegrationTest.java:173)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nWhat am I doing wrong?","title":"PatternSyntaxException: Illegal Repetition when using regex in Java","body":"<p>I don't know much regex, but I need to match a simple pattern. The following should return true,</p>\n\n<pre><code>Pattern.matches(\"{\\\"user_id\\\" : [0-9]*}\", inputLine)\n</code></pre>\n\n<p>when inputLine is</p>\n\n<pre><code>{\"user_id\" : 34}\n</code></pre>\n\n<p>However, I'm getting this exception:</p>\n\n<pre><code>java.util.regex.PatternSyntaxException: Illegal repetition\n{\"user_id\" : 24}\n    at java.util.regex.Pattern.error(Unknown Source)\n    at java.util.regex.Pattern.closure(Unknown Source)\n    at java.util.regex.Pattern.sequence(Unknown Source)\n    at java.util.regex.Pattern.expr(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\n    at java.util.regex.Pattern.compile(Unknown Source)\n    at java.util.regex.Pattern.matches(Unknown Source)\n    at org.whispercomm.manes.server.http.IntegrationTest.createUser(IntegrationTest.java:173)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","regex","serial-port"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324892902,"post_id":8634591,"comment_id":10723428,"body_markdown":"What do you mean by &quot;alphabet a&quot;? `(a)` will just capture the `a` character in a group, you don&#39;t even need the parentheses here if you don&#39;t want to catpure the a. Same goes for the space and the quote.","body":"What do you mean by &quot;alphabet a&quot;? <code>(a)</code> will just capture the <code>a</code> character in a group, you don&#39;t even need the parentheses here if you don&#39;t want to catpure the a. Same goes for the space and the quote."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324893008,"post_id":8634591,"comment_id":10723452,"body_markdown":"And you didn&#39;t tell what you wanted to capture either. Give sample input data and what you want as a result.","body":"And you didn&#39;t tell what you wanted to capture either. Give sample input data and what you want as a result."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898022,"post_id":8634591,"comment_id":10724193,"body_markdown":"The above string will be a the sample data. Following a there will 017 and a space. This string is read through the serial port from a device.","body":"The above string will be a the sample data. Following a there will 017 and a space. This string is read through the serial port from a device."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898159,"post_id":8634591,"comment_id":10724209,"body_markdown":"oh so how will my pattern be defined? thank you","body":"oh so how will my pattern be defined? thank you"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324898215,"post_id":8634591,"comment_id":10724221,"body_markdown":"Please edit your post to include that sample data and what you want out of it","body":"Please edit your post to include that sample data and what you want out of it"},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324898762,"post_id":8634591,"comment_id":10724302,"body_markdown":"On running the above program, I couldn&#39;t append the file or get a value for m1.group(); \nis this because of continous flow of data or any logical issues with my code?","body":"On running the above program, I couldn&#39;t append the file or get a value for m1.group();  is this because of continous flow of data or any logical issues with my code?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324899003,"post_id":8634591,"comment_id":10724328,"body_markdown":"I&#39;m sorry, I just don&#39;t understand, is this really all you want to extract? Where does that come from?","body":"I&#39;m sorry, I just don&#39;t understand, is this really all you want to extract? Where does that come from?"},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324899105,"post_id":8634591,"comment_id":10724346,"body_markdown":"its being generated by an external machine through a serial port.The sample data is similar to wat the machine sends. This data is read and then decoded.What i&#39;m trying to do is decode as and when i receive it.","body":"its being generated by an external machine through a serial port.The sample data is similar to wat the machine sends. This data is read and then decoded.What i&#39;m trying to do is decode as and when i receive it."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1324903021,"post_id":8634591,"comment_id":10724985,"body_markdown":"OK, but I don&#39;t see how your sample data relates to the CSV at all. Please be more specific.","body":"OK, but I don&#39;t see how your sample data relates to the CSV at all. Please be more specific."},{"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"score":0,"creation_date":1324912697,"post_id":8634591,"comment_id":10726573,"body_markdown":"I&#39;m appending the System time , 17 , 00\n17 comes from pattern p1 and 00 comes from pattern p2. \ni defined a \nFileWriter writer = new FileWriter(&quot;test.csv&quot;);","body":"I&#39;m appending the System time , 17 , 00 17 comes from pattern p1 and 00 comes from pattern p2.  i defined a  FileWriter writer = new FileWriter(&quot;test.csv&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":451220,"reputation":36,"user_id":846988,"display_name":"cheapwax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1359319331,"creation_date":1359319331,"answer_id":14552033,"question_id":8634591,"body_markdown":"Let&#39;s clarify the specification based on the comments.  This is the input string:\r\n\r\n   79 0009a017 009a047\r\n\r\nThis is the output string:\r\n\r\n    017,00\r\n\r\nAnd &quot;017&quot; is a decimal (not octal) number.  It may be convient to format it as &quot;17&quot; later.\r\n\r\nAs was mentioned in the comments, this regular expression is incorrect:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;\\\\b(a)\\\\w*( )\\\\b&quot;);\r\n\r\nIt should be:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;a(\\\\d+) (\\\\d{2})&quot;);\r\n\r\nQuick demonstration:\r\n\r\n    echo &quot;79 0009a017 009a047&quot; | perl -lne &#39;print $1,&quot;,&quot;,$2 if /a(\\d+) (\\d{2})/&#39;\r\n    017,00\r\n\r\n","title":"Calling a matcher function inside a try while reading continuous data using GNU","body":"<p>Let's clarify the specification based on the comments.  This is the input string:</p>\n\n<p>79 0009a017 009a047</p>\n\n<p>This is the output string:</p>\n\n<pre><code>017,00\n</code></pre>\n\n<p>And \"017\" is a decimal (not octal) number.  It may be convient to format it as \"17\" later.</p>\n\n<p>As was mentioned in the comments, this regular expression is incorrect:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"\\\\b(a)\\\\w*( )\\\\b\");\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"a(\\\\d+) (\\\\d{2})\");\n</code></pre>\n\n<p>Quick demonstration:</p>\n\n<pre><code>echo \"79 0009a017 009a047\" | perl -lne 'print $1,\",\",$2 if /a(\\d+) (\\d{2})/'\n017,00\n</code></pre>\n"}],"owner":{"account_id":1089017,"reputation":4331,"user_id":1084075,"accept_rate":66,"display_name":"Siddharthan Asokan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14552033,"answer_count":1,"score":2,"last_activity_date":1692792592,"creation_date":1324892753,"question_id":8634591,"body_markdown":"    case SerialPortEvent.DATA_AVAILABLE:\r\n\r\n          byte[] readBuffer = new byte[64];\r\n         try {\r\n                // read data\r\n                int numBytes = inputStream.read(readBuffer);\r\n                inputStream.close();\r\n                //-------------------------------\r\n               //send the received data to the GUI\r\n                String result = new String(readBuffer,0,numBytes);\r\n                //-----------------------------\r\n                gui.setjtaReceived(result);\r\n               \r\n                matcher(result,writer,df);\r\n\t\t\t\t//gui.setjtaReceived(result);\r\n         }\r\n         catch (IOException e) {exceptionReport(e);}\r\n\r\nIn the above switch case for SerialPortEvent.Dat_Available, I&#39;m receiving continuous data in real time. The matcher function calls for the below defined function\r\n\r\n        private void matcher(String str,FileWriter writer,DateFormat df) {\r\n        Matcher m1 = p1.matcher(str);\r\n        Matcher m2 = p2.matcher(str);\r\n    \tSystem.out.println(m1.group());\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tString match_heartBeat = null;\r\n    \tString match1 = m1.group();\r\n \t\tint length1 = match1.length();\r\n \t    if(m2.find()){\r\n \t    \tString match2 = m2.group();\r\n \t    \tint length2 = match2.length();\r\n \t    \tmatch_heartBeat = match2.substring(2, length2-1);\r\n \t    \t//System.out.println(match1.subSequence(2, 4) + &quot;;&quot; + match_heartBeat);\r\n \t    }\r\n \t    String realTime = df.format(cal.getTime());\r\n \t    writer.append(realTime);\r\n \t    writer.append(&#39;,&#39;);\r\n \t    writer.append(match1.subSequence(2, length1-1));\r\n \t    writer.append(&#39;,&#39;);\r\n \t    writer.append(match_heartBeat);\r\n \t    writer.append(&#39;\\n&#39;);\r\n \t    writer.flush();\r\n    \t\r\n     \t\r\n     }\r\nWhen I tried writing to an external csv file or even doing a System.out.println(m1.group) or System.out.println(match_heartBeat), I couldn&#39;t write it to the file or print to screen. however System.out.println(m1) is printed on screen. Any idea how to overcome this? I&#39;m trying to decode the data received in realtime. \r\nThe pattern is as follows:\r\n\r\n        Pattern p1 = Pattern.compile(&quot;\\\\b(a)\\\\w*( )\\\\b&quot;);\r\n        Pattern p2 = Pattern.compile(&quot;\\\\b(&#39;)\\\\w*( )\\\\b&quot;);\r\nIt looks for alphabet &#39;a&#39; until space and &#39; to space. The file &#39;writer&#39; is generated once the program starts running. But could append the decoded data.\r\n\r\nSample data:\r\n\r\n    79 0009a017 009a047 9%0009a047 90009a046 9%0009a0469 0009a045 9%0009a0459&#39;00 90009a045 9%0009a044 90009a044 9%0009a044 9 \r\n\r\nSample output\r\nCSV file\r\n\r\n    System time , 17 , 00","title":"Calling a matcher function inside a try while reading continuous data using GNU","body":"<pre><code>case SerialPortEvent.DATA_AVAILABLE:\n\n      byte[] readBuffer = new byte[64];\n     try {\n            // read data\n            int numBytes = inputStream.read(readBuffer);\n            inputStream.close();\n            //-------------------------------\n           //send the received data to the GUI\n            String result = new String(readBuffer,0,numBytes);\n            //-----------------------------\n            gui.setjtaReceived(result);\n\n            matcher(result,writer,df);\n            //gui.setjtaReceived(result);\n     }\n     catch (IOException e) {exceptionReport(e);}\n</code></pre>\n\n<p>In the above switch case for SerialPortEvent.Dat_Available, I'm receiving continuous data in real time. The matcher function calls for the below defined function</p>\n\n<pre><code>    private void matcher(String str,FileWriter writer,DateFormat df) {\n    Matcher m1 = p1.matcher(str);\n    Matcher m2 = p2.matcher(str);\n    System.out.println(m1.group());\n    Calendar cal = Calendar.getInstance();\n    String match_heartBeat = null;\n    String match1 = m1.group();\n    int length1 = match1.length();\n    if(m2.find()){\n        String match2 = m2.group();\n        int length2 = match2.length();\n        match_heartBeat = match2.substring(2, length2-1);\n        //System.out.println(match1.subSequence(2, 4) + \";\" + match_heartBeat);\n    }\n    String realTime = df.format(cal.getTime());\n    writer.append(realTime);\n    writer.append(',');\n    writer.append(match1.subSequence(2, length1-1));\n    writer.append(',');\n    writer.append(match_heartBeat);\n    writer.append('\\n');\n    writer.flush();\n\n\n }\n</code></pre>\n\n<p>When I tried writing to an external csv file or even doing a System.out.println(m1.group) or System.out.println(match_heartBeat), I couldn't write it to the file or print to screen. however System.out.println(m1) is printed on screen. Any idea how to overcome this? I'm trying to decode the data received in realtime. \nThe pattern is as follows:</p>\n\n<pre><code>    Pattern p1 = Pattern.compile(\"\\\\b(a)\\\\w*( )\\\\b\");\n    Pattern p2 = Pattern.compile(\"\\\\b(')\\\\w*( )\\\\b\");\n</code></pre>\n\n<p>It looks for alphabet 'a' until space and ' to space. The file 'writer' is generated once the program starts running. But could append the decoded data.</p>\n\n<p>Sample data:</p>\n\n<pre><code>79 0009a017 009a047 9%0009a047 90009a046 9%0009a0469 0009a045 9%0009a0459'00 90009a045 9%0009a044 90009a044 9%0009a044 9 \n</code></pre>\n\n<p>Sample output\nCSV file</p>\n\n<pre><code>System time , 17 , 00\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1316723739,"post_id":7521118,"comment_id":9109780,"body_markdown":"Is this a post-mortem fix for a character encoding issue?","body":"Is this a post-mortem fix for a character encoding issue?"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1316723742,"post_id":7521118,"comment_id":9109781,"body_markdown":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?","body":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?"},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1316723768,"post_id":7521118,"comment_id":9109790,"body_markdown":"How will you avoid `Is this John?s ball?` from turning into `Is this John&#39;s ball&#39;`","body":"How will you avoid <code>Is this John?s ball?</code> from turning into <code>Is this John&#39;s ball&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":374427,"reputation":81252,"user_id":724626,"accept_rate":100,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1316724165,"creation_date":1316723827,"answer_id":7521181,"question_id":7521118,"body_markdown":"[string.replaceall][1]\r\n\r\n     String fixed = old.replaceAll(&quot;\\\\?([ts])&quot;, &quot;&#39;$1&quot;);\r\n\r\nHere&#39;s an [**example**][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://ideone.com/cJEYh","title":"Replace a character squence in java using regular expression","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">string.replaceall</a></p>\n\n<pre><code> String fixed = old.replaceAll(\"\\\\?([ts])\", \"'$1\");\n</code></pre>\n\n<p>Here's an <a href=\"http://ideone.com/cJEYh\" rel=\"nofollow\"><strong>example</strong></a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316725197,"creation_date":1316725197,"answer_id":7521456,"question_id":7521118,"body_markdown":"In this case you could use:\r\n\r\n    s = s.replaceAll(&quot;\\\\b?\\\\b&quot;, &quot;&#39;&quot;);\r\n\r\nThen you&#39;ll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:\r\n\r\n    &quot;This ball isn’t yours, this one is John’s&quot;\r\n\r\nIf it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that&#39;s the case, you&#39;re likely to find other characters, like curly double-quotes (`“ ”`), en-dash (`–`) and em-dash (`—`), that have been munged in the same way.","title":"Replace a character squence in java using regular expression","body":"<p>In this case you could use:</p>\n\n<pre><code>s = s.replaceAll(\"\\\\b?\\\\b\", \"'\");\n</code></pre>\n\n<p>Then you'll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:</p>\n\n<pre><code>\"This ball isn’t yours, this one is John’s\"\n</code></pre>\n\n<p>If it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that's the case, you're likely to find other characters, like curly double-quotes (<code>“ ”</code>), en-dash (<code>–</code>) and em-dash (<code>—</code>), that have been munged in the same way.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792565,"creation_date":1692792565,"answer_id":76961221,"question_id":7521118,"body_markdown":"In this particular case, a regular expression is not needed.\r\n```\r\nString s = &quot;This ball isn?t yours, this one is John?s&quot;;\r\ns = s.replace(&quot;?&quot;,&quot;&#39;&quot;);\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\nThis ball isn&#39;t yours, this one is John&#39;s\r\n","title":"Replace a character squence in java using regular expression","body":"<p>In this particular case, a regular expression is not needed.</p>\n<pre><code>String s = &quot;This ball isn?t yours, this one is John?s&quot;;\ns = s.replace(&quot;?&quot;,&quot;'&quot;);\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>This ball isn't yours, this one is John's\n</code></pre>\n"}],"owner":{"account_id":357104,"reputation":335,"user_id":697053,"accept_rate":47,"display_name":"Amer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7521181,"answer_count":3,"score":0,"last_activity_date":1692792565,"creation_date":1316723549,"question_id":7521118,"body_markdown":"I have the following text\r\n\r\n&quot;This ball isn?t yours, this one is John?s&quot;\r\n\r\nI want to correct this to be \r\n\r\n&quot;This ball isn&#39;t yours, this one is John&#39;s&quot;\r\n\r\nHow can I do this in Java using Pattern and Matcher?","title":"Replace a character squence in java using regular expression","body":"<p>I have the following text</p>\n\n<p>\"This ball isn?t yours, this one is John?s\"</p>\n\n<p>I want to correct this to be </p>\n\n<p>\"This ball isn't yours, this one is John's\"</p>\n\n<p>How can I do this in Java using Pattern and Matcher?</p>\n"},{"tags":["java","regex","regex-greedy"],"comments":[{"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1324285678,"post_id":8558966,"comment_id":10608238,"body_markdown":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?","body":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324286594,"post_id":8558966,"comment_id":10608465,"body_markdown":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33","body":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324287641,"post_id":8558966,"comment_id":10608723,"body_markdown":"I use:\n    Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);\n    Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(&quot;matches = &quot; + matches);","body":"I use:     Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);     Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);     int start = 0;     List&lt;String&gt; matches = new ArrayList&lt;String&gt;();     while (m.find()) {         matches.add(m.group());     }     System.err.println(&quot;matches = &quot; + matches);"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324285138,"creation_date":1324285138,"answer_id":8558993,"question_id":8558966,"body_markdown":"Use `(?!77)(\\d\\d)` as a `Pattern` and `while (m.find()) { m.group(1) }` where `m` is a `Matcher`.","title":"Java Regexp Groups","body":"<p>Use <code>(?!77)(\\d\\d)</code> as a <code>Pattern</code> and <code>while (m.find()) { m.group(1) }</code> where <code>m</code> is a <code>Matcher</code>.</p>\n"},{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324285549,"creation_date":1324285549,"answer_id":8559046,"question_id":8558966,"body_markdown":"Groups are fixed, you cannot use &quot;+&quot; on a group to get a list of matches. You have to do this with a loop:\r\n\r\n        Pattern p = Pattern.compile(&quot;((11)|(33)|(55))&quot;);\r\n        Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\r\n        int start = 0;\r\n        List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n        while (m.find()) {\r\n            matches.add(m.group());\r\n        }\r\n        System.err.println(&quot;matches = &quot; + matches);\r\n","title":"Java Regexp Groups","body":"<p>Groups are fixed, you cannot use \"+\" on a group to get a list of matches. You have to do this with a loop:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"((11)|(33)|(55))\");\n    Matcher m = p.matcher(\"asd11sdf33sdf55sdfg77sdf\");\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(\"matches = \" + matches);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455438,"reputation":2729,"user_id":853599,"accept_rate":95,"display_name":"Dante WWWW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324286578,"creation_date":1324286135,"answer_id":8559159,"question_id":8558966,"body_markdown":"try to use  \r\n\r\n    .*?(11|33|55)\r\n\r\nas your regexp to compile the pattern, and use the loop in fge&#39;s answer. (and I think his answer is more universal and meaningful...\r\n\r\nThis is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)\r\n\r\nThis way you will get a match whose match(1) is 11, find() is the match of string after 11.\r\n\r\ntested with http://www.regexplanet.com/simple/index.html","title":"Java Regexp Groups","body":"<p>try to use  </p>\n\n<pre><code>.*?(11|33|55)\n</code></pre>\n\n<p>as your regexp to compile the pattern, and use the loop in fge's answer. (and I think his answer is more universal and meaningful...</p>\n\n<p>This is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)</p>\n\n<p>This way you will get a match whose match(1) is 11, find() is the match of string after 11.</p>\n\n<p>tested with <a href=\"http://www.regexplanet.com/simple/index.html\" rel=\"nofollow\">http://www.regexplanet.com/simple/index.html</a></p>\n"}],"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8558993,"answer_count":3,"score":2,"last_activity_date":1692792504,"creation_date":1324284939,"question_id":8558966,"body_markdown":"I need a expression to extract some alternatives. The input is:\r\n\r\n    asd11sdf33sdf55sdfg77sdf\r\n\r\nI need the 11 33 and 55 but not 77.\r\n\r\nI tried first: \r\n\r\n    .*(((11)|(33)|(55)).*)+.*\r\n\r\nSo I got only 55. But with lazy (non greedy)\r\n\r\n    .*?(((11)|(33)|(55)).*)+.*\r\n\r\nI got only 11. How to get all?\r\n\r\nregards Thomas\r\n","title":"Java Regexp Groups","body":"<p>I need a expression to extract some alternatives. The input is:</p>\n\n<pre><code>asd11sdf33sdf55sdfg77sdf\n</code></pre>\n\n<p>I need the 11 33 and 55 but not 77.</p>\n\n<p>I tried first: </p>\n\n<pre><code>.*(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>So I got only 55. But with lazy (non greedy)</p>\n\n<pre><code>.*?(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>I got only 11. How to get all?</p>\n\n<p>regards Thomas</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1324233048,"creation_date":1324233048,"answer_id":8553813,"question_id":8553761,"body_markdown":"It is helpful to change\r\n\r\n    System.out.print(m.start() + m.group());\r\n\r\nto\r\n\r\n    System.out.println(m.start() + &quot;: &quot; + m.group());\r\n\r\nThis way the output is much clearer:\r\n\r\n    0: \r\n    1: \r\n    2: 34\r\n    4: \r\n    5: \r\n    6: \r\n\r\nYou can see that it matched at 7 different positions: at position 2 it matched string &quot;34&quot; and at any other position it matched an empty string. **Empty string matches at the end** as well, which is why you see &quot;6&quot; at the end of your output.\r\n\r\nNote that if you run your program like this:\r\n\r\n    java Regex2 &quot;\\d+&quot; ab34ef\r\n\r\nit will only output\r\n\r\n    2: 34\r\n","title":"Regular expression - Greedy quantifier","body":"<p>It is helpful to change</p>\n\n<pre><code>System.out.print(m.start() + m.group());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>System.out.println(m.start() + \": \" + m.group());\n</code></pre>\n\n<p>This way the output is much clearer:</p>\n\n<pre><code>0: \n1: \n2: 34\n4: \n5: \n6: \n</code></pre>\n\n<p>You can see that it matched at 7 different positions: at position 2 it matched string \"34\" and at any other position it matched an empty string. <strong>Empty string matches at the end</strong> as well, which is why you see \"6\" at the end of your output.</p>\n\n<p>Note that if you run your program like this:</p>\n\n<pre><code>java Regex2 \"\\d+\" ab34ef\n</code></pre>\n\n<p>it will only output</p>\n\n<pre><code>2: 34\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1441914463,"accepted_answer_id":8553813,"answer_count":1,"score":0,"last_activity_date":1692792373,"creation_date":1324232601,"question_id":8553761,"body_markdown":"I am really struggling with this question: \r\n\r\n    import java.util.regex.*;    \r\n    class Regex2 {    \r\n        public static void main(String[] args) {    \r\n            Pattern p = Pattern.compile(args[0]);    \r\n            Matcher m = p.matcher(args[1]);    \r\n            boolean b = false;    \r\n            while(b = m.find()) {    \r\n                System.out.print(m.start() + m.group());    \r\n            }    \r\n        }\r\n    }  \r\n\r\nWhen the above program is run with the following command:\r\n\r\n    java Regex2 &quot;\\d*&quot; ab34ef \r\n\r\nIt outputs `01234456`. I don&#39;t really understand this output. Consider the following indexes for each of the characters:\r\n\r\n    a b 3 4 e f\r\n    ^ ^ ^ ^ ^ ^\r\n    0 1 2 3 4 5\r\n\r\nShouldn&#39;t the output have been `0123445`?\r\n\r\nI have been reading around and it looks like the RegEx engine will also read the end of the string but I just don&#39;t understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. ","title":"Regular expression - Greedy quantifier","body":"<p>I am really struggling with this question: </p>\n\n<pre><code>import java.util.regex.*;    \nclass Regex2 {    \n    public static void main(String[] args) {    \n        Pattern p = Pattern.compile(args[0]);    \n        Matcher m = p.matcher(args[1]);    \n        boolean b = false;    \n        while(b = m.find()) {    \n            System.out.print(m.start() + m.group());    \n        }    \n    }\n}  \n</code></pre>\n\n<p>When the above program is run with the following command:</p>\n\n<pre><code>java Regex2 \"\\d*\" ab34ef \n</code></pre>\n\n<p>It outputs <code>01234456</code>. I don't really understand this output. Consider the following indexes for each of the characters:</p>\n\n<pre><code>a b 3 4 e f\n^ ^ ^ ^ ^ ^\n0 1 2 3 4 5\n</code></pre>\n\n<p>Shouldn't the output have been <code>0123445</code>?</p>\n\n<p>I have been reading around and it looks like the RegEx engine will also read the end of the string but I just don't understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. </p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1505368828,"post_id":46211554,"comment_id":79386059,"body_markdown":"Have you research any thing?","body":"Have you research any thing?"},{"owner":{"account_id":9094546,"reputation":1250,"user_id":6768947,"accept_rate":67,"display_name":"passion"},"score":0,"creation_date":1505369421,"post_id":46211554,"comment_id":79386318,"body_markdown":"set unwanted field null","body":"set unwanted field null"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1505370218,"post_id":46211554,"comment_id":79386688,"body_markdown":"Possible duplicate of [Ignoring new fields on JSON objects using Jackson](https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson\">Ignoring new fields on JSON objects using Jackson</a>"}],"answers":[{"tags":[],"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505369583,"creation_date":1505369583,"answer_id":46211787,"question_id":46211554,"body_markdown":"Annotate your POJO `id` and `name` attributes with @JsonProperty and manager with @JsonIgnore\r\n\r\nWhen you want just `id` and `name`, use a default ObjectMapper.\r\nWhen you want all fields, use a custom ObjectMapper per this [question/answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>Annotate your POJO <code>id</code> and <code>name</code> attributes with @JsonProperty and manager with @JsonIgnore</p>\n\n<p>When you want just <code>id</code> and <code>name</code>, use a default ObjectMapper.\nWhen you want all fields, use a custom ObjectMapper per this <a href=\"https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally\">question/answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505370153,"creation_date":1505370153,"answer_id":46211928,"question_id":46211554,"body_markdown":"There are many ways to do this:\r\n\r\n1. set unwanted field to `null`, and use `@JsonInclude(Include.NON_NULL)` annotation at class level.\r\n\r\n2. supply `SimpleBeanPropertyFilter`, while using `ObjectMapper` and use annotation `@JsonFilter(&lt;filter_name&gt;)` at class level.\r\n\r\n3. use a custom-serializer.","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>There are many ways to do this:</p>\n\n<ol>\n<li><p>set unwanted field to <code>null</code>, and use <code>@JsonInclude(Include.NON_NULL)</code> annotation at class level.</p></li>\n<li><p>supply <code>SimpleBeanPropertyFilter</code>, while using <code>ObjectMapper</code> and use annotation <code>@JsonFilter(&lt;filter_name&gt;)</code> at class level.</p></li>\n<li><p>use a custom-serializer.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792111,"creation_date":1692792111,"answer_id":76961160,"question_id":46211554,"body_markdown":"You can achieve this with `@JsonView` (kudos to [baeldung][1]):\r\n\r\n**`@JsonView` indicates the View in which the property will be included for serialization/deserialization.**\r\n\r\nFor example, we&#39;ll use @JsonView to serialize an instance of Item entity.\r\n\r\nFirst, let&#39;s start with the views:\r\n```java\r\npublic class Views {\r\n    public static class Public {}\r\n    public static class Internal extends Public {}\r\n}\r\n```\r\nNext here&#39;s the Item entity using the views:\r\n```java\r\npublic class Item {\r\n    @JsonView(Views.Public.class)\r\n    public int id;\r\n\r\n    @JsonView(Views.Public.class)\r\n    public String itemName;\r\n\r\n    @JsonView(Views.Internal.class)\r\n    public String ownerName;\r\n}\r\n```\r\nFinally, the full test:\r\n```java\r\n@Test\r\npublic void whenSerializingUsingJsonView_thenCorrect()\r\n  throws JsonProcessingException {\r\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\r\n\r\n    String result = new ObjectMapper()\r\n      .writerWithView(Views.Public.class)\r\n      .writeValueAsString(item);\r\n\r\n    assertThat(result, containsString(&quot;book&quot;));\r\n    assertThat(result, containsString(&quot;2&quot;));\r\n    assertThat(result, not(containsString(&quot;John&quot;)));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations#bd-4-jsonview","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>You can achieve this with <code>@JsonView</code> (kudos to <a href=\"https://www.baeldung.com/jackson-annotations#bd-4-jsonview\" rel=\"nofollow noreferrer\">baeldung</a>):</p>\n<p><strong><code>@JsonView</code> indicates the View in which the property will be included for serialization/deserialization.</strong></p>\n<p>For example, we'll use @JsonView to serialize an instance of Item entity.</p>\n<p>First, let's start with the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static class Public {}\n    public static class Internal extends Public {}\n}\n</code></pre>\n<p>Next here's the Item entity using the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item {\n    @JsonView(Views.Public.class)\n    public int id;\n\n    @JsonView(Views.Public.class)\n    public String itemName;\n\n    @JsonView(Views.Internal.class)\n    public String ownerName;\n}\n</code></pre>\n<p>Finally, the full test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whenSerializingUsingJsonView_thenCorrect()\n  throws JsonProcessingException {\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\n\n    String result = new ObjectMapper()\n      .writerWithView(Views.Public.class)\n      .writeValueAsString(item);\n\n    assertThat(result, containsString(&quot;book&quot;));\n    assertThat(result, containsString(&quot;2&quot;));\n    assertThat(result, not(containsString(&quot;John&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":9656169,"reputation":9,"user_id":7165659,"display_name":"D.Zhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1692792111,"creation_date":1505368583,"question_id":46211554,"body_markdown":"I have a java class \r\n\r\n        public class CategoryItem implements Serializable {\r\n        private Long id;            \r\n    \r\n        private String name;           \r\n    \r\n        private Manager manager;\r\n    }\r\n\r\nIn one case,I need to convert all the fields to json.\r\non the other case,I only need &#39;id&#39;and &#39;name&#39; \r\nHow can I do? \r\n\r\nGive me some tips.Thanks\r\n","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>I have a java class </p>\n\n<pre><code>    public class CategoryItem implements Serializable {\n    private Long id;            \n\n    private String name;           \n\n    private Manager manager;\n}\n</code></pre>\n\n<p>In one case,I need to convert all the fields to json.\non the other case,I only need 'id'and 'name' \nHow can I do? </p>\n\n<p>Give me some tips.Thanks</p>\n"},{"tags":["java","regex","backreference"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1319397892,"post_id":7868553,"comment_id":9599549,"body_markdown":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong","body":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong"},{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":1,"creation_date":1319398092,"post_id":7868553,"comment_id":9599575,"body_markdown":"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String) Nothing strange here. Probably your second backreference is empty?","body":"<a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\">download.oracle.com/javase/7/docs/api/java/util/regex/&hellip;</a> Nothing strange here. Probably your second backreference is empty?"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319398249,"creation_date":1319398249,"answer_id":7868596,"question_id":7868553,"body_markdown":"It works just fine. The following snippet:\r\n\r\n    Pattern p = Pattern.compile(&quot;(.)(.)&quot;);\r\n    Matcher m = p.matcher(&quot;ab&quot;);\r\n    System.out.println(m.replaceAll(&quot;$2$1&quot;));\r\n\r\nwill print:\r\n\r\n    ba","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p>It works just fine. The following snippet:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.)(.)\");\nMatcher m = p.matcher(\"ab\");\nSystem.out.println(m.replaceAll(\"$2$1\"));\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>ba\n</code></pre>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7868596,"answer_count":1,"score":1,"last_activity_date":1692792017,"creation_date":1319397793,"question_id":7868553,"body_markdown":"`Matcher.replaceAll()` with a **single** [backreference][1] works great (i.e. `Matcher.replaceAll(&quot;$2&quot;)`).\r\n\r\nBut I haven&#39;t been able to make it work with two or more backreferences, e.g. `Matcher.replaceAll(&quot;$1$2&quot;)`.\r\n\r\nDoes `Matcher.replaceAll()` support multiple backreferences at all? If so, what is the proper syntax to use it?\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/java.html","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p><code>Matcher.replaceAll()</code> with a <strong>single</strong> <a href=\"http://www.regular-expressions.info/java.html\" rel=\"nofollow\">backreference</a> works great (i.e. <code>Matcher.replaceAll(\"$2\")</code>).</p>\n\n<p>But I haven't been able to make it work with two or more backreferences, e.g. <code>Matcher.replaceAll(\"$1$2\")</code>.</p>\n\n<p>Does <code>Matcher.replaceAll()</code> support multiple backreferences at all? If so, what is the proper syntax to use it?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319314318,"creation_date":1319313174,"answer_id":7862192,"question_id":7862167,"body_markdown":"I have no idea about android but this regex : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\r\nWill match any **non** alphanumeric character. If you would expand it, it would look like this : \r\n\r\n    [^a-zA-Z0-9_]\r\n\r\nIf you want to match a single alphanumeric character including _ just use  : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w&quot;);\r\n\r\nelse use : `Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]&quot;);`","title":"Android regex always returning false","body":"<p>I have no idea about android but this regex : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\W\");\n</code></pre>\n\n<p>Will match any <strong>non</strong> alphanumeric character. If you would expand it, it would look like this : </p>\n\n<pre><code>[^a-zA-Z0-9_]\n</code></pre>\n\n<p>If you want to match a single alphanumeric character including _ just use  : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w\");\n</code></pre>\n\n<p>else use : <code>Pattern p = Pattern.compile(\"[a-zA-Z0-9]\");</code></p>\n"},{"tags":[],"owner":{"account_id":250517,"reputation":30575,"user_id":527288,"accept_rate":81,"display_name":"Kurtis Nusbaum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319317505,"creation_date":1319313399,"answer_id":7862209,"question_id":7862167,"body_markdown":"If you want a regular express that **matches all alphanumeric characters** try `[a-zA-Z0-9]*`. If you want to **match all non alphanumeric characters in a string** try this `\\\\W*`","title":"Android regex always returning false","body":"<p>If you want a regular express that <strong>matches all alphanumeric characters</strong> try <code>[a-zA-Z0-9]*</code>. If you want to <strong>match all non alphanumeric characters in a string</strong> try this <code>\\\\W*</code></p>\n"},{"tags":[],"owner":{"account_id":896870,"reputation":5766,"user_id":933926,"accept_rate":100,"display_name":"aleph_null"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319313853,"creation_date":1319313853,"answer_id":7862247,"question_id":7862167,"body_markdown":"The Matcher method, &quot;matches&quot;, tries to match the Pattern against the entire region. The regular expression &quot;\\\\W&quot; matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  &quot;&amp;$@R@,&quot;, it will return false since the string contains more than just a single non-alphanumeric character.\r\n","title":"Android regex always returning false","body":"<p>The Matcher method, \"matches\", tries to match the Pattern against the entire region. The regular expression \"\\W\" matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  \"&amp;$@R@,\", it will return false since the string contains more than just a single non-alphanumeric character.</p>\n"},{"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319314131,"creation_date":1319314131,"answer_id":7862269,"question_id":7862167,"body_markdown":"First of all an uppercase `W` matches any **non**-alphanumeric character. Secondly you only matches **one** single character. To match that the string only contains alphanumerical characters use the following regex:\r\n\r\n    String pattern = &quot;[\\\\w]*&quot;;\r\n\r\nNote that `\\w` also matches underscore.","title":"Android regex always returning false","body":"<p>First of all an uppercase <code>W</code> matches any <strong>non</strong>-alphanumeric character. Secondly you only matches <strong>one</strong> single character. To match that the string only contains alphanumerical characters use the following regex:</p>\n\n<pre><code>String pattern = \"[\\\\w]*\";\n</code></pre>\n\n<p>Note that <code>\\w</code> also matches underscore.</p>\n"},{"tags":[],"owner":{"account_id":23634,"reputation":9967,"user_id":59352,"accept_rate":100,"display_name":"Lycha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1319314507,"creation_date":1319314507,"answer_id":7862296,"question_id":7862167,"body_markdown":"Instead of `matches()` which tries to match the whole string to pattern you can use `find()` which just tries to find any occurrence of the pattern. [Source][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29","title":"Android regex always returning false","body":"<p>Instead of <code>matches()</code> which tries to match the whole string to pattern you can use <code>find()</code> which just tries to find any occurrence of the pattern. <a href=\"http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319316775,"creation_date":1319316775,"answer_id":7862527,"question_id":7862167,"body_markdown":"`\\W` (or as a java string literal, `&quot;\\\\W&quot;`) matches one non-word character.  The `matches()` method implicitly anchors the match at both ends, as if you had really written `&quot;\\\\A\\\\W\\\\z&quot;`.  So you&#39;ll only get a match if the string consists of exactly *one* non-word character.  If you want to match **one or more** characters, you should change the regex to \r\n\r\n    &quot;\\\\W+&quot;","title":"Android regex always returning false","body":"<p><code>\\W</code> (or as a java string literal, <code>\"\\\\W\"</code>) matches one non-word character.  The <code>matches()</code> method implicitly anchors the match at both ends, as if you had really written <code>\"\\\\A\\\\W\\\\z\"</code>.  So you'll only get a match if the string consists of exactly <em>one</em> non-word character.  If you want to match <strong>one or more</strong> characters, you should change the regex to </p>\n\n<pre><code>\"\\\\W+\"\n</code></pre>\n"}],"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7862296,"answer_count":6,"score":2,"last_activity_date":1692791947,"creation_date":1319312912,"question_id":7862167,"body_markdown":"I am having issues with regex always returning false even though \r\n&quot;http://developer.android.com/reference/java/util/regex/Pattern.html&quot; states it shouldn&#39;t.\r\n\r\nI am entering all kinds of specials charaters &quot;&amp;$@R@,&quot; and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won&#39;t match the alphanumeric characters? \r\n\r\nCode:\r\n\r\n        EditText et1 = (EditText) findViewById(R.id.editText1);\r\n\t\tString et1Text = et1.getText().toString();\r\n\t\tint et1Length = et1.getText().toString().length();\r\n\t\tEditText et2 = (EditText) findViewById(R.id.editText2);\r\n\t\tString et2Text = et2.getText().toString();\r\n\t\tint et2Length = et2.getText().toString().length();\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\t\tLog.d(TAG,et1Text);\r\n\t\tMatcher m = p.matcher(et1Text);\r\n\t\tboolean b = m.matches();\r\n\t\tif (b == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\tLog.d(TAG,et2Text);\r\n\t\tMatcher m2 = p.matcher(et2Text);\r\n\t\tboolean b2 = m2.matches();\r\n\t\tif (b2 == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\r\n\t\t\tLog.d(TAG,&quot;Length dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\t\t\r\n\t\tif (b==true | b2==true){\r\n\t\t\tLog.d(TAG,&quot;Special char dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\r\n","title":"Android regex always returning false","body":"<p>I am having issues with regex always returning false even though \n\"http://developer.android.com/reference/java/util/regex/Pattern.html\" states it shouldn't.</p>\n\n<p>I am entering all kinds of specials charaters \"&amp;$@R@,\" and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won't match the alphanumeric characters? </p>\n\n<p>Code:</p>\n\n<pre><code>    EditText et1 = (EditText) findViewById(R.id.editText1);\n    String et1Text = et1.getText().toString();\n    int et1Length = et1.getText().toString().length();\n    EditText et2 = (EditText) findViewById(R.id.editText2);\n    String et2Text = et2.getText().toString();\n    int et2Length = et2.getText().toString().length();\n\n    Pattern p = Pattern.compile(\"\\\\W\");\n    Log.d(TAG,et1Text);\n    Matcher m = p.matcher(et1Text);\n    boolean b = m.matches();\n    if (b == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n    Log.d(TAG,et2Text);\n    Matcher m2 = p.matcher(et2Text);\n    boolean b2 = m2.matches();\n    if (b2 == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n\n    if (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\n        Log.d(TAG,\"Length dialog\");\n        dialog(1);\n    }\n\n    if (b==true | b2==true){\n        Log.d(TAG,\"Special char dialog\");\n        dialog(1);\n    }\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318858662,"creation_date":1318858662,"answer_id":7794585,"question_id":7794543,"body_markdown":"It&#39;s because when you split you have a trailing space.\r\n\r\n    String str = &quot;EGLA 0F 020&quot;;\r\n    String str2 = &quot;ALT 1F 001 &quot;;\r\n    //                       ^ trailing space\r\n\r\nYou could fix it a number of ways. For example:\r\n\r\n * by splitting on `&quot; TO &quot;`\r\n * trimming the result\r\n * allowing trailing spaces in your regular expression.\r\n\r\nFor example, this change would work:\r\n\r\n    String arr[] = def.split(&quot; TO &quot;);","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>It's because when you split you have a trailing space.</p>\n\n<pre><code>String str = \"EGLA 0F 020\";\nString str2 = \"ALT 1F 001 \";\n//                       ^ trailing space\n</code></pre>\n\n<p>You could fix it a number of ways. For example:</p>\n\n<ul>\n<li>by splitting on <code>\" TO \"</code></li>\n<li>trimming the result</li>\n<li>allowing trailing spaces in your regular expression.</li>\n</ul>\n\n<p>For example, this change would work:</p>\n\n<pre><code>String arr[] = def.split(\" TO \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116347,"reputation":879,"user_id":305116,"accept_rate":50,"display_name":"mtrovo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318858870,"creation_date":1318858870,"answer_id":7794630,"question_id":7794543,"body_markdown":"If you notice your split take effect only on the letters `&quot;TO&quot;`, it means str2 pattern is `&quot;ALT 1F 001 &quot;`.\r\n\r\nTo resolve this you can try to split on `&quot;\\s*TO\\s*&quot;` instead of `&quot;TO&quot;` so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern `&quot;[0-9][0-9][0-9]$&quot;` with `&quot;[0-9][0-9][0-9]&quot;` without the final `$`, so that it would accept ending spaces on your String.","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>If you notice your split take effect only on the letters <code>\"TO\"</code>, it means str2 pattern is <code>\"ALT 1F 001 \"</code>.</p>\n\n<p>To resolve this you can try to split on <code>\"\\s*TO\\s*\"</code> instead of <code>\"TO\"</code> so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern <code>\"[0-9][0-9][0-9]$\"</code> with <code>\"[0-9][0-9][0-9]\"</code> without the final <code>$</code>, so that it would accept ending spaces on your String.</p>\n"},{"tags":[],"owner":{"account_id":978657,"reputation":437,"user_id":998965,"display_name":"Jo&#227;o Paulo G. Brandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318859145,"creation_date":1318859145,"answer_id":7794687,"question_id":7794543,"body_markdown":"Try this pattern:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9][0-9][0-9]\\\\s*$&quot;); \r\n\r\nor \r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{3}\\\\s*$&quot;); ","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Try this pattern:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9][0-9][0-9]\\\\s*$\"); \n</code></pre>\n\n<p>or </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9]{3}\\\\s*$\"); \n</code></pre>\n"}],"owner":{"account_id":915334,"reputation":934,"user_id":948241,"accept_rate":62,"display_name":"cryptonkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7794585,"answer_count":3,"score":1,"last_activity_date":1692791899,"creation_date":1318858471,"question_id":7794543,"body_markdown":"Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??\r\n\r\n        String str =&quot;EGLA 0F 020&quot;;\r\n\t\tString def = &quot;ALT 1F 001 TO ALT 1F 029&quot;;\r\n\t\tString arr[] = def.split(&quot;TO&quot;);\r\n\t\tString str2 = arr[0];\r\n\t\tSystem.out.println(&quot;str2:&quot;+str2);\r\n\t\tPattern pt = Pattern.compile(&quot;[0-9][0-9][0-9]$&quot;);\r\n\t\tMatcher m1 = pt.matcher(str);\r\n\t\tMatcher m2 = pt.matcher(str2);\r\n\t\tboolean flag = m1.find();\r\n\t\tboolean flag2 = m2.find();\r\n\t\tif(flag)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m1.group(0));\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\t\tif(flag2)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m2.group(0));\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\r\n\r\nThe output produced for the above code is As follows:::\r\n\r\n        str2:ALT 1F 001 \r\n        first match:::020\r\n        Not found\r\n\r\nPlease Do reply iam stuck here ??\t\t\r\n","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??</p>\n\n<pre><code>    String str =\"EGLA 0F 020\";\n    String def = \"ALT 1F 001 TO ALT 1F 029\";\n    String arr[] = def.split(\"TO\");\n    String str2 = arr[0];\n    System.out.println(\"str2:\"+str2);\n    Pattern pt = Pattern.compile(\"[0-9][0-9][0-9]$\");\n    Matcher m1 = pt.matcher(str);\n    Matcher m2 = pt.matcher(str2);\n    boolean flag = m1.find();\n    boolean flag2 = m2.find();\n    if(flag)\n        System.out.println(\"first match:::\"+m1.group(0));\n    else \n        System.out.println(\"Not found\");\n    if(flag2)\n        System.out.println(\"first match:::\"+m2.group(0));\n    else\n        System.out.println(\"Not found\");\n</code></pre>\n\n<p>The output produced for the above code is As follows:::</p>\n\n<pre><code>    str2:ALT 1F 001 \n    first match:::020\n    Not found\n</code></pre>\n\n<p>Please Do reply iam stuck here ??       </p>\n"},{"tags":["java","php","regex","preg-replace-callback"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1318705047,"post_id":7779913,"comment_id":9474134,"body_markdown":"Why wouldn&#39;t you just use `YUICompressor.php`? http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php Writing your own port sounds like a maintenance headache.","body":"Why wouldn&#39;t you just use <code>YUICompressor.php</code>? <a href=\"http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php\" rel=\"nofollow noreferrer\">code.google.com/p/minify/source/browse/trunk/min/lib/Minify/&zwnj;&#8203;&hellip;</a> Writing your own port sounds like a maintenance headache."},{"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"score":0,"creation_date":1318706052,"post_id":7779913,"comment_id":9474309,"body_markdown":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting.","body":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting."},{"owner":{"account_id":46733,"reputation":3195,"user_id":138148,"accept_rate":90,"display_name":"Nathan Loding"},"score":0,"creation_date":1318956906,"post_id":7779913,"comment_id":9517763,"body_markdown":"Sounds like no one has - sounds like a fun project!","body":"Sounds like no one has - sounds like a fun project!"}],"answers":[{"tags":[],"owner":{"account_id":37482,"reputation":33416,"user_id":107152,"accept_rate":87,"display_name":"Qtax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332397052,"creation_date":1332397052,"answer_id":9817351,"question_id":7779913,"body_markdown":"Are you looking for the `while(find next match){ do stuff }` equivalent in PHP (without using `preg_match_all`)?\r\n\r\nIn that case use `preg_match` with the offset parameter. For example:\r\n\r\n    offset = 0;\r\n    while(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\r\n        offset = matches[0][1] + strlen(matches[0][0]);\r\n\r\n        // do stuff\r\n    }","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>Are you looking for the <code>while(find next match){ do stuff }</code> equivalent in PHP (without using <code>preg_match_all</code>)?</p>\n\n<p>In that case use <code>preg_match</code> with the offset parameter. For example:</p>\n\n<pre><code>offset = 0;\nwhile(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\n    offset = matches[0][1] + strlen(matches[0][0]);\n\n    // do stuff\n}\n</code></pre>\n"}],"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692791892,"answer_count":1,"score":2,"last_activity_date":1692791824,"creation_date":1318704584,"question_id":7779913,"body_markdown":"I&#39;m porting YUI&#39;s [CssCompressor][1], which has several [Matcher][2] uses, to PHP. For the sake of long-term maintenance I&#39;d like to keep the PHP port as similar to the Java original as possible (`preg_replace_callback` of course works, but drastically changes the program flow).\r\n\r\nSo, **has anyone ported Matcher to PHP?**\r\n\r\n  [1]: https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\r\n  [2]: http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>I'm porting YUI's <a href=\"https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\" rel=\"nofollow\">CssCompressor</a>, which has several <a href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja\" rel=\"nofollow\">Matcher</a> uses, to PHP. For the sake of long-term maintenance I'd like to keep the PHP port as similar to the Java original as possible (<code>preg_replace_callback</code> of course works, but drastically changes the program flow).</p>\n\n<p>So, <strong>has anyone ported Matcher to PHP?</strong></p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1317999264,"creation_date":1317999264,"answer_id":7688995,"question_id":7688867,"body_markdown":"I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.","title":"Java Linked regex","body":"<p>I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.</p>\n"}],"owner":{"account_id":411019,"reputation":2223,"user_id":783204,"accept_rate":89,"display_name":"theking963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692791811,"creation_date":1317998653,"question_id":7688867,"body_markdown":"I have to parse the following sample output. The requirements are there should be no text after `Fabric management FPC state:` i.e. it should be empty `\\s`. The next part is a bit tricky and I am stuck there. So each `FPC` has one or more `PFE` and each `FPE` has one or more `SIB`. There are four possible states for each `SIB`. They are `Plane Enabled, Link Error, Desination Error and Plane Disabled`. I am supposed to parse this using regex and keep track of the state for each `FPC, PFE and SIB`. I am not sure how to have a `&#39;linked&#39;` groups in regex. \r\n\r\n    Fabric management FPC state:                                  \r\n    FPC #0\r\n      PFE #0\r\n        SIB #0 \r\n                Plane enabled\r\n        SIB #1 \r\n                Link Error        \r\n      PFE #1\r\n        SIB #0 \r\n                Destination Error\r\n        SIB #1 \r\n                Plane Disabled\r\n        SIB #2 \r\n                Plane enabled       \r\n    FPC #1\r\n      PFE #1\r\n        SIB #0 \r\n                Plane enabled\r\n\r\nSo far what I have is \r\n\r\n    public void parseFPCS(String commandOutput) {\r\n            regex = &quot;FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)&quot;;\r\n            pattern = Pattern.compile(regex, patternFlag);\r\n            matcher = pattern.matcher(commandOutput);\r\n            \r\n            while(matcher.find()) {\r\n                String empty = matcher.group(1);\r\n                Boolean isEmpty = empty.trim().isEmpty();\r\n                if(isEmpty) {\r\n                    System.out.println(&quot;Link Empty&quot;);\r\n                    System.out.println(matcher.group(2));\r\n                    System.out.println(matcher.group(3));\r\n                    System.out.println(matcher.group(4));\r\n                    System.out.println(matcher.group(5));\r\n                    //Right now I am just printing it out to see the outcome. \r\n                }\r\n                \r\n            }\r\n\r\n    The current outcome is \r\n        Link Empty\r\n        FPC #0\r\n        PFE #0\r\n        SIB #0\r\n        Plane enabled //This is expected.\r\n\r\n","title":"Java Linked regex","body":"<p>I have to parse the following sample output. The requirements are there should be no text after <code>Fabric management FPC state:</code> i.e. it should be empty <code>\\s</code>. The next part is a bit tricky and I am stuck there. So each <code>FPC</code> has one or more <code>PFE</code> and each <code>FPE</code> has one or more <code>SIB</code>. There are four possible states for each <code>SIB</code>. They are <code>Plane Enabled, Link Error, Desination Error and Plane Disabled</code>. I am supposed to parse this using regex and keep track of the state for each <code>FPC, PFE and SIB</code>. I am not sure how to have a <code>'linked'</code> groups in regex. </p>\n\n<pre><code>Fabric management FPC state:                                  \nFPC #0\n  PFE #0\n    SIB #0 \n            Plane enabled\n    SIB #1 \n            Link Error        \n  PFE #1\n    SIB #0 \n            Destination Error\n    SIB #1 \n            Plane Disabled\n    SIB #2 \n            Plane enabled       \nFPC #1\n  PFE #1\n    SIB #0 \n            Plane enabled\n</code></pre>\n\n<p>So far what I have is </p>\n\n<pre><code>public void parseFPCS(String commandOutput) {\n        regex = \"FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)\";\n        pattern = Pattern.compile(regex, patternFlag);\n        matcher = pattern.matcher(commandOutput);\n\n        while(matcher.find()) {\n            String empty = matcher.group(1);\n            Boolean isEmpty = empty.trim().isEmpty();\n            if(isEmpty) {\n                System.out.println(\"Link Empty\");\n                System.out.println(matcher.group(2));\n                System.out.println(matcher.group(3));\n                System.out.println(matcher.group(4));\n                System.out.println(matcher.group(5));\n                //Right now I am just printing it out to see the outcome. \n            }\n\n        }\n\nThe current outcome is \n    Link Empty\n    FPC #0\n    PFE #0\n    SIB #0\n    Plane enabled //This is expected.\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":306012,"reputation":7257,"user_id":616504,"accept_rate":74,"display_name":"Hidden"},"score":0,"creation_date":1363210481,"post_id":5199847,"comment_id":21765885,"body_markdown":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a \nif(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0)\nCan make it work","body":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a  if(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0) Can make it work"}],"answers":[{"tags":[],"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1299277665,"creation_date":1299277133,"answer_id":5199912,"question_id":5199847,"body_markdown":"I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?\r\n\r\n\r\n----------\r\n\r\nMy complete code is:\r\n\r\n    public class StackOverflow {\r\n    \r\n        private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n        private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n        private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n        private static final Pattern addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n    \r\n        public static void main(final String[] args) {\r\n            final String address = &quot;12 CLARE ST E&quot;;\r\n            final Hashtable&lt;String, String&gt; result = splitAddress(address);\r\n            System.out.println(result.get(&quot;number&quot;));\r\n        }\r\n    \r\n        private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\r\n            final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\r\n    \r\n            final Matcher m = addrLong.matcher(address);\r\n            if (m.matches()) {\r\n                result.put(&quot;number&quot;, m.group(1));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nWhich runs fine and prints `12` as its output.\r\n","title":"Matcher throwing IllegalStateException after matches","body":"<p>I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?</p>\n\n<hr>\n\n<p>My complete code is:</p>\n\n<pre><code>public class StackOverflow {\n\n    private static final String numberRegex = \"[0-9]*[a-zA-Z]?\"; // 123a 123\n    private static final String compassRegex = \"N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST\";\n    private static final String typeRegex = \"STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR\";\n    private static final Pattern addrLong = Pattern.compile(\"(\" + numberRegex + \")\\\\s(.*)\\\\s(\" + typeRegex + \")\\\\s?(\" + compassRegex + \")?\");\n\n    public static void main(final String[] args) {\n        final String address = \"12 CLARE ST E\";\n        final Hashtable&lt;String, String&gt; result = splitAddress(address);\n        System.out.println(result.get(\"number\"));\n    }\n\n    private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\n        final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\n\n        final Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(\"number\", m.group(1));\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>Which runs fine and prints <code>12</code> as its output.</p>\n"}],"owner":{"account_id":176705,"reputation":93,"user_id":407556,"display_name":"uzrbin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5199912,"answer_count":1,"score":7,"last_activity_date":1692791642,"creation_date":1299276533,"question_id":5199847,"body_markdown":"I&#39;m having some strange issues with Matches, hoping someone could shed some light.  \r\nAccording to Java docs:\r\n\r\n&gt; public boolean matches() ... If the\r\n&gt; match succeeds then more information\r\n&gt; can be obtained via the start, end,\r\n&gt; and group methods.\r\n\r\nSome code:\r\n\r\n    private static Hashtable&lt;String,String&gt; splitAddress(String address){\r\n    \t\tHashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\r\n    \t\t\r\n    \t\tMatcher m = addrLong.matcher(address);\r\n    \t\tif (m.matches()) {\r\n    \t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nThis is where it throws:\r\n\r\n    java.lang.IllegalStateException: No match found\r\n    \tjava.util.regex.Matcher.group(Matcher.java:485)\r\n    \tsplitAddress(WebServiceHelper.java:699)\r\n\r\nThis alone is strange to me. Here&#39;s some more info if it helps:\r\n\r\n    \tprivate static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n    \tprivate static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n    \tprivate static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n    \r\n    addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n\r\nThe input string I&#39;ve been testing against is &quot;12 CLARE ST E&quot;\r\n\r\n\r\nI know naming conventions are being broken. I didn&#39;t write that part, I swear.\r\n\r\n\r\n\r\nThis executes successfully as a standalone function.  \r\n\r\nAny ideas why it would break in a Tomcat environment?  \r\n\r\nI&#39;ll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.\r\n\r\nThis is driving me crazy. I even tried:\r\n\r\n\t\tPattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\r\n\t\tMatcher m = p.matcher(address);\r\n\t\t\r\n\t\tif (m.matches()) {\r\n\t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nIn my server environment and it fails.\r\n\r\n\r\n\r\nIt even runs fine when it&#39;s alone in a servlet. I&#39;m stumped. Any hints or ideas greatly appreciated.","title":"Matcher throwing IllegalStateException after matches","body":"<p>I'm having some strange issues with Matches, hoping someone could shed some light.<br />\nAccording to Java docs:</p>\n<blockquote>\n<p>public boolean matches() ... If the\nmatch succeeds then more information\ncan be obtained via the start, end,\nand group methods.</p>\n</blockquote>\n<p>Some code:</p>\n<pre><code>private static Hashtable&lt;String,String&gt; splitAddress(String address){\n        Hashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\n        \n        Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>This is where it throws:</p>\n<pre><code>java.lang.IllegalStateException: No match found\n    java.util.regex.Matcher.group(Matcher.java:485)\n    splitAddress(WebServiceHelper.java:699)\n</code></pre>\n<p>This alone is strange to me. Here's some more info if it helps:</p>\n<pre><code>    private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\n    private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\n    private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\n\naddrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\n</code></pre>\n<p>The input string I've been testing against is &quot;12 CLARE ST E&quot;</p>\n<p>I know naming conventions are being broken. I didn't write that part, I swear.</p>\n<p>This executes successfully as a standalone function.</p>\n<p>Any ideas why it would break in a Tomcat environment?</p>\n<p>I'll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.</p>\n<p>This is driving me crazy. I even tried:</p>\n<pre><code>    Pattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\n    Matcher m = p.matcher(address);\n    \n    if (m.matches()) {\n        result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>In my server environment and it fails.</p>\n<p>It even runs fine when it's alone in a servlet. I'm stumped. Any hints or ideas greatly appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":4,"creation_date":1307643127,"post_id":6297119,"comment_id":7355511,"body_markdown":"Nastiest regex I&#39;ve ever seen.","body":"Nastiest regex I&#39;ve ever seen."},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":3,"creation_date":1307644091,"post_id":6297119,"comment_id":7355773,"body_markdown":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?","body":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?"},{"owner":{"account_id":410120,"reputation":953,"user_id":2278151,"accept_rate":100,"display_name":"NorthGuard"},"score":0,"creation_date":1307648578,"post_id":6297119,"comment_id":7357047,"body_markdown":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to **add** to that pattern.","body":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to <b>add</b> to that pattern."}],"answers":[{"tags":[],"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307864737,"creation_date":1307863898,"answer_id":6320727,"question_id":6297119,"body_markdown":"You can&#39;t use replaceAll; you should iterate through the matches and process each one individually.  Java&#39;s Matcher already has an [API](http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,%20java.lang.String)) for this:\r\n\r\n     // expanding on the example in the &#39;appendReplacement&#39; JavaDoc:\r\n     Pattern p = Pattern.compile(&quot;...&quot;); // your URL regexp\r\n     Matcher m = p.matcher(text);\r\n     StringBuffer sb = new StringBuffer();\r\n     while (m.find()) {\r\n         String truncatedURL = m.group(1).replaceFirst(&quot;^(.{10}).*&quot;,&quot;$1...&quot;); // i iz smrt\r\n         m.appendReplacement(sb,\r\n             &quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;&quot;); // simple replacement for $1\r\n         sb.append(truncatedURL);\r\n         sb.append(&quot;&lt;/a&gt;&quot;);\r\n     }\r\n     m.appendTail(sb);\r\n     System.out.println(sb.toString());\r\n\r\n(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)\r\n\r\n**Edit**: use sb.append() so not to worry about escaping $ and \\ in &#39;truncatedURL&#39;.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>You can't use replaceAll; you should iterate through the matches and process each one individually.  Java's Matcher already has an <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"nofollow\">API</a> for this:</p>\n\n<pre><code> // expanding on the example in the 'appendReplacement' JavaDoc:\n Pattern p = Pattern.compile(\"...\"); // your URL regexp\n Matcher m = p.matcher(text);\n StringBuffer sb = new StringBuffer();\n while (m.find()) {\n     String truncatedURL = m.group(1).replaceFirst(\"^(.{10}).*\",\"$1...\"); // i iz smrt\n     m.appendReplacement(sb,\n         \"&lt;a href=\\\"http://$1\\\" target=\\\"_blank\\\"&gt;\"); // simple replacement for $1\n     sb.append(truncatedURL);\n     sb.append(\"&lt;/a&gt;\");\n }\n m.appendTail(sb);\n System.out.println(sb.toString());\n</code></pre>\n\n<p>(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)</p>\n\n<p><strong>Edit</strong>: use sb.append() so not to worry about escaping $ and \\ in 'truncatedURL'.</p>\n"},{"tags":[],"owner":{"account_id":106909,"reputation":65,"user_id":1325539,"display_name":"Isaac.Lopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334814775,"creation_date":1334814775,"answer_id":10222371,"question_id":6297119,"body_markdown":"I think that you have a similar problem to the one mentioned on this question \r\n\r\nhttps://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\r\n\r\nthey suggested something like this \r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String basicUrlRegex =  &quot;(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])&quot;; \r\n    myString.replaceAll(basicUrlRegex, &quot;&lt;a href=\\&quot;$1\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\n","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>I think that you have a similar problem to the one mentioned on this question </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\">Java : replacing text URL with clickable HTML link</a></p>\n\n<p>they suggested something like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String basicUrlRegex =  \"(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])\"; \nmyString.replaceAll(basicUrlRegex, \"&lt;a href=\\\"$1\\\"&gt;$1&lt;/a&gt;\");\n</code></pre>\n"}],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692791605,"creation_date":1307642003,"question_id":6297119,"body_markdown":"In my application I need get the link and break it if it is bigger than 10 (example) characters.\r\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher\r\n\r\n    Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\&#39;\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\r\n    Matcher matcher = patt.matcher(text);  \r\n\r\n  \r\n\r\n    matcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\nIt would show the whole website, without breaking it.\r\n\r\nWhat I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.\r\n\r\nI&#39;ve got another method to break the string up.\r\n\r\nWhat I want to get is only the website so I could break it after all.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>In my application I need get the link and break it if it is bigger than 10 (example) characters.\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher</p>\n<pre><code>Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\'\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\nMatcher matcher = patt.matcher(text);  \n\n\n\nmatcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\n</code></pre>\n<p>It would show the whole website, without breaking it.</p>\n<p>What I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.</p>\n<p>I've got another method to break the string up.</p>\n<p>What I want to get is only the website so I could break it after all.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9763,"page":229,"page_size":100}
