{"items":[{"tags":["java","android","database","android-room","observer-pattern"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1655060305,"post_id":72594650,"comment_id":128235444,"body_markdown":"I think it should be `Observer&lt;List&lt;Expense&gt;&gt;`, as you are probably observing a `LiveData` &amp; not a `List` of `LiveData`s.","body":"I think it should be <code>Observer&lt;List&lt;Expense&gt;&gt;</code>, as you are probably observing a <code>LiveData</code> &amp; not a <code>List</code> of <code>LiveData</code>s."},{"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"score":0,"creation_date":1655067176,"post_id":72594650,"comment_id":128236734,"body_markdown":"Thank you that was exactly it. Now I just need to figure out why my expensesList is empty.","body":"Thank you that was exactly it. Now I just need to figure out why my expensesList is empty."}],"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655056704,"creation_date":1655056704,"question_id":72594650,"body_markdown":"I am trying to build an observer to access data from my Room Database. When I call \r\n```\r\nexpenseViewModel.getAllExpenses().observe(this, expenseObserver);\r\n```\r\nmy observer expenseObserver won&#39;t compile and shows me this error:\r\n\r\n```\r\nRequired type:\r\nObserver\r\n&lt;? super List&lt;Expense&gt;&gt;\r\nProvided:\r\nObserver\r\n&lt;LiveData&lt;List&lt;Expense&gt;&gt;&gt;\r\n```\r\n\r\nFor reference this is my entire code for my observer:\r\n\r\n```\r\nObserver&lt;LiveData&lt;List&lt;Expense&gt;&gt;&gt; expenseObserver = expenseList -&gt; {\r\n             List&lt;Expense&gt; list = expenseList.getValue();\r\n             expenses.setText(list.get(list.size() - 1).getExpense());\r\n         };\r\n\r\n        expenseViewModel.getAllExpenses().observe(this, expenseObserver);\r\n```","title":"What is a &lt;? super List&lt;Object&gt;&gt;? and how can I fix my Observer?","body":"<p>I am trying to build an observer to access data from my Room Database. When I call</p>\n<pre><code>expenseViewModel.getAllExpenses().observe(this, expenseObserver);\n</code></pre>\n<p>my observer expenseObserver won't compile and shows me this error:</p>\n<pre><code>Required type:\nObserver\n&lt;? super List&lt;Expense&gt;&gt;\nProvided:\nObserver\n&lt;LiveData&lt;List&lt;Expense&gt;&gt;&gt;\n</code></pre>\n<p>For reference this is my entire code for my observer:</p>\n<pre><code>Observer&lt;LiveData&lt;List&lt;Expense&gt;&gt;&gt; expenseObserver = expenseList -&gt; {\n             List&lt;Expense&gt; list = expenseList.getValue();\n             expenses.setText(list.get(list.size() - 1).getExpense());\n         };\n\n        expenseViewModel.getAllExpenses().observe(this, expenseObserver);\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","linked-list","structure"],"answers":[{"tags":[],"owner":{"account_id":12409782,"reputation":477,"user_id":9042600,"display_name":"Netanel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655056676,"creation_date":1655056676,"answer_id":72594647,"question_id":72594213,"body_markdown":"Didn&#39;t look at the whole code but the constructor of Node recieves elment, next and before. When you construct the new node in addBetween you send pred as next and succ as before, and I assume you meant to do it the opposite way.","title":"Error adding new member to linked positional list","body":"<p>Didn't look at the whole code but the constructor of Node recieves elment, next and before. When you construct the new node in addBetween you send pred as next and succ as before, and I assume you meant to do it the opposite way.</p>\n"}],"owner":{"account_id":19376028,"reputation":1,"user_id":14168278,"display_name":"matin_mhz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655056676,"creation_date":1655053037,"question_id":72594213,"body_markdown":"I&#39;m new to programming with Java and implementing algorithms.\r\nI am trying to implement positional linked list in Java and I wrote the following methods and have trouble adding a new method to this list.\r\nThe add between method is for this purpose and does not work properly.\r\nCan you tell me what is wrong with the addBetween method and how can I complete it?\r\n\r\n\r\n    import Position;\r\n    import EmptyListException;\r\n    import IllegalValueException;\r\n    import InvalidPositionException;\r\n\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.Spliterator;\r\n    import java.util.function.Consumer;\r\n\r\n\r\n    public final class LinkedPositionalList&lt;E&gt; implements PositionalList&lt;E&gt; {\r\n\r\n\r\n    private class Node implements Position {\r\n        private E element;\r\n        private Node next;\r\n        private Node before;\r\n\r\n\r\n        protected Node(E element, Node next, Node before) {\r\n            this.element = element;\r\n            this.next = next;\r\n            this.before = before;\r\n        }\r\n\r\n        public void setElement(E element) {\r\n            this.element = element;\r\n        }\r\n\r\n        public E getElement() throws IllegalStateException {\r\n            if (next == null)\r\n                throw new IllegalArgumentException(&quot;Position no longer valid&quot;);\r\n            return element;\r\n        }\r\n\r\n        public Node getBefore() {\r\n            return before;\r\n        }\r\n\r\n        public void setBefore(Node before) {\r\n            this.before = before;\r\n        }\r\n\r\n        public void setNext(Node next) {\r\n            this.next = next;\r\n        }\r\n\r\n        public Node getNext() {\r\n            return next;\r\n        }\r\n\r\n        @Override\r\n        public Object element() throws InvalidPositionException {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private int size = 0;\r\n    private Node header;\r\n    private Node trailer;\r\n\r\n    public LinkedPositionalList() {\r\n        header = new Node(null, null, null);\r\n        trailer = new Node(null, null, header);\r\n        header.setNext(trailer);\r\n    }\r\n\r\n    private Node validate(Position&lt;E&gt; p) throws IllegalArgumentException {\r\n        Node node = (Node) p;\r\n        if (node.getNext() == null)\r\n            throw new IllegalArgumentException(&quot;p is no longer in the list&quot;);\r\n        return node;\r\n    }\r\n\r\n    private Node position(Node node) {\r\n        if (node == header || node == trailer)\r\n            return null;\r\n        return node;\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEmpty() {\r\n        if (size == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void clear() {\r\n        size = 0;\r\n        header = null;\r\n        trailer = null;\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(E e) {\r\n        Node temp = header;\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (temp.element == e) {\r\n                return true;\r\n            }\r\n            temp = temp.next;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; first() throws EmptyListException {\r\n        if (isEmpty()) {\r\n            throw new EmptyListException(&quot;List is Empty&quot;);\r\n        }\r\n        System.out.println(header.element);\r\n        return (Position&lt;E&gt;) header.element;\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; last() throws EmptyListException {\r\n        if (isEmpty()) {\r\n            throw new EmptyListException(&quot;List is Empty&quot;);\r\n        }\r\n        return (Position&lt;E&gt;) header.getBefore();\r\n    }\r\n\r\n    @Override\r\n    public boolean isFirst(Position&lt;E&gt; p) throws InvalidPositionException {\r\n\r\n        if (header.getBefore() != null) {\r\n\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isLast(Position&lt;E&gt; p) throws InvalidPositionException {\r\n        if (trailer.getNext() != null) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; before(Position&lt;E&gt; p) throws InvalidPositionException {\r\n        Node node = validate(p);\r\n        return (Position&lt;E&gt;) node.getBefore();\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; after(Position&lt;E&gt; p) throws InvalidPositionException {\r\n        Node node = validate(p);\r\n        return (Position&lt;E&gt;) node.getNext();\r\n    }\r\n\r\n    private Position&lt;E&gt; addBetween(E e, Node pred, Node succ) {\r\n        Node newest = new Node(e, pred, succ);\r\n        pred.setNext(newest);\r\n        succ.setBefore(newest);\r\n        size++;\r\n        return (Position&lt;E&gt;) (newest);\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; insertFirst(E e) throws IllegalValueException {\r\n        if (size &gt; 0){\r\n              insertBefore(header,e);\r\n        }else {\r\n            Node temp = new Node(e, header, null);\r\n            header = temp;\r\n            size++;\r\n        }\r\n        return (Position&lt;E&gt;) header;\r\n        //        return addBetween(e, header, header.getNext());\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; insertLast(E e) throws IllegalValueException {\r\n\r\n        Node temp = new Node(e, null, trailer);\r\n        trailer = temp;\r\n        size++;\r\n        return (Position&lt;E&gt;) trailer;\r\n        //        return addBetween(e, trailer.getBefore(), trailer);\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; insertBefore(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\r\n        Node node = validate(p);\r\n        return addBetween(e, node.getBefore(), node);\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; insertAfter(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\r\n        Node node = validate(p);\r\n        return addBetween(e, node, node.getNext());\r\n\r\n    }\r\n\r\n    @Override\r\n    public E remove(Position&lt;E&gt; p) throws InvalidPositionException {\r\n        Node node = validate(p);\r\n        Node predecessor = node.getBefore();\r\n        Node successor = node.getNext();\r\n        predecessor.setNext(successor);\r\n        successor.setBefore(predecessor);\r\n        size--;\r\n        E answer = node.getElement();\r\n        node.setElement(null);\r\n        node.setBefore(null);\r\n        node.setNext(null);\r\n        return answer;\r\n    }\r\n\r\n    @Override\r\n    public E replaceElement(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\r\n        Node node = validate(p);\r\n        node.setElement(e);\r\n        return node.getElement();\r\n    }\r\n\r\n    @Override\r\n    public void swapElements(Position&lt;E&gt; p, Position&lt;E&gt; q) throws InvalidPositionException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;Position&lt;E&gt;&gt; positionalIterator() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void sort(Comparator&lt;E&gt; comparator) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Position&lt;E&gt; find(E e) {\r\n        int counter = 0;\r\n        for (Node i = header; counter &lt; size; i = i.next) {\r\n            if (e.equals(i)) {\r\n                return (Position&lt;E&gt;) e;\r\n            }\r\n            counter++;\r\n\r\n            return null;\r\n        }return null;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;Position&lt;E&gt;&gt; findAll(E e) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void forEach(Consumer&lt;? super E&gt; action) {\r\n        PositionalList.super.forEach(action);\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;E&gt; spliterator() {\r\n        return PositionalList.super.spliterator();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Error adding new member to linked positional list","body":"<p>I'm new to programming with Java and implementing algorithms.\nI am trying to implement positional linked list in Java and I wrote the following methods and have trouble adding a new method to this list.\nThe add between method is for this purpose and does not work properly.\nCan you tell me what is wrong with the addBetween method and how can I complete it?</p>\n<pre><code>import Position;\nimport EmptyListException;\nimport IllegalValueException;\nimport InvalidPositionException;\n\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.Spliterator;\nimport java.util.function.Consumer;\n\n\npublic final class LinkedPositionalList&lt;E&gt; implements PositionalList&lt;E&gt; {\n\n\nprivate class Node implements Position {\n    private E element;\n    private Node next;\n    private Node before;\n\n\n    protected Node(E element, Node next, Node before) {\n        this.element = element;\n        this.next = next;\n        this.before = before;\n    }\n\n    public void setElement(E element) {\n        this.element = element;\n    }\n\n    public E getElement() throws IllegalStateException {\n        if (next == null)\n            throw new IllegalArgumentException(&quot;Position no longer valid&quot;);\n        return element;\n    }\n\n    public Node getBefore() {\n        return before;\n    }\n\n    public void setBefore(Node before) {\n        this.before = before;\n    }\n\n    public void setNext(Node next) {\n        this.next = next;\n    }\n\n    public Node getNext() {\n        return next;\n    }\n\n    @Override\n    public Object element() throws InvalidPositionException {\n        return null;\n    }\n}\n\nprivate int size = 0;\nprivate Node header;\nprivate Node trailer;\n\npublic LinkedPositionalList() {\n    header = new Node(null, null, null);\n    trailer = new Node(null, null, header);\n    header.setNext(trailer);\n}\n\nprivate Node validate(Position&lt;E&gt; p) throws IllegalArgumentException {\n    Node node = (Node) p;\n    if (node.getNext() == null)\n        throw new IllegalArgumentException(&quot;p is no longer in the list&quot;);\n    return node;\n}\n\nprivate Node position(Node node) {\n    if (node == header || node == trailer)\n        return null;\n    return node;\n}\n\n@Override\npublic int size() {\n    return size;\n}\n\n@Override\npublic boolean isEmpty() {\n    if (size == 0) {\n        return true;\n    }\n    return false;\n}\n\n@Override\npublic void clear() {\n    size = 0;\n    header = null;\n    trailer = null;\n}\n\n@Override\npublic boolean contains(E e) {\n    Node temp = header;\n    for (int i = 0; i &lt; size; i++) {\n        if (temp.element == e) {\n            return true;\n        }\n        temp = temp.next;\n    }\n    return false;\n}\n\n@Override\npublic Position&lt;E&gt; first() throws EmptyListException {\n    if (isEmpty()) {\n        throw new EmptyListException(&quot;List is Empty&quot;);\n    }\n    System.out.println(header.element);\n    return (Position&lt;E&gt;) header.element;\n}\n\n@Override\npublic Position&lt;E&gt; last() throws EmptyListException {\n    if (isEmpty()) {\n        throw new EmptyListException(&quot;List is Empty&quot;);\n    }\n    return (Position&lt;E&gt;) header.getBefore();\n}\n\n@Override\npublic boolean isFirst(Position&lt;E&gt; p) throws InvalidPositionException {\n\n    if (header.getBefore() != null) {\n\n        return false;\n    } else {\n        return true;\n    }\n}\n\n@Override\npublic boolean isLast(Position&lt;E&gt; p) throws InvalidPositionException {\n    if (trailer.getNext() != null) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\n@Override\npublic Position&lt;E&gt; before(Position&lt;E&gt; p) throws InvalidPositionException {\n    Node node = validate(p);\n    return (Position&lt;E&gt;) node.getBefore();\n}\n\n@Override\npublic Position&lt;E&gt; after(Position&lt;E&gt; p) throws InvalidPositionException {\n    Node node = validate(p);\n    return (Position&lt;E&gt;) node.getNext();\n}\n\nprivate Position&lt;E&gt; addBetween(E e, Node pred, Node succ) {\n    Node newest = new Node(e, pred, succ);\n    pred.setNext(newest);\n    succ.setBefore(newest);\n    size++;\n    return (Position&lt;E&gt;) (newest);\n}\n\n@Override\npublic Position&lt;E&gt; insertFirst(E e) throws IllegalValueException {\n    if (size &gt; 0){\n          insertBefore(header,e);\n    }else {\n        Node temp = new Node(e, header, null);\n        header = temp;\n        size++;\n    }\n    return (Position&lt;E&gt;) header;\n    //        return addBetween(e, header, header.getNext());\n}\n\n@Override\npublic Position&lt;E&gt; insertLast(E e) throws IllegalValueException {\n\n    Node temp = new Node(e, null, trailer);\n    trailer = temp;\n    size++;\n    return (Position&lt;E&gt;) trailer;\n    //        return addBetween(e, trailer.getBefore(), trailer);\n}\n\n@Override\npublic Position&lt;E&gt; insertBefore(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\n    Node node = validate(p);\n    return addBetween(e, node.getBefore(), node);\n}\n\n@Override\npublic Position&lt;E&gt; insertAfter(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\n    Node node = validate(p);\n    return addBetween(e, node, node.getNext());\n\n}\n\n@Override\npublic E remove(Position&lt;E&gt; p) throws InvalidPositionException {\n    Node node = validate(p);\n    Node predecessor = node.getBefore();\n    Node successor = node.getNext();\n    predecessor.setNext(successor);\n    successor.setBefore(predecessor);\n    size--;\n    E answer = node.getElement();\n    node.setElement(null);\n    node.setBefore(null);\n    node.setNext(null);\n    return answer;\n}\n\n@Override\npublic E replaceElement(Position&lt;E&gt; p, E e) throws InvalidPositionException, IllegalValueException {\n    Node node = validate(p);\n    node.setElement(e);\n    return node.getElement();\n}\n\n@Override\npublic void swapElements(Position&lt;E&gt; p, Position&lt;E&gt; q) throws InvalidPositionException {\n\n}\n\n@Override\npublic Iterator&lt;Position&lt;E&gt;&gt; positionalIterator() {\n    return null;\n}\n\n@Override\npublic void sort(Comparator&lt;E&gt; comparator) {\n\n}\n\n@Override\npublic Position&lt;E&gt; find(E e) {\n    int counter = 0;\n    for (Node i = header; counter &lt; size; i = i.next) {\n        if (e.equals(i)) {\n            return (Position&lt;E&gt;) e;\n        }\n        counter++;\n\n        return null;\n    }return null;\n}\n\n@Override\npublic Iterator&lt;Position&lt;E&gt;&gt; findAll(E e) {\n    return null;\n}\n\n@Override\npublic Iterator&lt;E&gt; iterator() {\n    return null;\n}\n\n@Override\npublic void forEach(Consumer&lt;? super E&gt; action) {\n    PositionalList.super.forEach(action);\n}\n\n@Override\npublic Spliterator&lt;E&gt; spliterator() {\n    return PositionalList.super.spliterator();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","cucumber"],"answers":[{"tags":[],"owner":{"account_id":18542437,"reputation":106,"user_id":13510602,"display_name":"hartenfels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655056604,"creation_date":1655056604,"answer_id":72594639,"question_id":72594512,"body_markdown":"Neither your `SpringBootCucumberApplication` nor your `CucumberSpringConfiguration` scan your `LoginPage` component because it&#39;s in a totally different package. The default component scan only looks in the current and any descending packages, but `pcz.Page` isn&#39;t anywhere beneath the `pcz.StepDefs` or `config` packages.\r\n\r\nYou can try any of the following:\r\n\r\n* Rename the `config` package to `pcz`. That will make the default component scan of your `SpringBootCucumberApplication` notice your `pcz.Page` package.\r\n\r\n* Move your `pcz.Page` package to `pcz.StepDefs.Page` so that the default component scan of your `CucumberSpringConfiguration` will notice it.\r\n\r\n* Use a [ComponentScan](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html) annotation on your `CucumberSpringApplication`, telling it which packages to scan: `@ComponentScan(basePackages = {&quot;Page&quot;})`.\r\n\r\nSide note, your package names [should probably be lower-cased](https://stackoverflow.com/questions/12534302/why-should-java-package-name-be-lowercase).","title":"No qualifying bean, but I added @Component annotation","body":"<p>Neither your <code>SpringBootCucumberApplication</code> nor your <code>CucumberSpringConfiguration</code> scan your <code>LoginPage</code> component because it's in a totally different package. The default component scan only looks in the current and any descending packages, but <code>pcz.Page</code> isn't anywhere beneath the <code>pcz.StepDefs</code> or <code>config</code> packages.</p>\n<p>You can try any of the following:</p>\n<ul>\n<li><p>Rename the <code>config</code> package to <code>pcz</code>. That will make the default component scan of your <code>SpringBootCucumberApplication</code> notice your <code>pcz.Page</code> package.</p>\n</li>\n<li><p>Move your <code>pcz.Page</code> package to <code>pcz.StepDefs.Page</code> so that the default component scan of your <code>CucumberSpringConfiguration</code> will notice it.</p>\n</li>\n<li><p>Use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">ComponentScan</a> annotation on your <code>CucumberSpringApplication</code>, telling it which packages to scan: <code>@ComponentScan(basePackages = {&quot;Page&quot;})</code>.</p>\n</li>\n</ul>\n<p>Side note, your package names <a href=\"https://stackoverflow.com/questions/12534302/why-should-java-package-name-be-lowercase\">should probably be lower-cased</a>.</p>\n"}],"owner":{"display_name":"user18542516"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655056604,"creation_date":1655055445,"question_id":72594512,"body_markdown":"&gt; Could not invoke step [User clicks Register on main page] defined at\r\n&gt; &#39;pcz.StepDefs.LoginPageStepDefs.userClicksRegisterOnMainPage()&#39;. It\r\n&gt; appears there was a problem with the step definition. The converted\r\n&gt; arguments types were ()\r\n&gt; \r\n&gt; Caused by: io.cucumber.core.backend.CucumberBackendException: Error\r\n&gt; creating bean with name &#39;pcz.StepDefs.LoginPageStepDefs&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;loginPage&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;pcz.Page.LoginPage&#39; available: expected at\r\n&gt; least 1 bean which qualifies as autowire candidate. Dependency\r\n&gt; annotations: {@org.springframework.beans.factory\r\n&gt; .annotation.Autowired(required=true)}\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AhJ47.png\r\n\r\n\r\n    public class LoginPageStepDefs {\r\n    \r\n    @Autowired\r\n    LoginPage loginPage;\r\n    \r\n    \r\n        @When(&quot;User clicks Register on main page&quot;)\r\n        public void userClicksRegisterOnMainPage() {\r\n            loginPage.test();\r\n    \r\n        }\r\n    }\r\n\r\n    \r\n\r\n    import org.springframework.stereotype.Component;\r\n    @Component\r\n    public class LoginPage {\r\n        public void test(){\r\n        }\r\n    }\r\n\r\nAnd Spring config: \r\n\r\n    @CucumberContextConfiguration\r\n    @ContextConfiguration(classes = SpringBootCucumberApplication.class, loader = AnnotationConfigContextLoader.class)\r\n    @SpringBootTest()\r\n    public class CucumberSpringConfiguration {\r\n    }\r\n\r\n\r\n    @SpringBootApplication()\r\n    public class SpringBootCucumberApplication {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"No qualifying bean, but I added @Component annotation","body":"<blockquote>\n<p>Could not invoke step [User clicks Register on main page] defined at\n'pcz.StepDefs.LoginPageStepDefs.userClicksRegisterOnMainPage()'. It\nappears there was a problem with the step definition. The converted\narguments types were ()</p>\n<p>Caused by: io.cucumber.core.backend.CucumberBackendException: Error\ncreating bean with name 'pcz.StepDefs.LoginPageStepDefs': Unsatisfied\ndependency expressed through field 'loginPage'; nested exception is\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No\nqualifying bean of type 'pcz.Page.LoginPage' available: expected at\nleast 1 bean which qualifies as autowire candidate. Dependency\nannotations: {@org.springframework.beans.factory\n.annotation.Autowired(required=true)}</p>\n</blockquote>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/AhJ47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhJ47.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class LoginPageStepDefs {\n\n@Autowired\nLoginPage loginPage;\n\n\n    @When(&quot;User clicks Register on main page&quot;)\n    public void userClicksRegisterOnMainPage() {\n        loginPage.test();\n\n    }\n}\n\n\n\nimport org.springframework.stereotype.Component;\n@Component\npublic class LoginPage {\n    public void test(){\n    }\n}\n</code></pre>\n<p>And Spring config:</p>\n<pre><code>@CucumberContextConfiguration\n@ContextConfiguration(classes = SpringBootCucumberApplication.class, loader = AnnotationConfigContextLoader.class)\n@SpringBootTest()\npublic class CucumberSpringConfiguration {\n}\n\n\n@SpringBootApplication()\npublic class SpringBootCucumberApplication {\n\n    public static void main(String[] args) {\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","security","authentication","jwt"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1655047405,"post_id":72593180,"comment_id":128232650,"body_markdown":"Can you post error stacktrace?","body":"Can you post error stacktrace?"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":0,"creation_date":1655050953,"post_id":72593180,"comment_id":128233451,"body_markdown":"There is no stack trace. After I send post request to login with the credentials, it outputs the user. After that, when I hit  /user/current endpoint, it gives unathorized without any description. This happens because   Authentication auth = SecurityContextHolder.getContext().getAuthentication();  gives anonymous user.","body":"There is no stack trace. After I send post request to login with the credentials, it outputs the user. After that, when I hit  /user/current endpoint, it gives unathorized without any description. This happens because   Authentication auth = SecurityContextHolder.getContext().getAuthentication();  gives anonymous user."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655056234,"creation_date":1655055076,"answer_id":72594456,"question_id":72593180,"body_markdown":"In [Spring documentation][1], section **Storing the SecurityContext between requests** says :\r\n\r\n&gt; Depending on the type of application, there may need to be a strategy\r\n&gt; in place to store the security context between user operations. In a\r\n&gt; typical web application, a user logs in once and is subsequently\r\n&gt; identified by their session Id. The server caches the principal\r\n&gt; information for the duration session. In Spring Security, the\r\n&gt; responsibility for storing the SecurityContext between requests falls\r\n&gt; to the SecurityContextPersistenceFilter, which by default stores the\r\n&gt; context as an HttpSession attribute between HTTP requests. It restores\r\n&gt; the context to the SecurityContextHolder for each request and,\r\n&gt; crucially, clears the SecurityContextHolder when the request completes\r\n\r\n\r\nSo basically, when you create the security context manually no session object is created. Only when the request finishes processing does the Spring Security mechanism realize that the session object is null (when it tries to store the security context to the session after the request has been processed).\r\n\r\nAt the end of the request Spring Security creates a new session object and session ID. However this new session ID never makes it to the browser because it occurs at the end of the request, after the response to the browser has been made. This causes the new session ID (and hence the Security context containing my manually logged on user) to be lost when the next request contains the previous session ID.\r\n\r\n\r\nI found two solutions to hande this situation:  \r\n\r\n1.First solution : Save `SecurityContext` object in  session and then extract it from session when needed :\r\n\r\n\r\n    HttpSession session = request.getSession(true);\r\n    session.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\r\n\r\nand then, extract it from session.\r\n\r\n\r\n2. Second solution according to [this answer][2] would be to refactor your login function like this:\r\n\r\n \r\n\r\n       private void doAutoLogin(String username, String password, HttpServletRequest request) {\r\n    \r\n        try {\r\n            // Must be called from request filtered by Spring Security, otherwise SecurityContextHolder is not updated\r\n            UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\r\n            token.setDetails(new WebAuthenticationDetails(request));\r\n            Authentication authentication = this.authenticationProvider.authenticate(token);\r\n            logger.debug(&quot;Logging in with [{}]&quot;, authentication.getPrincipal());\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        } catch (Exception e) {\r\n            SecurityContextHolder.getContext().setAuthentication(null);\r\n            logger.error(&quot;Failure in autoLogin&quot;, e);\r\n        }\r\n    \r\n    };\r\n\r\nThis is how you shoud get authenticationProvider :\r\n\r\n    @Configuration public class WebConfig extends WebSecurityConfigurerAdapter {  \r\n     \r\n    @Bean          \r\n    public AuthenticationManager authenticationProvider() throws Exception{  \r\n       return super.authenticationManagerBean();     \r\n      } \r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/3.0.x/reference/technical-overview.html\r\n  [2]: https://stackoverflow.com/questions/4664893/how-to-manually-set-an-authenticated-user-in-spring-security-springmvc\r\n","title":"Unable to set logged user from SecurityContextHolder in Spring Boot","body":"<p>In <a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/reference/technical-overview.html\" rel=\"nofollow noreferrer\">Spring documentation</a>, section <strong>Storing the SecurityContext between requests</strong> says :</p>\n<blockquote>\n<p>Depending on the type of application, there may need to be a strategy\nin place to store the security context between user operations. In a\ntypical web application, a user logs in once and is subsequently\nidentified by their session Id. The server caches the principal\ninformation for the duration session. In Spring Security, the\nresponsibility for storing the SecurityContext between requests falls\nto the SecurityContextPersistenceFilter, which by default stores the\ncontext as an HttpSession attribute between HTTP requests. It restores\nthe context to the SecurityContextHolder for each request and,\ncrucially, clears the SecurityContextHolder when the request completes</p>\n</blockquote>\n<p>So basically, when you create the security context manually no session object is created. Only when the request finishes processing does the Spring Security mechanism realize that the session object is null (when it tries to store the security context to the session after the request has been processed).</p>\n<p>At the end of the request Spring Security creates a new session object and session ID. However this new session ID never makes it to the browser because it occurs at the end of the request, after the response to the browser has been made. This causes the new session ID (and hence the Security context containing my manually logged on user) to be lost when the next request contains the previous session ID.</p>\n<p>I found two solutions to hande this situation:</p>\n<p>1.First solution : Save <code>SecurityContext</code> object in  session and then extract it from session when needed :</p>\n<pre><code>HttpSession session = request.getSession(true);\nsession.setAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;, securityContext);\n</code></pre>\n<p>and then, extract it from session.</p>\n<ol start=\"2\">\n<li><p>Second solution according to <a href=\"https://stackoverflow.com/questions/4664893/how-to-manually-set-an-authenticated-user-in-spring-security-springmvc\">this answer</a> would be to refactor your login function like this:</p>\n<pre><code>private void doAutoLogin(String username, String password, HttpServletRequest request) {\n\n try {\n     // Must be called from request filtered by Spring Security, otherwise SecurityContextHolder is not updated\n     UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(username, password);\n     token.setDetails(new WebAuthenticationDetails(request));\n     Authentication authentication = this.authenticationProvider.authenticate(token);\n     logger.debug(&quot;Logging in with [{}]&quot;, authentication.getPrincipal());\n     SecurityContextHolder.getContext().setAuthentication(authentication);\n } catch (Exception e) {\n     SecurityContextHolder.getContext().setAuthentication(null);\n     logger.error(&quot;Failure in autoLogin&quot;, e);\n }\n</code></pre>\n<p>};</p>\n</li>\n</ol>\n<p>This is how you shoud get authenticationProvider :</p>\n<pre><code>@Configuration public class WebConfig extends WebSecurityConfigurerAdapter {  \n \n@Bean          \npublic AuthenticationManager authenticationProvider() throws Exception{  \n   return super.authenticationManagerBean();     \n  } \n}\n</code></pre>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72594456,"answer_count":1,"score":1,"last_activity_date":1655056234,"creation_date":1655044739,"question_id":72593180,"body_markdown":"I am trying to implement authentication using JWT in Spring Boot. In the login function I am setting the authentication in the SecurityContextHolder in order to be able to get it when requested. The login functionality works, but when I try to get the current logged user, I am getting unathorized. I debugged and the SecurityContextHolder gives anonymous user. Why is this happening?\r\n\r\nUserController class:\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class UserController {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate CustomAuthenticationManager authenticationManager;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate JwtEncoder jwtEncoder;\r\n    \t\r\n    \t@PostMapping(&quot;/user/login&quot;)\r\n    \t  public ResponseEntity&lt;User&gt; login(@RequestBody @Valid AuthDto request) {\r\n    \t    try {\r\n    \t      Authentication authentication = authenticationManager\r\n    \t        .authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\r\n    \r\n    \t      String userEmail = (String) authentication.getPrincipal();\r\n    \t      User user = userService.findUserByEmail(userEmail);\r\n    \t      Instant now = Instant.now();\r\n    \t      long expiry = 36000L;\r\n    \r\n    \t      String scope = authentication.getAuthorities().stream()\r\n    \t        .map(GrantedAuthority::getAuthority)\r\n    \t        .collect(joining(&quot; &quot;));\r\n    \r\n    \t      JwtClaimsSet claims = JwtClaimsSet.builder()\r\n    \t        .issuer(&quot;uni.pu&quot;)\r\n    \t        .issuedAt(now)\r\n    \t        .expiresAt(now.plusSeconds(expiry))\r\n    \t        .subject(format(&quot;%s,%s&quot;, user.getId(), user.getEmail()))\r\n    \t        .claim(&quot;roles&quot;, scope)\r\n    \t        .build();\r\n    \r\n    \t      String token = this.jwtEncoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n    \t      \r\n    \r\n    \t      SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    \r\n    \t      return ResponseEntity.ok()\r\n    \t        .header(HttpHeaders.AUTHORIZATION, token)\r\n    \t        .body(user);\r\n    \t    } catch (BadCredentialsException ex) {\r\n    \t      return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n    \t    }\r\n    \t  }\r\n    \t\r\n    \t@GetMapping(&quot;/user/current&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; getLoggedUser(){\r\n    \t\ttry{\r\n    \t\t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    \t\t\treturn ResponseEntity.ok()\r\n    \t\t\t        .body((User)auth.getPrincipal());\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n    \t\t}\r\n    \t\t \r\n    \t}\r\n    }\r\n\r\nWebSecurityConfig:\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\n\r\n    public class WebSecurityConfig {\r\n\tprivate static final String[] WHITE_LIST_URLS = {&quot;/api/user/login&quot;, &quot;/api/user/current&quot;};\r\n\r\n\t@Autowired\r\n\tprivate MyUserDetailsService userDetailsService;\r\n\r\n\t@Value(&quot;${jwt.public.key}&quot;)\r\n\tprivate RSAPublicKey rsaPublicKey;\r\n\t@Value(&quot;${jwt.private.key}&quot;)\r\n\tprivate RSAPrivateKey rsaPrivateKey;\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder encoder() {\r\n\t\treturn new BCryptPasswordEncoder(10);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\t\tauthProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthProvider.setPasswordEncoder(encoder());\r\n\r\n\t\treturn authProvider;\r\n\t}\r\n\r\n\t@Bean\r\n\tSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\t// Enable CORS and disable CSRF\r\n\t\thttp = http.cors().and().csrf().disable();\r\n\r\n\t\t// Set session management to stateless\r\n\t\thttp = http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and();\r\n\t\t// Set unauthorized requests exception handler\r\n\t\thttp = http.exceptionHandling(\r\n\t\t\t\t(exceptions) -&gt; exceptions.authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\r\n\t\t\t\t\t\t.accessDeniedHandler(new BearerTokenAccessDeniedHandler()));\r\n\r\n\t\thttp = http.authenticationProvider(authenticationProvider());\r\n\t\t\r\n\t\t// Set permissions on endpoints\r\n\t\thttp.authorizeHttpRequests().antMatchers(WHITE_LIST_URLS).permitAll().antMatchers(&quot;/api/**&quot;).authenticated()\r\n\t\t\t\t// Our private endpoints\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t// Set up oauth2 resource server\r\n\t\t\t\t.and().httpBasic(Customizer.withDefaults()).oauth2ResourceServer().jwt();\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtEncoder jwtEncoder() {\r\n\t\tJWK jwk = new RSAKey.Builder(this.rsaPublicKey).privateKey(this.rsaPrivateKey).build();\r\n\t\tJWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n\t\treturn new NimbusJwtEncoder(jwks);\r\n\t}\r\n\r\n\t// Used by JwtAuthenticationProvider to decode and validate JWT tokens\r\n\t@Bean\r\n\tpublic JwtDecoder jwtDecoder() {\r\n\t\treturn NimbusJwtDecoder.withPublicKey(this.rsaPublicKey).build();\r\n\t}\r\n\r\n\t// Extract authorities from the roles claim\r\n\t@Bean\r\n\tpublic JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n\t\tJwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n\t\tjwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\r\n\t\tjwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n\r\n\t\tJwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n\t\tjwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n\t\treturn jwtAuthenticationConverter;\r\n\t}\r\n\t@Bean\r\n\tpublic CorsFilter corsFilter() {\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tCorsConfiguration config = new CorsConfiguration();\r\n\t\tconfig.setAllowCredentials(true);\r\n\t\tconfig.addAllowedOrigin(&quot;*&quot;);\r\n\t\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\t\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\t\treturn new CorsFilter(source);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n\t@Bean\r\n\tpublic RoleHierarchy roleHierarchy() {\r\n\t\tRoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n\t\tString hierarchy = &quot;ROLE_ADMIN &gt; ROLE_INSPECTOR \\n ROLE_INSPECTOR &gt; ROLE_STUDENT&quot;;\r\n\t\troleHierarchy.setHierarchy(hierarchy);\r\n\t\treturn roleHierarchy;\r\n\t}\r\n\r\n}\r\n\r\n","title":"Unable to set logged user from SecurityContextHolder in Spring Boot","body":"<p>I am trying to implement authentication using JWT in Spring Boot. In the login function I am setting the authentication in the SecurityContextHolder in order to be able to get it when requested. The login functionality works, but when I try to get the current logged user, I am getting unathorized. I debugged and the SecurityContextHolder gives anonymous user. Why is this happening?</p>\n<p>UserController class:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RequestMapping(&quot;/api&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n    \n    @Autowired\n    private CustomAuthenticationManager authenticationManager;\n    \n    @Autowired\n    private JwtEncoder jwtEncoder;\n    \n    @PostMapping(&quot;/user/login&quot;)\n      public ResponseEntity&lt;User&gt; login(@RequestBody @Valid AuthDto request) {\n        try {\n          Authentication authentication = authenticationManager\n            .authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));\n\n          String userEmail = (String) authentication.getPrincipal();\n          User user = userService.findUserByEmail(userEmail);\n          Instant now = Instant.now();\n          long expiry = 36000L;\n\n          String scope = authentication.getAuthorities().stream()\n            .map(GrantedAuthority::getAuthority)\n            .collect(joining(&quot; &quot;));\n\n          JwtClaimsSet claims = JwtClaimsSet.builder()\n            .issuer(&quot;uni.pu&quot;)\n            .issuedAt(now)\n            .expiresAt(now.plusSeconds(expiry))\n            .subject(format(&quot;%s,%s&quot;, user.getId(), user.getEmail()))\n            .claim(&quot;roles&quot;, scope)\n            .build();\n\n          String token = this.jwtEncoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n          \n\n          SecurityContextHolder.getContext().setAuthentication(authentication);\n\n          return ResponseEntity.ok()\n            .header(HttpHeaders.AUTHORIZATION, token)\n            .body(user);\n        } catch (BadCredentialsException ex) {\n          return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n        }\n      }\n    \n    @GetMapping(&quot;/user/current&quot;)\n    public ResponseEntity&lt;User&gt; getLoggedUser(){\n        try{\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n            return ResponseEntity.ok()\n                    .body((User)auth.getPrincipal());\n        }\n        catch(Exception e) {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n        }\n         \n    }\n}\n</code></pre>\n<p>WebSecurityConfig:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\n\npublic class WebSecurityConfig {\nprivate static final String[] WHITE_LIST_URLS = {&quot;/api/user/login&quot;, &quot;/api/user/current&quot;};\n\n@Autowired\nprivate MyUserDetailsService userDetailsService;\n\n@Value(&quot;${jwt.public.key}&quot;)\nprivate RSAPublicKey rsaPublicKey;\n@Value(&quot;${jwt.private.key}&quot;)\nprivate RSAPrivateKey rsaPrivateKey;\n\n@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder(10);\n}\n\n@Bean\npublic DaoAuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService);\n    authProvider.setPasswordEncoder(encoder());\n\n    return authProvider;\n}\n\n@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    // Enable CORS and disable CSRF\n    http = http.cors().and().csrf().disable();\n\n    // Set session management to stateless\n    http = http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and();\n    // Set unauthorized requests exception handler\n    http = http.exceptionHandling(\n            (exceptions) -&gt; exceptions.authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\n                    .accessDeniedHandler(new BearerTokenAccessDeniedHandler()));\n\n    http = http.authenticationProvider(authenticationProvider());\n    \n    // Set permissions on endpoints\n    http.authorizeHttpRequests().antMatchers(WHITE_LIST_URLS).permitAll().antMatchers(&quot;/api/**&quot;).authenticated()\n            // Our private endpoints\n            .anyRequest().authenticated()\n            // Set up oauth2 resource server\n            .and().httpBasic(Customizer.withDefaults()).oauth2ResourceServer().jwt();\n    \n    return http.build();\n}\n\n@Bean\npublic JwtEncoder jwtEncoder() {\n    JWK jwk = new RSAKey.Builder(this.rsaPublicKey).privateKey(this.rsaPrivateKey).build();\n    JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n    return new NimbusJwtEncoder(jwks);\n}\n\n// Used by JwtAuthenticationProvider to decode and validate JWT tokens\n@Bean\npublic JwtDecoder jwtDecoder() {\n    return NimbusJwtDecoder.withPublicKey(this.rsaPublicKey).build();\n}\n\n// Extract authorities from the roles claim\n@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n    JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\n    jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n@Bean\npublic CorsFilter corsFilter() {\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.setAllowCredentials(true);\n    config.addAllowedOrigin(&quot;*&quot;);\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;*&quot;);\n    source.registerCorsConfiguration(&quot;/**&quot;, config);\n    return new CorsFilter(source);\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n        throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\npublic RoleHierarchy roleHierarchy() {\n    RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n    String hierarchy = &quot;ROLE_ADMIN &gt; ROLE_INSPECTOR \\n ROLE_INSPECTOR &gt; ROLE_STUDENT&quot;;\n    roleHierarchy.setHierarchy(hierarchy);\n    return roleHierarchy;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","search","distributed-system","bloom-filter"],"comments":[{"owner":{"account_id":1144419,"reputation":191,"user_id":1232451,"display_name":"Nawras"},"score":0,"creation_date":1563873403,"post_id":50422549,"comment_id":100835505,"body_markdown":"Hey, did you find any workarounds?","body":"Hey, did you find any workarounds?"}],"answers":[{"tags":[],"owner":{"account_id":3433285,"reputation":4199,"user_id":2877029,"accept_rate":62,"display_name":"Viacheslav Shalamov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633644730,"creation_date":1526713117,"answer_id":50422675,"question_id":50422549,"body_markdown":"&gt; kept for a couple of days and then discarded\r\n \r\nBloom filter does not support deleting objects, only inserting.  \r\nIf you have multiple bloom filters, you have to query them all to check if one of them contains the object you need.\r\n\r\nBloom filters can be effectively **merged**, if they have the same structure (the same size, the same hash function, etc).\r\n\r\nYou can use this Bloom filter:\r\nhttps://github.com/odnoklassniki/apache-cassandra/blob/master/src/java/org/apache/cassandra/utils/BloomFilter.java\r\n\r\nAnd merge two filters like this:\r\n\r\n    BloomFilter merge(BloomFilter dstFilter, BloomFilter srcFilter) {\r\n        OpenBitSet dst = dstFilter.bitset;\r\n        OpenBitSet src = srcFilter.bitset;\r\n\r\n        for (int i = 0; i &lt; src.getPageCount(); ++i) {\r\n            long[] dstBits = dst.getPage(i);\r\n            long[] srcBits = src.getPage(i);\r\n\r\n            for (int j = 0; j &lt; srcBits.length; ++j) {\r\n                dstBits[j] |= srcBits[j];\r\n            }\r\n            dst.setPage(i, dstBits);\r\n        }\r\n        return dstFilter;\r\n    }\r\n\r\n","title":"Bloom filters in a distributed environment","body":"<blockquote>\n<p>kept for a couple of days and then discarded</p>\n</blockquote>\n<p>Bloom filter does not support deleting objects, only inserting.<br />\nIf you have multiple bloom filters, you have to query them all to check if one of them contains the object you need.</p>\n<p>Bloom filters can be effectively <strong>merged</strong>, if they have the same structure (the same size, the same hash function, etc).</p>\n<p>You can use this Bloom filter:\n<a href=\"https://github.com/odnoklassniki/apache-cassandra/blob/master/src/java/org/apache/cassandra/utils/BloomFilter.java\" rel=\"nofollow noreferrer\">https://github.com/odnoklassniki/apache-cassandra/blob/master/src/java/org/apache/cassandra/utils/BloomFilter.java</a></p>\n<p>And merge two filters like this:</p>\n<pre><code>BloomFilter merge(BloomFilter dstFilter, BloomFilter srcFilter) {\n    OpenBitSet dst = dstFilter.bitset;\n    OpenBitSet src = srcFilter.bitset;\n\n    for (int i = 0; i &lt; src.getPageCount(); ++i) {\n        long[] dstBits = dst.getPage(i);\n        long[] srcBits = src.getPage(i);\n\n        for (int j = 0; j &lt; srcBits.length; ++j) {\n            dstBits[j] |= srcBits[j];\n        }\n        dst.setPage(i, dstBits);\n    }\n    return dstFilter;\n}\n</code></pre>\n"}],"owner":{"account_id":6157062,"reputation":226,"user_id":4859162,"display_name":"zgguy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1965,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1655055601,"creation_date":1526711957,"question_id":50422549,"body_markdown":"I have a system consisting of a few application instances, written in Java. Requests to them are load balanced for high availability. Every second, hundreds of small chunks of data (each consisting of a few simple strings) are received by this &quot;cluster&quot;, stored in the database, kept for a couple of days and then discarded. Apart from storing this data, the main requirement is to quickly determine if a given value is stored in the database or not. An appropriately indexed and partitioned database table seems suited to the problem and does it&#39;s job well, at least for now. \r\n\r\nThe problem is, about 80% of the searched values are not found because they are not in the database. Therefore I would like to speed things up a bit and make the search faster and less resource-intensive. A bloom filter would be the obvious choice, were it not for the fact that different application instances receive different parts of data and if each application instance has only a part of the data in it&#39;s bloom filter then those bloom filters are useless. \r\n\r\nDo you have any suggestions/ideas on how to solve this problem?\r\n ","title":"Bloom filters in a distributed environment","body":"<p>I have a system consisting of a few application instances, written in Java. Requests to them are load balanced for high availability. Every second, hundreds of small chunks of data (each consisting of a few simple strings) are received by this \"cluster\", stored in the database, kept for a couple of days and then discarded. Apart from storing this data, the main requirement is to quickly determine if a given value is stored in the database or not. An appropriately indexed and partitioned database table seems suited to the problem and does it's job well, at least for now. </p>\n\n<p>The problem is, about 80% of the searched values are not found because they are not in the database. Therefore I would like to speed things up a bit and make the search faster and less resource-intensive. A bloom filter would be the obvious choice, were it not for the fact that different application instances receive different parts of data and if each application instance has only a part of the data in it's bloom filter then those bloom filters are useless. </p>\n\n<p>Do you have any suggestions/ideas on how to solve this problem?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1655054901,"post_id":72512739,"comment_id":128234342,"body_markdown":"A syntax error has crept into your code when you were copy/pasting. This line is in error: `dr.write().parquet(JSONSAMPLEFILE.parquet &quot;);`.","body":"A syntax error has crept into your code when you were copy/pasting. This line is in error: <code>dr.write().parquet(JSONSAMPLEFILE.parquet &quot;);</code>."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1655055013,"post_id":72512739,"comment_id":128234363,"body_markdown":"Have you tried doing what the error message instructs you to do?","body":"Have you tried doing what the error message instructs you to do?"}],"owner":{"account_id":19958886,"reputation":3,"user_id":14626964,"display_name":"speci5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655054829,"creation_date":1654485891,"question_id":72512739,"body_markdown":"I am trying to convert JSON files to Parquet files using apache.spark.sql and am running into issues with what I believe is reading JSON files. I have attached my code and pom.xml and the error message below. Any help would be greatly appreciated, thank you.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n            File file = new File(&quot;src/main/resources/HadoopResources&quot;);\r\n            System.setProperty(&quot;hadoop.home.dir&quot;, file.getAbsolutePath());\r\n            SparkSession spark = SparkSession\r\n                .builder()\r\n                .appName(&quot;Java Spark SQL basic example&quot;)\r\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                .getOrCreate();\r\n\r\n            String path = &quot;path\\\\JSONSAMPLEFILE.json&quot;;\r\n            Dataset&lt;Row&gt; dr = spark.read().option(&quot;multiline&quot;, &quot;true&quot;).json(path).cache();\r\n            System.out.println(dr);\r\n            System.out.println(&quot;AFter DR&quot;);\r\n\r\n            dr.show();\r\n            System.out.println(&quot;After Show&quot;);\r\n            dr.write().parquet(JSONSAMPLEFILE.parquet &quot;);\r\n        } catch (Exception exception) {\r\n            System.err.println(exception);\r\n        }\r\n        System.out.println(&quot;End&quot;);\r\n    }\r\n}\r\n```\r\n\r\npom.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jPFunc&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-module-scala_2.11&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-cassandra-connector_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt; &lt;!-- matching Scala version --&gt;\r\n      &lt;version&gt;2.4.3&lt;/version&gt; &lt;!-- matching Spark Core version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.77.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nError Message: \r\n\r\n```none\r\n[_corrupt_record: string]\r\nAFter DR\r\norg.apache.spark.sql.AnalysisException: Since Spark 2.3, the queries from raw JSON/CSV files are disallowed when the\r\nreferenced columns only include the internal corrupt record column\r\n(named _corrupt_record by default). For example:\r\nspark.read.schema(schema).json(file).filter($&quot;_corrupt_record&quot;.isNotNull).count()\r\nand spark.read.schema(schema).json(file).select(&quot;_corrupt_record&quot;).show().\r\nInstead, you can cache or save the parsed results and then send the same query.\r\nFor example, val df = spark.read.schema(schema).json(file).cache() and then\r\ndf.filter($&quot;_corrupt_record&quot;.isNotNull).count().;\r\nEnd\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\n","title":"Running Into An Error With Apache.Spark.SQL Trying to Convert JSON to Parquet","body":"<p>I am trying to convert JSON files to Parquet files using apache.spark.sql and am running into issues with what I believe is reading JSON files. I have attached my code and pom.xml and the error message below. Any help would be greatly appreciated, thank you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;src/main/resources/HadoopResources&quot;);\n            System.setProperty(&quot;hadoop.home.dir&quot;, file.getAbsolutePath());\n            SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;Java Spark SQL basic example&quot;)\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\n                .getOrCreate();\n\n            String path = &quot;path\\\\JSONSAMPLEFILE.json&quot;;\n            Dataset&lt;Row&gt; dr = spark.read().option(&quot;multiline&quot;, &quot;true&quot;).json(path).cache();\n            System.out.println(dr);\n            System.out.println(&quot;AFter DR&quot;);\n\n            dr.show();\n            System.out.println(&quot;After Show&quot;);\n            dr.write().parquet(JSONSAMPLEFILE.parquet &quot;);\n        } catch (Exception exception) {\n            System.err.println(exception);\n        }\n        System.out.println(&quot;End&quot;);\n    }\n}\n</code></pre>\n<p>pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;jPFunc&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-module-scala_2.11&lt;/artifactId&gt;\n      &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n      &lt;version&gt;3.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.datastax.spark/spark-cassandra-connector --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.datastax.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-cassandra-connector_2.12&lt;/artifactId&gt;\n      &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt; &lt;!-- matching Scala version --&gt;\n      &lt;version&gt;2.4.3&lt;/version&gt; &lt;!-- matching Spark Core version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n      &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\n      &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n      &lt;version&gt;4.1.77.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Error Message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[_corrupt_record: string]\nAFter DR\norg.apache.spark.sql.AnalysisException: Since Spark 2.3, the queries from raw JSON/CSV files are disallowed when the\nreferenced columns only include the internal corrupt record column\n(named _corrupt_record by default). For example:\nspark.read.schema(schema).json(file).filter($&quot;_corrupt_record&quot;.isNotNull).count()\nand spark.read.schema(schema).json(file).select(&quot;_corrupt_record&quot;).show().\nInstead, you can cache or save the parsed results and then send the same query.\nFor example, val df = spark.read.schema(schema).json(file).cache() and then\ndf.filter($&quot;_corrupt_record&quot;.isNotNull).count().;\nEnd\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","javafx","colors","background-color"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1655059544,"post_id":72594382,"comment_id":128235299,"body_markdown":"https://stackoverflow.com/questions/49149502/button-color-change-in-javafx","body":"<a href=\"https://stackoverflow.com/questions/49149502/button-color-change-in-javafx\" title=\"button color change in javafx\">stackoverflow.com/questions/49149502/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1655060045,"post_id":72594382,"comment_id":128235389,"body_markdown":"&quot;_but none of them worked_&quot; – Then you should provide a [mre] demonstrating what didn&#39;t work (by [edit]ing your question). Clearly there are ways to change the background color of a button, otherwise those approaches you found while researching would not have worked for everyone else. This means there must be a mistake in your code that we could possibly help you with—if we could see it.","body":"&quot;<i>but none of them worked</i>&quot; – Then you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what didn&#39;t work (by <a href=\"https://stackoverflow.com/posts/72594382/edit\">edit</a>ing your question). Clearly there are ways to change the background color of a button, otherwise those approaches you found while researching would not have worked for everyone else. This means there must be a mistake in your code that we could possibly help you with—if we could see it."}],"answers":[{"tags":[],"owner":{"account_id":12439965,"reputation":136,"user_id":9058664,"display_name":"Edd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655054679,"creation_date":1655054679,"answer_id":72594415,"question_id":72594382,"body_markdown":"The following code will set a buttons color to red:\r\n\r\n    Button button = new Button(&quot;My Button&quot;);\r\n    button.setStyle(&quot;-fx-background-color: #ff0000; &quot;);\r\n\r\nIf you need any more help with buttons you can refer to the documentation here:\r\nhttps://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#setStyle-java.lang.String-\r\n","title":"Javafx - Changing the color of a buttom","body":"<p>The following code will set a buttons color to red:</p>\n<pre><code>Button button = new Button(&quot;My Button&quot;);\nbutton.setStyle(&quot;-fx-background-color: #ff0000; &quot;);\n</code></pre>\n<p>If you need any more help with buttons you can refer to the documentation here:\n<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#setStyle-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html#setStyle-java.lang.String-</a></p>\n"}],"owner":{"account_id":25538570,"reputation":1,"user_id":19325131,"display_name":"asdas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655097444,"answer_count":1,"score":-2,"last_activity_date":1655054679,"creation_date":1655054336,"question_id":72594382,"body_markdown":"I am a java beginner and i tried to lock it up and tried diffrent command but none of them worked.\r\n\r\nI want to change the Background Color of Button for example from red to green.","title":"Javafx - Changing the color of a buttom","body":"<p>I am a java beginner and i tried to lock it up and tried diffrent command but none of them worked.</p>\n<p>I want to change the Background Color of Button for example from red to green.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1481535077,"post_id":41097688,"comment_id":69399740,"body_markdown":"Does this here https://perlgeek.de/en/article/set-up-a-clean-utf8-environment help in any way? Meaning: you sure that the bash side of things works as you expect it to?","body":"Does this here <a href=\"https://perlgeek.de/en/article/set-up-a-clean-utf8-environment\" rel=\"nofollow noreferrer\">perlgeek.de/en/article/set-up-a-clean-utf8-environment</a> help in any way? Meaning: you sure that the bash side of things works as you expect it to?"},{"owner":{"account_id":9448541,"reputation":561,"user_id":7026316,"accept_rate":60,"display_name":"Baby.zhou"},"score":0,"creation_date":1481535665,"post_id":41097688,"comment_id":69400056,"body_markdown":"@GhostCat,I run the app in `docker`,the command runs well by shell directly,but code garbled.","body":"@GhostCat,I run the app in <code>docker</code>,the command runs well by shell directly,but code garbled."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":1,"creation_date":1481535960,"post_id":41097688,"comment_id":69400236,"body_markdown":"Possible duplicate of [Setting the default Java character encoding?](http://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\">Setting the default Java character encoding?</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1481535986,"post_id":41097688,"comment_id":69400256,"body_markdown":"Just in case you don&#39;t get a good answer here; there would be a simple workaround: you could write the SQL statement into some file (which should definitely work with UTF-8) and have your application read that file; instead of passing stuff directly. But of course, that is more like a dirty little hack.","body":"Just in case you don&#39;t get a good answer here; there would be a simple workaround: you could write the SQL statement into some file (which should definitely work with UTF-8) and have your application read that file; instead of passing stuff directly. But of course, that is more like a dirty little hack."},{"owner":{"account_id":1032460,"reputation":456,"user_id":1040506,"accept_rate":54,"display_name":"vahid"},"score":0,"creation_date":1481536247,"post_id":41097688,"comment_id":69400420,"body_markdown":"@Baby.zhou set locale variable in shell environment correctly.","body":"@Baby.zhou set locale variable in shell environment correctly."},{"owner":{"account_id":9448541,"reputation":561,"user_id":7026316,"accept_rate":60,"display_name":"Baby.zhou"},"score":0,"creation_date":1481537976,"post_id":41097688,"comment_id":69401397,"body_markdown":"@SergioMontoro,I set `-Dfile.encoding=UTF-8`,but it is no use.","body":"@SergioMontoro,I set <code>-Dfile.encoding=UTF-8</code>,but it is no use."},{"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"score":0,"creation_date":1481551820,"post_id":41097688,"comment_id":69409526,"body_markdown":"You may try to call [locale](https://www.cyberciti.biz/faq/how-to-set-locales-i18n-on-a-linux-unix/) from exec() but since the problem is within the string of your SQL query I think you&#39;d better encode the string with escaped character codes like &quot;\\\\uXXXX&quot; discussion [here](http://stackoverflow.com/questions/13287145/mysql-querying-for-unicode-entities) Also more info about encoding SQL at [OWASP](https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet)","body":"You may try to call <a href=\"https://www.cyberciti.biz/faq/how-to-set-locales-i18n-on-a-linux-unix/\" rel=\"nofollow noreferrer\">locale</a> from exec() but since the problem is within the string of your SQL query I think you&#39;d better encode the string with escaped character codes like &quot;\\\\uXXXX&quot; discussion <a href=\"http://stackoverflow.com/questions/13287145/mysql-querying-for-unicode-entities\">here</a> Also more info about encoding SQL at <a href=\"https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\" rel=\"nofollow noreferrer\">OWASP</a>"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655054471,"creation_date":1655054471,"answer_id":72594395,"question_id":41097688,"body_markdown":"&gt; _I found out that there is no use of new String(command.getBytes(),&quot;utf-8&quot;)._\r\n\r\nThis isn&#39;t accurate. Below is an example showing different character sets (ASCII and UTF-8) to run the same command using [`exec()`][1], and the output is pretty clearly affected by the character set.\r\n\r\nThis program:\r\n* takes a single input parameter,\r\n* runs `touch` to create two files at `/tmp/charset-test/` using that input value in the filename\r\n* further, if the input is a UTF-8 value, it should create a file with the UTF-8 value in the filename\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class CharsetTest {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String input = args[0];\r\n        System.out.println(&quot;input: &quot; + input);\r\n\r\n        Charset[] charsets = {StandardCharsets.US_ASCII, StandardCharsets.UTF_8};\r\n        for (Charset charset : charsets) {\r\n            String command = &quot;touch /tmp/charset-test/&quot; + input + &quot;-&quot; + charset.toString() + &quot;.txt&quot;;\r\n            System.out.println(&quot;command: &quot; + command);\r\n\r\n            // this is identical to your code, but:\r\n            //  - use Charsets instead of &quot;utf-8&quot; so I can interate; &quot;utf-8&quot; also works\r\n            //  - skip assigning to &quot;Process p&quot;\r\n            Runtime.getRuntime().exec(new String[]{\r\n                    &quot;bash&quot;, &quot;-c&quot;, new String(command.getBytes(), charset)\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I run with ASCII input `&quot;simple&quot;`, it creates two files, one for each charset: `&quot;simple-US-ASCII.txt&quot;` and `&quot;simple-UTF-8.txt&quot;`. This isn&#39;t all that interesting, but shows both charsets work normally with basic (ASCII) input.\r\n```\r\n% rm /tmp/charset-test/*.txt &amp;&amp; java CharsetTest.java simple\r\ninput: simple\r\ncommand: touch /tmp/charset-test/simple-US-ASCII.txt\r\ncommand: touch /tmp/charset-test/simple-UTF-8.txt\r\n\r\n% ls /tmp/charset-test\r\nsimple-US-ASCII.txt\tsimple-UTF-8.txt\r\n```\r\n\r\nIf input changes to `&quot;我&quot;`, then the ASCII charset handling results in the same &quot;garbled&quot; output you describe (`&quot;���-US-ASCII.txt&quot;`), whereas the UTF-8 version looks good (`&quot;我-UTF-8.txt&quot;`):\r\n```\r\n% rm /tmp/charset-test/*.txt &amp;&amp; java CharsetTest.java 我    \r\ninput: 我\r\ncommand: touch /tmp/charset-test/我-US-ASCII.txt\r\ncommand: touch /tmp/charset-test/我-UTF-8.txt\r\n\r\n% ls /tmp/charset-test\r\n我-UTF-8.txt\t\t���-US-ASCII.txt\r\n```\r\n\r\nAll of this to say: your code looks fine, it&#39;s doing the right thing to pass the charset to the `Runtime.exec()` call. I can&#39;t say what the proper solution would be, but it&#39;s likely something with the environment (not your code).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#exec-java.lang.String:A-","title":"How to set charset of Runtime.getRuntime().exec?","body":"<blockquote>\n<p><em>I found out that there is no use of new String(command.getBytes(),&quot;utf-8&quot;).</em></p>\n</blockquote>\n<p>This isn't accurate. Below is an example showing different character sets (ASCII and UTF-8) to run the same command using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#exec-java.lang.String:A-\" rel=\"nofollow noreferrer\"><code>exec()</code></a>, and the output is pretty clearly affected by the character set.</p>\n<p>This program:</p>\n<ul>\n<li>takes a single input parameter,</li>\n<li>runs <code>touch</code> to create two files at <code>/tmp/charset-test/</code> using that input value in the filename</li>\n<li>further, if the input is a UTF-8 value, it should create a file with the UTF-8 value in the filename</li>\n</ul>\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class CharsetTest {\n\n    public static void main(String[] args) throws IOException {\n        String input = args[0];\n        System.out.println(&quot;input: &quot; + input);\n\n        Charset[] charsets = {StandardCharsets.US_ASCII, StandardCharsets.UTF_8};\n        for (Charset charset : charsets) {\n            String command = &quot;touch /tmp/charset-test/&quot; + input + &quot;-&quot; + charset.toString() + &quot;.txt&quot;;\n            System.out.println(&quot;command: &quot; + command);\n\n            // this is identical to your code, but:\n            //  - use Charsets instead of &quot;utf-8&quot; so I can interate; &quot;utf-8&quot; also works\n            //  - skip assigning to &quot;Process p&quot;\n            Runtime.getRuntime().exec(new String[]{\n                    &quot;bash&quot;, &quot;-c&quot;, new String(command.getBytes(), charset)\n            });\n        }\n    }\n}\n</code></pre>\n<p>If I run with ASCII input <code>&quot;simple&quot;</code>, it creates two files, one for each charset: <code>&quot;simple-US-ASCII.txt&quot;</code> and <code>&quot;simple-UTF-8.txt&quot;</code>. This isn't all that interesting, but shows both charsets work normally with basic (ASCII) input.</p>\n<pre><code>% rm /tmp/charset-test/*.txt &amp;&amp; java CharsetTest.java simple\ninput: simple\ncommand: touch /tmp/charset-test/simple-US-ASCII.txt\ncommand: touch /tmp/charset-test/simple-UTF-8.txt\n\n% ls /tmp/charset-test\nsimple-US-ASCII.txt simple-UTF-8.txt\n</code></pre>\n<p>If input changes to <code>&quot;我&quot;</code>, then the ASCII charset handling results in the same &quot;garbled&quot; output you describe (<code>&quot;���-US-ASCII.txt&quot;</code>), whereas the UTF-8 version looks good (<code>&quot;我-UTF-8.txt&quot;</code>):</p>\n<pre><code>% rm /tmp/charset-test/*.txt &amp;&amp; java CharsetTest.java 我    \ninput: 我\ncommand: touch /tmp/charset-test/我-US-ASCII.txt\ncommand: touch /tmp/charset-test/我-UTF-8.txt\n\n% ls /tmp/charset-test\n我-UTF-8.txt     ���-US-ASCII.txt\n</code></pre>\n<p>All of this to say: your code looks fine, it's doing the right thing to pass the charset to the <code>Runtime.exec()</code> call. I can't say what the proper solution would be, but it's likely something with the environment (not your code).</p>\n"}],"owner":{"account_id":9448541,"reputation":561,"user_id":7026316,"accept_rate":60,"display_name":"Baby.zhou"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1655054471,"creation_date":1481534933,"question_id":41097688,"body_markdown":"Here is my code:\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{&quot;bash&quot;,&quot;-c&quot;,new String(command.getBytes(),&quot;utf-8&quot;)});\r\n\r\nI found out that there is no use of `new String(command.getBytes(),&quot;utf-8&quot;)`.\r\n\r\nHow can I to set charset?\r\n\r\nMy app is a `spring boot` application. \r\n\r\nThe detail command is \r\n\r\n    ./xxx.jar --execute &quot;select * from xxx where a = `我`&quot; \r\n\r\nWhen I execute the command directly in the shell, it runs well, but the java code gets garbled.\r\n\r\nI set `-Dfile.encoding=UTF-8`,but it is no use for me. Why?","title":"How to set charset of Runtime.getRuntime().exec?","body":"<p>Here is my code:</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\"bash\",\"-c\",new String(command.getBytes(),\"utf-8\")});\n</code></pre>\n\n<p>I found out that there is no use of <code>new String(command.getBytes(),\"utf-8\")</code>.</p>\n\n<p>How can I to set charset?</p>\n\n<p>My app is a <code>spring boot</code> application. </p>\n\n<p>The detail command is </p>\n\n<pre><code>./xxx.jar --execute \"select * from xxx where a = `我`\" \n</code></pre>\n\n<p>When I execute the command directly in the shell, it runs well, but the java code gets garbled.</p>\n\n<p>I set <code>-Dfile.encoding=UTF-8</code>,but it is no use for me. Why?</p>\n"},{"tags":["java","spring","rest","maven","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1655133522,"post_id":72585719,"comment_id":128253050,"body_markdown":"`javax.xml.bind.annotation.XmlRootElement;` You&#39;re using `javax`. Should be `jakarta`","body":"<code>javax.xml.bind.annotation.XmlRootElement;</code> You&#39;re using <code>javax</code>. Should be <code>jakarta</code>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1655133600,"post_id":72585719,"comment_id":128253097,"body_markdown":"If you are using a Jakarta container, you should remove anything (dependencies) that has `javax` in the name. It will save you a lot of headache","body":"If you are using a Jakarta container, you should remove anything (dependencies) that has <code>javax</code> in the name. It will save you a lot of headache"}],"owner":{"account_id":13909837,"reputation":1,"user_id":10043312,"display_name":"Surender"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655054209,"creation_date":1654962060,"question_id":72585719,"body_markdown":"I am trying to execute a very simple REST API using JAXrs. I have been following JetBrains tutorial and I&#39;m stuck at the point where the API needs to return Reponse/XML. The java version used here is 1.8 and the Tomcat is 10.0.\r\n\r\nI Guess there is some dependencies missing. Can someone help?\r\n\r\nHere are my code snippets:\r\n`pom.xml`\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.surender&lt;/groupId&gt;\r\n    &lt;artifactId&gt;messenger&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;messenger&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;messenger&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\r\n        &lt;!-- uncomment this to get JSON support &lt;dependency&gt; &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt; \r\n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt; &lt;/dependency&gt; --&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;3.1.0-M2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nModel Class\r\n```java\r\npackage org.surender.model;\r\n\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\nimport jakarta.xml.bind.annotation.XmlElement;\r\n\r\n@XmlRootElement(name = &quot;Surender&quot;)\r\npublic class MessagesModel {\r\n\r\n    @XmlElement(name = &quot;Message ID&quot;)\r\n    public int messageId;\r\n    public String messageTxt;\r\n    public String messageLike;\r\n    public String messageComment;\r\n    \r\n    \r\n    public MessagesModel(int messageId, String messageTxt, String messageLike, String messageComment) {\r\n        super();\r\n        System.out.println(&quot;Objects getting created&quot;);\r\n        this.messageId = messageId;\r\n        this.messageTxt = messageTxt;\r\n        this.messageLike = messageLike;\r\n        this.messageComment = messageComment;\r\n    }\r\n    \r\n    public MessagesModel() {\r\n        \r\n    }\r\n\r\n    public int getMessageId() {\r\n        return messageId;\r\n    }\r\n\r\n\r\n    public void setMessageId(int messageId) {\r\n        this.messageId = messageId;\r\n    }\r\n\r\n\r\n    public String getMessageTxt() {\r\n        return messageTxt;\r\n    }\r\n\r\n\r\n    public void setMessageTxt(String messageTxt) {\r\n        this.messageTxt = messageTxt;\r\n    }\r\n\r\n\r\n    public String getMessageLike() {\r\n        return messageLike;\r\n    }\r\n\r\n\r\n    public void setMessageLike(String messageLike) {\r\n        this.messageLike = messageLike;\r\n    }\r\n\r\n\r\n    public String getMessageComment() {\r\n        return messageComment;\r\n    }\r\n\r\n\r\n    public void setMessageComment(String messageComment) {\r\n        this.messageComment = messageComment;\r\n    }\r\n    \r\n}\r\n```\r\nMessage Service\r\n```java\r\npackage org.surender.service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.surender.model.MessagesModel;\r\n\r\npublic class MessagesService {\r\n    public List&lt;MessagesModel&gt; getMessages() {\r\n        List&lt;MessagesModel&gt; messagesList = new ArrayList&lt;MessagesModel&gt;();\r\n        messagesList.add(new MessagesModel(1,&quot;Hey There !&quot;,&quot;2&quot;,&quot;Hello&quot;));\r\n        messagesList.add(new MessagesModel(1,&quot;Hola Amigo!&quot;,&quot;2&quot;,&quot;Hello&quot;));\r\n        return messagesList;\r\n    }\r\n    \r\n    public MessagesService() {\r\n    }\r\n}\r\n```\r\n`MessageResource`\r\n```java\r\npackage org.surender.messenger;\r\n    \r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.surender.model.MessagesModel;\r\nimport org.surender.service.MessagesService;\r\n\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.core.GenericEntity;\r\nimport jakarta.ws.rs.core.MediaType;\r\nimport jakarta.ws.rs.core.Response;\r\n\r\n@Path(&quot;messages&quot;)\r\npublic class Messages {\r\n    MessagesService msgService = new MessagesService();\r\n   \r\n    @GET\r\n    @Produces(MediaType.APPLICATION_XML)\r\n    public Response getMessages() {\r\n        System.out.println(&quot;Hi... I&#39;m here one&quot;);\r\n        GenericEntity&lt;List&lt;MessagesModel&gt;&gt; entity = new GenericEntity&lt;List&lt;MessagesModel&gt;&gt;(msgService.getMessages()) {};\r\n        return Response.ok(entity).build();\r\n    }\r\n}\r\n```","title":"MessageMessageBodyWriter not found for media type=application/xml, type=class java.util.ArrayList","body":"<p>I am trying to execute a very simple REST API using JAXrs. I have been following JetBrains tutorial and I'm stuck at the point where the API needs to return Reponse/XML. The java version used here is 1.8 and the Tomcat is 10.0.</p>\n<p>I Guess there is some dependencies missing. Can someone help?</p>\n<p>Here are my code snippets:\n<code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.surender&lt;/groupId&gt;\n    &lt;artifactId&gt;messenger&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;messenger&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;messenger&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\n                &lt;version&gt;1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n        &lt;!-- uncomment this to get JSON support &lt;dependency&gt; &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt; \n            &lt;artifactId&gt;jersey-media-json-binding&lt;/artifactId&gt; &lt;/dependency&gt; --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;3.1.0-M2&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Model Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.surender.model;\n\nimport javax.xml.bind.annotation.XmlRootElement;\n\nimport jakarta.xml.bind.annotation.XmlElement;\n\n@XmlRootElement(name = &quot;Surender&quot;)\npublic class MessagesModel {\n\n    @XmlElement(name = &quot;Message ID&quot;)\n    public int messageId;\n    public String messageTxt;\n    public String messageLike;\n    public String messageComment;\n    \n    \n    public MessagesModel(int messageId, String messageTxt, String messageLike, String messageComment) {\n        super();\n        System.out.println(&quot;Objects getting created&quot;);\n        this.messageId = messageId;\n        this.messageTxt = messageTxt;\n        this.messageLike = messageLike;\n        this.messageComment = messageComment;\n    }\n    \n    public MessagesModel() {\n        \n    }\n\n    public int getMessageId() {\n        return messageId;\n    }\n\n\n    public void setMessageId(int messageId) {\n        this.messageId = messageId;\n    }\n\n\n    public String getMessageTxt() {\n        return messageTxt;\n    }\n\n\n    public void setMessageTxt(String messageTxt) {\n        this.messageTxt = messageTxt;\n    }\n\n\n    public String getMessageLike() {\n        return messageLike;\n    }\n\n\n    public void setMessageLike(String messageLike) {\n        this.messageLike = messageLike;\n    }\n\n\n    public String getMessageComment() {\n        return messageComment;\n    }\n\n\n    public void setMessageComment(String messageComment) {\n        this.messageComment = messageComment;\n    }\n    \n}\n</code></pre>\n<p>Message Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.surender.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.surender.model.MessagesModel;\n\npublic class MessagesService {\n    public List&lt;MessagesModel&gt; getMessages() {\n        List&lt;MessagesModel&gt; messagesList = new ArrayList&lt;MessagesModel&gt;();\n        messagesList.add(new MessagesModel(1,&quot;Hey There !&quot;,&quot;2&quot;,&quot;Hello&quot;));\n        messagesList.add(new MessagesModel(1,&quot;Hola Amigo!&quot;,&quot;2&quot;,&quot;Hello&quot;));\n        return messagesList;\n    }\n    \n    public MessagesService() {\n    }\n}\n</code></pre>\n<p><code>MessageResource</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.surender.messenger;\n    \nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.surender.model.MessagesModel;\nimport org.surender.service.MessagesService;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.GenericEntity;\nimport jakarta.ws.rs.core.MediaType;\nimport jakarta.ws.rs.core.Response;\n\n@Path(&quot;messages&quot;)\npublic class Messages {\n    MessagesService msgService = new MessagesService();\n   \n    @GET\n    @Produces(MediaType.APPLICATION_XML)\n    public Response getMessages() {\n        System.out.println(&quot;Hi... I'm here one&quot;);\n        GenericEntity&lt;List&lt;MessagesModel&gt;&gt; entity = new GenericEntity&lt;List&lt;MessagesModel&gt;&gt;(msgService.getMessages()) {};\n        return Response.ok(entity).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","jetty"],"comments":[{"owner":{"account_id":4024282,"reputation":231,"user_id":4592648,"display_name":"Monday Fatigue"},"score":0,"creation_date":1638531525,"post_id":56811706,"comment_id":124119253,"body_markdown":"Refer to this article: https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times\nJust wrap all requests with filter and all classes which read request body in any way will use cached body data.","body":"Refer to this article: <a href=\"https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times\" rel=\"nofollow noreferrer\">baeldung.com/spring-reading-httpservletrequest-multiple-time&zwnj;&#8203;s</a> Just wrap all requests with filter and all classes which read request body in any way will use cached body data."},{"owner":{"account_id":4024282,"reputation":231,"user_id":4592648,"display_name":"Monday Fatigue"},"score":0,"creation_date":1638964737,"post_id":56811706,"comment_id":124226045,"body_markdown":"I could not read request parameters after the body is read, so I had to cache parameter map when instantiating.","body":"I could not read request parameters after the body is read, so I had to cache parameter map when instantiating."}],"answers":[{"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655053712,"creation_date":1561747867,"answer_id":56811917,"question_id":56811706,"body_markdown":"&gt; I know it is not a good idea to do it but I have encountered a scenario in which if I don&#39;t clone it then I need to do more refactors on the code and revising many unit tests.\r\n\r\nPlease, be advised, that rigid tests are a sign of improper testing and are a problem in and of themselves. They will cause many troubles, including troubles with refactoring, which you experience now, when you can&#39;t achieve your goal. The tests hold you back, because they were improperly written, to such a degree that you no longer see refactor as a viable solution. The best thing you should do, is update your tests so that refactors like that are possible.\r\n\r\nAs to the cloning, instances of this class were not meant to be cloned or copied, you will run into more problems trying to do this than you have now, and at least now you know what your problems are (unit tests and refactoring). The things that could happen with semi-cloned HttpRequest accessed from multiple threads would make you say `should have just fixed those tests back then`.\r\n\r\n","title":"How to deep copy (clone) HttpServletRequest?","body":"<blockquote>\n<p>I know it is not a good idea to do it but I have encountered a scenario in which if I don't clone it then I need to do more refactors on the code and revising many unit tests.</p>\n</blockquote>\n<p>Please, be advised, that rigid tests are a sign of improper testing and are a problem in and of themselves. They will cause many troubles, including troubles with refactoring, which you experience now, when you can't achieve your goal. The tests hold you back, because they were improperly written, to such a degree that you no longer see refactor as a viable solution. The best thing you should do, is update your tests so that refactors like that are possible.</p>\n<p>As to the cloning, instances of this class were not meant to be cloned or copied, you will run into more problems trying to do this than you have now, and at least now you know what your problems are (unit tests and refactoring). The things that could happen with semi-cloned HttpRequest accessed from multiple threads would make you say <code>should have just fixed those tests back then</code>.</p>\n"}],"owner":{"account_id":10588778,"reputation":117,"user_id":7800148,"display_name":"Jason Foster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655053712,"creation_date":1561746517,"question_id":56811706,"body_markdown":"How I can deep copy (Clone) HttpServletRequest in java. As I know it is neither Serializable nor Cloneable. I found some code in internet suggested using of HttpServletRequestWrapper but actually when I used it I realized it is doing shallow copy not deep copy. I appreciate any solution for simply duplicating/ Cloning or deep copying of HttpServletRequest. I know it is not a good idea to do it but I have encountered a scenario in which if I don&#39;t clone it then I need to do more refactors on the code and revising many unit tests.","title":"How to deep copy (clone) HttpServletRequest?","body":"<p>How I can deep copy (Clone) HttpServletRequest in java. As I know it is neither Serializable nor Cloneable. I found some code in internet suggested using of HttpServletRequestWrapper but actually when I used it I realized it is doing shallow copy not deep copy. I appreciate any solution for simply duplicating/ Cloning or deep copying of HttpServletRequest. I know it is not a good idea to do it but I have encountered a scenario in which if I don't clone it then I need to do more refactors on the code and revising many unit tests.</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655053245,"creation_date":1655045042,"answer_id":72593227,"question_id":72593132,"body_markdown":"&lt;h3&gt;Update&lt;/h3&gt;\r\n\r\n&lt;h3&gt;What means T&lt;/h3&gt;\r\n\r\nGeneric type parameters like `T`, `U`, `R` - are simply placeholders for types, but not the actual types. By convention type parameters are denoted with a single letter but multi-character type parameter will also compile:\r\n```\r\npublic &lt;Something&gt; void doIt(Something s) {}\r\n```\r\n`Something` will not be treated by the compiler as a class or interface name, it&#39;s just a placeholder.\r\n```\r\nprotected &lt;DynamicMessage&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;DynamicMessage&gt; messageListBuilder) {}\r\n```\r\nAs well as `DynamicMessage` is a placeholder like `T`. That means that you&#39;ve changed the generic type parameter declared by in the super class as `T extends Message` to an arbitrary `T`. Which is incorrect.\r\n\r\nAt the beginning I didn&#39;t spotted your intention to override a generic method with a non-generic one, that would not work.\r\n\r\nThe reason for that is that `T extends Message` compiles to `Object` due to generic type erasure. I.e. you might think of it, as there&#39;s a non-generic method with an argument of `Object` type declared in the parent class, and therefore it&#39;s not possible to override it by providing `DynamicMessage` as type instead of `Object`.\r\n\r\nA generic method can be overridden only by another generic method, which generic type parameters are precisely the same.\r\n\r\n____________________________________________\r\n\r\nThe problem is fully described in the error message: you can&#39;t have two method with the same name and arguments that differ only by a generic type parameter, due to generic type erasure.\r\n\r\nFor instance, these two methods will clash (i.e. their signatures will be treated as they are the same):\r\n```\r\npublic void doIt(List&lt;Integer&gt; list) {}\r\npublic void doIt(List&lt;String&gt; list) {}\r\n```\r\nBecause at runtime, there would be only a `List&lt;Object&gt;` and safe *checkcasts* added by the compiler.\r\n\r\n***The remedy when we need two distinct methods:*** \r\n* the method signatures should differ either by method-name, or by the set of parameters (*generic type parameters would not be taken into account*).","title":"Unable to specialize method templatization using the subclassing approach","body":"<h3>Update</h3>\n<h3>What means T</h3>\n<p>Generic type parameters like <code>T</code>, <code>U</code>, <code>R</code> - are simply placeholders for types, but not the actual types. By convention type parameters are denoted with a single letter but multi-character type parameter will also compile:</p>\n<pre><code>public &lt;Something&gt; void doIt(Something s) {}\n</code></pre>\n<p><code>Something</code> will not be treated by the compiler as a class or interface name, it's just a placeholder.</p>\n<pre><code>protected &lt;DynamicMessage&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;DynamicMessage&gt; messageListBuilder) {}\n</code></pre>\n<p>As well as <code>DynamicMessage</code> is a placeholder like <code>T</code>. That means that you've changed the generic type parameter declared by in the super class as <code>T extends Message</code> to an arbitrary <code>T</code>. Which is incorrect.</p>\n<p>At the beginning I didn't spotted your intention to override a generic method with a non-generic one, that would not work.</p>\n<p>The reason for that is that <code>T extends Message</code> compiles to <code>Object</code> due to generic type erasure. I.e. you might think of it, as there's a non-generic method with an argument of <code>Object</code> type declared in the parent class, and therefore it's not possible to override it by providing <code>DynamicMessage</code> as type instead of <code>Object</code>.</p>\n<p>A generic method can be overridden only by another generic method, which generic type parameters are precisely the same.</p>\n<hr />\n<p>The problem is fully described in the error message: you can't have two method with the same name and arguments that differ only by a generic type parameter, due to generic type erasure.</p>\n<p>For instance, these two methods will clash (i.e. their signatures will be treated as they are the same):</p>\n<pre><code>public void doIt(List&lt;Integer&gt; list) {}\npublic void doIt(List&lt;String&gt; list) {}\n</code></pre>\n<p>Because at runtime, there would be only a <code>List&lt;Object&gt;</code> and safe <em>checkcasts</em> added by the compiler.</p>\n<p><em><strong>The remedy when we need two distinct methods:</strong></em></p>\n<ul>\n<li>the method signatures should differ either by method-name, or by the set of parameters (<em>generic type parameters would not be taken into account</em>).</li>\n</ul>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72593227,"answer_count":1,"score":-1,"last_activity_date":1655053245,"creation_date":1655044410,"question_id":72593132,"body_markdown":"    public class CSVParser {  \r\n      protected &lt;T extends Message&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;T&gt; messageListBuilder) {\r\n        . . . \r\n      }\r\n\r\nFor DynamicMessage I wanted to have a different handling so I tried\r\n\r\n    public class CSVParserDynamicMessage extends CSVParser {\r\n      protected&lt;DynamicMessage&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;DynamicMessage&gt; messageListBuilder) {\r\n        messageListBuilder.add(DynamicMessage.parseFrom(descriptor, message.toByteString()));\r\n    }\r\n\r\nBut it gives the compilation error\r\n\r\n&gt; &#39;addMessageToResult(Message, Descriptor, Builder&lt;DynamicMessage&gt;)&#39; in &#39;com.google.cloud.verticals.telco.taap.dataflow.dataingestion.common.parsers.CSVParserDynamicMessage&#39; clashes with &#39;addMessageToResult(Message, Descriptor, Builder&lt;T&gt;)&#39; in &#39;com.google.cloud.verticals.telco.taap.dataflow.dataingestion.common.parsers.CSVParser&#39;; both methods have same erasure, yet neither overrides the other\r\n\r\nI&#39;m having to do the ugly method below (haven&#39;t yet attempted to run and see if it actually works):\r\n\r\n    @Override\r\n      protected&lt;T extends Message&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;T&gt; messageListBuilder)\r\n        throws InvalidProtocolBufferException {\r\n        messageListBuilder.add((T) DynamicMessage.parseFrom(descriptor, message.toByteString()));\r\n    }\r\n\r\nNote that my attempt of subclassing was inspired from https://stackoverflow.com/questions/3988180/java-generics-template-specialization-possible-overriding-template-types-with but the difference seems to be that in my case the template paramter T doesn&#39;t exist at class level but only at method level. I&#39;m not able to understand why it doesn&#39;t work for my usecase.\r\n\r\nAny ideas are much appreciated.","title":"Unable to specialize method templatization using the subclassing approach","body":"<pre><code>public class CSVParser {  \n  protected &lt;T extends Message&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;T&gt; messageListBuilder) {\n    . . . \n  }\n</code></pre>\n<p>For DynamicMessage I wanted to have a different handling so I tried</p>\n<pre><code>public class CSVParserDynamicMessage extends CSVParser {\n  protected&lt;DynamicMessage&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;DynamicMessage&gt; messageListBuilder) {\n    messageListBuilder.add(DynamicMessage.parseFrom(descriptor, message.toByteString()));\n}\n</code></pre>\n<p>But it gives the compilation error</p>\n<blockquote>\n<p>'addMessageToResult(Message, Descriptor, Builder)' in 'com.google.cloud.verticals.telco.taap.dataflow.dataingestion.common.parsers.CSVParserDynamicMessage' clashes with 'addMessageToResult(Message, Descriptor, Builder)' in 'com.google.cloud.verticals.telco.taap.dataflow.dataingestion.common.parsers.CSVParser'; both methods have same erasure, yet neither overrides the other</p>\n</blockquote>\n<p>I'm having to do the ugly method below (haven't yet attempted to run and see if it actually works):</p>\n<pre><code>@Override\n  protected&lt;T extends Message&gt; void addMessageToResult(Message message, Descriptor descriptor, ImmutableList.Builder&lt;T&gt; messageListBuilder)\n    throws InvalidProtocolBufferException {\n    messageListBuilder.add((T) DynamicMessage.parseFrom(descriptor, message.toByteString()));\n}\n</code></pre>\n<p>Note that my attempt of subclassing was inspired from <a href=\"https://stackoverflow.com/questions/3988180/java-generics-template-specialization-possible-overriding-template-types-with\">Java generics (template) specialization possible (overriding template types with specific types)</a> but the difference seems to be that in my case the template paramter T doesn't exist at class level but only at method level. I'm not able to understand why it doesn't work for my usecase.</p>\n<p>Any ideas are much appreciated.</p>\n"},{"tags":["java","loops","validation"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1655049113,"post_id":72593666,"comment_id":128233000,"body_markdown":"Because you are comparing a loop control of `int` against a `long` - the warning is likely saying &quot;since the long could be greater than `Integer.MAX_VALUE` it is possible the loop control will never meet the terminating condition and be an infinite loop&quot;.  Either change the loop control to a `long` or (realistically) change `monthBt` to `int`.","body":"Because you are comparing a loop control of <code>int</code> against a <code>long</code> - the warning is likely saying &quot;since the long could be greater than <code>Integer.MAX_VALUE</code> it is possible the loop control will never meet the terminating condition and be an infinite loop&quot;.  Either change the loop control to a <code>long</code> or (realistically) change <code>monthBt</code> to <code>int</code>."},{"owner":{"account_id":5678465,"reputation":115,"user_id":4490644,"display_name":"RJ_Singh"},"score":0,"creation_date":1655145516,"post_id":72593666,"comment_id":128257424,"body_markdown":"Thanks @Gardener. How have tried both ways i.e. 1)change the loop control to a long 2) change monthBt to int but still the getting the medium level security warning.","body":"Thanks @Gardener. How have tried both ways i.e. 1)change the loop control to a long 2) change monthBt to int but still the getting the medium level security warning."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655051688,"creation_date":1655051688,"answer_id":72594051,"question_id":72593666,"body_markdown":"Gardner is absolutly rigth so do this: \r\n\r\n    int monthBt = (int) MONTHS.between(YearMonth.from(startAndEndDate));\r\n            for (int i = 0; i &lt;= monthBt; i++) {\r\n                //do something\r\n            }","title":"Unchecked Input for Loop Condition (Excessive looping validation for long)","body":"<p>Gardner is absolutly rigth so do this:</p>\n<pre><code>int monthBt = (int) MONTHS.between(YearMonth.from(startAndEndDate));\n        for (int i = 0; i &lt;= monthBt; i++) {\n            //do something\n        }\n</code></pre>\n"}],"owner":{"account_id":5678465,"reputation":115,"user_id":4490644,"display_name":"RJ_Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655051688,"creation_date":1655048579,"question_id":72593666,"body_markdown":"I&#39;ve a class in which we are storing &quot;amount of time between two temporal objects&quot; into a long variable monthBt  and using it as Test Expression in &quot;for loop&quot;. However I am getting medium level security warning &quot;Unchecked Input for Loop Condition&quot; in azure sechub.\r\n\r\n    long monthBt = MONTHS.between(YearMonth.from(startAndEndDate);\r\n    for (int i = 0;i&lt;= monthBt;i++) {\r\n    //do something\r\n    }\r\n\r\nwhat is the best way to validate and remove the warning?\r\nThanks!","title":"Unchecked Input for Loop Condition (Excessive looping validation for long)","body":"<p>I've a class in which we are storing &quot;amount of time between two temporal objects&quot; into a long variable monthBt  and using it as Test Expression in &quot;for loop&quot;. However I am getting medium level security warning &quot;Unchecked Input for Loop Condition&quot; in azure sechub.</p>\n<pre><code>long monthBt = MONTHS.between(YearMonth.from(startAndEndDate);\nfor (int i = 0;i&lt;= monthBt;i++) {\n//do something\n}\n</code></pre>\n<p>what is the best way to validate and remove the warning?\nThanks!</p>\n"},{"tags":["java","class","oop","linked-list","concept"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1654972503,"post_id":72586977,"comment_id":128221564,"body_markdown":"`next` is another `Node`. It&#39;s a recursive definition. A `Node` contains a reference to another `Node`.","body":"<code>next</code> is another <code>Node</code>. It&#39;s a recursive definition. A <code>Node</code> contains a reference to another <code>Node</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1654972650,"post_id":72586977,"comment_id":128221583,"body_markdown":"Does this answer your question? [Understanding Linked List in Java](https://stackoverflow.com/questions/21571503/understanding-linked-list-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21571503/understanding-linked-list-in-java\">Understanding Linked List in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":13535221,"reputation":53,"user_id":9764598,"display_name":"Biltu - Technology"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654973365,"creation_date":1654973365,"answer_id":72587070,"question_id":72586977,"body_markdown":"next is just a reference variable which is a type of Node. \r\nCurrently this reference  variable is null as it is not assigned with any value.","title":"What type of a value (or data) is stored in a variable having a datatype of the same name as its parent class name?","body":"<p>next is just a reference variable which is a type of Node.\nCurrently this reference  variable is null as it is not assigned with any value.</p>\n"}],"owner":{"account_id":25417304,"reputation":11,"user_id":19223978,"display_name":"Udbhas Dutta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655051212,"creation_date":1654972420,"question_id":72586977,"body_markdown":"In the following code snippet:\r\n\r\n\r\n    class Node{\r\n        Node next;\r\n        String data;\r\n\r\n        Node(String data){\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\nWhat kind of data is being stored in the variable `next` which is assigned a datatype `Node` which is the same name as its class name? Also, please tell me the significance of such types of variables which are assigned a datatype with the same name as its parent class name.\r\n","title":"What type of a value (or data) is stored in a variable having a datatype of the same name as its parent class name?","body":"<p>In the following code snippet:</p>\n<pre><code>class Node{\n    Node next;\n    String data;\n\n    Node(String data){\n        this.data = data;\n        this.next = null;\n    }\n}\n</code></pre>\n<p>What kind of data is being stored in the variable <code>next</code> which is assigned a datatype <code>Node</code> which is the same name as its class name? Also, please tell me the significance of such types of variables which are assigned a datatype with the same name as its parent class name.</p>\n"},{"tags":["java","android","firebase","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1655052700,"post_id":72593849,"comment_id":128233811,"body_markdown":"Does this answer your question? [Why does my function that calls an API return an empty or null value?](https://stackoverflow.com/a/70178210/9473786) - the database call is asynchronous and putting a timed delay to wait for it is a terrible solution that blocks the UI thread. If the network is slow it won&#39;t be long enough and if the network is fast it makes the user wait unnecessarily","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/70178210/9473786\">Why does my function that calls an API return an empty or null value?</a> - the database call is asynchronous and putting a timed delay to wait for it is a terrible solution that blocks the UI thread. If the network is slow it won&#39;t be long enough and if the network is fast it makes the user wait unnecessarily"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655110730,"post_id":72593849,"comment_id":128244211,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":22711909,"reputation":77,"user_id":16877756,"display_name":"Guy zvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655110705,"answer_count":0,"score":0,"last_activity_date":1655050041,"creation_date":1655050041,"question_id":72593849,"body_markdown":"I have an Activity that needs to pull data from FireBase and put it in a listView.\r\nWhen I debug within the function and print the length of the list whilst filling it, everything is fine and it fills up properly. But when I call the function at the start of the activity in order to fill the list and then refresh the adapter the list shows up as empty for some reason. I even tried sleeping the main thread but that doesn&#39;t help.\r\nThe activity:\r\n```java\r\npublic class OrdersActivity extends AppCompatActivity {\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://computerstorefb-default-rtdb.firebaseio.com/&quot;);\r\n    DatabaseReference myRef = database.getReference(&quot;&quot;);\r\n\r\n    OnSuccessListener&lt;Void&gt; listener;\r\n\r\n    static ArrayList&lt;Order&gt; ordersList = new ArrayList&lt;Order&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_orders);\r\n\r\n\r\n\r\n        Button back = (Button)findViewById(R.id.btnOrdersBack);\r\n        ListView lvOrders = findViewById(R.id.lvOrders);\r\n        TextView proLabel = findViewById(R.id.proLabel);\r\n\r\n        ordersList.clear();\r\n        getOrdersFromDB(listener);\r\n\r\n\r\n        SmsManager mySmsManager = SmsManager.getDefault();\r\n\r\n\r\n        try {\r\n            TimeUnit.SECONDS.sleep(1);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        Log.d(&quot;size&quot;,ordersList.size()+&quot;&quot;);     // 0 \r\n\r\n        ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\r\n        lvOrders.setAdapter(ordersAdapter);\r\n\r\n        Log.d(&quot;size&quot;,ordersList.size()+&quot;&quot;);     //0\r\n\r\n\r\n\r\n        listener = new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void unused) {\r\n                ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\r\n                lvOrders.setAdapter(ordersAdapter);\r\n                Toast.makeText(OrdersActivity.this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n\r\n        lvOrders.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                Order o = OrdersActivity.ordersList.get(i);\r\n\r\n                myRef.child(&quot;Orders&quot;).child(o.name+&quot;&quot;).child(&quot;status&quot;).setValue(&quot;SHIPPED!&quot;);\r\n\r\n                OrdersActivity.ordersList.clear();\r\n                getOrdersFromDB(listener);\r\n\r\n\r\n                try {\r\n                    TimeUnit.SECONDS.sleep(3);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\r\n                lvOrders.setAdapter(ordersAdapter);\r\n\r\n                String message = &quot;Hey &quot; + o.name + &quot;! your package from Igor&#39;s Computers had been shipped!&quot;;\r\n\r\n\r\n                try {\r\n                    mySmsManager.sendTextMessage(generatePhone(o.tel),null,message,null,null);\r\n                }\r\n                catch(Exception e){\r\n                    Toast.makeText(OrdersActivity.this, &quot;Can&#39;t send message!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n\r\nThe function that loads the data:\r\n```java\r\nprivate void getOrdersFromDB(OnSuccessListener&lt;Void&gt; onSuccess){\r\n\r\n\r\n        Query q = myRef.child(&quot;Orders&quot;);\r\n        q.addListenerForSingleValueEvent(new ValueEventListener()\r\n        {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot)\r\n            {\r\n                for (DataSnapshot dst : snapshot.getChildren())\r\n                {\r\n\r\n                    Order o = dst.getValue(Order.class);\r\n                    if(!o.status.contains(&quot;SHIPPED&quot;)) {\r\n                        OrdersActivity.ordersList.add(o);\r\n                        Log.d(&quot;p&quot;,&quot;size: &quot;+ordersList.size()+&quot;&quot;);    //counts properly\r\n\r\n                    }\r\n                }\r\n                if(onSuccess != null)\r\n                {\r\n                    onSuccess.onSuccess(null);\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull @NotNull DatabaseError error)\r\n            {\r\n\r\n            }\r\n\r\n\r\n\r\n        });\r\n\r\n\r\n    }\r\n```\r\n","title":"ListView doesn&#39;t update when getting data from Firebase","body":"<p>I have an Activity that needs to pull data from FireBase and put it in a listView.\nWhen I debug within the function and print the length of the list whilst filling it, everything is fine and it fills up properly. But when I call the function at the start of the activity in order to fill the list and then refresh the adapter the list shows up as empty for some reason. I even tried sleeping the main thread but that doesn't help.\nThe activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrdersActivity extends AppCompatActivity {\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://computerstorefb-default-rtdb.firebaseio.com/&quot;);\n    DatabaseReference myRef = database.getReference(&quot;&quot;);\n\n    OnSuccessListener&lt;Void&gt; listener;\n\n    static ArrayList&lt;Order&gt; ordersList = new ArrayList&lt;Order&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_orders);\n\n\n\n        Button back = (Button)findViewById(R.id.btnOrdersBack);\n        ListView lvOrders = findViewById(R.id.lvOrders);\n        TextView proLabel = findViewById(R.id.proLabel);\n\n        ordersList.clear();\n        getOrdersFromDB(listener);\n\n\n        SmsManager mySmsManager = SmsManager.getDefault();\n\n\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n\n        Log.d(&quot;size&quot;,ordersList.size()+&quot;&quot;);     // 0 \n\n        ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\n        lvOrders.setAdapter(ordersAdapter);\n\n        Log.d(&quot;size&quot;,ordersList.size()+&quot;&quot;);     //0\n\n\n\n        listener = new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void unused) {\n                ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\n                lvOrders.setAdapter(ordersAdapter);\n                Toast.makeText(OrdersActivity.this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        };\n\n        lvOrders.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                Order o = OrdersActivity.ordersList.get(i);\n\n                myRef.child(&quot;Orders&quot;).child(o.name+&quot;&quot;).child(&quot;status&quot;).setValue(&quot;SHIPPED!&quot;);\n\n                OrdersActivity.ordersList.clear();\n                getOrdersFromDB(listener);\n\n\n                try {\n                    TimeUnit.SECONDS.sleep(3);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                ArrayAdapter&lt;Order&gt; ordersAdapter = new ArrayAdapter&lt;Order&gt;(OrdersActivity.this, android.R.layout.simple_list_item_1,ordersList);\n                lvOrders.setAdapter(ordersAdapter);\n\n                String message = &quot;Hey &quot; + o.name + &quot;! your package from Igor's Computers had been shipped!&quot;;\n\n\n                try {\n                    mySmsManager.sendTextMessage(generatePhone(o.tel),null,message,null,null);\n                }\n                catch(Exception e){\n                    Toast.makeText(OrdersActivity.this, &quot;Can't send message!&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n\n\n\n\n\n\n\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n    }\n\n</code></pre>\n<p>The function that loads the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void getOrdersFromDB(OnSuccessListener&lt;Void&gt; onSuccess){\n\n\n        Query q = myRef.child(&quot;Orders&quot;);\n        q.addListenerForSingleValueEvent(new ValueEventListener()\n        {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot)\n            {\n                for (DataSnapshot dst : snapshot.getChildren())\n                {\n\n                    Order o = dst.getValue(Order.class);\n                    if(!o.status.contains(&quot;SHIPPED&quot;)) {\n                        OrdersActivity.ordersList.add(o);\n                        Log.d(&quot;p&quot;,&quot;size: &quot;+ordersList.size()+&quot;&quot;);    //counts properly\n\n                    }\n                }\n                if(onSuccess != null)\n                {\n                    onSuccess.onSuccess(null);\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull @NotNull DatabaseError error)\n            {\n\n            }\n\n\n\n        });\n\n\n    }\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1655046534,"post_id":72592587,"comment_id":128232456,"body_markdown":"How many digits long can each individual number be?","body":"How many digits long can each individual number be?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655042210,"creation_date":1655042210,"answer_id":72592858,"question_id":72592587,"body_markdown":"You can split each line using `String.lines` to get a stream of the lines and then flatmap those lines after spliting at each space using `Pattern.splitAsStream` and skip the first column and join back together using comma as a delimeter:\r\n\r\n    String input =&quot;4 \\n&quot;\r\n                + &quot;1 1\\n&quot;\r\n                + &quot;1 2 1\\n&quot;\r\n                + &quot;0\\n&quot;\r\n                + &quot;1 1\\n&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(&quot; &quot;);\r\n    String result   = input.lines()\r\n                           .flatMap(line -&gt; pattern.splitAsStream(line).skip(1))\r\n                           .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n    System.out.println(result);\r\n\r\n    //1, 2, 1, 1","title":"Splitting String by column with regex","body":"<p>You can split each line using <code>String.lines</code> to get a stream of the lines and then flatmap those lines after spliting at each space using <code>Pattern.splitAsStream</code> and skip the first column and join back together using comma as a delimeter:</p>\n<pre><code>String input =&quot;4 \\n&quot;\n            + &quot;1 1\\n&quot;\n            + &quot;1 2 1\\n&quot;\n            + &quot;0\\n&quot;\n            + &quot;1 1\\n&quot;;\n\nPattern pattern = Pattern.compile(&quot; &quot;);\nString result   = input.lines()\n                       .flatMap(line -&gt; pattern.splitAsStream(line).skip(1))\n                       .collect(Collectors.joining(&quot;, &quot;));\n\nSystem.out.println(result);\n\n//1, 2, 1, 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9874198,"reputation":489,"user_id":8632023,"display_name":"Daniel Zin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655044042,"creation_date":1655044042,"answer_id":72593094,"question_id":72592587,"body_markdown":"    String s = &quot;4 \\n&quot;\r\n            + &quot;1 1\\n&quot;\r\n            + &quot;1 2 1\\n&quot;\r\n            + &quot;0\\n&quot;\r\n            + &quot;1 1\\n&quot;;\r\n    String result = s.replaceAll(&quot;((^|\\\\n)\\\\d|[ ])&quot;, &quot;&quot;).replaceAll(&quot;(\\\\d)(?=\\\\d)&quot;, &quot;$1, &quot;);\r\n    System.out.println(result); \r\n    //1, 2, 1, 1","title":"Splitting String by column with regex","body":"<pre><code>String s = &quot;4 \\n&quot;\n        + &quot;1 1\\n&quot;\n        + &quot;1 2 1\\n&quot;\n        + &quot;0\\n&quot;\n        + &quot;1 1\\n&quot;;\nString result = s.replaceAll(&quot;((^|\\\\n)\\\\d|[ ])&quot;, &quot;&quot;).replaceAll(&quot;(\\\\d)(?=\\\\d)&quot;, &quot;$1, &quot;);\nSystem.out.println(result); \n//1, 2, 1, 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655045227,"creation_date":1655045227,"answer_id":72593241,"question_id":72592587,"body_markdown":"You can use the following regex:\r\n\r\n    (?&lt;=\\d )\\d+\r\n\r\nIt matches any combination of digits, followed by &quot;digit + space&quot;.\r\n\r\nInstead of splitting on this, you should use the matcher with this regex.\r\n\r\nCheck the demo [here][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/bRiKNm/1","title":"Splitting String by column with regex","body":"<p>You can use the following regex:</p>\n<pre><code>(?&lt;=\\d )\\d+\n</code></pre>\n<p>It matches any combination of digits, followed by &quot;digit + space&quot;.</p>\n<p>Instead of splitting on this, you should use the matcher with this regex.</p>\n<p>Check the demo <a href=\"https://regex101.com/r/bRiKNm/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655049744,"creation_date":1655048051,"answer_id":72593609,"question_id":72592587,"body_markdown":"First trim leading column, then split on white space:\r\n\r\n    String[] split = str.replaceAll(&quot;(?m)^\\\\d+\\\\s*&quot;, &quot;&quot;).split(&quot;\\\\s&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThe replace uses the *multiline flag* `(?m)`, which makes `^` match the start of *every line*, and `\\s` matches spaces, so the first column is effectively deleted from every line, but `\\s` *also* matches newlines, so lines with only one column are deleted entirely. Although the new lines are retained in lines with more than 1 column.\r\n\r\nBecause `\\s` matches space *and* newline, the split splits between columns and between (first column removed) lines, yielding the desired result.\r\n\r\nI believe this is the least code required for a solution.\r\n\r\n  [1]: https://ideone.com/rAz4cu","title":"Splitting String by column with regex","body":"<p>First trim leading column, then split on white space:</p>\n<pre><code>String[] split = str.replaceAll(&quot;(?m)^\\\\d+\\\\s*&quot;, &quot;&quot;).split(&quot;\\\\s&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/rAz4cu\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>The replace uses the <em>multiline flag</em> <code>(?m)</code>, which makes <code>^</code> match the start of <em>every line</em>, and <code>\\s</code> matches spaces, so the first column is effectively deleted from every line, but <code>\\s</code> <em>also</em> matches newlines, so lines with only one column are deleted entirely. Although the new lines are retained in lines with more than 1 column.</p>\n<p>Because <code>\\s</code> matches space <em>and</em> newline, the split splits between columns and between (first column removed) lines, yielding the desired result.</p>\n<p>I believe this is the least code required for a solution.</p>\n"}],"owner":{"account_id":10389436,"reputation":71,"user_id":7661279,"display_name":"Loewe8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72593609,"answer_count":4,"score":-1,"last_activity_date":1655049744,"creation_date":1655040302,"question_id":72592587,"body_markdown":"    4 \r\n    1 1\r\n    1 2 1\r\n    0\r\n    1 1\r\n\r\nThis is a String I get as input, but I just need every column, starting with the second column, aka: \r\n- 1 (second row) \r\n- 2 and 1 (third row)\r\n- 1 (fifth row)\r\n\r\nThis `String` has no fixed size in how many lines there could be or how many columns (columns being split by one space).\r\n\r\nI think this is fairly easy by using:\r\n\r\n    string.split(&quot;enter regex here&quot;);\r\nI need every column after the first.\r\nI&#39;m still learning with regex but I just can&#39;t seem to find a good solution.\r\nI know about `&quot;\\\\r?\\\\n&quot; and &quot; &quot;` for splitting but don&#39;t know how to connect both to get every column. \r\nAny help is very appreciated :)\r\n\r\nAnother String could look like this:\r\n\r\n    2\r\n    1\r\n    1 2\r\n    9 3 5\r\n    1 3\r\n    0 9 2 4\r\n    0\r\nIn that case, I would need `2, 3, 5, 3, 9, 2, 4`.","title":"Splitting String by column with regex","body":"<pre><code>4 \n1 1\n1 2 1\n0\n1 1\n</code></pre>\n<p>This is a String I get as input, but I just need every column, starting with the second column, aka:</p>\n<ul>\n<li>1 (second row)</li>\n<li>2 and 1 (third row)</li>\n<li>1 (fifth row)</li>\n</ul>\n<p>This <code>String</code> has no fixed size in how many lines there could be or how many columns (columns being split by one space).</p>\n<p>I think this is fairly easy by using:</p>\n<pre><code>string.split(&quot;enter regex here&quot;);\n</code></pre>\n<p>I need every column after the first.\nI'm still learning with regex but I just can't seem to find a good solution.\nI know about <code>&quot;\\\\r?\\\\n&quot; and &quot; &quot;</code> for splitting but don't know how to connect both to get every column.\nAny help is very appreciated :)</p>\n<p>Another String could look like this:</p>\n<pre><code>2\n1\n1 2\n9 3 5\n1 3\n0 9 2 4\n0\n</code></pre>\n<p>In that case, I would need <code>2, 3, 5, 3, 9, 2, 4</code>.</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655049603,"creation_date":1655011967,"answer_id":72589718,"question_id":72589309,"body_markdown":"I edited my previous answer because you can actually get parameters from a response body in a POST with `@RequestParam` annotation.\r\n\r\nI would use JSON as content type. This is my solution:\r\n\r\n    public String sendToB(MultipartFile file) throws ResponseStatusException {\r\n           HttpHeaders headers = new HttpHeaders();\r\n           headers.setContentType(MediaType.APPLICATION_JSON);\r\n           byte[] bytesFile = file.getBytes();\r\n           String base64String = Base64.getEncoder().encodeToString(bytesFile);\r\n           Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n           body.put(&quot;file&quot;, base64String);\r\n           body.put(&quot;directoryName&quot;, file.getOriginalFilename());\r\n           body.put(&quot;videoName&quot;, file.getName())\r\n           HttpEntity&lt;Map&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n           String serverUrl = &quot;http://127.0.0.1:8090/makeFrames&quot;;\r\n           RestTemplate restTemplate = new RestTemplate();\r\n           ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                   serverUrl,\r\n                   HttpMethod.POST,\r\n                   requestEntity,\r\n                   String.class\r\n           );\r\n           if (response.getStatusCode() != HttpStatus.OK) {\r\n               throw new ResponseStatusException(response.getStatusCode(), response.getBody());\r\n           }\r\n           return response.getBody();\r\n       }\r\n\r\nFor App B, the code would be:\r\n\r\n    @PostMapping(&quot;/makeFrames&quot;)\r\n    public ResponseEntity&lt;String&gt; framesExtractorController(@RequestBody Map&lt;String, Object&gt; requestBody) {\r\n       try {\r\n           String base64String = requestBody.get(&quot;file&quot;).toString();\r\n           byte[] bytesFile = Base64.getDecoder().decode(base64String);\r\n           InputStream inputStream = new ByteArrayInputStream(bytesFile);\r\n           String directoryName = requestBody.get(&quot;directoryName&quot;).toString();\r\n           String videoName = requestBody.get(&quot;videoName&quot;).toString();\r\n           File result = FramesExtractor.grabFrames(inputStream, directoryName, videoName);\r\n           return new ResponseEntity&lt;&gt;(result.getAbsolutePath(), HttpStatus.OK);\r\n       } catch (IOException e) {\r\n          return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n       }\r\n     }\r\n    }\r\n    \r\n    public static File grabFrames(InputStream inputStream, String directoryName, String videoName) throws IOException {\r\n       //Your code\r\n    }\r\n\r\n","title":"Error while sending Video File from Java Spring Microservice to other Microservice on other port using Spring Rest Template","body":"<p>I edited my previous answer because you can actually get parameters from a response body in a POST with <code>@RequestParam</code> annotation.</p>\n<p>I would use JSON as content type. This is my solution:</p>\n<pre><code>public String sendToB(MultipartFile file) throws ResponseStatusException {\n       HttpHeaders headers = new HttpHeaders();\n       headers.setContentType(MediaType.APPLICATION_JSON);\n       byte[] bytesFile = file.getBytes();\n       String base64String = Base64.getEncoder().encodeToString(bytesFile);\n       Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n       body.put(&quot;file&quot;, base64String);\n       body.put(&quot;directoryName&quot;, file.getOriginalFilename());\n       body.put(&quot;videoName&quot;, file.getName())\n       HttpEntity&lt;Map&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n       String serverUrl = &quot;http://127.0.0.1:8090/makeFrames&quot;;\n       RestTemplate restTemplate = new RestTemplate();\n       ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n               serverUrl,\n               HttpMethod.POST,\n               requestEntity,\n               String.class\n       );\n       if (response.getStatusCode() != HttpStatus.OK) {\n           throw new ResponseStatusException(response.getStatusCode(), response.getBody());\n       }\n       return response.getBody();\n   }\n</code></pre>\n<p>For App B, the code would be:</p>\n<pre><code>@PostMapping(&quot;/makeFrames&quot;)\npublic ResponseEntity&lt;String&gt; framesExtractorController(@RequestBody Map&lt;String, Object&gt; requestBody) {\n   try {\n       String base64String = requestBody.get(&quot;file&quot;).toString();\n       byte[] bytesFile = Base64.getDecoder().decode(base64String);\n       InputStream inputStream = new ByteArrayInputStream(bytesFile);\n       String directoryName = requestBody.get(&quot;directoryName&quot;).toString();\n       String videoName = requestBody.get(&quot;videoName&quot;).toString();\n       File result = FramesExtractor.grabFrames(inputStream, directoryName, videoName);\n       return new ResponseEntity&lt;&gt;(result.getAbsolutePath(), HttpStatus.OK);\n   } catch (IOException e) {\n      return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n   }\n }\n}\n\npublic static File grabFrames(InputStream inputStream, String directoryName, String videoName) throws IOException {\n   //Your code\n}\n</code></pre>\n"}],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655049603,"creation_date":1655004870,"question_id":72589309,"body_markdown":"Right now I have 2 Spring App.\r\n\r\nApp A will have a controller that will receive a video file ad Multipart file and sending the file to App B via rest template.\r\n\r\nSome Code from App A that handle sending request to App B.\r\n ```\r\n@RestController\r\npublic class AppAController {\r\n\r\n@Autowired\r\nprivate final AppBService service;\r\n\r\n@PostMapping(&quot;/sendToB&quot;)\r\n    public ResponseEntity&lt;String&gt; contoller(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        String result = service.sendToB(file);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n\r\n    }\r\n}\r\n\r\n@Service\r\npublic class AppBService {\r\n\r\npublic String sendToB(MultipartFile file) throws ResponseStatusException {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n        body.add(&quot;file&quot;, file);\r\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n        String serverUrl = &quot;http://127.0.0.1:8090/makeFrames&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                serverUrl,\r\n                HttpMethod.POST,\r\n                requestEntity,\r\n                String.class\r\n        );\r\n        if (response.getStatusCode() != HttpStatus.OK) {\r\n            throw new ResponseStatusException(response.getStatusCode(), response.getBody());\r\n        }\r\n        return response.getBody();\r\n    }\r\n}\r\n\r\n ```\r\n\r\nAnd for App B, it will receive a video and extracting key frames from a video using JavaCV.\r\n ```\r\n@RestController\r\npublic class ProcessorController {\r\n\r\n@PostMapping(&quot;/makeFrames&quot;)\r\n    public ResponseEntity&lt;String&gt; framesExtractorController(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        try {\r\n            File result = FramesExtractor.grabFrames(file);\r\n            return new ResponseEntity&lt;&gt;(result.getAbsolutePath(), HttpStatus.OK);\r\n        } catch (IOException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n}\r\n\r\npublic class FramesExtractor {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(FramesExtractor.class);\r\n\r\n    private FramesExtractor() {\r\n    }\r\n\r\n    public static File grabFrames(MultipartFile video) throws IOException {\r\n        LOG.info(&quot;Extracting Frames from the video &quot; + video.getName());\r\n        String directoryName = video.getOriginalFilename() + &quot;-frames-result&quot;;\r\n        directoryAssurance(directoryName);\r\n        try (FFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(video.getInputStream());\r\n             Java2DFrameConverter converter = new Java2DFrameConverter()) {\r\n            frameGrabber.setImageWidth(480);\r\n            frameGrabber.setImageHeight(360);\r\n            frameGrabber.start();\r\n            Frame frame;\r\n            int i = 0;\r\n            while ((frame = frameGrabber.grabKeyFrame()) != null) {\r\n                BufferedImage bi = converter.getBufferedImage(frame);\r\n                ImageIO.write(bi, &quot;png&quot;, new File(directoryName + &quot;/&quot; + String.format(&quot;%03d&quot;, i) + &quot;.png&quot;));\r\n                i++;\r\n            }\r\n            frameGrabber.stop();\r\n            LOG.info(&quot;Finish Extracting Frames&quot;);\r\n            return new File(directoryName);\r\n        } catch (Exception e) {\r\n            LOG.error(e.getMessage());\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n ```\r\n\r\nBoth app A and B have these properties set to their application.properties files.\r\n```\r\nserver.port={There respective port}\r\nspring.servlet.multipart.enabled=true\r\nspring.servlet.multipart.max-file-size=100MB\r\nspring.servlet.multipart.max-request-size=100MB\r\n```\r\n\r\nAnd when i testing the application by using PostMan to send post request with video file in form-data body to App A /sendToB api i receive this error message.\r\n ```\r\n&quot;Type definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\\&quot;inputStream\\&quot;]-&gt;java.io.FileInputStream[\\&quot;fd\\&quot;])&quot;\r\n ```\r\n\r\nSo I want to ask what cause this problems and how I can fix it or sending video file to other Spring App running on other port properly.\r\n","title":"Error while sending Video File from Java Spring Microservice to other Microservice on other port using Spring Rest Template","body":"<p>Right now I have 2 Spring App.</p>\n<p>App A will have a controller that will receive a video file ad Multipart file and sending the file to App B via rest template.</p>\n<p>Some Code from App A that handle sending request to App B.</p>\n<pre><code>@RestController\npublic class AppAController {\n\n@Autowired\nprivate final AppBService service;\n\n@PostMapping(&quot;/sendToB&quot;)\n   public ResponseEntity&lt;String&gt; contoller(@RequestParam(&quot;file&quot;) MultipartFile file) {\n       String result = service.sendToB(file);\n       return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n\n   }\n}\n\n@Service\npublic class AppBService {\n\npublic String sendToB(MultipartFile file) throws ResponseStatusException {\n       HttpHeaders headers = new HttpHeaders();\n       headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n       MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n       body.add(&quot;file&quot;, file);\n       HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n       String serverUrl = &quot;http://127.0.0.1:8090/makeFrames&quot;;\n       RestTemplate restTemplate = new RestTemplate();\n       ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n               serverUrl,\n               HttpMethod.POST,\n               requestEntity,\n               String.class\n       );\n       if (response.getStatusCode() != HttpStatus.OK) {\n           throw new ResponseStatusException(response.getStatusCode(), response.getBody());\n       }\n       return response.getBody();\n   }\n}\n\n</code></pre>\n<p>And for App B, it will receive a video and extracting key frames from a video using JavaCV.</p>\n<pre><code>@RestController\npublic class ProcessorController {\n\n@PostMapping(&quot;/makeFrames&quot;)\n   public ResponseEntity&lt;String&gt; framesExtractorController(@RequestParam(&quot;file&quot;) MultipartFile file) {\n       try {\n           File result = FramesExtractor.grabFrames(file);\n           return new ResponseEntity&lt;&gt;(result.getAbsolutePath(), HttpStatus.OK);\n       } catch (IOException e) {\n           return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n       }\n   }\n}\n\npublic class FramesExtractor {\n\n   private static final Logger LOG = LoggerFactory.getLogger(FramesExtractor.class);\n\n   private FramesExtractor() {\n   }\n\n   public static File grabFrames(MultipartFile video) throws IOException {\n       LOG.info(&quot;Extracting Frames from the video &quot; + video.getName());\n       String directoryName = video.getOriginalFilename() + &quot;-frames-result&quot;;\n       directoryAssurance(directoryName);\n       try (FFmpegFrameGrabber frameGrabber = new FFmpegFrameGrabber(video.getInputStream());\n            Java2DFrameConverter converter = new Java2DFrameConverter()) {\n           frameGrabber.setImageWidth(480);\n           frameGrabber.setImageHeight(360);\n           frameGrabber.start();\n           Frame frame;\n           int i = 0;\n           while ((frame = frameGrabber.grabKeyFrame()) != null) {\n               BufferedImage bi = converter.getBufferedImage(frame);\n               ImageIO.write(bi, &quot;png&quot;, new File(directoryName + &quot;/&quot; + String.format(&quot;%03d&quot;, i) + &quot;.png&quot;));\n               i++;\n           }\n           frameGrabber.stop();\n           LOG.info(&quot;Finish Extracting Frames&quot;);\n           return new File(directoryName);\n       } catch (Exception e) {\n           LOG.error(e.getMessage());\n           throw e;\n       }\n   }\n}\n</code></pre>\n<p>Both app A and B have these properties set to their application.properties files.</p>\n<pre><code>server.port={There respective port}\nspring.servlet.multipart.enabled=true\nspring.servlet.multipart.max-file-size=100MB\nspring.servlet.multipart.max-request-size=100MB\n</code></pre>\n<p>And when i testing the application by using PostMan to send post request with video file in form-data body to App A /sendToB api i receive this error message.</p>\n<pre><code>&quot;Type definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\\&quot;inputStream\\&quot;]-&gt;java.io.FileInputStream[\\&quot;fd\\&quot;])&quot;\n</code></pre>\n<p>So I want to ask what cause this problems and how I can fix it or sending video file to other Spring App running on other port properly.</p>\n"},{"tags":["java","spring-boot","apache-flink","flink-stateful-functions","apache-stateful-functions"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655049298,"creation_date":1655049298,"answer_id":72593757,"question_id":72569705,"body_markdown":"From the stack trace, it looks like you&#39;ve got a value in the StateFun configuration that&#39;s an array instead of a string. If you have a configuration that&#39;s multi-valued, sometimes it just needs to be a comma-separated string, not an array.","title":"Apache Flink + StateFul functions + Sprint boot -ProgramInvocationException:","body":"<p>From the stack trace, it looks like you've got a value in the StateFun configuration that's an array instead of a string. If you have a configuration that's multi-valued, sometimes it just needs to be a comma-separated string, not an array.</p>\n"}],"owner":{"account_id":307668,"reputation":2161,"user_id":619097,"accept_rate":57,"display_name":"Rams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655049298,"creation_date":1654840925,"question_id":72569705,"body_markdown":"I&#39;m pretty new to Apache flink and stateful functions just trying some code.\r\n\r\nI created a simple stateful greeting application using spring boot and included all necessary dependencies, created a fat jar.\r\n\r\nI&#39;m trying to run this jar on flink standalone cluster using the below command\r\n\r\n    ./flink run -c org.apache.flink.statefun.flink.core.StatefulFunctionsJob ./statefun-example-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nI&#39;m getting below exceptions\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zcvaK.png\r\n\r\nCan anyone let me know what is this issue?\r\n\r\nThanks","title":"Apache Flink + StateFul functions + Sprint boot -ProgramInvocationException:","body":"<p>I'm pretty new to Apache flink and stateful functions just trying some code.</p>\n<p>I created a simple stateful greeting application using spring boot and included all necessary dependencies, created a fat jar.</p>\n<p>I'm trying to run this jar on flink standalone cluster using the below command</p>\n<pre><code>./flink run -c org.apache.flink.statefun.flink.core.StatefulFunctionsJob ./statefun-example-1.0-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>I'm getting below exceptions\n<a href=\"https://i.stack.imgur.com/zcvaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcvaK.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone let me know what is this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java","akka-typed"],"comments":[{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1655017253,"post_id":72463923,"comment_id":128226954,"body_markdown":"`system.tell( new StopMessage() ); ` ?","body":"<code>system.tell( new StopMessage() ); </code> ?"}],"answers":[{"tags":[],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655048728,"creation_date":1655047143,"answer_id":72593496,"question_id":72463923,"body_markdown":"Ok, let&#39;s try to sort this mess a bit... First of all, your question is highly unclear:\r\n\r\nIn the title, you ask for something based on two JVMs, but in the text you ask for a &quot;*second (short lived) system, or actor, or whatever*&quot;. No clue if multiple JVMs are a requirement or just an idea to solve this. Additionally, your example code is something that - disregarding clustering - works in one JVM and you also only mention a second &quot;*actor*&quot; there. \r\n\r\nSo, if the requirement is using two JVMs, then I would suggest making it more clear in what way, why, etc. Then people can also actually provide help for that part.\r\n\r\nFor now, let me assume you want to simply have...\r\n\r\n 1. A (typed) actor system\r\n 2. ...that can somehow process `StopMessage`/`SnapshotMessage`...\r\n 3. ...both of which can be triggered from the outside\r\n\r\nThe way you can do this very simply is the usual typed way:\r\n\r\n 1. Define a RootGuardian actor that accepts those two messages (that actor is basically what the implicit /user actor was in classic) - you have to do that for your Typed actor system anyway (because to setup a typed actor system, you supply the behavior of the RootGuardian).\r\n 2. Let it create the needed child actors to process those messages (either at start or when needed). Of course, in your simple example, the root guardian can also process these messages itself, but an actorsystem with only one actor is not a very typical use-case.\r\n 3. Let it delegate the messages to the appropriate child actor(s)\r\n 4. Add a simple api endpoint to call `system.tell ( ... )` to send the message into the system, where your RootGuardian actor will delegate it correctly.  \r\n 5. Use curl to call your api endpoint (or use any other way to communicate with your application, there are dozens, but most of them are outside the scope of akka itself)\r\n\r\nAs a general idea, Akka Typed tends to be much more strict about who can send what messages where. In Akka classic, it was easy to basically send everything everywhere and find and access any actor from everywhere, including outside the system. Unfortunately, this &quot;freedom&quot; leads to a huge amount of problems and was thus severely limited in Typed, which makes for clearer contracts and better defined message flows.\r\n\r\nOf course, in a highly complex system, you might, for example, want to use a `Receptionist` instead to find the target actor for your specific message, but since the question was for a simple application, I would skip that for now. \r\n\r\nYou can, of course, also add ways to get your ActorRefs outside the system, for example by using the Ask Pattern to implement something like an actor discovery in the RootGuardian, but there is simply no need to try to circumvent the concepts of Akka Typed by re-implementing ActorSelection. \r\n\r\nObviously you also could use clustering, start up a 2nd JVM, connect it to the cluster, send the message and shut it down again, but we can assume that this would be overkill and very, very slow (waiting for long seconds while starting up the app, connecting to the cluster, etc. just to then use a few milliseconds to send the message). \r\n\r\nIf you absolutely want a 2nd JVM there, you can, of course, for example, create simply REST client that sends the message and start that, but... **curl exists**, so... what for? \r\n\r\nSo, tl;dr: The &quot;analogous and hopefully equally easy solution&quot; is `\r\nsystem.tell( new StopMessage() );`, which is basically the same in akka typed as the code for akka classic you provided. Obviously, implementing the actor system in a way that this code works, is the (slightly) more tricky part.","title":"simplest application possible that needs multiple (two) JVMs","body":"<p>Ok, let's try to sort this mess a bit... First of all, your question is highly unclear:</p>\n<p>In the title, you ask for something based on two JVMs, but in the text you ask for a &quot;<em>second (short lived) system, or actor, or whatever</em>&quot;. No clue if multiple JVMs are a requirement or just an idea to solve this. Additionally, your example code is something that - disregarding clustering - works in one JVM and you also only mention a second &quot;<em>actor</em>&quot; there.</p>\n<p>So, if the requirement is using two JVMs, then I would suggest making it more clear in what way, why, etc. Then people can also actually provide help for that part.</p>\n<p>For now, let me assume you want to simply have...</p>\n<ol>\n<li>A (typed) actor system</li>\n<li>...that can somehow process <code>StopMessage</code>/<code>SnapshotMessage</code>...</li>\n<li>...both of which can be triggered from the outside</li>\n</ol>\n<p>The way you can do this very simply is the usual typed way:</p>\n<ol>\n<li>Define a RootGuardian actor that accepts those two messages (that actor is basically what the implicit /user actor was in classic) - you have to do that for your Typed actor system anyway (because to setup a typed actor system, you supply the behavior of the RootGuardian).</li>\n<li>Let it create the needed child actors to process those messages (either at start or when needed). Of course, in your simple example, the root guardian can also process these messages itself, but an actorsystem with only one actor is not a very typical use-case.</li>\n<li>Let it delegate the messages to the appropriate child actor(s)</li>\n<li>Add a simple api endpoint to call <code>system.tell ( ... )</code> to send the message into the system, where your RootGuardian actor will delegate it correctly.</li>\n<li>Use curl to call your api endpoint (or use any other way to communicate with your application, there are dozens, but most of them are outside the scope of akka itself)</li>\n</ol>\n<p>As a general idea, Akka Typed tends to be much more strict about who can send what messages where. In Akka classic, it was easy to basically send everything everywhere and find and access any actor from everywhere, including outside the system. Unfortunately, this &quot;freedom&quot; leads to a huge amount of problems and was thus severely limited in Typed, which makes for clearer contracts and better defined message flows.</p>\n<p>Of course, in a highly complex system, you might, for example, want to use a <code>Receptionist</code> instead to find the target actor for your specific message, but since the question was for a simple application, I would skip that for now.</p>\n<p>You can, of course, also add ways to get your ActorRefs outside the system, for example by using the Ask Pattern to implement something like an actor discovery in the RootGuardian, but there is simply no need to try to circumvent the concepts of Akka Typed by re-implementing ActorSelection.</p>\n<p>Obviously you also could use clustering, start up a 2nd JVM, connect it to the cluster, send the message and shut it down again, but we can assume that this would be overkill and very, very slow (waiting for long seconds while starting up the app, connecting to the cluster, etc. just to then use a few milliseconds to send the message).</p>\n<p>If you absolutely want a 2nd JVM there, you can, of course, for example, create simply REST client that sends the message and start that, but... <strong>curl exists</strong>, so... what for?</p>\n<p>So, tl;dr: The &quot;analogous and hopefully equally easy solution&quot; is <code> system.tell( new StopMessage() );</code>, which is basically the same in akka typed as the code for akka classic you provided. Obviously, implementing the actor system in a way that this code works, is the (slightly) more tricky part.</p>\n"}],"owner":{"account_id":2260958,"reputation":103,"user_id":12693834,"display_name":"fritz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72593496,"answer_count":1,"score":0,"last_activity_date":1655048728,"creation_date":1654095148,"question_id":72463923,"body_markdown":"I have an actor system &quot;Main&quot; running potentially forever. This main actor understands &quot;Snapshot&quot; or &quot;Stop&quot; messages (defined by me). \r\n\r\nI would like to create a bash script that, while Main actor is running, launches a second (short lived) system, or actor, or whatever and sends a snapshot or stop message to the Main actor. \r\n\r\nWith akka classic that was very easy with actorSelection from a secondary actor\r\n\r\n    ActorRef mainActorRef = Await.result(system.actorSelection(&quot;akka.main.actor.path&quot;).resolveOne(timeout));\r\n    \r\n    mainActorRef.send(new StopMessage() or new SnapsthotMessage());\r\n\r\nWhat is the analogous and hopefully equally easy solution in akka typed?\r\n","title":"simplest application possible that needs multiple (two) JVMs","body":"<p>I have an actor system &quot;Main&quot; running potentially forever. This main actor understands &quot;Snapshot&quot; or &quot;Stop&quot; messages (defined by me).</p>\n<p>I would like to create a bash script that, while Main actor is running, launches a second (short lived) system, or actor, or whatever and sends a snapshot or stop message to the Main actor.</p>\n<p>With akka classic that was very easy with actorSelection from a secondary actor</p>\n<pre><code>ActorRef mainActorRef = Await.result(system.actorSelection(&quot;akka.main.actor.path&quot;).resolveOne(timeout));\n\nmainActorRef.send(new StopMessage() or new SnapsthotMessage());\n</code></pre>\n<p>What is the analogous and hopefully equally easy solution in akka typed?</p>\n"},{"tags":["java","angular","frontend","backend","http-delete"],"answers":[{"tags":[],"owner":{"account_id":15498234,"reputation":783,"user_id":11370312,"display_name":"SvenTUM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655041299,"creation_date":1655034478,"answer_id":72591904,"question_id":72591842,"body_markdown":"This combination of Access-Control headers is invalid.\r\n```java\r\n        resp.getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n```\r\nYou cannot set [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin) to `*` and also allow [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials). \r\n\r\n&gt; For requests **without credentials**, the literal value &quot;*&quot; can be specified as a wildcard; the value tells browsers to allow requesting code from any origin to access the resource. Attempting to use the wildcard with credentials results in an error.\r\n\r\nThis might be a large scale issue of the system architecture.\r\nFor now you could test setting the _Allow-Origin_ header like this:\r\n\r\n```java\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8100&quot;);\r\n```\r\n\r\nHowever if it&#39;s supposed to work from an arbitrary number of clients another architecture might be necessary. \r\n\r\nCORS is a security feature. Do not &quot;trial and error&quot; around with security features!","title":"Cors blocking HTTP delete Method","body":"<p>This combination of Access-Control headers is invalid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        resp.getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n</code></pre>\n<p>You cannot set <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\" rel=\"nofollow noreferrer\"><code>Access-Control-Allow-Origin</code></a> to <code>*</code> and also allow <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\" rel=\"nofollow noreferrer\"><code>Access-Control-Allow-Credentials</code></a>.</p>\n<blockquote>\n<p>For requests <strong>without credentials</strong>, the literal value &quot;*&quot; can be specified as a wildcard; the value tells browsers to allow requesting code from any origin to access the resource. Attempting to use the wildcard with credentials results in an error.</p>\n</blockquote>\n<p>This might be a large scale issue of the system architecture.\nFor now you could test setting the <em>Allow-Origin</em> header like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:8100&quot;);\n</code></pre>\n<p>However if it's supposed to work from an arbitrary number of clients another architecture might be necessary.</p>\n<p>CORS is a security feature. Do not &quot;trial and error&quot; around with security features!</p>\n"}],"owner":{"account_id":25531514,"reputation":55,"user_id":19319450,"display_name":"Lytrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72591904,"answer_count":1,"score":0,"last_activity_date":1655047802,"creation_date":1655033967,"question_id":72591842,"body_markdown":"I am getting a CORS error when I try to use my HTTP Delete method.\r\nMy Frontend is Angular-ionic and my Server is a Java server. Both are self-made.\r\n\r\nI tried to disable CORS in the Browser, by doing so I managed the Request to work and the Error to disappear. Although that&#39;s fine, my goal is to make it work every time for EVERY user.\r\n\r\nHere is my Code with a bit of Background:\r\n\r\n```    deleteUser(): Observable&lt;any&gt;{\r\n      console.log(&#39;User Management Service Delete User()&#39;);\r\n      const myParams = new HttpParams().set(&#39;id&#39;, this.cookieService.get(&#39;AccessToken&#39;));\r\n      console.log(myParams);\r\n      return this.http.delete(this.endpoint + &#39;users/delete&#39;, { params: myParams});\r\n    }\r\n```\r\nThe code above is my FRONTEND (clientside) code. I am simply trying to delete a user.\r\n\r\n```    @HTTPServer.Context(value = &quot;umyServerUrl/users/delete, methods = &quot;DELETE&quot;)\r\n    public int serveUserDelete(HTTPServer.Request req, HTTPServer.Response resp) throws IOException {\r\n        Map&lt;String, String&gt; params = req.getParams();\r\n        String response;\r\n        String paramvalue;\r\n        String  accessToken;    \r\n        \r\n        resp.getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        resp.getHeaders().add(&quot;id&quot;, &quot;*&quot;);\r\n        resp.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;OPTIONS, DELETE, POST, GET, PATCH, PUT&quot;);\r\n        \r\n        response = &quot;&quot;;\r\n        //Id aus dem Parameter auslesen\r\n        if (params.containsKey(&quot;id&quot;)) {\r\n            //es gibt einen Parameter id. Suche den Wertd dazu\r\n            accessToken = params.get(&quot;id&quot;);\r\n            System.out.println(accessToken);\r\n            \r\n        } else {\r\n            accessToken = null;\r\n        }\r\n        response = um.userDelete(accessToken);\r\n        resp.send(200, response);\r\n        return 0;\r\n    }\r\n```\r\nThe Code above now, is my Java server.\r\nThe headers were added cause of trial and error.\r\n\r\nHere the error I am getting:\r\n```\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/umyServerUrl/users/delete?id=u@Yy0NZPLx%266HxYNF%23tv&#39; \r\nfrom origin &#39;http://localhost:8100&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: \r\nNo &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\nthrew testing (with disabled browser cors etc.) I found out that the methods on my server work just fine.\r\n\r\nHere you can see my &quot;PARAMS&quot; and the Observable of my delete Request printed in the Console:\r\n```\r\nHttpParams&#160;\r\n{updates: Array(1), \r\ncloneFrom: HttpParams, \r\nencoder: HttpUrlEncodingCodec, \r\nmap: null}\r\ncloneFrom: \r\nnullencoder: \r\nHttpUrlEncodingCodec&#160;{}[[Prototype]]:\r\nObjectconstructor: class\r\nHttpUrlEncodingCodecdecodeKey: ƒ \r\ndecodeKey(key)decodeValue: ƒ \r\ndecodeValue(value)encodeKey: ƒ \r\nencodeKey(key)encodeValue: ƒ \r\nencodeValue(value)[[Prototype]]: \r\nObjectmap: \r\nMap(1)[[Entries]]0: {&quot;id&quot; =&gt; Array(1)}\r\nkey: &quot;id&quot; value: [&#39;hTxYusBwuB7pbUUCkW9E&#39;]size: 1[[Prototype]]:\r\nMapupdates: null[[Prototype]]: \r\nObject\r\nuser-management.service.ts:35 \r\n\r\n**Oberservabel:**\r\n\r\nObservable {_isScalar: false, source: Observable, \r\noperator: MapOperator}\r\noperator: MapOperator\r\nproject: res =&gt; res.body\r\nlength: 1\r\nname: &quot;&quot;\r\narguments: (...)\r\ncaller: (...)\r\n[[FunctionLocation]]: http.mjs:1300\r\n[[Prototype]]: ƒ ()\r\n[[Scopes]]: Scopes[2]\r\nthisArg: undefined\r\n[[Prototype]]: Object\r\ncall: ƒ call(subscriber, source)\r\nconstructor: class MapOperator\r\n[[Prototype]]: Object\r\nsource: Observable\r\noperator: FilterOperator {thisArg: undefined, predicate: ƒ}\r\nsource: Observable {_isScalar: false, source: Observable, operator: MergeMapOperator}\r\n_isScalar: false\r\n[[Prototype]]: Object\r\n_isScalar: false\r\n[[Prototype]]: Object\r\n````\r\n\r\nPLEASE HELP","title":"Cors blocking HTTP delete Method","body":"<p>I am getting a CORS error when I try to use my HTTP Delete method.\nMy Frontend is Angular-ionic and my Server is a Java server. Both are self-made.</p>\n<p>I tried to disable CORS in the Browser, by doing so I managed the Request to work and the Error to disappear. Although that's fine, my goal is to make it work every time for EVERY user.</p>\n<p>Here is my Code with a bit of Background:</p>\n<pre><code>      console.log('User Management Service Delete User()');\n      const myParams = new HttpParams().set('id', this.cookieService.get('AccessToken'));\n      console.log(myParams);\n      return this.http.delete(this.endpoint + 'users/delete', { params: myParams});\n    }\n</code></pre>\n<p>The code above is my FRONTEND (clientside) code. I am simply trying to delete a user.</p>\n<pre><code>    public int serveUserDelete(HTTPServer.Request req, HTTPServer.Response resp) throws IOException {\n        Map&lt;String, String&gt; params = req.getParams();\n        String response;\n        String paramvalue;\n        String  accessToken;    \n        \n        resp.getHeaders().add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        resp.getHeaders().add(&quot;id&quot;, &quot;*&quot;);\n        resp.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;OPTIONS, DELETE, POST, GET, PATCH, PUT&quot;);\n        \n        response = &quot;&quot;;\n        //Id aus dem Parameter auslesen\n        if (params.containsKey(&quot;id&quot;)) {\n            //es gibt einen Parameter id. Suche den Wertd dazu\n            accessToken = params.get(&quot;id&quot;);\n            System.out.println(accessToken);\n            \n        } else {\n            accessToken = null;\n        }\n        response = um.userDelete(accessToken);\n        resp.send(200, response);\n        return 0;\n    }\n</code></pre>\n<p>The Code above now, is my Java server.\nThe headers were added cause of trial and error.</p>\n<p>Here the error I am getting:</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8080/umyServerUrl/users/delete?id=u@Yy0NZPLx%266HxYNF%23tv' \nfrom origin 'http://localhost:8100' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: \nNo 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>threw testing (with disabled browser cors etc.) I found out that the methods on my server work just fine.</p>\n<p>Here you can see my &quot;PARAMS&quot; and the Observable of my delete Request printed in the Console:</p>\n<pre><code>HttpParams \n{updates: Array(1), \ncloneFrom: HttpParams, \nencoder: HttpUrlEncodingCodec, \nmap: null}\ncloneFrom: \nnullencoder: \nHttpUrlEncodingCodec {}[[Prototype]]:\nObjectconstructor: class\nHttpUrlEncodingCodecdecodeKey: ƒ \ndecodeKey(key)decodeValue: ƒ \ndecodeValue(value)encodeKey: ƒ \nencodeKey(key)encodeValue: ƒ \nencodeValue(value)[[Prototype]]: \nObjectmap: \nMap(1)[[Entries]]0: {&quot;id&quot; =&gt; Array(1)}\nkey: &quot;id&quot; value: ['hTxYusBwuB7pbUUCkW9E']size: 1[[Prototype]]:\nMapupdates: null[[Prototype]]: \nObject\nuser-management.service.ts:35 \n\n**Oberservabel:**\n\nObservable {_isScalar: false, source: Observable, \noperator: MapOperator}\noperator: MapOperator\nproject: res =&gt; res.body\nlength: 1\nname: &quot;&quot;\narguments: (...)\ncaller: (...)\n[[FunctionLocation]]: http.mjs:1300\n[[Prototype]]: ƒ ()\n[[Scopes]]: Scopes[2]\nthisArg: undefined\n[[Prototype]]: Object\ncall: ƒ call(subscriber, source)\nconstructor: class MapOperator\n[[Prototype]]: Object\nsource: Observable\noperator: FilterOperator {thisArg: undefined, predicate: ƒ}\nsource: Observable {_isScalar: false, source: Observable, operator: MergeMapOperator}\n_isScalar: false\n[[Prototype]]: Object\n_isScalar: false\n[[Prototype]]: Object\n</code></pre>\n<p>PLEASE HELP</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1626342351,"post_id":68390868,"comment_id":120869559,"body_markdown":"Is this a Maven build?","body":"Is this a Maven build?"},{"owner":{"account_id":12119561,"reputation":511,"user_id":8851717,"accept_rate":40,"display_name":"Fairy"},"score":0,"creation_date":1626348790,"post_id":68390868,"comment_id":120872023,"body_markdown":"Yes, this is maven build with standalone spark","body":"Yes, this is maven build with standalone spark"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626352002,"creation_date":1626352002,"answer_id":68393821,"question_id":68390868,"body_markdown":"I would use the key `/fairscheduler.xml` in that case, and put it directly in the build `resources` folder to keep things as simple as possible","title":"FileNotFoundException on spark.scheduler.allocation.file","body":"<p>I would use the key <code>/fairscheduler.xml</code> in that case, and put it directly in the build <code>resources</code> folder to keep things as simple as possible</p>\n"},{"tags":[],"owner":{"account_id":15658129,"reputation":1,"user_id":19322705,"display_name":"DambOO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655047720,"creation_date":1655013740,"answer_id":72589833,"question_id":68390868,"body_markdown":"I&#39;m faced same issue and resolved this config \r\n ```\r\nconfig(&quot;spark.scheduler.allocation.file&quot;,&quot;file:///opt/spark/conf/fairscheduler.xml.template&quot;)\r\n\r\n// scheduler file at local\r\n\r\nconf.set(&quot;spark.scheduler.allocation.file&quot;, &quot;file:///path/to/file&quot;)\r\n\r\n// scheduler file at hdfs\r\n\r\nconf.set(&quot;spark.scheduler.allocation.file&quot;, &quot;hdfs:///path/to/file&quot;)\r\n\r\n```\r\n\r\nSee [the documentation](https://spark.apache.org/docs/latest/job-scheduling.html#fair-scheduler-pools).","title":"FileNotFoundException on spark.scheduler.allocation.file","body":"<p>I'm faced same issue and resolved this config</p>\n<pre><code>config(&quot;spark.scheduler.allocation.file&quot;,&quot;file:///opt/spark/conf/fairscheduler.xml.template&quot;)\n\n// scheduler file at local\n\nconf.set(&quot;spark.scheduler.allocation.file&quot;, &quot;file:///path/to/file&quot;)\n\n// scheduler file at hdfs\n\nconf.set(&quot;spark.scheduler.allocation.file&quot;, &quot;hdfs:///path/to/file&quot;)\n\n</code></pre>\n<p>See <a href=\"https://spark.apache.org/docs/latest/job-scheduling.html#fair-scheduler-pools\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}],"owner":{"account_id":12119561,"reputation":511,"user_id":8851717,"accept_rate":40,"display_name":"Fairy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655047720,"creation_date":1626339692,"question_id":68390868,"body_markdown":"I&#39;m trying to implement fair scheduling in spark via pools. As said in [docs][1], I just need to put fairscheduler.xml file in classpath and spark will automatically create described pools, but it didn&#39;t work for me. I tried to put allocation file property in different ways:\r\n\r\n`(&quot;spark.scheduler.allocation.file&quot;, &quot;conf/fairscheduler.xml&quot;)` \r\n\r\n`(&quot;spark.scheduler.allocation.file&quot;, &quot;/conf/fairscheduler.xml&quot;)`\r\n\r\n`(&quot;spark.scheduler.allocation.file&quot;, &quot;src/main/resources/conf/fairscheduler.xml&quot;)`\r\n\r\n`(&quot;spark.scheduler.allocation.file&quot;, &quot;/src/main/resources/conf/fairscheduler.xml&quot;)`\r\n\r\nBut it only works if I specify the absolute path, like `C:/project_name/src/main/resources/conf/fairscheduler.xml`. Of course that is not acceptable. Do someone know how to put correct path to allocation file here?\r\n\r\n  [1]: https://spark.apache.org/docs/latest/job-scheduling.html","title":"FileNotFoundException on spark.scheduler.allocation.file","body":"<p>I'm trying to implement fair scheduling in spark via pools. As said in <a href=\"https://spark.apache.org/docs/latest/job-scheduling.html\" rel=\"nofollow noreferrer\">docs</a>, I just need to put fairscheduler.xml file in classpath and spark will automatically create described pools, but it didn't work for me. I tried to put allocation file property in different ways:</p>\n<p><code>(&quot;spark.scheduler.allocation.file&quot;, &quot;conf/fairscheduler.xml&quot;)</code></p>\n<p><code>(&quot;spark.scheduler.allocation.file&quot;, &quot;/conf/fairscheduler.xml&quot;)</code></p>\n<p><code>(&quot;spark.scheduler.allocation.file&quot;, &quot;src/main/resources/conf/fairscheduler.xml&quot;)</code></p>\n<p><code>(&quot;spark.scheduler.allocation.file&quot;, &quot;/src/main/resources/conf/fairscheduler.xml&quot;)</code></p>\n<p>But it only works if I specify the absolute path, like <code>C:/project_name/src/main/resources/conf/fairscheduler.xml</code>. Of course that is not acceptable. Do someone know how to put correct path to allocation file here?</p>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1654338171,"post_id":72489461,"comment_id":128070501,"body_markdown":"If you want to stub a static method in a non-Groovy class, you need additional tools. With Spock&#39;s on-board means you cannot do it. You need Sarek, Mockito (inline mock maker), PowerMock or some other tool with similar capabilities.","body":"If you want to stub a static method in a non-Groovy class, you need additional tools. With Spock&#39;s on-board means you cannot do it. You need Sarek, Mockito (inline mock maker), PowerMock or some other tool with similar capabilities."}],"answers":[{"tags":[],"owner":{"account_id":23427709,"reputation":21,"user_id":17486977,"display_name":"Julia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655047674,"creation_date":1654259975,"answer_id":72489717,"question_id":72489461,"body_markdown":"The potential &quot;Unsupported Encoding&quot; refers to the second parameter in the function. &quot;UTF-8&quot; is a valid encoding so your code will not throw an error.\r\nIf you want to throw the exception you can change it to `URLEncoder.encode(&quot;!@#&quot;, &quot;UTF-9&quot;);` since `UTF-9` is not a real encoding.\r\n\r\nIf you want to know what to do with the exception object [you can learn more here.][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/","title":"Need to Cover UnsupportedEncodingException for URLEncoder.encode","body":"<p>The potential &quot;Unsupported Encoding&quot; refers to the second parameter in the function. &quot;UTF-8&quot; is a valid encoding so your code will not throw an error.\nIf you want to throw the exception you can change it to <code>URLEncoder.encode(&quot;!@#&quot;, &quot;UTF-9&quot;);</code> since <code>UTF-9</code> is not a real encoding.</p>\n<p>If you want to know what to do with the exception object <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/\" rel=\"nofollow noreferrer\">you can learn more here.</a></p>\n"}],"owner":{"account_id":13208523,"reputation":47,"user_id":9539502,"display_name":"sajeeth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655047674,"creation_date":1654258718,"question_id":72489461,"body_markdown":"I need to cover the `UnsupportedEncodingException` for `URLEncoder.encode` but didn&#39;t get an exception.\r\nMy code is;\r\n```java\r\ntry {\r\n    return URLEncoder.encode(&quot;!@#&quot;, &quot;UTF-8&quot;);\r\n} catch (UnsupportedEncodingException e) {\r\n    System.out.println(&quot;exeption:&quot;+e.toString());\r\n}\r\n```\r\n\r\nAbove code i tried with all kind of inputs but didn&#39;t get the `UnsupportedEncodingException`.","title":"Need to Cover UnsupportedEncodingException for URLEncoder.encode","body":"<p>I need to cover the <code>UnsupportedEncodingException</code> for <code>URLEncoder.encode</code> but didn't get an exception.\nMy code is;</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    return URLEncoder.encode(&quot;!@#&quot;, &quot;UTF-8&quot;);\n} catch (UnsupportedEncodingException e) {\n    System.out.println(&quot;exeption:&quot;+e.toString());\n}\n</code></pre>\n<p>Above code i tried with all kind of inputs but didn't get the <code>UnsupportedEncodingException</code>.</p>\n"},{"tags":["java","settimeout","timeoutexception","time-limiting"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1654897568,"post_id":72580103,"comment_id":128210418,"body_markdown":"`methodB(&quot;abc)` ... You&#39;re missing a `&quot;` there.","body":"<code>methodB(&quot;abc)</code> ... You&#39;re missing a <code>&quot;</code> there."},{"owner":{"account_id":6982004,"reputation":1,"user_id":5354536,"display_name":"jyothi reddy"},"score":1,"creation_date":1654897687,"post_id":72580103,"comment_id":128210439,"body_markdown":"i just edited.. it was a typo mistake","body":"i just edited.. it was a typo mistake"}],"owner":{"account_id":6982004,"reputation":1,"user_id":5354536,"display_name":"jyothi reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655047336,"creation_date":1654897433,"question_id":72580103,"body_markdown":"Currently, we are facing an issue with a read timeout for a DB call. I am trying to add a time limit on the method to wait for only 3 seconds. If the method doesn&#39;t return data in 3 seconds my execution goes to the next line. I tried to achieve this with the below code but the control is not moving to the next step even after 3 seconds. In the below code I am adding a timeout for method b execution, When method b takes more than 3 seconds to return the control should go to catch block and go to the next line of code i.e. callingMethodC. But the control is not coming out even after 3 seconds am I missing anything? Can anyone suggest?\r\n\r\n    private String methodA(){\r\n    TimeLimiter timeLimiter = new SimpleTimeLimiter();\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\tString\tdata = timeLimiter.callWithTimeout(\r\n    \t\t\t\t\t\t\t\t() -&gt; methodB(&quot;abc&quot;), 3, TimeUnit.SECONDS, true);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\tlog.error(&quot;Exception while read data from db after 3 seconds&quot;);\r\n    \t\t\t\t\t}\r\n    callmethodc();\r\n    }\r\n\r\n    private String methodB(String abc){\r\n    String result = dbrepository.get(abc);\r\n    return result;\r\n    }\r\n\r\n","title":"TimeLimiter is not stopping the method execution and going to next step","body":"<p>Currently, we are facing an issue with a read timeout for a DB call. I am trying to add a time limit on the method to wait for only 3 seconds. If the method doesn't return data in 3 seconds my execution goes to the next line. I tried to achieve this with the below code but the control is not moving to the next step even after 3 seconds. In the below code I am adding a timeout for method b execution, When method b takes more than 3 seconds to return the control should go to catch block and go to the next line of code i.e. callingMethodC. But the control is not coming out even after 3 seconds am I missing anything? Can anyone suggest?</p>\n<pre><code>private String methodA(){\nTimeLimiter timeLimiter = new SimpleTimeLimiter();\n                    try {\n                    String  data = timeLimiter.callWithTimeout(\n                                () -&gt; methodB(&quot;abc&quot;), 3, TimeUnit.SECONDS, true);\n                    } catch (Exception e) {\n                        log.error(&quot;Exception while read data from db after 3 seconds&quot;);\n                    }\ncallmethodc();\n}\n\nprivate String methodB(String abc){\nString result = dbrepository.get(abc);\nreturn result;\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","memberof"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655046276,"creation_date":1655046276,"answer_id":72593379,"question_id":72591056,"body_markdown":"You are casting the results to `directoryObject` but [directoryObject][1] has no property `displayName`. \r\n\r\n    for (DirectoryObject group : memberof.getCurrentPage()) {\r\n        System.out.println(group.id);\r\n    }\r\n\r\nTry to cast the results to `group` and you should be able to read `displayName`.\r\n\r\n    for (DirectoryObject directoryObject : memberof.getCurrentPage()) {\r\n        if ( directoryObject instanceof Group) {\r\n            Group group = (Group)directoryObject;\r\n            System.out.println(group.id);\r\n            System.out.println(group.displayName);\r\n        }            \r\n    }\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/resources/directoryobject?view=graph-rest-1.0#properties","title":"Cannot see displayName of Group returned by Graph API users/{id}/memberOf call (Java)","body":"<p>You are casting the results to <code>directoryObject</code> but <a href=\"https://learn.microsoft.com/en-us/graph/api/resources/directoryobject?view=graph-rest-1.0#properties\" rel=\"nofollow noreferrer\">directoryObject</a> has no property <code>displayName</code>.</p>\n<pre><code>for (DirectoryObject group : memberof.getCurrentPage()) {\n    System.out.println(group.id);\n}\n</code></pre>\n<p>Try to cast the results to <code>group</code> and you should be able to read <code>displayName</code>.</p>\n<pre><code>for (DirectoryObject directoryObject : memberof.getCurrentPage()) {\n    if ( directoryObject instanceof Group) {\n        Group group = (Group)directoryObject;\n        System.out.println(group.id);\n        System.out.println(group.displayName);\n    }            \n}\n</code></pre>\n"}],"owner":{"account_id":21058761,"reputation":13,"user_id":15477575,"display_name":"Alex Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72593379,"answer_count":1,"score":1,"last_activity_date":1655046276,"creation_date":1655027173,"question_id":72591056,"body_markdown":"I have successfully followed this MS Graph Java tutorial all the way through: &lt;https://learn.microsoft.com/en-gb/graph/tutorials/java?tabs=aad&gt;\r\n\r\nI have added my own Graph API call that returns the Groups that a given User is a member of using this code:\r\n\r\n**In App.java file**\r\n```\r\nprivate static void makeGraphCall() {\r\n        try {\r\n            final DirectoryObjectCollectionWithReferencesPage memberof = Graph.makeGraphCall();\r\n            for (DirectoryObject group : memberof.getCurrentPage()) {\r\n                System.out.println(group.id);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error making Graph call&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n**In Graph.java file**\r\n```\r\npublic static DirectoryObjectCollectionWithReferencesPage makeGraphCall() throws Exception {\r\n    \r\n        ensureGraphForAppOnlyAuth();\r\n        return _appClient.users(&quot;{here I enter the User ID}&quot;).memberOf()\r\n                .buildRequest()\r\n                .get();\r\n    }\r\n```\r\nI used this reference to help writing the above code: &lt;https://learn.microsoft.com/en-us/graph/api/user-list-memberof?view=graph-rest-1.0&amp;tabs=http&gt; in particular this part:\r\n\r\n```\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nDirectoryObjectCollectionWithReferencesPage memberOf = graphClient.users(&quot;{id}&quot;).memberOf()\r\n\t.buildRequest()\r\n\t.get();\r\n```\r\n\r\nWhen I run my code I get the id&#39;s of the Groups the given User is a member of which is great. However, I want to get the displayName of each Group. If I add:\r\n```\r\nSystem.out.println(group.displayName);\r\n```\r\nto my code in App.java, I get an error stating:\r\n```\r\nerror: cannot find symbol\r\n                System.out.println(group.displayName);\r\n                                        ^\r\n  symbol:   variable displayName\r\n  location: variable group of type DirectoryObject\r\n```\r\nI understand that my call to the Graph API is made using the _appClient (as opposed to the _userClient) and I have therefore made sure that my application registered in Azure has Directory.Read.All and Directory.ReadWrite.All application permissions. \r\n\r\nI have also tested my call to the Graph API in the Graph Explorer using the same User id i.e.\r\n```\r\nGET https://graph.microsoft.com/v1.0/users/{here i enter the User&#39;s id}/memberOf \r\n```\r\nand it returns full details of that User&#39;s Group memberships including the displayName of each Group.\r\n\r\nI have been searching for an answer for several days now and cannot understand where I am going wrong. Please could anyone help with my understanding and tell me how (and ideally explain why) I am not able to show the displayName of each Group the User is a member of?\r\n\r\nThanks for your help\r\n\r\n\r\n\r\n","title":"Cannot see displayName of Group returned by Graph API users/{id}/memberOf call (Java)","body":"<p>I have successfully followed this MS Graph Java tutorial all the way through: <a href=\"https://learn.microsoft.com/en-gb/graph/tutorials/java?tabs=aad\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-gb/graph/tutorials/java?tabs=aad</a></p>\n<p>I have added my own Graph API call that returns the Groups that a given User is a member of using this code:</p>\n<p><strong>In App.java file</strong></p>\n<pre><code>private static void makeGraphCall() {\n        try {\n            final DirectoryObjectCollectionWithReferencesPage memberof = Graph.makeGraphCall();\n            for (DirectoryObject group : memberof.getCurrentPage()) {\n                System.out.println(group.id);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Error making Graph call&quot;);\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>In Graph.java file</strong></p>\n<pre><code>public static DirectoryObjectCollectionWithReferencesPage makeGraphCall() throws Exception {\n    \n        ensureGraphForAppOnlyAuth();\n        return _appClient.users(&quot;{here I enter the User ID}&quot;).memberOf()\n                .buildRequest()\n                .get();\n    }\n</code></pre>\n<p>I used this reference to help writing the above code: <a href=\"https://learn.microsoft.com/en-us/graph/api/user-list-memberof?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/user-list-memberof?view=graph-rest-1.0&amp;tabs=http</a> in particular this part:</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nDirectoryObjectCollectionWithReferencesPage memberOf = graphClient.users(&quot;{id}&quot;).memberOf()\n    .buildRequest()\n    .get();\n</code></pre>\n<p>When I run my code I get the id's of the Groups the given User is a member of which is great. However, I want to get the displayName of each Group. If I add:</p>\n<pre><code>System.out.println(group.displayName);\n</code></pre>\n<p>to my code in App.java, I get an error stating:</p>\n<pre><code>error: cannot find symbol\n                System.out.println(group.displayName);\n                                        ^\n  symbol:   variable displayName\n  location: variable group of type DirectoryObject\n</code></pre>\n<p>I understand that my call to the Graph API is made using the _appClient (as opposed to the _userClient) and I have therefore made sure that my application registered in Azure has Directory.Read.All and Directory.ReadWrite.All application permissions.</p>\n<p>I have also tested my call to the Graph API in the Graph Explorer using the same User id i.e.</p>\n<pre><code>GET https://graph.microsoft.com/v1.0/users/{here i enter the User's id}/memberOf \n</code></pre>\n<p>and it returns full details of that User's Group memberships including the displayName of each Group.</p>\n<p>I have been searching for an answer for several days now and cannot understand where I am going wrong. Please could anyone help with my understanding and tell me how (and ideally explain why) I am not able to show the displayName of each Group the User is a member of?</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655110397,"post_id":72593352,"comment_id":128244078,"body_markdown":"Since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."}],"owner":{"account_id":25537833,"reputation":11,"user_id":19324567,"display_name":"Priyansh Jr."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655046026,"creation_date":1655046026,"question_id":72593352,"body_markdown":"I don&#39;t know why I am getting error on login and sign up activity with firebase.\r\n\r\nProblem what I am facing is - whenever i click on signup button or in login button its start crashing sometimes and sometimes its redirect me to Mainactivity.class.\r\n\r\nmy Signupactivity.class\r\n\r\n```\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    ActivitySignUpBinding binding;\r\n    private FirebaseAuth auth;\r\n    FirebaseDatabase database;\r\n    ProgressDialog progress;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivitySignUpBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        getSupportActionBar().hide();\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n        progress = new ProgressDialog(this);\r\n        progress.setTitle(&quot;Creating Account&quot;);\r\n        progress.setMessage(&quot;We&#39;re Creating your Account&quot;);\r\n\r\n\r\n        binding.btnSignup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                progress.show();\r\n                auth.createUserWithEmailAndPassword\r\n                        (binding.edEmail.getText().toString() , binding.edPassword.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                        userModels user = new userModels\r\n                                (binding.edUsername.getText().toString() , binding.edEmail.getText().toString() , binding.edPassword.getText().toString());\r\n\r\n                        String id = task.getResult().getUser().getUid();\r\n                        database.getReference().child(&quot;Users&quot;).child(id).setValue(user);\r\n\r\n                        progress.dismiss();\r\n                        if (task.isSuccessful()){\r\n                            Intent intent = new Intent(SignUpActivity.this , LoginActivty.class);\r\n                            startActivity(intent);\r\n                        }\r\n                        else  {\r\n                            Toast.makeText(SignUpActivity.this, &quot;Authentication faild&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        binding.tvRegister.setOnClickListener(view -&gt; {\r\n            Intent intent = new Intent(SignUpActivity.this , LoginActivty.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n}\r\n```","title":"Facing Crash error or Redirecting to Mainactivity when clicking on Signup button and login both","body":"<p>I don't know why I am getting error on login and sign up activity with firebase.</p>\n<p>Problem what I am facing is - whenever i click on signup button or in login button its start crashing sometimes and sometimes its redirect me to Mainactivity.class.</p>\n<p>my Signupactivity.class</p>\n<pre><code>public class SignUpActivity extends AppCompatActivity {\n\n    ActivitySignUpBinding binding;\n    private FirebaseAuth auth;\n    FirebaseDatabase database;\n    ProgressDialog progress;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivitySignUpBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        getSupportActionBar().hide();\n\n        auth = FirebaseAuth.getInstance();\n        database = FirebaseDatabase.getInstance();\n\n        progress = new ProgressDialog(this);\n        progress.setTitle(&quot;Creating Account&quot;);\n        progress.setMessage(&quot;We're Creating your Account&quot;);\n\n\n        binding.btnSignup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                progress.show();\n                auth.createUserWithEmailAndPassword\n                        (binding.edEmail.getText().toString() , binding.edPassword.getText().toString()).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                        userModels user = new userModels\n                                (binding.edUsername.getText().toString() , binding.edEmail.getText().toString() , binding.edPassword.getText().toString());\n\n                        String id = task.getResult().getUser().getUid();\n                        database.getReference().child(&quot;Users&quot;).child(id).setValue(user);\n\n                        progress.dismiss();\n                        if (task.isSuccessful()){\n                            Intent intent = new Intent(SignUpActivity.this , LoginActivty.class);\n                            startActivity(intent);\n                        }\n                        else  {\n                            Toast.makeText(SignUpActivity.this, &quot;Authentication faild&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n        });\n\n        binding.tvRegister.setOnClickListener(view -&gt; {\n            Intent intent = new Intent(SignUpActivity.this , LoginActivty.class);\n            startActivity(intent);\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","hbase","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":9812299,"reputation":1,"user_id":7270024,"display_name":"bocacorazon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655044993,"creation_date":1655044993,"answer_id":72593218,"question_id":72567864,"body_markdown":"Solved the issue by removing the &quot;provided&quot; scope -and thus including the dependency on the uber-jar, plus adding the Hbase pom dependency (not 100% sure whether this is strictly necessary)\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${hbase.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hbase&lt;/artifactId&gt;\r\n            &lt;version&gt;${hbase.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Connecting to EMR HBase using Java","body":"<p>Solved the issue by removing the &quot;provided&quot; scope -and thus including the dependency on the uber-jar, plus adding the Hbase pom dependency (not 100% sure whether this is strictly necessary)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n        &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\n        &lt;version&gt;${hbase.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n        &lt;artifactId&gt;hbase&lt;/artifactId&gt;\n        &lt;version&gt;${hbase.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9812299,"reputation":1,"user_id":7270024,"display_name":"bocacorazon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655044993,"creation_date":1654820101,"question_id":72567864,"body_markdown":"I am trying to connect to HBase from inside a Spark program running on EMR 5.35 (Hadoop 2.10, Spark 2.4.8, HBase 1.4.13)\r\nWhen not trying to connect to HBase, my Spark programs run perfectly.\r\n\r\nHowever, as I add my HBase code, the Spark program dies when creating the configuration:\r\n\r\n     conf = HBaseConfiguration.create();\r\n\r\n     for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = conf.iterator(); it.hasNext(); ) {\r\n         Map.Entry&lt;String, String&gt; e = it.next();\r\n         System.out.println(e);\r\n     }\r\n\r\n     connection = ConnectionFactory.createConnection(conf);\r\n     admin = connection.getAdmin();\r\n\r\nI tried adding resources:\r\n\r\n    \r\n        conf = HBaseConfiguration.create();\r\n        conf.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\r\n        conf.addResource(new Path(&quot;/etc/hbase/conf/hbase-site.xml&quot;));\r\n\r\nwithout success.\r\n\r\nI have commented out all lines after HBaseconfiguration.create() but the program dies anyway. I believe the problem lies there. I get no useful stack trace. The driver dies immediately upon hitting the line.\r\n\r\nThe POM: \r\n\r\n    \r\n    &lt;properties&gt;\r\n        &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\r\n        &lt;hbase.version&gt;1.4.13&lt;/hbase.version&gt;\r\n        &lt;hadoop.version&gt;2.10.1&lt;/hadoop.version&gt;\r\n        &lt;jackson.version&gt;2.13.2&lt;/jackson.version&gt;\r\n        &lt;!-- Maven stuff --&gt;\r\n        &lt;java.build.version&gt;1.8&lt;/java.build.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.103&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.77.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\r\n            &lt;version&gt;${hadoop.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;${hadoop.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${hbase.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--  AWS --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;athena&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opensearch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.16&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Connecting to EMR HBase using Java","body":"<p>I am trying to connect to HBase from inside a Spark program running on EMR 5.35 (Hadoop 2.10, Spark 2.4.8, HBase 1.4.13)\nWhen not trying to connect to HBase, my Spark programs run perfectly.</p>\n<p>However, as I add my HBase code, the Spark program dies when creating the configuration:</p>\n<pre><code> conf = HBaseConfiguration.create();\n\n for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = conf.iterator(); it.hasNext(); ) {\n     Map.Entry&lt;String, String&gt; e = it.next();\n     System.out.println(e);\n }\n\n connection = ConnectionFactory.createConnection(conf);\n admin = connection.getAdmin();\n</code></pre>\n<p>I tried adding resources:</p>\n<pre><code>    conf = HBaseConfiguration.create();\n    conf.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\n    conf.addResource(new Path(&quot;/etc/hbase/conf/hbase-site.xml&quot;));\n</code></pre>\n<p>without success.</p>\n<p>I have commented out all lines after HBaseconfiguration.create() but the program dies anyway. I believe the problem lies there. I get no useful stack trace. The driver dies immediately upon hitting the line.</p>\n<p>The POM:</p>\n<pre><code>&lt;properties&gt;\n    &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\n    &lt;hbase.version&gt;1.4.13&lt;/hbase.version&gt;\n    &lt;hadoop.version&gt;2.10.1&lt;/hadoop.version&gt;\n    &lt;jackson.version&gt;2.13.2&lt;/jackson.version&gt;\n    &lt;!-- Maven stuff --&gt;\n    &lt;java.build.version&gt;1.8&lt;/java.build.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\n            &lt;version&gt;2.17.103&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n            &lt;version&gt;4.1.77.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty&lt;/artifactId&gt;\n            &lt;version&gt;3.9.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\n        &lt;version&gt;${hadoop.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;${hadoop.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n        &lt;artifactId&gt;hbase-client&lt;/artifactId&gt;\n        &lt;version&gt;${hbase.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  AWS --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;s3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;athena&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;auth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;opensearch&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;version&gt;4.4.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n        &lt;version&gt;5.6.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550043698,"post_id":54664797,"comment_id":96120158,"body_markdown":"I’d probably use an `int` array with some 2020 entries to keep the difference in population compared to the previous year. So each time a person is born in year *y* I would add 1 to entry *y* of my array. And each time a person dies in year *y* subtract one from entry *y* + 1. At the end print the indices where the array holds a negative number.","body":"I’d probably use an <code>int</code> array with some 2020 entries to keep the difference in population compared to the previous year. So each time a person is born in year <i>y</i> I would add 1 to entry <i>y</i> of my array. And each time a person dies in year <i>y</i> subtract one from entry <i>y</i> + 1. At the end print the indices where the array holds a negative number."},{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":0,"creation_date":1550043765,"post_id":54664797,"comment_id":96120190,"body_markdown":"If a person dies in 2010 (2010 is the most recent year with birth/death) and it means 2010&#39;s population is reduced by 1, then how would your correct answer has 2011 instead? If 2009 has `x` people, then 2010 would have `x-1`, and 2011 would still be `x-1`.","body":"If a person dies in 2010 (2010 is the most recent year with birth/death) and it means 2010&#39;s population is reduced by 1, then how would your correct answer has 2011 instead? If 2009 has <code>x</code> people, then 2010 would have <code>x-1</code>, and 2011 would still be <code>x-1</code>."},{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":1,"creation_date":1550044038,"post_id":54664797,"comment_id":96120343,"body_markdown":"Personally, I would use a `Map&lt;String, Integer&gt;` representing year to population change. For every year in born column, increment the population of that year by 1, and for every year in die column, decrement the population of that year by 1. Lastly filter out all years with negative values.","body":"Personally, I would use a <code>Map&lt;String, Integer&gt;</code> representing year to population change. For every year in born column, increment the population of that year by 1, and for every year in die column, decrement the population of that year by 1. Lastly filter out all years with negative values."},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1550044345,"post_id":54664797,"comment_id":96120480,"body_markdown":"You haven&#39;t stated what the issue with your code is so it&#39;s difficult to understand what you want help with. Unless all you want is for us to do your homework for you.","body":"You haven&#39;t stated what the issue with your code is so it&#39;s difficult to understand what you want help with. Unless all you want is for us to do your homework for you."}],"answers":[{"tags":[],"owner":{"account_id":2780300,"reputation":4603,"user_id":2392960,"display_name":"Januson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550045666,"creation_date":1550045666,"answer_id":54665366,"question_id":54664797,"body_markdown":"Every row is basically a person. You could create a class so that you could ask this person whether it is alive.\r\n\r\n    var person = new Person(1990, 2000);\r\n    person.wasAliveIn(1998);\r\n\r\nThen it is simply a question of iterating over the years and counting how many people were alive at any given year.","title":"Java program to short and count","body":"<p>Every row is basically a person. You could create a class so that you could ask this person whether it is alive.</p>\n\n<pre><code>var person = new Person(1990, 2000);\nperson.wasAliveIn(1998);\n</code></pre>\n\n<p>Then it is simply a question of iterating over the years and counting how many people were alive at any given year.</p>\n"},{"tags":[],"owner":{"account_id":7649396,"reputation":404,"user_id":6213808,"display_name":"Jonaswg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550051340,"creation_date":1550051340,"answer_id":54667102,"question_id":54664797,"body_markdown":"I think you have some issues in your correct implementation output.\r\nSince someone died in 1978, 1991, 2002, 2003, 2005, 2008 and 2010 those years will have a lower population count than the year before them. \r\n\r\nI have written a quick function that iterates every year from 1900 to 2019 and checks every person each iteration in a simple linear fashion. There are obvious optimizations that can be implemented (such as a Map or more clever searches) but this is a beginner question so I provided a basic straight-forward answer. \r\n\r\nThe output will be:\r\n1978 1991 2002 2003 2005 2008 2010 \r\n\r\n\r\n\r\n\r\n    private class Cont {\r\n    \t\tInteger born;\r\n    \t\tInteger died;\r\n    \r\n    \t\tpublic Cont(String input) throws Exception {\r\n    \t\t\tString[] values = input.split(&quot;:&quot;);\r\n    \t\t\tif (values.length == 2) {\r\n    \t\t\t\tborn = Integer.parseInt(values[0]);\r\n    \t\t\t\tdied = Integer.parseInt(values[1]);\r\n    \t\t\t} else if (values.length == 1) {\r\n    \t\t\t\tborn = Integer.parseInt(values[0]);\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new Exception(&quot;bad input&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    public void doWork() {\r\n    \tList&lt;String&gt; in = new ArrayList&lt;&gt;();\r\n    \tin.add(&quot;1902:1991&quot;);\r\n    \tin.add(&quot;1941:1978&quot;);\r\n    \tin.add(&quot;2004:&quot;);\r\n    \tin.add(&quot;1957:&quot;);\r\n    \tin.add(&quot;1989:2008&quot;);\r\n    \tin.add(&quot;1909:2005&quot;);\r\n    \tin.add(&quot;1918:&quot;);\r\n    \tin.add(&quot;1913:2010&quot;);\r\n    \tin.add(&quot;1979:&quot;);\r\n    \tin.add(&quot;1961:2002&quot;);\r\n    \tin.add(&quot;1977:2003&quot;);\r\n    \tin.add(&quot;1909:1991&quot;);\r\n        List&lt;Cont&gt; entries = new ArrayList&lt;&gt;();\r\n    \tfor (String inp : in) {\r\n    \t\ttry {\r\n    \t\t\tentries.add(new Cont(inp));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tint bornCount = 0;\r\n    \tint deathCount = 0;\r\n    \tint aliveCount = bornCount - deathCount;\r\n    \tfor (int i = 1900; i &lt; 2019; i++) {\r\n    \t\tint prevAlive = aliveCount;\r\n    \t\tfor (Cont c : entries) {\r\n    \t\t\tif (i == c.born) {\r\n    \t\t\t\tbornCount++;\r\n    \t\t\t} else if (c.died != null &amp;&amp; i == c.died) {\r\n    \t\t\t\tdeathCount++;\r\n    \t\t\t}\r\n        \t}\r\n    \t\taliveCount = bornCount - deathCount;\r\n    \t\tif (prevAlive &gt; aliveCount) {\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java program to short and count","body":"<p>I think you have some issues in your correct implementation output.\nSince someone died in 1978, 1991, 2002, 2003, 2005, 2008 and 2010 those years will have a lower population count than the year before them. </p>\n\n<p>I have written a quick function that iterates every year from 1900 to 2019 and checks every person each iteration in a simple linear fashion. There are obvious optimizations that can be implemented (such as a Map or more clever searches) but this is a beginner question so I provided a basic straight-forward answer. </p>\n\n<p>The output will be:\n1978 1991 2002 2003 2005 2008 2010 </p>\n\n<pre><code>private class Cont {\n        Integer born;\n        Integer died;\n\n        public Cont(String input) throws Exception {\n            String[] values = input.split(\":\");\n            if (values.length == 2) {\n                born = Integer.parseInt(values[0]);\n                died = Integer.parseInt(values[1]);\n            } else if (values.length == 1) {\n                born = Integer.parseInt(values[0]);\n            } else {\n                throw new Exception(\"bad input\");\n            }\n        }\n    }\n\npublic void doWork() {\n    List&lt;String&gt; in = new ArrayList&lt;&gt;();\n    in.add(\"1902:1991\");\n    in.add(\"1941:1978\");\n    in.add(\"2004:\");\n    in.add(\"1957:\");\n    in.add(\"1989:2008\");\n    in.add(\"1909:2005\");\n    in.add(\"1918:\");\n    in.add(\"1913:2010\");\n    in.add(\"1979:\");\n    in.add(\"1961:2002\");\n    in.add(\"1977:2003\");\n    in.add(\"1909:1991\");\n    List&lt;Cont&gt; entries = new ArrayList&lt;&gt;();\n    for (String inp : in) {\n        try {\n            entries.add(new Cont(inp));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    int bornCount = 0;\n    int deathCount = 0;\n    int aliveCount = bornCount - deathCount;\n    for (int i = 1900; i &lt; 2019; i++) {\n        int prevAlive = aliveCount;\n        for (Cont c : entries) {\n            if (i == c.born) {\n                bornCount++;\n            } else if (c.died != null &amp;&amp; i == c.died) {\n                deathCount++;\n            }\n        }\n        aliveCount = bornCount - deathCount;\n        if (prevAlive &gt; aliveCount) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550109670,"creation_date":1550109670,"answer_id":54682180,"question_id":54664797,"body_markdown":"Another approach is to track the overall change in the population. This method is more efficient (time-complexity of `O(n)`).\r\n\r\n    public List&lt;String&gt; computeYearsWithReducedPopulation() {\r\n        List&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\n        Map&lt;String, Integer&gt; populationDelta = new HashMap&lt;&gt;();\r\n\r\n        input.add(&quot;1902:1991&quot;);\r\n        input.add(&quot;1941:1978&quot;);\r\n        input.add(&quot;2004:&quot;);\r\n        input.add(&quot;1957:&quot;);\r\n        input.add(&quot;1989:2008&quot;);\r\n        input.add(&quot;1909:2005&quot;);\r\n        input.add(&quot;1918:&quot;);\r\n        input.add(&quot;1913:2010&quot;);\r\n        input.add(&quot;1979:&quot;);\r\n        input.add(&quot;1961:2002&quot;);\r\n        input.add(&quot;1977:2003&quot;);\r\n        input.add(&quot;1909:1991&quot;);\r\n\r\n        for(String record:input) {\r\n            String split[] = record.split(&quot;:&quot;);\r\n            if (split.length == 0 || split.length &gt; 2) continue;\r\n\r\n            String born = split[0];\r\n\r\n            // Born\r\n            if(populationDelta.get(born) != null) {\r\n                populationDelta.put(born, 0);\r\n            }\r\n            else {\r\n                populationDelta.put(born, populationDelta.get(born).intValue() + 1);\r\n            }\r\n\r\n            if (split.length != 2) continue;\r\n            String died = split[1];\r\n\r\n            // Died\r\n            if(populationDelta.get(died) != null) {\r\n                populationDelta.put(died, 0);\r\n            }\r\n            else {\r\n                populationDelta.put(died, populationDelta.get(died).intValue() - 1);\r\n            }\r\n        }\r\n\r\n        return populationDelta.entrySet()\r\n                              .stream()\r\n                              .filter(entry -&gt; entry.getValue().intValue() &lt; 0)\r\n                              .map(Entry::getKey)\r\n                              .collect(Collectors.toList());\r\n    }","title":"Java program to short and count","body":"<p>Another approach is to track the overall change in the population. This method is more efficient (time-complexity of <code>O(n)</code>).</p>\n\n<pre><code>public List&lt;String&gt; computeYearsWithReducedPopulation() {\n    List&lt;String&gt; input = new ArrayList&lt;String&gt;();\n    Map&lt;String, Integer&gt; populationDelta = new HashMap&lt;&gt;();\n\n    input.add(\"1902:1991\");\n    input.add(\"1941:1978\");\n    input.add(\"2004:\");\n    input.add(\"1957:\");\n    input.add(\"1989:2008\");\n    input.add(\"1909:2005\");\n    input.add(\"1918:\");\n    input.add(\"1913:2010\");\n    input.add(\"1979:\");\n    input.add(\"1961:2002\");\n    input.add(\"1977:2003\");\n    input.add(\"1909:1991\");\n\n    for(String record:input) {\n        String split[] = record.split(\":\");\n        if (split.length == 0 || split.length &gt; 2) continue;\n\n        String born = split[0];\n\n        // Born\n        if(populationDelta.get(born) != null) {\n            populationDelta.put(born, 0);\n        }\n        else {\n            populationDelta.put(born, populationDelta.get(born).intValue() + 1);\n        }\n\n        if (split.length != 2) continue;\n        String died = split[1];\n\n        // Died\n        if(populationDelta.get(died) != null) {\n            populationDelta.put(died, 0);\n        }\n        else {\n            populationDelta.put(died, populationDelta.get(died).intValue() - 1);\n        }\n    }\n\n    return populationDelta.entrySet()\n                          .stream()\n                          .filter(entry -&gt; entry.getValue().intValue() &lt; 0)\n                          .map(Entry::getKey)\n                          .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16383090,"reputation":21,"user_id":11833632,"display_name":"TronYang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564394888,"creation_date":1564394888,"answer_id":57251542,"question_id":54664797,"body_markdown":"Because of the requirements said the &quot;Likewise, if a member of the population died in a given year, they count towards the population for that year.&quot; which means if someone died the population of that year remain unchanged, and the death will count towards the next year( population - 1 for next year). I wrote a nodejs function, which output the exact sample answer, you can use it as a reference and write your own java function. \r\n\r\n    function checkPopulation() {\r\n    let data = [\r\n        &quot;1902,1991&quot;, &quot;1941,1978&quot;, &quot;2004,&quot;, &quot;1957,&quot;, &quot;1989,2008&quot;, &quot;1909,2005&quot;, &quot;1918,&quot;, &quot;1913,2010&quot;, &quot;1979,&quot;, &quot;1961,2002&quot;, &quot;1977,2003&quot;, &quot;1909,1991&quot;\r\n    ]\r\n    let age = [];\r\n    for (let range of data) {\r\n        let temp = range.split(&quot;,&quot;)\r\n        if (temp.length == 2) {\r\n            let person = {\r\n                born: parseInt(temp[0]),\r\n                died: parseInt(temp[1])\r\n            }\r\n            age.push(person)\r\n        } else if (temp.length == 1) {\r\n            let person = {\r\n                born: parseInt(temp[0]),\r\n                died: parentInt(&quot;0&quot;)\r\n            }\r\n            age.push(person)\r\n        }\r\n    }\r\n    let aliveCount = 0\r\n    let preDied = 0\r\n    if (age.length &gt; 0) {\r\n        for (let i = 1900; i &lt;= 2019, i++;) {\r\n            let bornCount = 0\r\n            let preceAlive = aliveCount\r\n            if (preDied != 0) {\r\n                aliveCount -= preDied;\r\n                preDied = 0;\r\n            }\r\n            for (let count of age) {\r\n                if (i == count.born) {\r\n                    bornCount++\r\n                }\r\n                else if (count.died != 0 &amp;&amp; i == count.died) {\r\n                    preDied++\r\n                }\r\n            }\r\n\r\n            aliveCount += bornCount;\r\n            if (preceAlive &gt; aliveCount) {\r\n                console.log(i)\r\n            }\r\n        }\r\n    }\r\n    }","title":"Java program to short and count","body":"<p>Because of the requirements said the \"Likewise, if a member of the population died in a given year, they count towards the population for that year.\" which means if someone died the population of that year remain unchanged, and the death will count towards the next year( population - 1 for next year). I wrote a nodejs function, which output the exact sample answer, you can use it as a reference and write your own java function. </p>\n\n<pre><code>function checkPopulation() {\nlet data = [\n    \"1902,1991\", \"1941,1978\", \"2004,\", \"1957,\", \"1989,2008\", \"1909,2005\", \"1918,\", \"1913,2010\", \"1979,\", \"1961,2002\", \"1977,2003\", \"1909,1991\"\n]\nlet age = [];\nfor (let range of data) {\n    let temp = range.split(\",\")\n    if (temp.length == 2) {\n        let person = {\n            born: parseInt(temp[0]),\n            died: parseInt(temp[1])\n        }\n        age.push(person)\n    } else if (temp.length == 1) {\n        let person = {\n            born: parseInt(temp[0]),\n            died: parentInt(\"0\")\n        }\n        age.push(person)\n    }\n}\nlet aliveCount = 0\nlet preDied = 0\nif (age.length &gt; 0) {\n    for (let i = 1900; i &lt;= 2019, i++;) {\n        let bornCount = 0\n        let preceAlive = aliveCount\n        if (preDied != 0) {\n            aliveCount -= preDied;\n            preDied = 0;\n        }\n        for (let count of age) {\n            if (i == count.born) {\n                bornCount++\n            }\n            else if (count.died != 0 &amp;&amp; i == count.died) {\n                preDied++\n            }\n        }\n\n        aliveCount += bornCount;\n        if (preceAlive &gt; aliveCount) {\n            console.log(i)\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853146,"reputation":1785,"user_id":2256551,"accept_rate":76,"display_name":"SAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655044156,"creation_date":1655044156,"answer_id":72593103,"question_id":54664797,"body_markdown":"the question is answered but an easy and simple way for juniors.\r\n \r\n\r\n&gt; The output will be: 1978 1991 2002 2003 2005 2008 2010\r\n\r\n  \r\n    public void lifespans(){\r\n            int[] born = {1902,1941,2004,1957,1989,1909,1918,1913,1979,1961,1977,1909};\r\n            int[] died = {1991,1978,0,0,2008,2005,0,2010,0,2002,2003,1991};\r\n            int min = Arrays.stream(born).min().getAsInt();\r\n            int max = Arrays.stream(died).max().getAsInt();\r\n            for(int i=min;i&lt;=max;i++){\r\n                int year = i;\r\n                int birthYear = IntStream.of(born).filter(val-&gt;val&lt;=year).toArray().length;\r\n                int deathYear = IntStream.of(died).filter(val-&gt;val!=0&amp;&amp;val&lt;=year).toArray().length;\r\n                int birthYearLast = IntStream.of(born).filter(val-&gt;val&lt;year).toArray().length;\r\n                int deathYearLast = IntStream.of(died).filter(val-&gt;val!=0&amp;&amp;val&lt;year).toArray().length;\r\n                int populationYear = birthYear-deathYear;\r\n                int populationYearLast = birthYearLast-deathYearLast;\r\n                if(populationYear&lt;populationYearLast){\r\n                    System.out.println(year+&quot;|&quot;+populationYear+&quot;|&quot;+populationYearLast);\r\n                }\r\n            }\r\n\r\n","title":"Java program to short and count","body":"<p>the question is answered but an easy and simple way for juniors.</p>\n<blockquote>\n<p>The output will be: 1978 1991 2002 2003 2005 2008 2010</p>\n</blockquote>\n<pre><code>public void lifespans(){\n        int[] born = {1902,1941,2004,1957,1989,1909,1918,1913,1979,1961,1977,1909};\n        int[] died = {1991,1978,0,0,2008,2005,0,2010,0,2002,2003,1991};\n        int min = Arrays.stream(born).min().getAsInt();\n        int max = Arrays.stream(died).max().getAsInt();\n        for(int i=min;i&lt;=max;i++){\n            int year = i;\n            int birthYear = IntStream.of(born).filter(val-&gt;val&lt;=year).toArray().length;\n            int deathYear = IntStream.of(died).filter(val-&gt;val!=0&amp;&amp;val&lt;=year).toArray().length;\n            int birthYearLast = IntStream.of(born).filter(val-&gt;val&lt;year).toArray().length;\n            int deathYearLast = IntStream.of(died).filter(val-&gt;val!=0&amp;&amp;val&lt;year).toArray().length;\n            int populationYear = birthYear-deathYear;\n            int populationYearLast = birthYearLast-deathYearLast;\n            if(populationYear&lt;populationYearLast){\n                System.out.println(year+&quot;|&quot;+populationYear+&quot;|&quot;+populationYearLast);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":13610084,"reputation":55,"user_id":9817885,"display_name":"Manu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54667102,"answer_count":5,"score":0,"last_activity_date":1655044156,"creation_date":1550043187,"question_id":54664797,"body_markdown":"    born | died\r\n    1902   1991\r\n    1941   1978\r\n    2004       \r\n    1957       \r\n    1989   2008\r\n    1909   2005\r\n    1918       \r\n    1913   2010\r\n    1979       \r\n    1961   2002\r\n    1977   2003\r\n    1909   1991\r\n\r\nI need to write a method that takes the above information and returns every year in which the population was lower than the preceding year.\r\n\r\nI&#39;m beginner for java. Could someone help me how to achieve this please?\r\n\r\n    public class Lifespan {\r\n    \r\n        public static void main(String[] args) {\r\n            Lifespan lifespan = new Lifespan();\r\n            lifespan.computeLifeSpan();\r\n        }\r\n        \r\n        public void computeLifeSpan() {\r\n            \r\n            List&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\n            Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n            \r\n          input.add(&quot;1902:1991&quot;);\r\n          input.add(&quot;1941:1978&quot;);\r\n          input.add(&quot;2004:&quot;);\r\n            \r\n          List&lt;LifeSpanModel&gt; filteredInput = new ArrayList&lt;LifeSpanModel&gt;();\r\n            LifeSpanModel lifeSpanModel;\r\n            int population = 0;\r\n            for(String record:input) {\r\n                lifeSpanModel= new LifeSpanModel();\r\n                String earchRecord[] = record.split(&quot;:&quot;);\r\n                lifeSpanModel.setBornYear(earchRecord[0]);\r\n                lifeSpanModel.setDiedYear( earchRecord.length == 1 ? &quot;Alive&quot; : earchRecord[1]);\r\n                filteredInput.add(lifeSpanModel);\r\n                String k=map.get(lifeSpanModel.getBornYear());\r\n                if(map.get(lifeSpanModel.getBornYear())!= null) { // add alive person here\r\n                    population = population + 1;\r\n                    map.put(lifeSpanModel.getBornYear(), lifeSpanModel.getDiedYear());\r\n                }else {\r\n                    map.put(lifeSpanModel.getBornYear(), lifeSpanModel.getDiedYear());\r\n                }\r\n                \r\n            }\r\n           \r\n        }\r\n    \r\n    }\r\n\r\n\r\n- If a member of the population was born in a given year, they count towards the\r\npopulation for that year.\r\n- Likewise, if a member of the population died in a given year, they count towards the\r\npopulation for that year.\r\n- Empty in died column means people still alive\r\n\r\nFor the example, a correct implementation will return the following years: 1992, 2003,\r\n2006, 2009, 2011.\r\n\r\n\r\n","title":"Java program to short and count","body":"<pre><code>born | died\n1902   1991\n1941   1978\n2004       \n1957       \n1989   2008\n1909   2005\n1918       \n1913   2010\n1979       \n1961   2002\n1977   2003\n1909   1991\n</code></pre>\n\n<p>I need to write a method that takes the above information and returns every year in which the population was lower than the preceding year.</p>\n\n<p>I'm beginner for java. Could someone help me how to achieve this please?</p>\n\n<pre><code>public class Lifespan {\n\n    public static void main(String[] args) {\n        Lifespan lifespan = new Lifespan();\n        lifespan.computeLifeSpan();\n    }\n\n    public void computeLifeSpan() {\n\n        List&lt;String&gt; input = new ArrayList&lt;String&gt;();\n        Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n\n      input.add(\"1902:1991\");\n      input.add(\"1941:1978\");\n      input.add(\"2004:\");\n\n      List&lt;LifeSpanModel&gt; filteredInput = new ArrayList&lt;LifeSpanModel&gt;();\n        LifeSpanModel lifeSpanModel;\n        int population = 0;\n        for(String record:input) {\n            lifeSpanModel= new LifeSpanModel();\n            String earchRecord[] = record.split(\":\");\n            lifeSpanModel.setBornYear(earchRecord[0]);\n            lifeSpanModel.setDiedYear( earchRecord.length == 1 ? \"Alive\" : earchRecord[1]);\n            filteredInput.add(lifeSpanModel);\n            String k=map.get(lifeSpanModel.getBornYear());\n            if(map.get(lifeSpanModel.getBornYear())!= null) { // add alive person here\n                population = population + 1;\n                map.put(lifeSpanModel.getBornYear(), lifeSpanModel.getDiedYear());\n            }else {\n                map.put(lifeSpanModel.getBornYear(), lifeSpanModel.getDiedYear());\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<ul>\n<li>If a member of the population was born in a given year, they count towards the\npopulation for that year.</li>\n<li>Likewise, if a member of the population died in a given year, they count towards the\npopulation for that year.</li>\n<li>Empty in died column means people still alive</li>\n</ul>\n\n<p>For the example, a correct implementation will return the following years: 1992, 2003,\n2006, 2009, 2011.</p>\n"},{"tags":["javascript","java","reactjs","graphql","apollo"],"answers":[{"tags":[],"owner":{"account_id":4722710,"reputation":2268,"user_id":3820189,"display_name":"Nikhil G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655043094,"creation_date":1655043094,"answer_id":72592984,"question_id":72592249,"body_markdown":"Well, `useQuery` return three things loading, error &amp; data. So you need to make changes in `useUserLocation` function.\r\n\r\n     const {loading, error, data} = useQuery(QUERY_GET_LOCATIONS);\r\n\r\nNow you can `console.log(data)` and check what you are getting in response. ","title":"Getting getUserLocation is not a function","body":"<p>Well, <code>useQuery</code> return three things loading, error &amp; data. So you need to make changes in <code>useUserLocation</code> function.</p>\n<pre><code> const {loading, error, data} = useQuery(QUERY_GET_LOCATIONS);\n</code></pre>\n<p>Now you can <code>console.log(data)</code> and check what you are getting in response.</p>\n"}],"owner":{"account_id":24613665,"reputation":1,"user_id":18514914,"display_name":"FaustoLopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655043094,"creation_date":1655037300,"question_id":72592249,"body_markdown":"Making a project that is using a searchbar to get all users in a certain location from a search result.\r\nUsing graphql and react for my project.\r\nGetting error saying getUserlocation is not a function along with \r\n          POST http://localhost:3000/graphql 400 (Bad Request)\r\n\r\nI&#39;m sure I&#39;m writing the function wrong but can&#39;t find examples on it.\r\n\r\n\r\n`SearchMenu.js`\r\n\r\n```\r\nimport { useQuery } from &quot;@apollo/client&quot;;\r\nimport { QUERY_GET_LOCATIONS } from &quot;../util/queries&quot;;\r\n\r\nexport function useUserLocation() {\r\n  const getUserLocation = useQuery(QUERY_GET_LOCATIONS);\r\n  const getLocation = async (location) =&gt; {\r\n    try {\r\n      if (!location) {\r\n        throw new Error(&quot;No users with that location&quot;);\r\n      }\r\n      return await getUserLocation({ variables: { location } });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return getLocation;\r\n}\r\n```\r\n\r\n`queries.js`\r\n\r\n```\r\nimport { gql } from &quot;@apollo/client&quot;;\r\n\r\n\r\nexport const QUERY_GET_LOCATIONS = gql`\r\n  query getUserLocation {\r\n    getUserLocation {\r\n      _id\r\n      username\r\n    }\r\n  }\r\n`;\r\n\r\n\r\n```\r\n``SearchMenu.js``\r\n\r\n```\r\nimport React, { useState } from &quot;react&quot;;\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  CardColumns,\r\n} from &quot;react-bootstrap&quot;;\r\n\r\n// import Auth from &quot;../utils/auth&quot;;\r\nimport { QUERY_GET_LOCATIONS } from &quot;../util/queries&quot;;\r\nimport { useQuery } from &quot;@apollo/client&quot;;\r\n\r\nconst SearchedUsers = () =&gt; {\r\n  // create state for holding returned google api data\r\n  const [searchedUsers, setSearchedUsers] = useState([]);\r\n  // create state for holding our search field data\r\n  const [searchInput, setSearchInput] = useState(&quot;&quot;);\r\n  const { getLocation } = useQuery(QUERY_GET_LOCATIONS);\r\n\r\n  // create method to search for books and set state on form submit\r\n  const handleFormSubmit = async (event) =&gt; {\r\n    event.preventDefault();\r\n\r\n    if (!searchInput) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const response = await getLocation(searchInput);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(&quot;something went wrong!&quot;);\r\n      }\r\n\r\n      const { items } = await response.json();\r\n\r\n      const userData = items.map((user) =&gt; ({\r\n        userId: user.id,\r\n        userName: user.userName || [&quot;No user to display&quot;],\r\n      }));\r\n\r\n      setSearchedUsers(userData);\r\n      setSearchInput(&quot;&quot;);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    &lt;&gt;\r\n      &lt;Jumbotron fluid className=&quot;text-light bg-dark&quot;&gt;\r\n        &lt;Container&gt;\r\n          &lt;h1&gt;Search for Location!&lt;/h1&gt;\r\n          &lt;Form onSubmit={handleFormSubmit}&gt;\r\n            &lt;Form.Row&gt;\r\n              &lt;Col xs={12} md={8}&gt;\r\n                &lt;Form.Control\r\n                  name=&quot;searchInput&quot;\r\n                  value={searchInput}\r\n                  onChange={(e) =&gt; setSearchInput(e.target.value)}\r\n                  type=&quot;text&quot;\r\n                  size=&quot;lg&quot;\r\n                  placeholder=&quot;Search for a location&quot;\r\n                /&gt;\r\n              &lt;/Col&gt;\r\n              &lt;Col xs={12} md={4}&gt;\r\n                &lt;Button type=&quot;submit&quot; variant=&quot;success&quot; size=&quot;lg&quot;&gt;\r\n                  Submit Search\r\n                &lt;/Button&gt;\r\n              &lt;/Col&gt;\r\n            &lt;/Form.Row&gt;\r\n          &lt;/Form&gt;\r\n        &lt;/Container&gt;\r\n      &lt;/Jumbotron&gt;\r\n\r\n      &lt;Container&gt;\r\n        &lt;h2&gt;\r\n          {searchedUsers.length\r\n            ? `Viewing ${searchedUsers.length} results:`\r\n            : &quot;Search for a location to begin&quot;}\r\n        &lt;/h2&gt;\r\n        &lt;CardColumns&gt;\r\n          {searchedUsers.map((user) =&gt; {\r\n            return (\r\n              &lt;Card key={user.userId} border=&quot;dark&quot;&gt;\r\n                &lt;Card.Body&gt;\r\n                  &lt;Card.Title&gt;{user.userName}&lt;/Card.Title&gt;\r\n                  &lt;p className=&quot;small&quot;&gt;Bio: {user.bio}&lt;/p&gt;\r\n                &lt;/Card.Body&gt;\r\n              &lt;/Card&gt;\r\n            );\r\n          })}\r\n        &lt;/CardColumns&gt;\r\n      &lt;/Container&gt;\r\n    &lt;/&gt;\r\n  );\r\n};\r\n\r\nexport default SearchedUsers;\r\n\r\n```","title":"Getting getUserLocation is not a function","body":"<p>Making a project that is using a searchbar to get all users in a certain location from a search result.\nUsing graphql and react for my project.\nGetting error saying getUserlocation is not a function along with\nPOST http://localhost:3000/graphql 400 (Bad Request)</p>\n<p>I'm sure I'm writing the function wrong but can't find examples on it.</p>\n<p><code>SearchMenu.js</code></p>\n<pre><code>import { useQuery } from &quot;@apollo/client&quot;;\nimport { QUERY_GET_LOCATIONS } from &quot;../util/queries&quot;;\n\nexport function useUserLocation() {\n  const getUserLocation = useQuery(QUERY_GET_LOCATIONS);\n  const getLocation = async (location) =&gt; {\n    try {\n      if (!location) {\n        throw new Error(&quot;No users with that location&quot;);\n      }\n      return await getUserLocation({ variables: { location } });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return getLocation;\n}\n</code></pre>\n<p><code>queries.js</code></p>\n<pre><code>import { gql } from &quot;@apollo/client&quot;;\n\n\nexport const QUERY_GET_LOCATIONS = gql`\n  query getUserLocation {\n    getUserLocation {\n      _id\n      username\n    }\n  }\n`;\n\n\n</code></pre>\n<p><code>SearchMenu.js</code></p>\n<pre><code>import React, { useState } from &quot;react&quot;;\nimport {\n  Jumbotron,\n  Container,\n  Col,\n  Form,\n  Button,\n  Card,\n  CardColumns,\n} from &quot;react-bootstrap&quot;;\n\n// import Auth from &quot;../utils/auth&quot;;\nimport { QUERY_GET_LOCATIONS } from &quot;../util/queries&quot;;\nimport { useQuery } from &quot;@apollo/client&quot;;\n\nconst SearchedUsers = () =&gt; {\n  // create state for holding returned google api data\n  const [searchedUsers, setSearchedUsers] = useState([]);\n  // create state for holding our search field data\n  const [searchInput, setSearchInput] = useState(&quot;&quot;);\n  const { getLocation } = useQuery(QUERY_GET_LOCATIONS);\n\n  // create method to search for books and set state on form submit\n  const handleFormSubmit = async (event) =&gt; {\n    event.preventDefault();\n\n    if (!searchInput) {\n      return false;\n    }\n\n    try {\n      const response = await getLocation(searchInput);\n\n      if (!response.ok) {\n        throw new Error(&quot;something went wrong!&quot;);\n      }\n\n      const { items } = await response.json();\n\n      const userData = items.map((user) =&gt; ({\n        userId: user.id,\n        userName: user.userName || [&quot;No user to display&quot;],\n      }));\n\n      setSearchedUsers(userData);\n      setSearchInput(&quot;&quot;);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    &lt;&gt;\n      &lt;Jumbotron fluid className=&quot;text-light bg-dark&quot;&gt;\n        &lt;Container&gt;\n          &lt;h1&gt;Search for Location!&lt;/h1&gt;\n          &lt;Form onSubmit={handleFormSubmit}&gt;\n            &lt;Form.Row&gt;\n              &lt;Col xs={12} md={8}&gt;\n                &lt;Form.Control\n                  name=&quot;searchInput&quot;\n                  value={searchInput}\n                  onChange={(e) =&gt; setSearchInput(e.target.value)}\n                  type=&quot;text&quot;\n                  size=&quot;lg&quot;\n                  placeholder=&quot;Search for a location&quot;\n                /&gt;\n              &lt;/Col&gt;\n              &lt;Col xs={12} md={4}&gt;\n                &lt;Button type=&quot;submit&quot; variant=&quot;success&quot; size=&quot;lg&quot;&gt;\n                  Submit Search\n                &lt;/Button&gt;\n              &lt;/Col&gt;\n            &lt;/Form.Row&gt;\n          &lt;/Form&gt;\n        &lt;/Container&gt;\n      &lt;/Jumbotron&gt;\n\n      &lt;Container&gt;\n        &lt;h2&gt;\n          {searchedUsers.length\n            ? `Viewing ${searchedUsers.length} results:`\n            : &quot;Search for a location to begin&quot;}\n        &lt;/h2&gt;\n        &lt;CardColumns&gt;\n          {searchedUsers.map((user) =&gt; {\n            return (\n              &lt;Card key={user.userId} border=&quot;dark&quot;&gt;\n                &lt;Card.Body&gt;\n                  &lt;Card.Title&gt;{user.userName}&lt;/Card.Title&gt;\n                  &lt;p className=&quot;small&quot;&gt;Bio: {user.bio}&lt;/p&gt;\n                &lt;/Card.Body&gt;\n              &lt;/Card&gt;\n            );\n          })}\n        &lt;/CardColumns&gt;\n      &lt;/Container&gt;\n    &lt;/&gt;\n  );\n};\n\nexport default SearchedUsers;\n\n</code></pre>\n"},{"tags":["java","json","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572029949,"creation_date":1572029949,"answer_id":58564273,"question_id":58556492,"body_markdown":"1. `FileReader` cannot read from HDFS, only local Filesystem. \r\n\r\n2. The filepath comes from the Job parameters - `FileInputFormat.addInputPath(job, new Path(args[0]));`\r\n\r\nYou wouldn&#39;t read the file in the Mapper class, anyway. \r\n\r\nMapReduce defaults to read line-delimited files, so your JSON objects would have to be one per-line such as \r\n\r\n    {&quot;votes&quot;:[]}\r\n    {&quot;votes&quot;:[]}\r\n\r\nFrom the mapper, you would parse the Text objects into JSONObject like so \r\n\r\n \r\n     protected void map(LongWritable key, Text value, Context context)\r\n            throws IOException, InterruptedException {\r\n\r\n        JSONParser jsonParser = new JSONParser();\r\n        try {\r\n            JSONObject jsonobject = (JSONObject) jsonParser.parse(value.toString());\r\n            JSONArray jsonArray = (JSONArray) jsonobject.get(&quot;votes&quot;);\r\n\r\nIf you only have one JSON object in the file, then you probably shouldn&#39;t be using MapReduce. \r\n\r\n---\r\n\r\nOtherwise, you would have to implement a `WholeFileInputFormat` and set that in the Job\r\n\r\n    job.setInputFormatClass(WholeFileInputFormat.class);","title":"Hadoop read JSON from HDFS","body":"<ol>\n<li><p><code>FileReader</code> cannot read from HDFS, only local Filesystem. </p></li>\n<li><p>The filepath comes from the Job parameters - <code>FileInputFormat.addInputPath(job, new Path(args[0]));</code></p></li>\n</ol>\n\n<p>You wouldn't read the file in the Mapper class, anyway. </p>\n\n<p>MapReduce defaults to read line-delimited files, so your JSON objects would have to be one per-line such as </p>\n\n<pre><code>{\"votes\":[]}\n{\"votes\":[]}\n</code></pre>\n\n<p>From the mapper, you would parse the Text objects into JSONObject like so </p>\n\n<pre><code> protected void map(LongWritable key, Text value, Context context)\n        throws IOException, InterruptedException {\n\n    JSONParser jsonParser = new JSONParser();\n    try {\n        JSONObject jsonobject = (JSONObject) jsonParser.parse(value.toString());\n        JSONArray jsonArray = (JSONArray) jsonobject.get(\"votes\");\n</code></pre>\n\n<p>If you only have one JSON object in the file, then you probably shouldn't be using MapReduce. </p>\n\n<hr>\n\n<p>Otherwise, you would have to implement a <code>WholeFileInputFormat</code> and set that in the Job</p>\n\n<pre><code>job.setInputFormatClass(WholeFileInputFormat.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207658,"reputation":123,"user_id":6842254,"display_name":"Sumeet Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578055338,"creation_date":1578055338,"answer_id":59578852,"question_id":58556492,"body_markdown":"Tried reading the JSON from HDFS path using the following function using pydoop library and it is working as expected.Hope it helps.\r\n\r\n    import pydoop.hdfs as hdfs\r\n    \r\n    def lreadline(inputJsonIterator):\r\n        with hdfs.open(inputJsonIterator,mode=&#39;rt&#39;) as f:\r\n            lines = f.read().split(&#39;\\n&#39;)\r\n        return lines","title":"Hadoop read JSON from HDFS","body":"<p>Tried reading the JSON from HDFS path using the following function using pydoop library and it is working as expected.Hope it helps.</p>\n\n<pre><code>import pydoop.hdfs as hdfs\n\ndef lreadline(inputJsonIterator):\n    with hdfs.open(inputJsonIterator,mode='rt') as f:\n        lines = f.read().split('\\n')\n    return lines\n</code></pre>\n"}],"owner":{"account_id":11019441,"reputation":55,"user_id":8094224,"display_name":"TNelen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3062,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58564273,"answer_count":2,"score":0,"last_activity_date":1655042955,"creation_date":1571998270,"question_id":58556492,"body_markdown":"I&#39;m trying to read an JSON file into my hadoop mapreduce algorithm.\r\nHow can i do this? I&#39;ve put a file &#39;testinput.json&#39; into /input in my HDFS memory.\r\n\r\nWhen calling the mapreduce i execute `hadoop jar popularityMR2.jar populariy input output`, with input stating the input directory in the dhfs memory.\r\n\r\n    public static class PopularityMapper extends Mapper&lt;Object, Text, Text, Text&gt;{\r\n\r\n\r\n        protected void map(Object key, Text value,\r\n                           Context context)\r\n                throws IOException, InterruptedException {\r\n\r\n            JSONParser jsonParser = new JSONParser();\r\n            try {\r\n                JSONObject jsonobject = (JSONObject) jsonParser.parse(new FileReader(&quot;hdfs://input/testinput.json&quot;));\r\n                JSONArray jsonArray = (JSONArray) jsonobject.get(&quot;votes&quot;);\r\n\r\n                Iterator&lt;JSONObject&gt; iterator = jsonArray.iterator();\r\n                while(iterator.hasNext()) {\r\n                    JSONObject obj = iterator.next();\r\n                    String song_id_rave_id = (String) obj.get(&quot;song_ID&quot;) + &quot;,&quot; + (String) obj.get(&quot;rave_ID&quot;)+ &quot;,&quot;;\r\n                    String preference = (String) obj.get(&quot;preference&quot;);\r\n                    System.out.println(song_id_rave_id + &quot;||&quot; + preference);\r\n                    context.write(new Text(song_id_rave_id), new Text(preference));\r\n                }\r\n            }catch(ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nMy mapper function now looks like this.  I read the file from the dhfs memory. But it always returns an error, file not found. \r\n\r\nDoes someone know how i can read this json into a jsonobject? \r\n\r\nThanks","title":"Hadoop read JSON from HDFS","body":"<p>I'm trying to read an JSON file into my hadoop mapreduce algorithm.\nHow can i do this? I've put a file 'testinput.json' into /input in my HDFS memory.</p>\n\n<p>When calling the mapreduce i execute <code>hadoop jar popularityMR2.jar populariy input output</code>, with input stating the input directory in the dhfs memory.</p>\n\n<pre><code>public static class PopularityMapper extends Mapper&lt;Object, Text, Text, Text&gt;{\n\n\n    protected void map(Object key, Text value,\n                       Context context)\n            throws IOException, InterruptedException {\n\n        JSONParser jsonParser = new JSONParser();\n        try {\n            JSONObject jsonobject = (JSONObject) jsonParser.parse(new FileReader(\"hdfs://input/testinput.json\"));\n            JSONArray jsonArray = (JSONArray) jsonobject.get(\"votes\");\n\n            Iterator&lt;JSONObject&gt; iterator = jsonArray.iterator();\n            while(iterator.hasNext()) {\n                JSONObject obj = iterator.next();\n                String song_id_rave_id = (String) obj.get(\"song_ID\") + \",\" + (String) obj.get(\"rave_ID\")+ \",\";\n                String preference = (String) obj.get(\"preference\");\n                System.out.println(song_id_rave_id + \"||\" + preference);\n                context.write(new Text(song_id_rave_id), new Text(preference));\n            }\n        }catch(ParseException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>My mapper function now looks like this.  I read the file from the dhfs memory. But it always returns an error, file not found. </p>\n\n<p>Does someone know how i can read this json into a jsonobject? </p>\n\n<p>Thanks</p>\n"},{"tags":["java","c#","flutter","dart"],"comments":[{"owner":{"account_id":14933151,"reputation":1151,"user_id":10782024,"display_name":"Arbiter Chil"},"score":0,"creation_date":1655043198,"post_id":72592863,"comment_id":128231751,"body_markdown":"have you tried create model from quicktype .io","body":"have you tried create model from quicktype .io"},{"owner":{"account_id":10287148,"reputation":4085,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"score":0,"creation_date":1655043278,"post_id":72592863,"comment_id":128231771,"body_markdown":"@ArbiterChil yes i did, but it is not working in the cases i mentioned above","body":"@ArbiterChil yes i did, but it is not working in the cases i mentioned above"},{"owner":{"account_id":14933151,"reputation":1151,"user_id":10782024,"display_name":"Arbiter Chil"},"score":0,"creation_date":1655043523,"post_id":72592863,"comment_id":128231809,"body_markdown":"i think you can work around it on the UI side if the list[index].persone.age == null or list[index].group == null then show ui SizedBox.shrink() also can you show us the code where you gonna show this data","body":"i think you can work around it on the UI side if the list[index].persone.age == null or list[index].group == null then show ui SizedBox.shrink() also can you show us the code where you gonna show this data"},{"owner":{"account_id":10287148,"reputation":4085,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"score":0,"creation_date":1655043726,"post_id":72592863,"comment_id":128231867,"body_markdown":"i thought about that, but i am trying to avoid adding logic in the UI part (smart UI)","body":"i thought about that, but i am trying to avoid adding logic in the UI part (smart UI)"}],"owner":{"account_id":10287148,"reputation":4085,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655042242,"creation_date":1655042242,"question_id":72592863,"body_markdown":"i am trying to generate a class model from an APIs JSON response (List), i use some service for auto-generation, and everything seems to work fine until the response JSON start returning attributes with a **null value** and the other thing is that some attributes are **missing** when i call the APIs. EX: \r\n\r\nresponse JSON: \r\n\r\n    [\r\n        {\r\n            &quot;persone&quot;: {\r\n                &quot;name&quot;: &quot;To John&quot;,\r\n                &quot;age&quot;: 15\r\n            },\r\n            &quot;group&quot;: &quot;ipsum&quot;\r\n        },\r\n        {\r\n            &quot;persone&quot;: {\r\n                &quot;name&quot;: &quot;To John&quot;,\r\n                &quot;age&quot;: null\r\n            },\r\n            &quot;group&quot;: &quot;ipsum&quot;\r\n        },\r\n        {\r\n            &quot;persone&quot;: {\r\n                &quot;name&quot;: &quot;To John&quot;\r\n            }\r\n        }\r\n    ]\r\n\r\nin the above example, the age attribute is null, and the group attribute is missing in the last object of the list.\r\n\r\nMy question is how do you create an appropriate class model in that case handling the **null** and the **missing attribute**?","title":"Generate models and serializers from JSON with null value and missing attributes?","body":"<p>i am trying to generate a class model from an APIs JSON response (List), i use some service for auto-generation, and everything seems to work fine until the response JSON start returning attributes with a <strong>null value</strong> and the other thing is that some attributes are <strong>missing</strong> when i call the APIs. EX:</p>\n<p>response JSON:</p>\n<pre><code>[\n    {\n        &quot;persone&quot;: {\n            &quot;name&quot;: &quot;To John&quot;,\n            &quot;age&quot;: 15\n        },\n        &quot;group&quot;: &quot;ipsum&quot;\n    },\n    {\n        &quot;persone&quot;: {\n            &quot;name&quot;: &quot;To John&quot;,\n            &quot;age&quot;: null\n        },\n        &quot;group&quot;: &quot;ipsum&quot;\n    },\n    {\n        &quot;persone&quot;: {\n            &quot;name&quot;: &quot;To John&quot;\n        }\n    }\n]\n</code></pre>\n<p>in the above example, the age attribute is null, and the group attribute is missing in the last object of the list.</p>\n<p>My question is how do you create an appropriate class model in that case handling the <strong>null</strong> and the <strong>missing attribute</strong>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1655008075,"post_id":72589441,"comment_id":128225993,"body_markdown":"Is &quot;input&quot; a Scanner? Then &quot;input.next()&quot; will probably not return a string with spaces in it.","body":"Is &quot;input&quot; a Scanner? Then &quot;input.next()&quot; will probably not return a string with spaces in it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655014536,"post_id":72589441,"comment_id":128226590,"body_markdown":"What exactly was wrong with `indexOf()` that you felt you needed something else?","body":"What exactly was wrong with <code>indexOf()</code> that you felt you needed something else?"}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655008008,"creation_date":1655008008,"answer_id":72589484,"question_id":72589441,"body_markdown":"\r\n    String text = &quot;Mark Stevenson is a footbal player.&quot;;\r\n    if(text.contains(&quot; &quot;)) {\r\n      System.out.println(&quot;Text contains at least one space.&quot;);\r\n    }","title":"How can I detect a space?","body":"<pre><code>String text = &quot;Mark Stevenson is a footbal player.&quot;;\nif(text.contains(&quot; &quot;)) {\n  System.out.println(&quot;Text contains at least one space.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25535096,"reputation":1,"user_id":19322318,"display_name":"DJ Arkaiid"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1655013569,"answer_count":1,"score":-3,"last_activity_date":1655041238,"creation_date":1655007182,"question_id":72589441,"body_markdown":"I&#39;m going to start this off with an explanation of what I&#39;m trying to do. I am trying to detect if there is a space in a string, and give an error if there is one. I have tried indexOf, try/catches, and a few other possible solutions I can&#39;t remember the name of. is there any fairly simple way to do this? Sorry, I&#39;m just learning so there might be other errors or things that can be done better. below is an example of what I have.\r\n\r\n\r\n```\r\nSystem.out.println(&quot;Please enter your guess of numbers. Please do not include spaces in your submission.&quot;);\r\n        String guess = input.next();\r\n        int attempt = guess.indexOf(&quot; &quot;);\r\n        System.out.println(attempt);\r\n        if (guess.matches(&quot;.*\\\\s+.*&quot;)){\r\n            System.out.println(attempt);\r\n        JOptionPane.showMessageDialog(null, &quot;Try again, and Please do not enter spaces in between the characters.&quot;);\r\n        System.exit(0);}","title":"How can I detect a space?","body":"<p>I'm going to start this off with an explanation of what I'm trying to do. I am trying to detect if there is a space in a string, and give an error if there is one. I have tried indexOf, try/catches, and a few other possible solutions I can't remember the name of. is there any fairly simple way to do this? Sorry, I'm just learning so there might be other errors or things that can be done better. below is an example of what I have.</p>\n<pre><code>System.out.println(&quot;Please enter your guess of numbers. Please do not include spaces in your submission.&quot;);\n        String guess = input.next();\n        int attempt = guess.indexOf(&quot; &quot;);\n        System.out.println(attempt);\n        if (guess.matches(&quot;.*\\\\s+.*&quot;)){\n            System.out.println(attempt);\n        JOptionPane.showMessageDialog(null, &quot;Try again, and Please do not enter spaces in between the characters.&quot;);\n        System.exit(0);}\n</code></pre>\n"},{"tags":["java","soap","mocking","wiremock","mtom"],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655041186,"creation_date":1655041186,"answer_id":72592712,"question_id":72586271,"body_markdown":"I have solved adding this header\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\r\n\r\n    headers.put(&quot;Content-type&quot;, Collections.singletonList(&quot;undefined;&quot;));\r\n\r\n\r\n    bindingProvider.getRequestContext().put(MessageContext\r\n                .HTTP_REQUEST_HEADERS, headers);\r\n\r\n","title":"MTOM with WireMock","body":"<p>I have solved adding this header</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\n\nheaders.put(&quot;Content-type&quot;, Collections.singletonList(&quot;undefined;&quot;));\n\n\nbindingProvider.getRequestContext().put(MessageContext\n            .HTTP_REQUEST_HEADERS, headers);\n</code></pre>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72592712,"answer_count":1,"score":0,"last_activity_date":1655041186,"creation_date":1654966609,"question_id":72586271,"body_markdown":"I am trying to use soap MTOM protocol with WireMock, attaching one file to SOAP request directed to mocked service, but it gives me some problems...\r\n```Java\r\n    @Test\r\n    public void AfpToPdf() throws Exception {\r\n        stubWireMock(FOLDER_PATH, &quot;convertAfpToPdf&quot;, 200, RECUPERA_DOCUMENTO_FOLDER_RESPONSE_OK);\r\n        ConvertAfpToPdfType request = createDocumentoAFPRequest();\r\n\r\n        Testata testata = new Testata();\r\n\r\n        ConvertAfpToPdfResponseType response = getPortNew().convertAfpToPdf(request, testata, new Holder&lt;&gt;());\r\n\r\n        assertNotNull(response);\r\n    }\r\n\r\n\r\n    private ConvertAfpToPdfType createDocumentoAFPRequest() {\r\n        ConvertAfpToPdfType request = new ConvertAfpToPdfType();\r\n        ListaFileAfpType listaFileAfpType = new ListaFileAfpType();\r\n        DataHandler dataHandlerAFP = new DataHandler(new FileDataSource(&quot;FOLD14.R00407A.NT01.D130606.AFP&quot;));\r\n        listaFileAfpType.setDocumentFileAfp(dataHandlerAFP);\r\n        request.setListaFileAfp(listaFileAfpType);\r\n\r\n        return request;\r\n\r\n    }\r\n\r\nprotected void stubWireMock(String urlPath, String requestContained, int httpStatus, String bodyFileName) {\r\n        wireMockRule.stubFor(post(urlPathEqualTo((BASE_URL_CONVERSIONE)))\r\n                .withRequestBody(containing(&quot;conversioneAfp&quot;))\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n                                .withBody(&quot;prova&quot;)));\r\n    }\r\n```\r\n\r\nThe error\r\n\r\n    java.io.IOException: Buffer size exceeded: no line terminator\r\n    \tat org.eclipse.jetty.util.ReadLineInputStream.readLine(ReadLineInputStream.java:68)\r\n    \tat org.eclipse.jetty.util.MultiPartInputStreamParser.parse(MultiPartInputStreamParser.java:619)\r\n    \tat org.eclipse.jetty.util.MultiPartInputStreamParser.getParts(MultiPartInputStreamParser.java:491)\r\n    \tat org.eclipse.jetty.server.Request.getParts(Request.java:2374)\r\n    \tat org.eclipse.jetty.server.Request.getParts(Request.java:2326)\r\n    \tat com.github.tomakehurst.wiremock.servlet.WireMockHttpServletRequestAdapter.safelyGetRequestParts(WireMockHttpServletRequestAdapter.java:295)\r\n    \tat com.github.tomakehurst.wiremock.servlet.WireMockHttpServletRequestAdapter.getParts(WireMockHttpServletRequestAdapter.java:279)\r\n    \tat com.github.tomakehurst.wiremock.verification.LoggedRequest.createFrom(LoggedRequest.java:70)\r\n    \tat com.github.tomakehurst.wiremock.stubbing.InMemoryStubMappings.serveFor(InMemoryStubMappings.java:76)\r\n    \tat com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:164)\r\n    \tat com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:50)\r\n    \tat com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:44)\r\n    \tat com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:108)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:543)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:481)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)\r\n    \tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:666)\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:531)\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\nAt first glance it can be something jetty-related, but I haven&#39;t found anything online about it. It also seems strange to me, becauese I am only *mocking* a service. Can you find some useful solution/workaround?","title":"MTOM with WireMock","body":"<p>I am trying to use soap MTOM protocol with WireMock, attaching one file to SOAP request directed to mocked service, but it gives me some problems...</p>\n<pre><code>    @Test\n    public void AfpToPdf() throws Exception {\n        stubWireMock(FOLDER_PATH, &quot;convertAfpToPdf&quot;, 200, RECUPERA_DOCUMENTO_FOLDER_RESPONSE_OK);\n        ConvertAfpToPdfType request = createDocumentoAFPRequest();\n\n        Testata testata = new Testata();\n\n        ConvertAfpToPdfResponseType response = getPortNew().convertAfpToPdf(request, testata, new Holder&lt;&gt;());\n\n        assertNotNull(response);\n    }\n\n\n    private ConvertAfpToPdfType createDocumentoAFPRequest() {\n        ConvertAfpToPdfType request = new ConvertAfpToPdfType();\n        ListaFileAfpType listaFileAfpType = new ListaFileAfpType();\n        DataHandler dataHandlerAFP = new DataHandler(new FileDataSource(&quot;FOLD14.R00407A.NT01.D130606.AFP&quot;));\n        listaFileAfpType.setDocumentFileAfp(dataHandlerAFP);\n        request.setListaFileAfp(listaFileAfpType);\n\n        return request;\n\n    }\n\nprotected void stubWireMock(String urlPath, String requestContained, int httpStatus, String bodyFileName) {\n        wireMockRule.stubFor(post(urlPathEqualTo((BASE_URL_CONVERSIONE)))\n                .withRequestBody(containing(&quot;conversioneAfp&quot;))\n                .willReturn(\n                        aResponse()\n                                .withStatus(200)\n                                .withHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n                                .withBody(&quot;prova&quot;)));\n    }\n</code></pre>\n<p>The error</p>\n<pre><code>java.io.IOException: Buffer size exceeded: no line terminator\n    at org.eclipse.jetty.util.ReadLineInputStream.readLine(ReadLineInputStream.java:68)\n    at org.eclipse.jetty.util.MultiPartInputStreamParser.parse(MultiPartInputStreamParser.java:619)\n    at org.eclipse.jetty.util.MultiPartInputStreamParser.getParts(MultiPartInputStreamParser.java:491)\n    at org.eclipse.jetty.server.Request.getParts(Request.java:2374)\n    at org.eclipse.jetty.server.Request.getParts(Request.java:2326)\n    at com.github.tomakehurst.wiremock.servlet.WireMockHttpServletRequestAdapter.safelyGetRequestParts(WireMockHttpServletRequestAdapter.java:295)\n    at com.github.tomakehurst.wiremock.servlet.WireMockHttpServletRequestAdapter.getParts(WireMockHttpServletRequestAdapter.java:279)\n    at com.github.tomakehurst.wiremock.verification.LoggedRequest.createFrom(LoggedRequest.java:70)\n    at com.github.tomakehurst.wiremock.stubbing.InMemoryStubMappings.serveFor(InMemoryStubMappings.java:76)\n    at com.github.tomakehurst.wiremock.core.WireMockApp.serveStubFor(WireMockApp.java:164)\n    at com.github.tomakehurst.wiremock.http.StubRequestHandler.handleRequest(StubRequestHandler.java:50)\n    at com.github.tomakehurst.wiremock.http.AbstractRequestHandler.handle(AbstractRequestHandler.java:44)\n    at com.github.tomakehurst.wiremock.servlet.WireMockHandlerDispatchingServlet.service(WireMockHandlerDispatchingServlet.java:108)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:543)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:481)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)\n    at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:666)\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n    at org.eclipse.jetty.server.Server.handle(Server.java:531)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>At first glance it can be something jetty-related, but I haven't found anything online about it. It also seems strange to me, becauese I am only <em>mocking</em> a service. Can you find some useful solution/workaround?</p>\n"},{"tags":["java","mysql","swing","jtable","defaulttablemodel"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1654970185,"post_id":72586640,"comment_id":128221133,"body_markdown":"You mean that the ID column data is not showing?","body":"You mean that the ID column data is not showing?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655001269,"creation_date":1654974255,"answer_id":72587158,"question_id":72586640,"body_markdown":"&gt; but the data present at index 1 are not shown\r\n\r\n    if (rs.next()) {\r\n        while (rs.next()) {\r\n            Object o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), ...\r\n            tm.addRow(o);\r\n        }\r\n\r\nWhat do you think the `rs.next()` statement is doing?\r\n\r\nThe `next()` method points to the next row of data in the `ResultSet`.\r\n\r\nYou are skipping the first row because the if statement just point to the first row of data, but does nothing with it.\r\n\r\nGet rid of the if statement, all you need is the while loop to access all the rows in the `ResultSet`.","title":"Jtable data retrieval problem in swing java","body":"<blockquote>\n<p>but the data present at index 1 are not shown</p>\n</blockquote>\n<pre><code>if (rs.next()) {\n    while (rs.next()) {\n        Object o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), ...\n        tm.addRow(o);\n    }\n</code></pre>\n<p>What do you think the <code>rs.next()</code> statement is doing?</p>\n<p>The <code>next()</code> method points to the next row of data in the <code>ResultSet</code>.</p>\n<p>You are skipping the first row because the if statement just point to the first row of data, but does nothing with it.</p>\n<p>Get rid of the if statement, all you need is the while loop to access all the rows in the <code>ResultSet</code>.</p>\n"},{"tags":[],"owner":{"account_id":18841266,"reputation":23,"user_id":13742635,"display_name":"dds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655041016,"creation_date":1655040957,"answer_id":72592678,"question_id":72586640,"body_markdown":"Better to do &quot;no data&quot; message check first and traverse through data otherwise.\r\nSomething like this.\r\n```\r\nif(!resultSet.next()){\r\n    JOptionPane.showMessageDialog(this, &quot;No data found&quot;);\r\n} \r\nelse{\r\n    do{\r\n\t\tObject o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;mobile&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;address&quot;), rs.getString(&quot;date_time&quot;)};\r\n\t\ttm.addRow(o);\r\n    }while (resultSet.next());\r\n}\r\n```","title":"Jtable data retrieval problem in swing java","body":"<p>Better to do &quot;no data&quot; message check first and traverse through data otherwise.\nSomething like this.</p>\n<pre><code>if(!resultSet.next()){\n    JOptionPane.showMessageDialog(this, &quot;No data found&quot;);\n} \nelse{\n    do{\n        Object o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;mobile&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;address&quot;), rs.getString(&quot;date_time&quot;)};\n        tm.addRow(o);\n    }while (resultSet.next());\n}\n</code></pre>\n"}],"owner":{"account_id":25469395,"reputation":1,"user_id":19267861,"display_name":"Madhurmoms"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655050709,"answer_count":2,"score":-2,"last_activity_date":1655041016,"creation_date":1654969586,"question_id":72586640,"body_markdown":"I want to retrieve data in jtable from MySQL database everything is right but the data present at index 1 are not shown plz loo image 1 and 2.\r\n\r\njtable img 1:\r\n\r\n[![https://i.stack.imgur.com/PpXeo.png][1]][1]\r\n\r\nMySQL table img2:\r\n\r\n[![https://i.stack.imgur.com/20t82.png][2]][2]\r\n\r\n\r\n     public void view_librarian() throws SQLException {\r\n            prepareStatement = connection.prepareStatement(&quot;select * from librarian&quot;);\r\n            ResultSet rs = prepareStatement.executeQuery();\r\n            DefaultTableModel tm = (DefaultTableModel) table.getModel();\r\n            table.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\r\n            table.setRowHeight(35);\r\n            table.getTableHeader().setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\r\n            tm.setRowCount(0);\r\n            if (rs.next()) {\r\n                while (rs.next()) {\r\n                    Object o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;mobile&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;address&quot;), rs.getString(&quot;date_time&quot;)};\r\n                    tm.addRow(o);\r\n                }\r\n            } else {\r\n                JOptionPane.showMessageDialog(this, &quot;No data found&quot;);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PpXeo.png\r\n  [2]: https://i.stack.imgur.com/20t82.png","title":"Jtable data retrieval problem in swing java","body":"<p>I want to retrieve data in jtable from MySQL database everything is right but the data present at index 1 are not shown plz loo image 1 and 2.</p>\n<p>jtable img 1:</p>\n<p><a href=\"https://i.stack.imgur.com/PpXeo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PpXeo.png\" alt=\"https://i.stack.imgur.com/PpXeo.png\" /></a></p>\n<p>MySQL table img2:</p>\n<p><a href=\"https://i.stack.imgur.com/20t82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20t82.png\" alt=\"https://i.stack.imgur.com/20t82.png\" /></a></p>\n<pre><code> public void view_librarian() throws SQLException {\n        prepareStatement = connection.prepareStatement(&quot;select * from librarian&quot;);\n        ResultSet rs = prepareStatement.executeQuery();\n        DefaultTableModel tm = (DefaultTableModel) table.getModel();\n        table.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\n        table.setRowHeight(35);\n        table.getTableHeader().setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));\n        tm.setRowCount(0);\n        if (rs.next()) {\n            while (rs.next()) {\n                Object o[] = {rs.getString(&quot;username&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;mobile&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;address&quot;), rs.getString(&quot;date_time&quot;)};\n                tm.addRow(o);\n            }\n        } else {\n            JOptionPane.showMessageDialog(this, &quot;No data found&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","jsp","servlets","getattribute"],"answers":[{"tags":[],"owner":{"account_id":18659927,"reputation":1,"user_id":13601382,"display_name":"rambiyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655040985,"creation_date":1655040985,"answer_id":72592682,"question_id":72591998,"body_markdown":"**Got the solution for this error:** \r\n\r\nIn this case, I did not map my first java servlet file  Request_Dispatcher_example.java in an xml file.\r\n\r\nBut now after mapping it in xml it is working fine and giving the proper results.\r\n\r\n**Specifically :  we need to map our all the servlet files to xml to overcome this issue**\r\n\r\nThank you!","title":"Java getAttribute() method error in the servlet","body":"<p><strong>Got the solution for this error:</strong></p>\n<p>In this case, I did not map my first java servlet file  Request_Dispatcher_example.java in an xml file.</p>\n<p>But now after mapping it in xml it is working fine and giving the proper results.</p>\n<p><strong>Specifically :  we need to map our all the servlet files to xml to overcome this issue</strong></p>\n<p>Thank you!</p>\n"}],"owner":{"account_id":18659927,"reputation":1,"user_id":13601382,"display_name":"rambiyani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1276,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655040985,"creation_date":1655035221,"question_id":72591998,"body_markdown":"I am Facing an issue while trying to get **sum** element in one servlet from the other by using Request Dispatcher. \r\n\r\nBut the getAttribute() method in S2.java is giving error while accessing the sum from Request_Dispatcher_example.java.\r\n\r\nI have tried this using HttpSession as well but the same error is occurred there\r\n\r\n  \r\n\r\n      **Error:**\r\n        \r\n        Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\r\n    \r\n   \r\n \r\n\r\n&gt; Type Exception Report\r\n&gt;      Message Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of\r\n&gt; &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\r\n&gt;              Exception java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of\r\n&gt; &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\r\n&gt;         com.servlet.S2.doGet(S2.java:22)\r\n&gt;             \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n&gt;             \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n&gt;             \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n**Code**\r\n\r\n**1. Request_Dispatcher_example.java**\r\n\r\n    public class Request_Dispatcher_example extends HttpServlet\r\n    \r\n    {\r\n    \tpublic void processRequest(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException \r\n    \t{\r\n    \t\tString i = req.getParameter(&quot;n1&quot;);\r\n    \t\tString j = req.getParameter(&quot;n2&quot;);\r\n    \t\t\r\n    \t\tint nn1= Integer.parseInt(i);\r\n    \t\tint nn2 = Integer.parseInt(j);\r\n    \t\t\r\n    \t\tint s = nn1 + nn2;\r\n    \t\t\r\n    \t\treq.setAttribute(&quot;sum&quot;, s);\r\n    \t\t\r\n    \t\t\r\n    \t\tRequestDispatcher rd = req.getRequestDispatcher(&quot;s2&quot;);\r\n    \t\trd.forward(req, res);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**2. S2.java**\r\n\r\n    public class S2 extends HttpServlet \r\n    {\r\n    \tpublic void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException\r\n    \t{\r\n    \t\t\r\n    \t\t\r\n    \t\tint nn1  = Integer.parseInt(req.getParameter(&quot;n1&quot;));\r\n    \t\tint nn2  = Integer.parseInt(req.getParameter(&quot;n2&quot;));\r\n    \r\n    \t\tint p = nn1*nn2;\r\n    \t\tint sum = (Integer) req.getAttribute(&quot;sum&quot;);\r\n    \t\t\r\n    \t\tPrintWriter out = res.getWriter();\r\n    \t\tout.println(&quot;Sum : &quot;+sum);\r\n    \t\tout.println(&quot;Product : &quot;+p);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java getAttribute() method error in the servlet","body":"<p>I am Facing an issue while trying to get <strong>sum</strong> element in one servlet from the other by using Request Dispatcher.</p>\n<p>But the getAttribute() method in S2.java is giving error while accessing the sum from Request_Dispatcher_example.java.</p>\n<p>I have tried this using HttpSession as well but the same error is occurred there</p>\n<pre><code>  **Error:**\n    \n    Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\n</code></pre>\n<blockquote>\n<p>Type Exception Report\nMessage Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of\n&quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\nException java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of\n&quot;javax.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null\ncom.servlet.S2.doGet(S2.java:22)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<p><strong>1. Request_Dispatcher_example.java</strong></p>\n<pre><code>public class Request_Dispatcher_example extends HttpServlet\n\n{\n    public void processRequest(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException \n    {\n        String i = req.getParameter(&quot;n1&quot;);\n        String j = req.getParameter(&quot;n2&quot;);\n        \n        int nn1= Integer.parseInt(i);\n        int nn2 = Integer.parseInt(j);\n        \n        int s = nn1 + nn2;\n        \n        req.setAttribute(&quot;sum&quot;, s);\n        \n        \n        RequestDispatcher rd = req.getRequestDispatcher(&quot;s2&quot;);\n        rd.forward(req, res);\n        \n    }\n}\n</code></pre>\n<p><strong>2. S2.java</strong></p>\n<pre><code>public class S2 extends HttpServlet \n{\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException\n    {\n        \n        \n        int nn1  = Integer.parseInt(req.getParameter(&quot;n1&quot;));\n        int nn2  = Integer.parseInt(req.getParameter(&quot;n2&quot;));\n\n        int p = nn1*nn2;\n        int sum = (Integer) req.getAttribute(&quot;sum&quot;);\n        \n        PrintWriter out = res.getWriter();\n        out.println(&quot;Sum : &quot;+sum);\n        out.println(&quot;Product : &quot;+p);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","json","report"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654693682,"creation_date":1654693682,"answer_id":72546267,"question_id":72546088,"body_markdown":"It sounds like your input is JSON. You did not specify an output format. But similar as in HTML you could place tabular data into JSON as well. Assuming that is the case, all you need is a JSON parser/serializer and inbetween some Java code to adapt one format for the other.\r\n\r\nTo transfer one XML data structure into another XML data structure there are nice tools like XSLT. Some of the implementations can also be used for JSON documents. See https://stackoverflow.com/a/49011455/4222206\r\n\r\nWith the above assumption your code would perform these steps:\r\n\r\n1. Parse input JSON\r\n2. Run XSLT for JSON\r\n3. Serialize the obtained output","title":"Create a report from Java using JSON file","body":"<p>It sounds like your input is JSON. You did not specify an output format. But similar as in HTML you could place tabular data into JSON as well. Assuming that is the case, all you need is a JSON parser/serializer and inbetween some Java code to adapt one format for the other.</p>\n<p>To transfer one XML data structure into another XML data structure there are nice tools like XSLT. Some of the implementations can also be used for JSON documents. See <a href=\"https://stackoverflow.com/a/49011455/4222206\">https://stackoverflow.com/a/49011455/4222206</a></p>\n<p>With the above assumption your code would perform these steps:</p>\n<ol>\n<li>Parse input JSON</li>\n<li>Run XSLT for JSON</li>\n<li>Serialize the obtained output</li>\n</ol>\n"}],"owner":{"account_id":25279878,"reputation":41,"user_id":19107897,"display_name":"Singam Chetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":72546267,"answer_count":1,"score":1,"last_activity_date":1655040516,"creation_date":1654692972,"question_id":72546088,"body_markdown":"Want to create a tabular report from Java using JSON file. I have an 861 kb Json report with me. \r\n\r\nKindly suggest me the approach need to be followed.\r\n","title":"Create a report from Java using JSON file","body":"<p>Want to create a tabular report from Java using JSON file. I have an 861 kb Json report with me.</p>\n<p>Kindly suggest me the approach need to be followed.</p>\n"},{"tags":["java","android","audio","okhttp","aws-api-gateway"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619427058,"post_id":67262855,"comment_id":118892465,"body_markdown":"The downloaded file is contained in `byte[] rawData = response.body().bytes();` So its size would be `rawData.length`. Is that zero? If not then how many bytes?","body":"The downloaded file is contained in <code>byte[] rawData = response.body().bytes();</code> So its size would be <code>rawData.length</code>. Is that zero? If not then how many bytes?"},{"owner":{"account_id":16091608,"reputation":167,"user_id":11614890,"display_name":"Umama Khalid"},"score":0,"creation_date":1619427784,"post_id":67262855,"comment_id":118892768,"body_markdown":"rawData.length()  shows 660B. when i convert it to .wav then it become 704B. but when I apply solution 4 then the size remain 0B. the original size of file is 61.92KB","body":"rawData.length()  shows 660B. when i convert it to .wav then it become 704B. but when I apply solution 4 then the size remain 0B. the original size of file is 61.92KB"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619429878,"post_id":67262855,"comment_id":118893684,"body_markdown":"`rawData.length() shows 660B` Wel... where is your comment on these few bytes? It should be 61.92KB but how many bytes is 61.92KB ?","body":"<code>rawData.length() shows 660B</code> Wel... where is your comment on these few bytes? It should be 61.92KB but how many bytes is 61.92KB ?"},{"owner":{"account_id":16091608,"reputation":167,"user_id":11614890,"display_name":"Umama Khalid"},"score":0,"creation_date":1619431119,"post_id":67262855,"comment_id":118894251,"body_markdown":"61920B. With 660B we can not play the audio. Which means files is missing bytes. I am so confused. Why it is missing those bytes and how can I get them?","body":"61920B. With 660B we can not play the audio. Which means files is missing bytes. I am so confused. Why it is missing those bytes and how can I get them?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1619434565,"post_id":67262855,"comment_id":118895777,"body_markdown":"https://stackoverflow.com/a/29012988/115145 is endorsed by OkHttp&#39;s developers.","body":"<a href=\"https://stackoverflow.com/a/29012988/115145\">stackoverflow.com/a/29012988/115145</a> is endorsed by OkHttp&#39;s developers."},{"owner":{"account_id":16091608,"reputation":167,"user_id":11614890,"display_name":"Umama Khalid"},"score":0,"creation_date":1619504668,"post_id":67262855,"comment_id":118918742,"body_markdown":"I also tried this solution but still bytes are 660. how to get all bytes? is there any problem in my code? or in android version?","body":"I also tried this solution but still bytes are 660. how to get all bytes? is there any problem in my code? or in android version?"},{"owner":{"account_id":18694857,"reputation":178,"user_id":13628417,"display_name":"user13628417"},"score":0,"creation_date":1646904536,"post_id":67262855,"comment_id":126240483,"body_markdown":"Facing something similar. Did you figure our the solution?","body":"Facing something similar. Did you figure our the solution?"},{"owner":{"account_id":16091608,"reputation":167,"user_id":11614890,"display_name":"Umama Khalid"},"score":0,"creation_date":1652180110,"post_id":67262855,"comment_id":127538660,"body_markdown":"Yes I found the solution. Will share it.","body":"Yes I found the solution. Will share it."}],"owner":{"account_id":16091608,"reputation":167,"user_id":11614890,"display_name":"Umama Khalid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655040488,"creation_date":1619423920,"question_id":67262855,"body_markdown":"I am trying to download an audio .wav file from AWS using OkHTTP.\r\n\r\n**Problem**\r\n\r\nAPI is executing. It is giving no error, but the downloaded file size is 660B while it should be 61.92KB. When I try to download the audio from my browser using same API link, it is downloaded, however using android mobile the audio size is in bits and full audio is not downloaded.\r\n\r\n**Below is code for Downloading file**\r\n\r\n    Request request = new Request.Builder()\r\n                        .url(audio_url)\r\n                        .build();\r\n\r\n    AwsInterceptor awsInterceptor = new AwsInterceptor(new AWSCredentialsProvider() {\r\n       @Override\r\n       public AWSCredentials getCredentials() {\r\n         return new BasicAWSCredentials(access_key_id, secret_access_key);\r\n       }\r\n\r\n       @Override\r\n       public void refresh() {\r\n\r\n       }\r\n    }, API_GATEWAY_SERVICE_NAME, region);\r\n\r\n\r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n                        .addInterceptor(awsInterceptor)\r\n                        .build();\r\n\r\n    client.newCall(request).enqueue(new Callback() {\r\n        @Override\r\n        public void onFailure(Call call, IOException e) {\r\n            \r\n              String mMessage = e.getMessage();\r\n              Log.e(&quot;failure Response&quot;, mMessage);\r\n              call.cancel();\r\n\r\n       }\r\n\r\n         @Override\r\n         public void onResponse(Call call, Response response) throws IOException {\r\n\r\n             byte[] rawData = response.body().bytes();\r\n             File recordingFile = new File(dir_path, file_name+&quot;.wav&quot;);\r\n             bytesToWav(recordingFile, rawData);\r\n\r\n             /*try (BufferedSource bufferedSource = response.body().source()) {\r\n                  BufferedSink bufferedSink = Okio.buffer(Okio.sink(recordingFile ));\r\n                  bufferedSink.writeAll(bufferedSource);\r\n                  bufferedSink.close();\r\n            }*/\r\n\r\n         }\r\n    });\r\n\r\n\r\n**Solutions I tried**\r\n\r\nI tried multiple solutions like downloading using okio but didn&#39;t work.\r\n\r\nI tried [stackoverflow solution1][1], [solution2][2], [solution3][3], [solution4][4] but nothing worked for me. I cant figure out what the problem is.\r\n\r\nAlso if there is any other way to download .wav file please let me know.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36549213/okhttp-not-downloading-the-file\r\n  [2]: https://stackoverflow.com/questions/62625193/downloading-mp3-file-with-okhttp-produces-corrupt-file\r\n  [3]: https://stackoverflow.com/questions/41610209/downloading-corrupted-files-with-okhttp\r\n  [4]: https://gist.github.com/suweya/cc73abedcf8f9378f8a7179178106944#gistcomment-2181969","title":"OkHTTP downloaded file is empty","body":"<p>I am trying to download an audio .wav file from AWS using OkHTTP.</p>\n<p><strong>Problem</strong></p>\n<p>API is executing. It is giving no error, but the downloaded file size is 660B while it should be 61.92KB. When I try to download the audio from my browser using same API link, it is downloaded, however using android mobile the audio size is in bits and full audio is not downloaded.</p>\n<p><strong>Below is code for Downloading file</strong></p>\n<pre><code>Request request = new Request.Builder()\n                    .url(audio_url)\n                    .build();\n\nAwsInterceptor awsInterceptor = new AwsInterceptor(new AWSCredentialsProvider() {\n   @Override\n   public AWSCredentials getCredentials() {\n     return new BasicAWSCredentials(access_key_id, secret_access_key);\n   }\n\n   @Override\n   public void refresh() {\n\n   }\n}, API_GATEWAY_SERVICE_NAME, region);\n\n\nOkHttpClient client = new OkHttpClient.Builder()\n                    .addInterceptor(awsInterceptor)\n                    .build();\n\nclient.newCall(request).enqueue(new Callback() {\n    @Override\n    public void onFailure(Call call, IOException e) {\n        \n          String mMessage = e.getMessage();\n          Log.e(&quot;failure Response&quot;, mMessage);\n          call.cancel();\n\n   }\n\n     @Override\n     public void onResponse(Call call, Response response) throws IOException {\n\n         byte[] rawData = response.body().bytes();\n         File recordingFile = new File(dir_path, file_name+&quot;.wav&quot;);\n         bytesToWav(recordingFile, rawData);\n\n         /*try (BufferedSource bufferedSource = response.body().source()) {\n              BufferedSink bufferedSink = Okio.buffer(Okio.sink(recordingFile ));\n              bufferedSink.writeAll(bufferedSource);\n              bufferedSink.close();\n        }*/\n\n     }\n});\n</code></pre>\n<p><strong>Solutions I tried</strong></p>\n<p>I tried multiple solutions like downloading using okio but didn't work.</p>\n<p>I tried <a href=\"https://stackoverflow.com/questions/36549213/okhttp-not-downloading-the-file\">stackoverflow solution1</a>, <a href=\"https://stackoverflow.com/questions/62625193/downloading-mp3-file-with-okhttp-produces-corrupt-file\">solution2</a>, <a href=\"https://stackoverflow.com/questions/41610209/downloading-corrupted-files-with-okhttp\">solution3</a>, <a href=\"https://gist.github.com/suweya/cc73abedcf8f9378f8a7179178106944#gistcomment-2181969\" rel=\"nofollow noreferrer\">solution4</a> but nothing worked for me. I cant figure out what the problem is.</p>\n<p>Also if there is any other way to download .wav file please let me know.</p>\n"},{"tags":["java","spring","http","request","streaming"],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655039455,"creation_date":1473156174,"answer_id":39346194,"question_id":39345017,"body_markdown":"I&#39;m not sure there is a solution for mapping chunked request with spring what i&#39;ll do is something like this:\r\n\r\n  \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @Controller\r\n    public class ChunkController {\r\n    \r\n    private static final int EOS = -1;\r\n\r\n        @RequestMapping(method = RequestMethod.POST)\r\n        public ResponseEntity&lt;Void&gt; upload(final HttpServletRequest request, @RequestParam final int chunkSize) {\r\n            try (InputStream in = request.getInputStream()) {\r\n                byte[] readBuffer = new byte[chunkSize];\r\n                int nbByteRead = 0;\r\n                int remainingByteToChunk = chunkSize;\r\n                while ((nbByteRead = in.read(readBuffer, chunkSize - remainingByteToChunk, remainingByteToChunk)) != EOS) {\r\n                    remainingByteToChunk -= nbByteRead;\r\n                    if (remainingByteToChunk == 0) {\r\n                        byte[] chunk = Arrays.copyOf(readBuffer, readBuffer.length);\r\n                        remainingByteToChunk = readBuffer.length;\r\n                        // do something with the chunk.\r\n                    }\r\n                }\r\n                if (remainingByteToChunk != chunkSize) {\r\n                    byte[] lastChunk = Arrays.copyOf(readBuffer, readBuffer.length - remainingByteToChunk);\r\n                    //  do something with the last chunk\r\n                }\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n            } catch (IOException e) {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    }\r\nor you can define a constant for the size of the chunk.\r\n\r\nYou can also ignore the size the chunk and just handle the result of in.read until the end of stream.\r\n\r\nReading like this you will need to parse data to find actual chunk sent by the client. A typical body will look like:\r\n\r\n```\r\n7\\r\\n\r\nMozilla\\r\\n\r\n9\\r\\n\r\nDeveloper\\r\\n\r\n7\\r\\n\r\nNetwork\\r\\n\r\n0\\r\\n\r\n\\r\\n\r\n```\r\n\r\nWhat you can do is create custom InputStream like this (adapted from Apache HttpClient ChunkedInputStream)\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class ChunkedInputStream extends InputStream {\r\n    public static final byte[] EMPTY = new byte[0];\r\n    private final Charset charset;\r\n    private InputStream in;\r\n    private int chunkSize;\r\n    private int pos;\r\n    private boolean bof = true;\r\n    private boolean eof = false;\r\n    private boolean closed = false;\r\n\r\n    public ChunkedInputStream(final InputStream in, Charset charset) throws IOException {\r\n\r\n        if (in == null) {\r\n            throw new IllegalArgumentException(&quot;InputStream parameter may not be null&quot;);\r\n        }\r\n        this.in = in;\r\n        this.pos = 0;\r\n\r\n        this.charset = Objects.requireNonNullElse(charset, StandardCharsets.US_ASCII);\r\n    }\r\n\r\n\r\n    public int read() throws IOException {\r\n\r\n        if (closed) {\r\n            throw new IOException(&quot;Attempted read from closed stream.&quot;);\r\n        }\r\n        if (eof) {\r\n            return -1;\r\n        }\r\n        if (pos &gt;= chunkSize) {\r\n            nextChunk();\r\n            if (eof) {\r\n                return -1;\r\n            }\r\n        }\r\n        pos++;\r\n        return in.read();\r\n    }\r\n\r\n    public int read(byte[] b, int off, int len) throws IOException {\r\n\r\n        if (closed) {\r\n            throw new IOException(&quot;Attempted read from closed stream.&quot;);\r\n        }\r\n\r\n        if (eof) {\r\n            return -1;\r\n        }\r\n        if (pos &gt;= chunkSize) {\r\n            nextChunk();\r\n            if (eof) {\r\n                return -1;\r\n            }\r\n        }\r\n        len = Math.min(len, chunkSize - pos);\r\n        int count = in.read(b, off, len);\r\n        pos += count;\r\n        return count;\r\n    }\r\n\r\n    public int read(byte[] b) throws IOException {\r\n        return read(b, 0, b.length);\r\n    }\r\n\r\n    public byte[] readChunk() throws IOException {\r\n        if (eof) {\r\n            return EMPTY;\r\n        }\r\n        if (pos &gt;= chunkSize) {\r\n            nextChunk();\r\n            if (eof) {\r\n                return EMPTY;\r\n            }\r\n        }\r\n        byte[] chunk = new byte[chunkSize];\r\n        int nbByteRead = 0;\r\n        int remainingByteToChunk = chunkSize;\r\n        while (remainingByteToChunk &gt; 0 &amp;&amp; !eof) {\r\n            nbByteRead = read(chunk, chunkSize - remainingByteToChunk, remainingByteToChunk);\r\n            remainingByteToChunk -= nbByteRead;\r\n        }\r\n\r\n        if (remainingByteToChunk == 0) {\r\n            return chunk;\r\n        } else {\r\n            return Arrays.copyOf(chunk, chunk.length - remainingByteToChunk);\r\n        }\r\n    }\r\n\r\n    private void readCRLF() throws IOException {\r\n        int cr = in.read();\r\n        int lf = in.read();\r\n        if ((cr != &#39;\\r&#39;) || (lf != &#39;\\n&#39;)) {\r\n            throw new IOException(\r\n                    &quot;CRLF expected at end of chunk: &quot; + cr + &quot;/&quot; + lf);\r\n        }\r\n    }\r\n\r\n    private void nextChunk() throws IOException {\r\n        if (!bof) {\r\n            readCRLF();\r\n        }\r\n        chunkSize = getChunkSizeFromInputStream(in);\r\n        bof = false;\r\n        pos = 0;\r\n        if (chunkSize == 0) {\r\n            eof = true;\r\n        }\r\n    }\r\n\r\n    private int getChunkSizeFromInputStream(final InputStream in)\r\n            throws IOException {\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        // States: 0=normal, 1=\\r was scanned, 2=inside quoted string, -1=end\r\n        int state = 0;\r\n        while (state != -1) {\r\n            int b = in.read();\r\n            if (b == -1) {\r\n                throw new IOException(&quot;chunked stream ended unexpectedly&quot;);\r\n            }\r\n            switch (state) {\r\n                case 0:\r\n                    switch (b) {\r\n                        case &#39;\\r&#39;:\r\n                            state = 1;\r\n                            break;\r\n                        case &#39;\\&quot;&#39;:\r\n                            state = 2;\r\n                            /* fall through */\r\n                        default:\r\n                            baos.write(b);\r\n                    }\r\n                    break;\r\n\r\n                case 1:\r\n                    if (b == &#39;\\n&#39;) {\r\n                        state = -1;\r\n                    } else {\r\n                        // this was not CRLF\r\n                        throw new IOException(&quot;Protocol violation: Unexpected&quot;\r\n                                + &quot; single newline character in chunk size&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 2:\r\n                    switch (b) {\r\n                        case &#39;\\\\&#39;:\r\n                            b = in.read();\r\n                            baos.write(b);\r\n                            break;\r\n                        case &#39;\\&quot;&#39;:\r\n                            state = 0;\r\n                            /* fall through */\r\n                        default:\r\n                            baos.write(b);\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw new RuntimeException(&quot;assertion failed&quot;);\r\n            }\r\n        }\r\n\r\n        //parse data\r\n        String dataString = baos.toString(charset);\r\n        int separator = dataString.indexOf(&#39;;&#39;);\r\n        dataString = (separator &gt; 0)\r\n                ? dataString.substring(0, separator).trim()\r\n                : dataString.trim();\r\n\r\n        int result;\r\n        try {\r\n            result = Integer.parseInt(dataString.trim(), 16);\r\n        } catch (NumberFormatException e) {\r\n            throw new IOException(&quot;Bad chunk size: &quot; + dataString);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        if (!closed) {\r\n            try {\r\n                if (!eof) {\r\n                    exhaustInputStream(this);\r\n                }\r\n            } finally {\r\n                eof = true;\r\n                closed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    static void exhaustInputStream(InputStream inStream) throws IOException {\r\n        // read and discard the remainder of the message\r\n        byte[] buffer = new byte[1024];\r\n        while (inStream.read(buffer) &gt;= 0) {\r\n            ;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn the controller you can keep the same controller code but wrap the `request.getInputStream()` with this but you still won&#39;t get the actual client chunk. That&#39;s why I add the `readChunk()` method\r\n\r\n```java\r\n@PostMapping(&quot;/upload&quot;)\r\npublic ResponseEntity&lt;Void&gt; upload(final HttpServletRequest request, @RequestHeader HttpHeaders headers) {\r\n    Charset charset = StandardCharsets.US_ASCII;\r\n    if (headers.getContentType() != null) {\r\n        charset = Objects.requireNonNullElse(headers.getContentType().getCharset(), charset);\r\n    }\r\n    try (ChunkedInputStream in = new ChunkedInputStream(request.getInputStream(), charset)) {\r\n        byte[] chunk;\r\n        while ((chunk = in.readChunk()).length &gt; 0) {\r\n            // do something with the chunk.\r\n            System.out.println(new String(chunk, Objects.requireNonNullElse(charset, StandardCharsets.US_ASCII)));\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    } catch (IOException e) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n}\r\n```","title":"Java Spring framework, start consuming HTTP request body before request has ended","body":"<p>I'm not sure there is a solution for mapping chunked request with spring what i'll do is something like this:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Arrays;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class ChunkController {\n\nprivate static final int EOS = -1;\n\n    @RequestMapping(method = RequestMethod.POST)\n    public ResponseEntity&lt;Void&gt; upload(final HttpServletRequest request, @RequestParam final int chunkSize) {\n        try (InputStream in = request.getInputStream()) {\n            byte[] readBuffer = new byte[chunkSize];\n            int nbByteRead = 0;\n            int remainingByteToChunk = chunkSize;\n            while ((nbByteRead = in.read(readBuffer, chunkSize - remainingByteToChunk, remainingByteToChunk)) != EOS) {\n                remainingByteToChunk -= nbByteRead;\n                if (remainingByteToChunk == 0) {\n                    byte[] chunk = Arrays.copyOf(readBuffer, readBuffer.length);\n                    remainingByteToChunk = readBuffer.length;\n                    // do something with the chunk.\n                }\n            }\n            if (remainingByteToChunk != chunkSize) {\n                byte[] lastChunk = Arrays.copyOf(readBuffer, readBuffer.length - remainingByteToChunk);\n                //  do something with the last chunk\n            }\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch (IOException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>or you can define a constant for the size of the chunk.</p>\n<p>You can also ignore the size the chunk and just handle the result of in.read until the end of stream.</p>\n<p>Reading like this you will need to parse data to find actual chunk sent by the client. A typical body will look like:</p>\n<pre><code>7\\r\\n\nMozilla\\r\\n\n9\\r\\n\nDeveloper\\r\\n\n7\\r\\n\nNetwork\\r\\n\n0\\r\\n\n\\r\\n\n</code></pre>\n<p>What you can do is create custom InputStream like this (adapted from Apache HttpClient ChunkedInputStream)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.Objects;\n\n\npublic class ChunkedInputStream extends InputStream {\n    public static final byte[] EMPTY = new byte[0];\n    private final Charset charset;\n    private InputStream in;\n    private int chunkSize;\n    private int pos;\n    private boolean bof = true;\n    private boolean eof = false;\n    private boolean closed = false;\n\n    public ChunkedInputStream(final InputStream in, Charset charset) throws IOException {\n\n        if (in == null) {\n            throw new IllegalArgumentException(&quot;InputStream parameter may not be null&quot;);\n        }\n        this.in = in;\n        this.pos = 0;\n\n        this.charset = Objects.requireNonNullElse(charset, StandardCharsets.US_ASCII);\n    }\n\n\n    public int read() throws IOException {\n\n        if (closed) {\n            throw new IOException(&quot;Attempted read from closed stream.&quot;);\n        }\n        if (eof) {\n            return -1;\n        }\n        if (pos &gt;= chunkSize) {\n            nextChunk();\n            if (eof) {\n                return -1;\n            }\n        }\n        pos++;\n        return in.read();\n    }\n\n    public int read(byte[] b, int off, int len) throws IOException {\n\n        if (closed) {\n            throw new IOException(&quot;Attempted read from closed stream.&quot;);\n        }\n\n        if (eof) {\n            return -1;\n        }\n        if (pos &gt;= chunkSize) {\n            nextChunk();\n            if (eof) {\n                return -1;\n            }\n        }\n        len = Math.min(len, chunkSize - pos);\n        int count = in.read(b, off, len);\n        pos += count;\n        return count;\n    }\n\n    public int read(byte[] b) throws IOException {\n        return read(b, 0, b.length);\n    }\n\n    public byte[] readChunk() throws IOException {\n        if (eof) {\n            return EMPTY;\n        }\n        if (pos &gt;= chunkSize) {\n            nextChunk();\n            if (eof) {\n                return EMPTY;\n            }\n        }\n        byte[] chunk = new byte[chunkSize];\n        int nbByteRead = 0;\n        int remainingByteToChunk = chunkSize;\n        while (remainingByteToChunk &gt; 0 &amp;&amp; !eof) {\n            nbByteRead = read(chunk, chunkSize - remainingByteToChunk, remainingByteToChunk);\n            remainingByteToChunk -= nbByteRead;\n        }\n\n        if (remainingByteToChunk == 0) {\n            return chunk;\n        } else {\n            return Arrays.copyOf(chunk, chunk.length - remainingByteToChunk);\n        }\n    }\n\n    private void readCRLF() throws IOException {\n        int cr = in.read();\n        int lf = in.read();\n        if ((cr != '\\r') || (lf != '\\n')) {\n            throw new IOException(\n                    &quot;CRLF expected at end of chunk: &quot; + cr + &quot;/&quot; + lf);\n        }\n    }\n\n    private void nextChunk() throws IOException {\n        if (!bof) {\n            readCRLF();\n        }\n        chunkSize = getChunkSizeFromInputStream(in);\n        bof = false;\n        pos = 0;\n        if (chunkSize == 0) {\n            eof = true;\n        }\n    }\n\n    private int getChunkSizeFromInputStream(final InputStream in)\n            throws IOException {\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        // States: 0=normal, 1=\\r was scanned, 2=inside quoted string, -1=end\n        int state = 0;\n        while (state != -1) {\n            int b = in.read();\n            if (b == -1) {\n                throw new IOException(&quot;chunked stream ended unexpectedly&quot;);\n            }\n            switch (state) {\n                case 0:\n                    switch (b) {\n                        case '\\r':\n                            state = 1;\n                            break;\n                        case '\\&quot;':\n                            state = 2;\n                            /* fall through */\n                        default:\n                            baos.write(b);\n                    }\n                    break;\n\n                case 1:\n                    if (b == '\\n') {\n                        state = -1;\n                    } else {\n                        // this was not CRLF\n                        throw new IOException(&quot;Protocol violation: Unexpected&quot;\n                                + &quot; single newline character in chunk size&quot;);\n                    }\n                    break;\n\n                case 2:\n                    switch (b) {\n                        case '\\\\':\n                            b = in.read();\n                            baos.write(b);\n                            break;\n                        case '\\&quot;':\n                            state = 0;\n                            /* fall through */\n                        default:\n                            baos.write(b);\n                    }\n                    break;\n                default:\n                    throw new RuntimeException(&quot;assertion failed&quot;);\n            }\n        }\n\n        //parse data\n        String dataString = baos.toString(charset);\n        int separator = dataString.indexOf(';');\n        dataString = (separator &gt; 0)\n                ? dataString.substring(0, separator).trim()\n                : dataString.trim();\n\n        int result;\n        try {\n            result = Integer.parseInt(dataString.trim(), 16);\n        } catch (NumberFormatException e) {\n            throw new IOException(&quot;Bad chunk size: &quot; + dataString);\n        }\n        return result;\n    }\n\n    public void close() throws IOException {\n        if (!closed) {\n            try {\n                if (!eof) {\n                    exhaustInputStream(this);\n                }\n            } finally {\n                eof = true;\n                closed = true;\n            }\n        }\n    }\n\n    static void exhaustInputStream(InputStream inStream) throws IOException {\n        // read and discard the remainder of the message\n        byte[] buffer = new byte[1024];\n        while (inStream.read(buffer) &gt;= 0) {\n            ;\n        }\n    }\n}\n</code></pre>\n<p>In the controller you can keep the same controller code but wrap the <code>request.getInputStream()</code> with this but you still won't get the actual client chunk. That's why I add the <code>readChunk()</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/upload&quot;)\npublic ResponseEntity&lt;Void&gt; upload(final HttpServletRequest request, @RequestHeader HttpHeaders headers) {\n    Charset charset = StandardCharsets.US_ASCII;\n    if (headers.getContentType() != null) {\n        charset = Objects.requireNonNullElse(headers.getContentType().getCharset(), charset);\n    }\n    try (ChunkedInputStream in = new ChunkedInputStream(request.getInputStream(), charset)) {\n        byte[] chunk;\n        while ((chunk = in.readChunk()).length &gt; 0) {\n            // do something with the chunk.\n            System.out.println(new String(chunk, Objects.requireNonNullElse(charset, StandardCharsets.US_ASCII)));\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    } catch (IOException e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":82335,"reputation":3239,"user_id":231582,"accept_rate":62,"display_name":"tirithen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1655039455,"creation_date":1473153013,"question_id":39345017,"body_markdown":"In the Java Spring framework, how could I create an end point that starts consuming the HTTP request body in chunks before the request has finished?\r\n\r\nIt seem like the default behavior i that the end point method is not executed until the request has ended.\r\n\r\nThe following Node.js server starts consuming the request body, how to do the same with the Java Spring framework?\r\n\r\n    const http = require(&#39;http&#39;);\r\n\r\n    const server = http.createServer((request, response) =&gt; {\r\n      request.on(&#39;data&#39;, (chunk) =&gt; {\r\n        console.log(&#39;NEW CHUNK: &#39;, chunk.toString().length);\r\n      });\r\n\r\n      request.on(&#39;end&#39;, () =&gt; {\r\n        response.end(&#39;done&#39;);\r\n      });\r\n    });\r\n\r\n    server.listen(3000);\r\n\r\nOutputs:\r\n\r\n    NEW CHUNK:  65189\r\n    NEW CHUNK:  65536\r\n    NEW CHUNK:  65536\r\n    NEW CHUNK:  65536\r\n    NEW CHUNK:  54212\r\n","title":"Java Spring framework, start consuming HTTP request body before request has ended","body":"<p>In the Java Spring framework, how could I create an end point that starts consuming the HTTP request body in chunks before the request has finished?</p>\n\n<p>It seem like the default behavior i that the end point method is not executed until the request has ended.</p>\n\n<p>The following Node.js server starts consuming the request body, how to do the same with the Java Spring framework?</p>\n\n<pre><code>const http = require('http');\n\nconst server = http.createServer((request, response) =&gt; {\n  request.on('data', (chunk) =&gt; {\n    console.log('NEW CHUNK: ', chunk.toString().length);\n  });\n\n  request.on('end', () =&gt; {\n    response.end('done');\n  });\n});\n\nserver.listen(3000);\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>NEW CHUNK:  65189\nNEW CHUNK:  65536\nNEW CHUNK:  65536\nNEW CHUNK:  65536\nNEW CHUNK:  54212\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19949156,"reputation":345,"user_id":14619182,"display_name":"tintin"},"score":0,"creation_date":1654890054,"post_id":72575972,"comment_id":128208843,"body_markdown":"didnt get what is the objective can you explain what do you mean by &quot;if input value double a is between double x &amp; y then print double z in TextView&quot; or you are unable to setText in textview getting error ?","body":"didnt get what is the objective can you explain what do you mean by &quot;if input value double a is between double x &amp; y then print double z in TextView&quot; or you are unable to setText in textview getting error ?"},{"owner":{"account_id":25454226,"reputation":3,"user_id":19255140,"display_name":"Mojahidul Islam Emon"},"score":0,"creation_date":1654924685,"post_id":72575972,"comment_id":128213283,"body_markdown":"As I said it is a cgpa calculator app &amp; the objective is to show grades in the Textview when the user inputs a value in EditText. But I don&#39;t know how to do that.","body":"As I said it is a cgpa calculator app &amp; the objective is to show grades in the Textview when the user inputs a value in EditText. But I don&#39;t know how to do that."}],"answers":[{"tags":[],"owner":{"account_id":19949156,"reputation":345,"user_id":14619182,"display_name":"tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654927534,"creation_date":1654927534,"answer_id":72582106,"question_id":72575972,"body_markdown":"OK. if you want to setText on some event like button click than \r\n\r\n    TextView tvText;\r\n    EditText editText;\r\n\r\n    button.setOnClickListener(\r\n    new View.OnClickListener()\r\n    {\r\n        public void onClick(View view)\r\n        {\r\n            String str = editText.getText().toString().trim();\r\n            tvText.setText(str);\r\n        }\r\n         }\r\n     );\r\n\r\n    \r\n But, if you want textview to show/update value as per change in EditText without \r\n an event than use TextWatcher():\r\n\r\n     editText.addTextChangedListener(new TextWatcher()\r\n        {\r\n            String inputText;\r\n            @Override\r\n            public void afterTextChanged(Editable mEdit)\r\n            {\r\n                inputText = mEdit.toString();\r\n                tvText.setText(inputText);\r\n            }\r\n\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int \r\n                 after)\r\n            {\r\n\r\n       \r\n            }\r\n\r\n            public void onTextChanged(CharSequence s, int start, int before, int \r\n             count){\r\n\r\n            }\r\n        }); \r\n\r\n\r\n\r\nIn your code change\r\n\r\n    tv.setText(&quot;Your CGPA is:   &quot; + ans);\r\n\r\nto \r\n\r\n    tv.setText(&quot;Your CGPA is:   &quot; + String.valueOf(ans));\r\n\r\nTextView accepts String only","title":"How can I print something specific in TextView when the condition for EditText input values have been met?","body":"<p>OK. if you want to setText on some event like button click than</p>\n<pre><code>TextView tvText;\nEditText editText;\n\nbutton.setOnClickListener(\nnew View.OnClickListener()\n{\n    public void onClick(View view)\n    {\n        String str = editText.getText().toString().trim();\n        tvText.setText(str);\n    }\n     }\n );\n</code></pre>\n<p>But, if you want textview to show/update value as per change in EditText without\nan event than use TextWatcher():</p>\n<pre><code> editText.addTextChangedListener(new TextWatcher()\n    {\n        String inputText;\n        @Override\n        public void afterTextChanged(Editable mEdit)\n        {\n            inputText = mEdit.toString();\n            tvText.setText(inputText);\n        }\n\n        public void beforeTextChanged(CharSequence s, int start, int count, int \n             after)\n        {\n\n   \n        }\n\n        public void onTextChanged(CharSequence s, int start, int before, int \n         count){\n\n        }\n    }); \n</code></pre>\n<p>In your code change</p>\n<pre><code>tv.setText(&quot;Your CGPA is:   &quot; + ans);\n</code></pre>\n<p>to</p>\n<pre><code>tv.setText(&quot;Your CGPA is:   &quot; + String.valueOf(ans));\n</code></pre>\n<p>TextView accepts String only</p>\n"}],"owner":{"account_id":25454226,"reputation":3,"user_id":19255140,"display_name":"Mojahidul Islam Emon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655039444,"creation_date":1654871484,"question_id":72575972,"body_markdown":"So I am a begginer &amp; I made a simple CGPA calculator. Everything is working great but I wanna add grades in TextView when each EditText gets a value. So I want to add one or multiple condition to display grades in ```tv``` textview when ```show_grades``` button is pressed. **For Instance** if user inputs **4.00**, then I want to print grade ***A+*** in ```tv``` textview.\r\nAs you can see, I have added a simple if statement, but I hade to make 4 individual if statement just to display a single grade in 2 fields. If I want to do it for 8 fields and 12 grades(like A+, A, A-, B+, B, B-....) I have to make 96 statements. Is there a better way to do so.\r\n```java\r\n///import &amp; stuffs\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    EditText S1, S2;\r\n    TextView tv, tv2;\r\n    Button show_grade, resetButton;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        S1 =  findViewById(R.id.S1);//edittext assigning section\r\n        S2 =  findViewById(R.id.S2);\r\n        tv = findViewById(R.id.tv);\r\n        tv2 = findViewById(R.id.tv2);\r\n\r\n        show_grade =  findViewById(R.id.show_grade);//button assigning section\r\n        resetButton = findViewById(R.id.resetButton);\r\n\r\n       \r\n        show_grade.setOnClickListener(view -&gt; {\r\n\r\n          double s1 = Double.parseDouble(S1.getText().toString());\r\n            double s2 = Double.parseDouble(S2.getText().toString());\r\n            double g1 = 4.00, g2 =3.50;\r\n            if(s1==g1 ){\r\n                tv.setText(&quot;A+&quot;);\r\n            }\r\n            if(s1==g2 ){\r\n                tv.setText(&quot;A-&quot;);\r\n            }\r\n             if(s2==g1 ){\r\n                tv2.setText(&quot;A+&quot;);\r\n            }\r\n             if(s2==g2 ) {\r\n                 tv2.setText(&quot;A-&quot;);\r\n             }\r\n        });\r\n        resetButton.setOnClickListener(view -&gt; { //executing reset function\r\n            S1.setText(&quot;&quot;);\r\n            S2.setText(&quot;&quot;);\r\n        });\r\n    }\r\n}\r\n``` \r\nAnd here is activity&#39;s layout for 1 EditText &amp; Textview only \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:context=&quot;.MainActivity2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:ignore=&quot;HardcodedText&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/S1&quot;\r\n            android:layout_width=&quot;130sp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:autofillHints=&quot;creditCardNumber&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:hint=&quot;@string/S1&quot;\r\n            android:inputType=&quot;numberDecimal&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv&quot;\r\n            android:layout_width=&quot;32dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginStart=&quot;10sp&quot;\r\n            android:background=&quot;@color/color1&quot;\r\n            android:hint=&quot;Grades&quot;\r\n            android:text=&quot;&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textAppearance=&quot;@color/colorPrimary2&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/S2&quot;\r\n            android:layout_width=&quot;130sp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:autofillHints=&quot;creditCardNumber&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:hint=&quot;@string/S1&quot;\r\n            android:inputType=&quot;numberDecimal&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv2&quot;\r\n            android:layout_width=&quot;32dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginStart=&quot;10sp&quot;\r\n            android:background=&quot;@color/color1&quot;\r\n            android:hint=&quot;Grades&quot;\r\n            android:text=&quot;&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textAppearance=&quot;@color/colorPrimary2&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/show_grade&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginEnd=&quot;5dp&quot;\r\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\r\n            android:text=&quot;Show grade&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            tools:ignore=&quot;ButtonStyle&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/resetButton&quot;\r\n            style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;4dp&quot;\r\n            android:text=&quot;Reset&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"How can I print something specific in TextView when the condition for EditText input values have been met?","body":"<p>So I am a begginer &amp; I made a simple CGPA calculator. Everything is working great but I wanna add grades in TextView when each EditText gets a value. So I want to add one or multiple condition to display grades in <code>tv</code> textview when <code>show_grades</code> button is pressed. <strong>For Instance</strong> if user inputs <strong>4.00</strong>, then I want to print grade <em><strong>A+</strong></em> in <code>tv</code> textview.\nAs you can see, I have added a simple if statement, but I hade to make 4 individual if statement just to display a single grade in 2 fields. If I want to do it for 8 fields and 12 grades(like A+, A, A-, B+, B, B-....) I have to make 96 statements. Is there a better way to do so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>///import &amp; stuffs\npublic class MainActivity2 extends AppCompatActivity {\n    EditText S1, S2;\n    TextView tv, tv2;\n    Button show_grade, resetButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        S1 =  findViewById(R.id.S1);//edittext assigning section\n        S2 =  findViewById(R.id.S2);\n        tv = findViewById(R.id.tv);\n        tv2 = findViewById(R.id.tv2);\n\n        show_grade =  findViewById(R.id.show_grade);//button assigning section\n        resetButton = findViewById(R.id.resetButton);\n\n       \n        show_grade.setOnClickListener(view -&gt; {\n\n          double s1 = Double.parseDouble(S1.getText().toString());\n            double s2 = Double.parseDouble(S2.getText().toString());\n            double g1 = 4.00, g2 =3.50;\n            if(s1==g1 ){\n                tv.setText(&quot;A+&quot;);\n            }\n            if(s1==g2 ){\n                tv.setText(&quot;A-&quot;);\n            }\n             if(s2==g1 ){\n                tv2.setText(&quot;A+&quot;);\n            }\n             if(s2==g2 ) {\n                 tv2.setText(&quot;A-&quot;);\n             }\n        });\n        resetButton.setOnClickListener(view -&gt; { //executing reset function\n            S1.setText(&quot;&quot;);\n            S2.setText(&quot;&quot;);\n        });\n    }\n}\n</code></pre>\n<p>And here is activity's layout for 1 EditText &amp; Textview only</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        tools:context=&quot;.MainActivity2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:ignore=&quot;HardcodedText&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:gravity=&quot;start&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n        &lt;EditText\n            android:id=&quot;@+id/S1&quot;\n            android:layout_width=&quot;130sp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autofillHints=&quot;creditCardNumber&quot;\n            android:ems=&quot;10&quot;\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:hint=&quot;@string/S1&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv&quot;\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginStart=&quot;10sp&quot;\n            android:background=&quot;@color/color1&quot;\n            android:hint=&quot;Grades&quot;\n            android:text=&quot;&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textAppearance=&quot;@color/colorPrimary2&quot; /&gt;\n        &lt;EditText\n            android:id=&quot;@+id/S2&quot;\n            android:layout_width=&quot;130sp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:autofillHints=&quot;creditCardNumber&quot;\n            android:ems=&quot;10&quot;\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:hint=&quot;@string/S1&quot;\n            android:inputType=&quot;numberDecimal&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv2&quot;\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginStart=&quot;10sp&quot;\n            android:background=&quot;@color/color1&quot;\n            android:hint=&quot;Grades&quot;\n            android:text=&quot;&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textAppearance=&quot;@color/colorPrimary2&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:gravity=&quot;start&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/show_grade&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginEnd=&quot;5dp&quot;\n            android:backgroundTint=&quot;@color/colorPrimary&quot;\n            android:text=&quot;Show grade&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            tools:ignore=&quot;ButtonStyle&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/resetButton&quot;\n            style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;4dp&quot;\n            android:text=&quot;Reset&quot;\n            android:textColor=&quot;@color/colorPrimary&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1655039016,"post_id":72592386,"comment_id":128230823,"body_markdown":"Are you pulling the data after the user changes his/her profile picture?","body":"Are you pulling the data after the user changes his/her profile picture?"},{"owner":{"account_id":25211579,"reputation":47,"user_id":19049193,"display_name":"Federico Alie"},"score":0,"creation_date":1655039921,"post_id":72592386,"comment_id":128231032,"body_markdown":"i&#39;ve tried pulling the data after the user change/update the picture by putting the intent and call it, but still no change at all, it still show the old image before the change/update","body":"i&#39;ve tried pulling the data after the user change/update the picture by putting the intent and call it, but still no change at all, it still show the old image before the change/update"},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1655041920,"post_id":72592386,"comment_id":128231437,"body_markdown":"Then how come it works after the app is relaunched? There is something different that you are doing.","body":"Then how come it works after the app is relaunched? There is something different that you are doing."},{"owner":{"account_id":25211579,"reputation":47,"user_id":19049193,"display_name":"Federico Alie"},"score":0,"creation_date":1655054810,"post_id":72592386,"comment_id":128234321,"body_markdown":"i dont know, if i press back to previous activity and press the profile activity, the intent should be called again right? and it is the same like we call back the data to refresh, but when i do it, it didn&#39;t change at all it still use the last image","body":"i dont know, if i press back to previous activity and press the profile activity, the intent should be called again right? and it is the same like we call back the data to refresh, but when i do it, it didn&#39;t change at all it still use the last image"}],"owner":{"account_id":25211579,"reputation":47,"user_id":19049193,"display_name":"Federico Alie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655038676,"creation_date":1655038676,"question_id":72592386,"body_markdown":"recently i&#39;ve made a program that can upload image to mysql database via php, and now i&#39;m gonna put that image to my circleImageView, but i&#39;ve encountered some issue, if i do image update, the image won&#39;t refresh until i close the apps and run it again.\r\n\r\nhere is my code for displaying the image and others from mysql database \r\n\r\n    public void putAllUserData(final String username){\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, databaseURL.viewUserData, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    JSONArray jsonArray = jsonObject.getJSONArray(&quot;data&quot;);\r\n                    for(int i = 0; i &lt; jsonArray.length();i++){\r\n                        JSONObject object = jsonArray.getJSONObject(i);\r\n                        setUsername.setText(username);\r\n                        setFullName.setText(object.getString(&quot;nama&quot;));\r\n                        setCountry.setText(object.getString(&quot;asal_negara&quot;));\r\n                        setGender.setText(object.getString(&quot;jenis_kelamin&quot;));\r\n                        prfImage = object.getString(&quot;image_path&quot;);\r\n\r\n                        if(prfImage.isEmpty()){\r\n                            Toast.makeText(profileActivity.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        else {\r\n                            Picasso.get().load(prfImage).into(profileImage);\r\n                        }\r\n                    }\r\n                    \r\n                } catch (JSONException e) {\r\n                    Toast.makeText(profileActivity.this, &quot;Error &quot; + e, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(profileActivity.this, &quot;Error &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n            @Nullable\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;username&quot;, username);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        Volley.newRequestQueue(this).add(stringRequest);\r\n    }\r\n\r\n","title":"Apps need to restarted to refresh profile image","body":"<p>recently i've made a program that can upload image to mysql database via php, and now i'm gonna put that image to my circleImageView, but i've encountered some issue, if i do image update, the image won't refresh until i close the apps and run it again.</p>\n<p>here is my code for displaying the image and others from mysql database</p>\n<pre><code>public void putAllUserData(final String username){\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, databaseURL.viewUserData, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                JSONObject jsonObject = new JSONObject(response);\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;data&quot;);\n                for(int i = 0; i &lt; jsonArray.length();i++){\n                    JSONObject object = jsonArray.getJSONObject(i);\n                    setUsername.setText(username);\n                    setFullName.setText(object.getString(&quot;nama&quot;));\n                    setCountry.setText(object.getString(&quot;asal_negara&quot;));\n                    setGender.setText(object.getString(&quot;jenis_kelamin&quot;));\n                    prfImage = object.getString(&quot;image_path&quot;);\n\n                    if(prfImage.isEmpty()){\n                        Toast.makeText(profileActivity.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    else {\n                        Picasso.get().load(prfImage).into(profileImage);\n                    }\n                }\n                \n            } catch (JSONException e) {\n                Toast.makeText(profileActivity.this, &quot;Error &quot; + e, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(profileActivity.this, &quot;Error &quot; + error, Toast.LENGTH_SHORT).show();\n        }\n    }){\n        @Nullable\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;username&quot;, username);\n            return params;\n        }\n    };\n\n    Volley.newRequestQueue(this).add(stringRequest);\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1654997413,"post_id":72588811,"comment_id":128225123,"body_markdown":"That&#39;s not valid JSON.  A JSON file cannot start with `HTTP/1.1` blah blah, and it cannot end with `},`.  Please show us a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your attempt so that we can figure out what you are *actually* doing.","body":"That&#39;s not valid JSON.  A JSON file cannot start with <code>HTTP&#47;1.1</code> blah blah, and it cannot end with <code>},</code>.  Please show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt so that we can figure out what you are <i>actually</i> doing."},{"owner":{"account_id":1017368,"reputation":77,"user_id":1028634,"accept_rate":75,"display_name":"mohamed salem"},"score":0,"creation_date":1654998415,"post_id":72588811,"comment_id":128225212,"body_markdown":"you are right, i have edited the question above , with part of the raw data , what do you think now ?","body":"you are right, i have edited the question above , with part of the raw data , what do you think now ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1654998630,"post_id":72588811,"comment_id":128225228,"body_markdown":"We still need a minimal reproducible example to understand what the type of `response1` is.   And what the exceptions (or whatever) are.","body":"We still need a minimal reproducible example to understand what the type of <code>response1</code> is.   And what the exceptions (or whatever) are."},{"owner":{"account_id":1017368,"reputation":77,"user_id":1028634,"accept_rate":75,"display_name":"mohamed salem"},"score":0,"creation_date":1655034471,"post_id":72588811,"comment_id":128229881,"body_markdown":"response1 is JSONObject ,","body":"response1 is JSONObject ,"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655038503,"creation_date":1654999543,"answer_id":72589049,"question_id":72588811,"body_markdown":"Assuming that `response1` is a `JSONObject`.\r\n\r\n    String mfajr = response1.getJSONArray(&quot;data&quot;)\r\n                            .getJSONObject(0)\r\n                            .get(&quot;Fajr&quot;).toString();\r\n\r\nThat will fail because `getJSONObject(0)` returns an object that has a `&quot;timings&quot;` attribute ... not a `&quot;Fajr&quot;` attribute.\r\n\r\n    String  mdoher = response1.getJSONArray(&quot;data&quot;)\r\n                              .getJSONObject(0).getJSONArray(&quot;timings&quot;)\r\n                              .get(Integer.parseInt(&quot;Dhuhr&quot;)).toString();\r\n\r\nThat will fail because the value of `&quot;timings&quot;` attribute is JSON object, not a JSON array.   \r\n\r\nAlso, the value of the `&quot;Dhuhr&quot;` attribute is not an integer, so `parseInt` is not going to work.  If you want the value as an integer, you are going to do some string analysis to convert `&quot;11:53 (EET)&quot;` to an integer.\r\n\r\nBasically, you need to make sure that your Java code **precisely** matches the JSON structure.  Close enough is **NOT** good enough.\r\n\r\n----------------------------\r\n\r\nOK .... so you want someone to write your code for you.  \r\n\r\nTry this:\r\n\r\n    String mfajr = response1.getJSONArray(&quot;data&quot;)\r\n                            .getJSONObject(0)\r\n                            .getJSONObject(&quot;timings&quot;)\r\n                            .getString(&quot;Fajr&quot;);\r\n\r\nNow, compare it with the structure of the JSON.","title":"JSON File / Android - Get the value of string","body":"<p>Assuming that <code>response1</code> is a <code>JSONObject</code>.</p>\n<pre><code>String mfajr = response1.getJSONArray(&quot;data&quot;)\n                        .getJSONObject(0)\n                        .get(&quot;Fajr&quot;).toString();\n</code></pre>\n<p>That will fail because <code>getJSONObject(0)</code> returns an object that has a <code>&quot;timings&quot;</code> attribute ... not a <code>&quot;Fajr&quot;</code> attribute.</p>\n<pre><code>String  mdoher = response1.getJSONArray(&quot;data&quot;)\n                          .getJSONObject(0).getJSONArray(&quot;timings&quot;)\n                          .get(Integer.parseInt(&quot;Dhuhr&quot;)).toString();\n</code></pre>\n<p>That will fail because the value of <code>&quot;timings&quot;</code> attribute is JSON object, not a JSON array.</p>\n<p>Also, the value of the <code>&quot;Dhuhr&quot;</code> attribute is not an integer, so <code>parseInt</code> is not going to work.  If you want the value as an integer, you are going to do some string analysis to convert <code>&quot;11:53 (EET)&quot;</code> to an integer.</p>\n<p>Basically, you need to make sure that your Java code <strong>precisely</strong> matches the JSON structure.  Close enough is <strong>NOT</strong> good enough.</p>\n<hr />\n<p>OK .... so you want someone to write your code for you.</p>\n<p>Try this:</p>\n<pre><code>String mfajr = response1.getJSONArray(&quot;data&quot;)\n                        .getJSONObject(0)\n                        .getJSONObject(&quot;timings&quot;)\n                        .getString(&quot;Fajr&quot;);\n</code></pre>\n<p>Now, compare it with the structure of the JSON.</p>\n"}],"owner":{"account_id":1017368,"reputation":77,"user_id":1028634,"accept_rate":75,"display_name":"mohamed salem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72589049,"answer_count":1,"score":0,"last_activity_date":1655038503,"creation_date":1654994953,"question_id":72588811,"body_markdown":"I have the following JSON file format : \r\n```\r\n{&quot;code&quot;:200,\r\n &quot;status&quot;:&quot;OK&quot;,\r\n &quot;data&quot;:[\r\n   {&quot;timings&quot;:\r\n     {&quot;Fajr&quot;:&quot;03:11 (EET)&quot;,\r\n      &quot;Sunrise&quot;:&quot;04:54 (EET)&quot;,\r\n      &quot;Dhuhr&quot;:&quot;11:53 (EET)&quot;,\r\n      &quot;Asr&quot;:&quot;15:29 (EET)&quot;,\r\n      &quot;Sunset&quot;:&quot;18:52 (EET)&quot;,\r\n      &quot;Maghrib&quot;:&quot;18:52 (EET)&quot;,\r\n      &quot;Isha&quot;:&quot;20:23 (EET)&quot;,\r\n      &quot;Imsak&quot;:&quot;03:01 (EET)&quot;,\r\n      &quot;Midnight&quot;:&quot;23:53 (EET)&quot;},....\r\n```\r\n\r\nI want to get the value of `Asr` (for example) &amp; parse it into string variable, I tried the below but nothing works (Please note: response is successfully retrieved, so no issue with reaching the JSON file, but only to get the value of string). \r\n\r\n```\r\nString mfajr = response1.getJSONArray(&quot;data&quot;).getJSONObject(0)\r\n                        .get(&quot;Fajr&quot;).toString();\r\n\r\nString  mdoher = response1.getJSONArray(&quot;data&quot;).getJSONObject(0)\r\n                          .getJSONArray(&quot;timings&quot;)\r\n                          .get(Integer.parseInt(&quot;Dhuhr&quot;)).toString();\r\n```","title":"JSON File / Android - Get the value of string","body":"<p>I have the following JSON file format :</p>\n<pre><code>{&quot;code&quot;:200,\n &quot;status&quot;:&quot;OK&quot;,\n &quot;data&quot;:[\n   {&quot;timings&quot;:\n     {&quot;Fajr&quot;:&quot;03:11 (EET)&quot;,\n      &quot;Sunrise&quot;:&quot;04:54 (EET)&quot;,\n      &quot;Dhuhr&quot;:&quot;11:53 (EET)&quot;,\n      &quot;Asr&quot;:&quot;15:29 (EET)&quot;,\n      &quot;Sunset&quot;:&quot;18:52 (EET)&quot;,\n      &quot;Maghrib&quot;:&quot;18:52 (EET)&quot;,\n      &quot;Isha&quot;:&quot;20:23 (EET)&quot;,\n      &quot;Imsak&quot;:&quot;03:01 (EET)&quot;,\n      &quot;Midnight&quot;:&quot;23:53 (EET)&quot;},....\n</code></pre>\n<p>I want to get the value of <code>Asr</code> (for example) &amp; parse it into string variable, I tried the below but nothing works (Please note: response is successfully retrieved, so no issue with reaching the JSON file, but only to get the value of string).</p>\n<pre><code>String mfajr = response1.getJSONArray(&quot;data&quot;).getJSONObject(0)\n                        .get(&quot;Fajr&quot;).toString();\n\nString  mdoher = response1.getJSONArray(&quot;data&quot;).getJSONObject(0)\n                          .getJSONArray(&quot;timings&quot;)\n                          .get(Integer.parseInt(&quot;Dhuhr&quot;)).toString();\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":25530431,"reputation":1,"user_id":19318566,"display_name":"AyahuascaSuppe"},"score":0,"creation_date":1655038640,"post_id":72591248,"comment_id":128230745,"body_markdown":"Note: I updated the JDA dependency to Version: 5.0.0-alpha.12","body":"Note: I updated the JDA dependency to Version: 5.0.0-alpha.12"}],"answers":[{"tags":[],"owner":{"account_id":9633681,"reputation":35,"user_id":7152169,"display_name":"skylvsme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655029428,"creation_date":1655029428,"answer_id":72591336,"question_id":72591248,"body_markdown":"The problem not with kick command, the problem is that in your event there&#39;s no any mentioned members in the message.\r\n\r\n    mentioned = event.getMessage().getMentionedMembers().get(0);\r\n\r\nTry to use a debugger to see what the event you receive from JDA. Probably, you receive another kind of event (not the new message one), or you don&#39;t mention anybody, like it doing by in Discord - @user.\r\n\r\nAlso, do not share your access tokens on public resources, like Stackoverflow, even if it was revoked :)","title":"Discord JDA &quot;Kick&quot; command is not working","body":"<p>The problem not with kick command, the problem is that in your event there's no any mentioned members in the message.</p>\n<pre><code>mentioned = event.getMessage().getMentionedMembers().get(0);\n</code></pre>\n<p>Try to use a debugger to see what the event you receive from JDA. Probably, you receive another kind of event (not the new message one), or you don't mention anybody, like it doing by in Discord - @user.</p>\n<p>Also, do not share your access tokens on public resources, like Stackoverflow, even if it was revoked :)</p>\n"},{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655029583,"creation_date":1655029583,"answer_id":72591347,"question_id":72591248,"body_markdown":"Reading the exception tells you the problem\r\n\r\n&gt; java.lang.IllegalStateException: This message event **did not happen in a guild**\r\n\r\nThis means you got a message event for a **direct message**, which means you cannot get member mentions from it.","title":"Discord JDA &quot;Kick&quot; command is not working","body":"<p>Reading the exception tells you the problem</p>\n<blockquote>\n<p>java.lang.IllegalStateException: This message event <strong>did not happen in a guild</strong></p>\n</blockquote>\n<p>This means you got a message event for a <strong>direct message</strong>, which means you cannot get member mentions from it.</p>\n"}],"owner":{"account_id":25530431,"reputation":1,"user_id":19318566,"display_name":"AyahuascaSuppe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655038378,"creation_date":1655028669,"question_id":72591248,"body_markdown":"I&#39;ve been sitting here since 3 days now. Trying to figure out what&#39;s wrong with my code.\r\nI have tried multiple solutions and tried to research my problem on multiple platforms. Nothing helped.\r\n\r\nI always get a long error message in the console:\r\n\r\n    [JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\n    java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    \tat java.base/java.util.Collections$UnmodifiableList.get(Collections.java:1347)\r\n    \tat de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:31)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\r\n    \tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n    \tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\r\n    \tat net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\r\n    \tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\r\n    \tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n    \tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n    [JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\n    java.lang.IllegalStateException: This message event did not happen in a guild\r\n    \tat net.dv8tion.jda.api.events.message.GenericMessageEvent.getGuild(GenericMessageEvent.java:154)\r\n    \tat de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:30)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\r\n    \tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n    \tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\r\n    \tat net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\r\n    \tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\r\n    \tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n    \tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n\r\nSo I tried creating a new class. with exact the same code I had, and at the beginning it worked, especially these lines of code worked, which didn&#39;t work prior:\r\n\r\n    \t\t\tif (!author.hasPermission(Permission.KICK_MEMBERS)) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: You don&#39;t have permission to kick people!&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (event.getMessage().getMentionedMembers().isEmpty()) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: You must mention who you want to be kicked&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (args.length &lt; 2) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: Correct usage: `&quot; + Main.prefix + &quot;kick &lt;@User&gt; &lt;reason&gt;&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\nNow I added a few things here and there, and then It just stopped working again. I deleted everything I added to the code to the point where the code was working, and it still didn&#39;t worked.\r\n\r\n    at de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:31)\r\n\r\nrefers to:\r\n\r\n    mentioned = event.getMessage().getMentionedMembers().get(0);\r\n\r\nHere my full code:\r\n\r\nPrefix = &quot;u!&quot;\r\n\r\nlogChannel = &quot;984832326947197008&quot;\r\n\r\n \r\n\r\n    package de.ayahuascasuppe.commands;\r\n    \r\n    import java.awt.Color;\r\n    import java.time.OffsetDateTime;\r\n    import java.util.Random;\r\n    \r\n    import de.ayahuascasupe.de.main.Main;\r\n    import net.dv8tion.jda.api.EmbedBuilder;\r\n    import net.dv8tion.jda.api.Permission;\r\n    import net.dv8tion.jda.api.entities.Guild;\r\n    import net.dv8tion.jda.api.entities.Member;\r\n    import net.dv8tion.jda.api.entities.MessageChannel;\r\n    import net.dv8tion.jda.api.entities.PrivateChannel;\r\n    import net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n    \r\n    public class Kick extends ListenerAdapter {\r\n\tprotected Member mentioned;\r\n\tRandom randNum = new Random();\r\n\t\r\n\tpublic void onMessageReceived(MessageReceivedEvent event) {\r\n\r\n\t\tString[] args = event.getMessage().getContentStripped().split(&quot; &quot;);\r\n\t\tString authorName = event.getAuthor().getName();\r\n\t\tString authorAvatar = event.getAuthor().getAvatarUrl();\r\n\t\tString message = event.getMessage().getContentStripped();\r\n\t\tMessageChannel channel = event.getChannel();\r\n\t\tMember author = event.getMessage().getMember();\r\n\t\tGuild guild = event.getGuild();\r\n\t\tmentioned = event.getMessage().getMentions().getMembers().get(0);\r\n\t\t\r\n\t\t// add code here:\r\n\t\tif (message.startsWith(Main.prefix + &quot;kick&quot;)) {\r\n\t\t\tif (!author.hasPermission(Permission.KICK_MEMBERS)) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: You don&#39;t have permission to kick people!&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (event.getMessage().getMentions().getMembers().isEmpty()) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: You must mention who you want to be kicked&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (args.length &lt; 2) {\r\n\t\t\t\tchannel.sendMessage(&quot;**ERROR**: Correct usage: `&quot; + Main.prefix + &quot;kick &lt;@User&gt; &lt;reason&gt;&quot;).queue();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// event.getGuild().kick(event.getMentionedMembers().get(0).getId(),\r\n\t\t\t// reason).queue();\r\n\t\t\tchannel.sendMessage(\r\n\t\t\t\t\t&quot;**SUCCESS**: You have kicked &quot; + mentioned.getAsMention() + &quot; from the Discord server.&quot;).queue();\r\n\t\t\tEmbedBuilder embed = new EmbedBuilder();\r\n\t\t\tembed.setTitle(event.getAuthor().getName() + &quot; kicked &quot; + mentioned.getEffectiveName(), null);\r\n\t\t\tembed.setDescription(&quot;**Action**: Kick\\n\\nUser &quot; + mentioned.getAsMention() + &quot; got kicked by &quot;\r\n\t\t\t\t\t+ event.getAuthor().getAsMention() + &quot; from the Discord server.\\n\\nReason: &quot; + &quot;reason&quot;);\r\n\t\t\tembed.setThumbnail(event.getGuild().getIconUrl());\r\n\t\t\tembed.setAuthor(authorName, null, authorAvatar);\r\n\t\t\tembed.setColor(Color.RED);\r\n\t\t\tembed.setFooter(Main.embedFooter);\r\n\t\t\tembed.setTimestamp(OffsetDateTime.now());\r\n\t\t\tevent.getGuild().getTextChannelById(Main.logChannel).sendMessageEmbeds(embed.build()).queue();\r\n\t\t\tembed.clear();\r\n\r\n\t\t\tPrivateChannel dm = mentioned.getUser().openPrivateChannel().complete();\r\n\r\n\t\t\tEmbedBuilder embedDM = new EmbedBuilder();\r\n\t\t\tembedDM.setTitle(&quot;You got kicked from the Discord server.&quot;, null);\r\n\t\t\tembedDM.setDescription(&quot;Hello buddy. It seems like you got kicked from the &quot; + guild.getName()\r\n\t\t\t\t\t+ &quot; Discord.\\nDon&#39;t worry. You are not banned. You can use the invite link to join the Discord again.\\n\\nReason for the kick: &quot;\r\n\t\t\t\t\t+ &quot;reason&quot;);\r\n\t\t\tembedDM.setThumbnail(event.getGuild().getIconUrl());\r\n\t\t\tembedDM.setColor(Color.RED);\r\n\t\t\tembedDM.setFooter(Main.embedFooter);\r\n\t\t\tembedDM.setTimestamp(OffsetDateTime.now());\r\n\t\t\tdm.sendMessageEmbeds(embedDM.build()).queue();\r\n\t\t\tembedDM.clear();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\nInformation:\r\nJavaSE-17\r\n\r\nJDA Version: 5.0.0-alpha.4\r\n\r\n","title":"Discord JDA &quot;Kick&quot; command is not working","body":"<p>I've been sitting here since 3 days now. Trying to figure out what's wrong with my code.\nI have tried multiple solutions and tried to research my problem on multiple platforms. Nothing helped.</p>\n<p>I always get a long error message in the console:</p>\n<pre><code>[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:359)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at java.base/java.util.Collections$UnmodifiableList.get(Collections.java:1347)\n    at de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:31)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\n    at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.IllegalStateException: This message event did not happen in a guild\n    at net.dv8tion.jda.api.events.message.GenericMessageEvent.getGuild(GenericMessageEvent.java:154)\n    at de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:30)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:358)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:163)\n    at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:111)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:953)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:840)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:818)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:992)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>So I tried creating a new class. with exact the same code I had, and at the beginning it worked, especially these lines of code worked, which didn't work prior:</p>\n<pre><code>            if (!author.hasPermission(Permission.KICK_MEMBERS)) {\n            channel.sendMessage(&quot;**ERROR**: You don't have permission to kick people!&quot;).queue();\n            return;\n        }\n        if (event.getMessage().getMentionedMembers().isEmpty()) {\n            channel.sendMessage(&quot;**ERROR**: You must mention who you want to be kicked&quot;).queue();\n            return;\n        }\n        if (args.length &lt; 2) {\n            channel.sendMessage(&quot;**ERROR**: Correct usage: `&quot; + Main.prefix + &quot;kick &lt;@User&gt; &lt;reason&gt;&quot;).queue();\n            return;\n        }\n</code></pre>\n<p>Now I added a few things here and there, and then It just stopped working again. I deleted everything I added to the code to the point where the code was working, and it still didn't worked.</p>\n<pre><code>at de.ayahuascasuppe.commands.Kick.onMessageReceived(Kick.java:31)\n</code></pre>\n<p>refers to:</p>\n<pre><code>mentioned = event.getMessage().getMentionedMembers().get(0);\n</code></pre>\n<p>Here my full code:</p>\n<p>Prefix = &quot;u!&quot;</p>\n<p>logChannel = &quot;984832326947197008&quot;</p>\n<pre><code>package de.ayahuascasuppe.commands;\n\nimport java.awt.Color;\nimport java.time.OffsetDateTime;\nimport java.util.Random;\n\nimport de.ayahuascasupe.de.main.Main;\nimport net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.Permission;\nimport net.dv8tion.jda.api.entities.Guild;\nimport net.dv8tion.jda.api.entities.Member;\nimport net.dv8tion.jda.api.entities.MessageChannel;\nimport net.dv8tion.jda.api.entities.PrivateChannel;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Kick extends ListenerAdapter {\nprotected Member mentioned;\nRandom randNum = new Random();\n\npublic void onMessageReceived(MessageReceivedEvent event) {\n\n    String[] args = event.getMessage().getContentStripped().split(&quot; &quot;);\n    String authorName = event.getAuthor().getName();\n    String authorAvatar = event.getAuthor().getAvatarUrl();\n    String message = event.getMessage().getContentStripped();\n    MessageChannel channel = event.getChannel();\n    Member author = event.getMessage().getMember();\n    Guild guild = event.getGuild();\n    mentioned = event.getMessage().getMentions().getMembers().get(0);\n    \n    // add code here:\n    if (message.startsWith(Main.prefix + &quot;kick&quot;)) {\n        if (!author.hasPermission(Permission.KICK_MEMBERS)) {\n            channel.sendMessage(&quot;**ERROR**: You don't have permission to kick people!&quot;).queue();\n            return;\n        }\n        if (event.getMessage().getMentions().getMembers().isEmpty()) {\n            channel.sendMessage(&quot;**ERROR**: You must mention who you want to be kicked&quot;).queue();\n            return;\n        }\n        if (args.length &lt; 2) {\n            channel.sendMessage(&quot;**ERROR**: Correct usage: `&quot; + Main.prefix + &quot;kick &lt;@User&gt; &lt;reason&gt;&quot;).queue();\n            return;\n        }\n\n        // event.getGuild().kick(event.getMentionedMembers().get(0).getId(),\n        // reason).queue();\n        channel.sendMessage(\n                &quot;**SUCCESS**: You have kicked &quot; + mentioned.getAsMention() + &quot; from the Discord server.&quot;).queue();\n        EmbedBuilder embed = new EmbedBuilder();\n        embed.setTitle(event.getAuthor().getName() + &quot; kicked &quot; + mentioned.getEffectiveName(), null);\n        embed.setDescription(&quot;**Action**: Kick\\n\\nUser &quot; + mentioned.getAsMention() + &quot; got kicked by &quot;\n                + event.getAuthor().getAsMention() + &quot; from the Discord server.\\n\\nReason: &quot; + &quot;reason&quot;);\n        embed.setThumbnail(event.getGuild().getIconUrl());\n        embed.setAuthor(authorName, null, authorAvatar);\n        embed.setColor(Color.RED);\n        embed.setFooter(Main.embedFooter);\n        embed.setTimestamp(OffsetDateTime.now());\n        event.getGuild().getTextChannelById(Main.logChannel).sendMessageEmbeds(embed.build()).queue();\n        embed.clear();\n\n        PrivateChannel dm = mentioned.getUser().openPrivateChannel().complete();\n\n        EmbedBuilder embedDM = new EmbedBuilder();\n        embedDM.setTitle(&quot;You got kicked from the Discord server.&quot;, null);\n        embedDM.setDescription(&quot;Hello buddy. It seems like you got kicked from the &quot; + guild.getName()\n                + &quot; Discord.\\nDon't worry. You are not banned. You can use the invite link to join the Discord again.\\n\\nReason for the kick: &quot;\n                + &quot;reason&quot;);\n        embedDM.setThumbnail(event.getGuild().getIconUrl());\n        embedDM.setColor(Color.RED);\n        embedDM.setFooter(Main.embedFooter);\n        embedDM.setTimestamp(OffsetDateTime.now());\n        dm.sendMessageEmbeds(embedDM.build()).queue();\n        embedDM.clear();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>Information:\nJavaSE-17</p>\n<p>JDA Version: 5.0.0-alpha.4</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"score":0,"creation_date":1651169073,"post_id":72048221,"comment_id":127306024,"body_markdown":"Alright looks like the row number is not accessible.","body":"Alright looks like the row number is not accessible."},{"owner":{"account_id":420575,"reputation":5030,"user_id":798346,"accept_rate":56,"display_name":"Jim Rhodes"},"score":0,"creation_date":1651169138,"post_id":72048221,"comment_id":127306046,"body_markdown":"Deleting the last row does not make that row ID available for the next new row.","body":"Deleting the last row does not make that row ID available for the next new row."},{"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"score":0,"creation_date":1651169223,"post_id":72048221,"comment_id":127306074,"body_markdown":"I need to get the ID because in adapterview i put i value as an EXTRA and based on that i find the information from database.","body":"I need to get the ID because in adapterview i put i value as an EXTRA and based on that i find the information from database."},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1651212834,"post_id":72048221,"comment_id":127314757,"body_markdown":"In the SQLite schema there is a table `sqlite_sequence` in which the counters for the automatic sequences are stored. You can reset them, but then they start again from zero and you will run into new problems.\nInteresting why there is an error if your last ID = 5. you should change your query or add your own ID to your table.","body":"In the SQLite schema there is a table <code>sqlite_sequence</code> in which the counters for the automatic sequences are stored. You can reset them, but then they start again from zero and you will run into new problems. Interesting why there is an error if your last ID = 5. you should change your query or add your own ID to your table."},{"owner":{"account_id":420575,"reputation":5030,"user_id":798346,"accept_rate":56,"display_name":"Jim Rhodes"},"score":0,"creation_date":1651244241,"post_id":72048221,"comment_id":127325278,"body_markdown":"If you are relying on the ID&#39;s to be consecutive then you are doing something wrong. If you post your code I may be able to tell you how to fix it.","body":"If you are relying on the ID&#39;s to be consecutive then you are doing something wrong. If you post your code I may be able to tell you how to fix it."},{"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"score":0,"creation_date":1651410507,"post_id":72048221,"comment_id":127353783,"body_markdown":"@JimRhodes Now if i delete the last one and add new one it does give the right id because of `String strSQL1 = &quot;UPDATE people_table SET id = (id +1) WHERE id &lt; 1&quot;; ` `db.execSQL(strSQL1);` but if i delete something from between the first and last one the id goes wrong.","body":"@JimRhodes Now if i delete the last one and add new one it does give the right id because of <code>String strSQL1 = &quot;UPDATE people_table SET id = (id +1) WHERE id &lt; 1&quot;; </code> <code>db.execSQL(strSQL1);</code> but if i delete something from between the first and last one the id goes wrong."},{"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"score":0,"creation_date":1651410797,"post_id":72048221,"comment_id":127353848,"body_markdown":"Never mind i got it working adding a new update beneath that  `String strSQL = &quot;UPDATE people_table SET id = (id -1) WHERE id &gt; 1&quot;;`","body":"Never mind i got it working adding a new update beneath that  <code>String strSQL = &quot;UPDATE people_table SET id = (id -1) WHERE id &gt; 1&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":7136594,"reputation":21,"user_id":17985598,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651170747,"creation_date":1651170747,"answer_id":72048679,"question_id":72048221,"body_markdown":"I think you can use a method to recover the last item that you insert, or the one with the higher id, with that you have the value of the next id that you need to put as an extra. If you need it when there are no values then save it when you delete the last item, or reset the data base so that ir reestart the count of the id\r\n","title":"SQLite Java: update table ID&#39;s after deleting item automatically","body":"<p>I think you can use a method to recover the last item that you insert, or the one with the higher id, with that you have the value of the next id that you need to put as an extra. If you need it when there are no values then save it when you delete the last item, or reset the data base so that ir reestart the count of the id</p>\n"},{"tags":[],"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651474273,"creation_date":1651410945,"answer_id":72077052,"question_id":72048221,"body_markdown":"Got it working by adding these:\r\n\r\n\r\n```\r\nString strSQL1 = &quot;UPDATE people_table SET id = (id +1) WHERE id &lt; 1&quot;;\r\nString strSQL = &quot;UPDATE people_table SET id = (id -1) WHERE id &gt; 1&quot;;\r\ndb.execSQL(strSQL);\r\ndb.execSQL(strSQL1);\r\n```\r\nThe `id` goes right one even if I delete something between first and last one.\r\nAnd you need to remove `autoincrement` from `id` for this to work.","title":"SQLite Java: update table ID&#39;s after deleting item automatically","body":"<p>Got it working by adding these:</p>\n<pre><code>String strSQL1 = &quot;UPDATE people_table SET id = (id +1) WHERE id &lt; 1&quot;;\nString strSQL = &quot;UPDATE people_table SET id = (id -1) WHERE id &gt; 1&quot;;\ndb.execSQL(strSQL);\ndb.execSQL(strSQL1);\n</code></pre>\n<p>The <code>id</code> goes right one even if I delete something between first and last one.\nAnd you need to remove <code>autoincrement</code> from <code>id</code> for this to work.</p>\n"}],"owner":{"account_id":14562854,"reputation":79,"user_id":10518470,"display_name":"Jon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72077052,"answer_count":2,"score":0,"last_activity_date":1655038229,"creation_date":1651168314,"question_id":72048221,"body_markdown":"i&#39;m using SQLite to store data and if i delete the last row, ID is 4 and after that add a new row and the ID is 5 and it should be 4. And when trying to view the data it crashes since it can&#39;t find data from ID 5.\r\n\r\n[Database Inspector][1] \r\n\r\n\r\n[1]: https://i.stack.imgur.com/51F2N.png\r\nIn database inspector left of the ID column is a row number. is this accessible since that would solve the problem or is it just a row number indicator in Android studio.\r\n\r\nThank you and have  a nice day!","title":"SQLite Java: update table ID&#39;s after deleting item automatically","body":"<p>i'm using SQLite to store data and if i delete the last row, ID is 4 and after that add a new row and the ID is 5 and it should be 4. And when trying to view the data it crashes since it can't find data from ID 5.</p>\n<p><a href=\"https://i.stack.imgur.com/51F2N.png\" rel=\"nofollow noreferrer\">Database Inspector</a></p>\n<p>In database inspector left of the ID column is a row number. is this accessible since that would solve the problem or is it just a row number indicator in Android studio.</p>\n<p>Thank you and have  a nice day!</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":20270978,"reputation":55,"user_id":18471564,"display_name":"Yassine"},"score":0,"creation_date":1655073067,"post_id":72588638,"comment_id":128237587,"body_markdown":"@AlexMamo sorry to tag you but i&#39;m really stuck here, do you know what is causing this issue?","body":"@AlexMamo sorry to tag you but i&#39;m really stuck here, do you know what is causing this issue?"},{"owner":{"account_id":483967,"reputation":1219,"user_id":899345,"accept_rate":44,"display_name":"Luke Irvin"},"score":0,"creation_date":1659149506,"post_id":72588638,"comment_id":129230918,"body_markdown":"Were you able to resolve this? I&#39;m having the same issue.","body":"Were you able to resolve this? I&#39;m having the same issue."},{"owner":{"account_id":20270978,"reputation":55,"user_id":18471564,"display_name":"Yassine"},"score":0,"creation_date":1659188036,"post_id":72588638,"comment_id":129236761,"body_markdown":"Unfortunately not. My best solution was to switch my android app to a new firebase project.","body":"Unfortunately not. My best solution was to switch my android app to a new firebase project."}],"owner":{"account_id":20270978,"reputation":55,"user_id":18471564,"display_name":"Yassine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655038127,"creation_date":1654991883,"question_id":72588638,"body_markdown":"I have configured email verification and password email reset in my firebase project, it used to work fine, I tested it multiple times, but suddenly it stopped working and I am not recieving any email. \r\nI tried checking spam but still, there was nothing.\r\n\r\nHere&#39;s my code for sending email verification after registering user: \r\n\r\n    user.sendEmailVerification().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            Toast.makeText(RegisterActivity.this, &quot;Please verifiy your email and sign in&quot;, Toast.LENGTH_SHORT).show();\r\n            startActivity(new Intent(getApplicationContext(), VerificationActivity.class));\r\n            finish();\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Toast.makeText(RegisterActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nI also tried to make a button that re-send the email but I get the following message &quot;we have stopped all traffic from this device due to unsual activity&quot;\r\n\r\n    verify.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            user.sendEmailVerification().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void unused) {\r\n                    Toast.makeText(VerificationActivity.this, &quot;Verification email has been sent, check spam if you are unable to find it&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(VerificationActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\nmy code for email reset: \r\n\r\n    auth.sendPasswordResetEmail(email.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { //email is entered by the user\r\n        @Override\r\n        public void onSuccess(Void unused) { \r\n            Toast.makeText(LoginActivity.this, &quot;Reset email sent&quot;, Toast.LENGTH_SHORT);\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() { \r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT);\r\n        }\r\n    });\r\n\r\n","title":"Firebase not sending any emails","body":"<p>I have configured email verification and password email reset in my firebase project, it used to work fine, I tested it multiple times, but suddenly it stopped working and I am not recieving any email.\nI tried checking spam but still, there was nothing.</p>\n<p>Here's my code for sending email verification after registering user:</p>\n<pre><code>user.sendEmailVerification().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void unused) {\n        Toast.makeText(RegisterActivity.this, &quot;Please verifiy your email and sign in&quot;, Toast.LENGTH_SHORT).show();\n        startActivity(new Intent(getApplicationContext(), VerificationActivity.class));\n        finish();\n    }\n}).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n        Toast.makeText(RegisterActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>I also tried to make a button that re-send the email but I get the following message &quot;we have stopped all traffic from this device due to unsual activity&quot;</p>\n<pre><code>verify.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        user.sendEmailVerification().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void unused) {\n                Toast.makeText(VerificationActivity.this, &quot;Verification email has been sent, check spam if you are unable to find it&quot;, Toast.LENGTH_LONG).show();\n\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(VerificationActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n});\n</code></pre>\n<p>my code for email reset:</p>\n<pre><code>auth.sendPasswordResetEmail(email.getText().toString()).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() { //email is entered by the user\n    @Override\n    public void onSuccess(Void unused) { \n        Toast.makeText(LoginActivity.this, &quot;Reset email sent&quot;, Toast.LENGTH_SHORT);\n    }\n}).addOnFailureListener(new OnFailureListener() { \n    @Override\n    public void onFailure(@NonNull Exception e) {\n        Toast.makeText(LoginActivity.this, e.getMessage(), Toast.LENGTH_SHORT);\n    }\n});\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1654963889,"post_id":72585854,"comment_id":128219844,"body_markdown":"This feels like a strange thing to want: what use case requires your matrix restricts its elements to unique values?","body":"This feels like a strange thing to want: what use case requires your matrix restricts its elements to unique values?"},{"owner":{"account_id":25393211,"reputation":11,"user_id":19203844,"display_name":"Mr. Ghost"},"score":0,"creation_date":1655006370,"post_id":72585854,"comment_id":128225879,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans that&#39;s the thing, I don&#39;t know. I just started java last week.","body":"@Mike&#39;Pomax&#39;Kamermans that&#39;s the thing, I don&#39;t know. I just started java last week."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1655071747,"post_id":72585854,"comment_id":128237413,"body_markdown":"If you want to avoid edge duplication couldn&#39;t you check values in the 2d array *matrix*? If the user decides to insert edge *(i,j)* then you can check if *matrix[i][j]==1* (or as well if *matrix[j][i]==1)*.","body":"If you want to avoid edge duplication couldn&#39;t you check values in the 2d array <i>matrix</i>? If the user decides to insert edge <i>(i,j)</i> then you can check if <i>matrix[i][j]==1</i> (or as well if <i>matrix[j][i]==1)</i>."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1655075961,"post_id":72585854,"comment_id":128237951,"body_markdown":"If you don&#39;t know, let me ask a different question: why are you asking? Because if this is a purely academic &quot;how would I ...&quot; question, then the real world answer is &quot;write a data structure that enforces your constraints&quot;. The answer to almost every single &quot;how do I do X with my data&quot; is &quot;use the appropriate data structure&quot;, because the right data structure drastically simplifies all your code.","body":"If you don&#39;t know, let me ask a different question: why are you asking? Because if this is a purely academic &quot;how would I ...&quot; question, then the real world answer is &quot;write a data structure that enforces your constraints&quot;. The answer to almost every single &quot;how do I do X with my data&quot; is &quot;use the appropriate data structure&quot;, because the right data structure drastically simplifies all your code."}],"owner":{"account_id":25393211,"reputation":11,"user_id":19203844,"display_name":"Mr. Ghost"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655038076,"creation_date":1654963174,"question_id":72585854,"body_markdown":"What I want is if [1][0] is already in the list then if inputting [0][1] is considered as duplicate thus not adding it to the loop. That&#39;s the only thing that I wanted to accomplish and yet it seems impossible; at least for me.\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Stack; \r\n\r\npublic class MatrixGraph{\r\n    List&lt;List&lt;Integer&gt;&gt; graph; \r\n    Scanner input = new Scanner(System.in);\r\n    ArrayList&lt;Connection&gt; Links = new ArrayList&lt;Connection&gt;(); \r\n    boolean visited[]; \r\n    int nodes; \r\n    int vertices;\r\n    int matrix[][];\r\n    class Node {\r\n        String name;\r\n        boolean visited;\r\n        ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;Node&gt;();\r\n\r\n        Node(String name) {\r\n            this.name = name;\r\n            visited = false;\r\n        }\r\n    }\r\n    \r\n    class Connection {\r\n        double fare;\r\n        Node source, destination;\r\n\r\n        Connection(Node source, Node destination) {\r\n            this.source = source;\r\n            this.destination = destination;\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args){ \r\n        Scanner s = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Enter the number of vertices&quot;);\r\n        int V = s.nextInt();\r\n        MatrixGraph amg = new MatrixGraph(V);\r\n        int n1 = V-1; int n2 = V*n1; int maxSize = n2/2;\r\n        while (true){\r\n            System.out.println(&quot;Enter the number of edges&quot;); \r\n            int E = s.nextInt();\r\n        \r\n            if (E &gt; maxSize){\r\n                System.out.println(&quot;Too Much Edges!&quot;);\r\n                continue;\r\n            }else{\r\n                System.out.print(&quot;\\n&quot;);\r\n                for(int i=0;i&lt;E;i++){\r\n                    System.out.print(&quot;Source: &quot;);\r\n                    int mark = s.nextInt();\r\n                    System.out.print(&quot;Destination: &quot;);\r\n                    int mac = s.nextInt();\r\n                    if (mark == mac) {                  \r\n                        System.out.println(&quot;\\nERROR TRAPPED!!\\nNo Loops Allowed Here!\\nAdd New Edge!&quot;);\r\n                        i--;\r\n                        continue;\r\n                    } else if(mark &gt; (V-1)||mac &gt; (V-1)) {\r\n                        i--;\r\n                        System.out.println(&quot;\\nLOL No\\n&quot;);\r\n                    }\r\n                    amg.addEdge(mark,mac);\r\n                    amg.addEdge1(mark,mac);\r\n                } \r\n            }\r\n        }\r\n    }\r\n    \r\n    MatrixGraph(int vertices){\r\n        graph = new ArrayList&lt;&gt;(); \r\n        visited = new boolean[vertices];  \r\n        this.vertices=vertices; \r\n        matrix=new int[vertices][vertices]; \r\n        for (int i = 0; i &lt; vertices; i++){ \r\n            graph.add(i, new ArrayList&lt;&gt;()); \r\n        }\r\n    }\r\n    \r\n    public void addEdge(int source,int destination){ \r\n        matrix[source][destination]= 1; \r\n        matrix[destination][source]= 1;\r\n    }\r\n    \r\n    public void addEdge1(int a, int b) { \r\n        graph.get(a).add(b);\r\n        graph.get(b).add(a);\r\n    }\r\n}\r\n```","title":"How do I check for duplicates from my 2d Array? Java","body":"<p>What I want is if [1][0] is already in the list then if inputting [0][1] is considered as duplicate thus not adding it to the loop. That's the only thing that I wanted to accomplish and yet it seems impossible; at least for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Stack; \n\npublic class MatrixGraph{\n    List&lt;List&lt;Integer&gt;&gt; graph; \n    Scanner input = new Scanner(System.in);\n    ArrayList&lt;Connection&gt; Links = new ArrayList&lt;Connection&gt;(); \n    boolean visited[]; \n    int nodes; \n    int vertices;\n    int matrix[][];\n    class Node {\n        String name;\n        boolean visited;\n        ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;Node&gt;();\n\n        Node(String name) {\n            this.name = name;\n            visited = false;\n        }\n    }\n    \n    class Connection {\n        double fare;\n        Node source, destination;\n\n        Connection(Node source, Node destination) {\n            this.source = source;\n            this.destination = destination;\n        }\n    }\n    \n    public static void main(String[] args){ \n        Scanner s = new Scanner(System.in);\n        \n        System.out.println(&quot;Enter the number of vertices&quot;);\n        int V = s.nextInt();\n        MatrixGraph amg = new MatrixGraph(V);\n        int n1 = V-1; int n2 = V*n1; int maxSize = n2/2;\n        while (true){\n            System.out.println(&quot;Enter the number of edges&quot;); \n            int E = s.nextInt();\n        \n            if (E &gt; maxSize){\n                System.out.println(&quot;Too Much Edges!&quot;);\n                continue;\n            }else{\n                System.out.print(&quot;\\n&quot;);\n                for(int i=0;i&lt;E;i++){\n                    System.out.print(&quot;Source: &quot;);\n                    int mark = s.nextInt();\n                    System.out.print(&quot;Destination: &quot;);\n                    int mac = s.nextInt();\n                    if (mark == mac) {                  \n                        System.out.println(&quot;\\nERROR TRAPPED!!\\nNo Loops Allowed Here!\\nAdd New Edge!&quot;);\n                        i--;\n                        continue;\n                    } else if(mark &gt; (V-1)||mac &gt; (V-1)) {\n                        i--;\n                        System.out.println(&quot;\\nLOL No\\n&quot;);\n                    }\n                    amg.addEdge(mark,mac);\n                    amg.addEdge1(mark,mac);\n                } \n            }\n        }\n    }\n    \n    MatrixGraph(int vertices){\n        graph = new ArrayList&lt;&gt;(); \n        visited = new boolean[vertices];  \n        this.vertices=vertices; \n        matrix=new int[vertices][vertices]; \n        for (int i = 0; i &lt; vertices; i++){ \n            graph.add(i, new ArrayList&lt;&gt;()); \n        }\n    }\n    \n    public void addEdge(int source,int destination){ \n        matrix[source][destination]= 1; \n        matrix[destination][source]= 1;\n    }\n    \n    public void addEdge1(int a, int b) { \n        graph.get(a).add(b);\n        graph.get(b).add(a);\n    }\n}\n</code></pre>\n"},{"tags":["java","functional-interface","binary-operators"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655037869,"creation_date":1655036807,"answer_id":72592196,"question_id":72592138,"body_markdown":"You seem to have just mixed up the order of the type parameters of `Function`. To write &quot;a function that takes a `Foo` and returns a `T`&quot;, it is `Function&lt;Foo, T&gt;`:\r\n\r\n    public  static &lt;T&gt; T applyBinOperator(Foo foo1, Foo foo2,\r\n                                          Function&lt;Foo, T&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\r\n        return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\r\n    }\r\n\r\nWe can make the `Foo` part generic too, and also apply [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super):\r\n\r\n    public  static &lt;T, U&gt; T applyBinOperator(U foo1, U foo2,\r\n                                          Function&lt;? super U, ? extends T&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\r\n        return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\r\n    }\r\n\r\nAlso, `String.join` does not join `&quot;first&quot;` and `&quot;second&quot;` together. You probably meant `String.concat`, or just use `+`, which works with strings too.","title":"Method declaration with a function to extract fields of an object and a binary operator which will be applied to those fields","body":"<p>You seem to have just mixed up the order of the type parameters of <code>Function</code>. To write &quot;a function that takes a <code>Foo</code> and returns a <code>T</code>&quot;, it is <code>Function&lt;Foo, T&gt;</code>:</p>\n<pre><code>public  static &lt;T&gt; T applyBinOperator(Foo foo1, Foo foo2,\n                                      Function&lt;Foo, T&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\n    return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\n}\n</code></pre>\n<p>We can make the <code>Foo</code> part generic too, and also apply <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>:</p>\n<pre><code>public  static &lt;T, U&gt; T applyBinOperator(U foo1, U foo2,\n                                      Function&lt;? super U, ? extends T&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\n    return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\n}\n</code></pre>\n<p>Also, <code>String.join</code> does not join <code>&quot;first&quot;</code> and <code>&quot;second&quot;</code> together. You probably meant <code>String.concat</code>, or just use <code>+</code>, which works with strings too.</p>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655106981,"accepted_answer_id":72592196,"answer_count":1,"score":-1,"last_activity_date":1655037869,"creation_date":1655036364,"question_id":72592138,"body_markdown":"Given the following sample class `Foo`\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @ToString\r\n    static class Foo {\r\n        int field1;\r\n        int field2;\r\n        String field3;\r\n    }\r\n\r\nI want to declare a method, let&#39;s call it `applyBinOperator`, which accepts two `Foo` objects a key-extractor and a binary operator and apply that operator to the extracted fields of the Foo objects and returns the result. So basically I want to call the method in the following way or something similar:\r\n\r\n    Foo foo1      = new Foo(10, 20, &quot;first&quot;);\r\n    Foo foo2      = new Foo(100, 200, &quot;second&quot;);\r\n\r\n    int sum       = applyBinOperator(foo1, foo2, Foo::getField1, (a,b) -&gt; a+b);\r\n\r\n    int prod      = applyBinOperator(foo1, foo2, Foo::getField2, (a,b) -&gt; a*b);\r\n\r\n    String concat = applyBinOperator(foo1, foo2, Foo::getField3, (a,b) -&gt; String.join(a,b));\r\n\r\n    //and get sum = 110, prod = 4000 and concat = firstsecond \r\n\r\nBut I am struggling to find the correct syntax to define the method since I am not very familiar with generics. I have tried the following but it doesn&#39;t compile yet:\r\n\r\n    public  static &lt;T&gt; T applyBinOperator(Foo foo1, Foo foo2, \r\n           Function&lt;? super T, ?&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\r\n\r\n        return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\r\n    }\r\n\r\nCan someone help me with the correct syntax?","title":"Method declaration with a function to extract fields of an object and a binary operator which will be applied to those fields","body":"<p>Given the following sample class <code>Foo</code></p>\n<pre><code>@Getter\n@AllArgsConstructor\n@ToString\nstatic class Foo {\n    int field1;\n    int field2;\n    String field3;\n}\n</code></pre>\n<p>I want to declare a method, let's call it <code>applyBinOperator</code>, which accepts two <code>Foo</code> objects a key-extractor and a binary operator and apply that operator to the extracted fields of the Foo objects and returns the result. So basically I want to call the method in the following way or something similar:</p>\n<pre><code>Foo foo1      = new Foo(10, 20, &quot;first&quot;);\nFoo foo2      = new Foo(100, 200, &quot;second&quot;);\n\nint sum       = applyBinOperator(foo1, foo2, Foo::getField1, (a,b) -&gt; a+b);\n\nint prod      = applyBinOperator(foo1, foo2, Foo::getField2, (a,b) -&gt; a*b);\n\nString concat = applyBinOperator(foo1, foo2, Foo::getField3, (a,b) -&gt; String.join(a,b));\n\n//and get sum = 110, prod = 4000 and concat = firstsecond \n</code></pre>\n<p>But I am struggling to find the correct syntax to define the method since I am not very familiar with generics. I have tried the following but it doesn't compile yet:</p>\n<pre><code>public  static &lt;T&gt; T applyBinOperator(Foo foo1, Foo foo2, \n       Function&lt;? super T, ?&gt; keyExtractor, BinaryOperator&lt;T&gt; binaryOperator) {\n\n    return binaryOperator.apply(keyExtractor.apply(foo1), keyExtractor.apply(foo2));\n}\n</code></pre>\n<p>Can someone help me with the correct syntax?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22718731,"reputation":559,"user_id":16886597,"display_name":"cocomac"},"score":3,"creation_date":1654970280,"post_id":72586692,"comment_id":128221146,"body_markdown":"My guess is it opens, prints that stuff, and then closes right after because you didn&#39;t tell it to, for example, wait a second before closing. Open your terminal (PowerShell on Windows), navigate to wherever the jar is (use `cd`), and then do `java -jar yourfile.jar` and then the output will be there. Or tell it to wait a few seconds at the end of your code.","body":"My guess is it opens, prints that stuff, and then closes right after because you didn&#39;t tell it to, for example, wait a second before closing. Open your terminal (PowerShell on Windows), navigate to wherever the jar is (use <code>cd</code>), and then do <code>java -jar yourfile.jar</code> and then the output will be there. Or tell it to wait a few seconds at the end of your code."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1654970502,"post_id":72586692,"comment_id":128221192,"body_markdown":"No need of powershell though. Simple command prompt ```cmd``` would do","body":"No need of powershell though. Simple command prompt <code>cmd</code> would do"},{"owner":{"account_id":6125380,"reputation":45,"user_id":4777555,"accept_rate":43,"display_name":"Essentialz"},"score":0,"creation_date":1654972702,"post_id":72586692,"comment_id":128221596,"body_markdown":"Can I put Thread.sleep at the end then? Would that work. Sorry Im a newbie just trying to make this for my dad for his lotto numbers","body":"Can I put Thread.sleep at the end then? Would that work. Sorry Im a newbie just trying to make this for my dad for his lotto numbers"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1654975599,"post_id":72586692,"comment_id":128222129,"body_markdown":"The default program to &#39;open&#39; jars on WIndows is normally javaw.exe, which doesn&#39;t let the terminal window remain open. I would personally change that to java.exe, then you should see the output","body":"The default program to &#39;open&#39; jars on WIndows is normally javaw.exe, which doesn&#39;t let the terminal window remain open. I would personally change that to java.exe, then you should see the output"},{"owner":{"account_id":6125380,"reputation":45,"user_id":4777555,"accept_rate":43,"display_name":"Essentialz"},"score":0,"creation_date":1654979265,"post_id":72586692,"comment_id":128222764,"body_markdown":"I just tried using java.exe and it opens flashes then closes when i tried javaw.exe it does nothing. :( not sure what to do or if the Thread.sleep code might work for it? Thanks to all again.","body":"I just tried using java.exe and it opens flashes then closes when i tried javaw.exe it does nothing. :( not sure what to do or if the Thread.sleep code might work for it? Thanks to all again."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655037586,"post_id":72586692,"comment_id":128230486,"body_markdown":"You can sleep, or use `new Scanner(System.in).nextLine()` or `System.console().readLine()` to wait for an enter (note: this last one generally doesn&#39;t work when running from Eclipse).","body":"You can sleep, or use <code>new Scanner(System.in).nextLine()</code> or <code>System.console().readLine()</code> to wait for an enter (note: this last one generally doesn&#39;t work when running from Eclipse)."},{"owner":{"account_id":6125380,"reputation":45,"user_id":4777555,"accept_rate":43,"display_name":"Essentialz"},"score":0,"creation_date":1655055119,"post_id":72586692,"comment_id":128234386,"body_markdown":"hey thank you for the reply. i just tried\n\ntry\n     {\n         Thread.sleep(1000);\n     }\n     catch(InterruptedException ex)\n     {\n         Thread.currentThread().interrupt();\n     }\n\nbut it didn&#39;t do anything different :( and i tried using the java.util.concurrent.TimeUnit: as well but it didn&#39;t do anything. I just want it to remain open when i double click on the jar file so my dad can write down the numbers lol","body":"hey thank you for the reply. i just tried  try      {          Thread.sleep(1000);      }      catch(InterruptedException ex)      {          Thread.currentThread().interrupt();      }  but it didn&#39;t do anything different :( and i tried using the java.util.concurrent.TimeUnit: as well but it didn&#39;t do anything. I just want it to remain open when i double click on the jar file so my dad can write down the numbers lol"}],"owner":{"account_id":6125380,"reputation":45,"user_id":4777555,"accept_rate":43,"display_name":"Essentialz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655037429,"creation_date":1654970058,"question_id":72586692,"body_markdown":"I made a random number generator which works fine in the console in Eclipse, but when I export it as JAR and double click on it, it opens up and then closes right away. How can I fix this? There is no errors at all when exporting so I am kind of confused. \r\n\r\nHere is the code\r\n```java\r\npackage stajeovo;\r\n\r\nimport java.util.Random;\r\n\r\npublic class probatu {\r\n\r\n    public static void main (String[] args){\r\n\r\n        System.out.println(&quot;Ok Dragisa!, Evo ti su Random brojovi! &quot; + &quot;\\r\\n&quot;);\r\n\r\n        Random drag = new Random();\r\n        Random drag1 = new Random();\r\n        Random drag2 = new Random();\r\n        Random drag3 = new Random();\r\n        Random drag4 = new Random();\r\n        Random drag5 = new Random();\r\n        Random drag6 = new Random();\r\n\r\n        int max = 50;\r\n        int min = 1;\r\n\r\n        \r\n        int broj2 = ((49 + 1) -1) + 1;\r\n        int broj3 = 50;\r\n        int broj4 = 50;\r\n        int broj5 = 50;\r\n        int broj7 = 50;\r\n        \r\n        int int_random = drag.nextInt((max+1) - min) + min;\r\n        int int_random1 = drag1.nextInt((max+1) - min) + min;\r\n        int int_random2 = drag2.nextInt(broj2);\r\n        int int_random3 = drag3.nextInt(broj3);\r\n        int int_random4 = drag4.nextInt(broj4);\r\n        int int_random5 = drag5.nextInt(broj5);\r\n        int int_random6 = drag6.nextInt(broj7);\r\n\r\n        System.out.println(&quot;Evo ti prvi broj : &quot; + &quot; : &quot; + int_random );\r\n        System.out.println(&quot;Evo ti drugi broj : &quot; + &quot; : &quot; + int_random1);\r\n        System.out.println(&quot;Evo ti treci broj : &quot; + int_random2);\r\n        System.out.println(&quot;Evo ti cetvrti broj : &quot; + int_random3);\r\n        System.out.println(&quot;Evo ti peti broj : &quot; + int_random4);\r\n        System.out.println(&quot;Evo ti sesti broj : &quot; + int_random5);\r\n        System.out.println(&quot;Evo ti sedmi broj : &quot; + int_random6 + &quot;\\r\\n&quot;);\r\n\r\n        System.out.println(&quot;Hajde sada vise pobjedi!!! :) &quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"JAR File Open and Closes Instantly","body":"<p>I made a random number generator which works fine in the console in Eclipse, but when I export it as JAR and double click on it, it opens up and then closes right away. How can I fix this? There is no errors at all when exporting so I am kind of confused.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stajeovo;\n\nimport java.util.Random;\n\npublic class probatu {\n\n    public static void main (String[] args){\n\n        System.out.println(&quot;Ok Dragisa!, Evo ti su Random brojovi! &quot; + &quot;\\r\\n&quot;);\n\n        Random drag = new Random();\n        Random drag1 = new Random();\n        Random drag2 = new Random();\n        Random drag3 = new Random();\n        Random drag4 = new Random();\n        Random drag5 = new Random();\n        Random drag6 = new Random();\n\n        int max = 50;\n        int min = 1;\n\n        \n        int broj2 = ((49 + 1) -1) + 1;\n        int broj3 = 50;\n        int broj4 = 50;\n        int broj5 = 50;\n        int broj7 = 50;\n        \n        int int_random = drag.nextInt((max+1) - min) + min;\n        int int_random1 = drag1.nextInt((max+1) - min) + min;\n        int int_random2 = drag2.nextInt(broj2);\n        int int_random3 = drag3.nextInt(broj3);\n        int int_random4 = drag4.nextInt(broj4);\n        int int_random5 = drag5.nextInt(broj5);\n        int int_random6 = drag6.nextInt(broj7);\n\n        System.out.println(&quot;Evo ti prvi broj : &quot; + &quot; : &quot; + int_random );\n        System.out.println(&quot;Evo ti drugi broj : &quot; + &quot; : &quot; + int_random1);\n        System.out.println(&quot;Evo ti treci broj : &quot; + int_random2);\n        System.out.println(&quot;Evo ti cetvrti broj : &quot; + int_random3);\n        System.out.println(&quot;Evo ti peti broj : &quot; + int_random4);\n        System.out.println(&quot;Evo ti sesti broj : &quot; + int_random5);\n        System.out.println(&quot;Evo ti sedmi broj : &quot; + int_random6 + &quot;\\r\\n&quot;);\n\n        System.out.println(&quot;Hajde sada vise pobjedi!!! :) &quot;);\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","swipe","gesture","brightness"],"comments":[{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1568292651,"post_id":57906808,"comment_id":102234099,"body_markdown":"Can you have two views, one on the left and the other on the right, and use a separate GestureDetector for each one?","body":"Can you have two views, one on the left and the other on the right, and use a separate GestureDetector for each one?"},{"owner":{"account_id":9255157,"reputation":658,"user_id":6874315,"display_name":"Huzaifa Asif"},"score":0,"creation_date":1568352168,"post_id":57906808,"comment_id":102253544,"body_markdown":"@LarsH no as it is a live tv channel stream so i can&#39;t","body":"@LarsH no as it is a live tv channel stream so i can&#39;t"}],"answers":[{"tags":[],"owner":{"account_id":308278,"reputation":15431,"user_id":620053,"accept_rate":93,"display_name":"Rafael T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568293663,"creation_date":1568293663,"answer_id":57907468,"question_id":57906808,"body_markdown":"\r\n\r\nhave you tried something along these lines:\r\n\r\n    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {\r\n       int halfWidth = getWindow().getDecorView().getWidth() / 2;\r\n        if (e1.getX() &lt; halfWidth) {\r\n          //leftSide code\r\n        else{\r\n          //rightSide code\r\n        }\r\n    }\r\n\r\n","title":"Half screen swipe up and down for volume and half for brightness","body":"<p>have you tried something along these lines:</p>\n\n<pre><code>public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {\n   int halfWidth = getWindow().getDecorView().getWidth() / 2;\n    if (e1.getX() &lt; halfWidth) {\n      //leftSide code\n    else{\n      //rightSide code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9255157,"reputation":658,"user_id":6874315,"display_name":"Huzaifa Asif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57907468,"answer_count":1,"score":0,"last_activity_date":1655037339,"creation_date":1568291549,"question_id":57906808,"body_markdown":"I want to read if the user is swiping on the right side of the screen or left side. I want to raise volume is user swipes up on right side of the screen and increase brightness if user swipes on the left side of the screen. I was able to read **up,down and right,left swipe**  but i want to read swipeUpRight, swipeDownRight and swipeUpLeft,swipeDownLeft\r\n\r\n    private final class GestureListener extends SimpleOnGestureListener {\r\n    \r\n            private static final int SWIPE_THRESHOLD = 100;\r\n            private static final int SWIPE_VELOCITY_THRESHOLD = 100;\r\n    \r\n            @Override\r\n            public boolean onDown(MotionEvent e) {\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {\r\n                boolean result = false;\r\n                try {\r\n                    float diffY = e2.getY() - e1.getY();\r\n                    float diffX = e2.getX() - e1.getX();\r\n                    /*Log.e(&quot;TAG&quot;, &quot;Y: &quot; + e1.getY() + &quot; , &quot; + e2.getY());\r\n                    Log.e(&quot;TAG&quot;, &quot;diffY: &quot; + diffY);\r\n                    Log.e(&quot;TAG&quot;, &quot;X: &quot; + e1.getX() + &quot; , &quot; + e2.getX());*/\r\n                    Log.e(&quot;TAG&quot;, &quot;X: &quot; + Math.abs(diffX));\r\n                    Log.e(&quot;TAG&quot;, &quot;Y: &quot; + Math.abs(diffY));\r\n                    if (Math.abs(diffX) &gt; Math.abs(diffY)) {\r\n                        if (Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD) {\r\n                            if (diffX &gt; 0) {\r\n                                onSwipeRight();\r\n                            } else {\r\n                                onSwipeLeft();\r\n                            }\r\n                            result = true;\r\n                        }\r\n                    } else if (Math.abs(diffY) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityY) &gt; SWIPE_VELOCITY_THRESHOLD) {\r\n                        if (diffY &gt; 0) {\r\n                            onSwipeBottomRight();\r\n                        } else {\r\n                            onSwipeTopRight();\r\n                        }\r\n                        result = true;\r\n                    }\r\n                } catch (Exception exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n                return result;\r\n            }\r\n        }","title":"Half screen swipe up and down for volume and half for brightness","body":"<p>I want to read if the user is swiping on the right side of the screen or left side. I want to raise volume is user swipes up on right side of the screen and increase brightness if user swipes on the left side of the screen. I was able to read <strong>up,down and right,left swipe</strong>  but i want to read swipeUpRight, swipeDownRight and swipeUpLeft,swipeDownLeft</p>\n\n<pre><code>private final class GestureListener extends SimpleOnGestureListener {\n\n        private static final int SWIPE_THRESHOLD = 100;\n        private static final int SWIPE_VELOCITY_THRESHOLD = 100;\n\n        @Override\n        public boolean onDown(MotionEvent e) {\n            return true;\n        }\n\n        @Override\n        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {\n            boolean result = false;\n            try {\n                float diffY = e2.getY() - e1.getY();\n                float diffX = e2.getX() - e1.getX();\n                /*Log.e(\"TAG\", \"Y: \" + e1.getY() + \" , \" + e2.getY());\n                Log.e(\"TAG\", \"diffY: \" + diffY);\n                Log.e(\"TAG\", \"X: \" + e1.getX() + \" , \" + e2.getX());*/\n                Log.e(\"TAG\", \"X: \" + Math.abs(diffX));\n                Log.e(\"TAG\", \"Y: \" + Math.abs(diffY));\n                if (Math.abs(diffX) &gt; Math.abs(diffY)) {\n                    if (Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD) {\n                        if (diffX &gt; 0) {\n                            onSwipeRight();\n                        } else {\n                            onSwipeLeft();\n                        }\n                        result = true;\n                    }\n                } else if (Math.abs(diffY) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityY) &gt; SWIPE_VELOCITY_THRESHOLD) {\n                    if (diffY &gt; 0) {\n                        onSwipeBottomRight();\n                    } else {\n                        onSwipeTopRight();\n                    }\n                    result = true;\n                }\n            } catch (Exception exception) {\n                exception.printStackTrace();\n            }\n            return result;\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1654986992,"post_id":72588284,"comment_id":128223950,"body_markdown":"Use brackets to make it more obvious: `System.out.println(x&gt;20 ? (x&lt;0 ? 10:8) : (7) );`. Difficult thing is to find the outermost pairs, remember them, then work your way out from the innermost pair.","body":"Use brackets to make it more obvious: <code>System.out.println(x&gt;20 ? (x&lt;0 ? 10:8) : (7) );</code>. Difficult thing is to find the outermost pairs, remember them, then work your way out from the innermost pair."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":7,"creation_date":1654987135,"post_id":72588284,"comment_id":128223965,"body_markdown":"You should really never use more than one conditional operator in the same expression for the very reason you are experiencing here. They are confusing, make it harder to read the code and make it easy to introduce bugs.","body":"You should really never use more than one conditional operator in the same expression for the very reason you are experiencing here. They are confusing, make it harder to read the code and make it easy to introduce bugs."},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1654987502,"post_id":72588284,"comment_id":128224016,"body_markdown":"I don&#39;t want to use it, i&#39;m learning to my first job interview.","body":"I don&#39;t want to use it, i&#39;m learning to my first job interview."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655037110,"post_id":72588284,"comment_id":128230397,"body_markdown":"If someone asks about code like this in a job interview, just say thanks and that you want to end the interview now, because this seems to be a red flag that either their code is hell, or that they care more about trivia than the real world.","body":"If someone asks about code like this in a job interview, just say thanks and that you want to end the interview now, because this seems to be a red flag that either their code is hell, or that they care more about trivia than the real world."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654987126,"creation_date":1654987126,"answer_id":72588309,"question_id":72588284,"body_markdown":"You can think of this:\r\n\r\n    x&gt;20 ? x&lt;0 ? 10 : 8 : 7\r\n\r\nAs:\r\n\r\n    x&gt;20 ? (x&lt;0 ? 10 : 8) : 7\r\n\r\nYou start with the inner most `?` and `:` pair, group them together, and repeat while working your way outwards.\r\n\r\nWritten verbosely, it would look like this instead:\r\n\r\n    if (x&gt;20) {\r\n        if (x&lt;0) {\r\n            return 10;\r\n        }\r\n        else {\r\n            return 8;\r\n        }    \r\n    }\r\n    else {\r\n        return 7;\r\n    }\r\n\r\nHere&#39;s the longer one:\r\n\r\n    x&gt;20 ? x&lt;10 ? x&lt;2 ? x==0 ? 10 : 8 : 7 : 5 : 8\r\n\r\nwith grouping:\r\n\r\n    x&gt;20 ? (x&lt;10 ? (x&lt;2 ? (x==0 ? 10 : 8) : 7) : 5) : 8\r\n\r\nand written verbosely:\r\n\r\n\tif (x&gt;20) {\r\n\t\tif (x&lt;10) {\r\n\t\t\tif (x&lt;2) {\r\n\t\t\t\tif (x==2) {\r\n\t\t\t\t\treturn 10;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn 7;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn 5;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\treturn 8;\r\n\t}\r\n\r\n","title":"Java &quot;short&quot; if with multiple &quot;?&quot;","body":"<p>You can think of this:</p>\n<pre><code>x&gt;20 ? x&lt;0 ? 10 : 8 : 7\n</code></pre>\n<p>As:</p>\n<pre><code>x&gt;20 ? (x&lt;0 ? 10 : 8) : 7\n</code></pre>\n<p>You start with the inner most <code>?</code> and <code>:</code> pair, group them together, and repeat while working your way outwards.</p>\n<p>Written verbosely, it would look like this instead:</p>\n<pre><code>if (x&gt;20) {\n    if (x&lt;0) {\n        return 10;\n    }\n    else {\n        return 8;\n    }    \n}\nelse {\n    return 7;\n}\n</code></pre>\n<p>Here's the longer one:</p>\n<pre><code>x&gt;20 ? x&lt;10 ? x&lt;2 ? x==0 ? 10 : 8 : 7 : 5 : 8\n</code></pre>\n<p>with grouping:</p>\n<pre><code>x&gt;20 ? (x&lt;10 ? (x&lt;2 ? (x==0 ? 10 : 8) : 7) : 5) : 8\n</code></pre>\n<p>and written verbosely:</p>\n<pre><code>if (x&gt;20) {\n    if (x&lt;10) {\n        if (x&lt;2) {\n            if (x==2) {\n                return 10;\n            }\n            else {\n                return 8;\n            }\n        }\n        else {\n            return 7;\n        }\n    }\n    else {\n        return 5;\n    }\n}\nelse {\n    return 8;\n}\n</code></pre>\n"}],"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72588309,"answer_count":1,"score":0,"last_activity_date":1655037013,"creation_date":1654986771,"question_id":72588284,"body_markdown":"How something like this works:\r\n\r\n    System.out.println(x&gt;20 ? x&lt;0 ? 10:8:7);\r\n\r\nOr more complicated like: \r\n\r\n    System.out.println(x&gt;20 ? x&lt;10 ? x&lt;2? x==0? 10:8:7:5:8);\r\n\r\nI understand default usage like this:\r\n\r\n     System.out.println(z&gt;2?10:8);\r\n\r\nBut &quot;longer&quot; version gives me score that I don&#39;t understand why.","title":"Java &quot;short&quot; if with multiple &quot;?&quot;","body":"<p>How something like this works:</p>\n<pre><code>System.out.println(x&gt;20 ? x&lt;0 ? 10:8:7);\n</code></pre>\n<p>Or more complicated like:</p>\n<pre><code>System.out.println(x&gt;20 ? x&lt;10 ? x&lt;2? x==0? 10:8:7:5:8);\n</code></pre>\n<p>I understand default usage like this:</p>\n<pre><code> System.out.println(z&gt;2?10:8);\n</code></pre>\n<p>But &quot;longer&quot; version gives me score that I don't understand why.</p>\n"},{"tags":["java","intellij-idea","multidimensional-array"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1655031238,"post_id":72591464,"comment_id":128229275,"body_markdown":"There are no actual &quot;2D arrays&quot; in Java. Your code creates a 1D array whose elements are 1D arrays of Cells.","body":"There are no actual &quot;2D arrays&quot; in Java. Your code creates a 1D array whose elements are 1D arrays of Cells."},{"owner":{"account_id":23544093,"reputation":45,"user_id":17587827,"display_name":"The_Student"},"score":0,"creation_date":1655032436,"post_id":72591464,"comment_id":128229483,"body_markdown":"Hi Olivier, thank you for your response. 2 or more dimensional arrays do exist in Java: https://www.geeksforgeeks.org/multidimensional-arrays-in-java/","body":"Hi Olivier, thank you for your response. 2 or more dimensional arrays do exist in Java: <a href=\"https://www.geeksforgeeks.org/multidimensional-arrays-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/multidimensional-arrays-in-java</a>"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1655034996,"post_id":72591464,"comment_id":128229982,"body_markdown":"Internally they are not true 2D arrays. See [this](https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array-in-java).","body":"Internally they are not true 2D arrays. See <a href=\"https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array-in-java\">this</a>."},{"owner":{"account_id":23544093,"reputation":45,"user_id":17587827,"display_name":"The_Student"},"score":0,"creation_date":1655036788,"post_id":72591464,"comment_id":128230331,"body_markdown":"Exactly @Olivier, multidimensional arrays in Java aren&#39;t like that, they&#39;re just arrays of arrays. IntelliJ represents them like unidimensional in debugging. Thank you a lot for your answer.","body":"Exactly @Olivier, multidimensional arrays in Java aren&#39;t like that, they&#39;re just arrays of arrays. IntelliJ represents them like unidimensional in debugging. Thank you a lot for your answer."}],"owner":{"account_id":23544093,"reputation":45,"user_id":17587827,"display_name":"The_Student"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655053894,"answer_count":0,"score":0,"last_activity_date":1655036915,"creation_date":1655030594,"question_id":72591464,"body_markdown":"I&#39;m trying to create a 2D array in Java with the use of IntelliJ.\r\n\r\nThe statement in particular is board = new Cell[size][size]. When debugging I detect that, after the statement, IntelliJ creates a 1D Cell[size][] array. IntelliJ has ignored the array&#39;s second dimension for some reason.\r\n\r\nDoes someone know what could be happening?\r\n\r\nThanks a lot in advance.\r\n","title":"IntelliJ fails to create 2D array (Java)","body":"<p>I'm trying to create a 2D array in Java with the use of IntelliJ.</p>\n<p>The statement in particular is board = new Cell[size][size]. When debugging I detect that, after the statement, IntelliJ creates a 1D Cell[size][] array. IntelliJ has ignored the array's second dimension for some reason.</p>\n<p>Does someone know what could be happening?</p>\n<p>Thanks a lot in advance.</p>\n"},{"tags":["java","eclipse","java-module"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":4,"creation_date":1545831250,"post_id":53932777,"comment_id":94705874,"body_markdown":"unnamed package not allowed in module -&gt; The error is explicit. You have to create a named package and put your class in","body":"unnamed package not allowed in module -&gt; The error is explicit. You have to create a named package and put your class in"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1598975674,"post_id":53932777,"comment_id":112627505,"body_markdown":"links to https://stackoverflow.com/questions/51133398/invalidmoduledescriptorexception-when-running-my-first-java-app","body":"links to <a href=\"https://stackoverflow.com/questions/51133398/invalidmoduledescriptorexception-when-running-my-first-java-app\" title=\"invalidmoduledescriptorexception when running my first java app\">stackoverflow.com/questions/51133398/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16740552,"reputation":31,"user_id":12100348,"display_name":"Yueyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569089462,"creation_date":1569089462,"answer_id":58042897,"question_id":53932777,"body_markdown":"I had the same error before because I use the default package.\r\n\r\nAnd I solved the problem in this way:\r\nRight-click the project - Properties - Java Build Path - move the class from Modulepath to Classpath\r\n\r\nAnd it worked!","title":"Error occurred during initialization of boot layer","body":"<p>I had the same error before because I use the default package.</p>\n\n<p>And I solved the problem in this way:\nRight-click the project - Properties - Java Build Path - move the class from Modulepath to Classpath</p>\n\n<p>And it worked!</p>\n"},{"tags":[],"owner":{"account_id":8891133,"reputation":373,"user_id":6637638,"display_name":"Shinoy p b"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1587554182,"creation_date":1576042538,"answer_id":59279443,"question_id":53932777,"body_markdown":"The error occurs because of you add  your jar library files to MODULEPATH instead of CLASSPATH. You have to add jar files to your CLASSPATH. If you already  add jar files to MODLEPATH you have to remove from there and add jar files to CLASSPATH, there is the steps:\r\n\r\n1] Right click on your project name in ECLIPSE IDE \r\n\r\n2] Click on  PROPERTIES -&gt; JAVA BUILD PATH -&gt; click LIBRARY tab .The you get the window like this:\r\n\r\n[![Java build path window][1]][1]\r\n\r\n\r\n3] Expand MODULEPATH and select all jar files and remove it :look the picture below:\r\n\r\n[![Modulepath jar file removing][2]][2]\r\n\r\n\r\n4] After that click on CLASSPATH -&gt;and click the button &#39;ADDJAR&#39; and select the jar files ,your are done. Look the picture below for clarification;\r\n\r\n[![Add jar to classpaht][3]][3]\r\n\r\n\r\n5] After adding jars files in CLASSPATH it looks like this:\r\n\r\n[![After adding jar file to classpath][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dV3h3.jpg\r\n  [2]: https://i.stack.imgur.com/6KlVd.jpg\r\n  [3]: https://i.stack.imgur.com/kXHgo.jpg\r\n  [4]: https://i.stack.imgur.com/aiIEl.jpg","title":"Error occurred during initialization of boot layer","body":"<p>The error occurs because of you add  your jar library files to MODULEPATH instead of CLASSPATH. You have to add jar files to your CLASSPATH. If you already  add jar files to MODLEPATH you have to remove from there and add jar files to CLASSPATH, there is the steps:</p>\n\n<p>1] Right click on your project name in ECLIPSE IDE </p>\n\n<p>2] Click on  PROPERTIES -> JAVA BUILD PATH -> click LIBRARY tab .The you get the window like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dV3h3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dV3h3.jpg\" alt=\"Java build path window\"></a></p>\n\n<p>3] Expand MODULEPATH and select all jar files and remove it :look the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6KlVd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6KlVd.jpg\" alt=\"Modulepath jar file removing\"></a></p>\n\n<p>4] After that click on CLASSPATH ->and click the button 'ADDJAR' and select the jar files ,your are done. Look the picture below for clarification;</p>\n\n<p><a href=\"https://i.stack.imgur.com/kXHgo.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kXHgo.jpg\" alt=\"Add jar to classpaht\"></a></p>\n\n<p>5] After adding jars files in CLASSPATH it looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aiIEl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aiIEl.jpg\" alt=\"After adding jar file to classpath\"></a></p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609295356,"creation_date":1609295356,"answer_id":65501285,"question_id":53932777,"body_markdown":"I had similar issue, the problem i faced was i added the selenium-server-standalone-3.141.59.jar under modulepath instead it should be under classpath\r\n\r\nso select classpath via (project -&gt; Properties -&gt; Java Bbuild Path -&gt; Libraries)\r\nadd the downloaded latest [jar][1]\r\n\r\n\r\nAfter adding it must be something like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd an appropriate driver for browser has to be downloaded for me i checked and downloaded the same version of chrome for chrome [driver][3] and added in the C:\\Program Files\\Java \r\n\r\n\r\nAnd following is the code that worked fine for me\r\n\r\n\t\tpublic class TestuiAautomation {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t\tSystem.out.println(&quot;Jai Ganesha&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\r\n\t\t\t\t\tSystem.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\r\n\t\t\t\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\t\t\t\tchromeOptions.addArguments(&quot;no-sandbox&quot;);\r\n\t\t\t\t\tchromeOptions.addArguments(&quot;--test-type&quot;);\r\n\t\t\t\t\tchromeOptions.addArguments(&quot;disable-extensions&quot;);\r\n\t\t\t\t\tchromeOptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\t\t\t\tWebDriver driver = new ChromeDriver(chromeOptions);\r\n\t\t\t\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Google is selected&quot;);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.err.println(e);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\nFor [reference][4] \r\n\r\n\r\n  [1]: https://www.selenium.dev/downloads/\r\n  [2]: https://i.stack.imgur.com/Kbjk2.png\r\n  [3]: https://chromedriver.chromium.org/downloads\r\n  [4]: https://dunnsolutions.com/digital-solutions-blog/-/blogs/installation-and-configuration-of-selenium-webdriver","title":"Error occurred during initialization of boot layer","body":"<p>I had similar issue, the problem i faced was i added the selenium-server-standalone-3.141.59.jar under modulepath instead it should be under classpath</p>\n<p>so select classpath via (project -&gt; Properties -&gt; Java Bbuild Path -&gt; Libraries)\nadd the downloaded latest <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\">jar</a></p>\n<p>After adding it must be something like this</p>\n<p><a href=\"https://i.stack.imgur.com/Kbjk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kbjk2.png\" alt=\"enter image description here\" /></a></p>\n<p>And an appropriate driver for browser has to be downloaded for me i checked and downloaded the same version of chrome for chrome <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">driver</a> and added in the C:\\Program Files\\Java</p>\n<p>And following is the code that worked fine for me</p>\n<pre><code>    public class TestuiAautomation {\n\n        public static void main(String[] args) {\n\n            System.out.println(&quot;Jai Ganesha&quot;);\n            try {\n                System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files\\\\Java\\\\chromedriver.exe&quot;);\n                System.out.println(System.getProperty(&quot;webdriver.chrome.driver&quot;));\n                ChromeOptions chromeOptions = new ChromeOptions();\n                chromeOptions.addArguments(&quot;no-sandbox&quot;);\n                chromeOptions.addArguments(&quot;--test-type&quot;);\n                chromeOptions.addArguments(&quot;disable-extensions&quot;);\n                chromeOptions.addArguments(&quot;--start-maximized&quot;);\n                WebDriver driver = new ChromeDriver(chromeOptions);\n                driver.get(&quot;https://www.google.com&quot;);\n                System.out.println(&quot;Google is selected&quot;);\n            } catch (Exception e) {\n                System.err.println(e);\n            }\n\n        }\n\n    }\n</code></pre>\n<p>For <a href=\"https://dunnsolutions.com/digital-solutions-blog/-/blogs/installation-and-configuration-of-selenium-webdriver\" rel=\"nofollow noreferrer\">reference</a></p>\n"},{"tags":[],"owner":{"account_id":17115774,"reputation":41,"user_id":12385303,"display_name":"Tushar Rao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655036878,"creation_date":1655036878,"answer_id":72592205,"question_id":53932777,"body_markdown":"Just Delete module-info.java from project and its solves the issue.","title":"Error occurred during initialization of boot layer","body":"<p>Just Delete module-info.java from project and its solves the issue.</p>\n"}],"owner":{"account_id":14861191,"reputation":139,"user_id":10731937,"display_name":"B.Sarkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58344,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1655036878,"creation_date":1545831043,"question_id":53932777,"body_markdown":"I followed the steps to create the HelloWorld example but it doesn&#39;t run. It gives the following error:\r\n\r\n&gt; Error occurred during initialization of boot layer\r\n&gt; java.lang.module.FindException: Error reading module:\r\n&gt; F:\\Develop\\eclipse\\HelloWorld\\bin Caused by:\r\n&gt; java.lang.module.InvalidModuleDescriptorException: HelloWorld.class\r\n&gt; found in top-level directory (unnamed package not allowed in module)&quot;\r\n\r\n[![enter image description here][1]][1]\r\nPlease advise how to solve this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/itGRF.png","title":"Error occurred during initialization of boot layer","body":"<p>I followed the steps to create the HelloWorld example but it doesn't run. It gives the following error:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of boot layer\n  java.lang.module.FindException: Error reading module:\n  F:\\Develop\\eclipse\\HelloWorld\\bin Caused by:\n  java.lang.module.InvalidModuleDescriptorException: HelloWorld.class\n  found in top-level directory (unnamed package not allowed in module)\"</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/itGRF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/itGRF.png\" alt=\"enter image description here\"></a>\nPlease advise how to solve this.</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1568589964,"post_id":57948896,"comment_id":102310662,"body_markdown":"What are you using to write and run this? Can you add this information in your question please?","body":"What are you using to write and run this? Can you add this information in your question please?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1568590030,"post_id":57948896,"comment_id":102310674,"body_markdown":"I suspect that your problem is related with the way you are running your code. It is working fine for me.","body":"I suspect that your problem is related with the way you are running your code. It is working fine for me."},{"owner":{"display_name":"user11699723"},"score":0,"creation_date":1568590143,"post_id":57948896,"comment_id":102310691,"body_markdown":"@JorgeCampos I just updated the question, but I am using Eclipse to run this code, should I be running it differently?","body":"@JorgeCampos I just updated the question, but I am using Eclipse to run this code, should I be running it differently?"},{"owner":{"account_id":9765326,"reputation":1587,"user_id":7238987,"accept_rate":0,"display_name":"algorythms"},"score":0,"creation_date":1568590165,"post_id":57948896,"comment_id":102310697,"body_markdown":"works fine for me on eclipse. FYI it&#39;s &quot;exercise&quot;. can you share a screenshot from eclipse?","body":"works fine for me on eclipse. FYI it&#39;s &quot;exercise&quot;. can you share a screenshot from eclipse?"},{"owner":{"display_name":"user11699723"},"score":0,"creation_date":1568591216,"post_id":57948896,"comment_id":102310817,"body_markdown":"@algorythms Just edited the post including a screenshot of my Eclipse screen, thanks","body":"@algorythms Just edited the post including a screenshot of my Eclipse screen, thanks"},{"owner":{"account_id":9765326,"reputation":1587,"user_id":7238987,"accept_rate":0,"display_name":"algorythms"},"score":0,"creation_date":1568591538,"post_id":57948896,"comment_id":102310849,"body_markdown":"there is an issue with your import. can you create a new package with just this class and see if it works?","body":"there is an issue with your import. can you create a new package with just this class and see if it works?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1568591617,"post_id":57948896,"comment_id":102310859,"body_markdown":"Clean and re-build your Eclipse project.","body":"Clean and re-build your Eclipse project."},{"owner":{"display_name":"user11699723"},"score":0,"creation_date":1568591992,"post_id":57948896,"comment_id":102310910,"body_markdown":"@HovercraftFullOfEels I just rebuilt project and created new package with just this class and it still gives same error message. Is there any additional libraries that I have to install to run this too?","body":"@HovercraftFullOfEels I just rebuilt project and created new package with just this class and it still gives same error message. Is there any additional libraries that I have to install to run this too?"},{"owner":{"display_name":"user11699723"},"score":0,"creation_date":1568592033,"post_id":57948896,"comment_id":102310917,"body_markdown":"@algorythms Just created new package with just this class and it still gave me the same error message, are there any extra libraries that I have to install to run this too?","body":"@algorythms Just created new package with just this class and it still gave me the same error message, are there any extra libraries that I have to install to run this too?"},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":1,"creation_date":1568595423,"post_id":57948896,"comment_id":102311353,"body_markdown":"Can you try installing a different JDK and then changing the system library of the project to that? (I think we are all just at this point where we try different turn-off-turn-on approaches.)","body":"Can you try installing a different JDK and then changing the system library of the project to that? (I think we are all just at this point where we try different turn-off-turn-on approaches.)"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1568661267,"post_id":57948896,"comment_id":102337364,"body_markdown":"So, now that I know you are using Eclipse that became weird. So I would suggest first you open your project in the Project Explorer view (Window -&gt; Show View -&gt; Project Explorer) (instead of package Explorer)  then collapse the JRE System Library, see if all JRE jar files are under. After that select your project right click on it and click on properties, go to Java Build Path and see under the Order and Export tab if JRE System Library is selected... This is now a matter of configuration in your Eclipse, finding the right thing to change would be the solution","body":"So, now that I know you are using Eclipse that became weird. So I would suggest first you open your project in the Project Explorer view (Window -&gt; Show View -&gt; Project Explorer) (instead of package Explorer)  then collapse the JRE System Library, see if all JRE jar files are under. After that select your project right click on it and click on properties, go to Java Build Path and see under the Order and Export tab if JRE System Library is selected... This is now a matter of configuration in your Eclipse, finding the right thing to change would be the solution"}],"answers":[{"tags":[],"owner":{"account_id":9765326,"reputation":1587,"user_id":7238987,"accept_rate":0,"display_name":"algorythms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568592348,"creation_date":1568592348,"answer_id":57949070,"question_id":57948896,"body_markdown":"Try removing the JRE system library and adding it again:\r\n\r\nGo to properties of project with the build error (right click &gt; Properties)\r\n\r\nView the &quot;Libraries&quot; tab in the &quot;Build Path&quot; section\r\n\r\nFind the &quot;JRE System Library&quot; in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project)\r\n\r\nRemove the &quot;JRE System Library&quot;\r\n\r\nHit &quot;Add Library ...&quot;, Select &quot;JRE System Library&quot; and add the appropriate JRE for the project (eg. &#39;Workspace default JRE&#39;)\r\n\r\nHit &quot;Finish&quot; in the library selection and &quot;OK&quot; in the project properties and then wait for the re-build of the project","title":"Unresolved compilation problem exception using JOptionPane","body":"<p>Try removing the JRE system library and adding it again:</p>\n\n<p>Go to properties of project with the build error (right click > Properties)</p>\n\n<p>View the \"Libraries\" tab in the \"Build Path\" section</p>\n\n<p>Find the \"JRE System Library\" in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project)</p>\n\n<p>Remove the \"JRE System Library\"</p>\n\n<p>Hit \"Add Library ...\", Select \"JRE System Library\" and add the appropriate JRE for the project (eg. 'Workspace default JRE')</p>\n\n<p>Hit \"Finish\" in the library selection and \"OK\" in the project properties and then wait for the re-build of the project</p>\n"},{"tags":[],"owner":{"account_id":21988772,"reputation":16,"user_id":16262603,"display_name":"Pedro Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627485232,"creation_date":1627415286,"answer_id":68550982,"question_id":57948896,"body_markdown":"I had the same problem, I know it&#39;s late but it can help others... \r\nTry checking if the `module-info.java` exists and if it is in the same package as your class. This will probably solve your problem.","title":"Unresolved compilation problem exception using JOptionPane","body":"<p>I had the same problem, I know it's late but it can help others...\nTry checking if the <code>module-info.java</code> exists and if it is in the same package as your class. This will probably solve your problem.</p>\n"}],"owner":{"display_name":"user11699723"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1655036867,"creation_date":1568589836,"question_id":57948896,"body_markdown":"I am a beginner in Java and I am trying to use JOptionPane to display a message box but keep getting stuck with an error which I cannot figure out. This is my code:\r\n\r\n    package excercise1; \r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Part3 {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint testVal = 20;\r\n    \t\tJOptionPane.showMessageDialog(null, &quot;The number is &quot; + testVal);\r\n    \t}\r\n    \r\n    }\r\n\r\nI keep getting this error:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tJOptionPane cannot be resolved\r\n\r\n&gt;at excercise1/excercise1.Part3.main(Part3.java:8)\r\n\r\nDoes anyone know how I can fix this? Thanks!\r\n\r\nEDIT: I am running this code in Eclipse by just clicking on the run button in the top toolbar, if I should be running this code differently please let me know. \r\n\r\nEDIT #2: Screenshot of my Eclipse screen:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZLae.png","title":"Unresolved compilation problem exception using JOptionPane","body":"<p>I am a beginner in Java and I am trying to use JOptionPane to display a message box but keep getting stuck with an error which I cannot figure out. This is my code:</p>\n\n<pre><code>package excercise1; \nimport javax.swing.JOptionPane;\n\npublic class Part3 {\n\n    public static void main(String[] args) {\n        int testVal = 20;\n        JOptionPane.showMessageDialog(null, \"The number is \" + testVal);\n    }\n\n}\n</code></pre>\n\n<p>I keep getting this error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error: Unresolved compilation problem: \n      JOptionPane cannot be resolved</p>\n  \n  <p>at excercise1/excercise1.Part3.main(Part3.java:8)</p>\n</blockquote>\n\n<p>Does anyone know how I can fix this? Thanks!</p>\n\n<p>EDIT: I am running this code in Eclipse by just clicking on the run button in the top toolbar, if I should be running this code differently please let me know. </p>\n\n<p>EDIT #2: Screenshot of my Eclipse screen:\n<a href=\"https://i.stack.imgur.com/JZLae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZLae.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1600468606,"post_id":63963538,"comment_id":113108372,"body_markdown":"The debugger is showing that `grid` is an `int[9][]`, i.e. an array of length 9 of `int` arrays. Each of the 9 subarrays can have different lengths, so the debugger cannot show anything for the second `[]`.","body":"The debugger is showing that <code>grid</code> is an <code>int[9][]</code>, i.e. an array of length 9 of <code>int</code> arrays. Each of the 9 subarrays can have different lengths, so the debugger cannot show anything for the second <code>[]</code>."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1600468692,"post_id":63963538,"comment_id":113108386,"body_markdown":"Java doesn&#39;t really have 2D arrays. What you have is an array that contains arrays. You&#39;ll have to initialize each of the arrays in your array separately, for example in a `for` loop.","body":"Java doesn&#39;t really have 2D arrays. What you have is an array that contains arrays. You&#39;ll have to initialize each of the arrays in your array separately, for example in a <code>for</code> loop."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1600470398,"post_id":63963538,"comment_id":113108763,"body_markdown":"What you are doing wrong is having the wrong expectation for how arrays work. You cannot make an array that contains 9 `int[9]`s, because `int[9]` is not a *type*, `int[]` is.","body":"What you are doing wrong is having the wrong expectation for how arrays work. You cannot make an array that contains 9 <code>int[9]</code>s, because <code>int[9]</code> is not a <i>type</i>, <code>int[]</code> is."}],"answers":[{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1600472698,"creation_date":1600469201,"answer_id":63963658,"question_id":63963538,"body_markdown":"Please post complete code, what exactly you have written and debugging.\r\n\r\nRestart your IDE and check once with below code.\r\n\r\n    public static void main(String[] args) {\r\n        int[][] grid = new int[9][9];\r\n        int value = 10;\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                grid[i][j] = ++value;\r\n            }\r\n        }\r\n    \r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                System.out.print(((j == 0) ? &quot;&quot; : &quot;, &quot;) + grid[i][j]);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n**Note**: IDE may misbehave too or might be responding late.","title":"Why are my multi-dimensional array initializations not working?","body":"<p>Please post complete code, what exactly you have written and debugging.</p>\n<p>Restart your IDE and check once with below code.</p>\n<pre><code>public static void main(String[] args) {\n    int[][] grid = new int[9][9];\n    int value = 10;\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            grid[i][j] = ++value;\n        }\n    }\n\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            System.out.print(((j == 0) ? &quot;&quot; : &quot;, &quot;) + grid[i][j]);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p><strong>Note</strong>: IDE may misbehave too or might be responding late.</p>\n"},{"tags":[],"owner":{"account_id":6630058,"reputation":730,"user_id":5119030,"accept_rate":71,"display_name":"Mikheil Zhghenti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600469397,"creation_date":1600469397,"answer_id":63963681,"question_id":63963538,"body_markdown":"It is just a debugger representation.\r\n\r\nIt always works fine.&lt;br&gt;\r\nIt **do** create a two dimensional array in memory.\r\n\r\n    public static void main(String[] args) {\r\n        int[][] grid = new int[9][9];\r\n    \r\n        System.out.println(grid.length);\r\n        System.out.println(grid[0].length);\r\n    }\r\nThis code will always return dimensions properly as:\r\n\r\n    9\r\n    9\r\nWhat you might get in a debugger is something like this - where definitely is not written **int[9][9]** what you are expected, however this is a representation only - there is nothing with correctness.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9etZ.png","title":"Why are my multi-dimensional array initializations not working?","body":"<p>It is just a debugger representation.</p>\n<p>It always works fine.<br>\nIt <strong>do</strong> create a two dimensional array in memory.</p>\n<pre><code>public static void main(String[] args) {\n    int[][] grid = new int[9][9];\n\n    System.out.println(grid.length);\n    System.out.println(grid[0].length);\n}\n</code></pre>\n<p>This code will always return dimensions properly as:</p>\n<pre><code>9\n9\n</code></pre>\n<p>What you might get in a debugger is something like this - where definitely is not written <strong>int[9][9]</strong> what you are expected, however this is a representation only - there is nothing with correctness.\n<a href=\"https://i.stack.imgur.com/V9etZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9etZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23544093,"reputation":45,"user_id":17587827,"display_name":"The_Student"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655036685,"creation_date":1655036685,"answer_id":72592176,"question_id":63963538,"body_markdown":"I&#39;ve had exactly the same problem and I&#39;ve found @Misho Zhghenti&#39;s answer is the best! Yes, IntelliJ&#39;s representation in debug leads to confusion. A multidimensional array in Java isn&#39;t really like that, is just an array of arrays.\r\n\r\nThank you @EthanB21 @Misho Zhghenti","title":"Why are my multi-dimensional array initializations not working?","body":"<p>I've had exactly the same problem and I've found @Misho Zhghenti's answer is the best! Yes, IntelliJ's representation in debug leads to confusion. A multidimensional array in Java isn't really like that, is just an array of arrays.</p>\n<p>Thank you @EthanB21 @Misho Zhghenti</p>\n"}],"owner":{"account_id":19546511,"reputation":21,"user_id":14303171,"display_name":"EthanB21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1655036685,"creation_date":1600468117,"question_id":63963538,"body_markdown":"For some reason, in IntelliJ (if that matters), when I try to initialize my 2D arrays, only the first box gets initialized for the size that I am specifying. i.e.\r\n`int[][] grid = new int[9][9];`\r\nand when I run through with the debugger, it shows that I&#39;ve created an array that is `int[9][]`. Does anyone know what I am doing wrong? could it be that I need to update something? anything helps. Thank you.","title":"Why are my multi-dimensional array initializations not working?","body":"<p>For some reason, in IntelliJ (if that matters), when I try to initialize my 2D arrays, only the first box gets initialized for the size that I am specifying. i.e.\n<code>int[][] grid = new int[9][9];</code>\nand when I run through with the debugger, it shows that I've created an array that is <code>int[9][]</code>. Does anyone know what I am doing wrong? could it be that I need to update something? anything helps. Thank you.</p>\n"},{"tags":["java","oop","enums"],"comments":[{"owner":{"account_id":394615,"reputation":4190,"user_id":789214,"accept_rate":89,"display_name":"amod"},"score":0,"creation_date":1312894118,"post_id":6995992,"comment_id":8350842,"body_markdown":"@downvote... whonsoever has downvoted this question please add a reason below. That will help me to understand whats wrong.","body":"@downvote... whonsoever has downvoted this question please add a reason below. That will help me to understand whats wrong."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1312937675,"post_id":6995992,"comment_id":8363271,"body_markdown":"Upvoted the pointless unexplained downvote. @downvoter when you do that please say why.","body":"Upvoted the pointless unexplained downvote. @downvoter when you do that please say why."},{"owner":{"account_id":394615,"reputation":4190,"user_id":789214,"accept_rate":89,"display_name":"amod"},"score":0,"creation_date":1312966792,"post_id":6995992,"comment_id":8367976,"body_markdown":"thnx EJP for upvoting...","body":"thnx EJP for upvoting..."}],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312892097,"creation_date":1312892097,"answer_id":6996034,"question_id":6995992,"body_markdown":"Neither way. Just use myEnum.values().size where you need it.","title":"What is a better way to find the size of the enum?","body":"<p>Neither way. Just use myEnum.values().size where you need it.</p>\n"},{"tags":[],"owner":{"account_id":471849,"reputation":6191,"user_id":879899,"display_name":"Shadow"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1312892116,"creation_date":1312892116,"answer_id":6996039,"question_id":6995992,"body_markdown":"given -\r\n\r\n    enum Widgets {TINY, SMALL, AVERAGE, BIG};\r\n\r\nthe size of Widgets is:\r\n\r\n    Widgets.values().length","title":"What is a better way to find the size of the enum?","body":"<p>given -</p>\n\n<pre><code>enum Widgets {TINY, SMALL, AVERAGE, BIG};\n</code></pre>\n\n<p>the size of Widgets is:</p>\n\n<pre><code>Widgets.values().length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":469832,"reputation":2701,"user_id":876674,"display_name":"love_me_some_linux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312892180,"creation_date":1312892180,"answer_id":6996057,"question_id":6995992,"body_markdown":"In my opinion, the first way is better. This way, you don&#39;t have to manually update the length variable if you add more companies to the enum.","title":"What is a better way to find the size of the enum?","body":"<p>In my opinion, the first way is better. This way, you don't have to manually update the length variable if you add more companies to the enum.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655036491,"creation_date":1312892497,"answer_id":6996124,"question_id":6995992,"body_markdown":"The first one, but make it `static` so you don&#39;t make multiple copies of the array.\r\n\r\n    public final static int length = Company.values().length;\r\n","title":"What is a better way to find the size of the enum?","body":"<p>The first one, but make it <code>static</code> so you don't make multiple copies of the array.</p>\n<pre><code>public final static int length = Company.values().length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":131617,"reputation":2583,"user_id":331752,"accept_rate":87,"display_name":"Sauleil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312893718,"creation_date":1312892746,"answer_id":6996163,"question_id":6995992,"body_markdown":"The problem with the second way is that every time you add a new value, you have to update the length manually.\r\n\r\nFor the first method, it&#39;s dynamic and you can even put it static (since it will take an integer per enum instance if you don&#39;t):\r\n\r\n    public final static int length= Company.values().length;\r\n\r\nBut I would suggest using &#39;Company.values().length&#39; since it&#39;s more standard.","title":"What is a better way to find the size of the enum?","body":"<p>The problem with the second way is that every time you add a new value, you have to update the length manually.</p>\n\n<p>For the first method, it's dynamic and you can even put it static (since it will take an integer per enum instance if you don't):</p>\n\n<pre><code>public final static int length= Company.values().length;\n</code></pre>\n\n<p>But I would suggest using 'Company.values().length' since it's more standard.</p>\n"}],"owner":{"account_id":394615,"reputation":4190,"user_id":789214,"accept_rate":89,"display_name":"amod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3604,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1312943131,"accepted_answer_id":6996124,"answer_count":5,"score":3,"last_activity_date":1655036563,"creation_date":1312891942,"question_id":6995992,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Enum values().length vs private field](https://stackoverflow.com/questions/1741708/enum-values-length-vs-private-field)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI want to know how which of these ways to find the size of the *enum* is better.\r\n\r\nThis way:\r\n\r\n    public enum Company {\r\n\r\n        AUDI(4), BMW(5), CADILLAC(11), FORD(44), JAGUAR(45);\r\n\r\n    \tprivate final int id;\r\n    \tpublic final int length = Company.values().length;\r\n    \r\n    \tprivate Company(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    }\r\n\r\nOr this way:\r\n\r\n    public enum Company {\r\n\r\n    \tAUDI(4), BMW(5), CADILLAC(11), FORD(44), JAGUAR(45);\r\n\r\n    \tprivate final int id;\r\n    \tpublic final int length = 5;\r\n\r\n    \tprivate Company(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    }\r\n","title":"What is a better way to find the size of the enum?","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong><br />\n<a href=\"https://stackoverflow.com/questions/1741708/enum-values-length-vs-private-field\">Enum values().length vs private field</a></p>\n</blockquote>\n\n<p>I want to know how which of these ways to find the size of the <em>enum</em> is better.</p>\n<p>This way:</p>\n<pre><code>public enum Company {\n\n    AUDI(4), BMW(5), CADILLAC(11), FORD(44), JAGUAR(45);\n\n    private final int id;\n    public final int length = Company.values().length;\n\n    private Company(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Or this way:</p>\n<pre><code>public enum Company {\n\n    AUDI(4), BMW(5), CADILLAC(11), FORD(44), JAGUAR(45);\n\n    private final int id;\n    public final int length = 5;\n\n    private Company(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654782148,"post_id":72556373,"comment_id":128178038,"body_markdown":"I cannot reproduce this with the same JDK on Windows 10. Can you test how it works from the command line? Does the `C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot\\bin\\java.exe` path exist?","body":"I cannot reproduce this with the same JDK on Windows 10. Can you test how it works from the command line? Does the <code>C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot\\bin\\java.exe</code> path exist?"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654782175,"post_id":72556373,"comment_id":128178051,"body_markdown":"Make also sure that IDE has permission to execute this Java executable.","body":"Make also sure that IDE has permission to execute this Java executable."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1654782868,"post_id":72556373,"comment_id":128178351,"body_markdown":"`C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot` till here exits not the complete path. there is NO `JDK\\bin\\java.exe` there.","body":"<code>C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot</code> till here exits not the complete path. there is NO <code>JDK\\bin\\java.exe</code> there."}],"answers":[{"tags":[],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655035839,"creation_date":1655035839,"answer_id":72592069,"question_id":72556373,"body_markdown":"1. Download gradle zip file from https://gradle.org/next-steps/?version=7.0.2&amp;format=all\r\nand unzip and keep it in a local path \r\n2. settings -&gt; Build, Execution,Deployment -&gt; Build tools -&gt; Gradle\r\n\r\n`Gradle user home` -&gt; choose the unzipped gradle (from step 1).\r\n\r\n`Apply` and `OK` \r\n3. Rebuild the Gradle.\r\n\r\nThis Worked For Me (and others who faced the same issue in our team)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DikEX.png","title":"IIntelliJ Gradle sync failed: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<ol>\n<li>Download gradle zip file from <a href=\"https://gradle.org/next-steps/?version=7.0.2&amp;format=all\" rel=\"nofollow noreferrer\">https://gradle.org/next-steps/?version=7.0.2&amp;format=all</a>\nand unzip and keep it in a local path</li>\n<li>settings -&gt; Build, Execution,Deployment -&gt; Build tools -&gt; Gradle</li>\n</ol>\n<p><code>Gradle user home</code> -&gt; choose the unzipped gradle (from step 1).</p>\n<p><code>Apply</code> and <code>OK</code>\n3. Rebuild the Gradle.</p>\n<p>This Worked For Me (and others who faced the same issue in our team)</p>\n<p><a href=\"https://i.stack.imgur.com/DikEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DikEX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72592069,"answer_count":1,"score":0,"last_activity_date":1655035839,"creation_date":1654760172,"question_id":72556373,"body_markdown":"Recently my organization has changed the jdk from Adopt to Adoptium.\r\nSince then , my Intellij is not working.\r\n\r\nError:-\r\n\r\n&gt; Gradle sync failed: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot\\bin\\java.exe \r\n\r\n\r\n\r\n1. I have changed the JDK version in settings -&gt; Build -&gt; Gradle -&gt; Changed the version to `1.8.0_332`.\r\n2. In JAVA_HOME (System Env Varaiable )= `C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.332.9-hotspot\\`\r\n3. In CMD - Java Version is \r\n`openjdk version &quot;1.8.0_332&quot;`\r\n`OpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)`\r\n`OpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)`\r\n\r\n\r\nI have restarted my Intellij and machine multiple times. Still the error is not going away.\r\n\r\n","title":"IIntelliJ Gradle sync failed: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<p>Recently my organization has changed the jdk from Adopt to Adoptium.\nSince then , my Intellij is not working.</p>\n<p>Error:-</p>\n<blockquote>\n<p>Gradle sync failed: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\AdoptOpenJDK\\jdk-8.0.282.8-hotspot\\bin\\java.exe</p>\n</blockquote>\n<ol>\n<li>I have changed the JDK version in settings -&gt; Build -&gt; Gradle -&gt; Changed the version to <code>1.8.0_332</code>.</li>\n<li>In JAVA_HOME (System Env Varaiable )= <code>C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.332.9-hotspot\\</code></li>\n<li>In CMD - Java Version is\n<code>openjdk version &quot;1.8.0_332&quot;</code>\n<code>OpenJDK Runtime Environment (Temurin)(build 1.8.0_332-b09)</code>\n<code>OpenJDK 64-Bit Server VM (Temurin)(build 25.332-b09, mixed mode)</code></li>\n</ol>\n<p>I have restarted my Intellij and machine multiple times. Still the error is not going away.</p>\n"},{"tags":["java","arrays","string","char"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1551657457,"post_id":54975025,"comment_id":96709089,"body_markdown":"Do you mean an array of Strings?  A character is, well, just one character.","body":"Do you mean an array of Strings?  A character is, well, just one character."},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1551657483,"post_id":54975025,"comment_id":96709095,"body_markdown":"`&#39;14&#39;` is not a valid char. If your numbers are always going to be separated by space you could do: `String[] numArr = stringNumers.split(&quot;\\\\s+&quot;);`","body":"<code>&#39;14&#39;</code> is not a valid char. If your numbers are always going to be separated by space you could do: <code>String[] numArr = stringNumers.split(&quot;\\\\s+&quot;);</code>"},{"owner":{"account_id":13993267,"reputation":357,"user_id":10106756,"display_name":"AfternoonTiger"},"score":0,"creation_date":1551657558,"post_id":54975025,"comment_id":96709110,"body_markdown":"ahah wow I&#39;ve been wasting my time. Thank you","body":"ahah wow I&#39;ve been wasting my time. Thank you"},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":0,"creation_date":1551659285,"post_id":54975025,"comment_id":96709442,"body_markdown":"@ GBlodgett But that regex will give the first split component to be &quot;((14&quot; which is probably not what the OP wants.","body":"@ GBlodgett But that regex will give the first split component to be &quot;((14&quot; which is probably not what the OP wants."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1551659675,"post_id":54975025,"comment_id":96709525,"body_markdown":"The concept you&#39;re looking for is *tokenizing*.","body":"The concept you&#39;re looking for is <i>tokenizing</i>."},{"owner":{"account_id":13993267,"reputation":357,"user_id":10106756,"display_name":"AfternoonTiger"},"score":0,"creation_date":1551672677,"post_id":54975025,"comment_id":96711840,"body_markdown":"Yeah originally I was thinking if the character ‘14’ could be represented as ascii than it could be represented as the character ‘14’ but I figured out my issue. Thank you all.","body":"Yeah originally I was thinking if the character ‘14’ could be represented as ascii than it could be represented as the character ‘14’ but I figured out my issue. Thank you all."}],"answers":[{"tags":[],"owner":{"account_id":7150545,"reputation":18,"user_id":5464772,"display_name":"Tal Malka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655035512,"creation_date":1655035512,"answer_id":72592027,"question_id":54975025,"body_markdown":"Lets say that you need to deal with two operators (+,-);\r\n\r\n    //Case one (+)\r\n    String stringNumbers = &quot;24 23 84 12 41 52 54&quot;;\r\n1.spit it by space.\r\n2.for loop to the Array sum it.\r\n3.print it.\r\n\r\n    //Case two (+,-)\r\n    String stringNumbers = &quot;-24+23+84+12-41-52-54&quot;;\r\n1.Create second null String.\r\n2.replaceAll stringNumbers by (&quot;\\\\+ , &quot;,&quot;)\r\n3.loop trough the original string to locate the minus operators,\r\nif (charAt(i)==&#39;-&#39;) add to the second String &quot;,-&quot;.\r\n4.2.split stringNumbers by &quot;,&quot;.\r\n5.repeat steps 2,3 from case one.\r\n\r\n    String s = &quot;-12-5+15-20&quot;;\r\n            String t = &quot;&quot;;\r\n            s = s.replaceAll(&quot;\\\\+&quot;,&quot;,&quot;);\r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                if(s.charAt(i)==&#39;-&#39; &amp;&amp; i!=0){\r\n                    t+=&quot;,-&quot;;\r\n                    continue;\r\n                }\r\n                t+=s.charAt(i);\r\n            }\r\n            String[] st = t.split(&quot;,&quot;);\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; st.length ; i++) {\r\n                sum+=Integer.valueOf(st[i]);\r\n            }\r\n            System.out.println(sum);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Convert a string of multi digit numbers into an array of characters","body":"<p>Lets say that you need to deal with two operators (+,-);</p>\n<pre><code>//Case one (+)\nString stringNumbers = &quot;24 23 84 12 41 52 54&quot;;\n</code></pre>\n<p>1.spit it by space.\n2.for loop to the Array sum it.\n3.print it.</p>\n<pre><code>//Case two (+,-)\nString stringNumbers = &quot;-24+23+84+12-41-52-54&quot;;\n</code></pre>\n<p>1.Create second null String.\n2.replaceAll stringNumbers by (&quot;\\+ , &quot;,&quot;)\n3.loop trough the original string to locate the minus operators,\nif (charAt(i)=='-') add to the second String &quot;,-&quot;.\n4.2.split stringNumbers by &quot;,&quot;.\n5.repeat steps 2,3 from case one.</p>\n<pre><code>String s = &quot;-12-5+15-20&quot;;\n        String t = &quot;&quot;;\n        s = s.replaceAll(&quot;\\\\+&quot;,&quot;,&quot;);\n        for (int i = 0; i &lt; s.length(); i++) {\n            if(s.charAt(i)=='-' &amp;&amp; i!=0){\n                t+=&quot;,-&quot;;\n                continue;\n            }\n            t+=s.charAt(i);\n        }\n        String[] st = t.split(&quot;,&quot;);\n        int sum = 0;\n        for (int i = 0; i &lt; st.length ; i++) {\n            sum+=Integer.valueOf(st[i]);\n        }\n        System.out.println(sum);\n</code></pre>\n"}],"owner":{"account_id":13993267,"reputation":357,"user_id":10106756,"display_name":"AfternoonTiger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655035512,"creation_date":1551657384,"question_id":54975025,"body_markdown":"I have a string that is a math expression. Example: &quot;((14 + 53) + 62)&quot; and I want to convert the String into an array of chars. Example [&#39;(&#39;, &#39;(&#39;, &#39;14&#39;, &#39;+&#39;, &#39;53&#39;, &#39;+&#39;, &#39;62&#39;, &#39;)&#39;]\r\n\r\nWhen I use the method .toCharArray on the string, it converts it to an array of characters, but for numbers that are greater than 9 (Multi-Digit), it will split that number into individual digits. Example: [&#39;(&#39;, &#39;(&#39;, &#39;1&#39;, &#39;4&#39;, &#39;5&#39;, &#39;3&#39;, &#39;+&#39; &#39;6&#39;, &#39;2&#39;, &#39;)&#39;]\r\n\r\nHow would I convert a string that contains multiple digits to an array of characters? \r\n\r\n    public class Testing {\r\n    \r\n        public static void main(String[] args) {\r\n            String stringNumbers = &quot;24 23 84 12 41 52 54&quot;;\r\n    \r\n            char[] charNumArray = stringNumbers.toCharArray();\r\n            System.out.println(Arrays.toString(charNumArray));\r\n        }\r\n    }","title":"Convert a string of multi digit numbers into an array of characters","body":"<p>I have a string that is a math expression. Example: \"((14 + 53) + 62)\" and I want to convert the String into an array of chars. Example ['(', '(', '14', '+', '53', '+', '62', ')']</p>\n\n<p>When I use the method .toCharArray on the string, it converts it to an array of characters, but for numbers that are greater than 9 (Multi-Digit), it will split that number into individual digits. Example: ['(', '(', '1', '4', '5', '3', '+' '6', '2', ')']</p>\n\n<p>How would I convert a string that contains multiple digits to an array of characters? </p>\n\n<pre><code>public class Testing {\n\n    public static void main(String[] args) {\n        String stringNumbers = \"24 23 84 12 41 52 54\";\n\n        char[] charNumArray = stringNumbers.toCharArray();\n        System.out.println(Arrays.toString(charNumArray));\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655034029,"post_id":72591818,"comment_id":128229816,"body_markdown":"Add the complete stack trace to your question, and create a complete, minimal, runnable example which illustrates the problem.","body":"Add the complete stack trace to your question, and create a complete, minimal, runnable example which illustrates the problem."},{"owner":{"account_id":11956435,"reputation":165,"user_id":8748646,"display_name":"Nuubles"},"score":0,"creation_date":1655035558,"post_id":72591818,"comment_id":128230088,"body_markdown":"@tgdavies I&#39;ve added the minimum reproducibles now","body":"@tgdavies I&#39;ve added the minimum reproducibles now"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655049786,"post_id":72591818,"comment_id":128233167,"body_markdown":"`DataInputStream` is for reading a very specific way of encoding data. If you&#39;re trying to read plaintext, you need to use an `InputStreamReader` with the appropriate character set instead.","body":"<code>DataInputStream</code> is for reading a very specific way of encoding data. If you&#39;re trying to read plaintext, you need to use an <code>InputStreamReader</code> with the appropriate character set instead."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655034541,"creation_date":1655034541,"answer_id":72591911,"question_id":72591818,"body_markdown":"If you write bytes, you should read them as bytes. If you want a UTF string, then write a UTF string: `output.writeUTF(g.getID())`. The `readUTF` method uses something to determine where to stop reading. I&#39;ve checked the OpenJDK source code of `DataInputStream`, and its `readUTF` method expects the string length first (2 bytes), then it reads that many characters. This is documented in [DataInput.readUTF][1]\r\n\r\n&gt; First, two bytes are read and used to construct an unsigned 16-bit integer in exactly the manner of the readUnsignedShort method . This integer value is called the UTF length and specifies the number of additional bytes to be read. These bytes are then converted to characters by considering them in groups. The length of each group is computed from the value of the first byte of the group. The byte following a group, if any, is the first byte of the next group.\r\n\r\nSo you can do the same with a `ByteBuffer` as well. First write the size as a short, then the bytes as UTF8:\r\n\r\n    var bytes = string.getBytes(StandardCharsets.UTF_8);\r\n    buffer.putShort((short) bytes.length);\r\n    buffer.put(bytes);\r\n\r\nNote the explicit conversion to bytes using UTF-8.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataInput.html#readUTF()","title":"Reading an input throws java.io.EOFException","body":"<p>If you write bytes, you should read them as bytes. If you want a UTF string, then write a UTF string: <code>output.writeUTF(g.getID())</code>. The <code>readUTF</code> method uses something to determine where to stop reading. I've checked the OpenJDK source code of <code>DataInputStream</code>, and its <code>readUTF</code> method expects the string length first (2 bytes), then it reads that many characters. This is documented in <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/DataInput.html#readUTF()\" rel=\"nofollow noreferrer\">DataInput.readUTF</a></p>\n<blockquote>\n<p>First, two bytes are read and used to construct an unsigned 16-bit integer in exactly the manner of the readUnsignedShort method . This integer value is called the UTF length and specifies the number of additional bytes to be read. These bytes are then converted to characters by considering them in groups. The length of each group is computed from the value of the first byte of the group. The byte following a group, if any, is the first byte of the next group.</p>\n</blockquote>\n<p>So you can do the same with a <code>ByteBuffer</code> as well. First write the size as a short, then the bytes as UTF8:</p>\n<pre><code>var bytes = string.getBytes(StandardCharsets.UTF_8);\nbuffer.putShort((short) bytes.length);\nbuffer.put(bytes);\n</code></pre>\n<p>Note the explicit conversion to bytes using UTF-8.</p>\n"}],"owner":{"account_id":11956435,"reputation":165,"user_id":8748646,"display_name":"Nuubles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72591911,"answer_count":1,"score":-2,"last_activity_date":1655035507,"creation_date":1655033740,"question_id":72591818,"body_markdown":"Trying to read an UTF string from byte array throws EOFException, when I know for a fact that it should not happen. I&#39;ve attempted to use ByteBuffer and ByteArrayDataOutputStream and OutputStream for writing the data, and then trying to read it with DataInputStream and ByteArrayDataInputStream and DataInputStream with no success. Where am is the code failing and WHY?\r\n\r\nThe structure of the data is [String, Long, Long], which translates to String, UUID\r\n\r\nMethods I&#39;ve tried to write the data:\r\n```java\r\nByteBuffer buffer = ByteBuffer.allocate(g.getID().getBytes().length + Long.BYTES * 2);\r\n\r\nbuffer.put(g.getID().getBytes());\r\nbuffer.putLong(uuid.getMostSignificantBits());\r\nbuffer.putLong(uuid.getLeastSignificantBits());\r\n```\r\n```java\r\nByteArrayOutputStream output_ = new ByteArrayOutputStream();\r\nDataOutputStream output = new DataOutputStream(output_);\r\ntry {\t\t\t\r\n\toutput.write(g.getID().getBytes());\r\n\toutput.writeLong(uuid.getMostSignificantBits());\r\n\toutput.writeLong(uuid.getLeastSignificantBits());\r\n\tapi.sendToServers(KaranteeniPermsKeys.GLOBAL_GROUP_CHANGED, output_.toByteArray());\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nWriting the data with both methods works fine, but the next parts are where it fails:\r\n```java\r\nByteArrayDataInput input2 = msg.getDataInput();\r\nString group2 = input2.readUTF(); // EOFException\r\nlong mostSignificant2 = input2.readLong();\r\nlong leastSignificant2 = input2.readLong();\r\nUUID uuid2 = new UUID(mostSignificant2, leastSignificant2);\r\n```\r\n```java\r\nByteArrayInputStream input_ = new ByteArrayInputStream(msg.getMessageBytes());\r\nDataInputStream input = new DataInputStream(input_);\r\ntry {\r\n\tString group = input.readUTF(); // EOFException\r\n\tlong mostSignificant = input.readLong();\r\n\tlong leastSignificant = input.readLong();\r\n\tUUID uuid = new UUID(mostSignificant, leastSignificant);\r\n\t// rest of the code\r\n} catch(IOException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nThe data output printed to console results in this: group2��K��&amp;F,��8��m(↑\r\n(Which using string -&gt; bytes converter is &#39;67726f757032efbfbdefbfbd4befbfbdefbfbd26462cefbfbdefbfbd38efbfbdefbfbd6d28e28691&#39;)\r\nThe inputted string is &quot;group2&quot; and inputted UUID is &#39;d4ef4bc2-db26-462c-9793-389ba56d2818&#39;\r\n\r\nThe stacktrace from the above method is the following:\r\n```\r\n[14:33:04 WARN]: java.lang.IllegalStateException: java.io.EOFException\r\n[14:33:04 WARN]:        at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\r\n[14:33:04 WARN]:        at KaranteeniPerms.jar//net.karanteeni.karanteeniperms.spigot.groups.BungeeListeners.onGlobalGroupChanged(BungeeListeners.java:80)                                                        [14:33:04 WARN]:        at SockExchange-1.1.1-all.jar//com.gmail.tracebachi.SockExchange.Messages.ReceivedMessageNotifier.lambda$notify$1(ReceivedMessageNotifier.java:94)                                        [14:33:04 WARN]:        at SockExchange-1.1.1-all.jar//com.gmail.tracebachi.SockExchange.Scheduler.AwaitableExecutor.lambda$wrapTask$0(AwaitableExecutor.java:182)                                                [14:33:04 WARN]:        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n[14:33:04 WARN]:        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n[14:33:04 WARN]:        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)                                                               [14:33:04 WARN]:        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)                                                                                              [14:33:04 WARN]:        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)                                                                                              [14:33:04 WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\r\n[14:33:04 WARN]: Caused by: java.io.EOFException\r\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readFully(DataInputStream.java:203)\r\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:614)\r\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:570)\r\n[14:33:04 WARN]:        at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\r\n[14:33:04 WARN]:        ... 9 more \r\n```\r\n\r\nMinimum reproducible:\r\n```java\r\nimport java.nio.ByteBuffer;\r\nimport com.google.common.io.ByteArrayDataInput;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.DataInputStream;\r\nimport java.io.IOException;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\nimport com.google.common.io.ByteArrayDataInput;\r\nimport com.google.common.io.ByteStreams;\r\n\r\n\r\npublic class MinData {\r\n    public static void main(String[] args) {\r\n        String name = &quot;group2&quot;;\r\n        UUID uuid = UUID.randomUUID();\r\n        try {\r\n            method1Input(ByteStreams.newDataInput(method1Output(name, uuid)));\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            method1Input(ByteStreams.newDataInput(method2Output(name, uuid)));\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            method2Input(method1Output(name, uuid));\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            method2Input(method2Output(name, uuid));\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static void method1Input(ByteArrayDataInput input) {\r\n        String group = input.readUTF(); // EOFException\r\n        long mostSignificant = input.readLong();\r\n        long leastSignificant = input.readLong();\r\n        UUID uuid = new UUID(mostSignificant, leastSignificant);\r\n    }\r\n\r\n\r\n    public static void method2Input(byte[] bytes) {\r\n        ByteArrayInputStream input_ = new ByteArrayInputStream(bytes);\r\n        DataInputStream input = new DataInputStream(input_);\r\n        try {\r\n            String group = input.readUTF(); // EOFException\r\n            long mostSignificant = input.readLong();\r\n            long leastSignificant = input.readLong();\r\n            UUID uuid = new UUID(mostSignificant, leastSignificant);\r\n            // rest of the code\r\n        } catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static byte[] method1Output(String text, UUID uuid) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(text.getBytes().length + Long.BYTES * 2);\r\n        buffer.put(text.getBytes());\r\n        buffer.putLong(uuid.getMostSignificantBits());\r\n        buffer.putLong(uuid.getLeastSignificantBits());\r\n        return buffer.array();\r\n    }\r\n\r\n\r\n    public static byte[] method2Output(String text, UUID uuid) {\r\n        ByteArrayOutputStream output_ = new ByteArrayOutputStream();\r\n        DataOutputStream output = new DataOutputStream(output_);\r\n        try {           \r\n            output.write(&quot;group2&quot;.getBytes());\r\n            output.writeLong(uuid.getMostSignificantBits());\r\n            output.writeLong(uuid.getLeastSignificantBits());\r\n            return output_.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nRunning the above minimum reproducible produces the following errors:\r\n```\r\n15:03:34 [SEVERE] java.lang.IllegalStateException: java.io.EOFException\r\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method1Input(KaranteeniPerms.java:101)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:75)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\r\n15:03:34 [SEVERE] Caused by: java.io.EOFException\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\r\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\r\n15:03:34 [SEVERE]     ... 11 more\r\n15:03:34 [SEVERE] java.lang.IllegalStateException: java.io.EOFException\r\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method1Input(KaranteeniPerms.java:101)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:81)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\r\n15:03:34 [SEVERE] Caused by: java.io.EOFException\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\r\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\r\n15:03:34 [SEVERE]     ... 11 more\r\n15:03:34 [SEVERE] java.io.EOFException\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method2Input(KaranteeniPerms.java:112)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:87)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\r\n15:03:34 [SEVERE] java.io.EOFException\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\r\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method2Input(KaranteeniPerms.java:112)\r\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:93)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\r\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15) \r\n```\r\n","title":"Reading an input throws java.io.EOFException","body":"<p>Trying to read an UTF string from byte array throws EOFException, when I know for a fact that it should not happen. I've attempted to use ByteBuffer and ByteArrayDataOutputStream and OutputStream for writing the data, and then trying to read it with DataInputStream and ByteArrayDataInputStream and DataInputStream with no success. Where am is the code failing and WHY?</p>\n<p>The structure of the data is [String, Long, Long], which translates to String, UUID</p>\n<p>Methods I've tried to write the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteBuffer buffer = ByteBuffer.allocate(g.getID().getBytes().length + Long.BYTES * 2);\n\nbuffer.put(g.getID().getBytes());\nbuffer.putLong(uuid.getMostSignificantBits());\nbuffer.putLong(uuid.getLeastSignificantBits());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayOutputStream output_ = new ByteArrayOutputStream();\nDataOutputStream output = new DataOutputStream(output_);\ntry {           \n    output.write(g.getID().getBytes());\n    output.writeLong(uuid.getMostSignificantBits());\n    output.writeLong(uuid.getLeastSignificantBits());\n    api.sendToServers(KaranteeniPermsKeys.GLOBAL_GROUP_CHANGED, output_.toByteArray());\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Writing the data with both methods works fine, but the next parts are where it fails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayDataInput input2 = msg.getDataInput();\nString group2 = input2.readUTF(); // EOFException\nlong mostSignificant2 = input2.readLong();\nlong leastSignificant2 = input2.readLong();\nUUID uuid2 = new UUID(mostSignificant2, leastSignificant2);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayInputStream input_ = new ByteArrayInputStream(msg.getMessageBytes());\nDataInputStream input = new DataInputStream(input_);\ntry {\n    String group = input.readUTF(); // EOFException\n    long mostSignificant = input.readLong();\n    long leastSignificant = input.readLong();\n    UUID uuid = new UUID(mostSignificant, leastSignificant);\n    // rest of the code\n} catch(IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The data output printed to console results in this: group2��K��&amp;F,��8��m(↑\n(Which using string -&gt; bytes converter is '67726f757032efbfbdefbfbd4befbfbdefbfbd26462cefbfbdefbfbd38efbfbdefbfbd6d28e28691')\nThe inputted string is &quot;group2&quot; and inputted UUID is 'd4ef4bc2-db26-462c-9793-389ba56d2818'</p>\n<p>The stacktrace from the above method is the following:</p>\n<pre><code>[14:33:04 WARN]: java.lang.IllegalStateException: java.io.EOFException\n[14:33:04 WARN]:        at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\n[14:33:04 WARN]:        at KaranteeniPerms.jar//net.karanteeni.karanteeniperms.spigot.groups.BungeeListeners.onGlobalGroupChanged(BungeeListeners.java:80)                                                        [14:33:04 WARN]:        at SockExchange-1.1.1-all.jar//com.gmail.tracebachi.SockExchange.Messages.ReceivedMessageNotifier.lambda$notify$1(ReceivedMessageNotifier.java:94)                                        [14:33:04 WARN]:        at SockExchange-1.1.1-all.jar//com.gmail.tracebachi.SockExchange.Scheduler.AwaitableExecutor.lambda$wrapTask$0(AwaitableExecutor.java:182)                                                [14:33:04 WARN]:        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n[14:33:04 WARN]:        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[14:33:04 WARN]:        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)                                                               [14:33:04 WARN]:        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)                                                                                              [14:33:04 WARN]:        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)                                                                                              [14:33:04 WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\n[14:33:04 WARN]: Caused by: java.io.EOFException\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readFully(DataInputStream.java:203)\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:614)\n[14:33:04 WARN]:        at java.base/java.io.DataInputStream.readUTF(DataInputStream.java:570)\n[14:33:04 WARN]:        at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\n[14:33:04 WARN]:        ... 9 more \n</code></pre>\n<p>Minimum reproducible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.ByteBuffer;\nimport com.google.common.io.ByteArrayDataInput;\nimport java.io.ByteArrayInputStream;\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.util.UUID;\nimport com.google.common.io.ByteArrayDataInput;\nimport com.google.common.io.ByteStreams;\n\n\npublic class MinData {\n    public static void main(String[] args) {\n        String name = &quot;group2&quot;;\n        UUID uuid = UUID.randomUUID();\n        try {\n            method1Input(ByteStreams.newDataInput(method1Output(name, uuid)));\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            method1Input(ByteStreams.newDataInput(method2Output(name, uuid)));\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            method2Input(method1Output(name, uuid));\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            method2Input(method2Output(name, uuid));\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static void method1Input(ByteArrayDataInput input) {\n        String group = input.readUTF(); // EOFException\n        long mostSignificant = input.readLong();\n        long leastSignificant = input.readLong();\n        UUID uuid = new UUID(mostSignificant, leastSignificant);\n    }\n\n\n    public static void method2Input(byte[] bytes) {\n        ByteArrayInputStream input_ = new ByteArrayInputStream(bytes);\n        DataInputStream input = new DataInputStream(input_);\n        try {\n            String group = input.readUTF(); // EOFException\n            long mostSignificant = input.readLong();\n            long leastSignificant = input.readLong();\n            UUID uuid = new UUID(mostSignificant, leastSignificant);\n            // rest of the code\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static byte[] method1Output(String text, UUID uuid) {\n        ByteBuffer buffer = ByteBuffer.allocate(text.getBytes().length + Long.BYTES * 2);\n        buffer.put(text.getBytes());\n        buffer.putLong(uuid.getMostSignificantBits());\n        buffer.putLong(uuid.getLeastSignificantBits());\n        return buffer.array();\n    }\n\n\n    public static byte[] method2Output(String text, UUID uuid) {\n        ByteArrayOutputStream output_ = new ByteArrayOutputStream();\n        DataOutputStream output = new DataOutputStream(output_);\n        try {           \n            output.write(&quot;group2&quot;.getBytes());\n            output.writeLong(uuid.getMostSignificantBits());\n            output.writeLong(uuid.getLeastSignificantBits());\n            return output_.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Running the above minimum reproducible produces the following errors:</p>\n<pre><code>15:03:34 [SEVERE] java.lang.IllegalStateException: java.io.EOFException\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method1Input(KaranteeniPerms.java:101)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:75)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\n15:03:34 [SEVERE] Caused by: java.io.EOFException\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\n15:03:34 [SEVERE]     ... 11 more\n15:03:34 [SEVERE] java.lang.IllegalStateException: java.io.EOFException\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:458)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method1Input(KaranteeniPerms.java:101)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:81)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\n15:03:34 [SEVERE] Caused by: java.io.EOFException\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\n15:03:34 [SEVERE]     at com.google.common.io.ByteStreams$ByteArrayDataInputStream.readUTF(ByteStreams.java:456)\n15:03:34 [SEVERE]     ... 11 more\n15:03:34 [SEVERE] java.io.EOFException\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method2Input(KaranteeniPerms.java:112)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:87)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15)\n15:03:34 [SEVERE] java.io.EOFException\n15:03:34 [SEVERE]     at java.io.DataInputStream.readFully(DataInputStream.java:197)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:609)\n15:03:34 [SEVERE]     at java.io.DataInputStream.readUTF(DataInputStream.java:564)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.method2Input(KaranteeniPerms.java:112)\n15:03:34 [SEVERE]     at net.karanteeni.karanteeniperms.bungee.KaranteeniPerms.&lt;init&gt;(KaranteeniPerms.java:93)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n15:03:34 [SEVERE]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n15:03:34 [SEVERE]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n15:03:34 [SEVERE]     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.enablePlugin(PluginManager.java:341)\n15:03:34 [SEVERE]     at net.md_5.bungee.api.plugin.PluginManager.loadPlugins(PluginManager.java:250)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCord.start(BungeeCord.java:271)\n15:03:34 [SEVERE]     at net.md_5.bungee.BungeeCordLauncher.main(BungeeCordLauncher.java:67)\n15:03:34 [SEVERE]     at net.md_5.bungee.Bootstrap.main(Bootstrap.java:15) \n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1535637413,"post_id":52098863,"comment_id":91148144,"body_markdown":"It would help if you linked to the information you mentioned.","body":"It would help if you linked to the information you mentioned."},{"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"score":0,"creation_date":1535637557,"post_id":52098863,"comment_id":91148250,"body_markdown":"https://dzone.com/articles/spring-boot-server-sent-events-tutorial MediaType.APPLICATION_STREAM_JSON_VALUE signifies that the server will send SSEs\nhttps://www.youtube.com/watch?v=_Orluu4VhmY 31:46 APPLICATION_STREAM_JSON_VALUE is used if you are not in a browser or  streaming up to the server","body":"<a href=\"https://dzone.com/articles/spring-boot-server-sent-events-tutorial\" rel=\"nofollow noreferrer\">dzone.com/articles/spring-boot-server-sent-events-tutorial</a> MediaType.APPLICATION_STREAM_JSON_VALUE signifies that the server will send SSEs <a href=\"https://www.youtube.com/watch?v=_Orluu4VhmY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=_Orluu4VhmY</a> 31:46 APPLICATION_STREAM_JSON_VALUE is used if you are not in a browser or  streaming up to the server"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1655034775,"creation_date":1535640674,"answer_id":52099962,"question_id":52098863,"body_markdown":"TL;DR: that dzone article is wrong, and Rossen&#39;s talk is right.\r\n\r\n`text/event-stream` is the official media type for Server Sent Events (SSE); it will prefix data bits with a `data:` prefix and you can also choose your prefix to change the meaning of that piece of data for the client. This media type is for browsers, as they support that using the `EventSource` JavaScript API.\r\n\r\n`application/stream+json` is for server to server/http client (anything that&#39;s not a browser) communications. It won&#39;t prefix the data and will just use CRLF to split the pieces of data. Note that the Spring team is reconsidering that media type, because [SPR-16742][1] (don&#39;t hesitate to comment there!).\r\n\r\nUpdate: `application/x-ndjson` is now the preferred media type for streaming JSON values.\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-16742","title":"What&#39;s the difference between &quot;text/event-stream&quot; and &quot;application/stream+json&quot;","body":"<p>TL;DR: that dzone article is wrong, and Rossen's talk is right.</p>\n<p><code>text/event-stream</code> is the official media type for Server Sent Events (SSE); it will prefix data bits with a <code>data:</code> prefix and you can also choose your prefix to change the meaning of that piece of data for the client. This media type is for browsers, as they support that using the <code>EventSource</code> JavaScript API.</p>\n<p><code>application/stream+json</code> is for server to server/http client (anything that's not a browser) communications. It won't prefix the data and will just use CRLF to split the pieces of data. Note that the Spring team is reconsidering that media type, because <a href=\"https://jira.spring.io/browse/SPR-16742\" rel=\"noreferrer\">SPR-16742</a> (don't hesitate to comment there!).</p>\n<p>Update: <code>application/x-ndjson</code> is now the preferred media type for streaming JSON values.</p>\n"}],"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31128,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":1,"score":26,"last_activity_date":1655034775,"creation_date":1535637359,"question_id":52098863,"body_markdown":"    \r\n    @GetMapping(path = &quot;/cars&quot;, produces = &quot;text/event-stream&quot;)\r\n\tpublic Flux&lt;Car&gt; getCarStream() {\r\n\t\tSystem.out.println(&quot;application/stream+json&quot;);\r\n\t\treturn this.repository.findCarsBy().log();\r\n\t}\r\nWhat&#39;s the difference between the above code and the following:\r\n\r\n    @GetMapping(path = &quot;/cars&quot;, produces = &quot;application/stream+json&quot;)\r\n\tpublic Flux&lt;Car&gt; getCarStream() {\r\n\t\tSystem.out.println(&quot;application/stream+json&quot;);\r\n\t\treturn this.repository.findCarsBy().log();\r\n\t}\r\nSo far I&#39;ve found the contradictory information: some say they both mean server-sent events and others that there is a difference.","title":"What&#39;s the difference between &quot;text/event-stream&quot; and &quot;application/stream+json&quot;","body":"<pre><code>@GetMapping(path = \"/cars\", produces = \"text/event-stream\")\npublic Flux&lt;Car&gt; getCarStream() {\n    System.out.println(\"application/stream+json\");\n    return this.repository.findCarsBy().log();\n}\n</code></pre>\n\n<p>What's the difference between the above code and the following:</p>\n\n<pre><code>@GetMapping(path = \"/cars\", produces = \"application/stream+json\")\npublic Flux&lt;Car&gt; getCarStream() {\n    System.out.println(\"application/stream+json\");\n    return this.repository.findCarsBy().log();\n}\n</code></pre>\n\n<p>So far I've found the contradictory information: some say they both mean server-sent events and others that there is a difference.</p>\n"},{"tags":["java","string","parsing"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":7,"creation_date":1252672180,"post_id":1410555,"comment_id":1252721,"body_markdown":"You could crack open `src.zip` and see for yourself (for one particular implementation).","body":"You could crack open <code>src.zip</code> and see for yourself (for one particular implementation)."},{"owner":{"account_id":8651,"reputation":82295,"user_id":15682,"accept_rate":73,"display_name":"rslite"},"score":0,"creation_date":1252932640,"post_id":1410555,"comment_id":1264645,"body_markdown":"I have updated the answer with an example on the subtracting of codes","body":"I have updated the answer with an example on the subtracting of codes"}],"answers":[{"tags":[],"owner":{"account_id":8651,"reputation":82295,"user_id":15682,"accept_rate":73,"display_name":"rslite"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1252932291,"creation_date":1252672198,"answer_id":1410573,"question_id":1410555,"body_markdown":"Usually this is done like this:\r\n\r\n- init result with 0\r\n- for each character in string do this\r\n - result = result * 10\r\n - get the digit from the character (&#39;0&#39; is 48 ASCII (or 0x30), so just subtract that from the character ASCII code to get the digit)\r\n - add the digit to the result\r\n- return result\r\n\r\n**Edit**: This works for any base if you replace 10 with the correct base and adjust the obtaining of the digit from the corresponding character (should work as is for bases lower than 10, but would need a little adjusting for higher bases - like hexadecimal - since letters are separated from numbers by 7 characters).\r\n\r\n**Edit 2**: Char to digit value conversion: characters &#39;0&#39; to &#39;9&#39; have ASCII values 48 to 57 (0x30 to 0x39 in hexa), so in order to convert a character to its digit value a simple subtraction is needed. Usually it&#39;s done like this (where ord is the function that gives the ASCII code of the character):\r\n\r\n    digit = ord(char) - ord(&#39;0&#39;)\r\n\r\nFor higher number bases the letters are used as &#39;digits&#39; (A-F in hexa), but letters start from 65 (0x41 hexa) which means there&#39;s a gap that we have to account for:\r\n\r\n    digit = ord(char) - ord(&#39;0&#39;)\r\n    if digit &gt; 9 then digit -= 7\r\n\r\nExample: &#39;B&#39; is 66, so ord(&#39;B&#39;) - ord(&#39;0&#39;) = 18. Since 18 is larger than 9 we subtract 7 and the end result will be 11 - the value of the &#39;digit&#39; B.\r\n\r\nOne more thing to note here - this works only for uppercase letters, so the number must be first converted to uppercase.","title":"How does Integer.parseInt(string) actually work?","body":"<p>Usually this is done like this:</p>\n\n<ul>\n<li>init result with 0</li>\n<li>for each character in string do this\n\n<ul>\n<li>result = result * 10</li>\n<li>get the digit from the character ('0' is 48 ASCII (or 0x30), so just subtract that from the character ASCII code to get the digit)</li>\n<li>add the digit to the result</li>\n</ul></li>\n<li>return result</li>\n</ul>\n\n<p><strong>Edit</strong>: This works for any base if you replace 10 with the correct base and adjust the obtaining of the digit from the corresponding character (should work as is for bases lower than 10, but would need a little adjusting for higher bases - like hexadecimal - since letters are separated from numbers by 7 characters).</p>\n\n<p><strong>Edit 2</strong>: Char to digit value conversion: characters '0' to '9' have ASCII values 48 to 57 (0x30 to 0x39 in hexa), so in order to convert a character to its digit value a simple subtraction is needed. Usually it's done like this (where ord is the function that gives the ASCII code of the character):</p>\n\n<pre><code>digit = ord(char) - ord('0')\n</code></pre>\n\n<p>For higher number bases the letters are used as 'digits' (A-F in hexa), but letters start from 65 (0x41 hexa) which means there's a gap that we have to account for:</p>\n\n<pre><code>digit = ord(char) - ord('0')\nif digit &gt; 9 then digit -= 7\n</code></pre>\n\n<p>Example: 'B' is 66, so ord('B') - ord('0') = 18. Since 18 is larger than 9 we subtract 7 and the end result will be 11 - the value of the 'digit' B.</p>\n\n<p>One more thing to note here - this works only for uppercase letters, so the number must be first converted to uppercase.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1252672335,"creation_date":1252672335,"answer_id":1410585,"question_id":1410555,"body_markdown":"I&#39;m not sure what you&#39;re looking for, as &quot;high level&quot;. I&#39;ll give it a try:\r\n\r\n* take the String, parse all characters one by one\r\n* start with a total of 0\r\n* if it is between 0 and 9, `total = (total x 10) + current`\r\n* when done, the total is the result\r\n","title":"How does Integer.parseInt(string) actually work?","body":"<p>I'm not sure what you're looking for, as \"high level\". I'll give it a try:</p>\n\n<ul>\n<li>take the String, parse all characters one by one</li>\n<li>start with a total of 0</li>\n<li>if it is between 0 and 9, <code>total = (total x 10) + current</code></li>\n<li>when done, the total is the result</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1626591955,"creation_date":1252672743,"answer_id":1410611,"question_id":1410555,"body_markdown":"The source code of the Java API is freely available. Here&#39;s the parseInt() method. It&#39;s rather long because it has to handle a lot of exceptional and corner cases.\r\n\r\n    public static int parseInt(String s, int radix) throws NumberFormatException {\r\n        if (s == null) {\r\n            throw new NumberFormatException(&quot;null&quot;);\r\n        }\r\n    \r\n        if (radix &lt; Character.MIN_RADIX) {\r\n            throw new NumberFormatException(&quot;radix &quot; + radix +\r\n                &quot; less than Character.MIN_RADIX&quot;);\r\n        }\r\n    \r\n        if (radix &gt; Character.MAX_RADIX) {\r\n            throw new NumberFormatException(&quot;radix &quot; + radix +\r\n                &quot; greater than Character.MAX_RADIX&quot;);\r\n        }\r\n    \r\n        int result = 0;\r\n        boolean negative = false;\r\n        int i = 0, max = s.length();\r\n        int limit;\r\n        int multmin;\r\n        int digit;\r\n    \r\n        if (max &gt; 0) {\r\n            if (s.charAt(0) == &#39;-&#39;) {\r\n                negative = true;\r\n                limit = Integer.MIN_VALUE;\r\n                i++;\r\n            } else {\r\n                limit = -Integer.MAX_VALUE;\r\n            }\r\n            multmin = limit / radix;\r\n            if (i &lt; max) {\r\n                digit = Character.digit(s.charAt(i++), radix);\r\n                if (digit &lt; 0) {\r\n                    throw NumberFormatException.forInputString(s);\r\n                } else {\r\n                    result = -digit;\r\n                }\r\n            }\r\n            while (i &lt; max) {\r\n                // Accumulating negatively avoids surprises near MAX_VALUE\r\n                digit = Character.digit(s.charAt(i++), radix);\r\n                if (digit &lt; 0) {\r\n                    throw NumberFormatException.forInputString(s);\r\n                }\r\n                if (result &lt; multmin) {\r\n                    throw NumberFormatException.forInputString(s);\r\n                }\r\n                result *= radix;\r\n                if (result &lt; limit + digit) {\r\n                    throw NumberFormatException.forInputString(s);\r\n                }\r\n                result -= digit;\r\n            }\r\n        } else {\r\n            throw NumberFormatException.forInputString(s);\r\n        }\r\n        if (negative) {\r\n            if (i &gt; 1) {\r\n                return result;\r\n            } else { /* Only got &quot;-&quot; */\r\n                throw NumberFormatException.forInputString(s);\r\n            }\r\n        } else {\r\n            return -result;\r\n        }\r\n    }","title":"How does Integer.parseInt(string) actually work?","body":"<p>The source code of the Java API is freely available. Here's the parseInt() method. It's rather long because it has to handle a lot of exceptional and corner cases.</p>\n<pre><code>public static int parseInt(String s, int radix) throws NumberFormatException {\n    if (s == null) {\n        throw new NumberFormatException(&quot;null&quot;);\n    }\n\n    if (radix &lt; Character.MIN_RADIX) {\n        throw new NumberFormatException(&quot;radix &quot; + radix +\n            &quot; less than Character.MIN_RADIX&quot;);\n    }\n\n    if (radix &gt; Character.MAX_RADIX) {\n        throw new NumberFormatException(&quot;radix &quot; + radix +\n            &quot; greater than Character.MAX_RADIX&quot;);\n    }\n\n    int result = 0;\n    boolean negative = false;\n    int i = 0, max = s.length();\n    int limit;\n    int multmin;\n    int digit;\n\n    if (max &gt; 0) {\n        if (s.charAt(0) == '-') {\n            negative = true;\n            limit = Integer.MIN_VALUE;\n            i++;\n        } else {\n            limit = -Integer.MAX_VALUE;\n        }\n        multmin = limit / radix;\n        if (i &lt; max) {\n            digit = Character.digit(s.charAt(i++), radix);\n            if (digit &lt; 0) {\n                throw NumberFormatException.forInputString(s);\n            } else {\n                result = -digit;\n            }\n        }\n        while (i &lt; max) {\n            // Accumulating negatively avoids surprises near MAX_VALUE\n            digit = Character.digit(s.charAt(i++), radix);\n            if (digit &lt; 0) {\n                throw NumberFormatException.forInputString(s);\n            }\n            if (result &lt; multmin) {\n                throw NumberFormatException.forInputString(s);\n            }\n            result *= radix;\n            if (result &lt; limit + digit) {\n                throw NumberFormatException.forInputString(s);\n            }\n            result -= digit;\n        }\n    } else {\n        throw NumberFormatException.forInputString(s);\n    }\n    if (negative) {\n        if (i &gt; 1) {\n            return result;\n        } else { /* Only got &quot;-&quot; */\n            throw NumberFormatException.forInputString(s);\n        }\n    } else {\n        return -result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22041,"reputation":949,"user_id":54035,"accept_rate":77,"display_name":"zkarthik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1543486453,"creation_date":1252677146,"answer_id":1410998,"question_id":1410555,"body_markdown":" - Find the length of the String (s) (say maxSize )\r\n - Initialize `result = 0`\r\n - begin loop `( int j=maxSize, i =0 ; j &gt; 0; j--, i++)`\r\n - `int digit = Character.digit(s.charAt(i))`\r\n - `result= result + digit * (10 power j-1)`\r\n - end loop\r\n - return result\r\n\r\n","title":"How does Integer.parseInt(string) actually work?","body":"<ul>\n<li>Find the length of the String (s) (say maxSize )</li>\n<li>Initialize <code>result = 0</code></li>\n<li>begin loop <code>( int j=maxSize, i =0 ; j &gt; 0; j--, i++)</code></li>\n<li><code>int digit = Character.digit(s.charAt(i))</code></li>\n<li><code>result= result + digit * (10 power j-1)</code></li>\n<li>end loop</li>\n<li>return result</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":403508,"reputation":6422,"user_id":771318,"accept_rate":62,"display_name":"javaMan"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1321065084,"creation_date":1321059357,"answer_id":8101648,"question_id":1410555,"body_markdown":"    public class StringToInt {\r\n    \t\r\n    \tpublic int ConvertStringToInt(String s) throws NumberFormatException\r\n    \t{\r\n    \t\tint num =0;\r\n    \t\tfor(int i =0; i&lt;s.length();i++)\r\n    \t\t{\r\n    \t\t\tif(((int)s.charAt(i)&gt;=48)&amp;&amp;((int)s.charAt(i)&lt;=59))\r\n    \t\t\t{\r\n    \t\t\t\tnum = num*10+ ((int)s.charAt(i)-48);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tthrow new NumberFormatException();\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\treturn num;\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[]args)\r\n    \t{\r\n    \t\tStringToInt obj = new StringToInt();\r\n    \t\tint i = obj.ConvertStringToInt(&quot;1234123&quot;);\r\n    \t\tSystem.out.println(i);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How does Integer.parseInt(string) actually work?","body":"<pre><code>public class StringToInt {\n\n    public int ConvertStringToInt(String s) throws NumberFormatException\n    {\n        int num =0;\n        for(int i =0; i&lt;s.length();i++)\n        {\n            if(((int)s.charAt(i)&gt;=48)&amp;&amp;((int)s.charAt(i)&lt;=59))\n            {\n                num = num*10+ ((int)s.charAt(i)-48);\n            }\n            else\n            {\n                throw new NumberFormatException();\n            }\n\n        }\n        return num; \n    }\n\n    public static void main(String[]args)\n    {\n        StringToInt obj = new StringToInt();\n        int i = obj.ConvertStringToInt(\"1234123\");\n        System.out.println(i);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475096022,"creation_date":1475096022,"answer_id":39757461,"question_id":1410555,"body_markdown":"this is my simple implementation of `parse int`\r\n\r\n    public static int parseInteger(String stringNumber) {\r\n        int sum=0;\r\n        int position=1;\r\n        for (int i = stringNumber.length()-1; i &gt;= 0 ; i--) {\r\n           int number=stringNumber.charAt(i) - &#39;0&#39;;\r\n           sum+=number*position;\r\n           position=position*10;\r\n            \r\n        }\r\n        return sum;\r\n    }\r\n","title":"How does Integer.parseInt(string) actually work?","body":"<p>this is my simple implementation of <code>parse int</code></p>\n\n<pre><code>public static int parseInteger(String stringNumber) {\n    int sum=0;\n    int position=1;\n    for (int i = stringNumber.length()-1; i &gt;= 0 ; i--) {\n       int number=stringNumber.charAt(i) - '0';\n       sum+=number*position;\n       position=position*10;\n\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344346,"reputation":2019,"user_id":676612,"accept_rate":85,"display_name":"Shishir Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511054880,"creation_date":1511054880,"answer_id":47372863,"question_id":1410555,"body_markdown":"Here is what I came up with (Note: No checks are done for alphabets)\r\n\r\n    int convertStringtoInt(String number){\r\n           \r\n        int total =0;\r\n        double multiplier = Math.pow(10, number.length()-1);\r\n            for(int i=0;i&lt;number.length();i++){\r\n            \r\n                total = total + (int)multiplier*((int)number.charAt(i) -48);\r\n                multiplier/=10;\r\n                \r\n            }\r\n            \r\n            return total;\r\n        }","title":"How does Integer.parseInt(string) actually work?","body":"<p>Here is what I came up with (Note: No checks are done for alphabets)</p>\n\n<pre><code>int convertStringtoInt(String number){\n\n    int total =0;\n    double multiplier = Math.pow(10, number.length()-1);\n        for(int i=0;i&lt;number.length();i++){\n\n            total = total + (int)multiplier*((int)number.charAt(i) -48);\n            multiplier/=10;\n\n        }\n\n        return total;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22523420,"reputation":41,"user_id":16716588,"display_name":"Sarvesh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641475712,"creation_date":1641475712,"answer_id":70607833,"question_id":1410555,"body_markdown":"Here is my new approach which is not in a math way.\r\n\r\n```\r\nlet n = 12.277;\r\n// converting  to string\r\nn = n.toString();\r\n\r\nlet int = &quot;&quot;;\r\n\r\nfor (let i = 0; i &lt; n.length; i++) {\r\n\r\n\tif (n[i] != &quot;.&quot;) {\r\n\t\tint += n[i];\r\n\t} else {\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nconsole.log(Number(int));\r\n\r\n```\r\n\r\n","title":"How does Integer.parseInt(string) actually work?","body":"<p>Here is my new approach which is not in a math way.</p>\n<pre><code>let n = 12.277;\n// converting  to string\nn = n.toString();\n\nlet int = &quot;&quot;;\n\nfor (let i = 0; i &lt; n.length; i++) {\n\n    if (n[i] != &quot;.&quot;) {\n        int += n[i];\n    } else {\n        break;\n    }\n}\n\nconsole.log(Number(int));\n\n</code></pre>\n"}],"owner":{"account_id":19056,"reputation":2927,"user_id":44313,"accept_rate":100,"display_name":"Karl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65608,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":1410573,"answer_count":8,"score":32,"last_activity_date":1655034312,"creation_date":1252671898,"question_id":1410555,"body_markdown":"Was asked this question recently and did not know the answer. From a high level can someone explain how Java takes a character / String and convert it into an int.","title":"How does Integer.parseInt(string) actually work?","body":"<p>Was asked this question recently and did not know the answer. From a high level can someone explain how Java takes a character / String and convert it into an int.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1654985863,"post_id":72587905,"comment_id":128223804,"body_markdown":"You could specify a log record format as CSV. Even as second log file.","body":"You could specify a log record format as CSV. Even as second log file."}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655034144,"creation_date":1654985512,"answer_id":72588168,"question_id":72587905,"body_markdown":"Following will do the transformation.\r\n\r\n**Answer 01**\r\n\r\nYou can use the following solution if the structure of the logs are fixed. \r\n\r\n```java\r\nwhile ((str = in.readLine()) != null) {\r\n    str = str.replaceAll(&quot; wt.nm=|&amp;wt.ti=| &quot;, &quot;,&quot;).replace(&quot;&amp;&quot;, &quot;&quot;);\r\n    System.out.println(str);\r\n    wb.write(str);\r\n}\r\n```\r\n\r\n**Answer 02**\r\n\r\nIf the structure is not fixed. You can use pattern matching to extract the relevant strings. Please refer to the following.\r\n\r\n```java\r\nwhile ((str = in.readLine()) != null) {\r\n    \r\n    String nm = &quot;&quot;;\r\n    String ti = &quot;&quot;;\r\n    // First Assuming Date and time willmbe always there.\r\n    String [] parts =  str.split(&quot; &quot;);\r\n\r\n    String tokenizingString = parts[2];\r\n    String pattern1 = &quot;wt.nm=&quot;;\r\n    String pattern2 = &quot;wt.ti=&quot;;\r\n\r\n    Pattern p = Pattern.compile(Pattern.quote(pattern1) + &quot;(.*?)&quot; + Pattern.quote(&quot;&amp;&quot;));\r\n    Matcher m = p.matcher(str);\r\n    // Assumes the pattern occurs once, hence only getting the first matcher\r\n    if (m.find()) {\r\n        nm = m.group(1);\r\n    }\r\n    \r\n    Pattern p2 = Pattern.compile(Pattern.quote(pattern2) + &quot;(.*?)&quot; + Pattern.quote(&quot;&amp;&quot;));\r\n    Matcher m2 = p2.matcher(str);\r\n    \r\n    if (m2.find()) {\r\n        ti = m2.group(1);\r\n    }\r\n    \r\n    String logEntry = parts[0] + &quot;,&quot; + parts[1] + &quot;,&quot; + nm + &quot;,&quot; + ti;\r\n    System.out.println(logEntry);\r\n}\r\n```","title":"How to parse log file to csv file in Java","body":"<p>Following will do the transformation.</p>\n<p><strong>Answer 01</strong></p>\n<p>You can use the following solution if the structure of the logs are fixed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while ((str = in.readLine()) != null) {\n    str = str.replaceAll(&quot; wt.nm=|&amp;wt.ti=| &quot;, &quot;,&quot;).replace(&quot;&amp;&quot;, &quot;&quot;);\n    System.out.println(str);\n    wb.write(str);\n}\n</code></pre>\n<p><strong>Answer 02</strong></p>\n<p>If the structure is not fixed. You can use pattern matching to extract the relevant strings. Please refer to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while ((str = in.readLine()) != null) {\n    \n    String nm = &quot;&quot;;\n    String ti = &quot;&quot;;\n    // First Assuming Date and time willmbe always there.\n    String [] parts =  str.split(&quot; &quot;);\n\n    String tokenizingString = parts[2];\n    String pattern1 = &quot;wt.nm=&quot;;\n    String pattern2 = &quot;wt.ti=&quot;;\n\n    Pattern p = Pattern.compile(Pattern.quote(pattern1) + &quot;(.*?)&quot; + Pattern.quote(&quot;&amp;&quot;));\n    Matcher m = p.matcher(str);\n    // Assumes the pattern occurs once, hence only getting the first matcher\n    if (m.find()) {\n        nm = m.group(1);\n    }\n    \n    Pattern p2 = Pattern.compile(Pattern.quote(pattern2) + &quot;(.*?)&quot; + Pattern.quote(&quot;&amp;&quot;));\n    Matcher m2 = p2.matcher(str);\n    \n    if (m2.find()) {\n        ti = m2.group(1);\n    }\n    \n    String logEntry = parts[0] + &quot;,&quot; + parts[1] + &quot;,&quot; + nm + &quot;,&quot; + ti;\n    System.out.println(logEntry);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655006584,"creation_date":1655006584,"answer_id":72589409,"question_id":72587905,"body_markdown":"The format in your data (ignoring the leading date and time) looks like:\r\n* `wt.nm` is always present\r\n* `wt.ti` is always present\r\n* `wt.nm` always appears before `wt.ti`\r\n* there are never additional name+value pairs (beyond `wt.nm` and `wt.ti`)\r\n\r\nHowever, the data has a more general pattern to it:\r\n* one (or more) name+value pairs\r\n* for each name+value pair, the name is separated from the value by `=`\r\n* each name+value pair is separated from other pairs by `&amp;`\r\n\r\nAlso, it&#39;s easy to imagine encountering additional name+value pairs (who says it will always be those same two forever? why not five name+values in a single line?), or perhaps the ordering changes (could `wt.ti` show up before `wt.nm`?).\r\n\r\nThe code below takes a general approach, working with the general pattern of your input data. I included some sample data to show how it works.\r\n* the first input line – `&quot;2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;&quot;` – one of your original inputs\r\n* the second line – `&quot;2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;&quot;`&#160;–&#160;uses a different &quot;name&quot; altogether, and only has a single name+value pair (not two): `xxxxxxxxxxx=bb`\r\n* the third line – `&quot;2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;&quot;`&#160;–&#160;includes a third name+value pair: `zzzzzzzz=99`. who says there will always be just two name+value pairs?\r\n\r\n\r\n```\r\nString[] lines = {\r\n        &quot;2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;&quot;,\r\n        &quot;2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;&quot;,\r\n        &quot;2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;&quot;\r\n};\r\nfor (String line : lines) {\r\n    System.out.println(&quot;original: &quot; + line);\r\n    String edit1 = line.replaceAll(&quot;&amp;&quot;, &quot; &quot;);\r\n    System.out.println(&quot;          &quot; + edit1);\r\n\r\n    StringTokenizer tokenizer = new StringTokenizer(edit1);\r\n    StringBuilder finalLine = new StringBuilder();\r\n    while (tokenizer.hasMoreTokens()) {\r\n        String token = tokenizer.nextToken();\r\n        System.out.println(&quot;   token: &quot; + token);\r\n        if (token.contains(&quot;=&quot;)) {\r\n            int positionOfEqualsSign = token.indexOf(&quot;=&quot;);\r\n            String value = token.substring(positionOfEqualsSign + 1);\r\n            finalLine.append(value);\r\n        } else {\r\n            finalLine.append(token);\r\n        }\r\n        if (tokenizer.hasMoreTokens()) {\r\n            finalLine.append(&quot;,&quot;);\r\n        }\r\n    }\r\n    System.out.println(&quot;   final: &quot; + finalLine);\r\n    System.out.println();\r\n}\r\n```\r\n\r\nHere&#39;s the output from that code, which includes a lot of extra output in order to be easier to follow:\r\n```\r\noriginal: 2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;\r\n          2022-06-01 11:00:00 wt.nm=aa wt.ti=t1 \r\n   token: 2022-06-01\r\n   token: 11:00:00\r\n   token: wt.nm=aa\r\n   token: wt.ti=t1\r\n   final: 2022-06-01,11:00:00,aa,t1\r\n\r\noriginal: 2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;\r\n          2022-06-01 11:00:00 xxxxxxxxxxx=bb \r\n   token: 2022-06-01\r\n   token: 11:00:00\r\n   token: xxxxxxxxxxx=bb\r\n   final: 2022-06-01,11:00:00,bb\r\n\r\noriginal: 2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;\r\n          2022-06-01 11:00:00 xxxxxxxxxxx=cc yyyyyyyyyyyy=t3 zzzzzzzz=99 \r\n   token: 2022-06-01\r\n   token: 11:00:00\r\n   token: xxxxxxxxxxx=cc\r\n   token: yyyyyyyyyyyy=t3\r\n   token: zzzzzzzz=99\r\n   final: 2022-06-01,11:00:00,cc,t3,99\r\n```","title":"How to parse log file to csv file in Java","body":"<p>The format in your data (ignoring the leading date and time) looks like:</p>\n<ul>\n<li><code>wt.nm</code> is always present</li>\n<li><code>wt.ti</code> is always present</li>\n<li><code>wt.nm</code> always appears before <code>wt.ti</code></li>\n<li>there are never additional name+value pairs (beyond <code>wt.nm</code> and <code>wt.ti</code>)</li>\n</ul>\n<p>However, the data has a more general pattern to it:</p>\n<ul>\n<li>one (or more) name+value pairs</li>\n<li>for each name+value pair, the name is separated from the value by <code>=</code></li>\n<li>each name+value pair is separated from other pairs by <code>&amp;</code></li>\n</ul>\n<p>Also, it's easy to imagine encountering additional name+value pairs (who says it will always be those same two forever? why not five name+values in a single line?), or perhaps the ordering changes (could <code>wt.ti</code> show up before <code>wt.nm</code>?).</p>\n<p>The code below takes a general approach, working with the general pattern of your input data. I included some sample data to show how it works.</p>\n<ul>\n<li>the first input line – <code>&quot;2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;&quot;</code> – one of your original inputs</li>\n<li>the second line – <code>&quot;2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;&quot;</code> – uses a different &quot;name&quot; altogether, and only has a single name+value pair (not two): <code>xxxxxxxxxxx=bb</code></li>\n<li>the third line – <code>&quot;2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;&quot;</code> – includes a third name+value pair: <code>zzzzzzzz=99</code>. who says there will always be just two name+value pairs?</li>\n</ul>\n<pre><code>String[] lines = {\n        &quot;2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;&quot;,\n        &quot;2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;&quot;,\n        &quot;2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;&quot;\n};\nfor (String line : lines) {\n    System.out.println(&quot;original: &quot; + line);\n    String edit1 = line.replaceAll(&quot;&amp;&quot;, &quot; &quot;);\n    System.out.println(&quot;          &quot; + edit1);\n\n    StringTokenizer tokenizer = new StringTokenizer(edit1);\n    StringBuilder finalLine = new StringBuilder();\n    while (tokenizer.hasMoreTokens()) {\n        String token = tokenizer.nextToken();\n        System.out.println(&quot;   token: &quot; + token);\n        if (token.contains(&quot;=&quot;)) {\n            int positionOfEqualsSign = token.indexOf(&quot;=&quot;);\n            String value = token.substring(positionOfEqualsSign + 1);\n            finalLine.append(value);\n        } else {\n            finalLine.append(token);\n        }\n        if (tokenizer.hasMoreTokens()) {\n            finalLine.append(&quot;,&quot;);\n        }\n    }\n    System.out.println(&quot;   final: &quot; + finalLine);\n    System.out.println();\n}\n</code></pre>\n<p>Here's the output from that code, which includes a lot of extra output in order to be easier to follow:</p>\n<pre><code>original: 2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;\n          2022-06-01 11:00:00 wt.nm=aa wt.ti=t1 \n   token: 2022-06-01\n   token: 11:00:00\n   token: wt.nm=aa\n   token: wt.ti=t1\n   final: 2022-06-01,11:00:00,aa,t1\n\noriginal: 2022-06-01 11:00:00 xxxxxxxxxxx=bb&amp;\n          2022-06-01 11:00:00 xxxxxxxxxxx=bb \n   token: 2022-06-01\n   token: 11:00:00\n   token: xxxxxxxxxxx=bb\n   final: 2022-06-01,11:00:00,bb\n\noriginal: 2022-06-01 11:00:00 xxxxxxxxxxx=cc&amp;yyyyyyyyyyyy=t3&amp;zzzzzzzz=99&amp;\n          2022-06-01 11:00:00 xxxxxxxxxxx=cc yyyyyyyyyyyy=t3 zzzzzzzz=99 \n   token: 2022-06-01\n   token: 11:00:00\n   token: xxxxxxxxxxx=cc\n   token: yyyyyyyyyyyy=t3\n   token: zzzzzzzz=99\n   final: 2022-06-01,11:00:00,cc,t3,99\n</code></pre>\n"}],"owner":{"account_id":25533919,"reputation":21,"user_id":19321383,"display_name":"Lyra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1655034144,"creation_date":1654982359,"question_id":72587905,"body_markdown":"I want read my log file and put into csv file via Java. How would I parse the log file with these delimiters into csv file as below.\r\n\r\n.log file:\r\n```\r\n2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;\r\n2022-06-02 12:00:00 wt.nm=ab&amp;wt.ti=t2&amp;\r\n2022-06-03 10:00:00 wt.nm=ac&amp;wt.ti=t3&amp;\r\n```\r\ndate and time is separated by space, name and title separated by wt.nm=/wt.ti with &amp; as end\r\n\r\nCSV output:\r\n```\r\ndate,time,name,title \r\n2022-06-01,11:00:00,aa,t1\r\n2022-06-02,12:00:00,ab,t2\r\n2022-06-03,10:00:00,ac,t3\r\n```\r\n```\r\nimport java.io.*;\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        try{\r\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/Users/ts/Desktop/test/src/0606.log&quot;));\r\n            FileWriter wb = new FileWriter(&quot;/Users/ts/Desktop/testcsv.csv&quot;);\r\n            String str;\r\n            while((str=in.readLine()) != null) {\r\n                System.out.println(str);\r\n                wb.write(str);\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to parse log file to csv file in Java","body":"<p>I want read my log file and put into csv file via Java. How would I parse the log file with these delimiters into csv file as below.</p>\n<p>.log file:</p>\n<pre><code>2022-06-01 11:00:00 wt.nm=aa&amp;wt.ti=t1&amp;\n2022-06-02 12:00:00 wt.nm=ab&amp;wt.ti=t2&amp;\n2022-06-03 10:00:00 wt.nm=ac&amp;wt.ti=t3&amp;\n</code></pre>\n<p>date and time is separated by space, name and title separated by wt.nm=/wt.ti with &amp; as end</p>\n<p>CSV output:</p>\n<pre><code>date,time,name,title \n2022-06-01,11:00:00,aa,t1\n2022-06-02,12:00:00,ab,t2\n2022-06-03,10:00:00,ac,t3\n</code></pre>\n<pre><code>import java.io.*;\npublic class test {\n    public static void main(String[] args) {\n        try{\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/Users/ts/Desktop/test/src/0606.log&quot;));\n            FileWriter wb = new FileWriter(&quot;/Users/ts/Desktop/testcsv.csv&quot;);\n            String str;\n            while((str=in.readLine()) != null) {\n                System.out.println(str);\n                wb.write(str);\n            }\n        }\n        catch (IOException e) {\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1655034248,"post_id":72591853,"comment_id":128229846,"body_markdown":"How is your parser supposed to know which lexer to use? You are missing something like `options {   tokenVocab = ParserPF; }`.","body":"How is your parser supposed to know which lexer to use? You are missing something like <code>options {   tokenVocab = ParserPF; }</code>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655034456,"post_id":72591853,"comment_id":128229878,"body_markdown":"As a matter of terminology: warnings are not errors.","body":"As a matter of terminology: warnings are not errors."},{"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"score":0,"creation_date":1655036453,"post_id":72591853,"comment_id":128230276,"body_markdown":"@Clashsoft you just made my day, it was `options {   tokenVocab = LexerPF; }` and it worked perfectly. Thank you so much","body":"@Clashsoft you just made my day, it was <code>options {   tokenVocab = LexerPF; }</code> and it worked perfectly. Thank you so much"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655049771,"post_id":72591853,"comment_id":128233160,"body_markdown":"@0xracer Good to see you solved your problem. &#128073; Now you can draft, post, and accept an Answer to your own Question explaining the solution, for posterity.","body":"@0xracer Good to see you solved your problem. 👉 Now you can draft, post, and accept an Answer to your own Question explaining the solution, for posterity."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1655065895,"post_id":72591853,"comment_id":128236477,"body_markdown":"Glad you got it to work. But, just in case others had specified the tokenVocab option and still see the &quot;implicit definition of token&quot; warning, it can be caused by missing lexer symbol rules.","body":"Glad you got it to work. But, just in case others had specified the tokenVocab option and still see the &quot;implicit definition of token&quot; warning, it can be caused by missing lexer symbol rules."}],"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655034075,"creation_date":1655034058,"question_id":72591853,"body_markdown":"I have a problem when I try to parse a file on ANTLR4. I&#39;m using the ANTLR4 plugin on IntelliJ and the program always throws me these warnings which makes me unable to parse any file or text using the plugin. If I use the console I also get the same errors. This is what I&#39;m getting:\r\n\r\n    \r\n    warning(125): ParserPF.g4:6:9: implicit definition of token ENTERO in parser\r\n    warning(125): ParserPF.g4:6:23: implicit definition of token FLOAT in parser\r\n    warning(125): ParserPF.g4:7:16: implicit definition of token ID in parser\r\n    warning(125): ParserPF.g4:9:14: implicit definition of token OPERADOR in parser\r\n    warning(125): ParserPF.g4:11:27: implicit definition of token IGUAL in parser\r\n    warning(125): ParserPF.g4:15:8: implicit definition of token ABREPARENTESIS in parser\r\n    warning(125): ParserPF.g4:15:31: implicit definition of token COMA in parser\r\n    warning(125): ParserPF.g4:15:45: implicit definition of token CIERRAPARENTESIS in parser\r\n    warning(125): ParserPF.g4:17:23: implicit definition of token CIERRASENTENCIA in parser\r\n    warning(125): ParserPF.g4:29:20: implicit definition of token FUNC in parser\r\n    warning(125): ParserPF.g4:29:105: implicit definition of token ENDFUNC in parser\r\n    warning(125): ParserPF.g4:32:38: implicit definition of token LOGICO in parser\r\n    warning(125): ParserPF.g4:37:5: implicit definition of token IF in parser\r\n    warning(125): ParserPF.g4:37:65: implicit definition of token ELSE in parser\r\n    warning(125): ParserPF.g4:37:84: implicit definition of token ENDIF in parser\r\n    warning(125): ParserPF.g4:38:7: implicit definition of token BEGIN in parser\r\n    warning(125): ParserPF.g4:38:25: implicit definition of token END in parser\r\n    warning(125): ParserPF.g4:39:8: implicit definition of token WHILE in parser\r\n    warning(125): ParserPF.g4:39:70: implicit definition of token ENDWHILE in parser\r\n    warning(125): ParserPF.g4:40:9: implicit definition of token RETURN in parser\r\n\r\nI have tried everything but it still doesn&#39;t work and I&#39;m starting to lose my mind with this. Could it be a bug with ANTLR? My grammar (lexer and parser) looks like this:\r\n\r\nMy lexer:\r\n\r\n    lexer grammar LexerPF;\r\n    //Palabras reservadas\r\n    BEGIN : &#39;Begin&#39;;\r\n    END: &#39;End&#39;;\r\n    IF : &#39;If&#39;;\r\n    THEN : &#39;Then&#39;;\r\n    ELSE : &#39;Else&#39;;\r\n    ENDIF : &#39;EndIf&#39;;\r\n    WHILE : &#39;While&#39;;\r\n    ENDWHILE : &#39;EndWhile&#39;;\r\n    FUNC : &#39;Func&#39;;\r\n    ENDFUNC : &#39;EndFunc&#39;;\r\n    RETURN : &#39;Return&#39;;\r\n    PRINT : &#39;Print&#39;;\r\n    \r\n    //Operadores\r\n    IGUAL : &#39;=&#39;;\r\n    OPERADOR : &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39; | &#39;%&#39; | &#39;**&#39;;\r\n    LOGICO : &#39;&lt;&#39; | &#39;&gt;&#39;;\r\n    SQRT : &#39;sqrt&#39;;\r\n    ABREPARENTESIS : &#39;(&#39;;\r\n    CIERRAPARENTESIS : &#39;)&#39;;\r\n    COMA : &#39;,&#39;;\r\n    CIERRASENTENCIA : &#39;;&#39;;\r\n    \r\n    //Identificador\r\n    ID : [a-zA-Z][a-zA-Z0-9]*;\r\n    \r\n    //N&#250;meros\r\n    ENTERO : [1-9][0-9]* | [0-9];\r\n    FLOAT : [1-9][0-9]* &#39;.&#39; [0-9]+;\r\n    \r\n    \r\n    NEWLINE: (&#39;\\r\\n&#39;|&#39;\\n&#39;|&#39;\\r&#39;)+ -&gt; skip;\r\n    WS: [ \\n\\t\\r]+ -&gt; skip;\r\n\r\n\r\nMy parser:\r\n\r\n    parser grammar ParserPF;\r\n    \r\n    numero : ENTERO #int | FLOAT #float;\r\n    identificador : ID;\r\n    numID : numero #num | identificador #id;\r\n    expr :  numID OPERADOR numID\r\n            | numID (OPERADOR numID)*;\r\n    asignacion : identificador IGUAL expr #assignExpr\r\n                | identificador IGUAL numID #assignNumID\r\n                | identificador IGUAL llamadaAfuncion #assignCallFunction;\r\n    \r\n    array : ABREPARENTESIS numID ( COMA numID )* CIERRAPARENTESIS;\r\n    \r\n    sentencia:  asignacion CIERRASENTENCIA  #assignSentence\r\n                | llamadaAfuncion CIERRASENTENCIA  #callFunctionSentence\r\n                | if_ CIERRASENTENCIA  #ifSentence\r\n                | while_ CIERRASENTENCIA  #whileSentence\r\n                | return_ CIERRASENTENCIA  #returnSentence\r\n                | begin CIERRASENTENCIA  #beginSentence\r\n                | declaracionfuncion CIERRASENTENCIA #declareSentence;\r\n    \r\n    programa: sentencia*; //Regla principal\r\n    \r\n    \r\n    llamadaAfuncion: identificador ABREPARENTESIS numID* ( COMA numID )* CIERRAPARENTESIS;\r\n    declaracionfuncion: FUNC identificador ABREPARENTESIS numID* ( COMA numID )* CIERRAPARENTESIS sentencia* ENDFUNC;\r\n    \r\n    \r\n    condicion   : (ABREPARENTESIS* numero LOGICO numero CIERRAPARENTESIS*) #numAnum\r\n                | (ABREPARENTESIS* identificador LOGICO numero CIERRAPARENTESIS*) #idAnum\r\n                | (ABREPARENTESIS* identificador LOGICO identificador CIERRAPARENTESIS*) #idAid\r\n                | ABREPARENTESIS* numero LOGICO identificador CIERRAPARENTESIS* #numAid\r\n                | llamadaAfuncion #boolean;\r\n    if_: IF (ABREPARENTESIS condicion CIERRAPARENTESIS)  sentencia* (ELSE  sentencia*)? ENDIF;\r\n    begin: BEGIN  sentencia* END;\r\n    while_: WHILE (ABREPARENTESIS condicion CIERRAPARENTESIS)  sentencia* ENDWHILE;\r\n    return_: RETURN (expr|identificador|llamadaAfuncion|condicion);\r\n\r\n","title":"I cannot parse a file because of implicit definitions in ANTLR","body":"<p>I have a problem when I try to parse a file on ANTLR4. I'm using the ANTLR4 plugin on IntelliJ and the program always throws me these warnings which makes me unable to parse any file or text using the plugin. If I use the console I also get the same errors. This is what I'm getting:</p>\n<pre><code>warning(125): ParserPF.g4:6:9: implicit definition of token ENTERO in parser\nwarning(125): ParserPF.g4:6:23: implicit definition of token FLOAT in parser\nwarning(125): ParserPF.g4:7:16: implicit definition of token ID in parser\nwarning(125): ParserPF.g4:9:14: implicit definition of token OPERADOR in parser\nwarning(125): ParserPF.g4:11:27: implicit definition of token IGUAL in parser\nwarning(125): ParserPF.g4:15:8: implicit definition of token ABREPARENTESIS in parser\nwarning(125): ParserPF.g4:15:31: implicit definition of token COMA in parser\nwarning(125): ParserPF.g4:15:45: implicit definition of token CIERRAPARENTESIS in parser\nwarning(125): ParserPF.g4:17:23: implicit definition of token CIERRASENTENCIA in parser\nwarning(125): ParserPF.g4:29:20: implicit definition of token FUNC in parser\nwarning(125): ParserPF.g4:29:105: implicit definition of token ENDFUNC in parser\nwarning(125): ParserPF.g4:32:38: implicit definition of token LOGICO in parser\nwarning(125): ParserPF.g4:37:5: implicit definition of token IF in parser\nwarning(125): ParserPF.g4:37:65: implicit definition of token ELSE in parser\nwarning(125): ParserPF.g4:37:84: implicit definition of token ENDIF in parser\nwarning(125): ParserPF.g4:38:7: implicit definition of token BEGIN in parser\nwarning(125): ParserPF.g4:38:25: implicit definition of token END in parser\nwarning(125): ParserPF.g4:39:8: implicit definition of token WHILE in parser\nwarning(125): ParserPF.g4:39:70: implicit definition of token ENDWHILE in parser\nwarning(125): ParserPF.g4:40:9: implicit definition of token RETURN in parser\n</code></pre>\n<p>I have tried everything but it still doesn't work and I'm starting to lose my mind with this. Could it be a bug with ANTLR? My grammar (lexer and parser) looks like this:</p>\n<p>My lexer:</p>\n<pre><code>lexer grammar LexerPF;\n//Palabras reservadas\nBEGIN : 'Begin';\nEND: 'End';\nIF : 'If';\nTHEN : 'Then';\nELSE : 'Else';\nENDIF : 'EndIf';\nWHILE : 'While';\nENDWHILE : 'EndWhile';\nFUNC : 'Func';\nENDFUNC : 'EndFunc';\nRETURN : 'Return';\nPRINT : 'Print';\n\n//Operadores\nIGUAL : '=';\nOPERADOR : '+' | '-' | '*' | '/' | '%' | '**';\nLOGICO : '&lt;' | '&gt;';\nSQRT : 'sqrt';\nABREPARENTESIS : '(';\nCIERRAPARENTESIS : ')';\nCOMA : ',';\nCIERRASENTENCIA : ';';\n\n//Identificador\nID : [a-zA-Z][a-zA-Z0-9]*;\n\n//Números\nENTERO : [1-9][0-9]* | [0-9];\nFLOAT : [1-9][0-9]* '.' [0-9]+;\n\n\nNEWLINE: ('\\r\\n'|'\\n'|'\\r')+ -&gt; skip;\nWS: [ \\n\\t\\r]+ -&gt; skip;\n</code></pre>\n<p>My parser:</p>\n<pre><code>parser grammar ParserPF;\n\nnumero : ENTERO #int | FLOAT #float;\nidentificador : ID;\nnumID : numero #num | identificador #id;\nexpr :  numID OPERADOR numID\n        | numID (OPERADOR numID)*;\nasignacion : identificador IGUAL expr #assignExpr\n            | identificador IGUAL numID #assignNumID\n            | identificador IGUAL llamadaAfuncion #assignCallFunction;\n\narray : ABREPARENTESIS numID ( COMA numID )* CIERRAPARENTESIS;\n\nsentencia:  asignacion CIERRASENTENCIA  #assignSentence\n            | llamadaAfuncion CIERRASENTENCIA  #callFunctionSentence\n            | if_ CIERRASENTENCIA  #ifSentence\n            | while_ CIERRASENTENCIA  #whileSentence\n            | return_ CIERRASENTENCIA  #returnSentence\n            | begin CIERRASENTENCIA  #beginSentence\n            | declaracionfuncion CIERRASENTENCIA #declareSentence;\n\nprograma: sentencia*; //Regla principal\n\n\nllamadaAfuncion: identificador ABREPARENTESIS numID* ( COMA numID )* CIERRAPARENTESIS;\ndeclaracionfuncion: FUNC identificador ABREPARENTESIS numID* ( COMA numID )* CIERRAPARENTESIS sentencia* ENDFUNC;\n\n\ncondicion   : (ABREPARENTESIS* numero LOGICO numero CIERRAPARENTESIS*) #numAnum\n            | (ABREPARENTESIS* identificador LOGICO numero CIERRAPARENTESIS*) #idAnum\n            | (ABREPARENTESIS* identificador LOGICO identificador CIERRAPARENTESIS*) #idAid\n            | ABREPARENTESIS* numero LOGICO identificador CIERRAPARENTESIS* #numAid\n            | llamadaAfuncion #boolean;\nif_: IF (ABREPARENTESIS condicion CIERRAPARENTESIS)  sentencia* (ELSE  sentencia*)? ENDIF;\nbegin: BEGIN  sentencia* END;\nwhile_: WHILE (ABREPARENTESIS condicion CIERRAPARENTESIS)  sentencia* ENDWHILE;\nreturn_: RETURN (expr|identificador|llamadaAfuncion|condicion);\n</code></pre>\n"},{"tags":["java","nio","truncate","file-locking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1655017739,"post_id":72590129,"comment_id":128227023,"body_markdown":"Creating the FileOutputStream has truncated your file, not the lock","body":"Creating the FileOutputStream has truncated your file, not the lock"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1655018045,"post_id":72590129,"comment_id":128227064,"body_markdown":"As you are using try-with-resources the channel is closed *before* the finally block executes. So the lock is not valid when you try to release it.","body":"As you are using try-with-resources the channel is closed <i>before</i> the finally block executes. So the lock is not valid when you try to release it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655018153,"post_id":72590129,"comment_id":128227082,"body_markdown":"Depending what you want to do with the lock, you could use `try (FileChannel ch=new FileOutputStream(&quot;foo&quot;).getChannel(); FileLock lock = ch.lock())` as the FileLock is AutoClosable.","body":"Depending what you want to do with the lock, you could use <code>try (FileChannel ch=new FileOutputStream(&quot;foo&quot;).getChannel(); FileLock lock = ch.lock())</code> as the FileLock is AutoClosable."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655034047,"creation_date":1655020498,"answer_id":72590399,"question_id":72590129,"body_markdown":"Your content is missing because you&#39;ve opened your file with an output stream without using &#39;append&#39; mode, which erases all the previous content before performing any writing operation. \r\n\r\nIf you need to keep the existing content and add new information within your file, then you need to open it in &#39;append&#39; mode, by passing a second boolean parameter with value `true`.\r\n\r\n```\r\nFileChannel ch = new FileOutputStream(args[0], true)\r\n```\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileOutputStream.html#%3Cinit%3E(java.lang.String,boolean)\r\n\r\nAlso, as already said in the comments, what is giving you the `ClosedChannelException` is the fact that `FileLock` is bound to a file channel which has been already closed once you&#39;ve exited the `try` block of your `try-with` statement. In fact, once you&#39;ve reached your `finally` block the channel has been closed already, and any attempt to release a lock on a closed channel will fail. \r\n\r\nSo to answer your question, it&#39;s not the lock which erases your data, but rather the way how you access your file. Besides, since both `FileOutputStream` and `FileLock` implement `AutoClosable`, you could include both of them in the `try-with` statement and rewrite your code like this:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    try (FileChannel ch = new FileOutputStream(args[0], true).getChannel();\r\n         FileLock lock = ch.lock()) {\r\n\r\n        //do your operations....\r\n\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"java nio FileLock.release() throws ClosedChannelException and truncates my file","body":"<p>Your content is missing because you've opened your file with an output stream without using 'append' mode, which erases all the previous content before performing any writing operation.</p>\n<p>If you need to keep the existing content and add new information within your file, then you need to open it in 'append' mode, by passing a second boolean parameter with value <code>true</code>.</p>\n<pre><code>FileChannel ch = new FileOutputStream(args[0], true)\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileOutputStream.html#%3Cinit%3E(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileOutputStream.html#%3Cinit%3E(java.lang.String,boolean)</a></p>\n<p>Also, as already said in the comments, what is giving you the <code>ClosedChannelException</code> is the fact that <code>FileLock</code> is bound to a file channel which has been already closed once you've exited the <code>try</code> block of your <code>try-with</code> statement. In fact, once you've reached your <code>finally</code> block the channel has been closed already, and any attempt to release a lock on a closed channel will fail.</p>\n<p>So to answer your question, it's not the lock which erases your data, but rather the way how you access your file. Besides, since both <code>FileOutputStream</code> and <code>FileLock</code> implement <code>AutoClosable</code>, you could include both of them in the <code>try-with</code> statement and rewrite your code like this:</p>\n<pre><code>public static void main(String[] args) {\n    try (FileChannel ch = new FileOutputStream(args[0], true).getChannel();\n         FileLock lock = ch.lock()) {\n\n        //do your operations....\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72590399,"answer_count":1,"score":1,"last_activity_date":1655034047,"creation_date":1655017569,"question_id":72590129,"body_markdown":"I&#39;ve got e:\\myfile.txt with some random contents:\r\n\r\n    abcabcxyz...abc\r\n\r\nThen I try to use nio `FileLock` like below:\r\n```\r\nimport java.io.*;\r\nimport java.nio.channels.*;\r\npublic class FileLockTest{\r\n    public static void main(String[] args){\r\n        FileLock lock = null;\r\n        try(FileChannel ch=new FileOutputStream(args[0]).getChannel())\r\n        {\r\n            lock=ch.lock();//No param exclusive lock.\r\n            //lock(0L,ch.size(),true) for shared lock.\r\n        }catch(FileNotFoundException e){\r\n            e.printStackTrace();\r\n        }catch(IOException e){\r\n            e.printStackTrace();\r\n        }finally{\r\n            if(lock!=null){\r\n                try{\r\n                    lock.release();//throws exception!\r\n                }catch(IOException e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUpon running it and I got:\r\n```\r\nPS&gt; java FileLockTest e:\\myfile.txt\r\njava.nio.channels.ClosedChannelException\r\n        at sun.nio.ch.FileLockImpl.release(Unknown Source)\r\n        at FileLockTest.main(FileLockTest.java:17)\r\n```\r\n\r\nI open myfile.txt again, all contents are missing, seems \r\n`FileLock` has truncated it, really strange to me.\r\n\r\nCould you help to explain what goes wrong here?","title":"java nio FileLock.release() throws ClosedChannelException and truncates my file","body":"<p>I've got e:\\myfile.txt with some random contents:</p>\n<pre><code>abcabcxyz...abc\n</code></pre>\n<p>Then I try to use nio <code>FileLock</code> like below:</p>\n<pre><code>import java.io.*;\nimport java.nio.channels.*;\npublic class FileLockTest{\n    public static void main(String[] args){\n        FileLock lock = null;\n        try(FileChannel ch=new FileOutputStream(args[0]).getChannel())\n        {\n            lock=ch.lock();//No param exclusive lock.\n            //lock(0L,ch.size(),true) for shared lock.\n        }catch(FileNotFoundException e){\n            e.printStackTrace();\n        }catch(IOException e){\n            e.printStackTrace();\n        }finally{\n            if(lock!=null){\n                try{\n                    lock.release();//throws exception!\n                }catch(IOException e){\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Upon running it and I got:</p>\n<pre><code>PS&gt; java FileLockTest e:\\myfile.txt\njava.nio.channels.ClosedChannelException\n        at sun.nio.ch.FileLockImpl.release(Unknown Source)\n        at FileLockTest.main(FileLockTest.java:17)\n</code></pre>\n<p>I open myfile.txt again, all contents are missing, seems\n<code>FileLock</code> has truncated it, really strange to me.</p>\n<p>Could you help to explain what goes wrong here?</p>\n"},{"tags":["java","collections","java-9"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":10,"creation_date":1473370588,"post_id":39400238,"comment_id":66127193,"body_markdown":"Close voter(s): I almost voted for primarily opinion, but there are two objective reasons to prefer `emptyList()` and none that I can think of to prefer `List.of()`, which seems to make this on-topic.","body":"Close voter(s): I almost voted for primarily opinion, but there are two objective reasons to prefer <code>emptyList()</code> and none that I can think of to prefer <code>List.of()</code>, which seems to make this on-topic."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1507415163,"creation_date":1473369258,"answer_id":39400310,"question_id":39400238,"body_markdown":"`Collections.emptyList()` does not need to create a new object for each call; it&#39;s typical, [as in OpenJDK](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#Collections.emptyList%28%29), to just return the singleton `EMPTY_LIST` object. Additionally, it&#39;s clearer that you intend to *mean* an empty list rather than having forgotten to fill in a placeholder.\r\n\r\nUse `emptyList()`; it&#39;s both faster (up to Java target level 1.9) and more readable.","title":"List.of() or Collections.emptyList()","body":"<p><code>Collections.emptyList()</code> does not need to create a new object for each call; it's typical, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#Collections.emptyList%28%29\" rel=\"noreferrer\">as in OpenJDK</a>, to just return the singleton <code>EMPTY_LIST</code> object. Additionally, it's clearer that you intend to <em>mean</em> an empty list rather than having forgotten to fill in a placeholder.</p>\n\n<p>Use <code>emptyList()</code>; it's both faster (up to Java target level 1.9) and more readable.</p>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":2,"up_vote_count":42,"is_accepted":true,"score":40,"last_activity_date":1613342572,"creation_date":1507376501,"answer_id":46619739,"question_id":39400238,"body_markdown":"&gt; What is the preferred Java 9 way of pointing to an empty and immutable list?\r\n\r\nThe difference is rather subtle so &quot;preferred&quot; depends on what you want to achieve. Some behavioral differences:\r\n\r\n* `List.of` will throw an exception on `contains(null)` invocations.\r\n* You can deserialize `emptyList()` on JDK 8 and previous, but not `List.of`.\r\n\r\nIn terms or conveying that you want an empty list, `emptyList()` might look better, but this is just a temporary convention. If developers start using `List.of()` (which is much shorter than `Collections.emptyList()`) then it will become a known and accepted way, it&#39;s just new. If you think about it, there are some constructs we use which do not always convey what they do by themselves, but we got accustomed to them.\r\n\r\nSo there is no strictly preferred way. If the behavior does not matter use whatever you want.","title":"List.of() or Collections.emptyList()","body":"<blockquote>\n<p>What is the preferred Java 9 way of pointing to an empty and immutable list?</p>\n</blockquote>\n<p>The difference is rather subtle so &quot;preferred&quot; depends on what you want to achieve. Some behavioral differences:</p>\n<ul>\n<li><code>List.of</code> will throw an exception on <code>contains(null)</code> invocations.</li>\n<li>You can deserialize <code>emptyList()</code> on JDK 8 and previous, but not <code>List.of</code>.</li>\n</ul>\n<p>In terms or conveying that you want an empty list, <code>emptyList()</code> might look better, but this is just a temporary convention. If developers start using <code>List.of()</code> (which is much shorter than <code>Collections.emptyList()</code>) then it will become a known and accepted way, it's just new. If you think about it, there are some constructs we use which do not always convey what they do by themselves, but we got accustomed to them.</p>\n<p>So there is no strictly preferred way. If the behavior does not matter use whatever you want.</p>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1616146831,"creation_date":1616146831,"answer_id":66705744,"question_id":39400238,"body_markdown":"1. `emptyList()` **creates** a new empty list instance **only once**\r\n2. there is no difference on **Readability**: maybe `List.of()` is shorten than `Collections.emptyList()` but you can use a static import like `import static java.util.Collections.emptyList;` and then write only `emptyList()`","title":"List.of() or Collections.emptyList()","body":"<ol>\n<li><code>emptyList()</code> <strong>creates</strong> a new empty list instance <strong>only once</strong></li>\n<li>there is no difference on <strong>Readability</strong>: maybe <code>List.of()</code> is shorten than <code>Collections.emptyList()</code> but you can use a static import like <code>import static java.util.Collections.emptyList;</code> and then write only <code>emptyList()</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10779622,"reputation":187,"user_id":7930516,"display_name":"AriyaDey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1655032802,"creation_date":1655032802,"answer_id":72591708,"question_id":39400238,"body_markdown":"As of JDK 11, If you look at the source code, you see that `List.of()`, uses a one-time initialized empty list, similar to `Collections.emptyList()`. So, I&#39;ll prefer to use `List.of()` because:\r\n\r\n- It is a more recent API. So, I think if Java maintainers were satisfied with the previous ways, they wouldn&#39;t add a new API.\r\n- It is more concise.\r\n- If you use `List.of(E... elements)` (**And you should**) for non-empty lists, you can use `List.of()` for empty ones and enjoy a unified look and feel and get rid of most of the factory methods in *Collections* API.","title":"List.of() or Collections.emptyList()","body":"<p>As of JDK 11, If you look at the source code, you see that <code>List.of()</code>, uses a one-time initialized empty list, similar to <code>Collections.emptyList()</code>. So, I'll prefer to use <code>List.of()</code> because:</p>\n<ul>\n<li>It is a more recent API. So, I think if Java maintainers were satisfied with the previous ways, they wouldn't add a new API.</li>\n<li>It is more concise.</li>\n<li>If you use <code>List.of(E... elements)</code> (<strong>And you should</strong>) for non-empty lists, you can use <code>List.of()</code> for empty ones and enjoy a unified look and feel and get rid of most of the factory methods in <em>Collections</em> API.</li>\n</ul>\n"}],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28502,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":46619739,"answer_count":4,"score":81,"last_activity_date":1655032802,"creation_date":1473368939,"question_id":39400238,"body_markdown":"As an special case of https://stackoverflow.com/questions/39385658/list-of-or-collections-unmodifiablelist - what is the preferred Java 9 way of pointing to an **empty** and **immutable** list?\r\n\r\nKeep writing\r\n\r\n    Collections.emptyList();\r\n\r\nor switch to\r\n\r\n    List.of();\r\n\r\n","title":"List.of() or Collections.emptyList()","body":"<p>As an special case of <a href=\"https://stackoverflow.com/questions/39385658/list-of-or-collections-unmodifiablelist\">List.of(...) or Collections.unmodifiableList()</a> - what is the preferred Java 9 way of pointing to an <strong>empty</strong> and <strong>immutable</strong> list?</p>\n\n<p>Keep writing</p>\n\n<pre><code>Collections.emptyList();\n</code></pre>\n\n<p>or switch to</p>\n\n<pre><code>List.of();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1607511023,"post_id":65215229,"comment_id":115293235,"body_markdown":"Remove the `try`. YOu don&#39;t control the `OutputStream` the servlet container does that. Also do you really need that many threads and possible connections? Each thread and connection takes up memory and will stay in memory.","body":"Remove the <code>try</code>. YOu don&#39;t control the <code>OutputStream</code> the servlet container does that. Also do you really need that many threads and possible connections? Each thread and connection takes up memory and will stay in memory."},{"owner":{"account_id":1827503,"reputation":189,"user_id":1659822,"display_name":"Pratap Patil"},"score":0,"creation_date":1607512242,"post_id":65215229,"comment_id":115293803,"body_markdown":"Since the data written is a byte[] of 1 MB and the client connections could be slower we did not want too many connections to wait for the slower ones to complete therefore had increased the thread count. Also, you mentioned that each thread and connection will remain in memory. But the connection should close after some time and release the memory. Thread can remain.","body":"Since the data written is a byte[] of 1 MB and the client connections could be slower we did not want too many connections to wait for the slower ones to complete therefore had increased the thread count. Also, you mentioned that each thread and connection will remain in memory. But the connection should close after some time and release the memory. Thread can remain."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1607514260,"post_id":65215229,"comment_id":115294730,"body_markdown":"The only way to have `SynchronizdStack` use less memory is by reducing the ``. According to the documentation of [`SynchronizdStack`](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/util/collections/SynchronizedStack.html): &quot;..when the requirement is to create a pool of re-usable objects **with no requirement to shrink the pool**..&quot; you cannot configure the `SynchronizedStack` to shrink the pool","body":"The only way to have <code>SynchronizdStack</code> use less memory is by reducing the ``. According to the documentation of <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/util/collections/SynchronizedStack.html\" rel=\"nofollow noreferrer\"><code>SynchronizdStack</code></a>: &quot;..when the requirement is to create a pool of re-usable objects <b>with no requirement to shrink the pool</b>..&quot; you cannot configure the <code>SynchronizedStack</code> to shrink the pool"},{"owner":{"account_id":1827503,"reputation":189,"user_id":1659822,"display_name":"Pratap Patil"},"score":0,"creation_date":1607516195,"post_id":65215229,"comment_id":115295627,"body_markdown":"@ThomasKl&#228;ger I think you meant by reducing the `threads`. We are ok for those threads to occupy the heap space but do you think that the connections should close after some time? I did not see that happening after doing heap dumps even after 1 hour.","body":"@ThomasKl&#228;ger I think you meant by reducing the <code>threads</code>. We are ok for those threads to occupy the heap space but do you think that the connections should close after some time? I did not see that happening after doing heap dumps even after 1 hour."}],"owner":{"account_id":1827503,"reputation":189,"user_id":1659822,"display_name":"Pratap Patil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655032536,"creation_date":1607510678,"question_id":65215229,"body_markdown":"We did a load test on our spring boot file download application by putting a load of 4000 concurrent users Out of which 3995 succeeded and 5 of them failed.\r\n\r\nThe file which we download is of ```1 MB``` per request.\r\n\r\nWe took a heap dump at the end of the load test using \r\n\r\n```jcmd pid GC.heap_dump &lt;filename&gt;```\r\n\r\nAfter analyzing the heap dump I realised that the tomcat&#39;s org.apache.tomcat.util.collections.SynchronizedStack&lt;org.apache.tomcat.util.net.NioChannel&gt; are not being released. We had tested with multiple load of users from 500, 700 &amp; 4000. This particular object keeps increasing in memory but does not release any.\r\n\r\n\r\nThis is my tomcat config in application.properties\r\n\r\n    server.tomcat.connection-timeout=20s\r\n    server.tomcat.accept-count=5000\r\n    server.tomcat.max-connections=50000\r\n    server.tomcat.max-threads=10000\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\n\r\nAm I missing anything in my tomcat configuration for spring boot?\r\n\r\nApplication stack: spring boot 2.2.0.RELEASE on Open JDK 11.\r\n\r\n\r\nSome code which we have used for the file download:\r\n\r\n\r\n    @GetMapping(path = &quot;/file/download/{downloadToken}&quot;)\r\n    @ApiOperation(value = &quot;downloadFile&quot;, authorizations = {@Authorization(value = &quot;apiKey&quot;)})\r\n    public StreamingResponseBody downloadFile(@PathVariable String downloadToken,\r\n        HttpServletResponse response) {\r\n        MyFileObject myFileObject = myFileService.downloadFile(downloadToken);\r\n        response.setContentType(myFileObject.getContentType());\r\n        response.setHeader(&quot;Content-Disposition&quot;,\r\n            &quot;attachment; filename=\\&quot;&quot; + myFileObject.getFileName() + &quot;\\&quot;&quot;);\r\n        return out -&gt; {\r\n            try (OutputStream os = out) {\r\n                os.write(myFileObject.getData());\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nThe MyFileObject which is the DTO\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @ToString\r\n    class MyFileObject {\r\n        private String fileName;\r\n        private String contentType;\r\n        private byte[] data;\r\n    }\r\n\r\nNote: We have the entire byte[] data (1 MB) in memory due to other business reasons. However, as per heap dump this is not the cause of the leak as these objects are GCed.\r\n\r\nSome screenshots from MAT tool of the heap dump\r\n\r\n[![Heap summary][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eUA80.png\r\n  [2]: https://i.stack.imgur.com/PLCyE.png","title":"Memory Leak issue org.apache.tomcat.util.collections.SynchronizedStack class","body":"<p>We did a load test on our spring boot file download application by putting a load of 4000 concurrent users Out of which 3995 succeeded and 5 of them failed.</p>\n<p>The file which we download is of <code>1 MB</code> per request.</p>\n<p>We took a heap dump at the end of the load test using</p>\n<p><code>jcmd pid GC.heap_dump &lt;filename&gt;</code></p>\n<p>After analyzing the heap dump I realised that the tomcat's org.apache.tomcat.util.collections.SynchronizedStack&lt;org.apache.tomcat.util.net.NioChannel&gt; are not being released. We had tested with multiple load of users from 500, 700 &amp; 4000. This particular object keeps increasing in memory but does not release any.</p>\n<p>This is my tomcat config in application.properties</p>\n<pre><code>server.tomcat.connection-timeout=20s\nserver.tomcat.accept-count=5000\nserver.tomcat.max-connections=50000\nserver.tomcat.max-threads=10000\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n<p>Am I missing anything in my tomcat configuration for spring boot?</p>\n<p>Application stack: spring boot 2.2.0.RELEASE on Open JDK 11.</p>\n<p>Some code which we have used for the file download:</p>\n<pre><code>@GetMapping(path = &quot;/file/download/{downloadToken}&quot;)\n@ApiOperation(value = &quot;downloadFile&quot;, authorizations = {@Authorization(value = &quot;apiKey&quot;)})\npublic StreamingResponseBody downloadFile(@PathVariable String downloadToken,\n    HttpServletResponse response) {\n    MyFileObject myFileObject = myFileService.downloadFile(downloadToken);\n    response.setContentType(myFileObject.getContentType());\n    response.setHeader(&quot;Content-Disposition&quot;,\n        &quot;attachment; filename=\\&quot;&quot; + myFileObject.getFileName() + &quot;\\&quot;&quot;);\n    return out -&gt; {\n        try (OutputStream os = out) {\n            os.write(myFileObject.getData());\n        }\n    };\n}\n</code></pre>\n<p>The MyFileObject which is the DTO</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@ToString\nclass MyFileObject {\n    private String fileName;\n    private String contentType;\n    private byte[] data;\n}\n</code></pre>\n<p>Note: We have the entire byte[] data (1 MB) in memory due to other business reasons. However, as per heap dump this is not the cause of the leak as these objects are GCed.</p>\n<p>Some screenshots from MAT tool of the heap dump</p>\n<p><a href=\"https://i.stack.imgur.com/eUA80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUA80.png\" alt=\"Heap summary\" /></a>\n<a href=\"https://i.stack.imgur.com/PLCyE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PLCyE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655032333,"post_id":72591628,"comment_id":128229467,"body_markdown":"`src` won&#39;t exist when the app is exported and you shouldn&#39;t reference it from you code","body":"<code>src</code> won&#39;t exist when the app is exported and you shouldn&#39;t reference it from you code"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1655032394,"post_id":72591628,"comment_id":128229476,"body_markdown":"[How to Use File Choosers](https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">How to Use File Choosers</a>"},{"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"score":0,"creation_date":1655038282,"post_id":72591628,"comment_id":128230677,"body_markdown":"Thanks for the answer. I tried to follow some tutorial about how to use File Choosers but my problem is in this line of the code:\n&#39;PdfDocument pdf = new PdfDocument(new PdfReader(SRC), new PdfWriter(DEST));&#39;\nI don&#39;t know how set the file choosers on PdfWriter, instead &quot;DEST&quot;.\nAbout the &#39;src&#39; there is no problems, it&#39;s an app I&#39;m developing only to better understand GUI and pdf creation.","body":"Thanks for the answer. I tried to follow some tutorial about how to use File Choosers but my problem is in this line of the code: &#39;PdfDocument pdf = new PdfDocument(new PdfReader(SRC), new PdfWriter(DEST));&#39; I don&#39;t know how set the file choosers on PdfWriter, instead &quot;DEST&quot;. About the &#39;src&#39; there is no problems, it&#39;s an app I&#39;m developing only to better understand GUI and pdf creation."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1655042542,"post_id":72591628,"comment_id":128231590,"body_markdown":"I&#39;m not understanding your problem. The tutorial demonstrates how to get the file name selected by the user. You use that value instead of your hard coded DEST variable. So the point is you need to create the PDF AFTER the file chooser is displayed and the user has choosen the file name.","body":"I&#39;m not understanding your problem. The tutorial demonstrates how to get the file name selected by the user. You use that value instead of your hard coded DEST variable. So the point is you need to create the PDF AFTER the file chooser is displayed and the user has choosen the file name."},{"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"score":0,"creation_date":1655306646,"post_id":72591628,"comment_id":128302727,"body_markdown":"@camickr Thank you very much for the explanation. Now I perfectly understand it and the code is working. Thanks again!","body":"@camickr Thank you very much for the explanation. Now I perfectly understand it and the code is working. Thanks again!"}],"owner":{"account_id":25397835,"reputation":9,"user_id":19207835,"display_name":"Count"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655032037,"creation_date":1655032037,"question_id":72591628,"body_markdown":"I did a lot of researches on this site but i didn&#39;t find anything connected to my situation, so I&#39;m kindly looking for an advice in order to reach the following result:\r\n\r\nI&#39;m working on a Java GUI and I developed an application to create an invoice.\r\nOn my project&#39;s folder i uploaded a blank pdf (that includes forms named: &quot;nr_invoice&quot;, &quot;client&quot;, &quot;service&quot;, &quot;price&quot;, &quot;quantity&quot;, &quot;tax&quot; and &quot;tot&quot;), this pdf is named &quot;invoice.pdf&quot;. Through the following code, by clicking a button on the GUI, the datas in the GUI are reported into the selected pdf&#39;s fields and the pdf is saved into the folder &quot;src/pdf&quot; with the name &quot;new_invoice.pdf&quot;.\r\n\r\nThe code works, but what I&#39;d like to do is to show a save file dialog (using JFileChooser) when the user click on the button &quot;btnSave&quot;. So, by clicking on this button, the user is able to choose the save path and also the name of the file (but will be possible to save only a .pdf format).\r\n\r\nThank you very much for your help!\r\n\r\n    public class PdfGenerator extends JFrame implements ActionListener {\r\n    \r\n       public static final String SRC = &quot;src/pdf/invoice.pdf&quot;;\r\n       public static final String DEST = &quot;src/pdf/new_invoice.pdf&quot;;\r\n\r\n       PdfDocument pdf = new PdfDocument(new PdfReader(SRC), new PdfWriter(DEST));\r\n        \tbtnSave.addActionListener(new ActionListener() {\r\n        \t\tpublic void actionPerformed(ActionEvent e) {\r\n        \t\t\tPdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\r\n        \t\t\tMap&lt;String, PdfFormField&gt; fields = form.getFormFields();\r\n        \t\t\tfields.get(&quot;nr_invoice&quot;).setValue(invoice.getText());\r\n        \t\t\tfields.get(&quot;client&quot;).setValue(cl_name.getText());\r\n        \t\t\tfields.get(&quot;service&quot;).setValue(description.getText());\r\n        \t\t\tfields.get(&quot;price&quot;).setValue(amount.getText());\r\n        \t\t\tfields.get(&quot;quantity&quot;).setValue(quantity.getText());\r\n        \t\t\tfields.get(&quot;tax&quot;).setValue(tax_amount.getText());\r\n        \t\t\tfields.get(&quot;tot&quot;).setValue(total_price.getText());\r\n        \t\t\tform.flattenFields();\r\n        \t\t\tpdf.close();\r\n        \t\t}\r\n        \t});\r\n}","title":"Java GUI save a pdf (PdfAcroForm) with JFileChooser","body":"<p>I did a lot of researches on this site but i didn't find anything connected to my situation, so I'm kindly looking for an advice in order to reach the following result:</p>\n<p>I'm working on a Java GUI and I developed an application to create an invoice.\nOn my project's folder i uploaded a blank pdf (that includes forms named: &quot;nr_invoice&quot;, &quot;client&quot;, &quot;service&quot;, &quot;price&quot;, &quot;quantity&quot;, &quot;tax&quot; and &quot;tot&quot;), this pdf is named &quot;invoice.pdf&quot;. Through the following code, by clicking a button on the GUI, the datas in the GUI are reported into the selected pdf's fields and the pdf is saved into the folder &quot;src/pdf&quot; with the name &quot;new_invoice.pdf&quot;.</p>\n<p>The code works, but what I'd like to do is to show a save file dialog (using JFileChooser) when the user click on the button &quot;btnSave&quot;. So, by clicking on this button, the user is able to choose the save path and also the name of the file (but will be possible to save only a .pdf format).</p>\n<p>Thank you very much for your help!</p>\n<pre><code>public class PdfGenerator extends JFrame implements ActionListener {\n\n   public static final String SRC = &quot;src/pdf/invoice.pdf&quot;;\n   public static final String DEST = &quot;src/pdf/new_invoice.pdf&quot;;\n\n   PdfDocument pdf = new PdfDocument(new PdfReader(SRC), new PdfWriter(DEST));\n        btnSave.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);\n                Map&lt;String, PdfFormField&gt; fields = form.getFormFields();\n                fields.get(&quot;nr_invoice&quot;).setValue(invoice.getText());\n                fields.get(&quot;client&quot;).setValue(cl_name.getText());\n                fields.get(&quot;service&quot;).setValue(description.getText());\n                fields.get(&quot;price&quot;).setValue(amount.getText());\n                fields.get(&quot;quantity&quot;).setValue(quantity.getText());\n                fields.get(&quot;tax&quot;).setValue(tax_amount.getText());\n                fields.get(&quot;tot&quot;).setValue(total_price.getText());\n                form.flattenFields();\n                pdf.close();\n            }\n        });\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","url","inputstream"],"comments":[{"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"score":0,"creation_date":1654951966,"post_id":72583948,"comment_id":128217376,"body_markdown":"The HTTP code 400 means that, from the server&#39;s point of view, an incorrect request was sent. Please include some more code so that we can understand how the request is generated.","body":"The HTTP code 400 means that, from the server&#39;s point of view, an incorrect request was sent. Please include some more code so that we can understand how the request is generated."},{"owner":{"account_id":10495348,"reputation":606,"user_id":7735807,"accept_rate":47,"display_name":"HavanaSun"},"score":0,"creation_date":1654952214,"post_id":72583948,"comment_id":128217436,"body_markdown":"@Sapphirex I added the download function to my question. This function works perfectly fine with my old URL","body":"@Sapphirex I added the download function to my question. This function works perfectly fine with my old URL"}],"answers":[{"tags":[],"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654952536,"creation_date":1654952536,"answer_id":72584548,"question_id":72583948,"body_markdown":"You could try using the HTTPS protocol instead of the HTTP protocol, as described [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72582872/android-httpurlconnection-http-response-always-403/72582987#72582987","title":"java.io.FileNotFoundException: with working URL?","body":"<p>You could try using the HTTPS protocol instead of the HTTP protocol, as described <a href=\"https://stackoverflow.com/questions/72582872/android-httpurlconnection-http-response-always-403/72582987#72582987\">here</a>.</p>\n"}],"owner":{"account_id":10495348,"reputation":606,"user_id":7735807,"accept_rate":47,"display_name":"HavanaSun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655029888,"creation_date":1654947007,"question_id":72583948,"body_markdown":"I switched my hosting provider from Hostinger to Digital Ocean Spaces, the files are the same, only the url is different.\r\n\r\nPlaying the hosted mp3 file with media player still works with the new URL but downloading it doesn&#39;t.\r\n\r\nI get the following crash:\r\n\r\n        java.io.FileNotFoundException: https://myapp-content.ams3.digitaloceanspaces.com/MyApp/sounds/b9a14d77-d122-4bd9-9f2d-5dd7ad9b90ee.mp3\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\r\n        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\n        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\n        at com.myapp.d.EventHandlerClass$4.run(EventHandlerClass.java:252)\r\n    at java.lang.Thread.run(Thread.java:920)\r\n\r\nThe link is working (not the one I posted here) even if I access it in inkognito, i can also download the sound in chrome.\r\nBut somehow the downloading process in my app doesnt work with the mp3 files hosted on Digital Ocean.\r\nAny Ideas?\r\n\r\nThis line is causing the problem:\r\n                \r\n\r\n    InputStream inputStream = urlConnection.getInputStream();\r\n\r\nWith the old hosting provider I&#39;m getting status code 200, with the new one 400\r\n\r\nHere is the whole download Function:\r\n\r\n    try {\r\n                    URL url = new URL(filePath);\r\n                    HttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();\r\n                    urlConnection.setRequestMethod(&quot;GET&quot;);\r\n                    urlConnection.setDoOutput(true);\r\n                    urlConnection.connect();\r\n\r\n                    File storage = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n                    File directory = new File(storage.getAbsolutePath());\r\n                    directory.mkdirs();\r\n\r\n\r\n                    String fileNameWithoutSpecialCharacters = fileName.replaceAll(&quot;\\\\W&quot;, &quot;&quot;);\r\n                    file = new File(directory, fileNameWithoutSpecialCharacters + &quot;.mp3&quot;);\r\n\r\n                    FileOutputStream fileOutput = new FileOutputStream(file);\r\n\r\n                    Log.i(&quot;download:&quot;, &quot;Code: &quot; + urlConnection.getResponseCode());\r\n                    InputStream inputStream = urlConnection.getInputStream();\r\n\r\n                    totalSize = urlConnection.getContentLength();\r\n\r\n                    int downloadedSize = 0;\r\n\r\n                    byte[] buffer = new byte[1024];\r\n\r\n                    int bufferLength = 0; //used to store a temporary size of the buffer\r\n\r\n                    while ((bufferLength = inputStream.read(buffer)) &gt; 0) {\r\n                        fileOutput.write(buffer, 0, bufferLength);\r\n                        downloadedSize += bufferLength;\r\n                        Log.i(&quot;download:&quot;, downloadedSize + &quot;/&quot; + totalSize);\r\n                    }\r\n\r\n                    fileOutput.close();\r\n                    ClipboardManager clipboard = (ClipboardManager) MainActivity.mainActivityWeakReference.get().getSystemService(Context.CLIPBOARD_SERVICE);\r\n                    ClipData clip = ClipData.newPlainText(&quot;test&quot;, &quot;test&quot;);\r\n                    clipboard.setPrimaryClip(clip);\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    ClipboardManager clipboard = (ClipboardManager) MainActivity.mainActivityWeakReference.get().getSystemService(Context.CLIPBOARD_SERVICE);\r\n                    ClipData clip = ClipData.newPlainText(&quot;test&quot;, e.toString());\r\n                    clipboard.setPrimaryClip(clip);\r\n                }","title":"java.io.FileNotFoundException: with working URL?","body":"<p>I switched my hosting provider from Hostinger to Digital Ocean Spaces, the files are the same, only the url is different.</p>\n<p>Playing the hosted mp3 file with media player still works with the new URL but downloading it doesn't.</p>\n<p>I get the following crash:</p>\n<pre><code>    java.io.FileNotFoundException: https://myapp-content.ams3.digitaloceanspaces.com/MyApp/sounds/b9a14d77-d122-4bd9-9f2d-5dd7ad9b90ee.mp3\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\n    at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\n    at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\n    at com.myapp.d.EventHandlerClass$4.run(EventHandlerClass.java:252)\nat java.lang.Thread.run(Thread.java:920)\n</code></pre>\n<p>The link is working (not the one I posted here) even if I access it in inkognito, i can also download the sound in chrome.\nBut somehow the downloading process in my app doesnt work with the mp3 files hosted on Digital Ocean.\nAny Ideas?</p>\n<p>This line is causing the problem:</p>\n<pre><code>InputStream inputStream = urlConnection.getInputStream();\n</code></pre>\n<p>With the old hosting provider I'm getting status code 200, with the new one 400</p>\n<p>Here is the whole download Function:</p>\n<pre><code>try {\n                URL url = new URL(filePath);\n                HttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();\n                urlConnection.setRequestMethod(&quot;GET&quot;);\n                urlConnection.setDoOutput(true);\n                urlConnection.connect();\n\n                File storage = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n                File directory = new File(storage.getAbsolutePath());\n                directory.mkdirs();\n\n\n                String fileNameWithoutSpecialCharacters = fileName.replaceAll(&quot;\\\\W&quot;, &quot;&quot;);\n                file = new File(directory, fileNameWithoutSpecialCharacters + &quot;.mp3&quot;);\n\n                FileOutputStream fileOutput = new FileOutputStream(file);\n\n                Log.i(&quot;download:&quot;, &quot;Code: &quot; + urlConnection.getResponseCode());\n                InputStream inputStream = urlConnection.getInputStream();\n\n                totalSize = urlConnection.getContentLength();\n\n                int downloadedSize = 0;\n\n                byte[] buffer = new byte[1024];\n\n                int bufferLength = 0; //used to store a temporary size of the buffer\n\n                while ((bufferLength = inputStream.read(buffer)) &gt; 0) {\n                    fileOutput.write(buffer, 0, bufferLength);\n                    downloadedSize += bufferLength;\n                    Log.i(&quot;download:&quot;, downloadedSize + &quot;/&quot; + totalSize);\n                }\n\n                fileOutput.close();\n                ClipboardManager clipboard = (ClipboardManager) MainActivity.mainActivityWeakReference.get().getSystemService(Context.CLIPBOARD_SERVICE);\n                ClipData clip = ClipData.newPlainText(&quot;test&quot;, &quot;test&quot;);\n                clipboard.setPrimaryClip(clip);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n                ClipboardManager clipboard = (ClipboardManager) MainActivity.mainActivityWeakReference.get().getSystemService(Context.CLIPBOARD_SERVICE);\n                ClipData clip = ClipData.newPlainText(&quot;test&quot;, e.toString());\n                clipboard.setPrimaryClip(clip);\n            }\n</code></pre>\n"},{"tags":["java","spring","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1587897256,"creation_date":1587873452,"answer_id":61435598,"question_id":61433806,"body_markdown":"**What is a Junit Extension** \r\n\r\nThe purpose of Junit 5 extensions is to extend the behavior of test classes or methods\r\n\r\n[source](https://www.baeldung.com/junit-5-extensions)\r\n\r\nRead on **Junit 5 Extension Model** &amp; `@ExtendWith` annotation :[here](https://junit.org/junit5/docs/current/user-guide/#extensions)\r\n\r\n\r\n[`SpringExtension`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html)\r\n\r\n&gt; SpringExtension integrates the Spring TestContext Framework into JUnit\r\n&gt; 5&#39;s Jupiter programming model.\r\n\r\n\r\n    public class SpringExtension\r\n    extends Object\r\n    implements BeforeAllCallback, AfterAllCallback, TestInstancePostProcessor, BeforeEachCallback, AfterEachCallback, BeforeTestExecutionCallback, AfterTestExecutionCallback, ParameterResolver{..}\r\n\r\n\r\n[`MockitoExtension`](https://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.3.3/org/mockito/junit/jupiter/MockitoExtension.html)\r\n\r\n&gt; This extension is the JUnit Jupiter equivalent of our JUnit4\r\n&gt; MockitoJUnitRunner\r\n\r\n    public class MockitoExtension\r\n    extends java.lang.Object\r\n    implements BeforeEachCallback, AfterEachCallback, ParameterResolver{..}\r\n\r\n\r\nAs it can be seen , `SpringExtension` implements a lot more extensions than `MockitoExtension`.\t\r\n\r\nAlso [`@SpringBootTest`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html) is meta annotated with `@ExtendWith(SpringExtension.class)` and which means every time your tests are extended with `SpringExtension`.\r\n[`@MockBean`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html) is a Spring test framework annotation and used along with `@ExtendWith(SpringExtension.class)`\r\n \r\n\r\nTo observe the difference try the following\r\n\r\n`ExtendWith` only `MockitoExtension`\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestServiceTest {\r\n    \t\r\n    \t@MockBean\r\n    \tTestService service;\r\n    \r\n    \t@Test\r\n    \tvoid test() {\r\n    \t\tassertNotNull(service); // Test will fail\r\n    \t}\r\n    \r\n    }\r\n\r\n`ExtendWith` only `SpringExtension`\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    class TestServiceTest {\r\n    \t\r\n    \t@MockBean\r\n    \tTestService service;\r\n    \r\n    \t@Test\r\n    \tvoid test() {\r\n    \t\tassertNotNull(service); // Test succeeds\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n`ExtendWith` with both `SpringExtension` and `MockitoExtension`\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ExtendWith(SpringExtension.class)\r\n    class TestServiceTest {\r\n    \t\r\n    \t@MockBean\r\n    \tTestService service;\r\n    \r\n    \t@Test\r\n    \tvoid test() {\r\n    \t\tassertNotNull(service); // Test succeeds\r\n    \t}\r\n    \r\n    }\r\n\r\nBoth works in your case because of the `@SpringBootTest` annotation for the test class as explained.\r\n\r\nTo answer the question : When to use `@ExtendWith` Spring or Mockito? ,\r\n\r\nWhen the test requires a Spring Test Context ( to autowire a bean / use of `@MockBean` ) along with JUnit 5&#39;s Jupiter programming model use `@ExtendWith(SpringExtension.class)`. This will support Mockito annotations as well through TestExecutionListeners.\r\n\r\nWhen the test uses Mockito and needs JUnit 5&#39;s Jupiter programming model support use `@ExtendWith(MockitoExtension.class)`\r\n\r\nHope this helps\r\n","title":"Junit 5 with Spring Boot: When to use @ExtendWith Spring or Mockito?","body":"<p><strong>What is a Junit Extension</strong> </p>\n\n<p>The purpose of Junit 5 extensions is to extend the behavior of test classes or methods</p>\n\n<p><a href=\"https://www.baeldung.com/junit-5-extensions\" rel=\"noreferrer\">source</a></p>\n\n<p>Read on <strong>Junit 5 Extension Model</strong> &amp; <code>@ExtendWith</code> annotation :<a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"noreferrer\">here</a></p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringExtension.html\" rel=\"noreferrer\"><code>SpringExtension</code></a></p>\n\n<blockquote>\n  <p>SpringExtension integrates the Spring TestContext Framework into JUnit\n  5's Jupiter programming model.</p>\n</blockquote>\n\n<pre><code>public class SpringExtension\nextends Object\nimplements BeforeAllCallback, AfterAllCallback, TestInstancePostProcessor, BeforeEachCallback, AfterEachCallback, BeforeTestExecutionCallback, AfterTestExecutionCallback, ParameterResolver{..}\n</code></pre>\n\n<p><a href=\"https://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.3.3/org/mockito/junit/jupiter/MockitoExtension.html\" rel=\"noreferrer\"><code>MockitoExtension</code></a></p>\n\n<blockquote>\n  <p>This extension is the JUnit Jupiter equivalent of our JUnit4\n  MockitoJUnitRunner</p>\n</blockquote>\n\n<pre><code>public class MockitoExtension\nextends java.lang.Object\nimplements BeforeEachCallback, AfterEachCallback, ParameterResolver{..}\n</code></pre>\n\n<p>As it can be seen , <code>SpringExtension</code> implements a lot more extensions than <code>MockitoExtension</code>. </p>\n\n<p>Also <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"noreferrer\"><code>@SpringBootTest</code></a> is meta annotated with <code>@ExtendWith(SpringExtension.class)</code> and which means every time your tests are extended with <code>SpringExtension</code>.\n<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"noreferrer\"><code>@MockBean</code></a> is a Spring test framework annotation and used along with <code>@ExtendWith(SpringExtension.class)</code></p>\n\n<p>To observe the difference try the following</p>\n\n<p><code>ExtendWith</code> only <code>MockitoExtension</code></p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestServiceTest {\n\n    @MockBean\n    TestService service;\n\n    @Test\n    void test() {\n        assertNotNull(service); // Test will fail\n    }\n\n}\n</code></pre>\n\n<p><code>ExtendWith</code> only <code>SpringExtension</code></p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\nclass TestServiceTest {\n\n    @MockBean\n    TestService service;\n\n    @Test\n    void test() {\n        assertNotNull(service); // Test succeeds\n    }\n\n}\n</code></pre>\n\n<p><code>ExtendWith</code> with both <code>SpringExtension</code> and <code>MockitoExtension</code></p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ExtendWith(SpringExtension.class)\nclass TestServiceTest {\n\n    @MockBean\n    TestService service;\n\n    @Test\n    void test() {\n        assertNotNull(service); // Test succeeds\n    }\n\n}\n</code></pre>\n\n<p>Both works in your case because of the <code>@SpringBootTest</code> annotation for the test class as explained.</p>\n\n<p>To answer the question : When to use <code>@ExtendWith</code> Spring or Mockito? ,</p>\n\n<p>When the test requires a Spring Test Context ( to autowire a bean / use of <code>@MockBean</code> ) along with JUnit 5's Jupiter programming model use <code>@ExtendWith(SpringExtension.class)</code>. This will support Mockito annotations as well through TestExecutionListeners.</p>\n\n<p>When the test uses Mockito and needs JUnit 5's Jupiter programming model support use <code>@ExtendWith(MockitoExtension.class)</code></p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1967700,"reputation":191,"user_id":1767478,"display_name":"a.lgl"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1632812408,"creation_date":1632812408,"answer_id":69357115,"question_id":61433806,"body_markdown":"**When** to use @ExtendWith(SpringExtension.class) or @SpringBootTest?\r\n\r\n -  When you use Integration test -@SpringBootTest annotation- or any slice test -@xxxTest annotations- you don&#39;t need @ExtendWith(SpringExtension.class) annotation since mentioned annotations include it.\r\n\r\n- If you test @ConfigurationProperties, @Service, @Component  annotated class ( not defined in slice test cases - ref:Spring Boot Reference Document Testing/Auto-configured / SLICED Tests item-, you may use @ExtendWith(SpringExtension.class) instead of @SpringBootTest.\r\n\r\nObservation: I expect that a test with @ExtendWith(SpringExtension.class) faster than the same test with @SpringBootTest.When I perform a test in Eclipse i observed the reverse. \r\n","title":"Junit 5 with Spring Boot: When to use @ExtendWith Spring or Mockito?","body":"<p><strong>When</strong> to use @ExtendWith(SpringExtension.class) or @SpringBootTest?</p>\n<ul>\n<li><p>When you use Integration test -@SpringBootTest annotation- or any slice test -@xxxTest annotations- you don't need @ExtendWith(SpringExtension.class) annotation since mentioned annotations include it.</p>\n</li>\n<li><p>If you test @ConfigurationProperties, @Service, @Component  annotated class ( not defined in slice test cases - ref:Spring Boot Reference Document Testing/Auto-configured / SLICED Tests item-, you may use @ExtendWith(SpringExtension.class) instead of @SpringBootTest.</p>\n</li>\n</ul>\n<p>Observation: I expect that a test with @ExtendWith(SpringExtension.class) faster than the same test with @SpringBootTest.When I perform a test in Eclipse i observed the reverse.</p>\n"},{"tags":[],"owner":{"account_id":14657890,"reputation":1,"user_id":10585960,"display_name":"Excalibur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655029844,"creation_date":1654768261,"answer_id":72558207,"question_id":61433806,"body_markdown":"To add some extra information: I also recently figured out that if you use `@Mock` annotated dependencies in test class with `MockitoExtension` and you try to use `Mockito.when(mockedDependency.methodName())` in `@BeforeAll` setup method, then you are getting an `NullPointer` on your mocked dependency. \r\n\r\nBut if you change `MockitoExtension` to `SpringExtension`, it works fine. Looks like with `SpringExtension` mocked beans is initialized earlier (before `JUnit` launches `@BeforeAll` method) just like it should properly work.","title":"Junit 5 with Spring Boot: When to use @ExtendWith Spring or Mockito?","body":"<p>To add some extra information: I also recently figured out that if you use <code>@Mock</code> annotated dependencies in test class with <code>MockitoExtension</code> and you try to use <code>Mockito.when(mockedDependency.methodName())</code> in <code>@BeforeAll</code> setup method, then you are getting an <code>NullPointer</code> on your mocked dependency.</p>\n<p>But if you change <code>MockitoExtension</code> to <code>SpringExtension</code>, it works fine. Looks like with <code>SpringExtension</code> mocked beans is initialized earlier (before <code>JUnit</code> launches <code>@BeforeAll</code> method) just like it should properly work.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95534,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":61435598,"answer_count":3,"score":70,"last_activity_date":1655029844,"creation_date":1587856219,"question_id":61433806,"body_markdown":"I Have the following **abstract unit test class** that all my concrete unit test classes extend:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    //@ExtendWith(MockitoExtension.class)\r\n    @SpringBootTest(\r\n        classes = PokerApplication.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n    )\r\n    public abstract class AbstractUnitTests {\r\n    \r\n        @MockBean\r\n        public RoundService roundService;\r\n\r\n        @MockBean\r\n        public RoundRepository roundRepository;\r\n    }\r\n\r\nWhat is the difference between using `@ExtendWith(SpringExtension.class)` or `@ExtendWith(MockitoExtension.class)`?\r\n\r\nI ask as using either of the annotations seems to make no difference and both work respectively in my code - allowing me to use Junit5. So why do both work?\r\n\r\n**Concrete test class:**\r\n\r\n        @DisplayName(&quot;Test RoundService&quot;)\r\n        public class RoundsServiceTest extends AbstractUnitTests {\r\n        \r\n            private static String STUB_USER_ID = &quot;user3&quot;;\r\n        \r\n            // class under test\r\n            @InjectMocks\r\n            RoundService roundService;\r\n        \r\n            private Round round;\r\n        \r\n            private ObjectId objectId;\r\n        \r\n            @BeforeEach //note this replaces the junit 4 @Before\r\n            public void setUp() {\r\n        \r\n                initMocks(this);\r\n                round = Mocks.round();\r\n                objectId = Mocks.objectId();\r\n            }\r\n        \r\n            @DisplayName(&quot;Test RoundService.getAllRoundsByUserId()&quot;)\r\n            @Test\r\n            public void shouldGetRoundsByUserId() {\r\n        \r\n                // setup\r\n                given(roundRepository.findByUserId(anyString())).willReturn(Collections.singletonList(round));\r\n        \r\n                // call method under test\r\n                List&lt;Round&gt; rounds = roundService.getRoundsByUserId(STUB_USER_ID);\r\n        \r\n                // asserts\r\n                assertNotNull(rounds);\r\n                assertEquals(1, rounds.size());\r\n                assertEquals(&quot;user3&quot;, rounds.get(0).userId());\r\n            }\r\n    }\r\n\r\n**Relevant Build.gradle section** :\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n    \tcompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.2.2.RELEASE&#39;\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \timplementation &#39;junit:junit:4.12&#39;\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Junit 5 with Spring Boot: When to use @ExtendWith Spring or Mockito?","body":"<p>I Have the following <strong>abstract unit test class</strong> that all my concrete unit test classes extend:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n//@ExtendWith(MockitoExtension.class)\n@SpringBootTest(\n    classes = PokerApplication.class,\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\npublic abstract class AbstractUnitTests {\n\n    @MockBean\n    public RoundService roundService;\n\n    @MockBean\n    public RoundRepository roundRepository;\n}\n</code></pre>\n\n<p>What is the difference between using <code>@ExtendWith(SpringExtension.class)</code> or <code>@ExtendWith(MockitoExtension.class)</code>?</p>\n\n<p>I ask as using either of the annotations seems to make no difference and both work respectively in my code - allowing me to use Junit5. So why do both work?</p>\n\n<p><strong>Concrete test class:</strong></p>\n\n<pre><code>    @DisplayName(\"Test RoundService\")\n    public class RoundsServiceTest extends AbstractUnitTests {\n\n        private static String STUB_USER_ID = \"user3\";\n\n        // class under test\n        @InjectMocks\n        RoundService roundService;\n\n        private Round round;\n\n        private ObjectId objectId;\n\n        @BeforeEach //note this replaces the junit 4 @Before\n        public void setUp() {\n\n            initMocks(this);\n            round = Mocks.round();\n            objectId = Mocks.objectId();\n        }\n\n        @DisplayName(\"Test RoundService.getAllRoundsByUserId()\")\n        @Test\n        public void shouldGetRoundsByUserId() {\n\n            // setup\n            given(roundRepository.findByUserId(anyString())).willReturn(Collections.singletonList(round));\n\n            // call method under test\n            List&lt;Round&gt; rounds = roundService.getRoundsByUserId(STUB_USER_ID);\n\n            // asserts\n            assertNotNull(rounds);\n            assertEquals(1, rounds.size());\n            assertEquals(\"user3\", rounds.get(0).userId());\n        }\n}\n</code></pre>\n\n<p><strong>Relevant Build.gradle section</strong> :</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.2.2.RELEASE'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    implementation 'junit:junit:4.12'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","html","recursion","jsoup","nested-lists"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1654967788,"post_id":72568628,"comment_id":128220705,"body_markdown":"Your `recHTML` does not compile. Are you missing a return statement?","body":"Your <code>recHTML</code> does not compile. Are you missing a return statement?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1654973641,"post_id":72568628,"comment_id":128221770,"body_markdown":"Do you consider something like this a valid HTML input for your method: `&lt;ul&gt;&lt;ul&gt;&lt;li&gt;a&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;b&lt;/li&gt;&lt;/ul&gt;`?","body":"Do you consider something like this a valid HTML input for your method: <code>&lt;ul&gt;&lt;ul&gt;&lt;li&gt;a&lt;&#47;li&gt;&lt;&#47;ul&gt;&lt;li&gt;b&lt;&#47;li&gt;&lt;&#47;ul&gt;</code>?"},{"owner":{"account_id":19958886,"reputation":3,"user_id":14626964,"display_name":"speci5"},"score":0,"creation_date":1654978366,"post_id":72568628,"comment_id":128222624,"body_markdown":"Yes I believe so","body":"Yes I believe so"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1654980749,"post_id":72568628,"comment_id":128222982,"body_markdown":"But that&#39;s not considered valid HTML and neither is your example. See https://stackoverflow.com/questions/5899337/proper-way-to-make-html-nested-list","body":"But that&#39;s not considered valid HTML and neither is your example. See <a href=\"https://stackoverflow.com/questions/5899337/proper-way-to-make-html-nested-list\" title=\"proper way to make html nested list\">stackoverflow.com/questions/5899337/&hellip;</a>"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1654982771,"post_id":72568628,"comment_id":128223315,"body_markdown":"I think your task will simplify dramatically once you edit your HTML to something that&#39;s valid with the help of a validator (for example, [this one](https://validator.w3.org/)).","body":"I think your task will simplify dramatically once you edit your HTML to something that&#39;s valid with the help of a validator (for example, <a href=\"https://validator.w3.org/\" rel=\"nofollow noreferrer\">this one</a>)."},{"owner":{"account_id":19958886,"reputation":3,"user_id":14626964,"display_name":"speci5"},"score":0,"creation_date":1655007393,"post_id":72568628,"comment_id":128225955,"body_markdown":"I might be at a loss because i do not create that HTML it retrieved through an API from ado.","body":"I might be at a loss because i do not create that HTML it retrieved through an API from ado."}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655029451,"creation_date":1655029029,"answer_id":72591290,"question_id":72568628,"body_markdown":"Suppose you create a program stub like bellow:\r\n\r\n``` java\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Element;\r\n\r\npublic class App {\r\n    private static List&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n    public static void main(String[] args) {\r\n        Element input = Jsoup.parse(/*your HTML list*/).selectFirst(&quot;body&quot;).child(0);\r\n        recHTML(input, &quot;&quot;, &quot;&quot;);\r\n        System.out.println(output);\r\n    }\r\n\r\n    public static void recHTML(Element element, String chain, String link) {\r\n        // Todo! \r\n    }\r\n}\r\n```\r\n\r\nNow let&#39;s consider your invalid HTML example and its valid equivalent\r\n\r\n## Invalid HTML input list\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;ul&gt;\r\n        &lt;li&gt;First Level&lt;/li&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;Second Level&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;Third Level&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/ul&gt;\r\n        &lt;li&gt;a&lt;/li&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;b&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n            &lt;li&gt;b2&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;c1&lt;/li&gt;\r\n                &lt;li&gt;c2&lt;/li&gt;\r\n                &lt;li&gt;c3&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/ul&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCurrently, you&#39;re trying to implement something like a *depth-first search (DFS)*. A typical DFS won&#39;t do. Why? Because the HTML structure you provided has multiple leaf nodes that do not terminate a *chain*.\r\n\r\nSuppose we call each element of your `output` a *chain*. As you traverse the HTML tree in a DFS manner, note that a *chain* is complete\r\nas soon as you find a `li` element without `ul` siblings. This should be your *end condition*. As for the recursion step, think about how to handle `ul` and `li` elements. It is not easy to define; currently, my solution only works for your specific input.\r\n\r\nYour `recHTML` implementation for this is bound to be ugly since there&#39;s no direct nested *chain* from the root to leaf nodes. New edge cases will continuously come up where your code will not work and you&#39;ll keep making edits.\r\n\r\n``` java\r\npublic static void recHTML(Element element, String chain, String link) {\r\n    if (element.parent().children().select(&quot;ul&quot;).isEmpty()) {\r\n        output.add(chain);\r\n    }\r\n\r\n    for (int i = 0; i &lt; element.children().size(); i++) {\r\n        Element next = element.child(i);\r\n        if (next.tagName().equals(&quot;ul&quot;)) {\r\n            recHTML(next, chain  + link + element.child(i - 1).ownText(), link + &#39;-&#39;);\r\n        } else {\r\n            recHTML(next, chain  + link + next.ownText(), link);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Valid HTML input list\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;ul&gt;\r\n      &lt;li&gt;\r\n        First level\r\n        &lt;ul&gt;\r\n          &lt;li&gt;\r\n            Second Level\r\n            &lt;ul&gt;\r\n              &lt;li&gt;Third Level&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/li&gt;\r\n      &lt;li&gt;\r\n        a\r\n        &lt;ul&gt;\r\n          &lt;li&gt;\r\n            b\r\n            &lt;ul&gt;\r\n              &lt;li&gt;c&lt;/li&gt;\r\n              &lt;li&gt;c&lt;/li&gt;\r\n              &lt;li&gt;c&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/li&gt;\r\n          &lt;li&gt;\r\n            b2\r\n            &lt;ul&gt;\r\n              &lt;li&gt;c1&lt;/li&gt;\r\n              &lt;li&gt;c2&lt;/li&gt;\r\n              &lt;li&gt;c3&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs suggested in my comments, your problem lies in the input. Suppose we somehow *transform* your input HTML to the above markup. Then the solution becomes a lot cleaner and more straightforward - a simple DFS will work!\r\n\r\n``` java\r\npublic static void recHTML(Element element, String chain, String link) { \r\n    if (element.children().isEmpty()) {\r\n        output.add(chain);\r\n    }\r\n\r\n    for (Element child : element.children()) {\r\n        if (child.tagName().equals(&quot;li&quot;)) {\r\n            recHTML(child, chain + link + child.ownText(), link + &quot;-&quot;);\r\n        } else {\r\n            recHTML(child, chain, link);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nFun fact: Java HTML tidy tool [JTidy](https://mvnrepository.com/artifact/net.sf.jtidy/jtidy) has corrected your HTML input in a slightly different way than I have:\r\n\r\n```html\r\n&lt;!-- original snippet --&gt;\r\n&lt;li&gt;First Level&lt;/li&gt;\r\n&lt;ul&gt;\r\n  &lt;li&gt;Second Level&lt;/li&gt;\r\n  &lt;!-- omitted elements for brevity --&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;!-- snippet, corrected by jtidy --&gt;\r\n&lt;li&gt;First Level&lt;/li&gt;\r\n&lt;li style=&quot;list-style: none&quot;&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;Second Level&lt;/li&gt;\r\n    &lt;!-- omitted elements for brevity --&gt;\r\n  &lt;/ul&gt;\r\n&lt;/li&gt;\r\n```\r\n\r\nPersonally, I don&#39;t think it corrects it the right way - https://stackoverflow.com/questions/5899337/proper-way-to-make-html-nested-list","title":"Traversing nested HTML lists recursively","body":"<p>Suppose you create a program stub like bellow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Element;\n\npublic class App {\n    private static List&lt;String&gt; output = new ArrayList&lt;String&gt;();\n    public static void main(String[] args) {\n        Element input = Jsoup.parse(/*your HTML list*/).selectFirst(&quot;body&quot;).child(0);\n        recHTML(input, &quot;&quot;, &quot;&quot;);\n        System.out.println(output);\n    }\n\n    public static void recHTML(Element element, String chain, String link) {\n        // Todo! \n    }\n}\n</code></pre>\n<p>Now let's consider your invalid HTML example and its valid equivalent</p>\n<h2>Invalid HTML input list</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\n    &lt;li&gt;First Level&lt;/li&gt;\n    &lt;ul&gt;\n        &lt;li&gt;Second Level&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Third Level&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ul&gt;\n    &lt;li&gt;a&lt;/li&gt;\n    &lt;ul&gt;\n        &lt;li&gt;b&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;c&lt;/li&gt;\n            &lt;li&gt;c&lt;/li&gt;\n            &lt;li&gt;c&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;li&gt;b2&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;c1&lt;/li&gt;\n            &lt;li&gt;c2&lt;/li&gt;\n            &lt;li&gt;c3&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ul&gt;\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Currently, you're trying to implement something like a <em>depth-first search (DFS)</em>. A typical DFS won't do. Why? Because the HTML structure you provided has multiple leaf nodes that do not terminate a <em>chain</em>.</p>\n<p>Suppose we call each element of your <code>output</code> a <em>chain</em>. As you traverse the HTML tree in a DFS manner, note that a <em>chain</em> is complete\nas soon as you find a <code>li</code> element without <code>ul</code> siblings. This should be your <em>end condition</em>. As for the recursion step, think about how to handle <code>ul</code> and <code>li</code> elements. It is not easy to define; currently, my solution only works for your specific input.</p>\n<p>Your <code>recHTML</code> implementation for this is bound to be ugly since there's no direct nested <em>chain</em> from the root to leaf nodes. New edge cases will continuously come up where your code will not work and you'll keep making edits.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void recHTML(Element element, String chain, String link) {\n    if (element.parent().children().select(&quot;ul&quot;).isEmpty()) {\n        output.add(chain);\n    }\n\n    for (int i = 0; i &lt; element.children().size(); i++) {\n        Element next = element.child(i);\n        if (next.tagName().equals(&quot;ul&quot;)) {\n            recHTML(next, chain  + link + element.child(i - 1).ownText(), link + '-');\n        } else {\n            recHTML(next, chain  + link + next.ownText(), link);\n        }\n    }\n}\n</code></pre>\n<h2>Valid HTML input list</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\n  &lt;li&gt;\n    First level\n    &lt;ul&gt;\n      &lt;li&gt;\n        Second Level\n        &lt;ul&gt;\n          &lt;li&gt;Third Level&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/li&gt;\n  &lt;li&gt;\n    a\n    &lt;ul&gt;\n      &lt;li&gt;\n        b\n        &lt;ul&gt;\n          &lt;li&gt;c&lt;/li&gt;\n          &lt;li&gt;c&lt;/li&gt;\n          &lt;li&gt;c&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n      &lt;li&gt;\n        b2\n        &lt;ul&gt;\n          &lt;li&gt;c1&lt;/li&gt;\n          &lt;li&gt;c2&lt;/li&gt;\n          &lt;li&gt;c3&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As suggested in my comments, your problem lies in the input. Suppose we somehow <em>transform</em> your input HTML to the above markup. Then the solution becomes a lot cleaner and more straightforward - a simple DFS will work!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void recHTML(Element element, String chain, String link) { \n    if (element.children().isEmpty()) {\n        output.add(chain);\n    }\n\n    for (Element child : element.children()) {\n        if (child.tagName().equals(&quot;li&quot;)) {\n            recHTML(child, chain + link + child.ownText(), link + &quot;-&quot;);\n        } else {\n            recHTML(child, chain, link);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Fun fact: Java HTML tidy tool <a href=\"https://mvnrepository.com/artifact/net.sf.jtidy/jtidy\" rel=\"nofollow noreferrer\">JTidy</a> has corrected your HTML input in a slightly different way than I have:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- original snippet --&gt;\n&lt;li&gt;First Level&lt;/li&gt;\n&lt;ul&gt;\n  &lt;li&gt;Second Level&lt;/li&gt;\n  &lt;!-- omitted elements for brevity --&gt;\n&lt;/ul&gt;\n\n&lt;!-- snippet, corrected by jtidy --&gt;\n&lt;li&gt;First Level&lt;/li&gt;\n&lt;li style=&quot;list-style: none&quot;&gt;\n  &lt;ul&gt;\n    &lt;li&gt;Second Level&lt;/li&gt;\n    &lt;!-- omitted elements for brevity --&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Personally, I don't think it corrects it the right way - <a href=\"https://stackoverflow.com/questions/5899337/proper-way-to-make-html-nested-list\">Proper way to make HTML nested list?</a></p>\n"}],"owner":{"account_id":19958886,"reputation":3,"user_id":14626964,"display_name":"speci5"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72591290,"answer_count":1,"score":0,"last_activity_date":1655029451,"creation_date":1654829636,"question_id":72568628,"body_markdown":"I am unable to take the HTML below and put it into a list like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; output = Arrays.asList(\r\n        new String[] {\r\n            &quot;First Level-Second Level--Third Level&quot;,\r\n            &quot;a-b--c1&quot;,\r\n            &quot;a-b--c2&quot;,\r\n            &quot;a-b--c3&quot;,\r\n            &quot;a-b2--c1&quot;,\r\n            &quot;a-b2--c2&quot;,\r\n            &quot;a-b2--c3&quot;\r\n        });\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;ul&gt;\r\n        &lt;li&gt;First Level&lt;/li&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;Second Level&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;Third Level&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/ul&gt;\r\n        &lt;li&gt;a&lt;/li&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;b&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n                &lt;li&gt;c&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n            &lt;li&gt;b2&lt;/li&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;c1&lt;/li&gt;\r\n                &lt;li&gt;c2&lt;/li&gt;\r\n                &lt;li&gt;c3&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have loaded it into Jsoup to go through them like elements. The code I have is below:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static String recHTML(Element element, String str) { \r\n        str += &quot;-&quot; + element.ownText(); \r\n        if (element.children().size() == 0) return str + &quot;--&quot; + element.ownText(); \r\n        else { \r\n            for (int i = 0; i &lt; element.children().size(); i++) { \r\n                Element next = element.child(i); \r\n                str += recHTML(next, str); \r\n            }\r\n        }\r\n    }\r\n\r\nI am returning the string with the dashes to use regex to split them into an array to have different levels of indentation. I am struggling to get my output to match up and no matter what I try I just can&#39;t get this to work. Any help would be appreciated, thank you.","title":"Traversing nested HTML lists recursively","body":"<p>I am unable to take the HTML below and put it into a list like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; output = Arrays.asList(\n    new String[] {\n        &quot;First Level-Second Level--Third Level&quot;,\n        &quot;a-b--c1&quot;,\n        &quot;a-b--c2&quot;,\n        &quot;a-b--c3&quot;,\n        &quot;a-b2--c1&quot;,\n        &quot;a-b2--c2&quot;,\n        &quot;a-b2--c3&quot;\n    });\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\n    &lt;li&gt;First Level&lt;/li&gt;\n    &lt;ul&gt;\n        &lt;li&gt;Second Level&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Third Level&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ul&gt;\n    &lt;li&gt;a&lt;/li&gt;\n    &lt;ul&gt;\n        &lt;li&gt;b&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;c&lt;/li&gt;\n            &lt;li&gt;c&lt;/li&gt;\n            &lt;li&gt;c&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;li&gt;b2&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;c1&lt;/li&gt;\n            &lt;li&gt;c2&lt;/li&gt;\n            &lt;li&gt;c3&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ul&gt;\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I have loaded it into Jsoup to go through them like elements. The code I have is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String recHTML(Element element, String str) { \n    str += &quot;-&quot; + element.ownText(); \n    if (element.children().size() == 0) return str + &quot;--&quot; + element.ownText(); \n    else { \n        for (int i = 0; i &lt; element.children().size(); i++) { \n            Element next = element.child(i); \n            str += recHTML(next, str); \n        }\n    }\n}\n</code></pre>\n<p>I am returning the string with the dashes to use regex to split them into an array to have different levels of indentation. I am struggling to get my output to match up and no matter what I try I just can't get this to work. Any help would be appreciated, thank you.</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1655028879,"post_id":72591206,"comment_id":128228871,"body_markdown":"Your `@BeforeEach` method doesn&#39;t initialize your `account` field but creates a new local variable with the same name.","body":"Your <code>@BeforeEach</code> method doesn&#39;t initialize your <code>account</code> field but creates a new local variable with the same name."}],"answers":[{"tags":[],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655029252,"creation_date":1655029252,"answer_id":72591316,"question_id":72591206,"body_markdown":"As @Rob Spoor pointed at the comment, I was mistakenly creating a local variable at the method. \r\n\r\n  \r\nchanging to:\r\n\r\n    @BeforeEach\r\n    \tvoid setUp() {\r\n    \t\taccount = new Account();\r\n    \t\tSystem.out.println(&quot;Hi&quot; + account.owner);\r\n    \t\t\r\n    \t}\r\n\r\nHave solved the problem. \r\n\r\nI leave this question for maybe in the future this mistake will happen to others.","title":"@BeforeEach not affect the Test, and the object not initialized - Eclipse with JUNIT","body":"<p>As @Rob Spoor pointed at the comment, I was mistakenly creating a local variable at the method.</p>\n<p>changing to:</p>\n<pre><code>@BeforeEach\n    void setUp() {\n        account = new Account();\n        System.out.println(&quot;Hi&quot; + account.owner);\n        \n    }\n</code></pre>\n<p>Have solved the problem.</p>\n<p>I leave this question for maybe in the future this mistake will happen to others.</p>\n"}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1487,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655029252,"creation_date":1655028318,"question_id":72591206,"body_markdown":"I have created a simple project with Eclipse which uses JUNIT 5. \r\n\r\nThe Account Object should initialized well, before each test, but actually the method doesn&#39;t recognize the object and return null exception in the test. \r\n\r\nI have tried solution from other questions. \r\n\r\nAll my imports look fine. And at the run configuration it&#39;s defined to use jUnit 5. \r\n\r\nWhat is the problem ? Thanks\r\n\r\n\r\n**The test:** \r\n\r\n    package account;\r\n    \r\n    import static org.junit.Assert.fail;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.RepeatedTest;\r\n    import org.junit.jupiter.api.Test;\r\n   \r\n    class AccountTest {\r\n    \tAccount account;\r\n    \r\n    \t@BeforeEach\r\n    \tvoid setUp() {\r\n    \t\tAccount account = new Account();\r\n    \t\tSystem.out.println(&quot;Hi&quot; + account.owner);\r\n    \t}\r\n    \t\r\n    \t@Test  \r\n    \tvoid assertBeforeEachWorking() {\r\n    \r\n    \t\tSystem.out.println(&quot;Befroe each? &quot;);\r\n    \t\tSystem.out.println(account.owner);\r\n    //\t\tassertEquals(&quot;default owner2&quot;, account2.owner, &quot;owner name not right&quot; );\r\n    \t}\r\n}\r\n\r\n**Account:**\r\n\r\n\r\n    package account;\r\n    \r\n    public class Account {\r\n    \t\r\n    \tint amount ;\r\n    \tString owner = &quot;default owner&quot;;\r\n    \r\n    }\r\n\r\n\r\n[![Run Configuration][1]][1]\r\n\r\n[![Test-Result][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uVTnW.jpg\r\n  [2]: https://i.stack.imgur.com/OxOHT.jpg","title":"@BeforeEach not affect the Test, and the object not initialized - Eclipse with JUNIT","body":"<p>I have created a simple project with Eclipse which uses JUNIT 5.</p>\n<p>The Account Object should initialized well, before each test, but actually the method doesn't recognize the object and return null exception in the test.</p>\n<p>I have tried solution from other questions.</p>\n<p>All my imports look fine. And at the run configuration it's defined to use jUnit 5.</p>\n<p>What is the problem ? Thanks</p>\n<p><strong>The test:</strong></p>\n<pre><code>package account;\n\nimport static org.junit.Assert.fail;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.RepeatedTest;\nimport org.junit.jupiter.api.Test;\n\nclass AccountTest {\n    Account account;\n\n    @BeforeEach\n    void setUp() {\n        Account account = new Account();\n        System.out.println(&quot;Hi&quot; + account.owner);\n    }\n    \n    @Test  \n    void assertBeforeEachWorking() {\n\n        System.out.println(&quot;Befroe each? &quot;);\n        System.out.println(account.owner);\n//      assertEquals(&quot;default owner2&quot;, account2.owner, &quot;owner name not right&quot; );\n    }\n</code></pre>\n<p>}</p>\n<p><strong>Account:</strong></p>\n<pre><code>package account;\n\npublic class Account {\n    \n    int amount ;\n    String owner = &quot;default owner&quot;;\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uVTnW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uVTnW.jpg\" alt=\"Run Configuration\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OxOHT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OxOHT.jpg\" alt=\"Test-Result\" /></a></p>\n"},{"tags":["java","android","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1655066488,"post_id":72591268,"comment_id":128236583,"body_markdown":"Does this answer your question? [Deserialize a class containing java.lang.CharSequence member variable](https://stackoverflow.com/questions/58460861/deserialize-a-class-containing-java-lang-charsequence-member-variable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58460861/deserialize-a-class-containing-java-lang-charsequence-member-variable\">Deserialize a class containing java.lang.CharSequence member variable</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1655066790,"post_id":72591268,"comment_id":128236657,"body_markdown":"Also, when you don&#39;t specify a custom type adapter and Gson has no built-in type adapter it uses reflection. Please do not rely on this for third-party classes (in this case Android&#39;s `ResolveInfo`). While Gson (unfortunately) does not prevent you from doing this, it makes your code unreliable because you depend on the internal fields of these classes. These implementation details could change between versions, and in this case could even differ between Android versions or devices. Please either write a custom adapter for `ResolveInfo`, or write a custom data class which stores the data.","body":"Also, when you don&#39;t specify a custom type adapter and Gson has no built-in type adapter it uses reflection. Please do not rely on this for third-party classes (in this case Android&#39;s <code>ResolveInfo</code>). While Gson (unfortunately) does not prevent you from doing this, it makes your code unreliable because you depend on the internal fields of these classes. These implementation details could change between versions, and in this case could even differ between Android versions or devices. Please either write a custom adapter for <code>ResolveInfo</code>, or write a custom data class which stores the data."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1655352314,"post_id":72591268,"comment_id":128313567,"body_markdown":"@Marcono1234 It&#39;s working well, could you please answer this question using your previous answer(https://stackoverflow.com/a/72595727/5359340) I don&#39;t like to close this question because of the different exception, in the future, it will be helpful to someone who is facing this issue,","body":"@Marcono1234 It&#39;s working well, could you please answer this question using your previous answer(<a href=\"https://stackoverflow.com/a/72595727/5359340\">stackoverflow.com/a/72595727/5359340</a>) I don&#39;t like to close this question because of the different exception, in the future, it will be helpful to someone who is facing this issue,"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1655413200,"post_id":72591268,"comment_id":128333171,"body_markdown":"Even though the exception message was changed in newer Gson versions I still think that other question already covers this.","body":"Even though the exception message was changed in newer Gson versions I still think that other question already covers this."}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655028868,"creation_date":1655028868,"question_id":72591268,"body_markdown":"I&#39;m trying to convert JSON String to List of Object([ResolveInfo][1]) using the below method,\r\n\r\n \r\n\r\n        private List&lt;ResolveInfo&gt; jsonStringToListOfResolveInfo(String response) {\r\n              \r\n                List&lt;ResolveInfo&gt; list = null;\r\n                try {\r\n           \r\n                    Gson gson = new GsonBuilder().create();\r\n                    Type listOfMyClassObject = new TypeToken&lt;ArrayList&lt;ResolveInfo&gt;&gt;() {}.getType();\r\n                    list = gson.fromJson(response, listOfMyClassObject);\r\n        \r\n                    if (list!=null){\r\n                        Log.d(TAG, &quot;ResolveInfoList: size - &quot;+list.size());\r\n                    }else{\r\n                        Log.d(TAG, &quot;ResolveInfoList: list = gson.fromJson(response, listOfMyClassObject); is null&quot;);\r\n                    }\r\n        \r\n                } catch (JsonSyntaxException e) {\r\n                    Log.i(TAG, &quot;JsonSyntaxException in &quot; + e.getMessage());\r\n                }catch (Exception e){\r\n                    Log.d(TAG, &quot;exception is : &quot;+e.getMessage());\r\n                }\r\n\r\n              return list;\r\n        }\r\n\r\nBut, I&#39;m getting the exception like below\r\n\r\n    \r\n\r\n&gt; Unable to create instance of interface java.lang.CharSequence.\r\n&gt; Registering an InstanceCreator or a TypeAdapter for this type, or\r\n&gt; adding a no-args constructor may fix this problem.\r\n\r\n**What is the reason for this exception ?**, Thank you!\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/pm/ResolveInfo","title":"Unable to create instance of interface java.lang.CharSequence. Registering an InstanceCreator or a TypeAdapter for this type","body":"<p>I'm trying to convert JSON String to List of Object(<a href=\"https://developer.android.com/reference/android/content/pm/ResolveInfo\" rel=\"nofollow noreferrer\">ResolveInfo</a>) using the below method,</p>\n<pre><code>    private List&lt;ResolveInfo&gt; jsonStringToListOfResolveInfo(String response) {\n          \n            List&lt;ResolveInfo&gt; list = null;\n            try {\n       \n                Gson gson = new GsonBuilder().create();\n                Type listOfMyClassObject = new TypeToken&lt;ArrayList&lt;ResolveInfo&gt;&gt;() {}.getType();\n                list = gson.fromJson(response, listOfMyClassObject);\n    \n                if (list!=null){\n                    Log.d(TAG, &quot;ResolveInfoList: size - &quot;+list.size());\n                }else{\n                    Log.d(TAG, &quot;ResolveInfoList: list = gson.fromJson(response, listOfMyClassObject); is null&quot;);\n                }\n    \n            } catch (JsonSyntaxException e) {\n                Log.i(TAG, &quot;JsonSyntaxException in &quot; + e.getMessage());\n            }catch (Exception e){\n                Log.d(TAG, &quot;exception is : &quot;+e.getMessage());\n            }\n\n          return list;\n    }\n</code></pre>\n<p>But, I'm getting the exception like below</p>\n<blockquote>\n<p>Unable to create instance of interface java.lang.CharSequence.\nRegistering an InstanceCreator or a TypeAdapter for this type, or\nadding a no-args constructor may fix this problem.</p>\n</blockquote>\n<p><strong>What is the reason for this exception ?</strong>, Thank you!</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":244375,"reputation":4195,"user_id":517134,"accept_rate":100,"display_name":"Yusuf K."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1458419741,"creation_date":1458419741,"answer_id":36106830,"question_id":36106620,"body_markdown":"Give it a try;\r\n\r\nIn Service;\r\n\r\n    User user = userService.findByUsername(username);\r\n    user.getAuthorities().size(); //You may need call this line in userService.findByUsername(username); method\r\n\r\nIn User;\r\n\r\n    public Set&lt;Authority&gt; getAuthorities(){\r\n        return authorities;\r\n    }","title":"failed to lazily initialize a collection of role: User.authorities, could not initialize proxy - no Session","body":"<p>Give it a try;</p>\n\n<p>In Service;</p>\n\n<pre><code>User user = userService.findByUsername(username);\nuser.getAuthorities().size(); //You may need call this line in userService.findByUsername(username); method\n</code></pre>\n\n<p>In User;</p>\n\n<pre><code>public Set&lt;Authority&gt; getAuthorities(){\n    return authorities;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12848554,"reputation":28,"user_id":9294185,"display_name":"Duhu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1606123332,"creation_date":1606119787,"answer_id":64964782,"question_id":36106620,"body_markdown":"The solution that worked for me was adding in Domain class, setting the following  annotation: \r\n```\r\n@ManyToMany(fetch = FetchType.EAGER)\r\n```","title":"failed to lazily initialize a collection of role: User.authorities, could not initialize proxy - no Session","body":"<p>The solution that worked for me was adding in Domain class, setting the following  annotation:</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628944092,"creation_date":1628939381,"answer_id":68782719,"question_id":36106620,"body_markdown":"just initialize authority manually as below: \r\n\r\n    User user = userService.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\r\n    \r\n    Set&lt;Authority&gt; authorities = user.getAuthorities();\r\n\r\n    Hibernate.initialize(authorities);\r\n\r\n    return user;","title":"failed to lazily initialize a collection of role: User.authorities, could not initialize proxy - no Session","body":"<p>just initialize authority manually as below:</p>\n<pre><code>User user = userService.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\n\nSet&lt;Authority&gt; authorities = user.getAuthorities();\n\nHibernate.initialize(authorities);\n\nreturn user;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25007376,"reputation":11,"user_id":18867174,"display_name":"Kirsten Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655028483,"creation_date":1654716166,"answer_id":72551148,"question_id":36106620,"body_markdown":"I experienced this same problem today. What worked for me:\r\n\r\n 1. Annotate the service method (`loadUserByUsername`) with `@Transactional`\r\n\r\n 2. Then add to the service method:\r\n\r\n```java\r\nHibernate.initialize(user.getAuthorities());\r\n```\r\n\r\n","title":"failed to lazily initialize a collection of role: User.authorities, could not initialize proxy - no Session","body":"<p>I experienced this same problem today. What worked for me:</p>\n<ol>\n<li><p>Annotate the service method (<code>loadUserByUsername</code>) with <code>@Transactional</code></p>\n</li>\n<li><p>Then add to the service method:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Hibernate.initialize(user.getAuthorities());\n</code></pre>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11908,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":36106830,"answer_count":4,"score":12,"last_activity_date":1655028483,"creation_date":1458418364,"question_id":36106620,"body_markdown":"In my Spring Boot/Data/JPA application I have a following entity:\r\n\r\n    @Entity\r\n    @NamedEntityGraph(name = &quot;graph.User&quot;, attributeNodes = { @NamedAttributeNode(&quot;authorities&quot;) })\r\n    @Table(name = &quot;users&quot;)\r\n    public class User extends BaseEntity implements UserDetails {\r\n    \r\n    \tprivate static final long serialVersionUID = 8884184875433252086L;\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;users_id_seq&quot;, sequenceName = &quot;users_id_seq&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;users_id_seq&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t...\r\n    \r\n    \t@JsonIgnore\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(name = &quot;users_authorities&quot;, joinColumns = { @JoinColumn(name = &quot;user_id&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;authority_id&quot;) })\r\n    \tprivate Set&lt;Authority&gt; authorities = new HashSet&lt;Authority&gt;();\r\n    \r\n    }\r\n\r\nThis is my Spring `AuthenticationService` :\r\n\r\n    @Service\r\n    public class AuthenticationService implements UserDetailsService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n    \t\tUser user = userService.findByUsername(username);\r\n    \r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException(String.format(&quot;User %s does not exist!&quot;, username));\r\n    \t\t}\r\n    \r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nDuring the application startup I&#39;m receiving following exception:\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.example.common.model.user.User.authorities, could not initialize proxy - no Session\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:576)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:555)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:143)\r\n    \tat org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:180)\r\n    \tat org.springframework.security.authentication.AbstractAuthenticationToken.&lt;init&gt;(AbstractAuthenticationToken.java:61)\r\n    \tat org.springframework.security.authentication.UsernamePasswordAuthenticationToken.&lt;init&gt;(UsernamePasswordAuthenticationToken.java:72)\r\n    \tat org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.createSuccessAuthentication(AbstractUserDetailsAuthenticationProvider.java:224)\r\n    \tat org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:196)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:167)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:192)\r\n    \tat org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:93)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n    \tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nHow to configure my application in order to correctly handle `User.authorities` with `FetchType.LAZY` ?","title":"failed to lazily initialize a collection of role: User.authorities, could not initialize proxy - no Session","body":"<p>In my Spring Boot/Data/JPA application I have a following entity:</p>\n\n<pre><code>@Entity\n@NamedEntityGraph(name = \"graph.User\", attributeNodes = { @NamedAttributeNode(\"authorities\") })\n@Table(name = \"users\")\npublic class User extends BaseEntity implements UserDetails {\n\n    private static final long serialVersionUID = 8884184875433252086L;\n\n    @Id\n    @SequenceGenerator(name = \"users_id_seq\", sequenceName = \"users_id_seq\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = \"users_id_seq\")\n    private Long id;\n\n    ...\n\n    @JsonIgnore\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = \"users_authorities\", joinColumns = { @JoinColumn(name = \"user_id\") }, inverseJoinColumns = { @JoinColumn(name = \"authority_id\") })\n    private Set&lt;Authority&gt; authorities = new HashSet&lt;Authority&gt;();\n\n}\n</code></pre>\n\n<p>This is my Spring <code>AuthenticationService</code> :</p>\n\n<pre><code>@Service\npublic class AuthenticationService implements UserDetailsService {\n\n    @Autowired\n    private UserService userService;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        User user = userService.findByUsername(username);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(String.format(\"User %s does not exist!\", username));\n        }\n\n        return user;\n    }\n\n}\n</code></pre>\n\n<p>During the application startup I'm receiving following exception:</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.example.common.model.user.User.authorities, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:576)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:555)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:143)\n    at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:180)\n    at org.springframework.security.authentication.AbstractAuthenticationToken.&lt;init&gt;(AbstractAuthenticationToken.java:61)\n    at org.springframework.security.authentication.UsernamePasswordAuthenticationToken.&lt;init&gt;(UsernamePasswordAuthenticationToken.java:72)\n    at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.createSuccessAuthentication(AbstractUserDetailsAuthenticationProvider.java:224)\n    at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:196)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:167)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:192)\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:93)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>How to configure my application in order to correctly handle <code>User.authorities</code> with <code>FetchType.LAZY</code> ?</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":281433,"reputation":1014,"user_id":577736,"display_name":"Alok P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655027607,"creation_date":1654681507,"answer_id":72543488,"question_id":56037625,"body_markdown":"Spawn a thread to run a command-line utility (e.g. [ImageMagick][1]) which will reduce the size of the image to what will fit within the space on the page which you have allotted for the image. \r\n\r\nThen load that reduced-size image. \r\n\r\nYou don&#39;t need a higher resolution image or bigger-size image than what will fit on the page.\r\n\r\nThere are also several java libraries which will do that for you without the considerable process-spawning overhead.  See this Baeldung article for a quick rundown on the more popular ways to do so: [Baeldung: How can I resize an image using Java?][2].\r\n\r\nOf course, you&#39;ll have to experiment to see how much main memory each library uses.\r\n\r\n\r\n  [1]: https://imagemagick.org/index.php\r\n  [2]: https://www.baeldung.com/java-resize-image","title":"Create PDImageXObject from InputStream","body":"<p>Spawn a thread to run a command-line utility (e.g. <a href=\"https://imagemagick.org/index.php\" rel=\"nofollow noreferrer\">ImageMagick</a>) which will reduce the size of the image to what will fit within the space on the page which you have allotted for the image.</p>\n<p>Then load that reduced-size image.</p>\n<p>You don't need a higher resolution image or bigger-size image than what will fit on the page.</p>\n<p>There are also several java libraries which will do that for you without the considerable process-spawning overhead.  See this Baeldung article for a quick rundown on the more popular ways to do so: <a href=\"https://www.baeldung.com/java-resize-image\" rel=\"nofollow noreferrer\">Baeldung: How can I resize an image using Java?</a>.</p>\n<p>Of course, you'll have to experiment to see how much main memory each library uses.</p>\n"}],"owner":{"account_id":11456710,"reputation":734,"user_id":8397480,"display_name":"xardbaiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1655027607,"creation_date":1557308054,"question_id":56037625,"body_markdown":"I&#39;m trying to create [PDImageXObject](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html) from huge JPEG file _(20 000 x 20 000 pixels [24-bit color])_\r\n\r\nMethods: \r\n\r\n* [PDImageXObject.createFromByteArray(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromByteArray-org.apache.pdfbox.pdmodel.PDDocument-byte:A-java.lang.String-),\r\n* [PDImageXObject.createFromFile(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFile-java.lang.String-org.apache.pdfbox.pdmodel.PDDocument-)\r\n* [PDImageXObject.createFromFileByContent(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFileByContent-java.io.File-org.apache.pdfbox.pdmodel.PDDocument-)\r\n* [PDImageXObject.createFromFileByExtension(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFileByExtension-java.io.File-org.apache.pdfbox.pdmodel.PDDocument-)\r\n\r\nCreates `ByteArrayInputStream` object and allocates more than 1GB of RAM, which causes Exception\r\n\r\n```\r\njava.lang.OutOfMemoryError: Java heap space\r\nat java.io.ByteArrayOutputStream.&lt;init&gt;(ByteArrayOutputStream.java:77) ~[?:1.8.0_211]\r\n```\r\nException in line:\r\n\r\n```java\r\nbuf = new byte[size];\r\n```\r\n\r\nI know that the number of bytes for image processing = \r\n`W * H * color bits \\ 9`;\r\n\r\nThat&#39;s why I don&#39;t want to load all file bytes at a time.\r\n\r\nI&#39;ve tried to set maximum heap size to `-Xmx2G` but it isn&#39;t enough.\r\nI&#39;ve also tried to use methods\r\n[LosslessFactory.createFromImage(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/LosslessFactory.html#createFromImage-org.apache.pdfbox.pdmodel.PDDocument-java.awt.image.BufferedImage-),\r\n[JPEGFactory.createFromImage(...)](https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactory.html#createFromImage-org.apache.pdfbox.pdmodel.PDDocument-java.awt.image.BufferedImage-) , but they has the same problem\r\n\r\n\r\nIs there any way to create PDImageXObject from InputStream (f.e. from FileInputStream), without creating BufferedImage or byte arrays ?","title":"Create PDImageXObject from InputStream","body":"<p>I'm trying to create <a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html\" rel=\"nofollow noreferrer\">PDImageXObject</a> from huge JPEG file <em>(20 000 x 20 000 pixels [24-bit color])</em></p>\n\n<p>Methods: </p>\n\n<ul>\n<li><a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromByteArray-org.apache.pdfbox.pdmodel.PDDocument-byte:A-java.lang.String-\" rel=\"nofollow noreferrer\">PDImageXObject.createFromByteArray(...)</a>,</li>\n<li><a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFile-java.lang.String-org.apache.pdfbox.pdmodel.PDDocument-\" rel=\"nofollow noreferrer\">PDImageXObject.createFromFile(...)</a></li>\n<li><a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFileByContent-java.io.File-org.apache.pdfbox.pdmodel.PDDocument-\" rel=\"nofollow noreferrer\">PDImageXObject.createFromFileByContent(...)</a></li>\n<li><a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.html#createFromFileByExtension-java.io.File-org.apache.pdfbox.pdmodel.PDDocument-\" rel=\"nofollow noreferrer\">PDImageXObject.createFromFileByExtension(...)</a></li>\n</ul>\n\n<p>Creates <code>ByteArrayInputStream</code> object and allocates more than 1GB of RAM, which causes Exception</p>\n\n<pre><code>java.lang.OutOfMemoryError: Java heap space\nat java.io.ByteArrayOutputStream.&lt;init&gt;(ByteArrayOutputStream.java:77) ~[?:1.8.0_211]\n</code></pre>\n\n<p>Exception in line:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>buf = new byte[size];\n</code></pre>\n\n<p>I know that the number of bytes for image processing = \n<code>W * H * color bits \\ 9</code>;</p>\n\n<p>That's why I don't want to load all file bytes at a time.</p>\n\n<p>I've tried to set maximum heap size to <code>-Xmx2G</code> but it isn't enough.\nI've also tried to use methods\n<a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/LosslessFactory.html#createFromImage-org.apache.pdfbox.pdmodel.PDDocument-java.awt.image.BufferedImage-\" rel=\"nofollow noreferrer\">LosslessFactory.createFromImage(...)</a>,\n<a href=\"https://pdfbox.apache.org/docs/2.0.11/javadocs/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactory.html#createFromImage-org.apache.pdfbox.pdmodel.PDDocument-java.awt.image.BufferedImage-\" rel=\"nofollow noreferrer\">JPEGFactory.createFromImage(...)</a> , but they has the same problem</p>\n\n<p>Is there any way to create PDImageXObject from InputStream (f.e. from FileInputStream), without creating BufferedImage or byte arrays ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1654952421,"post_id":72583595,"comment_id":128217474,"body_markdown":"&gt; So how come I can&#39;t see the rest of the operating system&#39;s processes? Try to run app with root privileges","body":"&gt; So how come I can&#39;t see the rest of the operating system&#39;s processes? Try to run app with root privileges"},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":0,"creation_date":1654989177,"post_id":72583595,"comment_id":128224281,"body_markdown":"@mrmcwolf I tried, but apparently it might not be an option. See **Edit 1** for more information. x)","body":"@mrmcwolf I tried, but apparently it might not be an option. See <b>Edit 1</b> for more information. x)"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1655011931,"post_id":72583595,"comment_id":128226304,"body_markdown":"in the editorial it seems that your problem is `flatpak` and not `intellij`, `java` or the application you are writing.\ndownload intellij from the official website of `jetbains` (`tar.gz`). log in as root (`sudo su`), unzip the ide and run `idea.sh` from the `bin` directory.","body":"in the editorial it seems that your problem is <code>flatpak</code> and not <code>intellij</code>, <code>java</code> or the application you are writing. download intellij from the official website of <code>jetbains</code> (<code>tar.gz</code>). log in as root (<code>sudo su</code>), unzip the ide and run <code>idea.sh</code> from the <code>bin</code> directory."},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":0,"creation_date":1655024967,"post_id":72583595,"comment_id":128228139,"body_markdown":"Thank you for the idea (pun intended?). I did this and now more processes show up, though, unfortunately mine is still nowhere to be found.","body":"Thank you for the idea (pun intended?). I did this and now more processes show up, though, unfortunately mine is still nowhere to be found."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1655025530,"post_id":72583595,"comment_id":128228249,"body_markdown":"here comes the question of what you expect to see. in the example above you test with my_script.sh and assume that you will see it as a process name. But this is not so. the script starts with `#!/bin/bash` which means that my_script.sh will be passed as a `bash` argument. in other words, the process will be named bash. to get the literal my_script.sh you need to check the arguments that started the corresponding process.","body":"here comes the question of what you expect to see. in the example above you test with my_script.sh and assume that you will see it as a process name. But this is not so. the script starts with <code>#!&#47;bin&#47;bash</code> which means that my_script.sh will be passed as a <code>bash</code> argument. in other words, the process will be named bash. to get the literal my_script.sh you need to check the arguments that started the corresponding process."},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":0,"creation_date":1655026250,"post_id":72583595,"comment_id":128228371,"body_markdown":"@mrmcwolf Just as you wrote this I was doing some testing. I tried `processHandle.info().commandLine()` and it showed up as `Optional[/usr/bin/bash /home/username/path/to/file/my_script.sh]`. There for, I went with `Optional&lt;String&gt; processOptional = processHandle.info().commandLine();` and `processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;/usr/bin/bash &quot; + &quot;/absolute/path/to/my_script.sh&quot;);` and now `.isPresent()` returns `true`. Perhaps I can use `.contains(&quot;/absolute/path/to/my_script.sh&quot;)` instead of `.equals()` and it shouldn&#39;t matter if the script is `bash`.","body":"@mrmcwolf Just as you wrote this I was doing some testing. I tried <code>processHandle.info().commandLine()</code> and it showed up as <code>Optional[&#47;usr&#47;bin&#47;bash &#47;home&#47;username&#47;path&#47;to&#47;file&#47;my_script.sh]</code>. There for, I went with <code>Optional&lt;String&gt; processOptional = processHandle.info().commandLine();</code> and <code>processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;&#47;usr&#47;bin&#47;bash &quot; + &quot;&#47;absolute&#47;path&#47;to&#47;my_script.sh&quot;);</code> and now <code>.isPresent()</code> returns <code>true</code>. Perhaps I can use <code>.contains(&quot;&#47;absolute&#47;path&#47;to&#47;my_script.sh&quot;)</code> instead of <code>.equals()</code> and it shouldn&#39;t matter if the script is <code>bash</code>."},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":0,"creation_date":1655026331,"post_id":72583595,"comment_id":128228387,"body_markdown":"I tried the `.contains()` and it works as well. I&#39;ll edit and post the full code.","body":"I tried the <code>.contains()</code> and it works as well. I&#39;ll edit and post the full code."},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":0,"creation_date":1655026829,"post_id":72583595,"comment_id":128228475,"body_markdown":"@mrmcwolf Since the major issue was not seeing all the processes, if you post your suggestion to download IntelliJ, I&#39;ll mark it as the answer. ^_^","body":"@mrmcwolf Since the major issue was not seeing all the processes, if you post your suggestion to download IntelliJ, I&#39;ll mark it as the answer. ^_^"}],"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655027016,"creation_date":1654943590,"question_id":72583595,"body_markdown":"I&#39;ve a JavaFX application where I&#39;ve a list of a bunch of script files. Once the application loads, it reads it and and checks which ones are running.\r\n\r\nTo do that I use a `ProcessHandle`, as mentioned in various examples here on StackOverflow and other guides/tutorials on the internet.\r\n\r\nThe problem is, it never finds any of them. There for I programmatically started one, which I know for a fact that it will be running, via `Process process = new ProcessBuilder(&quot;/path/to/file/my_script.sh&quot;).start();` - and it won&#39;t find this one either.\r\n\r\nContents of **my_script.sh**:\r\n\r\n    #!/bin/bash\r\n    echo &quot;Wait for 5 seconds&quot;\r\n    sleep 5\r\n    echo &quot;Completed&quot;\r\n\r\nJava code:\r\n\r\n    // List of PIDs which correspond to the processes shown after &quot;INFO COMMAND:&quot;\r\n    System.out.println(&quot;ALL PROCESSES: &quot; + ProcessHandle.allProcesses().toList());\r\n    \r\n    Optional&lt;ProcessHandle&gt; scriptProcessHandle = ProcessHandle.allProcesses().filter(processHandle -&gt; {\r\n        System.out.println(&quot;INFO COMMAND: &quot; + processHandle.info().command());\r\n        Optional&lt;String&gt; processOptional = processHandle.info().command();\r\n        return processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;my_script.sh&quot;);\r\n    }).findFirst();\r\n\r\n    System.out.println(&quot;Script process handle is present: &quot; + scriptProcessHandle.isPresent());\r\n\r\n    if (scriptProcessHandle.isPresent()) {  // Always false\r\n        // Do stuff\r\n    }\r\n\r\nThanks to the good old fashioned `System.out.println()`, I noticed that I get this in my output console every time:\r\n\r\n    ALL PROCESSES: [1, 2, 28, 85, 128, 6944, 21174, 29029, 29071]\r\n    INFO COMMAND: Optional[/usr/bin/bwrap]\r\n    INFO COMMAND: Optional[/usr/bin/bash]\r\n    INFO COMMAND: Optional[/app/idea-IC/jbr/bin/java]\r\n    INFO COMMAND: Optional[/app/idea-IC/bin/fsnotifier]\r\n    INFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\r\n    INFO COMMAND: Optional[/usr/bin/bash]\r\n    INFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\r\n    INFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\r\n    INFO COMMAND: Optional[/usr/bin/bash]\r\n    Script process handle is present: false\r\n\r\nThe first line in the Javadoc of `ProcessHandle.allProcess()` reads:\r\n\r\n&gt; Returns a snapshot of all processes visible to the current process.\r\n\r\nSo how come I can&#39;t see the rest of the operating system&#39;s processes?\r\n\r\nI&#39;m looking for a non-os-dependent solution, if possible. Why? For better portability and hopefully less maintenance in the future.\r\n\r\n*Notes:*\r\n\r\n - A popular solution for GNU/Linux seems to be to [check the `proc` entries][1], but I don&#39;t know if that would work for at least the majority of the most popular distributions - if it doesn&#39;t, adding support for them in a different way, would create more testing and maintenance workload.\r\n - I&#39;m aware of `ps`, `windir`, `tasklist.exe` possible solutions (worst comes to worst).\r\n - I found the [JavaSysMon][2] library but it seems dead and unfortunately:\r\n\r\n&gt; - CPU speed on Linux only reports correct values for Intel CPUs\r\n\r\n**Edit 1:**\r\n\r\nI&#39;m on Pop_OS! and installed IntelliJ via the PopShop as **flatpak**.\r\n\r\nIn order to start it as `root` as suggested by **mr mcwolf**, I went to `/home/username/.local/share/flatpak/app/com.jetbrains.IntelliJ-IDEA-Community/x86_64/stable/active/export/bin` and found `com.jetbrains.IntelliJ-IDEA-Community` file.\r\n\r\nWhen I run `sudo ./com.jetbrains.IntelliJ-IDEA-Community` or `sudo /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community` in my terminal, I get `error: app/com.jetbrains.IntelliJ-IDEA-Community/x86_64/stable not installed`\r\n\r\nSo I opened the file and ran its contents:\r\n\r\n`exec /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community &quot;$@&quot;`\r\n\r\nThis opens IntelliJ, but not as `root`, so instead I ran:\r\n\r\n`exec sudo /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community &quot;$@&quot;`\r\n\r\nWhich prompts for a password and when I write it in, **the terminal crashes**.\r\n\r\n**Edit 1.1:**\r\n\r\n(╯&#176;□&#176;）╯︵ ┻━┻ [&quot;flatpak run&quot; is not intended to be ran with sudo][3]\r\n\r\n**Edit 2:**\r\n\r\nAs **mr mcwolf** said, I downloaded the IntelliJ from the official website, extracted it and ran the `idea.sh` as `root`.\r\n\r\nNow a lot more processes are shown. 1/3 of them show up as `INFO COMMAND: Optional.empty`. \r\n\r\n`scriptProcessHandle.isPresent()` is still unfortunately returning `false`. I searched through them and `my_script.sh` is nowhere to be found. I also tried `processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;/absolute/path/to/my_script.sh&quot;)` but I still get `false` on `isPresent()` and it&#39;s not in the list of shown processes.\r\n\r\nThough the last sentence might be a different problem. I&#39;ll do more digging.\r\n\r\n**Edit 3:**\r\n\r\nCombining `.commandLine()` and `.contains()` (instead of `.equals()`) solves the problem mentioned in &quot;Edit 2&quot;.\r\n\r\n    Optional&lt;ProcessHandle&gt; scriptProcessHandle = ProcessHandle.allProcesses().filter(processHandle -&gt; {\r\n        System.out.println(&quot;INFO COMMAND LINE: &quot; + processHandle.info().commandLine());\r\n        Optional&lt;String&gt; processOptional = processHandle.info().commandLine();\r\n        return processOptional.isPresent() &amp;&amp; processOptional.get().contains(&quot;/absolute/path/to/my_script.sh&quot;);\r\n    }).findFirst();\r\n    \r\n    System.out.println(&quot;Script process handle is present: &quot; + scriptProcessHandle.isPresent());\r\n    \r\n    if (scriptProcessHandle.isPresent()) {  // Returns true\r\n        // Do stuff\r\n    }\r\n\r\n`.commandLine()` also shows script arguments, so that must be kept in mind.\r\n\r\n  [1]: https://stackoverflow.com/questions/31366975/how-to-check-is-a-certain-process-is-running-java-on-linux\r\n  [2]: https://github.com/jezhumble/javasysmon\r\n  [3]: https://github.com/flatpak/flatpak/issues/3963","title":"Java/JavaFX ProcessHandle possibly not finding all processes (Linux/Debian)","body":"<p>I've a JavaFX application where I've a list of a bunch of script files. Once the application loads, it reads it and and checks which ones are running.</p>\n<p>To do that I use a <code>ProcessHandle</code>, as mentioned in various examples here on StackOverflow and other guides/tutorials on the internet.</p>\n<p>The problem is, it never finds any of them. There for I programmatically started one, which I know for a fact that it will be running, via <code>Process process = new ProcessBuilder(&quot;/path/to/file/my_script.sh&quot;).start();</code> - and it won't find this one either.</p>\n<p>Contents of <strong>my_script.sh</strong>:</p>\n<pre><code>#!/bin/bash\necho &quot;Wait for 5 seconds&quot;\nsleep 5\necho &quot;Completed&quot;\n</code></pre>\n<p>Java code:</p>\n<pre><code>// List of PIDs which correspond to the processes shown after &quot;INFO COMMAND:&quot;\nSystem.out.println(&quot;ALL PROCESSES: &quot; + ProcessHandle.allProcesses().toList());\n\nOptional&lt;ProcessHandle&gt; scriptProcessHandle = ProcessHandle.allProcesses().filter(processHandle -&gt; {\n    System.out.println(&quot;INFO COMMAND: &quot; + processHandle.info().command());\n    Optional&lt;String&gt; processOptional = processHandle.info().command();\n    return processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;my_script.sh&quot;);\n}).findFirst();\n\nSystem.out.println(&quot;Script process handle is present: &quot; + scriptProcessHandle.isPresent());\n\nif (scriptProcessHandle.isPresent()) {  // Always false\n    // Do stuff\n}\n</code></pre>\n<p>Thanks to the good old fashioned <code>System.out.println()</code>, I noticed that I get this in my output console every time:</p>\n<pre><code>ALL PROCESSES: [1, 2, 28, 85, 128, 6944, 21174, 29029, 29071]\nINFO COMMAND: Optional[/usr/bin/bwrap]\nINFO COMMAND: Optional[/usr/bin/bash]\nINFO COMMAND: Optional[/app/idea-IC/jbr/bin/java]\nINFO COMMAND: Optional[/app/idea-IC/bin/fsnotifier]\nINFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\nINFO COMMAND: Optional[/usr/bin/bash]\nINFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\nINFO COMMAND: Optional[/home/username/.jdks/openjdk-17.0.2/bin/java]\nINFO COMMAND: Optional[/usr/bin/bash]\nScript process handle is present: false\n</code></pre>\n<p>The first line in the Javadoc of <code>ProcessHandle.allProcess()</code> reads:</p>\n<blockquote>\n<p>Returns a snapshot of all processes visible to the current process.</p>\n</blockquote>\n<p>So how come I can't see the rest of the operating system's processes?</p>\n<p>I'm looking for a non-os-dependent solution, if possible. Why? For better portability and hopefully less maintenance in the future.</p>\n<p><em>Notes:</em></p>\n<ul>\n<li>A popular solution for GNU/Linux seems to be to <a href=\"https://stackoverflow.com/questions/31366975/how-to-check-is-a-certain-process-is-running-java-on-linux\">check the <code>proc</code> entries</a>, but I don't know if that would work for at least the majority of the most popular distributions - if it doesn't, adding support for them in a different way, would create more testing and maintenance workload.</li>\n<li>I'm aware of <code>ps</code>, <code>windir</code>, <code>tasklist.exe</code> possible solutions (worst comes to worst).</li>\n<li>I found the <a href=\"https://github.com/jezhumble/javasysmon\" rel=\"nofollow noreferrer\">JavaSysMon</a> library but it seems dead and unfortunately:</li>\n</ul>\n<blockquote>\n<ul>\n<li>CPU speed on Linux only reports correct values for Intel CPUs</li>\n</ul>\n</blockquote>\n<p><strong>Edit 1:</strong></p>\n<p>I'm on Pop_OS! and installed IntelliJ via the PopShop as <strong>flatpak</strong>.</p>\n<p>In order to start it as <code>root</code> as suggested by <strong>mr mcwolf</strong>, I went to <code>/home/username/.local/share/flatpak/app/com.jetbrains.IntelliJ-IDEA-Community/x86_64/stable/active/export/bin</code> and found <code>com.jetbrains.IntelliJ-IDEA-Community</code> file.</p>\n<p>When I run <code>sudo ./com.jetbrains.IntelliJ-IDEA-Community</code> or <code>sudo /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community</code> in my terminal, I get <code>error: app/com.jetbrains.IntelliJ-IDEA-Community/x86_64/stable not installed</code></p>\n<p>So I opened the file and ran its contents:</p>\n<p><code>exec /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community &quot;$@&quot;</code></p>\n<p>This opens IntelliJ, but not as <code>root</code>, so instead I ran:</p>\n<p><code>exec sudo /usr/bin/flatpak run --branch=stable --arch=x86_64 com.jetbrains.IntelliJ-IDEA-Community &quot;$@&quot;</code></p>\n<p>Which prompts for a password and when I write it in, <strong>the terminal crashes</strong>.</p>\n<p><strong>Edit 1.1:</strong></p>\n<p>(╯°□°）╯︵ ┻━┻ <a href=\"https://github.com/flatpak/flatpak/issues/3963\" rel=\"nofollow noreferrer\">&quot;flatpak run&quot; is not intended to be ran with sudo</a></p>\n<p><strong>Edit 2:</strong></p>\n<p>As <strong>mr mcwolf</strong> said, I downloaded the IntelliJ from the official website, extracted it and ran the <code>idea.sh</code> as <code>root</code>.</p>\n<p>Now a lot more processes are shown. 1/3 of them show up as <code>INFO COMMAND: Optional.empty</code>.</p>\n<p><code>scriptProcessHandle.isPresent()</code> is still unfortunately returning <code>false</code>. I searched through them and <code>my_script.sh</code> is nowhere to be found. I also tried <code>processOptional.isPresent() &amp;&amp; processOptional.get().equals(&quot;/absolute/path/to/my_script.sh&quot;)</code> but I still get <code>false</code> on <code>isPresent()</code> and it's not in the list of shown processes.</p>\n<p>Though the last sentence might be a different problem. I'll do more digging.</p>\n<p><strong>Edit 3:</strong></p>\n<p>Combining <code>.commandLine()</code> and <code>.contains()</code> (instead of <code>.equals()</code>) solves the problem mentioned in &quot;Edit 2&quot;.</p>\n<pre><code>Optional&lt;ProcessHandle&gt; scriptProcessHandle = ProcessHandle.allProcesses().filter(processHandle -&gt; {\n    System.out.println(&quot;INFO COMMAND LINE: &quot; + processHandle.info().commandLine());\n    Optional&lt;String&gt; processOptional = processHandle.info().commandLine();\n    return processOptional.isPresent() &amp;&amp; processOptional.get().contains(&quot;/absolute/path/to/my_script.sh&quot;);\n}).findFirst();\n\nSystem.out.println(&quot;Script process handle is present: &quot; + scriptProcessHandle.isPresent());\n\nif (scriptProcessHandle.isPresent()) {  // Returns true\n    // Do stuff\n}\n</code></pre>\n<p><code>.commandLine()</code> also shows script arguments, so that must be kept in mind.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1450026565,"post_id":34253779,"comment_id":56249226,"body_markdown":"If you&#39;re running tomcat from Eclipse, then check in the *Servers* view (in the bottom dock) if it&#39;s running.","body":"If you&#39;re running tomcat from Eclipse, then check in the <i>Servers</i> view (in the bottom dock) if it&#39;s running."},{"owner":{"account_id":17155135,"reputation":11,"user_id":12416209,"display_name":"AryehSa"},"score":0,"creation_date":1610015322,"post_id":34253779,"comment_id":116004625,"body_markdown":"Run the cmd as administrator for above answers.","body":"Run the cmd as administrator for above answers."}],"answers":[{"tags":[],"owner":{"account_id":2852137,"reputation":716,"user_id":2449109,"accept_rate":78,"display_name":"a-1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579201563,"creation_date":1450026575,"answer_id":34253824,"question_id":34253779,"body_markdown":"Open CMD or Powershell in Administrator mode, then run...\r\n\r\n    netstat -ab\r\n\r\nThe output should be able to point you in the direction of which process is holding port 8080. Entry may likely be `127.0.0.1:8080` You may still have a running instance of Tomcat at port `8080`.\r\n\r\nYou can either use `Stop-Process` in *PowerShell* or `taskKill` in *CMD* to stop that process and should be able to execute the program at that point. \r\n","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>Open CMD or Powershell in Administrator mode, then run...</p>\n\n<pre><code>netstat -ab\n</code></pre>\n\n<p>The output should be able to point you in the direction of which process is holding port 8080. Entry may likely be <code>127.0.0.1:8080</code> You may still have a running instance of Tomcat at port <code>8080</code>.</p>\n\n<p>You can either use <code>Stop-Process</code> in <em>PowerShell</em> or <code>taskKill</code> in <em>CMD</em> to stop that process and should be able to execute the program at that point. </p>\n"},{"tags":[],"owner":{"account_id":1729304,"reputation":942,"user_id":1583257,"accept_rate":65,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450026645,"creation_date":1450026645,"answer_id":34253839,"question_id":34253779,"body_markdown":"you can stop using the shutdown.bat inside tomcat installation directory. Or you may click &quot;stop&quot; button at the servers view of eclipse. To get to the view select Window - Show View - Servers","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>you can stop using the shutdown.bat inside tomcat installation directory. Or you may click \"stop\" button at the servers view of eclipse. To get to the view select Window - Show View - Servers</p>\n"},{"tags":[],"owner":{"account_id":7033424,"reputation":1459,"user_id":5388370,"accept_rate":80,"display_name":"Gayathri Ravi"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1523119419,"creation_date":1450066766,"answer_id":34259707,"question_id":34253779,"body_markdown":"All I had to do was to **change the `port numbers`**. \r\n[![enter image description here][1]][1]\r\n\r\n1. Open `Eclipse`\r\n\r\n2. Go to `Servers panel`\r\n\r\n3. Right click on Tomcat Server select `Open`, `Overview window` will appear.\r\n\r\n4. Open the `Ports`tab. You will get the following:\r\n\r\n - `Tomcat adminport`\r\n   \r\n - `HTTP/1.1`\r\n   \r\n - `AJP/1.3`\r\n\r\n5. I changed the port number of `HTTP/1.1` (i.e. to `8081`)\r\n\r\n6. You might have to also change the port of `Tomcat adminport` (i.e. to `8006`) and of `AJP/1.3` (i.e. to `8010`).\r\n\r\n7. Access your app in the browser at `http://localhost:8081/...`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fH00f.jpg","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>All I had to do was to <strong>change the <code>port numbers</code></strong>. \n<a href=\"https://i.stack.imgur.com/fH00f.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fH00f.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li><p>Open <code>Eclipse</code></p></li>\n<li><p>Go to <code>Servers panel</code></p></li>\n<li><p>Right click on Tomcat Server select <code>Open</code>, <code>Overview window</code> will appear.</p></li>\n<li><p>Open the <code>Ports</code>tab. You will get the following:</p>\n\n<ul>\n<li><p><code>Tomcat adminport</code></p></li>\n<li><p><code>HTTP/1.1</code></p></li>\n<li><p><code>AJP/1.3</code></p></li>\n</ul></li>\n<li><p>I changed the port number of <code>HTTP/1.1</code> (i.e. to <code>8081</code>)</p></li>\n<li><p>You might have to also change the port of <code>Tomcat adminport</code> (i.e. to <code>8006</code>) and of <code>AJP/1.3</code> (i.e. to <code>8010</code>).</p></li>\n<li><p>Access your app in the browser at <code>http://localhost:8081/...</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5983888,"reputation":814,"user_id":4701940,"accept_rate":56,"display_name":"Arun Gunalan"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1450098636,"creation_date":1450098636,"answer_id":34267935,"question_id":34253779,"body_markdown":"If you want to regain the 8080 port number you do so by opening the task manager and then process tab, right click java.exe process and click on end process as shown in image attached.\r\n\r\n[![screen shot][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ehb6o.png","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>If you want to regain the 8080 port number you do so by opening the task manager and then process tab, right click java.exe process and click on end process as shown in image attached.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ehb6o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ehb6o.png\" alt=\"screen shot\"></a></p>\n"},{"tags":[],"owner":{"account_id":2836916,"reputation":21,"user_id":2437346,"display_name":"tak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466786101,"creation_date":1466786101,"answer_id":38018215,"question_id":34253779,"body_markdown":"For Ubuntu users with the same problem (e.g. Eclipse crash during debug) do a netstat -a -p | grep 8095 (or any other port number if the Tomcat server), then kill -9 that process. ","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>For Ubuntu users with the same problem (e.g. Eclipse crash during debug) do a netstat -a -p | grep 8095 (or any other port number if the Tomcat server), then kill -9 that process. </p>\n"},{"tags":[],"owner":{"account_id":8904410,"reputation":297,"user_id":6646796,"display_name":"Shrijit Basak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475953817,"creation_date":1475953817,"answer_id":39936322,"question_id":34253779,"body_markdown":"You&#39;ve another instance of Tomcat already running. You can confirm this by going to http://localhost:8080 in your webbrowser and check if you get the Tomcat default home page or a Tomcat-specific 404 error page. Both are equally valid evidence that Tomcat runs fine; if it didn&#39;t, then you would have gotten a browser specific HTTP connection timeout error message.\r\n\r\nYou need to shutdown it. Go to /bin subfolder of the Tomcat installation folder and execute the shutdown.bat (Windows) or shutdown.sh (Unix) script.\r\n\r\nfor more help please chech this &lt;a href=&quot;https://stackoverflow.com/a/5065874/6646796&quot;&gt;answer&lt;/a&gt;.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>You've another instance of Tomcat already running. You can confirm this by going to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a> in your webbrowser and check if you get the Tomcat default home page or a Tomcat-specific 404 error page. Both are equally valid evidence that Tomcat runs fine; if it didn't, then you would have gotten a browser specific HTTP connection timeout error message.</p>\n\n<p>You need to shutdown it. Go to /bin subfolder of the Tomcat installation folder and execute the shutdown.bat (Windows) or shutdown.sh (Unix) script.</p>\n\n<p>for more help please chech this <a href=\"https://stackoverflow.com/a/5065874/6646796\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":5175524,"reputation":616,"user_id":4142806,"accept_rate":71,"display_name":"Naved Ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476046458,"creation_date":1476046458,"answer_id":39948429,"question_id":34253779,"body_markdown":"To get rid of this error just click on server tab on eclipse . You will get list of servers as below image (In my case it was tomcat 8 only)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDouble click on the respective server. You will get screen as shown below :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow change Conflicting port number. In my case I changed 8080 to 8081 (highlighted portion). Save it (ctrl+s) and hence you can start your server now.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WYDpT.png\r\n  [2]: http://i.stack.imgur.com/87M6a.png","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>To get rid of this error just click on server tab on eclipse . You will get list of servers as below image (In my case it was tomcat 8 only)</p>\n\n<p><a href=\"https://i.stack.imgur.com/WYDpT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYDpT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Double click on the respective server. You will get screen as shown below :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/87M6a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87M6a.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now change Conflicting port number. In my case I changed 8080 to 8081 (highlighted portion). Save it (ctrl+s) and hence you can start your server now.</p>\n"},{"tags":[],"owner":{"account_id":2481541,"reputation":1940,"user_id":2160917,"accept_rate":5,"display_name":"bosari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484025991,"creation_date":1484025991,"answer_id":41561704,"question_id":34253779,"body_markdown":"I would suggest to end `java.exe` or `javaw.exe` process from task manager and try again. This will not end the entire eclipse application but will free the port.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>I would suggest to end <code>java.exe</code> or <code>javaw.exe</code> process from task manager and try again. This will not end the entire eclipse application but will free the port.</p>\n"},{"tags":[],"owner":{"account_id":7886073,"reputation":901,"user_id":6186283,"accept_rate":40,"display_name":"Sanket Patel"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1487794689,"creation_date":1487794689,"answer_id":42401434,"question_id":34253779,"body_markdown":"    netstat -ano | findstr 8080\r\n    taskkill /pid 21424 /F\r\nexecute the above command in command prompt\r\nfirst command will find the pid of the processes which are using port 8080 or any other port you are using. And in second command write the pid of instead of 21424.","title":"Tomcat Server Error - Port 8080 already in use","body":"<pre><code>netstat -ano | findstr 8080\ntaskkill /pid 21424 /F\n</code></pre>\n\n<p>execute the above command in command prompt\nfirst command will find the pid of the processes which are using port 8080 or any other port you are using. And in second command write the pid of instead of 21424.</p>\n"},{"tags":[],"owner":{"account_id":10648415,"reputation":1503,"user_id":7840265,"display_name":"Siddhartha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492969499,"creation_date":1492969499,"answer_id":43574477,"question_id":34253779,"body_markdown":"Open below application\r\n\r\nC:\\Users\\%username%\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Apache Tomcat 8.5 Tomcat8\r\n\r\nright click on Apache tomcat in system tray and click on stop services\r\n\r\nRun your application from eclipse.\r\n\r\nhttp://siddartech.com/apache/apachi-tomcat-server-already-in-use/\r\n","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>Open below application</p>\n\n<p>C:\\Users\\%username%\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Apache Tomcat 8.5 Tomcat8</p>\n\n<p>right click on Apache tomcat in system tray and click on stop services</p>\n\n<p>Run your application from eclipse.</p>\n\n<p><a href=\"http://siddartech.com/apache/apachi-tomcat-server-already-in-use/\" rel=\"nofollow noreferrer\">http://siddartech.com/apache/apachi-tomcat-server-already-in-use/</a></p>\n"},{"tags":[],"owner":{"account_id":5405681,"reputation":1,"user_id":4304297,"display_name":"bisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503030102,"creation_date":1503029414,"answer_id":45748417,"question_id":34253779,"body_markdown":"You can stop the running tomcat server by doing the following steps:\r\n\r\nStep 1: go to your tomcat installation path (/bin) in your Windows system \r\n\r\nStep 2: open cmd for that bin directory (you can easily do this by typing &quot;cmd&quot; at that directory )\r\n\r\nStep 3: Run &quot;Tomcat7.exe stop&quot;\r\n\r\nThis will stop all running instances of tomcat server and now you can start server from your eclipse IDE.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>You can stop the running tomcat server by doing the following steps:</p>\n\n<p>Step 1: go to your tomcat installation path (/bin) in your Windows system </p>\n\n<p>Step 2: open cmd for that bin directory (you can easily do this by typing \"cmd\" at that directory )</p>\n\n<p>Step 3: Run \"Tomcat7.exe stop\"</p>\n\n<p>This will stop all running instances of tomcat server and now you can start server from your eclipse IDE.</p>\n"},{"tags":[],"owner":{"account_id":11573641,"reputation":1,"user_id":8479684,"display_name":"Anjaliram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503068857,"creation_date":1503068857,"answer_id":45759836,"question_id":34253779,"body_markdown":"The Way I solved this problem is , Install TCPview go to TCP view and check what ports is Tomcat utilizing there will be few other ports other than 8005,8009,8080 now go to Servers tab in eclipse double click on Tomcatv9.0 server and change port numbers there. This will solve the problem.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>The Way I solved this problem is , Install TCPview go to TCP view and check what ports is Tomcat utilizing there will be few other ports other than 8005,8009,8080 now go to Servers tab in eclipse double click on Tomcatv9.0 server and change port numbers there. This will solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":2749926,"reputation":2978,"user_id":2369551,"display_name":"Tarun Kumar"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1516610137,"creation_date":1511780324,"answer_id":47509311,"question_id":34253779,"body_markdown":"**For Ubuntu/Linux**\r\n\r\nStep 1: Find the process id that is using the port 8080\r\n\r\n    netstat -lnp | grep 8080\r\n    or\r\n    ps -aef | grep tomcat\r\n\r\nStep 2: Kill the process using process id in above result\r\n\r\n    kill -9 process_id\r\n\r\n**For Windows**\r\n\r\nStep 1: Find the process id\r\n\r\n    netstat -ano | findstr 8080\r\n\r\nStep 2: Open command prompt as administrator and kill the process\r\n\r\n    taskkill /F /pid 1088\r\n\r\nIn my case port 8005 was already in use so I used the same above steps.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XiEWI.png","title":"Tomcat Server Error - Port 8080 already in use","body":"<p><strong>For Ubuntu/Linux</strong></p>\n\n<p>Step 1: Find the process id that is using the port 8080</p>\n\n<pre><code>netstat -lnp | grep 8080\nor\nps -aef | grep tomcat\n</code></pre>\n\n<p>Step 2: Kill the process using process id in above result</p>\n\n<pre><code>kill -9 process_id\n</code></pre>\n\n<p><strong>For Windows</strong></p>\n\n<p>Step 1: Find the process id</p>\n\n<pre><code>netstat -ano | findstr 8080\n</code></pre>\n\n<p>Step 2: Open command prompt as administrator and kill the process</p>\n\n<pre><code>taskkill /F /pid 1088\n</code></pre>\n\n<p>In my case port 8005 was already in use so I used the same above steps.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XiEWI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XiEWI.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13192890,"reputation":791,"user_id":9528696,"display_name":"Ashwini"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521698411,"creation_date":1521654818,"answer_id":49413455,"question_id":34253779,"body_markdown":"You can solve this in two steps:\r\n\r\nSTEP 1: Open the Command prompt and type **netstat -a -o -f** and press enter\r\n(the above command will show all the processes running on your machine)\r\nhttps://i.stack.imgur.com/m66JN.png\r\n\r\nSTEP 2: Type **TASKILL /F /PID 4036**\r\n(where F stands for force and PID stands for parent Id and 4036 stands for process id of 8080, here I am using some random number)\r\nhttps://i.stack.imgur.com/Co5Tg.png\r\n\r\nFew times when you are trying to kill process it will throw an exception telling that access is denied as shown in the above screenshot, at that point of time you are supposed to open command prompt as run as administrator \r\nhttps://i.stack.imgur.com/JwZTv.png\r\n\r\nThen come back to eclipse clean the project and then try to run the project","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>You can solve this in two steps:</p>\n\n<p>STEP 1: Open the Command prompt and type <strong>netstat -a -o -f</strong> and press enter\n(the above command will show all the processes running on your machine)\n<a href=\"https://i.stack.imgur.com/m66JN.png\" rel=\"noreferrer\">https://i.stack.imgur.com/m66JN.png</a></p>\n\n<p>STEP 2: Type <strong>TASKILL /F /PID 4036</strong>\n(where F stands for force and PID stands for parent Id and 4036 stands for process id of 8080, here I am using some random number)\n<a href=\"https://i.stack.imgur.com/Co5Tg.png\" rel=\"noreferrer\">https://i.stack.imgur.com/Co5Tg.png</a></p>\n\n<p>Few times when you are trying to kill process it will throw an exception telling that access is denied as shown in the above screenshot, at that point of time you are supposed to open command prompt as run as administrator \n<a href=\"https://i.stack.imgur.com/JwZTv.png\" rel=\"noreferrer\">https://i.stack.imgur.com/JwZTv.png</a></p>\n\n<p>Then come back to eclipse clean the project and then try to run the project</p>\n"},{"tags":[],"owner":{"account_id":5827135,"reputation":8117,"user_id":4593057,"display_name":"Vignesh Raja"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1529668793,"creation_date":1529668793,"answer_id":50987467,"question_id":34253779,"body_markdown":"In case of MAC users, go to Terminal and do the following\r\n\r\n    lsof -i :8080 //returns the PID (process id) that runs on port 8080\r\n    kill 1234 //kill the process using PID (used dummy PID here)\r\n    lsof -i :8443\r\n    kill 4321\r\n\r\n8080 is HTTP port and 8443 is HTTPS port, by default.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>In case of MAC users, go to Terminal and do the following</p>\n\n<pre><code>lsof -i :8080 //returns the PID (process id) that runs on port 8080\nkill 1234 //kill the process using PID (used dummy PID here)\nlsof -i :8443\nkill 4321\n</code></pre>\n\n<p>8080 is HTTP port and 8443 is HTTPS port, by default.</p>\n"},{"tags":[],"owner":{"account_id":9958866,"reputation":21,"user_id":7368820,"display_name":"Saurav Prakash Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533578400,"creation_date":1533578400,"answer_id":51713256,"question_id":34253779,"body_markdown":"The thing here is - You have already another tomcat running on port 8080, you need to shut it down. You can do it in several ways. let me tell you 2 simplest ways\r\n\r\n1. Either go to the location where tomcat is installed, go to din directory and execute the shutdown.bat or shutdown.sh\r\n\r\nOR\r\n\r\n2. if you are in windows, go to bottom right notification panel of your screen, click on up arrow to see more running services, you will find tomcat here. right click on it and select shutdown... that it.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>The thing here is - You have already another tomcat running on port 8080, you need to shut it down. You can do it in several ways. let me tell you 2 simplest ways</p>\n\n<ol>\n<li>Either go to the location where tomcat is installed, go to din directory and execute the shutdown.bat or shutdown.sh</li>\n</ol>\n\n<p>OR</p>\n\n<ol start=\"2\">\n<li>if you are in windows, go to bottom right notification panel of your screen, click on up arrow to see more running services, you will find tomcat here. right click on it and select shutdown... that it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555899973,"creation_date":1555899973,"answer_id":55788465,"question_id":34253779,"body_markdown":"Since it is easy to tackle with **Command Prompt**.\r\nOpen the CMD and type following.\r\n\r\n    netstat -aon | find &quot;8080&quot;\r\n\r\nIf a process uses above port, it should return something output like this.\r\n\r\n    TCP    xxx.xx.xx.xx:8080      xx.xx.xx.xxx:443      ESTABLISHED     2222\r\n\r\nThe last column value (2222) is referred to the Process ID (**PID**).\r\n\r\nJust **KILL** it as follows.\r\n\r\n    taskkill /F /PID 2222\r\n\r\nNow you can start your server. ","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>Since it is easy to tackle with <strong>Command Prompt</strong>.\nOpen the CMD and type following.</p>\n\n<pre><code>netstat -aon | find \"8080\"\n</code></pre>\n\n<p>If a process uses above port, it should return something output like this.</p>\n\n<pre><code>TCP    xxx.xx.xx.xx:8080      xx.xx.xx.xxx:443      ESTABLISHED     2222\n</code></pre>\n\n<p>The last column value (2222) is referred to the Process ID (<strong>PID</strong>).</p>\n\n<p>Just <strong>KILL</strong> it as follows.</p>\n\n<pre><code>taskkill /F /PID 2222\n</code></pre>\n\n<p>Now you can start your server. </p>\n"},{"tags":[],"owner":{"account_id":18823098,"reputation":189,"user_id":13728648,"display_name":"RvSingh3213"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593670016,"creation_date":1593670016,"answer_id":62689996,"question_id":34253779,"body_markdown":"**I have encountered this issue many times.**\r\nIf port 8080 is already in use that means there is any Process **( or it child process)** which is using this port\r\n\r\n**Two Way to Solve this issue:**\r\n\r\n1. Change the Port number and this issue will be solved \r\n[![enter image description here][1]][1]\r\n\r\n2. We will find the PID i.e Process Id and then we will kill the process of child process which is using this Port. \r\n\r\nFind PID:Process ID (every process has unique PID)\r\nc:user&gt;user_name&gt;netstat -o -n -a | findstr 0.0.8080\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow we need to kill this process\r\n\r\ncmd -&gt;Run as Admin\r\n\r\nC:\\Windows\\system32&gt;taskkill /F /T /PID 2160\r\n\r\n&quot;taskkill /F /T /PID 2160&quot;   -&gt; &quot;2160&quot; is the process ID\r\nNow your server can use this port 8080\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQW2i.png\r\n  [2]: https://i.stack.imgur.com/W2qfI.png\r\n  [3]: https://i.stack.imgur.com/SMi7W.png","title":"Tomcat Server Error - Port 8080 already in use","body":"<p><strong>I have encountered this issue many times.</strong>\nIf port 8080 is already in use that means there is any Process <strong>( or it child process)</strong> which is using this port</p>\n<p><strong>Two Way to Solve this issue:</strong></p>\n<ol>\n<li><p>Change the Port number and this issue will be solved\n<a href=\"https://i.stack.imgur.com/WQW2i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQW2i.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>We will find the PID i.e Process Id and then we will kill the process of child process which is using this Port.</p>\n</li>\n</ol>\n<p>Find PID:Process ID (every process has unique PID)\nc:user&gt;user_name&gt;netstat -o -n -a | findstr 0.0.8080</p>\n<p><a href=\"https://i.stack.imgur.com/W2qfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2qfI.png\" alt=\"enter image description here\" /></a></p>\n<p>Now we need to kill this process</p>\n<p>cmd -&gt;Run as Admin</p>\n<p>C:\\Windows\\system32&gt;taskkill /F /T /PID 2160</p>\n<p>&quot;taskkill /F /T /PID 2160&quot;   -&gt; &quot;2160&quot; is the process ID\nNow your server can use this port 8080</p>\n<p><a href=\"https://i.stack.imgur.com/SMi7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMi7W.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17189152,"reputation":317,"user_id":12443202,"display_name":"pavankumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1596788683,"creation_date":1596788683,"answer_id":63298048,"question_id":34253779,"body_markdown":"Solution\r\n\r\nYou can use the troubleshooting tips below.\r\n\r\nTroubleshooting Tip #1\r\n\r\n1. Exit Eclipse\r\n\r\n2. Open a web browser and visit, http://localhost:8080\r\n\r\n3. If you see a &quot;Tomcat&quot; web page then that means Tomcat is running as a Windows service. To stop Tomcat running as a Windows services, open your Windows Control Panel. Find the service &quot;Apache Tomcat&quot; and stop it.\r\n\r\n4. If you don&#39;t see a &quot;Tomcat&quot; web page, then stop the appropriate process displayed.\r\n\r\n\r\n\r\n--\r\nTroubleshooting Tip #2 - GUI Option\r\n\r\nSteps to free port which is already used to run Tomcat server in Eclipse\r\n\r\n1. On MS Windows, select Start &gt; All Programs  &gt; Accessories &gt; System Tools &gt;Resource Monitor\r\n\r\n2. Expand the Network Tab\r\n\r\n3. Move to the section for Listening Ports\r\n\r\n4. Look in the Port column and scroll to find entry for port 8080\r\n\r\n5. Select the given process and delete/kill the process\r\n\r\n6. Return back to Eclipse and start the Tomcat Server, it should start up now.\r\n\r\n\r\n\r\n---\r\n\r\nTroubleshooting Tip #3 - Command-Line Option\r\n\r\nSteps to free port which is already used to run Tomcat server in Eclipse\r\n\r\nFor example , suppose 8080 port is used , we need to make free 8080 to run tomcat\r\n\r\n\r\n\r\nStep 1: (open the CMD command)\r\n\r\nC:\\Users\\username&gt;netstat -o -n -a | findstr 0.0:8080\r\n\r\nTCP    0.0.0.0:3000      0.0.0.0:0              LISTENING       3116\r\n\r\nNow , we can see that LISTENING port is 3116 for 8080 ,\r\n\r\nWe need to kill 3116 now\r\n\r\n\r\n\r\nStep 2:\r\n\r\nC:\\Users\\username&gt;taskkill /F /PID 3116\r\n\r\n\r\n\r\nStep 3:  Return back to Eclipse and start the Tomcat Server, it should start up now.\r\n\r\n\r\n\r\n====\r\n\r\nMac/Linux SOLUTION\r\n\r\nStep 0: Exit Eclipse\r\n\r\nStep 1: Open a terminal window\r\n\r\n\r\n\r\nStep 2: Enter the following command to find the process id\r\n\r\nlsof -i :8080\r\nThis will give output of the application that is running on port 8080\r\n\r\n\r\n\r\nStep 3: Enter the following command to kill the process\r\n\r\nkill $(lsof -t -i :8080) \r\n\r\n\r\nStep 4:  Return back to Eclipse and start the Tomcat Server, it should start up now.","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>Solution</p>\n<p>You can use the troubleshooting tips below.</p>\n<p>Troubleshooting Tip #1</p>\n<ol>\n<li><p>Exit Eclipse</p>\n</li>\n<li><p>Open a web browser and visit, http://localhost:8080</p>\n</li>\n<li><p>If you see a &quot;Tomcat&quot; web page then that means Tomcat is running as a Windows service. To stop Tomcat running as a Windows services, open your Windows Control Panel. Find the service &quot;Apache Tomcat&quot; and stop it.</p>\n</li>\n<li><p>If you don't see a &quot;Tomcat&quot; web page, then stop the appropriate process displayed.</p>\n</li>\n</ol>\n<p>--\nTroubleshooting Tip #2 - GUI Option</p>\n<p>Steps to free port which is already used to run Tomcat server in Eclipse</p>\n<ol>\n<li><p>On MS Windows, select Start &gt; All Programs  &gt; Accessories &gt; System Tools &gt;Resource Monitor</p>\n</li>\n<li><p>Expand the Network Tab</p>\n</li>\n<li><p>Move to the section for Listening Ports</p>\n</li>\n<li><p>Look in the Port column and scroll to find entry for port 8080</p>\n</li>\n<li><p>Select the given process and delete/kill the process</p>\n</li>\n<li><p>Return back to Eclipse and start the Tomcat Server, it should start up now.</p>\n</li>\n</ol>\n<hr />\n<p>Troubleshooting Tip #3 - Command-Line Option</p>\n<p>Steps to free port which is already used to run Tomcat server in Eclipse</p>\n<p>For example , suppose 8080 port is used , we need to make free 8080 to run tomcat</p>\n<p>Step 1: (open the CMD command)</p>\n<p>C:\\Users\\username&gt;netstat -o -n -a | findstr 0.0:8080</p>\n<p>TCP    0.0.0.0:3000      0.0.0.0:0              LISTENING       3116</p>\n<p>Now , we can see that LISTENING port is 3116 for 8080 ,</p>\n<p>We need to kill 3116 now</p>\n<p>Step 2:</p>\n<p>C:\\Users\\username&gt;taskkill /F /PID 3116</p>\n<p>Step 3:  Return back to Eclipse and start the Tomcat Server, it should start up now.</p>\n<p>====</p>\n<p>Mac/Linux SOLUTION</p>\n<p>Step 0: Exit Eclipse</p>\n<p>Step 1: Open a terminal window</p>\n<p>Step 2: Enter the following command to find the process id</p>\n<p>lsof -i :8080\nThis will give output of the application that is running on port 8080</p>\n<p>Step 3: Enter the following command to kill the process</p>\n<p>kill $(lsof -t -i :8080)</p>\n<p>Step 4:  Return back to Eclipse and start the Tomcat Server, it should start up now.</p>\n"},{"tags":[],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655026850,"creation_date":1655026850,"answer_id":72591023,"question_id":34253779,"body_markdown":"MAC users try this command in your terminal. \r\n\r\nIt will kill 8080 process, after apply this command you can able to run application.\r\n\r\n      sudo kill -9 `sudo lsof -t -i:8080`\r\n","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>MAC users try this command in your terminal.</p>\n<p>It will kill 8080 process, after apply this command you can able to run application.</p>\n<pre><code>  sudo kill -9 `sudo lsof -t -i:8080`\n</code></pre>\n"}],"owner":{"account_id":7033424,"reputation":1459,"user_id":5388370,"accept_rate":80,"display_name":"Gayathri Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537174,"favorite_count":0,"down_vote_count":1,"up_vote_count":68,"accepted_answer_id":34259707,"answer_count":20,"score":67,"last_activity_date":1655026850,"creation_date":1450026232,"question_id":34253779,"body_markdown":"I received the following error while attempting to execute a Servlet program in Eclipse Mars EE. \r\n\r\n&gt; &#39;Starting Tomcat v8.0 Sever at localhost&#39; has encountered a problem.\r\n&gt; \r\n&gt; Port 8080 required by Tomcat v8.0 Server at localhost is already in\r\n&gt; use. There may already be running in another process, or a system\r\n&gt; process may be using the port. To start this server you will need to\r\n&gt; stop the other process or change the port number(s).\r\n\r\nWhat should I do to stop the process? I&#39;m assuming that Tomcat 7 server must be stopped. How shall I do it if my operating system is Windows 8?\r\n\r\nError Screenshot:\r\n\r\n[![error screen shot][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/u5Z87.jpg","title":"Tomcat Server Error - Port 8080 already in use","body":"<p>I received the following error while attempting to execute a Servlet program in Eclipse Mars EE. </p>\n\n<blockquote>\n  <p>'Starting Tomcat v8.0 Sever at localhost' has encountered a problem.</p>\n  \n  <p>Port 8080 required by Tomcat v8.0 Server at localhost is already in\n  use. There may already be running in another process, or a system\n  process may be using the port. To start this server you will need to\n  stop the other process or change the port number(s).</p>\n</blockquote>\n\n<p>What should I do to stop the process? I'm assuming that Tomcat 7 server must be stopped. How shall I do it if my operating system is Windows 8?</p>\n\n<p>Error Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/u5Z87.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u5Z87.jpg\" alt=\"error screen shot\"></a></p>\n"},{"tags":["python","java","scala","apache-spark","databricks"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655026620,"creation_date":1654960568,"answer_id":72585524,"question_id":72585132,"body_markdown":"Spark code is actually Scala code running on JVM even though you can use it from Python and is available on GitHub: https://github.com/apache/spark\r\n\r\nI believe the code you are looking for is visible at https://github.com/apache/spark/blob/b6aea1a8d99b3d99e91f7f195b23169d3d61b6a7/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L971\r\n\r\n```scala\r\ndef truncTimestamp(micros: Long, level: Int, zoneId: ZoneId): Long = {\r\n    // Time zone offsets have a maximum precision of seconds (see `java.time.ZoneOffset`). Hence\r\n    // truncation to microsecond, millisecond, and second can be done\r\n    // without using time zone information. This results in a performance improvement.\r\n    level match {\r\n      case TRUNC_TO_MICROSECOND =&gt; micros\r\n      case TRUNC_TO_MILLISECOND =&gt;\r\n        micros - Math.floorMod(micros, MICROS_PER_MILLIS)\r\n      case TRUNC_TO_SECOND =&gt;\r\n        micros - Math.floorMod(micros, MICROS_PER_SECOND)\r\n      case TRUNC_TO_MINUTE =&gt; truncToUnit(micros, zoneId, ChronoUnit.MINUTES)\r\n      case TRUNC_TO_HOUR =&gt; truncToUnit(micros, zoneId, ChronoUnit.HOURS)\r\n      case TRUNC_TO_DAY =&gt; truncToUnit(micros, zoneId, ChronoUnit.DAYS)\r\n      case _ =&gt; // Try to truncate date levels\r\n        val dDays = microsToDays(micros, zoneId)\r\n        daysToMicros(truncDate(dDays, level), zoneId)\r\n    }\r\n  }\r\n```","title":"how does databricks &#39;date_trunc&#39; function run in the back end?","body":"<p>Spark code is actually Scala code running on JVM even though you can use it from Python and is available on GitHub: <a href=\"https://github.com/apache/spark\" rel=\"nofollow noreferrer\">https://github.com/apache/spark</a></p>\n<p>I believe the code you are looking for is visible at <a href=\"https://github.com/apache/spark/blob/b6aea1a8d99b3d99e91f7f195b23169d3d61b6a7/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L971\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/blob/b6aea1a8d99b3d99e91f7f195b23169d3d61b6a7/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/DateTimeUtils.scala#L971</a></p>\n<pre class=\"lang-scala prettyprint-override\"><code>def truncTimestamp(micros: Long, level: Int, zoneId: ZoneId): Long = {\n    // Time zone offsets have a maximum precision of seconds (see `java.time.ZoneOffset`). Hence\n    // truncation to microsecond, millisecond, and second can be done\n    // without using time zone information. This results in a performance improvement.\n    level match {\n      case TRUNC_TO_MICROSECOND =&gt; micros\n      case TRUNC_TO_MILLISECOND =&gt;\n        micros - Math.floorMod(micros, MICROS_PER_MILLIS)\n      case TRUNC_TO_SECOND =&gt;\n        micros - Math.floorMod(micros, MICROS_PER_SECOND)\n      case TRUNC_TO_MINUTE =&gt; truncToUnit(micros, zoneId, ChronoUnit.MINUTES)\n      case TRUNC_TO_HOUR =&gt; truncToUnit(micros, zoneId, ChronoUnit.HOURS)\n      case TRUNC_TO_DAY =&gt; truncToUnit(micros, zoneId, ChronoUnit.DAYS)\n      case _ =&gt; // Try to truncate date levels\n        val dDays = microsToDays(micros, zoneId)\n        daysToMicros(truncDate(dDays, level), zoneId)\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":16687661,"reputation":177,"user_id":12061072,"display_name":"memo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72585524,"answer_count":1,"score":1,"last_activity_date":1655026620,"creation_date":1654957219,"question_id":72585132,"body_markdown":"I was hoping to see the source code for `date_trunc` function in Databricks. The [pyspark source code](https://spark.apache.org/docs/latest/api/python/_modules/pyspark/sql/functions.html#date_trunc) does not answer my question. basically I want to know what is happening at the very core; e.g. does it run a `regexp` pattern/method or does it have its own algorithm?\r\n\r\nCan anyone help? Thank you!","title":"how does databricks &#39;date_trunc&#39; function run in the back end?","body":"<p>I was hoping to see the source code for <code>date_trunc</code> function in Databricks. The <a href=\"https://spark.apache.org/docs/latest/api/python/_modules/pyspark/sql/functions.html#date_trunc\" rel=\"nofollow noreferrer\">pyspark source code</a> does not answer my question. basically I want to know what is happening at the very core; e.g. does it run a <code>regexp</code> pattern/method or does it have its own algorithm?</p>\n<p>Can anyone help? Thank you!</p>\n"},{"tags":["java","arrays","java-stream","arrayindexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654968253,"creation_date":1654957176,"answer_id":72585127,"question_id":72584902,"body_markdown":"The problem is with the final loop. You don&#39;t want to append the number of zeros to the current position, because this will obviously will result in an index of out bounds exception. You are traversing the whole array. What you can do is to increment `zeroCounter` as such:\r\n\r\n```\r\npublic static int[] zeroFront(int[] nums) {\r\n    if (nums.length == 0) {\r\n        return nums;\r\n    }\r\n\r\n    int[] zeroFront = new int[nums.length];\r\n    int zeroCounter = 0;\r\n\r\n    for (int i = 0; i &lt; zeroFront.length; i++) {\r\n        if (nums[i] == 0) {\r\n            zeroCounter++;\r\n        }\r\n    }\r\n\r\n    for (int num : nums) {\r\n        if (num != 0) {\r\n            zeroFront[zeroCounter++] = num;\r\n        }\r\n    }\r\n\r\n    return zeroFront;\r\n}\r\n```\r\n\r\nIf you want to use `streams`, you could do something like this:\r\n\r\n```\r\npublic int[] zeroFront(int[] nums) {\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(i -&gt; i == 0));\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(partitions.get(true));\r\n    result.addAll(partitions.get(false));\r\n    return result.stream().mapToInt(i -&gt; i).toArray();\r\n}\r\n```\r\n\r\nAs [@Alexander Ivanchenko](https://stackoverflow.com/users/17949945/alexander-ivanchenko) pointed out in the comments, this can be further optimised to get rid of the intermediate `result` list:\r\n\r\n```\r\npublic static int[] zeroFrontStream(int[] nums) {\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(i -&gt; i == 0));\r\n    return Stream.concat(partitions.get(true).stream(), partitions.get(false).stream()).mapToInt(i -&gt; i).toArray();\r\n}\r\n```\r\n\r\nKeep in mind, the solution with streams might not be as performant, since there is a lot boxing and unboxing going on. We also have to do conversion between collections and arrays.","title":"Codingbat challenge: zeroFront Stream API Solution","body":"<p>The problem is with the final loop. You don't want to append the number of zeros to the current position, because this will obviously will result in an index of out bounds exception. You are traversing the whole array. What you can do is to increment <code>zeroCounter</code> as such:</p>\n<pre><code>public static int[] zeroFront(int[] nums) {\n    if (nums.length == 0) {\n        return nums;\n    }\n\n    int[] zeroFront = new int[nums.length];\n    int zeroCounter = 0;\n\n    for (int i = 0; i &lt; zeroFront.length; i++) {\n        if (nums[i] == 0) {\n            zeroCounter++;\n        }\n    }\n\n    for (int num : nums) {\n        if (num != 0) {\n            zeroFront[zeroCounter++] = num;\n        }\n    }\n\n    return zeroFront;\n}\n</code></pre>\n<p>If you want to use <code>streams</code>, you could do something like this:</p>\n<pre><code>public int[] zeroFront(int[] nums) {\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(i -&gt; i == 0));\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;(partitions.get(true));\n    result.addAll(partitions.get(false));\n    return result.stream().mapToInt(i -&gt; i).toArray();\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/17949945/alexander-ivanchenko\">@Alexander Ivanchenko</a> pointed out in the comments, this can be further optimised to get rid of the intermediate <code>result</code> list:</p>\n<pre><code>public static int[] zeroFrontStream(int[] nums) {\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(i -&gt; i == 0));\n    return Stream.concat(partitions.get(true).stream(), partitions.get(false).stream()).mapToInt(i -&gt; i).toArray();\n}\n</code></pre>\n<p>Keep in mind, the solution with streams might not be as performant, since there is a lot boxing and unboxing going on. We also have to do conversion between collections and arrays.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654957574,"creation_date":1654957574,"answer_id":72585171,"question_id":72584902,"body_markdown":"The index of `zeroFront` is incorrect. It should not be `zeroCounter + i`, but rather `zeroCounter + nonZeroCounter`, where `nonZeroCounter` is the number of non-zeroes seen so far. Note that this is no equal to `i`, which is the *total number* of all zeroes and non-zeroes seen so far.\r\n\r\nTo fix it, just keep another count of the non-zeroes:\r\n\r\n    int nonZeroCount = 0;\r\n    for (int num : nums) {\r\n        if (num != 0) {\r\n            zeroFront[zeroCounter + nonZeroCount++] = num;\r\n        }\r\n    }\r\n\r\nAlso note that the loop to set the first `nonZeroCounter` elements of `zeroFront` to 0 is not necessary. The elements of an int array are initialised to 0 automatically.\r\n\r\nFor the stream solution, you can make use of the fact that `false` is ordered before `true`, and sort the array by `x != 0`:\r\n\r\n    public static int[] zeroFrontStreams(int[] nums) {\r\n        return Arrays.stream(nums).boxed().sorted(Comparator.comparing(x -&gt; x != 0)).mapToInt(x -&gt; x).toArray();\r\n    }\r\n\r\nBut note that since this involves sorting, its time complexity is worse compared to your O(n) solution. There is also much boxing/unboxing involved.\r\n\r\nAlternatively, if you just want to use streams *somewhere* in your code, you can use it to separate the array into zeroes and non-zeroes, then copy the non-zeroes to the tail of `zeroFront` in some other way:\r\n\r\n    public static int[] zeroFrontStreams(int[] nums) {\r\n        var partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(x -&gt; x == 0));\r\n        int[] zeroFront = new int[nums.length];\r\n        int[] nonZeros = partitions.get(false).stream().mapToInt(x -&gt; x).toArray();\r\n        int zeroCounter = partitions.get(true).size();\r\n        System.arraycopy(nonZeros, 0, zeroFront, zeroCounter, nonZeros.length);\r\n        return zeroFront;\r\n    }\r\n\r\nWithout (un)boxing, but with some code duplication of `Arrays.stream(nums).filter`:\r\n\r\n    public static int[] zeroFront(int[] nums) {\r\n        int[] zeroFront = new int[nums.length];\r\n        long zeroCounter = Arrays.stream(nums).filter(x -&gt; x == 0).count();\r\n        int[] nonZeros = Arrays.stream(nums).filter(x -&gt; x != 0).toArray();\r\n        System.arraycopy(nonZeros, 0, zeroFront, (int)zeroCounter, nonZeros.length);\r\n        return zeroFront;\r\n    }","title":"Codingbat challenge: zeroFront Stream API Solution","body":"<p>The index of <code>zeroFront</code> is incorrect. It should not be <code>zeroCounter + i</code>, but rather <code>zeroCounter + nonZeroCounter</code>, where <code>nonZeroCounter</code> is the number of non-zeroes seen so far. Note that this is no equal to <code>i</code>, which is the <em>total number</em> of all zeroes and non-zeroes seen so far.</p>\n<p>To fix it, just keep another count of the non-zeroes:</p>\n<pre><code>int nonZeroCount = 0;\nfor (int num : nums) {\n    if (num != 0) {\n        zeroFront[zeroCounter + nonZeroCount++] = num;\n    }\n}\n</code></pre>\n<p>Also note that the loop to set the first <code>nonZeroCounter</code> elements of <code>zeroFront</code> to 0 is not necessary. The elements of an int array are initialised to 0 automatically.</p>\n<p>For the stream solution, you can make use of the fact that <code>false</code> is ordered before <code>true</code>, and sort the array by <code>x != 0</code>:</p>\n<pre><code>public static int[] zeroFrontStreams(int[] nums) {\n    return Arrays.stream(nums).boxed().sorted(Comparator.comparing(x -&gt; x != 0)).mapToInt(x -&gt; x).toArray();\n}\n</code></pre>\n<p>But note that since this involves sorting, its time complexity is worse compared to your O(n) solution. There is also much boxing/unboxing involved.</p>\n<p>Alternatively, if you just want to use streams <em>somewhere</em> in your code, you can use it to separate the array into zeroes and non-zeroes, then copy the non-zeroes to the tail of <code>zeroFront</code> in some other way:</p>\n<pre><code>public static int[] zeroFrontStreams(int[] nums) {\n    var partitions = Arrays.stream(nums).boxed().collect(Collectors.partitioningBy(x -&gt; x == 0));\n    int[] zeroFront = new int[nums.length];\n    int[] nonZeros = partitions.get(false).stream().mapToInt(x -&gt; x).toArray();\n    int zeroCounter = partitions.get(true).size();\n    System.arraycopy(nonZeros, 0, zeroFront, zeroCounter, nonZeros.length);\n    return zeroFront;\n}\n</code></pre>\n<p>Without (un)boxing, but with some code duplication of <code>Arrays.stream(nums).filter</code>:</p>\n<pre><code>public static int[] zeroFront(int[] nums) {\n    int[] zeroFront = new int[nums.length];\n    long zeroCounter = Arrays.stream(nums).filter(x -&gt; x == 0).count();\n    int[] nonZeros = Arrays.stream(nums).filter(x -&gt; x != 0).toArray();\n    System.arraycopy(nonZeros, 0, zeroFront, (int)zeroCounter, nonZeros.length);\n    return zeroFront;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654962107,"creation_date":1654959040,"answer_id":72585363,"question_id":72584902,"body_markdown":"This task can be fulfilled with Stream IPA in a single stream statement and without need to resort to sorting by using a *custom collector*.\r\n\r\nTo create a *collector* we can make use of the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)). We need to provide the *mutable container* that would be used internally by the collector, and specify also the way how elements of the stream should be added to the *container* and how to merge the two containers in case of the parallel execution.\r\n\r\nIn the code below, `ArrayDeque` is used as a *mutable container*. It&#39;s an array-backed collection that allows to insert a new element in constant time **O(1)** at the back and at the front.\r\n\r\nBecause we can&#39;t gain any advantage from parallel execution, *combiner* function is implemented to throw an `AssertionError`.\r\n\r\nFinisher function transforms the underlying collection into an array.\r\n\r\nThis code passes all test on *CodingBat*:\r\n\r\n    public int[] zeroFront(int[] nums) {\r\n        return Arrays.stream(nums)\r\n            .boxed()\r\n            .collect(Collector.of(\r\n                ArrayDeque::new,\r\n                (Deque&lt;Integer&gt; deque, Integer next) -&gt; {\r\n                    if (next == 0) deque.addFirst(next);\r\n                    else deque.addLast(next);\r\n                },\r\n                (left, right) -&gt; { throw new AssertionError(&quot;should not be processed in parallel&quot;); },\r\n                deque -&gt; deque.stream().mapToInt(Integer::intValue).toArray()\r\n            ));\r\n    }\r\n\r\n*To run this code on *CodingBat* you need to use the fully-qualified name `java.util.stream.Collector`.*\r\n\r\nYour mistake is rooted in the line `zeroFront[zeroCounter + i] = nums[i];`. Instead, you need to increment `zeroCounter` with each new assignment, as already shown in the [*answer by Ervin Szilagyi*](https://stackoverflow.com/a/72585127/17949945).\r\n\r\nAlso, `for` loop below is redundant because when an array `int[]` would be allocated memory all its elements will be initialized with the default value of `0`:\r\n\r\n    for (int i = 0; i &lt; zeroCounter; i++) {\r\n        zeroFront[i] = 0;\r\n    }","title":"Codingbat challenge: zeroFront Stream API Solution","body":"<p>This task can be fulfilled with Stream IPA in a single stream statement and without need to resort to sorting by using a <em>custom collector</em>.</p>\n<p>To create a <em>collector</em> we can make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>. We need to provide the <em>mutable container</em> that would be used internally by the collector, and specify also the way how elements of the stream should be added to the <em>container</em> and how to merge the two containers in case of the parallel execution.</p>\n<p>In the code below, <code>ArrayDeque</code> is used as a <em>mutable container</em>. It's an array-backed collection that allows to insert a new element in constant time <strong>O(1)</strong> at the back and at the front.</p>\n<p>Because we can't gain any advantage from parallel execution, <em>combiner</em> function is implemented to throw an <code>AssertionError</code>.</p>\n<p>Finisher function transforms the underlying collection into an array.</p>\n<p>This code passes all test on <em>CodingBat</em>:</p>\n<pre><code>public int[] zeroFront(int[] nums) {\n    return Arrays.stream(nums)\n        .boxed()\n        .collect(Collector.of(\n            ArrayDeque::new,\n            (Deque&lt;Integer&gt; deque, Integer next) -&gt; {\n                if (next == 0) deque.addFirst(next);\n                else deque.addLast(next);\n            },\n            (left, right) -&gt; { throw new AssertionError(&quot;should not be processed in parallel&quot;); },\n            deque -&gt; deque.stream().mapToInt(Integer::intValue).toArray()\n        ));\n}\n</code></pre>\n<p><em>To run this code on <em>CodingBat</em> you need to use the fully-qualified name <code>java.util.stream.Collector</code>.</em></p>\n<p>Your mistake is rooted in the line <code>zeroFront[zeroCounter + i] = nums[i];</code>. Instead, you need to increment <code>zeroCounter</code> with each new assignment, as already shown in the <a href=\"https://stackoverflow.com/a/72585127/17949945\"><em>answer by Ervin Szilagyi</em></a>.</p>\n<p>Also, <code>for</code> loop below is redundant because when an array <code>int[]</code> would be allocated memory all its elements will be initialized with the default value of <code>0</code>:</p>\n<pre><code>for (int i = 0; i &lt; zeroCounter; i++) {\n    zeroFront[i] = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11854454,"reputation":433,"user_id":14999427,"display_name":"Suic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655026485,"creation_date":1655024345,"answer_id":72590776,"question_id":72584902,"body_markdown":"As other people have already pointed out your mistake, here&#39;s another way to solve this problem using streams with the teeing collector (this was added in java 12, not sure what version of java codingbat is running):\r\n```java\r\npublic int[] zeroFront(int[] nums) {\r\n    return Arrays.stream(nums).boxed().collect(\r\n            Collectors.teeing(\r\n                    Collectors.filtering(n -&gt; n == 0, Collectors.toList()),\r\n                    Collectors.filtering(n -&gt; n != 0, Collectors.toList()),\r\n                    (zeros, nonZeros) -&gt; Stream.concat(zeros.stream(), nonZeros.stream())\r\n                            .mapToInt(Integer::intValue)\r\n                            .toArray()\r\n            ));\r\n}\r\n```","title":"Codingbat challenge: zeroFront Stream API Solution","body":"<p>As other people have already pointed out your mistake, here's another way to solve this problem using streams with the teeing collector (this was added in java 12, not sure what version of java codingbat is running):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] zeroFront(int[] nums) {\n    return Arrays.stream(nums).boxed().collect(\n            Collectors.teeing(\n                    Collectors.filtering(n -&gt; n == 0, Collectors.toList()),\n                    Collectors.filtering(n -&gt; n != 0, Collectors.toList()),\n                    (zeros, nonZeros) -&gt; Stream.concat(zeros.stream(), nonZeros.stream())\n                            .mapToInt(Integer::intValue)\n                            .toArray()\n            ));\n}\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72585171,"answer_count":4,"score":1,"last_activity_date":1655026485,"creation_date":1654955395,"question_id":72584902,"body_markdown":"Given the task [*zeroFront*][1] notAlone from ***CodingBat***:\r\n\r\n&gt; Return an array that contains the exact same numbers as the given\r\n&gt; array, but rearranged so that all the **zeros** are **grouped** at the **start**\r\n&gt; of the array. \r\n&gt; \r\n&gt; The order of the non-zero numbers does not matter. So\r\n&gt; `{1, 0, 0, 1}` becomes `{0 ,0, 1, 1}`. You may modify and return the\r\n&gt; given array or make a new array.\r\n\r\n```\r\nzeroFront([1, 0, 0, 1])      →   [0, 0, 1, 1]\r\nzeroFront([0, 1, 1, 0, 1])   →   [0, 0, 1, 1, 1]\r\nzeroFront([1, 0])            →   [0, 1]\r\n```\r\nMy solution to this problem throws an `ArrayIndexOutOfBoundsException` in some cases:\r\n\r\n    public int[] zeroFront(int[] nums) {\r\n      if (nums.length == 0) {\r\n        return nums;\r\n      }\r\n      \r\n      int[] zeroFront = new int[nums.length];\r\n      int zeroCounter = 0;\r\n      \r\n      for (int i = 0; i &lt; zeroFront.length; i++) {\r\n        if (nums[i] == 0) {\r\n          zeroCounter++;\r\n        }\r\n      }\r\n      \r\n      for (int i = 0; i &lt; zeroCounter; i++) {\r\n        zeroFront[i] = 0;\r\n      }\r\n      \r\n       \r\n      for (int i = 0; i &lt; nums.length; i++) {\r\n        if (nums[i] != 0) {\r\n          zeroFront[zeroCounter + i] = nums[i];\r\n        }\r\n      }\r\n      \r\n      return zeroFront;\r\n    }\r\n\r\nMy questions are the following:\r\n\r\nWhat can be done in order to fix my solution?\r\n\r\nHow is it possible to solve this task using ***Stream API*** ?\r\n\r\n  [1]: https://codingbat.com/prob/p193753\r\n\r\n\r\n","title":"Codingbat challenge: zeroFront Stream API Solution","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p193753\" rel=\"nofollow noreferrer\"><em>zeroFront</em></a> notAlone from <em><strong>CodingBat</strong></em>:</p>\n<blockquote>\n<p>Return an array that contains the exact same numbers as the given\narray, but rearranged so that all the <strong>zeros</strong> are <strong>grouped</strong> at the <strong>start</strong>\nof the array.</p>\n<p>The order of the non-zero numbers does not matter. So\n<code>{1, 0, 0, 1}</code> becomes <code>{0 ,0, 1, 1}</code>. You may modify and return the\ngiven array or make a new array.</p>\n</blockquote>\n<pre><code>zeroFront([1, 0, 0, 1])      →   [0, 0, 1, 1]\nzeroFront([0, 1, 1, 0, 1])   →   [0, 0, 1, 1, 1]\nzeroFront([1, 0])            →   [0, 1]\n</code></pre>\n<p>My solution to this problem throws an <code>ArrayIndexOutOfBoundsException</code> in some cases:</p>\n<pre><code>public int[] zeroFront(int[] nums) {\n  if (nums.length == 0) {\n    return nums;\n  }\n  \n  int[] zeroFront = new int[nums.length];\n  int zeroCounter = 0;\n  \n  for (int i = 0; i &lt; zeroFront.length; i++) {\n    if (nums[i] == 0) {\n      zeroCounter++;\n    }\n  }\n  \n  for (int i = 0; i &lt; zeroCounter; i++) {\n    zeroFront[i] = 0;\n  }\n  \n   \n  for (int i = 0; i &lt; nums.length; i++) {\n    if (nums[i] != 0) {\n      zeroFront[zeroCounter + i] = nums[i];\n    }\n  }\n  \n  return zeroFront;\n}\n</code></pre>\n<p>My questions are the following:</p>\n<p>What can be done in order to fix my solution?</p>\n<p>How is it possible to solve this task using <em><strong>Stream API</strong></em> ?</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":11326276,"reputation":611,"user_id":16042459,"display_name":"Someone"},"score":2,"creation_date":1654641000,"post_id":72538037,"comment_id":128138190,"body_markdown":"Use a prefix array that stores the minimum element from left up to current index; similarly use a suffix array that stores the minimum element from right up to current index.  Then for each index, determine if prefix[index] &lt; sub[index] &gt; suffix[index].  If so, calculate their `sum`.  Do so for all indices and return the smallest value.","body":"Use a prefix array that stores the minimum element from left up to current index; similarly use a suffix array that stores the minimum element from right up to current index.  Then for each index, determine if prefix[index] &lt; sub[index] &gt; suffix[index].  If so, calculate their <code>sum</code>.  Do so for all indices and return the smallest value."},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654663298,"post_id":72538037,"comment_id":128141549,"body_markdown":"Use sliding window protocol","body":"Use sliding window protocol"}],"answers":[{"tags":[],"owner":{"account_id":22305324,"reputation":2739,"user_id":16530078,"display_name":"Muhteva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655023341,"creation_date":1655023341,"answer_id":72590668,"question_id":72538037,"body_markdown":"Let me provide a solution whose time complexity is ```O(n)``` and space complexity is ```O(n)```. You have to iterate through the array thrice and also store two arrays for the minimum elements. I was inspired by the comment made by @Someone. Please keep in mind that this solution makes the assumption that for any ```sub[i] &lt; sub[j] &gt; sub[k]``` this must hold: ```i &lt; j &lt; k```. \r\n\r\nSolution can be modified easily to cover the cases where ```i &lt;= j &lt;= k```. If it&#39;s not compulsory for this equation to hold, then question becomes more trivial. Just find first three minimum element and we know that ```sub[i] &lt; sub[j] &gt; sub[k]``` holds. Make sure that the third one (largest one) is different than the others. Although you didn&#39;t specify the rule I mentioned above, I believe question wants you to comply with that rule - otherwise that would be very trivial.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Stackoverflow {\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(3,4,5,1,2,3,1));\r\n\t\tSystem.out.println(process(numbers));\r\n\t}\r\n\t\r\n\tpublic static long process(List&lt;Integer&gt; list) {\r\n\t\tif(list.size() &lt; 3) return -1; // not enough elements\r\n\t\t\r\n\t\tint n = list.size();\r\n\t\t\r\n\t\tint[] minLeft = new int[n];\r\n\t\tint[] minRight = new int[n];\r\n\t\t\r\n\t\tminLeft[0] = list.get(0);\r\n\t\tminRight[minRight.length - 1] = list.get(list.size() - 1);\r\n\t\t\r\n\t\t// store the minimum elements from left up to current index\r\n\t\tfor(int i=1; i&lt;n; i++) {\r\n\t\t\tminLeft[i] = Math.min(list.get(i), minLeft[i - 1]);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// store the maximum elements from right up to current index\r\n\t\tfor(int i=n - 2; i&gt;=0; i--) {\r\n\t\t\tminRight[i] = Math.min(list.get(i), minRight[i+1]);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tlong sum = Integer.MAX_VALUE;\r\n\t\t\r\n\t\tfor(int i=1; i&lt;n-1; i++) {\r\n\t\t\tsum = Math.min(sum, minLeft[i - 1] + list.get(i) + minRight[i + 1]);\r\n\t\t}\r\n\t\t\r\n\t\treturn sum;\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n&gt; 4","title":"Find minimum sum from given array","body":"<p>Let me provide a solution whose time complexity is <code>O(n)</code> and space complexity is <code>O(n)</code>. You have to iterate through the array thrice and also store two arrays for the minimum elements. I was inspired by the comment made by @Someone. Please keep in mind that this solution makes the assumption that for any <code>sub[i] &lt; sub[j] &gt; sub[k]</code> this must hold: <code>i &lt; j &lt; k</code>.</p>\n<p>Solution can be modified easily to cover the cases where <code>i &lt;= j &lt;= k</code>. If it's not compulsory for this equation to hold, then question becomes more trivial. Just find first three minimum element and we know that <code>sub[i] &lt; sub[j] &gt; sub[k]</code> holds. Make sure that the third one (largest one) is different than the others. Although you didn't specify the rule I mentioned above, I believe question wants you to comply with that rule - otherwise that would be very trivial.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Stackoverflow {\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(3,4,5,1,2,3,1));\n        System.out.println(process(numbers));\n    }\n    \n    public static long process(List&lt;Integer&gt; list) {\n        if(list.size() &lt; 3) return -1; // not enough elements\n        \n        int n = list.size();\n        \n        int[] minLeft = new int[n];\n        int[] minRight = new int[n];\n        \n        minLeft[0] = list.get(0);\n        minRight[minRight.length - 1] = list.get(list.size() - 1);\n        \n        // store the minimum elements from left up to current index\n        for(int i=1; i&lt;n; i++) {\n            minLeft[i] = Math.min(list.get(i), minLeft[i - 1]);\n        }\n        \n        \n        // store the maximum elements from right up to current index\n        for(int i=n - 2; i&gt;=0; i--) {\n            minRight[i] = Math.min(list.get(i), minRight[i+1]);\n        }\n        \n        \n        long sum = Integer.MAX_VALUE;\n        \n        for(int i=1; i&lt;n-1; i++) {\n            sum = Math.min(sum, minLeft[i - 1] + list.get(i) + minRight[i + 1]);\n        }\n        \n        return sum;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>4</p>\n</blockquote>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655023341,"creation_date":1654639882,"question_id":72538037,"body_markdown":"I have an array of numbers `[3,4,5,1,2,3,1]` find `3 pairs` sub sequence say `sub[]` such that `sub[0] &lt; sub[1] &gt; sub[2]`, sum those 3 elements and get the minimum sum.\r\n\r\n**Example:**\r\n\r\nFor `[3,4,5,1,2,3,1]`, I can select `[1,2,1]` here `1&lt;2&gt;1` so sum is `1+2+1 = 4` which is minimum.\r\n\r\n**Constraints:**\r\n\r\narray size upto 1,00,000\r\neach element size is 1 to 1,00,00,00,000\r\n\r\nMy approach is using 3 nested for loops and getting the minimum sum which is not an efficient way. \r\n\r\n    public long process(List&lt;Integer&gt; list) {\r\n       int n = list.size();\r\n       long output = Long.MAX_VALUE;\r\n       for(int i=0; i&lt;n; i++) {\r\n          for(int j=i+1; j&lt;n; j++) {\r\n           if(list.get(i) &lt; list.get(j)) {\r\n              for(int k=j+1; k&lt;n; k++) {\r\n                if(list.get(j) &gt; list.get(k)) {\r\n                   output = Math.min(output, list.get(i)+list.get(j)+list.get(k));\r\n                 }\r\n              }\r\n           }\r\n          }\r\n       }\r\n       return output;\r\n    }\r\n\r\nHow do solve this program efficiently with less time complexity?\r\n\r\n","title":"Find minimum sum from given array","body":"<p>I have an array of numbers <code>[3,4,5,1,2,3,1]</code> find <code>3 pairs</code> sub sequence say <code>sub[]</code> such that <code>sub[0] &lt; sub[1] &gt; sub[2]</code>, sum those 3 elements and get the minimum sum.</p>\n<p><strong>Example:</strong></p>\n<p>For <code>[3,4,5,1,2,3,1]</code>, I can select <code>[1,2,1]</code> here <code>1&lt;2&gt;1</code> so sum is <code>1+2+1 = 4</code> which is minimum.</p>\n<p><strong>Constraints:</strong></p>\n<p>array size upto 1,00,000\neach element size is 1 to 1,00,00,00,000</p>\n<p>My approach is using 3 nested for loops and getting the minimum sum which is not an efficient way.</p>\n<pre><code>public long process(List&lt;Integer&gt; list) {\n   int n = list.size();\n   long output = Long.MAX_VALUE;\n   for(int i=0; i&lt;n; i++) {\n      for(int j=i+1; j&lt;n; j++) {\n       if(list.get(i) &lt; list.get(j)) {\n          for(int k=j+1; k&lt;n; k++) {\n            if(list.get(j) &gt; list.get(k)) {\n               output = Math.min(output, list.get(i)+list.get(j)+list.get(k));\n             }\n          }\n       }\n      }\n   }\n   return output;\n}\n</code></pre>\n<p>How do solve this program efficiently with less time complexity?</p>\n"},{"tags":["java","mouselistener"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655012070,"post_id":72589659,"comment_id":128226318,"body_markdown":"Does this answer your question? [java - Detect Mouse Clicks Anywhere On Screen](https://stackoverflow.com/questions/25496292/java-detect-mouse-clicks-anywhere-on-screen)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25496292/java-detect-mouse-clicks-anywhere-on-screen\">java - Detect Mouse Clicks Anywhere On Screen</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1655014164,"post_id":72589659,"comment_id":128226543,"body_markdown":"You can’t do it without using some kind of native library - JNI/JNA","body":"You can’t do it without using some kind of native library - JNI/JNA"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1655026047,"post_id":72589659,"comment_id":128228342,"body_markdown":"[Example to play with using JNativeHook](https://github.com/kwhat/jnativehook/blob/2.2/doc/Mouse.md). You can get the library JAR file [here](https://jar-download.com/artifacts/com.1stleg/jnativehook/2.1.0/source-code).","body":"<a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/Mouse.md\" rel=\"nofollow noreferrer\">Example to play with using JNativeHook</a>. You can get the library JAR file <a href=\"https://jar-download.com/artifacts/com.1stleg/jnativehook/2.1.0/source-code\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655020829,"creation_date":1655020829,"answer_id":72590434,"question_id":72589659,"body_markdown":"You can download `jNativeHook` and hook the global listener to `globalScreen`.\r\n\r\nyou can use it as a normal swing listener.\r\n\r\nHere is the link:\r\n\r\n[https://code.google.com/p/jnativehook/][1]\r\n\r\n  [1]: https://code.google.com/p/jnativehook/\r\n\r\n\r\nBy using this library you achieve a wide range of functions to control the mouse events!!\r\n","title":"Detecting MouseClicks without JFrame","body":"<p>You can download <code>jNativeHook</code> and hook the global listener to <code>globalScreen</code>.</p>\n<p>you can use it as a normal swing listener.</p>\n<p>Here is the link:</p>\n<p><a href=\"https://code.google.com/p/jnativehook/\" rel=\"nofollow noreferrer\">https://code.google.com/p/jnativehook/</a></p>\n<p>By using this library you achieve a wide range of functions to control the mouse events!!</p>\n"}],"owner":{"account_id":25294357,"reputation":3,"user_id":19119790,"display_name":"djBroski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72590434,"answer_count":1,"score":0,"last_activity_date":1655020829,"creation_date":1655011091,"question_id":72589659,"body_markdown":"Currently stuck on how to create an executable jar file that would run in the background of my pc and detect if my mouse is down. I know JFrame is a one method of doing so, but that&#39;s visible on my screen, even though I set it to invisible it appears to disable it completely.\r\n\r\nHere&#39;s my code so far, is there a another method I could use that isn&#39;t JFrame related? \r\n\r\n    public class MyFrame extends JFrame implements KeyListener {\r\n\r\n    MyFrame(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(500,500);\r\n        this.setLayout(null);\r\n        this.addKeyListener(this);\r\n        this.setVisible(true);\r\n        this.setAlwaysOnTop(true);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        if(e.getKeyChar() ==&#39;q&#39;){\r\n            this.setVisible(false);\r\n        }\r\n        if(e.getKeyChar()==&#39;l&#39;){\r\n            this.setVisible(true);\r\n        }\r\n    }\r\n}\r\n\r\n  ","title":"Detecting MouseClicks without JFrame","body":"<p>Currently stuck on how to create an executable jar file that would run in the background of my pc and detect if my mouse is down. I know JFrame is a one method of doing so, but that's visible on my screen, even though I set it to invisible it appears to disable it completely.</p>\n<p>Here's my code so far, is there a another method I could use that isn't JFrame related?</p>\n<pre><code>public class MyFrame extends JFrame implements KeyListener {\n\nMyFrame(){\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setSize(500,500);\n    this.setLayout(null);\n    this.addKeyListener(this);\n    this.setVisible(true);\n    this.setAlwaysOnTop(true);\n\n}\n\n@Override\npublic void keyTyped(KeyEvent e) {\n\n}\n\n@Override\npublic void keyPressed(KeyEvent e) {\n\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    if(e.getKeyChar() =='q'){\n        this.setVisible(false);\n    }\n    if(e.getKeyChar()=='l'){\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","mysql","eclipse","maven"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":0,"creation_date":1427242336,"post_id":29245102,"comment_id":46696160,"body_markdown":"Is the m2 repo on the classpath? Your IDE will generally add it when you launch from it, but if you launch from the command line, you might have to specify it manually.","body":"Is the m2 repo on the classpath? Your IDE will generally add it when you launch from it, but if you launch from the command line, you might have to specify it manually."},{"owner":{"account_id":13727319,"reputation":1969,"user_id":9905745,"display_name":"Yossarian42"},"score":0,"creation_date":1588791231,"post_id":29245102,"comment_id":109038586,"body_markdown":"this maven plugin solves the dependency problem, https://stackoverflow.com/a/574650/9905745","body":"this maven plugin solves the dependency problem, <a href=\"https://stackoverflow.com/a/574650/9905745\">stackoverflow.com/a/574650/9905745</a>"}],"answers":[{"tags":[],"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1427267062,"creation_date":1427267062,"answer_id":29249428,"question_id":29245102,"body_markdown":"Change the scope to `compile`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.17&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhich - since it is the default scope corresponds to leaving away scope definition at all - same counts for the type:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n       &lt;version&gt;5.1.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nHave a look at this: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html for detailed information on scoping. \r\n\r\nHere is a quick info for your background: \r\n\r\nYou specified the JDBC driver to have a scope `runtime`. Most IDEs will anyways ignore the scopes and add all of your dependencies to **their** classpath (e.g. the classpath used when you run something outside of eclipse. By the scope `runtime` you are telling maven that it must not pack that dependeny into your final jar since the execution environment will &quot;provide that dependency at `runtime`. E.g. you would either have to manually add it to the classpath when calling your jar or change the scope to `compile` which will lead to the driver-jar beeing packed inside your jar and available at runtime. ","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>Change the scope to <code>compile</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.17&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Which - since it is the default scope corresponds to leaving away scope definition at all - same counts for the type:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n   &lt;version&gt;5.1.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Have a look at this: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html</a> for detailed information on scoping. </p>\n\n<p>Here is a quick info for your background: </p>\n\n<p>You specified the JDBC driver to have a scope <code>runtime</code>. Most IDEs will anyways ignore the scopes and add all of your dependencies to <strong>their</strong> classpath (e.g. the classpath used when you run something outside of eclipse. By the scope <code>runtime</code> you are telling maven that it must not pack that dependeny into your final jar since the execution environment will \"provide that dependency at <code>runtime</code>. E.g. you would either have to manually add it to the classpath when calling your jar or change the scope to <code>compile</code> which will lead to the driver-jar beeing packed inside your jar and available at runtime. </p>\n"},{"tags":[],"owner":{"account_id":964823,"reputation":1009,"user_id":988440,"accept_rate":77,"display_name":"pokero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427310812,"creation_date":1427310812,"answer_id":29264516,"question_id":29245102,"body_markdown":"The answer is here - https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\r\n\r\nI needed to build an uber pom, using the answer in the link above - this builds in the dependencies (in this case the mysql jar file) into a single SNAPSHOT jar file.\r\n\r\nJust make sure you run it with `mvn clean compile assembly:single` (not the usual `mvn clean package` or whatever.\r\n\r\n","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>The answer is here - <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven\">How can I create an executable JAR with dependencies using Maven?</a></p>\n\n<p>I needed to build an uber pom, using the answer in the link above - this builds in the dependencies (in this case the mysql jar file) into a single SNAPSHOT jar file.</p>\n\n<p>Just make sure you run it with <code>mvn clean compile assembly:single</code> (not the usual <code>mvn clean package</code> or whatever.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1529993777,"creation_date":1500903622,"answer_id":45282208,"question_id":29245102,"body_markdown":"Add this code\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nto porm.xml file in your maven project","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>Add this code</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>to porm.xml file in your maven project</p>\n"},{"tags":[],"owner":{"account_id":4670897,"reputation":171,"user_id":3782716,"display_name":"Khosro Makari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516151832,"creation_date":1516151832,"answer_id":48292294,"question_id":29245102,"body_markdown":"Since you are running the project by &quot;java -jar&quot; and also you have dependencies, so, you have to use two maven plugins. The first one to copy dependencies into a folder inside target folder (e.g. lib/) while packaging and the second one for specifying the classpath which should be same as the first one(lib/). I had the same problem and here is what I did:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;\r\n                                ${project.build.directory}/lib\r\n                            &lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            \r\n                      &lt;mainClass&gt;com.tihoo.crawler.Application&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>Since you are running the project by \"java -jar\" and also you have dependencies, so, you have to use two maven plugins. The first one to copy dependencies into a folder inside target folder (e.g. lib/) while packaging and the second one for specifying the classpath which should be same as the first one(lib/). I had the same problem and here is what I did:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;\n                            ${project.build.directory}/lib\n                        &lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n\n                  &lt;mainClass&gt;com.tihoo.crawler.Application&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531254017,"creation_date":1531254017,"answer_id":51273345,"question_id":29245102,"body_markdown":"I had this problem as well. I tried using plugins to set the connector to classpath but it didn&#39;t work. I tried to change versions, it didn&#39;t work. I&#39;ve spent two nights to find out that i needed to specify in pom.xml that i need my package to be a &quot;war&quot;.\r\n\r\nMaybe it&#39;s because your project doesn&#39;t know what type it is, so try to put this:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\nright next to your project version. Something like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example-app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt; &lt;!-- Here --&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- Some properties here --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Some dependencies here --&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMaybe it doesn&#39;t suit your problem, but maybe somebody else will need it.","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>I had this problem as well. I tried using plugins to set the connector to classpath but it didn't work. I tried to change versions, it didn't work. I've spent two nights to find out that i needed to specify in pom.xml that i need my package to be a \"war\".</p>\n\n<p>Maybe it's because your project doesn't know what type it is, so try to put this:</p>\n\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n\n<p>right next to your project version. Something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;example-app&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt; &lt;!-- Here --&gt;\n\n&lt;properties&gt;\n    &lt;!-- Some properties here --&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Some dependencies here --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Maybe it doesn't suit your problem, but maybe somebody else will need it.</p>\n"}],"owner":{"account_id":964823,"reputation":1009,"user_id":988440,"accept_rate":77,"display_name":"pokero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45355,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1655019810,"creation_date":1427241351,"question_id":29245102,"body_markdown":"I have a Java app based on Maven, and want to connect to MySQL server.\r\n\r\nMy pom has:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.17&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWith *runtime*, as I want to connect to MySQL server at runtime - have also tried compile and provided, but does not work.\r\n\r\nThe SQL code is standard:\r\n\r\n    String dbClass = &quot;com.mysql.jdbc.Driver&quot;;\r\n\r\n    Class.forName(dbClass);\r\n    Connection connection = DriverManager.getConnection(dbUrl,\r\n        username, password);\r\n    Statement statement = connection.createStatement();\r\n    ResultSet resultSet = statement.executeQuery(query);\r\n    while (resultSet.next()) {\r\n        String tableName = resultSet.getString(1);\r\n        System.out.println(&quot;Table name : &quot; + tableName);\r\n    }\r\n\r\nWhen I run this **from Eclipse**, it works fine and prints table names.\r\n\r\nHowever, from maven, the generated SNAPSHOT always gives an error when executed via &gt;`java -jar target\\File.jar` after running `mvn clean install`.\r\n \r\n&gt; java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n\r\nWhat am I missing here to get the maven build to work? Running `mvn clean install` gives no error and builds fine. It is only when executing the SNAPSHOT exe the error happens.\r\n\r\nThe MySQL jar is in my .m2 repo, and I tried adding it explicitly via mvn command line, but says it already exists.","title":"Maven - java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>I have a Java app based on Maven, and want to connect to MySQL server.</p>\n\n<p>My pom has:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.17&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>With <em>runtime</em>, as I want to connect to MySQL server at runtime - have also tried compile and provided, but does not work.</p>\n\n<p>The SQL code is standard:</p>\n\n<pre><code>String dbClass = \"com.mysql.jdbc.Driver\";\n\nClass.forName(dbClass);\nConnection connection = DriverManager.getConnection(dbUrl,\n    username, password);\nStatement statement = connection.createStatement();\nResultSet resultSet = statement.executeQuery(query);\nwhile (resultSet.next()) {\n    String tableName = resultSet.getString(1);\n    System.out.println(\"Table name : \" + tableName);\n}\n</code></pre>\n\n<p>When I run this <strong>from Eclipse</strong>, it works fine and prints table names.</p>\n\n<p>However, from maven, the generated SNAPSHOT always gives an error when executed via ><code>java -jar target\\File.jar</code> after running <code>mvn clean install</code>.</p>\n\n<blockquote>\n  <p>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n</blockquote>\n\n<p>What am I missing here to get the maven build to work? Running <code>mvn clean install</code> gives no error and builds fine. It is only when executing the SNAPSHOT exe the error happens.</p>\n\n<p>The MySQL jar is in my .m2 repo, and I tried adding it explicitly via mvn command line, but says it already exists.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1655016526,"post_id":72589998,"comment_id":128226835,"body_markdown":"Do your `Cat` and `Dog` types have some common superclass or implement a common interface? A [mcve] would help here. (It&#39;s worth reading the [editing help](https://stackoverflow.com/editing-help#code) carefully by the way - see the edit I made to your post to format the code more readably, in particular using a triple backtick rather than a triple apostrophe. Use the preview to check that your post looks the way you want it to before submitting it.)","body":"Do your <code>Cat</code> and <code>Dog</code> types have some common superclass or implement a common interface? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help here. (It&#39;s worth reading the <a href=\"https://stackoverflow.com/editing-help#code\">editing help</a> carefully by the way - see the edit I made to your post to format the code more readably, in particular using a triple backtick rather than a triple apostrophe. Use the preview to check that your post looks the way you want it to before submitting it.)"}],"answers":[{"tags":[],"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655018701,"creation_date":1655016983,"answer_id":72590068,"question_id":72589998,"body_markdown":"You must use a single variable to be a reference for your list of animals and depending of kind of listype this variable is ponting to one list or another.\r\n\r\nIt&#39;s the most basic way to solve your issue.   \r\n\r\n    public static void printAnimals(String listType) {\r\n        var myList = listType.equals(&quot;dog&quot;) ? dogList : catList;\r\n                \r\n        for (Obj obj: myList) {\r\n            System.out.println(&quot;elements&quot;); // example output\r\n        }\r\n    }\r\n\r\nThere is also another way that is a better solution:\r\n\r\n    public static void printDogs() {\r\n        printAnimals(dogList);\r\n    }\r\n\r\n    public static void printCats() {\r\n        printAnimals(catList);\r\n    }\r\n\r\n    private static void printAnimals(List animals) {\r\n        for (Animal obj: animals) {\r\n            System.out.println(&quot;elements&quot;); // example output\r\n        }\r\n    }\r\n\r\nYou must to ensure that Dogs and Cats extends a commnon Animal class.","title":"Is there a way to use the same loop for 2 lists?","body":"<p>You must use a single variable to be a reference for your list of animals and depending of kind of listype this variable is ponting to one list or another.</p>\n<p>It's the most basic way to solve your issue.</p>\n<pre><code>public static void printAnimals(String listType) {\n    var myList = listType.equals(&quot;dog&quot;) ? dogList : catList;\n            \n    for (Obj obj: myList) {\n        System.out.println(&quot;elements&quot;); // example output\n    }\n}\n</code></pre>\n<p>There is also another way that is a better solution:</p>\n<pre><code>public static void printDogs() {\n    printAnimals(dogList);\n}\n\npublic static void printCats() {\n    printAnimals(catList);\n}\n\nprivate static void printAnimals(List animals) {\n    for (Animal obj: animals) {\n        System.out.println(&quot;elements&quot;); // example output\n    }\n}\n</code></pre>\n<p>You must to ensure that Dogs and Cats extends a commnon Animal class.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655019580,"creation_date":1655019580,"answer_id":72590312,"question_id":72589998,"body_markdown":"By using the `OOP` principles, that here it is known as `Inheritance`, you can do something like this:\r\n\r\n    public class Animal {\r\n            public void printAnimals(List&lt;Animal&gt; list) {\r\n                System.out.println(&quot;do anything&quot;); // sample output\r\n    \r\n            }\r\n        }\r\n    \r\n        public class Dog extends Animal {\r\n    \r\n            @Override\r\n            public void printAnimals(List&lt;Animal&gt; list) {\r\n                System.out.println(&quot;print dogs&quot;); // dogs output\r\n    \r\n            }\r\n        }\r\n    \r\n        public class Cat extends Animal {\r\n    \r\n            @Override\r\n            public void printAnimals(List&lt;Animal&gt; list) {\r\n                System.out.println(&quot;print cats&quot;); // cats output\r\n    \r\n            }\r\n        }","title":"Is there a way to use the same loop for 2 lists?","body":"<p>By using the <code>OOP</code> principles, that here it is known as <code>Inheritance</code>, you can do something like this:</p>\n<pre><code>public class Animal {\n        public void printAnimals(List&lt;Animal&gt; list) {\n            System.out.println(&quot;do anything&quot;); // sample output\n\n        }\n    }\n\n    public class Dog extends Animal {\n\n        @Override\n        public void printAnimals(List&lt;Animal&gt; list) {\n            System.out.println(&quot;print dogs&quot;); // dogs output\n\n        }\n    }\n\n    public class Cat extends Animal {\n\n        @Override\n        public void printAnimals(List&lt;Animal&gt; list) {\n            System.out.println(&quot;print cats&quot;); // cats output\n\n        }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18942073"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72590068,"answer_count":2,"score":0,"last_activity_date":1655019580,"creation_date":1655016081,"question_id":72589998,"body_markdown":"Is there a way to &quot;combine&quot; these loops, or a way to only write them once but still get each list to print independently? \r\n\r\n```java\r\npublic static void printAnimals(String listType) {\r\n    if (listType.equals(&quot;dog&quot;) {\r\n        for (Dog obj: dogList) {\r\n            System.out.println(&quot;elements&quot;); // example output\r\n        }\r\n    }\r\n    if (listType.equals(&quot;cat&quot;) {\r\n        for (Cat obj: catList) {\r\n            System.out.println(&quot;elements&quot;) // example output\r\n        }\r\n    }\r\n```\r\n        \r\nIn my actual code, there is a 3rd option &quot;available&quot; that prints a list of available dogs and available cats. So there, too, I have 2 identical loops that go through each list and prints only dogs or cats that are available. They&#39;re already written, so if it is the only way, it&#39;s the only way. I simply have a vague suspicion that there is probably a more efficient way.\r\n\r\n```java\r\nif (listType.equals(&quot;available&quot;) {\r\n    for (Dog obj: dogList) {\r\n        if (dog.getStatus().equals(&quot;unreserved&quot;) {\r\n            System.out.println(&quot;unreserved dogs&quot;)\r\n        }\r\n    }\r\n    \r\n    for (Cat obj: catList) {\r\n        if (cat.getStatus().equals (&quot;unreserved&quot;) {\r\n            System.out.println(&quot;unreserved cats&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"Is there a way to use the same loop for 2 lists?","body":"<p>Is there a way to &quot;combine&quot; these loops, or a way to only write them once but still get each list to print independently?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printAnimals(String listType) {\n    if (listType.equals(&quot;dog&quot;) {\n        for (Dog obj: dogList) {\n            System.out.println(&quot;elements&quot;); // example output\n        }\n    }\n    if (listType.equals(&quot;cat&quot;) {\n        for (Cat obj: catList) {\n            System.out.println(&quot;elements&quot;) // example output\n        }\n    }\n</code></pre>\n<p>In my actual code, there is a 3rd option &quot;available&quot; that prints a list of available dogs and available cats. So there, too, I have 2 identical loops that go through each list and prints only dogs or cats that are available. They're already written, so if it is the only way, it's the only way. I simply have a vague suspicion that there is probably a more efficient way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (listType.equals(&quot;available&quot;) {\n    for (Dog obj: dogList) {\n        if (dog.getStatus().equals(&quot;unreserved&quot;) {\n            System.out.println(&quot;unreserved dogs&quot;)\n        }\n    }\n    \n    for (Cat obj: catList) {\n        if (cat.getStatus().equals (&quot;unreserved&quot;) {\n            System.out.println(&quot;unreserved cats&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1655018479,"post_id":72590196,"comment_id":128227128,"body_markdown":"Ayush , you may have to explore libraries like PowerMock (https://dzone.com/articles/using-powermock-mock-static) that make it significantly easier to achieve static method mocking or void method mocking. If there is a specific question , the forum members can answer that.","body":"Ayush , you may have to explore libraries like PowerMock (<a href=\"https://dzone.com/articles/using-powermock-mock-static\" rel=\"nofollow noreferrer\">dzone.com/articles/using-powermock-mock-static</a>) that make it significantly easier to achieve static method mocking or void method mocking. If there is a specific question , the forum members can answer that."},{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":1,"creation_date":1655019617,"post_id":72590196,"comment_id":128227309,"body_markdown":"Mockito 3.4.0 introduced the `Mockito.mockStatic()`. No need to switch to PowerMock for this.","body":"Mockito 3.4.0 introduced the <code>Mockito.mockStatic()</code>. No need to switch to PowerMock for this."}],"answers":[{"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655019505,"creation_date":1655019505,"answer_id":72590307,"question_id":72590196,"body_markdown":"Use `Mockito.mockStatic()` with `thenAnswer()`.\r\n\r\nSuppose that you want to mock this `hello()` method:\r\n\r\n```\r\npublic class ClassToMock {\r\n\r\n    public static void hello() {\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nYou can write a test like this:\r\n\r\n```\r\n@Test\r\npublic void testStaticHello() {\r\n\r\n    ClassToMock.hello(); // Prints &quot;hello&quot;\r\n\r\n    try (MockedStatic&lt;ClassToMock&gt; staticMock = Mockito.mockStatic(ClassToMock.class)) {\r\n\r\n        staticMock.when(() -&gt; ClassToMock.hello())\r\n                .thenAnswer(ignore -&gt; {\r\n                    System.out.println(&quot;Mocked&quot;);\r\n                    return null;\r\n                });\r\n\r\n        ClassToMock.hello();  // Prints &quot;Mocked&quot;\r\n    }\r\n}\r\n```\r\n","title":"Reference to Mock static void method","body":"<p>Use <code>Mockito.mockStatic()</code> with <code>thenAnswer()</code>.</p>\n<p>Suppose that you want to mock this <code>hello()</code> method:</p>\n<pre><code>public class ClassToMock {\n\n    public static void hello() {\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>You can write a test like this:</p>\n<pre><code>@Test\npublic void testStaticHello() {\n\n    ClassToMock.hello(); // Prints &quot;hello&quot;\n\n    try (MockedStatic&lt;ClassToMock&gt; staticMock = Mockito.mockStatic(ClassToMock.class)) {\n\n        staticMock.when(() -&gt; ClassToMock.hello())\n                .thenAnswer(ignore -&gt; {\n                    System.out.println(&quot;Mocked&quot;);\n                    return null;\n                });\n\n        ClassToMock.hello();  // Prints &quot;Mocked&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11573618,"reputation":47,"user_id":8553672,"display_name":"Ayush Maheshwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655019505,"creation_date":1655018257,"question_id":72590196,"body_markdown":"I have been looking around for some example of mocking static void method but can&#39;t find any.\r\nEither we have example of mocking static method or mocking void method.\r\n\r\nPlease share any reference or example for the same.\r\n\r\nPS: I am using Mockito-inline 3.6.28","title":"Reference to Mock static void method","body":"<p>I have been looking around for some example of mocking static void method but can't find any.\nEither we have example of mocking static method or mocking void method.</p>\n<p>Please share any reference or example for the same.</p>\n<p>PS: I am using Mockito-inline 3.6.28</p>\n"},{"tags":["java","eclipse","jdbc"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1655019188,"post_id":72589993,"comment_id":128227244,"body_markdown":"How are you managing your dependencies? I don&#39;t know what &quot;dynamic web project&quot; means, but typically people use Maven or Gradle to manage a Java project and its dependencies.","body":"How are you managing your dependencies? I don&#39;t know what &quot;dynamic web project&quot; means, but typically people use Maven or Gradle to manage a Java project and its dependencies."}],"answers":[{"tags":[],"owner":{"account_id":25535552,"reputation":40,"user_id":19322692,"display_name":"meruvu likith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655019413,"creation_date":1655019413,"answer_id":72590293,"question_id":72589993,"body_markdown":"at first you need to create a java project and name it \r\nafter creating you can see a folder called referenced libraries down to your java project folder \r\n\r\nso add your jar which is in this directory (if you have Mysql installed in your system )\r\n C:\\Program Files (x86)\\MySQL\\Connector J 8.0\r\n\r\nin this folder you can find the .jar add to the referenced libraries\r\nand start executing the code it will work \r\n\r\n\r\nor execute this \r\nClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\nthis might work \r\n","title":"how can i connect mysql for jdbc i eclipse?","body":"<p>at first you need to create a java project and name it\nafter creating you can see a folder called referenced libraries down to your java project folder</p>\n<p>so add your jar which is in this directory (if you have Mysql installed in your system )\nC:\\Program Files (x86)\\MySQL\\Connector J 8.0</p>\n<p>in this folder you can find the .jar add to the referenced libraries\nand start executing the code it will work</p>\n<p>or execute this\nClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</p>\n<p>this might work</p>\n"}],"owner":{"account_id":20104922,"reputation":3,"user_id":14742674,"display_name":"Junior DEV 79"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655024168,"accepted_answer_id":72590293,"answer_count":1,"score":-1,"last_activity_date":1655019413,"creation_date":1655016015,"question_id":72589993,"body_markdown":"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\ngot this error also after adding sql-connector-jar to lib of dynamic web project.please help me with this. ","title":"how can i connect mysql for jdbc i eclipse?","body":"<p>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\ngot this error also after adding sql-connector-jar to lib of dynamic web project.please help me with this.</p>\n"},{"tags":["java","android","android-recyclerview","layout"],"answers":[{"tags":[],"owner":{"account_id":14331920,"reputation":351,"user_id":10352461,"display_name":"Stefan de Kraker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655018397,"creation_date":1654988866,"answer_id":72588453,"question_id":72588270,"body_markdown":"Just make your data class (something like) `Note` stored an extra var, `checked` like so:\r\n\r\n```kotlin\r\ndata class Note(\r\n    val note: String,\r\n    var checked: Boolean = false\r\n)\r\n```\r\n\r\nThen you can just save a list of those to the SQLite DB `List&lt;Note&gt;`\r\n\r\n```kotlin\r\n@Dao\r\ninterface NoteDao {\r\n\r\n    @Query(&quot;SELECT * FROM noteTable&quot;)\r\n    suspend fun getAllNotes(): List&lt;Note&gt;\r\n\r\n    @Insert\r\n    suspend fun insertNote(note: Note)\r\n\r\n    @Delete\r\n    suspend fun deleteNote(note: Note)\r\n\r\n    @Query(&quot;DELETE FROM noteTable&quot;)\r\n    suspend fun deleteAllNotes()\r\n\r\n}\r\n```\r\nAnd then when you get (load the screen) the data you can set the checkbox based on the value of `checked`.\r\n\r\nYou can read more about setting up your ROOM, DAO and SQLite database [here][1]. This tutorial will help you get setup with the different layers, here a reminder/note has only a `String`, but you can easily add more values to the data class.\r\n\r\n\r\n  [1]: https://mad.hbo-ict-codelabs.nl/codelabs/level4-example/index.html?index=..%2F..index#0","title":"How to store a layout to SQlite database in order to populate it later in the Recyclerview? Like the image shown below","body":"<p>Just make your data class (something like) <code>Note</code> stored an extra var, <code>checked</code> like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Note(\n    val note: String,\n    var checked: Boolean = false\n)\n</code></pre>\n<p>Then you can just save a list of those to the SQLite DB <code>List&lt;Note&gt;</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Dao\ninterface NoteDao {\n\n    @Query(&quot;SELECT * FROM noteTable&quot;)\n    suspend fun getAllNotes(): List&lt;Note&gt;\n\n    @Insert\n    suspend fun insertNote(note: Note)\n\n    @Delete\n    suspend fun deleteNote(note: Note)\n\n    @Query(&quot;DELETE FROM noteTable&quot;)\n    suspend fun deleteAllNotes()\n\n}\n</code></pre>\n<p>And then when you get (load the screen) the data you can set the checkbox based on the value of <code>checked</code>.</p>\n<p>You can read more about setting up your ROOM, DAO and SQLite database <a href=\"https://mad.hbo-ict-codelabs.nl/codelabs/level4-example/index.html?index=..%2F..index#0\" rel=\"nofollow noreferrer\">here</a>. This tutorial will help you get setup with the different layers, here a reminder/note has only a <code>String</code>, but you can easily add more values to the data class.</p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72588453,"answer_count":1,"score":0,"last_activity_date":1655018397,"creation_date":1654986611,"question_id":72588270,"body_markdown":"What is the idea to store a dynamic checkboxes list into SQLite database. I know how to add checkboxes with text into the Edittext and later add the view to the layout, after that I would be having a layout like the image below, but the question is, how to store that layout to SQlite table in order to be able to show that layout in the Recyclerview row when clicked.[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wGBHe.jpg","title":"How to store a layout to SQlite database in order to populate it later in the Recyclerview? Like the image shown below","body":"<p>What is the idea to store a dynamic checkboxes list into SQLite database. I know how to add checkboxes with text into the Edittext and later add the view to the layout, after that I would be having a layout like the image below, but the question is, how to store that layout to SQlite table in order to be able to show that layout in the Recyclerview row when clicked.<a href=\"https://i.stack.imgur.com/wGBHe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wGBHe.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","vibration","android-vibration"],"answers":[{"tags":[],"owner":{"account_id":142343,"reputation":127955,"user_id":379693,"accept_rate":95,"display_name":"Paresh Mayani"},"down_vote_count":2,"up_vote_count":1129,"is_accepted":true,"score":1127,"last_activity_date":1539770043,"creation_date":1355913204,"answer_id":13950364,"question_id":13950338,"body_markdown":"Try:\r\n    \r\n \r\n\r\n    import android.os.Vibrator;\r\n    ...\r\n    Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n    // Vibrate for 500 milliseconds\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        v.vibrate(VibrationEffect.createOneShot(500, VibrationEffect.DEFAULT_AMPLITUDE));\r\n    } else {\r\n        //deprecated in API 26 \r\n        v.vibrate(500);\r\n    }\r\n\r\n**Note:**\r\n\r\nDon&#39;t forget to include permission in AndroidManifest.xml file:  \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n\r\n","title":"How to make an Android device vibrate? with different frequency?","body":"<p>Try:</p>\n\n<pre><code>import android.os.Vibrator;\n...\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n// Vibrate for 500 milliseconds\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    v.vibrate(VibrationEffect.createOneShot(500, VibrationEffect.DEFAULT_AMPLITUDE));\n} else {\n    //deprecated in API 26 \n    v.vibrate(500);\n}\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>Don't forget to include permission in AndroidManifest.xml file:  </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1363866,"reputation":18413,"user_id":1300707,"display_name":"Liam George Betsworth"},"down_vote_count":0,"up_vote_count":703,"is_accepted":false,"score":703,"last_activity_date":1492787132,"creation_date":1371043690,"answer_id":17066803,"question_id":13950338,"body_markdown":"#Grant Vibration Permission#\r\n\r\nBefore you start implementing any vibration code, you have to give your application the permission to vibrate:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n\r\nMake sure to include this line in your AndroidManifest.xml file.\r\n\r\n#Import the Vibration Library#\r\n\r\nMost IDEs will do this for you, but here is the import statement if yours doesn&#39;t:\r\n\r\n     import android.os.Vibrator;\r\n\r\nMake sure this in the activity where you want the vibration to occur.\r\n\r\n#How to Vibrate for a Given Time#\r\n\r\nIn most circumstances, you&#39;ll be wanting to vibrate the device for a short, predetermined amount of time. You can achieve this by using the `vibrate(long milliseconds)` method. Here is a quick example:\r\n\r\n    // Get instance of Vibrator from current Context\r\n    Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n \r\n    // Vibrate for 400 milliseconds\r\n    v.vibrate(400);\r\n\r\nThat&#39;s it, simple!\r\n\r\n#How to Vibrate Indefinitely#\r\n\r\nIt may be the case that you want the device to continue vibrating indefinitely. For this, we use the `vibrate(long[] pattern, int repeat)` method:\r\n\r\n    // Get instance of Vibrator from current Context\r\n    Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n \r\n    // Start without a delay\r\n    // Vibrate for 100 milliseconds\r\n    // Sleep for 1000 milliseconds\r\n    long[] pattern = {0, 100, 1000};\r\n \r\n    // The &#39;0&#39; here means to repeat indefinitely\r\n    // &#39;0&#39; is actually the index at which the pattern keeps repeating from (the start)\r\n    // To repeat the pattern from any other point, you could increase the index, e.g. &#39;1&#39;\r\n    v.vibrate(pattern, 0);\r\n\r\nWhen you&#39;re ready to stop the vibration, just call the `cancel()` method:\r\n\r\n    v.cancel();\r\n\r\n#How to use Vibration Patterns#\r\n\r\nIf you want a more bespoke vibration, you can attempt to create your own vibration patterns:\r\n\r\n    // Get instance of Vibrator from current Context\r\n    Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n \r\n    // Start without a delay\r\n    // Each element then alternates between vibrate, sleep, vibrate, sleep...\r\n    long[] pattern = {0, 100, 1000, 300, 200, 100, 500, 200, 100};\r\n \r\n    // The &#39;-1&#39; here means to vibrate once, as &#39;-1&#39; is out of bounds in the pattern array\r\n    v.vibrate(pattern, -1);\r\n\r\n#More Complex Vibrations#\r\n\r\nThere are multiple SDKs that offer a more comprehensive range of haptic feedback. One that I use for special effects is [Immersion&#39;s Haptic Development Platform for Android][1].\r\n\r\n#Troubleshooting#\r\n\r\nIf your device won&#39;t vibrate, first make sure that it can vibrate:\r\n\r\n    // Get instance of Vibrator from current Context\r\n    Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n    \r\n    // Output yes if can vibrate, no otherwise\r\n    if (v.hasVibrator()) {\r\n        Log.v(&quot;Can Vibrate&quot;, &quot;YES&quot;);\r\n    } else {\r\n        Log.v(&quot;Can Vibrate&quot;, &quot;NO&quot;);\r\n    }\r\n\r\nSecondly, please ensure that you&#39;ve given your application the permission to vibrate! Refer back to the first point.\r\n\r\n  [1]: https://www.immersion.com/products-services/software-development-kit-for-mobile-games/","title":"How to make an Android device vibrate? with different frequency?","body":"<h1>Grant Vibration Permission</h1>\n\n<p>Before you start implementing any vibration code, you have to give your application the permission to vibrate:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>Make sure to include this line in your AndroidManifest.xml file.</p>\n\n<h1>Import the Vibration Library</h1>\n\n<p>Most IDEs will do this for you, but here is the import statement if yours doesn't:</p>\n\n<pre><code> import android.os.Vibrator;\n</code></pre>\n\n<p>Make sure this in the activity where you want the vibration to occur.</p>\n\n<h1>How to Vibrate for a Given Time</h1>\n\n<p>In most circumstances, you'll be wanting to vibrate the device for a short, predetermined amount of time. You can achieve this by using the <code>vibrate(long milliseconds)</code> method. Here is a quick example:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Vibrate for 400 milliseconds\nv.vibrate(400);\n</code></pre>\n\n<p>That's it, simple!</p>\n\n<h1>How to Vibrate Indefinitely</h1>\n\n<p>It may be the case that you want the device to continue vibrating indefinitely. For this, we use the <code>vibrate(long[] pattern, int repeat)</code> method:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Start without a delay\n// Vibrate for 100 milliseconds\n// Sleep for 1000 milliseconds\nlong[] pattern = {0, 100, 1000};\n\n// The '0' here means to repeat indefinitely\n// '0' is actually the index at which the pattern keeps repeating from (the start)\n// To repeat the pattern from any other point, you could increase the index, e.g. '1'\nv.vibrate(pattern, 0);\n</code></pre>\n\n<p>When you're ready to stop the vibration, just call the <code>cancel()</code> method:</p>\n\n<pre><code>v.cancel();\n</code></pre>\n\n<h1>How to use Vibration Patterns</h1>\n\n<p>If you want a more bespoke vibration, you can attempt to create your own vibration patterns:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Start without a delay\n// Each element then alternates between vibrate, sleep, vibrate, sleep...\nlong[] pattern = {0, 100, 1000, 300, 200, 100, 500, 200, 100};\n\n// The '-1' here means to vibrate once, as '-1' is out of bounds in the pattern array\nv.vibrate(pattern, -1);\n</code></pre>\n\n<h1>More Complex Vibrations</h1>\n\n<p>There are multiple SDKs that offer a more comprehensive range of haptic feedback. One that I use for special effects is <a href=\"https://www.immersion.com/products-services/software-development-kit-for-mobile-games/\" rel=\"noreferrer\">Immersion's Haptic Development Platform for Android</a>.</p>\n\n<h1>Troubleshooting</h1>\n\n<p>If your device won't vibrate, first make sure that it can vibrate:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Output yes if can vibrate, no otherwise\nif (v.hasVibrator()) {\n    Log.v(\"Can Vibrate\", \"YES\");\n} else {\n    Log.v(\"Can Vibrate\", \"NO\");\n}\n</code></pre>\n\n<p>Secondly, please ensure that you've given your application the permission to vibrate! Refer back to the first point.</p>\n"},{"tags":[],"owner":{"account_id":3696270,"reputation":341,"user_id":3077535,"display_name":"mklopfer"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1398001577,"creation_date":1386422889,"answer_id":20441897,"question_id":13950338,"body_markdown":"I struggled understanding how to do this on my first implementation - make sure you have the following: \r\n\r\n1) Your device supports vibration (my Samsung tablet did not work so I kept re-checking the code - the original code worked perfectly on my CM Touchpad\r\n\r\n2) You have declared &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt; above the application level in your AndroidManifest.xml file to give the code permission to run.\r\n\r\n3) Have imported both of the following in to your MainActivity.java with the other imports:\r\nimport android.content.Context;\r\nimport android.os.Vibrator;\r\n\r\n4) Call your vibration (discussed extensively in this thread already)  - I did it in a separate function and call this in the code at other points - depending on what you want to use to call the vibration you may need an image (https://stackoverflow.com/questions/4402740/android-long-click-on-a-button-perform-actions) or button listener, or a clickable object as defined in XML (https://stackoverflow.com/questions/4785544/clickable-image-android):\r\n\r\n     public void vibrate(int duration)\r\n     {\r\n    \tVibrator vibs = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n        vibs.vibrate(duration);    \r\n     }","title":"How to make an Android device vibrate? with different frequency?","body":"<p>I struggled understanding how to do this on my first implementation - make sure you have the following: </p>\n\n<p>1) Your device supports vibration (my Samsung tablet did not work so I kept re-checking the code - the original code worked perfectly on my CM Touchpad</p>\n\n<p>2) You have declared  above the application level in your AndroidManifest.xml file to give the code permission to run.</p>\n\n<p>3) Have imported both of the following in to your MainActivity.java with the other imports:\nimport android.content.Context;\nimport android.os.Vibrator;</p>\n\n<p>4) Call your vibration (discussed extensively in this thread already)  - I did it in a separate function and call this in the code at other points - depending on what you want to use to call the vibration you may need an image (<a href=\"https://stackoverflow.com/questions/4402740/android-long-click-on-a-button-perform-actions\">Android: long click on a button -&gt; perform actions</a>) or button listener, or a clickable object as defined in XML (<a href=\"https://stackoverflow.com/questions/4785544/clickable-image-android\">Clickable image - android</a>):</p>\n\n<pre><code> public void vibrate(int duration)\n {\n    Vibrator vibs = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n    vibs.vibrate(duration);    \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3643076,"reputation":6722,"user_id":3036759,"accept_rate":39,"display_name":"Atul O Holic"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1587047672,"creation_date":1399645137,"answer_id":23566943,"question_id":13950338,"body_markdown":"Above answers are perfect. However I wanted to vibrate my app exactly twice on button click and this small information is missing here, hence posting for future readers like me. :)\r\n\r\nWe have to follow as mentioned above and the only change will be in the vibrate pattern as below,\r\n\r\n    long[] pattern = {0, 100, 1000, 300};\r\n    v.vibrate(pattern, -1); //-1 is important\r\n\r\nThis will exactly vibrate **twice**. As we already know\r\n\r\n 1. 0 is for *delay*\r\n 2. 100 says *vibrate* for 100ms for the first time\r\n 3. next comes *delay* of 1000ms\r\n 4. and post that *vibrate* again for 300ms\r\n\r\nOne can go on and on mentioning delay and vibration alternatively (e.g. 0, 100, 1000, 300, 1000, 300 for 3 vibrations and so on..) but remember @Dave&#39;s word use it responsibly. :)\r\n\r\nAlso note here that the *repeat* parameter is set to -1 which means the vibration will happen **exactly as mentioned in the pattern**. :)","title":"How to make an Android device vibrate? with different frequency?","body":"<p>Above answers are perfect. However I wanted to vibrate my app exactly twice on button click and this small information is missing here, hence posting for future readers like me. :)</p>\n\n<p>We have to follow as mentioned above and the only change will be in the vibrate pattern as below,</p>\n\n<pre><code>long[] pattern = {0, 100, 1000, 300};\nv.vibrate(pattern, -1); //-1 is important\n</code></pre>\n\n<p>This will exactly vibrate <strong>twice</strong>. As we already know</p>\n\n<ol>\n<li>0 is for <em>delay</em></li>\n<li>100 says <em>vibrate</em> for 100ms for the first time</li>\n<li>next comes <em>delay</em> of 1000ms</li>\n<li>and post that <em>vibrate</em> again for 300ms</li>\n</ol>\n\n<p>One can go on and on mentioning delay and vibration alternatively (e.g. 0, 100, 1000, 300, 1000, 300 for 3 vibrations and so on..) but remember @Dave's word use it responsibly. :)</p>\n\n<p>Also note here that the <em>repeat</em> parameter is set to -1 which means the vibration will happen <strong>exactly as mentioned in the pattern</strong>. :)</p>\n"},{"tags":[],"owner":{"account_id":6444436,"reputation":891,"user_id":5006373,"display_name":"dondondon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516189402,"creation_date":1435718728,"answer_id":31151768,"question_id":13950338,"body_markdown":"Above answer is very correct but I&#39;m giving an easy step to do it:\r\n\r\n     private static final long[] THREE_CYCLES = new long[] { 100, 1000, 1000,  1000, 1000, 1000 };\r\n\r\n      public void longVibrate(View v) \r\n      {\r\n         vibrateMulti(THREE_CYCLES);\r\n      }\r\n\r\n      private void vibrateMulti(long[] cycles) {\r\n          NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE); \r\n          Notification notification = new Notification();\r\n    \r\n          notification.vibrate = cycles; \r\n          notificationManager.notify(0, notification);\r\n      }\r\n\r\nAnd then in your xml file: \r\n\r\n    &lt;button android:layout_height=&quot;wrap_content&quot; \r\n            android:layout_width =&quot;wrap_content&quot; \r\n            android:onclick      =&quot;longVibrate&quot; \r\n            android:text         =&quot;VibrateThrice&quot;&gt;\r\n    &lt;/button&gt;\r\n\r\nThat&#39;s the [easiest][1] way.\r\n\r\n\r\n  [1]: http://programondaspot.blogspot.com/2015/06/simple-android-vibration-application.html","title":"How to make an Android device vibrate? with different frequency?","body":"<p>Above answer is very correct but I'm giving an easy step to do it:</p>\n\n<pre><code> private static final long[] THREE_CYCLES = new long[] { 100, 1000, 1000,  1000, 1000, 1000 };\n\n  public void longVibrate(View v) \n  {\n     vibrateMulti(THREE_CYCLES);\n  }\n\n  private void vibrateMulti(long[] cycles) {\n      NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE); \n      Notification notification = new Notification();\n\n      notification.vibrate = cycles; \n      notificationManager.notify(0, notification);\n  }\n</code></pre>\n\n<p>And then in your xml file: </p>\n\n<pre><code>&lt;button android:layout_height=\"wrap_content\" \n        android:layout_width =\"wrap_content\" \n        android:onclick      =\"longVibrate\" \n        android:text         =\"VibrateThrice\"&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>That's the <a href=\"http://programondaspot.blogspot.com/2015/06/simple-android-vibration-application.html\" rel=\"nofollow noreferrer\">easiest</a> way.</p>\n"},{"tags":[],"owner":{"account_id":6552404,"reputation":332,"user_id":5066335,"display_name":"Sivagami Nambi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479448955,"creation_date":1479448955,"answer_id":40670324,"question_id":13950338,"body_markdown":"    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\nshould be added inside `&lt;manifest&gt;` tag and outside `&lt;application&gt;` tag.","title":"How to make an Android device vibrate? with different frequency?","body":"<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>should be added inside <code>&lt;manifest&gt;</code> tag and outside <code>&lt;application&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480409274,"creation_date":1480409274,"answer_id":40861342,"question_id":13950338,"body_markdown":"I use the following utils method:\r\n\r\n    public static final void vibratePhone(Context context, short vibrateMilliSeconds) {\r\n    \tVibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n    \tvibrator.vibrate(vibrateMilliSeconds);\r\n    }\r\n\r\nAdd the following permission to the AndroidManifest file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n\r\nYou can use overloaded methods in case if you wish to use different types of vibrations (patterns / indefinite) as suggested above.","title":"How to make an Android device vibrate? with different frequency?","body":"<p>I use the following utils method:</p>\n\n<pre><code>public static final void vibratePhone(Context context, short vibrateMilliSeconds) {\n    Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n    vibrator.vibrate(vibrateMilliSeconds);\n}\n</code></pre>\n\n<p>Add the following permission to the AndroidManifest file</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>You can use overloaded methods in case if you wish to use different types of vibrations (patterns / indefinite) as suggested above.</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1545054686,"creation_date":1502343462,"answer_id":45605249,"question_id":13950338,"body_markdown":"**Update 2017 vibrate(interval) method is deprecated with Android-O(API 8.0)**\r\n\r\nTo support all Android versions use this method.\r\n\r\n    // Vibrate for 150 milliseconds\r\n    private void shakeItBaby() {\r\n        if (Build.VERSION.SDK_INT &gt;= 26) {\r\n            ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(VibrationEffect.createOneShot(150, VibrationEffect.DEFAULT_AMPLITUDE));\r\n        } else {\r\n            ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(150);\r\n        }\r\n    }\r\n\r\n**Kotlin:**\r\n\r\n    // Vibrate for 150 milliseconds\r\n    private fun shakeItBaby(context: Context) {\r\n        if (Build.VERSION.SDK_INT &gt;= 26) {\r\n            (context.getSystemService(VIBRATOR_SERVICE) as Vibrator).vibrate(VibrationEffect.createOneShot(150, VibrationEffect.DEFAULT_AMPLITUDE))\r\n        } else {\r\n            (context.getSystemService(VIBRATOR_SERVICE) as Vibrator).vibrate(150)\r\n        }\r\n    }\r\n     ","title":"How to make an Android device vibrate? with different frequency?","body":"<p><strong>Update 2017 vibrate(interval) method is deprecated with Android-O(API 8.0)</strong></p>\n\n<p>To support all Android versions use this method.</p>\n\n<pre><code>// Vibrate for 150 milliseconds\nprivate void shakeItBaby() {\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(VibrationEffect.createOneShot(150, VibrationEffect.DEFAULT_AMPLITUDE));\n    } else {\n        ((Vibrator) getSystemService(VIBRATOR_SERVICE)).vibrate(150);\n    }\n}\n</code></pre>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code>// Vibrate for 150 milliseconds\nprivate fun shakeItBaby(context: Context) {\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        (context.getSystemService(VIBRATOR_SERVICE) as Vibrator).vibrate(VibrationEffect.createOneShot(150, VibrationEffect.DEFAULT_AMPLITUDE))\n    } else {\n        (context.getSystemService(VIBRATOR_SERVICE) as Vibrator).vibrate(150)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11374056,"reputation":131,"user_id":8338881,"display_name":"Prakhar Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526107341,"creation_date":1526107341,"answer_id":50303597,"question_id":13950338,"body_markdown":"Use this:\r\n\r\n    import android.os.Vibrator;\r\n         ...\r\n         Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n         // Vibrate for 1000 milliseconds\r\n         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                v.vibrate(VibrationEffect.createOneShot(1000,VibrationEffect.DEFAULT_AMPLITUDE));\r\n         }else{\r\n         //deprecated in API 26 \r\n                v.vibrate(1000);\r\n         }\r\n\r\nNote:\r\n\r\nDon&#39;t forget to include permission in AndroidManifest.xml file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;","title":"How to make an Android device vibrate? with different frequency?","body":"<p>Use this:</p>\n\n<pre><code>import android.os.Vibrator;\n     ...\n     Vibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n     // Vibrate for 1000 milliseconds\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            v.vibrate(VibrationEffect.createOneShot(1000,VibrationEffect.DEFAULT_AMPLITUDE));\n     }else{\n     //deprecated in API 26 \n            v.vibrate(1000);\n     }\n</code></pre>\n\n<p>Note:</p>\n\n<p>Don't forget to include permission in AndroidManifest.xml file:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378819,"reputation":4051,"user_id":2836371,"display_name":"Maksim Ivanov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1618346455,"creation_date":1554966784,"answer_id":55626651,"question_id":13950338,"body_markdown":"Vibrating in **Patterns/Waves**:\r\n\r\n    import android.os.Vibrator;\r\n    ...\r\n    // Pause for 500ms, vibrate for 500ms, then start again\r\n    private static final long[] VIBRATE_PATTERN = { 500, 500 };\r\n    \r\n    mVibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        // API 26 and above\r\n        mVibrator.vibrate(VibrationEffect.createWaveform(VIBRATE_PATTERN, 0));\r\n    } else {\r\n        // Below API 26\r\n        mVibrator.vibrate(VIBRATE_PATTERN, 0);\r\n    }\r\n\r\n**Plus**\r\n\r\nThe necessary permission in `AndroidManifest.xml`:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;","title":"How to make an Android device vibrate? with different frequency?","body":"<p>Vibrating in <strong>Patterns/Waves</strong>:</p>\n<pre><code>import android.os.Vibrator;\n...\n// Pause for 500ms, vibrate for 500ms, then start again\nprivate static final long[] VIBRATE_PATTERN = { 500, 500 };\n\nmVibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    // API 26 and above\n    mVibrator.vibrate(VibrationEffect.createWaveform(VIBRATE_PATTERN, 0));\n} else {\n    // Below API 26\n    mVibrator.vibrate(VIBRATE_PATTERN, 0);\n}\n</code></pre>\n<p><strong>Plus</strong></p>\n<p>The necessary permission in <code>AndroidManifest.xml</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8154089,"reputation":201,"user_id":6140220,"accept_rate":73,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554968940,"creation_date":1554968940,"answer_id":55627280,"question_id":13950338,"body_markdown":"You can Vibrate the Device and its work\r\n\r\n       Vibrator v = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n               v.vibrate(100);\r\n\r\nPermission is necessary but not on runtime permission required\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n","title":"How to make an Android device vibrate? with different frequency?","body":"<p>You can Vibrate the Device and its work</p>\n\n<pre><code>   Vibrator v = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n           v.vibrate(100);\n</code></pre>\n\n<p>Permission is necessary but not on runtime permission required</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1571157730,"creation_date":1571157730,"answer_id":58399229,"question_id":13950338,"body_markdown":"Kotlin update for more type safety\r\n-----------------------------\r\nUse it as a top level function in some common class of your project such as Utils.kt\r\n\r\n    // Vibrates the device for 100 milliseconds.\r\n    fun vibrateDevice(context: Context) {\r\n        val vibrator = getSystemService(context, Vibrator::class.java)\r\n        vibrator?.let {\r\n            if (Build.VERSION.SDK_INT &gt;= 26) {\r\n                it.vibrate(VibrationEffect.createOneShot(100, VibrationEffect.DEFAULT_AMPLITUDE))\r\n            } else {\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                it.vibrate(100)\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then call it anywhere in your code as following:\r\n\r\n    vibrateDevice(requireContext())\r\n\r\nExplanation\r\n-----------\r\n\r\nUsing `Vibrator::class.java` is more type safe than using `String` constants.\r\n\r\nWe check the `vibrator` for nullability using `let { }`, because if the vibration is not available for the device, the `vibrator` will be `null`.\r\n\r\nIt&#39;s ok to supress deprecation in `else` clause, because the warning is from newer SDK.\r\n\r\nWe don&#39;t need to ask for permission at runtime for using vibration. But we need to declare it in `AndroidManifest.xml` as following:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;","title":"How to make an Android device vibrate? with different frequency?","body":"<h2>Kotlin update for more type safety</h2>\n\n<p>Use it as a top level function in some common class of your project such as Utils.kt</p>\n\n<pre><code>// Vibrates the device for 100 milliseconds.\nfun vibrateDevice(context: Context) {\n    val vibrator = getSystemService(context, Vibrator::class.java)\n    vibrator?.let {\n        if (Build.VERSION.SDK_INT &gt;= 26) {\n            it.vibrate(VibrationEffect.createOneShot(100, VibrationEffect.DEFAULT_AMPLITUDE))\n        } else {\n            @Suppress(\"DEPRECATION\")\n            it.vibrate(100)\n        }\n    }\n}\n</code></pre>\n\n<p>And then call it anywhere in your code as following:</p>\n\n<pre><code>vibrateDevice(requireContext())\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>Using <code>Vibrator::class.java</code> is more type safe than using <code>String</code> constants.</p>\n\n<p>We check the <code>vibrator</code> for nullability using <code>let { }</code>, because if the vibration is not available for the device, the <code>vibrator</code> will be <code>null</code>.</p>\n\n<p>It's ok to supress deprecation in <code>else</code> clause, because the warning is from newer SDK.</p>\n\n<p>We don't need to ask for permission at runtime for using vibration. But we need to declare it in <code>AndroidManifest.xml</code> as following:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1571170010,"creation_date":1571170010,"answer_id":58401953,"question_id":13950338,"body_markdown":"Vibrate without using permission\r\n---------------------------------\r\n\r\nIf you want to simply vibrate the device once to provide a feedback on a user action. You can use `performHapticFeedback()` function of a `View`. This doesn&#39;t need the `VIBRATE` permission to be declared in the manifest.\r\n\r\nUse the following function as a top level function in some common class like Utils.kt of your project:\r\n\r\n    /**\r\n     * Vibrates the device. Used for providing feedback when the user performs an action.\r\n     */\r\n    fun vibrate(view: View) {\r\n        view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS)\r\n    }\r\n\r\nAnd then use it anywhere in your `Fragment` or `Activity` as following:\r\n\r\n    vibrate(requireView())\r\n\r\nSimple as that!","title":"How to make an Android device vibrate? with different frequency?","body":"<h2>Vibrate without using permission</h2>\n\n<p>If you want to simply vibrate the device once to provide a feedback on a user action. You can use <code>performHapticFeedback()</code> function of a <code>View</code>. This doesn't need the <code>VIBRATE</code> permission to be declared in the manifest.</p>\n\n<p>Use the following function as a top level function in some common class like Utils.kt of your project:</p>\n\n<pre><code>/**\n * Vibrates the device. Used for providing feedback when the user performs an action.\n */\nfun vibrate(view: View) {\n    view.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS)\n}\n</code></pre>\n\n<p>And then use it anywhere in your <code>Fragment</code> or <code>Activity</code> as following:</p>\n\n<pre><code>vibrate(requireView())\n</code></pre>\n\n<p>Simple as that!</p>\n"},{"tags":[],"owner":{"account_id":6836040,"reputation":191,"user_id":5257995,"display_name":"Sarun1001"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655018120,"creation_date":1654947481,"answer_id":72584010,"question_id":13950338,"body_markdown":"\r\n## VIBRATOR_SERVICE is deprecated.\r\n ##\r\n\r\n\r\n----------\r\nSo use VIBRATOR_MANAGER_SERVICE in SDK 31 &amp; Above\r\n\r\n----------\r\nMake sure you added this permission in AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n----------\r\n\r\n\r\n    Vibrator vibrator;\r\n    VibratorManager vibratorManager;\r\n    private static final long[] VIBRATE_PATTERN = {500, 500};\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (Build.VERSION.SDK_INT&gt;=31) {\r\n            vibratorManager = (VibratorManager) getSystemService(Context.VIBRATOR_MANAGER_SERVICE);\r\n            vibrator = vibratorManager.getDefaultVibrator();\r\n        }\r\n        else {\r\n            vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= 26) {\r\n            vibrator.vibrate(VibrationEffect.createWaveform(VIBRATE_PATTERN,0));\r\n        }\r\n        else {\r\n            vibrator.vibrate(VIBRATE_PATTERN,0);\r\n        }\r\n    }\r\n\r\n","title":"How to make an Android device vibrate? with different frequency?","body":"<h2>VIBRATOR_SERVICE is deprecated.</h2>\n<h2></h2>\n<hr />\n<p>So use VIBRATOR_MANAGER_SERVICE in SDK 31 &amp; Above</p>\n<hr />\n<p>Make sure you added this permission in AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n</code></pre>\n<hr />\n<pre><code>Vibrator vibrator;\nVibratorManager vibratorManager;\nprivate static final long[] VIBRATE_PATTERN = {500, 500};\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    if (Build.VERSION.SDK_INT&gt;=31) {\n        vibratorManager = (VibratorManager) getSystemService(Context.VIBRATOR_MANAGER_SERVICE);\n        vibrator = vibratorManager.getDefaultVibrator();\n    }\n    else {\n        vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= 26) {\n        vibrator.vibrate(VibrationEffect.createWaveform(VIBRATE_PATTERN,0));\n    }\n    else {\n        vibrator.vibrate(VIBRATE_PATTERN,0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2009526,"reputation":8998,"user_id":1798362,"accept_rate":62,"display_name":"Billie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417522,"favorite_count":0,"down_vote_count":10,"up_vote_count":614,"accepted_answer_id":13950364,"answer_count":14,"score":604,"last_activity_date":1655018120,"creation_date":1355913125,"question_id":13950338,"body_markdown":"I wrote an Android application. Now, I want to make the device vibrate when a certain action occurs. How can I do this?","title":"How to make an Android device vibrate? with different frequency?","body":"<p>I wrote an Android application. Now, I want to make the device vibrate when a certain action occurs. How can I do this?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1513535221,"post_id":47857894,"comment_id":82680757,"body_markdown":"_Is there any way to get this work without Jackson?_ There needs to be **something** to do the serialization. If you don&#39;t want Jackson, use something else. Spring MVC also has a `GsonHttpMessageConverter`.","body":"<i>Is there any way to get this work without Jackson?</i> There needs to be <b>something</b> to do the serialization. If you don&#39;t want Jackson, use something else. Spring MVC also has a <code>GsonHttpMessageConverter</code>."},{"owner":{"account_id":5982482,"reputation":4877,"user_id":4701022,"accept_rate":60,"display_name":"Arnold Zahrneinder"},"score":0,"creation_date":1513538401,"post_id":47857894,"comment_id":82681665,"body_markdown":"@SotiriosDelimanolis: Can you please provide an example as an answer?","body":"@SotiriosDelimanolis: Can you please provide an example as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1513602011,"creation_date":1513572312,"answer_id":47862254,"question_id":47857894,"body_markdown":"## Regarding 406 - Not Acceptable\r\n\r\nSince your controller is configured to only return a response if the client requests `application/json` data,\r\n\r\n    produces = &quot;application/json&quot;\r\n\r\nyou probably get &quot;406 Not Acceptable&quot; because your client requested something else / did not specify any Accepts header. You can fix by:\r\n\r\n* fixing your client request to provide `Accepts` header\r\n* changing the annotation to accept whatever your clients send (inluding `*/*` if you are lazy).\r\n\r\nThis is your only issue, you are not forced to use any Serialization framework with Spring (But a Serializer is required if you define your controller methods to return arbitrary beans). You can write any String as a response to your clients.\r\n\r\n## Regarding how to respond with Jsoniter in the background\r\n\r\nIf you want to keep using Jsoniter, but move that to the background so your Controller class does not explicitly mention jsoniter anymore, you need to define your own [custom HttpMessageConverter](https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things/5099622).\r\n\r\n## Regarding how to respond without Jsoniter\r\n\r\nYou need some Serializer to generate Json from Java. You can write custom code, or use Jackson or Gson. Spring supports Jackson by default, and Gson by using GsonHttpMessageConverter. For Jackson, your current code is ok, but you need to add a jackson dependency. For Gson, you need to declare the converter, there are several resources explaining that online.\r\n\r\n## Regarding how to manually respond with Jsoniter \r\n\r\nAs in the answers to this question https://stackoverflow.com/questions/3146461/does-spring-mvc-have-response-write-to-output-to-the-browser-directly\r\n\r\nYou can write your response using `@ResponseBody`. Since `@RestController` already implies `@ResponseBody`, you could also leave it out. Showing it here just for clarification:\r\n\r\n    @ResponseBody // not needed with @RestController\r\n    @RequestMapping(value = &quot;Test&quot;, method = RequestMethod.Get, produces = &quot;application/json&quot;)\r\n    public String letsTest() {\r\n        // Using Jsoniter JsonStream\r\n        return JsonStream.serialize(myStringList);\r\n    }\r\n\r\n","title":"RestController: HTTP Status 406 - Not Acceptable","body":"<h2>Regarding 406 - Not Acceptable</h2>\n\n<p>Since your controller is configured to only return a response if the client requests <code>application/json</code> data,</p>\n\n<pre><code>produces = \"application/json\"\n</code></pre>\n\n<p>you probably get \"406 Not Acceptable\" because your client requested something else / did not specify any Accepts header. You can fix by:</p>\n\n<ul>\n<li>fixing your client request to provide <code>Accepts</code> header</li>\n<li>changing the annotation to accept whatever your clients send (inluding <code>*/*</code> if you are lazy).</li>\n</ul>\n\n<p>This is your only issue, you are not forced to use any Serialization framework with Spring (But a Serializer is required if you define your controller methods to return arbitrary beans). You can write any String as a response to your clients.</p>\n\n<h2>Regarding how to respond with Jsoniter in the background</h2>\n\n<p>If you want to keep using Jsoniter, but move that to the background so your Controller class does not explicitly mention jsoniter anymore, you need to define your own <a href=\"https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things/5099622\">custom HttpMessageConverter</a>.</p>\n\n<h2>Regarding how to respond without Jsoniter</h2>\n\n<p>You need some Serializer to generate Json from Java. You can write custom code, or use Jackson or Gson. Spring supports Jackson by default, and Gson by using GsonHttpMessageConverter. For Jackson, your current code is ok, but you need to add a jackson dependency. For Gson, you need to declare the converter, there are several resources explaining that online.</p>\n\n<h2>Regarding how to manually respond with Jsoniter</h2>\n\n<p>As in the answers to this question <a href=\"https://stackoverflow.com/questions/3146461/does-spring-mvc-have-response-write-to-output-to-the-browser-directly\">Does spring mvc have response.write to output to the browser directly?</a></p>\n\n<p>You can write your response using <code>@ResponseBody</code>. Since <code>@RestController</code> already implies <code>@ResponseBody</code>, you could also leave it out. Showing it here just for clarification:</p>\n\n<pre><code>@ResponseBody // not needed with @RestController\n@RequestMapping(value = \"Test\", method = RequestMethod.Get, produces = \"application/json\")\npublic String letsTest() {\n    // Using Jsoniter JsonStream\n    return JsonStream.serialize(myStringList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5876051,"reputation":131,"user_id":4626834,"display_name":"Kevin Sebastian Fernandez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528021221,"creation_date":1528020740,"answer_id":50665256,"question_id":47857894,"body_markdown":"Spring 4.3.10: I used the below settings to resolve the issue.\r\n\r\nStep 1: Add the below dependencies\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2: Add the below in your MVC DispatcherServlet context configuration:\r\n\r\n    &lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;contentNegotiationManager&quot;\r\n    \t\tclass=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\r\n    \t\t&lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\nSince spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like `.htm` spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.","title":"RestController: HTTP Status 406 - Not Acceptable","body":"<p>Spring 4.3.10: I used the below settings to resolve the issue.</p>\n\n<p>Step 1: Add the below dependencies</p>\n\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Step 2: Add the below in your MVC DispatcherServlet context configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=\"contentNegotiationManager\"/&gt;\n\n&lt;bean id=\"contentNegotiationManager\"\n        class=\"org.springframework.web.accept.ContentNegotiationManagerFactoryBean\"&gt;\n        &lt;property name=\"favorPathExtension\" value=\"false\"/&gt;\n        &lt;property name=\"favorParameter\" value=\"true\"/&gt;\n        &lt;property name=\"ignoreAcceptHeader\" value=\"false\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Since spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like <code>.htm</code> spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.</p>\n"},{"tags":[],"owner":{"account_id":11531727,"reputation":11,"user_id":8450475,"display_name":"Chetan T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533902496,"creation_date":1533902496,"answer_id":51786077,"question_id":47857894,"body_markdown":"In my Case the scenario was to insert pdf resources in the database using the Spring restTemplate.put method.\r\n\r\nhttp://${apiGateWay}/resource/provision/Test.pdf\r\n\r\nwith header as application/pdf. But Still I was getting 406 not acceptable error.\r\n\r\nAfter debugging the issue it was found out that,put request does not accept the key with . extension.\r\n\r\nHence the url should be,\r\n\r\nhttp://${apiGateWay}/resource/provision/Test\r\n","title":"RestController: HTTP Status 406 - Not Acceptable","body":"<p>In my Case the scenario was to insert pdf resources in the database using the Spring restTemplate.put method.</p>\n\n<p>http://${apiGateWay}/resource/provision/Test.pdf</p>\n\n<p>with header as application/pdf. But Still I was getting 406 not acceptable error.</p>\n\n<p>After debugging the issue it was found out that,put request does not accept the key with . extension.</p>\n\n<p>Hence the url should be,</p>\n\n<p>http://${apiGateWay}/resource/provision/Test</p>\n"}],"owner":{"account_id":5982482,"reputation":4877,"user_id":4701022,"accept_rate":60,"display_name":"Arnold Zahrneinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16240,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":47862254,"answer_count":3,"score":2,"last_activity_date":1655017783,"creation_date":1513533168,"question_id":47857894,"body_markdown":"I use &quot;Jsonitter&quot; as a JSON serialization framework and I don&#39;t use Maven in my project. I&#39;ve been returning JSON objects in in my restful api by directly writing the result of the &quot;Jsonitter&quot; to the `HttpServletResponse` until now that I found about the `@RestController` attribute. Being from an ASP.Net MVC background, I expect the framework to automatically serialize the returned object in my api in accordance with the `Accept` header. But I feel like, Spring requires a third-party serialization framework to render the result (i.e. Jackson) because it returns `HTTP Status 406 - Not Acceptable` result instead. \r\n\r\nThe way I&#39;m using it is as follows: \r\n\r\n    @RestController\r\n    @EnableWebMvc\r\n    public class TestApi {\r\n        @RequestMapping(value = &quot;Test&quot;, method = RequestMethod.Get, produces = &quot;application/json&quot;)\r\n        public List&lt;String&gt; letsTest(){\r\n            return myStringList;\r\n        }\r\n    }\r\n\r\nI don&#39;t have any reference to Jackson and I&#39;d rather not use it at all and I feel like the error is due to that. Is there any way to get this work without Jackson? ","title":"RestController: HTTP Status 406 - Not Acceptable","body":"<p>I use \"Jsonitter\" as a JSON serialization framework and I don't use Maven in my project. I've been returning JSON objects in in my restful api by directly writing the result of the \"Jsonitter\" to the <code>HttpServletResponse</code> until now that I found about the <code>@RestController</code> attribute. Being from an ASP.Net MVC background, I expect the framework to automatically serialize the returned object in my api in accordance with the <code>Accept</code> header. But I feel like, Spring requires a third-party serialization framework to render the result (i.e. Jackson) because it returns <code>HTTP Status 406 - Not Acceptable</code> result instead. </p>\n\n<p>The way I'm using it is as follows: </p>\n\n<pre><code>@RestController\n@EnableWebMvc\npublic class TestApi {\n    @RequestMapping(value = \"Test\", method = RequestMethod.Get, produces = \"application/json\")\n    public List&lt;String&gt; letsTest(){\n        return myStringList;\n    }\n}\n</code></pre>\n\n<p>I don't have any reference to Jackson and I'd rather not use it at all and I feel like the error is due to that. Is there any way to get this work without Jackson? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1655016926,"post_id":72590049,"comment_id":128226897,"body_markdown":"You&#39;re running into this due to using nested types. I *strongly* advise you to use top-level types (i.e. not declare one type within another) unless you really, really know what you&#39;re doing and *definitely* want to use a nested type.","body":"You&#39;re running into this due to using nested types. I <i>strongly</i> advise you to use top-level types (i.e. not declare one type within another) unless you really, really know what you&#39;re doing and <i>definitely</i> want to use a nested type."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655016935,"post_id":72590049,"comment_id":128226900,"body_markdown":"When you get an error, try searching stack overflow for the error message before posting -- you will save yourself some time.","body":"When you get an error, try searching stack overflow for the error message before posting -- you will save yourself some time."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1655016947,"post_id":72590049,"comment_id":128226904,"body_markdown":"@tgdavies: No, that question isn&#39;t really the same. That question has nothing to do with nested types, whereas the *only* problem in this question is that the types are nested.","body":"@tgdavies: No, that question isn&#39;t really the same. That question has nothing to do with nested types, whereas the <i>only</i> problem in this question is that the types are nested."}],"owner":{"account_id":22863675,"reputation":1,"user_id":17007361,"display_name":"Procepthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655017472,"answer_count":0,"score":0,"last_activity_date":1655017528,"creation_date":1655016698,"question_id":72590049,"body_markdown":"\r\n\r\n    public class artistSearchOop {\r\n        \r\n        public abstract class ArtistTable implements Interface1{\r\n            \r\n            int rowSum;\r\n            int colSum[];\r\n            \r\n            @Override\r\n            public void salesSummary(){\r\n                \r\n                int artistSales [][] = {\r\n                    {900000,800000,500000},\r\n                    {700000,500000,500000}       \r\n                };\r\n                \r\n                String[] artistNames = {\r\n                    &quot;Master KG&quot;,\r\n                    &quot;DJ B Coffee&quot;\r\n                    \r\n                };\r\n                \r\n                colSum[0] = artistSales [0][0]\r\n                        + artistSales [1][0];\r\n                \r\n                colSum[1] = artistSales [0][1]\r\n                        + artistSales [1][1];\r\n                \r\n                 }\r\n            \r\n        }\r\n        \r\n        public interface Interface1 {\r\n            \r\n            public void salesSummary();\r\n                \r\n            \r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            Interface1 interface1 = new ArtistTable();\r\n            interface1.salesSummary();\r\n        }\r\n\r\nI keep getting the error &quot;non static variable this cannot be referenced from a static context. On the 3rd last line - &#39;Interface1 interface1 = new ArtistTable();&#39;\r\n","title":"I have a java error that has to do with static and non-static","body":"<pre><code>public class artistSearchOop {\n    \n    public abstract class ArtistTable implements Interface1{\n        \n        int rowSum;\n        int colSum[];\n        \n        @Override\n        public void salesSummary(){\n            \n            int artistSales [][] = {\n                {900000,800000,500000},\n                {700000,500000,500000}       \n            };\n            \n            String[] artistNames = {\n                &quot;Master KG&quot;,\n                &quot;DJ B Coffee&quot;\n                \n            };\n            \n            colSum[0] = artistSales [0][0]\n                    + artistSales [1][0];\n            \n            colSum[1] = artistSales [0][1]\n                    + artistSales [1][1];\n            \n             }\n        \n    }\n    \n    public interface Interface1 {\n        \n        public void salesSummary();\n            \n        \n    }\n    \n    public static void main(String[] args) {\n        \n        Interface1 interface1 = new ArtistTable();\n        interface1.salesSummary();\n    }\n</code></pre>\n<p>I keep getting the error &quot;non static variable this cannot be referenced from a static context. On the 3rd last line - 'Interface1 interface1 = new ArtistTable();'</p>\n"},{"tags":["java","xml","maven","tomcat"],"comments":[{"owner":{"account_id":2186921,"reputation":8566,"user_id":1935128,"accept_rate":60,"display_name":"Johnride"},"score":0,"creation_date":1410274100,"post_id":25747578,"comment_id":40259329,"body_markdown":"Did you try to reload your webapp? Whenever you change a config or a source file you have to reload the webapp in tomcat.","body":"Did you try to reload your webapp? Whenever you change a config or a source file you have to reload the webapp in tomcat."},{"owner":{"account_id":1688803,"reputation":63,"user_id":1551574,"display_name":"user1551574"},"score":0,"creation_date":1410274379,"post_id":25747578,"comment_id":40259522,"body_markdown":"yes, i reloaded the app, tried adding it again but no effect","body":"yes, i reloaded the app, tried adding it again but no effect"},{"owner":{"account_id":2186921,"reputation":8566,"user_id":1935128,"accept_rate":60,"display_name":"Johnride"},"score":0,"creation_date":1410275175,"post_id":25747578,"comment_id":40260113,"body_markdown":"Might be a configuration that loads a file with a machine-specific path. Try to see if it bugs in your code at all. It would be useful that you copy your complete stack trace to pastebin and link it.","body":"Might be a configuration that loads a file with a machine-specific path. Try to see if it bugs in your code at all. It would be useful that you copy your complete stack trace to pastebin and link it."},{"owner":{"account_id":1688803,"reputation":63,"user_id":1551574,"display_name":"user1551574"},"score":0,"creation_date":1410276309,"post_id":25747578,"comment_id":40260856,"body_markdown":"ok, i found the problem\none by one I removed the maven dependencies and there was a c3p0 dependency that was causing the problem. after I removed that now it is working. Thanks for your time tough.","body":"ok, i found the problem one by one I removed the maven dependencies and there was a c3p0 dependency that was causing the problem. after I removed that now it is working. Thanks for your time tough."}],"answers":[{"tags":[],"owner":{"account_id":1055208,"reputation":1237,"user_id":1058096,"display_name":"dtelaroli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478891948,"creation_date":1478891192,"answer_id":40554588,"question_id":25747578,"body_markdown":"I was having that problem and I solved it adding jax-rs api and works fine.\r\n\r\nWith error:\r\n\r\n\t\t\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;!-- Added --&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"TOMCAT showing java.lang.IndexOutOfBoundsException on updating web.xml","body":"<p>I was having that problem and I solved it adding jax-rs api and works fine.</p>\n\n<p>With error:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;2.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Added --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1688803,"reputation":63,"user_id":1551574,"display_name":"user1551574"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655017290,"creation_date":1410273932,"question_id":25747578,"body_markdown":"Whenever I update web.xml it is giving me this error\r\n\r\n&gt; &quot;An internal error occurred during: &quot;Updating status for Tomcat v7.0\r\n&gt; Server at localhost...&quot;. java.lang.IndexOutOfBoundsException&quot;\r\n\r\nI am using apache tomcat 7 with default configuration. This problem started when I was using tomcat on port 8080(home computer) and then i imported that project to my office computer with port 8080.\r\nOther than this everything is same.\r\n\r\nI have done below\r\n\r\n1. re-created maven repository. \r\n2. reconfigured server","title":"TOMCAT showing java.lang.IndexOutOfBoundsException on updating web.xml","body":"<p>Whenever I update web.xml it is giving me this error</p>\n\n<blockquote>\n  <p>\"An internal error occurred during: \"Updating status for Tomcat v7.0\n  Server at localhost...\". java.lang.IndexOutOfBoundsException\"</p>\n</blockquote>\n\n<p>I am using apache tomcat 7 with default configuration. This problem started when I was using tomcat on port 8080(home computer) and then i imported that project to my office computer with port 8080.\nOther than this everything is same.</p>\n\n<p>I have done below</p>\n\n<ol>\n<li>re-created maven repository. </li>\n<li>reconfigured server</li>\n</ol>\n"},{"tags":["java","kotlin","ssh","vert.x"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1655031550,"post_id":72590012,"comment_id":128229317,"body_markdown":"I haven&#39;t worked with Vert.x before and do not want to set up a complete project on my own right now. Would you be able to share the project on a code hosting platform like GitHub or a minimal project reproducing the problem? This would make it easier (at least for me) to attempt to help.","body":"I haven&#39;t worked with Vert.x before and do not want to set up a complete project on my own right now. Would you be able to share the project on a code hosting platform like GitHub or a minimal project reproducing the problem? This would make it easier (at least for me) to attempt to help."},{"owner":{"account_id":25322591,"reputation":13,"user_id":19143678,"display_name":"BigFoot"},"score":0,"creation_date":1655040494,"post_id":72590012,"comment_id":128231148,"body_markdown":"@Endzeit \nhttps://github.com/abhra04/vertx-cli/tree/master/vertx-cli-example - You can try building this on intellij Idea or any other IDE you wish.\nJust to give a bit more idea you can checkout these as well:\n1.https://github.com/cinterloper/cintershell\n2.https://github.com/vert-x3/vertx-examples/tree/master/shell-examples\nYou might need to regenerate the jks file as it was generated with JDK 1.8, it might throw errors for other JDK versions.\nThanks a lot for your effort in trying to help.","body":"@Endzeit  <a href=\"https://github.com/abhra04/vertx-cli/tree/master/vertx-cli-example\" rel=\"nofollow noreferrer\">github.com/abhra04/vertx-cli/tree/master/vertx-cli-example</a> - You can try building this on intellij Idea or any other IDE you wish. Just to give a bit more idea you can checkout these as well: 1.<a href=\"https://github.com/cinterloper/cintershell\" rel=\"nofollow noreferrer\">github.com/cinterloper/cintershell</a> 2.<a href=\"https://github.com/vert-x3/vertx-examples/tree/master/shell-examples\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-examples/tree/master/shell-exampl&zwnj;&#8203;es</a> You might need to regenerate the jks file as it was generated with JDK 1.8, it might throw errors for other JDK versions. Thanks a lot for your effort in trying to help."},{"owner":{"account_id":25322591,"reputation":13,"user_id":19143678,"display_name":"BigFoot"},"score":0,"creation_date":1655041023,"post_id":72590012,"comment_id":128231243,"body_markdown":"@Endzeit Right now I suspect the cause of this issue has something to do with my permissions and all as I am trying to run this code on a cloud based VDI, I might not have enough permissions to access the ssh server. If you are able to at least connect to the server using ssh please let me know, that will also mean a lot.","body":"@Endzeit Right now I suspect the cause of this issue has something to do with my permissions and all as I am trying to run this code on a cloud based VDI, I might not have enough permissions to access the ssh server. If you are able to at least connect to the server using ssh please let me know, that will also mean a lot."}],"owner":{"account_id":25322591,"reputation":13,"user_id":19143678,"display_name":"BigFoot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655016311,"creation_date":1655016311,"question_id":72590012,"body_markdown":"I have been trying to make a command line application using vertx shell. But I am facing troubles in connecting to my shell when I am trying to connect to it using ssh authentication. I have followed all the steps that are provided in the documentation, to the best of my knowledge but still can&#39;t figure out why I am getting permission denied on trying to connect to the shell.\r\nBelow is the snipper I have used to start the shell server:\r\n```\r\n    class ShellVerticle :  CoroutineVerticle() {\r\n    @Throws(Exception::class)\r\n    override suspend fun start() {\r\n        logger.debug(&quot;Staring vertx shell&quot;)\r\n        val shellOptions = ShellServiceOptions()\r\n            .apply { welcomeMessage = &quot;\\nWelcome to Logging Shell Shell\\n\\n&quot; }\r\n        val shellServer = ShellServer.create(vertx, shellOptions).apply {\r\n            val authProps = JsonObject()\r\n                .put(&quot;properties_path&quot;, &quot;classpath:shell.properties&quot;)\r\n            println(authProps.json)\r\n            val sshTermServer = TermServer.createSSHTermServer(vertx, SSHTermOptions().apply {\r\n                host = &quot;localhost&quot;\r\n                port = 5001\r\n                setKeyPairOptions(JksOptions().setPath(&quot;vertx-shell-1.8.jks&quot;).setPassword(&quot;123456&quot;))\r\n                authOptions = JsonObject().put(&quot;provider&quot;, &quot;shiro&quot;).put(&quot;config&quot;, authProps)\r\n            })\r\n \r\n            registerTermServer(sshTermServer)\r\n            listen { res -&gt;\r\n                if (res.failed())\r\n                    res.cause().printStackTrace()\r\n                else\r\n                    logger.info(&quot;Logging shell started successfully&quot;)\r\n            }\r\n \r\n        }\r\n        shellServer.registerCommandResolver { listOf(Help::class.java, TraceCommand::class.java).map { Command.create(vertx, it) } }\r\n        logger.info(&quot;Commands Registered&quot;)\r\n \r\n    }\r\n}\r\n```\r\nThe log on the console after running this:\r\n```\r\nINFO  | 11:31:09 | [main] example.TracerKt (Main.kt:7) - Going to start Shell Verticle\r\nWARN  | 11:31:13 | [vertx-blocked-thread-checker] impl.BlockedThreadChecker (:) - Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 2212 ms, time limit is 2000 ms\r\n{&quot;map&quot;:{&quot;properties_path&quot;:&quot;classpath:shell.properties&quot;},&quot;empty&quot;:false}\r\nINFO  | 11:31:13 | [vert.x-eventloop-thread-1] example.TracerKt (ShellVerticle.kt:73) - Commands Registered\r\nINFO  | 11:31:14 | [vert.x-eventloop-thread-0] example.TracerKt (Main.kt:9) - Going to start Logger Verticle\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c] REGISTERED\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c] BIND: localhost/127.0.0.1:5001\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c, L:/127.0.0.1:5001] ACTIVE\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899] REGISTERED\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899] BIND: localhost/0:0:0:0:0:0:0:1:5001\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899, L:/0:0:0:0:0:0:0:1:5001] ACTIVE\r\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] example.TracerKt (ShellVerticle.kt:67) - Logging shell started successfully\r\n```\r\nThe properties file:\r\n```\r\nuser.billy=test,admin\r\nrole.admin=*\r\n```\r\nThe output I get when I try to connect to shell:\r\n```\r\nC:\\Users\\abhrdas&gt;ssh -p 5001 billy@localhost\r\nPassword authentication\r\nPassword:\r\nPassword authentication\r\nPassword:\r\nPassword authentication\r\nPassword:\r\nbilly@localhost&#39;s password:\r\nPermission denied, please try again.\r\nbilly@localhost&#39;s password:\r\nPermission denied, please try again.\r\nbilly@localhost&#39;s password:\r\nbilly@localhost: Permission denied (password,keyboard-interactive,publickey).\r\n```\r\n[Picture of my command line][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Brwt3.png\r\n\r\nPlease help me with this.\r\nIf you can&#39;t can you at least please confirm if the code for the Shell Verticle is correct and the commands I have registered will be available if I am somehow able to solve this issue? The commands were already working with the telnet protocol but I haven&#39;t been able to run the shell with the ssh protocol.\r\nAlso ideally what should I enter for the two different passwords in the console, as I have set only test as the password for the user but the console is asking me for two different passwords.\r\nI am really stuck at this problem, please do help.\r\nThank you.\r\n","title":"Authentication for Vertx Shell","body":"<p>I have been trying to make a command line application using vertx shell. But I am facing troubles in connecting to my shell when I am trying to connect to it using ssh authentication. I have followed all the steps that are provided in the documentation, to the best of my knowledge but still can't figure out why I am getting permission denied on trying to connect to the shell.\nBelow is the snipper I have used to start the shell server:</p>\n<pre><code>    class ShellVerticle :  CoroutineVerticle() {\n    @Throws(Exception::class)\n    override suspend fun start() {\n        logger.debug(&quot;Staring vertx shell&quot;)\n        val shellOptions = ShellServiceOptions()\n            .apply { welcomeMessage = &quot;\\nWelcome to Logging Shell Shell\\n\\n&quot; }\n        val shellServer = ShellServer.create(vertx, shellOptions).apply {\n            val authProps = JsonObject()\n                .put(&quot;properties_path&quot;, &quot;classpath:shell.properties&quot;)\n            println(authProps.json)\n            val sshTermServer = TermServer.createSSHTermServer(vertx, SSHTermOptions().apply {\n                host = &quot;localhost&quot;\n                port = 5001\n                setKeyPairOptions(JksOptions().setPath(&quot;vertx-shell-1.8.jks&quot;).setPassword(&quot;123456&quot;))\n                authOptions = JsonObject().put(&quot;provider&quot;, &quot;shiro&quot;).put(&quot;config&quot;, authProps)\n            })\n \n            registerTermServer(sshTermServer)\n            listen { res -&gt;\n                if (res.failed())\n                    res.cause().printStackTrace()\n                else\n                    logger.info(&quot;Logging shell started successfully&quot;)\n            }\n \n        }\n        shellServer.registerCommandResolver { listOf(Help::class.java, TraceCommand::class.java).map { Command.create(vertx, it) } }\n        logger.info(&quot;Commands Registered&quot;)\n \n    }\n}\n</code></pre>\n<p>The log on the console after running this:</p>\n<pre><code>INFO  | 11:31:09 | [main] example.TracerKt (Main.kt:7) - Going to start Shell Verticle\nWARN  | 11:31:13 | [vertx-blocked-thread-checker] impl.BlockedThreadChecker (:) - Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 2212 ms, time limit is 2000 ms\n{&quot;map&quot;:{&quot;properties_path&quot;:&quot;classpath:shell.properties&quot;},&quot;empty&quot;:false}\nINFO  | 11:31:13 | [vert.x-eventloop-thread-1] example.TracerKt (ShellVerticle.kt:73) - Commands Registered\nINFO  | 11:31:14 | [vert.x-eventloop-thread-0] example.TracerKt (Main.kt:9) - Going to start Logger Verticle\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c] REGISTERED\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c] BIND: localhost/127.0.0.1:5001\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x35e8004c, L:/127.0.0.1:5001] ACTIVE\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899] REGISTERED\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899] BIND: localhost/0:0:0:0:0:0:0:1:5001\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] logging.LoggingHandler (Log4J2Logger.java:99) - [id: 0x27d1d899, L:/0:0:0:0:0:0:0:1:5001] ACTIVE\nINFO  | 11:31:17 | [vert.x-eventloop-thread-1] example.TracerKt (ShellVerticle.kt:67) - Logging shell started successfully\n</code></pre>\n<p>The properties file:</p>\n<pre><code>user.billy=test,admin\nrole.admin=*\n</code></pre>\n<p>The output I get when I try to connect to shell:</p>\n<pre><code>C:\\Users\\abhrdas&gt;ssh -p 5001 billy@localhost\nPassword authentication\nPassword:\nPassword authentication\nPassword:\nPassword authentication\nPassword:\nbilly@localhost's password:\nPermission denied, please try again.\nbilly@localhost's password:\nPermission denied, please try again.\nbilly@localhost's password:\nbilly@localhost: Permission denied (password,keyboard-interactive,publickey).\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Brwt3.png\" rel=\"nofollow noreferrer\">Picture of my command line</a></p>\n<p>Please help me with this.\nIf you can't can you at least please confirm if the code for the Shell Verticle is correct and the commands I have registered will be available if I am somehow able to solve this issue? The commands were already working with the telnet protocol but I haven't been able to run the shell with the ssh protocol.\nAlso ideally what should I enter for the two different passwords in the console, as I have set only test as the password for the user but the console is asking me for two different passwords.\nI am really stuck at this problem, please do help.\nThank you.</p>\n"},{"tags":["java","apache-httpclient-4.x","resource-cleanup","autocloseable"],"comments":[{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1684413239,"post_id":48928930,"comment_id":134515806,"body_markdown":"Just a note: CloseableHttpResponse response1 = httpclient.execute(httpGet), the execute method is deprecated on version 5.2.1.","body":"Just a note: CloseableHttpResponse response1 = httpclient.execute(httpGet), the execute method is deprecated on version 5.2.1."}],"answers":[{"tags":[],"owner":{"account_id":104791,"reputation":7582,"user_id":279982,"accept_rate":84,"display_name":"atoMerz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1655015723,"creation_date":1519308147,"answer_id":48929329,"question_id":48928930,"body_markdown":"It has been explained in detail in the docs [here](https://hc.apache.org/httpcomponents-client-5.1.x/quickstart.html).  \r\nQuoting the pseudo code from the docs here&#39;s a typical way to allocate/deallocate an instance of `CloseableHttpClient`:  \r\n\r\n    try (CloseableHttpClient httpclient = HttpClients.createDefault()) {\r\n        &lt;...&gt;\r\n    }\r\n\r\nThe same applies to `CloseableHttpResponse `:\r\n\r\n    try (CloseableHttpResponse response = httpclient.execute(httpget)) {\r\n        &lt;...&gt;\r\n    }\r\n\r\nNow, about the close method in `CloseableHttpClient`. `CloseableHttpClient` is an abstract class that implements `Closeable` interface. That is, although it doesn&#39;t have a `close` method itself the classes that extend it are required to implement the `close` method. One class is `InternalHttpClient`. You can check the source code for the details.\r\n\r\nBefore Java7, explicit close would be required:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    try {\r\n        &lt;...&gt;\r\n    } finally {\r\n        httpclient.close();\r\n    }\r\n\r\n    CloseableHttpResponse response = httpclient.execute(httpget);\r\n    try {\r\n        &lt;...&gt;\r\n    } finally {\r\n        response.close();\r\n    }","title":"Right way to close CloseableHttpResponse/CloseableHttpClient","body":"<p>It has been explained in detail in the docs <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/quickstart.html\" rel=\"nofollow noreferrer\">here</a>.<br />\nQuoting the pseudo code from the docs here's a typical way to allocate/deallocate an instance of <code>CloseableHttpClient</code>:</p>\n<pre><code>try (CloseableHttpClient httpclient = HttpClients.createDefault()) {\n    &lt;...&gt;\n}\n</code></pre>\n<p>The same applies to <code>CloseableHttpResponse </code>:</p>\n<pre><code>try (CloseableHttpResponse response = httpclient.execute(httpget)) {\n    &lt;...&gt;\n}\n</code></pre>\n<p>Now, about the close method in <code>CloseableHttpClient</code>. <code>CloseableHttpClient</code> is an abstract class that implements <code>Closeable</code> interface. That is, although it doesn't have a <code>close</code> method itself the classes that extend it are required to implement the <code>close</code> method. One class is <code>InternalHttpClient</code>. You can check the source code for the details.</p>\n<p>Before Java7, explicit close would be required:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\ntry {\n    &lt;...&gt;\n} finally {\n    httpclient.close();\n}\n\nCloseableHttpResponse response = httpclient.execute(httpget);\ntry {\n    &lt;...&gt;\n} finally {\n    response.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29483,"reputation":1033,"user_id":79727,"accept_rate":80,"display_name":"dvallejo"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1560877293,"creation_date":1560877293,"answer_id":56653900,"question_id":48928930,"body_markdown":"You can avoid the finally by using the try(resource)\r\n\r\n&gt; try (CloseableHttpResponse response = httpclient.execute(httpGet)) {\r\n&gt; ... }","title":"Right way to close CloseableHttpResponse/CloseableHttpClient","body":"<p>You can avoid the finally by using the try(resource)</p>\n\n<blockquote>\n  <p>try (CloseableHttpResponse response = httpclient.execute(httpGet)) {\n  ... }</p>\n</blockquote>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29549,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1584205732,"accepted_answer_id":48929329,"answer_count":2,"score":11,"last_activity_date":1655015723,"creation_date":1519306924,"question_id":48928930,"body_markdown":"I&#39;m using CloseableHttpResponse (from apache-httpclient-4.5.3) and I&#39;m not sure I&#39;m using it right, I saw an [answer with no votes][1] to use `EntityUtils.consume` on finally: \n\n&gt;     CloseableHttpResponse response1 = httpclient.execute(httpGet);\n&gt;\n&gt;     try {\n&gt;\n&gt;      System.out.println(response1.getStatusLine());\n&gt;\n&gt;     } finally {\n&gt;\n&gt;      EntityUtils.consume(response1.getEntity());\n\n\n`CloseableHttpClient` is abstract and has no close method to call although in this [answer][2] it&#39;s used:\n\n    CloseableHttpResponse response = httpclient.execute(httpget);\n    try {\n        //do something\n    } finally {\n        response.close();\n    }\n\nCurrently I&#39;m using try with resources for `CloseableHttpClient` and `CloseableHttpResponse` inside of send method. \n\nAm I not missing any resource open or using it in a wrong way?\n\n    private CloseableHttpResponse send()\n                throws URISyntaxException, UnsupportedEncodingException, IOException, ClientProtocolException {\n            URIBuilder uriBuilder = new URIBuilder(BASE_URL);\n            HttpHost target = new HttpHost(uriBuilder.getHost(), uriBuilder.getPort(), uriBuilder.getScheme());\n            HttpPost post = new HttpPost(uriBuilder.build());\n            try (CloseableHttpClient httpClient = HttpClients.custom().build(); CloseableHttpResponse response = httpClient.execute(target, post)) {            \n                return response;\n            }\n        \n[1]:https://stackoverflow.com/questions/44469833/why-does-apache-closeablehttpresponse-not-consume-the-entity-on-close\n\n\n[2]:https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http","title":"Right way to close CloseableHttpResponse/CloseableHttpClient","body":"<p>I'm using CloseableHttpResponse (from apache-httpclient-4.5.3) and I'm not sure I'm using it right, I saw an <a href=\"https://stackoverflow.com/questions/44469833/why-does-apache-closeablehttpresponse-not-consume-the-entity-on-close\">answer with no votes</a> to use <code>EntityUtils.consume</code> on finally:</p>\n<blockquote>\n<pre><code>CloseableHttpResponse response1 = httpclient.execute(httpGet);\n\ntry {\n\n System.out.println(response1.getStatusLine());\n\n} finally {\n\n EntityUtils.consume(response1.getEntity());\n</code></pre>\n</blockquote>\n<p><code>CloseableHttpClient</code> is abstract and has no close method to call although in this <a href=\"https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http\">answer</a> it's used:</p>\n<pre><code>CloseableHttpResponse response = httpclient.execute(httpget);\ntry {\n    //do something\n} finally {\n    response.close();\n}\n</code></pre>\n<p>Currently I'm using try with resources for <code>CloseableHttpClient</code> and <code>CloseableHttpResponse</code> inside of send method.</p>\n<p>Am I not missing any resource open or using it in a wrong way?</p>\n<pre><code>private CloseableHttpResponse send()\n            throws URISyntaxException, UnsupportedEncodingException, IOException, ClientProtocolException {\n        URIBuilder uriBuilder = new URIBuilder(BASE_URL);\n        HttpHost target = new HttpHost(uriBuilder.getHost(), uriBuilder.getPort(), uriBuilder.getScheme());\n        HttpPost post = new HttpPost(uriBuilder.build());\n        try (CloseableHttpClient httpClient = HttpClients.custom().build(); CloseableHttpResponse response = httpClient.execute(target, post)) {            \n            return response;\n        }\n    \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1655013082,"post_id":72589746,"comment_id":128226416,"body_markdown":"Uh ... where&#39;s your &quot;do/while&quot; loop?  ADDENDUM: I read a bit further down, and ndc85430 is (correctly!) asking pretty much the same thing :)","body":"Uh ... where&#39;s your &quot;do/while&quot; loop?  ADDENDUM: I read a bit further down, and ndc85430 is (correctly!) asking pretty much the same thing :)"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655012708,"creation_date":1655012708,"answer_id":72589767,"question_id":72589746,"body_markdown":"The code you&#39;ve posted has no notion of doing something &quot;until&quot; some condition is met - you&#39;re only reading the input once and then making a decision based on that. You need to go and learn about loops for repeating things.","title":"Asking for user input until value between -5 and 5 is entered in java","body":"<p>The code you've posted has no notion of doing something &quot;until&quot; some condition is met - you're only reading the input once and then making a decision based on that. You need to go and learn about loops for repeating things.</p>\n"},{"tags":[],"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655015584,"creation_date":1655013483,"answer_id":72589822,"question_id":72589746,"body_markdown":"First, you need to start with an infinite loop like **while** that runs until a number between -5 and 5 is entered then you do **break**\r\n\r\nAnd since you want to read the user&#39;s input then you need to specify a condition for the **while loop** like **while(input.hasNext())**.\r\n\r\nAlso, reading inputs with **hasNext()** returns a **String** so you need to change it to int with **parseInt(n)**\r\n\r\n    import static java.lang.Integer.parseInt;\r\n    import java.util.Scanner;\r\n    \r\n    public class Mavenproject1 {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            while (input.hasNext()) {\r\n                String n = input.next();\r\n                int number = parseInt(n);\r\n                if (number &gt;= -5 &amp;&amp; number &lt;= 5) {\r\n                    System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);   \r\n                    break;\r\n                }\r\n    //            System.out.println(n);\r\n                \r\n            }\r\n            input.close();\r\n        }\r\n    }\r\n\r\n\r\nYou can as well use **hasNextInt()** &amp; **nextInt()** if you are sure inputs are always integers value so you don’t need to parse the **string** into **int**:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Mavenproject1 {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            while (input.hasNextInt()) {\r\n                int n = input.nextInt();\r\n                if (n &gt;= -5 &amp;&amp; n &lt;= 5) {\r\n                    System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);   \r\n                    break;\r\n                }\r\n    //            System.out.println(n);\r\n                \r\n            }\r\n            input.close();\r\n        }\r\n    }\r\n\r\n","title":"Asking for user input until value between -5 and 5 is entered in java","body":"<p>First, you need to start with an infinite loop like <strong>while</strong> that runs until a number between -5 and 5 is entered then you do <strong>break</strong></p>\n<p>And since you want to read the user's input then you need to specify a condition for the <strong>while loop</strong> like <strong>while(input.hasNext())</strong>.</p>\n<p>Also, reading inputs with <strong>hasNext()</strong> returns a <strong>String</strong> so you need to change it to int with <strong>parseInt(n)</strong></p>\n<pre><code>import static java.lang.Integer.parseInt;\nimport java.util.Scanner;\n\npublic class Mavenproject1 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        while (input.hasNext()) {\n            String n = input.next();\n            int number = parseInt(n);\n            if (number &gt;= -5 &amp;&amp; number &lt;= 5) {\n                System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);   \n                break;\n            }\n//            System.out.println(n);\n            \n        }\n        input.close();\n    }\n}\n</code></pre>\n<p>You can as well use <strong>hasNextInt()</strong> &amp; <strong>nextInt()</strong> if you are sure inputs are always integers value so you don’t need to parse the <strong>string</strong> into <strong>int</strong>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Mavenproject1 {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        while (input.hasNextInt()) {\n            int n = input.nextInt();\n            if (n &gt;= -5 &amp;&amp; n &lt;= 5) {\n                System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);   \n                break;\n            }\n//            System.out.println(n);\n            \n        }\n        input.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72589822,"answer_count":2,"score":0,"last_activity_date":1655015584,"creation_date":1655012445,"question_id":72589746,"body_markdown":"I&#39;m trying to creating some code which asks for user input until the value being entered is between -5 and 5 but am having some trouble with it, currently it works the first time an invalid input is entered but if a second invalid input is entered then the program accepts that value, my current code is: \r\n\r\n                int choice;\r\n                Scanner sc = new Scanner(System.in);\r\n                choice = sc.nextInt();\r\n                if(choice&lt;=-5 || choice&gt;=5)\r\n                {\r\n                        System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);                               \r\n                        choice = sc.nextInt();\r\n                }\r\n                else\r\n                {\r\n                        // do stuff\r\n                }\r\n\r\n","title":"Asking for user input until value between -5 and 5 is entered in java","body":"<p>I'm trying to creating some code which asks for user input until the value being entered is between -5 and 5 but am having some trouble with it, currently it works the first time an invalid input is entered but if a second invalid input is entered then the program accepts that value, my current code is:</p>\n<pre><code>            int choice;\n            Scanner sc = new Scanner(System.in);\n            choice = sc.nextInt();\n            if(choice&lt;=-5 || choice&gt;=5)\n            {\n                    System.out.println(&quot;==================================&quot;+&quot;\\n&quot;+&quot;INVALID INPUT! PLEASE TRY AGAIN: &quot;+&quot;\\n&quot;+&quot;==================================&quot;);                               \n                    choice = sc.nextInt();\n            }\n            else\n            {\n                    // do stuff\n            }\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1655112663,"post_id":72589885,"comment_id":128244848,"body_markdown":"Seems like you should be using a `ConfluentRegistryAvroDeserializationSchema`.","body":"Seems like you should be using a <code>ConfluentRegistryAvroDeserializationSchema</code>."},{"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"score":0,"creation_date":1655133986,"post_id":72589885,"comment_id":128253263,"body_markdown":"Hi for that I need to provide a reader schema.. there are below issues, 1. As a consumer I shouldn’t be storing a schema 2. My topic has different schema’s","body":"Hi for that I need to provide a reader schema.. there are below issues, 1. As a consumer I shouldn’t be storing a schema 2. My topic has different schema’s"},{"owner":{"account_id":2897754,"reputation":81,"user_id":2485135,"display_name":"Max"},"score":0,"creation_date":1657556235,"post_id":72589885,"comment_id":128833337,"body_markdown":"Actually, I have the same issue with ConfluentRegistryAvroDeserializationSchemaforGeneric(schema, schemaRegistryUrl). I am able to read the message, get a GenericRecord (and get data with custom code linked to bytes) but when I want to move the GenericRecord to a windowed stream (I have the GenericRecord field in the bean I manage in the main stream). It cannot be deserialize. Any idea?","body":"Actually, I have the same issue with ConfluentRegistryAvroDeserializationSchemaforGeneric(schema, schemaRegistryUrl). I am able to read the message, get a GenericRecord (and get data with custom code linked to bytes) but when I want to move the GenericRecord to a windowed stream (I have the GenericRecord field in the bean I manage in the main stream). It cannot be deserialize. Any idea?"},{"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"score":0,"creation_date":1657646957,"post_id":72589885,"comment_id":128858598,"body_markdown":"sorry i didn&#39;t understand. may be piece of code would help me to trouble shoot.","body":"sorry i didn&#39;t understand. may be piece of code would help me to trouble shoot."},{"owner":{"account_id":1595958,"reputation":376,"user_id":1478078,"accept_rate":67,"display_name":"deeplay"},"score":1,"creation_date":1662720380,"post_id":72589885,"comment_id":130076546,"body_markdown":"@SuchethShivakumar, did you solved your `ConfluentRegistryAvroDeserializationSchema` issue? If yes, please share.","body":"@SuchethShivakumar, did you solved your <code>ConfluentRegistryAvroDeserializationSchema</code> issue? If yes, please share."}],"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655014494,"creation_date":1655014494,"question_id":72589885,"body_markdown":"I have written a consumer to read the topic and build a Datastream of GenericRecord, but the topic contains messages with different schemas as we are using TopicRecordNameStrategy for the subject in the schema registry.\r\n\r\nBelow is my consumer code : \r\n```\r\nParameterTool parameters = ParameterTool.fromArgs(args);\r\n            LOGGER.info(&quot;Input Parameters Map: &quot; + parameters.toMap());\r\n\r\n           \r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n            if (parameters.get(CHECK_POINTS_DIR) != null &amp;&amp; !parameters.get(CHECK_POINTS_DIR).isBlank()) {\r\n                env.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(parameters.get(\r\n                        CHECK_POINTS_DIR)));\r\n            }\r\n\r\n            env.enableCheckpointing(Integer.parseInt(parameters.get(CHECKPOINT_INTERVAL_IN_SECS)) * 1000L);\r\n            env.getCheckpointConfig().setMinPauseBetweenCheckpoints(Integer.parseInt(parameters.get(\r\n                    PAUSE_BETWEEN_CHECKPOINTS_IN_SECS)) * 1000L);\r\n            env.getCheckpointConfig().setCheckpointingMode(EXACTLY_ONCE);\r\n            env.getCheckpointConfig().setCheckpointTimeout(Integer.parseInt(parameters.get(\r\n                    CHECKPOINT_TIMEOUT_IN_SECS)) * 1000L);\r\n            env.getCheckpointConfig().setMaxConcurrentCheckpoints(1);\r\n            env.getCheckpointConfig().setExternalizedCheckpointCleanup(RETAIN_ON_CANCELLATION);\r\n\r\n           \r\n            Properties kafkaProperties = new Properties();\r\n            kafkaProperties.setProperty(&quot;partition.discovery.interval.ms&quot;,String.valueOf(parameters.getInt(KAFKA_PARTITION_DISCOVERY_INTERVAL_IN_SECS) * 1000));\r\n            kafkaProperties.setProperty(&quot;value.subject.name.strategy&quot;, &quot;io.confluent.kafka.serializers.subject.TopicRecordNameStrategy&quot;);\r\n\r\n\r\n\r\n            KafkaSource&lt;GenericRecord&gt; kafkaSource =\r\n                    KafkaSource.&lt;GenericRecord&gt;builder()\r\n                            .setProperties(kafkaProperties)\r\n                            .setBootstrapServers(parameters.get(BOOTSTRAP_SERVERS))\r\n                            .setTopics(&quot;sucheth-test-topic-recrd-strategy&quot;)\r\n                            .setGroupId(GROUP_ID)\r\n                            .setStartingOffsets(OffsetsInitializer.earliest())\r\n                            .setValueOnlyDeserializer(new AvroDataDeserializationSchema(\r\n                                    &quot;sucheth-test-topic-recrd-strategy&quot;,\r\n                                    parameters.get(SCHEMA_REGISTRY_URL)))\r\n                            .build();\r\n\r\n            DataStream&lt;GenericRecord&gt; dataStream =\r\n                    env.fromSource(\r\n                                    kafkaSource,\r\n                                    WatermarkStrategy.noWatermarks(),\r\n                                    &quot;Kafka Source&quot;)\r\n                            //should be a unique id\r\n                            .uid(&quot;kafka-source&quot;);\r\n\r\n            dataStream.print();\r\n```\r\n\r\nMy Custom Avro GenericRecord Deserialization : \r\n```\r\npublic class AvroDataDeserializationSchema extends AbstractDeserializationSchema&lt;GenericRecord&gt; {\r\n    private final Class&lt;GenericRecord&gt; avrotype = (Class&lt;GenericRecord&gt;) org.apache.avro.generic.GenericRecord.class;\r\n\r\n    private Schema schema;\r\n    private final String registryUrl;\r\n\r\n    private final String topic;\r\n\r\n    private transient KafkaAvroDeserializer kafkaAvroDeserializerClient;\r\n\r\n    public AvroDataDeserializationSchema(String topic, String registryUrl) {\r\n        //Schema schema) {\r\n        this.registryUrl = registryUrl;\r\n        this.topic = topic;\r\n    }\r\n\r\n    /**\r\n     * Initialization method for the schema. It is called before the actual working methods\r\n     * {@link #deserialize} and thus suitable for one time setup work.\r\n     *\r\n     * &lt;p&gt;The provided {@link InitializationContext} can be used to access additional features such\r\n     * as e.g. registering user metrics.\r\n     *\r\n     * @param context Contextual information that can be used during initialization.\r\n     */\r\n    @Override\r\n    public void open(InitializationContext context) throws Exception {\r\n        super.open(context);\r\n    }\r\n\r\n    /**\r\n     * De-serializes the byte message.\r\n     *\r\n     * @param message The message, as a byte array.\r\n     * @return The de-serialized message as an object.\r\n     */\r\n    @Override\r\n    public GenericRecord deserialize(byte[] message) throws IOException {\r\n        try {\r\n            checkInitialized();\r\n        } catch (RestClientException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        var record = (GenericRecord) kafkaAvroDeserializerClient.deserialize(topic, message);\r\n        return record;\r\n    }\r\n\r\n    private void checkInitialized() throws RestClientException, IOException {\r\n        if (kafkaAvroDeserializerClient == null) {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, registryUrl);\r\n            props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);\r\n            SchemaRegistryClient client = new CachedSchemaRegistryClient(\r\n                    registryUrl,\r\n                    AbstractKafkaAvroSerDeConfig.MAX_SCHEMAS_PER_SUBJECT_DEFAULT);\r\n            kafkaAvroDeserializerClient = new KafkaAvroDeserializer(client, props);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isEndOfStream(GenericRecord nextElement) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public TypeInformation&lt;GenericRecord&gt; getProducedType() {\r\n\r\n        return TypeExtractor.getForClass(avrotype);\r\n    }\r\n```\r\n\r\nwhen i submit this application to flink cluster it is falling back to kryo deserialization and fails with the below error (However works when i run it from INTELLIJ IDE for some unknown reason)\r\n```\r\nrint to Std. Out (1/1) (0b773e3dadbe0951d75d5172e400a206) switched from RUNNING to FAILED on localhost:57062-e6cc01 @ localhost (dataPort=57064).\r\njava.io.IOException: Failed to deserialize consumer record due to\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:56) ~[?:?]\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:33) ~[?:?]\r\n\tat org.apache.flink.connector.base.source.reader.SourceReaderBase.pollNext(SourceReaderBase.java:143) ~[flink-connector-files-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:385) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat java.lang.Thread.run(Thread.java:834) ~[?:?]\r\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.runtime.tasks.SourceOperatorStreamTask$AsyncDataOutputToOutput.emitRecord(SourceOperatorStreamTask.java:313) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.streaming.api.operators.source.SourceOutputWithWatermarks.collect(SourceOutputWithWatermarks.java:110) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter$SourceOutputWrapper.collect(KafkaRecordEmitter.java:67) ~[?:?]\r\n\tat org.apache.flink.api.common.serialization.DeserializationSchema.deserialize(DeserializationSchema.java:84) ~[flink-dist-1.15.0.jar:1.15.0]\r\n\tat org.apache.flink.connector.kafka.source.reader.deserializer.KafkaValueOnlyDeserializationSchemaWrapper.deserialize(KafkaValueOnlyDeserializationSchemaWrapper.java:51) ~[?:?]\r\n\tat org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:53) ~[?:?]\r\n\t... 14 more\r\nCaused by: com.esotericsoftware.kryo.KryoException: java.lang.UnsupportedOperationException\r\nSerialization trace:\r\nreserved (org.apache.avro.Schema$Field)\r\nfieldMap (org.apache.avro.Schema$RecordSchema)\r\nschema (org.apache.avro.generic.GenericData$Record)\r\n\tat com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125) ~[flink-dist-1.15.0.jar:1.15.0]\r\n```\r\n\r\nI checked this doc on GenericRecord TypeInformation as mentioned [here][1], but that is not what I want. My topic is not bound to one particular schema but has messages with multiple schemas as we are using TopicRecordNameStrategy for the subject with confluent schema registry \r\n\r\n\r\nPlease help me in resolving this.\r\n\r\n  [1]: https://flink.apache.org/news/2020/04/15/flink-serialization-tuning-vol-1.html#avro","title":"Apache flink Kafka Avro serialized streaming from topic with multiple event types(TopicRecordNameStrategy for the subject in the schema registry))","body":"<p>I have written a consumer to read the topic and build a Datastream of GenericRecord, but the topic contains messages with different schemas as we are using TopicRecordNameStrategy for the subject in the schema registry.</p>\n<p>Below is my consumer code :</p>\n<pre><code>ParameterTool parameters = ParameterTool.fromArgs(args);\n            LOGGER.info(&quot;Input Parameters Map: &quot; + parameters.toMap());\n\n           \n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n            if (parameters.get(CHECK_POINTS_DIR) != null &amp;&amp; !parameters.get(CHECK_POINTS_DIR).isBlank()) {\n                env.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(parameters.get(\n                        CHECK_POINTS_DIR)));\n            }\n\n            env.enableCheckpointing(Integer.parseInt(parameters.get(CHECKPOINT_INTERVAL_IN_SECS)) * 1000L);\n            env.getCheckpointConfig().setMinPauseBetweenCheckpoints(Integer.parseInt(parameters.get(\n                    PAUSE_BETWEEN_CHECKPOINTS_IN_SECS)) * 1000L);\n            env.getCheckpointConfig().setCheckpointingMode(EXACTLY_ONCE);\n            env.getCheckpointConfig().setCheckpointTimeout(Integer.parseInt(parameters.get(\n                    CHECKPOINT_TIMEOUT_IN_SECS)) * 1000L);\n            env.getCheckpointConfig().setMaxConcurrentCheckpoints(1);\n            env.getCheckpointConfig().setExternalizedCheckpointCleanup(RETAIN_ON_CANCELLATION);\n\n           \n            Properties kafkaProperties = new Properties();\n            kafkaProperties.setProperty(&quot;partition.discovery.interval.ms&quot;,String.valueOf(parameters.getInt(KAFKA_PARTITION_DISCOVERY_INTERVAL_IN_SECS) * 1000));\n            kafkaProperties.setProperty(&quot;value.subject.name.strategy&quot;, &quot;io.confluent.kafka.serializers.subject.TopicRecordNameStrategy&quot;);\n\n\n\n            KafkaSource&lt;GenericRecord&gt; kafkaSource =\n                    KafkaSource.&lt;GenericRecord&gt;builder()\n                            .setProperties(kafkaProperties)\n                            .setBootstrapServers(parameters.get(BOOTSTRAP_SERVERS))\n                            .setTopics(&quot;sucheth-test-topic-recrd-strategy&quot;)\n                            .setGroupId(GROUP_ID)\n                            .setStartingOffsets(OffsetsInitializer.earliest())\n                            .setValueOnlyDeserializer(new AvroDataDeserializationSchema(\n                                    &quot;sucheth-test-topic-recrd-strategy&quot;,\n                                    parameters.get(SCHEMA_REGISTRY_URL)))\n                            .build();\n\n            DataStream&lt;GenericRecord&gt; dataStream =\n                    env.fromSource(\n                                    kafkaSource,\n                                    WatermarkStrategy.noWatermarks(),\n                                    &quot;Kafka Source&quot;)\n                            //should be a unique id\n                            .uid(&quot;kafka-source&quot;);\n\n            dataStream.print();\n</code></pre>\n<p>My Custom Avro GenericRecord Deserialization :</p>\n<pre><code>public class AvroDataDeserializationSchema extends AbstractDeserializationSchema&lt;GenericRecord&gt; {\n    private final Class&lt;GenericRecord&gt; avrotype = (Class&lt;GenericRecord&gt;) org.apache.avro.generic.GenericRecord.class;\n\n    private Schema schema;\n    private final String registryUrl;\n\n    private final String topic;\n\n    private transient KafkaAvroDeserializer kafkaAvroDeserializerClient;\n\n    public AvroDataDeserializationSchema(String topic, String registryUrl) {\n        //Schema schema) {\n        this.registryUrl = registryUrl;\n        this.topic = topic;\n    }\n\n    /**\n     * Initialization method for the schema. It is called before the actual working methods\n     * {@link #deserialize} and thus suitable for one time setup work.\n     *\n     * &lt;p&gt;The provided {@link InitializationContext} can be used to access additional features such\n     * as e.g. registering user metrics.\n     *\n     * @param context Contextual information that can be used during initialization.\n     */\n    @Override\n    public void open(InitializationContext context) throws Exception {\n        super.open(context);\n    }\n\n    /**\n     * De-serializes the byte message.\n     *\n     * @param message The message, as a byte array.\n     * @return The de-serialized message as an object.\n     */\n    @Override\n    public GenericRecord deserialize(byte[] message) throws IOException {\n        try {\n            checkInitialized();\n        } catch (RestClientException e) {\n            throw new RuntimeException(e);\n        }\n        var record = (GenericRecord) kafkaAvroDeserializerClient.deserialize(topic, message);\n        return record;\n    }\n\n    private void checkInitialized() throws RestClientException, IOException {\n        if (kafkaAvroDeserializerClient == null) {\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n            props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, registryUrl);\n            props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);\n            SchemaRegistryClient client = new CachedSchemaRegistryClient(\n                    registryUrl,\n                    AbstractKafkaAvroSerDeConfig.MAX_SCHEMAS_PER_SUBJECT_DEFAULT);\n            kafkaAvroDeserializerClient = new KafkaAvroDeserializer(client, props);\n\n\n        }\n    }\n\n    @Override\n    public boolean isEndOfStream(GenericRecord nextElement) {\n        return false;\n    }\n\n    @Override\n    public TypeInformation&lt;GenericRecord&gt; getProducedType() {\n\n        return TypeExtractor.getForClass(avrotype);\n    }\n</code></pre>\n<p>when i submit this application to flink cluster it is falling back to kryo deserialization and fails with the below error (However works when i run it from INTELLIJ IDE for some unknown reason)</p>\n<pre><code>rint to Std. Out (1/1) (0b773e3dadbe0951d75d5172e400a206) switched from RUNNING to FAILED on localhost:57062-e6cc01 @ localhost (dataPort=57064).\njava.io.IOException: Failed to deserialize consumer record due to\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:56) ~[?:?]\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:33) ~[?:?]\n    at org.apache.flink.connector.base.source.reader.SourceReaderBase.pollNext(SourceReaderBase.java:143) ~[flink-connector-files-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:385) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:519) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:804) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:753) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:948) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:927) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:741) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563) ~[flink-dist-1.15.0.jar:1.15.0]\n    at java.lang.Thread.run(Thread.java:834) ~[?:?]\nCaused by: org.apache.flink.streaming.runtime.tasks.ExceptionInChainedOperatorException: Could not forward element to next operator\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.pushToOperator(CopyingChainingOutput.java:99) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:57) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.CopyingChainingOutput.collect(CopyingChainingOutput.java:29) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.runtime.tasks.SourceOperatorStreamTask$AsyncDataOutputToOutput.emitRecord(SourceOperatorStreamTask.java:313) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.streaming.api.operators.source.SourceOutputWithWatermarks.collect(SourceOutputWithWatermarks.java:110) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter$SourceOutputWrapper.collect(KafkaRecordEmitter.java:67) ~[?:?]\n    at org.apache.flink.api.common.serialization.DeserializationSchema.deserialize(DeserializationSchema.java:84) ~[flink-dist-1.15.0.jar:1.15.0]\n    at org.apache.flink.connector.kafka.source.reader.deserializer.KafkaValueOnlyDeserializationSchemaWrapper.deserialize(KafkaValueOnlyDeserializationSchemaWrapper.java:51) ~[?:?]\n    at org.apache.flink.connector.kafka.source.reader.KafkaRecordEmitter.emitRecord(KafkaRecordEmitter.java:53) ~[?:?]\n    ... 14 more\nCaused by: com.esotericsoftware.kryo.KryoException: java.lang.UnsupportedOperationException\nSerialization trace:\nreserved (org.apache.avro.Schema$Field)\nfieldMap (org.apache.avro.Schema$RecordSchema)\nschema (org.apache.avro.generic.GenericData$Record)\n    at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125) ~[flink-dist-1.15.0.jar:1.15.0]\n</code></pre>\n<p>I checked this doc on GenericRecord TypeInformation as mentioned <a href=\"https://flink.apache.org/news/2020/04/15/flink-serialization-tuning-vol-1.html#avro\" rel=\"nofollow noreferrer\">here</a>, but that is not what I want. My topic is not bound to one particular schema but has messages with multiple schemas as we are using TopicRecordNameStrategy for the subject with confluent schema registry</p>\n<p>Please help me in resolving this.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1654983833,"post_id":72587714,"comment_id":128223470,"body_markdown":"Change `catch(IOException | FontFormatException e){ }` to `catch(IOException | FontFormatException e){ e.printStackTrace(); }` then if the output is not enough to help you solve it, [edit] the question to add that stack trace and a [mre].","body":"Change <code>catch(IOException | FontFormatException e){ }</code> to <code>catch(IOException | FontFormatException e){ e.printStackTrace(); }</code> then if the output is not enough to help you solve it, <a href=\"https://stackoverflow.com/posts/72587714/edit\">edit</a> the question to add that stack trace and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654987553,"post_id":72587714,"comment_id":128224025,"body_markdown":"Prefer paintComponent over paint; call super.paintXxx first; prefer layout managers","body":"Prefer paintComponent over paint; call super.paintXxx first; prefer layout managers"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654988041,"post_id":72587714,"comment_id":128224091,"body_markdown":"Prefer `ImageIO` over `Toolkit.getDefaultToolkit().getImage`","body":"Prefer <code>ImageIO</code> over <code>Toolkit.getDefaultToolkit().getImage</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655013434,"creation_date":1654990094,"answer_id":72588536,"question_id":72587714,"body_markdown":"Prefer overriding `paintComponent` over `paint`.  You should also call `super.paintXxx` before doing any custom painting.  See [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\n`Toolkit.getDefaultToolkit().getScreenSize();` in this context, is a bad idea.  It doesn&#39;t take into account other system assets, like task/menus/docks.  Make use of [`JFrame#setExtendedState`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int)) instead.\r\n\r\nUsing `screenSize` to do things like `graphic.fillRect(x*(screen.getWidth()/8), y*(screen.getHeight()/8), screen.getWidth()/8, screen.getHeight()/8);` is also a bad idea.  Instead, you should be looking at the actual size of the component.\r\n\r\nYou also want to decouple your workflows, in such away as they are more easily re-usable.  This would mean (for me), making the `Board` class a `JPanel` and using it as the base component, rather then creating a custom `JPanel` within it.\r\n\r\nPrefer [`ImageIO`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) over `Toolkit.getDefaultToolkit().getImage(...)`.  Lots of reasons why, but primarily, `ImageIO` will actually throw an exception if the image can&#39;t be loaded.  `ImageIO` also doesn&#39;t use a background thread to load the image, so once it returns successfully, you know you have a fully realised image.\r\n\r\nAlso, `Toolkit#getImage(String)` accepts a &quot;file&quot; on the file system.  This is the single greatest cause of issues.  The &quot;working&quot; directory of the app may not be the &quot;installed&quot; directory of the app, so unless you know exactly where on the disk the image is (and using absolute files paths have their own issues), this is going to cause you problems.\r\n\r\nInstead, embed the resources within the application context.  Different IDEs/build systems do this differently, for example Netbeans and Eclipse (when not using Maven) will allow you to drop resources directly into the `src` folder. This will be made available to your application at runtime, via `Class#getResource`.\r\n\r\nSo, to &quot;answer&quot; your question, I would add `System.out.println(System.getProperty(&quot;user.dir&quot;));` to your code and check the actually running location of your application.  I&#39;d then check the return result of `Piece.Rook.getWhiteRook()` (ie `System.out.println(Piece.Rook.getWhiteRook());`) to see if it&#39;s `null` or not.\r\n\r\nThen I&#39;d embed the resource instead.\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Piece.loadResources();\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new Board());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();;\r\n                        JOptionPane.showMessageDialog(null, &quot;Failed to load resources&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Board extends JPanel {        \r\n            private Map&lt;Integer, Character&gt; x_AxisMap = new HashMap&lt;Integer, Character&gt;();\r\n            private Map&lt;Integer, Character&gt; y_AxisMap = new HashMap&lt;Integer, Character&gt;();\r\n\r\n            public Board() {\r\n                setBackground(Color.decode(&quot;#ebe4e4&quot;));\r\n                x_AxisMap.put(0, &#39;a&#39;);\r\n                x_AxisMap.put(1, &#39;b&#39;);\r\n                x_AxisMap.put(2, &#39;c&#39;);\r\n                x_AxisMap.put(3, &#39;d&#39;);\r\n                x_AxisMap.put(4, &#39;e&#39;);\r\n                x_AxisMap.put(5, &#39;f&#39;);\r\n                x_AxisMap.put(6, &#39;g&#39;);\r\n                x_AxisMap.put(7, &#39;h&#39;);\r\n\r\n                y_AxisMap.put(0, &#39;8&#39;);\r\n                y_AxisMap.put(1, &#39;7&#39;);\r\n                y_AxisMap.put(2, &#39;6&#39;);\r\n                y_AxisMap.put(3, &#39;5&#39;);\r\n                y_AxisMap.put(4, &#39;4&#39;);\r\n                y_AxisMap.put(5, &#39;3&#39;);\r\n                y_AxisMap.put(6, &#39;2&#39;);\r\n                y_AxisMap.put(7, &#39;1&#39;);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(720, 720);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                boolean color = true;\r\n                for (int y = 0; y &lt; 8; y++) {\r\n                    for (int x = 0; x &lt; 8; x++) {\r\n                        if (color) {\r\n                            g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                        } else if (!color) {\r\n                            g2d.setColor(Color.decode(&quot;#449e48&quot;));\r\n                        }\r\n                        g2d.fillRect(x * (getWidth() / 8), y * (getHeight() / 8), getWidth() / 8, getHeight() / 8);\r\n\r\n                        if (y == 7) {\r\n                            g2d.setColor(Color.BLACK);\r\n                            g2d.drawString(String.valueOf(x_AxisMap.get(x)), x * (getWidth() / 8) + 3, y * (getHeight() / 8) + 87);\r\n                            if (color) {\r\n                                g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                            } else if (!color) {\r\n                                g2d.setColor(Color.decode(&quot;#449e48&quot;));\r\n                            }\r\n                        }\r\n\r\n                        if (x == 7) {\r\n                            g2d.setColor(Color.BLACK);\r\n                            g2d.drawString(String.valueOf(y_AxisMap.get(y)), x * (getWidth() / 8) + 80, y * (getHeight() / 8) + 15);\r\n                            if (color) {\r\n                                g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                            } else if (!color) {\r\n                                g2d.setColor(Color.decode(&quot;#449e48&quot;));\r\n                            }\r\n                        }\r\n                        if (x == 0) {\r\n                            if (y == 0) {\r\n                                Image piece = Piece.ROOK.white();\r\n                                g2d.drawImage(piece, x * (getWidth() / 8), y * (getWidth() / 8), this);\r\n                            }\r\n                        }\r\n                        color = !color;\r\n                    }\r\n                    color = !color;\r\n                }\r\n            }\r\n        }\r\n\r\n        public enum Piece {\r\n            ROOK;\r\n\r\n            private Image white;\r\n            private Image black;\r\n\r\n            public Image white() {\r\n                return white;\r\n            }\r\n\r\n            public Image black() {\r\n                return black;\r\n            }\r\n\r\n            public static void loadResources() throws IOException {\r\n                Piece.ROOK.white = ImageIO.read(Main.class.getResource(&quot;/images/RookWhite.png&quot;));\r\n                Piece.ROOK.black = ImageIO.read(Main.class.getResource(&quot;/images/RookBlack.png&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n*nb: Obviously I&#39;m using different image names, so you&#39;ll need to correct for that*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O9GvD.png","title":"Trying to draw an image in a 2d graphics but it wont work","body":"<p>Prefer overriding <code>paintComponent</code> over <code>paint</code>.  You should also call <code>super.paintXxx</code> before doing any custom painting.  See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p><code>Toolkit.getDefaultToolkit().getScreenSize();</code> in this context, is a bad idea.  It doesn't take into account other system assets, like task/menus/docks.  Make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Frame.html#setExtendedState(int)\" rel=\"nofollow noreferrer\"><code>JFrame#setExtendedState</code></a> instead.</p>\n<p>Using <code>screenSize</code> to do things like <code>graphic.fillRect(x*(screen.getWidth()/8), y*(screen.getHeight()/8), screen.getWidth()/8, screen.getHeight()/8);</code> is also a bad idea.  Instead, you should be looking at the actual size of the component.</p>\n<p>You also want to decouple your workflows, in such away as they are more easily re-usable.  This would mean (for me), making the <code>Board</code> class a <code>JPanel</code> and using it as the base component, rather then creating a custom <code>JPanel</code> within it.</p>\n<p>Prefer <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code></a> over <code>Toolkit.getDefaultToolkit().getImage(...)</code>.  Lots of reasons why, but primarily, <code>ImageIO</code> will actually throw an exception if the image can't be loaded.  <code>ImageIO</code> also doesn't use a background thread to load the image, so once it returns successfully, you know you have a fully realised image.</p>\n<p>Also, <code>Toolkit#getImage(String)</code> accepts a &quot;file&quot; on the file system.  This is the single greatest cause of issues.  The &quot;working&quot; directory of the app may not be the &quot;installed&quot; directory of the app, so unless you know exactly where on the disk the image is (and using absolute files paths have their own issues), this is going to cause you problems.</p>\n<p>Instead, embed the resources within the application context.  Different IDEs/build systems do this differently, for example Netbeans and Eclipse (when not using Maven) will allow you to drop resources directly into the <code>src</code> folder. This will be made available to your application at runtime, via <code>Class#getResource</code>.</p>\n<p>So, to &quot;answer&quot; your question, I would add <code>System.out.println(System.getProperty(&quot;user.dir&quot;));</code> to your code and check the actually running location of your application.  I'd then check the return result of <code>Piece.Rook.getWhiteRook()</code> (ie <code>System.out.println(Piece.Rook.getWhiteRook());</code>) to see if it's <code>null</code> or not.</p>\n<p>Then I'd embed the resource instead.</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/O9GvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9GvD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Piece.loadResources();\n                    JFrame frame = new JFrame();\n                    frame.add(new Board());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    ex.printStackTrace();;\n                    JOptionPane.showMessageDialog(null, &quot;Failed to load resources&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n    }\n\n    public class Board extends JPanel {        \n        private Map&lt;Integer, Character&gt; x_AxisMap = new HashMap&lt;Integer, Character&gt;();\n        private Map&lt;Integer, Character&gt; y_AxisMap = new HashMap&lt;Integer, Character&gt;();\n\n        public Board() {\n            setBackground(Color.decode(&quot;#ebe4e4&quot;));\n            x_AxisMap.put(0, 'a');\n            x_AxisMap.put(1, 'b');\n            x_AxisMap.put(2, 'c');\n            x_AxisMap.put(3, 'd');\n            x_AxisMap.put(4, 'e');\n            x_AxisMap.put(5, 'f');\n            x_AxisMap.put(6, 'g');\n            x_AxisMap.put(7, 'h');\n\n            y_AxisMap.put(0, '8');\n            y_AxisMap.put(1, '7');\n            y_AxisMap.put(2, '6');\n            y_AxisMap.put(3, '5');\n            y_AxisMap.put(4, '4');\n            y_AxisMap.put(5, '3');\n            y_AxisMap.put(6, '2');\n            y_AxisMap.put(7, '1');\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(720, 720);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            boolean color = true;\n            for (int y = 0; y &lt; 8; y++) {\n                for (int x = 0; x &lt; 8; x++) {\n                    if (color) {\n                        g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                    } else if (!color) {\n                        g2d.setColor(Color.decode(&quot;#449e48&quot;));\n                    }\n                    g2d.fillRect(x * (getWidth() / 8), y * (getHeight() / 8), getWidth() / 8, getHeight() / 8);\n\n                    if (y == 7) {\n                        g2d.setColor(Color.BLACK);\n                        g2d.drawString(String.valueOf(x_AxisMap.get(x)), x * (getWidth() / 8) + 3, y * (getHeight() / 8) + 87);\n                        if (color) {\n                            g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                        } else if (!color) {\n                            g2d.setColor(Color.decode(&quot;#449e48&quot;));\n                        }\n                    }\n\n                    if (x == 7) {\n                        g2d.setColor(Color.BLACK);\n                        g2d.drawString(String.valueOf(y_AxisMap.get(y)), x * (getWidth() / 8) + 80, y * (getHeight() / 8) + 15);\n                        if (color) {\n                            g2d.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                        } else if (!color) {\n                            g2d.setColor(Color.decode(&quot;#449e48&quot;));\n                        }\n                    }\n                    if (x == 0) {\n                        if (y == 0) {\n                            Image piece = Piece.ROOK.white();\n                            g2d.drawImage(piece, x * (getWidth() / 8), y * (getWidth() / 8), this);\n                        }\n                    }\n                    color = !color;\n                }\n                color = !color;\n            }\n        }\n    }\n\n    public enum Piece {\n        ROOK;\n\n        private Image white;\n        private Image black;\n\n        public Image white() {\n            return white;\n        }\n\n        public Image black() {\n            return black;\n        }\n\n        public static void loadResources() throws IOException {\n            Piece.ROOK.white = ImageIO.read(Main.class.getResource(&quot;/images/RookWhite.png&quot;));\n            Piece.ROOK.black = ImageIO.read(Main.class.getResource(&quot;/images/RookBlack.png&quot;));\n        }\n    }\n}\n</code></pre>\n<p><em>nb: Obviously I'm using different image names, so you'll need to correct for that</em></p>\n"}],"owner":{"account_id":20465768,"reputation":5,"user_id":15017306,"display_name":"ToyotaCorolla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72588536,"answer_count":1,"score":0,"last_activity_date":1655013434,"creation_date":1654979846,"question_id":72587714,"body_markdown":"I want to add an image in the top left corner of the `JFrame` but it won&#39;t appear there. I&#39;ve tried changing the `Image` into a `BufferedImage` and `ImageIcon` but I don&#39;t know if I was doing it correctly. \r\n\r\nHere&#39;s the code:\r\n\r\n    public class Board {\r\n    static Font font;\r\n    Board(){\r\n        try { font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;AlphaRomaineFont.ttf&quot;));\r\n        }\r\n        catch(IOException | FontFormatException e){\r\n\r\n        }\r\n    }\r\n    public static JFrame createNewBoard(){\r\n        JFrame screen = new JFrame();\r\n        screen.setUndecorated(true);\r\n        screen.setFont(font);\r\n        screen.setMinimumSize(new Dimension(720,720));\r\n        screen.setLocationRelativeTo(null); \r\n        screen.setMaximumSize(new Dimension(getScreenWidth(), getScreenHeight()));\r\n        screen.setVisible(true);\r\n        screen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        screen.setBackground(Color.decode(&quot;#ebe4e4&quot;));\r\n        screen.setVisible(true);\r\n        screen.setResizable(false);\r\n\r\n        Map&lt;Integer, Character&gt; x_AxisMap = new HashMap&lt;Integer, Character&gt;();\r\n        x_AxisMap.put(0, &#39;a&#39;);\r\n        x_AxisMap.put(1, &#39;b&#39;);\r\n        x_AxisMap.put(2, &#39;c&#39;);\r\n        x_AxisMap.put(3, &#39;d&#39;);\r\n        x_AxisMap.put(4, &#39;e&#39;);\r\n        x_AxisMap.put(5, &#39;f&#39;);\r\n        x_AxisMap.put(6, &#39;g&#39;);\r\n        x_AxisMap.put(7, &#39;h&#39;);\r\n\r\n        Map&lt;Integer, Character&gt; y_AxisMap = new HashMap&lt;Integer, Character&gt;();\r\n        y_AxisMap.put(0, &#39;8&#39;);\r\n        y_AxisMap.put(1, &#39;7&#39;);\r\n        y_AxisMap.put(2, &#39;6&#39;);\r\n        y_AxisMap.put(3, &#39;5&#39;);\r\n        y_AxisMap.put(4, &#39;4&#39;);\r\n        y_AxisMap.put(5, &#39;3&#39;);\r\n        y_AxisMap.put(6, &#39;2&#39;);\r\n        y_AxisMap.put(7, &#39;1&#39;);\r\n\r\n        \r\n        JPanel board = new JPanel(){\r\n            boolean color = true;\r\n            @Override\r\n            public void paint(Graphics graphic){\r\n                graphic.setFont(new Font(&quot;AlphaRomaineFont.ttf&quot;, Font.PLAIN, 18));\r\n                for(int y = 0; y &lt; 8; y++){\r\n                    for(int x = 0; x &lt; 8; x++){\r\n                        if(color){\r\n                            graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                        }\r\n                        else if(!color){\r\n                            graphic.setColor(Color.decode(&quot;#449e48&quot;));\r\n                        }\r\n                        graphic.fillRect(x*(screen.getWidth()/8), y*(screen.getHeight()/8), screen.getWidth()/8, screen.getHeight()/8);\r\n\r\n                        if(y == 7){\r\n                            graphic.setColor(Color.BLACK);\r\n                            graphic.drawString(String.valueOf(x_AxisMap.get(x)), x*(screen.getWidth()/8)+3,  y*(screen.getHeight()/8)+87);\r\n                            if(color){\r\n                                graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                            }\r\n                            else if(!color){\r\n                                graphic.setColor(Color.decode(&quot;#449e48&quot;));\r\n                            }\r\n                        }\r\n\r\n                        if(x == 7){\r\n                            graphic.setColor(Color.BLACK);\r\n                            graphic.drawString(String.valueOf(y_AxisMap.get(y)), x*(screen.getWidth()/8)+80,  y*(screen.getHeight()/8)+15);\r\n                            if(color){\r\n                                graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\r\n                            }\r\n                            else if(!color){\r\n                                graphic.setColor(Color.decode(&quot;#449e48&quot;));\r\n                            }\r\n                        }\r\n                        if(x == 0){\r\n                            if(y == 0){\r\n                                Image piece = Piece.Rook.getWhiteRook();\r\n                                graphic.drawImage(piece, x*(screen.getWidth()/8), y*(screen.getWidth()/8), this);\r\n                            }\r\n                        }\r\n                        color = !color;\r\n                    }\r\n                    color = !color;\r\n                }\r\n            } \r\n        };\r\n        board.setBounds(0, 0, screen.getWidth(), screen.getHeight());     \r\n        \r\n        screen.add(board);\r\n        return screen;\r\n    }\r\n    private static int getScreenWidth() {\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        return screenSize.width;\r\n    }\r\n    private static int getScreenHeight() {\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        return screenSize.height;\r\n    }\r\n}\r\n\r\n\r\nand\r\n\r\n    public static final class Rook extends Piece{\r\n        Rook(){\r\n\r\n        }\r\n\r\n        public static Image getWhiteRook(){\r\n            Image image = null;\r\n            try{\r\n                image = Toolkit.getDefaultToolkit().getImage(&quot;75_px_white_rook.png&quot;);\r\n            }\r\n            catch(Exception e){\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n            return image;\r\n        }\r\n        public Image getBlackRook(){\r\n            Image image = null;\r\n            try{\r\n                image = Toolkit.getDefaultToolkit().getImage(&quot;75_px_black_rook.png&quot;);\r\n            }\r\n            catch(Exception e){\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n            return image;\r\n        }\r\n    }}\r\n\r\nThe problem piece of code is: (in the Board Class)\r\n\r\n     if(x == 0){\r\n        if(y == 0){\r\n          Image piece = Piece.Rook.getWhiteRook();\r\n          graphic.drawImage(piece, x*(screen.getWidth()/8), y*(screen.getWidth()/8), this);\r\n        }\r\n     }","title":"Trying to draw an image in a 2d graphics but it wont work","body":"<p>I want to add an image in the top left corner of the <code>JFrame</code> but it won't appear there. I've tried changing the <code>Image</code> into a <code>BufferedImage</code> and <code>ImageIcon</code> but I don't know if I was doing it correctly.</p>\n<p>Here's the code:</p>\n<pre><code>public class Board {\nstatic Font font;\nBoard(){\n    try { font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;AlphaRomaineFont.ttf&quot;));\n    }\n    catch(IOException | FontFormatException e){\n\n    }\n}\npublic static JFrame createNewBoard(){\n    JFrame screen = new JFrame();\n    screen.setUndecorated(true);\n    screen.setFont(font);\n    screen.setMinimumSize(new Dimension(720,720));\n    screen.setLocationRelativeTo(null); \n    screen.setMaximumSize(new Dimension(getScreenWidth(), getScreenHeight()));\n    screen.setVisible(true);\n    screen.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    screen.setBackground(Color.decode(&quot;#ebe4e4&quot;));\n    screen.setVisible(true);\n    screen.setResizable(false);\n\n    Map&lt;Integer, Character&gt; x_AxisMap = new HashMap&lt;Integer, Character&gt;();\n    x_AxisMap.put(0, 'a');\n    x_AxisMap.put(1, 'b');\n    x_AxisMap.put(2, 'c');\n    x_AxisMap.put(3, 'd');\n    x_AxisMap.put(4, 'e');\n    x_AxisMap.put(5, 'f');\n    x_AxisMap.put(6, 'g');\n    x_AxisMap.put(7, 'h');\n\n    Map&lt;Integer, Character&gt; y_AxisMap = new HashMap&lt;Integer, Character&gt;();\n    y_AxisMap.put(0, '8');\n    y_AxisMap.put(1, '7');\n    y_AxisMap.put(2, '6');\n    y_AxisMap.put(3, '5');\n    y_AxisMap.put(4, '4');\n    y_AxisMap.put(5, '3');\n    y_AxisMap.put(6, '2');\n    y_AxisMap.put(7, '1');\n\n    \n    JPanel board = new JPanel(){\n        boolean color = true;\n        @Override\n        public void paint(Graphics graphic){\n            graphic.setFont(new Font(&quot;AlphaRomaineFont.ttf&quot;, Font.PLAIN, 18));\n            for(int y = 0; y &lt; 8; y++){\n                for(int x = 0; x &lt; 8; x++){\n                    if(color){\n                        graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                    }\n                    else if(!color){\n                        graphic.setColor(Color.decode(&quot;#449e48&quot;));\n                    }\n                    graphic.fillRect(x*(screen.getWidth()/8), y*(screen.getHeight()/8), screen.getWidth()/8, screen.getHeight()/8);\n\n                    if(y == 7){\n                        graphic.setColor(Color.BLACK);\n                        graphic.drawString(String.valueOf(x_AxisMap.get(x)), x*(screen.getWidth()/8)+3,  y*(screen.getHeight()/8)+87);\n                        if(color){\n                            graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                        }\n                        else if(!color){\n                            graphic.setColor(Color.decode(&quot;#449e48&quot;));\n                        }\n                    }\n\n                    if(x == 7){\n                        graphic.setColor(Color.BLACK);\n                        graphic.drawString(String.valueOf(y_AxisMap.get(y)), x*(screen.getWidth()/8)+80,  y*(screen.getHeight()/8)+15);\n                        if(color){\n                            graphic.setColor(Color.decode(&quot;#f5f1e6&quot;));\n                        }\n                        else if(!color){\n                            graphic.setColor(Color.decode(&quot;#449e48&quot;));\n                        }\n                    }\n                    if(x == 0){\n                        if(y == 0){\n                            Image piece = Piece.Rook.getWhiteRook();\n                            graphic.drawImage(piece, x*(screen.getWidth()/8), y*(screen.getWidth()/8), this);\n                        }\n                    }\n                    color = !color;\n                }\n                color = !color;\n            }\n        } \n    };\n    board.setBounds(0, 0, screen.getWidth(), screen.getHeight());     \n    \n    screen.add(board);\n    return screen;\n}\nprivate static int getScreenWidth() {\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    return screenSize.width;\n}\nprivate static int getScreenHeight() {\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    return screenSize.height;\n}\n</code></pre>\n<p>}</p>\n<p>and</p>\n<pre><code>public static final class Rook extends Piece{\n    Rook(){\n\n    }\n\n    public static Image getWhiteRook(){\n        Image image = null;\n        try{\n            image = Toolkit.getDefaultToolkit().getImage(&quot;75_px_white_rook.png&quot;);\n        }\n        catch(Exception e){\n            System.out.println(&quot;Error&quot;);\n        }\n        return image;\n    }\n    public Image getBlackRook(){\n        Image image = null;\n        try{\n            image = Toolkit.getDefaultToolkit().getImage(&quot;75_px_black_rook.png&quot;);\n        }\n        catch(Exception e){\n            System.out.println(&quot;Error&quot;);\n        }\n        return image;\n    }\n}}\n</code></pre>\n<p>The problem piece of code is: (in the Board Class)</p>\n<pre><code> if(x == 0){\n    if(y == 0){\n      Image piece = Piece.Rook.getWhiteRook();\n      graphic.drawImage(piece, x*(screen.getWidth()/8), y*(screen.getWidth()/8), this);\n    }\n }\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1527577941,"post_id":50578345,"comment_id":88165833,"body_markdown":"check if JAVA_HOME envvar is set (this question is probably a duplicate)","body":"check if JAVA_HOME envvar is set (this question is probably a duplicate)"},{"owner":{"account_id":11833670,"reputation":553,"user_id":8659651,"display_name":"Learnerer"},"score":0,"creation_date":1527579314,"post_id":50578345,"comment_id":88166609,"body_markdown":"I did that. It&#39;s set alright.","body":"I did that. It&#39;s set alright."},{"owner":{"account_id":11833670,"reputation":553,"user_id":8659651,"display_name":"Learnerer"},"score":0,"creation_date":1527582565,"post_id":50578345,"comment_id":88168562,"body_markdown":"JAVA_HOME contains the path to the bin folder in the java installation folder, but it&#39;s still no use..","body":"JAVA_HOME contains the path to the bin folder in the java installation folder, but it&#39;s still no use.."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1527612108,"post_id":50578345,"comment_id":88187654,"body_markdown":"JAVA_HOME should be pointing at your installation directory, not the bin directory. Possible duplicate of [How to set java_home on Windows 7?](https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7)","body":"JAVA_HOME should be pointing at your installation directory, not the bin directory. Possible duplicate of <a href=\"https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\">How to set java_home on Windows 7?</a>"},{"owner":{"account_id":11833670,"reputation":553,"user_id":8659651,"display_name":"Learnerer"},"score":0,"creation_date":1527666193,"post_id":50578345,"comment_id":88207160,"body_markdown":"I did that to no avail.. . I&#39;d really appreciate any suggestions.","body":"I did that to no avail.. . I&#39;d really appreciate any suggestions."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1556888807,"post_id":50578345,"comment_id":98591568,"body_markdown":"It is really too bad that NetBeans does not use the JAVA_HOME environment variable.","body":"It is really too bad that NetBeans does not use the JAVA_HOME environment variable."}],"answers":[{"tags":[],"owner":{"account_id":933148,"reputation":10640,"user_id":962603,"accept_rate":100,"display_name":"Just a student"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1527681014,"creation_date":1527681014,"answer_id":50603945,"question_id":50578345,"body_markdown":"Locate your Netbeans installation and in it the `etc/netbeans.conf` file. Open it with any text editor, and locate the line containing `netbeans_jdkhome`. If it is commented out (line starts with `#`), then remove the `#` to enable the setting. Then, set the value to the path to your JDK. This might be somethiing like `C:\\Program Files\\Java\\jdk-10.0.1`.\r\n\r\nTry to run the program again, it should work now. At least, it did for me.\r\n\r\n---\r\n\r\nAlso, ensure that you installed the [Java Development Kit (JDK)](http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html), not only the Java Runtime Environment (JRE). Netbeans needs the former to be installed in order to function.","title":"Java not found error when loading Apache Netbeans 9.0 or 10","body":"<p>Locate your Netbeans installation and in it the <code>etc/netbeans.conf</code> file. Open it with any text editor, and locate the line containing <code>netbeans_jdkhome</code>. If it is commented out (line starts with <code>#</code>), then remove the <code>#</code> to enable the setting. Then, set the value to the path to your JDK. This might be somethiing like <code>C:\\Program Files\\Java\\jdk-10.0.1</code>.</p>\n\n<p>Try to run the program again, it should work now. At least, it did for me.</p>\n\n<hr>\n\n<p>Also, ensure that you installed the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html\" rel=\"noreferrer\">Java Development Kit (JDK)</a>, not only the Java Runtime Environment (JRE). Netbeans needs the former to be installed in order to function.</p>\n"},{"tags":[],"owner":{"account_id":7544679,"reputation":11,"user_id":5728178,"display_name":"Andrew Teoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650949670,"creation_date":1644772388,"answer_id":71103058,"question_id":50578345,"body_markdown":"I experienced the issue after I updated Java and the version changed but the netbean.conf had the older version which is invalid. \r\n\r\nThe remedy is go into that file via notepad, or any text editor and then update the path with the correct version number, _i.e._ netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jre**1.8.0_311**&quot;. \r\n\r\nYou would go determined your latest Java edition, by pulling up the Java control panel and then hit the middle &quot;Java&quot; tab, hit &quot;View&quot; to see the current version you have installed.","title":"Java not found error when loading Apache Netbeans 9.0 or 10","body":"<p>I experienced the issue after I updated Java and the version changed but the netbean.conf had the older version which is invalid.</p>\n<p>The remedy is go into that file via notepad, or any text editor and then update the path with the correct version number, <em>i.e.</em> netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jre<strong>1.8.0_311</strong>&quot;.</p>\n<p>You would go determined your latest Java edition, by pulling up the Java control panel and then hit the middle &quot;Java&quot; tab, hit &quot;View&quot; to see the current version you have installed.</p>\n"},{"tags":[],"owner":{"account_id":24889402,"reputation":21,"user_id":18761582,"display_name":"Ali Hamza Ansari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655012721,"creation_date":1655012678,"answer_id":72589763,"question_id":50578345,"body_markdown":"This is the issue of compatibility of Netbeans with your installed jdk version\r\n\r\nLocate your `etc/netbeans.conf` file and Open it. In the `#netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk-17.0.1&quot;` replace the given path with your installed jdk. It will work","title":"Java not found error when loading Apache Netbeans 9.0 or 10","body":"<p>This is the issue of compatibility of Netbeans with your installed jdk version</p>\n<p>Locate your <code>etc/netbeans.conf</code> file and Open it. In the <code>#netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk-17.0.1&quot;</code> replace the given path with your installed jdk. It will work</p>\n"}],"owner":{"account_id":11833670,"reputation":553,"user_id":8659651,"display_name":"Learnerer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36281,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"accepted_answer_id":50603945,"answer_count":3,"score":31,"last_activity_date":1655012721,"creation_date":1527577857,"question_id":50578345,"body_markdown":"I downloaded the archive for the program, unzipped it to C drive on Windows, then when I try to run either executable (32bit/64bit) in the *bin* folder I get the error message:\r\n\r\n&gt; **Cannot find JAVA 1.8 or higher**.\r\n\r\nin spite of Java 10 (JRE) being already installed. I also tried Installing Java 9 but was stuck with the same message.\r\n\r\nI appreciate your help with this, Thanks.","title":"Java not found error when loading Apache Netbeans 9.0 or 10","body":"<p>I downloaded the archive for the program, unzipped it to C drive on Windows, then when I try to run either executable (32bit/64bit) in the <em>bin</em> folder I get the error message:</p>\n\n<blockquote>\n  <p><strong>Cannot find JAVA 1.8 or higher</strong>.</p>\n</blockquote>\n\n<p>in spite of Java 10 (JRE) being already installed. I also tried Installing Java 9 but was stuck with the same message.</p>\n\n<p>I appreciate your help with this, Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653914861,"post_id":72434542,"comment_id":127960796,"body_markdown":"You will enter the `else` clause as soon as you find two consecutive &#39;A&#39;s. What about checking whether `output` is &gt; 0 *after* the loop?","body":"You will enter the <code>else</code> clause as soon as you find two consecutive &#39;A&#39;s. What about checking whether <code>output</code> is &gt; 0 <i>after</i> the loop?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653914972,"post_id":72434542,"comment_id":127960840,"body_markdown":"Also shouldn&#39;t `lastCharacter` be first initialized with the value of the *first* character of the string? At which point you start the loop from 1, not from 0.","body":"Also shouldn&#39;t <code>lastCharacter</code> be first initialized with the value of the <i>first</i> character of the string? At which point you start the loop from 1, not from 0."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653915132,"post_id":72434542,"comment_id":127960896,"body_markdown":"Learn to use the debugger to understand what your code is doing.","body":"Learn to use the debugger to understand what your code is doing."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1653915937,"post_id":72434542,"comment_id":127961191,"body_markdown":"@FedericoklezCulloca im trying this a lot, i have written partial code. Can you please post the code","body":"@FedericoklezCulloca im trying this a lot, i have written partial code. Can you please post the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653916011,"post_id":72434542,"comment_id":127961216,"body_markdown":"@deepakl.2000 I think I gave you more than enough guidance. If you were able to write the code above you&#39;ll be able to write the code with the directions I gave you. Please read [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822) and [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166)","body":"@deepakl.2000 I think I gave you more than enough guidance. If you were able to write the code above you&#39;ll be able to write the code with the directions I gave you. Please read <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a> and <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1653916339,"post_id":72434542,"comment_id":127961340,"body_markdown":"How about a finite state automaton?","body":"How about a finite state automaton?"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1653917474,"post_id":72434542,"comment_id":127961785,"body_markdown":"Im trying, give me some time @FedericoklezCulloca","body":"Im trying, give me some time @FedericoklezCulloca"}],"answers":[{"tags":[],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653919504,"creation_date":1653917061,"answer_id":72435077,"question_id":72434542,"body_markdown":"Here you go Bro\r\n```\r\npackage app;\r\n\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n        String s1 = &quot;AAABA&quot;;\r\n        int neededToDelete = 0;\r\n        int subIndexToDeleteTo = s1.length();\r\n        for (int i = s1.length() - 1; i &gt;= 0; --i) {\r\n            if (Objects.equals(&#39;B&#39;, s1.charAt(i)) &amp;&amp; s1.substring(0, i).contains(&quot;A&quot;) &amp;&amp;\r\n            s1.substring(i, subIndexToDeleteTo).contains(&quot;B&quot;) &amp;&amp; i != s1.length()-1) {\r\n                neededToDelete++;\r\n                subIndexToDeleteTo  = i;\r\n            }\r\n        }\r\n        System.out.println(neededToDelete);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Count the occurence of &#39;B&#39; in a String S, provided all A&#39;s are together","body":"<p>Here you go Bro</p>\n<pre><code>package app;\n\nimport java.util.*;\n\npublic class Main {\n    public static void main(String args[]) {\n        String s1 = &quot;AAABA&quot;;\n        int neededToDelete = 0;\n        int subIndexToDeleteTo = s1.length();\n        for (int i = s1.length() - 1; i &gt;= 0; --i) {\n            if (Objects.equals('B', s1.charAt(i)) &amp;&amp; s1.substring(0, i).contains(&quot;A&quot;) &amp;&amp;\n            s1.substring(i, subIndexToDeleteTo).contains(&quot;B&quot;) &amp;&amp; i != s1.length()-1) {\n                neededToDelete++;\n                subIndexToDeleteTo  = i;\n            }\n        }\n        System.out.println(neededToDelete);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653930312,"creation_date":1653917868,"answer_id":72435280,"question_id":72434542,"body_markdown":"Idea is to count consecutive `B` until we find an `A`. Steps I have followed\r\n1. Keep track of how many `B` I have found till I find an &#39;A&#39;.\r\n2. If `A` found then add the `B Count` to the main `output` and reset the value for the next consecutive searching.\r\n3. If `A` not found then simply discard the `B Count` tracker.   \r\n\r\n```\r\n//Removing the first and last unnecessary B\r\nString s1 = &quot;BBBAAAABBBBAABB&quot;;\r\ns1= s1.substring(s1.indexOf(&quot;A&quot;),s1.lastIndexOf(&quot;A&quot;));\r\n\r\nint output=0;\r\nint bFound=0;\r\nfor (int i = 0; i &lt; s1.length(); i++) {\r\n  if(s1.charAt(i)==&#39;B&#39;){\r\n    System.out.println(&quot;B Found&quot;);\r\n    bFound++;\r\n  }else if(bFound&gt;0 &amp;&amp; s1.charAt(i)==&#39;A&#39;){\r\n    output+=bFound; //adding to main output plus resetting the count  \r\n    bFound=0;\r\n  }\r\n}\r\n\r\nSystem.out.println(&quot;Total B to remove: &quot;+output);\r\nif(output&gt;0){\r\n  // your print statement\r\n}else{\r\n  // your print statement\r\n}\r\n```\r\n\r\n","title":"Count the occurence of &#39;B&#39; in a String S, provided all A&#39;s are together","body":"<p>Idea is to count consecutive <code>B</code> until we find an <code>A</code>. Steps I have followed</p>\n<ol>\n<li>Keep track of how many <code>B</code> I have found till I find an 'A'.</li>\n<li>If <code>A</code> found then add the <code>B Count</code> to the main <code>output</code> and reset the value for the next consecutive searching.</li>\n<li>If <code>A</code> not found then simply discard the <code>B Count</code> tracker.</li>\n</ol>\n<pre><code>//Removing the first and last unnecessary B\nString s1 = &quot;BBBAAAABBBBAABB&quot;;\ns1= s1.substring(s1.indexOf(&quot;A&quot;),s1.lastIndexOf(&quot;A&quot;));\n\nint output=0;\nint bFound=0;\nfor (int i = 0; i &lt; s1.length(); i++) {\n  if(s1.charAt(i)=='B'){\n    System.out.println(&quot;B Found&quot;);\n    bFound++;\n  }else if(bFound&gt;0 &amp;&amp; s1.charAt(i)=='A'){\n    output+=bFound; //adding to main output plus resetting the count  \n    bFound=0;\n  }\n}\n\nSystem.out.println(&quot;Total B to remove: &quot;+output);\nif(output&gt;0){\n  // your print statement\n}else{\n  // your print statement\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653918141,"creation_date":1653918141,"answer_id":72435340,"question_id":72434542,"body_markdown":"This is maybe too advanced for you to understand, but you can get the count with a single line like this\r\n\r\n    String s1= &quot;BBBABAABBBBABB&quot;; // output 5          \r\n    long count = Pattern.compile(&quot;(?&lt;=(A.{0,100}))B(?=(.*A))&quot;).matcher(s1).results().count();\r\n    if(count &gt; 0){\r\n        System.out.println(&quot; B output is &quot; + count);\r\n    } else{\r\n        System.out.println(&quot; All A&#39;s are together,hence  B output is :: &quot; + count);\r\n    }\r\n\r\nIt uses a Regex that matches all B&#39;s that have an A at some point before and after it by using a lookahead and lookbehind.\r\n`100` is an arbitrary number that should be equal to or higher than the max length of the expected string.","title":"Count the occurence of &#39;B&#39; in a String S, provided all A&#39;s are together","body":"<p>This is maybe too advanced for you to understand, but you can get the count with a single line like this</p>\n<pre><code>String s1= &quot;BBBABAABBBBABB&quot;; // output 5          \nlong count = Pattern.compile(&quot;(?&lt;=(A.{0,100}))B(?=(.*A))&quot;).matcher(s1).results().count();\nif(count &gt; 0){\n    System.out.println(&quot; B output is &quot; + count);\n} else{\n    System.out.println(&quot; All A's are together,hence  B output is :: &quot; + count);\n}\n</code></pre>\n<p>It uses a Regex that matches all B's that have an A at some point before and after it by using a lookahead and lookbehind.\n<code>100</code> is an arbitrary number that should be equal to or higher than the max length of the expected string.</p>\n"},{"tags":[],"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653918991,"creation_date":1653918991,"answer_id":72435536,"question_id":72434542,"body_markdown":"Simple solution: remove the lone B&#39;s from the left and right. Then count the B&#39;s in the middle.\r\n\r\n```java\r\n    public static int minDeletion(String s){\r\n        int counter = 0;\r\n        int left = 0;\r\n        int right = s.length()-1;\r\n        while(true){\r\n            if(s.charAt(left)==&#39;B&#39;) left++;\r\n            if(s.charAt(right)==&#39;B&#39;) right--;\r\n            if(s.charAt(left)!=&#39;B&#39; &amp;&amp; s.charAt(right)!=&#39;B&#39;) break;\r\n        }\r\n        for(int i=left; i&lt;=right; i++){\r\n            if(s.charAt(i)==&#39;B&#39;) counter++;\r\n        }\r\n        return counter;\r\n    }\r\n```\r\n\r\nAssign two pointers, one starting from the left and the other from the right end. `left` will move to the right and `right` will move to the left until A is found in both. After that, count the Bs in that section as they have to be removed for all As to be consecutive.\r\n","title":"Count the occurence of &#39;B&#39; in a String S, provided all A&#39;s are together","body":"<p>Simple solution: remove the lone B's from the left and right. Then count the B's in the middle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int minDeletion(String s){\n        int counter = 0;\n        int left = 0;\n        int right = s.length()-1;\n        while(true){\n            if(s.charAt(left)=='B') left++;\n            if(s.charAt(right)=='B') right--;\n            if(s.charAt(left)!='B' &amp;&amp; s.charAt(right)!='B') break;\n        }\n        for(int i=left; i&lt;=right; i++){\n            if(s.charAt(i)=='B') counter++;\n        }\n        return counter;\n    }\n</code></pre>\n<p>Assign two pointers, one starting from the left and the other from the right end. <code>left</code> will move to the right and <code>right</code> will move to the left until A is found in both. After that, count the Bs in that section as they have to be removed for all As to be consecutive.</p>\n"}],"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":72435280,"answer_count":4,"score":-3,"last_activity_date":1655012636,"creation_date":1653914667,"question_id":72434542,"body_markdown":"Problem Statement\r\n\r\nyou are given a string of characters A&#39;s and B&#39;s\r\nyou want all A&#39;s to be together,\r\nto achieve this you can delete some B&#39;s from the string,\r\nWhat is the minimum number of B&#39;s you can delete to achieve this\r\n\r\nInput :: The First and only Argument is string A\r\n\r\nOutput :: Return an Integer,equal to minimum number of B&#39;s you have to delete.\r\n\r\n\r\n    Example String s1 =  &quot;AAABA&quot;      SOP(&quot; output=1B is to be deleted, &quot;)\r\n    Example String s2 =  &quot;AAAAB&quot;      SOP(&quot; output=0B is to be deleted, All A&#39;s are together.&quot;);\r\n    Example String s3 =  &quot;AAABBBBA &quot;  SOP(&quot; output= 4B is to be deleted&quot;)\r\n    Example String s4 =  &quot;AAAAAAAAAB&quot; SOP(&quot; output =0B is to be deleted,All A&#39;s are together&quot;)\r\n\r\nI have implemented this partialy, but can you point out\r\nwhere I&#39;m wrong\r\n\r\nInitial Analysis of the algorithm :: I&#39;m iterating the string s1 and I&#39;m trying to find the position of the `lastCharacter` which is equal to &#39;A&#39;, I am trying to find the the position of B and increment the output,hence keep a count of output and then display the result which is displaying the wrong result. Where am I going wrong? Could you give me pointers to achieve the desired result as stated in Problem Statement\r\n\r\n```\r\nimport java.util.*;\r\n\r\n\r\n&#160; &#160; class AlgorithmInJava{\r\n\r\n&#160; &#160; &#160; &#160;public static void main(String args[]){\r\n\r\n&#160; &#160; &#160; &#160; /* Testing Scenarios */\r\n\r\n&#160; &#160; &#160; &#160; String s1= &quot;AAABBBBA&quot;;&#160; &#160; &#160; &#160; &#160;&#160;\r\n\r\n&#160; &#160; &#160; &#160; // print output =4B\r\n\r\n&#160; &#160; &#160; &#160; int output = 0;\r\n\r\n&#160; &#160; &#160; &#160; int n = s1.length();\r\n\r\n&#160; &#160; &#160; &#160; char lastCharacter = s1.charAt(n-1);\r\n\r\n&#160; &#160; &#160; &#160; System.out.println(&quot; The Last Character is &quot;+lastCharacter);\r\n\r\n&#160; &#160; &#160; &#160; int lastCharacterIndex = s1.lastIndexOf(lastCharacter);\r\n\r\n&#160; &#160; &#160; &#160; System.out.println(&quot;index of lastCharacter :: &quot;+lastCharacterIndex);\r\n\r\n&#160; &#160; &#160; &#160; &#160;\r\n\r\n&#160; &#160; &#160; &#160; for(int i=0;i&lt;s1.length();i++){\r\n\r\n&#160; &#160; &#160; &#160; &#160; if(lastCharacter == &#39;A&#39; &amp;&amp; s1.charAt(i) == &#39;B&#39;){\r\n\r\n&#160; &#160; &#160; &#160; &#160; &#160;output++;\r\n\r\n&#160; &#160; &#160; &#160; &#160; &#160;System.out.println(&quot; B output is &quot;+output);\r\n\r\n&#160; &#160; &#160; &#160; &#160; }else{\r\n\r\n&#160; &#160; &#160; &#160; &#160; // All A&#39;s are together,print output = 0;\r\n\r\n&#160; &#160; &#160; &#160; &#160; &#160;System.out.println(&quot; All A&#39;s are together,hence B output is :: &quot;+output);\r\n\r\n&#160; &#160; &#160; &#160; &#160;}\r\n\r\n&#160; &#160; &#160; }\r\n\r\n&#160; &#160; }\r\n\r\n}\r\n\r\n```\r\n","title":"Count the occurence of &#39;B&#39; in a String S, provided all A&#39;s are together","body":"<p>Problem Statement</p>\n<p>you are given a string of characters A's and B's\nyou want all A's to be together,\nto achieve this you can delete some B's from the string,\nWhat is the minimum number of B's you can delete to achieve this</p>\n<p>Input :: The First and only Argument is string A</p>\n<p>Output :: Return an Integer,equal to minimum number of B's you have to delete.</p>\n<pre><code>Example String s1 =  &quot;AAABA&quot;      SOP(&quot; output=1B is to be deleted, &quot;)\nExample String s2 =  &quot;AAAAB&quot;      SOP(&quot; output=0B is to be deleted, All A's are together.&quot;);\nExample String s3 =  &quot;AAABBBBA &quot;  SOP(&quot; output= 4B is to be deleted&quot;)\nExample String s4 =  &quot;AAAAAAAAAB&quot; SOP(&quot; output =0B is to be deleted,All A's are together&quot;)\n</code></pre>\n<p>I have implemented this partialy, but can you point out\nwhere I'm wrong</p>\n<p>Initial Analysis of the algorithm :: I'm iterating the string s1 and I'm trying to find the position of the <code>lastCharacter</code> which is equal to 'A', I am trying to find the the position of B and increment the output,hence keep a count of output and then display the result which is displaying the wrong result. Where am I going wrong? Could you give me pointers to achieve the desired result as stated in Problem Statement</p>\n<pre><code>import java.util.*;\n\n\n    class AlgorithmInJava{\n\n       public static void main(String args[]){\n\n        /* Testing Scenarios */\n\n        String s1= &quot;AAABBBBA&quot;;          \n\n        // print output =4B\n\n        int output = 0;\n\n        int n = s1.length();\n\n        char lastCharacter = s1.charAt(n-1);\n\n        System.out.println(&quot; The Last Character is &quot;+lastCharacter);\n\n        int lastCharacterIndex = s1.lastIndexOf(lastCharacter);\n\n        System.out.println(&quot;index of lastCharacter :: &quot;+lastCharacterIndex);\n\n         \n\n        for(int i=0;i&lt;s1.length();i++){\n\n          if(lastCharacter == 'A' &amp;&amp; s1.charAt(i) == 'B'){\n\n           output++;\n\n           System.out.println(&quot; B output is &quot;+output);\n\n          }else{\n\n          // All A's are together,print output = 0;\n\n           System.out.println(&quot; All A's are together,hence B output is :: &quot;+output);\n\n         }\n\n      }\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","share"],"owner":{"account_id":18596731,"reputation":89,"user_id":13552550,"display_name":"ZIBRAN KHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655012263,"creation_date":1655012263,"question_id":72589736,"body_markdown":"I want to show a popup before sharing a text on WhatsApp if the users have two whatsapp.\r\n\r\nLike this:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLLFk.jpg\r\n\r\n\r\nHere is code:\r\n\r\n\r\n    try {\r\n                FileOutputStream outputStream = new FileOutputStream(file);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n                Intent i = new Intent(Intent.ACTION_SEND);\r\n                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                i.setType(&quot;image/*&quot;);\r\n                i.setPackage(&quot;com.whatsapp&quot;);\r\n                i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\r\n                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                String shareMessage = newsModel.getTitle() + &quot;\\n\\n&quot; + &quot;That&#39;s Awesome...\\uD83D\\uDC40 \\n\\n Install Now!☺☺ \\n\\n&quot;;\r\n                shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID + &quot;\\n\\n&quot;;\r\n                i.putExtra(Intent.EXTRA_TEXT, shareMessage);\r\n                startActivity(Intent.createChooser(i, &quot;Share News from &quot; + this.getString(R.string.app_name)));\r\n\r\n            } catch (Exception e) {\r\n                Log.e(&quot;ContentValue&quot;, e.getMessage());\r\n\r\n                try {\r\n                    FileOutputStream outputStream = new FileOutputStream(file);\r\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\r\n                    outputStream.flush();\r\n                    outputStream.close();\r\n                    Intent i = new Intent(Intent.ACTION_SEND);\r\n                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    i.setType(&quot;image/*&quot;);\r\n                    i.setPackage(&quot;com.whatsapp.w4b&quot;);\r\n                    i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\r\n                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    String shareMessage = newsModel.getTitle() + &quot;\\n\\n&quot; + &quot;That&#39;s Awesome...\\uD83D\\uDC40 \\n\\n Install Now!☺☺ \\n\\n&quot;;\r\n                    shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID + &quot;\\n\\n&quot;;\r\n                    i.putExtra(Intent.EXTRA_TEXT, shareMessage);\r\n                    startActivity(Intent.createChooser(i, &quot;Share News from &quot; + this.getString(R.string.app_name)));\r\n\r\n                } catch (Exception exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n\r\n\r\n\r\nThis code works properly to share text on WhatsApp but the problem is through this code WhatsApp opens directly and the popup does not show. \r\nI want to show the popup as the given picture below please help me solve this problem.","title":"How to open whatsapp popup when we share text on whatsapp from the app in android studio","body":"<p>I want to show a popup before sharing a text on WhatsApp if the users have two whatsapp.</p>\n<p>Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/zLLFk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLLFk.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is code:</p>\n<pre><code>try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\n            outputStream.flush();\n            outputStream.close();\n            Intent i = new Intent(Intent.ACTION_SEND);\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            i.setType(&quot;image/*&quot;);\n            i.setPackage(&quot;com.whatsapp&quot;);\n            i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            String shareMessage = newsModel.getTitle() + &quot;\\n\\n&quot; + &quot;That's Awesome...\\uD83D\\uDC40 \\n\\n Install Now!☺☺ \\n\\n&quot;;\n            shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID + &quot;\\n\\n&quot;;\n            i.putExtra(Intent.EXTRA_TEXT, shareMessage);\n            startActivity(Intent.createChooser(i, &quot;Share News from &quot; + this.getString(R.string.app_name)));\n\n        } catch (Exception e) {\n            Log.e(&quot;ContentValue&quot;, e.getMessage());\n\n            try {\n                FileOutputStream outputStream = new FileOutputStream(file);\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\n                outputStream.flush();\n                outputStream.close();\n                Intent i = new Intent(Intent.ACTION_SEND);\n                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.setType(&quot;image/*&quot;);\n                i.setPackage(&quot;com.whatsapp.w4b&quot;);\n                i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\n                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                String shareMessage = newsModel.getTitle() + &quot;\\n\\n&quot; + &quot;That's Awesome...\\uD83D\\uDC40 \\n\\n Install Now!☺☺ \\n\\n&quot;;\n                shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID + &quot;\\n\\n&quot;;\n                i.putExtra(Intent.EXTRA_TEXT, shareMessage);\n                startActivity(Intent.createChooser(i, &quot;Share News from &quot; + this.getString(R.string.app_name)));\n\n            } catch (Exception exception) {\n                exception.printStackTrace();\n            }\n        }\n</code></pre>\n<p>This code works properly to share text on WhatsApp but the problem is through this code WhatsApp opens directly and the popup does not show.\nI want to show the popup as the given picture below please help me solve this problem.</p>\n"},{"tags":["java","ethereum","web3-java"],"comments":[{"owner":{"account_id":16594062,"reputation":433,"user_id":11991422,"display_name":"Taimoor"},"score":0,"creation_date":1630277315,"post_id":68977302,"comment_id":121906018,"body_markdown":"Share the smart contract code","body":"Share the smart contract code"},{"owner":{"account_id":22600829,"reputation":31,"user_id":16782419,"display_name":"Coin Lover"},"score":0,"creation_date":1630328176,"post_id":68977302,"comment_id":121918779,"body_markdown":"Thanks, I have just added the link to the smart contract : https://polygonscan.com/address/0x920f22e1e5da04504b765f8110ab96a20e6408bd#code","body":"Thanks, I have just added the link to the smart contract : <a href=\"https://polygonscan.com/address/0x920f22e1e5da04504b765f8110ab96a20e6408bd#code\" rel=\"nofollow noreferrer\">polygonscan.com/address/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11021515,"reputation":31,"user_id":8095583,"display_name":"PierreLuo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640933778,"creation_date":1640933778,"answer_id":70539758,"question_id":68977302,"body_markdown":"You need to define a class that extends DynamicStruct\r\n```java\r\npublic class RewardData extends DynamicStruct {\r\n    public RewardData(Address token, Uint256 amount) {\r\n        super(new Type[]{token, amount});\r\n    }\r\n}\r\n```\r\n\r\nand then replace `DynamicStruct` with `RewardData`\r\n```java\r\nList&lt;TypeReference&lt;?&gt;&gt; claimableRewardsReturnTypes = Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;RewardData&gt;&gt;() {});\r\n```","title":"How to call a function that returns tuple[]","body":"<p>You need to define a class that extends DynamicStruct</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RewardData extends DynamicStruct {\n    public RewardData(Address token, Uint256 amount) {\n        super(new Type[]{token, amount});\n    }\n}\n</code></pre>\n<p>and then replace <code>DynamicStruct</code> with <code>RewardData</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TypeReference&lt;?&gt;&gt; claimableRewardsReturnTypes = Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;RewardData&gt;&gt;() {});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25535390,"reputation":11,"user_id":19322569,"display_name":"user19322569"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655011156,"creation_date":1655011156,"answer_id":72589667,"question_id":68977302,"body_markdown":"        {\r\n      &quot;inputs&quot;:[{&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;account&quot;,&quot;type&quot;:&quot;address&quot;}],\r\n      &quot;name&quot;:&quot;claimableRewards&quot;,\r\n      &quot;outputs&quot;:\r\n        [{&quot;components&quot;:\r\n          [\r\n            {&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;token&quot;,&quot;type&quot;:&quot;address&quot;},\r\n            {&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256[]&quot;}\r\n          ],\r\n          &quot;internalType&quot;:&quot;struct MultiFeeDistribution.RewardData[]&quot;,\r\n          &quot;name&quot;:&quot;rewards&quot;,\r\n          &quot;type&quot;:&quot;tuple[]&quot;\r\n        }],\r\n      &quot;stateMutability&quot;:&quot;view&quot;,\r\n      &quot;type&quot;:&quot;function&quot;\r\n    }","title":"How to call a function that returns tuple[]","body":"<pre><code>    {\n  &quot;inputs&quot;:[{&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;account&quot;,&quot;type&quot;:&quot;address&quot;}],\n  &quot;name&quot;:&quot;claimableRewards&quot;,\n  &quot;outputs&quot;:\n    [{&quot;components&quot;:\n      [\n        {&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;token&quot;,&quot;type&quot;:&quot;address&quot;},\n        {&quot;internalType&quot;:&quot;uint256[]&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256[]&quot;}\n      ],\n      &quot;internalType&quot;:&quot;struct MultiFeeDistribution.RewardData[]&quot;,\n      &quot;name&quot;:&quot;rewards&quot;,\n      &quot;type&quot;:&quot;tuple[]&quot;\n    }],\n  &quot;stateMutability&quot;:&quot;view&quot;,\n  &quot;type&quot;:&quot;function&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":22600829,"reputation":31,"user_id":16782419,"display_name":"Coin Lover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655011156,"creation_date":1630275138,"question_id":68977302,"body_markdown":"I am relatively new to interacting with smart contracts in Java and I am facing a problem while trying to retrieve a tuple[] returned by the smart contract function. Here is the ABI definition of the function I want to call:\r\n```\r\n{\r\n  &quot;inputs&quot;:[{&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;account&quot;,&quot;type&quot;:&quot;address&quot;}],\r\n  &quot;name&quot;:&quot;claimableRewards&quot;,\r\n  &quot;outputs&quot;:\r\n    [{&quot;components&quot;:\r\n      [\r\n        {&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;token&quot;,&quot;type&quot;:&quot;address&quot;},\r\n        {&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;}\r\n      ],\r\n      &quot;internalType&quot;:&quot;struct MultiFeeDistribution.RewardData[]&quot;,\r\n      &quot;name&quot;:&quot;rewards&quot;,\r\n      &quot;type&quot;:&quot;tuple[]&quot;\r\n    }],\r\n  &quot;stateMutability&quot;:&quot;view&quot;,\r\n  &quot;type&quot;:&quot;function&quot;\r\n}\r\n```\r\nHere is the link to the smart contract code:\r\nhttps://polygonscan.com/address/0x920f22e1e5da04504b765f8110ab96a20e6408bd#code\r\n\r\nAnd here is the Java code that I wrote to call the function (I have removed the errors checking to make the code easier to read):\r\n```java\r\nList&lt;Type&gt; claimableRewardsParams = Arrays.&lt;Type&gt;asList(new Address(credentials.getAddress()));\r\nList&lt;TypeReference&lt;?&gt;&gt; claimableRewardsReturnTypes = Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;DynamicStruct&gt;&gt;() {});\r\n\r\nfinal Function claimableRewardsFunction = new Function(\r\n\t\t&quot;claimableRewards&quot;,\r\n\t\tclaimableRewardsParams,\r\n\t\tclaimableRewardsReturnTypes);\r\n\r\nString claimableRewardsEncodedFunction = FunctionEncoder\r\n\t\t.encode(claimableRewardsFunction);          \r\n\r\nEthCall claimableRewardsResponse = web3.ethCall(\r\n\t\tTransaction.createEthCallTransaction(walletAddress, adamantRewardsContractAddress, claimableRewardsEncodedFunction),\r\n\t\tDefaultBlockParameterName.LATEST)\r\n\t\t.sendAsync().get();\r\n\r\nList&lt;Type&gt; claimableRewardsSomeTypes = FunctionReturnDecoder.decode(\r\n\t\tclaimableRewardsResponse.getValue(), claimableRewardsFunction.getOutputParameters());\r\n```\r\n\r\nWhen I run the program I get the following exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: TypeReferenced\r\n&gt; struct must contain a constructor with types that extend Type\r\n\r\n\r\nI have tried several other definitions for claimableRewardsReturnTypes, but I can&#39;t get it to work. Can someone please help me?\r\n","title":"How to call a function that returns tuple[]","body":"<p>I am relatively new to interacting with smart contracts in Java and I am facing a problem while trying to retrieve a tuple[] returned by the smart contract function. Here is the ABI definition of the function I want to call:</p>\n<pre><code>{\n  &quot;inputs&quot;:[{&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;account&quot;,&quot;type&quot;:&quot;address&quot;}],\n  &quot;name&quot;:&quot;claimableRewards&quot;,\n  &quot;outputs&quot;:\n    [{&quot;components&quot;:\n      [\n        {&quot;internalType&quot;:&quot;address&quot;,&quot;name&quot;:&quot;token&quot;,&quot;type&quot;:&quot;address&quot;},\n        {&quot;internalType&quot;:&quot;uint256&quot;,&quot;name&quot;:&quot;amount&quot;,&quot;type&quot;:&quot;uint256&quot;}\n      ],\n      &quot;internalType&quot;:&quot;struct MultiFeeDistribution.RewardData[]&quot;,\n      &quot;name&quot;:&quot;rewards&quot;,\n      &quot;type&quot;:&quot;tuple[]&quot;\n    }],\n  &quot;stateMutability&quot;:&quot;view&quot;,\n  &quot;type&quot;:&quot;function&quot;\n}\n</code></pre>\n<p>Here is the link to the smart contract code:\n<a href=\"https://polygonscan.com/address/0x920f22e1e5da04504b765f8110ab96a20e6408bd#code\" rel=\"nofollow noreferrer\">https://polygonscan.com/address/0x920f22e1e5da04504b765f8110ab96a20e6408bd#code</a></p>\n<p>And here is the Java code that I wrote to call the function (I have removed the errors checking to make the code easier to read):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Type&gt; claimableRewardsParams = Arrays.&lt;Type&gt;asList(new Address(credentials.getAddress()));\nList&lt;TypeReference&lt;?&gt;&gt; claimableRewardsReturnTypes = Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;DynamicStruct&gt;&gt;() {});\n\nfinal Function claimableRewardsFunction = new Function(\n        &quot;claimableRewards&quot;,\n        claimableRewardsParams,\n        claimableRewardsReturnTypes);\n\nString claimableRewardsEncodedFunction = FunctionEncoder\n        .encode(claimableRewardsFunction);          \n\nEthCall claimableRewardsResponse = web3.ethCall(\n        Transaction.createEthCallTransaction(walletAddress, adamantRewardsContractAddress, claimableRewardsEncodedFunction),\n        DefaultBlockParameterName.LATEST)\n        .sendAsync().get();\n\nList&lt;Type&gt; claimableRewardsSomeTypes = FunctionReturnDecoder.decode(\n        claimableRewardsResponse.getValue(), claimableRewardsFunction.getOutputParameters());\n</code></pre>\n<p>When I run the program I get the following exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: TypeReferenced\nstruct must contain a constructor with types that extend Type</p>\n</blockquote>\n<p>I have tried several other definitions for claimableRewardsReturnTypes, but I can't get it to work. Can someone please help me?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1654785310,"post_id":72562000,"comment_id":128179410,"body_markdown":"&quot;I&#39;m unable to&quot; is really hard to help with. What *does* happen when you run this code in a debugger, and what did you expect to happen? Is your `onDataChange` gettin called at all? If not, is the `onCancelled` getting called instead?","body":"&quot;I&#39;m unable to&quot; is really hard to help with. What <i>does</i> happen when you run this code in a debugger, and what did you expect to happen? Is your <code>onDataChange</code> gettin called at all? If not, is the <code>onCancelled</code> getting called instead?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654846860,"post_id":72562000,"comment_id":128194074,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond with @.","body":"Please edit your question and add the information Frank asked for, and please also respond with @."},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654847689,"post_id":72562000,"comment_id":128194342,"body_markdown":"@FrankvanPuffelen  i was expecting to get the quotes from the firebase and show it as text, here is the json https://drive.google.com/file/d/1c7T7TwfvcBhl8eg8FoBFoZU984xi-MPH/view?usp=sharing","body":"@FrankvanPuffelen  i was expecting to get the quotes from the firebase and show it as text, here is the json <a href=\"https://drive.google.com/file/d/1c7T7TwfvcBhl8eg8FoBFoZU984xi-MPH/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1c7T7TwfvcBhl8eg8FoBFoZU984xi-MPH/&hellip;</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1654863961,"post_id":72562000,"comment_id":128199996,"body_markdown":"I understand what you expect, but that doesn&#39;t answer the questions in my first comment though. Does you `onDataChange` get called? If not, does your `onCancelled` get called. With such basic debugging information, it is much more likely that someone here can spot what is going wrong.","body":"I understand what you expect, but that doesn&#39;t answer the questions in my first comment though. Does you <code>onDataChange</code> get called? If not, does your <code>onCancelled</code> get called. With such basic debugging information, it is much more likely that someone here can spot what is going wrong."},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1654867243,"post_id":72562000,"comment_id":128201276,"body_markdown":"okay i check in logcat but its showing null , here is how i get Log.d(&quot;TAG&quot;, quotes_list.toString());","body":"okay i check in logcat but its showing null , here is how i get Log.d(&quot;TAG&quot;, quotes_list.toString());"},{"owner":{"account_id":16310465,"reputation":141,"user_id":11779243,"display_name":"Olayiwola Osho"},"score":0,"creation_date":1655025940,"post_id":72562000,"comment_id":128228323,"body_markdown":"I think you&#39;re missing the point of @FrankvanPuffelen. The first thing I want to ask if if you&#39;re returning quotes_list before the call back is even excuted which could be why you&#39;re getting null. Add two breakpoints one to on data changed and one to onCanclled so you know what is called when firebase returns data to you","body":"I think you&#39;re missing the point of @FrankvanPuffelen. The first thing I want to ask if if you&#39;re returning quotes_list before the call back is even excuted which could be why you&#39;re getting null. Add two breakpoints one to on data changed and one to onCanclled so you know what is called when firebase returns data to you"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1655026900,"post_id":72562000,"comment_id":128228489,"body_markdown":"@OlayiwolaOsho can u have a look here https://codeshare.io/BAlx3n","body":"@OlayiwolaOsho can u have a look here <a href=\"https://codeshare.io/BAlx3n\" rel=\"nofollow noreferrer\">codeshare.io/BAlx3n</a>"},{"owner":{"account_id":16310465,"reputation":141,"user_id":11779243,"display_name":"Olayiwola Osho"},"score":0,"creation_date":1655040859,"post_id":72562000,"comment_id":128231214,"body_markdown":"Could you confirm that your Firebase Security Rules gives your client app access to read its data and confirm that you actually have some data in your root node @Player91","body":"Could you confirm that your Firebase Security Rules gives your client app access to read its data and confirm that you actually have some data in your root node @Player91"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1655043744,"post_id":72562000,"comment_id":128231871,"body_markdown":"yes the read is true","body":"yes the read is true"}],"owner":{"display_name":"user18105926"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655010161,"creation_date":1654784468,"question_id":72562000,"body_markdown":"becuase of some reaon i deleted the parent node and make all the child node direct under the root node \r\n\r\nbut when im getting refrence of the root node im unable to the child data \r\n\r\n \r\n\r\n  \r\n\r\n     databaseReference = FirebaseDatabase.getInstance().getReference();\r\n            model = new Model();\r\n            quotes_list = new ArrayList&lt;&gt;();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                        model = dataSnapshot1.getValue(Model.class);\r\n                        if (model != null) {\r\n                            quotes_list.add(model.getTitle());\r\n                            position = randomQ.nextInt(quotes_list.size());\r\n                            Log.d(TAG, quotes_list.toString());\r\n    \r\n                        }\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                    Log.d(TAG, quotes_list.toString());\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull @org.jetbrains.annotations.NotNull DatabaseError error) {\r\n                    Toast.makeText(HomeActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.d(TAG, error.getMessage());\r\n    \r\n                }\r\n            });\r\n\r\n","title":"Not getting data from direct child of root node in firebase","body":"<p>becuase of some reaon i deleted the parent node and make all the child node direct under the root node</p>\n<p>but when im getting refrence of the root node im unable to the child data</p>\n<pre><code> databaseReference = FirebaseDatabase.getInstance().getReference();\n        model = new Model();\n        quotes_list = new ArrayList&lt;&gt;();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull @org.jetbrains.annotations.NotNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n                    model = dataSnapshot1.getValue(Model.class);\n                    if (model != null) {\n                        quotes_list.add(model.getTitle());\n                        position = randomQ.nextInt(quotes_list.size());\n                        Log.d(TAG, quotes_list.toString());\n\n                    }\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n                Log.d(TAG, quotes_list.toString());\n            }\n\n            @Override\n            public void onCancelled(@NonNull @org.jetbrains.annotations.NotNull DatabaseError error) {\n                Toast.makeText(HomeActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(TAG, error.getMessage());\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1655029147,"post_id":72589348,"comment_id":128228930,"body_markdown":"Well if you don&#39;t know Scala, why not learn it first? Hints: `case class` are good to represent immutable data like `Book` and `Library`.","body":"Well if you don&#39;t know Scala, why not learn it first? Hints: <code>case class</code> are good to represent immutable data like <code>Book</code> and <code>Library</code>."}],"answers":[{"tags":[],"owner":{"account_id":57636,"reputation":18651,"user_id":172677,"accept_rate":83,"display_name":"Eastsun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655007526,"creation_date":1655007526,"answer_id":72589453,"question_id":72589348,"body_markdown":"This&#39;s all(save it as `xxx.scala`, and run with `scala xxx.scala`):\r\n\r\n    case class Book(title: String, author: String)\r\n    \r\n    case class Library(books: List[Book])\r\n    \r\n    object GFG {\r\n      def main(args: Array[String]): Unit = {\r\n         val b1 = Book(&quot;EffectiveJ Java&quot;, &quot;Joshua Bloch&quot;)\r\n         val b2 = Book(&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;)\r\n         val b3 = Book(&quot;Java: The Complete Reference&quot;, &quot;Herbert Schildt&quot;)\r\n         val book = List(b1, b2, b3)\r\n         val library = Library(book)\r\n         val books = library.books\r\n         for (bk &lt;- books) println(s&quot;Title : ${bk.title}  and  Author : ${bk.author}&quot;)\r\n      }\r\n    }","title":"How to Convert this code from Java to Scala","body":"<p>This's all(save it as <code>xxx.scala</code>, and run with <code>scala xxx.scala</code>):</p>\n<pre><code>case class Book(title: String, author: String)\n\ncase class Library(books: List[Book])\n\nobject GFG {\n  def main(args: Array[String]): Unit = {\n     val b1 = Book(&quot;EffectiveJ Java&quot;, &quot;Joshua Bloch&quot;)\n     val b2 = Book(&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;)\n     val b3 = Book(&quot;Java: The Complete Reference&quot;, &quot;Herbert Schildt&quot;)\n     val book = List(b1, b2, b3)\n     val library = Library(book)\n     val books = library.books\n     for (bk &lt;- books) println(s&quot;Title : ${bk.title}  and  Author : ${bk.author}&quot;)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1655034500,"answer_count":1,"score":-3,"last_activity_date":1655007838,"creation_date":1655005565,"question_id":72589348,"body_markdown":"I am trying to change the code from Java to Scala and I dont know how to do it. Below attached the code that I&#39;m trying to change. I would like to know how to change it and thanks a lot for your time. \r\n\r\n```\r\n// Java program to Illustrate Concept of Composition\r\n \r\n// Importing required classes\r\nimport java.io.*;\r\nimport java.util.*;\r\n \r\n// Class 1\r\n// Helper class\r\n// Book class\r\nclass Book {\r\n \r\n    // Member variables of this class\r\n    public String title;\r\n    public String author;\r\n \r\n    // Constructor of this class\r\n    Book(String title, String author)\r\n    {\r\n \r\n        // This keyword refers top current instance\r\n        this.title = title;\r\n        this.author = author;\r\n    }\r\n}\r\n \r\n// Class 2\r\n// Helper class\r\n// Library class contains list of books.\r\nclass Library {\r\n \r\n    // Reference to refer to list of books.\r\n    private final List&lt;Book&gt; books;\r\n \r\n    // Constructor of this class\r\n    Library(List&lt;Book&gt; books)\r\n    {\r\n \r\n        // This keyword refers to current instance itself\r\n        this.books = books;\r\n    }\r\n \r\n    // Method of this class\r\n    // Getting the list of books\r\n    public List&lt;Book&gt; getListOfBooksInLibrary()\r\n    {\r\n        return books;\r\n    }\r\n}\r\n \r\n// Class 3\r\n// Main class\r\nclass GFG {\r\n \r\n    // Main driver method\r\n    public static void main(String[] args)\r\n    {\r\n \r\n        // Creating the objects of class 1 (Book class)\r\n        // inside main() method\r\n        Book b1\r\n            = new Book(&quot;EffectiveJ Java&quot;, &quot;Joshua Bloch&quot;);\r\n        Book b2\r\n            = new Book(&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;);\r\n        Book b3 = new Book(&quot;Java: The Complete Reference&quot;,\r\n                           &quot;Herbert Schildt&quot;);\r\n \r\n        // Creating the list which contains the\r\n        // no. of books.\r\n        List&lt;Book&gt; book = new ArrayList&lt;Book&gt;();\r\n \r\n        // Adding books to List object\r\n        // using standard add() method\r\n        book.add(b1);\r\n        book.add(b2);\r\n        book.add(b3);\r\n \r\n        // Creating an object of class 2\r\n        Library library = new Library(book);\r\n \r\n        // Calling method of class 2 and storing list of\r\n        // books in List Here List is declared of type\r\n        // Books(user-defined)\r\n        List&lt;Book&gt; books\r\n            = library.getListOfBooksInLibrary();\r\n \r\n        // Iterating over for each loop\r\n        for (Book bk : books) {\r\n \r\n            // Print and display the title and author of\r\n            // books inside List object\r\n            System.out.println(&quot;Title : &quot; + bk.title\r\n                               + &quot; and &quot;\r\n                               + &quot; Author : &quot; + bk.author);\r\n        }\r\n    }\r\n}\r\n```\r\nBasically, I would like it to execute the same thing but in Scala but I dont really know how. Appreciat it if you could show me how to do it. Thank you\r\n\r\nThis is another simple java code. I still dont really get how so I now pick a easier one for understanding. Thank you.\r\n```\r\n public class Subject {\r\nprivate String name;\r\npublic void setName(String name)  {\r\nthis.name = name;\r\n}\r\npublic String getName()\r\n{\r\nreturn name;\r\n}\r\n}\r\npublic class Student {\r\nprivate Subject[] studyAreas = new Subject[10];\r\n//the rest of the Student class\r\n} \r\n```\r\nThank you for helping me to understand. I sincerely appreciate it alot.","title":"How to Convert this code from Java to Scala","body":"<p>I am trying to change the code from Java to Scala and I dont know how to do it. Below attached the code that I'm trying to change. I would like to know how to change it and thanks a lot for your time.</p>\n<pre><code>// Java program to Illustrate Concept of Composition\n \n// Importing required classes\nimport java.io.*;\nimport java.util.*;\n \n// Class 1\n// Helper class\n// Book class\nclass Book {\n \n    // Member variables of this class\n    public String title;\n    public String author;\n \n    // Constructor of this class\n    Book(String title, String author)\n    {\n \n        // This keyword refers top current instance\n        this.title = title;\n        this.author = author;\n    }\n}\n \n// Class 2\n// Helper class\n// Library class contains list of books.\nclass Library {\n \n    // Reference to refer to list of books.\n    private final List&lt;Book&gt; books;\n \n    // Constructor of this class\n    Library(List&lt;Book&gt; books)\n    {\n \n        // This keyword refers to current instance itself\n        this.books = books;\n    }\n \n    // Method of this class\n    // Getting the list of books\n    public List&lt;Book&gt; getListOfBooksInLibrary()\n    {\n        return books;\n    }\n}\n \n// Class 3\n// Main class\nclass GFG {\n \n    // Main driver method\n    public static void main(String[] args)\n    {\n \n        // Creating the objects of class 1 (Book class)\n        // inside main() method\n        Book b1\n            = new Book(&quot;EffectiveJ Java&quot;, &quot;Joshua Bloch&quot;);\n        Book b2\n            = new Book(&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;);\n        Book b3 = new Book(&quot;Java: The Complete Reference&quot;,\n                           &quot;Herbert Schildt&quot;);\n \n        // Creating the list which contains the\n        // no. of books.\n        List&lt;Book&gt; book = new ArrayList&lt;Book&gt;();\n \n        // Adding books to List object\n        // using standard add() method\n        book.add(b1);\n        book.add(b2);\n        book.add(b3);\n \n        // Creating an object of class 2\n        Library library = new Library(book);\n \n        // Calling method of class 2 and storing list of\n        // books in List Here List is declared of type\n        // Books(user-defined)\n        List&lt;Book&gt; books\n            = library.getListOfBooksInLibrary();\n \n        // Iterating over for each loop\n        for (Book bk : books) {\n \n            // Print and display the title and author of\n            // books inside List object\n            System.out.println(&quot;Title : &quot; + bk.title\n                               + &quot; and &quot;\n                               + &quot; Author : &quot; + bk.author);\n        }\n    }\n}\n</code></pre>\n<p>Basically, I would like it to execute the same thing but in Scala but I dont really know how. Appreciat it if you could show me how to do it. Thank you</p>\n<p>This is another simple java code. I still dont really get how so I now pick a easier one for understanding. Thank you.</p>\n<pre><code> public class Subject {\nprivate String name;\npublic void setName(String name)  {\nthis.name = name;\n}\npublic String getName()\n{\nreturn name;\n}\n}\npublic class Student {\nprivate Subject[] studyAreas = new Subject[10];\n//the rest of the Student class\n} \n</code></pre>\n<p>Thank you for helping me to understand. I sincerely appreciate it alot.</p>\n"},{"tags":["java","list","hashmap"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":5,"creation_date":1654961189,"post_id":72585540,"comment_id":128219266,"body_markdown":"What about a set?","body":"What about a set?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654961297,"post_id":72585540,"comment_id":128219287,"body_markdown":"Do you need the numbers in the list to be *ordered*? Note that a `HashMap` is not ordered. You can&#39;t get e.g. the 5th thing you inserted into it.","body":"Do you need the numbers in the list to be <i>ordered</i>? Note that a <code>HashMap</code> is not ordered. You can&#39;t get e.g. the 5th thing you inserted into it."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1654961315,"post_id":72585540,"comment_id":128219291,"body_markdown":"if your keys are integers, a sparse array implementation would be more efficient","body":"if your keys are integers, a sparse array implementation would be more efficient"},{"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"score":0,"creation_date":1654961621,"post_id":72585540,"comment_id":128219366,"body_markdown":"@Sweeper thanks but I do not need it ordered","body":"@Sweeper thanks but I do not need it ordered"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654961624,"creation_date":1654961624,"answer_id":72585664,"question_id":72585540,"body_markdown":"An alternative solution from the standard library is a [`java.util.BitSet`][1]. This is - in my opinion - only an option if the values of `item` are not too big, and if they are relatively close together. If your values are not near each other (and not starting near to zero), then it might be worthwhile looking for third party solutions that offers sparse bit sets or other sparse data structures.\r\n\r\nYou can use a bit set like:\r\n\r\n```\r\nBitSet bits = new BitSet();\r\n\r\nvoid add(int item) {\r\n    bits.set(item);\r\n}\r\n```\r\n\r\nAnd as suggested in the comments by Eritrean, you can also use a `Set` (e.g. `HashSet`). Internally, a `HashSet` uses a `HashMap`, so it will perform similar to your current solution, but it does away with having to put sentinel values in yourself (you just add or remove the item itself). \r\n\r\nAs an added benefit, if you use `Collection&lt;Integer&gt;` as the type of parameters/fields in your code, you can easily switch between using an `ArrayList` or an `HashSet` and test it without having to change code all over the place.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html","title":"Is there a better DS than a HashMap for storing a list of items if I frequently use the contains method on it?","body":"<p>An alternative solution from the standard library is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>java.util.BitSet</code></a>. This is - in my opinion - only an option if the values of <code>item</code> are not too big, and if they are relatively close together. If your values are not near each other (and not starting near to zero), then it might be worthwhile looking for third party solutions that offers sparse bit sets or other sparse data structures.</p>\n<p>You can use a bit set like:</p>\n<pre><code>BitSet bits = new BitSet();\n\nvoid add(int item) {\n    bits.set(item);\n}\n</code></pre>\n<p>And as suggested in the comments by Eritrean, you can also use a <code>Set</code> (e.g. <code>HashSet</code>). Internally, a <code>HashSet</code> uses a <code>HashMap</code>, so it will perform similar to your current solution, but it does away with having to put sentinel values in yourself (you just add or remove the item itself).</p>\n<p>As an added benefit, if you use <code>Collection&lt;Integer&gt;</code> as the type of parameters/fields in your code, you can easily switch between using an <code>ArrayList</code> or an <code>HashSet</code> and test it without having to change code all over the place.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655007611,"creation_date":1655007611,"answer_id":72589461,"question_id":72585540,"body_markdown":"&gt; _I have a list of numbers. In my program I would frequently be checking if a certain number is part of my list. If it is not part of my list, I add it to the list, otherwise I do nothing._\r\n\r\nYou are describing a set. From the [Javadoc][1], a `java.util.Set` is:\r\n\r\n&gt; _A collection that contains no duplicate elements._\r\n\r\nFurther, the operation you are describing is [`add()`][2]:\r\n\r\n&gt; _Adds the specified element to this set if it is not already present._\r\n\r\nIn code, you would create a new `Set` (this example uses a `HashSet`):\r\n```\r\nSet&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\r\n```\r\n\r\nThen any time you encounter a number you wish to keep track of, just call `add()`. If `x` is already present, the set will remain unchanged and will not throw any errors – you don&#39;t need to be careful about adding things, just add anything you see, and the set sort of &quot;filters&quot; out the duplicates for you.\r\n```\r\nnumbers.add(x);\r\n```\r\n\r\nIt&#39;s beyond your original question, but there are various things you can do with the data once you&#39;ve populated a set - check if other numbers are present/absent, iterate the numbers in the set, etc. The Javadoc shows which functionality is available to use.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#add-E-","title":"Is there a better DS than a HashMap for storing a list of items if I frequently use the contains method on it?","body":"<blockquote>\n<p><em>I have a list of numbers. In my program I would frequently be checking if a certain number is part of my list. If it is not part of my list, I add it to the list, otherwise I do nothing.</em></p>\n</blockquote>\n<p>You are describing a set. From the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Javadoc</a>, a <code>java.util.Set</code> is:</p>\n<blockquote>\n<p><em>A collection that contains no duplicate elements.</em></p>\n</blockquote>\n<p>Further, the operation you are describing is <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Set.html#add-E-\" rel=\"nofollow noreferrer\"><code>add()</code></a>:</p>\n<blockquote>\n<p><em>Adds the specified element to this set if it is not already present.</em></p>\n</blockquote>\n<p>In code, you would create a new <code>Set</code> (this example uses a <code>HashSet</code>):</p>\n<pre><code>Set&lt;Integer&gt; numbers = new HashSet&lt;&gt;();\n</code></pre>\n<p>Then any time you encounter a number you wish to keep track of, just call <code>add()</code>. If <code>x</code> is already present, the set will remain unchanged and will not throw any errors – you don't need to be careful about adding things, just add anything you see, and the set sort of &quot;filters&quot; out the duplicates for you.</p>\n<pre><code>numbers.add(x);\n</code></pre>\n<p>It's beyond your original question, but there are various things you can do with the data once you've populated a set - check if other numbers are present/absent, iterate the numbers in the set, etc. The Javadoc shows which functionality is available to use.</p>\n"}],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72589461,"answer_count":2,"score":3,"last_activity_date":1655007611,"creation_date":1654960699,"question_id":72585540,"body_markdown":"I have a list of numbers. In my program I would frequently be checking if a certain number is part of my list. If it is not part of my list, I add it to the list, otherwise I do nothing. I have found myself using a hashmap to store the items instead of an arraylist.\r\n\r\n```\r\nvoid add(Map&lt;Integer, Integer&gt; mp, int item){\r\n   if(!mp.containsKey(item)){\r\n      mp.put(item, 1);\r\n   }\r\n}\r\n```\r\n\r\nAs you can see above, I put anything as the value, since I would not be using the values.\r\nI have tested this process to be a lot faster than using an arraylist. (Also, containsKey() for hashmap is O(1) while contains() for arraylist is O(n))\r\n\r\nAlthough it works well for me, it feels awkward for the simple reason that it is not the right data structure. Is this a good practice? Is there a better DS that I can use? Is there not any **list that utilizes hashing to store values**?","title":"Is there a better DS than a HashMap for storing a list of items if I frequently use the contains method on it?","body":"<p>I have a list of numbers. In my program I would frequently be checking if a certain number is part of my list. If it is not part of my list, I add it to the list, otherwise I do nothing. I have found myself using a hashmap to store the items instead of an arraylist.</p>\n<pre><code>void add(Map&lt;Integer, Integer&gt; mp, int item){\n   if(!mp.containsKey(item)){\n      mp.put(item, 1);\n   }\n}\n</code></pre>\n<p>As you can see above, I put anything as the value, since I would not be using the values.\nI have tested this process to be a lot faster than using an arraylist. (Also, containsKey() for hashmap is O(1) while contains() for arraylist is O(n))</p>\n<p>Although it works well for me, it feels awkward for the simple reason that it is not the right data structure. Is this a good practice? Is there a better DS that I can use? Is there not any <strong>list that utilizes hashing to store values</strong>?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":936432,"reputation":2371,"user_id":965285,"accept_rate":58,"display_name":"draksia"},"score":0,"creation_date":1465505131,"post_id":37735716,"comment_id":62942922,"body_markdown":"I suspect the library is try to use the string as a key instead of the string value, this seems like a very odd use case for JSON. Why do you want to have only one single value in a JSON object?","body":"I suspect the library is try to use the string as a key instead of the string value, this seems like a very odd use case for JSON. Why do you want to have only one single value in a JSON object?"},{"owner":{"account_id":2294694,"reputation":1051,"user_id":2016450,"display_name":"Matt Runion"},"score":0,"creation_date":1465505345,"post_id":37735716,"comment_id":62943042,"body_markdown":"Yup. It&#39;d be better to do pass the file as { fileContents: &quot;&lt;Put that stuff here&gt;&quot; }, then it&#39;s always a JSON object.","body":"Yup. It&#39;d be better to do pass the file as { fileContents: &quot;&lt;Put that stuff here&gt;&quot; }, then it&#39;s always a JSON object."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1465505641,"post_id":37735716,"comment_id":62943183,"body_markdown":"It&#39;s a good question though. RFC 7159 plainly states that &quot;A JSON parser MUST accept all texts that conform to the JSON grammar&quot; so the question becomes (1) why doesn&#39;t JSON-java support this, is he misusing the API, or (2) where can he find an RFC 7159 compliant parser (which is unfortunately out of scope for SO...).","body":"It&#39;s a good question though. RFC 7159 plainly states that &quot;A JSON parser MUST accept all texts that conform to the JSON grammar&quot; so the question becomes (1) why doesn&#39;t JSON-java support this, is he misusing the API, or (2) where can he find an RFC 7159 compliant parser (which is unfortunately out of scope for SO...)."},{"owner":{"account_id":69386,"reputation":5102,"user_id":201891,"accept_rate":85,"display_name":"DavidS"},"score":0,"creation_date":1465505791,"post_id":37735716,"comment_id":62943258,"body_markdown":"That said, Google&#39;s gson library seems to parse value-only JSON text just fine, `Integer fromJson = create.fromJson(&quot;6&quot;, Integer.class);`. This is a popular library, so I&#39;d just use that.","body":"That said, Google&#39;s gson library seems to parse value-only JSON text just fine, <code>Integer fromJson = create.fromJson(&quot;6&quot;, Integer.class);</code>. This is a popular library, so I&#39;d just use that."}],"answers":[{"tags":[],"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655007347,"creation_date":1655007347,"answer_id":72589447,"question_id":37735716,"body_markdown":"This saved my life\r\n\r\n        // Serialization\r\n        Gson gson = new Gson();\r\n        gson.toJson(1); // ==&gt; 1\r\n        gson.toJson(&quot;abcd&quot;); // ==&gt; &quot;abcd&quot;\r\n        gson.toJson(new Long(10)); // ==&gt; 10\r\n        int[] values = { 1 };\r\n        gson.toJson(values); // ==&gt; [1]\r\n \r\n        // Deserialization\r\n        int one = gson.fromJson(&quot;1&quot;, int.class);// ==&gt; 1\r\n        Integer oneInteger = gson.fromJson(&quot;1&quot;, Integer.class);// ==&gt; 1\r\n        Long oneLong = gson.fromJson(&quot;1&quot;, Long.class);// ==&gt; 1\r\n        Boolean bool = gson.fromJson(&quot;false&quot;, Boolean.class); // ==&gt; false\r\n        String str = gson.fromJson(&quot;\\&quot;abc\\&quot;&quot;, String.class);// ==&gt; &quot;abcd&quot;\r\n        String[] anotherStr = gson.fromJson(&quot;[\\&quot;abc\\&quot;]&quot;, String[].class);// ==&gt; [&quot;abc&quot;]\r\n   ","title":"Work with value only json and json-java","body":"<p>This saved my life</p>\n<pre><code>    // Serialization\n    Gson gson = new Gson();\n    gson.toJson(1); // ==&gt; 1\n    gson.toJson(&quot;abcd&quot;); // ==&gt; &quot;abcd&quot;\n    gson.toJson(new Long(10)); // ==&gt; 10\n    int[] values = { 1 };\n    gson.toJson(values); // ==&gt; [1]\n\n    // Deserialization\n    int one = gson.fromJson(&quot;1&quot;, int.class);// ==&gt; 1\n    Integer oneInteger = gson.fromJson(&quot;1&quot;, Integer.class);// ==&gt; 1\n    Long oneLong = gson.fromJson(&quot;1&quot;, Long.class);// ==&gt; 1\n    Boolean bool = gson.fromJson(&quot;false&quot;, Boolean.class); // ==&gt; false\n    String str = gson.fromJson(&quot;\\&quot;abc\\&quot;&quot;, String.class);// ==&gt; &quot;abcd&quot;\n    String[] anotherStr = gson.fromJson(&quot;[\\&quot;abc\\&quot;]&quot;, String[].class);// ==&gt; [&quot;abc&quot;]\n</code></pre>\n"}],"owner":{"account_id":170560,"reputation":841,"user_id":397344,"accept_rate":68,"display_name":"Josh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655007347,"creation_date":1465504689,"question_id":37735716,"body_markdown":"I am using the json-java library at https://github.com/stleary/JSON-java to parse some json files. i am reading the file into a string, and then sending it to `JSONObject()`. when the json file contains an object, such as:\r\n`\r\n{\r\n    &quot;days&quot; : 365\r\n}`\r\n\r\nit works fine. my problem is with &#39;value only&#39; json, or &#39;json text&#39;. according to the RFC http://www.ietf.org/rfc/rfc7159.txt all of these are valid json text values:\r\n\r\n&gt; Here are three small JSON texts containing only values:\r\n&gt; \r\n&gt; &quot;Hello world!&quot;\r\n&gt; \r\n&gt; 42\r\n&gt; \r\n&gt; true\r\n\r\nhowever when calling `jsonObject` the following error is thrown \r\n\r\n    Exception in thread &quot;main&quot; org.json.JSONException: A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1]\r\n\r\nthat is with me calling \r\n\r\n    JSONObject jsonObj = new JSONObject(&quot;Hello world!&quot;);\r\n\r\nit seems to work with number as number\r\n\r\n    JSONObject jsonObj = new JSONObject(42);\r\n\r\nbut not number presented as string\r\n\r\n    JSONObject jsonObj = new JSONObject(&quot;42&quot;);\r\n\r\nthe same is true of\r\n\r\n    JSONObject jsonObj = new JSONObject(true);\r\n    JSONObject jsonObj = new JSONObject(&quot;true&quot;);\r\n\r\nis there an issue when parsing the strings? or am i doing it incorrectly? this problem arose because i am reading the contents of a file, into a string, then sending the built string of information to the `JSONObject`. \r\nthis means\r\n`&quot;Hello World!&quot;` never works, but it also means \r\n`42` never works, because after it is read in from the file, it becomes `&quot;42&quot;`, and it breaks since it now sees it as a string.\r\n\r\nis there a way to use the library to also parse just &#39;json text&#39; input?","title":"Work with value only json and json-java","body":"<p>I am using the json-java library at <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow\">https://github.com/stleary/JSON-java</a> to parse some json files. i am reading the file into a string, and then sending it to <code>JSONObject()</code>. when the json file contains an object, such as:\n<code>\n{\n    \"days\" : 365\n}</code></p>\n\n<p>it works fine. my problem is with 'value only' json, or 'json text'. according to the RFC <a href=\"http://www.ietf.org/rfc/rfc7159.txt\" rel=\"nofollow\">http://www.ietf.org/rfc/rfc7159.txt</a> all of these are valid json text values:</p>\n\n<blockquote>\n  <p>Here are three small JSON texts containing only values:</p>\n  \n  <p>\"Hello world!\"</p>\n  \n  <p>42</p>\n  \n  <p>true</p>\n</blockquote>\n\n<p>however when calling <code>jsonObject</code> the following error is thrown </p>\n\n<pre><code>Exception in thread \"main\" org.json.JSONException: A JSONObject text must begin with '{' at 1 [character 2 line 1]\n</code></pre>\n\n<p>that is with me calling </p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(\"Hello world!\");\n</code></pre>\n\n<p>it seems to work with number as number</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(42);\n</code></pre>\n\n<p>but not number presented as string</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(\"42\");\n</code></pre>\n\n<p>the same is true of</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(true);\nJSONObject jsonObj = new JSONObject(\"true\");\n</code></pre>\n\n<p>is there an issue when parsing the strings? or am i doing it incorrectly? this problem arose because i am reading the contents of a file, into a string, then sending the built string of information to the <code>JSONObject</code>. \nthis means\n<code>\"Hello World!\"</code> never works, but it also means \n<code>42</code> never works, because after it is read in from the file, it becomes <code>\"42\"</code>, and it breaks since it now sees it as a string.</p>\n\n<p>is there a way to use the library to also parse just 'json text' input?</p>\n"},{"tags":["java","repaint"],"comments":[{"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"score":0,"creation_date":1390925701,"post_id":21410908,"comment_id":32298229,"body_markdown":"Are you referring to revalidate()? http://stackoverflow.com/questions/1097366/java-swing-revalidate-vs-repaint","body":"Are you referring to revalidate()? <a href=\"http://stackoverflow.com/questions/1097366/java-swing-revalidate-vs-repaint\" title=\"java swing revalidate vs repaint\">stackoverflow.com/questions/1097366/&hellip;</a>"},{"owner":{"account_id":2937845,"reputation":14082,"user_id":2516399,"accept_rate":45,"display_name":"smartmouse"},"score":0,"creation_date":1390925963,"post_id":21410908,"comment_id":32298408,"body_markdown":"I didn&#39;t know revalidate(), anyway i tried to use it and it doesn&#39;t work. I have also have a look at your link, but it don&#39;t help me.\n\nI have this method:\n\n[link](http://pastebin.com/RM1LLd0v)\n\nEverytime i call the method the &quot;list&quot; content is different but the JList shows always the same content.","body":"I didn&#39;t know revalidate(), anyway i tried to use it and it doesn&#39;t work. I have also have a look at your link, but it don&#39;t help me.  I have this method:  <a href=\"http://pastebin.com/RM1LLd0v\" rel=\"nofollow noreferrer\">link</a>  Everytime i call the method the &quot;list&quot; content is different but the JList shows always the same content."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1655008950,"post_id":21410908,"comment_id":128226051,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"answers":[{"tags":[],"owner":{"account_id":1608358,"reputation":916,"user_id":1487957,"accept_rate":67,"display_name":"rhobincu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654902678,"creation_date":1390925970,"answer_id":21411057,"question_id":21410908,"body_markdown":"Carefully read the API for [JComponent][1]. The usages are:\r\n\r\n 1. `setVisible` - it will hide or show your component altogether. If you set it as `false`, you won&#39;t see it at all.\r\n 2. `repaint()` - is called when the actual pixels need to be redrawn, this is done **automatically**. It&#39;s used, for example, when you move a window on top of your GUI and then move it away. The part that was covered needs to be redrawn.\r\n 3. `validate()` - you should call this when the layout of your GUI has changed and you need the manager to replace and redraw your GUI.\r\n\r\nIt&#39;s a bit more complicated than that, so again, carefully read the API.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html","title":"What&#39;s the difference between setVisible(true), repaint() and validate()?","body":"<p>Carefully read the API for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html\" rel=\"nofollow noreferrer\">JComponent</a>. The usages are:</p>\n<ol>\n<li><code>setVisible</code> - it will hide or show your component altogether. If you set it as <code>false</code>, you won't see it at all.</li>\n<li><code>repaint()</code> - is called when the actual pixels need to be redrawn, this is done <strong>automatically</strong>. It's used, for example, when you move a window on top of your GUI and then move it away. The part that was covered needs to be redrawn.</li>\n<li><code>validate()</code> - you should call this when the layout of your GUI has changed and you need the manager to replace and redraw your GUI.</li>\n</ol>\n<p>It's a bit more complicated than that, so again, carefully read the API.</p>\n"},{"tags":[],"owner":{"account_id":3918858,"reputation":551,"user_id":3241970,"accept_rate":67,"display_name":"Someone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390926072,"creation_date":1390926072,"answer_id":21411092,"question_id":21410908,"body_markdown":"**setVisible(true)**: sets the component so that it&#39;s visible.\r\n\r\n**repaint()**: calls the paint method on the component.\r\n\r\n**revalidate()**: updates the component based on the root component","title":"What&#39;s the difference between setVisible(true), repaint() and validate()?","body":"<p><strong>setVisible(true)</strong>: sets the component so that it's visible.</p>\n\n<p><strong>repaint()</strong>: calls the paint method on the component.</p>\n\n<p><strong>revalidate()</strong>: updates the component based on the root component</p>\n"}],"owner":{"account_id":2937845,"reputation":14082,"user_id":2516399,"accept_rate":45,"display_name":"smartmouse"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655006441,"creation_date":1390925556,"question_id":21410908,"body_markdown":"I create a little program that load a frame in which I added some panels.\r\nWhen I click on some button it should show some panels and hide other.\r\nI&#39;m experiencing some difficult to do it, even because I don&#39;t really figure out the diference between `setVisible(true)`, `repaint()` and `validate()` (that some friends of mine suggested to me).\r\n\r\nI hope you can make me to understand!\r\n\r\nThank you.","title":"What&#39;s the difference between setVisible(true), repaint() and validate()?","body":"<p>I create a little program that load a frame in which I added some panels.\nWhen I click on some button it should show some panels and hide other.\nI'm experiencing some difficult to do it, even because I don't really figure out the diference between <code>setVisible(true)</code>, <code>repaint()</code> and <code>validate()</code> (that some friends of mine suggested to me).</p>\n<p>I hope you can make me to understand!</p>\n<p>Thank you.</p>\n"},{"tags":["java","io","option-type"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654242942,"post_id":72486349,"comment_id":128049078,"body_markdown":"Maintain a temporary file and write all the lines except the lines that are inserted in database. After the process, delete the old file and rename the new file to &quot;old file&#39;s name&quot;.","body":"Maintain a temporary file and write all the lines except the lines that are inserted in database. After the process, delete the old file and rename the new file to &quot;old file&#39;s name&quot;."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1654243079,"post_id":72486349,"comment_id":128049114,"body_markdown":"Can you give me code example, please?","body":"Can you give me code example, please?"}],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654245012,"creation_date":1654245012,"answer_id":72486812,"question_id":72486349,"body_markdown":"For Reference\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class RemoveLinesFromAfterProcessed {\r\n    public static void main(String[] args) throws Exception {\r\n        String fileName = &quot;TestFile.txt&quot;;\r\n        String tempFileName = &quot;tempFile&quot;;\r\n\r\n        File mainFile = new File(fileName);\r\n        File tempFile = new File(tempFileName);\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(mainFile));\r\n             PrintWriter pw = new PrintWriter(new FileWriter(tempFile))\r\n        ) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                if (toProcess(line)) {  // #1\r\n                    // process the code and add it to DB\r\n                    // ignore the line (i.e, not add to temp file)\r\n                } else {\r\n                    // add to temp file.\r\n                    pw.write(line + &quot;\\n&quot;);  // #2\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // delete the old file\r\n        boolean hasDeleted = mainFile.delete();  // #3\r\n        if (!hasDeleted) {\r\n            throw new Exception(&quot;Can&#39;t delete file!&quot;);\r\n        }\r\n        boolean hasRenamed = tempFile.renameTo(mainFile);  // #4\r\n        if (!hasRenamed) {\r\n            throw new Exception(&quot;Can&#39;t rename file!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;Done!&quot;);\r\n    }\r\n\r\n    private static boolean toProcess(String line) {\r\n        // any condition\r\n        // sample condition for example\r\n        return line.contains(&quot;aa&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nRead the file.    \r\n1: The condition to decide whether to delete the line or to retain it.  \r\n2: Write those line which you don&#39;t want to delete into the temporary file.  \r\n3: Delete the original file.  \r\n4: Rename the temporary file to original file name.  ","title":"Remove word after line from txt file is read","body":"<p>For Reference</p>\n<pre><code>import java.io.*;\n\npublic class RemoveLinesFromAfterProcessed {\n    public static void main(String[] args) throws Exception {\n        String fileName = &quot;TestFile.txt&quot;;\n        String tempFileName = &quot;tempFile&quot;;\n\n        File mainFile = new File(fileName);\n        File tempFile = new File(tempFileName);\n\n        try (BufferedReader br = new BufferedReader(new FileReader(mainFile));\n             PrintWriter pw = new PrintWriter(new FileWriter(tempFile))\n        ) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                if (toProcess(line)) {  // #1\n                    // process the code and add it to DB\n                    // ignore the line (i.e, not add to temp file)\n                } else {\n                    // add to temp file.\n                    pw.write(line + &quot;\\n&quot;);  // #2\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // delete the old file\n        boolean hasDeleted = mainFile.delete();  // #3\n        if (!hasDeleted) {\n            throw new Exception(&quot;Can't delete file!&quot;);\n        }\n        boolean hasRenamed = tempFile.renameTo(mainFile);  // #4\n        if (!hasRenamed) {\n            throw new Exception(&quot;Can't rename file!&quot;);\n        }\n\n        System.out.println(&quot;Done!&quot;);\n    }\n\n    private static boolean toProcess(String line) {\n        // any condition\n        // sample condition for example\n        return line.contains(&quot;aa&quot;);\n    }\n}\n</code></pre>\n<p>Read the file.<br />\n1: The condition to decide whether to delete the line or to retain it.<br />\n2: Write those line which you don't want to delete into the temporary file.<br />\n3: Delete the original file.<br />\n4: Rename the temporary file to original file name.</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654845072,"creation_date":1654845072,"answer_id":72570379,"question_id":72486349,"body_markdown":"The basic idea is the same as what @Shiva Rahul said in his answer. \r\n\r\n---------------------------------\r\nHowever another approach can be , store all the line numbers you want to delete in a `list`. After you have all the required line numbers that you want to delete you can use `LineNumberReader` to check and duplicate your main file.\r\n\r\nMostly I have used this technique in batch-insert where I was unsure how many lines may have a particular file plus before removal of lines had to do lot of processing.\r\nIt may not be suitable for your case ,just posting the suggestion here if any one bumps to this thread.\r\n\r\n```\r\nprivate void deleteLines(String inputFilePath,String outputDirectory,List&lt;Integer&gt; lineNumbers) throws IOException{\r\n    File tempFile = new File(&quot;temp.txt&quot;);\r\n    File inputFile = new File(inputFilePath);\r\n\r\n    // using LineNumberReader we can fetch the line numbers of each line\r\n    LineNumberReader lineReader = new LineNumberReader(new FileReader(inputFile));\r\n\r\n    //writter for writing the lines into new file\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(tempFile));\r\n    String currentLine;\r\n    while((currentLine = lineReader.readLine()) != null){\r\n\r\n        //if current line number is present in removeList then put empty line in new file\r\n        if(lineNumbers.contains(lineReader.getLineNumber())){\r\n            currentLine=&quot;&quot;;\r\n        }\r\n        bufferedWriter.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n    }\r\n    //closing statements\r\n    bufferedWriter.close();\r\n    lineReader.close();\r\n\r\n    //delete the main file and rename the tempfile to original file Name\r\n    boolean delete = inputFile.delete();\r\n    //boolean b = tempFile.renameTo(inputFile); // use this to save the temp file in same directory;\r\n    boolean b = tempFile.renameTo(new File(outputDirectory+inputFile.getName()));\r\n}\r\n\r\n```\r\nTo use this function all you have to do is gather all the required line numbers.`inputFilePath` is the path of the source file and `outputDirectory` is where I want store the file after processing.","title":"Remove word after line from txt file is read","body":"<p>The basic idea is the same as what @Shiva Rahul said in his answer.</p>\n<hr />\n<p>However another approach can be , store all the line numbers you want to delete in a <code>list</code>. After you have all the required line numbers that you want to delete you can use <code>LineNumberReader</code> to check and duplicate your main file.</p>\n<p>Mostly I have used this technique in batch-insert where I was unsure how many lines may have a particular file plus before removal of lines had to do lot of processing.\nIt may not be suitable for your case ,just posting the suggestion here if any one bumps to this thread.</p>\n<pre><code>private void deleteLines(String inputFilePath,String outputDirectory,List&lt;Integer&gt; lineNumbers) throws IOException{\n    File tempFile = new File(&quot;temp.txt&quot;);\n    File inputFile = new File(inputFilePath);\n\n    // using LineNumberReader we can fetch the line numbers of each line\n    LineNumberReader lineReader = new LineNumberReader(new FileReader(inputFile));\n\n    //writter for writing the lines into new file\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(tempFile));\n    String currentLine;\n    while((currentLine = lineReader.readLine()) != null){\n\n        //if current line number is present in removeList then put empty line in new file\n        if(lineNumbers.contains(lineReader.getLineNumber())){\n            currentLine=&quot;&quot;;\n        }\n        bufferedWriter.write(currentLine + System.getProperty(&quot;line.separator&quot;));\n    }\n    //closing statements\n    bufferedWriter.close();\n    lineReader.close();\n\n    //delete the main file and rename the tempfile to original file Name\n    boolean delete = inputFile.delete();\n    //boolean b = tempFile.renameTo(inputFile); // use this to save the temp file in same directory;\n    boolean b = tempFile.renameTo(new File(outputDirectory+inputFile.getName()));\n}\n\n</code></pre>\n<p>To use this function all you have to do is gather all the required line numbers.<code>inputFilePath</code> is the path of the source file and <code>outputDirectory</code> is where I want store the file after processing.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655005731,"creation_date":1655005141,"answer_id":72589319,"question_id":72486349,"body_markdown":"The issues with the current code:\r\n* Adhere to the **Single responsibility principle**. Your code is doing too many things: reads from a file, performs `findByKeyword()` call, prepares the data and hands it out to store in the database. It&#39;s hardly can be thoroughly *tested*, and it&#39;s very difficult to *maintain*. \r\n* Always use [*try-with-recourses*](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to get your recourses closed at any circumstances.\r\n* Don&#39;t catch the general `Exception` type - your code should only catch thous exceptions, which are more or less expected and for which there&#39;s a clear scenario on how to handle them. But don&#39;t catch all the exceptions.\r\n\r\n&gt; How I can **remove a line** from the **file** after the line is inserted into SQL database?\r\n\r\nIt is not possible to remove a line from a file in the literal sense. You can override the contents of the file or replace it with another file.\r\n\r\nMy advice would be to file data in memory, process it, and then write the lines which should be retained into the same file (*i.e. override the file contents*). \r\n\r\nYou can argue that the file is huge and dumping it into memory would result in an `OutOfMemoryError`. And you want to read a line from a file, process it somehow, then store the processed data into the database and then write the line into a file... So that everything is done line by line, all actions in one go for a single line, and as a consequence all the code is crammed in one method. I hope that&#39;s not the case because otherwise it&#39;s a clear [`XY-problem`](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). \r\n\r\nFirstly, File System isn&#39;t a reliable mean of storing data, and it&#39;s not very fast. If the file is massive, then reading and writing it will a take a considerable amount of time, and it&#39;s done just it in order to use a tinny bit of information then this approach is wrong - this information should be stored and structured differently (i.e. consider placing into a DB) so that it would be possible to retrieve the required data, and there would be no problem with removing entries that are no longer needed.\r\n\r\nBut if the file is lean, and it doesn&#39;t contain critical data. Then it&#39;s totally fine, I will proceed assuming that it&#39;s the case.\r\n\r\nThe overall approach is to generate a map `Map&lt;String, Optional&lt;ProcessedWords&gt;&gt;` based on the file contents, process the non-empty optionals and prepare a list of lines to override the previous file content.\r\n\r\nThe code below is based on the NIO2 file system API.\r\n\r\n    public void readProcessAndRemove(ProcessedWordsService service, Path path) {\r\n        \r\n        Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; result;\r\n        \r\n        try (var lines = Files.lines(path)) {\r\n            result = processLines(service, lines);\r\n        } catch (IOException e) {\r\n            result = Collections.emptyMap();\r\n            logger.log();\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        List&lt;String&gt; linesToRetain = prepareAndSave(service, result);\r\n        writeToFile(linesToRetain, path);\r\n    }\r\n\r\nProcessing the stream of lines from a file returned [`Files.lines()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)):\r\n\r\n    private static Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; processLines(ProcessedWordsService service,\r\n                                                                      Stream&lt;String&gt; lines) {\r\n        return lines.collect(Collectors.toMap(\r\n            Function.identity(),\r\n            service::findByKeyword\r\n        ));\r\n    }\r\n\r\nSaving the words for which `findByKeyword()` returned an empty optional:\r\n\r\n    private static List&lt;String&gt; prepareAndSave(ProcessedWordsService service,\r\n                                               Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; wordByLine) {\r\n        wordByLine.forEach((k, v) -&gt; {\r\n            if (v.isEmpty()) saveWord(service, k);\r\n        });\r\n        \r\n        return getLinesToRetain(wordByLine);\r\n    }\r\n\r\n    private static void saveWord(ProcessedWordsService service, String line) {\r\n        \r\n        ProcessedWords obj = ProcessedWords.builder()\r\n            .keyword(line)\r\n            .createdAt(LocalDateTime.now())\r\n            .build();\r\n        service.save(obj);\r\n    }\r\n\r\nGenerating a list of lines to retain:\r\n\r\n    private static List&lt;String&gt; getLinesToRetain(Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; wordByLine) {\r\n        \r\n        return wordByLine.entrySet().stream()\r\n            .filter(entry -&gt; entry.getValue().isPresent())\r\n            .map(Map.Entry::getKey)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nOverriding the file contents using [`Files.write()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,java.lang.Iterable,java.nio.file.OpenOption...)). ***Note:*** since varargs `OpenOption` isn&#39;t provided with any arguments, this call would be treated as if the `CREATE`, `TRUNCATE_EXISTING`, and `WRITE` options are present.\r\n\r\n    private static void writeToFile(List&lt;String&gt; lines, Path path) {\r\n        try {\r\n            Files.write(path, lines);\r\n        } catch (IOException e) {\r\n            logger.log();\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Remove word after line from txt file is read","body":"<p>The issues with the current code:</p>\n<ul>\n<li>Adhere to the <strong>Single responsibility principle</strong>. Your code is doing too many things: reads from a file, performs <code>findByKeyword()</code> call, prepares the data and hands it out to store in the database. It's hardly can be thoroughly <em>tested</em>, and it's very difficult to <em>maintain</em>.</li>\n<li>Always use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try-with-recourses</em></a> to get your recourses closed at any circumstances.</li>\n<li>Don't catch the general <code>Exception</code> type - your code should only catch thous exceptions, which are more or less expected and for which there's a clear scenario on how to handle them. But don't catch all the exceptions.</li>\n</ul>\n<blockquote>\n<p>How I can <strong>remove a line</strong> from the <strong>file</strong> after the line is inserted into SQL database?</p>\n</blockquote>\n<p>It is not possible to remove a line from a file in the literal sense. You can override the contents of the file or replace it with another file.</p>\n<p>My advice would be to file data in memory, process it, and then write the lines which should be retained into the same file (<em>i.e. override the file contents</em>).</p>\n<p>You can argue that the file is huge and dumping it into memory would result in an <code>OutOfMemoryError</code>. And you want to read a line from a file, process it somehow, then store the processed data into the database and then write the line into a file... So that everything is done line by line, all actions in one go for a single line, and as a consequence all the code is crammed in one method. I hope that's not the case because otherwise it's a clear <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><code>XY-problem</code></a>.</p>\n<p>Firstly, File System isn't a reliable mean of storing data, and it's not very fast. If the file is massive, then reading and writing it will a take a considerable amount of time, and it's done just it in order to use a tinny bit of information then this approach is wrong - this information should be stored and structured differently (i.e. consider placing into a DB) so that it would be possible to retrieve the required data, and there would be no problem with removing entries that are no longer needed.</p>\n<p>But if the file is lean, and it doesn't contain critical data. Then it's totally fine, I will proceed assuming that it's the case.</p>\n<p>The overall approach is to generate a map <code>Map&lt;String, Optional&lt;ProcessedWords&gt;&gt;</code> based on the file contents, process the non-empty optionals and prepare a list of lines to override the previous file content.</p>\n<p>The code below is based on the NIO2 file system API.</p>\n<pre><code>public void readProcessAndRemove(ProcessedWordsService service, Path path) {\n    \n    Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; result;\n    \n    try (var lines = Files.lines(path)) {\n        result = processLines(service, lines);\n    } catch (IOException e) {\n        result = Collections.emptyMap();\n        logger.log();\n        e.printStackTrace();\n    }\n    \n    List&lt;String&gt; linesToRetain = prepareAndSave(service, result);\n    writeToFile(linesToRetain, path);\n}\n</code></pre>\n<p>Processing the stream of lines from a file returned <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines()</code></a>:</p>\n<pre><code>private static Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; processLines(ProcessedWordsService service,\n                                                                  Stream&lt;String&gt; lines) {\n    return lines.collect(Collectors.toMap(\n        Function.identity(),\n        service::findByKeyword\n    ));\n}\n</code></pre>\n<p>Saving the words for which <code>findByKeyword()</code> returned an empty optional:</p>\n<pre><code>private static List&lt;String&gt; prepareAndSave(ProcessedWordsService service,\n                                           Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; wordByLine) {\n    wordByLine.forEach((k, v) -&gt; {\n        if (v.isEmpty()) saveWord(service, k);\n    });\n    \n    return getLinesToRetain(wordByLine);\n}\n\nprivate static void saveWord(ProcessedWordsService service, String line) {\n    \n    ProcessedWords obj = ProcessedWords.builder()\n        .keyword(line)\n        .createdAt(LocalDateTime.now())\n        .build();\n    service.save(obj);\n}\n</code></pre>\n<p>Generating a list of lines to retain:</p>\n<pre><code>private static List&lt;String&gt; getLinesToRetain(Map&lt;String, Optional&lt;ProcessedWords&gt;&gt; wordByLine) {\n    \n    return wordByLine.entrySet().stream()\n        .filter(entry -&gt; entry.getValue().isPresent())\n        .map(Map.Entry::getKey)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>Overriding the file contents using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,java.lang.Iterable,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.write()</code></a>. <em><strong>Note:</strong></em> since varargs <code>OpenOption</code> isn't provided with any arguments, this call would be treated as if the <code>CREATE</code>, <code>TRUNCATE_EXISTING</code>, and <code>WRITE</code> options are present.</p>\n<pre><code>private static void writeToFile(List&lt;String&gt; lines, Path path) {\n    try {\n        Files.write(path, lines);\n    } catch (IOException e) {\n        logger.log();\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72589319,"answer_count":3,"score":-2,"last_activity_date":1655005731,"creation_date":1654242590,"question_id":72486349,"body_markdown":"I have this code which is used to read lines from a file and insert it into Postgre:\r\n\r\n    try {\r\n                BufferedReader reader;\r\n                try {\r\n                    reader = new BufferedReader(new FileReader(\r\n                            &quot;C:\\\\in_progress\\\\test.txt&quot;));\r\n                    String line = reader.readLine();\r\n                    while (line != null) {\r\n                        System.out.println(line);\r\n    \r\n                        Thread.sleep(100);\r\n                        Optional&lt;ProcessedWords&gt; isFound = processedWordsService.findByKeyword(line);\r\n    \r\n                        if(!isFound.isPresent()){\r\n                            ProcessedWords obj = ProcessedWords.builder()\r\n                                    .keyword(line)\r\n                                    .createdAt(LocalDateTime.now())\r\n                                    .build();\r\n                            processedWordsService.save(obj);\r\n                        }\r\n    \r\n                        // read next line\r\n                        line = reader.readLine();\r\n                    }\r\n                    reader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nHow I can remove a line from the file after the line is inserted into SQL database?","title":"Remove word after line from txt file is read","body":"<p>I have this code which is used to read lines from a file and insert it into Postgre:</p>\n<pre><code>try {\n            BufferedReader reader;\n            try {\n                reader = new BufferedReader(new FileReader(\n                        &quot;C:\\\\in_progress\\\\test.txt&quot;));\n                String line = reader.readLine();\n                while (line != null) {\n                    System.out.println(line);\n\n                    Thread.sleep(100);\n                    Optional&lt;ProcessedWords&gt; isFound = processedWordsService.findByKeyword(line);\n\n                    if(!isFound.isPresent()){\n                        ProcessedWords obj = ProcessedWords.builder()\n                                .keyword(line)\n                                .createdAt(LocalDateTime.now())\n                                .build();\n                        processedWordsService.save(obj);\n                    }\n\n                    // read next line\n                    line = reader.readLine();\n                }\n                reader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>How I can remove a line from the file after the line is inserted into SQL database?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8722,"page":1270,"page_size":100}
