{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1610058217,"post_id":65535472,"comment_id":116020447,"body_markdown":"you can check https://github.com/AdoptOpenJDK/openjdk-support/issues/211 and opening a issue in github may help more.","body":"you can check <a href=\"https://github.com/AdoptOpenJDK/openjdk-support/issues/211\" rel=\"nofollow noreferrer\">github.com/AdoptOpenJDK/openjdk-support/issues/211</a> and opening a issue in github may help more."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655050128,"post_id":65535472,"comment_id":128233258,"body_markdown":"That error - _&quot;Could not load hsdis-amd64.dylib&quot;_ - is referencing a library file under the `lib` directory in the JDK install. Can&#39;t tell why from your post, but it could be the file is actually missing, or maybe it&#39;s present but with insufficient permissions (is it world-readable?).","body":"That error - <i>&quot;Could not load hsdis-amd64.dylib&quot;</i> - is referencing a library file under the <code>lib</code> directory in the JDK install. Can&#39;t tell why from your post, but it could be the file is actually missing, or maybe it&#39;s present but with insufficient permissions (is it world-readable?)."}],"answers":[{"tags":[],"owner":{"account_id":12671791,"reputation":624,"user_id":9209083,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687525157,"creation_date":1687524833,"answer_id":76540321,"question_id":65535472,"body_markdown":"I had the same problem with JDK1.8.0_202\r\n&lt;br&gt;\r\nI didn&#39;t find an appropriate closed task at [JDK Bug system][1], but for me helped a switch to JDK 17.0.2\r\n\r\n\r\n&gt; The PrintAssembly HotSpot option is a diagnostic flag for the JVM that allows us to capture the generated assembly instructions of the JIT compiler. This requires the latest OpenJDK release or a new version of HotSpot, update 14 or above.\r\n\r\n[Source][2]\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/projects/JDK/issues/JDK-8305968?filter=allopenissues\r\n  [2]: https://www.infoq.com/articles/memory_barriers_jvm_concurrency/","title":"Could not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled","body":"<p>I had the same problem with JDK1.8.0_202\n<br>\nI didn't find an appropriate closed task at <a href=\"https://bugs.openjdk.org/projects/JDK/issues/JDK-8305968?filter=allopenissues\" rel=\"nofollow noreferrer\">JDK Bug system</a>, but for me helped a switch to JDK 17.0.2</p>\n<blockquote>\n<p>The PrintAssembly HotSpot option is a diagnostic flag for the JVM that allows us to capture the generated assembly instructions of the JIT compiler. This requires the latest OpenJDK release or a new version of HotSpot, update 14 or above.</p>\n</blockquote>\n<p><a href=\"https://www.infoq.com/articles/memory_barriers_jvm_concurrency/\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":20346130,"reputation":141,"user_id":14923977,"display_name":"Vivek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6420,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1687525157,"creation_date":1609553544,"question_id":65535472,"body_markdown":"\r\nI wrote simple java program and I am getting A fatal error with Could not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled. I tried to read several block but did not find solution. Can anyone please help me?\r\nHere is complete error message\r\n\r\n    A fatal error has been detected by the Java Runtime Environment:\r\n    \r\n    SIGFPE (0x8) at pc=0x0000000118e9ea48, pid=4481, tid=7683\r\n    \r\n    JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.9+7) (build 11.0.9+7-LTS)\r\n    Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.9+7-LTS, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\r\n    Problematic frame:\r\n    j  com.sun.tools.javac.comp.ConstFold.fold2(ILcom/sun/tools/javac/code/Type;Lcom/sun/tools/javac/code/Type;)Lcom/sun/tools/javac/code/Type;+877 jdk.compiler@11.0.9\r\n     No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    \r\n    Compiled method (c1)     884  193       3       java.lang.System::getSecurityManager (4 bytes)\r\n     total in heap  [0x0000000119455010,0x0000000119455338] = 808\r\n     relocation     [0x0000000119455178,0x00000001194551a0] = 40\r\n     main code      [0x00000001194551a0,0x0000000119455260] = 192\r\n     stub code      [0x0000000119455260,0x00000001194552f0] = 144\r\n     metadata       [0x00000001194552f0,0x00000001194552f8] = 8\r\n     scopes data    [0x00000001194552f8,0x0000000119455300] = 8\r\n     scopes pcs     [0x0000000119455300,0x0000000119455330] = 48\r\n     dependencies   [0x0000000119455330,0x0000000119455338] = 8\r\n    \r\n    Could not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled","title":"Could not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled","body":"<p>I wrote simple java program and I am getting A fatal error with Could not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled. I tried to read several block but did not find solution. Can anyone please help me?\nHere is complete error message</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n\nSIGFPE (0x8) at pc=0x0000000118e9ea48, pid=4481, tid=7683\n\nJRE version: Java(TM) SE Runtime Environment 18.9 (11.0.9+7) (build 11.0.9+7-LTS)\nJava VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.9+7-LTS, mixed mode, tiered, compressed oops, g1 gc, bsd-amd64)\nProblematic frame:\nj  com.sun.tools.javac.comp.ConstFold.fold2(ILcom/sun/tools/javac/code/Type;Lcom/sun/tools/javac/code/Type;)Lcom/sun/tools/javac/code/Type;+877 jdk.compiler@11.0.9\n No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n\nCompiled method (c1)     884  193       3       java.lang.System::getSecurityManager (4 bytes)\n total in heap  [0x0000000119455010,0x0000000119455338] = 808\n relocation     [0x0000000119455178,0x00000001194551a0] = 40\n main code      [0x00000001194551a0,0x0000000119455260] = 192\n stub code      [0x0000000119455260,0x00000001194552f0] = 144\n metadata       [0x00000001194552f0,0x00000001194552f8] = 8\n scopes data    [0x00000001194552f8,0x0000000119455300] = 8\n scopes pcs     [0x0000000119455300,0x0000000119455330] = 48\n dependencies   [0x0000000119455330,0x0000000119455338] = 8\n\nCould not load hsdis-amd64.dylib; library not loadable; PrintAssembly is disabled\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"answers":[{"tags":[],"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687525050,"creation_date":1687525050,"answer_id":76540355,"question_id":76540206,"body_markdown":"[This answer][1] helped me to resolve my problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56893656/9753003\r\n\r\nI created an abstract class:\r\n\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\r\n    public abstract class BaseDataJpaTest {}\r\n\r\nAnd inherit all my `@DataJpaTest` from this class.\r\nThis way I get a fresh context before each test.","title":"@DataJpaTest throws &quot;Error creating bean with name &#39;jpaAuditingHandler&#39;&quot; occasionally","body":"<p><a href=\"https://stackoverflow.com/a/56893656/9753003\">This answer</a> helped me to resolve my problem.</p>\n<p>I created an abstract class:</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\npublic abstract class BaseDataJpaTest {}\n</code></pre>\n<p>And inherit all my <code>@DataJpaTest</code> from this class.\nThis way I get a fresh context before each test.</p>\n"}],"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76540355,"answer_count":1,"score":0,"last_activity_date":1687525050,"creation_date":1687523897,"question_id":76540206,"body_markdown":"I have a bunch of `@DataJpaTests` as well a lot of `@SpringBootTests` and `@WebMvcTests`.\r\n\r\nI also have `@EnableJpaAuditing` enabled.\r\n\r\nWhen I run `@DataJpaTests` independently it&#39;s all fine, these tests run and pass successfully. But if I run **all** the tests at once, some `@DataJpaTest` throw occasionally the following:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested exception is \r\norg.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: \r\norg.springframework.web.context.support.GenericWebApplicationContext@15405bd6 has been closed already\r\n```\r\n\r\nThe problem is that I don&#39;t see a pattern here. Sometimes I get this exception, sometimes not. Some `@DataJpaTest` throw this exception, some not... So I&#39;m not sure how to prevent it.\r\n","title":"@DataJpaTest throws &quot;Error creating bean with name &#39;jpaAuditingHandler&#39;&quot; occasionally","body":"<p>I have a bunch of <code>@DataJpaTests</code> as well a lot of <code>@SpringBootTests</code> and <code>@WebMvcTests</code>.</p>\n<p>I also have <code>@EnableJpaAuditing</code> enabled.</p>\n<p>When I run <code>@DataJpaTests</code> independently it's all fine, these tests run and pass successfully. But if I run <strong>all</strong> the tests at once, some <code>@DataJpaTest</code> throw occasionally the following:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument; nested exception is \norg.springframework.beans.factory.BeanCreationException:Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: \norg.springframework.web.context.support.GenericWebApplicationContext@15405bd6 has been closed already\n</code></pre>\n<p>The problem is that I don't see a pattern here. Sometimes I get this exception, sometimes not. Some <code>@DataJpaTest</code> throw this exception, some not... So I'm not sure how to prevent it.</p>\n"},{"tags":["java","android","webrtc","janus","rtcpeerconnection"],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687524974,"creation_date":1687524974,"question_id":76540343,"body_markdown":"I am using Janus-Android-Gateway of [Crossle][1] for WebRTC Videoroom calling.\r\n\r\nCall is working fine. \r\n\r\nOnly problem is ICE Connection failure when any opponent peer or subscriber leaves the call. \r\n\r\nICE Connection gets disconnected for that peer. Which is fine. But then in 10 seconds of that. ICE Connection state failed received in PeerConnection onIceConnectionChange() callback.\r\n\r\nNo Clue why it triggered this failure.\r\n\r\nSame code of Crossle is working fine in iOS Swift code. \r\nICE disconnected when other peer leaves VideoRoom but ICE Connection doesnot fails as in case of android.\r\n\r\nFollowing logs flow can help in understanding. \r\n\r\nThese are from the state when opponnent peer drops call\r\n\r\n    janus: event - plugin -&gt; unpublished\r\n    IceConnectionState newState is: DISCONNECTED\r\n    onIceDisconnected()\r\n    janus: hangup\r\n    janus: event - plugin -&gt; leaving\r\n    subscriberOnLeaving()\r\n    janus: success\r\n    janus: detached\r\n    IceConnectionState newState is: FAILED\r\n\r\n  [1]: https://github.com/crossle/janus-gateway-android","title":"ICE Connection Failed on Android when subscriber drops the call","body":"<p>I am using Janus-Android-Gateway of <a href=\"https://github.com/crossle/janus-gateway-android\" rel=\"nofollow noreferrer\">Crossle</a> for WebRTC Videoroom calling.</p>\n<p>Call is working fine.</p>\n<p>Only problem is ICE Connection failure when any opponent peer or subscriber leaves the call.</p>\n<p>ICE Connection gets disconnected for that peer. Which is fine. But then in 10 seconds of that. ICE Connection state failed received in PeerConnection onIceConnectionChange() callback.</p>\n<p>No Clue why it triggered this failure.</p>\n<p>Same code of Crossle is working fine in iOS Swift code.\nICE disconnected when other peer leaves VideoRoom but ICE Connection doesnot fails as in case of android.</p>\n<p>Following logs flow can help in understanding.</p>\n<p>These are from the state when opponnent peer drops call</p>\n<pre><code>janus: event - plugin -&gt; unpublished\nIceConnectionState newState is: DISCONNECTED\nonIceDisconnected()\njanus: hangup\njanus: event - plugin -&gt; leaving\nsubscriberOnLeaving()\njanus: success\njanus: detached\nIceConnectionState newState is: FAILED\n</code></pre>\n"},{"tags":["java","spring-boot","logging","configuration","hibernate-6.x"],"owner":{"account_id":1475105,"reputation":1355,"user_id":1385707,"accept_rate":90,"display_name":"Holly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687524960,"creation_date":1687351371,"question_id":76523418,"body_markdown":"**Problem**\r\n\r\nI recently switched to Hibernate 6. Now I encounter this exception, if a query is logged which contains a `%` symbol for a `LIKE` clause.\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.lang.Integer eu.rentall.application.repository.AgpInternalOrderRepository.resetInternalOrderFromProcessing(java.lang.Long)\r\n&gt;\r\n&gt; at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)  \r\n&gt;    \r\n&gt; Caused by: java.util.UnknownFormatConversionException: Conversion = &#39;&#39;&#39;\r\n&gt; \r\n&gt; at java.base/java.util.Formatter.parse(Formatter.java:2750)  \r\n&gt; at java.base/java.util.Formatter.format(Formatter.java:2671)  \r\n&gt; at java.base/java.util.Formatter.format(Formatter.java:2625)  \r\n&gt; at java.base/java.lang.String.format(String.java:4143)  \r\n&gt; at org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)  \r\n&gt; at org.jboss.logging.Logger.logf(Logger.java:2445)  \r\n&gt; at org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)  \r\n    \tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\r\n    \tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n\r\nI upgraded to Spring Boot 3.1.0 and now also upgraded Hibernate to 6.2.5.Final.\r\n\r\nI also use org.slf4j:2.0.7 with org.jboss.logging:3.5.0Final as its implementation.\r\n\r\nThe log framework is ch.qos.logback:1.4.7.\r\n\r\n**Reason**\r\n\r\nFor query-logging `org.hibernate.query.hql.internal.StandardHqlTranslator#translate` is being called.\r\n\r\n    @Override\r\n    public &lt;R&gt; SqmStatement&lt;R&gt; translate(String query, Class&lt;R&gt; expectedResultType) {\r\n    \tHqlLogging.QUERY_LOGGER.debugf( &quot;HQL : &quot; + query );\r\n    \t...\r\n    }\r\n\r\nAfter debugging through all this code I found the problem is the use of `HqlLogging.QUERY_LOGGER.debugf` instead of `HqlLogging.QUERY_LOGGER.debug`.\r\n\r\nThe difference between those two methods is this line in `org.jboss.logging.Slf4jLocationAwareLogger`:\r\n\r\n    // doLog(..)\r\n    final String text = parameters == null || parameters.length == 0 ? String.valueOf(message) : MessageFormat.format(String.valueOf(message), parameters);\r\n    \r\n    // doLogf(..)\r\n    final String text = parameters == null ? String.format(format) : String.format(format, parameters);\r\n\r\nSince StandardHqlTranslator does not provide parameters, parameters is set to the empty array.\r\n\r\nTherefore `String.format(format, parameters)` is called which considers `%` a format expression.\r\n\r\n**Fix (to be rolled out in Hibernate 6.2.6)**\r\n\r\norg.hibernate.query.hql.internal.StandardHqlTranslator#translate should be changed to call:\r\n\r\n    HqlLogging.QUERY_LOGGER.debugf( &quot;HQL : %s&quot;, query );\r\n\r\n-----\r\n\r\nI already reported the problem to Hibernate: https://discourse.hibernate.org/t/query-logging-in-hibernate-6-causes-an-exception-when-a-query-contains-a-like-qerry/7861\r\n\r\nwhich resulted in a bug report: https://hibernate.atlassian.net/browse/HHH-16831\r\n\r\n-----\r\n\r\n**Question**\r\n\r\nAs a temporary workaround I would like to provide a custom implementation of `org.hibernate.query.hql.HqlTranslator` with the outlined fix.\r\n\r\nThe `org.hibernate.query.spi.QueryEngineOptions` interface even defines a method:\r\n`HqlTranslator getCustomHqlTranslator();`. `QueryEngineOptions` is extended by `SessionFactoryOptions`.\r\n\r\nHowever I have yet to find a way, to provide those options to Hibernate, so it will use my implementation.\r\n\r\nHow can I register my custom implementation of `org.hibernate.query.hql.HqlTranslator`?","title":"How can I register a custom HqlTranslator in Hibernate 6 (Spring Boot 3)","body":"<p><strong>Problem</strong></p>\n<p>I recently switched to Hibernate 6. Now I encounter this exception, if a query is logged which contains a <code>%</code> symbol for a <code>LIKE</code> clause.</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.lang.Integer eu.rentall.application.repository.AgpInternalOrderRepository.resetInternalOrderFromProcessing(java.lang.Long)</p>\n<p>at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)</p>\n<p>Caused by: java.util.UnknownFormatConversionException: Conversion = '''</p>\n<p>at java.base/java.util.Formatter.parse(Formatter.java:2750)<br />\nat java.base/java.util.Formatter.format(Formatter.java:2671)<br />\nat java.base/java.util.Formatter.format(Formatter.java:2625)<br />\nat java.base/java.lang.String.format(String.java:4143)<br />\nat org.jboss.logging.Slf4jLocationAwareLogger.doLogf(Slf4jLocationAwareLogger.java:81)<br />\nat org.jboss.logging.Logger.logf(Logger.java:2445)<br />\nat org.jboss.logging.DelegatingBasicLogger.debugf(DelegatingBasicLogger.java:344)<br />\nat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:75)\nat org.hibernate.internal.AbstractSharedSessionContract.lambda$interpretHql$2(AbstractSharedSessionContract.java:744)\nat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)</p>\n</blockquote>\n<p>I upgraded to Spring Boot 3.1.0 and now also upgraded Hibernate to 6.2.5.Final.</p>\n<p>I also use org.slf4j:2.0.7 with org.jboss.logging:3.5.0Final as its implementation.</p>\n<p>The log framework is ch.qos.logback:1.4.7.</p>\n<p><strong>Reason</strong></p>\n<p>For query-logging <code>org.hibernate.query.hql.internal.StandardHqlTranslator#translate</code> is being called.</p>\n<pre><code>@Override\npublic &lt;R&gt; SqmStatement&lt;R&gt; translate(String query, Class&lt;R&gt; expectedResultType) {\n    HqlLogging.QUERY_LOGGER.debugf( &quot;HQL : &quot; + query );\n    ...\n}\n</code></pre>\n<p>After debugging through all this code I found the problem is the use of <code>HqlLogging.QUERY_LOGGER.debugf</code> instead of <code>HqlLogging.QUERY_LOGGER.debug</code>.</p>\n<p>The difference between those two methods is this line in <code>org.jboss.logging.Slf4jLocationAwareLogger</code>:</p>\n<pre><code>// doLog(..)\nfinal String text = parameters == null || parameters.length == 0 ? String.valueOf(message) : MessageFormat.format(String.valueOf(message), parameters);\n\n// doLogf(..)\nfinal String text = parameters == null ? String.format(format) : String.format(format, parameters);\n</code></pre>\n<p>Since StandardHqlTranslator does not provide parameters, parameters is set to the empty array.</p>\n<p>Therefore <code>String.format(format, parameters)</code> is called which considers <code>%</code> a format expression.</p>\n<p><strong>Fix (to be rolled out in Hibernate 6.2.6)</strong></p>\n<p>org.hibernate.query.hql.internal.StandardHqlTranslator#translate should be changed to call:</p>\n<pre><code>HqlLogging.QUERY_LOGGER.debugf( &quot;HQL : %s&quot;, query );\n</code></pre>\n<hr />\n<p>I already reported the problem to Hibernate: <a href=\"https://discourse.hibernate.org/t/query-logging-in-hibernate-6-causes-an-exception-when-a-query-contains-a-like-qerry/7861\" rel=\"nofollow noreferrer\">https://discourse.hibernate.org/t/query-logging-in-hibernate-6-causes-an-exception-when-a-query-contains-a-like-qerry/7861</a></p>\n<p>which resulted in a bug report: <a href=\"https://hibernate.atlassian.net/browse/HHH-16831\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16831</a></p>\n<hr />\n<p><strong>Question</strong></p>\n<p>As a temporary workaround I would like to provide a custom implementation of <code>org.hibernate.query.hql.HqlTranslator</code> with the outlined fix.</p>\n<p>The <code>org.hibernate.query.spi.QueryEngineOptions</code> interface even defines a method:\n<code>HqlTranslator getCustomHqlTranslator();</code>. <code>QueryEngineOptions</code> is extended by <code>SessionFactoryOptions</code>.</p>\n<p>However I have yet to find a way, to provide those options to Hibernate, so it will use my implementation.</p>\n<p>How can I register my custom implementation of <code>org.hibernate.query.hql.HqlTranslator</code>?</p>\n"},{"tags":["java","keycloak","keycloak-spi"],"owner":{"account_id":18063421,"reputation":393,"user_id":13129983,"display_name":"kikicoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687524880,"creation_date":1687520966,"question_id":76539822,"body_markdown":"so resently I am trying to implement an authentication service using spring boot and keycloak as. IAM tool ,\r\nmy login &quot;get token&quot; functionality could happen by two way, either by phone and password or email and password ,\r\ni have done some digging and end up with implementing a custom authenticator as a solution,\r\ni have done also some digging for implementation: \r\nthe code goes like below: \r\n\r\n    public class GsmAuthenticator extends UsernamePasswordForm implements Authenticator {\r\n        public static final String CONFIG_EXTERNAL_APP_URL = &quot;external-application-url&quot;;\r\n        Logger logger = LoggerFactory.getLogger(GsmAuthenticator.class);\r\n    \r\n        public GsmAuthenticator() {\r\n             logger.info(&quot;GSM authenticator has been created&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean validateUserAndPassword(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; inputData) {\r\n    \r\n            if (context.getAuthenticatorConfig().getConfig().get(CONFIG_EXTERNAL_APP_URL) == null){\r\n    \r\n                logger.error(&quot;get u  mother fucker &quot;);\r\n                return true;\r\n            }\r\n    \r\n    //        return super.validateUserAndPassword(context, inputData);\r\n            String username = inputData.getFirst(AuthenticationManager.FORM_USERNAME).toString();\r\n            logger.info(&quot;User name is: {}&quot;,username);\r\n            if (username == null) {\r\n                context.getEvent().error(Errors.USER_NOT_FOUND);\r\n                Response challengeResponse = challenge(context, Messages.INVALID_USER);\r\n                context.failureChallenge(AuthenticationFlowError.INVALID_USER, challengeResponse);\r\n                logger.error(&quot;Empty username&quot;);\r\n                return false;\r\n            }\r\n    \r\n    \r\n            username = username.trim();\r\n            logger.info(&quot;Username: {}&quot;,username);\r\n            context.getEvent().detail(Details.USERNAME, username);\r\n            context.getAuthenticationSession().setAuthNote(AbstractUsernameFormAuthenticator.ATTEMPTED_USERNAME, username);\r\n            UserModel user = null;\r\n            try {\r\n                List users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), &quot;gsm&quot;, username).collect(Collectors.toList());\r\n    \r\n                if (users != null &amp;&amp; users.size() == 1) {\r\n                    user = (UserModel) users.get(0);\r\n                    logger.info(&quot;get the phone number of the user {}: {}&quot;,username,user.getAttributes());\r\n                    inputData.put(&quot;username&quot;, Collections.singletonList(&quot;clientRole&quot;));\r\n                    super.validateUserAndPassword(context,inputData);\r\n                }\r\n            } catch (ModelDuplicateException mde) {\r\n                if (mde.getDuplicateFieldName() != null &amp;&amp; mde.getDuplicateFieldName().equals(UserModel.EMAIL)) {\r\n                    setDuplicateUserChallenge(context, Errors.EMAIL_IN_USE, Messages.EMAIL_EXISTS, AuthenticationFlowError.INVALID_USER);\r\n                } else {\r\n                    setDuplicateUserChallenge(context, Errors.USERNAME_IN_USE, Messages.USERNAME_EXISTS, AuthenticationFlowError.INVALID_USER);\r\n                }\r\n                return false;\r\n            }\r\n    \r\n            if (invalidUser(context, user)) {\r\n                return false;\r\n            }\r\n    \r\n            if (!validatePassword(context, user, inputData, false)) {\r\n                return false;\r\n            }\r\n    \r\n            if (!enabledUser(context, user)) {\r\n                return false;\r\n            }\r\n    \r\n            String rememberMe = inputData.getFirst(&quot;rememberMe&quot;).toString();\r\n            boolean remember = rememberMe != null &amp;&amp; rememberMe.equalsIgnoreCase(&quot;on&quot;);\r\n            if (remember) {\r\n                context.getAuthenticationSession().setAuthNote(Details.REMEMBER_ME, &quot;true&quot;);\r\n                context.getEvent().detail(Details.REMEMBER_ME, &quot;true&quot;);\r\n            } else {\r\n                context.getAuthenticationSession().removeAuthNote(Details.REMEMBER_ME);\r\n            }\r\n            context.setUser(user);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        private boolean invalidUser(AuthenticationFlowContext context, UserModel user) {\r\n            return true;\r\n        }}\r\n\r\n \r\nand over here is the code for the  factory:\r\n\r\n    public class MobileAuthenticationFactory extends UsernamePasswordFormFactory  {\r\n    \r\n        public static final String PROVIDER_ID = &quot;phone-authenticator&quot;;\r\n        public static final GsmAuthenticator SINGLETON = new GsmAuthenticator();\r\n    \r\n        public static final AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {\r\n                AuthenticationExecutionModel.Requirement.REQUIRED,\r\n                AuthenticationExecutionModel.Requirement.DISABLED\r\n        };\r\n        private static final String WEBSITE_URL_PROP_NAME = &quot;custom_website_url&quot;;\r\n        /**\r\n         * the provider configuration metadata definition\r\n         */\r\n        private static final List&lt;ProviderConfigProperty&gt; configMetadata;\r\n    \r\n        static {\r\n            configMetadata = ProviderConfigurationBuilder.create()\r\n    \r\n                    // add the data source name property\r\n                    .property()\r\n                    .name(WEBSITE_URL_PROP_NAME)\r\n                    .type(ProviderConfigProperty.STRING_TYPE)\r\n                    .label(&quot;Csutom Website URL&quot;)\r\n                    .defaultValue(&quot;https://www.example.com/site&quot;)\r\n                    .helpText(&quot;The base URL of the custom website. Error messages will generate links back to this location.&quot;)\r\n                    .add()\r\n    \r\n                    .build();\r\n        }\r\n    \r\n        private String siteURL;\r\n    \r\n        @Override\r\n        public Authenticator create(KeycloakSession session) {\r\n            System.out.println(&quot;GSM authenticator has been created&quot;);\r\n            return SINGLETON;\r\n        }\r\n    \r\n        @Override\r\n        public void init(Config.Scope scope) {\r\n        }\r\n    \r\n        @Override\r\n        public String getId() {\r\n            return PROVIDER_ID;\r\n        }\r\n    \r\n        @Override\r\n        public String getDisplayType() {\r\n            return PROVIDER_ID;\r\n        }\r\n    \r\n        @Override\r\n        public String getHelpText() {\r\n            return &quot;Validates a mobile and password from login form.&quot;;\r\n        }\r\n    }\r\n\r\nI have done the deployment to keycloak and it seems it has done successfully, i can see the authenticator in the authentication tab,\r\nso what i have done next is creating a authentication flow and add the custom authenticator, then try the admin api to try get token , \r\nproblem when ever I try to call the api the it return internal error ,\r\n\r\nand keycloak logs return the flowing error:\r\n\r\n&gt; 2023-06-23 15:30:35,642 ERROR\r\n&gt; [org.keycloak.services.error.KeycloakErrorHandler]\r\n&gt; (executor-thread-27) Uncaught server error:\r\n&gt; java.lang.IllegalArgumentException: RESTEASY003715: path was null \tat\r\n&gt; org.jboss.resteasy.specimpl.ResteasyUriBuilderImpl.path(ResteasyUriBuilderImpl.java:382)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.AuthenticationProcessor$Result.getActionUrl(AuthenticationProcessor.java:566)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.AuthenticationProcessor$Result.form(AuthenticationProcessor.java:540)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.challenge(UsernamePasswordForm.java:91)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.authenticate(UsernamePasswordForm.java:81)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:445)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:249)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:380)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:271)\r\n&gt; \tat\r\n&gt; org.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:1026)\r\n&gt; \tat\r\n&gt; org.keycloak.protocol.oidc.endpoints.TokenEndpoint.resourceOwnerPasswordCredentialsGrant(TokenEndpoint.java:639)\r\n&gt; \tat\r\n&gt; org.keycloak.protocol.oidc.endpoints.TokenEndpoint.processGrantRequestInternal(TokenEndpoint.java:223)\r\n&gt; \tat\r\n&gt; org.keycloak.protocol.oidc.endpoints.TokenEndpoint.access$100(TokenEndpoint.java:131)\r\n&gt; \tat\r\n&gt; org.keycloak.protocol.oidc.endpoints.TokenEndpoint$1.runInternal(TokenEndpoint.java:185)\r\n&gt; \tat\r\n&gt; org.keycloak.common.util.ResponseSessionTask.run(ResponseSessionTask.java:67)\r\n&gt; \tat\r\n&gt; org.keycloak.common.util.ResponseSessionTask.run(ResponseSessionTask.java:44)\r\n&gt; \tat\r\n&gt; org.keycloak.models.utils.KeycloakModelUtils.runJobInRetriableTransaction(KeycloakModelUtils.java:299)\r\n&gt; \tat\r\n&gt; org.keycloak.protocol.oidc.endpoints.TokenEndpoint.processGrantRequest(TokenEndpoint.java:178)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) \tat\r\n&gt; org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n&gt; \tat\r\n&gt; org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n&gt; \tat\r\n&gt; io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n&gt; \tat\r\n&gt; io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n&gt; \tat\r\n&gt; io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n&gt; \tat\r\n&gt; io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n&gt; \tat\r\n&gt; io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\r\n&gt; \tat\r\n&gt; io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n&gt; \tat\r\n&gt; io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\r\n&gt; \tat\r\n&gt; io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n&gt; \tat\r\n&gt; io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n&gt; \tat\r\n&gt; org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\r\n&gt; \tat\r\n&gt; io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n&gt; \tat\r\n&gt; org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n&gt; \tat\r\n&gt; org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n&gt; \tat\r\n&gt; org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n&gt; \tat\r\n&gt; org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n&gt; \tat\r\n&gt; io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nany help would be much appreciated. ","title":"implement custom keycloak form authenticator?","body":"<p>so resently I am trying to implement an authentication service using spring boot and keycloak as. IAM tool ,\nmy login &quot;get token&quot; functionality could happen by two way, either by phone and password or email and password ,\ni have done some digging and end up with implementing a custom authenticator as a solution,\ni have done also some digging for implementation:\nthe code goes like below:</p>\n<pre><code>public class GsmAuthenticator extends UsernamePasswordForm implements Authenticator {\n    public static final String CONFIG_EXTERNAL_APP_URL = &quot;external-application-url&quot;;\n    Logger logger = LoggerFactory.getLogger(GsmAuthenticator.class);\n\n    public GsmAuthenticator() {\n         logger.info(&quot;GSM authenticator has been created&quot;);\n    }\n\n    @Override\n    public boolean validateUserAndPassword(AuthenticationFlowContext context, MultivaluedMap&lt;String, String&gt; inputData) {\n\n        if (context.getAuthenticatorConfig().getConfig().get(CONFIG_EXTERNAL_APP_URL) == null){\n\n            logger.error(&quot;get u  mother fucker &quot;);\n            return true;\n        }\n\n//        return super.validateUserAndPassword(context, inputData);\n        String username = inputData.getFirst(AuthenticationManager.FORM_USERNAME).toString();\n        logger.info(&quot;User name is: {}&quot;,username);\n        if (username == null) {\n            context.getEvent().error(Errors.USER_NOT_FOUND);\n            Response challengeResponse = challenge(context, Messages.INVALID_USER);\n            context.failureChallenge(AuthenticationFlowError.INVALID_USER, challengeResponse);\n            logger.error(&quot;Empty username&quot;);\n            return false;\n        }\n\n\n        username = username.trim();\n        logger.info(&quot;Username: {}&quot;,username);\n        context.getEvent().detail(Details.USERNAME, username);\n        context.getAuthenticationSession().setAuthNote(AbstractUsernameFormAuthenticator.ATTEMPTED_USERNAME, username);\n        UserModel user = null;\n        try {\n            List users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), &quot;gsm&quot;, username).collect(Collectors.toList());\n\n            if (users != null &amp;&amp; users.size() == 1) {\n                user = (UserModel) users.get(0);\n                logger.info(&quot;get the phone number of the user {}: {}&quot;,username,user.getAttributes());\n                inputData.put(&quot;username&quot;, Collections.singletonList(&quot;clientRole&quot;));\n                super.validateUserAndPassword(context,inputData);\n            }\n        } catch (ModelDuplicateException mde) {\n            if (mde.getDuplicateFieldName() != null &amp;&amp; mde.getDuplicateFieldName().equals(UserModel.EMAIL)) {\n                setDuplicateUserChallenge(context, Errors.EMAIL_IN_USE, Messages.EMAIL_EXISTS, AuthenticationFlowError.INVALID_USER);\n            } else {\n                setDuplicateUserChallenge(context, Errors.USERNAME_IN_USE, Messages.USERNAME_EXISTS, AuthenticationFlowError.INVALID_USER);\n            }\n            return false;\n        }\n\n        if (invalidUser(context, user)) {\n            return false;\n        }\n\n        if (!validatePassword(context, user, inputData, false)) {\n            return false;\n        }\n\n        if (!enabledUser(context, user)) {\n            return false;\n        }\n\n        String rememberMe = inputData.getFirst(&quot;rememberMe&quot;).toString();\n        boolean remember = rememberMe != null &amp;&amp; rememberMe.equalsIgnoreCase(&quot;on&quot;);\n        if (remember) {\n            context.getAuthenticationSession().setAuthNote(Details.REMEMBER_ME, &quot;true&quot;);\n            context.getEvent().detail(Details.REMEMBER_ME, &quot;true&quot;);\n        } else {\n            context.getAuthenticationSession().removeAuthNote(Details.REMEMBER_ME);\n        }\n        context.setUser(user);\n\n        return true;\n    }\n\n    private boolean invalidUser(AuthenticationFlowContext context, UserModel user) {\n        return true;\n    }}\n</code></pre>\n<p>and over here is the code for the  factory:</p>\n<pre><code>public class MobileAuthenticationFactory extends UsernamePasswordFormFactory  {\n\n    public static final String PROVIDER_ID = &quot;phone-authenticator&quot;;\n    public static final GsmAuthenticator SINGLETON = new GsmAuthenticator();\n\n    public static final AuthenticationExecutionModel.Requirement[] REQUIREMENT_CHOICES = {\n            AuthenticationExecutionModel.Requirement.REQUIRED,\n            AuthenticationExecutionModel.Requirement.DISABLED\n    };\n    private static final String WEBSITE_URL_PROP_NAME = &quot;custom_website_url&quot;;\n    /**\n     * the provider configuration metadata definition\n     */\n    private static final List&lt;ProviderConfigProperty&gt; configMetadata;\n\n    static {\n        configMetadata = ProviderConfigurationBuilder.create()\n\n                // add the data source name property\n                .property()\n                .name(WEBSITE_URL_PROP_NAME)\n                .type(ProviderConfigProperty.STRING_TYPE)\n                .label(&quot;Csutom Website URL&quot;)\n                .defaultValue(&quot;https://www.example.com/site&quot;)\n                .helpText(&quot;The base URL of the custom website. Error messages will generate links back to this location.&quot;)\n                .add()\n\n                .build();\n    }\n\n    private String siteURL;\n\n    @Override\n    public Authenticator create(KeycloakSession session) {\n        System.out.println(&quot;GSM authenticator has been created&quot;);\n        return SINGLETON;\n    }\n\n    @Override\n    public void init(Config.Scope scope) {\n    }\n\n    @Override\n    public String getId() {\n        return PROVIDER_ID;\n    }\n\n    @Override\n    public String getDisplayType() {\n        return PROVIDER_ID;\n    }\n\n    @Override\n    public String getHelpText() {\n        return &quot;Validates a mobile and password from login form.&quot;;\n    }\n}\n</code></pre>\n<p>I have done the deployment to keycloak and it seems it has done successfully, i can see the authenticator in the authentication tab,\nso what i have done next is creating a authentication flow and add the custom authenticator, then try the admin api to try get token ,\nproblem when ever I try to call the api the it return internal error ,</p>\n<p>and keycloak logs return the flowing error:</p>\n<blockquote>\n<p>2023-06-23 15:30:35,642 ERROR\n[org.keycloak.services.error.KeycloakErrorHandler]\n(executor-thread-27) Uncaught server error:\njava.lang.IllegalArgumentException: RESTEASY003715: path was null     at\norg.jboss.resteasy.specimpl.ResteasyUriBuilderImpl.path(ResteasyUriBuilderImpl.java:382)\nat\norg.keycloak.authentication.AuthenticationProcessor$Result.getActionUrl(AuthenticationProcessor.java:566)\nat\norg.keycloak.authentication.AuthenticationProcessor$Result.form(AuthenticationProcessor.java:540)\nat\norg.keycloak.authentication.authenticators.browser.UsernamePasswordForm.challenge(UsernamePasswordForm.java:91)\nat\norg.keycloak.authentication.authenticators.browser.UsernamePasswordForm.authenticate(UsernamePasswordForm.java:81)\nat\norg.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:445)\nat\norg.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:249)\nat\norg.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:380)\nat\norg.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:271)\nat\norg.keycloak.authentication.AuthenticationProcessor.authenticateOnly(AuthenticationProcessor.java:1026)\nat\norg.keycloak.protocol.oidc.endpoints.TokenEndpoint.resourceOwnerPasswordCredentialsGrant(TokenEndpoint.java:639)\nat\norg.keycloak.protocol.oidc.endpoints.TokenEndpoint.processGrantRequestInternal(TokenEndpoint.java:223)\nat\norg.keycloak.protocol.oidc.endpoints.TokenEndpoint.access$100(TokenEndpoint.java:131)\nat\norg.keycloak.protocol.oidc.endpoints.TokenEndpoint$1.runInternal(TokenEndpoint.java:185)\nat\norg.keycloak.common.util.ResponseSessionTask.run(ResponseSessionTask.java:67)\nat\norg.keycloak.common.util.ResponseSessionTask.run(ResponseSessionTask.java:44)\nat\norg.keycloak.models.utils.KeycloakModelUtils.runJobInRetriableTransaction(KeycloakModelUtils.java:299)\nat\norg.keycloak.protocol.oidc.endpoints.TokenEndpoint.processGrantRequest(TokenEndpoint.java:178)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)   at\norg.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\nat\norg.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\nat\norg.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\nat\norg.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\nat\norg.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\nat\norg.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\nat\norg.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\nat\norg.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\nat\norg.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\nat\norg.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:152)\nat\norg.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:183)\nat\norg.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\nat\norg.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\nat\norg.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\nat\norg.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\nat\norg.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\nat\norg.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\nat\norg.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\nat\norg.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\nat\nio.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\nat\nio.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\nat\nio.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\nat\nio.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\nat\nio.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\nat\nio.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\nat\nio.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\nat\nio.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\nat\nio.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\nat\nio.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\nat\nio.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\nat\nio.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\nat\nio.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\nat\nio.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\nat\nio.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\nat\nio.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\nat\nio.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\nat\norg.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\nat\nio.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\nat\norg.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\nat\norg.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\nat\norg.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\nat\norg.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\nat\nio.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:829)</p>\n</blockquote>\n<p>any help would be much appreciated.</p>\n"},{"tags":["java","rest","jax-rs"],"comments":[{"owner":{"account_id":2573730,"reputation":2474,"user_id":2231893,"accept_rate":86,"display_name":"abasu"},"score":0,"creation_date":1456809823,"post_id":35715191,"comment_id":59106777,"body_markdown":"it&#39;s better to rearrange the params, If I had a choice, I would have separated mandatory and optional in 2 sections, separated by a delimiter in URL, then make mandatory as positional, and optional as key value pair, I don&#39;t know how, which client, under what scenario you are writing the code, what have you tried till now?","body":"it&#39;s better to rearrange the params, If I had a choice, I would have separated mandatory and optional in 2 sections, separated by a delimiter in URL, then make mandatory as positional, and optional as key value pair, I don&#39;t know how, which client, under what scenario you are writing the code, what have you tried till now?"},{"owner":{"account_id":3571707,"reputation":618,"user_id":2981854,"accept_rate":83,"display_name":"mbgsuirp"},"score":0,"creation_date":1456810401,"post_id":35715191,"comment_id":59107006,"body_markdown":"@abasu I am using JAX-RS. I referred to http://www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-optional-parameters/. Is it required to use regex, or is there any other way?","body":"@abasu I am using JAX-RS. I referred to <a href=\"http://www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-optional-parameters/\" rel=\"nofollow noreferrer\">nakov.com/blog/2009/07/15/&hellip;</a>. Is it required to use regex, or is there any other way?"},{"owner":{"display_name":"user5547025"},"score":0,"creation_date":1456818205,"post_id":35715191,"comment_id":59110306,"body_markdown":"How would you distinguish `optional1` and `optional2` in `/job/foo/bar/baz`? What is `bar`?","body":"How would you distinguish <code>optional1</code> and <code>optional2</code> in <code>&#47;job&#47;foo&#47;bar&#47;baz</code>? What is <code>bar</code>?"},{"owner":{"account_id":3571707,"reputation":618,"user_id":2981854,"accept_rate":83,"display_name":"mbgsuirp"},"score":0,"creation_date":1456820607,"post_id":35715191,"comment_id":59111422,"body_markdown":"I am able to provide optional parameters using the solution provided in www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-optional-parameters. So my issue is resolved now.","body":"I am able to provide optional parameters using the solution provided in www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-opti&zwnj;&#8203;onal-parameters. So my issue is resolved now."}],"answers":[{"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"score":11,"creation_date":1487872178,"post_id":35748928,"comment_id":71991171,"body_markdown":"Mind mentioning source? http://www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-optional-parameters/","body":"Mind mentioning source? <a href=\"http://www.nakov.com/blog/2009/07/15/jax-rs-path-pathparam-and-optional-parameters/\" rel=\"nofollow noreferrer\">nakov.com/blog/2009/07/15/&hellip;</a>"}],"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1621726080,"creation_date":1456926183,"answer_id":35748928,"question_id":35715191,"body_markdown":"You can match the entire path ending in the REST request\r\n\r\n    @Path(&quot;/location/{locationId}{path:.*}&quot;)\r\n    public Response getLocation(\r\n        @PathParam(&quot;locationId&quot;) int locationId,\r\n        @PathParam(&quot;path&quot;) String path) {\r\n        //your code\r\n    }\r\n\r\nNow the path variable contain entire path after &lt;code&gt;location/{locationId}&lt;/code&gt;\r\n\r\nYou can also use a regular expressions to make the path optional.\r\n\r\n    @Path(&quot;/user/{id}{format:(/format/[^/]+?)?}{encoding:(/encoding/[^/]+?)?}&quot;)\r\n    public Response getUser(\r\n        @PathParam(&quot;id&quot;) int id,\r\n        @PathParam(&quot;format&quot;) String format,\r\n        @PathParam(&quot;encoding&quot;) String encoding) {\r\n        //your code\r\n    }\r\n\r\nNow if you format and encoding will be optional. You do not give any value they will be empty. ","title":"How to create REST API with optional parameters?","body":"<p>You can match the entire path ending in the REST request</p>\n<pre><code>@Path(&quot;/location/{locationId}{path:.*}&quot;)\npublic Response getLocation(\n    @PathParam(&quot;locationId&quot;) int locationId,\n    @PathParam(&quot;path&quot;) String path) {\n    //your code\n}\n</code></pre>\n<p>Now the path variable contain entire path after <code>location/{locationId}</code></p>\n<p>You can also use a regular expressions to make the path optional.</p>\n<pre><code>@Path(&quot;/user/{id}{format:(/format/[^/]+?)?}{encoding:(/encoding/[^/]+?)?}&quot;)\npublic Response getUser(\n    @PathParam(&quot;id&quot;) int id,\n    @PathParam(&quot;format&quot;) String format,\n    @PathParam(&quot;encoding&quot;) String encoding) {\n    //your code\n}\n</code></pre>\n<p>Now if you format and encoding will be optional. You do not give any value they will be empty.</p>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456928357,"creation_date":1456928357,"answer_id":35749775,"question_id":35715191,"body_markdown":"Rearrange the params and try the following:\r\n\r\n    @Path(&quot;/job/{param1}/{param2}{optional1 : (/optional1)?}{optional2 : (/optional2)?}&quot;)\r\n    public Response myMethod(@PathParam(&quot;param1&quot;) String param1,\r\n                             @PathParam(&quot;param2&quot;) String param2,\r\n                             @PathParam(&quot;optional1&quot;) String optional1,\r\n                             @PathParam(&quot;optional2&quot;) String optional2) {\r\n        ...\r\n    }","title":"How to create REST API with optional parameters?","body":"<p>Rearrange the params and try the following:</p>\n\n<pre><code>@Path(\"/job/{param1}/{param2}{optional1 : (/optional1)?}{optional2 : (/optional2)?}\")\npublic Response myMethod(@PathParam(\"param1\") String param1,\n                         @PathParam(\"param2\") String param2,\n                         @PathParam(\"optional1\") String optional1,\n                         @PathParam(\"optional2\") String optional2) {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":""},"score":0,"creation_date":1599641302,"post_id":35750065,"comment_id":112832852,"body_markdown":"But if the condition parameter is empty, how to pass this parameter to the sql statement","body":"But if the condition parameter is empty, how to pass this parameter to the sql statement"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1456929069,"creation_date":1456929069,"answer_id":35750065,"question_id":35715191,"body_markdown":"It might be easier to turn the optional path parameters into query parameters. You can then use `@DefaultValue` if you need it:\r\n\r\n    @GET @Path(&quot;/job/{param1}/{param2}&quot;)\r\n    public Response method(@PathParam(&quot;param1&quot;) String param1,\r\n        @PathParam(&quot;param2&quot;) String param2,\r\n        @QueryParam(&quot;optional1&quot;) String optional1,\r\n        @QueryParam(&quot;optional2&quot;) @DefaultValue(&quot;default&quot;) String optional2) {\r\n      ...\r\n    }\r\n\r\nYou can then call it using `/job/one/two?optional1=test` passing only the optional parameters you need.","title":"How to create REST API with optional parameters?","body":"<p>It might be easier to turn the optional path parameters into query parameters. You can then use <code>@DefaultValue</code> if you need it:</p>\n\n<pre><code>@GET @Path(\"/job/{param1}/{param2}\")\npublic Response method(@PathParam(\"param1\") String param1,\n    @PathParam(\"param2\") String param2,\n    @QueryParam(\"optional1\") String optional1,\n    @QueryParam(\"optional2\") @DefaultValue(\"default\") String optional2) {\n  ...\n}\n</code></pre>\n\n<p>You can then call it using <code>/job/one/two?optional1=test</code> passing only the optional parameters you need.</p>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687524243,"creation_date":1637901829,"answer_id":70119666,"question_id":35715191,"body_markdown":"to make request parameter optional set `@RequestParam` to false in controller class\r\n\r\n   \r\n\r\n    @GetMapping(&quot;/get&quot;)\r\n    public get(@RequestParam(value = &quot;name&quot;, required = false) String name){\r\n     \r\n    /* code of controller......*/\r\n    \r\n    }\r\n\r\n","title":"How to create REST API with optional parameters?","body":"<p>to make request parameter optional set <code>@RequestParam</code> to false in controller class</p>\n<pre><code>@GetMapping(&quot;/get&quot;)\npublic get(@RequestParam(value = &quot;name&quot;, required = false) String name){\n \n/* code of controller......*/\n\n}\n</code></pre>\n"}],"owner":{"account_id":3571707,"reputation":618,"user_id":2981854,"accept_rate":83,"display_name":"mbgsuirp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74924,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":35748928,"answer_count":4,"score":15,"last_activity_date":1687524243,"creation_date":1456809484,"question_id":35715191,"body_markdown":"I need to implement an API with these path params.\r\n\r\n    @Path(&quot;/job/{param1}/{optional1}/{optional2}/{param2}&quot;)\r\n\r\nCan the second and third params by optional? So the client need not pass these, but have to pass the first and last.\r\n\r\nIf this is not possible, then is it recommended to rearrange the params in this way?\r\n\r\n    @Path(&quot;/job/{param1}/{param2}/{optional1}/{optional2}&quot;)\r\n\r\nHow to provide the optional params?","title":"How to create REST API with optional parameters?","body":"<p>I need to implement an API with these path params.</p>\n\n<pre><code>@Path(\"/job/{param1}/{optional1}/{optional2}/{param2}\")\n</code></pre>\n\n<p>Can the second and third params by optional? So the client need not pass these, but have to pass the first and last.</p>\n\n<p>If this is not possible, then is it recommended to rearrange the params in this way?</p>\n\n<pre><code>@Path(\"/job/{param1}/{param2}/{optional1}/{optional2}\")\n</code></pre>\n\n<p>How to provide the optional params?</p>\n"},{"tags":["java","junit","testng"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687519833,"post_id":76539660,"comment_id":134951886,"body_markdown":"The issue here is that the `@Test` annotation parameters are processed at compile time, but the `toString()` method call for the enum will only be executed at runtime","body":"The issue here is that the <code>@Test</code> annotation parameters are processed at compile time, but the <code>toString()</code> method call for the enum will only be executed at runtime"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1687519898,"post_id":76539660,"comment_id":134951903,"body_markdown":"Any idea, How do we acheive it then? I just don&#39;t want to put the entire long error messages on the test files.","body":"Any idea, How do we acheive it then? I just don&#39;t want to put the entire long error messages on the test files."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1687520074,"post_id":76539660,"comment_id":134951944,"body_markdown":"You may use static as a workaround, like: `private static final String CUSTOM_ERROR = MyEnum.CUSTOM_ERROR.toString();`, so `CUSTOM_ERROR` is a compile-time constant","body":"You may use static as a workaround, like: <code>private static final String CUSTOM_ERROR = MyEnum.CUSTOM_ERROR.toString();</code>, so <code>CUSTOM_ERROR</code> is a compile-time constant"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1687523656,"post_id":76539660,"comment_id":134952782,"body_markdown":"Hey . I just checked its not working. because even the final variable will be evaluated at runtime.  you can check from your side too.","body":"Hey . I just checked its not working. because even the final variable will be evaluated at runtime.  you can check from your side too."}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687524128,"creation_date":1687519681,"question_id":76539660,"body_markdown":"I am using the `expectedExceptionsMessageRegExp` propery on the @Test annotation to test the exception message using enum but it is not working.  Does enum is supported ?\r\n\r\nBelow code deoesn&#39;t work.  Since the  error message is very long, i don&#39;t want to hardcode inline like `expectedExceptionsMessageRegExp = &quot;very long message&quot;` \r\n\r\n\r\n    @Test(description = &quot;Some description&quot;, expectedExceptions=CutomException.class,\r\n         expectedExceptionsMessageRegExp = MyEnum.CUSTOM_ERROR.toString())\r\n    {\r\n     //test case \r\n    \r\n    }\r\n\r\n\r\nAny idea how to use expectedExceptionsMessageRegExp with enum ?\r\n","title":"TestNG expectedExceptionsMessageRegExp using enum","body":"<p>I am using the <code>expectedExceptionsMessageRegExp</code> propery on the @Test annotation to test the exception message using enum but it is not working.  Does enum is supported ?</p>\n<p>Below code deoesn't work.  Since the  error message is very long, i don't want to hardcode inline like <code>expectedExceptionsMessageRegExp = &quot;very long message&quot;</code></p>\n<pre><code>@Test(description = &quot;Some description&quot;, expectedExceptions=CutomException.class,\n     expectedExceptionsMessageRegExp = MyEnum.CUSTOM_ERROR.toString())\n{\n //test case \n\n}\n</code></pre>\n<p>Any idea how to use expectedExceptionsMessageRegExp with enum ?</p>\n"},{"tags":["java","scala","serialization"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1687525011,"post_id":76540130,"comment_id":134953093,"body_markdown":"Is probably because the class itself is not Serializable. And to pass a parameter of the class, you have to pass the whole class.","body":"Is probably because the class itself is not Serializable. And to pass a parameter of the class, you have to pass the whole class."}],"owner":{"account_id":21163137,"reputation":420,"user_id":15560990,"display_name":"Dasph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687524087,"creation_date":1687523312,"question_id":76540130,"body_markdown":"I observed this behaviour in Scala, but I am assuming it&#39;s the same case in Java.\r\n\r\nUsing Beam as an example.\r\nIf you have \r\n\r\n    SomeClass(p: Pipeline, stringP: String){ \r\n    val foo: PCollection[String] = p.apply(&quot;TestSerialization&quot;, ParDo.of(new DummyTransform(stringP))\r\n    }\r\n\r\nIt would crash the pipeline with a `NonSerializableException` during runtime, but if you do\r\n\r\n    SomeClass(p: Pipeline, stringP: String){ \r\n    val foo: PCollection[String] = { \r\n        val serializedStringP = stringP \r\n        p.apply(&quot;TestSerialization&quot;, ParDo.of(new DummyTransform(serializedStringP)) \r\n      }\r\n    }\r\n\r\nit would succeed.\r\nHow come the original value of `stringP` is not serializable?","title":"Why aren&#39;t Scala/Java Class parameters Serializable","body":"<p>I observed this behaviour in Scala, but I am assuming it's the same case in Java.</p>\n<p>Using Beam as an example.\nIf you have</p>\n<pre><code>SomeClass(p: Pipeline, stringP: String){ \nval foo: PCollection[String] = p.apply(&quot;TestSerialization&quot;, ParDo.of(new DummyTransform(stringP))\n}\n</code></pre>\n<p>It would crash the pipeline with a <code>NonSerializableException</code> during runtime, but if you do</p>\n<pre><code>SomeClass(p: Pipeline, stringP: String){ \nval foo: PCollection[String] = { \n    val serializedStringP = stringP \n    p.apply(&quot;TestSerialization&quot;, ParDo.of(new DummyTransform(serializedStringP)) \n  }\n}\n</code></pre>\n<p>it would succeed.\nHow come the original value of <code>stringP</code> is not serializable?</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687605582,"post_id":76540224,"comment_id":134962242,"body_markdown":"What did you try to solve the problem, first provide your solution or at least some presumptions, some codes might be useful.","body":"What did you try to solve the problem, first provide your solution or at least some presumptions, some codes might be useful."}],"owner":{"account_id":28880540,"reputation":1,"user_id":22120106,"display_name":"Aditya VK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687524010,"creation_date":1687524010,"question_id":76540224,"body_markdown":"I have a scenario where I have to maintain revision of whole data in the postgresql table. Initially the revision column start from 0 and is_latest_revision column will be true. There are around 120,000 records in the table and each time even if single record is updated/newly added/deleted whole table data need to be duplicated and revision column will be incremented to next value(1) and the new 120,000 records will have is_latest_revision as true. For old records revision value remains 0 but is_latest_revision will be false.\r\n\r\nIs there a efficient way to do this in java spring boot?\r\n\r\nI was thinking about findAll() and saveAll() methods from Jpa, but that would take time.","title":"Bulk duplicate records in table and reinsert in same table updating only 2 columns (maintaining revision for each edit)","body":"<p>I have a scenario where I have to maintain revision of whole data in the postgresql table. Initially the revision column start from 0 and is_latest_revision column will be true. There are around 120,000 records in the table and each time even if single record is updated/newly added/deleted whole table data need to be duplicated and revision column will be incremented to next value(1) and the new 120,000 records will have is_latest_revision as true. For old records revision value remains 0 but is_latest_revision will be false.</p>\n<p>Is there a efficient way to do this in java spring boot?</p>\n<p>I was thinking about findAll() and saveAll() methods from Jpa, but that would take time.</p>\n"},{"tags":["java","gradle","jaxb"],"owner":{"account_id":12718802,"reputation":127,"user_id":9239937,"display_name":"MedMahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687523735,"creation_date":1687523735,"question_id":76540189,"body_markdown":"I started to receive the following error in my java project which has dependencies to com.github.jacobono:gradle-jaxb-plugin:1.3.6:\r\n\r\n```\r\n   &gt; Could not find gradle-jaxb-plugin-1.3.6.jar (com.github.jacobono:gradle-jaxb-plugin:1.3.6).\r\n     Searched in the following locations:\r\n         https://jcenter.bintray.com/com/github/jacobono/gradle-jaxb-plugin/1.3.6/gradle-jaxb-plugin-1.3.6.jar\r\n   &gt; Could not find gradle-xsd-wsdl-slurping-1.1.2.jar (com.github.jacobono:gradle-xsd-wsdl-slurping:1.1.2).\r\n     Searched in the following locations:\r\n         https://jcenter.bintray.com/com/github/jacobono/gradle-xsd-wsdl-slurping/1.1.2/gradle-xsd-wsdl-slurping-1.1.2.jar\r\n```\r\nNot sure why this dependency is not found anymore, does anyone know how to solve this?\r\n\r\nany help will be appreciated.\r\n\r\nThank you\r\n\r\n","title":"Could not find gradle-jaxb-plugin-1.3.6.jar (com.github.jacobono:gradle-jaxb-plugin:1.3.6)","body":"<p>I started to receive the following error in my java project which has dependencies to com.github.jacobono:gradle-jaxb-plugin:1.3.6:</p>\n<pre><code>   &gt; Could not find gradle-jaxb-plugin-1.3.6.jar (com.github.jacobono:gradle-jaxb-plugin:1.3.6).\n     Searched in the following locations:\n         https://jcenter.bintray.com/com/github/jacobono/gradle-jaxb-plugin/1.3.6/gradle-jaxb-plugin-1.3.6.jar\n   &gt; Could not find gradle-xsd-wsdl-slurping-1.1.2.jar (com.github.jacobono:gradle-xsd-wsdl-slurping:1.1.2).\n     Searched in the following locations:\n         https://jcenter.bintray.com/com/github/jacobono/gradle-xsd-wsdl-slurping/1.1.2/gradle-xsd-wsdl-slurping-1.1.2.jar\n</code></pre>\n<p>Not sure why this dependency is not found anymore, does anyone know how to solve this?</p>\n<p>any help will be appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-webflux","netty","webclient"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687525255,"post_id":76540187,"comment_id":134953149,"body_markdown":"is it possible that your client is overwhelming the server with requests and that the server is closing connections because there are too many? Is there a rate limit on this API? Does changing the max connections setting helps to limit the number of concurrent connections to this server?","body":"is it possible that your client is overwhelming the server with requests and that the server is closing connections because there are too many? Is there a rate limit on this API? Does changing the max connections setting helps to limit the number of concurrent connections to this server?"},{"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"score":0,"creation_date":1687851224,"post_id":76540187,"comment_id":134990578,"body_markdown":"@BrianClozel sorry for the long answer. Yes, this option is possible. Do you have any idea how this can be confirmed if there is no contact with the API developer?","body":"@BrianClozel sorry for the long answer. Yes, this option is possible. Do you have any idea how this can be confirmed if there is no contact with the API developer?"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687852148,"post_id":76540187,"comment_id":134990767,"body_markdown":"if you change the max connections configuration in the connection pool to limit the number of concurrent connections - and that this change makes the API calls work consistently, I think this proves it. Logging more information at the reactor netty level will only show connections being closed so you probably won&#39;t learn more.","body":"if you change the max connections configuration in the connection pool to limit the number of concurrent connections - and that this change makes the API calls work consistently, I think this proves it. Logging more information at the reactor netty level will only show connections being closed so you probably won&#39;t learn more."},{"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"score":0,"creation_date":1696333159,"post_id":76540187,"comment_id":136136619,"body_markdown":"@BrianClozel I&#39;m sorry to bring this up again, but maybe you can give me some advice again.\nFor me, the SocketException error actually occurs because the remote server is closing the connection. But I have no way to influence this remote server and I would like to somehow correctly handle this error on my side. The ideal option for me is to add retry for such requests. But when using spring-retry or retryWhen, it seems that it is not possible to transfer control to the code responsible for retry. You don&#39;t know why this might be or how it can be solved?","body":"@BrianClozel I&#39;m sorry to bring this up again, but maybe you can give me some advice again. For me, the SocketException error actually occurs because the remote server is closing the connection. But I have no way to influence this remote server and I would like to somehow correctly handle this error on my side. The ideal option for me is to add retry for such requests. But when using spring-retry or retryWhen, it seems that it is not possible to transfer control to the code responsible for retry. You don&#39;t know why this might be or how it can be solved?"},{"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"score":0,"creation_date":1696333327,"post_id":76540187,"comment_id":136136659,"body_markdown":"@BrianClozel The error in the log now looks something like this: https://i.imgur.com/1qZZudW.png","body":"@BrianClozel The error in the log now looks something like this: <a href=\"https://i.imgur.com/1qZZudW.png\" rel=\"nofollow noreferrer\">i.imgur.com/1qZZudW.png</a>"}],"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687523722,"creation_date":1687523722,"question_id":76540187,"body_markdown":"I&#39;m using `org.springframework.boot:spring-boot-starter-webflux:2.6.9` and `WebClient` to make requests in **synchronous** mode (as a replacement for `RestTemplate`). When making a small number of requests through the `WebClient`, everything works fine, but as soon as the number of requests increases, then some of the requests start to get an error:\r\n\r\n    2023-06-23 15:03:50.603 WARN [] 45045 --- [reactor-http-] r.n.h.client.HttpClientConnect : [74630f62-1, L:/192.168.23.3:57614 - R:some-http-url/1.2.3.4:443] The connection observed an error    \r\n    java.net.SocketException: Connection reset\r\n        \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n        \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n        \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n        \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n        \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n        \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n        \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n        \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n        \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n        \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n        \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n        \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    .........\r\n    Caused by: org.springframework.web.reactive.function.client.WebClientRequestException: Connection reset; nested exception is java.net.SocketException: Connection reset\r\n    \tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint  Request to GET https://some-http-url[DefaultWebClient]\r\n\r\nMy WebClient config looks like this:\r\n```java\r\nConnectionProvider provider = ConnectionProvider.builder(&quot;some-provider&quot;)\r\n        .maxConnections(properties.getMaxConnections())\r\n        .maxIdleTime(properties.getMaxIdleTime())\r\n        .maxLifeTime(properties.getMaxLifeTime())\r\n        .pendingAcquireTimeout(properties.getPendingAcquireTimeout())\r\n        .evictInBackground(properties.getEvictInBackground())\r\n        .build();\r\n\r\nHttpClient httpClient = HttpClient.create(provider)\r\n        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\r\n        .responseTimeout(properties.getResponseTimeout())\r\n        .doOnConnected(conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(properties.getReadTimeout()))\r\n                .addHandlerLast(new WriteTimeoutHandler(properties.getWriteTimeout())));\r\n\r\nfinal ExchangeStrategies strategies = ExchangeStrategies.builder()\r\n        .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize((int) maxInMemorySize.toBytes()))\r\n        .build();\r\n\r\nWebClient.builder()\r\n        .exchangeStrategies(strategies)\r\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n        .baseUrl(properties.getUrl())\r\n        .filter(authExchangeFilterFunction)\r\n        .filter(logRequest())\r\n        .filter(logResponse())\r\n        .filter(ExchangeFilterFunction.ofResponseProcessor(errorHandlingProcessor()))\r\n        .build();\r\n```\r\nI tried changing the settings (max-connection, max-idle-time, max-life-time, etc...), but that didn&#39;t help.\r\n\r\nThe call to the API method itself looks like this:\r\n```java\r\nwebClient.get()\r\n        .uri(uriBuilder -&gt; uriBuilder.path(&quot;some-path/{param}&quot;).build(param))\r\n        .retrieve()\r\n        .bodyToMono(DataBuffer.class)\r\n        .&lt;file&gt;handle((dataBuffer, sink) -&gt; {\r\n                try {\r\n                        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n                        sink.next((file) unmarshaller.unmarshal(dataBuffer.asInputStream()));\r\n                } catch (Exception e) {\r\n                        sink.error(new CustomException(e.getMessage()));\r\n                } finally {\r\n                        DataBufferUtils.release(dataBuffer);\r\n                }\r\n        })\r\n        .block();\r\n```\r\nMaybe someone can explain why a connection reset can occur?\r\nA bit of context on increasing the number of requests:\r\nI use the rabbitmq listener in the application and when I have the listener running in single-threaded mode, then the requests are processed correctly. But when I raise the number of listeners to 3-5+, errors start to appear.","title":"Executing a WebClient request ends with an error connection reset","body":"<p>I'm using <code>org.springframework.boot:spring-boot-starter-webflux:2.6.9</code> and <code>WebClient</code> to make requests in <strong>synchronous</strong> mode (as a replacement for <code>RestTemplate</code>). When making a small number of requests through the <code>WebClient</code>, everything works fine, but as soon as the number of requests increases, then some of the requests start to get an error:</p>\n<pre><code>2023-06-23 15:03:50.603 WARN [] 45045 --- [reactor-http-] r.n.h.client.HttpClientConnect : [74630f62-1, L:/192.168.23.3:57614 - R:some-http-url/1.2.3.4:443] The connection observed an error    \njava.net.SocketException: Connection reset\n        at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n        at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n        at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n        at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n.........\nCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: Connection reset; nested exception is java.net.SocketException: Connection reset\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint  Request to GET https://some-http-url[DefaultWebClient]\n</code></pre>\n<p>My WebClient config looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConnectionProvider provider = ConnectionProvider.builder(&quot;some-provider&quot;)\n        .maxConnections(properties.getMaxConnections())\n        .maxIdleTime(properties.getMaxIdleTime())\n        .maxLifeTime(properties.getMaxLifeTime())\n        .pendingAcquireTimeout(properties.getPendingAcquireTimeout())\n        .evictInBackground(properties.getEvictInBackground())\n        .build();\n\nHttpClient httpClient = HttpClient.create(provider)\n        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\n        .responseTimeout(properties.getResponseTimeout())\n        .doOnConnected(conn -&gt; conn.addHandlerLast(new ReadTimeoutHandler(properties.getReadTimeout()))\n                .addHandlerLast(new WriteTimeoutHandler(properties.getWriteTimeout())));\n\nfinal ExchangeStrategies strategies = ExchangeStrategies.builder()\n        .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize((int) maxInMemorySize.toBytes()))\n        .build();\n\nWebClient.builder()\n        .exchangeStrategies(strategies)\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\n        .baseUrl(properties.getUrl())\n        .filter(authExchangeFilterFunction)\n        .filter(logRequest())\n        .filter(logResponse())\n        .filter(ExchangeFilterFunction.ofResponseProcessor(errorHandlingProcessor()))\n        .build();\n</code></pre>\n<p>I tried changing the settings (max-connection, max-idle-time, max-life-time, etc...), but that didn't help.</p>\n<p>The call to the API method itself looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient.get()\n        .uri(uriBuilder -&gt; uriBuilder.path(&quot;some-path/{param}&quot;).build(param))\n        .retrieve()\n        .bodyToMono(DataBuffer.class)\n        .&lt;file&gt;handle((dataBuffer, sink) -&gt; {\n                try {\n                        Unmarshaller unmarshaller = jc.createUnmarshaller();\n                        sink.next((file) unmarshaller.unmarshal(dataBuffer.asInputStream()));\n                } catch (Exception e) {\n                        sink.error(new CustomException(e.getMessage()));\n                } finally {\n                        DataBufferUtils.release(dataBuffer);\n                }\n        })\n        .block();\n</code></pre>\n<p>Maybe someone can explain why a connection reset can occur?\nA bit of context on increasing the number of requests:\nI use the rabbitmq listener in the application and when I have the listener running in single-threaded mode, then the requests are processed correctly. But when I raise the number of listeners to 3-5+, errors start to appear.</p>\n"},{"tags":["java","android","flutter","firebase","sha1"],"answers":[{"comments":[{"owner":{"account_id":12881409,"reputation":53,"user_id":9316330,"display_name":"danyRoyal"},"score":0,"creation_date":1518433571,"post_id":48744659,"comment_id":84489725,"body_markdown":"I did the same as described in the link but all in vain  :(","body":"I did the same as described in the link but all in vain  :("},{"owner":{"account_id":12881409,"reputation":53,"user_id":9316330,"display_name":"danyRoyal"},"score":6,"creation_date":1518433863,"post_id":48744659,"comment_id":84489934,"body_markdown":"i got the solution TejaDroid :)\nI delete the debugkeystore from my &quot;users/.android/&quot; then i rebuild the project again and now a new SHA1 key has been generated &lt;3","body":"i got the solution TejaDroid :) I delete the debugkeystore from my &quot;users/.android/&quot; then i rebuild the project again and now a new SHA1 key has been generated &lt;3"},{"owner":{"account_id":17333111,"reputation":872,"user_id":12555686,"display_name":"Simran Sharma"},"score":0,"creation_date":1628213484,"post_id":48744659,"comment_id":121366876,"body_markdown":"This comment should be the solution. Thank you @danyRoyal","body":"This comment should be the solution. Thank you @danyRoyal"}],"tags":[],"owner":{"account_id":1238309,"reputation":6631,"user_id":1201441,"accept_rate":25,"display_name":"TejaDroid"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1518432619,"creation_date":1518432619,"answer_id":48744659,"question_id":48744322,"body_markdown":"I think you are doing mistake while generating the SHA-1 Key, as we know there already located **debug.keystore** for default keystore use, so when ever you fire the code for SHA-1 then there default keystore (**debug.keystore**) will use. \r\n\r\nso may be due to this reason you have every time same SHA-1.\r\n\r\nPlease follow this [link][1], here describe how to find the SHA-1 using Android Studio also inside android studio.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34223470/1201441","title":"How to regenerate new SHA1 key for other projects","body":"<p>I think you are doing mistake while generating the SHA-1 Key, as we know there already located <strong>debug.keystore</strong> for default keystore use, so when ever you fire the code for SHA-1 then there default keystore (<strong>debug.keystore</strong>) will use. </p>\n\n<p>so may be due to this reason you have every time same SHA-1.</p>\n\n<p>Please follow this <a href=\"https://stackoverflow.com/a/34223470/1201441\">link</a>, here describe how to find the SHA-1 using Android Studio also inside android studio.</p>\n"}],"owner":{"account_id":12881409,"reputation":53,"user_id":9316330,"display_name":"danyRoyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48744659,"answer_count":1,"score":5,"last_activity_date":1687523419,"creation_date":1518431607,"question_id":48744322,"body_markdown":"I cannot link my android app project with firebase console. Because every time when I create a new project and generate an SHA-1 key, it generates same key for every project.\r\nI stuck in it and didn&#39;t find an answer. Please Help me","title":"How to regenerate new SHA1 key for other projects","body":"<p>I cannot link my android app project with firebase console. Because every time when I create a new project and generate an SHA-1 key, it generates same key for every project.\nI stuck in it and didn't find an answer. Please Help me</p>\n"},{"tags":["java","quarkus","gradle-plugin","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1659066791,"post_id":73160326,"comment_id":129211857,"body_markdown":"Have you tried with Quarkus version 2.11.1?","body":"Have you tried with Quarkus version 2.11.1?"},{"owner":{"account_id":24483620,"reputation":5,"user_id":18401646,"display_name":"user18401646"},"score":0,"creation_date":1659107439,"post_id":73160326,"comment_id":129222652,"body_markdown":"I have tried, getting same error","body":"I have tried, getting same error"}],"answers":[{"tags":[],"owner":{"account_id":26087286,"reputation":26,"user_id":19784649,"display_name":"Clodoaldo Souza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660946110,"creation_date":1660736084,"answer_id":73387751,"question_id":73160326,"body_markdown":"Sorry for delay, my friend!!! In my case, I changed the environment variables of JAVA_HOME and JAVA_JDK from Java 8 to JAVA 11.\r\n\r\n","title":"could not resolve all files for configuration &#39;:classpath&#39;. Could not resolve io.quarkus:gradle-application-plugin:2.10.2.Final","body":"<p>Sorry for delay, my friend!!! In my case, I changed the environment variables of JAVA_HOME and JAVA_JDK from Java 8 to JAVA 11.</p>\n"},{"tags":[],"owner":{"account_id":8029669,"reputation":1291,"user_id":6055194,"display_name":"Eugene Babich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687523407,"creation_date":1687523407,"answer_id":76540145,"question_id":73160326,"body_markdown":"Android Studio Gradle settings change helped me.\r\n\r\n    Menu File -&gt; Settings (on macOS, Android Studio -&gt; Preferences) -&gt; \r\n    Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\nIn right section of window find your project and select it.\r\n\r\nIn menu **Gradle JDK** select **JAVA 11** version .","title":"could not resolve all files for configuration &#39;:classpath&#39;. Could not resolve io.quarkus:gradle-application-plugin:2.10.2.Final","body":"<p>Android Studio Gradle settings change helped me.</p>\n<pre><code>Menu File -&gt; Settings (on macOS, Android Studio -&gt; Preferences) -&gt; \nBuild, Execution, Deployment -&gt; Build Tools -&gt; Gradle\n</code></pre>\n<p>In right section of window find your project and select it.</p>\n<p>In menu <strong>Gradle JDK</strong> select <strong>JAVA 11</strong> version .</p>\n"}],"owner":{"account_id":24483620,"reputation":5,"user_id":18401646,"display_name":"user18401646"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73387751,"answer_count":2,"score":0,"last_activity_date":1687523407,"creation_date":1659052836,"question_id":73160326,"body_markdown":"I am trying to deploy quarkus application in AWS, I am getting build failed with below error. Can someone help on this? Gradle version I am using is 7.5\r\n\r\nThanks\r\n\r\nBelow is my build.gradle file\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.quarkus&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\r\n        implementation &#39;io.quarkus:quarkus-arc&#39;\r\n        implementation &#39;io.quarkus:quarkus-resteasy-jackson&#39;\r\n        implementation &#39;io.quarkus:quarkus-resteasy&#39;\r\n        implementation &#39;io.quarkus:quarkus-rest-client&#39;\r\n    \r\n    }\r\n    \r\n    group &#39;test.quarkus&#39;\r\n    version &#39;2.10&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n    \r\n    compileJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-parameters&#39;\r\n    }\r\n    \r\n    compileTestJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n\r\n    \r\n  \r\n    \r\n    **\r\n\r\n&gt; Below is the error.\r\n\r\n**\r\n    \r\n         \r\n\r\n&gt;  &gt; Could not resolve io.quarkus:gradle-application-plugin:2.10.2.Final.\r\n&gt;                  Required by:\r\n&gt;                      project : &gt; io.quarkus:io.quarkus.gradle.plugin:2.10.2.Final\r\n&gt;                   &gt; No matching variant of io.quarkus:gradle-application-plugin:2.10.2.Final was found. The\r\n&gt; consumer was configured to find a runtime of a library compatible with\r\n&gt; Java 8, packaged as a jar, and its dependencies declared externally,\r\n&gt; as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39;\r\n&gt; but:\r\n&gt;                       - Variant &#39;apiElements&#39; capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a library,\r\n&gt; packaged as a jar, and its dependencies declared externally:\r\n&gt;                           - Incompatible because this component declares an API of a component compatible with Java 11 and the\r\n&gt; consumer needed a runtime of a component compatible with Java 8\r\n&gt;                           - Other compatible attribute:\r\n&gt;                               - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n&gt;                       - Variant &#39;javadocElements&#39; capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\r\n&gt; of a component, and its dependencies declared externally:\r\n&gt;                           - Incompatible because this component declares documentation and the consumer needed a library\r\n&gt;                           - Other compatible attributes:\r\n&gt;                               - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n&gt;                               - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n&gt;                               - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n&gt;                       - Variant &#39;runtimeElements&#39; capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\r\n&gt; of a library, packaged as a jar, and its dependencies declared\r\n&gt; externally:\r\n&gt;                           - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a\r\n&gt; component compatible with Java 8\r\n&gt;                           - Other compatible attribute:\r\n&gt;                               - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n&gt;                       - Variant &#39;sourcesElements&#39; capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\r\n&gt; of a component, and its dependencies declared externally:\r\n&gt;                           - Incompatible because this component declares documentation and the consumer needed a library\r\n&gt;                           - Other compatible attributes:\r\n&gt;                               - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n&gt;                               - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n&gt;                               - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n","title":"could not resolve all files for configuration &#39;:classpath&#39;. Could not resolve io.quarkus:gradle-application-plugin:2.10.2.Final","body":"<p>I am trying to deploy quarkus application in AWS, I am getting build failed with below error. Can someone help on this? Gradle version I am using is 7.5</p>\n<p>Thanks</p>\n<p>Below is my build.gradle file</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n}\n\ndependencies {\n    implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n    implementation 'io.quarkus:quarkus-arc'\n    implementation 'io.quarkus:quarkus-resteasy-jackson'\n    implementation 'io.quarkus:quarkus-resteasy'\n    implementation 'io.quarkus:quarkus-rest-client'\n\n}\n\ngroup 'test.quarkus'\nversion '2.10'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n\n\n\n\n**\n</code></pre>\n<blockquote>\n<p>Below is the error.</p>\n</blockquote>\n<p>**</p>\n<blockquote>\n<blockquote>\n<p>Could not resolve io.quarkus:gradle-application-plugin:2.10.2.Final.\nRequired by:\nproject : &gt; io.quarkus:io.quarkus.gradle.plugin:2.10.2.Final\n&gt; No matching variant of io.quarkus:gradle-application-plugin:2.10.2.Final was found. The\nconsumer was configured to find a runtime of a library compatible with\nJava 8, packaged as a jar, and its dependencies declared externally,\nas well as attribute 'org.gradle.plugin.api-version' with value '7.5'\nbut:\n- Variant 'apiElements' capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a library,\npackaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares an API of a component compatible with Java 11 and the\nconsumer needed a runtime of a component compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n- Variant 'javadocElements' capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\nof a component, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n- Variant 'runtimeElements' capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\nof a library, packaged as a jar, and its dependencies declared\nexternally:\n- Incompatible because this component declares a component compatible with Java 11 and the consumer needed a\ncomponent compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n- Variant 'sourcesElements' capability io.quarkus:gradle-application-plugin:2.10.2.Final declares a runtime\nof a component, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '7.5')</p>\n</blockquote>\n</blockquote>\n"},{"tags":["java","spring","database","jpa","querydsl"],"owner":{"account_id":28858520,"reputation":1,"user_id":22102822,"display_name":"pia2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687523322,"creation_date":1687522203,"question_id":76539983,"body_markdown":"Day and Schedule have a 1 to N relationship. (oneToMany)\r\n\r\nIt works. However, when the Schedule table does not exist at all, ScheduleSummary with all fields filled with null will be included in schedules one by one. like this \r\n\r\n[Payload][1]\r\n\r\nI want to make an empty list enter when schedule does not exist. Should I handle this in findDayScheduleListByTripId()? Or should I process it through separate logic in Service, Controller or DTO?\r\n\r\nI tried CaseBuilder. But it doesn&#39;t works in transform() :(\r\n\r\n    @Getter \r\n    public class DayScheduleDetail { \r\n        private Long dayId; \r\n        private Long tripId; \r\n        private LocalDate date; \r\n        private DayColorDto dayColor; \r\n        private List&lt;ScheduleSummary&gt; schedules\r\n    \r\n        @QueryProjection\r\n        public DayScheduleDetail(Long dayId, Long tripId, LocalDate date, DayColor dayColor, List&lt;ScheduleSummary&gt; scheduleSummaries) {\r\n            this.dayId = dayId;\r\n            this.tripId = tripId;\r\n            this.date = date;\r\n            this.dayColor = DayColorDto.of(dayColor.name(), dayColor.getValue());\r\n            this.schedules = scheduleSummaries;\r\n        }\r\n    }\r\n\r\n    \r\n    @Getter \r\n    public class ScheduleSummary { \r\n        private Long scheduleId; \r\n        private String title; \r\n        private String placeName; \r\n        private String placeId; \r\n        private Coordinate coordinate;\r\n    \r\n        @QueryProjection\r\n        public ScheduleSummary(Long scheduleId, String title, String placeName,String placeId, double latitude, double longitude) {\r\n            this.scheduleId = scheduleId;\r\n            this.title = title;\r\n            this.placeName = placeName;\r\n            this.placeId = placeId;\r\n            this.coordinate = Coordinate.from(latitude, longitude);\r\n        }\r\n    }\r\n\r\n    public List&lt;DayScheduleDetail&gt; findDayScheduleListByTripId(Long tripId){\r\n    \r\n        return query.from(day)\r\n                .leftJoin(day.schedules, schedule)\r\n                .where(day.trip.id.eq(tripId))\r\n                .orderBy(day.tripDate.asc(), schedule.scheduleIndex.value.asc())\r\n                .transform(\r\n                        groupBy(day.id).list(new QDayScheduleDetail(\r\n                                day.id,\r\n                                day.trip.id,\r\n                                day.tripDate,\r\n                                day.dayColor,\r\n                                list(new QScheduleSummary(\r\n                                        schedule.id,\r\n                                        schedule.scheduleTitle.value,\r\n                                        schedule.place.placeName,\r\n                                        schedule.place.placeId,\r\n                                        schedule.place.coordinate.latitude,\r\n                                        schedule.place.coordinate.longitude\r\n                                ))\r\n                        ))\r\n                );\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rRsGe.png","title":"QueryDSL result mapping","body":"<p>Day and Schedule have a 1 to N relationship. (oneToMany)</p>\n<p>It works. However, when the Schedule table does not exist at all, ScheduleSummary with all fields filled with null will be included in schedules one by one. like this</p>\n<p><a href=\"https://i.stack.imgur.com/rRsGe.png\" rel=\"nofollow noreferrer\">Payload</a></p>\n<p>I want to make an empty list enter when schedule does not exist. Should I handle this in findDayScheduleListByTripId()? Or should I process it through separate logic in Service, Controller or DTO?</p>\n<p>I tried CaseBuilder. But it doesn't works in transform() :(</p>\n<pre><code>@Getter \npublic class DayScheduleDetail { \n    private Long dayId; \n    private Long tripId; \n    private LocalDate date; \n    private DayColorDto dayColor; \n    private List&lt;ScheduleSummary&gt; schedules\n\n    @QueryProjection\n    public DayScheduleDetail(Long dayId, Long tripId, LocalDate date, DayColor dayColor, List&lt;ScheduleSummary&gt; scheduleSummaries) {\n        this.dayId = dayId;\n        this.tripId = tripId;\n        this.date = date;\n        this.dayColor = DayColorDto.of(dayColor.name(), dayColor.getValue());\n        this.schedules = scheduleSummaries;\n    }\n}\n\n\n@Getter \npublic class ScheduleSummary { \n    private Long scheduleId; \n    private String title; \n    private String placeName; \n    private String placeId; \n    private Coordinate coordinate;\n\n    @QueryProjection\n    public ScheduleSummary(Long scheduleId, String title, String placeName,String placeId, double latitude, double longitude) {\n        this.scheduleId = scheduleId;\n        this.title = title;\n        this.placeName = placeName;\n        this.placeId = placeId;\n        this.coordinate = Coordinate.from(latitude, longitude);\n    }\n}\n\npublic List&lt;DayScheduleDetail&gt; findDayScheduleListByTripId(Long tripId){\n\n    return query.from(day)\n            .leftJoin(day.schedules, schedule)\n            .where(day.trip.id.eq(tripId))\n            .orderBy(day.tripDate.asc(), schedule.scheduleIndex.value.asc())\n            .transform(\n                    groupBy(day.id).list(new QDayScheduleDetail(\n                            day.id,\n                            day.trip.id,\n                            day.tripDate,\n                            day.dayColor,\n                            list(new QScheduleSummary(\n                                    schedule.id,\n                                    schedule.scheduleTitle.value,\n                                    schedule.place.placeName,\n                                    schedule.place.placeId,\n                                    schedule.place.coordinate.latitude,\n                                    schedule.place.coordinate.longitude\n                            ))\n                    ))\n            );\n}\n</code></pre>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1687519312,"post_id":76539562,"comment_id":134951780,"body_markdown":"Why use an inner class? Why not have a class in its own .java file?","body":"Why use an inner class? Why not have a class in its own .java file?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687519424,"post_id":76539562,"comment_id":134951801,"body_markdown":"In addition, why don&#39;t you use `Map&lt;Integer, B&gt;`, instead of intermediate pair?","body":"In addition, why don&#39;t you use <code>Map&lt;Integer, B&gt;</code>, instead of intermediate pair?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1687519489,"post_id":76539562,"comment_id":134951815,"body_markdown":"You would be better served to use a nested static class than an inner class (and if you&#39;re using a recent Java version, use a record, not a normal class).","body":"You would be better served to use a nested static class than an inner class (and if you&#39;re using a recent Java version, use a record, not a normal class)."},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1687519877,"post_id":76539562,"comment_id":134951899,"body_markdown":"@DevilsHnd - I don&#39;t think anyone else be using this class in our project. This is the limited use case we have. So want to keep the access of it limited within class A","body":"@DevilsHnd - I don&#39;t think anyone else be using this class in our project. This is the limited use case we have. So want to keep the access of it limited within class A"},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1687520116,"post_id":76539562,"comment_id":134951955,"body_markdown":"@Chaosfire There will be some additional logic I will be putting in stop method based on the current time which will be use to populate another field of class B. This is WIP, but yeah that&#39;s the reason.","body":"@Chaosfire There will be some additional logic I will be putting in stop method based on the current time which will be use to populate another field of class B. This is WIP, but yeah that&#39;s the reason."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687522379,"post_id":76539562,"comment_id":134952470,"body_markdown":"Not to be too pedantic here, but access  level modifiers, such as &quot;private&quot; do not represent a &quot;scope&quot; in Java.","body":"Not to be too pedantic here, but access  level modifiers, such as &quot;private&quot; do not represent a &quot;scope&quot; in Java."},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1687523264,"post_id":76539562,"comment_id":134952677,"body_markdown":"@HovercraftFullOfEels - thanks, corrected it.","body":"@HovercraftFullOfEels - thanks, corrected it."},{"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1687523398,"post_id":76539562,"comment_id":134952713,"body_markdown":"@MarkRotteveel: something like this right within class A?  \n\nprivate record B (String name1, String name2) {}","body":"@MarkRotteveel: something like this right within class A?    private record B (String name1, String name2) {}"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687523281,"creation_date":1687522367,"answer_id":76540014,"question_id":76539562,"body_markdown":"&gt; Any other recommendations on how to do it?\r\n\r\nPresuming I understand the issue, if you want to return a class then it&#39;s existence must be known so the recipient can access the elements.  Even if it is passed as a simple object, the only useful method would be `toString()` since to access the individual elements you must first cast the Object to the class in question.\r\n\r\nAs far as using an inner class, why not use a `record` (introduced in Java 14)?  It is a simple way to create an immutable class.\r\n- you can access the values directly\r\n- you can use getters.\r\n- it has default `constructor` and `toString()` (`toString` can be overridden if you like)\r\n```\r\nrecord Pair(String v1, String v2) {}\r\nPair v = new Pair(&quot;ABC&quot;, &quot;DEF&quot;);\r\nSystem.out.println(v);       // toString\r\nSystem.out.println(v.v1());  // getter\r\nSystem.out.println(v.v2);  // direct access\r\n```\r\nprints\r\n```\r\nPair[v1=ABC, v2=DEF]\r\nABC\r\nDEF\r\n```\r\nTo override `toString` just put the standard definition between the `{}`","title":"Inner classes in Java with private access","body":"<blockquote>\n<p>Any other recommendations on how to do it?</p>\n</blockquote>\n<p>Presuming I understand the issue, if you want to return a class then it's existence must be known so the recipient can access the elements.  Even if it is passed as a simple object, the only useful method would be <code>toString()</code> since to access the individual elements you must first cast the Object to the class in question.</p>\n<p>As far as using an inner class, why not use a <code>record</code> (introduced in Java 14)?  It is a simple way to create an immutable class.</p>\n<ul>\n<li>you can access the values directly</li>\n<li>you can use getters.</li>\n<li>it has default <code>constructor</code> and <code>toString()</code> (<code>toString</code> can be overridden if you like)</li>\n</ul>\n<pre><code>record Pair(String v1, String v2) {}\nPair v = new Pair(&quot;ABC&quot;, &quot;DEF&quot;);\nSystem.out.println(v);       // toString\nSystem.out.println(v.v1());  // getter\nSystem.out.println(v.v2);  // direct access\n</code></pre>\n<p>prints</p>\n<pre><code>Pair[v1=ABC, v2=DEF]\nABC\nDEF\n</code></pre>\n<p>To override <code>toString</code> just put the standard definition between the <code>{}</code></p>\n"}],"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76540014,"answer_count":1,"score":0,"last_activity_date":1687523281,"creation_date":1687518873,"question_id":76539562,"body_markdown":"I have an existing class as below:\r\n\r\n    public class A {\r\n\r\n        private Map&lt;Integer, String&gt; map = new HashMap();\r\n        \r\n        public class B{\r\n            private String name;\r\n\r\n            public B(String name) {\r\n                this.name=name;\r\n            }\r\n\r\n            //name getter\r\n        }\r\n\r\n        public void start() {\r\n            map.put(1, &quot;One&quot;); // example implementation\r\n        }\r\n\r\n        public B stop(int val) {\r\n             return new B(map.get(val)); // example implementation\r\n        }\r\n    \r\n    }\r\n\r\nNow I want to modify class B to return two names i.e. name1 and name2 and want to store a pair of values in the HashMap as below:\r\n\r\n    public class A {\r\n    \r\n            private Map&lt;Integer, String&gt; map = new HashMap();\r\n            \r\n            public class B{\r\n                private String name1;\r\n                private String name2;\r\n    \r\n                public B(String name1, String name2) {\r\n                    this.name1=name1;\r\n                    this.name2=name2;\r\n                }\r\n    \r\n                // getters for name1 and name2\r\n            }\r\n    \r\n            public void start() {\r\n                Pair&lt;String, String&gt; pair = new Pair(&quot;One&quot;, &quot;Una&quot;);\r\n                map.put(1, pair);\r\n            }\r\n    \r\n            public B stop(int val) {\r\n                 if(map.containsKey(val)) {\r\n                    return new B(map.get(val).getKey(), map.get(val).getValue());\r\n                 }\r\n                 return null;\r\n            }\r\n        \r\n        }\r\n\r\nNow instead of using Pair I want to use a custom class object. I am new to inner classes in Java. What&#39;s the best way to create a inner class given that it would be used to store some set of values in HashMap for internal processing of class A and shouldn&#39;t be exposed outside of class A? Any other recommendations on how to do it?","title":"Inner classes in Java with private access","body":"<p>I have an existing class as below:</p>\n<pre><code>public class A {\n\n    private Map&lt;Integer, String&gt; map = new HashMap();\n    \n    public class B{\n        private String name;\n\n        public B(String name) {\n            this.name=name;\n        }\n\n        //name getter\n    }\n\n    public void start() {\n        map.put(1, &quot;One&quot;); // example implementation\n    }\n\n    public B stop(int val) {\n         return new B(map.get(val)); // example implementation\n    }\n\n}\n</code></pre>\n<p>Now I want to modify class B to return two names i.e. name1 and name2 and want to store a pair of values in the HashMap as below:</p>\n<pre><code>public class A {\n\n        private Map&lt;Integer, String&gt; map = new HashMap();\n        \n        public class B{\n            private String name1;\n            private String name2;\n\n            public B(String name1, String name2) {\n                this.name1=name1;\n                this.name2=name2;\n            }\n\n            // getters for name1 and name2\n        }\n\n        public void start() {\n            Pair&lt;String, String&gt; pair = new Pair(&quot;One&quot;, &quot;Una&quot;);\n            map.put(1, pair);\n        }\n\n        public B stop(int val) {\n             if(map.containsKey(val)) {\n                return new B(map.get(val).getKey(), map.get(val).getValue());\n             }\n             return null;\n        }\n    \n    }\n</code></pre>\n<p>Now instead of using Pair I want to use a custom class object. I am new to inner classes in Java. What's the best way to create a inner class given that it would be used to store some set of values in HashMap for internal processing of class A and shouldn't be exposed outside of class A? Any other recommendations on how to do it?</p>\n"},{"tags":["java","generics","casting","compilation","runtime"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1687459239,"post_id":76534508,"comment_id":134943537,"body_markdown":"I just noticed that the question in your title is different from the question in your text. Which one did you mean to ask? Please edit your question to clarify.","body":"I just noticed that the question in your title is different from the question in your text. Which one did you mean to ask? Please edit your question to clarify."}],"owner":{"account_id":28875623,"reputation":9,"user_id":22116226,"display_name":"The AppeaRare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687522922,"creation_date":1687456190,"question_id":76534508,"body_markdown":"When writing:\r\n\r\n    LinkedList&lt;Dog&gt; dogList = (LinkedList&lt;Dog&gt;)(Object)(new LinkedList&lt;Car&gt;());\r\n\r\nI get no ClassCastException, as opposed to just writing:\r\n\r\n    Dog dog = (Dog)(Object)(new Car());\r\n\r\nWhy is there a difference? (what happens behind the scenes?)\r\n\r\nI assume it has something to do with java&#39;s generics mechanism.","title":"What happens behind the scenes when the following line is running\\compiling in java: (LinkedList&lt;Dog&gt;)(Object)(new LinkedList&lt;Car&gt;());?","body":"<p>When writing:</p>\n<pre><code>LinkedList&lt;Dog&gt; dogList = (LinkedList&lt;Dog&gt;)(Object)(new LinkedList&lt;Car&gt;());\n</code></pre>\n<p>I get no ClassCastException, as opposed to just writing:</p>\n<pre><code>Dog dog = (Dog)(Object)(new Car());\n</code></pre>\n<p>Why is there a difference? (what happens behind the scenes?)</p>\n<p>I assume it has something to do with java's generics mechanism.</p>\n"},{"tags":["java","android","eclipse"],"answers":[{"comments":[{"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"score":0,"creation_date":1558261189,"post_id":11807360,"comment_id":99035298,"body_markdown":"&quot;OR simply throw an uncaught exception&quot; maybe you could add a third solution throw a caught exception? or i&#39;ll do it myself :)","body":"&quot;OR simply throw an uncaught exception&quot; maybe you could add a third solution throw a caught exception? or i&#39;ll do it myself :)"}],"tags":[],"owner":{"account_id":319542,"reputation":23865,"user_id":637362,"accept_rate":70,"display_name":"Vineet Shukla"},"comment_count":1,"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1672989549,"creation_date":1344071485,"answer_id":11807360,"question_id":11807354,"body_markdown":"Just execute this code: divide by zero\r\n\r\nUpdate: Also can try this\r\nCreate a method,\r\n\r\n    public void stackOverflow() {\r\n        this.stackOverflow();\r\n    }\r\nAnd call this somewhere/buttonClick\r\n\r\nOR simply throw an uncaught exception\r\n\r\n    throw new RuntimeException(&quot;This is a crash&quot;);\r\n\r\nBingo!","title":"How to crash an Android app programmatically?","body":"<p>Just execute this code: divide by zero</p>\n<p>Update: Also can try this\nCreate a method,</p>\n<pre><code>public void stackOverflow() {\n    this.stackOverflow();\n}\n</code></pre>\n<p>And call this somewhere/buttonClick</p>\n<p>OR simply throw an uncaught exception</p>\n<pre><code>throw new RuntimeException(&quot;This is a crash&quot;);\n</code></pre>\n<p>Bingo!</p>\n"},{"tags":[],"owner":{"account_id":304968,"reputation":56727,"user_id":614807,"accept_rate":73,"display_name":"Chirag"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1346880643,"creation_date":1344071546,"answer_id":11807367,"question_id":11807354,"body_markdown":"    \r\n\r\n&gt; Don&#39;t declare activity in the Android Manifest . \r\n\r\n","title":"How to crash an Android app programmatically?","body":"<blockquote>\n  <p>Don't declare activity in the Android Manifest . </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1304278,"reputation":70361,"user_id":1333975,"accept_rate":100,"display_name":"Ahmad"},"score":38,"creation_date":1346880163,"post_id":11807383,"comment_id":16485989,"body_markdown":"4. and 5. look quite prommissing","body":"4. and 5. look quite prommissing"}],"tags":[],"owner":{"account_id":251969,"reputation":13463,"user_id":529691,"display_name":"JoxTraex"},"comment_count":1,"down_vote_count":7,"up_vote_count":39,"is_accepted":false,"score":32,"last_activity_date":1611720354,"creation_date":1344071750,"answer_id":11807383,"question_id":11807354,"body_markdown":" 1. Access a view that is not defined.  \r\n 2. Access the first element of an empty list without checking.  \r\n 3. Divide by Zero. \r\n 4. Throw the device out the window.  \r\n 5. Submerge the device in water.","title":"How to crash an Android app programmatically?","body":"<ol>\n<li>Access a view that is not defined.</li>\n<li>Access the first element of an empty list without checking.</li>\n<li>Divide by Zero.</li>\n<li>Throw the device out the window.</li>\n<li>Submerge the device in water.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1344100085,"post_id":11807391,"comment_id":15696032,"body_markdown":"You last statement is incorrect. Invoking a method on an uninitiatized variable will not compile.","body":"You last statement is incorrect. Invoking a method on an uninitiatized variable will not compile."},{"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"score":0,"creation_date":1346880382,"post_id":11807391,"comment_id":16486054,"body_markdown":"If you declare i as a field (public) it will compile (seems to do it by me). I think Steve is referring to if i were local.","body":"If you declare i as a field (public) it will compile (seems to do it by me). I think Steve is referring to if i were local."},{"owner":{"account_id":2222,"reputation":61064,"user_id":3055,"accept_rate":75,"display_name":"chakrit"},"score":4,"creation_date":1374739578,"post_id":11807391,"comment_id":26061885,"body_markdown":"You could just prefix it with `if (1==1)` to fool the compiler into compiling it.","body":"You could just prefix it with <code>if (1==1)</code> to fool the compiler into compiling it."}],"tags":[],"owner":{"account_id":1359879,"reputation":9491,"user_id":1297445,"accept_rate":63,"display_name":"Luke Taylor"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1344071809,"creation_date":1344071809,"answer_id":11807391,"question_id":11807354,"body_markdown":"You could try a Null Pointer exception.\r\n\r\n    Integer i = null;\r\n\r\nThen invoke any method on the object.\r\n\r\n    i.byteValue();\r\n\r\nInvoking a method on an object that hasn&#39;t been initialized will crash the app.","title":"How to crash an Android app programmatically?","body":"<p>You could try a Null Pointer exception.</p>\n\n<pre><code>Integer i = null;\n</code></pre>\n\n<p>Then invoke any method on the object.</p>\n\n<pre><code>i.byteValue();\n</code></pre>\n\n<p>Invoking a method on an object that hasn't been initialized will crash the app.</p>\n"},{"comments":[{"owner":{"account_id":1113589,"reputation":2166,"user_id":1103530,"accept_rate":75,"display_name":"Jimbali"},"score":1,"creation_date":1344073843,"post_id":11807428,"comment_id":15691338,"body_markdown":"This will not crash because you are only setting b to null, not trying to access it.","body":"This will not crash because you are only setting b to null, not trying to access it."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344076137,"creation_date":1344072154,"answer_id":11807428,"question_id":11807354,"body_markdown":"A very simple approach... and is **very important to understand that why it happened.**\r\n\r\nTry **initiating a variable** in `onCreate()` before the `setContentView()` method, then use it to call a method or variable or try registering it to some listener.. \r\n\r\n**Eg:**\r\n\r\n\r\n    Button b;\r\n    \r\n    public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            b = (Button)findViewById(R.id.butt);\r\n            b.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n            setContentView(R.layout.main);\r\n            \r\n            \r\n        }\r\n\r\n\r\nThis crashed, because **before** `setContentView()` **none of the components/view in the main.xml layout got their ids.**","title":"How to crash an Android app programmatically?","body":"<p>A very simple approach... and is <strong>very important to understand that why it happened.</strong></p>\n\n<p>Try <strong>initiating a variable</strong> in <code>onCreate()</code> before the <code>setContentView()</code> method, then use it to call a method or variable or try registering it to some listener.. </p>\n\n<p><strong>Eg:</strong></p>\n\n<pre><code>Button b;\n\npublic void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        b = (Button)findViewById(R.id.butt);\n        b.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View arg0) {\n\n\n        }\n    });\n        setContentView(R.layout.main);\n\n\n    }\n</code></pre>\n\n<p>This crashed, because <strong>before</strong> <code>setContentView()</code> <strong>none of the components/view in the main.xml layout got their ids.</strong></p>\n"},{"comments":[{"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"score":0,"creation_date":1558260878,"post_id":23273909,"comment_id":99035232,"body_markdown":"&quot;You can&#39;t throw null&quot; - yes you can :) it&#39;s exactly what you are doing here  - so dwn","body":"&quot;You can&#39;t throw null&quot; - yes you can :) it&#39;s exactly what you are doing here  - so dwn"}],"tags":[],"owner":{"account_id":1855209,"reputation":346,"user_id":1680951,"accept_rate":62,"display_name":"plop"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1398354926,"creation_date":1398354926,"answer_id":23273909,"question_id":11807354,"body_markdown":"Most simple I know : throw null. \r\n\r\nYou can&#39;t throw null, so a NullPointerException is raised.\r\n\r\n    throw null;","title":"How to crash an Android app programmatically?","body":"<p>Most simple I know : throw null. </p>\n\n<p>You can't throw null, so a NullPointerException is raised.</p>\n\n<pre><code>throw null;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5089552,"reputation":1,"user_id":4083044,"display_name":"Mayur Garg"},"score":0,"creation_date":1421218969,"post_id":27797969,"comment_id":44271491,"body_markdown":"you can use this code in onClick method.\nthis will definitely work","body":"you can use this code in onClick method. this will definitely work"}],"tags":[],"owner":{"account_id":5089552,"reputation":1,"user_id":4083044,"display_name":"Mayur Garg"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1420544652,"creation_date":1420544652,"answer_id":27797969,"question_id":11807354,"body_markdown":"Use the following code:\r\n\r\n    String xyz=null;\r\n    system.out.println(xyz);","title":"How to crash an Android app programmatically?","body":"<p>Use the following code:</p>\n\n<pre><code>String xyz=null;\nsystem.out.println(xyz);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4271998,"reputation":96,"user_id":3493613,"display_name":"FaBioInsolia"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1422029054,"creation_date":1422029054,"answer_id":28113892,"question_id":11807354,"body_markdown":"Simply create in your main.xml a button like this:\r\n\r\n     &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;crash&quot;\r\n        android:text=&quot;Crash me&quot; /&gt;\r\n\r\nthen run your app and click for crash","title":"How to crash an Android app programmatically?","body":"<p>Simply create in your main.xml a button like this:</p>\n\n<pre><code> &lt;Button\n    android:id=\"@+id/button1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:onClick=\"crash\"\n    android:text=\"Crash me\" /&gt;\n</code></pre>\n\n<p>then run your app and click for crash</p>\n"},{"tags":[],"owner":{"account_id":14967979,"reputation":21,"user_id":10805683,"display_name":"Jos&#233; Torres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553512511,"creation_date":1553512511,"answer_id":55336557,"question_id":11807354,"body_markdown":"you can crash with a simple null point exception.\r\n\r\n     throw new NullPointerException();\r\n","title":"How to crash an Android app programmatically?","body":"<p>you can crash with a simple null point exception.</p>\n\n<pre><code> throw new NullPointerException();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5936955,"reputation":7346,"user_id":4669617,"accept_rate":50,"display_name":"ceph3us"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558264008,"creation_date":1558262323,"answer_id":56206956,"question_id":11807354,"body_markdown":"in addition to @vinnet-shukla answer:\r\n\r\n&gt; &quot;OR simply throw an uncaught exception&quot;\r\n\r\n**throwing uncaught exception to do a crash is bad idea** as the exception could by caught somwhere higher in the stack - especially when whe don&#39;t know where we are right now :)\r\n\r\n**more ellegant way is to use ERROR** \r\n\r\nAn Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions. The ThreadDeath error, though a &quot;normal&quot; condition, is also a subclass of Error because most applications should not try to catch it.\r\n\r\nso we could make our own Error subclass and use it:\r\n\r\n    /*\r\n     * usage:\r\n     * \r\n     *   CrashError.doCrash(); \r\n     *\r\n     */\r\n\tpublic class CrashError extends Error {\r\n\t\t\r\n\t\tpublic CrashError() { \r\n\t\t\tthis(&quot;simulated crash&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic CrashError(String msg) {\r\n\t\t\tsuper(msg);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void doCrash() {\r\n\t\t\tthrow new CrashError();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n**but if we talk about other possibilities we could also a throw checked exception :)** \r\n\r\n**this will also be a lesson how we could RETHROW CHECKED EXCEPTION :) with other way than use of sun.misc.Unsafe especially when the class is not available in VM implementation**\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;E extends Throwable&gt; void throwAnyT(Throwable e) throws E {\r\n        throw (E) e;\r\n    }\r\n        \r\n    public static void throwUnchecked(Throwable e) {\r\n        throwAny(e);\r\n        // should never get there.\r\n        throw new InternalError();\r\n    }\r\n\r\n    public static void crash() {\r\n        throwUnchecked(new java.io.IOException(&quot;simulated crash&quot;));\r\n    }\r\n\r\n\r\nin addition to @audric answer:\r\n\r\n&gt; &quot;You can&#39;t throw null&quot;\r\n\r\n**yes you can :) it&#39;s exactly what you are doing in your example** and yes it could get undetectable if the catch block will not use Throwable - the NPX will never be thrown and simply there will be normal flow when code will still execute and yes i&#39;ll have seen this and experienced by myself :) on ANDROID DALVIK   \r\n\r\nand what about..? maybe it could fulfill your needs?\r\n\r\njava specific (also in android): \r\n\r\n    - Runtime.getRuntime().exit(int);\r\n    - System.exit(int);\r\n    - Runtime.getRuntime().halt(int);\r\n\r\nandroid specific: \r\n\r\n    - android.os.Process.killProcess(int);\r\n    - android.os.Process.killProcessQuiet(int);\r\n    - android.os.Process.sendSignal(int,int);\r\n    - android.system.Os.kill(int);\r\n\r\n","title":"How to crash an Android app programmatically?","body":"<p>in addition to @vinnet-shukla answer:</p>\n\n<blockquote>\n  <p>\"OR simply throw an uncaught exception\"</p>\n</blockquote>\n\n<p><strong>throwing uncaught exception to do a crash is bad idea</strong> as the exception could by caught somwhere higher in the stack - especially when whe don't know where we are right now :)</p>\n\n<p><strong>more ellegant way is to use ERROR</strong> </p>\n\n<p>An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions. The ThreadDeath error, though a \"normal\" condition, is also a subclass of Error because most applications should not try to catch it.</p>\n\n<p>so we could make our own Error subclass and use it:</p>\n\n<pre><code>/*\n * usage:\n * \n *   CrashError.doCrash(); \n *\n */\npublic class CrashError extends Error {\n\n    public CrashError() { \n        this(\"simulated crash\");\n    }\n\n    public CrashError(String msg) {\n        super(msg);\n    }\n\n    public static void doCrash() {\n        throw new CrashError();\n    }\n\n}\n</code></pre>\n\n<p><strong>but if we talk about other possibilities we could also a throw checked exception :)</strong> </p>\n\n<p><strong>this will also be a lesson how we could RETHROW CHECKED EXCEPTION :) with other way than use of sun.misc.Unsafe especially when the class is not available in VM implementation</strong></p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;E extends Throwable&gt; void throwAnyT(Throwable e) throws E {\n    throw (E) e;\n}\n\npublic static void throwUnchecked(Throwable e) {\n    throwAny(e);\n    // should never get there.\n    throw new InternalError();\n}\n\npublic static void crash() {\n    throwUnchecked(new java.io.IOException(\"simulated crash\"));\n}\n</code></pre>\n\n<p>in addition to @audric answer:</p>\n\n<blockquote>\n  <p>\"You can't throw null\"</p>\n</blockquote>\n\n<p><strong>yes you can :) it's exactly what you are doing in your example</strong> and yes it could get undetectable if the catch block will not use Throwable - the NPX will never be thrown and simply there will be normal flow when code will still execute and yes i'll have seen this and experienced by myself :) on ANDROID DALVIK   </p>\n\n<p>and what about..? maybe it could fulfill your needs?</p>\n\n<p>java specific (also in android): </p>\n\n<pre><code>- Runtime.getRuntime().exit(int);\n- System.exit(int);\n- Runtime.getRuntime().halt(int);\n</code></pre>\n\n<p>android specific: </p>\n\n<pre><code>- android.os.Process.killProcess(int);\n- android.os.Process.killProcessQuiet(int);\n- android.os.Process.sendSignal(int,int);\n- android.system.Os.kill(int);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4161868,"reputation":16414,"user_id":3411787,"accept_rate":72,"display_name":"Mohammad Zaid - LushBinary.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603373941,"creation_date":1603373941,"answer_id":64483515,"question_id":11807354,"body_markdown":"Force crash after some delay like this,\r\n\r\n    new android.os.Handler().postDelayed(\r\n                  new Runnable() {\r\n                      public void run() {\r\n                          Log.i(&quot;tag&quot;, &quot;This&#39;ll run 10 seconds later&quot;);\r\n                          throw new RuntimeException(&quot;This is a crash&quot;);\r\n                      }\r\n                  },\r\n                  10000);\r\n\r\n[Ref-1](https://stackoverflow.com/a/11807360/3411787) &amp; [Ref-2](https://stackoverflow.com/a/18381353/3411787)","title":"How to crash an Android app programmatically?","body":"<p>Force crash after some delay like this,</p>\n<pre><code>new android.os.Handler().postDelayed(\n              new Runnable() {\n                  public void run() {\n                      Log.i(&quot;tag&quot;, &quot;This'll run 10 seconds later&quot;);\n                      throw new RuntimeException(&quot;This is a crash&quot;);\n                  }\n              },\n              10000);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/11807360/3411787\">Ref-1</a> &amp; <a href=\"https://stackoverflow.com/a/18381353/3411787\">Ref-2</a></p>\n"},{"tags":[],"owner":{"account_id":8617013,"reputation":199,"user_id":6453466,"display_name":"Prateek"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1605021510,"creation_date":1605005309,"answer_id":64767436,"question_id":11807354,"body_markdown":"If you are using firebase crashlytics, then there is a very easy way to do this. Mentioned in their document also.\r\n\r\n    val crashlytics = FirebaseCrashlytics.getInstance()\r\n    crashlytics.log(&quot;my message&quot;)\r\n\r\n","title":"How to crash an Android app programmatically?","body":"<p>If you are using firebase crashlytics, then there is a very easy way to do this. Mentioned in their document also.</p>\n<pre><code>val crashlytics = FirebaseCrashlytics.getInstance()\ncrashlytics.log(&quot;my message&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19369351,"reputation":180,"user_id":14162959,"display_name":"Crebain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610269702,"creation_date":1610268439,"answer_id":65651498,"question_id":11807354,"body_markdown":"For kotlin: \r\n\r\n    val test = (&quot;0&quot;)\r\n    println(test[1])\r\n","title":"How to crash an Android app programmatically?","body":"<p>For kotlin:</p>\n<pre><code>val test = (&quot;0&quot;)\nprintln(test[1])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5770723,"reputation":1660,"user_id":4554237,"display_name":"Rohit Jagtap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620213440,"creation_date":1620213440,"answer_id":67400239,"question_id":11807354,"body_markdown":"You can crash the application simply with this line of code.\r\n\r\n    throw new RuntimeException(&quot;Test Crash&quot;); // Force a crash\r\n\r\nYou can pass the message, in this case &quot;Test Crash&quot;, which can be useful later to refer.\r\n\r\n**One step ahead,**\r\nMake sure none of your application&#39;s class files implement UncaughtExceptionHandler interface as below,\r\n\r\n    public class MyApplication extends Application implements Thread.UncaughtExceptionHandler{\r\n\r\nOtherwise the above exception or any exception for that matter, would be caught/consumed by that class, resulting in not crashing the app. However, you can get hold of that exception in uncaughtException(Thread t, Throwable e) method as below and take the required action. In your case, you&#39;d be reporting it to the Acra using their supported SDK methods.\r\n\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        Log.e(&quot;MyApplication&quot;, &quot;Error&quot;, e);\r\n    }","title":"How to crash an Android app programmatically?","body":"<p>You can crash the application simply with this line of code.</p>\n<pre><code>throw new RuntimeException(&quot;Test Crash&quot;); // Force a crash\n</code></pre>\n<p>You can pass the message, in this case &quot;Test Crash&quot;, which can be useful later to refer.</p>\n<p><strong>One step ahead,</strong>\nMake sure none of your application's class files implement UncaughtExceptionHandler interface as below,</p>\n<pre><code>public class MyApplication extends Application implements Thread.UncaughtExceptionHandler{\n</code></pre>\n<p>Otherwise the above exception or any exception for that matter, would be caught/consumed by that class, resulting in not crashing the app. However, you can get hold of that exception in uncaughtException(Thread t, Throwable e) method as below and take the required action. In your case, you'd be reporting it to the Acra using their supported SDK methods.</p>\n<pre><code>@Override\npublic void uncaughtException(Thread t, Throwable e) {\n    Log.e(&quot;MyApplication&quot;, &quot;Error&quot;, e);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2384775,"reputation":376,"user_id":2085969,"display_name":"Deepak Ganachari"},"score":0,"creation_date":1683887540,"post_id":71581655,"comment_id":134438785,"body_markdown":"Good for testing. it works","body":"Good for testing. it works"}],"tags":[],"owner":{"account_id":1240942,"reputation":12883,"user_id":1203565,"accept_rate":56,"display_name":"Vihaan Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648135195,"creation_date":1648007921,"answer_id":71581655,"question_id":11807354,"body_markdown":"You can use activity manager to crash the app with no code changes\r\n\r\n    adb shell am crash &lt;packagename&gt;","title":"How to crash an Android app programmatically?","body":"<p>You can use activity manager to crash the app with no code changes</p>\n<pre><code>adb shell am crash &lt;packagename&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4906708,"reputation":1169,"user_id":5526322,"accept_rate":78,"display_name":"Alan Nelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684793651,"creation_date":1684793651,"answer_id":76310209,"question_id":11807354,"body_markdown":"I couldn&#39;t throw an exception because the compiler wouldn&#39;t let me unless I was catching it somewhere!\r\n\r\nDo this instead:\r\n\r\n        if (1 == 1 ) {\r\n            throw new RuntimeException(&quot;This is a crash&quot;);\r\n        }","title":"How to crash an Android app programmatically?","body":"<p>I couldn't throw an exception because the compiler wouldn't let me unless I was catching it somewhere!</p>\n<p>Do this instead:</p>\n<pre><code>    if (1 == 1 ) {\n        throw new RuntimeException(&quot;This is a crash&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2211738,"reputation":1514,"user_id":3793506,"display_name":"Rabindra Khadka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687522908,"creation_date":1687522908,"answer_id":76540079,"question_id":11807354,"body_markdown":"This code will add a button on your view and when clicked it will crash application. \r\n\r\n    val crashButton = Button(this)\r\n    crashButton.text = &quot;Test Crash&quot;\r\n    crashButton.setOnClickListener {\r\n       throw RuntimeException(&quot;This is a Test Crash&quot;)\r\n    }\r\n    addContentView(crashButton, ViewGroup.LayoutParams(\r\n    ViewGroup.LayoutParams.MATCH_PARENT,\r\n    ViewGroup.LayoutParams.WRAP_CONTENT))","title":"How to crash an Android app programmatically?","body":"<p>This code will add a button on your view and when clicked it will crash application.</p>\n<pre><code>val crashButton = Button(this)\ncrashButton.text = &quot;Test Crash&quot;\ncrashButton.setOnClickListener {\n   throw RuntimeException(&quot;This is a Test Crash&quot;)\n}\naddContentView(crashButton, ViewGroup.LayoutParams(\nViewGroup.LayoutParams.MATCH_PARENT,\nViewGroup.LayoutParams.WRAP_CONTENT))\n</code></pre>\n"}],"owner":{"account_id":151407,"reputation":19295,"user_id":365256,"accept_rate":76,"display_name":"Howard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52093,"favorite_count":0,"down_vote_count":6,"up_vote_count":59,"accepted_answer_id":11807360,"answer_count":17,"score":53,"last_activity_date":1687522908,"creation_date":1344071417,"question_id":11807354,"body_markdown":"I want to test out crash report using [`acra`][1] but the first step is I need to simulate a fatal crash in Android using code.\r\n\r\nAny idea?\r\n\r\n\r\n  [1]: http://code.google.com/p/acra","title":"How to crash an Android app programmatically?","body":"<p>I want to test out crash report using <a href=\"http://code.google.com/p/acra\"><code>acra</code></a> but the first step is I need to simulate a fatal crash in Android using code.</p>\n\n<p>Any idea?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1687522263,"post_id":76539194,"comment_id":134952435,"body_markdown":"I guess this may lead you to a solution https://stackoverflow.com/questions/69939935/gradle-upgrade-7-2-7-3-breaks-with-the-value-for-this-property-is-final-and-c","body":"I guess this may lead you to a solution <a href=\"https://stackoverflow.com/questions/69939935/gradle-upgrade-7-2-7-3-breaks-with-the-value-for-this-property-is-final-and-c\" title=\"gradle upgrade 7 2 7 3 breaks with the value for this property is final and c\">stackoverflow.com/questions/69939935/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15881203,"reputation":64,"user_id":11458910,"display_name":"TdrFlp"},"score":0,"creation_date":1687771819,"post_id":76540065,"comment_id":134978143,"body_markdown":"My setting is a multi-project build, though. That&#39;s probably the issue then. I&#39;ll try again from the top-level project (which is just a placeholder)","body":"My setting is a multi-project build, though. That&#39;s probably the issue then. I&#39;ll try again from the top-level project (which is just a placeholder)"}],"tags":[],"owner":{"account_id":14593176,"reputation":115,"user_id":10539722,"display_name":"3AKOBAH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687522807,"creation_date":1687522807,"answer_id":76540065,"question_id":76539194,"body_markdown":"I have:\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 8.1.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2023-04-21 12:31:26 UTC\r\n    Revision:     1cf537a851c635c364a4214885f8b9798051175b\r\n    \r\n    Kotlin:       1.8.10\r\n    Groovy:       3.0.15\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          11.0.12 (Azul Systems, Inc. 11.0.12+7-LTS)\r\n    OS:           Windows 10 10.0 amd64\r\n\r\nI tried your snippet with the following build.gradle and the build was &#39;Success&#39;:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;org.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n","title":"Gradle 8: How to set java version at runtime","body":"<p>I have:</p>\n<pre><code>------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          11.0.12 (Azul Systems, Inc. 11.0.12+7-LTS)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>I tried your snippet with the following build.gradle and the build was 'Success':</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(11)\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":15881203,"reputation":64,"user_id":11458910,"display_name":"TdrFlp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687522807,"creation_date":1687515758,"question_id":76539194,"body_markdown":"Until Gradle 7, I could use the following block in my build script to trigger Gradle to use a specific Java version independently of my runtime JDK (in this case, java11):\r\n\r\n```\r\njava {\r\n    toolchain {\r\n            languageVersion = JavaLanguageVersion.of(11)\r\n    }\r\n}\r\n```\r\n\r\nAnd thanks to this block, I could compile my project even with `org.gradle.java.home` pointing at my jdk17 path.\r\n\r\nAfter upgrading to Gradle 8.1.1, I get this error message:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\dev\\workspace\\foo\\bar\\build.gradle&#39; line: 25\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:baz&#39;.\r\n&gt; The value for property &#39;languageVersion&#39; is final and cannot be changed any further.\r\n```\r\n\r\nTo make matters worse, the [official Gradle documentation](https://docs.gradle.org/current/userguide/building_java_projects.html) suggests to use my exact snippet to solve this problem, which obviously doesn&#39;t work.\r\n\r\nI couldn&#39;t find any working code snippets apart from setting &#180;java.sourceCompatibility = JavaVersion.VERSION_11&#180;, which doesn&#39;t allow me to compile without first changing `org.gradle.java.home` to point at my jdk11.","title":"Gradle 8: How to set java version at runtime","body":"<p>Until Gradle 7, I could use the following block in my build script to trigger Gradle to use a specific Java version independently of my runtime JDK (in this case, java11):</p>\n<pre><code>java {\n    toolchain {\n            languageVersion = JavaLanguageVersion.of(11)\n    }\n}\n</code></pre>\n<p>And thanks to this block, I could compile my project even with <code>org.gradle.java.home</code> pointing at my jdk17 path.</p>\n<p>After upgrading to Gradle 8.1.1, I get this error message:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\dev\\workspace\\foo\\bar\\build.gradle' line: 25\n\n* What went wrong:\nA problem occurred evaluating project ':baz'.\n&gt; The value for property 'languageVersion' is final and cannot be changed any further.\n</code></pre>\n<p>To make matters worse, the <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html\" rel=\"nofollow noreferrer\">official Gradle documentation</a> suggests to use my exact snippet to solve this problem, which obviously doesn't work.</p>\n<p>I couldn't find any working code snippets apart from setting java.sourceCompatibility = JavaVersion.VERSION_11, which doesn't allow me to compile without first changing <code>org.gradle.java.home</code> to point at my jdk11.</p>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1687521164,"post_id":76539777,"comment_id":134952190,"body_markdown":"https://stackoverflow.com/questions/53263086/how-to-hide-a-request-field-in-swagger-api","body":"<a href=\"https://stackoverflow.com/questions/53263086/how-to-hide-a-request-field-in-swagger-api\" title=\"how to hide a request field in swagger api\">stackoverflow.com/questions/53263086/&hellip;</a>"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1687522368,"post_id":76539777,"comment_id":134952467,"body_markdown":"@cool  how to set APIModelProperty(hidden = true) for that field in yaml?","body":"@cool  how to set APIModelProperty(hidden = true) for that field in yaml?"},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1687522754,"post_id":76539777,"comment_id":134952556,"body_markdown":"it looks like I misunderstood your question. When you say you want to hide that field from response do you mean when the value is not provided don&#39;t send it? If so you should set this annotation on the field @JsonInclude(JsonInclude.Include.NON_NULL)","body":"it looks like I misunderstood your question. When you say you want to hide that field from response do you mean when the value is not provided don&#39;t send it? If so you should set this annotation on the field @JsonInclude(JsonInclude.Include.NON_NULL)"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1687524904,"post_id":76539777,"comment_id":134953059,"body_markdown":"@cool  tried like this x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_NULL)&quot; but getting compilation error saying Include does not exist. Library also there.","body":"@cool  tried like this x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.I&zwnj;&#8203;nclude.NON_NULL)&quot; but getting compilation error saying Include does not exist. Library also there."},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":1,"creation_date":1687530649,"post_id":76539777,"comment_id":134954530,"body_markdown":"try this x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_NULL)&quot;","body":"try this x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml&zwnj;&#8203;.jackson.annotation.&zwnj;&#8203;JsonInclude.Include.&zwnj;&#8203;NON_NULL)&quot;"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1687590413,"post_id":76539777,"comment_id":134960996,"body_markdown":"@cool It worked.. thanks..","body":"@cool It worked.. thanks.."}],"answers":[{"comments":[{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1687522697,"post_id":76540039,"comment_id":134952545,"body_markdown":"I&#39;m generating java class from yaml. Can you suggest how to set value for that field in yaml","body":"I&#39;m generating java class from yaml. Can you suggest how to set value for that field in yaml"},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1687523717,"post_id":76540039,"comment_id":134952793,"body_markdown":"can you please share your yaml file here??","body":"can you please share your yaml file here??"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1687524629,"post_id":76540039,"comment_id":134952996,"body_markdown":"```ResponseDTO:\n  type: object\n  properties:  \n     emp:\n      type: object\n      properties:\n        id:\n          type : string\n        name:\n          type: string\n          x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot; ```","body":"<code>ResponseDTO:   type: object   properties:        emp:       type: object       properties:         id:           type : string         name:           type: string           x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot; </code>"}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687522566,"creation_date":1687522566,"answer_id":76540039,"question_id":76539777,"body_markdown":"        \r\n\r\nCreate a Views class and create two views  Public and Private:\r\n        \r\n        public class Views {\r\n            public static class Public {}\r\n        \r\n            public static class Private {}\r\n        }\r\n\r\nafter that annoted name field with @JsonView like below.\r\n        \r\n        @JsonView(Views.Private.class)\r\n        private String name;\r\n    \r\nI think it&#39;s work fine for you.","title":"hide or ignore json property in yaml","body":"<p>Create a Views class and create two views  Public and Private:</p>\n<pre><code>    public class Views {\n        public static class Public {}\n    \n        public static class Private {}\n    }\n</code></pre>\n<p>after that annoted name field with @JsonView like below.</p>\n<pre><code>    @JsonView(Views.Private.class)\n    private String name;\n</code></pre>\n<p>I think it's work fine for you.</p>\n"}],"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687522566,"creation_date":1687520632,"question_id":76539777,"body_markdown":"i am using open api generator for request and response objects generation. I  want to hide/ignore the json field from yaml. So i have tried by using this config in yaml-&gt; ```x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot; or import io.swagger.v3.oas.annotations.Hidden```. Below is the generated code \r\n```public class Test {\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    @JsonIgnore\r\n    private String name;\r\n```\r\n and for Hidden \r\n``` public class Test {\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    @Hidden\r\n    private String name;\r\n``` \r\n But i can see name in response. Please suggest how to ignore or hide the name field from response.\r\n\r\n","title":"hide or ignore json property in yaml","body":"<p>i am using open api generator for request and response objects generation. I  want to hide/ignore the json field from yaml. So i have tried by using this config in yaml-&gt; <code>x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonIgnore&quot; or import io.swagger.v3.oas.annotations.Hidden</code>. Below is the generated code</p>\n<pre><code>    @JsonProperty(&quot;id&quot;)\n    private String id;\n    @JsonProperty(&quot;name&quot;)\n    @JsonIgnore\n    private String name;\n</code></pre>\n<p>and for Hidden</p>\n<pre><code>    @JsonProperty(&quot;id&quot;)\n    private String id;\n    @JsonProperty(&quot;name&quot;)\n    @Hidden\n    private String name;\n</code></pre>\n<p>But i can see name in response. Please suggest how to ignore or hide the name field from response.</p>\n"},{"tags":["java","spring","sftp","jsch","apache-vfs"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687258731,"post_id":76513526,"comment_id":134908375,"body_markdown":"Setting keyexchange algorithm to ssh-dss is nonsense because **ssh-dss is not a keyexchange algorithm**; _no_ connection using your code can ever succeed. ssh-dss is a _signature_ algorithm, in this case used for the host, or as OpenSSH says &#39;HostkeyAlgorithm&#39;; Jsch calls it `server_host_key` and vfs/sftp doesn&#39;t appear to have a way to configure it, but you shouldn&#39;t need to because jsch 0.1.55 default includes it. (OpenSSH dropped it from default in 7.0, which is why you need an option on commandline `sftp` -- if the server is actually using it; have you confirmed that?)","body":"Setting keyexchange algorithm to ssh-dss is nonsense because <b>ssh-dss is not a keyexchange algorithm</b>; <i>no</i> connection using your code can ever succeed. ssh-dss is a <i>signature</i> algorithm, in this case used for the host, or as OpenSSH says &#39;HostkeyAlgorithm&#39;; Jsch calls it <code>server_host_key</code> and vfs/sftp doesn&#39;t appear to have a way to configure it, but you shouldn&#39;t need to because jsch 0.1.55 default includes it. (OpenSSH dropped it from default in 7.0, which is why you need an option on commandline <code>sftp</code> -- if the server is actually using it; have you confirmed that?)"},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":0,"creation_date":1687260105,"post_id":76513526,"comment_id":134908693,"body_markdown":"Yes, the server is using it as far as I know. I tried with the default configuration without success, thus adding the line you mentioned. I&#39;m considering using jsch directly, which works fine, but needs more lines of code.","body":"Yes, the server is using it as far as I know. I tried with the default configuration without success, thus adding the line you mentioned. I&#39;m considering using jsch directly, which works fine, but needs more lines of code."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687261670,"post_id":76513526,"comment_id":134909042,"body_markdown":"There are dozens of recent questions here about *&quot;Algorithm negotiation fail&quot;* problems with JSch already. What research did you do?","body":"There are dozens of recent questions here about <i>&quot;Algorithm negotiation fail&quot;</i> problems with JSch already. What research did you do?"},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":0,"creation_date":1687274518,"post_id":76513526,"comment_id":134912188,"body_markdown":"@MartinPrikryl That&#39;s what I&#39;ve seen, but as I said all I could find was about jsch, not apache vfs","body":"@MartinPrikryl That&#39;s what I&#39;ve seen, but as I said all I could find was about jsch, not apache vfs"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1687314935,"post_id":76513526,"comment_id":134917936,"body_markdown":"Can you get a log showing the problem? Per [the source](https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpClientFactory.java#L53) vfs hooks up Jsch logging to commons-logging, so you should be able to just enable logging on that class.","body":"Can you get a log showing the problem? Per <a href=\"https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/provider/sftp/SftpClientFactory.java#L53\" rel=\"nofollow noreferrer\">the source</a> vfs hooks up Jsch logging to commons-logging, so you should be able to just enable logging on that class."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687335849,"post_id":76513526,"comment_id":134920908,"body_markdown":"Ok, but have you realized that you likely cannot use original JSch, as it is outdated? Did try testing JSch directly, and its clones that are more up-to-date?","body":"Ok, but have you realized that you likely cannot use original JSch, as it is outdated? Did try testing JSch directly, and its clones that are more up-to-date?"},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":0,"creation_date":1687354107,"post_id":76513526,"comment_id":134924955,"body_markdown":"@MartinPrikryl We try to have as few dependencies as possible, hence the use of the original jsch, as it&#39;s needed anyway for apache vfs to work, is that a problem? It seems to work fine","body":"@MartinPrikryl We try to have as few dependencies as possible, hence the use of the original jsch, as it&#39;s needed anyway for apache vfs to work, is that a problem? It seems to work fine"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687355752,"post_id":76513526,"comment_id":134925403,"body_markdown":"*&quot;Seems to work fine&quot;*??? Doesn&#39;t seem to me.","body":"<i>&quot;Seems to work fine&quot;</i>??? Doesn&#39;t seem to me."},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":0,"creation_date":1687356422,"post_id":76513526,"comment_id":134925585,"body_markdown":"@MartinPrikryl Why not? I&#39;m getting all the files I need using it","body":"@MartinPrikryl Why not? I&#39;m getting all the files I need using it"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1687357718,"post_id":76513526,"comment_id":134925955,"body_markdown":"I do not see you mentioning anywhere, that direct use of JSCh works for you. If it does, post your JSch code, JSch log file and JSch log file from within vfs, if possible.","body":"I do not see you mentioning anywhere, that direct use of JSCh works for you. If it does, post your JSch code, JSch log file and JSch log file from within vfs, if possible."},{"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"score":0,"creation_date":1687358095,"post_id":76513526,"comment_id":134926035,"body_markdown":"@MartinPrikryl _&quot;I&#39;m considering using jsch directly, which works fine, but needs more lines of code.&quot;_ I commented that in an earlier comment, maybe I wasn&#39;t clear enough. Right now, using just jsch, everything works as expected, however using vfs reduces the amount of code. Added my current code at the end of the question","body":"@MartinPrikryl <i>&quot;I&#39;m considering using jsch directly, which works fine, but needs more lines of code.&quot;</i> I commented that in an earlier comment, maybe I wasn&#39;t clear enough. Right now, using just jsch, everything works as expected, however using vfs reduces the amount of code. Added my current code at the end of the question"}],"answers":[{"tags":[],"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687522281,"creation_date":1687522281,"answer_id":76540004,"question_id":76513526,"body_markdown":"Given that I couldn&#39;t find a better approach, the cose that worked for me is as follows:\r\n\r\nI ended up using just jsch to create the connection and download the files I need, using the following methods:\r\n```\r\npublic void downloadFile(String originFilePath, String destinationFilePath) throws IOException {\r\n        try {\r\n            final Session session = createSessionAndConnect();\r\n            ChannelSftp sftpChannel = getJSCHConnectionChannel(session);\r\n\r\n            sftpChannel.get(originFilePath, destinationFilePath);\r\n\r\n            closeJSCHConnectionChannel(sftpChannel, session);\r\n        } catch (JSchException | SftpException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n```\r\nprivate Session createSessionAndConnect() throws JSchException {\r\n        JSch jsch = new JSch();\r\n        Session session = null;\r\n\r\n        session = jsch.getSession(getUser(), getIp(), 22);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;); // Is this fine?\r\n        session.setPassword(getPassword());\r\n        session.connect();\r\n\r\n        return session;\r\n    }\r\n```\r\n```\r\nprivate ChannelSftp getJSCHConnectionChannel(Session session) throws JSchException {\r\n        Channel channel = session.openChannel(&quot;sftp&quot;);\r\n        channel.connect();\r\n        return (ChannelSftp) channel;\r\n    }\r\n```\r\n```\r\nprivate void closeJSCHConnectionChannel(final ChannelSftp sftpChannel, final Session session) {\r\n        sftpChannel.exit();\r\n        session.disconnect();\r\n    }\r\n```","title":"Apache vfs/jsch sftp Algorithm negotiation fail","body":"<p>Given that I couldn't find a better approach, the cose that worked for me is as follows:</p>\n<p>I ended up using just jsch to create the connection and download the files I need, using the following methods:</p>\n<pre><code>public void downloadFile(String originFilePath, String destinationFilePath) throws IOException {\n        try {\n            final Session session = createSessionAndConnect();\n            ChannelSftp sftpChannel = getJSCHConnectionChannel(session);\n\n            sftpChannel.get(originFilePath, destinationFilePath);\n\n            closeJSCHConnectionChannel(sftpChannel, session);\n        } catch (JSchException | SftpException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>private Session createSessionAndConnect() throws JSchException {\n        JSch jsch = new JSch();\n        Session session = null;\n\n        session = jsch.getSession(getUser(), getIp(), 22);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;); // Is this fine?\n        session.setPassword(getPassword());\n        session.connect();\n\n        return session;\n    }\n</code></pre>\n<pre><code>private ChannelSftp getJSCHConnectionChannel(Session session) throws JSchException {\n        Channel channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        return (ChannelSftp) channel;\n    }\n</code></pre>\n<pre><code>private void closeJSCHConnectionChannel(final ChannelSftp sftpChannel, final Session session) {\n        sftpChannel.exit();\n        session.disconnect();\n    }\n</code></pre>\n"}],"owner":{"account_id":20078422,"reputation":21,"user_id":14721638,"display_name":"StzEZ"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687522281,"creation_date":1687255172,"question_id":76513526,"body_markdown":"I&#39;m trying to connect to a sftp server, which I connect to via commands using ```sftp -oHostKeyAlgorithms=+ssh-dss user@host```. However, when I try to connect via my java-spring application, using apache vfs, I get the following exception:\r\n```\r\nERROR] 20/06/2023 11:50:13.333 [http-nio-8080-exec-1]  o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at &quot;sftp://user:***@host/&quot;.] with root cause\r\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\r\n```\r\nMy file download method looks like this:\r\n```\r\npublic void downloadFile(final String originFilePath, final String destinationFilePath) throws IOException {\r\n        try (final StandardFileSystemManager manager = new StandardFileSystemManager()) {\r\n            manager.init();\r\n            final FileObject remoteFile = manager.resolveFile(getConnectionWithPath(originFilePath), createDefaultOptions());\r\n            manager.resolveFile(destinationFilePath).copyFrom(remoteFile, Selectors.SELECT_SELF);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nThe getConnectionWithPath(originFilePath) looks like this (the getX() methods retrieve the value from my properties file):\r\n```\r\npublic String getConnectionWithPath(final String remoteFilePath) {\r\n        return &quot;sftp://&quot; + getUser() + &quot;:&quot; + getPassword() + &quot;@&quot; + getIp() + &quot;/&quot; + remoteFilePath;\r\n    }\r\n```\r\nAnd finally, my createDefaultOptions() method:\r\n```\r\npublic static FileSystemOptions createDefaultOptions() throws FileSystemException {\r\n        FileSystemOptions opts = new FileSystemOptions();\r\n\r\n        SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, false);\r\n        SftpFileSystemConfigBuilder.getInstance().setKeyExchangeAlgorithm(opts, &quot;ssh-dss&quot;);\r\n        SftpFileSystemConfigBuilder.getInstance().setDisableDetectExecChannel(opts, true);\r\n\r\n        return opts;\r\n    }\r\n```\r\n\r\nI&#39;m using jsch 0.1.55 and apache vfs 2.9.0\r\n\r\nAfter trying many approaches, I ended up using just jsch to create the connection and download the files I need, using the following methods:\r\n\r\n```\r\npublic void downloadFile(String originFilePath, String destinationFilePath) throws IOException {\r\n        try {\r\n            final Session session = createSessionAndConnect();\r\n            ChannelSftp sftpChannel = getJSCHConnectionChannel(session);\r\n\r\n            sftpChannel.get(originFilePath, destinationFilePath);\r\n\r\n            closeJSCHConnectionChannel(sftpChannel, session);\r\n        } catch (JSchException | SftpException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n```\r\nprivate Session createSessionAndConnect() throws JSchException {\r\n        JSch jsch = new JSch();\r\n        Session session = null;\r\n\r\n        session = jsch.getSession(getUser(), getIp(), 22);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;); // Is this fine?\r\n        session.setPassword(getPassword());\r\n        session.connect();\r\n\r\n        return session;\r\n    }\r\n```\r\n```\r\nprivate ChannelSftp getJSCHConnectionChannel(Session session) throws JSchException {\r\n        Channel channel = session.openChannel(&quot;sftp&quot;);\r\n        channel.connect();\r\n        return (ChannelSftp) channel;\r\n    }\r\n```\r\n```\r\nprivate void closeJSCHConnectionChannel(final ChannelSftp sftpChannel, final Session session) {\r\n        sftpChannel.exit();\r\n        session.disconnect();\r\n    }\r\n```","title":"Apache vfs/jsch sftp Algorithm negotiation fail","body":"<p>I'm trying to connect to a sftp server, which I connect to via commands using <code>sftp -oHostKeyAlgorithms=+ssh-dss user@host</code>. However, when I try to connect via my java-spring application, using apache vfs, I get the following exception:</p>\n<pre><code>ERROR] 20/06/2023 11:50:13.333 [http-nio-8080-exec-1]  o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: org.apache.commons.vfs2.FileSystemException: Could not connect to SFTP server at &quot;sftp://user:***@host/&quot;.] with root cause\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\n</code></pre>\n<p>My file download method looks like this:</p>\n<pre><code>public void downloadFile(final String originFilePath, final String destinationFilePath) throws IOException {\n        try (final StandardFileSystemManager manager = new StandardFileSystemManager()) {\n            manager.init();\n            final FileObject remoteFile = manager.resolveFile(getConnectionWithPath(originFilePath), createDefaultOptions());\n            manager.resolveFile(destinationFilePath).copyFrom(remoteFile, Selectors.SELECT_SELF);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>The getConnectionWithPath(originFilePath) looks like this (the getX() methods retrieve the value from my properties file):</p>\n<pre><code>public String getConnectionWithPath(final String remoteFilePath) {\n        return &quot;sftp://&quot; + getUser() + &quot;:&quot; + getPassword() + &quot;@&quot; + getIp() + &quot;/&quot; + remoteFilePath;\n    }\n</code></pre>\n<p>And finally, my createDefaultOptions() method:</p>\n<pre><code>public static FileSystemOptions createDefaultOptions() throws FileSystemException {\n        FileSystemOptions opts = new FileSystemOptions();\n\n        SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, false);\n        SftpFileSystemConfigBuilder.getInstance().setKeyExchangeAlgorithm(opts, &quot;ssh-dss&quot;);\n        SftpFileSystemConfigBuilder.getInstance().setDisableDetectExecChannel(opts, true);\n\n        return opts;\n    }\n</code></pre>\n<p>I'm using jsch 0.1.55 and apache vfs 2.9.0</p>\n<p>After trying many approaches, I ended up using just jsch to create the connection and download the files I need, using the following methods:</p>\n<pre><code>public void downloadFile(String originFilePath, String destinationFilePath) throws IOException {\n        try {\n            final Session session = createSessionAndConnect();\n            ChannelSftp sftpChannel = getJSCHConnectionChannel(session);\n\n            sftpChannel.get(originFilePath, destinationFilePath);\n\n            closeJSCHConnectionChannel(sftpChannel, session);\n        } catch (JSchException | SftpException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>private Session createSessionAndConnect() throws JSchException {\n        JSch jsch = new JSch();\n        Session session = null;\n\n        session = jsch.getSession(getUser(), getIp(), 22);\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;); // Is this fine?\n        session.setPassword(getPassword());\n        session.connect();\n\n        return session;\n    }\n</code></pre>\n<pre><code>private ChannelSftp getJSCHConnectionChannel(Session session) throws JSchException {\n        Channel channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        return (ChannelSftp) channel;\n    }\n</code></pre>\n<pre><code>private void closeJSCHConnectionChannel(final ChannelSftp sftpChannel, final Session session) {\n        sftpChannel.exit();\n        session.disconnect();\n    }\n</code></pre>\n"},{"tags":["java","junit","vert.x","powermockito"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687522269,"creation_date":1687522269,"answer_id":76540000,"question_id":76539923,"body_markdown":"I would advise that you refactor this code.  \r\n\r\nYou&#39;ve embedded all your data access code inside Vertx.  You cannot test it without Vertx.  The coupling is not a good idea.\r\n\r\nA better idea would be to start with an interface for your repository and implement it as a Plain Old Java Object (POJO), without any reference to Vertx.  \r\n\r\nYou can test your POJO repository without Vertx that way.  \r\n\r\nOnce it&#39;s running perfectly you can give an instance to Vertx controller and let it interact with the database through the POJO.\r\n\r\nIt&#39;s an idea called dependency injection.  Frameworks like Spring Boot can make this easy for you, but it&#39;s also possible to do without a framework.  Instantiate an instance of the repository POJO and give it to the Vertx controller in its constructor.  The repository POJO is now a private data member in the Vertx controller.\r\n\r\nIf you were to decide to switch from Vertx to an AWS lambda, your POJO repository doesn&#39;t have to change.  You can inject it into the lambda without change.\r\n","title":"How to write test case using vertx for db class?","body":"<p>I would advise that you refactor this code.</p>\n<p>You've embedded all your data access code inside Vertx.  You cannot test it without Vertx.  The coupling is not a good idea.</p>\n<p>A better idea would be to start with an interface for your repository and implement it as a Plain Old Java Object (POJO), without any reference to Vertx.</p>\n<p>You can test your POJO repository without Vertx that way.</p>\n<p>Once it's running perfectly you can give an instance to Vertx controller and let it interact with the database through the POJO.</p>\n<p>It's an idea called dependency injection.  Frameworks like Spring Boot can make this easy for you, but it's also possible to do without a framework.  Instantiate an instance of the repository POJO and give it to the Vertx controller in its constructor.  The repository POJO is now a private data member in the Vertx controller.</p>\n<p>If you were to decide to switch from Vertx to an AWS lambda, your POJO repository doesn't have to change.  You can inject it into the lambda without change.</p>\n"}],"owner":{"account_id":27862245,"reputation":1,"user_id":21274507,"display_name":"Kalpani Athukorala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687522269,"creation_date":1687521724,"question_id":76539923,"body_markdown":"Below is my written code. I want to write test cases using powermokito for db class.\r\n\r\nI expect to write test cases for below vertx related classess using junit powermokito to cover 80% coverage. I tried different ways to mock db its not working here. How I write test case for below code? Below code include db verticle and http server verticle. \r\n\r\n```\r\npublic class EmployeeDBVerticle extends AbstractVerticle {\r\n\r\n  private JDBCPool jdbcpool;\r\n\r\n  @Override\r\n  public void start() throws Exception {\r\n    JsonObject jsonObject = new JsonObject();\r\n    jsonObject.put(&quot;url&quot;, &quot;jdbc:mysql://localhost:3306/employee&quot;);\r\n    jsonObject.put(&quot;driver_class&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    jsonObject.put(&quot;max_pool_size&quot;, 30);\r\n    jsonObject.put(&quot;user&quot;, &quot;root&quot;);\r\n    jsonObject.put(&quot;password&quot;,&quot;root&quot;);\r\n    jdbcpool = JDBCPool.pool(vertx,jsonObject);\r\n\r\n    vertx.eventBus().consumer(EventBusAddresses.ADDRESS_SAVE, message -&gt; {\r\n    JsonObject student = (JsonObject) message.body();\r\n    saveStudent(student)\r\n      .onSuccess(success-&gt;{\r\n        message.reply(success);\r\n      }).onFailure(throwable -&gt; {\r\n        message.fail(HttpResponseStatus.INTERNAL_SERVER_ERROR.code(), &quot;Error while saving&quot;);\r\n      });\r\n    });\r\n  }\r\n\r\n  public Future&lt;String&gt; saveStudent(JsonObject student){\r\n    Promise&lt;String&gt; promise = Promise.promise();\r\n    String id = student.getString(&quot;id&quot;);\r\n    String name = student.getString(&quot;name&quot;);\r\n    jdbcpool.preparedQuery(SQLConstants.INSERT_EMPLOYEE)\r\n      .execute(Tuple.of(id,name))\r\n      .onFailure(throwable -&gt; {\r\n        promise.fail(&quot;Failed&quot;);\r\n      }).onSuccess(rows -&gt; {\r\n        if(rows.rowCount()&gt;0){\r\n          promise.complete(&quot;Data Saved Successfully&quot;);\r\n        }else{\r\n          promise.fail(&quot;Error occurred&quot;);\r\n        }\r\n      });\r\n    return promise.future();\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\npublic class EmployeeHttpVerticle extends AbstractVerticle {\r\n\r\n\r\n\r\n  @Override\r\n  public void start() throws Exception {\r\n    Router router = Router.router(vertx);\r\n    router.route().handler(BodyHandler.create());\r\n    router.route(HttpMethod.POST,&quot;/save/employee&quot;).handler(this::saveStudent);\r\n    vertx.createHttpServer().requestHandler(router).listen(8090);\r\n  }\r\n\r\n  private void saveStudent(RoutingContext routingContext) {\r\n    JsonObject student = routingContext.getBodyAsJson();\r\n    vertx.eventBus().request(EventBusAddresses.ADDRESS_SAVE,student, reply-&gt;{\r\n      if(reply.succeeded()){\r\n        System.out.println(reply.result().body());\r\n        routingContext.response().end((String) reply.result().body());\r\n        callThirdParty(student);\r\n      }else{\r\n        routingContext.response().end(reply.cause().getMessage());\r\n      }\r\n    });\r\n  }\r\n\r\n  public void callThirdParty(JsonObject student){\r\n    vertx.eventBus().request(EventBusAddresses.ADDRESS_SAVE,student);\r\n  }\r\n}\r\n```","title":"How to write test case using vertx for db class?","body":"<p>Below is my written code. I want to write test cases using powermokito for db class.</p>\n<p>I expect to write test cases for below vertx related classess using junit powermokito to cover 80% coverage. I tried different ways to mock db its not working here. How I write test case for below code? Below code include db verticle and http server verticle.</p>\n<pre><code>public class EmployeeDBVerticle extends AbstractVerticle {\n\n  private JDBCPool jdbcpool;\n\n  @Override\n  public void start() throws Exception {\n    JsonObject jsonObject = new JsonObject();\n    jsonObject.put(&quot;url&quot;, &quot;jdbc:mysql://localhost:3306/employee&quot;);\n    jsonObject.put(&quot;driver_class&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\n    jsonObject.put(&quot;max_pool_size&quot;, 30);\n    jsonObject.put(&quot;user&quot;, &quot;root&quot;);\n    jsonObject.put(&quot;password&quot;,&quot;root&quot;);\n    jdbcpool = JDBCPool.pool(vertx,jsonObject);\n\n    vertx.eventBus().consumer(EventBusAddresses.ADDRESS_SAVE, message -&gt; {\n    JsonObject student = (JsonObject) message.body();\n    saveStudent(student)\n      .onSuccess(success-&gt;{\n        message.reply(success);\n      }).onFailure(throwable -&gt; {\n        message.fail(HttpResponseStatus.INTERNAL_SERVER_ERROR.code(), &quot;Error while saving&quot;);\n      });\n    });\n  }\n\n  public Future&lt;String&gt; saveStudent(JsonObject student){\n    Promise&lt;String&gt; promise = Promise.promise();\n    String id = student.getString(&quot;id&quot;);\n    String name = student.getString(&quot;name&quot;);\n    jdbcpool.preparedQuery(SQLConstants.INSERT_EMPLOYEE)\n      .execute(Tuple.of(id,name))\n      .onFailure(throwable -&gt; {\n        promise.fail(&quot;Failed&quot;);\n      }).onSuccess(rows -&gt; {\n        if(rows.rowCount()&gt;0){\n          promise.complete(&quot;Data Saved Successfully&quot;);\n        }else{\n          promise.fail(&quot;Error occurred&quot;);\n        }\n      });\n    return promise.future();\n  }\n}\n\n\n\n\npublic class EmployeeHttpVerticle extends AbstractVerticle {\n\n\n\n  @Override\n  public void start() throws Exception {\n    Router router = Router.router(vertx);\n    router.route().handler(BodyHandler.create());\n    router.route(HttpMethod.POST,&quot;/save/employee&quot;).handler(this::saveStudent);\n    vertx.createHttpServer().requestHandler(router).listen(8090);\n  }\n\n  private void saveStudent(RoutingContext routingContext) {\n    JsonObject student = routingContext.getBodyAsJson();\n    vertx.eventBus().request(EventBusAddresses.ADDRESS_SAVE,student, reply-&gt;{\n      if(reply.succeeded()){\n        System.out.println(reply.result().body());\n        routingContext.response().end((String) reply.result().body());\n        callThirdParty(student);\n      }else{\n        routingContext.response().end(reply.cause().getMessage());\n      }\n    });\n  }\n\n  public void callThirdParty(JsonObject student){\n    vertx.eventBus().request(EventBusAddresses.ADDRESS_SAVE,student);\n  }\n}\n</code></pre>\n"},{"tags":["java","windows","user-interface","jar"],"comments":[{"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisaw"},"score":0,"creation_date":1687508786,"post_id":76538147,"comment_id":134949738,"body_markdown":"Could you go more in detail?","body":"Could you go more in detail?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687515081,"post_id":76538147,"comment_id":134950980,"body_markdown":"Yes, it won&#39;t be responsive for a *long* time. You need to do the download in a separate thread. I recommend the excellently documented [SwingWorker](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html)","body":"Yes, it won&#39;t be responsive for a <i>long</i> time. You need to do the download in a separate thread. I recommend the excellently documented <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>"},{"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisaw"},"score":0,"creation_date":1687516629,"post_id":76538147,"comment_id":134951253,"body_markdown":"@g00se Well I am not asking &quot;about downloading in a separate thread while Downloading&quot;. The issue is that the button does not react to clicking it (anytime). I can click 10 times and nothing happens (no file is downloaded).","body":"@g00se Well I am not asking &quot;about downloading in a separate thread while Downloading&quot;. The issue is that the button does not react to clicking it (anytime). I can click 10 times and nothing happens (no file is downloaded)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687517381,"post_id":76538147,"comment_id":134951390,"body_markdown":"You&#39;re quite welcome to totally reject my comment, but you won&#39;t get it working otherwise (or without another form of separate-thread creation) ;)","body":"You&#39;re quite welcome to totally reject my comment, but you won&#39;t get it working otherwise (or without another form of separate-thread creation) ;)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687520236,"post_id":76538147,"comment_id":134951981,"body_markdown":"What does `getFilePath` do? Ultimately, you will have to do some more debugging to narrow this down to a more specific problem. If you cant reproduce the problem in an IDE, you can run the JAR with remote debugging enabled and connect from the IDE that way. If all else fails, use `System.err.println` statements to log the value of variables to be sure theyre whats expected.","body":"What does <code>getFilePath</code> do? Ultimately, you will have to do some more debugging to narrow this down to a more specific problem. If you cant reproduce the problem in an IDE, you can run the JAR with remote debugging enabled and connect from the IDE that way. If all else fails, use <code>System.err.println</code> statements to log the value of variables to be sure theyre whats expected."},{"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisaw"},"score":0,"creation_date":1687522142,"post_id":76538147,"comment_id":134952413,"body_markdown":"@TimMoore I am sorry I forgot to include it in my original Post.I edited the post and added the getFilePath() method Code Snippet.","body":"@TimMoore I am sorry I forgot to include it in my original Post.I edited the post and added the getFilePath() method Code Snippet."},{"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisaw"},"score":0,"creation_date":1687522360,"post_id":76538147,"comment_id":134952461,"body_markdown":"@g00se I will try that in a moment.","body":"@g00se I will try that in a moment."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687523774,"post_id":76538147,"comment_id":134952811,"body_markdown":"You could even use `SwingWorker.publish()` to send `yt-dlp`&#39;s progress report to the gui, having parsed it out of the output stream. Or you could send the whole output","body":"You could even use <code>SwingWorker.publish()</code> to send <code>yt-dlp</code>&#39;s progress report to the gui, having parsed it out of the output stream. Or you could send the whole output"}],"owner":{"account_id":28240357,"reputation":1,"user_id":21588222,"display_name":"Stanisaw"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687522101,"creation_date":1687507333,"question_id":76538147,"body_markdown":"I am experiencing an issue with a **small GUI Java Application**. The app is a GUI implementation for yt-dlp software which makes it easier for people to download music from Youtube without knowing the terminal syntax of yt-dlp.\r\n\r\nBasically whenever I build the artefacts of my program and try to execute the built **.Jar application** my **&quot;Download&quot; button is unresponsive** (does not take any action in regards to its listener). It only happens while using the app in .Jar (while running the program within the JetBrains Intellij IDE it works as intended -\\&gt; the button reacts and does download the contents). My &quot;Quit&quot; button works as intended (quits the application, both in my IDE and in my .Jar application).\r\n\r\n\\*By unresponsiveness I mean that the program **does not execute its command line statements.**\r\n\r\nThe code of the downloadButton MouseListner then goes to the download(string link, string outputPath) method which downloads the file.\r\n\r\n**downloadButton MouseListener - Code Snippet**\r\n\r\n```\r\n  downloadButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (outputPath.getText().isEmpty() || link.getText().isEmpty()) {\r\n                    // some error handling\r\n                } else {\r\n                    try {\r\n                        download(link.getText(), outputPath.getText());\r\n                    } catch (URISyntaxException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\n**download(string linkYt, String path) Method - Code Snippet**\r\n\r\n```\r\nprivate void download(String linkYT, String path) throws URISyntaxException {\r\n\r\n        // This folder &quot;Libs&quot; is also within the .Jar file.\r\n        Path ytDlpPath = getFilePath(&quot;/Libs/yt-dlp.exe&quot;);\r\n\r\n        String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\r\n        Process process = null;\r\n        try {\r\n            ProcessBuilder processBuilder;\r\n        \r\n          processBuilder = new ProcessBuilder(ytDlpPath.toString(), &quot;-f&quot;, \r\n          &quot;bestaudio&quot;, &quot;-x&quot;, &quot;--  audio-format&quot;, &quot;wav&quot; , &quot;--output&quot;, path + &quot;/%(title)s.%(ext)s&quot;,         &quot;ytsearch:&quot; + linkYT);\r\n            \r\n            process = processBuilder.start();\r\n            process.waitFor();\r\n\r\n            int exitCode = process.exitValue();\r\n\r\n            if (exitCode != 0) {\r\n                // some error handling\r\n            } else {\r\n                // download success \r\n            }\r\n\r\n        } \r\n            catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nSo far I have tried debugging the code, however as I have previously mentioned -\\&gt; the &quot;Download&quot; button unresponsiveness only happens while I am using/executing the program within the .Jar file. I cannot seem to find a solution. :(**  \r\nThanks in advance,  \r\nStan**`enter code here`\r\n\r\n***EDIT:***\r\n**getFilePath() Method - Code Snippet**\r\n```\r\n    private Path getFilePath(String resourcePath) {\r\n        try {\r\n            return Paths.get(getClass().getResource(resourcePath).toURI());\r\n        } catch (URISyntaxException e) {\r\n            throw new RuntimeException(&quot;Failed to get resource file path: &quot; + resourcePath, e);\r\n        }\r\n    }\r\n```","title":".JAR application does not work as intended","body":"<p>I am experiencing an issue with a <strong>small GUI Java Application</strong>. The app is a GUI implementation for yt-dlp software which makes it easier for people to download music from Youtube without knowing the terminal syntax of yt-dlp.</p>\n<p>Basically whenever I build the artefacts of my program and try to execute the built <strong>.Jar application</strong> my <strong>&quot;Download&quot; button is unresponsive</strong> (does not take any action in regards to its listener). It only happens while using the app in .Jar (while running the program within the JetBrains Intellij IDE it works as intended -&gt; the button reacts and does download the contents). My &quot;Quit&quot; button works as intended (quits the application, both in my IDE and in my .Jar application).</p>\n<p>*By unresponsiveness I mean that the program <strong>does not execute its command line statements.</strong></p>\n<p>The code of the downloadButton MouseListner then goes to the download(string link, string outputPath) method which downloads the file.</p>\n<p><strong>downloadButton MouseListener - Code Snippet</strong></p>\n<pre><code>  downloadButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (outputPath.getText().isEmpty() || link.getText().isEmpty()) {\n                    // some error handling\n                } else {\n                    try {\n                        download(link.getText(), outputPath.getText());\n                    } catch (URISyntaxException ex) {\n                        throw new RuntimeException(ex);\n                    }\n                }\n            }\n        });\n</code></pre>\n<p><strong>download(string linkYt, String path) Method - Code Snippet</strong></p>\n<pre><code>private void download(String linkYT, String path) throws URISyntaxException {\n\n        // This folder &quot;Libs&quot; is also within the .Jar file.\n        Path ytDlpPath = getFilePath(&quot;/Libs/yt-dlp.exe&quot;);\n\n        String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\n\n        Process process = null;\n        try {\n            ProcessBuilder processBuilder;\n        \n          processBuilder = new ProcessBuilder(ytDlpPath.toString(), &quot;-f&quot;, \n          &quot;bestaudio&quot;, &quot;-x&quot;, &quot;--  audio-format&quot;, &quot;wav&quot; , &quot;--output&quot;, path + &quot;/%(title)s.%(ext)s&quot;,         &quot;ytsearch:&quot; + linkYT);\n            \n            process = processBuilder.start();\n            process.waitFor();\n\n            int exitCode = process.exitValue();\n\n            if (exitCode != 0) {\n                // some error handling\n            } else {\n                // download success \n            }\n\n        } \n            catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>So far I have tried debugging the code, however as I have previously mentioned -&gt; the &quot;Download&quot; button unresponsiveness only happens while I am using/executing the program within the .Jar file. I cannot seem to find a solution. :(**<br />\nThanks in advance,<br />\nStan**<code>enter code here</code></p>\n<p><em><strong>EDIT:</strong></em>\n<strong>getFilePath() Method - Code Snippet</strong></p>\n<pre><code>    private Path getFilePath(String resourcePath) {\n        try {\n            return Paths.get(getClass().getResource(resourcePath).toURI());\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(&quot;Failed to get resource file path: &quot; + resourcePath, e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","pdf","text","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1687524133,"post_id":76539773,"comment_id":134952892,"body_markdown":"*&quot;All the code above (except the splitting of the text and cleaning of the lines) is running inside a loop which repeats one time per page of the original document.&quot;* - Most likely this code frame (which you don&#39;t show) is buggy. Furthermore, you draw all text in the line starting at 50, 700. This most likely is not what you want.  Also you have too many `endMarkedContent` calls.","body":"<i>&quot;All the code above (except the splitting of the text and cleaning of the lines) is running inside a loop which repeats one time per page of the original document.&quot;</i> - Most likely this code frame (which you don&#39;t show) is buggy. Furthermore, you draw all text in the line starting at 50, 700. This most likely is not what you want.  Also you have too many <code>endMarkedContent</code> calls."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1687524275,"post_id":76539773,"comment_id":134952925,"body_markdown":"By the way, are you sure you should split at `&quot;\\\\r\\\\n&quot;` instead of at `&quot;\\\\n&quot;`? Have you checked whether your `lines` look like you think they do?","body":"By the way, are you sure you should split at <code>&quot;\\\\r\\\\n&quot;</code> instead of at <code>&quot;\\\\n&quot;</code>? Have you checked whether your <code>lines</code> look like you think they do?"},{"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"score":0,"creation_date":1687767103,"post_id":76539773,"comment_id":134977247,"body_markdown":"@mkl I tried printing in screen the lines and they are correct but it&#39;s only showing the lines of the first page","body":"@mkl I tried printing in screen the lines and they are correct but it&#39;s only showing the lines of the first page"}],"owner":{"account_id":25536959,"reputation":9,"user_id":19323860,"display_name":"0xracer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687520596,"creation_date":1687520596,"question_id":76539773,"body_markdown":"I have a long text (which I got by using PDFTextStripper) I splitted in lines by doing `text.split(&quot;\\\\r\\\\n&quot;);`, \r\n\r\nThen I remove control characters:\r\n\r\n    line = line.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);\r\n    line = line.replaceAll(&quot;\\\\r&quot;, &quot;&quot;);\r\n    line = line.replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\r\n\r\nNow I declare the content stream and I set the font (newDoc and newPage are PDDocument and PDPage):\r\n\r\n        PDPageContentStream cs = new PDPageContentStream(newDoc, newPage);\r\n        cs.setFont(PDType1Font.HELVETICA, 12);\r\n\r\nAfter that, I write the text on the page. According to how the line starts (if the line starts with &quot;1.&quot; I want to write it with the COS tag H1, and if it starts with something else I want to write it as normal text):\r\n\r\n            for (String line : lines) {\r\n               \r\n                if (line.startsWith(&quot;1.&quot;)) {\r\n                    COSName tag = COSName.getPDFName(&quot;H1&quot;);\r\n                    cs.beginText();\r\n                    cs.newLineAtOffset(50, 700);  \r\n                    cs.beginMarkedContent(tag);                  \r\n                    cs.showText(line);\r\n                } else {\r\n                    cs.beginText();\r\n                    cs.newLineAtOffset(50, 700);\r\n                   \r\n                    cs.showText(line);\r\n                }\r\n                cs.endText();\r\n                cs.endMarkedContent();\r\n            }\r\n            cs.close();\r\n        }\r\n\r\nThen I save the doc. and close it:\r\n\r\n    newDoc.save(&quot;marked.pdf&quot;);\r\n    newDoc.close();\r\n\r\nThe problem is, when I run my program, the result PDF (marked.pdf) shows one line per page, and it should be showing all the lines of the first page on the first page and so on. \r\nThis is how it looks:\r\n[PDF Result][1]\r\n       \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FLX9P.png\r\n\r\nAnother problem, is that the line should be ending when the page ends, but all the lines continue even if the page width ended. All the code above (except the splitting of the text and cleaning of the lines) is running inside a loop which repeats one time per page of the original document. If someone could give me some insights about working with this, I would be grateful.\r\n\r\nThanks in advance","title":"PDFBox not writing lines correctly in new PDDocument","body":"<p>I have a long text (which I got by using PDFTextStripper) I splitted in lines by doing <code>text.split(&quot;\\\\r\\\\n&quot;);</code>,</p>\n<p>Then I remove control characters:</p>\n<pre><code>line = line.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);\nline = line.replaceAll(&quot;\\\\r&quot;, &quot;&quot;);\nline = line.replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Now I declare the content stream and I set the font (newDoc and newPage are PDDocument and PDPage):</p>\n<pre><code>    PDPageContentStream cs = new PDPageContentStream(newDoc, newPage);\n    cs.setFont(PDType1Font.HELVETICA, 12);\n</code></pre>\n<p>After that, I write the text on the page. According to how the line starts (if the line starts with &quot;1.&quot; I want to write it with the COS tag H1, and if it starts with something else I want to write it as normal text):</p>\n<pre><code>        for (String line : lines) {\n           \n            if (line.startsWith(&quot;1.&quot;)) {\n                COSName tag = COSName.getPDFName(&quot;H1&quot;);\n                cs.beginText();\n                cs.newLineAtOffset(50, 700);  \n                cs.beginMarkedContent(tag);                  \n                cs.showText(line);\n            } else {\n                cs.beginText();\n                cs.newLineAtOffset(50, 700);\n               \n                cs.showText(line);\n            }\n            cs.endText();\n            cs.endMarkedContent();\n        }\n        cs.close();\n    }\n</code></pre>\n<p>Then I save the doc. and close it:</p>\n<pre><code>newDoc.save(&quot;marked.pdf&quot;);\nnewDoc.close();\n</code></pre>\n<p>The problem is, when I run my program, the result PDF (marked.pdf) shows one line per page, and it should be showing all the lines of the first page on the first page and so on.\nThis is how it looks:\n<a href=\"https://i.stack.imgur.com/FLX9P.png\" rel=\"nofollow noreferrer\">PDF Result</a></p>\n<p>Another problem, is that the line should be ending when the page ends, but all the lines continue even if the page width ended. All the code above (except the splitting of the text and cleaning of the lines) is running inside a loop which repeats one time per page of the original document. If someone could give me some insights about working with this, I would be grateful.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1685604,"reputation":867,"user_id":1548977,"display_name":"Rich"},"score":3,"creation_date":1384265582,"post_id":19931408,"comment_id":29659562,"body_markdown":"as of 1.7(i think) it handles strings, but it only ever used to handle enums/ints, so maybe there&#39;s some legacy in there which won&#39;t allow nulls still. I&#39;m sure somebody will know why","body":"as of 1.7(i think) it handles strings, but it only ever used to handle enums/ints, so maybe there&#39;s some legacy in there which won&#39;t allow nulls still. I&#39;m sure somebody will know why"},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1384266046,"post_id":19931408,"comment_id":29659837,"body_markdown":"In fact it would be interesting to know the real reasons (the one we all see in the JLS is really dubious).","body":"In fact it would be interesting to know the real reasons (the one we all see in the JLS is really dubious)."}],"answers":[{"tags":[],"owner":{"account_id":38612,"reputation":22579,"user_id":110933,"accept_rate":96,"display_name":"davek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384265556,"creation_date":1384265556,"answer_id":19931476,"question_id":19931408,"body_markdown":"You can&#39;t `SWITCH` on strings and other data types that can be `null`. This behaviour has been changed in Java 7 to allow string-switches.\r\n\r\nSee this question for more info:\r\n\r\nhttps://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java","title":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?","body":"<p>You can't <code>SWITCH</code> on strings and other data types that can be <code>null</code>. This behaviour has been changed in Java 7 to allow string-switches.</p>\n\n<p>See this question for more info:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java\">Why can&#39;t I switch on a String?</a></p>\n"},{"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":3,"creation_date":1384265766,"post_id":19931550,"comment_id":29659660,"body_markdown":"Does this really answer the &quot;why&quot; ?","body":"Does this really answer the &quot;why&quot; ?"},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1384265821,"post_id":19931550,"comment_id":29659688,"body_markdown":"Edited to add the section which explains the reasoning.","body":"Edited to add the section which explains the reasoning."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":3,"creation_date":1384265939,"post_id":19931550,"comment_id":29659768,"body_markdown":"That&#39;s better (apart the fact the *&quot;no switch label is null&quot;* isn&#39;t related). But that&#39;s looks like a *a posteriori* reasoning. It would have been more honest to say that it was easier to implement.","body":"That&#39;s better (apart the fact the <i>&quot;no switch label is null&quot;</i> isn&#39;t related). But that&#39;s looks like a <i>a posteriori</i> reasoning. It would have been more honest to say that it was easier to implement."}],"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1384265739,"creation_date":1384265739,"answer_id":19931550,"question_id":19931408,"body_markdown":"As always, [it&#39;s in the JLS:][1]\n\n&gt; ## 14.11. The `switch` Statement\n&gt; **All of the following must be true, or a compile-time error occurs:**\n&gt;\n&gt; - ...\n&gt; - No switch label is `null`.\n&gt;\n&gt; ...  \n&gt; _The prohibition against using `null` as a switch label prevents one from writing code that can never be executed. If the switch expression is of a reference type, that is, `String` or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to `null` at run time. In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire `switch` statement or choosing to execute the statements (if any) after the `default` label (if any)._\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11","title":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?","body":"<p>As always, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"noreferrer\">it's in the JLS:</a></p>\n<blockquote>\n<h2>14.11. The <code>switch</code> Statement</h2>\n<p><strong>All of the following must be true, or a compile-time error occurs:</strong></p>\n<ul>\n<li>...</li>\n<li>No switch label is <code>null</code>.</li>\n</ul>\n<p>...<br />\n<em>The prohibition against using <code>null</code> as a switch label prevents one from writing code that can never be executed. If the switch expression is of a reference type, that is, <code>String</code> or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to <code>null</code> at run time. In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire <code>switch</code> statement or choosing to execute the statements (if any) after the <code>default</code> label (if any).</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2987448,"reputation":975,"user_id":2535866,"accept_rate":67,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384265785,"creation_date":1384265785,"answer_id":19931569,"question_id":19931408,"body_markdown":"This is by definition. I wouldn&#39;t lose too much time on this as it&#39;s in the specifications. \r\n\r\nOn the other hand I find this quite practical in fact, as in case of being null it doesn&#39; have a primitive type associated, so we can&#39;t know how to handle it properly.","title":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?","body":"<p>This is by definition. I wouldn't lose too much time on this as it's in the specifications. </p>\n\n<p>On the other hand I find this quite practical in fact, as in case of being null it doesn' have a primitive type associated, so we can't know how to handle it properly.</p>\n"},{"comments":[{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1580204172,"post_id":19931850,"comment_id":106011622,"body_markdown":"I don&#39;t think the argument for NPEs is really &quot;safer&quot; but to facilitate a fail fast mentality, which makes errors many times easier to debug than swallowing errors. You could also argue, that you should strive to not expect null in your code.","body":"I don&#39;t think the argument for NPEs is really &quot;safer&quot; but to facilitate a fail fast mentality, which makes errors many times easier to debug than swallowing errors. You could also argue, that you should strive to not expect null in your code."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1687520060,"creation_date":1384266521,"answer_id":19931850,"question_id":19931408,"body_markdown":"In short, this design choice is in the *spirit of Java*.\r\n\r\nThe decision to throw an NPE when a switch expression evaluates to `null` is along the lines of other decisions made in Java, which always prefer throwing an exception to silently handling the `null` in the &quot;obvious&quot; way. The general rule seems to be that, when in doubt, the Java designers choose the option without default behavior. This has the side-effect of requiring boilerplate code at every use site. \r\n\r\nSome would call this frustrating and unfortunate, but others disagree, maintaining that this is a safer decision.\r\n\r\nFor another potentially frustrating example see the *enchanced for* loop, which also throws an NPE if the collection is `null`, instead of acting as if the collection was empty. There are many more examples in the JDK library, where the caller must check all edge cases just to be allowed to treat them uniformly with the &quot;normal&quot; cases.\r\n\r\nAs a third notorious example, Java&#39;s checked exceptions require a lot of boilerplate to handle at every level of call stack depth, and lure less experienced programmers into several antipatterns. The results are often swallowed exceptions, the same exception being reported several times in the log, exceptions getting non-uniform handling at the wrong level of abstraction, etc.","title":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?","body":"<p>In short, this design choice is in the <em>spirit of Java</em>.</p>\n<p>The decision to throw an NPE when a switch expression evaluates to <code>null</code> is along the lines of other decisions made in Java, which always prefer throwing an exception to silently handling the <code>null</code> in the &quot;obvious&quot; way. The general rule seems to be that, when in doubt, the Java designers choose the option without default behavior. This has the side-effect of requiring boilerplate code at every use site.</p>\n<p>Some would call this frustrating and unfortunate, but others disagree, maintaining that this is a safer decision.</p>\n<p>For another potentially frustrating example see the <em>enchanced for</em> loop, which also throws an NPE if the collection is <code>null</code>, instead of acting as if the collection was empty. There are many more examples in the JDK library, where the caller must check all edge cases just to be allowed to treat them uniformly with the &quot;normal&quot; cases.</p>\n<p>As a third notorious example, Java's checked exceptions require a lot of boilerplate to handle at every level of call stack depth, and lure less experienced programmers into several antipatterns. The results are often swallowed exceptions, the same exception being reported several times in the log, exceptions getting non-uniform handling at the wrong level of abstraction, etc.</p>\n"}],"owner":{"display_name":"user1073494"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20249,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"closed_date":1497887289,"accepted_answer_id":19931550,"answer_count":4,"score":15,"last_activity_date":1687520060,"creation_date":1384265426,"question_id":19931408,"body_markdown":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?\r\n\r\nFor example, if you have something like\r\n\r\n       switch(value){\r\n         case VAL1: do_something1(); break;\r\n         case VAL2: do_something2(); break;\r\n         default: do_something3(); \r\n       }\r\n\r\nshouldn&#39;t &quot;default&quot; deal with any other value, such as null?","title":"Why java switch statement can&#39;t handle null, since it has a &quot;default&quot; clause?","body":"<p>Why java switch statement can't handle null, since it has a \"default\" clause?</p>\n\n<p>For example, if you have something like</p>\n\n<pre><code>   switch(value){\n     case VAL1: do_something1(); break;\n     case VAL2: do_something2(); break;\n     default: do_something3(); \n   }\n</code></pre>\n\n<p>shouldn't \"default\" deal with any other value, such as null?</p>\n"},{"tags":["java","c#","servlets","dotnet-httpclient"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1687241443,"post_id":76511782,"comment_id":134904872,"body_markdown":"How have you verified that the issue is on the C# side?","body":"How have you verified that the issue is on the C# side?"},{"owner":{"account_id":9969746,"reputation":1,"user_id":21052072,"display_name":"Robo-SC"},"score":0,"creation_date":1687241985,"post_id":76511782,"comment_id":134904947,"body_markdown":"I have another vba client that is working ok on the same servlet.","body":"I have another vba client that is working ok on the same servlet."},{"owner":{"account_id":9969746,"reputation":1,"user_id":21052072,"display_name":"Robo-SC"},"score":0,"creation_date":1687242239,"post_id":76511782,"comment_id":134905002,"body_markdown":"I get a 200K response back and I see the request has reached the server but the servlet is not able to get any content.","body":"I get a 200K response back and I see the request has reached the server but the servlet is not able to get any content."},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":1,"creation_date":1687242268,"post_id":76511782,"comment_id":134905006,"body_markdown":"Then use a tool like Telerik&#39;s Fiddler to compare the requests made by .NET and VBA, see what&#39;s different, and then modify your C# code to match. .NET&#39;s HttpClient is for sure sending `loginString`, so it seems like the servlet is expecting something else. Perhaps it expects form-encoded data, or a multipart content request. And perhaps also show your working VBA code?","body":"Then use a tool like Telerik&#39;s Fiddler to compare the requests made by .NET and VBA, see what&#39;s different, and then modify your C# code to match. .NET&#39;s HttpClient is for sure sending <code>loginString</code>, so it seems like the servlet is expecting something else. Perhaps it expects form-encoded data, or a multipart content request. And perhaps also show your working VBA code?"},{"owner":{"account_id":9969746,"reputation":1,"user_id":21052072,"display_name":"Robo-SC"},"score":0,"creation_date":1687243448,"post_id":76511782,"comment_id":134905204,"body_markdown":"Dim res As String\n    res = &quot;&quot;\n    If req Is Nothing Then\n        Set req = New WinHttp.WinHttpRequest\n    End If\n    req.SetTimeouts 1800000, 1800000, 1800000, 1800000\n    m_serverURL = getserverurl       \n    req.Open &quot;POST&quot;, m_serverURL &amp; &quot;/&quot; &amp; Service, False\n    req.setRequestHeader &quot;Content-Length&quot;, &quot;&quot; &amp; VBA.Len(buffer)\n    req.setRequestHeader &quot;X-client&quot;, &quot;WinExcel&quot;      \n    req.Send buffer","body":"Dim res As String     res = &quot;&quot;     If req Is Nothing Then         Set req = New WinHttp.WinHttpRequest     End If     req.SetTimeouts 1800000, 1800000, 1800000, 1800000     m_serverURL = getserverurl            req.Open &quot;POST&quot;, m_serverURL &amp; &quot;/&quot; &amp; Service, False     req.setRequestHeader &quot;Content-Length&quot;, &quot;&quot; &amp; VBA.Len(buffer)     req.setRequestHeader &quot;X-client&quot;, &quot;WinExcel&quot;           req.Send buffer"},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1687243611,"post_id":76511782,"comment_id":134905232,"body_markdown":"You can (and should) edit your question.","body":"You can (and should) edit your question."},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1687247198,"post_id":76511782,"comment_id":134905847,"body_markdown":"I just realised your MIME type in C# is wrong. It should be `text/plain` not `application/text`.","body":"I just realised your MIME type in C# is wrong. It should be <code>text&#47;plain</code> not <code>application&#47;text</code>."}],"answers":[{"comments":[{"owner":{"account_id":12038708,"reputation":543,"user_id":8806386,"display_name":"IvanF."},"score":0,"creation_date":1687258970,"post_id":76512722,"comment_id":134908450,"body_markdown":"A tiny bit of text explanation on how your answer solves the issue is always useful","body":"A tiny bit of text explanation on how your answer solves the issue is always useful"},{"owner":{"account_id":9969746,"reputation":1,"user_id":21052072,"display_name":"Robo-SC"},"score":0,"creation_date":1687308736,"post_id":76512722,"comment_id":134917407,"body_markdown":"Hi, I tried what you suggested but did not work. Appreciate your input.","body":"Hi, I tried what you suggested but did not work. Appreciate your input."}],"tags":[],"owner":{"account_id":10412338,"reputation":16,"user_id":7677381,"display_name":"Teerapon Jeamphue"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687519822,"creation_date":1687249382,"answer_id":76512722,"question_id":76511782,"body_markdown":"Please try this\r\n&lt;!-- language: csharp --&gt;\r\n    string loginBuffer = &quot;test&quot;;\r\n    HttpClient httpClient = new HttpClient();\r\n            \r\n    string url = &quot;https://sampleserver.com/Login&quot;;\r\n    StringContent loginString = new StringContent(loginBuffer, Encoding.UTF8, &quot;text/plain&quot;);\r\n    \r\n    HttpResponseMessage response = await httpClient.PostAsync(url, loginString);             ","title":"HttpClient Post sends a null content","body":"<p>Please try this</p>\n<pre class=\"lang-cs prettyprint-override\"><code>string loginBuffer = &quot;test&quot;;\nHttpClient httpClient = new HttpClient();\n        \nstring url = &quot;https://sampleserver.com/Login&quot;;\nStringContent loginString = new StringContent(loginBuffer, Encoding.UTF8, &quot;text/plain&quot;);\n\nHttpResponseMessage response = await httpClient.PostAsync(url, loginString);             \n</code></pre>\n"}],"owner":{"account_id":9969746,"reputation":1,"user_id":21052072,"display_name":"Robo-SC"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687519822,"creation_date":1687241179,"question_id":76511782,"body_markdown":"I am tryng to send a post request on HttpClient in C# to a java servlet engine but the server receives a Null cotnent. Client is C3 and Server is Java servlet engine. The request reaches server but errors out on null cotnent.\r\n\r\nC# Code that sends the buffer\r\n\r\n```cs\r\nstring loginBuffer = &quot;test&quot;;\r\nHttpClient hClient = GetClient();\r\nusing StringContent loginString = new StringContent(loginBuffer, UnicodeEncoding.UTF8, &quot;application/text&quot;);\r\n var response1 = await hClient.PostAsync(new Uri(&quot;https://sampleserver.com/Login&quot;), loginString);\r\n```\r\n\r\n**Server Code that finds a null content in reading the get ReqiestBar\r\n**\r\n\r\n```java\r\n\tprotected StringBuffer getRequestBuffer(ServletRequest request) throws IOException \r\n\t{\r\n\t\tStringBuffer sb = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tsb = new StringBuffer();\r\n\t\t\tBufferedReader br = request.getReader();\r\n\t\t\tString line = new String();\r\n\t\t\tline = br.readLine();\r\n```\r\n\r\nThe same servlet works when connecting from a VBA code \r\n\r\n```vba\r\nDim res As String res = &quot;&quot; \r\n\r\nIf req Is Nothing Then \r\n\r\n        Set req = New WinHttp.WinHttpRequest \r\n\r\nEnd If \r\n\r\nreq.SetTimeouts 1800000, 1800000, 1800000, 1800000 m_serverURL = \r\n\r\ngetserverurl req.Open &quot;POST&quot;, m_serverURL &amp; &quot;/&quot; &amp; Service, False \r\n\r\nreq.setRequestHeader &quot;Content-Length&quot;, &quot;&quot; &amp; VBA.Len(buffer) \r\n\r\nreq.setRequestHeader &quot;X-client&quot;, &quot;WinExcel&quot; \r\n\r\nreq.Send buffer\r\n\r\n```","title":"HttpClient Post sends a null content","body":"<p>I am tryng to send a post request on HttpClient in C# to a java servlet engine but the server receives a Null cotnent. Client is C3 and Server is Java servlet engine. The request reaches server but errors out on null cotnent.</p>\n<p>C# Code that sends the buffer</p>\n<pre class=\"lang-cs prettyprint-override\"><code>string loginBuffer = &quot;test&quot;;\nHttpClient hClient = GetClient();\nusing StringContent loginString = new StringContent(loginBuffer, UnicodeEncoding.UTF8, &quot;application/text&quot;);\n var response1 = await hClient.PostAsync(new Uri(&quot;https://sampleserver.com/Login&quot;), loginString);\n</code></pre>\n<p>**Server Code that finds a null content in reading the get ReqiestBar\n**</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected StringBuffer getRequestBuffer(ServletRequest request) throws IOException \n    {\n        StringBuffer sb = null;\n        try\n        {\n            sb = new StringBuffer();\n            BufferedReader br = request.getReader();\n            String line = new String();\n            line = br.readLine();\n</code></pre>\n<p>The same servlet works when connecting from a VBA code</p>\n<pre class=\"lang-vb prettyprint-override\"><code>Dim res As String res = &quot;&quot; \n\nIf req Is Nothing Then \n\n        Set req = New WinHttp.WinHttpRequest \n\nEnd If \n\nreq.SetTimeouts 1800000, 1800000, 1800000, 1800000 m_serverURL = \n\ngetserverurl req.Open &quot;POST&quot;, m_serverURL &amp; &quot;/&quot; &amp; Service, False \n\nreq.setRequestHeader &quot;Content-Length&quot;, &quot;&quot; &amp; VBA.Len(buffer) \n\nreq.setRequestHeader &quot;X-client&quot;, &quot;WinExcel&quot; \n\nreq.Send buffer\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","tags","cucumber","testng"],"comments":[{"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"score":0,"creation_date":1687500238,"post_id":76537415,"comment_id":134948200,"body_markdown":"Please check these links in order to better define your problem. https://stackoverflow.com/help/minimal-reproducible-example \nhttps://stackoverflow.com/help/how-to-ask","body":"Please check these links in order to better define your problem. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>  <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"score":1,"creation_date":1687513428,"post_id":76537415,"comment_id":134950646,"body_markdown":"Since Scenario_2 hast tags `@tag2 @tag3` and you are running `tags = &quot;@tag2 and @tag3&quot;,`  it is normal to execute Scenario_2","body":"Since Scenario_2 hast tags <code>@tag2 @tag3</code> and you are running <code>tags = &quot;@tag2 and @tag3&quot;,</code>  it is normal to execute Scenario_2"}],"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687519811,"creation_date":1687499445,"question_id":76537415,"body_markdown":"In Cucumber Feature file I have a Scenario called Scenario_2 with the tag: @tag1 @tag2 @tag3. \r\nIn the Runner class I use tags = &quot;@tag2 and @tag3&quot;. \r\nActually there is not matching tags in the Feature file but it prints all the lines in the Scenario_2`\r\nHow it is possible?.\r\n\r\n    @tag1 @tag2 @tag3   \r\n    Scenario: Scenario_2\r\n    Given This is the first step in Second Scenario \r\n    When This is the second step in Second Scenario \r\n    Then This is the third step in Second Scenario\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = {&quot;src/test/resources/features/cucumbertags_26.feature&quot;}, \r\n                         glue = {&quot;com.stepdefinitions&quot;}, \r\n                         tags = &quot;@tag2 and @tag3&quot;,\r\n                         monochrome = true)\r\n    public class TestRunner_SamplePage \r\n    {\r\n    \r\n    }\r\n    \r\n    Output:\r\n    -------\r\n    ^This is the first step in Second Scenario$\r\n    ^This is the second step in Second Scenario$\r\n    ^This is the third step in Second Scenario$\r\n\r\n","title":"Tags in Cucumber - Multiple Tags","body":"<p>In Cucumber Feature file I have a Scenario called Scenario_2 with the tag: @tag1 @tag2 @tag3.\nIn the Runner class I use tags = &quot;@tag2 and @tag3&quot;.\nActually there is not matching tags in the Feature file but it prints all the lines in the Scenario_2`\nHow it is possible?.</p>\n<pre><code>@tag1 @tag2 @tag3   \nScenario: Scenario_2\nGiven This is the first step in Second Scenario \nWhen This is the second step in Second Scenario \nThen This is the third step in Second Scenario\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = {&quot;src/test/resources/features/cucumbertags_26.feature&quot;}, \n                     glue = {&quot;com.stepdefinitions&quot;}, \n                     tags = &quot;@tag2 and @tag3&quot;,\n                     monochrome = true)\npublic class TestRunner_SamplePage \n{\n\n}\n\nOutput:\n-------\n^This is the first step in Second Scenario$\n^This is the second step in Second Scenario$\n^This is the third step in Second Scenario$\n</code></pre>\n"},{"tags":["java","datetime","simpledateformat"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1354010431,"post_id":13581608,"comment_id":18612919,"body_markdown":"`st.toLowerCase()` will do it and there is no easier way.","body":"<code>st.toLowerCase()</code> will do it and there is no easier way."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":4,"creation_date":1354010948,"post_id":13581608,"comment_id":18613130,"body_markdown":"The trouble is that, like month and day names, the AM/PM marker is locale-specific - it may not make sense in some languages to force everything to lower case (leaving aside the fact that some languages just use 24 hour clock for everything and don&#39;t really have terms for AM and PM at all).","body":"The trouble is that, like month and day names, the AM/PM marker is locale-specific - it may not make sense in some languages to force everything to lower case (leaving aside the fact that some languages just use 24 hour clock for everything and don&#39;t really have terms for AM and PM at all)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638619660,"post_id":13581608,"comment_id":124139351,"body_markdown":"For new readers to this question I recommend you dont use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `Instant`, `ZoneId` `ZonedDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"For new readers to this question I recommend you dont use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>Instant</code>, <code>ZoneId</code> <code>ZonedDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1354014387,"post_id":13581677,"comment_id":18614829,"body_markdown":"All answers are correct or near to correct. But ths Answer is simple and meet my criteria","body":"All answers are correct or near to correct. But ths Answer is simple and meet my criteria"},{"owner":{"account_id":1348445,"reputation":15358,"user_id":1288725,"accept_rate":60,"display_name":"Mehul Joisar"},"score":4,"creation_date":1400742995,"post_id":13581677,"comment_id":36608420,"body_markdown":"[the answer](http://stackoverflow.com/a/13581910/1288725) posted by `James Jithin` is perfect approach to do it.","body":"<a href=\"http://stackoverflow.com/a/13581910/1288725\">the answer</a> posted by <code>James Jithin</code> is perfect approach to do it."},{"owner":{"account_id":1781418,"reputation":1399,"user_id":1624052,"accept_rate":92,"display_name":"Dan Torrey"},"score":1,"creation_date":1421095313,"post_id":13581677,"comment_id":44220212,"body_markdown":"I prefer Brian Agnew&#39;s solution. It&#39;s the Agile approach. The least amount of code that could possibly work.","body":"I prefer Brian Agnew&#39;s solution. It&#39;s the Agile approach. The least amount of code that could possibly work."},{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":2,"creation_date":1463110949,"post_id":13581677,"comment_id":61933797,"body_markdown":"a variation `timeStr = timeStr.toLowerCase(Locale.UK);`","body":"a variation <code>timeStr = timeStr.toLowerCase(Locale.UK);</code>"},{"owner":{"account_id":7295196,"reputation":1285,"user_id":5560309,"accept_rate":43,"display_name":"Hadas Kaminsky"},"score":1,"creation_date":1490584518,"post_id":13581677,"comment_id":73159945,"body_markdown":"This answer is not good enough because some phones display AM/PM, others display a.m./p.m. James Jithin response handles that and is therefore better.","body":"This answer is not good enough because some phones display AM/PM, others display a.m./p.m. James Jithin response handles that and is therefore better."},{"owner":{"account_id":1620625,"reputation":1373,"user_id":1497281,"accept_rate":32,"display_name":"Betty Mock"},"score":0,"creation_date":1507394959,"post_id":13581677,"comment_id":80196015,"body_markdown":"For my needs the ColdFusion equivalent of this worked perfectly.","body":"For my needs the ColdFusion equivalent of this worked perfectly."}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":6,"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1539017236,"creation_date":1354010561,"answer_id":13581677,"question_id":13581608,"body_markdown":"Unfortunately the standard formatting methods don&#39;t let you do that. Nor does Joda. I think you&#39;re going to have to process your formatted date by a simple post-format replace.\r\n\r\n    String str = oldstr.replace(&quot;AM&quot;, &quot;am&quot;).replace(&quot;PM&quot;,&quot;pm&quot;);\r\n\r\nYou could use the `replaceAll()` method that uses regepxs, but I think the above is perhaps sufficient. I&#39;m *not* doing a blanket `toLowerCase()` since that could screw up formatting if you change the format string in the future to contain (say) month names or similar.\r\n\r\nEDIT: [James Jithin&#39;s solution](https://stackoverflow.com/a/13581910/2911458) looks a lot better, and the proper way to do this (as noted in the comments)\r\n","title":"Displaying AM and PM in lower case after date formatting","body":"<p>Unfortunately the standard formatting methods don't let you do that. Nor does Joda. I think you're going to have to process your formatted date by a simple post-format replace.</p>\n\n<pre><code>String str = oldstr.replace(\"AM\", \"am\").replace(\"PM\",\"pm\");\n</code></pre>\n\n<p>You could use the <code>replaceAll()</code> method that uses regepxs, but I think the above is perhaps sufficient. I'm <em>not</em> doing a blanket <code>toLowerCase()</code> since that could screw up formatting if you change the format string in the future to contain (say) month names or similar.</p>\n\n<p>EDIT: <a href=\"https://stackoverflow.com/a/13581910/2911458\">James Jithin's solution</a> looks a lot better, and the proper way to do this (as noted in the comments)</p>\n"},{"comments":[{"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"score":2,"creation_date":1354010756,"post_id":13581690,"comment_id":18613050,"body_markdown":"This would make the ntire string to lower case, i guess OP just need lower case am/pm, otherwise, its a good solution :)","body":"This would make the ntire string to lower case, i guess OP just need lower case am/pm, otherwise, its a good solution :)"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1354011077,"post_id":13581690,"comment_id":18613187,"body_markdown":"Yes i tried it you are correct @Brian Agnew&#39;s answer is very correct","body":"Yes i tried it you are correct @Brian Agnew&#39;s answer is very correct"}],"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1354010587,"creation_date":1354010587,"answer_id":13581690,"question_id":13581608,"body_markdown":"Try this:\r\n\r\n    System.out.println(&quot;time is &quot; + ts.toLowerCase());\r\n\r\nAlthough you may be able to create a custom format as detailed [here][1] and [here][2]\r\n\r\nUnfortunately out of the [box][3] the AM and PM do not seem to be customisable in the standard SimpleDateFormat class\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/223325/customizing-java-text-formatters-for-different-locales\r\n  [2]: http://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html","title":"Displaying AM and PM in lower case after date formatting","body":"<p>Try this:</p>\n\n<pre><code>System.out.println(\"time is \" + ts.toLowerCase());\n</code></pre>\n\n<p>Although you may be able to create a custom format as detailed <a href=\"https://stackoverflow.com/questions/223325/customizing-java-text-formatters-for-different-locales\">here</a> and <a href=\"http://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Unfortunately out of the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">box</a> the AM and PM do not seem to be customisable in the standard SimpleDateFormat class</p>\n"},{"comments":[{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":1,"creation_date":1354012448,"post_id":13581910,"comment_id":18613842,"body_markdown":"@BrianAgnew, Not sure, you may try updating the property of the DateFormatSymbols instance received from http://joda-time.sourceforge.net/api-release/org/joda/time/DateTimeUtils.html#getDateFormatSymbols%28java.util.Locale%29","body":"@BrianAgnew, Not sure, you may try updating the property of the DateFormatSymbols instance received from <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTimeUtils.html#getDateFormatSymbols%28java.util.Locale%29\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net/api-release/org/joda/time/&hellip;</a>"},{"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"score":1,"creation_date":1413528503,"post_id":13581910,"comment_id":41485233,"body_markdown":"When specifying `Locale` in `SimpleDateFormate`, using `DateFormatSymbols` messes it up. You would probable have to specifically set all of the symbols and not just am/pm.","body":"When specifying <code>Locale</code> in <code>SimpleDateFormate</code>, using <code>DateFormatSymbols</code> messes it up. You would probable have to specifically set all of the symbols and not just am/pm."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":1,"creation_date":1514878533,"post_id":13581910,"comment_id":83086539,"body_markdown":"thanks working great,  provided in my case need to replace `&quot; &quot;` with `&quot;&quot;`, e.g **hh:mm a** to **hh:mma**","body":"thanks working great,  provided in my case need to replace <code>&quot; &quot;</code> with <code>&quot;&quot;</code>, e.g <b>hh:mm a</b> to <b>hh:mma</b>"}],"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"comment_count":3,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1417066902,"creation_date":1354011284,"answer_id":13581910,"question_id":13581608,"body_markdown":"This works\r\n\r\n    public class Timeis {\r\n    \tpublic static void main(String s[]) {\r\n    \t\tlong ts = 1022895271767L;\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot; MMM d &#39;at&#39; hh:mm a&quot;);\r\n    \t\t// CREATE DateFormatSymbols WITH ALL SYMBOLS FROM (DEFAULT) Locale\r\n    \t\tDateFormatSymbols symbols = new DateFormatSymbols(Locale.getDefault());\r\n    \t\t// OVERRIDE SOME symbols WHILE RETAINING OTHERS\r\n    \t\tsymbols.setAmPmStrings(new String[] { &quot;am&quot;, &quot;pm&quot; });\r\n    \t\tsdf.setDateFormatSymbols(symbols);\r\n    \t\tString st = sdf.format(ts);\r\n    \t\tSystem.out.println(&quot;time is &quot; + st);\r\n    \t}\r\n    }","title":"Displaying AM and PM in lower case after date formatting","body":"<p>This works</p>\n\n<pre><code>public class Timeis {\n    public static void main(String s[]) {\n        long ts = 1022895271767L;\n        SimpleDateFormat sdf = new SimpleDateFormat(\" MMM d 'at' hh:mm a\");\n        // CREATE DateFormatSymbols WITH ALL SYMBOLS FROM (DEFAULT) Locale\n        DateFormatSymbols symbols = new DateFormatSymbols(Locale.getDefault());\n        // OVERRIDE SOME symbols WHILE RETAINING OTHERS\n        symbols.setAmPmStrings(new String[] { \"am\", \"pm\" });\n        sdf.setDateFormatSymbols(symbols);\n        String st = sdf.format(ts);\n        System.out.println(\"time is \" + st);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1123052,"reputation":121,"user_id":1110922,"display_name":"ShenYi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438895553,"creation_date":1438895553,"answer_id":31865893,"question_id":13581608,"body_markdown":"James&#39;s answer is great if you want different style other than default am, pm. But I&#39;m afraid you need mapping between Locale and Locale specific AM/PM set to adopting the override. Now you simply use java built-in java.util.Formatter class. So an easy example looks like this:\r\n\r\n    System.out.println(String.format(Locale.UK, &quot;%1$tl%1$tp&quot;, LocalTime.now()));\r\n\r\nIt gives:\r\n\r\n    9pm\r\n\r\nTo note that if you want upper case, just replace &quot;%1$**t**p&quot; with &quot;%1$**T**p&quot;. You can find more details at http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dt. ","title":"Displaying AM and PM in lower case after date formatting","body":"<p>James's answer is great if you want different style other than default am, pm. But I'm afraid you need mapping between Locale and Locale specific AM/PM set to adopting the override. Now you simply use java built-in java.util.Formatter class. So an easy example looks like this:</p>\n\n<pre><code>System.out.println(String.format(Locale.UK, \"%1$tl%1$tp\", LocalTime.now()));\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>9pm\n</code></pre>\n\n<p>To note that if you want upper case, just replace \"%1$<strong>t</strong>p\" with \"%1$<strong>T</strong>p\". You can find more details at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dt\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dt</a>. </p>\n"},{"tags":[],"owner":{"account_id":541510,"reputation":2306,"user_id":910095,"display_name":"Nikola Mihajlovi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1525324691,"creation_date":1488098473,"answer_id":42466448,"question_id":13581608,"body_markdown":"**If you don&#39;t want to do string substitution, and are using Java 8** `javax.time`:\r\n\r\n\tMap&lt;Long, String&gt; ampm = new HashMap&lt;&gt;();\r\n\tampm.put(0l, &quot;am&quot;);\r\n\tampm.put(1l, &quot;pm&quot;);\r\n\t\r\n\tDateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n\t\t\t.appendPattern(&quot;E M/d h:mm&quot;)\r\n\t\t\t.appendText(ChronoField.AMPM_OF_DAY, ampm)\r\n\t\t\t.toFormatter()\r\n\t\t\t.withZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\r\n\r\nIt&#39;s necessary to manually build a `DateTimeFormatter` (specifying individual pieces), as there is no pattern symbol for lowercase am/pm. You can use `appendPattern` before and after. \r\n\r\nI believe there is no way to substitute the default am/pm symbols, making this is the only way short of doing the string replace on the final string.","title":"Displaying AM and PM in lower case after date formatting","body":"<p><strong>If you don't want to do string substitution, and are using Java 8</strong> <code>javax.time</code>:</p>\n\n<pre><code>Map&lt;Long, String&gt; ampm = new HashMap&lt;&gt;();\nampm.put(0l, \"am\");\nampm.put(1l, \"pm\");\n\nDateTimeFormatter dtf = new DateTimeFormatterBuilder()\n        .appendPattern(\"E M/d h:mm\")\n        .appendText(ChronoField.AMPM_OF_DAY, ampm)\n        .toFormatter()\n        .withZone(ZoneId.of(\"America/Los_Angeles\"));\n</code></pre>\n\n<p>It's necessary to manually build a <code>DateTimeFormatter</code> (specifying individual pieces), as there is no pattern symbol for lowercase am/pm. You can use <code>appendPattern</code> before and after. </p>\n\n<p>I believe there is no way to substitute the default am/pm symbols, making this is the only way short of doing the string replace on the final string.</p>\n"},{"comments":[{"owner":{"account_id":1137713,"reputation":795,"user_id":1122413,"accept_rate":50,"display_name":"paul"},"score":1,"creation_date":1518038715,"post_id":43207130,"comment_id":84345405,"body_markdown":"This will lowercase the month also.","body":"This will lowercase the month also."}],"tags":[],"owner":{"account_id":8962222,"reputation":35,"user_id":6684402,"accept_rate":75,"display_name":"3zcs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491308505,"creation_date":1491308505,"answer_id":43207130,"question_id":13581608,"body_markdown":"just add `toLowarCase()` like this \r\n\r\n    public class Timeis {\r\n    public static void main(String s[]) {\r\n          long ts = 1022895271767L;\r\n          String st = null;  \r\n          st = new SimpleDateFormat(&quot; MMM d &#39;at&#39; hh:mm a&quot;).format(ts).toLowerCase();\r\n          System.out.println(&quot;time is &quot; + ts);  \r\n    }\r\n    }\r\n\r\nand `toUpperCase()` if you want upper case ","title":"Displaying AM and PM in lower case after date formatting","body":"<p>just add <code>toLowarCase()</code> like this </p>\n\n<pre><code>public class Timeis {\npublic static void main(String s[]) {\n      long ts = 1022895271767L;\n      String st = null;  \n      st = new SimpleDateFormat(\" MMM d 'at' hh:mm a\").format(ts).toLowerCase();\n      System.out.println(\"time is \" + ts);  \n}\n}\n</code></pre>\n\n<p>and <code>toUpperCase()</code> if you want upper case </p>\n"},{"comments":[{"owner":{"account_id":12587300,"reputation":71,"user_id":9155615,"display_name":"Mourya"},"score":0,"creation_date":1514627309,"post_id":48032755,"comment_id":83035682,"body_markdown":"Simple to the Core. Sure shot procedure.","body":"Simple to the Core. Sure shot procedure."}],"tags":[],"owner":{"account_id":12587300,"reputation":71,"user_id":9155615,"display_name":"Mourya"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514628426,"creation_date":1514627278,"answer_id":48032755,"question_id":13581608,"body_markdown":"    Calendar c = Calendar.getInstance();\r\n\r\n    System.out.println(&quot;Current time =&gt; &quot; + c.getTime());\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm a&quot;);\r\n    String formattedDate = df.format(c.getTime());\r\n    formattedDate = formattedDate.replace(&quot;a.m.&quot;, &quot;AM&quot;).replace(&quot;p.m.&quot;,&quot;PM&quot;);\r\n\r\n    TextView textView = findViewById(R.id.textView);\r\n    textView.setText(formattedDate);","title":"Displaying AM and PM in lower case after date formatting","body":"<pre><code>Calendar c = Calendar.getInstance();\n\nSystem.out.println(\"Current time =&gt; \" + c.getTime());\n\nSimpleDateFormat df = new SimpleDateFormat(\"HH:mm a\");\nString formattedDate = df.format(c.getTime());\nformattedDate = formattedDate.replace(\"a.m.\", \"AM\").replace(\"p.m.\",\"PM\");\n\nTextView textView = findViewById(R.id.textView);\ntextView.setText(formattedDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1460824,"reputation":89,"user_id":1375217,"display_name":"shyam_prakash"},"score":1,"creation_date":1649221004,"post_id":56649881,"comment_id":126817701,"body_markdown":"Setting the Locale did the trick.  Thank you!","body":"Setting the Locale did the trick.  Thank you!"}],"tags":[],"owner":{"account_id":3759972,"reputation":1648,"user_id":3125287,"display_name":"dfostic"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560863176,"creation_date":1560863176,"answer_id":56649881,"question_id":13581608,"body_markdown":"        String today = now.format(new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;MM/dd/yyyy &quot;)\r\n                .appendText(ChronoField.AMPM_OF_DAY)\r\n                .appendLiteral(&quot; (PST)&quot;)\r\n                .toFormatter(Locale.UK));\r\n\r\n// output =&gt; 06/18/2019 am (PST)\r\n\r\nLocale.UK =&gt; am or pm;\r\nLocale.US =&gt; AM or PM; try different locale for your needs (defaul, etc.)","title":"Displaying AM and PM in lower case after date formatting","body":"<pre><code>    String today = now.format(new DateTimeFormatterBuilder()\n            .appendPattern(\"MM/dd/yyyy \")\n            .appendText(ChronoField.AMPM_OF_DAY)\n            .appendLiteral(\" (PST)\")\n            .toFormatter(Locale.UK));\n</code></pre>\n\n<p>// output => 06/18/2019 am (PST)</p>\n\n<p>Locale.UK => am or pm;\nLocale.US => AM or PM; try different locale for your needs (defaul, etc.)</p>\n"},{"tags":[],"owner":{"account_id":16530004,"reputation":713,"user_id":11943569,"display_name":"Shashank Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637749873,"creation_date":1637749873,"answer_id":70094489,"question_id":13581608,"body_markdown":"This is how we perform in android studio&#39;s java code pass unix timestamp as parameter\r\n     \r\n    private String convertTimeToTimeStamp(Long timeStamp){\r\n                SimpleDateFormat sdf=new SimpleDateFormat(&quot;hh:mm aaa&quot;, Locale.getDefault());\r\n                return sdf.format(timeStamp);\r\n            }\r\n\r\nfunction returns time of format 09:30 PM","title":"Displaying AM and PM in lower case after date formatting","body":"<p>This is how we perform in android studio's java code pass unix timestamp as parameter</p>\n<pre><code>private String convertTimeToTimeStamp(Long timeStamp){\n            SimpleDateFormat sdf=new SimpleDateFormat(&quot;hh:mm aaa&quot;, Locale.getDefault());\n            return sdf.format(timeStamp);\n        }\n</code></pre>\n<p>function returns time of format 09:30 PM</p>\n"},{"tags":[],"owner":{"account_id":9553538,"reputation":633,"user_id":7096838,"display_name":"Agnibha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659505551,"creation_date":1659505551,"answer_id":73216763,"question_id":13581608,"body_markdown":"```\r\nnew SimpleDateFormat(&quot;MMM d &#39;at&#39; hh:mm a&quot;, new Locale(&quot;en&quot;, &quot;IN&quot;));\r\n```\r\n\r\nchange to a locale that uses am/pm instead of AM/PM. ","title":"Displaying AM and PM in lower case after date formatting","body":"<pre><code>new SimpleDateFormat(&quot;MMM d 'at' hh:mm a&quot;, new Locale(&quot;en&quot;, &quot;IN&quot;));\n</code></pre>\n<p>change to a locale that uses am/pm instead of AM/PM.</p>\n"},{"tags":[],"owner":{"account_id":9742102,"reputation":13,"user_id":7223306,"display_name":"Isuru Gunasekara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687519769,"creation_date":1687519769,"answer_id":76539671,"question_id":13581608,"body_markdown":"dateString.toLowerCase();\r\n========================\r\n\r\nString timeString= \r\nnew SimpleDateFormat(&quot; MMM d &#39;at&#39; hh:mma&quot;)\r\n.format(timestaamp)\r\n.toLowerCase();\r\n\r\nSystem.out.println(&quot;time is &quot; + tstimeString); ","title":"Displaying AM and PM in lower case after date formatting","body":"<h1>dateString.toLowerCase();</h1>\n<p>String timeString=\nnew SimpleDateFormat(&quot; MMM d 'at' hh:mma&quot;)\n.format(timestaamp)\n.toLowerCase();</p>\n<p>System.out.println(&quot;time is &quot; + tstimeString);</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76857,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":13581677,"answer_count":11,"score":81,"last_activity_date":1687519769,"creation_date":1354010359,"question_id":13581608,"body_markdown":"After formatting a datetime, the time displays AM or PM in upper case, but I want it in lower case like am or pm.\r\n\r\nThis is my code:\r\n\r\n    public class Timeis {\r\n        public static void main(String s[]) {\r\n            long ts = 1022895271767L;\r\n            String st = null;  \r\n            st = new SimpleDateFormat(&quot; MMM d &#39;at&#39; hh:mm a&quot;).format(ts);\r\n            System.out.println(&quot;time is &quot; + ts);  \r\n        }\r\n    }","title":"Displaying AM and PM in lower case after date formatting","body":"<p>After formatting a datetime, the time displays AM or PM in upper case, but I want it in lower case like am or pm.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public class Timeis {\n    public static void main(String s[]) {\n        long ts = 1022895271767L;\n        String st = null;  \n        st = new SimpleDateFormat(\" MMM d 'at' hh:mm a\").format(ts);\n        System.out.println(\"time is \" + ts);  \n    }\n}\n</code></pre>\n"},{"tags":["java","android","json","sharedpreferences","gson"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":2,"creation_date":1418379056,"post_id":27441249,"comment_id":43322090,"body_markdown":"I&#39;m tempted to vote to close this as off-topic as requesting an off-the-site library, but then it&#39;s reasonably specific about &quot;proper&quot; way to replace a deprecated, more-or-less standard, library.","body":"I&#39;m tempted to vote to close this as off-topic as requesting an off-the-site library, but then it&#39;s reasonably specific about &quot;proper&quot; way to replace a deprecated, more-or-less standard, library."},{"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"score":6,"creation_date":1418379164,"post_id":27441249,"comment_id":43322162,"body_markdown":"Gson is not deprecated. It was last updated November, 20th 2014. See [its official repository](https://code.google.com/p/google-gson/). The downloads page was not updated ([see why](https://groups.google.com/forum/#!topic/google-gson/diQlloTQuCk)), but the [Maven Repository](http://search.maven.org/#artifactdetails%7Ccom.google.code.gson%7Cgson%7C2.3.1%7Cjar) was. The last version is 2.3.1.","body":"Gson is not deprecated. It was last updated November, 20th 2014. See <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">its official repository</a>. The downloads page was not updated (<a href=\"https://groups.google.com/forum/#!topic/google-gson/diQlloTQuCk\" rel=\"nofollow noreferrer\">see why</a>), but the <a href=\"http://search.maven.org/#artifactdetails%7Ccom.google.code.gson%7Cgson%7C2.3.1%7Cjar\" rel=\"nofollow noreferrer\">Maven Repository</a> was. The last version is 2.3.1."},{"owner":{"account_id":1157978,"reputation":1596,"user_id":1138083,"accept_rate":34,"display_name":"M Vignesh"},"score":0,"creation_date":1418379329,"post_id":27441249,"comment_id":43322258,"body_markdown":"@Aleks Yes as you said I am looking for an proper library. @ Egor Where can I get the latest jar file or else I have to use the old one which was deprecated. Thanks.","body":"@Aleks Yes as you said I am looking for an proper library. @ Egor Where can I get the latest jar file or else I have to use the old one which was deprecated. Thanks."},{"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"score":1,"creation_date":1418379373,"post_id":27441249,"comment_id":43322285,"body_markdown":"@MVignesh you can download it from the [Maven Repository](http://search.maven.org/remotecontent?filepath=com/google/code/gson/gson/2.3.1/gson-2.3.1.jar).","body":"@MVignesh you can download it from the <a href=\"http://search.maven.org/remotecontent?filepath=com/google/code/gson/gson/2.3.1/gson-2.3.1.jar\" rel=\"nofollow noreferrer\">Maven Repository</a>."}],"answers":[{"tags":[],"owner":{"account_id":235287,"reputation":753,"user_id":502003,"display_name":"a--"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1418379530,"creation_date":1418379530,"answer_id":27441449,"question_id":27441249,"body_markdown":"GSON is not deprecated and seems to be well supported ([commit history][1]). If you are looking for an alternative [Jackson][2] is a popular one. \r\n\r\n\r\n  [1]: https://code.google.com/p/google-gson/source/list\r\n  [2]: http://wiki.fasterxml.com/JacksonHome","title":"GSON is deprecated. Which one we can use to serialize and deserialize Java objects to and from JSON?","body":"<p>GSON is not deprecated and seems to be well supported (<a href=\"https://code.google.com/p/google-gson/source/list\">commit history</a>). If you are looking for an alternative <a href=\"http://wiki.fasterxml.com/JacksonHome\">Jackson</a> is a popular one. </p>\n"},{"tags":[],"owner":{"account_id":5754280,"reputation":403,"user_id":4542793,"display_name":"Etun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423988380,"creation_date":1423988380,"answer_id":28524232,"question_id":27441249,"body_markdown":"I think the reason for that is that google suggests to switch to Android Studio and if you do so there&#39;s no need for downloading jar, you simple put **compile &#39;com.google.code.gson:gson:2.3.1&#39;**   in dependencies. ","title":"GSON is deprecated. Which one we can use to serialize and deserialize Java objects to and from JSON?","body":"<p>I think the reason for that is that google suggests to switch to Android Studio and if you do so there's no need for downloading jar, you simple put <strong>compile 'com.google.code.gson:gson:2.3.1'</strong>   in dependencies. </p>\n"},{"tags":[],"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687519680,"creation_date":1687519680,"answer_id":76539659,"question_id":27441249,"body_markdown":"From [Gson README.md](https://github.com/google/gson#gson)\r\n\r\n```\r\n Gson is currently in maintenance mode; existing bugs will be\r\n fixed, but large new features will likely not be added. If you want \r\nto add a new feature, please first search for existing GitHub \r\nissues, or create a new one to discuss the feature and get feedback.\r\n```\r\n\r\nso I&#39;d say it **IS** deprecated.\r\n\r\nI agree with the other answer that [Jackson](https://github.com/FasterXML/jackson-databind) is a pretty popular one.","title":"GSON is deprecated. Which one we can use to serialize and deserialize Java objects to and from JSON?","body":"<p>From <a href=\"https://github.com/google/gson#gson\" rel=\"nofollow noreferrer\">Gson README.md</a></p>\n<pre><code> Gson is currently in maintenance mode; existing bugs will be\n fixed, but large new features will likely not be added. If you want \nto add a new feature, please first search for existing GitHub \nissues, or create a new one to discuss the feature and get feedback.\n</code></pre>\n<p>so I'd say it <strong>IS</strong> deprecated.</p>\n<p>I agree with the other answer that <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson</a> is a pretty popular one.</p>\n"}],"owner":{"account_id":1157978,"reputation":1596,"user_id":1138083,"accept_rate":34,"display_name":"M Vignesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3752,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":27441449,"answer_count":3,"score":0,"last_activity_date":1687519680,"creation_date":1418378888,"question_id":27441249,"body_markdown":"Hi I want to store the Java Objects.\r\n\r\nI have searched and found that the GSON library is doing the conversion of Java Object to Json String and vice versa. Then I can store the converted JSON String into the Shared Preferences. \r\n\r\nBut That GSON library is deprecated and there is no update after May 2013.\r\n\r\nKindly provide me an alternate way to implement the same. \r\n\r\nThanks in advance. ","title":"GSON is deprecated. Which one we can use to serialize and deserialize Java objects to and from JSON?","body":"<p>Hi I want to store the Java Objects.</p>\n\n<p>I have searched and found that the GSON library is doing the conversion of Java Object to Json String and vice versa. Then I can store the converted JSON String into the Shared Preferences. </p>\n\n<p>But That GSON library is deprecated and there is no update after May 2013.</p>\n\n<p>Kindly provide me an alternate way to implement the same. </p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","stream","java-stream","grouping"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687517716,"creation_date":1687517716,"answer_id":76539426,"question_id":76539366,"body_markdown":"This is easier to do if you introduced an intermediate type that represents a pair of `Element` and `User`:\r\n\r\n```\r\nrecord UserAndElement(User user, Element element) {}\r\n```\r\n\r\nThen the logic becomes: flatten the orders into a stream of these `UserAndElement` objects, group by their `element`, and then for each group, get their `user`:\r\n\r\n    return orders\r\n        .stream()\r\n        .flatMap(\r\n            x -&gt; x.getElements()\r\n                .stream()\r\n                .map(e -&gt; new UserAndElement(x.getUser(), e))\r\n        ).collect(\r\n            Collectors.groupingBy(UserAndElement::element,\r\n                Collectors.mapping(UserAndElement::user, Collectors.toList())\r\n            )\r\n        );","title":"How can I group Elements by the Users who own them with Stream API?","body":"<p>This is easier to do if you introduced an intermediate type that represents a pair of <code>Element</code> and <code>User</code>:</p>\n<pre><code>record UserAndElement(User user, Element element) {}\n</code></pre>\n<p>Then the logic becomes: flatten the orders into a stream of these <code>UserAndElement</code> objects, group by their <code>element</code>, and then for each group, get their <code>user</code>:</p>\n<pre><code>return orders\n    .stream()\n    .flatMap(\n        x -&gt; x.getElements()\n            .stream()\n            .map(e -&gt; new UserAndElement(x.getUser(), e))\n    ).collect(\n        Collectors.groupingBy(UserAndElement::element,\n            Collectors.mapping(UserAndElement::user, Collectors.toList())\n        )\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687519653,"creation_date":1687519284,"answer_id":76539612,"question_id":76539366,"body_markdown":"Answer by Sweeper is perfect. You may also use an anonymous class in the stream not to have to declare a one-time class:\r\n\r\n        return orders.stream()\r\n                .flatMap(o -&gt; o.elements.stream()\r\n                        .map(e -&gt; new Object() { Element el=e; User u=o.user; })\r\n                )\r\n                .collect(groupingBy(o-&gt;o.el,mapping(o-&gt;o.u,toList())));\r\n","title":"How can I group Elements by the Users who own them with Stream API?","body":"<p>Answer by Sweeper is perfect. You may also use an anonymous class in the stream not to have to declare a one-time class:</p>\n<pre><code>    return orders.stream()\n            .flatMap(o -&gt; o.elements.stream()\n                    .map(e -&gt; new Object() { Element el=e; User u=o.user; })\n            )\n            .collect(groupingBy(o-&gt;o.el,mapping(o-&gt;o.u,toList())));\n</code></pre>\n"}],"owner":{"account_id":28879862,"reputation":39,"user_id":22119553,"display_name":"jackeylove271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76539426,"answer_count":2,"score":0,"last_activity_date":1687519653,"creation_date":1687517136,"question_id":76539366,"body_markdown":"I have the next class:\r\n\r\n```\r\npublic class Order {\r\n\tprivate User user;\r\n\tprivate List&lt;Element&gt; elements;\r\n}\r\n```\r\nAnd I need to create the method which returns the map with elements as `keys` and list of users who own it as `values` using Stream API.\r\n\r\n\r\n```\r\nprivate static Map&lt;Element, List&lt;User&gt;&gt; m(List&lt;Order&gt; orders) {\r\n\t\treturn orders\r\n\t\t\t.stream()\r\n\t\t\t.collect(Collectors.groupingBy(Collectors.mapping(Order::getElements)));\r\n\t\t\t\t\t\t\r\n\t}\r\n```\r\n\r\nFor example for \r\n```\r\nList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\r\n\r\norders.add(Order.createOrder(user1, List.of(element1, element2, element3)));\r\norders.add(Order.createOrder(user2, List.of(element3)));\r\norders.add(Order.createOrder(user3, List.of(element1, element2, element3)));\t\r\n```\r\nwe should get:\r\n\r\n```\r\n{element1={user1, user3}, element2={user1, user3}, element3={user1, user2, user3}}\r\n```\r\nI tried to use `Collectors.groupingBy()`, but we have the Orders in the stream, how can I group it by Elements - Users. I am totally stuck here. Will be thankful for any advice!\r\n","title":"How can I group Elements by the Users who own them with Stream API?","body":"<p>I have the next class:</p>\n<pre><code>public class Order {\n    private User user;\n    private List&lt;Element&gt; elements;\n}\n</code></pre>\n<p>And I need to create the method which returns the map with elements as <code>keys</code> and list of users who own it as <code>values</code> using Stream API.</p>\n<pre><code>private static Map&lt;Element, List&lt;User&gt;&gt; m(List&lt;Order&gt; orders) {\n        return orders\n            .stream()\n            .collect(Collectors.groupingBy(Collectors.mapping(Order::getElements)));\n                        \n    }\n</code></pre>\n<p>For example for</p>\n<pre><code>List&lt;Order&gt; orders = new ArrayList&lt;&gt;();\n\norders.add(Order.createOrder(user1, List.of(element1, element2, element3)));\norders.add(Order.createOrder(user2, List.of(element3)));\norders.add(Order.createOrder(user3, List.of(element1, element2, element3)));    \n</code></pre>\n<p>we should get:</p>\n<pre><code>{element1={user1, user3}, element2={user1, user3}, element3={user1, user2, user3}}\n</code></pre>\n<p>I tried to use <code>Collectors.groupingBy()</code>, but we have the Orders in the stream, how can I group it by Elements - Users. I am totally stuck here. Will be thankful for any advice!</p>\n"},{"tags":["java","spring","kotlin","mockito","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687519647,"creation_date":1687519647,"answer_id":76539654,"question_id":76539564,"body_markdown":"I guess instead of subscribing in the `send()` method, you could return the Mono and subscribe in the caller method, so in your test, you may use `.block()` to wait for the completion and handle the exception:\r\n```kotlin\r\n@Component\r\nclass MyService {\r\n\r\n    val webClient: WebClient by lazy {\r\n        WebClient.builder()\r\n            .baseUrl(&quot;https://localhost:8080&quot;)\r\n            .build()\r\n    }\r\n\r\n    fun send(): Mono&lt;Void&gt; {\r\n        return webClient.get()\r\n            .uri(&quot;/posts&quot;)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::isError) { Mono.error { MyException() } }\r\n            .bodyToMono(Void::class.java)\r\n    }\r\n}\r\n```\r\n\r\n\r\n```kotlin\r\n@Test\r\nfun test() {\r\n    \r\n    mockWebServer.enqueue(MockResponse()\r\n        .setResponseCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\r\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    )\r\n\r\n    assertThrows&lt;MyException&gt; {\r\n        myService.send().block()\r\n    }\r\n}\r\n```\r\n\r\nAnd in your actual code where you do `myService.send()`, you may need to use `.subscribe()`, so the actual code remains non-blocking, and you&#39;re able to test the error handling painlessly","title":"How can I verify whether an exception was thrown by WebFlux async call?","body":"<p>I guess instead of subscribing in the <code>send()</code> method, you could return the Mono and subscribe in the caller method, so in your test, you may use <code>.block()</code> to wait for the completion and handle the exception:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass MyService {\n\n    val webClient: WebClient by lazy {\n        WebClient.builder()\n            .baseUrl(&quot;https://localhost:8080&quot;)\n            .build()\n    }\n\n    fun send(): Mono&lt;Void&gt; {\n        return webClient.get()\n            .uri(&quot;/posts&quot;)\n            .retrieve()\n            .onStatus(HttpStatus::isError) { Mono.error { MyException() } }\n            .bodyToMono(Void::class.java)\n    }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test\nfun test() {\n    \n    mockWebServer.enqueue(MockResponse()\n        .setResponseCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    )\n\n    assertThrows&lt;MyException&gt; {\n        myService.send().block()\n    }\n}\n</code></pre>\n<p>And in your actual code where you do <code>myService.send()</code>, you may need to use <code>.subscribe()</code>, so the actual code remains non-blocking, and you're able to test the error handling painlessly</p>\n"}],"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76539654,"answer_count":1,"score":0,"last_activity_date":1687519647,"creation_date":1687518891,"question_id":76539564,"body_markdown":"## Problem ##\r\nI have a service which executes async request. The method itself does not return anything, although it has error handler. I would like to test whether this handler works properly.\r\n\r\n#### Service ####\r\n\r\n```\r\n@Component\r\nclass MyService {\r\n\r\n    val webClient: WebClient by lazy {\r\n        WebClient.builder()\r\n            .baseUrl(&quot;https://localhost:8080&quot;)\r\n            .build()\r\n    }\r\n\r\n    fun send() {\r\n        webClient.get()\r\n            .uri(&quot;/posts&quot;)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::isError) { Mono.error { MyException() } }\r\n            .bodyToMono(Void::class.java)\r\n            .subscribe()\r\n    }\r\n}\r\n```\r\n\r\n#### Test ####\r\nNow in the test I&#39;ve mocked server response:\r\n```\r\n@Test\r\nfun test() {\r\n    \r\n    mockWebServer.enqueue(MockResponse()\r\n        .setResponseCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\r\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    )\r\n\r\n    myService.send()\r\n\r\n    // Here I want to verify an exception was thrown\r\n}\r\n```\r\n\r\nI could resolve the problem by changing `subscribe()` to `block()` but my goal is call the request asynchronousely and not to block call site.\r\n\r\nThank you for help in advance\r\n","title":"How can I verify whether an exception was thrown by WebFlux async call?","body":"<h2>Problem</h2>\n<p>I have a service which executes async request. The method itself does not return anything, although it has error handler. I would like to test whether this handler works properly.</p>\n<h4>Service</h4>\n<pre><code>@Component\nclass MyService {\n\n    val webClient: WebClient by lazy {\n        WebClient.builder()\n            .baseUrl(&quot;https://localhost:8080&quot;)\n            .build()\n    }\n\n    fun send() {\n        webClient.get()\n            .uri(&quot;/posts&quot;)\n            .retrieve()\n            .onStatus(HttpStatus::isError) { Mono.error { MyException() } }\n            .bodyToMono(Void::class.java)\n            .subscribe()\n    }\n}\n</code></pre>\n<h4>Test</h4>\n<p>Now in the test I've mocked server response:</p>\n<pre><code>@Test\nfun test() {\n    \n    mockWebServer.enqueue(MockResponse()\n        .setResponseCode(HttpStatus.INTERNAL_SERVER_ERROR.value())\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    )\n\n    myService.send()\n\n    // Here I want to verify an exception was thrown\n}\n</code></pre>\n<p>I could resolve the problem by changing <code>subscribe()</code> to <code>block()</code> but my goal is call the request asynchronousely and not to block call site.</p>\n<p>Thank you for help in advance</p>\n"},{"tags":["java","localization","internationalization","struts2","resourcebundle"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1685726113,"post_id":76389382,"comment_id":134706508,"body_markdown":"You don&#39;t need a resourcebundle to read these messages. How do you want to use messages in the code?","body":"You don&#39;t need a resourcebundle to read these messages. How do you want to use messages in the code?"},{"owner":{"account_id":22065,"reputation":1451,"user_id":54128,"accept_rate":78,"display_name":"naveen"},"score":0,"creation_date":1685786022,"post_id":76389382,"comment_id":134712154,"body_markdown":"I wanted use like this only &lt;s:text name=&quot;greeting&quot; /&gt; so page will display  according to the locale and the  key","body":"I wanted use like this only &lt;s:text name=&quot;greeting&quot; /&gt; so page will display  according to the locale and the  key"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1685793674,"post_id":76389382,"comment_id":134712815,"body_markdown":"This is not working with XML files.","body":"This is not working with XML files."},{"owner":{"account_id":22065,"reputation":1451,"user_id":54128,"accept_rate":78,"display_name":"naveen"},"score":0,"creation_date":1685877888,"post_id":76389382,"comment_id":134719634,"body_markdown":"Yes ,it will not work ,I need how we can customize this","body":"Yes ,it will not work ,I need how we can customize this"}],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1693937169,"post_id":76534154,"comment_id":135824581,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687453219,"creation_date":1687453219,"answer_id":76534154,"question_id":76389382,"body_markdown":"It can be customized if you define a custom [`TextProvider`][1] and configure it to use with the project.\r\n\r\n&gt;When you want to use your own implementation for Struts 2 project you have to define following bean and constant in `struts.xml`: \r\n&gt;```xml\r\n&gt;&lt;bean class=&quot;org.demo.MyTextProvider&quot; name=&quot;myTextProvider&quot; type=&quot;com.opensymphony.xwork2.TextProvider&quot; /&gt;\r\n&gt;&lt;constant name=&quot;struts.xworkTextProvider&quot; value=&quot;myTextProvider&quot; /&gt;\r\n&gt;```\r\n&gt;\r\n&gt;Take a look on [`ActionSupport`][2] for example `TextProvider` implementation.\r\n---\r\nYou can read struts2 localization guide for example of implementation of \r\n\r\n&gt;[**Custom TextProvider and TextProviderFactory**][3]:\r\n&gt;\r\n&gt;If you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small [example][4] app how to use both. Please remember that the `TextProvider` interface is implemented by the `ActionSupport` class, thats why an extra layer - `TextProviderFactory` is needed.\r\n---\r\nAnd here is the sample implementation for `XMLResourceBundle`.\r\n\r\n```java\r\npublic class XMLResourceBundleControl extends ResourceBundle.Control {\r\n  private static String XML = &quot;xml&quot;;\r\n\r\n  public List&lt;String&gt; getFormats(String baseName) {\r\n    return Collections.singletonList(XML);\r\n  }\r\n\r\n  public ResourceBundle newBundle(String baseName, Locale locale, String format,\r\n      ClassLoader loader, boolean reload) throws IllegalAccessException, InstantiationException,\r\n      IOException {\r\n\r\n    if ((baseName == null) || (locale == null) || (format == null) || (loader == null)) {\r\n      throw new NullPointerException();\r\n    }\r\n    ResourceBundle bundle = null;\r\n    if (!format.equals(XML)) {\r\n      return null;\r\n    }\r\n\r\n    String bundleName = toBundleName(baseName, locale);\r\n    String resourceName = toResourceName(bundleName, format);\r\n    URL url = loader.getResource(resourceName);\r\n    if (url == null) {\r\n      return null;\r\n    }\r\n    URLConnection connection = url.openConnection();\r\n    if (connection == null) {\r\n      return null;\r\n    }\r\n    if (reload) {\r\n      connection.setUseCaches(false);\r\n    }\r\n    InputStream stream = connection.getInputStream();\r\n    if (stream == null) {\r\n      return null;\r\n    }\r\n    BufferedInputStream bis = new BufferedInputStream(stream);\r\n    bundle = new XMLResourceBundle(bis);\r\n    bis.close();\r\n\r\n    return bundle;\r\n  }\r\n\r\nclass XMLResourceBundle extends ResourceBundle {\r\n  private Properties props;\r\n\r\n  XMLResourceBundle(InputStream stream) throws IOException {\r\n    props = new Properties();\r\n    props.loadFromXML(stream);\r\n  }\r\n\r\n  protected Object handleGetObject(String key) {\r\n    return props.getProperty(key);\r\n  }\r\n\r\n  public Enumeration&lt;String&gt; getKeys() {\r\n    Set&lt;String&gt; handleKeys = props.stringPropertyNames();\r\n    return Collections.enumeration(handleKeys);\r\n  }\r\n}\r\n```\r\n\r\nIn the `TextProvider` implementation you can use\r\n\r\n```java\r\nResourceBundle bundle = ResourceBundle.getBundle(&quot;messages&quot;, new XMLResourceBundleControl());\r\n```\r\n---\r\n\r\nThe `messages.xml` has the following format\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE properties SYSTEM &quot;http://java.sun.com/dtd/properties.dtd&quot;&gt;\r\n&lt;properties&gt;\r\n  &lt;entry key=&quot;greeting&quot;&gt;Hello!&lt;/entry&gt;\r\n  &lt;entry key=&quot;farewell&quot;&gt;Goodbye!&lt;/entry&gt;\r\n&lt;/properties&gt; \r\n```\r\n  [1]: https://javadoc.io/doc/org.apache.struts/struts2-core/2.5.14.1/com/opensymphony/xwork2/TextProvider.html\r\n  [2]: https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/ActionSupport.java\r\n  [3]: https://struts.apache.org/core-developers/localization.html#custom-textprovider-and-textproviderfactory\r\n  [4]: https://github.com/apache/struts-examples/tree/master/text-provider","title":"How to customize message resources to xml files instead of properties in Struts 2","body":"<p>It can be customized if you define a custom <a href=\"https://javadoc.io/doc/org.apache.struts/struts2-core/2.5.14.1/com/opensymphony/xwork2/TextProvider.html\" rel=\"nofollow noreferrer\"><code>TextProvider</code></a> and configure it to use with the project.</p>\n<blockquote>\n<p>When you want to use your own implementation for Struts 2 project you have to define following bean and constant in <code>struts.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;org.demo.MyTextProvider&quot; name=&quot;myTextProvider&quot; type=&quot;com.opensymphony.xwork2.TextProvider&quot; /&gt;\n&lt;constant name=&quot;struts.xworkTextProvider&quot; value=&quot;myTextProvider&quot; /&gt;\n</code></pre>\n<p>Take a look on <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/com/opensymphony/xwork2/ActionSupport.java\" rel=\"nofollow noreferrer\"><code>ActionSupport</code></a> for example <code>TextProvider</code> implementation.</p>\n</blockquote>\n<hr />\n<p>You can read struts2 localization guide for example of implementation of</p>\n<blockquote>\n<p><a href=\"https://struts.apache.org/core-developers/localization.html#custom-textprovider-and-textproviderfactory\" rel=\"nofollow noreferrer\"><strong>Custom TextProvider and TextProviderFactory</strong></a>:</p>\n<p>If you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small <a href=\"https://github.com/apache/struts-examples/tree/master/text-provider\" rel=\"nofollow noreferrer\">example</a> app how to use both. Please remember that the <code>TextProvider</code> interface is implemented by the <code>ActionSupport</code> class, thats why an extra layer - <code>TextProviderFactory</code> is needed.</p>\n</blockquote>\n<hr />\n<p>And here is the sample implementation for <code>XMLResourceBundle</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XMLResourceBundleControl extends ResourceBundle.Control {\n  private static String XML = &quot;xml&quot;;\n\n  public List&lt;String&gt; getFormats(String baseName) {\n    return Collections.singletonList(XML);\n  }\n\n  public ResourceBundle newBundle(String baseName, Locale locale, String format,\n      ClassLoader loader, boolean reload) throws IllegalAccessException, InstantiationException,\n      IOException {\n\n    if ((baseName == null) || (locale == null) || (format == null) || (loader == null)) {\n      throw new NullPointerException();\n    }\n    ResourceBundle bundle = null;\n    if (!format.equals(XML)) {\n      return null;\n    }\n\n    String bundleName = toBundleName(baseName, locale);\n    String resourceName = toResourceName(bundleName, format);\n    URL url = loader.getResource(resourceName);\n    if (url == null) {\n      return null;\n    }\n    URLConnection connection = url.openConnection();\n    if (connection == null) {\n      return null;\n    }\n    if (reload) {\n      connection.setUseCaches(false);\n    }\n    InputStream stream = connection.getInputStream();\n    if (stream == null) {\n      return null;\n    }\n    BufferedInputStream bis = new BufferedInputStream(stream);\n    bundle = new XMLResourceBundle(bis);\n    bis.close();\n\n    return bundle;\n  }\n\nclass XMLResourceBundle extends ResourceBundle {\n  private Properties props;\n\n  XMLResourceBundle(InputStream stream) throws IOException {\n    props = new Properties();\n    props.loadFromXML(stream);\n  }\n\n  protected Object handleGetObject(String key) {\n    return props.getProperty(key);\n  }\n\n  public Enumeration&lt;String&gt; getKeys() {\n    Set&lt;String&gt; handleKeys = props.stringPropertyNames();\n    return Collections.enumeration(handleKeys);\n  }\n}\n</code></pre>\n<p>In the <code>TextProvider</code> implementation you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResourceBundle bundle = ResourceBundle.getBundle(&quot;messages&quot;, new XMLResourceBundleControl());\n</code></pre>\n<hr />\n<p>The <code>messages.xml</code> has the following format</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE properties SYSTEM &quot;http://java.sun.com/dtd/properties.dtd&quot;&gt;\n&lt;properties&gt;\n  &lt;entry key=&quot;greeting&quot;&gt;Hello!&lt;/entry&gt;\n  &lt;entry key=&quot;farewell&quot;&gt;Goodbye!&lt;/entry&gt;\n&lt;/properties&gt; \n</code></pre>\n"}],"owner":{"account_id":22065,"reputation":1451,"user_id":54128,"accept_rate":78,"display_name":"naveen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687519186,"creation_date":1685702151,"question_id":76389382,"body_markdown":"I have already xml messages which used for localization. \r\n```xml\r\n&lt;messages&gt;\r\n  &lt;message key=&quot;greeting&quot;&gt;Hello!&lt;/entry&gt;\r\n  &lt;message key=&quot;farewell&quot;&gt;Goodbye!&lt;/entry&gt;\r\n&lt;/messages&gt;\r\n```\r\nI wanted to reuse this xml messages for struts2 application.\r\nPlease provide how it can be customized to read xml files instead properties files","title":"How to customize message resources to xml files instead of properties in Struts 2","body":"<p>I have already xml messages which used for localization.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;messages&gt;\n  &lt;message key=&quot;greeting&quot;&gt;Hello!&lt;/entry&gt;\n  &lt;message key=&quot;farewell&quot;&gt;Goodbye!&lt;/entry&gt;\n&lt;/messages&gt;\n</code></pre>\n<p>I wanted to reuse this xml messages for struts2 application.\nPlease provide how it can be customized to read xml files instead properties files</p>\n"},{"tags":["java","spring-boot","kotlin","dependency-injection","nullpointerexception"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":1,"creation_date":1687133843,"post_id":76459395,"comment_id":134890002,"body_markdown":"Feels like a problem of **ordering**... you may need to explicitly tell Spring which beans should be instantiated first.  I tried to reproduce using Spring annotations not the DSL approach and it worked for me.  Can you share how you invoke the Kotlin DSL for any Beans/Components created that way?","body":"Feels like a problem of <b>ordering</b>... you may need to explicitly tell Spring which beans should be instantiated first.  I tried to reproduce using Spring annotations not the DSL approach and it worked for me.  Can you share how you invoke the Kotlin DSL for any Beans/Components created that way?"},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1687168176,"post_id":76459395,"comment_id":134894223,"body_markdown":"@AndrewL thx for the comment but, If you check the item #1 in the summary/problem definition part. The services are being correctly injected for individual signIn strategies. And, in my tests I saw the factory instantiated after the strategies instantiated. I am still somewhere around the Kotlin dsl&#39;s behavior. But thx, as per you question how the beans are instantiated;  we are registering ApplicationContextInitializer&#39;s for everything including beans, config etc..","body":"@AndrewL thx for the comment but, If you check the item #1 in the summary/problem definition part. The services are being correctly injected for individual signIn strategies. And, in my tests I saw the factory instantiated after the strategies instantiated. I am still somewhere around the Kotlin dsl&#39;s behavior. But thx, as per you question how the beans are instantiated;  we are registering ApplicationContextInitializer&#39;s for everything including beans, config etc.."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":2,"creation_date":1687174751,"post_id":76459395,"comment_id":134895496,"body_markdown":"Have you considered defining the concrete strategies as lazy beans? So wrap them to: ```bean(name = &quot;googleUserSignIn&quot;) { lazy { IndividualUserSignIn( ........ )  }\n}```. Then update UserSignInFactory to accommodate lazy initialization to: ```(private val userSignInServices: Lazy&lt;Set&lt;IndividualUserSignIn&gt;&gt;)``` . So the strategies are instantiated with the correct dependencies injected before they are accessed in the factory. Just an idea.","body":"Have you considered defining the concrete strategies as lazy beans? So wrap them to: <code>bean(name = &quot;googleUserSignIn&quot;) { lazy { IndividualUserSignIn( ........ )  } }</code>. Then update UserSignInFactory to accommodate lazy initialization to: <code>(private val userSignInServices: Lazy&lt;Set&lt;IndividualUserSignIn&gt;&gt;)</code> . So the strategies are instantiated with the correct dependencies injected before they are accessed in the factory. Just an idea."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1687185463,"post_id":76459395,"comment_id":134897778,"body_markdown":"@djmonki never thought it but will give it a try, for sure","body":"@djmonki never thought it but will give it a try, for sure"},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1687280414,"post_id":76459395,"comment_id":134913488,"body_markdown":"@djmonki I tried your comment and it worked. Lazy beans seems to working. At least at that point, but when I check the injected beans, they are not proxies. Which doubts me the @ Transactional gonna work. Still, if you apply your comment as an answer, I will accept it.","body":"@djmonki I tried your comment and it worked. Lazy beans seems to working. At least at that point, but when I check the injected beans, they are not proxies. Which doubts me the @ Transactional gonna work. Still, if you apply your comment as an answer, I will accept it."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1687478065,"post_id":76459395,"comment_id":134946296,"body_markdown":"Apologies for late response, you could try the following to ensure that the injected beans are still proxies, but also initiated as lazy. Reverse the idea I proposed above and annotate the ```IndividualUserSignIn``` class with the following: ```@Lazy``` and ```@Transactional```. See if that works.","body":"Apologies for late response, you could try the following to ensure that the injected beans are still proxies, but also initiated as lazy. Reverse the idea I proposed above and annotate the <code>IndividualUserSignIn</code> class with the following: <code>@Lazy</code> and <code>@Transactional</code>. See if that works."}],"answers":[{"comments":[{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1687516937,"post_id":76534901,"comment_id":134951309,"body_markdown":"are you sure there is a dependsOn property exists ?","body":"are you sure there is a dependsOn property exists ?"},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":2,"creation_date":1687640127,"post_id":76534901,"comment_id":134965801,"body_markdown":"Looks like ChatGPT. It probably made up the dependsOn property","body":"Looks like ChatGPT. It probably made up the dependsOn property"}],"tags":[],"owner":{"account_id":28871521,"reputation":1,"user_id":22112961,"display_name":"mahdi hashemi"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1687519139,"creation_date":1687459975,"answer_id":76534901,"question_id":76459395,"body_markdown":"it seems that the issue is related to the initialization order of the Spring beans. In particular, the UserSignInFactory bean is being initialized before the beans for IndividualUserSignInService are fully initialized, which is causing the userSignInService field in AbstractUserSignIn to be null when getSignInStrategy() is called.\r\nThis can be done using the depends-on attribute of the bean method in Kotlin DSL:\r\n\r\n\r\n    @DependsOn(&quot;googleUserSignInService&quot;)\r\n    bean(name = &quot;googleUserSignIn&quot;) {\r\n        IndividualUserSignIn(\r\n            ref(&quot;googleUserSignInService&quot;),\r\n            ref(&quot;userHibernateDAO&quot;),\r\n            ref(&quot;socialAccountHibernateDAO&quot;),\r\n            ref(&quot;userService&quot;)\r\n        )\r\n    }\r\n\r\n    @DependsOn(&quot;appleUserSignInService&quot;)\r\n    bean(name = &quot;appleUserSignIn&quot;) {\r\n        IndividualUserSignIn(\r\n            ref(&quot;appleUserSignInService&quot;),\r\n            ref(&quot;userHibernateDAO&quot;),\r\n            ref(&quot;socialAccountHibernateDAO&quot;),\r\n            ref(&quot;userService&quot;),\r\n            ...\r\n        )\r\n    }\r\nYes, it is true that the dependsOn property does not exist, and I took this example from a code that seemed wrong\r\nI used @DependsOn annotation for correction","title":"Spring Boot and Kotlin DSL Configuration","body":"<p>it seems that the issue is related to the initialization order of the Spring beans. In particular, the UserSignInFactory bean is being initialized before the beans for IndividualUserSignInService are fully initialized, which is causing the userSignInService field in AbstractUserSignIn to be null when getSignInStrategy() is called.\nThis can be done using the depends-on attribute of the bean method in Kotlin DSL:</p>\n<pre><code>@DependsOn(&quot;googleUserSignInService&quot;)\nbean(name = &quot;googleUserSignIn&quot;) {\n    IndividualUserSignIn(\n        ref(&quot;googleUserSignInService&quot;),\n        ref(&quot;userHibernateDAO&quot;),\n        ref(&quot;socialAccountHibernateDAO&quot;),\n        ref(&quot;userService&quot;)\n    )\n}\n\n@DependsOn(&quot;appleUserSignInService&quot;)\nbean(name = &quot;appleUserSignIn&quot;) {\n    IndividualUserSignIn(\n        ref(&quot;appleUserSignInService&quot;),\n        ref(&quot;userHibernateDAO&quot;),\n        ref(&quot;socialAccountHibernateDAO&quot;),\n        ref(&quot;userService&quot;),\n        ...\n    )\n}\n</code></pre>\n<p>Yes, it is true that the dependsOn property does not exist, and I took this example from a code that seemed wrong\nI used @DependsOn annotation for correction</p>\n"},{"comments":[{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1687516390,"post_id":76536152,"comment_id":134951215,"body_markdown":"Although this seems to be a bit tricky still a way to solve the issue. I accept this as answer.","body":"Although this seems to be a bit tricky still a way to solve the issue. I accept this as answer."}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687476941,"creation_date":1687474609,"answer_id":76536152,"question_id":76459395,"body_markdown":"Consider defining the concrete strategies as lazy beans. \r\n\r\nThis will ensure that the strategies are instantiated with the correct dependencies injected before they are accessed in the factory.\r\n\r\nUpdated as lazy beans:\r\n```java\r\nbean(name = &quot;googleUserSignIn&quot;) {\r\n  lazy {\r\n    IndividualUserSignIn(\r\n      ref(&quot;googleUserSignInService&quot;),\r\n      ref(&quot;userHibernateDAO&quot;),\r\n      ref(&quot;socialAccountHibernateDAO&quot;),\r\n      ref(&quot;userService&quot;),\r\n      ...\r\n    )\r\n  }\r\n}\r\n\r\nbean(name = &quot;appleUserSignIn&quot;) {\r\n  lazy {\r\n    IndividualUserSignIn(\r\n      ref(&quot;appleUserSignInService&quot;),\r\n      ref(&quot;userHibernateDAO&quot;),\r\n      ref(&quot;socialAccountHibernateDAO&quot;),\r\n      ref(&quot;userService&quot;),\r\n      ...\r\n    )\r\n  }\r\n}\r\n```\r\n\r\nThen update UserSignInFactory class to accommodate lazy initialisation:\r\n```java\r\n@Component\r\nopen class UserSignInFactory @Autowired constructor(\r\n  private val userSignInServices: Lazy&lt;Set&lt;IndividualUserSignIn&gt;&gt;) {\r\n\r\n  @PostConstruct\r\n  private fun createStrategies() {\r\n    userSignInServices.forEach { strategy -&gt;\r\n      strategyMap[strategy.getSignInStrategy()] = strategy // **(C)**\r\n    }\r\n  }\r\n  ....\r\n  companion object {\r\n    private val strategyMap: \r\n    EnumMap&lt;UserSignInStrategy, AbstractUserSignIn&gt; = EnumMap(UserSignInStrategy::class.java)\r\n  }\r\n}\r\n```","title":"Spring Boot and Kotlin DSL Configuration","body":"<p>Consider defining the concrete strategies as lazy beans.</p>\n<p>This will ensure that the strategies are instantiated with the correct dependencies injected before they are accessed in the factory.</p>\n<p>Updated as lazy beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>bean(name = &quot;googleUserSignIn&quot;) {\n  lazy {\n    IndividualUserSignIn(\n      ref(&quot;googleUserSignInService&quot;),\n      ref(&quot;userHibernateDAO&quot;),\n      ref(&quot;socialAccountHibernateDAO&quot;),\n      ref(&quot;userService&quot;),\n      ...\n    )\n  }\n}\n\nbean(name = &quot;appleUserSignIn&quot;) {\n  lazy {\n    IndividualUserSignIn(\n      ref(&quot;appleUserSignInService&quot;),\n      ref(&quot;userHibernateDAO&quot;),\n      ref(&quot;socialAccountHibernateDAO&quot;),\n      ref(&quot;userService&quot;),\n      ...\n    )\n  }\n}\n</code></pre>\n<p>Then update UserSignInFactory class to accommodate lazy initialisation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nopen class UserSignInFactory @Autowired constructor(\n  private val userSignInServices: Lazy&lt;Set&lt;IndividualUserSignIn&gt;&gt;) {\n\n  @PostConstruct\n  private fun createStrategies() {\n    userSignInServices.forEach { strategy -&gt;\n      strategyMap[strategy.getSignInStrategy()] = strategy // **(C)**\n    }\n  }\n  ....\n  companion object {\n    private val strategyMap: \n    EnumMap&lt;UserSignInStrategy, AbstractUserSignIn&gt; = EnumMap(UserSignInStrategy::class.java)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76536152,"answer_count":2,"score":1,"last_activity_date":1687519139,"creation_date":1686594787,"question_id":76459395,"body_markdown":"Lately, I have been assigned to a project that disables some of the auto-config and configures the spring boot app mostly manually using KotlinDSL. \r\n\r\n    @SpringBootApplication(exclude = {\r\n            DataSourceAutoConfiguration.class,\r\n            DataSourceTransactionManagerAutoConfiguration.class,\r\n            JpaRepositoriesAutoConfiguration.class,\r\n            HibernateJpaAutoConfiguration.class,\r\n            CassandraDataAutoConfiguration.class,\r\n            CassandraAutoConfiguration.class\r\n    })\r\n\r\nI am facing I believe Kotlin lang issue with spring integration. \r\n\r\n\r\nLet me show you the setup. \r\n\r\n1. An abstract sign-in strategy with a @Transactional method in it.\r\n2. A concrete child of the above abstract class. IndividualSignIn with supporting two different implementations. Those are Google and Apple individual sign-ins. The difference maker is the service (Google sign-in service, Apple sign-in service) which is injected into the above concrete class beans. I&#39;ll show the setup below.\r\n\r\nSo, the Kotlin dsl is like the below;\r\n\r\n    bean(name = &quot;googleUserSignIn&quot;) {\r\n                IndividualUserSignIn(\r\n                    ref(&quot;googleUserSignInService&quot;),\r\n                    ref(&quot;userHibernateDAO&quot;),\r\n                    ref(&quot;socialAccountHibernateDAO&quot;),\r\n                    ref(&quot;userService&quot;),\r\n                    ...\r\n                )\r\n            }\r\n\r\n    bean(name = &quot;appleUserSignIn&quot;) {\r\n                IndividualUserSignIn(\r\n                    ref(&quot;appleUserSignInService&quot;),\r\n                    ref(&quot;userHibernateDAO&quot;),\r\n                    ref(&quot;socialAccountHibernateDAO&quot;),\r\n                    ref(&quot;userService&quot;),\r\n                    ...\r\n                )\r\n            }\r\n\r\n\r\nAnd finally, the strategy which proxies the request is like below;\r\n \r\n\r\n    bean&lt;UserSignInFactory&gt;()\r\n\r\nThe implementation of these classes are look like below;\r\nfirst the `AbstractStrategy`\r\n\r\n    abstract class AbstractUserSignIn(\r\n        private val userSignInService: UserSignInService,\r\n        private val userDAO: UserDAO,\r\n        private val socialAccountDAO: SocialAccountDAO,\r\n        private val userService: UserService,\r\n        ....\r\n    ) {\r\n    \r\n        @Transactional\r\n        open fun signIn(userSignInRequest: SignInRequest): SignInResult {...}\r\n        \r\n        fun getSignInStrategy(): UserSignInStrategy{ // **(A)**\r\n           return userSignInService.getSignInStrategy()\r\n        }\r\n    }\r\n\r\nThen the classes inherited from this class;\r\n\r\n    open class IndividualUserSignIn constructor(\r\n        userSignInService: UserSignInService,\r\n        userDAO: UserDAO,\r\n        socialAccountDAO: SocialAccountDAO,\r\n        userService: UserService,\r\n        ...\r\n    ) : AbstractUserSignIn(\r\n        userSignInService,\r\n        userDAO,\r\n        socialAccountDAO,\r\n        userService,\r\n        ...\r\n    ) {\r\n    \r\n        @PostConstruct\r\n        private fun init()\r\n        {\r\n            println(&quot;strategy :&quot; + getSignInStrategy()) // **(B)**\r\n        }\r\n    ...\r\n    }\r\n\r\nand the Factory class.\r\n\r\n    @Component\r\n    open class UserSignInFactory @Autowired constructor(private val userSignInServices: Set&lt;IndividualUserSignIn&gt;) {\r\n    \r\n        @PostConstruct\r\n        private fun createStrategies() {\r\n            userSignInServices.forEach { strategy -&gt;\r\n                strategyMap[strategy.getSignInStrategy()] = strategy // **(C)**\r\n            }\r\n        }\r\n        ....\r\n        companion object {\r\n            private val strategyMap: EnumMap&lt;UserSignInStrategy, AbstractUserSignIn&gt; = EnumMap(UserSignInStrategy::class.java)\r\n        }\r\n    }\r\n\r\n\r\nPoint (A) is where the problem arises. The abstract class uses the injected service to let callers know about its supporting implementation. \r\n\r\nWell, here the problem is.\r\n1. At point (B); While the concrete strategies are being instantiated, the @PostConstruct works as expected and prints the supported strategy. Debugging says  **this** is the instance itself of strategy.\r\n2. At point (C); While traversing the Set, I am receiving an NPE because the injected service that is used in point (A) looks null. Here the elements in the **set**, are instances of spring-generated proxies pointing to instances from step #1 above. \r\n","title":"Spring Boot and Kotlin DSL Configuration","body":"<p>Lately, I have been assigned to a project that disables some of the auto-config and configures the spring boot app mostly manually using KotlinDSL.</p>\n<pre><code>@SpringBootApplication(exclude = {\n        DataSourceAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class,\n        JpaRepositoriesAutoConfiguration.class,\n        HibernateJpaAutoConfiguration.class,\n        CassandraDataAutoConfiguration.class,\n        CassandraAutoConfiguration.class\n})\n</code></pre>\n<p>I am facing I believe Kotlin lang issue with spring integration.</p>\n<p>Let me show you the setup.</p>\n<ol>\n<li>An abstract sign-in strategy with a @Transactional method in it.</li>\n<li>A concrete child of the above abstract class. IndividualSignIn with supporting two different implementations. Those are Google and Apple individual sign-ins. The difference maker is the service (Google sign-in service, Apple sign-in service) which is injected into the above concrete class beans. I'll show the setup below.</li>\n</ol>\n<p>So, the Kotlin dsl is like the below;</p>\n<pre><code>bean(name = &quot;googleUserSignIn&quot;) {\n            IndividualUserSignIn(\n                ref(&quot;googleUserSignInService&quot;),\n                ref(&quot;userHibernateDAO&quot;),\n                ref(&quot;socialAccountHibernateDAO&quot;),\n                ref(&quot;userService&quot;),\n                ...\n            )\n        }\n\nbean(name = &quot;appleUserSignIn&quot;) {\n            IndividualUserSignIn(\n                ref(&quot;appleUserSignInService&quot;),\n                ref(&quot;userHibernateDAO&quot;),\n                ref(&quot;socialAccountHibernateDAO&quot;),\n                ref(&quot;userService&quot;),\n                ...\n            )\n        }\n</code></pre>\n<p>And finally, the strategy which proxies the request is like below;</p>\n<pre><code>bean&lt;UserSignInFactory&gt;()\n</code></pre>\n<p>The implementation of these classes are look like below;\nfirst the <code>AbstractStrategy</code></p>\n<pre><code>abstract class AbstractUserSignIn(\n    private val userSignInService: UserSignInService,\n    private val userDAO: UserDAO,\n    private val socialAccountDAO: SocialAccountDAO,\n    private val userService: UserService,\n    ....\n) {\n\n    @Transactional\n    open fun signIn(userSignInRequest: SignInRequest): SignInResult {...}\n    \n    fun getSignInStrategy(): UserSignInStrategy{ // **(A)**\n       return userSignInService.getSignInStrategy()\n    }\n}\n</code></pre>\n<p>Then the classes inherited from this class;</p>\n<pre><code>open class IndividualUserSignIn constructor(\n    userSignInService: UserSignInService,\n    userDAO: UserDAO,\n    socialAccountDAO: SocialAccountDAO,\n    userService: UserService,\n    ...\n) : AbstractUserSignIn(\n    userSignInService,\n    userDAO,\n    socialAccountDAO,\n    userService,\n    ...\n) {\n\n    @PostConstruct\n    private fun init()\n    {\n        println(&quot;strategy :&quot; + getSignInStrategy()) // **(B)**\n    }\n...\n}\n</code></pre>\n<p>and the Factory class.</p>\n<pre><code>@Component\nopen class UserSignInFactory @Autowired constructor(private val userSignInServices: Set&lt;IndividualUserSignIn&gt;) {\n\n    @PostConstruct\n    private fun createStrategies() {\n        userSignInServices.forEach { strategy -&gt;\n            strategyMap[strategy.getSignInStrategy()] = strategy // **(C)**\n        }\n    }\n    ....\n    companion object {\n        private val strategyMap: EnumMap&lt;UserSignInStrategy, AbstractUserSignIn&gt; = EnumMap(UserSignInStrategy::class.java)\n    }\n}\n</code></pre>\n<p>Point (A) is where the problem arises. The abstract class uses the injected service to let callers know about its supporting implementation.</p>\n<p>Well, here the problem is.</p>\n<ol>\n<li>At point (B); While the concrete strategies are being instantiated, the @PostConstruct works as expected and prints the supported strategy. Debugging says  <strong>this</strong> is the instance itself of strategy.</li>\n<li>At point (C); While traversing the Set, I am receiving an NPE because the injected service that is used in point (A) looks null. Here the elements in the <strong>set</strong>, are instances of spring-generated proxies pointing to instances from step #1 above.</li>\n</ol>\n"},{"tags":["java","android","android-studio","kotlin","android-drawable"],"answers":[{"tags":[],"owner":{"account_id":28359832,"reputation":21,"user_id":21690015,"display_name":"Oleksandr Karpiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687519052,"creation_date":1687517598,"answer_id":76539410,"question_id":76538688,"body_markdown":"Some weird behavior, because wrap_content doesn&#39;t work with line shape. Your stroke width is 2dp, and it is meaning, the height of your view should be 3+ dp. \r\n\r\nSo if you have a line with 5dp height, Your view must be higher than 5 (6 or more). \r\n\r\nOr you can add size block to your drawable file and use wrap_content in your views\r\n   \r\n\r\n     &lt;size android:height=&quot;5dp&quot;/&gt;","title":"Horizontal dotted line using drawables in android java","body":"<p>Some weird behavior, because wrap_content doesn't work with line shape. Your stroke width is 2dp, and it is meaning, the height of your view should be 3+ dp.</p>\n<p>So if you have a line with 5dp height, Your view must be higher than 5 (6 or more).</p>\n<p>Or you can add size block to your drawable file and use wrap_content in your views</p>\n<pre><code> &lt;size android:height=&quot;5dp&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":26341049,"reputation":69,"user_id":20000140,"display_name":"Akshay A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687519052,"creation_date":1687511899,"question_id":76538688,"body_markdown":"I want to create a horizontal dotted lien for my android java application. I have created a drawable file and used it inside the view tag on my page. But the line is not showing in the page. Code is given below. Please help!!!\r\n\r\n\r\nGiven below is the files created in drawable.\r\n```&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;line&quot;&gt;\r\n    &lt;stroke\r\n    android:width=&quot;2dp&quot;\r\n    android:color=&quot;#000000&quot;\r\n    android:dashWidth=&quot;4dp&quot;\r\n    android:dashGap=&quot;4dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n```\r\nGiven below is my fragment.xml\r\n\r\n```            &lt;View\r\n                android:id=&quot;@+id/line1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:layout_marginHorizontal=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:drawable=&quot;@drawable/line_seperator_dotted&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/compartmentHeader&quot; /&gt;\r\n```","title":"Horizontal dotted line using drawables in android java","body":"<p>I want to create a horizontal dotted lien for my android java application. I have created a drawable file and used it inside the view tag on my page. But the line is not showing in the page. Code is given below. Please help!!!</p>\n<p>Given below is the files created in drawable.</p>\n<pre><code>    android:shape=&quot;line&quot;&gt;\n    &lt;stroke\n    android:width=&quot;2dp&quot;\n    android:color=&quot;#000000&quot;\n    android:dashWidth=&quot;4dp&quot;\n    android:dashGap=&quot;4dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>Given below is my fragment.xml</p>\n<pre><code>                android:id=&quot;@+id/line1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                android:layout_marginHorizontal=&quot;16dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:drawable=&quot;@drawable/line_seperator_dotted&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/compartmentHeader&quot; /&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4925690,"reputation":146,"user_id":3966980,"display_name":"Criban"},"score":0,"creation_date":1413454600,"post_id":26400779,"comment_id":41453212,"body_markdown":"http://stackoverflow.com/questions/9191288/creating-a-unique-timestamp-in-java","body":"<a href=\"http://stackoverflow.com/questions/9191288/creating-a-unique-timestamp-in-java\" title=\"creating a unique timestamp in java\">stackoverflow.com/questions/9191288/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user2213590"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413451788,"creation_date":1413451788,"answer_id":26400887,"question_id":26400779,"body_markdown":"Add a unique string to each order ID, like the user&#39;s email (if it&#39;s unique in your database) or the user&#39;s id from your database. This makes the order ID truly unique\r\n\r\nString unique = timestamp + unique_user_field","title":"How to generate a UniqueId based on current date","body":"<p>Add a unique string to each order ID, like the user's email (if it's unique in your database) or the user's id from your database. This makes the order ID truly unique</p>\n\n<p>String unique = timestamp + unique_user_field</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1413452469,"creation_date":1413452090,"answer_id":26400981,"question_id":26400779,"body_markdown":"This is happening because of speed of `for` loop which is faster than your _time_ :).As loop iterates in time of less than miliseconds and generates values.You can only call it when you want to insert single value to database and _don&#39;t iterate for values_.\r\n\r\nOther than that you can use [`UUID`][1] for this purpose (_for alphanumeric value_).\r\n\r\n    for (int i = 0; i &lt; 50; i++) {\r\n    \t\tDate dNow = new Date();\r\n            SimpleDateFormat ft = new SimpleDateFormat(&quot;yyMMddhhmmssMs&quot;);\r\n            String datetime = ft.format(dNow);\r\n            System.out.println(datetime);\r\n    }\r\n\r\n***OUTPUT***\r\n\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    141016030003103\r\n    //.....and more\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html","title":"How to generate a UniqueId based on current date","body":"<p>This is happening because of speed of <code>for</code> loop which is faster than your <em>time</em> :).As loop iterates in time of less than miliseconds and generates values.You can only call it when you want to insert single value to database and <em>don't iterate for values</em>.</p>\n\n<p>Other than that you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"noreferrer\"><code>UUID</code></a> for this purpose (<em>for alphanumeric value</em>).</p>\n\n<pre><code>for (int i = 0; i &lt; 50; i++) {\n        Date dNow = new Date();\n        SimpleDateFormat ft = new SimpleDateFormat(\"yyMMddhhmmssMs\");\n        String datetime = ft.format(dNow);\n        System.out.println(datetime);\n}\n</code></pre>\n\n<p><strong><em>OUTPUT</em></strong></p>\n\n<pre><code>141016030003103\n141016030003103\n141016030003103\n141016030003103\n141016030003103\n141016030003103\n141016030003103\n141016030003103\n141016030003103\n//.....and more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3030490,"reputation":126,"user_id":2569622,"display_name":"Keshav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638346859,"creation_date":1413452368,"answer_id":26401091,"question_id":26400779,"body_markdown":"```java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Date d = new Date();\r\n        // it will return a unique value based on time\r\n        System.out.println(d.getTime());\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can use `getTime` method of date class. It returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this date.","title":"How to generate a UniqueId based on current date","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        Date d = new Date();\n        // it will return a unique value based on time\n        System.out.println(d.getTime());\n    }\n\n}\n</code></pre>\n<p>You can use <code>getTime</code> method of date class. It returns the number of milliseconds since January 1, 1970, 00:00:00 GMT represented by this date.</p>\n"},{"tags":[],"owner":{"account_id":2489579,"reputation":559,"user_id":2167341,"display_name":"HIREN011"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1489530292,"creation_date":1489530292,"answer_id":42797708,"question_id":26400779,"body_markdown":"This code will help you generate any number of unique IDs using current time stamp. Generated ID is of type long - 64 bits. Least Significant 17 bits are used when request to generate a new unique ID is received in the same millisecond of time as the previous request. Its identified as Sequence in the code below. That allows the code to generate 65536 unique IDs per millisecond.\r\n\r\n    /**\r\n     * Unique id is composed of:\r\n     * current time stamp - 47 bits (millisecond precision w/a custom epoch gives as 69 years)\r\n     * sequence number - 17 bits - rolls over every 65536 with protection to avoid rollover in the same ms\r\n     **/\r\n    \r\n    public class UniqueIdGenerator {\r\n        private static final long twepoch = 1288834974657L;\r\n        private static final long sequenceBits = 17;\r\n        private static final long sequenceMax = 65536;\r\n        private static volatile long lastTimestamp = -1L;\r\n        private static volatile long sequence = 0L;\r\n    \r\n        public static void main(String[] args) {\r\n            Set&lt;Long&gt; uniqueIds = new HashSet&lt;Long&gt;();\r\n            long now = System.currentTimeMillis();\r\n            for(int i=0; i &lt; 100000; i++)\r\n            {\r\n                uniqueIds.add(generateLongId());\r\n            }\r\n            System.out.println(&quot;Number of Unique IDs generated: &quot; + uniqueIds.size() + &quot; in &quot; + (System.currentTimeMillis() - now) + &quot; milliseconds&quot;);\r\n        }\r\n    \r\n        private static synchronized Long generateLongId() {\r\n            long timestamp = System.currentTimeMillis();\r\n            if (lastTimestamp == timestamp) {\r\n                sequence = (sequence + 1) % sequenceMax;\r\n                if (sequence == 0) {\r\n                    timestamp = tilNextMillis(lastTimestamp);\r\n                }\r\n            } else {\r\n                sequence = 0;\r\n            }\r\n            lastTimestamp = timestamp;\r\n            Long id = ((timestamp - twepoch) &lt;&lt; sequenceBits) | sequence;\r\n            return id;\r\n        }\r\n    \r\n        private static long tilNextMillis(long lastTimestamp) {\r\n            long timestamp = System.currentTimeMillis();\r\n            while (timestamp &lt;= lastTimestamp) {\r\n                timestamp = System.currentTimeMillis();\r\n            }\r\n            return timestamp;\r\n        }\r\n    }","title":"How to generate a UniqueId based on current date","body":"<p>This code will help you generate any number of unique IDs using current time stamp. Generated ID is of type long - 64 bits. Least Significant 17 bits are used when request to generate a new unique ID is received in the same millisecond of time as the previous request. Its identified as Sequence in the code below. That allows the code to generate 65536 unique IDs per millisecond.</p>\n\n<pre><code>/**\n * Unique id is composed of:\n * current time stamp - 47 bits (millisecond precision w/a custom epoch gives as 69 years)\n * sequence number - 17 bits - rolls over every 65536 with protection to avoid rollover in the same ms\n **/\n\npublic class UniqueIdGenerator {\n    private static final long twepoch = 1288834974657L;\n    private static final long sequenceBits = 17;\n    private static final long sequenceMax = 65536;\n    private static volatile long lastTimestamp = -1L;\n    private static volatile long sequence = 0L;\n\n    public static void main(String[] args) {\n        Set&lt;Long&gt; uniqueIds = new HashSet&lt;Long&gt;();\n        long now = System.currentTimeMillis();\n        for(int i=0; i &lt; 100000; i++)\n        {\n            uniqueIds.add(generateLongId());\n        }\n        System.out.println(\"Number of Unique IDs generated: \" + uniqueIds.size() + \" in \" + (System.currentTimeMillis() - now) + \" milliseconds\");\n    }\n\n    private static synchronized Long generateLongId() {\n        long timestamp = System.currentTimeMillis();\n        if (lastTimestamp == timestamp) {\n            sequence = (sequence + 1) % sequenceMax;\n            if (sequence == 0) {\n                timestamp = tilNextMillis(lastTimestamp);\n            }\n        } else {\n            sequence = 0;\n        }\n        lastTimestamp = timestamp;\n        Long id = ((timestamp - twepoch) &lt;&lt; sequenceBits) | sequence;\n        return id;\n    }\n\n    private static long tilNextMillis(long lastTimestamp) {\n        long timestamp = System.currentTimeMillis();\n        while (timestamp &lt;= lastTimestamp) {\n            timestamp = System.currentTimeMillis();\n        }\n        return timestamp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8064110,"reputation":993,"user_id":6078825,"display_name":"Prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489742113,"creation_date":1489742113,"answer_id":42853394,"question_id":26400779,"body_markdown":"Use this: \r\n\r\n    int unique_id= (int) ((new Date().getTime() / 1000L) % Integer.MAX_VALUE); ","title":"How to generate a UniqueId based on current date","body":"<p>Use this: </p>\n\n<pre><code>int unique_id= (int) ((new Date().getTime() / 1000L) % Integer.MAX_VALUE); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2146407,"reputation":1047,"user_id":1903941,"accept_rate":86,"display_name":"Francis Zabala"},"score":0,"creation_date":1556012261,"post_id":52176504,"comment_id":98284080,"body_markdown":"This might fail when there are two concurrent threads running this function.","body":"This might fail when there are two concurrent threads running this function."}],"tags":[],"owner":{"account_id":3713682,"reputation":1629,"user_id":3090370,"display_name":"Neyomal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536117417,"creation_date":1536116951,"answer_id":52176504,"question_id":26400779,"body_markdown":"    I used a simple logical approach which combines current date and time.  That way it is absolutely unique in any given time.\r\n    \r\n    public String  setUniqueID(){\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyddmm&quot;);\r\n        Date date = new Date();\r\n        String dt=String.valueOf(dateFormat.format(date));\r\n        Calendar cal = Calendar.getInstance();\r\n        SimpleDateFormat time = new SimpleDateFormat(&quot;HHmm&quot;);\r\n        String tm= String.valueOf(time.format(new Date()));//time in 24 hour format\r\n        String id= dt+tm;\r\n        System.out.println(id);\r\n        return id;   \r\n    }\r\n    \r\n    This returns a unique id.","title":"How to generate a UniqueId based on current date","body":"<pre><code>I used a simple logical approach which combines current date and time.  That way it is absolutely unique in any given time.\n\npublic String  setUniqueID(){\n    DateFormat dateFormat = new SimpleDateFormat(\"yyddmm\");\n    Date date = new Date();\n    String dt=String.valueOf(dateFormat.format(date));\n    Calendar cal = Calendar.getInstance();\n    SimpleDateFormat time = new SimpleDateFormat(\"HHmm\");\n    String tm= String.valueOf(time.format(new Date()));//time in 24 hour format\n    String id= dt+tm;\n    System.out.println(id);\n    return id;   \n}\n\nThis returns a unique id.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2869812,"reputation":6066,"user_id":2463403,"accept_rate":25,"display_name":"Anees Hameed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579806583,"creation_date":1579806583,"answer_id":59885582,"question_id":26400779,"body_markdown":"You can use `new Date().getTime().toString(36);` which gives a string something like &#39;u2mcggc1&#39;","title":"How to generate a UniqueId based on current date","body":"<p>You can use <code>new Date().getTime().toString(36);</code> which gives a string something like 'u2mcggc1'</p>\n"},{"tags":[],"owner":{"account_id":2892352,"reputation":1456,"user_id":2480836,"accept_rate":56,"display_name":"nmkyuppie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600859924,"creation_date":1600859924,"answer_id":64026800,"question_id":26400779,"body_markdown":"I think this will help to generate a unique timestamp with 20 characters.\r\n\r\n    public class DateTimeService {\r\n    \r\n        @Autowired\r\n        private Clock clock;\r\n        private LocalDateTime current;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            current = LocalDateTime.now(clock);\r\n        }\r\n    \r\n        public synchronized LocalDateTime getUniqueTimestamp() {\r\n            LocalDateTime now = LocalDateTime.now(clock);\r\n            if (current.isEqual(now) || current.isAfter(now)) {\r\n                current = current.plus(1, ChronoUnit.MICROS);\r\n            } else {\r\n                current = now;\r\n            }\r\n            return current;\r\n        }\r\n    }","title":"How to generate a UniqueId based on current date","body":"<p>I think this will help to generate a unique timestamp with 20 characters.</p>\n<pre><code>public class DateTimeService {\n\n    @Autowired\n    private Clock clock;\n    private LocalDateTime current;\n\n    @PostConstruct\n    public void init() {\n        current = LocalDateTime.now(clock);\n    }\n\n    public synchronized LocalDateTime getUniqueTimestamp() {\n        LocalDateTime now = LocalDateTime.now(clock);\n        if (current.isEqual(now) || current.isAfter(now)) {\n            current = current.plus(1, ChronoUnit.MICROS);\n        } else {\n            current = now;\n        }\n        return current;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11465683,"reputation":99,"user_id":8836967,"display_name":"yatheendra k v"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612543393,"creation_date":1610439620,"answer_id":65680214,"question_id":26400779,"body_markdown":"**As per me it is very difficult to get unique String based on date and time,\r\nSince loop speed is very fast, high chances are you get duplicate strings.**\r\n\r\n*But here I have a small code with a **twist** to give a unique String every time even in loop.*\r\n\r\n    public static synchronized String getUniqueStringEveryTime()\r\n\t{\r\n\t\t\r\n\t\t\tDate dNow = new Date();\r\n\t        SimpleDateFormat ft = new SimpleDateFormat(&quot;yyyyMMddHHmmssSS&quot;);\r\n\t        String datetime = ft.format(dNow);\r\n\t        try\r\n\t        {\r\n\t        \tThread.sleep(1);\r\n\t        }catch(Exception e)\r\n\t        {\r\n\t        \t\r\n\t        }\r\n\t        return datetime;\r\n\r\n\t}\r\n\r\nThe above simple method works 100% correct any number of times.","title":"How to generate a UniqueId based on current date","body":"<p><strong>As per me it is very difficult to get unique String based on date and time,\nSince loop speed is very fast, high chances are you get duplicate strings.</strong></p>\n<p><em>But here I have a small code with a <strong>twist</strong> to give a unique String every time even in loop.</em></p>\n<pre><code>public static synchronized String getUniqueStringEveryTime()\n{\n    \n        Date dNow = new Date();\n        SimpleDateFormat ft = new SimpleDateFormat(&quot;yyyyMMddHHmmssSS&quot;);\n        String datetime = ft.format(dNow);\n        try\n        {\n            Thread.sleep(1);\n        }catch(Exception e)\n        {\n            \n        }\n        return datetime;\n\n}\n</code></pre>\n<p>The above simple method works 100% correct any number of times.</p>\n"},{"tags":[],"owner":{"account_id":17205344,"reputation":1,"user_id":12456051,"display_name":"hfazai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687519043,"creation_date":1687518929,"answer_id":76539571,"question_id":26400779,"body_markdown":"In your formatter you are using `Ms` which doesn&#39;t add the milliseconds. Instead, you may want to use `SSS`.","title":"How to generate a UniqueId based on current date","body":"<p>In your formatter you are using <code>Ms</code> which doesn't add the milliseconds. Instead, you may want to use <code>SSS</code>.</p>\n"}],"owner":{"display_name":"user663724"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61029,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":10,"score":9,"last_activity_date":1687519043,"creation_date":1413451504,"question_id":26400779,"body_markdown":"I am generating a OrderId which should consist of yyMMddhhmmssMs and this orderId represents primarykey field for the Orders table .\r\n\r\nThe way i was generating Order Id is below :\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateTime {\r\n    \r\n    \tpublic static String getCurrentDateTimeMS() {\r\n    \t\tDate dNow = new Date();\r\n    \t\tSimpleDateFormat ft = new SimpleDateFormat(&quot;yyMMddhhmmssMs&quot;);\r\n    \t\tString datetime = ft.format(dNow);\r\n    \t\treturn datetime;\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) throws InterruptedException {\r\n    \t\tfor (int i = 0; i &lt; 50; i++) {\r\n    \t\t\tString orderid = DateTime.getCurrentDateTimeMS();\r\n    \t\t\tSystem.out.println(orderid);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBut when i load tested my  Application  using JMeter with 100 users with a ramp up of 2 seconds most of them were throwing Duplicate as shown below \r\n\r\n    java.sql.BatchUpdateException: Duplicate entry &#39;1410160239241024&#39; for key &#39;PRIMARY&#39;\r\n            at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1269)\r\n            at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:955)\r\n            at com.services.OrdersInsertService.getData(OrdersInsertService.java:86)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n\r\n\r\nHow is it possible to generating UniqueId based on current time so that it never fails no matter how many concurrent users are present . ","title":"How to generate a UniqueId based on current date","body":"<p>I am generating a OrderId which should consist of yyMMddhhmmssMs and this orderId represents primarykey field for the Orders table .</p>\n\n<p>The way i was generating Order Id is below :</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateTime {\n\n    public static String getCurrentDateTimeMS() {\n        Date dNow = new Date();\n        SimpleDateFormat ft = new SimpleDateFormat(\"yyMMddhhmmssMs\");\n        String datetime = ft.format(dNow);\n        return datetime;\n    }\n\n    public static void main(String args[]) throws InterruptedException {\n        for (int i = 0; i &lt; 50; i++) {\n            String orderid = DateTime.getCurrentDateTimeMS();\n            System.out.println(orderid);\n        }\n    }\n}\n</code></pre>\n\n<p>But when i load tested my  Application  using JMeter with 100 users with a ramp up of 2 seconds most of them were throwing Duplicate as shown below </p>\n\n<pre><code>java.sql.BatchUpdateException: Duplicate entry '1410160239241024' for key 'PRIMARY'\n        at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1269)\n        at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:955)\n        at com.services.OrdersInsertService.getData(OrdersInsertService.java:86)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n</code></pre>\n\n<p>How is it possible to generating UniqueId based on current time so that it never fails no matter how many concurrent users are present . </p>\n"},{"tags":["java","android","android-recyclerview","native","headerfooter"],"answers":[{"tags":[],"owner":{"account_id":12086283,"reputation":21,"user_id":8835088,"display_name":"Robby Ali Darmawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518777,"creation_date":1686914360,"answer_id":76489673,"question_id":76489672,"body_markdown":"I have implement it but there is issue, which is the footer is below of item. and this is my code:\r\n\r\n    public class HeaderItemYoutuberAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    public static final int HEADER = 1;\r\n    private static final int ITEM = 2;\r\n    private Context mContext;\r\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n    private String guestName= &quot;&quot;;\r\n    private String imgProfile = &quot;&quot;;\r\n    private String descGuest= &quot;&quot;;\r\n    private String posritionGuest= &quot;&quot;;\r\n\r\n    public HeaderItemYoutuberAdapter(Context mContext, List&lt;ListItem&gt; consolidatedList) {\r\n        this.consolidatedList = consolidatedList;\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    \r\n\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int type) {\r\n        final View view;\r\n        RecyclerView.ViewHolder viewHolder = null;\r\n\r\n        if (type == ListItem.TYPE_HEADER) {\r\n            View view1 = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.section_header, viewGroup, false);\r\n            viewHolder = new HeaderViewHolder(view1);\r\n        } else {\r\n            View view2 = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.section_item, viewGroup, false);\r\n            viewHolder = new ItemViewHolder(view2);\r\n\r\n        }\r\n        return viewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\r\n        if (viewHolder.getItemViewType() == ListItem.TYPE_HEADER) {\r\n            HeaderItem generalItem   = (HeaderItem) consolidatedList.get(position);\r\n            HeaderViewHolder generalViewHolder= (HeaderViewHolder) viewHolder;\r\n            generalViewHolder.txtTitleHeader.setText(generalItem.getHeaderYotube().getCategory());\r\n\r\n        } else {\r\n            ItemContent dateItem = (ItemContent) consolidatedList.get(position);\r\n            ItemViewHolder dateViewHolder = (ItemViewHolder) viewHolder;\r\n            if (dateItem.getmStrings().size()&gt;0){\r\n                for (int i = 0; i&lt;dateItem.getmStrings().size(); i++){\r\n                    guestName = dateItem.getmStrings().get(i).getGuestName();\r\n                    imgProfile = dateItem.getmStrings().get(i).getImgProfile();\r\n                    descGuest = dateItem.getmStrings().get(i).getDesc();\r\n                }\r\n            }\r\n\r\n            dateViewHolder.txtTitle.setText(guestName);\r\n            Glide.with(mContext)\r\n                    .load(imgProfile)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                    .placeholder(mContext.getDrawable(R.drawable.image_placeholder))\r\n                    .fitCenter()\r\n                    .into(dateViewHolder.imgContent);\r\n            dateViewHolder.txtDesc.setText(descGuest);        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return consolidatedList != null ? consolidatedList.size() : 0;\r\n    }\r\n\r\n\r\n    private boolean isPositionHeader(int position) {\r\n        return position == 0;\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n       return consolidatedList.get(position).getType();\r\n\r\n    }\r\n\r\n    class HeaderViewHolder extends RecyclerView.ViewHolder {\r\n        protected TextView txtTitleHeader;\r\n\r\n        public HeaderViewHolder(View v) {\r\n            super(v);\r\n            this.txtTitleHeader = (TextView) v.findViewById(R.id.txt_header_section);\r\n\r\n        }\r\n    }\r\n\r\n    class ItemViewHolder extends RecyclerView.ViewHolder {\r\n        protected TextView txtTitle;\r\n        protected ImageView imgContent;\r\n        protected TextView txtDesc;\r\n\r\n        public ItemViewHolder(View v) {\r\n            super(v);\r\n            this.txtTitle   = v.findViewById(R.id.txt_name_youtuber);\r\n            this.txtDesc   = v.findViewById(R.id.txt_desc_youtuber);\r\n            this.imgContent = v.findViewById(R.id.img_exhibition_item);\r\n\r\n        }\r\n    }\r\n   \r\nand this is the result what i have[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/swP1S.jpg","title":"Recylerview set header and item from HasMap","body":"<p>I have implement it but there is issue, which is the footer is below of item. and this is my code:</p>\n<pre><code>public class HeaderItemYoutuberAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\npublic static final int HEADER = 1;\nprivate static final int ITEM = 2;\nprivate Context mContext;\nList&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\nprivate String guestName= &quot;&quot;;\nprivate String imgProfile = &quot;&quot;;\nprivate String descGuest= &quot;&quot;;\nprivate String posritionGuest= &quot;&quot;;\n\npublic HeaderItemYoutuberAdapter(Context mContext, List&lt;ListItem&gt; consolidatedList) {\n    this.consolidatedList = consolidatedList;\n    this.mContext = mContext;\n}\n\n\n\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int type) {\n    final View view;\n    RecyclerView.ViewHolder viewHolder = null;\n\n    if (type == ListItem.TYPE_HEADER) {\n        View view1 = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.section_header, viewGroup, false);\n        viewHolder = new HeaderViewHolder(view1);\n    } else {\n        View view2 = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.section_item, viewGroup, false);\n        viewHolder = new ItemViewHolder(view2);\n\n    }\n    return viewHolder;\n}\n\n@Override\npublic void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n    if (viewHolder.getItemViewType() == ListItem.TYPE_HEADER) {\n        HeaderItem generalItem   = (HeaderItem) consolidatedList.get(position);\n        HeaderViewHolder generalViewHolder= (HeaderViewHolder) viewHolder;\n        generalViewHolder.txtTitleHeader.setText(generalItem.getHeaderYotube().getCategory());\n\n    } else {\n        ItemContent dateItem = (ItemContent) consolidatedList.get(position);\n        ItemViewHolder dateViewHolder = (ItemViewHolder) viewHolder;\n        if (dateItem.getmStrings().size()&gt;0){\n            for (int i = 0; i&lt;dateItem.getmStrings().size(); i++){\n                guestName = dateItem.getmStrings().get(i).getGuestName();\n                imgProfile = dateItem.getmStrings().get(i).getImgProfile();\n                descGuest = dateItem.getmStrings().get(i).getDesc();\n            }\n        }\n\n        dateViewHolder.txtTitle.setText(guestName);\n        Glide.with(mContext)\n                .load(imgProfile)\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .placeholder(mContext.getDrawable(R.drawable.image_placeholder))\n                .fitCenter()\n                .into(dateViewHolder.imgContent);\n        dateViewHolder.txtDesc.setText(descGuest);        }\n}\n\n@Override\npublic int getItemCount() {\n    return consolidatedList != null ? consolidatedList.size() : 0;\n}\n\n\nprivate boolean isPositionHeader(int position) {\n    return position == 0;\n}\n\n@Override\npublic int getItemViewType(int position) {\n   return consolidatedList.get(position).getType();\n\n}\n\nclass HeaderViewHolder extends RecyclerView.ViewHolder {\n    protected TextView txtTitleHeader;\n\n    public HeaderViewHolder(View v) {\n        super(v);\n        this.txtTitleHeader = (TextView) v.findViewById(R.id.txt_header_section);\n\n    }\n}\n\nclass ItemViewHolder extends RecyclerView.ViewHolder {\n    protected TextView txtTitle;\n    protected ImageView imgContent;\n    protected TextView txtDesc;\n\n    public ItemViewHolder(View v) {\n        super(v);\n        this.txtTitle   = v.findViewById(R.id.txt_name_youtuber);\n        this.txtDesc   = v.findViewById(R.id.txt_desc_youtuber);\n        this.imgContent = v.findViewById(R.id.img_exhibition_item);\n\n    }\n}\n</code></pre>\n<p>and this is the result what i have<a href=\"https://i.stack.imgur.com/swP1S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/swP1S.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12086283,"reputation":21,"user_id":8835088,"display_name":"Robby Ali Darmawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687518777,"creation_date":1686914360,"question_id":76489672,"body_markdown":"[![expect result like this][1]][1]\r\n\r\n\r\nexpect result like that.. \r\nand the response from API like this\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/26gpD.png\r\n  [2]: https://i.stack.imgur.com/LBIjK.png\r\n\r\nthen, how to implement it use HasMap and define header and item.\r\nplease help me. thank you.","title":"Recylerview set header and item from HasMap","body":"<p><a href=\"https://i.stack.imgur.com/26gpD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/26gpD.png\" alt=\"expect result like this\" /></a></p>\n<p>expect result like that..\nand the response from API like this\n<a href=\"https://i.stack.imgur.com/LBIjK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBIjK.png\" alt=\"enter image description here\" /></a></p>\n<p>then, how to implement it use HasMap and define header and item.\nplease help me. thank you.</p>\n"},{"tags":["java","spring-boot","maven","debugging","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687506012,"post_id":76536844,"comment_id":134949190,"body_markdown":"Check if https://stackoverflow.com/a/59907162/12844632 looks similar to your case","body":"Check if <a href=\"https://stackoverflow.com/a/59907162/12844632\">stackoverflow.com/a/59907162/12844632</a> looks similar to your case"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687506105,"post_id":76536844,"comment_id":134949207,"body_markdown":"Try running the application via [Maven](https://www.jetbrains.com/help/idea/work-with-maven-goals.html#run_maven_goal_run_config) or [JAR](https://www.jetbrains.com/help/idea/run-debug-configuration-jar.html) run/debug configuration to see if it helps","body":"Try running the application via <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-goals.html#run_maven_goal_run_config\" rel=\"nofollow noreferrer\">Maven</a> or <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-jar.html\" rel=\"nofollow noreferrer\">JAR</a> run/debug configuration to see if it helps"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687511741,"post_id":76536844,"comment_id":134950339,"body_markdown":"First if your IntelliJ version is of 2020.. your should upgrade ...also you are using a version `1.2.5.RELEASE` (`spring-boot-starter-log4j`) those versions are really out of date... use most recent version of IntellIJ 2023.X .. also use most recent version of spring boot 3.1+","body":"First if your IntelliJ version is of 2020.. your should upgrade ...also you are using a version <code>1.2.5.RELEASE</code> (<code>spring-boot-starter-log4j</code>) those versions are really out of date... use most recent version of IntellIJ 2023.X .. also use most recent version of spring boot 3.1+"},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bng Rikimaru"},"score":0,"creation_date":1687515223,"post_id":76536844,"comment_id":134951008,"body_markdown":"@EgorKlepikov Thank you, but https://stackoverflow.com/a/59907162/12844632 doesn&#39;t work for me. I removed spring devtools from External Libraries.\n\nWith this https://www.jetbrains.com/help/idea/2020.2/work-with-maven-goals.html#run_goal and use Maven window &gt;  project app-main &gt; Plugins &gt; spring-boot (comes from spring-boot-maven-plugin in pom.xml) &gt; spring-boot:run AND this extra parameter -Dspring-boot.run.fork=false then I can see IntellJ can start Spring boot application with debugger. But this is not good as devtools doesn&#39;t work with fork=false.","body":"@EgorKlepikov Thank you, but <a href=\"https://stackoverflow.com/a/59907162/12844632\">stackoverflow.com/a/59907162/12844632</a> doesn&#39;t work for me. I removed spring devtools from External Libraries.  With this <a href=\"https://www.jetbrains.com/help/idea/2020.2/work-with-maven-goals.html#run_goal\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2020.2/&hellip;</a> and use Maven window &gt;  project app-main &gt; Plugins &gt; spring-boot (comes from spring-boot-maven-plugin in pom.xml) &gt; spring-boot:run AND this extra parameter -Dspring-boot.run.fork=false then I can see IntellJ can start Spring boot application with debugger. But this is not good as devtools doesn&#39;t work with fork=false."}],"answers":[{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bng Rikimaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518706,"creation_date":1687518706,"answer_id":76539543,"question_id":76536844,"body_markdown":"This works well with IntelliJ and spring boot devtools, IF, I removed Log4j from pom.xml for both `core` and `main-app` applications and I don&#39;t add this `exclusions` anymore:\r\n\r\n```\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;    \r\n```\r\n\r\n\r\nIn `application.properties` of `main-app`, I have:\r\n\r\n```\r\nspring.devtools.restart.additional-paths=../core\r\n```\r\n\r\nThen, with `Logback` the default logging of Spring boot which I tested and I can just run `ApplicationMain` in `main-app` via Intellj without any problem.\r\n\r\nIt is very nice when I changed something in `core` application and IntelliJ can allow Spring `devtools` to classes in classpath and in `main-app` the result is changed as well.","title":"Spring boot can run with mvn spring-boot:run but not working via IntelliJ community to run main class?","body":"<p>This works well with IntelliJ and spring boot devtools, IF, I removed Log4j from pom.xml for both <code>core</code> and <code>main-app</code> applications and I don't add this <code>exclusions</code> anymore:</p>\n<pre><code>            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;    \n</code></pre>\n<p>In <code>application.properties</code> of <code>main-app</code>, I have:</p>\n<pre><code>spring.devtools.restart.additional-paths=../core\n</code></pre>\n<p>Then, with <code>Logback</code> the default logging of Spring boot which I tested and I can just run <code>ApplicationMain</code> in <code>main-app</code> via Intellj without any problem.</p>\n<p>It is very nice when I changed something in <code>core</code> application and IntelliJ can allow Spring <code>devtools</code> to classes in classpath and in <code>main-app</code> the result is changed as well.</p>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bng Rikimaru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687518706,"creation_date":1687489342,"question_id":76536844,"body_markdown":"I have `IntelliJ community 2020.2.4` version and a `Spring Boot 2.7.10` web application (called `main-app`) using `maven` with `openjdk version &quot;11.0.18&quot; 2023-01-17`,\r\n\r\nThis application has a dependency which is another project (which compiled to a `core.jar` file).\r\n\r\nI don&#39;t want to use `Logback` by default provided by Spring Boot, but `log4j version 1`. Hence:\r\n\r\n- In `core` project, with `pom.xml`, it has:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n- In `main-app` project, with `pom.xml`, it has:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;            \r\n        &lt;/dependency&gt;    \r\n```\r\n\r\n\r\nNormally, what I do to be able to run and debug this `main-app` in my local system is, I run it in a Linux terminal:\r\n\r\n```\r\ncd core &amp;&amp; mvn install &gt;&gt; /dev/null\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\r\n```\r\n\r\nThen, I can use IntelliJ to attach remote debugger (although IntelliJ and Spring Boot application are both in a local system) like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, I don&#39;t understand why, if I just run the `main` method in `ApplicationMain.java` in `main-app` application with Intellij, then it has error and Spring boot stopped (shift + F10).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\nERROR [2023-06-23 04:52:05] ApplicationMain@712: Error starting petascope with embedded Tomcat. Reason: class org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to class org.apache.logging.log4j.core.LoggerContext (org.apache.logging.slf4j.SLF4JLoggerContext and org.apache.logging.log4j.core.LoggerContext are in unnamed module of loader &#39;app&#39;)\r\njava.lang.ClassCastException: class org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to class org.apache.logging.log4j.core.LoggerContext (org.apache.logging.slf4j.SLF4JLoggerContext and org.apache.logging.log4j.core.LoggerContext are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.getLoggerContext(Log4J2LoggingSystem.java:401)\r\n\tat org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.beforeInitialize(Log4J2LoggingSystem.java:154)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:298)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat org.rasdaman.ApplicationMain.main(ApplicationMain.java:706)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n```\r\n\r\n\r\nI don&#39;t understand what is wrong with Spring Boot here when IntelliJ tried to start it via the `main` method, while it works fine with `mvn spring-boot:run`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KJX1L.png\r\n  [2]: https://i.stack.imgur.com/D6sbL.png","title":"Spring boot can run with mvn spring-boot:run but not working via IntelliJ community to run main class?","body":"<p>I have <code>IntelliJ community 2020.2.4</code> version and a <code>Spring Boot 2.7.10</code> web application (called <code>main-app</code>) using <code>maven</code> with <code>openjdk version &quot;11.0.18&quot; 2023-01-17</code>,</p>\n<p>This application has a dependency which is another project (which compiled to a <code>core.jar</code> file).</p>\n<p>I don't want to use <code>Logback</code> by default provided by Spring Boot, but <code>log4j version 1</code>. Hence:</p>\n<ul>\n<li>In <code>core</code> project, with <code>pom.xml</code>, it has:</li>\n</ul>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>In <code>main-app</code> project, with <code>pom.xml</code>, it has:</li>\n</ul>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.test&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;            \n        &lt;/dependency&gt;    \n</code></pre>\n<p>Normally, what I do to be able to run and debug this <code>main-app</code> in my local system is, I run it in a Linux terminal:</p>\n<pre><code>cd core &amp;&amp; mvn install &gt;&gt; /dev/null\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\n</code></pre>\n<p>Then, I can use IntelliJ to attach remote debugger (although IntelliJ and Spring Boot application are both in a local system) like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KJX1L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJX1L.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I don't understand why, if I just run the <code>main</code> method in <code>ApplicationMain.java</code> in <code>main-app</code> application with Intellij, then it has error and Spring boot stopped (shift + F10).</p>\n<p><a href=\"https://i.stack.imgur.com/D6sbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6sbL.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ERROR [2023-06-23 04:52:05] ApplicationMain@712: Error starting petascope with embedded Tomcat. Reason: class org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to class org.apache.logging.log4j.core.LoggerContext (org.apache.logging.slf4j.SLF4JLoggerContext and org.apache.logging.log4j.core.LoggerContext are in unnamed module of loader 'app')\njava.lang.ClassCastException: class org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to class org.apache.logging.log4j.core.LoggerContext (org.apache.logging.slf4j.SLF4JLoggerContext and org.apache.logging.log4j.core.LoggerContext are in unnamed module of loader 'app')\n    at org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.getLoggerContext(Log4J2LoggingSystem.java:401)\n    at org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.beforeInitialize(Log4J2LoggingSystem.java:154)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:238)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:220)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:79)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$starting$0(SpringApplicationRunListeners.java:56)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:56)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:298)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at org.rasdaman.ApplicationMain.main(ApplicationMain.java:706)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>I don't understand what is wrong with Spring Boot here when IntelliJ tried to start it via the <code>main</code> method, while it works fine with <code>mvn spring-boot:run</code>.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"score":0,"creation_date":1278434256,"post_id":3188171,"comment_id":3283965,"body_markdown":"As a side-note, you may wish to redesign your `Cipher.getInstance(&quot;DES&quot;)` method call: http://stackoverflow.com/questions/3180878/exception-in-aes-decryption-algorithm-in-java/3181250#3181250","body":"As a side-note, you may wish to redesign your <code>Cipher.getInstance(&quot;DES&quot;)</code> method call: <a href=\"http://stackoverflow.com/questions/3180878/exception-in-aes-decryption-algorithm-in-java/3181250#3181250\" title=\"exception in aes decryption algorithm in java\">stackoverflow.com/questions/3180878/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":61382,"reputation":74440,"user_id":182971,"accept_rate":72,"display_name":"Sjoerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1278433862,"creation_date":1278433862,"answer_id":3188211,"question_id":3188171,"body_markdown":"If the attacker has access to both the software and the file, it could decrypt it. There are some ways to solve this:\r\n\r\n- Use asymetric keys. Encrypt the file with the public key, and it can only be decrypted with a private key. This assumes that the software does not need to decrypt the file.\r\n- Use Diffie-Hellman exchange. If you want to send an encrypted piece of data over the network, both parties can establish a key without an attacker knowing about it.\r\n\r\nIf the program needs to both encrypt and decrypt the data, there is nothing you can do. The attacker  can simply run the program and look at the decrypted information.","title":"Java encryption alternitive to hardcoded key","body":"<p>If the attacker has access to both the software and the file, it could decrypt it. There are some ways to solve this:</p>\n\n<ul>\n<li>Use asymetric keys. Encrypt the file with the public key, and it can only be decrypted with a private key. This assumes that the software does not need to decrypt the file.</li>\n<li>Use Diffie-Hellman exchange. If you want to send an encrypted piece of data over the network, both parties can establish a key without an attacker knowing about it.</li>\n</ul>\n\n<p>If the program needs to both encrypt and decrypt the data, there is nothing you can do. The attacker  can simply run the program and look at the decrypted information.</p>\n"},{"tags":[],"owner":{"account_id":84900,"reputation":2129,"user_id":237073,"accept_rate":100,"display_name":"Martin Wiboe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278433914,"creation_date":1278433914,"answer_id":3188218,"question_id":3188171,"body_markdown":"I do not believe that this is possible without having the user entering the key on encryption and decryption.\r\n\r\nYou could employ some technique to make it harder to view the key without the full source code, but it would not be secure.","title":"Java encryption alternitive to hardcoded key","body":"<p>I do not believe that this is possible without having the user entering the key on encryption and decryption.</p>\n\n<p>You could employ some technique to make it harder to view the key without the full source code, but it would not be secure.</p>\n"},{"tags":[],"owner":{"account_id":143129,"reputation":1012,"user_id":351264,"display_name":"Dave Kilian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278433916,"creation_date":1278433916,"answer_id":3188219,"question_id":3188171,"body_markdown":"If your program can encrypt / decrypt a file on its own, then everything you need to perform the decryption is already built into the program, so a determined troublemaker could decrypt files you encrypted.\r\n\r\nIf possible, ask the user for a &#39;password,&#39; and use what they give you as the encryption / decryption key.","title":"Java encryption alternitive to hardcoded key","body":"<p>If your program can encrypt / decrypt a file on its own, then everything you need to perform the decryption is already built into the program, so a determined troublemaker could decrypt files you encrypted.</p>\n\n<p>If possible, ask the user for a 'password,' and use what they give you as the encryption / decryption key.</p>\n"},{"tags":[],"owner":{"account_id":46925,"reputation":8408,"user_id":138837,"accept_rate":60,"display_name":"Drew Wills"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278433993,"creation_date":1278433993,"answer_id":3188230,"question_id":3188171,"body_markdown":"Is it important that the user not be able to see his own encryption key?  Or merely important that by discovering his won key, the user should not thereby know everyone else&#39;s key?\r\n\r\nYou could prompt the user for a personal key and either store it externally or prompt the user each time you need it.  That way each user&#39;s key would be his own, and would not be usable to decrypt documents stored by other users on other machines.","title":"Java encryption alternitive to hardcoded key","body":"<p>Is it important that the user not be able to see his own encryption key?  Or merely important that by discovering his won key, the user should not thereby know everyone else's key?</p>\n\n<p>You could prompt the user for a personal key and either store it externally or prompt the user each time you need it.  That way each user's key would be his own, and would not be usable to decrypt documents stored by other users on other machines.</p>\n"},{"tags":[],"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1278434397,"creation_date":1278434397,"answer_id":3188291,"question_id":3188171,"body_markdown":"An attacker can always do everything the program can do and usually quite a bit more. The only way to get things secure is the use information not under control of the program. Request the user to enter a password or put information in a store under control of the operating system. The later will not help if an attacker has physical access or maybe even a lot of rights unless special hardware like a Trusted Platform Module (TPM) is involved.","title":"Java encryption alternitive to hardcoded key","body":"<p>An attacker can always do everything the program can do and usually quite a bit more. The only way to get things secure is the use information not under control of the program. Request the user to enter a password or put information in a store under control of the operating system. The later will not help if an attacker has physical access or maybe even a lot of rights unless special hardware like a Trusted Platform Module (TPM) is involved.</p>\n"},{"tags":[],"owner":{"account_id":145890,"reputation":1453,"user_id":355999,"display_name":"ollb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278435903,"creation_date":1278435903,"answer_id":3188477,"question_id":3188171,"body_markdown":"Well if the program can decrypt the data without additional input from the user, you can&#39;t really avoid someone else from accessing the file if he has access to the program.\r\n\r\nIf you are targeting Windows only, you might want to take a look at the [Data Protection API (DPAPI)][1]. It essentially does the same thing, but the passphrase used for encryption is protected by the operating system on a user (or machine) scope. Simply put: you need the user login (or a program that runs on the given user account) to access the key (or for machine scope the login for any user on the machine).\r\n\r\nI don&#39;t know how to access the API from Java, but Google brings up some wrapper libraries.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms995355.aspx","title":"Java encryption alternitive to hardcoded key","body":"<p>Well if the program can decrypt the data without additional input from the user, you can't really avoid someone else from accessing the file if he has access to the program.</p>\n\n<p>If you are targeting Windows only, you might want to take a look at the <a href=\"http://msdn.microsoft.com/en-us/library/ms995355.aspx\" rel=\"nofollow noreferrer\">Data Protection API (DPAPI)</a>. It essentially does the same thing, but the passphrase used for encryption is protected by the operating system on a user (or machine) scope. Simply put: you need the user login (or a program that runs on the given user account) to access the key (or for machine scope the login for any user on the machine).</p>\n\n<p>I don't know how to access the API from Java, but Google brings up some wrapper libraries.</p>\n"},{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278438050,"creation_date":1278438050,"answer_id":3188757,"question_id":3188171,"body_markdown":"Don&#39;t hardcode the key.  Assuming you don&#39;t have a user on hand to enter the passphrase, configure your code to pull the encryption key from a plain file, then rely on operating system security to keep the file safe.  Provide a way to migrate to a new key when the system administrator deems it necessary.","title":"Java encryption alternitive to hardcoded key","body":"<p>Don't hardcode the key.  Assuming you don't have a user on hand to enter the passphrase, configure your code to pull the encryption key from a plain file, then rely on operating system security to keep the file safe.  Provide a way to migrate to a new key when the system administrator deems it necessary.</p>\n"},{"tags":[],"owner":{"account_id":2346102,"reputation":1,"user_id":2056319,"display_name":"user2056319"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518523,"creation_date":1360376552,"answer_id":14784285,"question_id":3188171,"body_markdown":"The most secure method is not use any encryption, just put your `user.properties` to your home directory, with following code:\r\n\r\n    String userhome = System.getProperty(&quot;user.home&quot;);\r\n    String username = system.getProperty(&quot;user.name&quot;);\r\n    String hostname = java.net.InetAddress.getLocalHost().getHostName();\r\n\r\n    if (hostname.equals(&quot;webserver&quot;) &amp;&amp; username.equals(&quot;root&quot;)){\r\n        ResourceBundle user = ResourceBundle.getBundle(userhome/ &quot;user.properties&quot;);\r\n    }\r\n\r\n","title":"Java encryption alternitive to hardcoded key","body":"<p>The most secure method is not use any encryption, just put your <code>user.properties</code> to your home directory, with following code:</p>\n<pre><code>String userhome = System.getProperty(&quot;user.home&quot;);\nString username = system.getProperty(&quot;user.name&quot;);\nString hostname = java.net.InetAddress.getLocalHost().getHostName();\n\nif (hostname.equals(&quot;webserver&quot;) &amp;&amp; username.equals(&quot;root&quot;)){\n    ResourceBundle user = ResourceBundle.getBundle(userhome/ &quot;user.properties&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":162943,"reputation":585,"user_id":384746,"accept_rate":67,"display_name":"DRJTower"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15800,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3188211,"answer_count":8,"score":10,"last_activity_date":1687518523,"creation_date":1278433547,"question_id":3188171,"body_markdown":"I am new to encryption.\r\n\r\nI have looked at the javax.crypto documentation and got encryption of a file to work using this code ...\r\n\r\n    File saveFile = new File(&quot;Settings.set&quot;);\r\n            saveFile.delete();\r\n            FileOutputStream fout = new FileOutputStream(saveFile);\r\n\r\n            //Encrypt the settings\r\n            //Generate a key\r\n            byte key[] = &quot;My Encryption Key98&quot;.getBytes();\r\n            DESKeySpec desKeySpec = new DESKeySpec(key);\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n            SecretKey skey = keyFactory.generateSecret(desKeySpec);\r\n\r\n            //Prepare the encrypter\r\n            Cipher ecipher = Cipher.getInstance(&quot;DES&quot;);\r\n            ecipher.init(Cipher.ENCRYPT_MODE, skey);\r\n            // Seal (encrypt) the object\r\n            SealedObject so = new SealedObject(this, ecipher);\r\n\r\n            ObjectOutputStream o = new ObjectOutputStream(fout);\r\n            o.writeObject(so);\r\n            o.close();\r\n\r\n \r\nHowever if you were a clever hacker ( or maybe even amateur since I figured this out), all you would have to do is open the class file that contains this code, and the encryption key (My Encryption Key98) is plainly visible.\r\n\r\nHow do you encrypt the encryption key? ...LOL...  Can you?\r\n\r\nThanks for your help!","title":"Java encryption alternitive to hardcoded key","body":"<p>I am new to encryption.</p>\n\n<p>I have looked at the javax.crypto documentation and got encryption of a file to work using this code ...</p>\n\n<pre><code>File saveFile = new File(\"Settings.set\");\n        saveFile.delete();\n        FileOutputStream fout = new FileOutputStream(saveFile);\n\n        //Encrypt the settings\n        //Generate a key\n        byte key[] = \"My Encryption Key98\".getBytes();\n        DESKeySpec desKeySpec = new DESKeySpec(key);\n        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"DES\");\n        SecretKey skey = keyFactory.generateSecret(desKeySpec);\n\n        //Prepare the encrypter\n        Cipher ecipher = Cipher.getInstance(\"DES\");\n        ecipher.init(Cipher.ENCRYPT_MODE, skey);\n        // Seal (encrypt) the object\n        SealedObject so = new SealedObject(this, ecipher);\n\n        ObjectOutputStream o = new ObjectOutputStream(fout);\n        o.writeObject(so);\n        o.close();\n</code></pre>\n\n<p>However if you were a clever hacker ( or maybe even amateur since I figured this out), all you would have to do is open the class file that contains this code, and the encryption key (My Encryption Key98) is plainly visible.</p>\n\n<p>How do you encrypt the encryption key? ...LOL...  Can you?</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","arrays","sum"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1607067831,"post_id":65139653,"comment_id":115161025,"body_markdown":"&quot;arraylist1 is just my array holding the values of each card&quot; it would be helpful to know its actual content anyway.","body":"&quot;arraylist1 is just my array holding the values of each card&quot; it would be helpful to know its actual content anyway."},{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1607067908,"post_id":65139653,"comment_id":115161055,"body_markdown":"How are `arraylist1` and `final_listarray` (bad names btw) declared? How do you print your result? Please add a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"How are <code>arraylist1</code> and <code>final_listarray</code> (bad names btw) declared? How do you print your result? Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1607067956,"post_id":65139653,"comment_id":115161071,"body_markdown":"It seems to me like a good case to learn using a debugger. Did you try that?","body":"It seems to me like a good case to learn using a debugger. Did you try that?"},{"owner":{"account_id":19923405,"reputation":3,"user_id":14598689,"display_name":"Mo R"},"score":0,"creation_date":1607068064,"post_id":65139653,"comment_id":115161102,"body_markdown":"arraylist1=[8,5,6,1,11] (the first 3 represent EIGHT,FIVE,SIX and the 4th and 5th element is from the ACE card)","body":"arraylist1=[8,5,6,1,11] (the first 3 represent EIGHT,FIVE,SIX and the 4th and 5th element is from the ACE card)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1607068066,"post_id":65139653,"comment_id":115161103,"body_markdown":"Also, shouldn&#39;t you *always* increment `max_adding_1` and `max_adding_11` and only increment `max_excluding_Ace` when the current card is not an ace?","body":"Also, shouldn&#39;t you <i>always</i> increment <code>max_adding_1</code> and <code>max_adding_11</code> and only increment <code>max_excluding_Ace</code> when the current card is not an ace?"},{"owner":{"account_id":19923405,"reputation":3,"user_id":14598689,"display_name":"Mo R"},"score":0,"creation_date":1607068183,"post_id":65139653,"comment_id":115161142,"body_markdown":"This method is inside of a class, and i return the final_listarray to get a listarray containing either 1 or 2 elements. It contains 1 if there is no ace, and 2 if there is an ace","body":"This method is inside of a class, and i return the final_listarray to get a listarray containing either 1 or 2 elements. It contains 1 if there is no ace, and 2 if there is an ace"},{"owner":{"account_id":19923405,"reputation":3,"user_id":14598689,"display_name":"Mo R"},"score":0,"creation_date":1607068329,"post_id":65139653,"comment_id":115161195,"body_markdown":"the reason i added max_adding_1 and max_adding_11, is because I need to use them in the final_listarray as max_adding_1 would be the first element, and max_adding_11 is the second element","body":"the reason i added max_adding_1 and max_adding_11, is because I need to use them in the final_listarray as max_adding_1 would be the first element, and max_adding_11 is the second element"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1607068475,"post_id":65139653,"comment_id":115161245,"body_markdown":"@MoR so given `arraylist1=[8,5,6,1,11]` (bad example IHMO) the output should be `[1, 11]`, given, let&#39;s say `arraylist1=[8,1,5,6,1,11]` it should be `[2,11]` and given `arraylist1=[8,5,6]` it should be `[19]`, correct?","body":"@MoR so given <code>arraylist1=[8,5,6,1,11]</code> (bad example IHMO) the output should be <code>[1, 11]</code>, given, let&#39;s say <code>arraylist1=[8,1,5,6,1,11]</code> it should be <code>[2,11]</code> and given <code>arraylist1=[8,5,6]</code> it should be <code>[19]</code>, correct?"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518476,"creation_date":1687518476,"answer_id":76539512,"question_id":65139653,"body_markdown":"It&#39;s not clear that `arraylist1` is a list of integers.\r\nPresumably the value of each card in the hand.\r\n\r\nWhen you check `arraylist1.get(i)==1` (or `==11`) this implies that the value of an Ace is already given in the original hand.\r\n\r\nBut it sounds like what you want is two results: one for if Ace is 1, and one for if Ace is 11.\r\n\r\n(Also, if Ace is 11, what is a Jack, Queen, King ?)\r\n\r\nI suggest to make the meanings, semantics and intentions clear with a `Card` enum class:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public enum Card {\r\n        ACE(1),\r\n        TWO(2),\r\n        THREE(3),\r\n        FOUR(4),\r\n        FIVE(5),\r\n        SIX(6),\r\n        SEVEN(7),\r\n        EIGHT(8),\r\n        NINE(9),\r\n        TEN(10),\r\n        JACK(11),\r\n        QUEEN(11),\r\n        KING(11);\r\n    \r\n        private final int value;\r\n    \r\n        private Card(int value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public static int valueOfHand(Iterable&lt;Card&gt; hand, boolean aceIs11) {\r\n            int total = 0;\r\n            for( Card card : hand) {\r\n                if( aceIs11 &amp;&amp; card == ACE ) {\r\n                    total += 11;\r\n                } else {\r\n                    total += card.value;\r\n                }\r\n            }\r\n            return total;\r\n        }\r\n    \r\n        public static Integer[] valuesOfHand(Iterable&lt;Card&gt; hand) {\r\n            int totalAce1 = 0;\r\n            int totalAce11 = 0;\r\n            for( Card card : hand) {\r\n                if( card == ACE ) {\r\n                    totalAce1 += 1;\r\n                    totalAce11 += 11;\r\n                } else {\r\n                    totalAce1 += card.value;\r\n                    totalAce11 += card.value;\r\n                }\r\n            }\r\n            return new Integer[] {totalAce1, totalAce11};\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            List&lt;Card&gt; hand = Arrays.asList( TWO, ACE, KING, ACE );\r\n            System.out.println( valueOfHand( hand, false)); // 15\r\n            System.out.println( valueOfHand( hand, true)); // 35\r\n            System.out.println( Arrays.asList(valuesOfHand( hand ))); // 15, 35\r\n        }\r\n    }\r\n    \r\n","title":"Compute a full hand of cards","body":"<p>It's not clear that <code>arraylist1</code> is a list of integers.\nPresumably the value of each card in the hand.</p>\n<p>When you check <code>arraylist1.get(i)==1</code> (or <code>==11</code>) this implies that the value of an Ace is already given in the original hand.</p>\n<p>But it sounds like what you want is two results: one for if Ace is 1, and one for if Ace is 11.</p>\n<p>(Also, if Ace is 11, what is a Jack, Queen, King ?)</p>\n<p>I suggest to make the meanings, semantics and intentions clear with a <code>Card</code> enum class:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic enum Card {\n    ACE(1),\n    TWO(2),\n    THREE(3),\n    FOUR(4),\n    FIVE(5),\n    SIX(6),\n    SEVEN(7),\n    EIGHT(8),\n    NINE(9),\n    TEN(10),\n    JACK(11),\n    QUEEN(11),\n    KING(11);\n\n    private final int value;\n\n    private Card(int value) {\n        this.value = value;\n    }\n\n    public static int valueOfHand(Iterable&lt;Card&gt; hand, boolean aceIs11) {\n        int total = 0;\n        for( Card card : hand) {\n            if( aceIs11 &amp;&amp; card == ACE ) {\n                total += 11;\n            } else {\n                total += card.value;\n            }\n        }\n        return total;\n    }\n\n    public static Integer[] valuesOfHand(Iterable&lt;Card&gt; hand) {\n        int totalAce1 = 0;\n        int totalAce11 = 0;\n        for( Card card : hand) {\n            if( card == ACE ) {\n                totalAce1 += 1;\n                totalAce11 += 11;\n            } else {\n                totalAce1 += card.value;\n                totalAce11 += card.value;\n            }\n        }\n        return new Integer[] {totalAce1, totalAce11};\n    }\n\n    public static void main(String... args) {\n        List&lt;Card&gt; hand = Arrays.asList( TWO, ACE, KING, ACE );\n        System.out.println( valueOfHand( hand, false)); // 15\n        System.out.println( valueOfHand( hand, true)); // 35\n        System.out.println( Arrays.asList(valuesOfHand( hand ))); // 15, 35\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19923405,"reputation":3,"user_id":14598689,"display_name":"Mo R"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687518476,"creation_date":1607067605,"question_id":65139653,"body_markdown":"I am trying to compute a total value for a hand of cards. If there is no Ace, there will be 1 element in the `final_listarray`. If there is an Ace, there would be 2 elements to represent total possible value of hand of cards (as Ace can be 1 or 11).\r\n\r\nFor some reason, my array just outputs [0,0], and is not what I want.\r\n\r\n(`arraylist1` is just my array holding the values of each card. In this case an Ace would hold both 1 and 11, any other value would hold 1 element)\r\n\r\n    int max_excluding_Ace=0;\r\n    int max_adding_1=max_excluding_Ace;\r\n    int max_adding_11=max_excluding_Ace;\r\n\r\n    for (int i = 0; i &lt; arraylist1.size(); i++) {\r\n\t\t\t\r\n        //Add values without aces\r\n        if ((arraylist1.get(i)!=1) &amp;&amp; (arraylist1.get(i)!=11)) {\r\n            max_excluding_Ace += arraylist1.get(i);\r\n        }\r\n        //ace\t\t\t\t\r\n        //Add values with different combinations of the ace\r\n        else if ((arraylist1.get(i)==1)) {\r\n            max_adding_1 +=1;\r\n        }\r\n        else if ((arraylist1.get(i)==11)) {\r\n            max_adding_11 +=11;\r\n        }\r\n    }\r\n    if (max_adding_1 != max_excluding_Ace) {\r\n        final_listarray.add(max_adding_1);\r\n        final_listarray.add(max_adding_11);\r\n\r\n    }\r\n    else {\r\n        final_listarray.add(max_excluding_Ace);\r\n    }\r\n    return final_listarray;","title":"Compute a full hand of cards","body":"<p>I am trying to compute a total value for a hand of cards. If there is no Ace, there will be 1 element in the <code>final_listarray</code>. If there is an Ace, there would be 2 elements to represent total possible value of hand of cards (as Ace can be 1 or 11).</p>\n<p>For some reason, my array just outputs [0,0], and is not what I want.</p>\n<p>(<code>arraylist1</code> is just my array holding the values of each card. In this case an Ace would hold both 1 and 11, any other value would hold 1 element)</p>\n<pre><code>int max_excluding_Ace=0;\nint max_adding_1=max_excluding_Ace;\nint max_adding_11=max_excluding_Ace;\n\nfor (int i = 0; i &lt; arraylist1.size(); i++) {\n        \n    //Add values without aces\n    if ((arraylist1.get(i)!=1) &amp;&amp; (arraylist1.get(i)!=11)) {\n        max_excluding_Ace += arraylist1.get(i);\n    }\n    //ace               \n    //Add values with different combinations of the ace\n    else if ((arraylist1.get(i)==1)) {\n        max_adding_1 +=1;\n    }\n    else if ((arraylist1.get(i)==11)) {\n        max_adding_11 +=11;\n    }\n}\nif (max_adding_1 != max_excluding_Ace) {\n    final_listarray.add(max_adding_1);\n    final_listarray.add(max_adding_11);\n\n}\nelse {\n    final_listarray.add(max_excluding_Ace);\n}\nreturn final_listarray;\n</code></pre>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":2935174,"reputation":151,"user_id":2514286,"display_name":"Lucas"},"score":1,"creation_date":1424624181,"post_id":28660468,"comment_id":45616504,"body_markdown":"Try the Esc key in your keyboard and see if it works.","body":"Try the Esc key in your keyboard and see if it works."},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1424624541,"post_id":28660468,"comment_id":45616623,"body_markdown":"@LucasT.:Yes! with ESC it went back!","body":"@LucasT.:Yes! with ESC it went back!"},{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":1,"creation_date":1424625919,"post_id":28660468,"comment_id":45617034,"body_markdown":"This is a perfectly appropriate development tool question, and by no means a one-time issue unique to the poster.","body":"This is a perfectly appropriate development tool question, and by no means a one-time issue unique to the poster."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424625589,"creation_date":1424625589,"answer_id":28660775,"question_id":28660468,"body_markdown":"Your emulator image is emulating a device with a hardware BACK button, and so it does not show up in a navigation bar in the device itself. As was noted in the comments, &lt;kbd&gt;Esc&lt;/kbd&gt; on your desktop OS will map to BACK in the emulator.\r\n\r\nIf you want to change your emulator to not have hardware BACK buttons, in `~/.android/avd/.../config.ini` (where `...` is the name of the AVD), set `hw.mainKeys=no`.","title":"No back button in virtual device","body":"<p>Your emulator image is emulating a device with a hardware BACK button, and so it does not show up in a navigation bar in the device itself. As was noted in the comments, <kbd>Esc</kbd> on your desktop OS will map to BACK in the emulator.</p>\n\n<p>If you want to change your emulator to not have hardware BACK buttons, in <code>~/.android/avd/.../config.ini</code> (where <code>...</code> is the name of the AVD), set <code>hw.mainKeys=no</code>.</p>\n"},{"tags":[],"owner":{"account_id":3567671,"reputation":471,"user_id":2978795,"display_name":"Mohammad tanvirul islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424625646,"creation_date":1424625646,"answer_id":28660794,"question_id":28660468,"body_markdown":"you can try by edit your AVD by checking &quot;Display a skin with hardware control&quot;. after restart your avd back button should show in your virtual device.\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8nJjZ.png","title":"No back button in virtual device","body":"<p>you can try by edit your AVD by checking \"Display a skin with hardware control\". after restart your avd back button should show in your virtual device.\n<img src=\"https://i.stack.imgur.com/8nJjZ.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":10970576,"reputation":519,"user_id":8061007,"display_name":"Sher Sanginov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685248140,"creation_date":1685248140,"answer_id":76349936,"question_id":28660468,"body_markdown":"On Android Studio, you need to set skin on emulator. \r\nHere&#39;s how you do it. \r\n\r\n 1. Click on Device Manager -&gt; Create Virtual Device\r\n 2. Choose a device (e.g Pixel 3) and look at right side and click on &quot;Clone Deice&quot;.\r\n 3. Scroll down and choose skin. Default is no skin. \r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QqyYV.png","title":"No back button in virtual device","body":"<p>On Android Studio, you need to set skin on emulator.\nHere's how you do it.</p>\n<ol>\n<li>Click on Device Manager -&gt; Create Virtual Device</li>\n<li>Choose a device (e.g Pixel 3) and look at right side and click on &quot;Clone Deice&quot;.</li>\n<li>Scroll down and choose skin. Default is no skin.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/QqyYV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QqyYV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14353273,"reputation":1177,"user_id":12001877,"display_name":"jpmc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518445,"creation_date":1687518445,"answer_id":76539507,"question_id":28660468,"body_markdown":"You can use this from the command line and it will simulate a back button push in your emulator.\r\n```\r\nadb shell input keyevent 4","title":"No back button in virtual device","body":"<p>You can use this from the command line and it will simulate a back button push in your emulator.</p>\n<pre><code>adb shell input keyevent 4\n</code></pre>\n"}],"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2422,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1687518445,"creation_date":1424623708,"question_id":28660468,"body_markdown":"I am starting into Android I managed to start a simple app I made in a virtual device. Problem: There is no back button in the device.\r\nI am using eclipse ADT and the device says on top: emulator64-arm. Not sure what other information are needed to provide to help me","title":"No back button in virtual device","body":"<p>I am starting into Android I managed to start a simple app I made in a virtual device. Problem: There is no back button in the device.\nI am using eclipse ADT and the device says on top: emulator64-arm. Not sure what other information are needed to provide to help me</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1516217451,"post_id":48307102,"comment_id":83602643,"body_markdown":"@FedericoPeraltaSchaffner even a stream constructed from an `Iterator` supports parallelism, though quiet limited.","body":"@FedericoPeraltaSchaffner even a stream constructed from an <code>Iterator</code> supports parallelism, though quiet limited."},{"owner":{"account_id":9103081,"reputation":374,"user_id":6774555,"display_name":"apophis"},"score":5,"creation_date":1516217664,"post_id":48307102,"comment_id":83602763,"body_markdown":"@Federico Peralta Schaffner That&#39;s not true. Have a look at the implementation of `trySplit` in `java.util.Spliterators.IteratorSpliterator`.","body":"@Federico Peralta Schaffner That&#39;s not true. Have a look at the implementation of <code>trySplit</code> in <code>java.util.Spliterators.IteratorSpliterator</code>."}],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1516261352,"creation_date":1516216955,"answer_id":48308511,"question_id":48307102,"body_markdown":"The current implementation will try to parallelize a stream produced form an iterator by buffering up the values and dispatching them to several threads but it only kicks in if the stream is long enough.  Increase your list to 10000 elements and you should see parallelism.\r\n\r\nWith a large list, it might be easier to see how elements distributed by thread if you collect into a map grouped by thread.  Replace your `.forEach` with `.collect(Collectors.groupingBy(x -&gt; Thread.currentThread().getName(), Collectors.counting()))`","title":"Parallelism with Streams created from Iterators","body":"<p>The current implementation will try to parallelize a stream produced form an iterator by buffering up the values and dispatching them to several threads but it only kicks in if the stream is long enough.  Increase your list to 10000 elements and you should see parallelism.</p>\n\n<p>With a large list, it might be easier to see how elements distributed by thread if you collect into a map grouped by thread.  Replace your <code>.forEach</code> with <code>.collect(Collectors.groupingBy(x -&gt; Thread.currentThread().getName(), Collectors.counting()))</code></p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1516218722,"post_id":48308595,"comment_id":83603339,"body_markdown":"dont they all start from 1024 and increase by doubling their size? On the phone, cant look at the sources right now :(","body":"dont they all start from 1024 and increase by doubling their size? On the phone, cant look at the sources right now :("},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1516226601,"post_id":48308595,"comment_id":83607190,"body_markdown":"@Eugene `AbstractSpliterator` will split off `1024` elements the first time, increasing the batch size by `1024` each time until reaching 2&#178;. If you have fewer than 1000 elements, all of them end up in the first array. The problem is that the now-empty spliterator still reports unknow size but the stream implementation treats unknow size as the literal `Long.MAX_VALUE`, so instead of splitting the less-than-thousand element array, it keeps trying to split the actually empty unknow size/`Long.MAX_VALUE` spliterator. Having a size estimate causes it to do reasonable splitting.","body":"@Eugene <code>AbstractSpliterator</code> will split off <code>1024</code> elements the first time, increasing the batch size by <code>1024</code> each time until reaching 2&#178;. If you have fewer than 1000 elements, all of them end up in the first array. The problem is that the now-empty spliterator still reports unknow size but the stream implementation treats unknow size as the literal <code>Long.MAX_VALUE</code>, so instead of splitting the less-than-thousand element array, it keeps trying to split the actually empty unknow size/<code>Long.MAX_VALUE</code> spliterator. Having a size estimate causes it to do reasonable splitting."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1516227104,"post_id":48308595,"comment_id":83607432,"body_markdown":"`IteratorSpliterator` does the same as `AbstractSpliterator`, but duplicates the code instead of inheriting it.","body":"<code>IteratorSpliterator</code> does the same as <code>AbstractSpliterator</code>, but duplicates the code instead of inheriting it."},{"owner":{"account_id":6093255,"reputation":162,"user_id":5184887,"accept_rate":33,"display_name":"Zoltan"},"score":0,"creation_date":1605783134,"post_id":48308595,"comment_id":114760342,"body_markdown":"actually changing from spliteratorUnknownSize to fixed size makes it parallelly processable and you can check it in the logs which &quot;ForkJoinPool.commonPool-worker-7&quot; is processing currently","body":"actually changing from spliteratorUnknownSize to fixed size makes it parallelly processable and you can check it in the logs which &quot;ForkJoinPool.commonPool-worker-7&quot; is processing currently"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516217287,"creation_date":1516217287,"answer_id":48308595,"question_id":48307102,"body_markdown":"There is no guaranty that parallel processing prints the counter in non-sequential order. Further, since youre updating a variable without synchronization, its possible to miss updates made by other threads, so the results may be entirely inconsistent.\r\n\r\nBesides that, an `Iterator` has to be polled sequentially, so to get at least some gain from parallel processing, elements have to be buffered, but without a known size, there is no good estimate on how many elements to buffer. The default strategy uses more than thousand elements and does not split the work well.\r\n\r\nSo if you use more than thousand elements you might notice more parallel activity. Alternatively, you may specify a size using `StreamSupport.stream(Spliterators.spliterator(iter, lstr.size(), 0), true)` to construct the stream. Then, the internally used buffering will be adapted.\r\n\r\nStill, the `List`s stream will have a more efficient parallel processing, as it not only knows its size but supports splitting the workload utilizing the random access nature of the underlying data structure.\r\n","title":"Parallelism with Streams created from Iterators","body":"<p>There is no guaranty that parallel processing prints the counter in non-sequential order. Further, since youre updating a variable without synchronization, its possible to miss updates made by other threads, so the results may be entirely inconsistent.</p>\n\n<p>Besides that, an <code>Iterator</code> has to be polled sequentially, so to get at least some gain from parallel processing, elements have to be buffered, but without a known size, there is no good estimate on how many elements to buffer. The default strategy uses more than thousand elements and does not split the work well.</p>\n\n<p>So if you use more than thousand elements you might notice more parallel activity. Alternatively, you may specify a size using <code>StreamSupport.stream(Spliterators.spliterator(iter, lstr.size(), 0), true)</code> to construct the stream. Then, the internally used buffering will be adapted.</p>\n\n<p>Still, the <code>List</code>s stream will have a more efficient parallel processing, as it not only knows its size but supports splitting the workload utilizing the random access nature of the underlying data structure.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650616410,"creation_date":1650616410,"answer_id":71965719,"question_id":48307102,"body_markdown":"There was a flaw in `Spliterators.spliteratorUnknownSize()` implementation. I fixed it in Java 19, see [JDK-8280915](https://bugs.openjdk.java.net/browse/JDK-8280915). Since 19-ea+19-1283 early access build the problem is not reproduced anymore, `Spliterators.spliteratorUnknownSize` is parallelized correctly. Here&#39;s the output on my machine:\r\n\r\n```\r\nIterator Stream: \r\n0 0 0 1 0 0 6 7 8 0 0 0 0 12 0 15 0 17 18 10 20 21 22 23 11 0 5 27 28 29 30 0 31 32 3 35 36 37 38 39 40 41 42 4 0 2 45 45 43 34 33 26 25 24 54 19 56 16 0 59 59 0 62 14 13 13 65 64 63 61 60 57 71 73 73 75 76 55 54 79 52 51 50 49 48 47 46 85 84 80 74 70 70 68 67 66 94 92 88 98 \r\n```","title":"Parallelism with Streams created from Iterators","body":"<p>There was a flaw in <code>Spliterators.spliteratorUnknownSize()</code> implementation. I fixed it in Java 19, see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8280915\" rel=\"noreferrer\">JDK-8280915</a>. Since 19-ea+19-1283 early access build the problem is not reproduced anymore, <code>Spliterators.spliteratorUnknownSize</code> is parallelized correctly. Here's the output on my machine:</p>\n<pre><code>Iterator Stream: \n0 0 0 1 0 0 6 7 8 0 0 0 0 12 0 15 0 17 18 10 20 21 22 23 11 0 5 27 28 29 30 0 31 32 3 35 36 37 38 39 40 41 42 4 0 2 45 45 43 34 33 26 25 24 54 19 56 16 0 59 59 0 62 14 13 13 65 64 63 61 60 57 71 73 73 75 76 55 54 79 52 51 50 49 48 47 46 85 84 80 74 70 70 68 67 66 94 92 88 98 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518417,"creation_date":1671195094,"answer_id":74824712,"question_id":48307102,"body_markdown":"Here is custom implementation with desired behavior.  \r\n\r\nFork each element (unlike `Spliterators.spliteratorUnknownSize`) progressively (there is only single unprocessed `ForkJoinTask` in the work queue when worker pool is saturated).  \r\nThere is only single thread which `trySplit` at any point of time hence there is no atomicy implication for `Iterator.hasNext` and `Iterator.next` and concurrent thread safetiness of the iterator implementation.  \r\nThere should be at least one element on the beginning.\r\n\r\n**Usage**\r\n\r\n    public static void main(String[] args) {\r\n        stream(Spliterators.spliteratorUnknownSize(IntStream.range(0, 10).iterator(), Spliterator.CONCURRENT), true).forEach(SpliteratorTest::process);\r\n        out.println(&quot;---&quot;);\r\n        stream(new ForkNextSpliterator&lt;&gt;(IntStream.range(0, 10).iterator()), true).forEach(SpliteratorTest::process);\r\n    }\r\n    \r\n    private static void process(Integer i) {\r\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos((int) (Math.random() * 100)));\r\n        out.println(i + &quot;\\t&quot; + currentThread().getName());\r\n    }\r\n\r\n**Output**\r\n\r\n\t0\tForkJoinPool.commonPool-worker-9\r\n\t1\tForkJoinPool.commonPool-worker-9\r\n\t2\tForkJoinPool.commonPool-worker-9\r\n\t3\tForkJoinPool.commonPool-worker-9\r\n\t4\tForkJoinPool.commonPool-worker-9\r\n\t5\tForkJoinPool.commonPool-worker-9\r\n\t6\tForkJoinPool.commonPool-worker-9\r\n\t7\tForkJoinPool.commonPool-worker-9\r\n\t8\tForkJoinPool.commonPool-worker-9\r\n\t9\tForkJoinPool.commonPool-worker-9\r\n\t---\r\n\t5\tForkJoinPool.commonPool-worker-13\r\n\t4\tForkJoinPool.commonPool-worker-4\r\n\t0\tmain\r\n\t2\tForkJoinPool.commonPool-worker-2\r\n\t7\tForkJoinPool.commonPool-worker-15\r\n\t6\tForkJoinPool.commonPool-worker-6\r\n\t1\tForkJoinPool.commonPool-worker-9\r\n\t3\tForkJoinPool.commonPool-worker-11\r\n\t9\tForkJoinPool.commonPool-worker-1\r\n\t8\tForkJoinPool.commonPool-worker-8\r\n\r\n**Implementation**\r\n\r\n    import static java.lang.Long.MAX_VALUE;\r\n    import static java.util.stream.Stream.empty;\r\n    import static java.util.stream.StreamSupport.stream;\r\n\r\n    public class ForkNextSpliterator&lt;T&gt; implements Spliterator&lt;T&gt; {\r\n    \r\n        public static &lt;T&gt; Stream&lt;T&gt; parallelStream(Iterable&lt;T&gt; iterable) {\r\n            Iterator&lt;T&gt; iterator = iterable.iterator();\r\n            return iterator.hasNext() ? stream(new ForkNextSpliterator&lt;&gt;(iterator), true) : empty();\r\n        }\r\n    \r\n        private final Iterator&lt;T&gt; iter;\r\n        private final T value;\r\n        private boolean split;\r\n    \r\n        public ForkNextSpliterator(Iterator&lt;T&gt; iter) {\r\n            this.value = iter.next();\r\n            this.iter = iter;\r\n        }\r\n    \r\n        @Override\r\n        public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\r\n            action.accept(value);\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public Spliterator&lt;T&gt; trySplit() {\r\n            return (split ^= true) &amp;&amp; iter.hasNext()\r\n                    ? new ForkNextSpliterator&lt;&gt;(iter)\r\n                    : null;\r\n        }\r\n    \r\n        @Override\r\n        public long estimateSize() {\r\n            return MAX_VALUE;\r\n        }\r\n    \r\n        @Override\r\n        public int characteristics() {\r\n            return CONCURRENT;\r\n        }\r\n    }","title":"Parallelism with Streams created from Iterators","body":"<p>Here is custom implementation with desired behavior.</p>\n<p>Fork each element (unlike <code>Spliterators.spliteratorUnknownSize</code>) progressively (there is only single unprocessed <code>ForkJoinTask</code> in the work queue when worker pool is saturated).<br />\nThere is only single thread which <code>trySplit</code> at any point of time hence there is no atomicy implication for <code>Iterator.hasNext</code> and <code>Iterator.next</code> and concurrent thread safetiness of the iterator implementation.<br />\nThere should be at least one element on the beginning.</p>\n<p><strong>Usage</strong></p>\n<pre><code>public static void main(String[] args) {\n    stream(Spliterators.spliteratorUnknownSize(IntStream.range(0, 10).iterator(), Spliterator.CONCURRENT), true).forEach(SpliteratorTest::process);\n    out.println(&quot;---&quot;);\n    stream(new ForkNextSpliterator&lt;&gt;(IntStream.range(0, 10).iterator()), true).forEach(SpliteratorTest::process);\n}\n\nprivate static void process(Integer i) {\n    LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos((int) (Math.random() * 100)));\n    out.println(i + &quot;\\t&quot; + currentThread().getName());\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>0   ForkJoinPool.commonPool-worker-9\n1   ForkJoinPool.commonPool-worker-9\n2   ForkJoinPool.commonPool-worker-9\n3   ForkJoinPool.commonPool-worker-9\n4   ForkJoinPool.commonPool-worker-9\n5   ForkJoinPool.commonPool-worker-9\n6   ForkJoinPool.commonPool-worker-9\n7   ForkJoinPool.commonPool-worker-9\n8   ForkJoinPool.commonPool-worker-9\n9   ForkJoinPool.commonPool-worker-9\n---\n5   ForkJoinPool.commonPool-worker-13\n4   ForkJoinPool.commonPool-worker-4\n0   main\n2   ForkJoinPool.commonPool-worker-2\n7   ForkJoinPool.commonPool-worker-15\n6   ForkJoinPool.commonPool-worker-6\n1   ForkJoinPool.commonPool-worker-9\n3   ForkJoinPool.commonPool-worker-11\n9   ForkJoinPool.commonPool-worker-1\n8   ForkJoinPool.commonPool-worker-8\n</code></pre>\n<p><strong>Implementation</strong></p>\n<pre><code>import static java.lang.Long.MAX_VALUE;\nimport static java.util.stream.Stream.empty;\nimport static java.util.stream.StreamSupport.stream;\n\npublic class ForkNextSpliterator&lt;T&gt; implements Spliterator&lt;T&gt; {\n\n    public static &lt;T&gt; Stream&lt;T&gt; parallelStream(Iterable&lt;T&gt; iterable) {\n        Iterator&lt;T&gt; iterator = iterable.iterator();\n        return iterator.hasNext() ? stream(new ForkNextSpliterator&lt;&gt;(iterator), true) : empty();\n    }\n\n    private final Iterator&lt;T&gt; iter;\n    private final T value;\n    private boolean split;\n\n    public ForkNextSpliterator(Iterator&lt;T&gt; iter) {\n        this.value = iter.next();\n        this.iter = iter;\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super T&gt; action) {\n        action.accept(value);\n        return false;\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; trySplit() {\n        return (split ^= true) &amp;&amp; iter.hasNext()\n                ? new ForkNextSpliterator&lt;&gt;(iter)\n                : null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return MAX_VALUE;\n    }\n\n    @Override\n    public int characteristics() {\n        return CONCURRENT;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12705070,"reputation":91,"user_id":9230627,"display_name":"Johnathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4831,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1687518417,"creation_date":1516211324,"question_id":48307102,"body_markdown":"Experimenting with streams I ran into the following behavior which I don&#39;t quite understand. I created a parallel stream from an iterator and I noticed that it did not seem to be exhibiting parallelism. In the below example I&#39;ve printed a counter to the console for two parallel streams, one created from an iterator and the other from a list. The stream created from the list exhibited the behavior I expected which was to print the counter in non-sequential order but the stream created from the iterator printed the counter in sequential order. Am I creating the parallel stream from an iterator incorrectly?\r\n\r\n    \tprivate static int counter = 0;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; lstr = IntStream.rangeClosed(1, 100).boxed().collect(Collectors.toList());\r\n\t\tIterator&lt;Integer&gt; iter = lstr.iterator();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Iterator Stream: &quot;);\r\n\t\tStreamSupport.stream(Spliterators.spliteratorUnknownSize(iter, Spliterator.IMMUTABLE | Spliterator.CONCURRENT), true).forEach(i -&gt; {\r\n\t\t\tSystem.out.print(counter + &quot; &quot;);\r\n\t\t\tcounter++;\r\n\t\t});\r\n\t\t\r\n\t\tcounter = 0;\r\n\t\tSystem.out.println(&quot;\\nList Stream: &quot;);\r\n\t\tlstr.parallelStream().forEach(i -&gt; {\r\n\t\t\tSystem.out.print(counter + &quot; &quot;);\r\n\t\t\tcounter++;\r\n\t\t});\r\n\r\n\t}\r\n\r\n","title":"Parallelism with Streams created from Iterators","body":"<p>Experimenting with streams I ran into the following behavior which I don't quite understand. I created a parallel stream from an iterator and I noticed that it did not seem to be exhibiting parallelism. In the below example I've printed a counter to the console for two parallel streams, one created from an iterator and the other from a list. The stream created from the list exhibited the behavior I expected which was to print the counter in non-sequential order but the stream created from the iterator printed the counter in sequential order. Am I creating the parallel stream from an iterator incorrectly?</p>\n\n<pre><code>    private static int counter = 0;\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; lstr = IntStream.rangeClosed(1, 100).boxed().collect(Collectors.toList());\n    Iterator&lt;Integer&gt; iter = lstr.iterator();\n\n    System.out.println(\"Iterator Stream: \");\n    StreamSupport.stream(Spliterators.spliteratorUnknownSize(iter, Spliterator.IMMUTABLE | Spliterator.CONCURRENT), true).forEach(i -&gt; {\n        System.out.print(counter + \" \");\n        counter++;\n    });\n\n    counter = 0;\n    System.out.println(\"\\nList Stream: \");\n    lstr.parallelStream().forEach(i -&gt; {\n        System.out.print(counter + \" \");\n        counter++;\n    });\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments","mobile"],"answers":[{"comments":[{"owner":{"account_id":19316739,"reputation":23,"user_id":14121352,"display_name":"Snufupugos"},"score":0,"creation_date":1687284088,"post_id":76510896,"comment_id":134914167,"body_markdown":"Ok so... I&#39;m a noob at it, what is the difference between that and a shared viewlmodel? \nAnd how I do that exactly. \nAlso, thank you for answering. :D","body":"Ok so... I&#39;m a noob at it, what is the difference between that and a shared viewlmodel?  And how I do that exactly.  Also, thank you for answering. :D"}],"tags":[],"owner":{"account_id":13692468,"reputation":71,"user_id":9879923,"display_name":"storytellerF"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518367,"creation_date":1687225015,"answer_id":76510896,"question_id":76509521,"body_markdown":"Use viewModel whom scope is activity.\r\n\r\nViewModelProvider:\r\n\r\n```kotlin\r\nconstructor(\r\n    private val store: ViewModelStore,\r\n    private val factory: Factory,\r\n    private val defaultCreationExtras: CreationExtras = CreationExtras.Empty,\r\n)\r\n```\r\n\r\nactually, the constructor you used is(first one)\r\n\r\n```kotlin\r\npublic constructor(\r\n    owner: ViewModelStoreOwner\r\n) : this(owner.viewModelStore, defaultFactory(owner), defaultCreationExtras(owner))\r\n\r\npublic constructor(owner: ViewModelStoreOwner, factory: Factory) : this(\r\n    owner.viewModelStore,\r\n    factory,\r\n    defaultCreationExtras(owner)\r\n)\r\n```\r\n\r\n**Fragment** and **Activity** both is `ViewModelStoreOwner`. So\r\n\r\n```kotlin\r\nHomeViewModel homeViewModel =\r\n                new ViewModelProvider(requireActivity()).get(HomeViewModel.class);\r\n```\r\n\r\n**homeViewModel** store in activity, other fragment whom parent is your activity could access it.\r\n\r\nor you just use prompt, like &quot;use ViewModel in fragment, store in activity&quot; in ChatGpt.\r\n\r\n","title":"How to send data from EditText from one fragment to an TextView in an other fragment while both are in the same Fragment Drawer? Java Android Studio","body":"<p>Use viewModel whom scope is activity.</p>\n<p>ViewModelProvider:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>constructor(\n    private val store: ViewModelStore,\n    private val factory: Factory,\n    private val defaultCreationExtras: CreationExtras = CreationExtras.Empty,\n)\n</code></pre>\n<p>actually, the constructor you used is(first one)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>public constructor(\n    owner: ViewModelStoreOwner\n) : this(owner.viewModelStore, defaultFactory(owner), defaultCreationExtras(owner))\n\npublic constructor(owner: ViewModelStoreOwner, factory: Factory) : this(\n    owner.viewModelStore,\n    factory,\n    defaultCreationExtras(owner)\n)\n</code></pre>\n<p><strong>Fragment</strong> and <strong>Activity</strong> both is <code>ViewModelStoreOwner</code>. So</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>HomeViewModel homeViewModel =\n                new ViewModelProvider(requireActivity()).get(HomeViewModel.class);\n</code></pre>\n<p><strong>homeViewModel</strong> store in activity, other fragment whom parent is your activity could access it.</p>\n<p>or you just use prompt, like &quot;use ViewModel in fragment, store in activity&quot; in ChatGpt.</p>\n"}],"owner":{"account_id":19316739,"reputation":23,"user_id":14121352,"display_name":"Snufupugos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687518367,"creation_date":1687202309,"question_id":76509521,"body_markdown":"As the title says, I want to capture the user name with a Edit Text in one fragment and display it on a TextView on the second fragment.\r\n\r\nI am reading a lot of different info about it, but I am not being able to make sense out of it, even less making it work.\r\n\r\nIt is for a college project, the goal is to make a fragment drawer like it was a service app.\r\nAlso, I know almost nothing of Java, hence my struggle.\r\n\r\nCould someone teach me how to do it?\r\nThanks in advance. :D\r\n```\r\npackage com.example.devmobile.ui.home;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.devmobile.databinding.FragmentHomeBinding;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel homeViewModel =\r\n                new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        final TextView textView = binding.textHome;\r\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.devmobile.ui.catalogo;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.devmobile.databinding.FragmentCatalogoBinding;\r\nimport com.example.devmobile.ui.home.HomeViewModel;\r\n\r\npublic class CatalogoFragment extends Fragment {\r\n\r\n    private FragmentCatalogoBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel catalogoViewModel =\r\n                new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentCatalogoBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        final TextView textView = binding.textCatalogo;\r\n        catalogoViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.devmobile;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\npublic class SharedViewModel extends ViewModel {\r\n    private final MutableLiveData&lt;String&gt; selectedItem = new MutableLiveData&lt;String&gt;();\r\n    public void selectItem(String item) {\r\n        selectedItem.setValue(item);\r\n    }\r\n    public LiveData&lt;String&gt; getSelectedItem() {\r\n        return selectedItem;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n","title":"How to send data from EditText from one fragment to an TextView in an other fragment while both are in the same Fragment Drawer? Java Android Studio","body":"<p>As the title says, I want to capture the user name with a Edit Text in one fragment and display it on a TextView on the second fragment.</p>\n<p>I am reading a lot of different info about it, but I am not being able to make sense out of it, even less making it work.</p>\n<p>It is for a college project, the goal is to make a fragment drawer like it was a service app.\nAlso, I know almost nothing of Java, hence my struggle.</p>\n<p>Could someone teach me how to do it?\nThanks in advance. :D</p>\n<pre><code>package com.example.devmobile.ui.home;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.devmobile.databinding.FragmentHomeBinding;\n\npublic class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<pre><code>package com.example.devmobile.ui.catalogo;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.devmobile.databinding.FragmentCatalogoBinding;\nimport com.example.devmobile.ui.home.HomeViewModel;\n\npublic class CatalogoFragment extends Fragment {\n\n    private FragmentCatalogoBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel catalogoViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentCatalogoBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textCatalogo;\n        catalogoViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<pre><code>package com.example.devmobile;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\npublic class SharedViewModel extends ViewModel {\n    private final MutableLiveData&lt;String&gt; selectedItem = new MutableLiveData&lt;String&gt;();\n    public void selectItem(String item) {\n        selectedItem.setValue(item);\n    }\n    public LiveData&lt;String&gt; getSelectedItem() {\n        return selectedItem;\n    }\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":17369947,"reputation":79,"user_id":12584300,"display_name":"Damascus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604655427,"creation_date":1604655427,"answer_id":64712111,"question_id":64422357,"body_markdown":"Your question is similar to [this question][1] (instead of using embed.setImage you obviously use embed.setThumbnail)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63861265/discord-jda-using-a-local-image-in-an-embed","title":"How to use local file as thumbnail in Discord JDA embedded message?","body":"<p>Your question is similar to <a href=\"https://stackoverflow.com/questions/63861265/discord-jda-using-a-local-image-in-an-embed\">this question</a> (instead of using embed.setImage you obviously use embed.setThumbnail)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687653896,"post_id":76539486,"comment_id":134966798,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76539486/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26425195,"reputation":1,"user_id":20072269,"display_name":"p0h h00xtk0"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687518273,"creation_date":1687518273,"answer_id":76539486,"question_id":64422357,"body_markdown":"\r\n     * Sets the Thumbnail of the embed.\r\n     * MessageChannel channel; // = reference of a MessageChannel\r\n     * EmbedBuilder embed = new EmbedBuilder();\r\n     * InputStream file = new URL(&quot;https://http.cat/500&quot;).openStream();\r\n     * embed.setThumbnail(&quot;attachment://cat.png&quot;) // we specify this in sendFile as &quot;cat.png&quot;\r\n     *      .setDescription(&quot;This is a cute cat :3&quot;);\r\n     * channel.sendFiles(FileUpload.fromData(file, &quot;cat.png&quot;)).setEmbeds(embed.build()).queue();\r\n\r\n   ","title":"How to use local file as thumbnail in Discord JDA embedded message?","body":"<pre><code> * Sets the Thumbnail of the embed.\n * MessageChannel channel; // = reference of a MessageChannel\n * EmbedBuilder embed = new EmbedBuilder();\n * InputStream file = new URL(&quot;https://http.cat/500&quot;).openStream();\n * embed.setThumbnail(&quot;attachment://cat.png&quot;) // we specify this in sendFile as &quot;cat.png&quot;\n *      .setDescription(&quot;This is a cute cat :3&quot;);\n * channel.sendFiles(FileUpload.fromData(file, &quot;cat.png&quot;)).setEmbeds(embed.build()).queue();\n</code></pre>\n"}],"owner":{"account_id":16489862,"reputation":31,"user_id":11914101,"display_name":"Julian Schaefers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687518273,"creation_date":1603089997,"question_id":64422357,"body_markdown":"I want to set the Thumbnail of an Embed to an Image which is local on my pc.\r\n\r\nIs this possible?\r\n\r\n```\r\nEmbedBuilder builder = new EmbedBuilder();\r\nbuilder.setThumbnail(&quot;1.png&quot;); //relative path\r\n```\r\n","title":"How to use local file as thumbnail in Discord JDA embedded message?","body":"<p>I want to set the Thumbnail of an Embed to an Image which is local on my pc.</p>\n<p>Is this possible?</p>\n<pre><code>EmbedBuilder builder = new EmbedBuilder();\nbuilder.setThumbnail(&quot;1.png&quot;); //relative path\n</code></pre>\n"},{"tags":["java","android","kotlin","accessibilityservice","start-activity"],"owner":{"account_id":24551226,"reputation":17,"user_id":18460355,"display_name":"Srijan Khadka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687518041,"creation_date":1687518041,"question_id":76539461,"body_markdown":"I have this \r\n\r\n     private fun launchBlockingActivity(appName: String, appPackage: String?) {\r\n            Timber.d(&quot;Inside Launch Blocked ACTIVITY&quot;)\r\n    \r\n            val blockedIntent = Intent(this@AccessibilityService, ActivityBlocked::class.java)\r\n            blockedIntent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP\r\n            blockedIntent.flags = FLAG_ACTIVITY_NEW_TASK\r\n            blockedIntent.putExtra(this.getString(R.string.appName), appName)\r\n            blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\r\n            applicationContext.startActivity(blockedIntent)\r\n        }\r\nThis function is inside a class that has extended Accessibility Service. When certain condition are met this activity should launch. It launches activity on android version 11 13 10, but not in 12. Why, what could be the reason?","title":"Unable to StartActivity from a class that extends Accessibility Service only in android 12","body":"<p>I have this</p>\n<pre><code> private fun launchBlockingActivity(appName: String, appPackage: String?) {\n        Timber.d(&quot;Inside Launch Blocked ACTIVITY&quot;)\n\n        val blockedIntent = Intent(this@AccessibilityService, ActivityBlocked::class.java)\n        blockedIntent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP\n        blockedIntent.flags = FLAG_ACTIVITY_NEW_TASK\n        blockedIntent.putExtra(this.getString(R.string.appName), appName)\n        blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\n        applicationContext.startActivity(blockedIntent)\n    }\n</code></pre>\n<p>This function is inside a class that has extended Accessibility Service. When certain condition are met this activity should launch. It launches activity on android version 11 13 10, but not in 12. Why, what could be the reason?</p>\n"},{"tags":["java","maven","openapi","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687511505,"post_id":76537599,"comment_id":134950292,"body_markdown":"First you should use a more recent version of the openapi-generator-maven-plugin.. (6.X+ see https://central.sonatype.com/artifact/org.openapitools/openapi-generator-maven-plugin/6.6.0/versions) ... use `main/company-gaming-rest-api/src/main/resources/company.gaming/game.yml` as source and do not change the output directory and do not use the `src/` directory... also your structure looks weird... and why do you have the generation within your application module instead of in your api module (meaning the execution of the openapi generator plugin) ? Does not make sense...","body":"First you should use a more recent version of the openapi-generator-maven-plugin.. (6.X+ see <a href=\"https://central.sonatype.com/artifact/org.openapitools/openapi-generator-maven-plugin/6.6.0/versions\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/org.openapitools/&hellip;</a>) ... use <code>main&#47;company-gaming-rest-api&#47;src&#47;main&#47;resources&#47;company.gami&zwnj;&#8203;ng&#47;game.yml</code> as source and do not change the output directory and do not use the <code>src&#47;</code> directory... also your structure looks weird... and why do you have the generation within your application module instead of in your api module (meaning the execution of the openapi generator plugin) ? Does not make sense..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687511597,"post_id":76537599,"comment_id":134950305,"body_markdown":"BTW: Why using Spring Boot 2.7.X instead 3.1+ and JDK 17 so that would result in avoiding the usage of lombok...","body":"BTW: Why using Spring Boot 2.7.X instead 3.1+ and JDK 17 so that would result in avoiding the usage of lombok..."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687512701,"post_id":76537599,"comment_id":134950516,"body_markdown":"Hi khmarbaise, thanks for looking it up and thanks for your time. I need to use spring boot 2.7. since we have some other libraries that don&#39;t go well with higher versions of boot. Also our project is Java 11, this is just demo that I need to make it work. I bumped version to 6.6.0 also, in the `&lt;inputSpec&gt;` I tried placing: `main/company-gaming-rest-api/src/main/resources/company.gaming/game.yml`  and  `company-gaming-rest-api/src/main/resources/company.gaming/game.yml` both failed with same error.  Didn&#39;t understand your point on not using `src/`","body":"Hi khmarbaise, thanks for looking it up and thanks for your time. I need to use spring boot 2.7. since we have some other libraries that don&#39;t go well with higher versions of boot. Also our project is Java 11, this is just demo that I need to make it work. I bumped version to 6.6.0 also, in the <code>&lt;inputSpec&gt;</code> I tried placing: <code>main&#47;company-gaming-rest-api&#47;src&#47;main&#47;resources&#47;company.gami&zwnj;&#8203;ng&#47;game.yml</code>  and  <code>company-gaming-rest-api&#47;src&#47;main&#47;resources&#47;company.gaming&#47;ga&zwnj;&#8203;me.yml</code> both failed with same error.  Didn&#39;t understand your point on not using <code>src&#47;</code>"},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687512803,"post_id":76537599,"comment_id":134950540,"body_markdown":"And your last point, how to setup code so that it can generate classes/api layer in `company-gaming-rest-api` ? that could also work, tho, my requriments are that it needs to be generated in `company-gaming-service-core` Thank you for helping out","body":"And your last point, how to setup code so that it can generate classes/api layer in <code>company-gaming-rest-api</code> ? that could also work, tho, my requriments are that it needs to be generated in <code>company-gaming-service-core</code> Thank you for helping out"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687514582,"post_id":76537599,"comment_id":134950877,"body_markdown":"The requiements to generate the code in the service core means you have to move the yaml file into the same module and do so..otherwise it does not make sense.. I strongly recommend to have a separate module (api) and generate the code there ... and to use the generated code simply define a dependency in other module on that api module... that&#39;s clean and easy...","body":"The requiements to generate the code in the service core means you have to move the yaml file into the same module and do so..otherwise it does not make sense.. I strongly recommend to have a separate module (api) and generate the code there ... and to use the generated code simply define a dependency in other module on that api module... that&#39;s clean and easy..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687514671,"post_id":76537599,"comment_id":134950902,"body_markdown":"Hint about 2.7... means you have to upgrade as soon as possible because support for 2.7.X line is end of life in November this year (See https://spring.io/projects/spring-boot#support). The only way is to upgrade to Spring Boot 3.1+ and JDK17...","body":"Hint about 2.7... means you have to upgrade as soon as possible because support for 2.7.X line is end of life in November this year (See <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>). The only way is to upgrade to Spring Boot 3.1+ and JDK17..."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687518063,"post_id":76537599,"comment_id":134951526,"body_markdown":"@khmarbaise Thank you once more for suggestions for spring boot version, will make sure to discuss with the team. I have updated my question and decided to accept you suggestion to generate api in rest-api module, but it isnot clean and easy to do so :) at least not for me. I have no idea what&#39;s wrong...","body":"@khmarbaise Thank you once more for suggestions for spring boot version, will make sure to discuss with the team. I have updated my question and decided to accept you suggestion to generate api in rest-api module, but it isnot clean and easy to do so :) at least not for me. I have no idea what&#39;s wrong..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687527433,"post_id":76537599,"comment_id":134953678,"body_markdown":"I&#39;ve created a pull request for your repository and cleaned up the whole stuff...I don&#39;t understood why the dependeny plugin is needed and the configuration for m2e etc. ... that&#39;s unclear for me...Also I don&#39;t understand the need for build-helper-maven-plugin etc.","body":"I&#39;ve created a pull request for your repository and cleaned up the whole stuff...I don&#39;t understood why the dependeny plugin is needed and the configuration for m2e etc. ... that&#39;s unclear for me...Also I don&#39;t understand the need for build-helper-maven-plugin etc."}],"answers":[{"comments":[{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687509347,"post_id":76537669,"comment_id":134949857,"body_markdown":"Hi Antonio, thanks for looking it up, but error is still the same. Have you managed to try on your machine? Maybe is something on my Windows/InteliJ setting?","body":"Hi Antonio, thanks for looking it up, but error is still the same. Have you managed to try on your machine? Maybe is something on my Windows/InteliJ setting?"},{"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1687511070,"post_id":76537669,"comment_id":134950197,"body_markdown":"I use this tecnique everyday. Maybe some other little error on your code, but unfortnately I cannot assit you so much. Sorry. :(","body":"I use this tecnique everyday. Maybe some other little error on your code, but unfortnately I cannot assit you so much. Sorry. :("}],"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687502692,"creation_date":1687502692,"answer_id":76537669,"question_id":76537599,"body_markdown":"Then **Open API maven generator plugin** runs before the classes (and resources) are compiled into `target` folder because it must generate the classes by the YAML which are you referenced by your own project classes, so this is why it cannot find the YAML file into the target folder.\r\n\r\nTo solve this you have to change:\r\n `&lt;inputSpec&gt;${project.basedir}/target/company/gaming/game.yaml&lt;/inputSpec&gt;` \r\n\r\ninto \r\n\r\n`&lt;inputSpec&gt;${project.basedir}/company-gaming-service/src/main/resources/company/gaming/game.yaml&lt;/inputSpec&gt;`.","title":"Generating API layer using OpenApi generator in a multi module Maven project","body":"<p>Then <strong>Open API maven generator plugin</strong> runs before the classes (and resources) are compiled into <code>target</code> folder because it must generate the classes by the YAML which are you referenced by your own project classes, so this is why it cannot find the YAML file into the target folder.</p>\n<p>To solve this you have to change:\n<code>&lt;inputSpec&gt;${project.basedir}/target/company/gaming/game.yaml&lt;/inputSpec&gt;</code></p>\n<p>into</p>\n<p><code>&lt;inputSpec&gt;${project.basedir}/company-gaming-service/src/main/resources/company/gaming/game.yaml&lt;/inputSpec&gt;</code>.</p>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687517929,"creation_date":1687501852,"question_id":76537599,"body_markdown":"Hello Maven community,\r\n\r\nI have a multi module Maven project (for my Spring Boot application) for which I would like to generate API layer using [OpenAPI generator - Maven plugin][1].\r\n\r\nLet me explain the structure and at the end you can see a link to a repo with project.\r\n\r\nI have basically three `pom.xml`. First pom is on the project level, it has `&lt;dependencyManagement&gt;` from where other modules inherit dependencies and specify other versions as the see fit. Second pom is within module `company-gaming-rest-api`, idea with this module is that it doesn&#39;t contain any source code, only yaml file(s) for generating API layer along with some DTOs. Finally, second pom.xml comes from a module called `company-gaming-service-core`. Idea with this module is to actually contains bussiness logic and have  under its `/target` folder all those generated APIs.\r\n\r\nSo in `company-gaming-service-core` pom.xml I have used plugin like so:\r\n\r\n                  &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;gaming-generation&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;${project.basedir}/target/company/gaming/game.yaml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                                &lt;apiPackage&gt;company.gaming.ms.game.controller&lt;/apiPackage&gt;\r\n                                &lt;modelPackage&gt;company.gaming.ms.game.model&lt;/modelPackage&gt;\r\n                                &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n                                &lt;configOptions&gt;\r\n    \r\n                                    &lt;enableBuilderSupport&gt;true&lt;/enableBuilderSupport&gt;\r\n                                    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                                    &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\r\n                                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                                    &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                    &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                                    &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                                    &lt;simpleFluentPattern&gt;true&lt;/simpleFluentPattern&gt;\r\n                                    &lt;collectionFluentPattern&gt;true&lt;/collectionFluentPattern&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nEntire project is using only two libraries, `mapstruct` and `lombok`, since in my humble understanding they are needed for api generator to generate classes/methods for API layer.\r\n\r\nI&#39;m using IntelliJ, so here is the image of a clean project:\r\n\r\n[![Clean project][2]][2] \r\n\r\nHere is the structure of project after `mvn clean install -DskipTests`:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe error, after `mvn clean install -DskipTests`, I&#39;m getting is very strange:\r\n\r\n    [INFO] Configured Artifact: company.gaming.ms:company-gaming-rest-api:0.0.1-SNAPSHOT:jar\r\n    [INFO] Unpacking C:\\Users\\FirstName.Lastname\\Desktop\\company-gaming-service\\company-gaming-rest-api\\target\\company-gaming-rest-api-0.0.1-SNAPSHOT.jar to C:\\Users\\FirstName.Lastname\\Desktop\\company-gaming-service\\company-gaming-service-core\\target with includes &quot;**/*.yaml&quot; and excludes &quot;&quot;\r\n    [INFO] \r\n    [INFO] --- openapi-generator-maven-plugin:4.0.2:generate (company-gaming) @ company-gaming-service-core ---\r\n    [WARNING] Exception while reading:\r\n    java.lang.RuntimeException: **Could not find C:/Users/FirstName.Lastname/Desktop/company-gaming-service/company-gaming-service-core/target/company/gaming/game.yaml on the classpath**\r\n        at io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath (ClasspathHelper.java:31)\r\n        at io.swagger.v3.parser.OpenAPIV3Parser.readWithInfo (OpenAPIV3Parser.java:135)\r\n        at io.swagger.v3.parser.OpenAPIV3Parser.readLocation (OpenAPIV3Parser.java:45)\r\n        at io.swagger.parser.OpenAPIParser.readLocation (OpenAPIParser.java:16)\r\n        at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput (CodegenConfigurator.java:586)\r\n\r\nIt says it cannot find on the classpath but it managed to copy it from rest module to core module. I did play with other versions of mapstruct/openapi plugin, but no luck :(\r\n\r\nHere is the [link to the repo][4]\r\n\r\nYaml schema is correct and validate against [Swagger Editor][5].\r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\r\n  [2]: https://i.stack.imgur.com/ffASt.png\r\n  [3]: https://i.stack.imgur.com/zFUIg.png\r\n  [4]: https://github.com/Coding-Hefestus/company-gaming-service\r\n  [5]: https://editor.swagger.io/\r\n\r\n**Update1**\r\nBased on the suggestion from khmarbaise:\r\n\r\nI have commented out in core-module plugin related to api generator. Now, in my rest-api module I have following:\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            \r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;company.gaming.ms&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;company-gaming-rest-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                            &lt;includes&gt;**/*.yaml&lt;/includes&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n\r\n\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;company-gaming-api-generation&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\r\n                            &lt;!--${project.basedir}\r\n\r\n                            C:/Users/FirstName.LastName/Desktop/repo/company-gaming-service/company-gaming-rest-api/src/main/resources/company.gaming/game.yaml--&gt;\r\n                            &lt;inputSpec&gt;${project.basedir}\\src\\main\\resource\\company\\gaming\\game.yaml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;apiPackage&gt;company.gaming.ms.game.controller&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;company.gaming.ms.game.model&lt;/modelPackage&gt;\r\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n                            &lt;configOptions&gt;\r\n\r\n                                &lt;enableBuilderSupport&gt;true&lt;/enableBuilderSupport&gt;\r\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                                &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\r\n                                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                                &lt;simpleFluentPattern&gt;true&lt;/simpleFluentPattern&gt;\r\n                                &lt;collectionFluentPattern&gt;true&lt;/collectionFluentPattern&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;add-client-sources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;add-source&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java&lt;/source&gt;\r\n                                &lt;source&gt;${project.build.directory}/generated-sources/annotations&lt;/source&gt;\r\n                                &lt;source&gt;${project.build.directory}/generated-sources/xjc-client&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nTried with `/` `\\` `company.gaming` `company/gaming` its just keep serving me with:\r\n\r\n    [INFO] --- openapi-generator-maven-plugin:6.6.0:generate (gaming-api-generation) @ company-gaming-service-core ---\r\n    [WARNING] Exception while reading:\r\n    io.swagger.v3.parser.exception.ReadContentException: Unable to read location `main/company-gaming-rest-api/src/main/resources/company.gaming/game.yml`\r\n        at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation (OpenAPIV3Parser.java:295)\r\n        at io.swagger.v3.parser.OpenAPIV3Parser.readLocation (OpenAPIV3Parser.java:92)\r\n\r\nNote that in error it outputs `.yml` instead of `.yaml`\r\n\r\n","title":"Generating API layer using OpenApi generator in a multi module Maven project","body":"<p>Hello Maven community,</p>\n<p>I have a multi module Maven project (for my Spring Boot application) for which I would like to generate API layer using <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"nofollow noreferrer\">OpenAPI generator - Maven plugin</a>.</p>\n<p>Let me explain the structure and at the end you can see a link to a repo with project.</p>\n<p>I have basically three <code>pom.xml</code>. First pom is on the project level, it has <code>&lt;dependencyManagement&gt;</code> from where other modules inherit dependencies and specify other versions as the see fit. Second pom is within module <code>company-gaming-rest-api</code>, idea with this module is that it doesn't contain any source code, only yaml file(s) for generating API layer along with some DTOs. Finally, second pom.xml comes from a module called <code>company-gaming-service-core</code>. Idea with this module is to actually contains bussiness logic and have  under its <code>/target</code> folder all those generated APIs.</p>\n<p>So in <code>company-gaming-service-core</code> pom.xml I have used plugin like so:</p>\n<pre><code>              &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;gaming-generation&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/target/company/gaming/game.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;company.gaming.ms.game.controller&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;company.gaming.ms.game.model&lt;/modelPackage&gt;\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                            &lt;configOptions&gt;\n\n                                &lt;enableBuilderSupport&gt;true&lt;/enableBuilderSupport&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\n                                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;simpleFluentPattern&gt;true&lt;/simpleFluentPattern&gt;\n                                &lt;collectionFluentPattern&gt;true&lt;/collectionFluentPattern&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Entire project is using only two libraries, <code>mapstruct</code> and <code>lombok</code>, since in my humble understanding they are needed for api generator to generate classes/methods for API layer.</p>\n<p>I'm using IntelliJ, so here is the image of a clean project:</p>\n<p><a href=\"https://i.stack.imgur.com/ffASt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ffASt.png\" alt=\"Clean project\" /></a></p>\n<p>Here is the structure of project after <code>mvn clean install -DskipTests</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/zFUIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFUIg.png\" alt=\"enter image description here\" /></a></p>\n<p>The error, after <code>mvn clean install -DskipTests</code>, I'm getting is very strange:</p>\n<pre><code>[INFO] Configured Artifact: company.gaming.ms:company-gaming-rest-api:0.0.1-SNAPSHOT:jar\n[INFO] Unpacking C:\\Users\\FirstName.Lastname\\Desktop\\company-gaming-service\\company-gaming-rest-api\\target\\company-gaming-rest-api-0.0.1-SNAPSHOT.jar to C:\\Users\\FirstName.Lastname\\Desktop\\company-gaming-service\\company-gaming-service-core\\target with includes &quot;**/*.yaml&quot; and excludes &quot;&quot;\n[INFO] \n[INFO] --- openapi-generator-maven-plugin:4.0.2:generate (company-gaming) @ company-gaming-service-core ---\n[WARNING] Exception while reading:\njava.lang.RuntimeException: **Could not find C:/Users/FirstName.Lastname/Desktop/company-gaming-service/company-gaming-service-core/target/company/gaming/game.yaml on the classpath**\n    at io.swagger.v3.parser.util.ClasspathHelper.loadFileFromClasspath (ClasspathHelper.java:31)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readWithInfo (OpenAPIV3Parser.java:135)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readLocation (OpenAPIV3Parser.java:45)\n    at io.swagger.parser.OpenAPIParser.readLocation (OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput (CodegenConfigurator.java:586)\n</code></pre>\n<p>It says it cannot find on the classpath but it managed to copy it from rest module to core module. I did play with other versions of mapstruct/openapi plugin, but no luck :(</p>\n<p>Here is the <a href=\"https://github.com/Coding-Hefestus/company-gaming-service\" rel=\"nofollow noreferrer\">link to the repo</a></p>\n<p>Yaml schema is correct and validate against <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">Swagger Editor</a>.</p>\n<p><strong>Update1</strong>\nBased on the suggestion from khmarbaise:</p>\n<p>I have commented out in core-module plugin related to api generator. Now, in my rest-api module I have following:</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        \n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;company.gaming.ms&lt;/groupId&gt;\n                                &lt;artifactId&gt;company-gaming-rest-api&lt;/artifactId&gt;\n                                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n                                &lt;type&gt;jar&lt;/type&gt;\n                                &lt;overWrite&gt;false&lt;/overWrite&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                        &lt;includes&gt;**/*.yaml&lt;/includes&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                        &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n            &lt;/executions&gt;\n\n\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;company-gaming-api-generation&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n\n                        &lt;!--${project.basedir}\n\n                        C:/Users/FirstName.LastName/Desktop/repo/company-gaming-service/company-gaming-rest-api/src/main/resources/company.gaming/game.yaml--&gt;\n                        &lt;inputSpec&gt;${project.basedir}\\src\\main\\resource\\company\\gaming\\game.yaml&lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;apiPackage&gt;company.gaming.ms.game.controller&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;company.gaming.ms.game.model&lt;/modelPackage&gt;\n                        &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                        &lt;configOptions&gt;\n\n                            &lt;enableBuilderSupport&gt;true&lt;/enableBuilderSupport&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                            &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\n                            &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                            &lt;simpleFluentPattern&gt;true&lt;/simpleFluentPattern&gt;\n                            &lt;collectionFluentPattern&gt;true&lt;/collectionFluentPattern&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;add-client-sources&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java&lt;/source&gt;\n                            &lt;source&gt;${project.build.directory}/generated-sources/annotations&lt;/source&gt;\n                            &lt;source&gt;${project.build.directory}/generated-sources/xjc-client&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Tried with <code>/</code> <code>\\</code> <code>company.gaming</code> <code>company/gaming</code> its just keep serving me with:</p>\n<pre><code>[INFO] --- openapi-generator-maven-plugin:6.6.0:generate (gaming-api-generation) @ company-gaming-service-core ---\n[WARNING] Exception while reading:\nio.swagger.v3.parser.exception.ReadContentException: Unable to read location `main/company-gaming-rest-api/src/main/resources/company.gaming/game.yml`\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContentFromLocation (OpenAPIV3Parser.java:295)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readLocation (OpenAPIV3Parser.java:92)\n</code></pre>\n<p>Note that in error it outputs <code>.yml</code> instead of <code>.yaml</code></p>\n"},{"tags":["java","kotlin","apache-poi","pdfbox","http4k"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1687328355,"post_id":76520444,"comment_id":134919319,"body_markdown":"`OPCPackage` provides opening from `InputStream` too: [OPCPackage.open(java.io.InputStream in)](https://poi.apache.org/apidocs/dev/org/apache/poi/openxml4j/opc/OPCPackage.html#open-java.io.InputStream-).","body":"<code>OPCPackage</code> provides opening from <code>InputStream</code> too: <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/openxml4j/opc/OPCPackage.html#open-java.io.InputStream-\" rel=\"nofollow noreferrer\">OPCPackage.open(java.io.InputStream in)</a>."}],"answers":[{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1687344218,"post_id":76520918,"comment_id":134922677,"body_markdown":"If you just want to edit the Metadata on OLE2 documents, you don&#39;t even need to load at the `HWPF` level - just do it at the `POIFS` and `HPSF` level and it&#39;ll be simpler + less likely to make other unexpected changes","body":"If you just want to edit the Metadata on OLE2 documents, you don&#39;t even need to load at the <code>HWPF</code> level - just do it at the <code>POIFS</code> and <code>HPSF</code> level and it&#39;ll be simpler + less likely to make other unexpected changes"}],"tags":[],"owner":{"account_id":11546932,"reputation":38,"user_id":8460648,"display_name":"landge shubham"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687517874,"creation_date":1687332328,"answer_id":76520918,"question_id":76520444,"body_markdown":"**Solved:** \r\n\r\nI was able to solve the problem using the code below:\r\n\r\n```kotlin\r\nval doc =  HWPFDocument(response.body.stream)\r\nprintln(&quot;Current author  = ${doc.summaryInformation.author}&quot;)\r\n            \r\nval pp = doc.summaryInformation.removeAuthor()\r\n     \r\nprintln(&quot;Removed author = ${doc.summaryInformation.author}&quot;)\r\n\r\ndoc.close()\r\n```","title":"Delete metadata from doc, docx, pdf files which are stored as blob on GCS (Google cloud services)","body":"<p><strong>Solved:</strong></p>\n<p>I was able to solve the problem using the code below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val doc =  HWPFDocument(response.body.stream)\nprintln(&quot;Current author  = ${doc.summaryInformation.author}&quot;)\n            \nval pp = doc.summaryInformation.removeAuthor()\n     \nprintln(&quot;Removed author = ${doc.summaryInformation.author}&quot;)\n\ndoc.close()\n</code></pre>\n"}],"owner":{"account_id":11546932,"reputation":38,"user_id":8460648,"display_name":"landge shubham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76520918,"answer_count":1,"score":0,"last_activity_date":1687517874,"creation_date":1687328042,"question_id":76520444,"body_markdown":"**Current Problem :-**\r\nI have a setup of GCS to which i am uploading some files such as doc, docx, pdf. With the file upload the default metadata is also getting uploaded. THE FILES ARE GETTING UPLOADED AS A Blob. When we try to access the file I am getting a InputStream from which we cannot delete the metadata directly.\r\n\r\n\r\n\r\n**What I want ?**\r\nI want to delete the default metadata ( Which may reveal the personal info of uploaded users ) while uploading or downloading the file from GCS server.\r\n\r\n**What problems I am facing ?**\r\nWhile downloading the file the file is in blog type, or I am getting the file as Input stream from which we cannot delete the metadata directly.\r\n\r\nWhat steps I need to follow to remove the Metadata from the files while downloading and uploading ?\r\n\r\nHow can we read the file metadata from Input stream and delete it ?\r\n\r\n**Tools and programming languages used :-**\r\nKotlin, http4k, Apache POI, PDFBox\r\n\r\n\r\n```\r\n        val opc = OPCPackage.open(&quot;demoDox.docx&quot;)\r\n        val pp = opc.packageProperties\r\n\r\n        println(pp.creatorProperty)\r\n        pp.setCreatorProperty(&quot;Shubham&quot;) //we can update the core properties like this\r\n        println(pp.creatorProperty)\r\n        opc.close()\r\n\r\n```\r\n\r\nWe can remove the docx metadata only when we know the file path. But as of now I am getting a InputStream from GCS.\r\n","title":"Delete metadata from doc, docx, pdf files which are stored as blob on GCS (Google cloud services)","body":"<p><strong>Current Problem :-</strong>\nI have a setup of GCS to which i am uploading some files such as doc, docx, pdf. With the file upload the default metadata is also getting uploaded. THE FILES ARE GETTING UPLOADED AS A Blob. When we try to access the file I am getting a InputStream from which we cannot delete the metadata directly.</p>\n<p><strong>What I want ?</strong>\nI want to delete the default metadata ( Which may reveal the personal info of uploaded users ) while uploading or downloading the file from GCS server.</p>\n<p><strong>What problems I am facing ?</strong>\nWhile downloading the file the file is in blog type, or I am getting the file as Input stream from which we cannot delete the metadata directly.</p>\n<p>What steps I need to follow to remove the Metadata from the files while downloading and uploading ?</p>\n<p>How can we read the file metadata from Input stream and delete it ?</p>\n<p><strong>Tools and programming languages used :-</strong>\nKotlin, http4k, Apache POI, PDFBox</p>\n<pre><code>        val opc = OPCPackage.open(&quot;demoDox.docx&quot;)\n        val pp = opc.packageProperties\n\n        println(pp.creatorProperty)\n        pp.setCreatorProperty(&quot;Shubham&quot;) //we can update the core properties like this\n        println(pp.creatorProperty)\n        opc.close()\n\n</code></pre>\n<p>We can remove the docx metadata only when we know the file path. But as of now I am getting a InputStream from GCS.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28865501,"reputation":1,"user_id":22108358,"display_name":"sl1degod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687517452,"creation_date":1687347301,"question_id":76522842,"body_markdown":"I am creating a mobile application, something like a service for listening to music, and I ran into the following problem.\r\nWhen I start another track, the previous one continues to play.\r\n I don&#39;t know how to solve it, the `mediaPlayer.isPlaying` shows true or false, depending on the situation.\r\n\r\n**The Code:**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_player);\r\n        back = findViewById(R.id.backTrack);\r\n        pause = findViewById(R.id.pauseTrack);\r\n        next = findViewById(R.id.nextTrack);\r\n        track_id = getIntent().getStringExtra(&quot;track_id&quot;);\r\n        Log.d(&quot;333&quot;, &quot;onCreate: before playing &quot; + mediaPlayer.isPlaying());\r\n        validMusic();\r\n\r\n        pause.setOnClickListener(e -&gt; {\r\n            count++;\r\n            if (count % 2 == 1) {\r\n                pauseMusic();\r\n                pause.setImageResource(R.drawable.play);\r\n            } else {\r\n                startMusic(track_id);\r\n                pause.setImageResource(R.drawable.pause);\r\n            }\r\n        });      \r\n    }\r\n    public void pauseMusic() {\r\n        mediaPlayer.pause();\r\n    }\r\n\r\n    public void startMusic(String id) {\r\n        try {\r\n            mediaPlayer.setDataSource(&quot;myURL&quot; + id);\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.start();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void stopMusic() {\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.stop();\r\n            mediaPlayer.release();\r\n        }\r\n    }\r\n\r\n    public void validMusic() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            stopMusic();\r\n        } else {\r\n            startMusic(track_id);\r\n         }\r\n        }\r\n       }","title":"Android Studio MediaPlayer not working properly","body":"<p>I am creating a mobile application, something like a service for listening to music, and I ran into the following problem.\nWhen I start another track, the previous one continues to play.\nI don't know how to solve it, the <code>mediaPlayer.isPlaying</code> shows true or false, depending on the situation.</p>\n<p><strong>The Code:</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_player);\n    back = findViewById(R.id.backTrack);\n    pause = findViewById(R.id.pauseTrack);\n    next = findViewById(R.id.nextTrack);\n    track_id = getIntent().getStringExtra(&quot;track_id&quot;);\n    Log.d(&quot;333&quot;, &quot;onCreate: before playing &quot; + mediaPlayer.isPlaying());\n    validMusic();\n\n    pause.setOnClickListener(e -&gt; {\n        count++;\n        if (count % 2 == 1) {\n            pauseMusic();\n            pause.setImageResource(R.drawable.play);\n        } else {\n            startMusic(track_id);\n            pause.setImageResource(R.drawable.pause);\n        }\n    });      \n}\npublic void pauseMusic() {\n    mediaPlayer.pause();\n}\n\npublic void startMusic(String id) {\n    try {\n        mediaPlayer.setDataSource(&quot;myURL&quot; + id);\n        mediaPlayer.prepare();\n        mediaPlayer.start();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic void stopMusic() {\n    if (mediaPlayer != null) {\n        mediaPlayer.stop();\n        mediaPlayer.release();\n    }\n}\n\npublic void validMusic() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        stopMusic();\n    } else {\n        startMusic(track_id);\n     }\n    }\n   }\n</code></pre>\n"},{"tags":["java","android","kotlin","sonarqube","kotlin-multiplatform"],"comments":[{"owner":{"account_id":41061,"reputation":727,"user_id":119259,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1678047085,"post_id":62195275,"comment_id":133453155,"body_markdown":"Running into the same issue. On the community thread you shared, a [later response from Sonar](https://community.sonarsource.com/t/does-sonarcloud-support-kotlin-multiplatform/9849/12) states that this indeed not supported and has low priority, but that there is an [open feature request](https://sonarsource.atlassian.net/browse/SONARKT-23).","body":"Running into the same issue. On the community thread you shared, a <a href=\"https://community.sonarsource.com/t/does-sonarcloud-support-kotlin-multiplatform/9849/12\" rel=\"nofollow noreferrer\">later response from Sonar</a> states that this indeed not supported and has low priority, but that there is an <a href=\"https://sonarsource.atlassian.net/browse/SONARKT-23\" rel=\"nofollow noreferrer\">open feature request</a>."}],"answers":[{"tags":[],"owner":{"account_id":4307882,"reputation":91,"user_id":3519804,"display_name":"rricarrdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687517224,"creation_date":1687517224,"answer_id":76539378,"question_id":62195275,"body_markdown":"A new update was just released.\r\n\r\nStarting with **v4.2.1.3168**, Sonar&#39;s Gradle plugin supports KMM projects.\r\n\r\nRelease announcement on this link:\r\nhttps://community.sonarsource.com/t/kotlin-multiplatform-support-is-here/92577","title":"SonarQube can&#39;t analyse my Kotlin Multiplatform module","body":"<p>A new update was just released.</p>\n<p>Starting with <strong>v4.2.1.3168</strong>, Sonar's Gradle plugin supports KMM projects.</p>\n<p>Release announcement on this link:\n<a href=\"https://community.sonarsource.com/t/kotlin-multiplatform-support-is-here/92577\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/kotlin-multiplatform-support-is-here/92577</a></p>\n"}],"owner":{"account_id":4883691,"reputation":389,"user_id":3936723,"display_name":"Kamil Kamiski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1687517224,"creation_date":1591275721,"question_id":62195275,"body_markdown":"### Situation ###\nWe have a project, with many modules (java and android). We have one additional module which is Kotlin Multiplatform module. We reuse code from this module with our iOS app. \nOur long term goal is to move more code from existing modules to Kotlin Multiplatform module, to share our core business logic.\nWe use SonarQube for static code analysis. We have our own instance, version 7.9.3 LTS. For scanning our project we use SonarQube Gradle plugin. Additionally we have Jacoco for code coverage.  \n\n### Problem TL;DR ###\nWhen scanning our project, SonarQube scanner goes inside our Kotlin Multiplatform module, but dont find any sources.  Simply it says no sources found and it moves to next module. We already posted a problem on sonar source community website, but we didnt get any response: https://community.sonarsource.com/t/does-sonarcloud-support-kotlin-multiplatform/9849 \n### Problem detailed ###\n\n1. To run SonarQube we use: `./gradlew jacocoTestReport sonarqube --info`\n2.  In the logs I can see that running this command causes SonarQube to run different sensors in each module in a project. For example for one of the Java modules the logs are like this: \n```\n------------- Run sensors on module [OUR JAVA MODULE]\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor DelphiSensor...\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor describe...\nSurefireSensor sensor describe...\nPMD sensor.describe\nSensor JavaSquidSensor [java]\nConfigured Java source version (sonar.java.source): 8\nJavaClasspath initialization\nJavaClasspath initialization (done) | time=1ms\nJavaTestClasspath initialization\nJavaTestClasspath initialization (done) | time=22ms\nJava Main Files AST scan\n1003 source files to be analyzed\n\n527/1003 files analyzed, current file: [...]\n789/1003 files analyzed, current file: [...]\n1003/1003 source files have been analyzed\n\nJava Main Files AST scan (done) | time=29234ms\nJava Test Files AST scan\n250 source files to be analyzed\n\n250/250 source files have been analyzed\n\nJava Test Files AST scan (done) | time=5492ms\nSensor JavaSquidSensor [java] (done) | time=34763ms\nSensor SurefireSensor [java]\nparsing [.../build/test-results/test]\nSensor SurefireSensor [java] (done) | time=202ms\nSensor JaCoCoSensor [java]\nBoth &#39;sonar.jacoco.reportPath&#39; and &#39;sonar.coverage.jacoco.xmlReportPaths&#39; were set. &#39;sonar.jacoco.reportPath&#39; is deprecated therefore, only &#39;sonar.coverage.jacoco.xmlReportPaths&#39; will be taken into account.\nBoth &#39;sonar.jacoco.reportPaths&#39; and &#39;sonar.coverage.jacoco.xmlReportPaths&#39; were set. &#39;sonar.jacoco.reportPaths&#39; is deprecated therefore, only &#39;sonar.coverage.jacoco.xmlReportPaths&#39; will be taken into account.\nSensor JaCoCoSensor [java] (done) | time=0ms\nSensor JavaXmlSensor [java]\nSensor JavaXmlSensor [java] (done) | time=6ms\nSensor HTML [web]\nSensor HTML [web] (done) | time=2ms\nSensor CheckstyleSensor [checkstyle]\nCheckstyle output report: .../checkstyle-result.xml\nCheckstyle configuration: .../checkstyle.xml\nCheckstyle charset: UTF-8\nSensor CheckstyleSensor [checkstyle] (done) | time=3392ms\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor (done) | time=1ms\nSensor JaCoCo XML Report Importer [jacoco]\nSensor JaCoCo XML Report Importer [jacoco] (done) | time=245ms\nSensor Kotlin Sensor [kotlin]\n42 source files to be analyzed\nSensor Kotlin Sensor [kotlin] (done) | time=180ms\nSensor DetektSensor [detekt]\n\n42/42 source files have been analyzed\n13/13 source files have been analyzed\n2/2 source files have been analyzed\n0/0 source files have been analyzed\n\nRuleSet: complexity - 6\nRuleSet: empty-blocks - 4\nRuleSet: formatting - 104\nRuleSet: naming - 1\nRuleSet: style - 50\nSensor DetektSensor [detekt] (done) | time=1203ms\n```\n\n3. As you can see, on Java module it ran all plugins we have installed. But this not happen when the scanners goes inside Kotlin Multiplatform module:\n\n```\n------------- Run sensors on module [OUR KOTLIN MULTIPLATFORM MODULE]\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor DelphiSensor...\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor describe...\nSurefireSensor sensor describe...\nPMD sensor.describe\nSensor JavaXmlSensor [java]\nSensor JavaXmlSensor [java] (done) | time=0ms\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor (done) | time=1ms\nSensor JaCoCo XML Report Importer [jacoco]\nSensor JaCoCo XML Report Importer [jacoco] (done) | time=0ms\n```\nThe strange thing is that it ran some sensors, but not all, it didnt run Kotlin and Detekt sensors. This is why it didnt found any sources to scan. Over last few months I spent few days trying different SonarQube configurations for that module. I set all possible SonarQube properties for it with different variations. It&#39;s always the same, scanner can detect the module, but after going inside it never run Kotlin sensor and it can&#39;t find any Kotlin classes inside. \n\nOur Kotlin Multiplatform projects is a default one, we have following source sets:\n\n - commonMain\n - commonTest\n - iosMain\n - iosTest\n - jvmMain\n - jvmTest\n\n","title":"SonarQube can&#39;t analyse my Kotlin Multiplatform module","body":"<h3>Situation</h3>\n<p>We have a project, with many modules (java and android). We have one additional module which is Kotlin Multiplatform module. We reuse code from this module with our iOS app.\nOur long term goal is to move more code from existing modules to Kotlin Multiplatform module, to share our core business logic.\nWe use SonarQube for static code analysis. We have our own instance, version 7.9.3 LTS. For scanning our project we use SonarQube Gradle plugin. Additionally we have Jacoco for code coverage.</p>\n<h3>Problem TL;DR</h3>\n<p>When scanning our project, SonarQube scanner goes inside our Kotlin Multiplatform module, but dont find any sources.  Simply it says no sources found and it moves to next module. We already posted a problem on sonar source community website, but we didnt get any response: <a href=\"https://community.sonarsource.com/t/does-sonarcloud-support-kotlin-multiplatform/9849\" rel=\"noreferrer\">https://community.sonarsource.com/t/does-sonarcloud-support-kotlin-multiplatform/9849</a> </p>\n<h3>Problem detailed</h3>\n<ol>\n<li>To run SonarQube we use: <code>./gradlew jacocoTestReport sonarqube --info</code></li>\n<li>In the logs I can see that running this command causes SonarQube to run different sensors in each module in a project. For example for one of the Java modules the logs are like this:</li>\n</ol>\n<pre><code>------------- Run sensors on module [OUR JAVA MODULE]\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor DelphiSensor...\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor describe...\nSurefireSensor sensor describe...\nPMD sensor.describe\nSensor JavaSquidSensor [java]\nConfigured Java source version (sonar.java.source): 8\nJavaClasspath initialization\nJavaClasspath initialization (done) | time=1ms\nJavaTestClasspath initialization\nJavaTestClasspath initialization (done) | time=22ms\nJava Main Files AST scan\n1003 source files to be analyzed\n\n527/1003 files analyzed, current file: [...]\n789/1003 files analyzed, current file: [...]\n1003/1003 source files have been analyzed\n\nJava Main Files AST scan (done) | time=29234ms\nJava Test Files AST scan\n250 source files to be analyzed\n\n250/250 source files have been analyzed\n\nJava Test Files AST scan (done) | time=5492ms\nSensor JavaSquidSensor [java] (done) | time=34763ms\nSensor SurefireSensor [java]\nparsing [.../build/test-results/test]\nSensor SurefireSensor [java] (done) | time=202ms\nSensor JaCoCoSensor [java]\nBoth 'sonar.jacoco.reportPath' and 'sonar.coverage.jacoco.xmlReportPaths' were set. 'sonar.jacoco.reportPath' is deprecated therefore, only 'sonar.coverage.jacoco.xmlReportPaths' will be taken into account.\nBoth 'sonar.jacoco.reportPaths' and 'sonar.coverage.jacoco.xmlReportPaths' were set. 'sonar.jacoco.reportPaths' is deprecated therefore, only 'sonar.coverage.jacoco.xmlReportPaths' will be taken into account.\nSensor JaCoCoSensor [java] (done) | time=0ms\nSensor JavaXmlSensor [java]\nSensor JavaXmlSensor [java] (done) | time=6ms\nSensor HTML [web]\nSensor HTML [web] (done) | time=2ms\nSensor CheckstyleSensor [checkstyle]\nCheckstyle output report: .../checkstyle-result.xml\nCheckstyle configuration: .../checkstyle.xml\nCheckstyle charset: UTF-8\nSensor CheckstyleSensor [checkstyle] (done) | time=3392ms\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor (done) | time=1ms\nSensor JaCoCo XML Report Importer [jacoco]\nSensor JaCoCo XML Report Importer [jacoco] (done) | time=245ms\nSensor Kotlin Sensor [kotlin]\n42 source files to be analyzed\nSensor Kotlin Sensor [kotlin] (done) | time=180ms\nSensor DetektSensor [detekt]\n\n42/42 source files have been analyzed\n13/13 source files have been analyzed\n2/2 source files have been analyzed\n0/0 source files have been analyzed\n\nRuleSet: complexity - 6\nRuleSet: empty-blocks - 4\nRuleSet: formatting - 104\nRuleSet: naming - 1\nRuleSet: style - 50\nSensor DetektSensor [detekt] (done) | time=1203ms\n</code></pre>\n<ol start=\"3\">\n<li>As you can see, on Java module it ran all plugins we have installed. But this not happen when the scanners goes inside Kotlin Multiplatform module:</li>\n</ol>\n<pre><code>------------- Run sensors on module [OUR KOTLIN MULTIPLATFORM MODULE]\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor DelphiSensor...\nDelphi Project Helper creation!!!\nNo exclude directories found in project configuration.\nDelphi sensor describe...\nSurefireSensor sensor describe...\nPMD sensor.describe\nSensor JavaXmlSensor [java]\nSensor JavaXmlSensor [java] (done) | time=0ms\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor\nSensor com.github.mc1arke.sonarqube.plugin.scanner.ScannerConfigurationLoaderSensor (done) | time=1ms\nSensor JaCoCo XML Report Importer [jacoco]\nSensor JaCoCo XML Report Importer [jacoco] (done) | time=0ms\n</code></pre>\n<p>The strange thing is that it ran some sensors, but not all, it didnt run Kotlin and Detekt sensors. This is why it didnt found any sources to scan. Over last few months I spent few days trying different SonarQube configurations for that module. I set all possible SonarQube properties for it with different variations. It's always the same, scanner can detect the module, but after going inside it never run Kotlin sensor and it can't find any Kotlin classes inside.</p>\n<p>Our Kotlin Multiplatform projects is a default one, we have following source sets:</p>\n<ul>\n<li>commonMain</li>\n<li>commonTest</li>\n<li>iosMain</li>\n<li>iosTest</li>\n<li>jvmMain</li>\n<li>jvmTest</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","testing","click"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1687517942,"post_id":76539340,"comment_id":134951503,"body_markdown":"_**it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered.**_ - How can the code from `if` and `else` block run in one iteration?!! Unless your `@Test` method is running more than once?","body":"<i><b>it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered.</b></i> - How can the code from <code>if</code> and <code>else</code> block run in one iteration?!! Unless your <code>@Test</code> method is running more than once?"},{"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"score":0,"creation_date":1687519401,"post_id":76539340,"comment_id":134951797,"body_markdown":"Can you ensure that the XPath you&#39;re using to locate the &quot;Anagrafica&quot; button is unique to the intended button. You can double-check the XPath by using browser developer tools or Selenium IDE to inspect the element and verify that the XPath expression matches only the desired button","body":"Can you ensure that the XPath you&#39;re using to locate the &quot;Anagrafica&quot; button is unique to the intended button. You can double-check the XPath by using browser developer tools or Selenium IDE to inspect the element and verify that the XPath expression matches only the desired button"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1687530608,"post_id":76539340,"comment_id":134954521,"body_markdown":"_it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered_: Isn&#39;t it a contradictory statement?","body":"<i>it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered</i>: Isn&#39;t it a contradictory statement?"}],"owner":{"account_id":26032070,"reputation":1,"user_id":19738142,"display_name":"FERNANDO ANTONIO PARADISO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687516995,"creation_date":1687516995,"question_id":76539340,"body_markdown":"I have a testAnagrafica() function where I need to verify the existence of the &quot;plus&quot; text and confirm the functionality of the &quot;anagrafica&quot; button but I&#39;m encountering an issue while running a Selenium test where an unexpected click is happening on a &quot;plus&quot; button. I&#39;ve checked my code and haven&#39;t included any click instructions on the &quot;plus&quot; button in the testAnagrafica() function. I&#39;ve thoroughly examined the HTML code of the page and there doesn&#39;t seem to be any other part of the code affecting the click on the &quot;plus&quot; button. I can&#39;t figure out why this click is happening. I have also tried using different browsers, cleaning the cache, reboot all, removed the block try/catch, but the problem remains the same. Here&#39;s the relevant portion of the code:\r\n\r\n\r\n```\r\n@Test\r\nvoid testAnagrafica() {\r\n    WebElement anagraficaButton = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[1]/div/div[1]/a/div/h4&quot;));\r\n    anagraficaButton.click();\r\n\r\n    try {\r\n        // Wait for 5 seconds\r\n        Thread.sleep(5000);\r\n\r\n        String html = driver.getPageSource();\r\n        if (html.contains(&quot;Nuovo&quot;)) { // If we reach here without errors, we can proceed with other operations\r\n            System.out.println(&quot;Anagrafica menu reached&quot;);\r\n        } else {\r\n            System.out.println(&quot;Anagrafica menu not reached&quot;);\r\n            fail(&quot;Main menu not reached&quot;);\r\n        }\r\n    } catch (InterruptedException e) {\r\n        // If an exception occurs during the wait, print the stack trace and fail\r\n        e.printStackTrace();\r\n        fail(&quot;Main menu not reached&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn the terminal output, when running this test, it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered.\r\n\r\n\r\nHere some HTML source:\r\n\r\n```\r\n &lt;button type=&quot;button&quot; id=&quot;sidebarCollapse&quot; class=&quot;navbar-btn&quot;&gt;\r\n  &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt;\r\n&lt;/button&gt;\r\n&lt;nav id=&quot;sidebar&quot;&gt;\r\n  &lt;div class=&quot;sidebar-header&quot;&gt;\r\n    &lt;a href=&quot;/home.jsp&quot;&gt;&lt;img class=&quot;mx-auto d-block&quot;\r\n    src=&quot;/img/Logo.png&quot; width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/a&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;ul class=&quot;list-unstyled&quot;&gt;\r\n    &lt;li&gt;&lt;a href=&quot;/anagrafica/anagrafica.jsp&quot;&gt; &lt;i class=&quot;fa fa-clipboard-list&quot; area-hidden=&quot;true&quot;&gt; Anagrafica &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;/RichiediInterrogazioni&quot;&gt; &lt;i class=&quot;fa fa-chart-bar&quot; area-hidden=&quot;true&quot;&gt; Interrogazioni &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;!-- &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-boxes&quot; area-hidden=&quot;true&quot;&gt;Carichi di Magazzino &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-exchange-alt&quot; area-hidden=&quot;true&quot;&gt; Trasferimenti &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-undo-alt&quot; area-hidden=&quot;true&quot;&gt; Resi &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-tablet-alt&quot; area-hidden=&quot;true&quot;&gt; Ordini &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;venditaAlBanco.html&quot;&gt; &lt;i class=&quot;fa fa-cash-register&quot; area-hidden=&quot;true&quot;&gt; Vendita al Banco &lt;/i&gt;&lt;/a&gt;&lt;/li&gt; --&gt;\r\n    &lt;li&gt;&lt;a href=&quot;/RichiediUtenti&quot;&gt; &lt;i class=&quot;fa fa-users-cog&quot; area-hidden=&quot;true&quot;&gt; Gestione Utenti &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/nav&gt; \r\n  \r\n    &lt;!-- Page Content Holder --&gt;\r\n    &lt;div id=&quot;content&quot;&gt;\r\n      &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n          &lt;div class=&quot;col-md-4 text-center&quot;&gt;\r\n            &lt;a href=&quot;/anagrafica/anagrafica.jsp&quot;&gt;\r\n              &lt;div class=&quot;service&quot;&gt;\r\n                &lt;i class=&quot;fa fa-clipboard-list fa-2x&quot; area-hidden=&quot;true&quot;&gt;&lt;/i&gt;\r\n                &lt;h4&gt;Anagrafica&lt;/h4&gt;\r\n              &lt;/div&gt;\r\n            &lt;/a&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;col-md-4 text-center&quot;&gt;\r\n            &lt;a href=&quot;/RichiediInterrogazioni&quot;&gt;\r\n              &lt;div class=&quot;service&quot;&gt;\r\n                &lt;i class=&quot;fa fa-chart-bar fa-2x&quot; area-hidden=&quot;true&quot;&gt;&lt;/i&gt;\r\n                &lt;h4&gt;Interrogazioni&lt;/h4&gt;\r\n              &lt;/div&gt;\r\n            &lt;/a&gt;\r\n          &lt;/div&gt;\r\n           \r\n```","title":"Issue with unexpected click on &quot;plus&quot; button while running Selenium test","body":"<p>I have a testAnagrafica() function where I need to verify the existence of the &quot;plus&quot; text and confirm the functionality of the &quot;anagrafica&quot; button but I'm encountering an issue while running a Selenium test where an unexpected click is happening on a &quot;plus&quot; button. I've checked my code and haven't included any click instructions on the &quot;plus&quot; button in the testAnagrafica() function. I've thoroughly examined the HTML code of the page and there doesn't seem to be any other part of the code affecting the click on the &quot;plus&quot; button. I can't figure out why this click is happening. I have also tried using different browsers, cleaning the cache, reboot all, removed the block try/catch, but the problem remains the same. Here's the relevant portion of the code:</p>\n<pre><code>@Test\nvoid testAnagrafica() {\n    WebElement anagraficaButton = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[1]/div/div[1]/a/div/h4&quot;));\n    anagraficaButton.click();\n\n    try {\n        // Wait for 5 seconds\n        Thread.sleep(5000);\n\n        String html = driver.getPageSource();\n        if (html.contains(&quot;Nuovo&quot;)) { // If we reach here without errors, we can proceed with other operations\n            System.out.println(&quot;Anagrafica menu reached&quot;);\n        } else {\n            System.out.println(&quot;Anagrafica menu not reached&quot;);\n            fail(&quot;Main menu not reached&quot;);\n        }\n    } catch (InterruptedException e) {\n        // If an exception occurs during the wait, print the stack trace and fail\n        e.printStackTrace();\n        fail(&quot;Main menu not reached&quot;);\n    }\n}\n\n</code></pre>\n<p>In the terminal output, when running this test, it indicates both that it has entered the &quot;anagrafica&quot; menu and that it has not entered.</p>\n<p>Here some HTML source:</p>\n<pre><code> &lt;button type=&quot;button&quot; id=&quot;sidebarCollapse&quot; class=&quot;navbar-btn&quot;&gt;\n  &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt; &lt;span&gt;&lt;/span&gt;\n&lt;/button&gt;\n&lt;nav id=&quot;sidebar&quot;&gt;\n  &lt;div class=&quot;sidebar-header&quot;&gt;\n    &lt;a href=&quot;/home.jsp&quot;&gt;&lt;img class=&quot;mx-auto d-block&quot;\n    src=&quot;/img/Logo.png&quot; width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/a&gt;\n  &lt;/div&gt;\n\n  &lt;ul class=&quot;list-unstyled&quot;&gt;\n    &lt;li&gt;&lt;a href=&quot;/anagrafica/anagrafica.jsp&quot;&gt; &lt;i class=&quot;fa fa-clipboard-list&quot; area-hidden=&quot;true&quot;&gt; Anagrafica &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;/RichiediInterrogazioni&quot;&gt; &lt;i class=&quot;fa fa-chart-bar&quot; area-hidden=&quot;true&quot;&gt; Interrogazioni &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;!-- &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-boxes&quot; area-hidden=&quot;true&quot;&gt;Carichi di Magazzino &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-exchange-alt&quot; area-hidden=&quot;true&quot;&gt; Trasferimenti &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-undo-alt&quot; area-hidden=&quot;true&quot;&gt; Resi &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-tablet-alt&quot; area-hidden=&quot;true&quot;&gt; Ordini &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;venditaAlBanco.html&quot;&gt; &lt;i class=&quot;fa fa-cash-register&quot; area-hidden=&quot;true&quot;&gt; Vendita al Banco &lt;/i&gt;&lt;/a&gt;&lt;/li&gt; --&gt;\n    &lt;li&gt;&lt;a href=&quot;/RichiediUtenti&quot;&gt; &lt;i class=&quot;fa fa-users-cog&quot; area-hidden=&quot;true&quot;&gt; Gestione Utenti &lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/nav&gt; \n  \n    &lt;!-- Page Content Holder --&gt;\n    &lt;div id=&quot;content&quot;&gt;\n      &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n          &lt;div class=&quot;col-md-4 text-center&quot;&gt;\n            &lt;a href=&quot;/anagrafica/anagrafica.jsp&quot;&gt;\n              &lt;div class=&quot;service&quot;&gt;\n                &lt;i class=&quot;fa fa-clipboard-list fa-2x&quot; area-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                &lt;h4&gt;Anagrafica&lt;/h4&gt;\n              &lt;/div&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;col-md-4 text-center&quot;&gt;\n            &lt;a href=&quot;/RichiediInterrogazioni&quot;&gt;\n              &lt;div class=&quot;service&quot;&gt;\n                &lt;i class=&quot;fa fa-chart-bar fa-2x&quot; area-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                &lt;h4&gt;Interrogazioni&lt;/h4&gt;\n              &lt;/div&gt;\n            &lt;/a&gt;\n          &lt;/div&gt;\n           \n</code></pre>\n"},{"tags":["java","rabbitmq","spring-amqp","spring-rabbit","amazon-mq"],"owner":{"account_id":28870872,"reputation":1,"user_id":22112447,"display_name":"Freshpipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687516201,"creation_date":1687515972,"question_id":76539225,"body_markdown":"We are using the RabbitMQ cluster broker of AmazonMQ service from AWS.\r\nSome consumers of a few queues are not able to recover or get stuck during the maintenance window.\r\n\r\n**RabbitMQ Broker engine version:** 3.8.6\r\n**Erlang version:** 23.0.3\r\n**Spring rabbit version:** 1.7.3.RELEASE\r\n**Amqp version:** 4.0.2  \r\n**References:**\r\n[https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rabbitmq-broker-architecture-cluster.html](https://stackoverflow.com)\r\n[https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbit/1.7.3.RELEASE](https://stackoverflow.com)\r\n[https://mvnrepository.com/artifact/com.rabbitmq/amqp-client/4.0.2](https://stackoverflow.com)\r\n\r\n**Errors from amazonMQ service**:\r\n\r\n```\r\n2023-06-21 05:50:44.619 [error] &lt;0.12788.1961&gt; Supervisor {&lt;0.12788.1961&gt;,rabbit_channel_sup_sup} had child channel_sup started with rabbit_channel_sup:start_link() at undefined exit with reason shutdown in context shutdown_error\r\n2023-06-21 05:57:59.425 [error] &lt;0.2547.1664&gt; Failed to fetch number of connections in vhost &lt;&lt;&quot;/&quot;&gt;&gt; on node {aborted,{no_exists,[&#39;tracked_connection_per_vhost_on_node_rabbit@ip-*********.eu-central-1.compute.internal&#39;,&lt;&lt;&quot;/&quot;&gt;&gt;]}}:\r\n2023-06-21 06:04:37.585 [error] emulator Error in process &lt;0.23288.1664&gt; on node &#39;rabbit@ip-*******.eu-central-1.compute.internal&#39; with exit value:\r\n2023-06-21 06:06:03.021 [error] &lt;0.17587.0&gt; Failed to fetch number of connections in vhost &lt;&lt;&quot;/&quot;&gt;&gt; on node {aborted,{no_exists,[&#39;tracked_connection_per_vhost_on_node_rabbit@ip-*********.eu-central-1.compute.internal&#39;,&lt;&lt;&quot;/&quot;&gt;&gt;]}}:\r\n2023-06-21 06:08:00.691 [error] &lt;0.767.0&gt; ** Generic server &lt;0.767.0&gt; terminating\r\n2023-06-21 06:08:00.711 [info] &lt;0.767.0&gt; [{initial_call,{rabbit_prequeue,init,[&#39;Argument__1&#39;]}},{pid,&lt;0.767.0&gt;},{registered_name,[]},{error_info,{exit,{{badmatch,-1},[{rabbit_mirror_queue_slave,update_delta,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,1058}]},{rabbit_mirror_queue_slave,process_instruction,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,991}]},{rabbit_mirror_queue_slave,handle_cast,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,299}]},{gen_server2,handle_msg,2,[{file,&quot;src/gen_server2.erl&quot;},{line,1067}]},{proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,236}]}]},[{gen_server2,terminate,3,[{file,&quot;src/gen_server2.erl&quot;},{line,1183}]},{proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,236}]}]}},{ancestors,[&lt;0.766.0&gt;,&lt;0.712.0&gt;,&lt;0.696.0&gt;,&lt;0.695.0&gt;,rabbit_vhost_sup_sup,rabbit_sup,&lt;0.269.0&gt;]},{message_queue_len,1},{messages,[{&#39;$gen_cast&#39;,{gm,{drop,1711,1,true}}}]},{links,[&lt;0.766.0&gt;,&lt;0.768.0&gt;]},{dictionary,[{{credit_to,&lt;0.18129.0&gt;},198},{{credit_to,&lt;43223.28092.0&gt;},198},{{credit_to,&lt;0.17144.0&gt;},198},{{credit_to,&lt;0.16646.0&gt;},198},{{credit_to,&lt;43223.8144.1&gt;},198},{{credit_to,&lt;0.6344.0&gt;},198},{{credit_to,&lt;43223.13766.1&gt;},198},{{credit_to,&lt;43223.815.1&gt;},198},{{credit_to,&lt;0.9025.0&gt;},198},{{credit_to,&lt;0.8021.0&gt;},198},{{credit_to,&lt;0.25557.0&gt;},198},{{credit_to,&lt;0.25827.0&gt;},198},{{credit_to,&lt;43223.14803.1&gt;},198},{{credit_to,&lt;0.26234.0&gt;},198},{{credit_to,&lt;43223.12736.1&gt;},198},{{credit_to,&lt;0.26367.0&gt;},198},{credit_flow_default_credit,{400,200}},{{credit_to,&lt;0.17881.0&gt;},198},{{credit_to,&lt;43223.137.1&gt;},198},{{credit_to,&lt;43223.10561.1&gt;},198},{{credit_to,&lt;43223.15193.1&gt;},198},{{credit_to,&lt;0.15384.0&gt;},198},{{credit_to,&lt;43223.28435.0&gt;},198},{{credit_to,&lt;43223.32132.0&gt;},198},{{credit_to,&lt;43223.13123.1&gt;},198},{{credit_to,&lt;0.9912.0&gt;},198},{{credit_to,&lt;43223.1404.1&gt;},198},{{credit_to,&lt;43223.10332.1&gt;},198},{{credit_to,&lt;43223.6767.1&gt;},198},{{credit_to,&lt;43223.28750.0&gt;},198},{{credit_to,&lt;0.19857.0&gt;},198},{{credit_to,&lt;43223.26489.0&gt;},198},{{credit_to,&lt;0.10940.0&gt;},198},{{credit_to,&lt;0.7810.0&gt;},198},{{credit_to,&lt;0.7475.0&gt;},198},{{credit_to,&lt;43223.12334.1&gt;},...},...]},...], [{neighbour,[{pid,&lt;0.768.0&gt;},{registered_name,[]},{initial_call,{gm,init,[&#39;Argument__1&#39;]}},{current_function,{gen_server2,process_next_msg,1}},{ancestors,[&lt;0.767.0&gt;,&lt;0.766.0&gt;,&lt;0.712.0&gt;,&lt;0.696.0&gt;,&lt;0.695.0&gt;,rabbit_vhost_sup_sup,rabbit_sup,&lt;0.269.0&gt;]},{message_queue_len,0},{links,[&lt;0.767.0&gt;]},{trap_exit,false},{status,waiting},{heap_size,987},{stack_size,10},{reductions,1408728},{current_stacktrace,[{gen_server2,process_next_msg,1,[{file,&quot;src/gen_server2.erl&quot;},{line,673}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,226}]}]}]}]\r\n2023-06-21 06:08:00.712 [error] &lt;0.767.0&gt; CRASH REPORT Process &lt;0.767.0&gt; with 1 neighbours exited with reason: no match of right hand value -1 in rabbit_mirror_queue_slave:update_delta/2 line 1058 in gen_server2:terminate/3 line 1183\r\n2023-06-21 06:08:00.713 [error] &lt;0.766.0&gt; Supervisor {&lt;0.766.0&gt;,rabbit_amqqueue_sup} had child rabbit_amqqueue started with rabbit_prequeue:start_link({amqqueue,{resource,&lt;&lt;&quot;/&quot;&gt;&gt;,queue,&lt;&lt;&quot;remoting.*******.queue&quot;&gt;&gt;},true,false,...}, slave, &lt;0.765.0&gt;) at &lt;0.767.0&gt; exit with reason no match of right hand value -1 in rabbit_mirror_queue_slave:update_delta/2 line 1058 in context child_terminated\r\n```\r\n\r\nWe want to understand more about this error and ways to fix this issue.\r\nWhat is the reason for this error and why this happens?\r\nCan anyone help us with this?  \r\n  \r\nWe expect all the consumers to be recovered during the maintenance window automatically.\r\n\r\nThanks in advance.","title":"Issue with rabbitMQ automatic consumer recovery during amazonMQ maintenance window","body":"<p>We are using the RabbitMQ cluster broker of AmazonMQ service from AWS.\nSome consumers of a few queues are not able to recover or get stuck during the maintenance window.</p>\n<p><strong>RabbitMQ Broker engine version:</strong> 3.8.6\n<strong>Erlang version:</strong> 23.0.3\n<strong>Spring rabbit version:</strong> 1.7.3.RELEASE\n<strong>Amqp version:</strong> 4.0.2<br />\n<strong>References:</strong>\n<a href=\"https://stackoverflow.com\">https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rabbitmq-broker-architecture-cluster.html</a>\n<a href=\"https://stackoverflow.com\">https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbit/1.7.3.RELEASE</a>\n<a href=\"https://stackoverflow.com\">https://mvnrepository.com/artifact/com.rabbitmq/amqp-client/4.0.2</a></p>\n<p><strong>Errors from amazonMQ service</strong>:</p>\n<pre><code>2023-06-21 05:50:44.619 [error] &lt;0.12788.1961&gt; Supervisor {&lt;0.12788.1961&gt;,rabbit_channel_sup_sup} had child channel_sup started with rabbit_channel_sup:start_link() at undefined exit with reason shutdown in context shutdown_error\n2023-06-21 05:57:59.425 [error] &lt;0.2547.1664&gt; Failed to fetch number of connections in vhost &lt;&lt;&quot;/&quot;&gt;&gt; on node {aborted,{no_exists,['tracked_connection_per_vhost_on_node_rabbit@ip-*********.eu-central-1.compute.internal',&lt;&lt;&quot;/&quot;&gt;&gt;]}}:\n2023-06-21 06:04:37.585 [error] emulator Error in process &lt;0.23288.1664&gt; on node 'rabbit@ip-*******.eu-central-1.compute.internal' with exit value:\n2023-06-21 06:06:03.021 [error] &lt;0.17587.0&gt; Failed to fetch number of connections in vhost &lt;&lt;&quot;/&quot;&gt;&gt; on node {aborted,{no_exists,['tracked_connection_per_vhost_on_node_rabbit@ip-*********.eu-central-1.compute.internal',&lt;&lt;&quot;/&quot;&gt;&gt;]}}:\n2023-06-21 06:08:00.691 [error] &lt;0.767.0&gt; ** Generic server &lt;0.767.0&gt; terminating\n2023-06-21 06:08:00.711 [info] &lt;0.767.0&gt; [{initial_call,{rabbit_prequeue,init,['Argument__1']}},{pid,&lt;0.767.0&gt;},{registered_name,[]},{error_info,{exit,{{badmatch,-1},[{rabbit_mirror_queue_slave,update_delta,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,1058}]},{rabbit_mirror_queue_slave,process_instruction,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,991}]},{rabbit_mirror_queue_slave,handle_cast,2,[{file,&quot;src/rabbit_mirror_queue_slave.erl&quot;},{line,299}]},{gen_server2,handle_msg,2,[{file,&quot;src/gen_server2.erl&quot;},{line,1067}]},{proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,236}]}]},[{gen_server2,terminate,3,[{file,&quot;src/gen_server2.erl&quot;},{line,1183}]},{proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,236}]}]}},{ancestors,[&lt;0.766.0&gt;,&lt;0.712.0&gt;,&lt;0.696.0&gt;,&lt;0.695.0&gt;,rabbit_vhost_sup_sup,rabbit_sup,&lt;0.269.0&gt;]},{message_queue_len,1},{messages,[{'$gen_cast',{gm,{drop,1711,1,true}}}]},{links,[&lt;0.766.0&gt;,&lt;0.768.0&gt;]},{dictionary,[{{credit_to,&lt;0.18129.0&gt;},198},{{credit_to,&lt;43223.28092.0&gt;},198},{{credit_to,&lt;0.17144.0&gt;},198},{{credit_to,&lt;0.16646.0&gt;},198},{{credit_to,&lt;43223.8144.1&gt;},198},{{credit_to,&lt;0.6344.0&gt;},198},{{credit_to,&lt;43223.13766.1&gt;},198},{{credit_to,&lt;43223.815.1&gt;},198},{{credit_to,&lt;0.9025.0&gt;},198},{{credit_to,&lt;0.8021.0&gt;},198},{{credit_to,&lt;0.25557.0&gt;},198},{{credit_to,&lt;0.25827.0&gt;},198},{{credit_to,&lt;43223.14803.1&gt;},198},{{credit_to,&lt;0.26234.0&gt;},198},{{credit_to,&lt;43223.12736.1&gt;},198},{{credit_to,&lt;0.26367.0&gt;},198},{credit_flow_default_credit,{400,200}},{{credit_to,&lt;0.17881.0&gt;},198},{{credit_to,&lt;43223.137.1&gt;},198},{{credit_to,&lt;43223.10561.1&gt;},198},{{credit_to,&lt;43223.15193.1&gt;},198},{{credit_to,&lt;0.15384.0&gt;},198},{{credit_to,&lt;43223.28435.0&gt;},198},{{credit_to,&lt;43223.32132.0&gt;},198},{{credit_to,&lt;43223.13123.1&gt;},198},{{credit_to,&lt;0.9912.0&gt;},198},{{credit_to,&lt;43223.1404.1&gt;},198},{{credit_to,&lt;43223.10332.1&gt;},198},{{credit_to,&lt;43223.6767.1&gt;},198},{{credit_to,&lt;43223.28750.0&gt;},198},{{credit_to,&lt;0.19857.0&gt;},198},{{credit_to,&lt;43223.26489.0&gt;},198},{{credit_to,&lt;0.10940.0&gt;},198},{{credit_to,&lt;0.7810.0&gt;},198},{{credit_to,&lt;0.7475.0&gt;},198},{{credit_to,&lt;43223.12334.1&gt;},...},...]},...], [{neighbour,[{pid,&lt;0.768.0&gt;},{registered_name,[]},{initial_call,{gm,init,['Argument__1']}},{current_function,{gen_server2,process_next_msg,1}},{ancestors,[&lt;0.767.0&gt;,&lt;0.766.0&gt;,&lt;0.712.0&gt;,&lt;0.696.0&gt;,&lt;0.695.0&gt;,rabbit_vhost_sup_sup,rabbit_sup,&lt;0.269.0&gt;]},{message_queue_len,0},{links,[&lt;0.767.0&gt;]},{trap_exit,false},{status,waiting},{heap_size,987},{stack_size,10},{reductions,1408728},{current_stacktrace,[{gen_server2,process_next_msg,1,[{file,&quot;src/gen_server2.erl&quot;},{line,673}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,226}]}]}]}]\n2023-06-21 06:08:00.712 [error] &lt;0.767.0&gt; CRASH REPORT Process &lt;0.767.0&gt; with 1 neighbours exited with reason: no match of right hand value -1 in rabbit_mirror_queue_slave:update_delta/2 line 1058 in gen_server2:terminate/3 line 1183\n2023-06-21 06:08:00.713 [error] &lt;0.766.0&gt; Supervisor {&lt;0.766.0&gt;,rabbit_amqqueue_sup} had child rabbit_amqqueue started with rabbit_prequeue:start_link({amqqueue,{resource,&lt;&lt;&quot;/&quot;&gt;&gt;,queue,&lt;&lt;&quot;remoting.*******.queue&quot;&gt;&gt;},true,false,...}, slave, &lt;0.765.0&gt;) at &lt;0.767.0&gt; exit with reason no match of right hand value -1 in rabbit_mirror_queue_slave:update_delta/2 line 1058 in context child_terminated\n</code></pre>\n<p>We want to understand more about this error and ways to fix this issue.\nWhat is the reason for this error and why this happens?\nCan anyone help us with this?</p>\n<p>We expect all the consumers to be recovered during the maintenance window automatically.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","model"],"answers":[{"comments":[{"owner":{"account_id":16049462,"reputation":1,"user_id":11583765,"display_name":"MKLKun"},"score":0,"creation_date":1687510596,"post_id":76536931,"comment_id":134950102,"body_markdown":"Thanks for your response Artem. I tried as you suggested but nothing changes.","body":"Thanks for your response Artem. I tried as you suggested but nothing changes."},{"owner":{"account_id":28694090,"reputation":52,"user_id":21972687,"display_name":"Artem Lisun"},"score":0,"creation_date":1687538216,"post_id":76536931,"comment_id":134956146,"body_markdown":"Saw your solution below. You could try to create custom repository function with @Query where you pass task itself and job id","body":"Saw your solution below. You could try to create custom repository function with @Query where you pass task itself and job id"},{"owner":{"account_id":16049462,"reputation":1,"user_id":11583765,"display_name":"MKLKun"},"score":1,"creation_date":1687721322,"post_id":76536931,"comment_id":134972574,"body_markdown":"it can be a good idea, thanks!","body":"it can be a good idea, thanks!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687780940,"post_id":76536931,"comment_id":134979982,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76536931/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28694090,"reputation":52,"user_id":21972687,"display_name":"Artem Lisun"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687491098,"creation_date":1687491098,"answer_id":76536931,"question_id":76536725,"body_markdown":"Try to remove extension from AbstractInstallation and see if problem still present","title":"JPA persist a map from an Embeddable class","body":"<p>Try to remove extension from AbstractInstallation and see if problem still present</p>\n"},{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687792197,"post_id":76539252,"comment_id":134982653,"body_markdown":"You were not saving your tasks at all. Saving the Job only.. saves the job, even if it references new tasks because you told JPA to cascade refresh operations over the relationship, and nothing else.","body":"You were not saving your tasks at all. Saving the Job only.. saves the job, even if it references new tasks because you told JPA to cascade refresh operations over the relationship, and nothing else."},{"owner":{"account_id":16049462,"reputation":1,"user_id":11583765,"display_name":"MKLKun"},"score":0,"creation_date":1687882725,"post_id":76539252,"comment_id":134997922,"body_markdown":"How come? I had a `repositoryService.saveTask(newTask);` instruction","body":"How come? I had a <code>repositoryService.saveTask(newTask);</code> instruction"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1687962737,"post_id":76539252,"comment_id":135010677,"body_markdown":"I take it back - seems like strange behavior from Hibernate that shouldn&#39;t be expected. Does it work if you don&#39;t save the newJob instance (and so also don&#39;t call tasks.forEach(repositoryService::saveTask))? Also check that your JSON JsonIdentityInfo isn&#39;t part of the problem. My understanding is that it will exclude environment info if the task is in the graph multiple times, which might be a problem if the same task instance isn&#39;t used on deserialization. Check exactly what is in the Job tasks list.","body":"I take it back - seems like strange behavior from Hibernate that shouldn&#39;t be expected. Does it work if you don&#39;t save the newJob instance (and so also don&#39;t call tasks.forEach(repositoryService::saveTask))? Also check that your JSON JsonIdentityInfo isn&#39;t part of the problem. My understanding is that it will exclude environment info if the task is in the graph multiple times, which might be a problem if the same task instance isn&#39;t used on deserialization. Check exactly what is in the Job tasks list."}],"tags":[],"owner":{"account_id":16049462,"reputation":1,"user_id":11583765,"display_name":"MKLKun"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687516121,"creation_date":1687516121,"answer_id":76539252,"question_id":76536725,"body_markdown":"Well, I fixed the issue by adapting how I save the data:\r\n\r\n    repositoryService.saveTask(newTask);\r\n    tasks.add(newTask);\r\n    newJob.setTasks(tasks);\r\n    repositoryService.saveJob(newJob);\r\n    tasks.forEach(repositoryService::saveTask); // This added line\r\n    repositoryService.flush();\r\n\r\nI don&#39;t know why it happens knowing that I already tested to cascade persistence from Job but it did not fix the issue.\r\nAnyway, now it works.\r\n\r\n \r\n\r\n","title":"JPA persist a map from an Embeddable class","body":"<p>Well, I fixed the issue by adapting how I save the data:</p>\n<pre><code>repositoryService.saveTask(newTask);\ntasks.add(newTask);\nnewJob.setTasks(tasks);\nrepositoryService.saveJob(newJob);\ntasks.forEach(repositoryService::saveTask); // This added line\nrepositoryService.flush();\n</code></pre>\n<p>I don't know why it happens knowing that I already tested to cascade persistence from Job but it did not fix the issue.\nAnyway, now it works.</p>\n"}],"owner":{"account_id":16049462,"reputation":1,"user_id":11583765,"display_name":"MKLKun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687516121,"creation_date":1687486508,"question_id":76536725,"body_markdown":"I have three related classes as follows:\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Job implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;JOB_ID&quot;)\r\n    private String jobId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, orphanRemoval = true, cascade = CascadeType.REFRESH)\r\n    private List&lt;Task&gt; tasks;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@Getter\r\n@Setter\r\n@Entity\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;taskId&quot;, scope = Task.class)\r\npublic class Task implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;TASK_ID&quot;)\r\n    private String taskId;\r\n\r\n    @Embedded\r\n    private DockerEnvironment environment;\r\n\r\n}\r\n```\r\n\r\nand\r\n\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString(callSuper = true)\r\n@Getter\r\n@Setter\r\n@Embeddable\r\n@JsonTypeName(value = &quot;docker&quot;)\r\npublic class DockerEnvironment extends AbstractInstallation {\r\n\r\n    @Column(name = &quot;DOCKER_IMAGE&quot;)\r\n    private String dockerImage;\r\n\r\n    @Column(name = &quot;PORT&quot;)\r\n    @JsonProperty(&quot;port&quot;)\r\n    private String port;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;DOCKER_ENV_VARS_MAPPING&quot;, joinColumns = { @JoinColumn(name = &quot;DOCKER_TASK_ID&quot;) })\r\n    @MapKeyColumn(name = &quot;ENVVAR_KEY&quot;)\r\n    @Column(name = &quot;ENVVAR_VALUE&quot;)\r\n    private Map&lt;String, String&gt; environmentVars;\r\n\r\n}\r\n```\r\n\r\nI send a REST request to create a job with the following JSON part:\r\n\r\n\r\n```\r\n.\r\n.\r\n.\r\n&quot;tasks&quot;: [{\r\n\t&quot;installation&quot;: {\r\n\t\t&quot;environmentVars&quot;: {\r\n\t\t\t&quot;MYSQL_DATABASE&quot;: &quot;NAME&quot;,\r\n\t\t\t&quot;MYSQL_USER&quot;: &quot;USER&quot;,\r\n\t\t\t&quot;MYSQL_ROOT_PASSWORD&quot;: &quot;admin&quot;\r\n\t\t\t}\r\n.\r\n.\r\n.\r\n```\r\n\r\nAt a certain point in my code I save manually te newly created objects by doing:\r\n\r\n\r\n```\r\nrepositoryService.saveTask(newTask);\r\nrepositoryService.saveJob(newJob);\r\nrepositoryService.flush();\r\n\r\n```\r\n\r\nWhile debugging I see everything fine, but after in DB `environmentVars` table (`DOCKER_ENV_VARS`) is empty. \r\nAny insights regarding what is wrong please?","title":"JPA persist a map from an Embeddable class","body":"<p>I have three related classes as follows:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@ToString(callSuper = true)\n@Getter\n@Setter\n@Entity\npublic class Job implements Serializable {\n\n    @Id\n    @Column(name = &quot;JOB_ID&quot;)\n    private String jobId;\n\n    @OneToMany(fetch = FetchType.EAGER, orphanRemoval = true, cascade = CascadeType.REFRESH)\n    private List&lt;Task&gt; tasks;\n\n}\n\n</code></pre>\n<pre><code>@NoArgsConstructor\n@ToString(callSuper = true)\n@Getter\n@Setter\n@Entity\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;taskId&quot;, scope = Task.class)\npublic class Task implements Serializable {\n\n    @Id\n    @Column(name = &quot;TASK_ID&quot;)\n    private String taskId;\n\n    @Embedded\n    private DockerEnvironment environment;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@ToString(callSuper = true)\n@Getter\n@Setter\n@Embeddable\n@JsonTypeName(value = &quot;docker&quot;)\npublic class DockerEnvironment extends AbstractInstallation {\n\n    @Column(name = &quot;DOCKER_IMAGE&quot;)\n    private String dockerImage;\n\n    @Column(name = &quot;PORT&quot;)\n    @JsonProperty(&quot;port&quot;)\n    private String port;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;DOCKER_ENV_VARS_MAPPING&quot;, joinColumns = { @JoinColumn(name = &quot;DOCKER_TASK_ID&quot;) })\n    @MapKeyColumn(name = &quot;ENVVAR_KEY&quot;)\n    @Column(name = &quot;ENVVAR_VALUE&quot;)\n    private Map&lt;String, String&gt; environmentVars;\n\n}\n</code></pre>\n<p>I send a REST request to create a job with the following JSON part:</p>\n<pre><code>.\n.\n.\n&quot;tasks&quot;: [{\n    &quot;installation&quot;: {\n        &quot;environmentVars&quot;: {\n            &quot;MYSQL_DATABASE&quot;: &quot;NAME&quot;,\n            &quot;MYSQL_USER&quot;: &quot;USER&quot;,\n            &quot;MYSQL_ROOT_PASSWORD&quot;: &quot;admin&quot;\n            }\n.\n.\n.\n</code></pre>\n<p>At a certain point in my code I save manually te newly created objects by doing:</p>\n<pre><code>repositoryService.saveTask(newTask);\nrepositoryService.saveJob(newJob);\nrepositoryService.flush();\n\n</code></pre>\n<p>While debugging I see everything fine, but after in DB <code>environmentVars</code> table (<code>DOCKER_ENV_VARS</code>) is empty.\nAny insights regarding what is wrong please?</p>\n"},{"tags":["java","micronaut","micronaut-rest"],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1687401816,"post_id":76523834,"comment_id":134932699,"body_markdown":"Update the project you can now take the latest and build should be fine. However adding id &#39;io.micronaut.library&#39; version &#39;3.7.10&#39; also not working. Same issue","body":"Update the project you can now take the latest and build should be fine. However adding id &#39;io.micronaut.library&#39; version &#39;3.7.10&#39; also not working. Same issue"}],"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354172,"creation_date":1687354172,"answer_id":76523834,"question_id":76499218,"body_markdown":"It is great that you have a sample project; however, your sample project uses a non-public dependency. (Cannot build your project)\r\n\r\nIn your `core` and `infrastructure`, use the [Micronaut Library Plugin](https://micronaut-projects.github.io/micronaut-gradle-plugin/latest/#_micronaut_library_plugin):\r\n\r\n```\r\nplugins {\r\n  id &#39;io.micronaut.library&#39; version &#39;3.7.10&#39;\r\n}\r\n```\r\n","title":"Failed to inject value for parameter [xxxx] of class No bean of type [xxxx] exists. Make sure the bean is not disabled by bean requirements","body":"<p>It is great that you have a sample project; however, your sample project uses a non-public dependency. (Cannot build your project)</p>\n<p>In your <code>core</code> and <code>infrastructure</code>, use the <a href=\"https://micronaut-projects.github.io/micronaut-gradle-plugin/latest/#_micronaut_library_plugin\" rel=\"nofollow noreferrer\">Micronaut Library Plugin</a>:</p>\n<pre><code>plugins {\n  id 'io.micronaut.library' version '3.7.10'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687515954,"creation_date":1687515954,"answer_id":76539222,"question_id":76499218,"body_markdown":"Adding the below dependency to the API project worked for me\r\n\r\n    runtimeOnly project(&#39;:infrastructure&#39;)","title":"Failed to inject value for parameter [xxxx] of class No bean of type [xxxx] exists. Make sure the bean is not disabled by bean requirements","body":"<p>Adding the below dependency to the API project worked for me</p>\n<pre><code>runtimeOnly project(':infrastructure')\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687515954,"creation_date":1687067714,"question_id":76499218,"body_markdown":"I&#39;m working on a Gradle multi-module project with Micronaut and I need help with the following classes and interface in the `application` module:\r\n\r\n**Core project**\r\n\r\n```java\r\n@Singleton\r\npublic record OrderService(IOrderRepository iOrderRepository) implements IOrderService {\r\n    @Override\r\n    public Optional&lt;Order&gt; findbyId(UUID id) {\r\n        return iOrderRepository.findById(id);\r\n    }\r\n}\r\n```\r\n\r\n**Core project**\r\n\r\n```java\r\n@Introspected\r\npublic interface IOrderRepository{\r\n    Optional&lt;Order&gt; findById(@NonNull @NotBlank UUID id);\r\n}\r\n```\r\n\r\n**dependency of core project**\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-inject:${micronautVersion}&quot;\r\n        implementation &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n    }\r\n\r\n\r\n\r\nThe implementation of `IOrderRepository` is in the `infrastructure` module as below:\r\n\r\n**infrastructure project**\r\n\r\n```java\r\n@Singleton\r\npublic record OrderRepository(RootProvider&lt;Root&gt; rootProvider) implements IOrderRepository {\r\n    @Override\r\n    public Optional&lt;Order&gt; findById(@NonNull UUID id) {\r\n        return rootProvider.root().order().get(id);\r\n    }\r\n}\r\n```\r\n\r\n**dependency of infrastructure**\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-inject:${micronautVersion}&quot;\r\n        implementation &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n    }\r\n\r\nHere&#39;s a visual representation of the project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe `infrastructure` project depends on the `core` project. Since the definition of `IOrderRepository` is in the `core` module and implementation of the `IOrderRepository` is in `infrastructure`, I&#39;m not sure how to handle the dependencies correctly.\r\n\r\n**The issue is that `OrderRepository` is in different module then the `IOrderRepository` module, that doesn&#39;t have a dependency. How can I will refer to different module ?**\r\n\r\n    Message: No bean of type [fete.bird.interfaces.IOrderRepository] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for &#39;io.micronaut.context.condition&#39; to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the &#39;micronaut-inject-java&#39; dependency should be configured as an annotation processor).\r\n    Path Taken: new $OrderController$Definition$Intercepted(IServiceBus iServiceBus,BeanResolutionContext $beanResolutionContext,BeanContext $beanContext,Qualifier $qualifier,List $interceptors) --&gt; new $OrderController$Definition$Intercepted([IServiceBus iServiceBus],BeanResolutionContext $beanResolutionContext,BeanContext $beanContext,Qualifier $qualifier,List $interceptors) --&gt; new ServiceBus([List handlers]) --&gt; new GetOrderQueryHandler([IOrderService iOrderService]) --&gt; new OrderService([IOrderRepository iOrderRepository])\r\n    \tat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2087)\r\n    \tat io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\r\n    \tat fete.bird.service.$OrderService$Definition.build(Unknown Source)\r\n    \tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n    \tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n    \tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n    \tat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n    \tat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n    \tat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n    \tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n    \tat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\r\n\r\n**GitHub Repo** - https://github.com/anandjaisy/order-dependency-issue\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lYqiA.png\r\n  [2]: https://i.stack.imgur.com/E5ubQ.png","title":"Failed to inject value for parameter [xxxx] of class No bean of type [xxxx] exists. Make sure the bean is not disabled by bean requirements","body":"<p>I'm working on a Gradle multi-module project with Micronaut and I need help with the following classes and interface in the <code>application</code> module:</p>\n<p><strong>Core project</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic record OrderService(IOrderRepository iOrderRepository) implements IOrderService {\n    @Override\n    public Optional&lt;Order&gt; findbyId(UUID id) {\n        return iOrderRepository.findById(id);\n    }\n}\n</code></pre>\n<p><strong>Core project</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\npublic interface IOrderRepository{\n    Optional&lt;Order&gt; findById(@NonNull @NotBlank UUID id);\n}\n</code></pre>\n<p><strong>dependency of core project</strong></p>\n<pre><code>dependencies {\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n\n    implementation &quot;io.micronaut:micronaut-inject:${micronautVersion}&quot;\n    implementation &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n}\n</code></pre>\n<p>The implementation of <code>IOrderRepository</code> is in the <code>infrastructure</code> module as below:</p>\n<p><strong>infrastructure project</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic record OrderRepository(RootProvider&lt;Root&gt; rootProvider) implements IOrderRepository {\n    @Override\n    public Optional&lt;Order&gt; findById(@NonNull UUID id) {\n        return rootProvider.root().order().get(id);\n    }\n}\n</code></pre>\n<p><strong>dependency of infrastructure</strong></p>\n<pre><code>dependencies {\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n\n    implementation &quot;io.micronaut:micronaut-inject:${micronautVersion}&quot;\n    implementation &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n}\n</code></pre>\n<p>Here's a visual representation of the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/lYqiA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYqiA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/E5ubQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E5ubQ.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>infrastructure</code> project depends on the <code>core</code> project. Since the definition of <code>IOrderRepository</code> is in the <code>core</code> module and implementation of the <code>IOrderRepository</code> is in <code>infrastructure</code>, I'm not sure how to handle the dependencies correctly.</p>\n<p><strong>The issue is that <code>OrderRepository</code> is in different module then the <code>IOrderRepository</code> module, that doesn't have a dependency. How can I will refer to different module ?</strong></p>\n<pre><code>Message: No bean of type [fete.bird.interfaces.IOrderRepository] exists. Make sure the bean is not disabled by bean requirements (enable trace logging for 'io.micronaut.context.condition' to check) and if the bean is enabled then ensure the class is declared a bean and annotation processing is enabled (for Java and Kotlin the 'micronaut-inject-java' dependency should be configured as an annotation processor).\nPath Taken: new $OrderController$Definition$Intercepted(IServiceBus iServiceBus,BeanResolutionContext $beanResolutionContext,BeanContext $beanContext,Qualifier $qualifier,List $interceptors) --&gt; new $OrderController$Definition$Intercepted([IServiceBus iServiceBus],BeanResolutionContext $beanResolutionContext,BeanContext $beanContext,Qualifier $qualifier,List $interceptors) --&gt; new ServiceBus([List handlers]) --&gt; new GetOrderQueryHandler([IOrderService iOrderService]) --&gt; new OrderService([IOrderRepository iOrderRepository])\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2087)\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\n    at fete.bird.service.$OrderService$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\n</code></pre>\n<p><strong>GitHub Repo</strong> - <a href=\"https://github.com/anandjaisy/order-dependency-issue\" rel=\"nofollow noreferrer\">https://github.com/anandjaisy/order-dependency-issue</a></p>\n"},{"tags":["java","eclipse","java-module"],"owner":{"account_id":2386165,"reputation":151,"user_id":2087103,"accept_rate":75,"display_name":"user2087103"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687515683,"creation_date":1682014787,"question_id":76067155,"body_markdown":"I have a fully functional spring boot app currently on springboot 2.7.10 and java8. There are not a lot of dependencies, but one is from legacy code using java8. I tried to upgrade the app from springboot 2.7.10 to 3.0.6 and from java 8 to java 17 (using openjdk 20).\r\n\r\nAfter renaming several imports from javax to jakarta and changing some config in spring-security, everything seemed to be working. I am even able to start the app using `mvn spring-boot:run`, but eclipse/spring-tool-suite gets mad with every **java.util** dependency I use, such as `java.util.ArrayList` or `java.util.Set`\r\n\r\nI&#39;m getting the following error:\r\n\r\n`The package java.util is accessible from more than one module: &lt;unnamed&gt;, java.base`\r\n\r\nTried to remove the legacy dependency and got rid of all those errors, so I was suspecting that may be the issue. But the app happens to run ok if the dependency is added and using `mvn spring-boot:run`, so I&#39;m wondering there might be something I am missing on the Eclipse config (or maybe on the POM) to make it run correctly.","title":"Eclipse errors &#39;The package java.util is accessible from more than one module: &lt;unnamed&gt;, java.base&#39; after migrating from Java 8 to Java 20","body":"<p>I have a fully functional spring boot app currently on springboot 2.7.10 and java8. There are not a lot of dependencies, but one is from legacy code using java8. I tried to upgrade the app from springboot 2.7.10 to 3.0.6 and from java 8 to java 17 (using openjdk 20).</p>\n<p>After renaming several imports from javax to jakarta and changing some config in spring-security, everything seemed to be working. I am even able to start the app using <code>mvn spring-boot:run</code>, but eclipse/spring-tool-suite gets mad with every <strong>java.util</strong> dependency I use, such as <code>java.util.ArrayList</code> or <code>java.util.Set</code></p>\n<p>I'm getting the following error:</p>\n<p><code>The package java.util is accessible from more than one module: &lt;unnamed&gt;, java.base</code></p>\n<p>Tried to remove the legacy dependency and got rid of all those errors, so I was suspecting that may be the issue. But the app happens to run ok if the dependency is added and using <code>mvn spring-boot:run</code>, so I'm wondering there might be something I am missing on the Eclipse config (or maybe on the POM) to make it run correctly.</p>\n"},{"tags":["java","web-services","tomcat","single-sign-on"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1365548978,"post_id":15900972,"comment_id":22666772,"body_markdown":"Your question embodies a contradiction in terms.","body":"Your question embodies a contradiction in terms."}],"answers":[{"comments":[{"owner":{"account_id":1233712,"reputation":1999,"user_id":1197768,"accept_rate":35,"display_name":"sabu"},"score":0,"creation_date":1365508834,"post_id":15901113,"comment_id":22643962,"body_markdown":"Could you please explain more reset session timeout programatically?","body":"Could you please explain more reset session timeout programatically?"},{"owner":{"account_id":1453504,"reputation":1846,"user_id":1369754,"accept_rate":64,"display_name":"IndoKnight"},"score":0,"creation_date":1365509563,"post_id":15901113,"comment_id":22644427,"body_markdown":"When you say back-end, are you trying to get the status from same web application or it doesn&#39;t matter if you are referring to database?","body":"When you say back-end, are you trying to get the status from same web application or it doesn&#39;t matter if you are referring to database?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1365549099,"post_id":15901113,"comment_id":22666823,"body_markdown":"The simple way to do it but it doesn&#39;t do it?","body":"The simple way to do it but it doesn&#39;t do it?"},{"owner":{"account_id":1453504,"reputation":1846,"user_id":1369754,"accept_rate":64,"display_name":"IndoKnight"},"score":0,"creation_date":1365576004,"post_id":15901113,"comment_id":22674219,"body_markdown":"It&#39;s does. What&#39;s the problem with my solution?","body":"It&#39;s does. What&#39;s the problem with my solution?"}],"tags":[],"owner":{"account_id":1453504,"reputation":1846,"user_id":1369754,"accept_rate":64,"display_name":"IndoKnight"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1365508370,"creation_date":1365508370,"answer_id":15901113,"question_id":15900972,"body_markdown":"Simple way to do is to create a Servlet something called PulseServlet and call it from Javascript or JQuery AJAX code in regular intervals of time to get the status. But, this affects the Session timeout on the server. Without affecting Session Timeout you can&#39;t do this. But, if you really want Session timeout not to be affected you need to reset the session timeout programatically.","title":"Polling with session idle timeout","body":"<p>Simple way to do is to create a Servlet something called PulseServlet and call it from Javascript or JQuery AJAX code in regular intervals of time to get the status. But, this affects the Session timeout on the server. Without affecting Session Timeout you can't do this. But, if you really want Session timeout not to be affected you need to reset the session timeout programatically.</p>\n"},{"tags":[],"owner":{"account_id":2257141,"reputation":2906,"user_id":1988097,"accept_rate":53,"display_name":"Darius X."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365542608,"creation_date":1365542608,"answer_id":15912814,"question_id":15900972,"body_markdown":"I don&#39;t know if there is a standard way to do this. If not, you could write a filter. \r\n\r\nIn the filter, ignore requests that do not count (e.g. your polling request).\r\n\r\nFor other requests, check the last request time (which you should have saved in the session). If a long-enough time has elapsed end the session. Otherwise, save the new time.\r\n\r\nClearly, you&#39;ll have to see what overhead this adds, but -- with a few tweaks -- it should work.","title":"Polling with session idle timeout","body":"<p>I don't know if there is a standard way to do this. If not, you could write a filter. </p>\n\n<p>In the filter, ignore requests that do not count (e.g. your polling request).</p>\n\n<p>For other requests, check the last request time (which you should have saved in the session). If a long-enough time has elapsed end the session. Otherwise, save the new time.</p>\n\n<p>Clearly, you'll have to see what overhead this adds, but -- with a few tweaks -- it should work.</p>\n"},{"tags":[],"owner":{"account_id":433655,"reputation":939,"user_id":7053505,"display_name":"Peter Gyschuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687515445,"creation_date":1687515445,"answer_id":76539156,"question_id":15900972,"body_markdown":"To solve this problem you can use filter to check when last time session is used by requests other than your pooling and invalidate session manually\r\n\r\n    import java.io.IOException;\r\n    import java.util.Set;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    @Order(Integer.MIN_VALUE)\r\n    public class SessionTimeoutExcludeUrlsFilter extends OncePerRequestFilter {\r\n      private final static String INCLUDED_LAST_ACCESS_TIME = &quot;includedLastAccessTime&quot;;\r\n    \r\n      private final Set&lt;String&gt; sessionTimeoutExcludeUrls;\r\n    \r\n      public SessionTimeoutExcludeUrlsFilter(@Value(&quot;${http.session.timeout.exclude-urls}&quot;) Set&lt;String&gt; sessionTimeoutExcludeUrls) {\r\n        this.sessionTimeoutExcludeUrls = sessionTimeoutExcludeUrls;\r\n      }\r\n    \r\n      @Override\r\n      protected void doFilterInternal(HttpServletRequest httpRequest, HttpServletResponse httpResponse,\r\n          FilterChain filterChain) throws ServletException, IOException {\r\n        HttpSession session = httpRequest.getSession();\r\n        if (!sessionTimeoutExcludeUrls.contains(httpRequest.getRequestURI())) {\r\n          session.setAttribute(INCLUDED_LAST_ACCESS_TIME, System.currentTimeMillis());\r\n        }\r\n    \r\n        if (session.getAttribute(INCLUDED_LAST_ACCESS_TIME) != null) {\r\n          long includedLastAccessTime = (Long) session.getAttribute(INCLUDED_LAST_ACCESS_TIME);\r\n          if (System.currentTimeMillis() - includedLastAccessTime &gt; session.getMaxInactiveInterval() * 1000L) {\r\n            session.invalidate();\r\n            log.info(&quot;Invalidating session {} by inactive timeout&quot;, session.getId());\r\n          }\r\n        }\r\n        filterChain.doFilter(httpRequest, httpResponse);\r\n      }\r\n    }","title":"Polling with session idle timeout","body":"<p>To solve this problem you can use filter to check when last time session is used by requests other than your pooling and invalidate session manually</p>\n<pre><code>import java.io.IOException;\nimport java.util.Set;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\n@Slf4j\n@Component\n@Order(Integer.MIN_VALUE)\npublic class SessionTimeoutExcludeUrlsFilter extends OncePerRequestFilter {\n  private final static String INCLUDED_LAST_ACCESS_TIME = &quot;includedLastAccessTime&quot;;\n\n  private final Set&lt;String&gt; sessionTimeoutExcludeUrls;\n\n  public SessionTimeoutExcludeUrlsFilter(@Value(&quot;${http.session.timeout.exclude-urls}&quot;) Set&lt;String&gt; sessionTimeoutExcludeUrls) {\n    this.sessionTimeoutExcludeUrls = sessionTimeoutExcludeUrls;\n  }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest httpRequest, HttpServletResponse httpResponse,\n      FilterChain filterChain) throws ServletException, IOException {\n    HttpSession session = httpRequest.getSession();\n    if (!sessionTimeoutExcludeUrls.contains(httpRequest.getRequestURI())) {\n      session.setAttribute(INCLUDED_LAST_ACCESS_TIME, System.currentTimeMillis());\n    }\n\n    if (session.getAttribute(INCLUDED_LAST_ACCESS_TIME) != null) {\n      long includedLastAccessTime = (Long) session.getAttribute(INCLUDED_LAST_ACCESS_TIME);\n      if (System.currentTimeMillis() - includedLastAccessTime &gt; session.getMaxInactiveInterval() * 1000L) {\n        session.invalidate();\n        log.info(&quot;Invalidating session {} by inactive timeout&quot;, session.getId());\n      }\n    }\n    filterChain.doFilter(httpRequest, httpResponse);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1233712,"reputation":1999,"user_id":1197768,"accept_rate":35,"display_name":"sabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687515445,"creation_date":1365507982,"question_id":15900972,"body_markdown":"I am using Single Sign on for all the applications in Tomcat. My requirement here is, I have to poll status of transaction which should be fetched from back end. But it should not affect the idle timeout of the session also. \r\n\r\nCould anybody suggest if something could be done?\r\n\r\nThanx","title":"Polling with session idle timeout","body":"<p>I am using Single Sign on for all the applications in Tomcat. My requirement here is, I have to poll status of transaction which should be fetched from back end. But it should not affect the idle timeout of the session also. </p>\n\n<p>Could anybody suggest if something could be done?</p>\n\n<p>Thanx</p>\n"},{"tags":["java","android","gdprconsentform","ump"],"comments":[{"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"score":0,"creation_date":1687582795,"post_id":76535642,"comment_id":134960516,"body_markdown":"Admob have created a sample for you to refer to https://github.com/googleads/googleads-mobile-android-examples/tree/main/kotlin/admob/BannerExample/app/src/main/java/com/google/android/gms/example/bannerexample","body":"Admob have created a sample for you to refer to <a href=\"https://github.com/googleads/googleads-mobile-android-examples/tree/main/kotlin/admob/BannerExample/app/src/main/java/com/google/android/gms/example/bannerexample\" rel=\"nofollow noreferrer\">github.com/googleads/googleads-mobile-android-examples/tree/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":1,"creation_date":1687593478,"post_id":76535642,"comment_id":134961287,"body_markdown":"but this is in kotlin, I use java","body":"but this is in kotlin, I use java"},{"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"score":0,"creation_date":1687596338,"post_id":76535642,"comment_id":134961517,"body_markdown":"this would be the java version.   https://github.com/googleads/googleads-mobile-android-examples/tree/main/java/admob/BannerExample/app/src/main/java/com/google/android/gms/example/bannerexample","body":"this would be the java version.   <a href=\"https://github.com/googleads/googleads-mobile-android-examples/tree/main/java/admob/BannerExample/app/src/main/java/com/google/android/gms/example/bannerexample\" rel=\"nofollow noreferrer\">github.com/googleads/googleads-mobile-android-examples/tree/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"score":0,"creation_date":1688749414,"post_id":76535642,"comment_id":135120422,"body_markdown":"Can you tell me how you handled the situation? I don&#39;t quite understand, if the consent is refused, can I show ads or not?","body":"Can you tell me how you handled the situation? I don&#39;t quite understand, if the consent is refused, can I show ads or not?"}],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1120,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1687515088,"creation_date":1687467772,"question_id":76535642,"body_markdown":"I am trying to obtain consent with the User Messaging Platform (UMP). I have followed the official documentation, but I still have some questions.\r\n\r\n - When I try to test the consent flow using the ``` setConsentDebugSettings() ``` method, it does not work. I had to go into the AdMob console under **Privacy &amp; Messages** and change the geography target for my GDPR dialog from **Countries subject to GDPR (EEA and UK)** to **Everywhere**. Only then was the consent dialog able to display.\r\n\r\n- After the consent dialog has been displayed to the user and they have either consented or rejected, I am not sure where to initialize the AdMob SDK and load the ads.\r\n\r\n- Every time the app is launched, the consent process starts again and again. I am not sure if this is because I keep calling ``` consentInformation.reset() ``` in the code.\r\n\r\n- Finally, I do not know what to do if ``` consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.UNKNOWN ``` is true. Should I initialize the SDK and load ads, or not? What about if ``` onConsentInfoUpdateFailure(FormError formError) ``` occurs?\r\n\r\nI am all turned around. Please help me! Here is the code I have attempted so far:\r\n\r\nI hope this helps! Let me know if you have any other questions.\r\n\r\n``` \r\nConsentRequestParameters params = new ConsentRequestParameters\r\n                .Builder()\r\n                .setTagForUnderAgeOfConsent(false)\r\n                .build();\r\n\r\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n        consentInformation.requestConsentInfoUpdate(\r\n                this,\r\n                params,\r\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateSuccess() {\r\n                        // The consent information state was updated.\r\n                        // You are now ready to check if a form is available.\r\n                        if (consentInformation.isConsentFormAvailable()) {\r\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.REQUIRED) {\r\n                                loadForm();\r\n                                consentInformation.reset();\r\n                            }\r\n                            else\r\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.NOT_REQUIRED\r\n                                    ||consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.OBTAINED) {\r\n                                InnitializeAdmobSdk();\r\n                                Load_Admob_ads();\r\n                                consentInformation.reset();\r\n                            }\r\n                            else\r\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.UNKNOWN) {\r\n                                Toast.makeText(MainActivity.this, &quot;UNKNOWN&quot;+&quot; &quot;+consentInformation.getConsentStatus(), Toast.LENGTH_SHORT).show();\r\n                                consentInformation.reset();\r\n                            }\r\n\r\n                        }else{\r\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.NOT_REQUIRED\r\n                                    ||consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.OBTAINED) {\r\n                                InnitializeAdmobSdk();\r\n                                Load_Admob_ads();\r\n                                consentInformation.reset();\r\n                            }\r\n                            else\r\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.UNKNOWN) {\r\n                                Toast.makeText(MainActivity.this, &quot;UNKNOWN&quot;+&quot; &quot;+consentInformation.getConsentStatus(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            consentInformation.reset();\r\n                        }\r\n                    }\r\n                },\r\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateFailure(FormError formError) {\r\n                        // Handle the error.\r\n                    }\r\n                }); \r\n``` \r\nThis is the loadform method\r\n```\r\npublic void loadForm() {\r\n        // Loads a consent form. Must be called on the main thread.\r\n        UserMessagingPlatform.loadConsentForm(\r\n                this,\r\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n                        MainActivity.this.consentForm = consentForm;\r\n                        if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n                            consentForm.show(\r\n                                    MainActivity.this,\r\n                                    new ConsentForm.OnConsentFormDismissedListener() {\r\n                                        @Override\r\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\r\n                                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\r\n                                                // App can start requesting ads.\r\n                                            }\r\n\r\n                                            // Handle dismissal by reloading form.\r\n                                            loadForm();\r\n                                        }\r\n                                    });\r\n                        }\r\n                    }\r\n                },\r\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\r\n                    @Override\r\n                    public void onConsentFormLoadFailure(FormError formError) {\r\n                        // Handle the error.\r\n                    }\r\n                }\r\n        );\r\n    }\r\n```","title":"Obtaining Consent with the User Messaging Platform (Java/Android)","body":"<p>I am trying to obtain consent with the User Messaging Platform (UMP). I have followed the official documentation, but I still have some questions.</p>\n<ul>\n<li><p>When I try to test the consent flow using the <code>setConsentDebugSettings()</code> method, it does not work. I had to go into the AdMob console under <strong>Privacy &amp; Messages</strong> and change the geography target for my GDPR dialog from <strong>Countries subject to GDPR (EEA and UK)</strong> to <strong>Everywhere</strong>. Only then was the consent dialog able to display.</p>\n</li>\n<li><p>After the consent dialog has been displayed to the user and they have either consented or rejected, I am not sure where to initialize the AdMob SDK and load the ads.</p>\n</li>\n<li><p>Every time the app is launched, the consent process starts again and again. I am not sure if this is because I keep calling <code>consentInformation.reset()</code> in the code.</p>\n</li>\n<li><p>Finally, I do not know what to do if <code>consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.UNKNOWN</code> is true. Should I initialize the SDK and load ads, or not? What about if <code>onConsentInfoUpdateFailure(FormError formError)</code> occurs?</p>\n</li>\n</ul>\n<p>I am all turned around. Please help me! Here is the code I have attempted so far:</p>\n<p>I hope this helps! Let me know if you have any other questions.</p>\n<pre><code>ConsentRequestParameters params = new ConsentRequestParameters\n                .Builder()\n                .setTagForUnderAgeOfConsent(false)\n                .build();\n\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\n        consentInformation.requestConsentInfoUpdate(\n                this,\n                params,\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                    @Override\n                    public void onConsentInfoUpdateSuccess() {\n                        // The consent information state was updated.\n                        // You are now ready to check if a form is available.\n                        if (consentInformation.isConsentFormAvailable()) {\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.REQUIRED) {\n                                loadForm();\n                                consentInformation.reset();\n                            }\n                            else\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.NOT_REQUIRED\n                                    ||consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.OBTAINED) {\n                                InnitializeAdmobSdk();\n                                Load_Admob_ads();\n                                consentInformation.reset();\n                            }\n                            else\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.UNKNOWN) {\n                                Toast.makeText(MainActivity.this, &quot;UNKNOWN&quot;+&quot; &quot;+consentInformation.getConsentStatus(), Toast.LENGTH_SHORT).show();\n                                consentInformation.reset();\n                            }\n\n                        }else{\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.NOT_REQUIRED\n                                    ||consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.OBTAINED) {\n                                InnitializeAdmobSdk();\n                                Load_Admob_ads();\n                                consentInformation.reset();\n                            }\n                            else\n                            if (consentInformation.getConsentStatus()== ConsentInformation.ConsentStatus.UNKNOWN) {\n                                Toast.makeText(MainActivity.this, &quot;UNKNOWN&quot;+&quot; &quot;+consentInformation.getConsentStatus(), Toast.LENGTH_SHORT).show();\n                            }\n                            consentInformation.reset();\n                        }\n                    }\n                },\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                    @Override\n                    public void onConsentInfoUpdateFailure(FormError formError) {\n                        // Handle the error.\n                    }\n                }); \n</code></pre>\n<p>This is the loadform method</p>\n<pre><code>public void loadForm() {\n        // Loads a consent form. Must be called on the main thread.\n        UserMessagingPlatform.loadConsentForm(\n                this,\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\n                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        MainActivity.this.consentForm = consentForm;\n                        if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                            consentForm.show(\n                                    MainActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(@Nullable FormError formError) {\n                                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\n                                                // App can start requesting ads.\n                                            }\n\n                                            // Handle dismissal by reloading form.\n                                            loadForm();\n                                        }\n                                    });\n                        }\n                    }\n                },\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\n                    @Override\n                    public void onConsentFormLoadFailure(FormError formError) {\n                        // Handle the error.\n                    }\n                }\n        );\n    }\n</code></pre>\n"},{"tags":["java","multithreading","tomcat","concurrency","process"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1687515208,"post_id":76539035,"comment_id":134951005,"body_markdown":"The OS switches between the threads. A core is not locked to run one thread, even though it is limited to run one thread only at a specific time.","body":"The OS switches between the threads. A core is not locked to run one thread, even though it is limited to run one thread only at a specific time."},{"owner":{"account_id":7968760,"reputation":156,"user_id":6014191,"accept_rate":75,"display_name":"Barmaglot"},"score":0,"creation_date":1687517148,"post_id":76539035,"comment_id":134951347,"body_markdown":"@JustanotherJavaprogrammer so the case is just in the concurrency... Thanks.","body":"@JustanotherJavaprogrammer so the case is just in the concurrency... Thanks."}],"owner":{"account_id":7968760,"reputation":156,"user_id":6014191,"accept_rate":75,"display_name":"Barmaglot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687515076,"creation_date":1687514477,"question_id":76539035,"body_markdown":"I&#39;m trying to understand the difference between threads. I read that one core can run only one thread simultaneously. But. For instance, Tomcat can serve 200 connections at the same time on one core CPU, using its thread pool (correct me if I&#39;m wrong). Meantime Java app provides one thread per request to the server. So I&#39;m just trying to make it clear for myself how it works. I understand that this question looks like nubby, but it is better to ask.\r\n\r\nI understand that there&#39;s a concurrency factor. But does it explain everything?\r\nThanks.","title":"how many connections can handle a Java app simultaneously on a tomcat server. Difference between threads","body":"<p>I'm trying to understand the difference between threads. I read that one core can run only one thread simultaneously. But. For instance, Tomcat can serve 200 connections at the same time on one core CPU, using its thread pool (correct me if I'm wrong). Meantime Java app provides one thread per request to the server. So I'm just trying to make it clear for myself how it works. I understand that this question looks like nubby, but it is better to ask.</p>\n<p>I understand that there's a concurrency factor. But does it explain everything?\nThanks.</p>\n"},{"tags":["java","amazon-web-services","architecture","amazon-elasticache","redisson"],"owner":{"account_id":11792056,"reputation":1,"user_id":8627883,"display_name":"Madhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687514990,"creation_date":1687514852,"question_id":76539087,"body_markdown":"I am trying to setup multi region Cluster mode enabled Elasticache cluster setup for a Java app that uses redisson library to connect.\r\n\r\nI have explored below options which seems to be not viablefor our use-case\r\nRedisson has MultiClusterMode option but it is available only for PRO customers\r\nGlobal Datastore from AWS but supported node types are above R6(costly instances)\r\n\r\n\r\nIs there a possibility to use CircuitBreaker to failover to other region if one-region goes down during runtime?\r\n\r\nIs it possible to register two clustermode enabled clusters which has two master nodes at the same time? \r\n\r\nGetting below error when I tried\r\n\r\njavax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address **** found","title":"What is the best way to architect multi-region Cluster Mode Enabled Elasticache setup using Redisson for a Java app?","body":"<p>I am trying to setup multi region Cluster mode enabled Elasticache cluster setup for a Java app that uses redisson library to connect.</p>\n<p>I have explored below options which seems to be not viablefor our use-case\nRedisson has MultiClusterMode option but it is available only for PRO customers\nGlobal Datastore from AWS but supported node types are above R6(costly instances)</p>\n<p>Is there a possibility to use CircuitBreaker to failover to other region if one-region goes down during runtime?</p>\n<p>Is it possible to register two clustermode enabled clusters which has two master nodes at the same time?</p>\n<p>Getting below error when I tried</p>\n<p>javax.net.ssl.SSLHandshakeException: No subject alternative names matching IP address **** found</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":1,"creation_date":1687513255,"post_id":76538828,"comment_id":134950616,"body_markdown":"What about `^(?=\\d.{7,8}[A-Z]$)[\\dA-Z]+[\\s\\-]?[\\dA-Z]+$`","body":"What about <code>^(?=\\d.{7,8}[A-Z]$)[\\dA-Z]+[\\s\\-]?[\\dA-Z]+$</code>"},{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":3,"creation_date":1687513727,"post_id":76538828,"comment_id":134950709,"body_markdown":"Beware the lenght of `7HND789N` is 8, so basing on your requirements it should not match.","body":"Beware the lenght of <code>7HND789N</code> is 8, so basing on your requirements it should not match."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1687513864,"post_id":76538828,"comment_id":134950736,"body_markdown":"Why do people always want to use a regular expression for such requirements? They always tend to be unreadable. Use simple `String` methods to assert the conditions.","body":"Why do people always want to use a regular expression for such requirements? They always tend to be unreadable. Use simple <code>String</code> methods to assert the conditions."},{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":1,"creation_date":1687515751,"post_id":76538828,"comment_id":134951112,"body_markdown":"@Seelenvirtuose How can you verify if every character of a string is `[\\dA-Z\\s\\-]` (that is kind of an implicit requirement) without iterating the string char by char (i.e. implementing yourself an automata)? I think in this case an acceptable solution would be to mix the two approaches, checking if the lenght of the string is 9 or 10 and if the string matches the pattern `^\\d[\\dA-Z]+[\\s\\-]?[\\dA-Z]+[A-Z]$`.","body":"@Seelenvirtuose How can you verify if every character of a string is <code>[\\dA-Z\\s\\-]</code> (that is kind of an implicit requirement) without iterating the string char by char (i.e. implementing yourself an automata)? I think in this case an acceptable solution would be to mix the two approaches, checking if the lenght of the string is 9 or 10 and if the string matches the pattern <code>^\\d[\\dA-Z]+[\\s\\-]?[\\dA-Z]+[A-Z]$</code>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1687517532,"post_id":76538828,"comment_id":134951426,"body_markdown":"How about [`^\\d(?=.{7,8})[A-Z\\d]*[- ]?[A-Z\\d]*[A-Z]$`](https://regex101.com/r/wFVl7o/1) or with the same functionality this one: [`^\\d(?!(?:[^- ]*[- ]){2})[-A-Z\\d ]{6,7}[A-Z]$`](https://regex101.com/r/wFVl7o/2)","body":"How about <a href=\"https://regex101.com/r/wFVl7o/1\" rel=\"nofollow noreferrer\"><code>^\\d(?=.{7,8})[A-Z\\d]*[- ]?[A-Z\\d]*[A-Z]$</code></a> or with the same functionality this one: <a href=\"https://regex101.com/r/wFVl7o/2\" rel=\"nofollow noreferrer\"><code>^\\d(?!(?:[^- ]*[- ]){2})[-A-Z\\d ]{6,7}[A-Z]$</code></a>"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1687546926,"post_id":76538828,"comment_id":134957667,"body_markdown":"Oops, forgot the `$` in the first pattern: [`^\\d(?=.{7,8}$)[A-Z\\d]*[- ]?[A-Z\\d]*[A-Z]$`](https://regex101.com/r/wFVl7o/3)","body":"Oops, forgot the <code>$</code> in the first pattern: <a href=\"https://regex101.com/r/wFVl7o/3\" rel=\"nofollow noreferrer\"><code>^\\d(?=.{7,8}$)[A-Z\\d]*[- ]?[A-Z\\d]*[A-Z]$</code></a>"}],"answers":[{"comments":[{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1687514508,"post_id":76538875,"comment_id":134950862,"body_markdown":"its working but its allowing special chars and small letter , it should allow only Capital letters and numbers\n6&amp;D79K96N this should not accept\n6aD79K96N this as well","body":"its working but its allowing special chars and small letter , it should allow only Capital letters and numbers 6&amp;D79K96N this should not accept 6aD79K96N this as well"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1687514911,"post_id":76538875,"comment_id":134950942,"body_markdown":"@HarinathaReddy updated my answer","body":"@HarinathaReddy updated my answer"},{"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"score":0,"creation_date":1687515811,"post_id":76538875,"comment_id":134951125,"body_markdown":"The OP requires `7HND789N` to be matched by the expression, but here this is not happening.","body":"The OP requires <code>7HND789N</code> to be matched by the expression, but here this is not happening."},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1687520794,"post_id":76538875,"comment_id":134952112,"body_markdown":"@logi-kal the OP also stats that he wants a minimum of 9 and max of 10...so yeah its a little bit confusing","body":"@logi-kal the OP also stats that he wants a minimum of 9 and max of 10...so yeah its a little bit confusing"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1687526496,"post_id":76538875,"comment_id":134953454,"body_markdown":"When is this going to match? `(?=[A-Z]$)`","body":"When is this going to match? <code>(?=[A-Z]$)</code>"},{"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"score":0,"creation_date":1687528874,"post_id":76538875,"comment_id":134954028,"body_markdown":"@Thefourthbird this is to check that the string ends with a capital letter","body":"@Thefourthbird this is to check that the string ends with a capital letter"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1687529398,"post_id":76538875,"comment_id":134954180,"body_markdown":"@dan_pran Did you test it?","body":"@dan_pran Did you test it?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1687535119,"post_id":76538875,"comment_id":134955493,"body_markdown":"This is interesting, that you used the look-aheads to assert a length and, starting and ending characters.  I did not ever think of that.  Noted!","body":"This is interesting, that you used the look-aheads to assert a length and, starting and ending characters.  I did not ever think of that.  Noted!"}],"tags":[],"owner":{"account_id":15490641,"reputation":590,"user_id":12009071,"display_name":"Daniel_Kamel"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687514897,"creation_date":1687513350,"answer_id":76538875,"question_id":76538828,"body_markdown":"You can use the following Java regex:\r\n```\r\n^(?=.{9,10}$)(?=^[0-9])(?=[A-Z]$)([A-Z0-9]*[- ]?[A-Z0-9]*)$\r\n```\r\n\r\nExplanation:\r\n```\r\n^: Asserts the start of the string.\r\n\r\n(?=.{9,10}$): Positive lookahead assertion. It checks that the length of the string is between 9 and 10 characters. The .{9,10} part matches any character (.) between 9 and 10 times, ensuring the string length constraint.\r\n\r\n(?=^[0-9]): Positive lookahead assertion. It checks that the string starts with a digit. The ^[0-9] part matches a single digit at the start of the string.\r\n\r\n(?=[A-Z]$): Positive lookahead assertion. It checks that the string ends with a capital letter. The ^[A-Z]$ part matches a single uppercase letter at the end of the string.\r\n\r\n([A-Z0-9]*[- ]?[A-Z0-9]*): This part matches the middle section of the string, which consists of any combination of uppercase letters and digits, with an optional hyphen or space.\r\n   [A-Z0-9]*: Matches any number of uppercase letters or digits.\r\n   [- ]?: Matches an optional hyphen (-) or space character ( ).\r\n   [A-Z0-9]*: Matches any number of uppercase letters or digits.\r\n\r\n$: Asserts the end of the string.\r\n```","title":"Regex for accept the maximum one hyphen or space","body":"<p>You can use the following Java regex:</p>\n<pre><code>^(?=.{9,10}$)(?=^[0-9])(?=[A-Z]$)([A-Z0-9]*[- ]?[A-Z0-9]*)$\n</code></pre>\n<p>Explanation:</p>\n<pre><code>^: Asserts the start of the string.\n\n(?=.{9,10}$): Positive lookahead assertion. It checks that the length of the string is between 9 and 10 characters. The .{9,10} part matches any character (.) between 9 and 10 times, ensuring the string length constraint.\n\n(?=^[0-9]): Positive lookahead assertion. It checks that the string starts with a digit. The ^[0-9] part matches a single digit at the start of the string.\n\n(?=[A-Z]$): Positive lookahead assertion. It checks that the string ends with a capital letter. The ^[A-Z]$ part matches a single uppercase letter at the end of the string.\n\n([A-Z0-9]*[- ]?[A-Z0-9]*): This part matches the middle section of the string, which consists of any combination of uppercase letters and digits, with an optional hyphen or space.\n   [A-Z0-9]*: Matches any number of uppercase letters or digits.\n   [- ]?: Matches an optional hyphen (-) or space character ( ).\n   [A-Z0-9]*: Matches any number of uppercase letters or digits.\n\n$: Asserts the end of the string.\n</code></pre>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1687514897,"creation_date":1687512993,"question_id":76538828,"body_markdown":"I have tried the below regex to validate the conditions as \r\n\r\n```\r\nMin length - 9\r\nMax length - 10\r\nStart with Numeric \r\nEnds with Alphabet\r\nIt allow one hyphen(-) or space -&gt; this hyphen or space optional and either one only allow\r\n\r\n```\r\nthe regex used is ``` ^(\\d)(?!\\1+$)(?=.{8,9}$)[0-9A-Z]*(?:[\\s-]?[0-9A-Z]+)*[\\s-]?[A-Z]$ ```\r\nit&#39;s working in most cases but it failed on the \r\n\r\n7HND789-N or 7HND789N -&gt; This is a valid one but it&#39;s not consider\r\n\r\nThe space of the hyphen before the last character is not accepting, its works in other places  \r\n","title":"Regex for accept the maximum one hyphen or space","body":"<p>I have tried the below regex to validate the conditions as</p>\n<pre><code>Min length - 9\nMax length - 10\nStart with Numeric \nEnds with Alphabet\nIt allow one hyphen(-) or space -&gt; this hyphen or space optional and either one only allow\n\n</code></pre>\n<p>the regex used is <code>^(\\d)(?!\\1+$)(?=.{8,9}$)[0-9A-Z]*(?:[\\s-]?[0-9A-Z]+)*[\\s-]?[A-Z]$</code>\nit's working in most cases but it failed on the</p>\n<p>7HND789-N or 7HND789N -&gt; This is a valid one but it's not consider</p>\n<p>The space of the hyphen before the last character is not accepting, its works in other places</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1683210786,"post_id":76172544,"comment_id":134334670,"body_markdown":"I currently have no time for an extended answer, but it is expected behaviour.\nMore infos are available at the documentation\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-constructor-injection","body":"I currently have no time for an extended answer, but it is expected behaviour. More infos are available at the documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-constructor-injection\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"score":0,"creation_date":1683292354,"post_id":76172544,"comment_id":134348502,"body_markdown":"Using @Scope(&quot;singleton&quot;) unnecessary. Not related to your question though.","body":"Using @Scope(&quot;singleton&quot;) unnecessary. Not related to your question though."}],"answers":[{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1683312787,"post_id":76181733,"comment_id":134353275,"body_markdown":"Thanks. I think a more appropriate reference would be\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-initbinder-model-design","body":"Thanks. I think a more appropriate reference would be <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-initbinder-model-design\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1683313115,"post_id":76181733,"comment_id":134353349,"body_markdown":"Or possibly https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-multipart-forms","body":"Or possibly <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-multipart-forms\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683293655,"creation_date":1683286402,"answer_id":76181733,"question_id":76172544,"body_markdown":"Your `Pojo` class is a parameter to a controller method. Spring will map the web request to your parameter (i.e. `Pojo`).\r\nInjected instances are _not_ beans, but are constructed and bound to your request parameters for each request. They are not registered in the application context.\r\n\r\nFor instance, the following code would return &quot;Gonen&quot; when requesting `http://localhost/greet?name=Gonen`:\r\n\r\n```\r\nclass Pojo {\r\n    private String name;\r\n    public String getName() { return name; }\r\n    public void setName(final String name) { this.name = name; }\r\n}\r\n\r\n@RestController\r\nclass MyController {\r\n    @GetMapping(&quot;/greet&quot;)\r\n    String greet(Pojo pojo) {\r\n        return pojo.getName();\r\n    }\r\n}\r\n```\r\n\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-methods","title":"Spring Injects Non Beans into RestController Method","body":"<p>Your <code>Pojo</code> class is a parameter to a controller method. Spring will map the web request to your parameter (i.e. <code>Pojo</code>).\nInjected instances are <em>not</em> beans, but are constructed and bound to your request parameters for each request. They are not registered in the application context.</p>\n<p>For instance, the following code would return &quot;Gonen&quot; when requesting <code>http://localhost/greet?name=Gonen</code>:</p>\n<pre><code>class Pojo {\n    private String name;\n    public String getName() { return name; }\n    public void setName(final String name) { this.name = name; }\n}\n\n@RestController\nclass MyController {\n    @GetMapping(&quot;/greet&quot;)\n    String greet(Pojo pojo) {\n        return pojo.getName();\n    }\n}\n</code></pre>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-methods</a></li>\n</ul>\n"}],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76181733,"answer_count":1,"score":0,"last_activity_date":1687514196,"creation_date":1683198779,"question_id":76172544,"body_markdown":"While creating a small demo for Spring 6, I made a mistake, and injected a bean into a REST controller method instead of into it&#39;s constructor. \r\n\r\nThe Bean was not configured correctly, for example a singleton was not a singleton.\r\n\r\n    @SpringBootApplication\r\n    public class Spring6DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Spring6DemoApplication.class, args);\r\n    \t}\r\n    }\r\n    @Service\r\n    @Scope(&quot;singleton&quot;)\r\n    class Pojo {\r\n    \tString greet() { return &quot;hi &quot;; }\r\n    }\r\n    @RestController\r\n    class MyController {\r\n    \t@GetMapping(&quot;/greet/{name}&quot;)\r\n    \tString greet(Pojo pojo, @PathVariable String name) {\r\n    \t\tSystem.out.println(pojo);\r\n    \t\treturn pojo.greet()+name;\r\n    \t}\r\n    }\r\n\r\nCalling the REST end point twice printed out two different Pojo objects.\r\n\r\n&gt; curl http://localhost:8080/greet/Gonen\r\n&gt; \r\n&gt; com.example.Spring6Demo.Pojo@1e46c103\r\n&gt; \r\n&gt; curl http://localhost:8080/greet/Gonen\r\n&gt; \r\n&gt; com.example.Spring6Demo.Pojo@f715efd\r\n\r\nFurther investigation showed that the Pojo objects get injected even when they are not configured spring beans at all.\r\n\r\n    //@Service  // no change in behavior - spring still injects this non bean\r\n    //@Scope(&quot;singleton&quot;)\r\n    class Pojo {\r\n    \tString greet() { return &quot;hi &quot;; }\r\n    }\r\n\r\nI was quite surprised despite working with Spring for many years.\r\nIs this a known issue, or documented wrong use of the Spring API?\r\n\r\n","title":"Spring Injects Non Beans into RestController Method","body":"<p>While creating a small demo for Spring 6, I made a mistake, and injected a bean into a REST controller method instead of into it's constructor.</p>\n<p>The Bean was not configured correctly, for example a singleton was not a singleton.</p>\n<pre><code>@SpringBootApplication\npublic class Spring6DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(Spring6DemoApplication.class, args);\n    }\n}\n@Service\n@Scope(&quot;singleton&quot;)\nclass Pojo {\n    String greet() { return &quot;hi &quot;; }\n}\n@RestController\nclass MyController {\n    @GetMapping(&quot;/greet/{name}&quot;)\n    String greet(Pojo pojo, @PathVariable String name) {\n        System.out.println(pojo);\n        return pojo.greet()+name;\n    }\n}\n</code></pre>\n<p>Calling the REST end point twice printed out two different Pojo objects.</p>\n<blockquote>\n<p>curl http://localhost:8080/greet/Gonen</p>\n<p>com.example.Spring6Demo.Pojo@1e46c103</p>\n<p>curl http://localhost:8080/greet/Gonen</p>\n<p>com.example.Spring6Demo.Pojo@f715efd</p>\n</blockquote>\n<p>Further investigation showed that the Pojo objects get injected even when they are not configured spring beans at all.</p>\n<pre><code>//@Service  // no change in behavior - spring still injects this non bean\n//@Scope(&quot;singleton&quot;)\nclass Pojo {\n    String greet() { return &quot;hi &quot;; }\n}\n</code></pre>\n<p>I was quite surprised despite working with Spring for many years.\nIs this a known issue, or documented wrong use of the Spring API?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687158610,"post_id":76503313,"comment_id":134892246,"body_markdown":"Ditch the tutorial and find an up-to-date one. `@Required` has been removed quite some time ago already.","body":"Ditch the tutorial and find an up-to-date one. <code>@Required</code> has been removed quite some time ago already."}],"owner":{"account_id":26899471,"reputation":9,"user_id":20476857,"display_name":"Danica Mora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687175871,"answer_count":0,"score":0,"last_activity_date":1687514171,"creation_date":1687142315,"question_id":76503313,"body_markdown":"I am just learning Spring. I am following a tutorial and came across the dependency check, for which I have to use the `@Required` annotation, but I am getting an error, and when I try to search for the package, its not showing up. I&#39;m not sure if its deprecated. I am using Spring 6 and JDK 20.\r\n\r\n```java\r\n@Required\r\npublic void setId() {\r\n    this.id =id\r\n}\r\n```","title":"@Required annotation in Spring 6 and JDK 20","body":"<p>I am just learning Spring. I am following a tutorial and came across the dependency check, for which I have to use the <code>@Required</code> annotation, but I am getting an error, and when I try to search for the package, its not showing up. I'm not sure if its deprecated. I am using Spring 6 and JDK 20.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Required\npublic void setId() {\n    this.id =id\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","java-17"],"owner":{"account_id":2469423,"reputation":11,"user_id":2151701,"display_name":"MSDIsatis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687514062,"creation_date":1680079032,"question_id":75874894,"body_markdown":"I want to use different authentication types for different endpoints in a Java Spring Boot 3 application:\r\n\r\n- Swagger endpoints: No authentication\r\n- `/token`: Basic HTTP authentication\r\n- other endpoints: Bearer token\r\n\r\nThis is my configuration class:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfiguration {\r\n\tprivate final byte[] secureRandomSeed;\r\n\tprivate final RSAPublicKey publicKey;\r\n\tprivate final RSAPrivateKey privateKey;\r\n\r\n\tprivate final UserDetailsService userDetailsService;\r\n\r\n\tprivate final AclAuthorizationStrategy aclAuthorizationStrategy;\r\n\tprivate final PermissionGrantingStrategy permissionGrantingStrategy;\r\n\tprivate final AclCache aclCache;\r\n\tprivate final LookupStrategy lookupStrategy;\r\n\tprivate final AclService aclService;\r\n\r\n\tpublic SecurityConfiguration(\r\n\t\t\tDataSource dataSource, CacheManager cacheManager\r\n\t\t\t, UserDetailsService userDetailsService\r\n\t\t\t, String secureRandomSeed\r\n\t\t\t, RSAPublicKey publicKey\r\n\t\t\t, RSAPrivateKey privateKey) {\r\n\t\tthis.secureRandomSeed = secureRandomSeed.getBytes();\r\n\t\tthis.publicKey = publicKey;\r\n\t\tthis.privateKey = privateKey;\r\n\t\tthis.userDetailsService = userDetailsService;\r\n\t\tthis.aclAuthorizationStrategy = new AclAuthorizationStrategyImpl(\r\n\t\t\t\tnew SimpleGrantedAuthority(AuthorityType.AUTHORITY_1.name()));\r\n\t\tAuditLogger auditLogger = new ConsoleAuditLogger();\r\n\t\tthis.permissionGrantingStrategy\r\n\t\t\t\t= new DefaultPermissionGrantingStrategy(auditLogger);\r\n\t\tthis.aclCache = new SpringCacheBasedAclCache(\r\n\t\t\t\tcacheManager.getCache(&quot;aclCache&quot;),\r\n\t\t\t\tpermissionGrantingStrategy, aclAuthorizationStrategy);\r\n\t\tthis.lookupStrategy = new BasicLookupStrategy(dataSource, aclCache\r\n\t\t\t\t, aclAuthorizationStrategy, auditLogger);\r\n\t\tthis.aclService = new JdbcMutableAclService(dataSource\r\n\t\t\t\t, lookupStrategy, aclCache);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests()\r\n\t\t\t\t.requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll();\r\n\t\thttp.authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t\t\t\t.requestMatchers(&quot;/token&quot;).authenticated())\r\n\t\t\t\t.httpBasic(Customizer.withDefaults())\r\n\t\t\t\t.userDetailsService(userDetailsService)\r\n\t\t\t\t.csrf().disable();\r\n\t\thttp\r\n\t\t\t\t.authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t)\r\n\t\t\t\t.csrf().disable()\r\n//\t\t\t\t.httpBasic(Customizer.withDefaults())\r\n//\t\t\t\t.userDetailsService(userDetailsService)\r\n\t\t\t\t.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n\t\t\t\t.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n\t\t\t\t.exceptionHandling((exceptions) -&gt; exceptions\r\n\t\t\t\t\t\t.authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\r\n\t\t\t\t\t\t.accessDeniedHandler(new BearerTokenAccessDeniedHandler())\r\n\t\t\t\t);\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtDecoder jwtDecoder() {\r\n\t\treturn NimbusJwtDecoder.withPublicKey(this.publicKey).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JwtEncoder jwtEncoder() {\r\n\t\tJWK jwk = new RSAKey.Builder(this.publicKey).privateKey(this.privateKey).build();\r\n\t\tJWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n\t\treturn new NimbusJwtEncoder(jwks);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder(8, new SecureRandom(secureRandomSeed));\r\n\t}\r\n\r\n\t// #################### ACL Configuration\r\n\r\n\t@Bean\r\n\tpublic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\r\n\t\tDefaultMethodSecurityExpressionHandler expressionHandler\r\n\t\t\t\t= new DefaultMethodSecurityExpressionHandler();\r\n\t\tAclPermissionEvaluator permissionEvaluator\r\n\t\t\t\t= new AclPermissionEvaluator(aclService);\r\n\t\texpressionHandler.setPermissionEvaluator(permissionEvaluator);\r\n\t\treturn expressionHandler;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AclService aclService() {\r\n\t\treturn aclService;\r\n\t}\r\n\r\n\r\n\t@Bean\r\n\tpublic LookupStrategy lookupStrategy() {\r\n\t\treturn lookupStrategy;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AclCache aclCache() {\r\n\t\treturn aclCache;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PermissionGrantingStrategy permissionGrantingStrategy() {\r\n\t\treturn permissionGrantingStrategy;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AclAuthorizationStrategy aclAuthorizationStrategy() {\r\n\t\treturn aclAuthorizationStrategy;\r\n\t}\r\n}\r\n```\r\n\r\nI have tried many different configurations, but I couldn&#39;t find a solution. ","title":"Different authentication types based on URL pattern","body":"<p>I want to use different authentication types for different endpoints in a Java Spring Boot 3 application:</p>\n<ul>\n<li>Swagger endpoints: No authentication</li>\n<li><code>/token</code>: Basic HTTP authentication</li>\n<li>other endpoints: Bearer token</li>\n</ul>\n<p>This is my configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration {\n    private final byte[] secureRandomSeed;\n    private final RSAPublicKey publicKey;\n    private final RSAPrivateKey privateKey;\n\n    private final UserDetailsService userDetailsService;\n\n    private final AclAuthorizationStrategy aclAuthorizationStrategy;\n    private final PermissionGrantingStrategy permissionGrantingStrategy;\n    private final AclCache aclCache;\n    private final LookupStrategy lookupStrategy;\n    private final AclService aclService;\n\n    public SecurityConfiguration(\n            DataSource dataSource, CacheManager cacheManager\n            , UserDetailsService userDetailsService\n            , String secureRandomSeed\n            , RSAPublicKey publicKey\n            , RSAPrivateKey privateKey) {\n        this.secureRandomSeed = secureRandomSeed.getBytes();\n        this.publicKey = publicKey;\n        this.privateKey = privateKey;\n        this.userDetailsService = userDetailsService;\n        this.aclAuthorizationStrategy = new AclAuthorizationStrategyImpl(\n                new SimpleGrantedAuthority(AuthorityType.AUTHORITY_1.name()));\n        AuditLogger auditLogger = new ConsoleAuditLogger();\n        this.permissionGrantingStrategy\n                = new DefaultPermissionGrantingStrategy(auditLogger);\n        this.aclCache = new SpringCacheBasedAclCache(\n                cacheManager.getCache(&quot;aclCache&quot;),\n                permissionGrantingStrategy, aclAuthorizationStrategy);\n        this.lookupStrategy = new BasicLookupStrategy(dataSource, aclCache\n                , aclAuthorizationStrategy, auditLogger);\n        this.aclService = new JdbcMutableAclService(dataSource\n                , lookupStrategy, aclCache);\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll();\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(&quot;/token&quot;).authenticated())\n                .httpBasic(Customizer.withDefaults())\n                .userDetailsService(userDetailsService)\n                .csrf().disable();\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .csrf().disable()\n//              .httpBasic(Customizer.withDefaults())\n//              .userDetailsService(userDetailsService)\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\n                        .accessDeniedHandler(new BearerTokenAccessDeniedHandler())\n                );\n        return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withPublicKey(this.publicKey).build();\n    }\n\n    @Bean\n    public JwtEncoder jwtEncoder() {\n        JWK jwk = new RSAKey.Builder(this.publicKey).privateKey(this.privateKey).build();\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n        return new NimbusJwtEncoder(jwks);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(8, new SecureRandom(secureRandomSeed));\n    }\n\n    // #################### ACL Configuration\n\n    @Bean\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\n        DefaultMethodSecurityExpressionHandler expressionHandler\n                = new DefaultMethodSecurityExpressionHandler();\n        AclPermissionEvaluator permissionEvaluator\n                = new AclPermissionEvaluator(aclService);\n        expressionHandler.setPermissionEvaluator(permissionEvaluator);\n        return expressionHandler;\n    }\n\n    @Bean\n    public AclService aclService() {\n        return aclService;\n    }\n\n\n    @Bean\n    public LookupStrategy lookupStrategy() {\n        return lookupStrategy;\n    }\n\n    @Bean\n    public AclCache aclCache() {\n        return aclCache;\n    }\n\n    @Bean\n    public PermissionGrantingStrategy permissionGrantingStrategy() {\n        return permissionGrantingStrategy;\n    }\n\n    @Bean\n    public AclAuthorizationStrategy aclAuthorizationStrategy() {\n        return aclAuthorizationStrategy;\n    }\n}\n</code></pre>\n<p>I have tried many different configurations, but I couldn't find a solution.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","java-17"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1679592771,"post_id":75826061,"comment_id":133753360,"body_markdown":"What is the purpose use of `getRepository`?  Why does the caller need to go through this addtional level of abstraction instead of just using `IStatusRepository` directly?","body":"What is the purpose use of <code>getRepository</code>?  Why does the caller need to go through this addtional level of abstraction instead of just using <code>IStatusRepository</code> directly?"},{"owner":{"account_id":12262856,"reputation":530,"user_id":8950066,"accept_rate":65,"display_name":"DESH"},"score":0,"creation_date":1679594889,"post_id":75826061,"comment_id":133753878,"body_markdown":"@AndrewS, for reusability of the same calls on different tables. Imagine if you had CRUD operations that are the same on different services, but data lies in different tables. In these services, I decided to reuse with abstraction, because the behavior is the same.","body":"@AndrewS, for reusability of the same calls on different tables. Imagine if you had CRUD operations that are the same on different services, but data lies in different tables. In these services, I decided to reuse with abstraction, because the behavior is the same."}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679594358,"creation_date":1679593207,"answer_id":75826325,"question_id":75826061,"body_markdown":"## Problem\r\n\r\nGeneric parameters don&#39;t exist at runtime.\r\nAt runtime, the type of `JpaRepository&lt;Status, Long&gt;` is simply `JpaRepository`.\r\n\r\nWhen you check `if (repository instanceof JpaRepository&lt;?, ?&gt; repo)` the check that is actually made is if it&#39;s an instance of `JpaRepository`, and that&#39;s it.\r\n\r\nSo what it returns can be a `JpaRepository` with any type arguments, hence the [`?` wildcards to say that the type is unknown](https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html). From a type perspective, it doesn&#39;t mean that the returned type has the same type arguments as `repository`.\r\n\r\n### Solution (?)\r\nAs for how to satisfy this... Do you actually need to call `getRepository`? This function seems very hacky, and in your example, is not even needed, as you can call `statusRepository.findById(1L)` directly.\r\n\r\n**For the sake of providing a solution, I&#39;ll give you one, but I strongly suggest against doing this.**\r\n\r\nYou could get rid of the compilation error by using raw type of `JpaRepository` :\r\n\r\n```\r\n// DO NOT DO THIS\r\nprivate JpaRepository getRepository(Object repository) {\r\n    if (repository instanceof JpaRepository repo) {\r\n        return repo;\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nThis would get rid of the compilation error (you&#39;ll likely get a warning), but then you open the way of having runtime errors (`ClassCastException`s) because you can assign the result to any type (`JpaRepository&lt;String, String&gt; data = getRepository(statusRepository);` would compile for example), which is way more dangerous than compile errors. You basically remove type safety here.\r\n\r\n\r\n\r\n\r\n","title":"Required Type - capture of?","body":"<h2>Problem</h2>\n<p>Generic parameters don't exist at runtime.\nAt runtime, the type of <code>JpaRepository&lt;Status, Long&gt;</code> is simply <code>JpaRepository</code>.</p>\n<p>When you check <code>if (repository instanceof JpaRepository&lt;?, ?&gt; repo)</code> the check that is actually made is if it's an instance of <code>JpaRepository</code>, and that's it.</p>\n<p>So what it returns can be a <code>JpaRepository</code> with any type arguments, hence the <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\"><code>?</code> wildcards to say that the type is unknown</a>. From a type perspective, it doesn't mean that the returned type has the same type arguments as <code>repository</code>.</p>\n<h3>Solution (?)</h3>\n<p>As for how to satisfy this... Do you actually need to call <code>getRepository</code>? This function seems very hacky, and in your example, is not even needed, as you can call <code>statusRepository.findById(1L)</code> directly.</p>\n<p><strong>For the sake of providing a solution, I'll give you one, but I strongly suggest against doing this.</strong></p>\n<p>You could get rid of the compilation error by using raw type of <code>JpaRepository</code> :</p>\n<pre><code>// DO NOT DO THIS\nprivate JpaRepository getRepository(Object repository) {\n    if (repository instanceof JpaRepository repo) {\n        return repo;\n    }\n    return null;\n}\n</code></pre>\n<p>This would get rid of the compilation error (you'll likely get a warning), but then you open the way of having runtime errors (<code>ClassCastException</code>s) because you can assign the result to any type (<code>JpaRepository&lt;String, String&gt; data = getRepository(statusRepository);</code> would compile for example), which is way more dangerous than compile errors. You basically remove type safety here.</p>\n"}],"owner":{"account_id":12262856,"reputation":530,"user_id":8950066,"accept_rate":65,"display_name":"DESH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75826325,"answer_count":1,"score":0,"last_activity_date":1687514046,"creation_date":1679591444,"question_id":75826061,"body_markdown":"I am stuck on an issue that involves generics. I understand the problem, but I do not know how call methods for JpaRepository. For instance, when I call **existsById** and pass a *Long* number value, I get **capture of ?** is required.\r\n\r\nBelow lies a snippet of the code:\r\n```\r\nprivate JpaRepository&lt;?, ?&gt; getRepository(Object repository) {\r\n\tif (repository instanceof JpaRepository&lt;?, ?&gt; repo) {\r\n\t\treturn repo;\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\nThe repository:\r\n```\r\n@Repository\r\npublic interface IStatusRepository extends JpaRepository&lt;Status, Long&gt; {\r\n}\r\n\r\n```\r\n\r\nThe issue come here, when I try to call most methods from **getRepository(...)**:\r\n```\r\npublic void test(IStatusRepository statusRepository) {\r\n    ...\r\n\tvar data = getRepository(statusRepository).findById(1L);\r\n    ...\r\n}\r\n```\r\nThe code above results in a compilation error. The **findById(1L);** now takes a ***&quot;capture of ?&quot;*** and passing a *long* does not satisfy the compiler.\r\n\r\nHow can I call ***findById*** with no compilation error?","title":"Required Type - capture of?","body":"<p>I am stuck on an issue that involves generics. I understand the problem, but I do not know how call methods for JpaRepository. For instance, when I call <strong>existsById</strong> and pass a <em>Long</em> number value, I get <strong>capture of ?</strong> is required.</p>\n<p>Below lies a snippet of the code:</p>\n<pre><code>private JpaRepository&lt;?, ?&gt; getRepository(Object repository) {\n    if (repository instanceof JpaRepository&lt;?, ?&gt; repo) {\n        return repo;\n    }\n    return null;\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>@Repository\npublic interface IStatusRepository extends JpaRepository&lt;Status, Long&gt; {\n}\n\n</code></pre>\n<p>The issue come here, when I try to call most methods from <strong>getRepository(...)</strong>:</p>\n<pre><code>public void test(IStatusRepository statusRepository) {\n    ...\n    var data = getRepository(statusRepository).findById(1L);\n    ...\n}\n</code></pre>\n<p>The code above results in a compilation error. The <strong>findById(1L);</strong> now takes a <em><strong>&quot;capture of ?&quot;</strong></em> and passing a <em>long</em> does not satisfy the compiler.</p>\n<p>How can I call <em><strong>findById</strong></em> with no compilation error?</p>\n"},{"tags":["java","spring-boot","gradle","cas","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"score":0,"creation_date":1687509141,"post_id":76538330,"comment_id":134949810,"body_markdown":"How did you import plugin?","body":"How did you import plugin?"},{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":0,"creation_date":1687511161,"post_id":76538330,"comment_id":134950218,"body_markdown":"It seems pretty clean from the 401, try getting ```https://repo.spring.io/libs-milestone/org/scaldingspoon/gradle/gradle-waroverlay-plugin/0.9.3/gradle-waroverlay-plugin-0.9.3.pom``` by just pasting it in the browser using your credentials.","body":"It seems pretty clean from the 401, try getting <code>https:&#47;&#47;repo.spring.io&#47;libs-milestone&#47;org&#47;scaldingspoon&#47;grad&zwnj;&#8203;le&#47;gradle-waroverlay&zwnj;&#8203;-plugin&#47;0.9.3&#47;gradle&zwnj;&#8203;-waroverlay-plugin-0&zwnj;&#8203;.9.3.pom</code> by just pasting it in the browser using your credentials."},{"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"score":0,"creation_date":1687513952,"post_id":76538330,"comment_id":134950751,"body_markdown":"resolved the issue by changing the dependencies. posted the changes as answer. Thank you for the replay","body":"resolved the issue by changing the dependencies. posted the changes as answer. Thank you for the replay"}],"answers":[{"tags":[],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687513894,"creation_date":1687513894,"answer_id":76538954,"question_id":76538330,"body_markdown":"Resolved the issue by  changing dependencies.\r\n\r\n\r\n    dependencies {\r\n                classpath &quot;io.freefair.war-overlay:io.freefair.war-overlay.gradle.plugin:0.10.0&quot;\r\n                 }\r\n    apply plugin: &quot;io.freefair.war-overlay&quot;\r\n    \r\n    war {\r\n        //includeWarJars = true - this line removed\r\n        entryCompression = ZipEntryCompression.STORED\r\n    }","title":"Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3","body":"<p>Resolved the issue by  changing dependencies.</p>\n<pre><code>dependencies {\n            classpath &quot;io.freefair.war-overlay:io.freefair.war-overlay.gradle.plugin:0.10.0&quot;\n             }\napply plugin: &quot;io.freefair.war-overlay&quot;\n\nwar {\n    //includeWarJars = true - this line removed\n    entryCompression = ZipEntryCompression.STORED\n}\n</code></pre>\n"}],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76538954,"answer_count":1,"score":0,"last_activity_date":1687514017,"creation_date":1687508921,"question_id":76538330,"body_markdown":"Suddunly got an error which state that \r\n\r\n         Could not resolve all artifacts for configuration &#39;:common:security:cas-server:classpath&#39;.\r\n       &gt; Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3.\r\n         Required by:\r\n             project :common:security:cas-server\r\n          &gt; Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3.\r\n             &gt; Could not get resource &#39;https://repo.spring.io/libs-milestone/org/scaldingspoon/gradle/gradle-waroverlay-plugin/0.9.3/gradle-waroverlay-plugin-0.9.3.pom&#39;.\r\n                &gt; Could not GET &#39;https://repo.spring.io/libs-milestone/org/scaldingspoon/gradle/gradle-waroverlay-plugin/0.9.3/gradle-waroverlay-plugin-0.9.3.pom&#39;. Received status code 401 from server: \r\n\r\ntried by changing version and all, but still got the issue\r\n\r\n    **Gradle Version: 6.8.3**\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3&quot;\r\n        }\r\n    }\r\n    apply plugin: &#39;waroverlay&#39;\r\n\r\n    war {\r\n        includeWarJars = true\r\n        entryCompression = ZipEntryCompression.STORED\r\n}\r\n\r\n","title":"Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3","body":"<p>Suddunly got an error which state that</p>\n<pre><code>     Could not resolve all artifacts for configuration ':common:security:cas-server:classpath'.\n   &gt; Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3.\n     Required by:\n         project :common:security:cas-server\n      &gt; Could not resolve org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3.\n         &gt; Could not get resource 'https://repo.spring.io/libs-milestone/org/scaldingspoon/gradle/gradle-waroverlay-plugin/0.9.3/gradle-waroverlay-plugin-0.9.3.pom'.\n            &gt; Could not GET 'https://repo.spring.io/libs-milestone/org/scaldingspoon/gradle/gradle-waroverlay-plugin/0.9.3/gradle-waroverlay-plugin-0.9.3.pom'. Received status code 401 from server: \n</code></pre>\n<p>tried by changing version and all, but still got the issue</p>\n<pre><code>**Gradle Version: 6.8.3**\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;org.scaldingspoon.gradle:gradle-waroverlay-plugin:0.9.3&quot;\n    }\n}\napply plugin: 'waroverlay'\n\nwar {\n    includeWarJars = true\n    entryCompression = ZipEntryCompression.STORED\n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","jsonnode"],"answers":[{"comments":[{"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"score":0,"creation_date":1687518604,"post_id":76537643,"comment_id":134951619,"body_markdown":"Hello @Sashika. the output is &quot;{\\&quot;data\\&quot;:{\\&quot;barrel\\&quot;:{\\&quot;width\\&quot;:100},\\&quot;a\\&quot;:100,\\&quot;b\\&quot;:200}}&quot;. The code replace the JSON Object completely with the new JSON Object. Please refer **Required Output** above","body":"Hello @Sashika. the output is &quot;{\\&quot;data\\&quot;:{\\&quot;barrel\\&quot;:{\\&quot;width\\&quot;:100},\\&quot;a\\&quot;:100,\\&quot;b\\&quot;:200}}&zwnj;&#8203;&quot;. The code replace the JSON Object completely with the new JSON Object. Please refer <b>Required Output</b> above"},{"owner":{"account_id":5264787,"reputation":21,"user_id":4205146,"display_name":"Sashika"},"score":0,"creation_date":1687519762,"post_id":76537643,"comment_id":134951866,"body_markdown":"No this \n`System.out.println(updatedJsonString) =&gt; {&quot;data&quot;:{&quot;barrel&quot;:{&quot;width&quot;:100},&quot;a&quot;:100,&quot;b&quot;:200}}`\n\nbut if you want to make it pretty you can use something like,\n\n`mergeJSON(masterJson, &quot;data.barrel&quot;, newJson);\nSystem.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(masterJson));`","body":"No this  <code>System.out.println(updatedJsonString) =&gt; {&quot;data&quot;:{&quot;barrel&quot;:{&quot;width&quot;:100},&quot;a&quot;:100,&quot;b&quot;:200}}</code>  but if you want to make it pretty you can use something like,  <code>mergeJSON(masterJson, &quot;data.barrel&quot;, newJson); System.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(masterJson&zwnj;&#8203;));</code>"},{"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"score":0,"creation_date":1687520764,"post_id":76537643,"comment_id":134952104,"body_markdown":"I am not pointing out on format. the **barrel** object should have 3 keys. **length and stage** from master and **width** from newly added. {&quot;data&quot;:{&quot;barrel&quot;:{&quot;length&quot;:100,&quot;stage&quot;:[0,1,2],&quot;width&quot;:100},&quot;a&quot;:100,&quot;b&quot;:200}}","body":"I am not pointing out on format. the <b>barrel</b> object should have 3 keys. <b>length and stage</b> from master and <b>width</b> from newly added. {&quot;data&quot;:{&quot;barrel&quot;:{&quot;length&quot;:100,&quot;stage&quot;:[0,1,2],&quot;width&quot;:100}&zwnj;&#8203;,&quot;a&quot;:100,&quot;b&quot;:200}}"}],"tags":[],"owner":{"account_id":5264787,"reputation":21,"user_id":4205146,"display_name":"Sashika"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687502393,"creation_date":1687502393,"answer_id":76537643,"question_id":76537550,"body_markdown":"    public void mergeJSON(JsonObject masterJson, String path, JsonObject newJson) \r\n    {\r\n        String[] keys = path.split(&quot;\\\\.&quot;);\r\n    \r\n        JsonObject currentJson = masterJson;\r\n        for (int i = 0; i &lt; keys.length - 1; i++) {\r\n          String key = keys[i];\r\n          if (currentJson.has(key) &amp;&amp; currentJson.get(key).isJsonObject()) {\r\n            currentJson = currentJson.getAsJsonObject(key);\r\n          } else {\r\n            JsonObject nestedJson = new JsonObject();\r\n            currentJson.add(key, nestedJson);\r\n            currentJson = nestedJson;\r\n          }\r\n        }\r\n    \r\n        String lastKey = keys[keys.length - 1];\r\n        currentJson.add(lastKey, newJson);\r\n      }\r\nand then you can invoke this method \r\n\r\n    mergeJSON(masterJson, &quot;data.barrel&quot;, newJson);\r\n    String updatedJsonString = gson.toJson(masterJson);\r\n    System.out.println(updatedJsonString);","title":"Add data at child level in JSON Object","body":"<pre><code>public void mergeJSON(JsonObject masterJson, String path, JsonObject newJson) \n{\n    String[] keys = path.split(&quot;\\\\.&quot;);\n\n    JsonObject currentJson = masterJson;\n    for (int i = 0; i &lt; keys.length - 1; i++) {\n      String key = keys[i];\n      if (currentJson.has(key) &amp;&amp; currentJson.get(key).isJsonObject()) {\n        currentJson = currentJson.getAsJsonObject(key);\n      } else {\n        JsonObject nestedJson = new JsonObject();\n        currentJson.add(key, nestedJson);\n        currentJson = nestedJson;\n      }\n    }\n\n    String lastKey = keys[keys.length - 1];\n    currentJson.add(lastKey, newJson);\n  }\n</code></pre>\n<p>and then you can invoke this method</p>\n<pre><code>mergeJSON(masterJson, &quot;data.barrel&quot;, newJson);\nString updatedJsonString = gson.toJson(masterJson);\nSystem.out.println(updatedJsonString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"score":0,"creation_date":1687517111,"post_id":76538745,"comment_id":134951342,"body_markdown":"Hello Raymond, above code works good for the said path **&quot;data.barrel&quot;**. But I need some generic way where the path can be anything and upto any depth say eg: **data.pump** or **data.pump.specification**","body":"Hello Raymond, above code works good for the said path <b>&quot;data.barrel&quot;</b>. But I need some generic way where the path can be anything and upto any depth say eg: <b>data.pump</b> or <b>data.pump.specification</b>"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1687527907,"post_id":76538745,"comment_id":134953802,"body_markdown":"_Josson_ function `field()` can add/update/remove object elements and function `mergeObjects()` can merge two or more objects into one.  For nested object with level N, use syntax `field(level1.field(level2....field(levelN.mergeObjects(?, $new))...))` for your case.","body":"<i>Josson</i> function <code>field()</code> can add/update/remove object elements and function <code>mergeObjects()</code> can merge two or more objects into one.  For nested object with level N, use syntax <code>field(level1.field(level2....field(levelN.mergeObjects(?, $new))...))</code> for your case."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687514006,"creation_date":1687512332,"answer_id":76538745,"question_id":76537550,"body_markdown":"__Deserialization__\r\n\r\n    Josson master = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;data\\&quot;:{&quot; +\r\n        &quot;    \\&quot;barrel\\&quot;:{&quot; +\r\n        &quot;      \\&quot;length\\&quot;:100,&quot; +\r\n        &quot;      \\&quot;stage\\&quot;:[0,1,2]&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;a\\&quot;:100,&quot; +\r\n        &quot;    \\&quot;b\\&quot;:200&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__By Parameters__\r\n\r\n    Map&lt;String, JsonNode&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;$new&quot;, Josson.readJsonNode(&quot;{\\&quot;width\\&quot;:100}&quot;));\r\n    JsonNode node = master.getNode(\r\n        &quot;field(data.field(barrel.mergeObjects(?, $new)))&quot;, params);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__By Inline__\r\n\r\n    String addNew = &quot;{\\&quot;width\\&quot;:100}&quot;; // any &#39; needs to double it &#39;&#39;\r\n    JsonNode node = master.getNode(\r\n        &quot;field(data.field(barrel.mergeObjects(?, json(&#39;&quot; + addNew + &quot;&#39;))))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;data&quot; : {\r\n        &quot;barrel&quot; : {\r\n          &quot;length&quot; : 100,\r\n          &quot;stage&quot; : [ 0, 1, 2 ],\r\n          &quot;width&quot; : 100\r\n        },\r\n        &quot;a&quot; : 100,\r\n        &quot;b&quot; : 200\r\n      }\r\n    }\r\n","title":"Add data at child level in JSON Object","body":"<p><strong>Deserialization</strong></p>\n<pre><code>Josson master = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;data\\&quot;:{&quot; +\n    &quot;    \\&quot;barrel\\&quot;:{&quot; +\n    &quot;      \\&quot;length\\&quot;:100,&quot; +\n    &quot;      \\&quot;stage\\&quot;:[0,1,2]&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;a\\&quot;:100,&quot; +\n    &quot;    \\&quot;b\\&quot;:200&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>By Parameters</strong></p>\n<pre><code>Map&lt;String, JsonNode&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;$new&quot;, Josson.readJsonNode(&quot;{\\&quot;width\\&quot;:100}&quot;));\nJsonNode node = master.getNode(\n    &quot;field(data.field(barrel.mergeObjects(?, $new)))&quot;, params);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>By Inline</strong></p>\n<pre><code>String addNew = &quot;{\\&quot;width\\&quot;:100}&quot;; // any ' needs to double it ''\nJsonNode node = master.getNode(\n    &quot;field(data.field(barrel.mergeObjects(?, json('&quot; + addNew + &quot;'))))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;data&quot; : {\n    &quot;barrel&quot; : {\n      &quot;length&quot; : 100,\n      &quot;stage&quot; : [ 0, 1, 2 ],\n      &quot;width&quot; : 100\n    },\n    &quot;a&quot; : 100,\n    &quot;b&quot; : 200\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687514006,"creation_date":1687501250,"question_id":76537550,"body_markdown":"I want to merge JSON Object to master JSON Object at required depth\r\n\r\nMaster JSON\r\n```\r\n{\r\n  &quot;data&quot;:{\r\n    &quot;barrel&quot;:{\r\n      &quot;length&quot;:100,\r\n      &quot;stage&quot;:[0,1,2]\r\n    },\r\n    &quot;a&quot;:100,\r\n    &quot;b&quot;:200\r\n  }\r\n}\r\n```\r\n\r\nNew JSON Object to be added at path **data.barrel**\r\n```\r\n{\r\n &quot;width&quot;:100\r\n}\r\n```\r\n\r\nRequired Output\r\n```\r\n{\r\n  &quot;data&quot;:{\r\n    &quot;barrel&quot;:{\r\n      &quot;length&quot;:100,\r\n      &quot;stage&quot;:[0,1,2],\r\n       &quot;width&quot;:100\r\n    },\r\n    &quot;a&quot;:100,\r\n    &quot;b&quot;:200\r\n  }\r\n}\r\n```\r\n\r\nTried following code\r\n```\r\nString str = &quot;{\\&quot;data\\&quot;:{\\&quot;barrel\\&quot;:{\\&quot;length\\&quot;:100,\\&quot;stage\\&quot;:[0,1,2]},\\&quot;a\\&quot;:100,\\&quot;b\\&quot;:200}}&quot;;\r\nString newstr = &quot;{\\&quot;width\\&quot;:100}&quot;;\r\nString path = &quot;data.barrel&quot;;\r\n\r\nJSONObject jonew = new JSONObject(newstr);\r\n\r\nJosson josson = Josson.fromJsonString(str);\r\nJosson jossonNew = Josson.fromJsonString(jonew.toString());\r\n\r\nSystem.out.println(josson.getNode(path));\r\nJsonNode jn = josson.getNode(path);\r\nJsonNode jnNew = jossonNew.getNode();\r\n\r\nIterator&lt;String&gt; keys = jonew.keys();\r\nwhile (keys.hasNext()) {\r\nString key = keys.next();\r\n\tif (!jn.has(key))\r\n\t((ObjectNode) jn).set(key, jnNew.get(key));\r\n}\r\n\r\n```\r\nOutput\r\n```\r\n{&quot;length&quot;:100,&quot;stage&quot;:[0,1,2],&quot;width&quot;:100}\r\n```\r\n\r\nI am able to add child as a separate object, but not to the parent JSON Object\r\nI need a generic way as the path and depth can be varying\r\n\r\nRegards,\r\nPranav","title":"Add data at child level in JSON Object","body":"<p>I want to merge JSON Object to master JSON Object at required depth</p>\n<p>Master JSON</p>\n<pre><code>{\n  &quot;data&quot;:{\n    &quot;barrel&quot;:{\n      &quot;length&quot;:100,\n      &quot;stage&quot;:[0,1,2]\n    },\n    &quot;a&quot;:100,\n    &quot;b&quot;:200\n  }\n}\n</code></pre>\n<p>New JSON Object to be added at path <strong>data.barrel</strong></p>\n<pre><code>{\n &quot;width&quot;:100\n}\n</code></pre>\n<p>Required Output</p>\n<pre><code>{\n  &quot;data&quot;:{\n    &quot;barrel&quot;:{\n      &quot;length&quot;:100,\n      &quot;stage&quot;:[0,1,2],\n       &quot;width&quot;:100\n    },\n    &quot;a&quot;:100,\n    &quot;b&quot;:200\n  }\n}\n</code></pre>\n<p>Tried following code</p>\n<pre><code>String str = &quot;{\\&quot;data\\&quot;:{\\&quot;barrel\\&quot;:{\\&quot;length\\&quot;:100,\\&quot;stage\\&quot;:[0,1,2]},\\&quot;a\\&quot;:100,\\&quot;b\\&quot;:200}}&quot;;\nString newstr = &quot;{\\&quot;width\\&quot;:100}&quot;;\nString path = &quot;data.barrel&quot;;\n\nJSONObject jonew = new JSONObject(newstr);\n\nJosson josson = Josson.fromJsonString(str);\nJosson jossonNew = Josson.fromJsonString(jonew.toString());\n\nSystem.out.println(josson.getNode(path));\nJsonNode jn = josson.getNode(path);\nJsonNode jnNew = jossonNew.getNode();\n\nIterator&lt;String&gt; keys = jonew.keys();\nwhile (keys.hasNext()) {\nString key = keys.next();\n    if (!jn.has(key))\n    ((ObjectNode) jn).set(key, jnNew.get(key));\n}\n\n</code></pre>\n<p>Output</p>\n<pre><code>{&quot;length&quot;:100,&quot;stage&quot;:[0,1,2],&quot;width&quot;:100}\n</code></pre>\n<p>I am able to add child as a separate object, but not to the parent JSON Object\nI need a generic way as the path and depth can be varying</p>\n<p>Regards,\nPranav</p>\n"},{"tags":["java","swing","swingworker"],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1687440858,"post_id":76531897,"comment_id":134939627,"body_markdown":"The point of using a Swing worker is that the state of all Swing components should be updated on the Event Dispatch Thread (EDT), not a regular Thread. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information.","body":"The point of using a Swing worker is that the state of all Swing components should be updated on the Event Dispatch Thread (EDT), not a regular Thread. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information."}],"tags":[],"owner":{"account_id":2315442,"reputation":1341,"user_id":2032618,"accept_rate":100,"display_name":"TomDK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687437835,"creation_date":1687436821,"answer_id":76531897,"question_id":76531334,"body_markdown":"Given that this is a bit of an obscure question, I&#39;ll give it a shot.\r\n\r\nThere are 2 items that stand out for me:\r\n\r\n 1. The shown function/method is rather lengthy\r\n 2. There is a lot of nesting going on\r\n\r\nA simple solution to improve those is to split out code into separate methods.\r\nExample, move the actionable code from the &quot;OUTDATED&quot; case into a separate method. Sure it&#39;s longer, but easier to follow.\r\n\r\n    public loadInWorker() {\r\n    \tSwingWorker&lt;Status,Object&gt; swLoad=new SwingWorker&lt;&gt; () {\r\n    \t\tValidity doInBackGround() {\r\n    \t\t\treturn load(file);\r\n    \t\t}\r\n    \r\n    \t\tvoid done() {\r\n    \t\t\tonLoad(get());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tswLoad.execute();\r\n    }\r\n    \r\n    \r\n    \r\n    private onLoad(Validity validity) {\r\n    \tswitch (validity) {\r\n    \t\tcase UPTODATE:\r\n    \t\t\treturn;\r\n    \t\tcase OUTDATED:\r\n    \t\t\tint res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\r\n    \t\t\tif (res == JOptionPane.YES_OPTION) {\r\n    \t\t\t\tupdateInWorker(); \r\n    \t\t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    private updateInWorker() {\r\n    \tSwingWorker&lt;Boolean,Object&gt; swUpdate = new SwingWorker&lt;&gt;() {\r\n    \t\tBoolean doInBackGround() {\r\n    \t\t\treturn update();\r\n    \t\t}\r\n    \r\n    \t\tvoid done() {\r\n    \t\t\tBoolean success=get();\r\n    \t\t\tif (!success) {\r\n    \t\t\t\tonUpdateFailure();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tswUpdate.execute();\r\n    }\r\n    \r\n    \r\n    private onUpdateFailure() {\r\n    \t....\r\n    }\r\n\r\n\r\n**Edit + Opinion:**\r\nI&#39;ll add that I&#39;ve never used that worker API. Looking at it, it seems quite convoluted. In my last days of Java development, I relied on ThreadPools for tasks with a short execution time and dedicated Threads for tasks with long execution time.\r\nYou could also write a wrapper for the SwingWorker call as you don&#39;t care about the internal types outside of it. \r\nExample using bog standard Threads:\r\n\r\n    public loadInThread() {\r\n    \tnew Thread(this::loadInThread, &quot;Load Thread&quot;).start();\r\n    }\r\n    \r\n    \r\n    private loadInThread() {\r\n    \tswitch (load(file)) {\r\n    \t\tcase UPTODATE:\r\n    \t\t\treturn;\r\n    \t\tcase OUTDATED:\r\n    \t\t\tint res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\r\n    \t\t\tif (res == JOptionPane.YES_OPTION) {\r\n    \t\t\t\tnew Thread(this::updateInThread, &quot;Update Thread&quot;).start();\r\n    \t\t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    private updateInThread() {\r\n    \tif (!update()) {\r\n    \t\t// Update Failure code goes here\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to chain multiple SwingWorkers","body":"<p>Given that this is a bit of an obscure question, I'll give it a shot.</p>\n<p>There are 2 items that stand out for me:</p>\n<ol>\n<li>The shown function/method is rather lengthy</li>\n<li>There is a lot of nesting going on</li>\n</ol>\n<p>A simple solution to improve those is to split out code into separate methods.\nExample, move the actionable code from the &quot;OUTDATED&quot; case into a separate method. Sure it's longer, but easier to follow.</p>\n<pre><code>public loadInWorker() {\n    SwingWorker&lt;Status,Object&gt; swLoad=new SwingWorker&lt;&gt; () {\n        Validity doInBackGround() {\n            return load(file);\n        }\n\n        void done() {\n            onLoad(get());\n            }\n        }\n    };\n\n    swLoad.execute();\n}\n\n\n\nprivate onLoad(Validity validity) {\n    switch (validity) {\n        case UPTODATE:\n            return;\n        case OUTDATED:\n            int res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\n            if (res == JOptionPane.YES_OPTION) {\n                updateInWorker(); \n            }\n    }\n}\n\n\n\nprivate updateInWorker() {\n    SwingWorker&lt;Boolean,Object&gt; swUpdate = new SwingWorker&lt;&gt;() {\n        Boolean doInBackGround() {\n            return update();\n        }\n\n        void done() {\n            Boolean success=get();\n            if (!success) {\n                onUpdateFailure();\n            }\n        }\n    };\n\n    swUpdate.execute();\n}\n\n\nprivate onUpdateFailure() {\n    ....\n}\n</code></pre>\n<p><strong>Edit + Opinion:</strong>\nI'll add that I've never used that worker API. Looking at it, it seems quite convoluted. In my last days of Java development, I relied on ThreadPools for tasks with a short execution time and dedicated Threads for tasks with long execution time.\nYou could also write a wrapper for the SwingWorker call as you don't care about the internal types outside of it.\nExample using bog standard Threads:</p>\n<pre><code>public loadInThread() {\n    new Thread(this::loadInThread, &quot;Load Thread&quot;).start();\n}\n\n\nprivate loadInThread() {\n    switch (load(file)) {\n        case UPTODATE:\n            return;\n        case OUTDATED:\n            int res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\n            if (res == JOptionPane.YES_OPTION) {\n                new Thread(this::updateInThread, &quot;Update Thread&quot;).start();\n            }\n    }\n}\n\n\n\nprivate updateInThread() {\n    if (!update()) {\n        // Update Failure code goes here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1687505759,"post_id":76532798,"comment_id":134949142,"body_markdown":"Shouldn&#39;t `JOptionPane.showConfirmDialog` be called in EDT and hence in the `done()`?","body":"Shouldn&#39;t <code>JOptionPane.showConfirmDialog</code> be called in EDT and hence in the <code>done()</code>?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1687513170,"post_id":76532798,"comment_id":134950602,"body_markdown":"If you must call it on the EDT then go ahead an wrap the call in a `SwingUtilities.invokeAndWait()` It would help if we knew what you wanted from the result ultimately. You have multiple stages of execution, with communication back and forth between the EDT/GUI and your background thread. The way you have suggested is valid. Start a new swing worker to perform the new background task. Your example doesn&#39;t really warrant it though.","body":"If you must call it on the EDT then go ahead an wrap the call in a <code>SwingUtilities.invokeAndWait()</code> It would help if we knew what you wanted from the result ultimately. You have multiple stages of execution, with communication back and forth between the EDT/GUI and your background thread. The way you have suggested is valid. Start a new swing worker to perform the new background task. Your example doesn&#39;t really warrant it though."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1687514231,"post_id":76532798,"comment_id":134950803,"body_markdown":"I have edited the answer to include making the dialog display on the EDT. You can see it is also a bit cumbersome. I think the best design is to know your data. The gui references your data through a model. Your first click modifies the data in some way using a swing worker. Once that worker finishes, your data is in a new state. Then you wait for the gui to modify the data again. Which might require another swing worker. Y can learn to avoid nesting swing workers.","body":"I have edited the answer to include making the dialog display on the EDT. You can see it is also a bit cumbersome. I think the best design is to know your data. The gui references your data through a model. Your first click modifies the data in some way using a swing worker. Once that worker finishes, your data is in a new state. Then you wait for the gui to modify the data again. Which might require another swing worker. Y can learn to avoid nesting swing workers."},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1687515786,"post_id":76532798,"comment_id":134951121,"body_markdown":"I must not call `JOptionPane.showConfirmDialog` in the EDT. I just thought the **best practice** is to call any GUI action in the EDT. Including a `JOptionPane`.","body":"I must not call <code>JOptionPane.showConfirmDialog</code> in the EDT. I just thought the <b>best practice</b> is to call any GUI action in the EDT. Including a <code>JOptionPane</code>."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687514000,"creation_date":1687443008,"answer_id":76532798,"question_id":76531334,"body_markdown":"I don&#39;t understand why you&#39;re doing anything in your `done` method.\r\n\r\n```\r\nValidity doInBackGround() {\r\n    Validity validity = load(file);\r\n    switch (validity) {\r\n        case UPTODATE:\r\n            return validity;\r\n        case OUTDATED:\r\n            int res= confirmOnEdt();\r\n            if (res == JOptionPane.YES_OPTION) {\r\n                Boolean success = update();\r\n                //check the update and respond.\r\n            }\r\n    }\r\n    return validity;\r\n}\r\n\r\npublic int confirmOnEDT() throws InterruptedException{\r\n    int[] container = {0};\r\n    SwingUtilities.invokeAndWait( ()-&gt;{\r\n            container[0] = JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\r\n        }\r\n    );\r\n    return container[0];\r\n}\r\n```\r\n\r\nOne SwingWorker for the full set of tasks. The JOptionPane will block your background thread and wait for input. Also, you probably want to different return value than `Validity`.","title":"How to chain multiple SwingWorkers","body":"<p>I don't understand why you're doing anything in your <code>done</code> method.</p>\n<pre><code>Validity doInBackGround() {\n    Validity validity = load(file);\n    switch (validity) {\n        case UPTODATE:\n            return validity;\n        case OUTDATED:\n            int res= confirmOnEdt();\n            if (res == JOptionPane.YES_OPTION) {\n                Boolean success = update();\n                //check the update and respond.\n            }\n    }\n    return validity;\n}\n\npublic int confirmOnEDT() throws InterruptedException{\n    int[] container = {0};\n    SwingUtilities.invokeAndWait( ()-&gt;{\n            container[0] = JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\n        }\n    );\n    return container[0];\n}\n</code></pre>\n<p>One SwingWorker for the full set of tasks. The JOptionPane will block your background thread and wait for input. Also, you probably want to different return value than <code>Validity</code>.</p>\n"}],"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76532798,"answer_count":2,"score":0,"last_activity_date":1687514000,"creation_date":1687432647,"question_id":76531334,"body_markdown":"I&#39;ve got a big background task with some intermediate points where a user input is required. \r\n\r\nE.g. buttonLoad_actionPerformed --&gt; load, verify validity --&gt; if outdated, ask user whether to update. If yes --&gt; update, if no --&gt; stop.\r\n\r\nFor now, I&#39;ve coded this like this:\r\n```\r\n// load worker\r\nSwingWorker&lt;Status,Object&gt; swLoad=new SwingWorker&lt;&gt; () {\r\n    Validity doInBackGround() {\r\n        return load(file);\r\n    }\r\n\r\n    void done() {\r\n        Validity validity=get();\r\n\r\n        switch (validity) {\r\n            case UPTODATE:\r\n                return;\r\n            case OUTDATED:\r\n                int res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\r\n                if (res != JOptionPane.YES_OPTION) \r\n                    return;\r\n                    \r\n                // update worker\r\n                SwingWorker&lt;Boolean,Object&gt; swUpdate = new SwingWorker&lt;&gt;() {\r\n                    Boolean doInBackGround() {\r\n                        return update();\r\n                    }\r\n\r\n                    void done() {\r\n                        Boolean success=get();\r\n                        if (!success) ....\r\n                    }\r\n                };\r\n                \r\n                swUpdate.execute();\r\n        }    \r\n    }\r\n};\r\n\r\nswLoad.execute();\r\n```\r\n\r\nHowever this can be become pretty unreadable if multiple steps are required.\r\n\r\nWhat&#39;s the best approach for chaining conditional/optional SwingWorkers ? ","title":"How to chain multiple SwingWorkers","body":"<p>I've got a big background task with some intermediate points where a user input is required.</p>\n<p>E.g. buttonLoad_actionPerformed --&gt; load, verify validity --&gt; if outdated, ask user whether to update. If yes --&gt; update, if no --&gt; stop.</p>\n<p>For now, I've coded this like this:</p>\n<pre><code>// load worker\nSwingWorker&lt;Status,Object&gt; swLoad=new SwingWorker&lt;&gt; () {\n    Validity doInBackGround() {\n        return load(file);\n    }\n\n    void done() {\n        Validity validity=get();\n\n        switch (validity) {\n            case UPTODATE:\n                return;\n            case OUTDATED:\n                int res=JOptionPane.showConfirmDialog(&quot;File obsolete. Do you want to update it ?&quot;);\n                if (res != JOptionPane.YES_OPTION) \n                    return;\n                    \n                // update worker\n                SwingWorker&lt;Boolean,Object&gt; swUpdate = new SwingWorker&lt;&gt;() {\n                    Boolean doInBackGround() {\n                        return update();\n                    }\n\n                    void done() {\n                        Boolean success=get();\n                        if (!success) ....\n                    }\n                };\n                \n                swUpdate.execute();\n        }    \n    }\n};\n\nswLoad.execute();\n</code></pre>\n<p>However this can be become pretty unreadable if multiple steps are required.</p>\n<p>What's the best approach for chaining conditional/optional SwingWorkers ?</p>\n"},{"tags":["java","json","spring-boot","maven","jsonparser"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1681274702,"post_id":75991872,"comment_id":134028218,"body_markdown":"&quot;Getting json parsing error&quot; - Show us the error message / stacktrace","body":"&quot;Getting json parsing error&quot; - Show us the error message / stacktrace"},{"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"score":0,"creation_date":1681275502,"post_id":75991872,"comment_id":134028334,"body_markdown":"not parsing but de serialize error\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.Object,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)","body":"not parsing but de serialize error com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>java.util.LinkedHashMap&lt;java.lang.Object,java.lang.Object&gt;</code> from Array value (token <code>JsonToken.START_ARRAY</code>)"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1681277119,"post_id":75991872,"comment_id":134028501,"body_markdown":"Please [edit] your question to include the full stack trace.","body":"Please <a href=\"https://stackoverflow.com/posts/75991872/edit\">edit</a> your question to include the full stack trace."}],"answers":[{"comments":[{"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"score":0,"creation_date":1681281153,"post_id":75992143,"comment_id":134029119,"body_markdown":"thank you @Emanuel it&#39;s working for me i am getting \n\n{\n    &quot;content&quot;: [\n        {\n            &quot;id&quot;: &quot;350&quot;,\n            &quot;registrationNo&quot;: &quot;FQ-123&quot;,\n            &quot;Email&quot;: &quot;test1@gmail.in&quot;\n        }\n    ]\n}\n\ni just need to remove map name from the json output and want like this \n\n{\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: &quot;350&quot;,\n            &quot;registrationNo&quot;: &quot;FQ-123&quot;,\n            &quot;Email&quot;: &quot;test1@gmail.in&quot;\n        }\n    ]\n}","body":"thank you @Emanuel it&#39;s working for me i am getting   {     &quot;content&quot;: [         {             &quot;id&quot;: &quot;350&quot;,             &quot;registrationNo&quot;: &quot;FQ-123&quot;,             &quot;Email&quot;: &quot;test1@gmail.in&quot;         }     ] }  i just need to remove map name from the json output and want like this   {     &quot;data&quot;: [         {             &quot;id&quot;: &quot;350&quot;,             &quot;registrationNo&quot;: &quot;FQ-123&quot;,             &quot;Email&quot;: &quot;test1@gmail.in&quot;         }     ] }"},{"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"score":0,"creation_date":1681286709,"post_id":75992143,"comment_id":134030383,"body_markdown":"i have created dedicated class to parse the json data, Now i need one more help i want to save **pageable** key into DTO dedicated class my json is \n\n`{\n  &quot;data&quot;: [\n    {\n      &quot;id&quot;: 350,\n      &quot;registrationNo&quot;: &quot;FA-01&quot;,\n      &quot;applicantEmail&quot;: &quot;test@nn.kk&quot;,\n      &quot;applicantMobile&quot;: &quot;9999999998&quot;,\n    }\n  ],\n  &quot;pageable&quot;: {\n    &quot;sort&quot;: {\n      &quot;unsorted&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;empty&quot;: false\n    },\n    &quot;pageNumber&quot;: 0,\n    &quot;pageSize&quot;: 20,\n    &quot;offset&quot;: 0,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n  }\n}`","body":"i have created dedicated class to parse the json data, Now i need one more help i want to save <b>pageable</b> key into DTO dedicated class my json is   <code>{   &quot;data&quot;: [     {       &quot;id&quot;: 350,       &quot;registrationNo&quot;: &quot;FA-01&quot;,       &quot;applicantEmail&quot;: &quot;test@nn.kk&quot;,       &quot;applicantMobile&quot;: &quot;9999999998&quot;,     }   ],   &quot;pageable&quot;: {     &quot;sort&quot;: {       &quot;unsorted&quot;: false,       &quot;sorted&quot;: true,       &quot;empty&quot;: false     },     &quot;pageNumber&quot;: 0,     &quot;pageSize&quot;: 20,     &quot;offset&quot;: 0,     &quot;paged&quot;: true,     &quot;unpaged&quot;: false   } }</code>"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681286938,"post_id":75992143,"comment_id":134030445,"body_markdown":"i have updated the initial answer, take a look :)","body":"i have updated the initial answer, take a look :)"},{"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"score":0,"creation_date":1681290650,"post_id":75992143,"comment_id":134031297,"body_markdown":"getting exception &#39;com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of \n`org.springframework.data.domain.Pageable (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information`","body":"getting exception &#39;com.fasterxml.jackson.databind.exc.InvalidDefinitionExcepti&zwnj;&#8203;on: Cannot construct instance of  <code>org.springframework.data.domain.Pageable (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</code>"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681292728,"post_id":75992143,"comment_id":134031761,"body_markdown":"you can try to fix this as described here: https://stackoverflow.com/questions/52490399/spring-boot-page-deserialization-pageimpl-no-constructor\nor you can create your own pageable implementation","body":"you can try to fix this as described here: <a href=\"https://stackoverflow.com/questions/52490399/spring-boot-page-deserialization-pageimpl-no-constructor\" title=\"spring boot page deserialization pageimpl no constructor\">stackoverflow.com/questions/52490399/&hellip;</a> or you can create your own pageable implementation"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681286924,"creation_date":1681276904,"answer_id":75992143,"question_id":75991872,"body_markdown":"In your json String, the `content` is a List. what you can do is to update the `OtherResponse` accordingly:  \r\n\r\n    @Data\r\n    public class OtherResponse {\r\n        @JsonProperty(value = &quot;content&quot;)\r\n        private List&lt;Map&lt;String, String&gt;&gt; content;\r\n\r\n        private Pageable pageable;\r\n    }\r\n\r\nOr even define a dedicated class for it:\r\n\r\n    @Data\r\n    public class OtherResponse {\r\n        @JsonProperty(value = &quot;content&quot;)\r\n        private List&lt;Person&gt; content;\r\n\r\n        private Pageable pageable;\r\n    }\r\n\r\nPS: updated answer and added the Pageable field. I am using here the Pageable interface imported from `org.springframework.data.domain.Pageable`\r\n","title":"Json Parsing and assign to DTO","body":"<p>In your json String, the <code>content</code> is a List. what you can do is to update the <code>OtherResponse</code> accordingly:</p>\n<pre><code>@Data\npublic class OtherResponse {\n    @JsonProperty(value = &quot;content&quot;)\n    private List&lt;Map&lt;String, String&gt;&gt; content;\n\n    private Pageable pageable;\n}\n</code></pre>\n<p>Or even define a dedicated class for it:</p>\n<pre><code>@Data\npublic class OtherResponse {\n    @JsonProperty(value = &quot;content&quot;)\n    private List&lt;Person&gt; content;\n\n    private Pageable pageable;\n}\n</code></pre>\n<p>PS: updated answer and added the Pageable field. I am using here the Pageable interface imported from <code>org.springframework.data.domain.Pageable</code></p>\n"}],"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75992143,"answer_count":1,"score":-1,"last_activity_date":1687513925,"creation_date":1681273197,"question_id":75991872,"body_markdown":"Issue while parsing JSON into DTO.\r\n\r\nJSON response is :\r\n\r\n    {\r\n      &quot;content&quot;: [\r\n        {\r\n          &quot;id&quot;: 350,\r\n          &quot;reg&quot;: &quot;FA-2001&quot;,\r\n          &quot;Email&quot;: &quot;abc@gmail.in&quot;,\r\n          &quot;Mobile&quot;: &quot;+9192000000&quot;,\r\n          &quot;Name&quot;: &quot;dr kumar&quot;,\r\n          &quot;Ip&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\r\n          &quot;Datetime&quot;: &quot;2022-10-20T13:50:49&quot;,\r\n        }\r\n      ],\r\n      &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n          &quot;unsorted&quot;: false,\r\n          &quot;sorted&quot;: true,\r\n          &quot;empty&quot;: false\r\n        },\r\n        &quot;pageNumber&quot;: 0,\r\n        &quot;pageSize&quot;: 20,\r\n        &quot;offset&quot;: 0,\r\n        &quot;paged&quot;: true,\r\n        &quot;unpaged&quot;: false\r\n      },\r\n      &quot;last&quot;: true,\r\n      &quot;totalPages&quot;: 1,\r\n      &quot;totalElements&quot;: 1,\r\n      &quot;first&quot;: true,\r\n      &quot;sort&quot;: {\r\n        &quot;unsorted&quot;: false,\r\n        &quot;sorted&quot;: true,\r\n        &quot;empty&quot;: false\r\n      },\r\n      &quot;numberOfElements&quot;: 1,\r\n      &quot;size&quot;: 20,\r\n      &quot;number&quot;: 0,\r\n      &quot;empty&quot;: false\r\n    }\r\n    \r\nDTO \r\n    \r\n    @Data\r\n    public class OtherResponse {\r\n        @JsonProperty(value = &quot;content&quot;)\r\n        private Map content;\r\n    }\r\n\r\n\r\nGetting \r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type java.util.LinkedHashMap&lt;java.lang.Object,java.lang.Object&gt; from Array value (token JsonToken.START_ARRAY)\r\n```\r\nPlease suggest how to get value in Map or some other object \r\nMy main focus is to send specific key value pair in response.","title":"Json Parsing and assign to DTO","body":"<p>Issue while parsing JSON into DTO.</p>\n<p>JSON response is :</p>\n<pre><code>{\n  &quot;content&quot;: [\n    {\n      &quot;id&quot;: 350,\n      &quot;reg&quot;: &quot;FA-2001&quot;,\n      &quot;Email&quot;: &quot;abc@gmail.in&quot;,\n      &quot;Mobile&quot;: &quot;+9192000000&quot;,\n      &quot;Name&quot;: &quot;dr kumar&quot;,\n      &quot;Ip&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\n      &quot;Datetime&quot;: &quot;2022-10-20T13:50:49&quot;,\n    }\n  ],\n  &quot;pageable&quot;: {\n    &quot;sort&quot;: {\n      &quot;unsorted&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;empty&quot;: false\n    },\n    &quot;pageNumber&quot;: 0,\n    &quot;pageSize&quot;: 20,\n    &quot;offset&quot;: 0,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n  },\n  &quot;last&quot;: true,\n  &quot;totalPages&quot;: 1,\n  &quot;totalElements&quot;: 1,\n  &quot;first&quot;: true,\n  &quot;sort&quot;: {\n    &quot;unsorted&quot;: false,\n    &quot;sorted&quot;: true,\n    &quot;empty&quot;: false\n  },\n  &quot;numberOfElements&quot;: 1,\n  &quot;size&quot;: 20,\n  &quot;number&quot;: 0,\n  &quot;empty&quot;: false\n}\n</code></pre>\n<p>DTO</p>\n<pre><code>@Data\npublic class OtherResponse {\n    @JsonProperty(value = &quot;content&quot;)\n    private Map content;\n}\n</code></pre>\n<p>Getting</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type java.util.LinkedHashMap&lt;java.lang.Object,java.lang.Object&gt; from Array value (token JsonToken.START_ARRAY)\n</code></pre>\n<p>Please suggest how to get value in Map or some other object\nMy main focus is to send specific key value pair in response.</p>\n"},{"tags":["java","spring-boot","ssl","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":2230660,"reputation":215,"user_id":1968321,"display_name":"Michael H"},"score":0,"creation_date":1695335645,"post_id":76063644,"comment_id":136014568,"body_markdown":"did anyone figure this out?  I have tried multiple suggestions but none work in Spring Boot 3","body":"did anyone figure this out?  I have tried multiple suggestions but none work in Spring Boot 3"}],"answers":[{"tags":[],"owner":{"account_id":494704,"reputation":5171,"user_id":1225882,"accept_rate":100,"display_name":"anothernode"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682001106,"creation_date":1681991548,"answer_id":76063741,"question_id":76063644,"body_markdown":"You can try something like this to create the HTTP client:\r\n\r\n```java\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\r\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\r\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactoryBuilder;\r\nimport org.apache.hc.client5.http.ssl.TrustAllStrategy;\r\nimport org.apache.hc.core5.ssl.SSLContexts;\r\n\r\n[...]\r\n\r\nprivate CloseableHttpClient getHttpClient()\r\n      throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n    return HttpClients.custom()\r\n        .setConnectionManager(\r\n            PoolingHttpClientConnectionManagerBuilder.create()\r\n                .setSSLSocketFactory(\r\n                    SSLConnectionSocketFactoryBuilder.create()\r\n                        .setSslContext(\r\n                            SSLContexts.custom()\r\n                                .loadTrustMaterial(null, TrustAllStrategy.INSTANCE)\r\n                                .build())\r\n                        .setHostnameVerifier((s, sslSession) -&gt; true)\r\n                        .build())\r\n                .build())\r\n        .build();\r\n  }\r\n\r\n[...]\r\n```\r\n\r\nObviously you shouldn&#39;t use this in production as it&#39;s completely insecure.","title":"Skip SSL certificate verification in Spring Rest Template - Spring Boot 3.x.x","body":"<p>You can try something like this to create the HTTP client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactoryBuilder;\nimport org.apache.hc.client5.http.ssl.TrustAllStrategy;\nimport org.apache.hc.core5.ssl.SSLContexts;\n\n[...]\n\nprivate CloseableHttpClient getHttpClient()\n      throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n    return HttpClients.custom()\n        .setConnectionManager(\n            PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(\n                    SSLConnectionSocketFactoryBuilder.create()\n                        .setSslContext(\n                            SSLContexts.custom()\n                                .loadTrustMaterial(null, TrustAllStrategy.INSTANCE)\n                                .build())\n                        .setHostnameVerifier((s, sslSession) -&gt; true)\n                        .build())\n                .build())\n        .build();\n  }\n\n[...]\n</code></pre>\n<p>Obviously you shouldn't use this in production as it's completely insecure.</p>\n"}],"owner":{"account_id":5690250,"reputation":24334,"user_id":4498523,"display_name":"Rohit Shedage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76063741,"answer_count":1,"score":0,"last_activity_date":1687513877,"creation_date":1681990845,"question_id":76063644,"body_markdown":"How can I skip SSL certificate verification in Spring Rest Template with Spring Boot 3? I am finding lots of solutions online and on Stack Overflow which are compatible with Spring Boot 2.x.x but don&#39;t work with Spring Boot 3.x.x\r\n\r\n```java\r\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n \r\nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n        .loadTrustMaterial(null, acceptingTrustStrategy)\r\n        .build();\r\n \r\nSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n \r\nCloseableHttpClient httpClient = HttpClients.custom()\r\n        .setSSLSocketFactory(csf)\r\n        .build();\r\n \r\nHttpComponentsClientHttpRequestFactory requestFactory =\r\n        new HttpComponentsClientHttpRequestFactory();\r\n \r\nrequestFactory.setHttpClient(httpClient);\r\n \r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n```\r\n\r\nThis code gives compilation error in Spring Boot 3.","title":"Skip SSL certificate verification in Spring Rest Template - Spring Boot 3.x.x","body":"<p>How can I skip SSL certificate verification in Spring Rest Template with Spring Boot 3? I am finding lots of solutions online and on Stack Overflow which are compatible with Spring Boot 2.x.x but don't work with Spring Boot 3.x.x</p>\n<pre class=\"lang-java prettyprint-override\"><code>TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n \nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n        .loadTrustMaterial(null, acceptingTrustStrategy)\n        .build();\n \nSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n \nCloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(csf)\n        .build();\n \nHttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n \nrequestFactory.setHttpClient(httpClient);\n \nRestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n<p>This code gives compilation error in Spring Boot 3.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1682579367,"post_id":76117607,"comment_id":134238881,"body_markdown":"You may use `JsonIgnoreProperties` annotation on your request body class, let your request body class consists of all fields, basis on path variable , you may do a nested validation ! Although I would not recommend this approach as API contracts should be consistent and follow all 6 REST principles , but still basis on path variable you may check that if pathVariable value is 2 , you may want to do a non-null check for new request body fields","body":"You may use <code>JsonIgnoreProperties</code> annotation on your request body class, let your request body class consists of all fields, basis on path variable , you may do a nested validation ! Although I would not recommend this approach as API contracts should be consistent and follow all 6 REST principles , but still basis on path variable you may check that if pathVariable value is 2 , you may want to do a non-null check for new request body fields"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1682579477,"post_id":76117607,"comment_id":134238906,"body_markdown":"I highly recommend you to go through what REST is and what meaning does request and response body has","body":"I highly recommend you to go through what REST is and what meaning does request and response body has"},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1682589768,"post_id":76117607,"comment_id":134241153,"body_markdown":"Maybe bad, but recommendation is, use custom DTO where you have inside both DTO, then just use -&gt; if == 1 use new dtoCustom.getEditEmailBulkRequest  else if ==2 use new dtoCustom.getEditEmailBulkRequestNew. Maybe that way will be better because your input data not changing, object inside of object will be changed and choose by @PathVariable data","body":"Maybe bad, but recommendation is, use custom DTO where you have inside both DTO, then just use -&gt; if == 1 use new dtoCustom.getEditEmailBulkRequest  else if ==2 use new dtoCustom.getEditEmailBulkRequestNew. Maybe that way will be better because your input data not changing, object inside of object will be changed and choose by @PathVariable data"}],"owner":{"account_id":1453180,"reputation":25,"user_id":1369497,"accept_rate":86,"display_name":"vegeta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687513826,"creation_date":1682579051,"question_id":76117607,"body_markdown":"Hello i am using spring boot 3 and need some help \r\n\r\nMy controller \r\n```\r\n@PostMapping(value = &quot;/data/update/{value}&quot;,produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;?&gt; editReg(@PathVariable String value, @Validated @RequestBody EditRequest editEmailBulkRequest){\r\n\t\r\n}\r\n```\r\nMy first DTO class \r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class EditEmailBulkRequest {\r\n    @NotNull\r\n    private int id;\r\n    @NonNull\r\n    @NotEmpty\r\n    private String name;\r\n}\r\n```\r\n\r\nMy second DTO class\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class EditEmailBulkRequestNew {\r\n    @NotNull\r\n    private String email;\r\n    @NonNull\r\n    @NotEmpty\r\n    private String org;\r\n}\r\n```\r\nIs there any way to judge on the basis of path variable . like if @PathVariable value is 1 then @RequestBody will  **EditEmailBulkRequest** and if @PathVariavle value is 2 the @RequestBody object will become **EditEmailBulkRequestNew** .\r\nOr is there any way to change the DTO class via checking any variable  in same endpoint ??","title":"Change @RequestBody object based on @PathVariable variable","body":"<p>Hello i am using spring boot 3 and need some help</p>\n<p>My controller</p>\n<pre><code>@PostMapping(value = &quot;/data/update/{value}&quot;,produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; editReg(@PathVariable String value, @Validated @RequestBody EditRequest editEmailBulkRequest){\n    \n}\n</code></pre>\n<p>My first DTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class EditEmailBulkRequest {\n    @NotNull\n    private int id;\n    @NonNull\n    @NotEmpty\n    private String name;\n}\n</code></pre>\n<p>My second DTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class EditEmailBulkRequestNew {\n    @NotNull\n    private String email;\n    @NonNull\n    @NotEmpty\n    private String org;\n}\n</code></pre>\n<p>Is there any way to judge on the basis of path variable . like if @PathVariable value is 1 then @RequestBody will  <strong>EditEmailBulkRequest</strong> and if @PathVariavle value is 2 the @RequestBody object will become <strong>EditEmailBulkRequestNew</strong> .\nOr is there any way to change the DTO class via checking any variable  in same endpoint ??</p>\n"},{"tags":["java","spring-boot","error-handling","controller-advice"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682611947,"post_id":76122428,"comment_id":134246725,"body_markdown":"did you see the `log.error(&quot;File access Exception&quot;, fae);` ? (first guess: it is *not* `FileAccessException`!;)","body":"did you see the <code>log.error(&quot;File access Exception&quot;, fae);</code> ? (first guess: it is <i>not</i> <code>FileAccessException</code>!;)"},{"owner":{"account_id":6025678,"reputation":615,"user_id":4785103,"accept_rate":56,"display_name":"C&#233;sar Castro Aroche"},"score":1,"creation_date":1682612000,"post_id":76122428,"comment_id":134246736,"body_markdown":"no, nothing @xerx593","body":"no, nothing @xerx593"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682613352,"post_id":76122428,"comment_id":134247084,"body_markdown":"Your handler method must return ResponseEntity not just ErrorResponse.","body":"Your handler method must return ResponseEntity not just ErrorResponse."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682613944,"creation_date":1682612641,"answer_id":76122681,"question_id":76122428,"body_markdown":"&gt;&gt;did you see the `log.error(&quot;File access Exception&quot;, fae);` ...\r\n\r\n&gt;no, nothing @xerx593\r\n\r\nAssuming:\r\n- your logging is set-up correct and level &gt;= error\r\n- and `@ControllerAdvice` picked up correctly\r\n\r\n..that means:\r\n\r\n**It was *no* `FileAccessException`**\r\n(but another one, ..set a breakpoint!)\r\n\r\nLook at the [impl of `ResponseEntityExceptionHandler`][1], it registers exception handler for &quot;bunch of&quot;/many types of Exceptions and is &quot;the default&quot;.\r\n\r\nConfigured via `ProblemDetailsExceptionHandler`([web][2]|[webflux][3]), but also (via inheritance) with your custom implementation.\r\n\r\nTo get &quot;the best&quot; out of your &quot;exception handler&quot; (consider application.properties e.g.), follow the tips [outlined here][4] (it says &quot;reactive&quot;, but: potayto-potahto;):\r\n\r\n- Keep/bear the `super` Implementation in mind:\r\n  - existing handler *interfaces*\r\n  - utilize *protected* methods\r\n- Extend your &quot;Error&quot; class from `ErrorResponseException`\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java#L114-L131\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/ProblemDetailsExceptionHandler.java\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/ProblemDetailsExceptionHandler.java\r\n  [4]: https://stackoverflow.com/a/75937888/592355","title":"Global Exception Handler / @Controller Advice on spring boot 3.0 not being applied","body":"<blockquote>\n<blockquote>\n<p>did you see the <code>log.error(&quot;File access Exception&quot;, fae);</code> ...</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>no, nothing @xerx593</p>\n</blockquote>\n<p>Assuming:</p>\n<ul>\n<li>your logging is set-up correct and level &gt;= error</li>\n<li>and <code>@ControllerAdvice</code> picked up correctly</li>\n</ul>\n<p>..that means:</p>\n<p><strong>It was <em>no</em> <code>FileAccessException</code></strong>\n(but another one, ..set a breakpoint!)</p>\n<p>Look at the <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java#L114-L131\" rel=\"nofollow noreferrer\">impl of <code>ResponseEntityExceptionHandler</code></a>, it registers exception handler for &quot;bunch of&quot;/many types of Exceptions and is &quot;the default&quot;.</p>\n<p>Configured via <code>ProblemDetailsExceptionHandler</code>(<a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/ProblemDetailsExceptionHandler.java\" rel=\"nofollow noreferrer\">web</a>|<a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/ProblemDetailsExceptionHandler.java\" rel=\"nofollow noreferrer\">webflux</a>), but also (via inheritance) with your custom implementation.</p>\n<p>To get &quot;the best&quot; out of your &quot;exception handler&quot; (consider application.properties e.g.), follow the tips <a href=\"https://stackoverflow.com/a/75937888/592355\">outlined here</a> (it says &quot;reactive&quot;, but: potayto-potahto;):</p>\n<ul>\n<li>Keep/bear the <code>super</code> Implementation in mind:\n<ul>\n<li>existing handler <em>interfaces</em></li>\n<li>utilize <em>protected</em> methods</li>\n</ul>\n</li>\n<li>Extend your &quot;Error&quot; class from <code>ErrorResponseException</code></li>\n</ul>\n"}],"owner":{"account_id":6025678,"reputation":615,"user_id":4785103,"accept_rate":56,"display_name":"C&#233;sar Castro Aroche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687513792,"creation_date":1682611038,"question_id":76122428,"body_markdown":"I have recently migrated my application from spring boot **2.1** to spring boot **3.0**. \r\nBut the problem is that now there are endpoints which are not giving the same response when an error happens, instead I get something like this:\r\n   \r\n\r\n     {\r\n            &quot;type&quot;: &quot;about:blank&quot;,\r\n            &quot;title&quot;: &quot;Bad Request&quot;,\r\n            &quot;status&quot;: 400,\r\n            &quot;detail&quot;: &quot;Failed to convert &#39;id&#39; with value: &#39;territory&#39;&quot;,\r\n            &quot;instance&quot;: &quot;/webfront/administration/book/territory&quot;\r\n        }\r\n\r\nI accomplished this by adding a **@ControllerAdvice** class that extends from *ResponseEntityExceptionHandler*. \r\n\r\nHowever I require some other information, the expected one would be like this:\r\n    \r\n    {\r\n        &quot;type&quot;: &quot;about:blank&quot;,\r\n        &quot;title&quot;: &quot;Bad Request&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;detail&quot;: &quot;Failed to convert &#39;id&#39; with value: &#39;territory&#39;&quot;,\r\n        &quot;instance&quot;: &quot;/webfront/administration/book/territory&quot;,\r\n        &quot;timestamp&quot;: &quot;2023-04-15 12:02:21&quot;,\r\n        &quot;code&quot; : 24\r\n    }\r\n\r\nHere is the implementation of my controller advice that should be applied globally (for the example there is only one exception but in reality there are several).\r\n\r\n    @ControllerAdvice\r\n    @Slf4j\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        private static ErrorResponse mapToErrorResponse(Exception e, ApplicationError applicationError, String errorMessage, HttpStatus status) {\r\n            return ErrorResponse.builder(e, status, errorMessage)\r\n                    .property(&quot;code&quot;, String.valueOf(applicationError.getCode()))\r\n                    .property(&quot;timestamp&quot;, Instant.now())\r\n                    .build();\r\n        }\r\n    \r\n        @ExceptionHandler(FileAccessException.class)\r\n        public ErrorResponse fileAccessException(FileAccessException fae) {\r\n            log.error(&quot;File access Exception&quot;, fae);\r\n            return mapToErrorResponse(fae, fae.getApplicationError(), fae.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    ...\r\n    }\r\n\r\nFor some reason this handler is not being detected by spring and the exceptions body continue as the first example without my custom data.\r\n\r\nI also have another problem regarding my **UrlAuthenticationFailureHandler** before when the user tried to access an unauthorized route the exception was handled now the body is always empty. I tried adding this config entries to my **application.yml** but it didn&#39;t make any difference:\r\n    \r\n\r\n    server:\r\n       error:\r\n         include-message: ALWAYS\r\n         include-stacktrace: ALWAYS\r\n    mvc:\r\n       problemdetails:\r\n         enabled: true\r\n\r\n ","title":"Global Exception Handler / @Controller Advice on spring boot 3.0 not being applied","body":"<p>I have recently migrated my application from spring boot <strong>2.1</strong> to spring boot <strong>3.0</strong>.\nBut the problem is that now there are endpoints which are not giving the same response when an error happens, instead I get something like this:</p>\n<pre><code> {\n        &quot;type&quot;: &quot;about:blank&quot;,\n        &quot;title&quot;: &quot;Bad Request&quot;,\n        &quot;status&quot;: 400,\n        &quot;detail&quot;: &quot;Failed to convert 'id' with value: 'territory'&quot;,\n        &quot;instance&quot;: &quot;/webfront/administration/book/territory&quot;\n    }\n</code></pre>\n<p>I accomplished this by adding a <strong>@ControllerAdvice</strong> class that extends from <em>ResponseEntityExceptionHandler</em>.</p>\n<p>However I require some other information, the expected one would be like this:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to convert 'id' with value: 'territory'&quot;,\n    &quot;instance&quot;: &quot;/webfront/administration/book/territory&quot;,\n    &quot;timestamp&quot;: &quot;2023-04-15 12:02:21&quot;,\n    &quot;code&quot; : 24\n}\n</code></pre>\n<p>Here is the implementation of my controller advice that should be applied globally (for the example there is only one exception but in reality there are several).</p>\n<pre><code>@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    private static ErrorResponse mapToErrorResponse(Exception e, ApplicationError applicationError, String errorMessage, HttpStatus status) {\n        return ErrorResponse.builder(e, status, errorMessage)\n                .property(&quot;code&quot;, String.valueOf(applicationError.getCode()))\n                .property(&quot;timestamp&quot;, Instant.now())\n                .build();\n    }\n\n    @ExceptionHandler(FileAccessException.class)\n    public ErrorResponse fileAccessException(FileAccessException fae) {\n        log.error(&quot;File access Exception&quot;, fae);\n        return mapToErrorResponse(fae, fae.getApplicationError(), fae.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n...\n}\n</code></pre>\n<p>For some reason this handler is not being detected by spring and the exceptions body continue as the first example without my custom data.</p>\n<p>I also have another problem regarding my <strong>UrlAuthenticationFailureHandler</strong> before when the user tried to access an unauthorized route the exception was handled now the body is always empty. I tried adding this config entries to my <strong>application.yml</strong> but it didn't make any difference:</p>\n<pre><code>server:\n   error:\n     include-message: ALWAYS\n     include-stacktrace: ALWAYS\nmvc:\n   problemdetails:\n     enabled: true\n</code></pre>\n"},{"tags":["java","spring-boot","http-headers","webclient"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682689254,"creation_date":1682689254,"answer_id":76130176,"question_id":76129947,"body_markdown":"Method defaultHeaders operates on a map of type HttpHeaders. Try this:\r\n\r\n    this.webClient = WebClient.builder()\r\n        .baseUrl(baseURL)\r\n        .defaultHeaders(headers -&gt; {\r\n            headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            headers.add(&quot;api-key&quot;, apiKey);\r\n        })\r\n        .build();\r\n\r\nAlternatively use the method defaultHeader this way:\r\n\r\n    this.webClient = WebClient.builder()\r\n        .baseUrl(baseURL)\r\n        .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE))\r\n        .defaultHeader(&quot;api-key&quot;, apiKey)\r\n        .build();\r\n","title":"Default headers not being applied in Spring Boot WebClient","body":"<p>Method defaultHeaders operates on a map of type HttpHeaders. Try this:</p>\n<pre><code>this.webClient = WebClient.builder()\n    .baseUrl(baseURL)\n    .defaultHeaders(headers -&gt; {\n        headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        headers.add(&quot;api-key&quot;, apiKey);\n    })\n    .build();\n</code></pre>\n<p>Alternatively use the method defaultHeader this way:</p>\n<pre><code>this.webClient = WebClient.builder()\n    .baseUrl(baseURL)\n    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE))\n    .defaultHeader(&quot;api-key&quot;, apiKey)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":14767494,"reputation":15,"user_id":10665068,"display_name":"yansto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687513784,"creation_date":1682687583,"question_id":76129947,"body_markdown":"I am experiencing an issue with the WebClient class in my Spring Boot application. I have set default headers on the WebClient instance using the defaultHeaders method in the WebClient.Builder, but the headers are not being applied to requests made by the WebClient.\r\n\r\nInstead, I have to manually add the headers to each request using the header method.\r\n\r\nHere is an example of how I am setting the default headers:\r\n\r\n    public EService() {\r\n    this.webClient = WebClient.builder()\r\n            .baseUrl(baseURL)\r\n            .defaultHeaders(header -&gt; {\r\n                header.setContentType(MediaType.APPLICATION_JSON);\r\n                header.set(&quot;api-key&quot;, apiKey);\r\n            })\r\n            .build();\r\n}\r\n\r\nHere is the example, how i use the method with default headers:\r\n\r\n    public List&lt;NetworksResponseItemObject&gt; getAllNetworks() {\r\n        List&lt;NetworksResponseItemObject&gt; results = new LinkedList&lt;&gt;();\r\n\r\n\r\n        try {\r\n            List&lt;NetworksResponseObject&gt; response = webClient.get().uri( orgID + &quot;/hvs&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;List&lt;NetworksResponseObject&gt;&gt;() {})\r\n                    .block(REQUEST_TIMEOUT);\r\n\r\n            for (NetworksResponseObject networksResponseObject : response) {\r\n                results.addAll(networksResponseObject.getNetworks());\r\n            }\r\n        } catch (Exception e) {\r\n            return new LinkedList&lt;&gt;(); //If there&#180;s an error, we return an empty list\r\n        }return results;}\r\n\r\nIf i use this, i get a 400 Error, BadRequest\r\n\r\nIf i delete the default headers and add them in every method like this it&#180;s working:\r\npublic List&lt;NetworksResponseItemObject&gt; getAllNetworks() {\r\n    List&lt;NetworksResponseItemObject&gt; results = new LinkedList&lt;&gt;();\r\n\r\n    try {\r\n        List&lt;NetworksResponseObject&gt; response = webClient.get()\r\n                .uri(orgID + &quot;/hvs&quot;)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .header(&quot;api-key&quot;, apiKey)\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;List&lt;NetworksResponseObject&gt;&gt;() {})\r\n                .block(REQUEST_TIMEOUT);\r\n\r\n        for (NetworksResponseObject networksResponseObject : response) {\r\n            results.addAll(networksResponseObject.getNetworks());\r\n        }\r\n    } catch (Exception e) {\r\n        return new LinkedList&lt;&gt;(); //If there&#39;s an error, we return an empty list\r\n    }\r\n\r\n    log.info(&quot;Found &quot; + results.size() + &quot; networks&quot;);\r\n    return results;\r\n}\r\n\r\nWhy is it like this? How can i fix it?","title":"Default headers not being applied in Spring Boot WebClient","body":"<p>I am experiencing an issue with the WebClient class in my Spring Boot application. I have set default headers on the WebClient instance using the defaultHeaders method in the WebClient.Builder, but the headers are not being applied to requests made by the WebClient.</p>\n<p>Instead, I have to manually add the headers to each request using the header method.</p>\n<p>Here is an example of how I am setting the default headers:</p>\n<pre><code>public EService() {\nthis.webClient = WebClient.builder()\n        .baseUrl(baseURL)\n        .defaultHeaders(header -&gt; {\n            header.setContentType(MediaType.APPLICATION_JSON);\n            header.set(&quot;api-key&quot;, apiKey);\n        })\n        .build();\n</code></pre>\n<p>}</p>\n<p>Here is the example, how i use the method with default headers:</p>\n<pre><code>public List&lt;NetworksResponseItemObject&gt; getAllNetworks() {\n    List&lt;NetworksResponseItemObject&gt; results = new LinkedList&lt;&gt;();\n\n\n    try {\n        List&lt;NetworksResponseObject&gt; response = webClient.get().uri( orgID + &quot;/hvs&quot;)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;List&lt;NetworksResponseObject&gt;&gt;() {})\n                .block(REQUEST_TIMEOUT);\n\n        for (NetworksResponseObject networksResponseObject : response) {\n            results.addAll(networksResponseObject.getNetworks());\n        }\n    } catch (Exception e) {\n        return new LinkedList&lt;&gt;(); //If theres an error, we return an empty list\n    }return results;}\n</code></pre>\n<p>If i use this, i get a 400 Error, BadRequest</p>\n<p>If i delete the default headers and add them in every method like this its working:\npublic List getAllNetworks() {\nList results = new LinkedList&lt;&gt;();</p>\n<pre><code>try {\n    List&lt;NetworksResponseObject&gt; response = webClient.get()\n            .uri(orgID + &quot;/hvs&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .header(&quot;api-key&quot;, apiKey)\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;List&lt;NetworksResponseObject&gt;&gt;() {})\n            .block(REQUEST_TIMEOUT);\n\n    for (NetworksResponseObject networksResponseObject : response) {\n        results.addAll(networksResponseObject.getNetworks());\n    }\n} catch (Exception e) {\n    return new LinkedList&lt;&gt;(); //If there's an error, we return an empty list\n}\n\nlog.info(&quot;Found &quot; + results.size() + &quot; networks&quot;);\nreturn results;\n</code></pre>\n<p>}</p>\n<p>Why is it like this? How can i fix it?</p>\n"},{"tags":["java","database","oracle","jdbc","transactions"],"answers":[{"comments":[{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1379522814,"post_id":18877428,"comment_id":27860399,"body_markdown":"How about named transaction. Is it possible to distinguish transactions by their name?","body":"How about named transaction. Is it possible to distinguish transactions by their name?"},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1379522994,"post_id":18877428,"comment_id":27860496,"body_markdown":"If you mean `setSavePoint(String name)`, then no, that just makes it possible to do partial roll-backs, not partial commits.","body":"If you mean <code>setSavePoint(String name)</code>, then no, that just makes it possible to do partial roll-backs, not partial commits."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1379578233,"post_id":18877428,"comment_id":27880090,"body_markdown":"At least in OCIit is possible. Also in JDBC you can use statement `SETTRANCACTION` or `COMMITFORCE&#39;transaction id&#39; `. This is used mainly in distributed(XA) transactions, where you can &quot;join&quot; to other transaction created in different db connection.","body":"At least in OCIit is possible. Also in JDBC you can use statement <code>SETTRANCACTION</code> or <code>COMMITFORCE&#39;transaction id&#39; </code>. This is used mainly in distributed(XA) transactions, where you can &quot;join&quot; to other transaction created in different db connection."}],"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1379521390,"creation_date":1379521390,"answer_id":18877428,"question_id":18877371,"body_markdown":"It is not possible to have two transactions on one connection. Apart from any potential threading issues in the Connection, there is only one [commit()][1] method and it commits all activity since the last commit/rollback, regardless of which object they came from.\r\n\r\nUse two connections if you need two transactions.\r\n\r\nIf you have 1000&#39;s of objects, then use a [connection pool][2] to rationalize the number of active connections to the database.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#commit%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/sql/ConnectionPoolDataSource.html","title":"Is it possible to have two concurrent transactions in one JDBC connection?","body":"<p>It is not possible to have two transactions on one connection. Apart from any potential threading issues in the Connection, there is only one <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#commit%28%29\">commit()</a> method and it commits all activity since the last commit/rollback, regardless of which object they came from.</p>\n\n<p>Use two connections if you need two transactions.</p>\n\n<p>If you have 1000's of objects, then use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sql/ConnectionPoolDataSource.html\">connection pool</a> to rationalize the number of active connections to the database.</p>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4030,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":18877428,"answer_count":1,"score":11,"last_activity_date":1687513779,"creation_date":1379521219,"question_id":18877371,"body_markdown":"Right now I have two objects sharing a database connection to an Oracle database in auto commit mode. But now both objects need to start their own transaction to get their work done.\r\n\r\nWhat is the consequence?\r\n\r\nIs it necessary to give each object its own connection in order to have concurrent transactions or is possible to keep the code as it is and use the same connection for two concurrent transactions?\r\n\r\nAnd what is the best practice, if I have 10000 objects instead of 2? How many database connections do I need, if it may be possible for every object to start a transaction. Do I need 10000 database connections?\r\n","title":"Is it possible to have two concurrent transactions in one JDBC connection?","body":"<p>Right now I have two objects sharing a database connection to an Oracle database in auto commit mode. But now both objects need to start their own transaction to get their work done.</p>\n\n<p>What is the consequence?</p>\n\n<p>Is it necessary to give each object its own connection in order to have concurrent transactions or is possible to keep the code as it is and use the same connection for two concurrent transactions?</p>\n\n<p>And what is the best practice, if I have 10000 objects instead of 2? How many database connections do I need, if it may be possible for every object to start a transaction. Do I need 10000 database connections?</p>\n"},{"tags":["java","spring-boot","postgis","hibernate-spatial","hibernate-6.x"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683402699,"post_id":76182389,"comment_id":134362401,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76182389/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1548558,"reputation":1083,"user_id":1441476,"accept_rate":40,"display_name":"Homayoun Behzadian"},"score":0,"creation_date":1701787069,"post_id":76182389,"comment_id":136816896,"body_markdown":"version 6.3.0 works in win but in mac I need to downgrade to 6.1.7. why?","body":"version 6.3.0 works in win but in mac I need to downgrade to 6.1.7. why?"}],"tags":[],"owner":{"account_id":7194111,"reputation":105,"user_id":5493469,"display_name":"Urman Ratneshwar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683525308,"creation_date":1683291016,"answer_id":76182389,"question_id":76181712,"body_markdown":"Currently spring-boot-starter-data-jpa:3.0.6 uses hibernate-core:6.1.7.Final, so I had to use **hibernate-spatial:6.1.7.Final** instead of 6.2.2.Final. Compiled dependencies of hibernate can be viewed [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.6#:~:text=%C2%BB%20hibernate%2Dcore-,6.1.7.Final,-6.2.2.Final","title":"SpringBoot 3, hibernate-spatial 6, PostGIS:: java.lang.ClassNotFoundException: org.hibernate.dialect.PgJdbcHelper","body":"<p>Currently spring-boot-starter-data-jpa:3.0.6 uses hibernate-core:6.1.7.Final, so I had to use <strong>hibernate-spatial:6.1.7.Final</strong> instead of 6.2.2.Final. Compiled dependencies of hibernate can be viewed <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.6#:%7E:text=%C2%BB%20hibernate%2Dcore-,6.1.7.Final,-6.2.2.Final\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7194111,"reputation":105,"user_id":5493469,"display_name":"Urman Ratneshwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1657,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76182389,"answer_count":1,"score":0,"last_activity_date":1687513684,"creation_date":1683286254,"question_id":76181712,"body_markdown":"I am trying to migrate my current spring boot 2 application to 3. I am using PostGIS (I have not set explicit dialect so it uses org.hibernate.dialect.PostgreSQLDialect) to use the geometry column type. While trying to start up the application after making the necessary changes, I am getting the below error:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/dialect/PgJdbcHelper\r\n    \tat org.hibernate.spatial.dialect.postgis.PostgisDialectContributor.contributeJdbcTypes(PostgisDialectContributor.java:29) ~[hibernate-spatial-6.2.2.Final.jar:6.2.2.Final]\r\n    \tat org.hibernate.spatial.contributor.SpatialTypeContributor.contribute(SpatialTypeContributor.java:22) ~[hibernate-spatial-6.2.2.Final.jar:6.2.2.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \t... 103 common frames omitted\r\n\r\nbelow is my pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.6&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;name&gt;test&lt;/name&gt;\r\n        &lt;description&gt;test&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20230227&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.vladmihalcea/hibernate-types-52 --&gt;\r\n            &lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.21.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-module-jakarta-xmlbind-annotations&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-envers --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n                &lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.9&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.9&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;report&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\nFor now, as you can see in pom, I have commented out **hibernate-types-52** dependency due to an issue I&#39;m facing in [This][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76180848/springboot-3-postgis-com-vladmihalcea-hibernate-type-basic-nullablecharactert","title":"SpringBoot 3, hibernate-spatial 6, PostGIS:: java.lang.ClassNotFoundException: org.hibernate.dialect.PgJdbcHelper","body":"<p>I am trying to migrate my current spring boot 2 application to 3. I am using PostGIS (I have not set explicit dialect so it uses org.hibernate.dialect.PostgreSQLDialect) to use the geometry column type. While trying to start up the application after making the necessary changes, I am getting the below error:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/hibernate/dialect/PgJdbcHelper\n    at org.hibernate.spatial.dialect.postgis.PostgisDialectContributor.contributeJdbcTypes(PostgisDialectContributor.java:29) ~[hibernate-spatial-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.spatial.contributor.SpatialTypeContributor.contribute(SpatialTypeContributor.java:22) ~[hibernate-spatial-6.2.2.Final.jar:6.2.2.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 103 common frames omitted\n</code></pre>\n<p>below is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.18.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;1.17.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.vladmihalcea/hibernate-types-52 --&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.21.1&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-jakarta-xmlbind-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-pubsub&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-envers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.9&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>For now, as you can see in pom, I have commented out <strong>hibernate-types-52</strong> dependency due to an issue I'm facing in <a href=\"https://stackoverflow.com/questions/76180848/springboot-3-postgis-com-vladmihalcea-hibernate-type-basic-nullablecharactert\">This</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683601101,"post_id":76204791,"comment_id":134387891,"body_markdown":"Use something like `items` , see this https://golangnow.com/posts/convert-tradition-kubernetes-yaml-to-list/ (my blog), let&#39;s share with me result. Other direction: need `@PropertySource(value = &quot;classpath:foo.yml&quot;, factory = YamlPropertySourceFactory.class)` see https://www.baeldung.com/spring-yaml-propertysource#propertysource-and-yaml-in-action","body":"Use something like <code>items</code> , see this <a href=\"https://golangnow.com/posts/convert-tradition-kubernetes-yaml-to-list/\" rel=\"nofollow noreferrer\">golangnow.com/posts/convert-tradition-kubernetes-yaml-to-lis&zwnj;&#8203;t</a> (my blog), let&#39;s share with me result. Other direction: need <code>@PropertySource(value = &quot;classpath:foo.yml&quot;, factory = YamlPropertySourceFactory.class)</code> see <a href=\"https://www.baeldung.com/spring-yaml-propertysource#propertysource-and-yaml-in-action\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":3359616,"reputation":31,"user_id":2821711,"display_name":"Felipe"},"score":0,"creation_date":1684434343,"post_id":76204791,"comment_id":134520765,"body_markdown":"Thanks. This approach works fine, but I need that those properties being loaded automatically, without specifying the files in @PropertySource.","body":"Thanks. This approach works fine, but I need that those properties being loaded automatically, without specifying the files in @PropertySource."}],"owner":{"account_id":3359616,"reputation":31,"user_id":2821711,"display_name":"Felipe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687513672,"creation_date":1683585358,"question_id":76204791,"body_markdown":"In a spring boot 3 application, I want to define within the application.yml a properties list. Each element of this list should be imported from another yml file. After trying different possibilities, I haven&#39;t been unable to achieve this goal\r\n\r\nThis is my approach:\r\n\r\n**provider1.yml**\r\n```yml\r\nprovider1:\r\n  name: MyProvider\r\n  priority: 2\r\n```\r\n\r\n**application.yml**\r\n\r\n```yml\r\nspring:\r\n  config:\r\n    import:\r\n      - classpath:providers/provider1.yml\r\n      - classpath:providers/provider2.yml\r\n\r\nproviders:\r\n  list:\r\n    - ${provider1}\r\n    - ${provider2}\r\n```\r\n\r\n**ProviderProperties.java**\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;providers&quot;)\r\n@EnableConfigurationProperties\r\n@Data\r\npublic class ProviderProperties {\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public static class ProviderConfig {\r\n        private Map&lt;Integer, List&lt;String&gt;&gt; discriminator;\r\n        private String token;\r\n        private String byField;\r\n        private List&lt;String&gt; serviceIds;\r\n        private int priority;\r\n        private String name;\r\n        private int prefixLength;\r\n    }\r\n    private List&lt;ProviderConfig&gt; list;\r\n}\r\n```\r\n\r\nWhen running the project I have the following error:\r\n\r\n```\r\nFailed to bind properties under &#39;providers.list[0]&#39; to my.package.ProviderProperties$ProviderConfig:\r\n\r\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [my.package.ProviderProperties$ProviderConfig]\r\n```\r\n\r\nBut if I have any of the following application.yml, th application runs OK:\r\n\r\n**application.yml (this works fine)**\r\n\r\n```yml\r\nspring:\r\n  config:\r\n    import:\r\n      - classpath:providers/agm.yml\r\n\r\nproviders:\r\n  list:\r\n    - name: ${provider1.name}\r\n      priority: ${provider1.priority}\r\n    - name: ${provider2.name}\r\n      priority: ${provider2.priority}\r\n\r\n```\r\n\r\nAny idea to make it work with the first approach??","title":"Importing properties from other Yaml in application.yaml","body":"<p>In a spring boot 3 application, I want to define within the application.yml a properties list. Each element of this list should be imported from another yml file. After trying different possibilities, I haven't been unable to achieve this goal</p>\n<p>This is my approach:</p>\n<p><strong>provider1.yml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>provider1:\n  name: MyProvider\n  priority: 2\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    import:\n      - classpath:providers/provider1.yml\n      - classpath:providers/provider2.yml\n\nproviders:\n  list:\n    - ${provider1}\n    - ${provider2}\n</code></pre>\n<p><strong>ProviderProperties.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;providers&quot;)\n@EnableConfigurationProperties\n@Data\npublic class ProviderProperties {\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Builder\n    public static class ProviderConfig {\n        private Map&lt;Integer, List&lt;String&gt;&gt; discriminator;\n        private String token;\n        private String byField;\n        private List&lt;String&gt; serviceIds;\n        private int priority;\n        private String name;\n        private int prefixLength;\n    }\n    private List&lt;ProviderConfig&gt; list;\n}\n</code></pre>\n<p>When running the project I have the following error:</p>\n<pre><code>Failed to bind properties under 'providers.list[0]' to my.package.ProviderProperties$ProviderConfig:\n\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [my.package.ProviderProperties$ProviderConfig]\n</code></pre>\n<p>But if I have any of the following application.yml, th application runs OK:</p>\n<p><strong>application.yml (this works fine)</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    import:\n      - classpath:providers/agm.yml\n\nproviders:\n  list:\n    - name: ${provider1.name}\n      priority: ${provider1.priority}\n    - name: ${provider2.name}\n      priority: ${provider2.priority}\n\n</code></pre>\n<p>Any idea to make it work with the first approach??</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684284841,"post_id":76235506,"comment_id":134494862,"body_markdown":"I&#39;m curious, why didn&#39;t the post below help or even answer your question?","body":"I&#39;m curious, why didn&#39;t the post below help or even answer your question?"},{"owner":{"account_id":11836900,"reputation":88,"user_id":8662003,"display_name":"MrLebovsky"},"score":0,"creation_date":1684297825,"post_id":76235506,"comment_id":134496021,"body_markdown":"sorry about wating, I&#39;m gonna add another answer","body":"sorry about wating, I&#39;m gonna add another answer"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684284618,"creation_date":1683910340,"answer_id":76238472,"question_id":76235506,"body_markdown":"You can follow [my tutorials][1], all are multi-tenant. All configured for &quot;static&quot; multi-tenancy, [but one][2] which demoes conf for &quot;dynamic&quot; tenants.\r\n\r\nSome are using just Spring Boot &quot;official&quot; starters and some are using thin wrappers around it. With the latest, you can configure a [resource server][3] to accept JWTs issued by as many realms as you want with almost 0 Java conf:\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;com.c4-soft.springaddons.version&gt;6.1.9&lt;/com.c4-soft.springaddons.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${com.c4-soft.springaddons.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```java\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic static class WebSecurityConfig {\r\n}\r\n```\r\n```yaml\r\nscheme: http\r\norigins: ${scheme}://localhost:4200,${scheme}://localhost:8080,${scheme}://localhost:8100\r\nauth-server: https://localhost:8443\r\n\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      security:\r\n        cors:\r\n        - path: /solutions/**\r\n          allowed-origins: ${origins}\r\n        issuers:\r\n        - location: ${auth-server}/realms/realm1\r\n          username-claim: $.preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        - location: ${auth-server}/realms/realm2\r\n          username-claim: $.preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        - location: ${auth-server}/realms/realm3\r\n          username-claim: $.preferred_username\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        permit-all:\r\n        - /actuator/health/readiness\r\n        - /actuator/health/liveness\r\n        - /v3/api-docs/**\r\n\r\nserver:\r\n  ssl:\r\n    enabled: false\r\n\r\n---\r\nscheme: https\r\n\r\nserver:\r\n  ssl:\r\n    enabled: true\r\n\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: ssl\r\n```\r\n\r\nIf the realms are generated at runtime (after the resource servers are started), but you don&#39;t want to use &quot;my&quot; starters, then you&#39;ll have to refer to [Spring Security reference documentation][4].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_multitenant_dynamic\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default\r\n  [4]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html#_dynamic_tenants","title":"Spring Boot 3 Keycloak Multi Tenant Configuration","body":"<p>You can follow <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>, all are multi-tenant. All configured for &quot;static&quot; multi-tenancy, <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_multitenant_dynamic\" rel=\"nofollow noreferrer\">but one</a> which demoes conf for &quot;dynamic&quot; tenants.</p>\n<p>Some are using just Spring Boot &quot;official&quot; starters and some are using thin wrappers around it. With the latest, you can configure a <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default\" rel=\"nofollow noreferrer\">resource server</a> to accept JWTs issued by as many realms as you want with almost 0 Java conf:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;com.c4-soft.springaddons.version&gt;6.1.9&lt;/com.c4-soft.springaddons.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n        &lt;version&gt;${com.c4-soft.springaddons.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic static class WebSecurityConfig {\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>scheme: http\norigins: ${scheme}://localhost:4200,${scheme}://localhost:8080,${scheme}://localhost:8100\nauth-server: https://localhost:8443\n\ncom:\n  c4-soft:\n    springaddons:\n      security:\n        cors:\n        - path: /solutions/**\n          allowed-origins: ${origins}\n        issuers:\n        - location: ${auth-server}/realms/realm1\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        - location: ${auth-server}/realms/realm2\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        - location: ${auth-server}/realms/realm3\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        permit-all:\n        - /actuator/health/readiness\n        - /actuator/health/liveness\n        - /v3/api-docs/**\n\nserver:\n  ssl:\n    enabled: false\n\n---\nscheme: https\n\nserver:\n  ssl:\n    enabled: true\n\nspring:\n  config:\n    activate:\n      on-profile: ssl\n</code></pre>\n<p>If the realms are generated at runtime (after the resource servers are started), but you don't want to use &quot;my&quot; starters, then you'll have to refer to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html#_dynamic_tenants\" rel=\"nofollow noreferrer\">Spring Security reference documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1684298465,"post_id":76268565,"comment_id":134496081,"body_markdown":"What is different from what is explained in the tutorials linked above (those with just boot &quot;offical&quot; starters like [this one](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server))? How much more simple is it compared to the solution detailed in tmy answer (using &quot;my&quot; starters)? Last, the link you provide is the one at the end of my answer...","body":"What is different from what is explained in the tutorials linked above (those with just boot &quot;offical&quot; starters like <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">this one</a>)? How much more simple is it compared to the solution detailed in tmy answer (using &quot;my&quot; starters)? Last, the link you provide is the one at the end of my answer..."},{"owner":{"account_id":11836900,"reputation":88,"user_id":8662003,"display_name":"MrLebovsky"},"score":0,"creation_date":1684399057,"post_id":76268565,"comment_id":134513169,"body_markdown":"Yep I didn&#39;t see your link bellow answer. Marked your answer as a solution.","body":"Yep I didn&#39;t see your link bellow answer. Marked your answer as a solution."}],"tags":[],"owner":{"account_id":11836900,"reputation":88,"user_id":8662003,"display_name":"MrLebovsky"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684297763,"creation_date":1684297763,"answer_id":76268565,"question_id":76235506,"body_markdown":"Finaly I found the way to build multy-tenancy using Spring Boot: \r\n\r\nhttps://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html","title":"Spring Boot 3 Keycloak Multi Tenant Configuration","body":"<p>Finaly I found the way to build multy-tenancy using Spring Boot:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html</a></p>\n"}],"owner":{"account_id":11836900,"reputation":88,"user_id":8662003,"display_name":"MrLebovsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76238472,"answer_count":2,"score":1,"last_activity_date":1687513646,"creation_date":1683888202,"question_id":76235506,"body_markdown":"I have a Spring Boot 3 microservice and a standalone keycloak which has multiple realms. Users can call endpoints and pass the &quot;Authorization&quot; header there, which contains the Bearer jwt token, which specifies one of the existing realms.\r\n\r\nHow is it possible to implement this behavior when the spring boot microservice accesses the required realm to authenticate the current request, determining the realm dynamically based on the request?\r\n\r\nPlease note that I am using Spring boot v3.0.6.\r\nPreviously worked based on the topic https://stackoverflow.com/questions/69721544/spring-boot-keycloak-multi-tenant-configuration but now we can&#39;t use previous approach as was said there https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\r\n\r\nI have only one idea&#39;s create few oauth2 providers for each realm and somehow implement the choice for target provider in runtime.\r\nThank you very much in advance!","title":"Spring Boot 3 Keycloak Multi Tenant Configuration","body":"<p>I have a Spring Boot 3 microservice and a standalone keycloak which has multiple realms. Users can call endpoints and pass the &quot;Authorization&quot; header there, which contains the Bearer jwt token, which specifies one of the existing realms.</p>\n<p>How is it possible to implement this behavior when the spring boot microservice accesses the required realm to authenticate the current request, determining the realm dynamically based on the request?</p>\n<p>Please note that I am using Spring boot v3.0.6.\nPreviously worked based on the topic <a href=\"https://stackoverflow.com/questions/69721544/spring-boot-keycloak-multi-tenant-configuration\">Spring Boot Keycloak Multi Tenant Configuration</a> but now we can't use previous approach as was said there <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n<p>I have only one idea's create few oauth2 providers for each realm and somehow implement the choice for target provider in runtime.\nThank you very much in advance!</p>\n"},{"tags":["java","spring-boot","maven","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683925831,"post_id":76239172,"comment_id":134446978,"body_markdown":"First based on the docs spring cloud 2022.0.2 requires Spring Boot version 3.0.5... https://docs.spring.io/spring-cloud/docs/current/reference/html/","body":"First based on the docs spring cloud 2022.0.2 requires Spring Boot version 3.0.5... <a href=\"https://docs.spring.io/spring-cloud/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud/docs/current/reference/html</a>"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1683937110,"post_id":76239172,"comment_id":134448163,"body_markdown":"Did you read the documentation explaining the [consequence of Spring&#39;s proxy implementation](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies) is a method invoking another method on the same object won&#39;t be intercepted?","body":"Did you read the documentation explaining the <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">consequence of Spring&#39;s proxy implementation</a> is a method invoking another method on the same object won&#39;t be intercepted?"}],"answers":[{"comments":[{"owner":{"account_id":28590465,"reputation":3,"user_id":21889825,"display_name":"Feh"},"score":0,"creation_date":1684180452,"post_id":76252738,"comment_id":134476918,"body_markdown":"I followed your suggestions and it worked here in my project, Thanks!","body":"I followed your suggestions and it worked here in my project, Thanks!"}],"tags":[],"owner":{"account_id":18984426,"reputation":418,"user_id":13855094,"display_name":"Krithick S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684143358,"creation_date":1684143358,"answer_id":76252738,"question_id":76239172,"body_markdown":"Spring AOP/Proxy is the reason for the fallback not being triggered. When annotated with `@CircuitBreaker` a proxy instance of the service class is created and used. The proxies work in such a way that calls from one bean/class to another bean/class are intercepted, and it cannot intercept calls from method to method **within the bean/class**.\r\n\r\nHence workaround would be to move the circuit breaker annotated method and fallback method to a different class.\r\n\r\nDownstream.java\r\n\r\n```\r\n    public UserModel returnUserDataFallback(Exception userExeception){  \r\n        System.out.println(&quot;Fallback&quot;);\r\n        return new UserModel( 1L, &quot;user&quot; ,&quot;one&quot;, &quot;111.111.111-23&quot; , &quot;2199999999&quot;, true, null, null);\r\n    }\r\n    \r\n    \r\n    @CircuitBreaker(name = PEDIDOAPI, fallbackMethod = &quot;returnUserDataFallback&quot;)\r\n    public UserModel getUser(Long idUsuario) {\r\n        UserModel user = null;\r\n        user =userFeignClient.getById(idUsuario).getBody(); \r\n\r\n        return user;\r\n    }\r\n```\r\n\r\nAlso the fallback method would be triggered for any kind of Exception since it accepts `Exception` as an argument. `CallNotPermittedException` can be used which indicates the Circuit Breaker is in OPEN State.","title":"Difficulty using Resilience4j","body":"<p>Spring AOP/Proxy is the reason for the fallback not being triggered. When annotated with <code>@CircuitBreaker</code> a proxy instance of the service class is created and used. The proxies work in such a way that calls from one bean/class to another bean/class are intercepted, and it cannot intercept calls from method to method <strong>within the bean/class</strong>.</p>\n<p>Hence workaround would be to move the circuit breaker annotated method and fallback method to a different class.</p>\n<p>Downstream.java</p>\n<pre><code>    public UserModel returnUserDataFallback(Exception userExeception){  \n        System.out.println(&quot;Fallback&quot;);\n        return new UserModel( 1L, &quot;user&quot; ,&quot;one&quot;, &quot;111.111.111-23&quot; , &quot;2199999999&quot;, true, null, null);\n    }\n    \n    \n    @CircuitBreaker(name = PEDIDOAPI, fallbackMethod = &quot;returnUserDataFallback&quot;)\n    public UserModel getUser(Long idUsuario) {\n        UserModel user = null;\n        user =userFeignClient.getById(idUsuario).getBody(); \n\n        return user;\n    }\n</code></pre>\n<p>Also the fallback method would be triggered for any kind of Exception since it accepts <code>Exception</code> as an argument. <code>CallNotPermittedException</code> can be used which indicates the Circuit Breaker is in OPEN State.</p>\n"}],"owner":{"account_id":28590465,"reputation":3,"user_id":21889825,"display_name":"Feh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76252738,"answer_count":1,"score":-1,"last_activity_date":1687513641,"creation_date":1683917427,"question_id":76239172,"body_markdown":"I&#39;m trying to use resilience4j with springboot 3 in my application. but it doesn&#39;t arrive in the fallback method, can someone tell me what&#39;s wrong?\r\n\r\n\r\nI tried to follow the official documentation, and I had no success,\r\n\r\n\r\nBased on the code snippets, can anyone identify what is going wrong with the following code?\r\n\r\n\r\nApplication.properties\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include: &#39;\\*&#39;\r\nmanagement.endpoint.health.show-details: always\r\n\r\nmanagement.health.diskspace.enabled: false\r\nmanagement.health.circuitbreakers.enabled: true\r\nmanagement.health.ratelimiters.enabled: false\r\n\r\ninfo:\r\nname: ${spring.application.name}\r\ndescription: ecommerce pedidoapi\r\nenvironment: ${spring.profiles.active}\r\nversion: 0.0.1\r\n\r\nmanagement.metrics.tags.application: ${spring.application.name}\r\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\r\nmanagement.metrics.distribution.percentiles-histogram.resilience4j.circuitbreaker.calls: true\r\n\r\nresilience4j.circuitbreaker:\r\ninstances:\r\npedidoapi:\r\nregisterHealthIndicator: true\r\nslidingWindowSize: 10\r\nminimumNumberOfCalls: 5\r\npermittedNumberOfCallsInHalfOpenState: 3\r\nautomaticTransitionFromOpenToHalfOpenEnabled: true\r\nwaitDurationInOpenState: 5s\r\nfailureRateThreshold: 50\r\neventConsumerBufferSize: 10\r\n```\r\n\r\nService.java\r\n\r\n\r\n```\r\npublic static final String PEDIDOAPI = &quot;pedidoapi&quot;;\r\n\r\n\tpublic UserModel returnUserDataFallback(Exception userExeception){\t\r\n\t\tSystem.out.println(&quot;Fallback&quot;);\r\n\t\treturn new UserModel( 1L, &quot;user&quot; ,&quot;one&quot;, &quot;111.111.111-23&quot; , &quot;2199999999&quot;, true, null, null);\r\n\t}\r\n\t\r\n\t\r\n\t@CircuitBreaker(name = PEDIDOAPI, fallbackMethod = &quot;returnUserDataFallback&quot;)\r\n\tpublic UserModel getUser(Long idUsuario) {\r\n\t\tUserModel user = null;\r\n\t\tuser =userFeignClient.getById(idUsuario).getBody();\t\r\n\r\n\t\treturn user;\r\n\t}\r\n\r\n\r\npublic Optional&lt;PedidoModel&gt; registerPedido(@Valid PedidoModel pedidoModel) throws Exception {\r\n\r\n\t\tUserModel user = getUser(pedidoModel.getIdUsuario());\r\n\t\t...\r\n\t\treturn Optional.of(pedido);\r\n\t}\r\n\r\n```\r\n\r\nController.java\r\n\r\n\r\n```\r\n@PostMapping(&quot;/register&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; registerPedido(@Valid @RequestBody PedidoModel pedidoModel) throws Exception {\r\n\r\n\t\treturn pedidoService.registerPedido(pedidoModel)\r\n\t\t\t\t.map(res -&gt; ResponseEntity.status(HttpStatus.CREATED).body(&quot;Pedido criado com sucesso&quot;))\r\n\t\t\t\t.orElse(ResponseEntity.status(HttpStatus.BAD_REQUEST).build());\r\n\r\n\t}\r\n```\r\n\r\n\r\nPom.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.blue&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pedidoapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;pedidoapi&lt;/name&gt;\r\n\t&lt;description&gt;Api do pedido&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;            \r\n        &lt;/dependency&gt;\r\n      \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-resilience4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;resilience4j-spring-boot3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t\t\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;vavr-jackson&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;0.10.3&lt;/version&gt; \r\n\t\t&lt;/dependency&gt;\t--&gt;\t\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;netflix-candidates&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Netflix Candidates&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://artifactory-oss.prod.netflix.net/artifactory/maven-oss-candidates&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Difficulty using Resilience4j","body":"<p>I'm trying to use resilience4j with springboot 3 in my application. but it doesn't arrive in the fallback method, can someone tell me what's wrong?</p>\n<p>I tried to follow the official documentation, and I had no success,</p>\n<p>Based on the code snippets, can anyone identify what is going wrong with the following code?</p>\n<p>Application.properties</p>\n<pre><code>management.endpoints.web.exposure.include: '\\*'\nmanagement.endpoint.health.show-details: always\n\nmanagement.health.diskspace.enabled: false\nmanagement.health.circuitbreakers.enabled: true\nmanagement.health.ratelimiters.enabled: false\n\ninfo:\nname: ${spring.application.name}\ndescription: ecommerce pedidoapi\nenvironment: ${spring.profiles.active}\nversion: 0.0.1\n\nmanagement.metrics.tags.application: ${spring.application.name}\nmanagement.metrics.distribution.percentiles-histogram.http.server.requests: true\nmanagement.metrics.distribution.percentiles-histogram.resilience4j.circuitbreaker.calls: true\n\nresilience4j.circuitbreaker:\ninstances:\npedidoapi:\nregisterHealthIndicator: true\nslidingWindowSize: 10\nminimumNumberOfCalls: 5\npermittedNumberOfCallsInHalfOpenState: 3\nautomaticTransitionFromOpenToHalfOpenEnabled: true\nwaitDurationInOpenState: 5s\nfailureRateThreshold: 50\neventConsumerBufferSize: 10\n</code></pre>\n<p>Service.java</p>\n<pre><code>public static final String PEDIDOAPI = &quot;pedidoapi&quot;;\n\n    public UserModel returnUserDataFallback(Exception userExeception){  \n        System.out.println(&quot;Fallback&quot;);\n        return new UserModel( 1L, &quot;user&quot; ,&quot;one&quot;, &quot;111.111.111-23&quot; , &quot;2199999999&quot;, true, null, null);\n    }\n    \n    \n    @CircuitBreaker(name = PEDIDOAPI, fallbackMethod = &quot;returnUserDataFallback&quot;)\n    public UserModel getUser(Long idUsuario) {\n        UserModel user = null;\n        user =userFeignClient.getById(idUsuario).getBody(); \n\n        return user;\n    }\n\n\npublic Optional&lt;PedidoModel&gt; registerPedido(@Valid PedidoModel pedidoModel) throws Exception {\n\n        UserModel user = getUser(pedidoModel.getIdUsuario());\n        ...\n        return Optional.of(pedido);\n    }\n\n</code></pre>\n<p>Controller.java</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;String&gt; registerPedido(@Valid @RequestBody PedidoModel pedidoModel) throws Exception {\n\n        return pedidoService.registerPedido(pedidoModel)\n                .map(res -&gt; ResponseEntity.status(HttpStatus.CREATED).body(&quot;Pedido criado com sucesso&quot;))\n                .orElse(ResponseEntity.status(HttpStatus.BAD_REQUEST).build());\n\n    }\n</code></pre>\n<p>Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.blue&lt;/groupId&gt;\n    &lt;artifactId&gt;pedidoapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;pedidoapi&lt;/name&gt;\n    &lt;description&gt;Api do pedido&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;            \n        &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-resilience4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n          &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n        &lt;/dependency&gt;   \n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n          &lt;artifactId&gt;resilience4j-spring-boot3&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;   \n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;   \n            \n        &lt;!--&lt;dependency&gt;\n          &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n          &lt;artifactId&gt;vavr-jackson&lt;/artifactId&gt;\n          &lt;version&gt;0.10.3&lt;/version&gt; \n        &lt;/dependency&gt;   --&gt; \n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;netflix-candidates&lt;/id&gt;\n            &lt;name&gt;Netflix Candidates&lt;/name&gt;\n            &lt;url&gt;https://artifactory-oss.prod.netflix.net/artifactory/maven-oss-candidates&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","postgresql","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":24582990,"reputation":141,"user_id":18487831,"display_name":"itsMont"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1653192833,"creation_date":1653192758,"answer_id":72334752,"question_id":71545170,"body_markdown":"I hope it&#39;s not too late.\r\nI fixed this in my project just assigning a password to the database user, in my case &#39;postgres&#39;.\r\n\r\n    ALTER USER &quot;postgres&quot; WITH PASSWORD &#39;password&#39;;\r\nAnd in your application.properties file you must have something like (I&#39;m using postgreSQL):\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/db_name\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\nP. D: I&#39;m new in Stack Overflow. I hope I could have helped.","title":"The server requested SCRAM-based authentication, but no password was provided","body":"<p>I hope it's not too late.\nI fixed this in my project just assigning a password to the database user, in my case 'postgres'.</p>\n<pre><code>ALTER USER &quot;postgres&quot; WITH PASSWORD 'password';\n</code></pre>\n<p>And in your application.properties file you must have something like (I'm using postgreSQL):</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/db_name\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>P. D: I'm new in Stack Overflow. I hope I could have helped.</p>\n"},{"tags":[],"owner":{"account_id":26099501,"reputation":21,"user_id":19795154,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681733396,"creation_date":1681733396,"answer_id":76035022,"question_id":71545170,"body_markdown":"spring.datasource.password = ***your_password***\r\n\r\nYou just have to check if that line of code is active in your application.properties or not commented out. Then you are good to run the project again.\r\n\r\n","title":"The server requested SCRAM-based authentication, but no password was provided","body":"<p>spring.datasource.password = <em><strong>your_password</strong></em></p>\n<p>You just have to check if that line of code is active in your application.properties or not commented out. Then you are good to run the project again.</p>\n"},{"tags":[],"owner":{"account_id":6974219,"reputation":101,"user_id":5349470,"accept_rate":75,"display_name":"Sospeter Mong&#39;are"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687513545,"creation_date":1687513545,"answer_id":76538903,"question_id":71545170,"body_markdown":"I fixed this in my project by just assigning a password to the database user, in my case &#39;postgres&#39;","title":"The server requested SCRAM-based authentication, but no password was provided","body":"<p>I fixed this in my project by just assigning a password to the database user, in my case 'postgres'</p>\n"}],"owner":{"account_id":23638046,"reputation":71,"user_id":17668762,"display_name":"IDragunov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29033,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1687513545,"creation_date":1647764654,"question_id":71545170,"body_markdown":"I has been writing java web-app using the servlets+jsp, JDBC, and tomcat how a servlet container. When I connect to the database and trying to get some data, i given a current exception : [enter image description here][1]\r\n\r\n\r\nProject structure : [enter image description here][2]\r\n\r\nDataSource code : \r\n\r\n    public class LibraryDataSource {\r\n        private static final Logger LOGGER = Logger.getLogger(LibraryDataSource.class);\r\n    \r\n        private LibraryDataSource() {}\r\n    \r\n        public static DataSource getLibraryDataSource() {\r\n            PGSimpleDataSource libraryDatasource = new PGSimpleDataSource();\r\n    \r\n            try(FileReader propertiesReader =\r\n                        new FileReader(&quot;src/main/resources/application.properties&quot;)) {\r\n    \r\n                Properties databaseProperties = new Properties();\r\n                databaseProperties.load(propertiesReader);\r\n                libraryDatasource.setURL(databaseProperties.getProperty(&quot;postgresUrl&quot;));\r\n                libraryDatasource.setUser(databaseProperties.getProperty(&quot;postgresUser&quot;));\r\n                libraryDatasource.setPassword(databaseProperties.getProperty(&quot;postgresPassword&quot;));\r\n            } catch (FileNotFoundException e) {\r\n                LOGGER.info(&quot;LibraryDataSource::getLibraryDataSource : &quot;, e);\r\n            } catch (IOException e) {\r\n                LOGGER.info(&quot;LibraryDataSource::getLibraryDataSource : &quot;, e);\r\n            }\r\n    \r\n            return libraryDatasource;\r\n        }\r\n    }\r\n\r\n\r\nBookDAO method where the error detected : \r\n\r\n    @Override\r\n        public List&lt;Book&gt; getAll() {\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n            try(Connection connection = dataSource.getConnection()) {\r\n                Statement getAllStatement = connection.createStatement();\r\n                ResultSet resultSet = getAllStatement.executeQuery(&quot;SELECT * FROM Book&quot;);\r\n    \r\n                while (resultSet.next()) {\r\n                    Book book = new Book();\r\n                    book.setId(resultSet.getLong(1));\r\n                    book.setTitle(resultSet.getString(2));\r\n                    book.setYear(resultSet.getInt(3));\r\n                    book.setQuantity(resultSet.getInt(4));\r\n                    book.setAuthors(resultSet.getString(5));\r\n    \r\n                    books.add(book);\r\n                }\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n    \r\n            }\r\n            return books;\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/cHMPn.png\r\n  [2]: https://i.stack.imgur.com/YyMVA.png\r\n ","title":"The server requested SCRAM-based authentication, but no password was provided","body":"<p>I has been writing java web-app using the servlets+jsp, JDBC, and tomcat how a servlet container. When I connect to the database and trying to get some data, i given a current exception : <a href=\"https://i.stack.imgur.com/cHMPn.png\" rel=\"noreferrer\">enter image description here</a></p>\n<p>Project structure : <a href=\"https://i.stack.imgur.com/YyMVA.png\" rel=\"noreferrer\">enter image description here</a></p>\n<p>DataSource code :</p>\n<pre><code>public class LibraryDataSource {\n    private static final Logger LOGGER = Logger.getLogger(LibraryDataSource.class);\n\n    private LibraryDataSource() {}\n\n    public static DataSource getLibraryDataSource() {\n        PGSimpleDataSource libraryDatasource = new PGSimpleDataSource();\n\n        try(FileReader propertiesReader =\n                    new FileReader(&quot;src/main/resources/application.properties&quot;)) {\n\n            Properties databaseProperties = new Properties();\n            databaseProperties.load(propertiesReader);\n            libraryDatasource.setURL(databaseProperties.getProperty(&quot;postgresUrl&quot;));\n            libraryDatasource.setUser(databaseProperties.getProperty(&quot;postgresUser&quot;));\n            libraryDatasource.setPassword(databaseProperties.getProperty(&quot;postgresPassword&quot;));\n        } catch (FileNotFoundException e) {\n            LOGGER.info(&quot;LibraryDataSource::getLibraryDataSource : &quot;, e);\n        } catch (IOException e) {\n            LOGGER.info(&quot;LibraryDataSource::getLibraryDataSource : &quot;, e);\n        }\n\n        return libraryDatasource;\n    }\n}\n</code></pre>\n<p>BookDAO method where the error detected :</p>\n<pre><code>@Override\n    public List&lt;Book&gt; getAll() {\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        try(Connection connection = dataSource.getConnection()) {\n            Statement getAllStatement = connection.createStatement();\n            ResultSet resultSet = getAllStatement.executeQuery(&quot;SELECT * FROM Book&quot;);\n\n            while (resultSet.next()) {\n                Book book = new Book();\n                book.setId(resultSet.getLong(1));\n                book.setTitle(resultSet.getString(2));\n                book.setYear(resultSet.getInt(3));\n                book.setQuantity(resultSet.getInt(4));\n                book.setAuthors(resultSet.getString(5));\n\n                books.add(book);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n\n        }\n        return books;\n    }\n</code></pre>\n"},{"tags":["java","generics","design-patterns"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687506763,"post_id":76538071,"comment_id":134949333,"body_markdown":"What do you mean by &quot;best way&quot;? What criterion are you using to judge which way is the *best*?","body":"What do you mean by &quot;best way&quot;? What criterion are you using to judge which way is the <i>best</i>?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687506886,"post_id":76538071,"comment_id":134949351,"body_markdown":"Why are you making it strongly typed if all the items have the same fields anyway? What advantage are you getting here?","body":"Why are you making it strongly typed if all the items have the same fields anyway? What advantage are you getting here?"},{"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"score":0,"creation_date":1687507088,"post_id":76538071,"comment_id":134949404,"body_markdown":"@Sweeper Type safety. So that I don&#39;t assign oranges to vegetables.","body":"@Sweeper Type safety. So that I don&#39;t assign oranges to vegetables."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1687508254,"post_id":76538071,"comment_id":134949629,"body_markdown":"What is wrong with `getStronglyTyped(Berry.class)` ??? That is exactly what eg. Jackson does.","body":"What is wrong with <code>getStronglyTyped(Berry.class)</code> ??? That is exactly what eg. Jackson does."},{"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"score":0,"creation_date":1687508553,"post_id":76538071,"comment_id":134949695,"body_markdown":"The question is how to implement this getStronglyTyped method.","body":"The question is how to implement this getStronglyTyped method."}],"answers":[{"comments":[{"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"score":0,"creation_date":1687508104,"post_id":76538155,"comment_id":134949605,"body_markdown":"This won&#39;t compile, you can&#39;t return different types from a method.\nIf we make `Vegetable` and `Berry` extend some common abstract class like `Item` then this method will have to return generic List&lt;Item&gt; and we are back to square one.","body":"This won&#39;t compile, you can&#39;t return different types from a method. If we make <code>Vegetable</code> and <code>Berry</code> extend some common abstract class like <code>Item</code> then this method will have to return generic List&lt;Item&gt; and we are back to square one."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687509075,"post_id":76538155,"comment_id":134949796,"body_markdown":"Like I said, it&#39;s pseudo code. Once the list is created, you can filter on type, and that&#39;s really all you need.","body":"Like I said, it&#39;s pseudo code. Once the list is created, you can filter on type, and that&#39;s really all you need."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687507391,"creation_date":1687507391,"answer_id":76538155,"question_id":76538071,"body_markdown":"You&#39;ll have to make that mapping somehow. The logical place is when mapping your `Item` instances to `Fruit` instances:\r\n\r\n(pseudo code, but you should get the idea)\r\n```\r\nitems.stream()\r\n  .map { it -&gt; switch(it.type) {\r\n    case &quot;vegetables&quot; -&gt; new Vegetable(it.name)\r\n    case &quot;berries&quot; -&gt; new Berry(it.name)\r\n    // etc \r\n    default: /* TBD */\r\n  }\r\n  .collect(Collectors.toList())\r\n```","title":"Wrap a loosely typed interface and make it strongly typed","body":"<p>You'll have to make that mapping somehow. The logical place is when mapping your <code>Item</code> instances to <code>Fruit</code> instances:</p>\n<p>(pseudo code, but you should get the idea)</p>\n<pre><code>items.stream()\n  .map { it -&gt; switch(it.type) {\n    case &quot;vegetables&quot; -&gt; new Vegetable(it.name)\n    case &quot;berries&quot; -&gt; new Berry(it.name)\n    // etc \n    default: /* TBD */\n  }\n  .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687510641,"creation_date":1687510641,"answer_id":76538546,"question_id":76538071,"body_markdown":"A simple idea is to put everything in `Map`s, including the type name used for the original API, and how to create the strongly-typed items.\r\n\r\nYou&#39;d have two maps:\r\n\r\n    private static final Map&lt;Class&lt;?&gt;, String&gt; typeNames = Map.of(\r\n            Vegetable.class, &quot;vegetables&quot;,\r\n            Berry.class, &quot;berries&quot;,\r\n            Shape.class, &quot;shapes&quot;\r\n    );\r\n\r\n    private static final Map&lt;Class&lt;?&gt;, Function&lt;String, ?&gt;&gt; constructors = Map.of(\r\n            // assuming constructors that take the item&#39;s name exist\r\n            Vegetable.class, Vegetable::new,\r\n            Berry.class, Berry::new,\r\n            Shape.class, Shape::new\r\n    );\r\n\r\nYou can also combine the type name and the `Function&lt;String, ?&gt;` into a class - then you&#39;d only need one map:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Getter\r\nclass ItemInfo {\r\n    private final String typeName;\r\n    private final Function&lt;String, ?&gt; factory;\r\n}\r\n\r\nprivate static final Map&lt;Class&lt;?&gt;, ItemInfo&gt; knownItemTypes = ...\r\n```\r\n\r\nAnd then use the `Class&lt;T&gt;` parameter that `getStronglyTyped` takes to access the maps:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; List&lt;T&gt; getStronglyTyped(Class&lt;T&gt; type, ItemFinder finder) {\r\n        var typeName = typeNames.get(type);\r\n        if (typeName == null) {\r\n            throw new RuntimeException(&quot;Unknown type!&quot;);\r\n        }\r\n        return (List&lt;T&gt;)finder.getItemsByType(typeName).stream().map(\r\n                x -&gt; constructors.get(type).apply(x.getName())\r\n        ).toList();\r\n    }\r\n\r\nYou can also create a (sealed) interface that `Vegetable`, `Fruit` and `Shape` implement, and constrain `T` to that, for extra safety.","title":"Wrap a loosely typed interface and make it strongly typed","body":"<p>A simple idea is to put everything in <code>Map</code>s, including the type name used for the original API, and how to create the strongly-typed items.</p>\n<p>You'd have two maps:</p>\n<pre><code>private static final Map&lt;Class&lt;?&gt;, String&gt; typeNames = Map.of(\n        Vegetable.class, &quot;vegetables&quot;,\n        Berry.class, &quot;berries&quot;,\n        Shape.class, &quot;shapes&quot;\n);\n\nprivate static final Map&lt;Class&lt;?&gt;, Function&lt;String, ?&gt;&gt; constructors = Map.of(\n        // assuming constructors that take the item's name exist\n        Vegetable.class, Vegetable::new,\n        Berry.class, Berry::new,\n        Shape.class, Shape::new\n);\n</code></pre>\n<p>You can also combine the type name and the <code>Function&lt;String, ?&gt;</code> into a class - then you'd only need one map:</p>\n<pre><code>@AllArgsConstructor\n@Getter\nclass ItemInfo {\n    private final String typeName;\n    private final Function&lt;String, ?&gt; factory;\n}\n\nprivate static final Map&lt;Class&lt;?&gt;, ItemInfo&gt; knownItemTypes = ...\n</code></pre>\n<p>And then use the <code>Class&lt;T&gt;</code> parameter that <code>getStronglyTyped</code> takes to access the maps:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; List&lt;T&gt; getStronglyTyped(Class&lt;T&gt; type, ItemFinder finder) {\n    var typeName = typeNames.get(type);\n    if (typeName == null) {\n        throw new RuntimeException(&quot;Unknown type!&quot;);\n    }\n    return (List&lt;T&gt;)finder.getItemsByType(typeName).stream().map(\n            x -&gt; constructors.get(type).apply(x.getName())\n    ).toList();\n}\n</code></pre>\n<p>You can also create a (sealed) interface that <code>Vegetable</code>, <code>Fruit</code> and <code>Shape</code> implement, and constrain <code>T</code> to that, for extra safety.</p>\n"},{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687513474,"creation_date":1687513474,"answer_id":76538896,"question_id":76538071,"body_markdown":"Item class \r\n\r\n       abstract class Item {\r\n            private final String name;\r\n            public Item(String name) {\r\n                this.name = name;\r\n            }\r\n            public String getName() {\r\n                return name;\r\n            }\r\n            @Override\r\n            public String toString() {\r\n                return getClass().getSimpleName() + &quot;{name:&#180;&quot; + name + &quot;&#180;}&quot;;\r\n            }\r\n        }\r\n\r\nBerry class\r\n\r\n    public class Berry extends Item {\r\n        public Berry(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\nShape class\r\n\r\n    public class Shape extends Item {\r\n        public Shape(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\nVegetable class\r\n\r\n    public class Vegetable extends Item{\r\n        public Vegetable(String name) {\r\n            super(name);\r\n        }\r\n    }\r\n\r\nMain\r\n\r\n    public class Main {\r\n        private static final List&lt;Item&gt; items = new ArrayList&lt;&gt;(Arrays.asList(\r\n                new Vegetable(&quot;Lettuce&quot;),\r\n                new Vegetable(&quot;Tomato&quot;),\r\n                new Berry(&quot;Strawberry&quot;),\r\n                new Berry(&quot;Cranberry&quot;),\r\n                new Shape(&quot;Square&quot;),\r\n                new Shape(&quot;Triangle&quot;)\r\n        ));\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Shape&gt; shapes = getItemsByType(Shape.class);\r\n            System.out.println(shapes);\r\n            List&lt;Berry&gt; berries = getItemsByType(Berry.class);\r\n            System.out.println(berries);\r\n            List&lt;Vegetable&gt; vegetables = getItemsByType(Vegetable.class);\r\n            System.out.println(vegetables);\r\n        }\r\n    \r\n    \r\n        public static &lt;T extends Item&gt; List&lt;T&gt; getItemsByType(Class&lt;T&gt; tClass) {\r\n            return items.stream()\r\n                    .filter(item -&gt; item.getClass().getSimpleName().equals(tClass.getSimpleName()))\r\n                    .map(tClass::cast)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n`[Shape{name:&#180;Square&#180;}, Shape{name:&#180;Triangle&#180;}]`                 \r\n`[Berry{name:&#180;Strawberry&#180;}, Berry{name:&#180;Cranberry&#180;}]`   \r\n`[Vegetable{name:&#180;Lettuce&#180;}, Vegetable{name:&#180;Tomato&#180;}]`","title":"Wrap a loosely typed interface and make it strongly typed","body":"<p>Item class</p>\n<pre><code>   abstract class Item {\n        private final String name;\n        public Item(String name) {\n            this.name = name;\n        }\n        public String getName() {\n            return name;\n        }\n        @Override\n        public String toString() {\n            return getClass().getSimpleName() + &quot;{name:&quot; + name + &quot;}&quot;;\n        }\n    }\n</code></pre>\n<p>Berry class</p>\n<pre><code>public class Berry extends Item {\n    public Berry(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>Shape class</p>\n<pre><code>public class Shape extends Item {\n    public Shape(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>Vegetable class</p>\n<pre><code>public class Vegetable extends Item{\n    public Vegetable(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>Main</p>\n<pre><code>public class Main {\n    private static final List&lt;Item&gt; items = new ArrayList&lt;&gt;(Arrays.asList(\n            new Vegetable(&quot;Lettuce&quot;),\n            new Vegetable(&quot;Tomato&quot;),\n            new Berry(&quot;Strawberry&quot;),\n            new Berry(&quot;Cranberry&quot;),\n            new Shape(&quot;Square&quot;),\n            new Shape(&quot;Triangle&quot;)\n    ));\n\n    public static void main(String[] args) {\n        List&lt;Shape&gt; shapes = getItemsByType(Shape.class);\n        System.out.println(shapes);\n        List&lt;Berry&gt; berries = getItemsByType(Berry.class);\n        System.out.println(berries);\n        List&lt;Vegetable&gt; vegetables = getItemsByType(Vegetable.class);\n        System.out.println(vegetables);\n    }\n\n\n    public static &lt;T extends Item&gt; List&lt;T&gt; getItemsByType(Class&lt;T&gt; tClass) {\n        return items.stream()\n                .filter(item -&gt; item.getClass().getSimpleName().equals(tClass.getSimpleName()))\n                .map(tClass::cast)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Output</p>\n<p><code>[Shape{name:Square}, Shape{name:Triangle}]</code><br />\n<code>[Berry{name:Strawberry}, Berry{name:Cranberry}]</code><br />\n<code>[Vegetable{name:Lettuce}, Vegetable{name:Tomato}]</code></p>\n"}],"owner":{"account_id":424999,"reputation":3758,"user_id":805325,"display_name":"Ilya Kharlamov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1687513474,"creation_date":1687506623,"question_id":76538071,"body_markdown":"There is an external API that I have to use with the following signature:\r\n    \r\n\r\n    class Item {\r\n        String type;\r\n        String name;\r\n        ///...setters, getters\r\n    }\r\n    \r\n    interface ItemFinder {\r\n         List&lt;Item&gt; getItemsByType(String type);\r\n    }\r\n\r\nIn my application, \r\n\r\nIf I call `getItemsByType(&quot;vegetables&quot;)`, then I receive `List(Item(type=&quot;vegetables&quot;, name=&quot;Lettuce&quot;), Item(type=&quot;vegetables&quot;, name=&quot;Tomato&quot;))`\r\n\r\nIf I call `getItemsByType(&quot;berries&quot;)`, then I receive `List(Item(type=&quot;berries&quot;, name=&quot;Strawberry&quot;), Item(type=&quot;berries&quot;, name=&quot;Cranberry&quot;))`\r\n\r\nIf I call `getItemsByType(&quot;shapes&quot;)`, then I receive `List(Item(type=&quot;shapes&quot;, name=&quot;Square&quot;), Item(type=&quot;shapes&quot;, name=&quot;Triangle&quot;))`\r\netc... and there are dozens of types like this.\r\n\r\nI want to avoid common type errors, I.e. avoid assigning berries to vegetables.\r\n\r\nWhat is the best way to wrap this loosely typed interface, to make it more strongly typed? I.e. what is the best way to implement something like the following:\r\n\r\n    class Vegetable /* maybe extends something ? */ {\r\n        String name;\r\n    }\r\n    class Berry /* maybe extends something ? */ {\r\n        String name;\r\n    }\r\n    class Shape /* maybe extends something ? */ {\r\n        String name;\r\n    }\r\n    ...\r\n    List&lt;Berry&gt; berries = getStronglyTyped(Berry.class); // maybe some factory here instead of a class ?\r\n\r\nThe question is how to implement `getStronglyTyped()` method efficiently, with clean code, avoiding hacks etc.","title":"Wrap a loosely typed interface and make it strongly typed","body":"<p>There is an external API that I have to use with the following signature:</p>\n<pre><code>class Item {\n    String type;\n    String name;\n    ///...setters, getters\n}\n\ninterface ItemFinder {\n     List&lt;Item&gt; getItemsByType(String type);\n}\n</code></pre>\n<p>In my application,</p>\n<p>If I call <code>getItemsByType(&quot;vegetables&quot;)</code>, then I receive <code>List(Item(type=&quot;vegetables&quot;, name=&quot;Lettuce&quot;), Item(type=&quot;vegetables&quot;, name=&quot;Tomato&quot;))</code></p>\n<p>If I call <code>getItemsByType(&quot;berries&quot;)</code>, then I receive <code>List(Item(type=&quot;berries&quot;, name=&quot;Strawberry&quot;), Item(type=&quot;berries&quot;, name=&quot;Cranberry&quot;))</code></p>\n<p>If I call <code>getItemsByType(&quot;shapes&quot;)</code>, then I receive <code>List(Item(type=&quot;shapes&quot;, name=&quot;Square&quot;), Item(type=&quot;shapes&quot;, name=&quot;Triangle&quot;))</code>\netc... and there are dozens of types like this.</p>\n<p>I want to avoid common type errors, I.e. avoid assigning berries to vegetables.</p>\n<p>What is the best way to wrap this loosely typed interface, to make it more strongly typed? I.e. what is the best way to implement something like the following:</p>\n<pre><code>class Vegetable /* maybe extends something ? */ {\n    String name;\n}\nclass Berry /* maybe extends something ? */ {\n    String name;\n}\nclass Shape /* maybe extends something ? */ {\n    String name;\n}\n...\nList&lt;Berry&gt; berries = getStronglyTyped(Berry.class); // maybe some factory here instead of a class ?\n</code></pre>\n<p>The question is how to implement <code>getStronglyTyped()</code> method efficiently, with clean code, avoiding hacks etc.</p>\n"},{"tags":["java","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1686736998,"post_id":76472237,"comment_id":134839155,"body_markdown":"You can&#39;t, at least using the open-api generator from Spring, you should find a external library for that generation purpose, I could recommend you https://github.com/sngular/scs-multiapi-plugin, I am not sure if they support inmutable models, but I am sure they could add it.","body":"You can&#39;t, at least using the open-api generator from Spring, you should find a external library for that generation purpose, I could recommend you <a href=\"https://github.com/sngular/scs-multiapi-plugin\" rel=\"nofollow noreferrer\">github.com/sngular/scs-multiapi-plugin</a>, I am not sure if they support inmutable models, but I am sure they could add it."},{"owner":{"account_id":438978,"reputation":7398,"user_id":827593,"accept_rate":50,"display_name":"JP Moresmau"},"score":1,"creation_date":1698933234,"post_id":76472237,"comment_id":136469127,"body_markdown":"It&#39;s not possible, an issue has been opened a couple of years ago to track down the issue: https://github.com/OpenAPITools/openapi-generator/issues/10490","body":"It&#39;s not possible, an issue has been opened a couple of years ago to track down the issue: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10490\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/10490</a>"}],"owner":{"account_id":12184264,"reputation":155,"user_id":8894715,"display_name":"Philip Kalela"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1687513369,"creation_date":1686736255,"question_id":76472237,"body_markdown":"Can I generate immutable models with open api generator without changing the mustache templates? My first thought was that the generator could be configured to generate Java records but I can&#39;t find any information on how to do this. I&#39;ve also included the @Value lombok annotation in the generator config but setters are still generated due to the caveat that I have to modify the mustache templates to omit setters which is not currently an option.","title":"Java records in open-api generator","body":"<p>Can I generate immutable models with open api generator without changing the mustache templates? My first thought was that the generator could be configured to generate Java records but I can't find any information on how to do this. I've also included the @Value lombok annotation in the generator config but setters are still generated due to the caveat that I have to modify the mustache templates to omit setters which is not currently an option.</p>\n"},{"tags":["java","spring","spring-boot","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662692606,"creation_date":1662692587,"answer_id":73656914,"question_id":73655012,"body_markdown":"You should post your class &quot;com.atscale.service.BasicAuthSecurityConfiguration&quot; for more information.\r\n\r\nAlso, check if you already import spring security jar in your pom or gradle file.","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>You should post your class &quot;com.atscale.service.BasicAuthSecurityConfiguration&quot; for more information.</p>\n<p>Also, check if you already import spring security jar in your pom or gradle file.</p>\n"},{"tags":[],"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672076138,"creation_date":1672076138,"answer_id":74922647,"question_id":73655012,"body_markdown":"I recently faced the same error. Adding this dependency solved the problem for me.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I recently faced the same error. Adding this dependency solved the problem for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27430627,"reputation":31,"user_id":20927408,"display_name":"Tak Sin Luk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672835038,"creation_date":1672835038,"answer_id":75005402,"question_id":73655012,"body_markdown":"I recently faced the same error. The issue was fixed after I upgraded from 2.2.5 to 2.7.7 for spring-boot-starter-parent. Also, I added an annotation of EnableWebSecurity to the security\r\n\r\nReference: [https://www.baeldung.com/spring-boot-security-autoconfiguration][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-security-autoconfiguration","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I recently faced the same error. The issue was fixed after I upgraded from 2.2.5 to 2.7.7 for spring-boot-starter-parent. Also, I added an annotation of EnableWebSecurity to the security</p>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-boot-security-autoconfiguration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-security-autoconfiguration</a></p>\n"},{"tags":[],"owner":{"account_id":5799456,"reputation":75,"user_id":4574091,"display_name":"Kuppusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687513318,"creation_date":1687513318,"answer_id":76538870,"question_id":73655012,"body_markdown":"In my case it was a webflux application but was injecting HttpSecurity so autoconfigure can&#39;t find HttpSecurity. When i changed it to ServerHttpSecurity everything worked fine.","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>In my case it was a webflux application but was injecting HttpSecurity so autoconfigure can't find HttpSecurity. When i changed it to ServerHttpSecurity everything worked fine.</p>\n"}],"owner":{"account_id":16080397,"reputation":43,"user_id":11606482,"display_name":"matthew_mariani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6301,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1687513318,"creation_date":1662671088,"question_id":73655012,"body_markdown":"I&#39;m trying to set up basic authentication with Spring Boot and I keep getting this error on startup. I&#39;ve seen several examples with almost the exact same code as I have here and I can&#39;t tell what I&#39;m doing wrong. I copied my code from Spring&#39;s documentation with only minor tweaks. I&#39;m still very new to Spring and this all seems like witchcraft to me so any insights you can offer would be greatly appreciated.\r\n\r\nCode:\r\n\r\n```\r\npackage com.project.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\n@Configuration\r\npublic class BasicAuthSecurityConfiguration\r\n{\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests().anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService() throws IOException {\r\n        String rootPath = Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;).getPath();\r\n        String appConfigPath = rootPath + &quot;application.properties&quot;;\r\n        Properties appProps = new Properties();\r\n        appProps.load(new FileInputStream(appConfigPath));\r\n\r\n        UserDetails user = User\r\n                .withUsername(appProps.getProperty(&quot;requestUsername&quot;))\r\n                .password(appProps.getProperty(&quot;requestPassword&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\nError Message:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method filterChain in com.atscale.service.BasicAuthSecurityConfiguration required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n```","title":"NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available","body":"<p>I'm trying to set up basic authentication with Spring Boot and I keep getting this error on startup. I've seen several examples with almost the exact same code as I have here and I can't tell what I'm doing wrong. I copied my code from Spring's documentation with only minor tweaks. I'm still very new to Spring and this all seems like witchcraft to me so any insights you can offer would be greatly appreciated.</p>\n<p>Code:</p>\n<pre><code>package com.project.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Properties;\n\n@Configuration\npublic class BasicAuthSecurityConfiguration\n{\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .httpBasic();\n\n        return http.build();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() throws IOException {\n        String rootPath = Thread.currentThread().getContextClassLoader().getResource(&quot;&quot;).getPath();\n        String appConfigPath = rootPath + &quot;application.properties&quot;;\n        Properties appProps = new Properties();\n        appProps.load(new FileInputStream(appConfigPath));\n\n        UserDetails user = User\n                .withUsername(appProps.getProperty(&quot;requestUsername&quot;))\n                .password(appProps.getProperty(&quot;requestPassword&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>Error Message:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method filterChain in com.atscale.service.BasicAuthSecurityConfiguration required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.\n</code></pre>\n"},{"tags":["java","spring-boot","h2","java-17","hibernate-6.x"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":1,"creation_date":1685075485,"post_id":76333384,"comment_id":134613457,"body_markdown":"If I understand correctly, your are using H2 DB for tests, is aplication is also working with H2 DB or your using anyother DB? if your using other DB then is this SQL working?","body":"If I understand correctly, your are using H2 DB for tests, is aplication is also working with H2 DB or your using anyother DB? if your using other DB then is this SQL working?"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685086581,"post_id":76333384,"comment_id":134614944,"body_markdown":"Yes, we are using H2 for testing. Sorry if I wasn&#39;t clear. The query runs fine on our production db (We are running on Hana if it matters). Checked what query ends up being executed and it is parsed correctly.","body":"Yes, we are using H2 for testing. Sorry if I wasn&#39;t clear. The query runs fine on our production db (We are running on Hana if it matters). Checked what query ends up being executed and it is parsed correctly."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685092281,"post_id":76333384,"comment_id":134616118,"body_markdown":"The it&#39;s issue with H2 not Hibernate. we had same issue and did following changes to use h2 with legacy mode which uses legacy functions from H2 DB. spring.datasource.url = jdbc:h2:mem:test;MODE=LEGACY; and try with  &lt;h2.version&gt;2.1.210&lt;/h2.version&gt;","body":"The it&#39;s issue with H2 not Hibernate. we had same issue and did following changes to use h2 with legacy mode which uses legacy functions from H2 DB. spring.datasource.url = jdbc:h2:mem:test;MODE=LEGACY; and try with  &lt;h2.version&gt;2.1.210&lt;/h2.version&gt;"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685093442,"post_id":76333384,"comment_id":134616412,"body_markdown":"We are already using the Legacy mode, tried removing it, but it has no effect. We are using version 2.1.214. I do not think the issue comes from the H2 package, as we have not changed that and it worked before. The problem appeared after we updated Hibernate to a version greater than 6. Also, the H2Dialect class that does the query parsing/translation is part of Hibernate.","body":"We are already using the Legacy mode, tried removing it, but it has no effect. We are using version 2.1.214. I do not think the issue comes from the H2 package, as we have not changed that and it worked before. The problem appeared after we updated Hibernate to a version greater than 6. Also, the H2Dialect class that does the query parsing/translation is part of Hibernate."},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1685094271,"post_id":76333384,"comment_id":134616603,"body_markdown":"This is not an issue with H2, the generated query is obliviously incorrect and will not work in any compatibility mode. (Actually it is a query for very old unsupported versions of H2 Database, they didn&#39;t have row values, it shouldn&#39;t be generated for H2 2.1.214.)","body":"This is not an issue with H2, the generated query is obliviously incorrect and will not work in any compatibility mode. (Actually it is a query for very old unsupported versions of H2 Database, they didn&#39;t have row values, it shouldn&#39;t be generated for H2 2.1.214.)"},{"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"score":0,"creation_date":1685094579,"post_id":76333384,"comment_id":134616678,"body_markdown":"My best guess is that the issue comes from the fact that the version for the H2Dialect object is not setup correctly somehow. But I can&#39;t tell if it is because I am missing something, or it is a bug.","body":"My best guess is that the issue comes from the fact that the version for the H2Dialect object is not setup correctly somehow. But I can&#39;t tell if it is because I am missing something, or it is a bug."}],"answers":[{"tags":[],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686637663,"creation_date":1686636124,"answer_id":76462049,"question_id":76333384,"body_markdown":"This appears to be fixed in version `6.2.4`, at least temporarily. (The default constructor of H2Dialect starts with version `1.4.197` instead of `0.0.0`, also `supportsRowValueConstructorSyntaxInInList` defaults to true).\r\n\r\nBut for us this version introduces new unsolved issue... So if anyone encounters this same issue or something similar, I have found the following set of properties that provide a workaround to the invalid version: \r\n\r\n    jakarta.persistence.database-product-name = H2\r\n    jakarta.persistence.database-major-version = 2\r\n    jakarta.persistence.database-minor-version = 1\r\n\r\nNote this is just for the test configuration.\r\n\r\nEDIT: This also seems to be caused by `hibernate.temp.use_jdbc_metadata_defaults=false`","title":"After Spring boot 3, Hibernate 6 Migration - &#39;IN&#39; clause in subquery no longer working for H2?","body":"<p>This appears to be fixed in version <code>6.2.4</code>, at least temporarily. (The default constructor of H2Dialect starts with version <code>1.4.197</code> instead of <code>0.0.0</code>, also <code>supportsRowValueConstructorSyntaxInInList</code> defaults to true).</p>\n<p>But for us this version introduces new unsolved issue... So if anyone encounters this same issue or something similar, I have found the following set of properties that provide a workaround to the invalid version:</p>\n<pre><code>jakarta.persistence.database-product-name = H2\njakarta.persistence.database-major-version = 2\njakarta.persistence.database-minor-version = 1\n</code></pre>\n<p>Note this is just for the test configuration.</p>\n<p>EDIT: This also seems to be caused by <code>hibernate.temp.use_jdbc_metadata_defaults=false</code></p>\n"}],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687513302,"creation_date":1685024783,"question_id":76333384,"body_markdown":"Recently I have migrated a project to Spring Boot 3 and Java 17.\r\nAnd it seems that there are a lot of bugs with the new Hibernate 6 version?\r\n\r\nThe issue I have encountered and debugged to death is that in our tests running on H2 the IN clauses are not translated correctly. \r\nWe have a query that is dynamically built in the following format:\r\n`DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT calc.calcId,lpqv2.Nr FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId, lpqv2.Nr) IN ((?1,?2),(?3,?4)))`\r\n\r\nWhen executed (The query is executed using JPA&#39;s entity manager) we get the this error:\r\n\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column count does not match; SQL statement:\r\nDELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \r\n(calc.pId=? and lpqv2.Nr))\r\n[21002-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.get(DbException.java:188)\r\n\tat org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:119)\r\n\tat org.h2.value.Value.compareToNotNullable(Value.java:2634)\r\n\tat org.h2.value.Value.compareTo(Value.java:2607)\r\n\tat org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:124)\r\n\tat org.h2.value.Value.compareToNotNullable(Value.java:2634)\r\n\tat org.h2.value.Value.compareTo(Value.java:2607)\r\n\tat org.h2.value.CompareMode.compare(CompareMode.java:280)\r\n\tat org.h2.value.CompareMode.compare(CompareMode.java:20)\r\n\tat java.base/java.util.TreeMap.getEntryUsingComparator(TreeMap.java:374)\r\n\tat java.base/java.util.TreeMap.getEntry(TreeMap.java:344)\r\n\tat java.base/java.util.TreeMap.get(TreeMap.java:279)\r\n\tat org.h2.result.LocalResult.containsDistinct(LocalResult.java:249)\r\n\tat org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:95)\r\n\tat org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:55)\r\n\tat org.h2.expression.Expression.getBooleanValue(Expression.java:332)\r\n\tat org.h2.command.dml.FilteredDataChangeStatement.nextRow(FilteredDataChangeStatement.java:73)\r\n\tat org.h2.command.dml.Delete.update(Delete.java:58)\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.sql.exec.internal.StandardJdbcMutationExecutor.execute(StandardJdbcMutationExecutor.java:84)\r\n\t... 204 common frames omitted\r\n```\r\n\r\nFrom what I can tell it seems that the H2Dialect translation process is faulty:\r\n`DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \r\n(calc.pId=? and lpqv2.Nr))`\r\n\r\nThe issue here, besides that it changes the IN clause, is that the syntax at the start of the subquery is incorrect `(SELECT **(**calc.calcId,lpqv2.Nr**)** FROM LqTable`, the parenthesis should not be there.\r\n\r\n\r\nI have tried every version of Hibernate 6 from 6.0.0 to 6.1.7, and all spring boot versions from 3.0.0 to 3.1.0 just to be sure, but nothing changed. \r\nI have also tried to execute this as a native query but the sql that ends up being executed is somehow even more messed up. \r\n\r\nI have debugged the hibernate code and what I have come up with is that the reason for this mess-up is that when translating the query hibernate checks if there is support for In clauses in subqueries by checking the version of the H2Dialect but this comes up with version 0.0.0. (This is checked in AbstractSqlAstTranslator at line 4281 that basically calls the H2SqlAstTranslator.supportsRowValueConstructorSyntaxInInList which checks that the version is newer than 1.4.197 from what I can tell).\r\n\r\nFrom what I can tell this appears to be a bug?\r\nHas anyone encountered anything like this? Any ideas on how this can be fixed? \r\n","title":"After Spring boot 3, Hibernate 6 Migration - &#39;IN&#39; clause in subquery no longer working for H2?","body":"<p>Recently I have migrated a project to Spring Boot 3 and Java 17.\nAnd it seems that there are a lot of bugs with the new Hibernate 6 version?</p>\n<p>The issue I have encountered and debugged to death is that in our tests running on H2 the IN clauses are not translated correctly.\nWe have a query that is dynamically built in the following format:\n<code>DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT calc.calcId,lpqv2.Nr FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId, lpqv2.Nr) IN ((?1,?2),(?3,?4)))</code></p>\n<p>When executed (The query is executed using JPA's entity manager) we get the this error:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column count does not match; SQL statement:\nDELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or \n(calc.pId=? and lpqv2.Nr))\n[21002-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.message.DbException.get(DbException.java:188)\n    at org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:119)\n    at org.h2.value.Value.compareToNotNullable(Value.java:2634)\n    at org.h2.value.Value.compareTo(Value.java:2607)\n    at org.h2.value.ValueRow.compareTypeSafe(ValueRow.java:124)\n    at org.h2.value.Value.compareToNotNullable(Value.java:2634)\n    at org.h2.value.Value.compareTo(Value.java:2607)\n    at org.h2.value.CompareMode.compare(CompareMode.java:280)\n    at org.h2.value.CompareMode.compare(CompareMode.java:20)\n    at java.base/java.util.TreeMap.getEntryUsingComparator(TreeMap.java:374)\n    at java.base/java.util.TreeMap.getEntry(TreeMap.java:344)\n    at java.base/java.util.TreeMap.get(TreeMap.java:279)\n    at org.h2.result.LocalResult.containsDistinct(LocalResult.java:249)\n    at org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:95)\n    at org.h2.expression.condition.ConditionInQuery.getValue(ConditionInQuery.java:55)\n    at org.h2.expression.Expression.getBooleanValue(Expression.java:332)\n    at org.h2.command.dml.FilteredDataChangeStatement.nextRow(FilteredDataChangeStatement.java:73)\n    at org.h2.command.dml.Delete.update(Delete.java:58)\n    at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209)\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.sql.exec.internal.StandardJdbcMutationExecutor.execute(StandardJdbcMutationExecutor.java:84)\n    ... 204 common frames omitted\n</code></pre>\n<p>From what I can tell it seems that the H2Dialect translation process is faulty:\n<code>DELETE FROM LqTable WHERE (calcId,Nr) IN (SELECT (calc.calcId,lpqv2.Nr) FROM LqTable lpqv2 JOIN CalcTable calc ON calc.calcId=lpqv2.calcId WHERE (calc.pId=? and lpqv2.Nr) or  (calc.pId=? and lpqv2.Nr))</code></p>\n<p>The issue here, besides that it changes the IN clause, is that the syntax at the start of the subquery is incorrect <code>(SELECT **(**calc.calcId,lpqv2.Nr**)** FROM LqTable</code>, the parenthesis should not be there.</p>\n<p>I have tried every version of Hibernate 6 from 6.0.0 to 6.1.7, and all spring boot versions from 3.0.0 to 3.1.0 just to be sure, but nothing changed.\nI have also tried to execute this as a native query but the sql that ends up being executed is somehow even more messed up.</p>\n<p>I have debugged the hibernate code and what I have come up with is that the reason for this mess-up is that when translating the query hibernate checks if there is support for In clauses in subqueries by checking the version of the H2Dialect but this comes up with version 0.0.0. (This is checked in AbstractSqlAstTranslator at line 4281 that basically calls the H2SqlAstTranslator.supportsRowValueConstructorSyntaxInInList which checks that the version is newer than 1.4.197 from what I can tell).</p>\n<p>From what I can tell this appears to be a bug?\nHas anyone encountered anything like this? Any ideas on how this can be fixed?</p>\n"},{"tags":["java","spring","spring-boot","hana","hibernate-6.x"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1685126129,"post_id":76338130,"comment_id":134623038,"body_markdown":"Have you tried asking on a Hibernate forum? If the behavior has changed and you can identify the code that changed, and you think this is a bug, you can file a report on the [Hibernate JIRA](https://hibernate.atlassian.net/browse).  Also [this bug](https://hibernate.atlassian.net/browse/HHH-10174?search_id=683408d3-7d41-4ce0-baaa-7a8979510df8)?","body":"Have you tried asking on a Hibernate forum? If the behavior has changed and you can identify the code that changed, and you think this is a bug, you can file a report on the <a href=\"https://hibernate.atlassian.net/browse\" rel=\"nofollow noreferrer\">Hibernate JIRA</a>.  Also <a href=\"https://hibernate.atlassian.net/browse/HHH-10174?search_id=683408d3-7d41-4ce0-baaa-7a8979510df8\" rel=\"nofollow noreferrer\">this bug</a>?"}],"owner":{"account_id":6168599,"reputation":99,"user_id":4807616,"display_name":"Mihai Ciully"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687513292,"creation_date":1685082313,"question_id":76338130,"body_markdown":"Recently upgraded to Spring boot 3 and implicitly yo hibernate 6.\r\nOne issue I am facing is that depending on the annotations on an Entity class, the table name is parsed differently.\r\n\r\nFor example I have this entity class \r\n\r\n    @Entity\r\n    @Table(name = Folder.TABLE_NAME)\r\n    @SecondaryTable(name = RelationView.TABLE_NAME, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;NODE&quot;))\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Folder extends Entity&lt;Folder, Integer&gt; {\r\n    \r\n        public static final String TABLE_NAME_NO_QUOTES = &quot;com.proj.db::base.folder&quot;;\r\n    \r\n        public static final String TABLE_NAME = &quot;`&quot; + TABLE_NAME_NO_QUOTES + &quot;`&quot;;\r\n    \r\n        @Id\r\n        @Column(name = &quot;ENTITY_ID&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ENTITY_SEQUENCE&quot;)\r\n        @GenericGenerator(name = &quot;ENTITY_SEQUENCE&quot;,\r\n                strategy = ...SequenceStyleGenerator&quot;)\r\n        private Integer folderId;\r\n    ...other fields\r\n\r\nWhen I try to start up the application it fails with:\r\n\r\n    Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n            - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableMutationStrategy` interpretation\r\n            - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableInsertStrategy` interpretation\r\n    \r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\r\n    \tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:40)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:142)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n    \t... 54 more\r\n    \tSuppressed: org.hibernate.HibernateException: Unable to parse object name: &quot;com.proj.db::base.folder&quot;\r\n    \t\tat org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:149)\r\n    \t\tat org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:199)\r\n    \t\tat org.hibernate.dialect.temptable.TemporaryTable.&lt;init&gt;(TemporaryTable.java:83)\r\n    \t\tat org.hibernate.dialect.temptable.TemporaryTable.createEntityTable(TemporaryTable.java:302)\r\n    \t\tat org.hibernate.dialect.H2Dialect.getFallbackSqmInsertStrategy(H2Dialect.java:693)\r\n    \t\tat org.hibernate.query.sqm.mutation.internal.SqmMultiTableMutationStrategyProviderStandard.createInsertStrategy(SqmMultiTableMutationStrategyProviderStandard.java:53)\r\n    \t\tat org.hibernate.persister.entity.AbstractEntityPersister.interpretSqmMultiTableInsertStrategy(AbstractEntityPersister.java:4807)\r\n    \t\tat org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$17(AbstractEntityPersister.java:4659)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\r\n    \t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\r\n    \t\t... 64 more\r\n\r\nIf I remove the @GeneratedValue, @GenericGenerator and anything related to the @SecondaryTable annotation everything works fine. \r\nI also have the physical naming strategy set up in my application.yaml.\r\n\r\n&gt; spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nFrom what I can tell looking in the hibernate code the issue comes from org.hibernate.dialect.temptable.TemporaryTable constructor, which from version 6.1.4 has changed the way it parses the table name to use QualifiedNameParser which is incompatible with our naming convention (we use a Hana database) and also seems to ignore the physical naming strategy property.\r\n\r\nHas anyone encountered anything similar? Am I missing something? Is there a new property that I have missed?","title":"Hibernate 6 issues with table name","body":"<p>Recently upgraded to Spring boot 3 and implicitly yo hibernate 6.\nOne issue I am facing is that depending on the annotations on an Entity class, the table name is parsed differently.</p>\n<p>For example I have this entity class</p>\n<pre><code>@Entity\n@Table(name = Folder.TABLE_NAME)\n@SecondaryTable(name = RelationView.TABLE_NAME, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;NODE&quot;))\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Folder extends Entity&lt;Folder, Integer&gt; {\n\n    public static final String TABLE_NAME_NO_QUOTES = &quot;com.proj.db::base.folder&quot;;\n\n    public static final String TABLE_NAME = &quot;`&quot; + TABLE_NAME_NO_QUOTES + &quot;`&quot;;\n\n    @Id\n    @Column(name = &quot;ENTITY_ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ENTITY_SEQUENCE&quot;)\n    @GenericGenerator(name = &quot;ENTITY_SEQUENCE&quot;,\n            strategy = ...SequenceStyleGenerator&quot;)\n    private Integer folderId;\n...other fields\n</code></pre>\n<p>When I try to start up the application it fails with:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableMutationStrategy` interpretation\n        - PostInitCallbackEntry - Entity(com.backend.model.Folder) `sqmMultiTableInsertStrategy` interpretation\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:144)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:88)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:40)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:201)\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:319)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:269)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:142)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 54 more\n    Suppressed: org.hibernate.HibernateException: Unable to parse object name: &quot;com.proj.db::base.folder&quot;\n        at org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:149)\n        at org.hibernate.boot.model.relational.QualifiedNameParser.parse(QualifiedNameParser.java:199)\n        at org.hibernate.dialect.temptable.TemporaryTable.&lt;init&gt;(TemporaryTable.java:83)\n        at org.hibernate.dialect.temptable.TemporaryTable.createEntityTable(TemporaryTable.java:302)\n        at org.hibernate.dialect.H2Dialect.getFallbackSqmInsertStrategy(H2Dialect.java:693)\n        at org.hibernate.query.sqm.mutation.internal.SqmMultiTableMutationStrategyProviderStandard.createInsertStrategy(SqmMultiTableMutationStrategyProviderStandard.java:53)\n        at org.hibernate.persister.entity.AbstractEntityPersister.interpretSqmMultiTableInsertStrategy(AbstractEntityPersister.java:4807)\n        at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMappingModel$17(AbstractEntityPersister.java:4659)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:246)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:106)\n        ... 64 more\n</code></pre>\n<p>If I remove the @GeneratedValue, @GenericGenerator and anything related to the @SecondaryTable annotation everything works fine.\nI also have the physical naming strategy set up in my application.yaml.</p>\n<blockquote>\n<p>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</p>\n</blockquote>\n<p>From what I can tell looking in the hibernate code the issue comes from org.hibernate.dialect.temptable.TemporaryTable constructor, which from version 6.1.4 has changed the way it parses the table name to use QualifiedNameParser which is incompatible with our naming convention (we use a Hana database) and also seems to ignore the physical naming strategy property.</p>\n<p>Has anyone encountered anything similar? Am I missing something? Is there a new property that I have missed?</p>\n"},{"tags":["java","spring-boot","metrics","spring-webclient"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1685641892,"post_id":76375413,"comment_id":134692635,"body_markdown":"WebClient observation is supported and you&#39;re only supposed to get &quot;None&quot; values for uri template tags if your usage of WebClient leverages expanded URIs instead of URI templates. Please update your question with a code snippet showing how WebClient is being used.","body":"WebClient observation is supported and you&#39;re only supposed to get &quot;None&quot; values for uri template tags if your usage of WebClient leverages expanded URIs instead of URI templates. Please update your question with a code snippet showing how WebClient is being used."}],"owner":{"account_id":13366317,"reputation":113,"user_id":9646463,"display_name":"Abhay Nagaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687513252,"creation_date":1685549136,"question_id":76375413,"body_markdown":"\r\nThis was a very useful [blog post][1]. \r\nAlthough, I could follow it through to have a client and server application running with observation in place, I was further trying to match my actual use case with this application setup, which includes WebClient bean that is being instrumented but, comes back with empty or &quot;None&quot; uri values in the http_client metrics. And in order to tackle this scenario, what I had to do in the past was to use a webclient customizer that took the webclient.builder as an argument and customizes the bean to add http_client metrics and the URI showed up. \r\nBut, here when I try a similar approach with our ObservationWebCientCustomizer Object, it doesn&#39;t have any effect and the very @Autowire of the customizer object is making the http_client metrics go missing. \r\nUpon removal of the @Autowired injections, the metrics come back but with an empty uri value. \r\nThis is especially for the WebClient bean variants and not for the RestTemplate bean. \r\nAny thoughts or examples of the usage and ways to customize our metrics in Spring Boot 3.x would be really appreciated?\r\nQuestions:\r\n1. Does Spring Boot 3 support observation for Webclient beans like it does for RestTemplate?\r\n2. Any reason for choosing RestTemplate instead of WebClient in this example?\r\n3. How do we customize or use the WebClient and RestTemplate Customizers? What are their uses?\r\n4. Do we have to use ObservationHandlers on the Client app too in order to be able to observe the http client calls?\r\n\r\nThank you, in advance. This could help many other people I have seen facing a similar situation. \r\n\r\n\r\n  [1]: https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\r\n\r\n@Brian Clozel It would be great to hear your thoughts on this","title":"Spring Boot 3.x With WebClient and ObservationWebClientCustomizer","body":"<p>This was a very useful <a href=\"https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\" rel=\"nofollow noreferrer\">blog post</a>.\nAlthough, I could follow it through to have a client and server application running with observation in place, I was further trying to match my actual use case with this application setup, which includes WebClient bean that is being instrumented but, comes back with empty or &quot;None&quot; uri values in the http_client metrics. And in order to tackle this scenario, what I had to do in the past was to use a webclient customizer that took the webclient.builder as an argument and customizes the bean to add http_client metrics and the URI showed up.\nBut, here when I try a similar approach with our ObservationWebCientCustomizer Object, it doesn't have any effect and the very @Autowire of the customizer object is making the http_client metrics go missing.\nUpon removal of the @Autowired injections, the metrics come back but with an empty uri value.\nThis is especially for the WebClient bean variants and not for the RestTemplate bean.\nAny thoughts or examples of the usage and ways to customize our metrics in Spring Boot 3.x would be really appreciated?\nQuestions:</p>\n<ol>\n<li>Does Spring Boot 3 support observation for Webclient beans like it does for RestTemplate?</li>\n<li>Any reason for choosing RestTemplate instead of WebClient in this example?</li>\n<li>How do we customize or use the WebClient and RestTemplate Customizers? What are their uses?</li>\n<li>Do we have to use ObservationHandlers on the Client app too in order to be able to observe the http client calls?</li>\n</ol>\n<p>Thank you, in advance. This could help many other people I have seen facing a similar situation.</p>\n<p>@Brian Clozel It would be great to hear your thoughts on this</p>\n"},{"tags":["java","spring","spring-boot","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685629187,"post_id":76381621,"comment_id":134689605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8731,"reputation":1639,"user_id":15878,"accept_rate":62,"display_name":"tropikalista"},"score":0,"creation_date":1695217582,"post_id":76381621,"comment_id":135994950,"body_markdown":"The class used here does not exist any more in camel 4.0 https://javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/camel/spi/XMLRoutesDefinitionLoader.html. Question is how to load XML Routes without this class?","body":"The class used here does not exist any more in camel 4.0 <a href=\"https://javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/camel/spi/XMLRoutesDefinitionLoader.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.apache.camel/camel-api/3.21.0/org/apache/&zwnj;&#8203;&hellip;</a>. Question is how to load XML Routes without this class?"}],"owner":{"account_id":28727363,"reputation":19,"user_id":21999980,"display_name":"Pavlos Apostolatos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1687513212,"creation_date":1685620653,"question_id":76381621,"body_markdown":"In preparation of the release of Camel 4.0 i am trying to find a way to migrate my methods which create `Route` or `RouteDefinition` objects from a XML file with routes written like:\r\n```\r\n&lt;routes xmlns=&quot;http://camel.apache.org/schema/spring&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://camel.apache.org/schema/spring\r\n      \t\t\t\t\t\thttp://camel.apache.org/schema/spring/camel-spring-3.20.2.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;route id=....&gt;\r\n......\r\n\t&lt;/route&gt;\r\n&lt;/routes&gt;\r\n\r\n```\r\nso they can be loaded into CamelContext\r\n\r\n\r\nIn Camel 3.20 i was loading them into the CamelContext like\r\n\r\n```\r\n            String xmlContent = myBean.getXMLFileContent();//imagine this string&#39;s content is as described above\r\n//I am open to converting this string into a java.io.File and new methodologies that the Camel team is leaning towards\r\n            try (InputStream is = new ByteArrayInputStream(xmlContent.getBytes())) {\r\n\r\n                XMLRoutesDefinitionLoader loader =   extendedCamelContext.getXMLRoutesDefinitionLoader();\r\n                RoutesDefinition routesDefinition = (RoutesDefinition) loader.loadRoutesDefinition(camelContext, is);\r\n                modelCamelContext.addRouteDefinitions(routesDefinition.getRoutes());\r\n            }\r\n```\r\n\r\nby importing\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-xml-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Create Route from XML in Camel 4.0","body":"<p>In preparation of the release of Camel 4.0 i am trying to find a way to migrate my methods which create <code>Route</code> or <code>RouteDefinition</code> objects from a XML file with routes written like:</p>\n<pre><code>&lt;routes xmlns=&quot;http://camel.apache.org/schema/spring&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://camel.apache.org/schema/spring\n                            http://camel.apache.org/schema/spring/camel-spring-3.20.2.xsd&quot;&gt;\n\n\n    &lt;route id=....&gt;\n......\n    &lt;/route&gt;\n&lt;/routes&gt;\n\n</code></pre>\n<p>so they can be loaded into CamelContext</p>\n<p>In Camel 3.20 i was loading them into the CamelContext like</p>\n<pre><code>            String xmlContent = myBean.getXMLFileContent();//imagine this string's content is as described above\n//I am open to converting this string into a java.io.File and new methodologies that the Camel team is leaning towards\n            try (InputStream is = new ByteArrayInputStream(xmlContent.getBytes())) {\n\n                XMLRoutesDefinitionLoader loader =   extendedCamelContext.getXMLRoutesDefinitionLoader();\n                RoutesDefinition routesDefinition = (RoutesDefinition) loader.loadRoutesDefinition(camelContext, is);\n                modelCamelContext.addRouteDefinitions(routesDefinition.getRoutes());\n            }\n</code></pre>\n<p>by importing</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xml-io&lt;/artifactId&gt;\n            &lt;version&gt;${camel.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","snakeyaml","trivy"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1686321273,"post_id":76440881,"comment_id":134787183,"body_markdown":"Related: [Is snakeyaml 2.0 added in the new Spring boot versions?](https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions) ([this comment](https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions#comment133864016_75875594) in particular).","body":"Related: <a href=\"https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions\">Is snakeyaml 2.0 added in the new Spring boot versions?</a> (<a href=\"https://stackoverflow.com/questions/75870282/is-snakeyaml-2-0-added-in-the-new-spring-boot-versions#comment133864016_75875594\">this comment</a> in particular)."},{"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"score":1,"creation_date":1691728363,"post_id":76440881,"comment_id":135533574,"body_markdown":"As per my testing, Spring Boot `3.1.0` (even `3.1.2`) + SnakeYAML `2.0` works. There is no issue reading config properties from a YAML config file in `src/main/resources`. Perhaps you can share an MVP project that can show that it fails.","body":"As per my testing, Spring Boot <code>3.1.0</code> (even <code>3.1.2</code>) + SnakeYAML <code>2.0</code> works. There is no issue reading config properties from a YAML config file in <code>src&#47;main&#47;resources</code>. Perhaps you can share an MVP project that can show that it fails."}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687513104,"answer_count":0,"score":0,"last_activity_date":1687513063,"creation_date":1686318336,"question_id":76440881,"body_markdown":"I have upgraded from `Springboot 2.7.12` to `3.1.0` in order to upgrade `Snakeyaml` dependency to 2.0 version, which isn&#39;t vulnerable. That required gradle and java version upgrade.\r\n\r\nHowever, now I&#39;m getting the below error, thre `2.0 snakeyaml` isn&#39;t compatible. How to work that around?\r\n\r\n    16:38:31.540 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method &#39;void &lt;init&gt;()&#39; not found\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:74)\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:69)\r\n    \tat org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:164)\r\n    \tat org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:82)\r\n    \tat org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:632)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:534)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:501)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:471)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$7(ConfigFileApplicationListener.java:450)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$8(ConfigFileApplicationListener.java:450)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:447)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$0(ConfigFileApplicationListener.java:350)\r\n    \tat org.springframework.boot.context.config.FilteredPropertySource.apply(FilteredPropertySource.java:54)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:338)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:229)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:213)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:203)\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:191)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat rf.dom.billing.ap.Application.main(Application.java:24)\r\n\r\n","title":"implementation &#39;org.yaml:snakeyaml:2.0&#39; doesn&#39;t work even with springboot 3.1.0","body":"<p>I have upgraded from <code>Springboot 2.7.12</code> to <code>3.1.0</code> in order to upgrade <code>Snakeyaml</code> dependency to 2.0 version, which isn't vulnerable. That required gradle and java version upgrade.</p>\n<p>However, now I'm getting the below error, thre <code>2.0 snakeyaml</code> isn't compatible. How to work that around?</p>\n<pre><code>16:38:31.540 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.representer.Representer: method 'void &lt;init&gt;()' not found\n    at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:74)\n    at org.springframework.boot.env.OriginTrackedYamlLoader.createYaml(OriginTrackedYamlLoader.java:69)\n    at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:164)\n    at org.springframework.boot.env.OriginTrackedYamlLoader.load(OriginTrackedYamlLoader.java:82)\n    at org.springframework.boot.env.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:632)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:534)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:501)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:471)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$7(ConfigFileApplicationListener.java:450)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$8(ConfigFileApplicationListener.java:450)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:447)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$0(ConfigFileApplicationListener.java:350)\n    at org.springframework.boot.context.config.FilteredPropertySource.apply(FilteredPropertySource.java:54)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:338)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:229)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:213)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:203)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:191)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at rf.dom.billing.ap.Application.main(Application.java:24)\n</code></pre>\n"},{"tags":["java","samba"],"answers":[{"comments":[{"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"score":0,"creation_date":1617184025,"post_id":66869436,"comment_id":118230785,"body_markdown":"I read the documentation, but still have some questions. How am I going connect to samba itself? Do I need any password or login? I have a problem with accessing.","body":"I read the documentation, but still have some questions. How am I going connect to samba itself? Do I need any password or login? I have a problem with accessing."},{"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"score":0,"creation_date":1617186713,"post_id":66869436,"comment_id":118231998,"body_markdown":"I have no idea, I have never used the Samba Client. Presumably you&#39;ll provide credentials when you create the bean for the client itself, but that&#39;s just my guess based off of other clients.","body":"I have no idea, I have never used the Samba Client. Presumably you&#39;ll provide credentials when you create the bean for the client itself, but that&#39;s just my guess based off of other clients."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":2,"creation_date":1688061601,"post_id":66869436,"comment_id":135026809,"body_markdown":"@AlexWhite - this may help. Spring - SMB Session Factory: https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb-session-factory","body":"@AlexWhite - this may help. Spring - SMB Session Factory: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/smb.html#smb-session-factory\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617100874,"creation_date":1617100874,"answer_id":66869436,"question_id":66868818,"body_markdown":"You can look into [Spring Integration][1] and use the SMB extension it provides\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThere&#39;s a short example [here][2], but you have to be familiar with how Spring Integration works.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-integration\r\n  [2]: https://spring.io/blog/2017/01/18/spring-integration-extension-for-smb-0-5-0-is-available","title":"Connecting to samba server from spring boot application","body":"<p>You can look into <a href=\"https://spring.io/projects/spring-integration\" rel=\"nofollow noreferrer\">Spring Integration</a> and use the SMB extension it provides</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-smb&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There's a short example <a href=\"https://spring.io/blog/2017/01/18/spring-integration-extension-for-smb-0-5-0-is-available\" rel=\"nofollow noreferrer\">here</a>, but you have to be familiar with how Spring Integration works.</p>\n"}],"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2769,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1687512763,"creation_date":1617098714,"question_id":66868818,"body_markdown":"I have a spring boot app and a samba server running in a kubernetes cluster. How I can connect to this server from my app? Is there any gradle library for samba server? Explanation will be appreciated.","title":"Connecting to samba server from spring boot application","body":"<p>I have a spring boot app and a samba server running in a kubernetes cluster. How I can connect to this server from my app? Is there any gradle library for samba server? Explanation will be appreciated.</p>\n"},{"tags":["java","grpc","grpc-java","grpc-web"],"comments":[{"owner":{"account_id":69996,"reputation":835,"user_id":203403,"display_name":"Sampajano"},"score":0,"creation_date":1687460893,"post_id":76524868,"comment_id":134943883,"body_markdown":"hi! grpc-web team here &#128515;\n\nif you could, could you also post the question on https://github.com/grpc/grpc-web/ - as it might get more attention and help from community there? &#128515;\n\nmy suggestion would be to isolate the issue by swapping out different component of your stack (e.g. change BE with a standard one in our demo), and see if an issue with the BE, proxy, or the client.\n\nSometimes, there could be a &quot;buffering proxy&quot; in between like a anti-virus software, which would buffer network response until streaming is finished too so that&#39;s another factor.\n\nhope this helps :)","body":"hi! grpc-web team here   if you could, could you also post the question on <a href=\"https://github.com/grpc/grpc-web/\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-web</a> - as it might get more attention and help from community there?   my suggestion would be to isolate the issue by swapping out different component of your stack (e.g. change BE with a standard one in our demo), and see if an issue with the BE, proxy, or the client.  Sometimes, there could be a &quot;buffering proxy&quot; in between like a anti-virus software, which would buffer network response until streaming is finished too so that&#39;s another factor.  hope this helps :)"},{"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"score":0,"creation_date":1687512842,"post_id":76524868,"comment_id":134950548,"body_markdown":"Hey @Sampajano, I have answered my question because I found a workaround. Do you think this is something that we need to open an issue on Github?","body":"Hey @Sampajano, I have answered my question because I found a workaround. Do you think this is something that we need to open an issue on Github?"},{"owner":{"account_id":69996,"reputation":835,"user_id":203403,"display_name":"Sampajano"},"score":0,"creation_date":1693437291,"post_id":76524868,"comment_id":135762692,"body_markdown":"Hi Vitor, I&#39;m glad to hear that you&#39;ve figured out a solution! &#128515; So actually you&#39;re right, that only grpcwebtext mode supports streaming.. It&#39;s currently documented here https://github.com/grpc/grpc-web#streaming-support, but you&#39;re very welcome to suggest ways to make this information more prominent so future people can avoid the same mistake. Thanks! &#128515;","body":"Hi Vitor, I&#39;m glad to hear that you&#39;ve figured out a solution!  So actually you&#39;re right, that only grpcwebtext mode supports streaming.. It&#39;s currently documented here <a href=\"https://github.com/grpc/grpc-web#streaming-support\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-web#streaming-support</a>, but you&#39;re very welcome to suggest ways to make this information more prominent so future people can avoid the same mistake. Thanks! "}],"answers":[{"tags":[],"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687512751,"creation_date":1687512751,"answer_id":76538802,"question_id":76524868,"body_markdown":"To whomever bumped into this, I found a workaround. The problem wasn&#39;t in the Backend nor the Envoy proxy but on how I compiled the proto stubs. For some reason reason when I compiled with the options:\r\n\r\n```\r\n--js_out=import_style=commonjs,binary:$OUT_DIR --grpc-web_out=import_style=typescript,mode=grpcweb:$OUT_DIR\r\n```\r\n\r\nI just got the data when the stream was closed on server-side. But when I compiled with:\r\n\r\n```\r\n--grpc-web_out=import_style=typescript,mode=grpcwebtext:$OUT_DIR\r\n```\r\n\r\nBasically changing from `mode=grpcweb` to `mode=grpcwebtext` did the trick. The stream worked normally, sending the data every 2 seconds as expected.","title":"GRPC-Web Stream: Only receiving data when stream is closed","body":"<p>To whomever bumped into this, I found a workaround. The problem wasn't in the Backend nor the Envoy proxy but on how I compiled the proto stubs. For some reason reason when I compiled with the options:</p>\n<pre><code>--js_out=import_style=commonjs,binary:$OUT_DIR --grpc-web_out=import_style=typescript,mode=grpcweb:$OUT_DIR\n</code></pre>\n<p>I just got the data when the stream was closed on server-side. But when I compiled with:</p>\n<pre><code>--grpc-web_out=import_style=typescript,mode=grpcwebtext:$OUT_DIR\n</code></pre>\n<p>Basically changing from <code>mode=grpcweb</code> to <code>mode=grpcwebtext</code> did the trick. The stream worked normally, sending the data every 2 seconds as expected.</p>\n"}],"owner":{"account_id":1732356,"reputation":1865,"user_id":1585701,"accept_rate":73,"display_name":"Vitor Villar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687512751,"creation_date":1687360825,"question_id":76524868,"body_markdown":"I have setup a simple Java &amp; Spring Boot backend in order to stream data to a gRPC-web client.\r\n\r\nThe Streaming is working as expected when calling from Postman. I call the endpoint and receive the data every 2 seconds.\r\n\r\nBut when I start the stream from the web client, I only get the data once the stream is closed on server-side. I can&#39;t figure out why this is happening.\r\n\r\nI have the Envoy gateway to proxy the calls from the FE to BE. This is the whole code I have:\r\n\r\nProto Definition:\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage com.example.api;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;com.example.api&quot;;\r\n\r\nservice SSEService {\r\n  rpc Connect (SSEConnectionRequest) returns (stream SSEMessageResponse) {}\r\n  rpc Ping (PingRequest) returns (PongResponse) {}\r\n}\r\n\r\nmessage SSEConnectionRequest {\r\n  repeated string topics = 1;\r\n}\r\n\r\nmessage SSEMessageResponse {\r\n  string id = 1;\r\n  string type = 2;\r\n  string payload = 3;\r\n}\r\n\r\nmessage PingRequest {\r\n  string message = 1;\r\n}\r\n\r\nmessage PongResponse {\r\n  string message = 1;\r\n}\r\n```\r\n\r\nThis the Backend handler:\r\n\r\n```\r\n@GrpcService\r\n@Slf4j\r\npublic class SSEHandler extends SSEServiceGrpc.SSEServiceImplBase {\r\n    @SneakyThrows\r\n    @Override\r\n    public void connect(SSEConnectionRequest request, StreamObserver&lt;SSEMessageResponse&gt; responseObserver) {\r\n        var newObserver = (ServerCallStreamObserver&lt;SSEMessageResponse&gt;) responseObserver;\r\n        log.info(&quot;Is observer ready? {}&quot;, newObserver.isReady());\r\n\r\n        while(!newObserver.isReady()) {\r\n            log.info(&quot;Waiting for the stream to be ready&quot;);\r\n        }\r\n\r\n        for (var i = 0; i &lt; 5; i++) {\r\n            var response = SSEMessageResponse.newBuilder()\r\n                .setId(UUID.randomUUID().toString())\r\n                .setType(&quot;MessageType&quot;)\r\n                .setPayload(&quot;Message number #&quot; + i)\r\n                .build();\r\n\r\n            log.info(&quot;Sending response down the stream to client. Number {}&quot;, i);\r\n            newObserver.onNext(response);\r\n\r\n            Thread.sleep(2000);\r\n        }\r\n            responseObserver.onCompleted();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void ping(PingRequest request, StreamObserver&lt;PongResponse&gt; responseObserver) {\r\n        log.info(&quot;Will send a response now&quot;);\r\n        var response = PongResponse.newBuilder()\r\n            .setMessage(&quot;Test response&quot;)\r\n            .build();\r\n\r\n        responseObserver.onNext(response);\r\n        responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\n\r\nThis is the web client:\r\n\r\n```\r\nconst grpcClient = new SSEServiceClient(&#39;http://localhost:9999&#39;);\r\nconst stream =   grpcClient.connect(new SSEConnectionRequest());\r\n    stream.on(&#39;data&#39;, (data: SSEMessageResponse) =&gt; {\r\n      console.log(&#39;data&#39;, data);\r\n    });\r\n\r\n    stream.on(&#39;status&#39;, (status: any) =&gt; {\r\n      console.log(&#39;STATUS&#39;, status);\r\n    });\r\n\r\n    stream.on(&#39;error&#39;, (e: Error) =&gt; {\r\n      console.log(&#39;error&#39;, e);\r\n      stream.cancel();\r\n    });\r\n```\r\n\r\nAnd this is the Envoy static config:\r\n```\r\nadmin:\r\n  access_log_path: /tmp/admin_access.log\r\n  address:\r\n    socket_address: { address: 0.0.0.0, port_value: 9901 }\r\n\r\nstatic_resources:\r\n  listeners:\r\n    - name: listener_0\r\n      address:\r\n        socket_address: { address: 0.0.0.0, port_value: 9999 }\r\n      filter_chains:\r\n        - filters:\r\n          - name: envoy.filters.network.http_connection_manager\r\n            typed_config:\r\n              &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\r\n              codec_type: auto\r\n              stat_prefix: ingress_http\r\n              stream_idle_timeout: 0s\r\n              route_config:\r\n                name: local_route\r\n                virtual_hosts:\r\n                  - name: local_service\r\n                    domains: [&quot;*&quot;]\r\n                    routes:\r\n                      - match: { prefix: &quot;/&quot; }\r\n                        route:\r\n                          cluster: sse_service\r\n                          timeout: 0s\r\n                          max_stream_duration:\r\n                            grpc_timeout_header_max: 0s\r\n                    cors:\r\n                      allow_origin_string_match:\r\n                        - prefix: &quot;*&quot;\r\n                      allow_methods: GET, PUT, DELETE, POST, OPTIONS\r\n                      allow_headers: keep-alive,user-agent,cache-control,content-type,content-transfer-encoding,custom-header-1,x-accept-content-transfer-encoding,x-accept-response-streaming,x-user-agent,x-grpc-web,grpc-timeout\r\n                      max_age: &quot;1728000&quot;\r\n                      expose_headers: custom-header-1,grpc-status,grpc-message\r\n              http_filters:\r\n                - name: envoy.filters.http.grpc_web\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.grpc_web.v3.GrpcWeb\r\n                - name: envoy.filters.http.cors\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors\r\n                - name: envoy.filters.http.router\r\n                  typed_config:\r\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.router.v3.Router\r\n  clusters:\r\n    - name: sse_service\r\n      connect_timeout: 60s\r\n      type: logical_dns\r\n      typed_extension_protocol_options:\r\n        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:\r\n          &quot;@type&quot;: type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions\r\n          explicit_http_config:\r\n            http2_protocol_options: {}\r\n      http2_protocol_options: {}\r\n      lb_policy: round_robin\r\n      load_assignment:\r\n        cluster_name: cluster_0\r\n        endpoints:\r\n          - lb_endpoints:\r\n            - endpoint:\r\n                address:\r\n                  socket_address:\r\n                    address: localhost\r\n                    port_value: 9090\r\n```\r\n\r\n\r\nAny clue on what my be going on?","title":"GRPC-Web Stream: Only receiving data when stream is closed","body":"<p>I have setup a simple Java &amp; Spring Boot backend in order to stream data to a gRPC-web client.</p>\n<p>The Streaming is working as expected when calling from Postman. I call the endpoint and receive the data every 2 seconds.</p>\n<p>But when I start the stream from the web client, I only get the data once the stream is closed on server-side. I can't figure out why this is happening.</p>\n<p>I have the Envoy gateway to proxy the calls from the FE to BE. This is the whole code I have:</p>\n<p>Proto Definition:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage com.example.api;\n\noption java_multiple_files = true;\noption java_package = &quot;com.example.api&quot;;\n\nservice SSEService {\n  rpc Connect (SSEConnectionRequest) returns (stream SSEMessageResponse) {}\n  rpc Ping (PingRequest) returns (PongResponse) {}\n}\n\nmessage SSEConnectionRequest {\n  repeated string topics = 1;\n}\n\nmessage SSEMessageResponse {\n  string id = 1;\n  string type = 2;\n  string payload = 3;\n}\n\nmessage PingRequest {\n  string message = 1;\n}\n\nmessage PongResponse {\n  string message = 1;\n}\n</code></pre>\n<p>This the Backend handler:</p>\n<pre><code>@GrpcService\n@Slf4j\npublic class SSEHandler extends SSEServiceGrpc.SSEServiceImplBase {\n    @SneakyThrows\n    @Override\n    public void connect(SSEConnectionRequest request, StreamObserver&lt;SSEMessageResponse&gt; responseObserver) {\n        var newObserver = (ServerCallStreamObserver&lt;SSEMessageResponse&gt;) responseObserver;\n        log.info(&quot;Is observer ready? {}&quot;, newObserver.isReady());\n\n        while(!newObserver.isReady()) {\n            log.info(&quot;Waiting for the stream to be ready&quot;);\n        }\n\n        for (var i = 0; i &lt; 5; i++) {\n            var response = SSEMessageResponse.newBuilder()\n                .setId(UUID.randomUUID().toString())\n                .setType(&quot;MessageType&quot;)\n                .setPayload(&quot;Message number #&quot; + i)\n                .build();\n\n            log.info(&quot;Sending response down the stream to client. Number {}&quot;, i);\n            newObserver.onNext(response);\n\n            Thread.sleep(2000);\n        }\n            responseObserver.onCompleted();\n\n    }\n\n    @Override\n    public void ping(PingRequest request, StreamObserver&lt;PongResponse&gt; responseObserver) {\n        log.info(&quot;Will send a response now&quot;);\n        var response = PongResponse.newBuilder()\n            .setMessage(&quot;Test response&quot;)\n            .build();\n\n        responseObserver.onNext(response);\n        responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>This is the web client:</p>\n<pre><code>const grpcClient = new SSEServiceClient('http://localhost:9999');\nconst stream =   grpcClient.connect(new SSEConnectionRequest());\n    stream.on('data', (data: SSEMessageResponse) =&gt; {\n      console.log('data', data);\n    });\n\n    stream.on('status', (status: any) =&gt; {\n      console.log('STATUS', status);\n    });\n\n    stream.on('error', (e: Error) =&gt; {\n      console.log('error', e);\n      stream.cancel();\n    });\n</code></pre>\n<p>And this is the Envoy static config:</p>\n<pre><code>admin:\n  access_log_path: /tmp/admin_access.log\n  address:\n    socket_address: { address: 0.0.0.0, port_value: 9901 }\n\nstatic_resources:\n  listeners:\n    - name: listener_0\n      address:\n        socket_address: { address: 0.0.0.0, port_value: 9999 }\n      filter_chains:\n        - filters:\n          - name: envoy.filters.network.http_connection_manager\n            typed_config:\n              &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n              codec_type: auto\n              stat_prefix: ingress_http\n              stream_idle_timeout: 0s\n              route_config:\n                name: local_route\n                virtual_hosts:\n                  - name: local_service\n                    domains: [&quot;*&quot;]\n                    routes:\n                      - match: { prefix: &quot;/&quot; }\n                        route:\n                          cluster: sse_service\n                          timeout: 0s\n                          max_stream_duration:\n                            grpc_timeout_header_max: 0s\n                    cors:\n                      allow_origin_string_match:\n                        - prefix: &quot;*&quot;\n                      allow_methods: GET, PUT, DELETE, POST, OPTIONS\n                      allow_headers: keep-alive,user-agent,cache-control,content-type,content-transfer-encoding,custom-header-1,x-accept-content-transfer-encoding,x-accept-response-streaming,x-user-agent,x-grpc-web,grpc-timeout\n                      max_age: &quot;1728000&quot;\n                      expose_headers: custom-header-1,grpc-status,grpc-message\n              http_filters:\n                - name: envoy.filters.http.grpc_web\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.grpc_web.v3.GrpcWeb\n                - name: envoy.filters.http.cors\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.cors.v3.Cors\n                - name: envoy.filters.http.router\n                  typed_config:\n                    &quot;@type&quot;: type.googleapis.com/envoy.extensions.filters.http.router.v3.Router\n  clusters:\n    - name: sse_service\n      connect_timeout: 60s\n      type: logical_dns\n      typed_extension_protocol_options:\n        envoy.extensions.upstreams.http.v3.HttpProtocolOptions:\n          &quot;@type&quot;: type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions\n          explicit_http_config:\n            http2_protocol_options: {}\n      http2_protocol_options: {}\n      lb_policy: round_robin\n      load_assignment:\n        cluster_name: cluster_0\n        endpoints:\n          - lb_endpoints:\n            - endpoint:\n                address:\n                  socket_address:\n                    address: localhost\n                    port_value: 9090\n</code></pre>\n<p>Any clue on what my be going on?</p>\n"},{"tags":["java","xjc"],"owner":{"account_id":1754229,"reputation":96,"user_id":1602621,"display_name":"zsoltii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687512266,"creation_date":1687512266,"question_id":76538739,"body_markdown":"I have 4 xsd-s. The main xsd include an other one with contains same name elements and I have a catalog.xml. The company policy doesn&#39;t allow to change these xsd-s (don&#39;t ask why)\r\n\r\nIf I generate java class and compile only the one xsd, which contains the same name elements, I can make it with a binding.xml.\r\nWhen I try to generate java class and compile from the main xsd, I cannot figure out, how I have to write the binding file.\r\n\r\nMain xsd: `object.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xs:schema\r\n\t\txmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t\txmlns:ac=&quot;http://aa.com/common&quot;\r\n\t\ttargetNamespace=&quot;http://aa.com/&quot;\r\n\t\txmlns:tns=&quot;http://aa.com/&quot;\r\n\t\telementFormDefault=&quot;qualified&quot;\r\n\t\tattributeFormDefault=&quot;unqualified&quot;&gt;\r\n\t&lt;xs:import namespace=&quot;http://aa.com/common&quot;/&gt;\r\n\t&lt;xs:include schemaLocation=&quot;http://aa.com/include_good.xsd&quot;/&gt;\r\n\t&lt;xs:include schemaLocation=&quot;http://aa.com/include_same_name_fields.xsd&quot;/&gt;\r\n\t&lt;xs:element name=&quot;ARequest&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:complexContent&gt;\r\n\t\t\t\t&lt;xs:extension base=&quot;ac:GeneralRequest&quot;&gt;\r\n\t\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t\t&lt;xs:element name=&quot;body&quot; type=&quot;tns:ARequestBodyType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t\t&lt;/xs:extension&gt;\r\n\t\t\t&lt;/xs:complexContent&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:element name=&quot;AResponse&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:complexContent&gt;\r\n\t\t\t\t&lt;xs:extension base=&quot;ac:GeneralResponse&quot;&gt;\r\n\t\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t\t&lt;xs:element name=&quot;body&quot; type=&quot;tns:AResponseBodyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t\t&lt;/xs:extension&gt;\r\n\t\t\t&lt;/xs:complexContent&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n\t&lt;xs:complexType name=&quot;ARequestBodyType&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element ref=&quot;tns:B&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\t&lt;xs:complexType name=&quot;AResponseBodyType&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element ref=&quot;tns:G&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`aa.common.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema targetNamespace=&quot;http://aa.com/common&quot;\r\n           elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n           xmlns:tns=&quot;http://aa.com/common&quot;&gt;\r\n    &lt;xs:complexType name=&quot;GeneralRequest&quot; abstract=&quot;true&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;GeneralResponse&quot; abstract=&quot;true&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`include_good.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xsd:element name=&quot;B&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n            &lt;xsd:sequence&gt;\r\n                &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;C&quot;&gt;\r\n                    &lt;xsd:complexType&gt;\r\n                        &lt;xsd:sequence&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;D&quot;&gt;&lt;/xsd:element&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;E&quot;&gt;&lt;/xsd:element&gt;\r\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;F&quot;&gt;&lt;/xsd:element&gt;\r\n                        &lt;/xsd:sequence&gt;\r\n                    &lt;/xsd:complexType&gt;\r\n                &lt;/xsd:element&gt;\r\n            &lt;/xsd:sequence&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:element&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\n`include_same_name_fields.xsd`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:element name=&quot;G&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:sequence&gt;\r\n                            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;H&quot;&gt;\r\n                                &lt;xs:complexType&gt;\r\n                                    &lt;xs:sequence&gt;\r\n                                        &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\r\n                                            &lt;xs:complexType&gt;\r\n                                                &lt;xs:sequence&gt;\r\n                                                    &lt;xs:element name=&quot;I&quot; type=&quot;xs:string&quot;/&gt;\r\n                                                &lt;/xs:sequence&gt;\r\n                                            &lt;/xs:complexType&gt;\r\n                                        &lt;/xs:element&gt;\r\n                                    &lt;/xs:sequence&gt;\r\n                                &lt;/xs:complexType&gt;\r\n                            &lt;/xs:element&gt;\r\n                        &lt;/xs:sequence&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\n`catalog.xml`\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;catalog xmlns=&#39;urn:oasis:names:tc:entity:xmlns:xml:catalog&#39;&gt;\r\n\r\n    &lt;public publicId=&quot;http://aa.com/common&quot; uri=&quot;common/aa.common.xsd&quot;/&gt;\r\n\r\n\r\n    &lt;system systemId=&quot;http://aa.com/include_same_name_fields.xsd&quot; uri=&quot;include_same_name_fields.xsd&quot;/&gt;\r\n    &lt;system systemId=&quot;http://aa.com/include_good.xsd&quot; uri=&quot;include_good.xsd&quot;/&gt;\r\n\r\n&lt;/catalog&gt;\r\n```\r\n\r\nThis is the binding file for the `include_same_name_fields.xsd`, when you generate and complile only this file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n    &lt;bindings\r\n            schemaLocation=&quot;../schemas/include_same_name_fields.xsd&quot;&gt;\r\n        &lt;bindings node=&quot;//xs:element[@name=&#39;H&#39;]/xs:complexType/xs:sequence\r\n            /xs:element[@name=&#39;DUPLICATE_NAME&#39;]/xs:complexType&quot;&gt;\r\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;schemaBindings&gt;\r\n            &lt;package name=&quot;com.aa.test&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\n&lt;/bindings&gt;\r\n```\r\n\r\nBut I cannot figure out, how I need to change the binding file, if I would like to generate and compile the main xsd.\r\n\r\nHere is the maven project on github: https://github.com/zsoltii/jakarta-xsd-to-object\r\n\r\nI tried this binding file, but it doesn&#39;t found element:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\r\n    &lt;bindings\r\n            schemaLocation=&quot;../schemas/object.xsd&quot;&gt;\r\n        &lt;bindings node=&quot;//xs:element[@name=&#39;H&#39;]/xs:complexType/xs:sequence\r\n            /xs:element[@name=&#39;DUPLICATE_NAME&#39;]/xs:complexType&quot;&gt;\r\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;schemaBindings&gt;\r\n            &lt;package name=&quot;com.aa&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n    &lt;/bindings&gt;\r\n\r\n&lt;/bindings&gt;\r\n```\r\n\r\nIf you have any idea, how I change the binding file, go ahead.If I rename in the `include_same_name_fields.xsd` one of the duplicate name element, the maven project can generate and complile the java objects from xsd, so I think my setup is good, except the binding file.","title":"xsd to object with included xsd which contains same name elements","body":"<p>I have 4 xsd-s. The main xsd include an other one with contains same name elements and I have a catalog.xml. The company policy doesn't allow to change these xsd-s (don't ask why)</p>\n<p>If I generate java class and compile only the one xsd, which contains the same name elements, I can make it with a binding.xml.\nWhen I try to generate java class and compile from the main xsd, I cannot figure out, how I have to write the binding file.</p>\n<p>Main xsd: <code>object.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xs:schema\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:ac=&quot;http://aa.com/common&quot;\n        targetNamespace=&quot;http://aa.com/&quot;\n        xmlns:tns=&quot;http://aa.com/&quot;\n        elementFormDefault=&quot;qualified&quot;\n        attributeFormDefault=&quot;unqualified&quot;&gt;\n    &lt;xs:import namespace=&quot;http://aa.com/common&quot;/&gt;\n    &lt;xs:include schemaLocation=&quot;http://aa.com/include_good.xsd&quot;/&gt;\n    &lt;xs:include schemaLocation=&quot;http://aa.com/include_same_name_fields.xsd&quot;/&gt;\n    &lt;xs:element name=&quot;ARequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:complexContent&gt;\n                &lt;xs:extension base=&quot;ac:GeneralRequest&quot;&gt;\n                    &lt;xs:sequence&gt;\n                        &lt;xs:element name=&quot;body&quot; type=&quot;tns:ARequestBodyType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:extension&gt;\n            &lt;/xs:complexContent&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:element name=&quot;AResponse&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:complexContent&gt;\n                &lt;xs:extension base=&quot;ac:GeneralResponse&quot;&gt;\n                    &lt;xs:sequence&gt;\n                        &lt;xs:element name=&quot;body&quot; type=&quot;tns:AResponseBodyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:extension&gt;\n            &lt;/xs:complexContent&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n    &lt;xs:complexType name=&quot;ARequestBodyType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element ref=&quot;tns:B&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;AResponseBodyType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element ref=&quot;tns:G&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>aa.common.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema targetNamespace=&quot;http://aa.com/common&quot;\n           elementFormDefault=&quot;qualified&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n           xmlns:tns=&quot;http://aa.com/common&quot;&gt;\n    &lt;xs:complexType name=&quot;GeneralRequest&quot; abstract=&quot;true&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;GeneralResponse&quot; abstract=&quot;true&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;id&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n            &lt;xs:element name=&quot;body&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>include_good.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xsd:element name=&quot;B&quot;&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;C&quot;&gt;\n                    &lt;xsd:complexType&gt;\n                        &lt;xsd:sequence&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;D&quot;&gt;&lt;/xsd:element&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;E&quot;&gt;&lt;/xsd:element&gt;\n                            &lt;xsd:element type=&quot;xsd:string&quot; name=&quot;F&quot;&gt;&lt;/xsd:element&gt;\n                        &lt;/xsd:sequence&gt;\n                    &lt;/xsd:complexType&gt;\n                &lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n    &lt;/xsd:element&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p><code>include_same_name_fields.xsd</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:element name=&quot;G&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\n                    &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;H&quot;&gt;\n                                &lt;xs:complexType&gt;\n                                    &lt;xs:sequence&gt;\n                                        &lt;xs:element name=&quot;DUPLICATE_NAME&quot;&gt;\n                                            &lt;xs:complexType&gt;\n                                                &lt;xs:sequence&gt;\n                                                    &lt;xs:element name=&quot;I&quot; type=&quot;xs:string&quot;/&gt;\n                                                &lt;/xs:sequence&gt;\n                                            &lt;/xs:complexType&gt;\n                                        &lt;/xs:element&gt;\n                                    &lt;/xs:sequence&gt;\n                                &lt;/xs:complexType&gt;\n                            &lt;/xs:element&gt;\n                        &lt;/xs:sequence&gt;\n                    &lt;/xs:complexType&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p><code>catalog.xml</code></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;catalog xmlns='urn:oasis:names:tc:entity:xmlns:xml:catalog'&gt;\n\n    &lt;public publicId=&quot;http://aa.com/common&quot; uri=&quot;common/aa.common.xsd&quot;/&gt;\n\n\n    &lt;system systemId=&quot;http://aa.com/include_same_name_fields.xsd&quot; uri=&quot;include_same_name_fields.xsd&quot;/&gt;\n    &lt;system systemId=&quot;http://aa.com/include_good.xsd&quot; uri=&quot;include_good.xsd&quot;/&gt;\n\n&lt;/catalog&gt;\n</code></pre>\n<p>This is the binding file for the <code>include_same_name_fields.xsd</code>, when you generate and complile only this file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\n    &lt;bindings\n            schemaLocation=&quot;../schemas/include_same_name_fields.xsd&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='H']/xs:complexType/xs:sequence\n            /xs:element[@name='DUPLICATE_NAME']/xs:complexType&quot;&gt;\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\n        &lt;/bindings&gt;\n        &lt;schemaBindings&gt;\n            &lt;package name=&quot;com.aa.test&quot;/&gt;\n        &lt;/schemaBindings&gt;\n    &lt;/bindings&gt;\n\n&lt;/bindings&gt;\n</code></pre>\n<p>But I cannot figure out, how I need to change the binding file, if I would like to generate and compile the main xsd.</p>\n<p>Here is the maven project on github: <a href=\"https://github.com/zsoltii/jakarta-xsd-to-object\" rel=\"nofollow noreferrer\">https://github.com/zsoltii/jakarta-xsd-to-object</a></p>\n<p>I tried this binding file, but it doesn't found element:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;bindings xmlns=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n          xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n          if-exists=&quot;true&quot; version=&quot;3.0&quot;&gt;\n    &lt;bindings\n            schemaLocation=&quot;../schemas/object.xsd&quot;&gt;\n        &lt;bindings node=&quot;//xs:element[@name='H']/xs:complexType/xs:sequence\n            /xs:element[@name='DUPLICATE_NAME']/xs:complexType&quot;&gt;\n            &lt;class name=&quot;DUPLICATE_NAME_H&quot;/&gt;\n        &lt;/bindings&gt;\n        &lt;schemaBindings&gt;\n            &lt;package name=&quot;com.aa&quot;/&gt;\n        &lt;/schemaBindings&gt;\n    &lt;/bindings&gt;\n\n&lt;/bindings&gt;\n</code></pre>\n<p>If you have any idea, how I change the binding file, go ahead.If I rename in the <code>include_same_name_fields.xsd</code> one of the duplicate name element, the maven project can generate and complile the java objects from xsd, so I think my setup is good, except the binding file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1686651558,"post_id":76463592,"comment_id":134825085,"body_markdown":"What exactly is &quot;assert first hashmap with second, if any data set doesn&#39;t match then need to check for the next data set.&quot; supposed to mean?","body":"What exactly is &quot;assert first hashmap with second, if any data set doesn&#39;t match then need to check for the next data set.&quot; supposed to mean?"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1686743566,"post_id":76463592,"comment_id":134840492,"body_markdown":"second json array has two objects and first json array has 4 index, so basically want to compare 1st index of second json object with all the objects first json if any match then will return true and same want to do with second index also. @user207421","body":"second json array has two objects and first json array has 4 index, so basically want to compare 1st index of second json object with all the objects first json if any match then will return true and same want to do with second index also. @user207421"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687164770,"post_id":76463592,"comment_id":134893431,"body_markdown":"@user207421 have updated the question, can you please check.","body":"@user207421 have updated the question, can you please check."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1687165230,"post_id":76463592,"comment_id":134893523,"body_markdown":"And what would the result be? What does &quot;match A with B&quot; mean exactly? Do you want to merge the two lists? Do you want to update list A with values from list B? Do you want to create a new list C with A and B tied together?","body":"And what would the result be? What does &quot;match A with B&quot; mean exactly? Do you want to merge the two lists? Do you want to update list A with values from list B? Do you want to create a new list C with A and B tied together?"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":2,"creation_date":1687165505,"post_id":76463592,"comment_id":134893576,"body_markdown":"Match in what way? The data in the two JSONs don&#39;t look similar. Why use streams? Also your choice of classes is strange. On the one hand the class structures are the same, so way are these two different classes? On the other hand, the one JSON is using numbers instead of strings for `fromPartyId`, so why isn&#39;t that represented in the class?","body":"Match in what way? The data in the two JSONs don&#39;t look similar. Why use streams? Also your choice of classes is strange. On the one hand the class structures are the same, so way are these two different classes? On the other hand, the one JSON is using numbers instead of strings for <code>fromPartyId</code>, so why isn&#39;t that represented in the class?"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687167281,"post_id":76463592,"comment_id":134893997,"body_markdown":"@knittl want to assert the keys and value with class A and class B, expectation is, if all values and matched then return true else return false.","body":"@knittl want to assert the keys and value with class A and class B, expectation is, if all values and matched then return true else return false."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1687168117,"post_id":76463592,"comment_id":134894207,"body_markdown":"How do you want to match? On id? On id+type? Something else? How should duplicates be handled? In your given example, no two objects are equal","body":"How do you want to match? On id? On id+type? Something else? How should duplicates be handled? In your given example, no two objects are equal"},{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687170796,"post_id":76463592,"comment_id":134894760,"body_markdown":"Want to match based on json objects like LedgerEntryResponseActual.fromPartyId == LedgerResponseExpected.fromPartyId.\n\nyeah, On id+type. @knittl","body":"Want to match based on json objects like LedgerEntryResponseActual.fromPartyId == LedgerResponseExpected.fromPartyId.  yeah, On id+type. @knittl"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1687173034,"post_id":76463592,"comment_id":134895146,"body_markdown":"Can you implement equals/hashCode in one of your classes? (But why is it not a single class since both properties are the same?)","body":"Can you implement equals/hashCode in one of your classes? (But why is it not a single class since both properties are the same?)"}],"answers":[{"comments":[{"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"score":0,"creation_date":1687167637,"post_id":76505149,"comment_id":134894084,"body_markdown":"LedgerResponseExpected is my expected which I&#39;m deserialising from expected json and LedgerEntryResponseActual to use in deserialisation of response which i&#39;m getting from api, and then i need to validate the value and keys from LedgerResponseExpected to LedgerEntryResponseActual. @Michael Gantman","body":"LedgerResponseExpected is my expected which I&#39;m deserialising from expected json and LedgerEntryResponseActual to use in deserialisation of response which i&#39;m getting from api, and then i need to validate the value and keys from LedgerResponseExpected to LedgerEntryResponseActual. @Michael Gantman"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":1,"creation_date":1687171223,"post_id":76505149,"comment_id":134894840,"body_markdown":"They are not different classes they should be 2 different instances of the same class","body":"They are not different classes they should be 2 different instances of the same class"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687165422,"creation_date":1687165422,"answer_id":76505149,"question_id":76463592,"body_markdown":"Wrong understanding of concepts. You should only have one class `LedgerResponse` and have 2 instances of list and than just compare 2 lists","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>Wrong understanding of concepts. You should only have one class <code>LedgerResponse</code> and have 2 instances of list and than just compare 2 lists</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687512057,"creation_date":1687511695,"answer_id":76538669,"question_id":76463592,"body_markdown":"Take a look at AssertJ which is fantastic for all types of assertions, including collections. AssertJ has far better failure messages than the usual &quot;expected true, found false&quot;\r\n\r\nhttps://assertj.github.io/doc/\r\n\r\nEg\r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.*;\r\nimport java.util.stream.Collectors.*\r\n\r\nList&lt;ClassA&gt; listA = parseJson(&quot;a.json&quot;, ClassA.class);\r\nList&lt;ClassB&gt; listB = parseJson(&quot;b.json&quot;, ClassB.class);\r\n\r\nSet&lt;String&gt; stringsA = listA.stream(0)\r\n   .map(a -&gt; String.format(&quot;%s:%s&quot;, a.fromPartyId, a.fromType)\r\n   .collect(toSet());\r\n\r\nassertThat(listB)\r\n   .extracting(b -&gt; String.format(&quot;%s:%s&quot;, b.fromPartyId, b.fromType)\r\n   .containsAnyElementsOf(stringsA);\r\n","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>Take a look at AssertJ which is fantastic for all types of assertions, including collections. AssertJ has far better failure messages than the usual &quot;expected true, found false&quot;</p>\n<p><a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">https://assertj.github.io/doc/</a></p>\n<p>Eg</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.*;\nimport java.util.stream.Collectors.*\n\nList&lt;ClassA&gt; listA = parseJson(&quot;a.json&quot;, ClassA.class);\nList&lt;ClassB&gt; listB = parseJson(&quot;b.json&quot;, ClassB.class);\n\nSet&lt;String&gt; stringsA = listA.stream(0)\n   .map(a -&gt; String.format(&quot;%s:%s&quot;, a.fromPartyId, a.fromType)\n   .collect(toSet());\n\nassertThat(listB)\n   .extracting(b -&gt; String.format(&quot;%s:%s&quot;, b.fromPartyId, b.fromType)\n   .containsAnyElementsOf(stringsA);\n</code></pre>\n"}],"owner":{"account_id":7319434,"reputation":107,"user_id":5575897,"display_name":"Kuldeep Yadav"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1687512057,"creation_date":1686649320,"question_id":76463592,"body_markdown":"have two json list one json list has 2 json object and class type is classA and 2nd json list has 4 json objects and class type is classB so want to assert 1st json object of list one with all 4 objects 2nd json list and retrun true if one is match with at least one json objects of 2nd list \r\n\r\nSample of class A:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    \r\n    public class classA {\r\n    \r\n        private String fromPartyId;\r\n    \r\n        private PartyType fromType;\r\n    }\r\nAnd Sample of Class B:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    \r\n    public class classB {\r\n    \r\n        private String fromPartyId;\r\n    \r\n        private PartyType fromType;\r\n    }\r\n\r\nJson Data for the Class A:\r\n\r\n    [\r\n        {\r\n            &quot;fromPartyId&quot;: 1265389,\r\n            &quot;fromType&quot;: &quot;T168716355035036378&quot;\r\n        },\r\n        {\r\n        &quot;fromPartyId&quot;: 1265389,\r\n        &quot;fromType&quot;: &quot;T168716355035036379&quot;\r\n        }\r\n    \r\n    ]\r\n\r\n\r\nSample data for class B:\r\n\r\n        [\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;13916fb0-fa83-40aa-a452-37de08e392ba&quot;,\r\n          &quot;fromType&quot;: &quot;MERCHANT&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        },\r\n        {\r\n          &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\r\n          &quot;fromType&quot;: &quot;INTERCHANGE&quot;\r\n        }\r\n      ]\r\n\r\nNOTE: `PartyType` is enum.\r\n\r\nable to assert a one key and value but want assert all the keys and values at once.\r\n\r\n    boolean anyMatch = classB.stream().anyMatch(element -&gt; element.getPartyId().contains(classA.getPartyId()));\r\n\r\nWant to match the keys and value of class A with class B with help of java steam.\r\n","title":"Assert the two ArrayList&lt;ClassA&gt; with the ArrayList&lt;ClassB&gt; using Steam API","body":"<p>have two json list one json list has 2 json object and class type is classA and 2nd json list has 4 json objects and class type is classB so want to assert 1st json object of list one with all 4 objects 2nd json list and retrun true if one is match with at least one json objects of 2nd list</p>\n<p>Sample of class A:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\n\npublic class classA {\n\n    private String fromPartyId;\n\n    private PartyType fromType;\n}\n</code></pre>\n<p>And Sample of Class B:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n\npublic class classB {\n\n    private String fromPartyId;\n\n    private PartyType fromType;\n}\n</code></pre>\n<p>Json Data for the Class A:</p>\n<pre><code>[\n    {\n        &quot;fromPartyId&quot;: 1265389,\n        &quot;fromType&quot;: &quot;T168716355035036378&quot;\n    },\n    {\n    &quot;fromPartyId&quot;: 1265389,\n    &quot;fromType&quot;: &quot;T168716355035036379&quot;\n    }\n\n]\n</code></pre>\n<p>Sample data for class B:</p>\n<pre><code>    [\n    {\n      &quot;fromPartyId&quot;: &quot;13916fb0-fa83-40aa-a452-37de08e392ba&quot;,\n      &quot;fromType&quot;: &quot;MERCHANT&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    },\n    {\n      &quot;fromPartyId&quot;: &quot;ce2593b1-2cc4-46c7-b1fe-9a57990f593c&quot;,\n      &quot;fromType&quot;: &quot;INTERCHANGE&quot;\n    }\n  ]\n</code></pre>\n<p>NOTE: <code>PartyType</code> is enum.</p>\n<p>able to assert a one key and value but want assert all the keys and values at once.</p>\n<pre><code>boolean anyMatch = classB.stream().anyMatch(element -&gt; element.getPartyId().contains(classA.getPartyId()));\n</code></pre>\n<p>Want to match the keys and value of class A with class B with help of java steam.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687162524,"post_id":76504771,"comment_id":134892951,"body_markdown":"What have you tried? Why didn&#39;t it work?","body":"What have you tried? Why didn&#39;t it work?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687162622,"post_id":76504771,"comment_id":134892969,"body_markdown":"Ditto, but adding that regex doesn&#39;t &quot;do&quot; anything to the input string. It only matches parts/all of it. To &quot;do&quot; something, you need app code... please show some of that too. See [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166).","body":"Ditto, but adding that regex doesn&#39;t &quot;do&quot; anything to the input string. It only matches parts/all of it. To &quot;do&quot; something, you need app code... please show some of that too. See <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1687167209,"post_id":76504771,"comment_id":134893979,"body_markdown":"Try to replace [`^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$` with `$1`](https://regex101.com/r/yVnqJU/1) This will 1.) If all string is composed from an uneven amount of `4040` replace the full string with the first occurance 2.) OR trim `4040` either from *start* or *end* of the string.","body":"Try to replace <a href=\"https://regex101.com/r/yVnqJU/1\" rel=\"nofollow noreferrer\"><code>^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$</code> with <code>$1</code></a> This will 1.) If all string is composed from an uneven amount of <code>4040</code> replace the full string with the first occurance 2.) OR trim <code>4040</code> either from <i>start</i> or <i>end</i> of the string."},{"owner":{"account_id":13211327,"reputation":852,"user_id":9541464,"display_name":"Deep Ghodasara"},"score":0,"creation_date":1687169846,"post_id":76504771,"comment_id":134894579,"body_markdown":"yes it&#39;s working","body":"yes it&#39;s working"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687162664,"creation_date":1687162664,"answer_id":76504818,"question_id":76504771,"body_markdown":"Why use a regex? Just make life easy for yourself:\r\n\r\n(pseudo code)\r\n```\r\nvar string = ...\r\nwhile (string.startsWith(&quot;4040&quot;) &amp;&amp; string.endsWith(&quot;4040&quot;)) {\r\n  string = string.substring(4, string.length - 4)\r\n}\r\nreturn string\r\n```","title":"Regex to check odd number of occurance in string","body":"<p>Why use a regex? Just make life easy for yourself:</p>\n<p>(pseudo code)</p>\n<pre><code>var string = ...\nwhile (string.startsWith(&quot;4040&quot;) &amp;&amp; string.endsWith(&quot;4040&quot;)) {\n  string = string.substring(4, string.length - 4)\n}\nreturn string\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4947591,"reputation":19926,"user_id":3982562,"accept_rate":100,"display_name":"3limin4t0r"},"score":0,"creation_date":1687163871,"post_id":76504854,"comment_id":134893255,"body_markdown":"`replaceFirst` could also be used to make it more efficient, since there is never going to be more than 1 match.","body":"<code>replaceFirst</code> could also be used to make it more efficient, since there is never going to be more than 1 match."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1687197668,"post_id":76504854,"comment_id":134900278,"body_markdown":"@3limin4t0r I disagree. Because this regex matches the entire input (it ends with `$`), it immediately halts. I strongly doubt you could measure the difference. The choice of method is based on style: Choose the one that makes for clearer code.","body":"@3limin4t0r I disagree. Because this regex matches the entire input (it ends with <code>$</code>), it immediately halts. I strongly doubt you could measure the difference. The choice of method is based on style: Choose the one that makes for clearer code."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687162901,"creation_date":1687162901,"answer_id":76504854,"question_id":76504771,"body_markdown":"Try this:\r\n\r\n    str = str.replaceAll(&quot;^((?:4040)+)(.*?)\\\\1$&quot;, &quot;$2&quot;);\r\n\r\nThis works by requiring the same input front and back by way of the back reference `\\1` to the front. The middle is captured as group `2`, which is used to replace the entire string, effectively &quot;extracting&quot; it.","title":"Regex to check odd number of occurance in string","body":"<p>Try this:</p>\n<pre><code>str = str.replaceAll(&quot;^((?:4040)+)(.*?)\\\\1$&quot;, &quot;$2&quot;);\n</code></pre>\n<p>This works by requiring the same input front and back by way of the back reference <code>\\1</code> to the front. The middle is captured as group <code>2</code>, which is used to replace the entire string, effectively &quot;extracting&quot; it.</p>\n"},{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687511999,"creation_date":1687182281,"answer_id":76507233,"question_id":76504771,"body_markdown":"You can use the vertical bar to [alternate][1] between different scenarios:\r\n\r\n    ^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$\r\n\r\n[See this demo at regex101][2] (replace to `$1`, [capture][3] of the *first group*)\r\n\r\n1. `^(4040)(?:40404040)*$` If all string is composed from an uneven amount of `4040`&lt;br&gt; this will *capture* the first occurance and subsitute the string to the captured value.\r\n2. `|^(?:4040)+` OR match [one or more][4] occurances [at the start][5]\r\n3. `|(?:4040)+$` OR match one or more at the end of the string\r\n\r\nFor repetition of the substrings [`(?:` non capturing groups `)`][6] are used.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/alternation.html\r\n  [2]: https://regex101.com/r/yVnqJU/1\r\n  [3]: https://www.regular-expressions.info/brackets.html\r\n  [4]: https://www.regular-expressions.info/repeat.html\r\n  [5]: https://www.regular-expressions.info/anchors.html\r\n  [6]: https://www.regular-expressions.info/brackets.html#noncap","title":"Regex to check odd number of occurance in string","body":"<p>You can use the vertical bar to <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternate</a> between different scenarios:</p>\n<pre><code>^(4040)(?:40404040)*$|^(?:4040)+|(?:4040)+$\n</code></pre>\n<p><a href=\"https://regex101.com/r/yVnqJU/1\" rel=\"nofollow noreferrer\">See this demo at regex101</a> (replace to <code>$1</code>, <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capture</a> of the <em>first group</em>)</p>\n<ol>\n<li><code>^(4040)(?:40404040)*$</code> If all string is composed from an uneven amount of <code>4040</code><br> this will <em>capture</em> the first occurance and subsitute the string to the captured value.</li>\n<li><code>|^(?:4040)+</code> OR match <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">one or more</a> occurances <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">at the start</a></li>\n<li><code>|(?:4040)+$</code> OR match one or more at the end of the string</li>\n</ol>\n<p>For repetition of the substrings <a href=\"https://www.regular-expressions.info/brackets.html#noncap\" rel=\"nofollow noreferrer\"><code>(?:</code> non capturing groups <code>)</code></a> are used.</p>\n"}],"owner":{"account_id":13211327,"reputation":852,"user_id":9541464,"display_name":"Deep Ghodasara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":3,"score":1,"last_activity_date":1687511999,"creation_date":1687162271,"question_id":76504771,"body_markdown":"I want to make java regex to remove string &quot;4040&quot; before and after string, considering below scenarios.\r\n\r\n**scenario : 1**\r\n\r\nIf whole string having even pair of 4040 then it will remove each pair and output will be empty string.\r\n\r\nexample :\r\n\r\n - 4040404040404040 --&gt; &quot;&quot;\r\n - 40404040 --&gt; &quot;&quot;\r\n\r\n**scenario : 2**\r\n\r\nIn other case there can be some data in-between pairs of 4040 then it should return that string after removing 4040 from both size. No of pair both side can be any (also can be 0).\r\n\r\nexample:-\r\n\r\n - 4040StackOverFlow4040 --&gt; StackOverFlow\r\n - 4040StackOverFlow40404040 --&gt; StackOverFlow\r\n - StackOverFlow4040 --&gt; StackOverFlow\r\n - 40404040StackOverFlow --&gt; StackOverFlow\r\n\r\n**scenario : 3**\r\n\r\nIf I having odd no of pairs for 4040 the it should return &quot;4040&quot;. because middle one is actual data.\r\n\r\nexample:-\r\n\r\n - 404040404040 --&gt; 4040\r\n - 40404040404040404040 --&gt; 4040\r\n\r\nNeed one regex which can include all scenarios.\r\n\r\nI tried by matching string using `^(4040)*|(4040)*$` and replace it with empty string. But it is not working for third scenario. Any way to detect odd number of pairs of 4040.\r\n","title":"Regex to check odd number of occurance in string","body":"<p>I want to make java regex to remove string &quot;4040&quot; before and after string, considering below scenarios.</p>\n<p><strong>scenario : 1</strong></p>\n<p>If whole string having even pair of 4040 then it will remove each pair and output will be empty string.</p>\n<p>example :</p>\n<ul>\n<li>4040404040404040 --&gt; &quot;&quot;</li>\n<li>40404040 --&gt; &quot;&quot;</li>\n</ul>\n<p><strong>scenario : 2</strong></p>\n<p>In other case there can be some data in-between pairs of 4040 then it should return that string after removing 4040 from both size. No of pair both side can be any (also can be 0).</p>\n<p>example:-</p>\n<ul>\n<li>4040StackOverFlow4040 --&gt; StackOverFlow</li>\n<li>4040StackOverFlow40404040 --&gt; StackOverFlow</li>\n<li>StackOverFlow4040 --&gt; StackOverFlow</li>\n<li>40404040StackOverFlow --&gt; StackOverFlow</li>\n</ul>\n<p><strong>scenario : 3</strong></p>\n<p>If I having odd no of pairs for 4040 the it should return &quot;4040&quot;. because middle one is actual data.</p>\n<p>example:-</p>\n<ul>\n<li>404040404040 --&gt; 4040</li>\n<li>40404040404040404040 --&gt; 4040</li>\n</ul>\n<p>Need one regex which can include all scenarios.</p>\n<p>I tried by matching string using <code>^(4040)*|(4040)*$</code> and replace it with empty string. But it is not working for third scenario. Any way to detect odd number of pairs of 4040.</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":69,"user_id":10084790,"display_name":"Shmuel Greenberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687511998,"creation_date":1687511998,"answer_id":76538701,"question_id":76436528,"body_markdown":"It looks from the output that you&#39;re not chamging the input and output. In fact it looks like you&#39;re outputting the result of the first conversion only.\r\n\r\nI would suggest that you break your program into smaller chunks:\r\n1) a function that takes a letter and a rotor and returns the index,\r\n2) a function that takes a letter and a list of rotors that converts the letter through the rotors using function (1).\r\n3) a function that takes a string of letters and a list of rotors and converts the string through the rotors using function (2).\r\n\r\nThis way you can debug each step in the program and find exactly where a step might go wrong.\r\n\r\nGood luck!\r\n","title":"How would I fix my rotor cipher not properly ciphering?","body":"<p>It looks from the output that you're not chamging the input and output. In fact it looks like you're outputting the result of the first conversion only.</p>\n<p>I would suggest that you break your program into smaller chunks:</p>\n<ol>\n<li>a function that takes a letter and a rotor and returns the index,</li>\n<li>a function that takes a letter and a list of rotors that converts the letter through the rotors using function (1).</li>\n<li>a function that takes a string of letters and a list of rotors and converts the string through the rotors using function (2).</li>\n</ol>\n<p>This way you can debug each step in the program and find exactly where a step might go wrong.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":18247077,"reputation":35,"user_id":13282949,"display_name":"SonG0D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687511998,"creation_date":1686271587,"question_id":76436528,"body_markdown":"I am currently working on an Enigma project for my Java class (no not that one, the one where you go to learn). However, my Rotor cipher seems to be having a large issue in the fact that it isn&#39;t ciphering like it should.\r\n\r\n```java\r\n\r\n//The rotors i am using are the ones in the first enigma deployed in the german military\r\n\r\n    public static String RotorCipher(ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine, String input){\r\n        String constructor = &quot;&quot;;\r\n        ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine2 = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;(affine);\r\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;(affine.get(0)); //this is a char array with the alphabet in upper case\r\n        affine2.remove(0);\r\n        for(char x : input.toCharArray()){\r\n          int loc = list.indexOf(x);\r\n          if(loc == -1){\r\n            constructor += &quot;&quot;+x; //if it isn&#39;t in there, just remove it\r\n          }\r\n          else{\r\n            for(ArrayList&lt;Character&gt; rotor : affine2){\r\n                System.out.println(rotor);\r\n                System.out.println(loc);\r\n                System.out.print(x + &quot; to &quot;); \r\n                x = AffineCipher(list, rotor, x+&quot;&quot;).toCharArray()[0]; //use affine to properly pass rotor\r\n                System.out.println(x);\r\n            }\r\n          }\r\n          constructor += x+&quot;&quot;;\r\n        }\r\n        return constructor;\r\n    }\r\n```\r\n\r\nI run my code and I pass O through it, which according to a document I have suggests that it should immediately return an S. However, I get this output when passing it through.\r\n\r\n```\r\n&gt; &gt;r o\r\n[E, K, M, F, L, G, D, Q, V, Z, N, T, O, W, Y, H, X, U, S, P, A, I, B, R, C, J]\r\n14\r\nO to Y\r\n[A, J, D, K, S, I, R, U, X, B, L, H, W, T, M, C, Q, G, Z, N, P, Y, F, V, O, E]\r\n14\r\nY to O\r\n[B, D, F, H, J, L, C, P, R, T, X, V, Z, N, Y, E, I, W, G, A, K, M, U, S, Q, O]\r\n14\r\nO to Y\r\nY\r\n&gt;\r\n```\r\n\r\nI have no idea how to fix this and I have wasted hours of my life attempting to solve this but to no success.\r\n\r\nThanks in advance.","title":"How would I fix my rotor cipher not properly ciphering?","body":"<p>I am currently working on an Enigma project for my Java class (no not that one, the one where you go to learn). However, my Rotor cipher seems to be having a large issue in the fact that it isn't ciphering like it should.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//The rotors i am using are the ones in the first enigma deployed in the german military\n\n    public static String RotorCipher(ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine, String input){\n        String constructor = &quot;&quot;;\n        ArrayList&lt;ArrayList&lt;Character&gt;&gt; affine2 = new ArrayList&lt;ArrayList&lt;Character&gt;&gt;(affine);\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;(affine.get(0)); //this is a char array with the alphabet in upper case\n        affine2.remove(0);\n        for(char x : input.toCharArray()){\n          int loc = list.indexOf(x);\n          if(loc == -1){\n            constructor += &quot;&quot;+x; //if it isn't in there, just remove it\n          }\n          else{\n            for(ArrayList&lt;Character&gt; rotor : affine2){\n                System.out.println(rotor);\n                System.out.println(loc);\n                System.out.print(x + &quot; to &quot;); \n                x = AffineCipher(list, rotor, x+&quot;&quot;).toCharArray()[0]; //use affine to properly pass rotor\n                System.out.println(x);\n            }\n          }\n          constructor += x+&quot;&quot;;\n        }\n        return constructor;\n    }\n</code></pre>\n<p>I run my code and I pass O through it, which according to a document I have suggests that it should immediately return an S. However, I get this output when passing it through.</p>\n<pre><code>&gt; &gt;r o\n[E, K, M, F, L, G, D, Q, V, Z, N, T, O, W, Y, H, X, U, S, P, A, I, B, R, C, J]\n14\nO to Y\n[A, J, D, K, S, I, R, U, X, B, L, H, W, T, M, C, Q, G, Z, N, P, Y, F, V, O, E]\n14\nY to O\n[B, D, F, H, J, L, C, P, R, T, X, V, Z, N, Y, E, I, W, G, A, K, M, U, S, Q, O]\n14\nO to Y\nY\n&gt;\n</code></pre>\n<p>I have no idea how to fix this and I have wasted hours of my life attempting to solve this but to no success.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":3820683,"reputation":427,"user_id":3168862,"accept_rate":24,"display_name":"qaepk"},"score":0,"creation_date":1396082086,"post_id":22714112,"comment_id":34639713,"body_markdown":"How can I make the webdriver to wait until a download complete","body":"How can I make the webdriver to wait until a download complete"},{"owner":{"account_id":3059383,"reputation":1059,"user_id":2592387,"display_name":"Steve Weaver Crawford"},"score":0,"creation_date":1396277482,"post_id":22714112,"comment_id":34704423,"body_markdown":"This is stepping beyond the capabilities of WebDriver, once a download starts, it is no longer a browser operation, hence WebDriver cannot control it as such. Check out this blog post which is very informative when it comes to this very topic. http://ardesco.lazerycode.com/index.php/2012/07/how-to-download-files-with-selenium-and-why-you-shouldnt/","body":"This is stepping beyond the capabilities of WebDriver, once a download starts, it is no longer a browser operation, hence WebDriver cannot control it as such. Check out this blog post which is very informative when it comes to this very topic. <a href=\"http://ardesco.lazerycode.com/index.php/2012/07/how-to-download-files-with-selenium-and-why-you-shouldnt/\" rel=\"nofollow noreferrer\">ardesco.lazerycode.com/index.php/2012/07/&hellip;</a>"},{"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"score":0,"creation_date":1504837135,"post_id":22714112,"comment_id":79178180,"body_markdown":"link update: http://ardesco.lazerycode.com/testing/webdriver/2012/07/25/how-to-download-files-with-selenium-and-why-you-shouldnt.html","body":"link update: <a href=\"http://ardesco.lazerycode.com/testing/webdriver/2012/07/25/how-to-download-files-with-selenium-and-why-you-shouldnt.html\" rel=\"nofollow noreferrer\">ardesco.lazerycode.com/testing/webdriver/2012/07/25/&hellip;</a>"},{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":0,"creation_date":1562422966,"post_id":22714112,"comment_id":100372623,"body_markdown":"Check my answer [below](https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/56569251#56569251) which works 100% with the latest chrome browser (python implementation but you can port it to any other languages).","body":"Check my answer <a href=\"https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/56569251#56569251\">below</a> which works 100% with the latest chrome browser (python implementation but you can port it to any other languages)."}],"answers":[{"comments":[{"owner":{"account_id":72499,"reputation":6901,"user_id":209288,"accept_rate":58,"display_name":"scipilot"},"score":0,"creation_date":1627192114,"post_id":23787536,"comment_id":121087713,"body_markdown":"Surely this will loop infinitely when the file is finished? Shouldn&#39;t the logic me more like: while not exists or while less than expected size?","body":"Surely this will loop infinitely when the file is finished? Shouldn&#39;t the logic me more like: while not exists or while less than expected size?"},{"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"score":0,"creation_date":1667467484,"post_id":23787536,"comment_id":131175022,"body_markdown":"Yeap, some exit condition must be added. This is just a general advise not exact working solution for one particular case.","body":"Yeap, some exit condition must be added. This is just a general advise not exact working solution for one particular case."}],"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400685781,"creation_date":1400685781,"answer_id":23787536,"question_id":22714112,"body_markdown":"Well, your file is stored somewhere, right? So, check if it exists in file system \r\n\r\n    File f = new File(filePathString);\r\n    \r\n    do {\r\n      Thread.sleep(3000);\r\n    } while (f.exists() &amp;&amp; f.length() == expectedSizeInBytes)","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Well, your file is stored somewhere, right? So, check if it exists in file system </p>\n\n<pre><code>File f = new File(filePathString);\n\ndo {\n  Thread.sleep(3000);\n} while (f.exists() &amp;&amp; f.length() == expectedSizeInBytes)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11218139,"reputation":314,"user_id":8230045,"display_name":"Abhishek Thomas"},"score":0,"creation_date":1560857426,"post_id":25872546,"comment_id":99865853,"body_markdown":"This will result in an infinite loop if file is never found. Not a good way!!","body":"This will result in an infinite loop if file is never found. Not a good way!!"}],"tags":[],"owner":{"account_id":2740483,"reputation":108,"user_id":2362127,"accept_rate":25,"display_name":"Mark Boxall"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410880626,"creation_date":1410880626,"answer_id":25872546,"question_id":22714112,"body_markdown":"Some operating systems (e.g. Mac OS X) don&#39;t set the filename until the download is complete. So it seems sufficient to use a wait or a while loop to check for the file to exist.\r\n\r\ne.g.\r\n\r\n    File file = new File(fullPathToFile);\r\n    while (!file.exists()) {\r\n        Thread.sleep(1000);\r\n    }","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Some operating systems (e.g. Mac OS X) don't set the filename until the download is complete. So it seems sufficient to use a wait or a while loop to check for the file to exist.</p>\n\n<p>e.g.</p>\n\n<pre><code>File file = new File(fullPathToFile);\nwhile (!file.exists()) {\n    Thread.sleep(1000);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4011524,"reputation":879,"user_id":3304747,"display_name":"Libin Thomas"},"score":0,"creation_date":1666695606,"post_id":33736335,"comment_id":130993167,"body_markdown":"Won&#39;t this condition go into an infinite loop? Cause filesize1 will never be equal to filesize2","body":"Won&#39;t this condition go into an infinite loop? Cause filesize1 will never be equal to filesize2"}],"tags":[],"owner":{"account_id":4938224,"reputation":81,"user_id":3975753,"display_name":"Erica King"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619493133,"creation_date":1447679749,"answer_id":33736335,"question_id":22714112,"body_markdown":"    do {\r\n\r\n       filesize1 = f.length();  // check file size\r\n       Thread.sleep(5000);      // wait for 5 seconds\r\n       filesize2 = f.length();  // check file size again\r\n\r\n    } while (filesize1 != filesize2); \r\n\r\n\r\nwhere f is a File, filesize is long\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<pre><code>do {\n\n   filesize1 = f.length();  // check file size\n   Thread.sleep(5000);      // wait for 5 seconds\n   filesize2 = f.length();  // check file size again\n\n} while (filesize1 != filesize2); \n</code></pre>\n<p>where f is a File, filesize is long</p>\n"},{"comments":[{"owner":{"account_id":1084295,"reputation":1378,"user_id":1080402,"accept_rate":65,"display_name":"ZAD-Man"},"score":3,"creation_date":1457565999,"post_id":35420419,"comment_id":59469739,"body_markdown":"This is excellent for when it applies. I deal with plenty of sites that don&#39;t use something as simple as putting the file in `href`, but if they do, this is great.","body":"This is excellent for when it applies. I deal with plenty of sites that don&#39;t use something as simple as putting the file in <code>href</code>, but if they do, this is great."},{"owner":{"account_id":2305398,"reputation":671,"user_id":2024780,"accept_rate":80,"display_name":"rrw"},"score":2,"creation_date":1467186477,"post_id":35420419,"comment_id":63621889,"body_markdown":"This is not wrong, I also used this method before. And to make this work with authentication, u can get the cookies from selenium&#39;s driver and append to the http request. But, Its a pain when the download link is generated by js. And also you cant test if clicking the download button actually downloads the file. I switched back to the normal thing, click the button and do the `file.exists()` check in a loop. And for selenium in a hub-node architecture, I use `ssh` to `ls` or `dir` the file for existence.","body":"This is not wrong, I also used this method before. And to make this work with authentication, u can get the cookies from selenium&#39;s driver and append to the http request. But, Its a pain when the download link is generated by js. And also you cant test if clicking the download button actually downloads the file. I switched back to the normal thing, click the button and do the <code>file.exists()</code> check in a loop. And for selenium in a hub-node architecture, I use <code>ssh</code> to <code>ls</code> or <code>dir</code> the file for existence."},{"owner":{"account_id":8403061,"reputation":59,"user_id":6307505,"display_name":"Arijit Ghosh"},"score":0,"creation_date":1588771203,"post_id":35420419,"comment_id":109026484,"body_markdown":"First of all, thank you very much for this solution. It makes things a lot easier and cleaner to manage. I have a doubt about the `stream` keyword argument though. I ran the code without passing the `stream=True` argument and it seemed to run unchanged. Can you please elaborate on what the purpose of that argument is?","body":"First of all, thank you very much for this solution. It makes things a lot easier and cleaner to manage. I have a doubt about the <code>stream</code> keyword argument though. I ran the code without passing the <code>stream=True</code> argument and it seemed to run unchanged. Can you please elaborate on what the purpose of that argument is?"}],"tags":[],"owner":{"account_id":7835677,"reputation":383,"user_id":5923866,"display_name":"spatel4140"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1687511696,"creation_date":1455575986,"answer_id":35420419,"question_id":22714112,"body_markdown":"A little late but this question has a good number of views, I thought it would be worth the time to answer it in case you haven&#39;t moved on or someone else comes across it. \r\n\r\nI too ran into the same problem and thought I&#39;d share. I was developing in python at the time but the same concept applies. You don&#39;t have to do the actual download using selenium. Rather than clicking on the element to start the download, you should consider retrieving the link and using built in functions to proceed from there. \r\n\r\nThe element you would normally click to begin the download should have a &#39;href&#39; attribute that you should be able to read using selenium. This is the url pointing to the actual file. In python, it looks something like this:\r\n\r\n        element = driver.find_element_by_id(&#39;dl_link&#39;)\r\n        url = element.get_attribute(&#39;href&#39;)\r\n\r\nFrom here you can use an http library to call the url. The important part here is that you set &#39;stream&#39; to true so you can begin writing the bytes to a file. Make sure the file path contains the correct file extension and another thing, most operating systems don&#39;t allow you to name files with certain characters such as back slashes or quotations so heads up on that.  \r\n\r\n&lt;!-- language: py --&gt;\r\n    def download_file(url, file_path):\r\n        from requests import get\r\n        reply = get(url, stream=True)\r\n        with open(file_path, &#39;wb&#39;) as file:\r\n            for chunk in reply.iter_content(chunk_size=1024): \r\n                if chunk:\r\n                    file.write(chunk)\r\n\r\nThe program shouldn&#39;t continue until the download is complete making it no longer necessary to poll until it is complete. \r\n\r\nI apologize for answering in a different language, in Java I believe you can use the HttpURLConnection API. Hope this helps!","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>A little late but this question has a good number of views, I thought it would be worth the time to answer it in case you haven't moved on or someone else comes across it.</p>\n<p>I too ran into the same problem and thought I'd share. I was developing in python at the time but the same concept applies. You don't have to do the actual download using selenium. Rather than clicking on the element to start the download, you should consider retrieving the link and using built in functions to proceed from there.</p>\n<p>The element you would normally click to begin the download should have a 'href' attribute that you should be able to read using selenium. This is the url pointing to the actual file. In python, it looks something like this:</p>\n<pre><code>    element = driver.find_element_by_id('dl_link')\n    url = element.get_attribute('href')\n</code></pre>\n<p>From here you can use an http library to call the url. The important part here is that you set 'stream' to true so you can begin writing the bytes to a file. Make sure the file path contains the correct file extension and another thing, most operating systems don't allow you to name files with certain characters such as back slashes or quotations so heads up on that.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def download_file(url, file_path):\n    from requests import get\n    reply = get(url, stream=True)\n    with open(file_path, 'wb') as file:\n        for chunk in reply.iter_content(chunk_size=1024): \n            if chunk:\n                file.write(chunk)\n</code></pre>\n<p>The program shouldn't continue until the download is complete making it no longer necessary to poll until it is complete.</p>\n<p>I apologize for answering in a different language, in Java I believe you can use the HttpURLConnection API. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1007867,"reputation":3375,"user_id":1021113,"accept_rate":78,"display_name":"Alexander Arendar"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687511664,"creation_date":1483463996,"answer_id":41448931,"question_id":22714112,"body_markdown":"I use Scala for my automation but the port to Java should be trivial since I use java Selenium classes there anyway.\r\nSo, first you need this:\r\n\r\n&lt;!-- language-all: scala --&gt;\r\n    import com.google.common.base.Function\r\n    import java.nio.file.{Files, Paths, Path}\r\n\r\n    def waitUntilFileDownloaded(timeOutInMillis:Int)={\r\n        val wait:FluentWait[Path] = new FluentWait(Paths.get(downloadsDir)).withTimeout(timeOutInMillis, TimeUnit.MILLISECONDS).pollingEvery(200, TimeUnit.MILLISECONDS)\r\n        wait.until(\r\n          new Function[Path, Boolean] {\r\n            override def apply(p:Path):Boolean = Files.list(p).iterator.asScala.size &gt; 0\r\n          }\r\n        )\r\n      }\r\nThen in my test suite where I need to download xls file I just have this:\r\n\r\n    def exportToExcel(implicit driver: WebDriver) = {\r\n        click on xpath(&quot;//div[contains(@class, &#39;export_csv&#39;)]&quot;)\r\n        waitUntilFileDownloaded(2000)\r\n      }\r\n\r\nI hope you&#39;ve got the idea. FluentWait is very useful abstraction and though it is a part of Selenium it can be used wherever you need to wait with polling till some condition is met.","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I use Scala for my automation but the port to Java should be trivial since I use java Selenium classes there anyway.\nSo, first you need this:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.google.common.base.Function\nimport java.nio.file.{Files, Paths, Path}\n\ndef waitUntilFileDownloaded(timeOutInMillis:Int)={\n    val wait:FluentWait[Path] = new FluentWait(Paths.get(downloadsDir)).withTimeout(timeOutInMillis, TimeUnit.MILLISECONDS).pollingEvery(200, TimeUnit.MILLISECONDS)\n    wait.until(\n      new Function[Path, Boolean] {\n        override def apply(p:Path):Boolean = Files.list(p).iterator.asScala.size &gt; 0\n      }\n    )\n  }\n</code></pre>\n<p>Then in my test suite where I need to download xls file I just have this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def exportToExcel(implicit driver: WebDriver) = {\n    click on xpath(&quot;//div[contains(@class, 'export_csv')]&quot;)\n    waitUntilFileDownloaded(2000)\n  }\n</code></pre>\n<p>I hope you've got the idea. FluentWait is very useful abstraction and though it is a part of Selenium it can be used wherever you need to wait with polling till some condition is met.</p>\n"},{"tags":[],"owner":{"account_id":8673368,"reputation":408,"user_id":6491515,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505372785,"creation_date":1505372785,"answer_id":46212629,"question_id":22714112,"body_markdown":"A java adaptation of Alexander Arendar&#39;s idea :\r\n\r\n(using Java 8 &amp; the predicate version of until method of FluentWait) \r\n\r\n\r\n  \r\n\r\n      private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \r\n                FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\r\n                                       .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\r\n                                       .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n                File fileToCheck = getDownloadsDirectory()\r\n                                   .resolve(expectedFileName)\r\n                                   .toFile();\r\n        \r\n                wait.until((WebDriver wd) -&gt; fileToCheck.exists());\r\n        \r\n            }\r\n\r\n\r\n    public synchronized Path getDownloadsDirectory(){\r\n            if(downloadsDirectory == null){\r\n                \r\n                try {\r\n                    downloadsDirectory = Files.createTempDirectory(&quot;selleniumdownloads_&quot;);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(&quot;Failed to create temporary downloads directory&quot;);\r\n                }\r\n            }\r\n            return downloadsDirectory;\r\n        }\r\n\r\nNote the use of createTempDirectory to avoid the caveats of recursively deleting more than intended as well as automatically safely disposing of the folder when we re done with it.","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>A java adaptation of Alexander Arendar's idea :</p>\n\n<p>(using Java 8 &amp; the predicate version of until method of FluentWait) </p>\n\n<pre><code>  private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \n            FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\n                                   .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\n                                   .pollingEvery(200, TimeUnit.MILLISECONDS);\n            File fileToCheck = getDownloadsDirectory()\n                               .resolve(expectedFileName)\n                               .toFile();\n\n            wait.until((WebDriver wd) -&gt; fileToCheck.exists());\n\n        }\n\n\npublic synchronized Path getDownloadsDirectory(){\n        if(downloadsDirectory == null){\n\n            try {\n                downloadsDirectory = Files.createTempDirectory(\"selleniumdownloads_\");\n            } catch (IOException ex) {\n                throw new RuntimeException(\"Failed to create temporary downloads directory\");\n            }\n        }\n        return downloadsDirectory;\n    }\n</code></pre>\n\n<p>Note the use of createTempDirectory to avoid the caveats of recursively deleting more than intended as well as automatically safely disposing of the folder when we re done with it.</p>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687511630,"creation_date":1515116267,"answer_id":48106027,"question_id":22714112,"body_markdown":"I like awaitility\r\n\r\n        Path filePath = Paths.get(&quot;.&quot;, &quot;filename&quot;);\r\n        await().atMost(1, MINUTES)\r\n                .ignoreExceptions()\r\n                .until(() -&gt; filePath.toFile().exists());\r\n\r\n\r\nMore info: http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I like awaitility</p>\n<pre><code>    Path filePath = Paths.get(&quot;.&quot;, &quot;filename&quot;);\n    await().atMost(1, MINUTES)\n            .ignoreExceptions()\n            .until(() -&gt; filePath.toFile().exists());\n</code></pre>\n<p>More info: <a href=\"http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/\" rel=\"nofollow noreferrer\">http://www.testautomationguru.com/selenium-webdriver-how-to-wait-for-expected-conditions-using-awaitility/</a></p>\n"},{"tags":[],"owner":{"account_id":1841986,"reputation":580,"user_id":1671221,"display_name":"Manikandan Periyasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610579433,"creation_date":1557482984,"answer_id":56075407,"question_id":22714112,"body_markdown":"The below code is working fine for me. \r\n\r\nAlso no warning will be as I used generic type and `Duration` as recommended.\r\n\r\n```\r\nFile file = new File(&quot;C:\\\\chromedriver_win32.zip&quot;);\r\nFluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(Duration.ofSeconds(25)).pollingEvery(Duration.ofMillis(100));\r\nwait.until( x -&gt; file.exists());\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>The below code is working fine for me.</p>\n<p>Also no warning will be as I used generic type and <code>Duration</code> as recommended.</p>\n<pre><code>File file = new File(&quot;C:\\\\chromedriver_win32.zip&quot;);\nFluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver).withTimeout(Duration.ofSeconds(25)).pollingEvery(Duration.ofMillis(100));\nwait.until( x -&gt; file.exists());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171431,"reputation":6427,"user_id":398844,"display_name":"Torben"},"score":0,"creation_date":1562430872,"post_id":56569251,"comment_id":100374550,"body_markdown":"Works - but only if Chrome does not run in headless mode :(","body":"Works - but only if Chrome does not run in headless mode :("}],"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511433,"creation_date":1560368194,"answer_id":56569251,"question_id":22714112,"body_markdown":"If you are using chrome for the download, the you can use the below method to make sure the script will wait until the download is completed.\r\n\r\n**Python Implementation:**\r\n&lt;!-- language-all: py --&gt;\r\n\r\n    def waitUntilDownloadCompleted(maxTime=600):\r\n        driver.execute_script(&quot;window.open()&quot;)\r\n        # switch to new tab\r\n        driver.switch_to.window(driver.window_handles[-1])\r\n        # navigate to chrome downloads\r\n        driver.get(&#39;chrome://downloads&#39;)\r\n        # define the endTime\r\n        endTime = time.time() + maxTime\r\n        while True:\r\n            try:\r\n                # get the download percentage\r\n                downloadPercentage = driver.execute_script(\r\n                    &quot;return document.querySelector(&#39;downloads-manager&#39;).shadowRoot.querySelector(&#39;#downloadsList downloads-item&#39;).shadowRoot.querySelector(&#39;#progress&#39;).value&quot;)\r\n                # check if downloadPercentage is 100 (otherwise the script will keep waiting)\r\n                if downloadPercentage == 100:\r\n                    # exit the method once it&#39;s completed\r\n                    return downloadPercentage\r\n            except:\r\n                pass\r\n            # wait for 1 second before checking the percentage next time\r\n            time.sleep(1)\r\n            # exit method if the download not completed with in MaxTime.\r\n            if time.time() &gt; endTime:\r\n                break\r\n\r\nJust call the method when ever you click on download link/button.\r\n\r\n    # click on download button\r\n    driver.find_element_by_xpath(&quot;//*[@id=&#39;perform&#39;]&quot;).click()\r\n    #wait until the download completed\r\n    waitUntilDownloadCompleted(120) #2 minutes","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>If you are using chrome for the download, the you can use the below method to make sure the script will wait until the download is completed.</p>\n<p><strong>Python Implementation:</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def waitUntilDownloadCompleted(maxTime=600):\n    driver.execute_script(&quot;window.open()&quot;)\n    # switch to new tab\n    driver.switch_to.window(driver.window_handles[-1])\n    # navigate to chrome downloads\n    driver.get('chrome://downloads')\n    # define the endTime\n    endTime = time.time() + maxTime\n    while True:\n        try:\n            # get the download percentage\n            downloadPercentage = driver.execute_script(\n                &quot;return document.querySelector('downloads-manager').shadowRoot.querySelector('#downloadsList downloads-item').shadowRoot.querySelector('#progress').value&quot;)\n            # check if downloadPercentage is 100 (otherwise the script will keep waiting)\n            if downloadPercentage == 100:\n                # exit the method once it's completed\n                return downloadPercentage\n        except:\n            pass\n        # wait for 1 second before checking the percentage next time\n        time.sleep(1)\n        # exit method if the download not completed with in MaxTime.\n        if time.time() &gt; endTime:\n            break\n</code></pre>\n<p>Just call the method when ever you click on download link/button.</p>\n<pre class=\"lang-py prettyprint-override\"><code># click on download button\ndriver.find_element_by_xpath(&quot;//*[@id='perform']&quot;).click()\n#wait until the download completed\nwaitUntilDownloadCompleted(120) #2 minutes\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5935421,"reputation":184,"user_id":7382159,"display_name":"Giselle Serate"},"score":0,"creation_date":1564159767,"post_id":56777681,"comment_id":100952707,"body_markdown":"Works great for implementations where you&#39;re waiting for multiple files to download all at once! I&#39;m definitely using this. One drawback is if there are aborted unfinished downloads already in your download directory, this won&#39;t work.","body":"Works great for implementations where you&#39;re waiting for multiple files to download all at once! I&#39;m definitely using this. One drawback is if there are aborted unfinished downloads already in your download directory, this won&#39;t work."},{"owner":{"account_id":15319366,"reputation":31,"user_id":11052345,"display_name":"Daddy Cool"},"score":1,"creation_date":1564385184,"post_id":56777681,"comment_id":100998093,"body_markdown":"@Giselle Serate, thanks for comment. You are right. I generate new &quot;download_dir&quot; for every new download session.","body":"@Giselle Serate, thanks for comment. You are right. I generate new &quot;download_dir&quot; for every new download session."}],"tags":[],"owner":{"account_id":15319366,"reputation":31,"user_id":11052345,"display_name":"Daddy Cool"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511416,"creation_date":1561567963,"answer_id":56777681,"question_id":22714112,"body_markdown":"&lt;!-- language: py --&gt;\r\n    import time\r\n    from os import walk\r\n    \r\n    download_dir = &#39;path\\\\to\\\\download\\\\folder&#39;\r\n    \r\n    \r\n    def check_if_download_folder_has_unfinished_files():\r\n        for (dirpath, dirnames, filenames) in walk(download_dir):\r\n            return str(filenames)\r\n    \r\n    \r\n    def wait_for_files_to_download():\r\n        time.sleep(5)  # let the driver start downloading\r\n        file_list = check_if_download_folder_has_unfinished_files()\r\n        while &#39;Unconfirmed&#39; in file_list or &#39;crdownload&#39; in file_list:\r\n            file_list = check_if_download_folder_has_unfinished_files()\r\n            time.sleep(1)\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        wait_for_files_to_download()\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<pre class=\"lang-py prettyprint-override\"><code>import time\nfrom os import walk\n\ndownload_dir = 'path\\\\to\\\\download\\\\folder'\n\n\ndef check_if_download_folder_has_unfinished_files():\n    for (dirpath, dirnames, filenames) in walk(download_dir):\n        return str(filenames)\n\n\ndef wait_for_files_to_download():\n    time.sleep(5)  # let the driver start downloading\n    file_list = check_if_download_folder_has_unfinished_files()\n    while 'Unconfirmed' in file_list or 'crdownload' in file_list:\n        file_list = check_if_download_folder_has_unfinished_files()\n        time.sleep(1)\n\n\nif __name__ == '__main__':\n    wait_for_files_to_download()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10601357,"reputation":6764,"user_id":7808223,"accept_rate":75,"display_name":"Diggy."},"score":0,"creation_date":1589453375,"post_id":61794979,"comment_id":109303091,"body_markdown":"Hi Konstantin, please familiarise yourself with [writing answers](https://stackoverflow.com/help/how-to-answer) before writing your next one. Enjoy your stay at SO :)","body":"Hi Konstantin, please familiarise yourself with <a href=\"https://stackoverflow.com/help/how-to-answer\">writing answers</a> before writing your next one. Enjoy your stay at SO :)"}],"tags":[],"owner":{"account_id":9851124,"reputation":11,"user_id":7297194,"display_name":"Konstantin.A"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589451903,"creation_date":1589451903,"answer_id":61794979,"question_id":22714112,"body_markdown":"This one worked for me:\r\n\r\n        Path filePath = Paths.get(&quot;path/to/file/fileName.pdf&quot;);\r\n        File file = filePath.toFile(); \r\n       \r\n     void waitForFileDownloaded(File file, int timeoutSeconds) {\r\n            WebDriver driver = getDriver();\r\n            FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                    .withTimeout(Duration.ofSeconds(timeoutSeconds))\r\n                    .pollingEvery(Duration.ofMillis(500))\r\n                    .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\r\n            wait.until((webDriver) -&gt; file.exists());\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>This one worked for me:</p>\n\n<pre><code>    Path filePath = Paths.get(\"path/to/file/fileName.pdf\");\n    File file = filePath.toFile(); \n\n void waitForFileDownloaded(File file, int timeoutSeconds) {\n        WebDriver driver = getDriver();\n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n                .withTimeout(Duration.ofSeconds(timeoutSeconds))\n                .pollingEvery(Duration.ofMillis(500))\n                .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\n        wait.until((webDriver) -&gt; file.exists());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15001679,"reputation":41,"user_id":10829152,"display_name":"Ashish Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594905029,"creation_date":1594902903,"answer_id":62934821,"question_id":22714112,"body_markdown":"This code will always work.. Try it out guys!\r\n\r\n    public void waitForFileDownloaded(String fileName, int timeoutSeconds) {\r\n        FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                .withTimeout(Duration.ofSeconds(timeoutSeconds))\r\n                .pollingEvery(Duration.ofMillis(500))\r\n                .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\r\n        wait.until((x) -&gt; {\r\n            File[] files = new File(downloadfolderPath).listFiles();\r\n            for (File file : files) {\r\n                if (file.getName().contains(fileName)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n    }","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>This code will always work.. Try it out guys!</p>\n<pre><code>public void waitForFileDownloaded(String fileName, int timeoutSeconds) {\n    FluentWait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n            .withTimeout(Duration.ofSeconds(timeoutSeconds))\n            .pollingEvery(Duration.ofMillis(500))\n            .ignoring(NoSuchElementException.class, StaleElementReferenceException.class);\n    wait.until((x) -&gt; {\n        File[] files = new File(downloadfolderPath).listFiles();\n        for (File file : files) {\n            if (file.getName().contains(fileName)) {\n                return true;\n            }\n        }\n        return false;\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596950143,"creation_date":1596950143,"answer_id":63322724,"question_id":22714112,"body_markdown":"Here&#39;s one using just WebDriverWait:\r\n\r\n```\r\nnew WebDriverWait(driver, 60).until(d -&gt; Paths.get(downloadDir, downloadFileName).toFile().exists());\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Here's one using just WebDriverWait:</p>\n<pre><code>new WebDriverWait(driver, 60).until(d -&gt; Paths.get(downloadDir, downloadFileName).toFile().exists());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10594162,"reputation":784,"user_id":7803545,"accept_rate":92,"display_name":"hildogjr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687511448,"creation_date":1638446242,"answer_id":70199011,"question_id":22714112,"body_markdown":"I am your the bellow code in Python + Firefox, but it can be adapted to Java:\r\n\r\n```python\r\nbrowser.get(&#39;about:downloads&#39;)  #Open the download page.\r\n# Wait all icons change from &quot;X&quot; (cancel download)\r\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\r\n    EC.presence_of_element_located((By.CLASS_NAME, &#39;downloadIconCancel&#39;)))\r\n```","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>I am your the bellow code in Python + Firefox, but it can be adapted to Java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>browser.get('about:downloads')  #Open the download page.\n# Wait all icons change from &quot;X&quot; (cancel download)\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\n    EC.presence_of_element_located((By.CLASS_NAME, 'downloadIconCancel')))\n</code></pre>\n"}],"owner":{"account_id":3820683,"reputation":427,"user_id":3168862,"accept_rate":24,"display_name":"qaepk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62216,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":14,"score":25,"last_activity_date":1687511696,"creation_date":1396012974,"question_id":22714112,"body_markdown":"Once clicking a download button, files will be downloaded. Before executing next code, it needs to wait until the download completes.\r\n\r\nMy code looks like this:\r\n\r\n    Thread.sleep(2000);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;perform&#39;]&quot;)).click();//click for download\r\n\t  \r\n    Thread.sleep(20000);\r\n    //code to be executed after download completes\r\n    Readfile fileobj=new Readfile();\r\n    String checkfile=fileobj.checkfilename();\r\n\r\nHow can I make the webdriver wait until a download completes?","title":"Wait for Download to finish in selenium webdriver JAVA","body":"<p>Once clicking a download button, files will be downloaded. Before executing next code, it needs to wait until the download completes.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>Thread.sleep(2000);\ndriver.findElement(By.xpath(\"//*[@id='perform']\")).click();//click for download\n\nThread.sleep(20000);\n//code to be executed after download completes\nReadfile fileobj=new Readfile();\nString checkfile=fileobj.checkfilename();\n</code></pre>\n\n<p>How can I make the webdriver wait until a download completes?</p>\n"},{"tags":["java","amazon-web-services","aws-event-bridge"],"owner":{"account_id":3766298,"reputation":49,"user_id":7984574,"display_name":"sadath pasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687511588,"creation_date":1687511588,"question_id":76538655,"body_markdown":"&lt;br/&gt;\r\nWhen i try to publish the event to a non existing AWS event bus, success response is &lt;br/&gt; \r\nreceived , with failedMsg count as zero&lt;br/&gt;\r\n\r\n 1. How to make sure we get an exception in case of wrong bus name has. been used.??\r\n\r\n```\r\nPutEventsRequestEntry requestEntry = new PutEventsRequestEntry();\r\nrequestEntry\r\n        .withSource(&quot;test&quot;)\r\n        .withDetailType(&quot;test&quot;)\r\n        .withDetail(getJson())\r\n        .withEventBusName(&quot;dm-outbound-event-bus-dev&quot;);\r\n\r\nPutEventsRequest eventsRequest = new PutEventsRequest();\r\neventsRequest.withEntries(requestEntry);\r\nPutEventsResult putEventsResult = amazonEventBridge.putEvents(eventsRequest);\r\n\r\ndm-outbound-event-bus-dev -&gt; this bus does not exist in AWS\r\n```\r\nBelow is the Response\r\n```\r\nPutEventsResult {FailedEntryCount: 0,Entries: [{EventId: 5aea1a74-7557-077b-55e7-d665a555b3be,}]}\r\n```\r\nLibrary used\r\n```\r\nimplementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-eventbridge&#39;, version: &#39;1.12.440&#39;\r\n```\r\nAny Suggestion would be of great help\r\n\r\n","title":"Aws Event Bus Java client does not throw error when message is published to non existing eventbus","body":"<br/>\nWhen i try to publish the event to a non existing AWS event bus, success response is <br/> \nreceived , with failedMsg count as zero<br/>\n<ol>\n<li>How to make sure we get an exception in case of wrong bus name has. been used.??</li>\n</ol>\n<pre><code>PutEventsRequestEntry requestEntry = new PutEventsRequestEntry();\nrequestEntry\n        .withSource(&quot;test&quot;)\n        .withDetailType(&quot;test&quot;)\n        .withDetail(getJson())\n        .withEventBusName(&quot;dm-outbound-event-bus-dev&quot;);\n\nPutEventsRequest eventsRequest = new PutEventsRequest();\neventsRequest.withEntries(requestEntry);\nPutEventsResult putEventsResult = amazonEventBridge.putEvents(eventsRequest);\n\ndm-outbound-event-bus-dev -&gt; this bus does not exist in AWS\n</code></pre>\n<p>Below is the Response</p>\n<pre><code>PutEventsResult {FailedEntryCount: 0,Entries: [{EventId: 5aea1a74-7557-077b-55e7-d665a555b3be,}]}\n</code></pre>\n<p>Library used</p>\n<pre><code>implementation group: 'com.amazonaws', name: 'aws-java-sdk-eventbridge', version: '1.12.440'\n</code></pre>\n<p>Any Suggestion would be of great help</p>\n"},{"tags":["java","java-stream","reduce","fold","parallelstream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687375665,"post_id":76520467,"comment_id":134929706,"body_markdown":"`&quot;I&quot;` is not an *identity* for string concatenation. See [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)): *The `identity` value must be an identity for the accumulator function. This means that for all `t`, `accumulator.apply(identity, t)` is equal to `t`.* Or [this answer](https://stackoverflow.com/a/32867283/2711488).","body":"<code>&quot;I&quot;</code> is not an <i>identity</i> for string concatenation. See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#reduce(T,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">the documentation</a>: <i>The <code>identity</code> value must be an identity for the accumulator function. This means that for all <code>t</code>, <code>accumulator.apply(identity, t)</code> is equal to <code>t</code>.</i> Or <a href=\"https://stackoverflow.com/a/32867283/2711488\">this answer</a>."},{"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"score":0,"creation_date":1687377226,"post_id":76520467,"comment_id":134929945,"body_markdown":"OK, I see your point on naming. But the question was -- if there is an explanation for different behavior for Set and List?","body":"OK, I see your point on naming. But the question was -- if there is an explanation for different behavior for Set and List?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687423670,"post_id":76520467,"comment_id":134935735,"body_markdown":"Since the identity is also the result of evaluating an empty set, its legal to substitute the result of (A, B) with the result of combining the results of (A, B) and (). This can be the result of imbalanced workload splitting. The second half of [this answer](https://stackoverflow.com/a/44802784/2711488) explains the scenario for `HashMap`; if the immutable set returned by `Set.of()` does array based hashing, its the same issue.","body":"Since the identity is also the result of evaluating an empty set, its legal to substitute the result of (A, B) with the result of combining the results of (A, B) and (). This can be the result of imbalanced workload splitting. The second half of <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a> explains the scenario for <code>HashMap</code>; if the immutable set returned by <code>Set.of()</code> does array based hashing, its the same issue."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687424571,"post_id":76520467,"comment_id":134935918,"body_markdown":"Building on the linked answer, these empty parts of the array ranges, not containing elements, are still processed as the implementation has to determine that there are no elements. Or, in a case like this, it doesnt need to determine it at all, as the algorithm will end up at the identity element then. [This Q&amp;A](https://stackoverflow.com/q/34381805/2711488) may help understanding it. Unlike `reduce` and `collect`, in case of a `forEach`, the empty parts will be skipped, which can create the impression of having no parallel processing at all, which is what the other Q&amp;A was about.","body":"Building on the linked answer, these empty parts of the array ranges, not containing elements, are still processed as the implementation has to determine that there are no elements. Or, in a case like this, it doesnt need to determine it at all, as the algorithm will end up at the identity element then. <a href=\"https://stackoverflow.com/q/34381805/2711488\">This Q&amp;A</a> may help understanding it. Unlike <code>reduce</code> and <code>collect</code>, in case of a <code>forEach</code>, the empty parts will be skipped, which can create the impression of having no parallel processing at all, which is what the other Q&amp;A was about."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687511188,"creation_date":1687511188,"answer_id":76538614,"question_id":76520467,"body_markdown":"Note that the behavior of\r\n\r\n```java\r\nSet.of(&quot;A&quot;, &quot;B&quot;).parallelStream().reduce(&quot;I&quot;, String::concat)\r\n```\r\nis not different to\r\n```java\r\nStream.concat(Stream.of(&quot;A&quot;, &quot;B&quot;), Stream.of()).parallel()\r\n    .reduce(&quot;I&quot;, String::concat)\r\n```\r\nor\r\n```java\r\nStream.of(&quot;A&quot;, &quot;B&quot;, &quot;none&quot;).parallel()\r\n    .filter(s -&gt; !s.equals(&quot;none&quot;)).reduce(&quot;I&quot;, String::concat)\r\n```\r\nexcept for the unpredictability of the order of A and B which is irrelevant here.\r\n\r\nSince the specified *identity* argument must be valid as result for processing an empty sequence of elements, as well as fulfilling the `f(identity, element) = element` requirement, as explained in [this answer][1], it follows that `f(element, identity) = element` must be true as well, to ensure that the behavior of concatenating a sequence with an empty sequence has the same (or a compatible) result.\r\n\r\n---\r\n\r\nWhy does that happen in practice, technically?\r\n\r\nThe Stream implementation has to make trade-offs to provide reasonable performance for arbitrary scenarios and one is to not invest too much effort into attempting balanced workload splitting if the source structure does not genuinely support it.\r\n\r\nAs explained in [this answer][2], hash based collections tend to have larger arrays than their number of elements, to reduce the risk of collisions, and do not know in advance how the elements are distributed over the array when a stream is created. Therefore, the workload is split based on the array indices, similar to a random access list, but resulting ranges may have different numbers of elements in it or even have no elements at all.\r\n\r\nThis may result in the scenario of having all actual elements processed by a single thread as discussed in that answer, but it can also lead to threads processing empty spans which should not have an impact on the correctness of the result, as long as the *identity* chosen for the reduction is correct.\r\n\r\nThis processing is similar to the `filter` scenario above.\r\n\r\n---\r\n\r\nHowever, when youre using OpenJDK or a Java implementation based on it (or implemented the same way), this is not the case for `Set.of(&quot;A&quot;, &quot;B&quot;)`. This factory method returns a special implementation for a set of two elements, not using an array.\r\n\r\nBut, as surprising as it may sound, these new immutable collection implementations have no dedicated stream support. Instead of providing a `Spliterator` implementation which could perfectly split into two spliterators of one element, this set inherits the [default implementation] based on an `Iterator`. In order to be able to do parallel processing at all, the iterator based spliterator has to transfer the elements into an array first. In case of just two elements, this happens on the first split operation. Afterwards, there is an array based spliterator, which supports perfectly balanced splitting (for the subsequent split operations) and an empty spliterator.\r\n\r\nSo, in this case, the processing is rather similar to the `Stream.concat()` example above.\r\n\r\nThis does not happen in case of `List.of(&quot;A&quot;, &quot;B&quot;)`. This implementation also has no dedicated Stream support but the [default implementation for `List`] checks whether the list is a [random access list] and provides an indexed based implementation which can perform balanced splits without copying elements into an array.\r\n\r\n---\r\n[This Q&amp;A] shows how you can use the behavior of this Stream implementation to visualize the way, the workload has been split.\r\n\r\n[1]: https://stackoverflow.com/a/32867283/2711488\r\n[2]: https://stackoverflow.com/a/44802784/2711488\r\n[default implementation]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#spliterator()\r\n[This Q&amp;A]: https://stackoverflow.com/q/34381805/2711488\r\n[default implementation for `List`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#spliterator()\r\n[random access list]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/RandomAccess.html","title":"Unexpected behavior for the reduce() operation for the Set-backed parallel Stream","body":"<p>Note that the behavior of</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set.of(&quot;A&quot;, &quot;B&quot;).parallelStream().reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>is not different to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.concat(Stream.of(&quot;A&quot;, &quot;B&quot;), Stream.of()).parallel()\n    .reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;none&quot;).parallel()\n    .filter(s -&gt; !s.equals(&quot;none&quot;)).reduce(&quot;I&quot;, String::concat)\n</code></pre>\n<p>except for the unpredictability of the order of A and B which is irrelevant here.</p>\n<p>Since the specified <em>identity</em> argument must be valid as result for processing an empty sequence of elements, as well as fulfilling the <code>f(identity, element) = element</code> requirement, as explained in <a href=\"https://stackoverflow.com/a/32867283/2711488\">this answer</a>, it follows that <code>f(element, identity) = element</code> must be true as well, to ensure that the behavior of concatenating a sequence with an empty sequence has the same (or a compatible) result.</p>\n<hr />\n<p>Why does that happen in practice, technically?</p>\n<p>The Stream implementation has to make trade-offs to provide reasonable performance for arbitrary scenarios and one is to not invest too much effort into attempting balanced workload splitting if the source structure does not genuinely support it.</p>\n<p>As explained in <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a>, hash based collections tend to have larger arrays than their number of elements, to reduce the risk of collisions, and do not know in advance how the elements are distributed over the array when a stream is created. Therefore, the workload is split based on the array indices, similar to a random access list, but resulting ranges may have different numbers of elements in it or even have no elements at all.</p>\n<p>This may result in the scenario of having all actual elements processed by a single thread as discussed in that answer, but it can also lead to threads processing empty spans which should not have an impact on the correctness of the result, as long as the <em>identity</em> chosen for the reduction is correct.</p>\n<p>This processing is similar to the <code>filter</code> scenario above.</p>\n<hr />\n<p>However, when youre using OpenJDK or a Java implementation based on it (or implemented the same way), this is not the case for <code>Set.of(&quot;A&quot;, &quot;B&quot;)</code>. This factory method returns a special implementation for a set of two elements, not using an array.</p>\n<p>But, as surprising as it may sound, these new immutable collection implementations have no dedicated stream support. Instead of providing a <code>Spliterator</code> implementation which could perfectly split into two spliterators of one element, this set inherits the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#spliterator()\" rel=\"nofollow noreferrer\">default implementation</a> based on an <code>Iterator</code>. In order to be able to do parallel processing at all, the iterator based spliterator has to transfer the elements into an array first. In case of just two elements, this happens on the first split operation. Afterwards, there is an array based spliterator, which supports perfectly balanced splitting (for the subsequent split operations) and an empty spliterator.</p>\n<p>So, in this case, the processing is rather similar to the <code>Stream.concat()</code> example above.</p>\n<p>This does not happen in case of <code>List.of(&quot;A&quot;, &quot;B&quot;)</code>. This implementation also has no dedicated Stream support but the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#spliterator()\" rel=\"nofollow noreferrer\">default implementation for <code>List</code></a> checks whether the list is a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/RandomAccess.html\" rel=\"nofollow noreferrer\">random access list</a> and provides an indexed based implementation which can perform balanced splits without copying elements into an array.</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/q/34381805/2711488\">This Q&amp;A</a> shows how you can use the behavior of this Stream implementation to visualize the way, the workload has been split.</p>\n"}],"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687511188,"creation_date":1687328248,"question_id":76520467,"body_markdown":"When I am reducing the Set-backed stream, the identity element appears on the right of the result:\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class StreamReduce {\r\n    public static void main(String[] args) {\r\n        // Collection&lt;String&gt; l = List.of(&quot;A&quot;, &quot;B&quot;);\r\n        Collection&lt;String&gt; l = Set.of(&quot;A&quot;, &quot;B&quot;);\r\n        var r = l.parallelStream().reduce(&quot;I&quot;, (a,b)-&gt; { return a + b; });\r\n        System.out.println(r);\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n```\r\nIBIAI\r\n```\r\n\r\nWhen I use the same code with the List-backed stream, I get the expected output -- identity is always on the left side of elements.\r\n\r\nHow can the identity be added to the right side for the Set stream? Why is the difference with List stream?","title":"Unexpected behavior for the reduce() operation for the Set-backed parallel Stream","body":"<p>When I am reducing the Set-backed stream, the identity element appears on the right of the result:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Set;\n\npublic class StreamReduce {\n    public static void main(String[] args) {\n        // Collection&lt;String&gt; l = List.of(&quot;A&quot;, &quot;B&quot;);\n        Collection&lt;String&gt; l = Set.of(&quot;A&quot;, &quot;B&quot;);\n        var r = l.parallelStream().reduce(&quot;I&quot;, (a,b)-&gt; { return a + b; });\n        System.out.println(r);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>IBIAI\n</code></pre>\n<p>When I use the same code with the List-backed stream, I get the expected output -- identity is always on the left side of elements.</p>\n<p>How can the identity be added to the right side for the Set stream? Why is the difference with List stream?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1687504911,"post_id":76537889,"comment_id":134948972,"body_markdown":"the error says it all. you can&#39;t do something like String[] array = &quot;test&quot;; -&gt; &quot;test&quot; can be an element of an array, but it isn&#39;t an array. assign it to a specific index of the array.","body":"the error says it all. you can&#39;t do something like String[] array = &quot;test&quot;; -&gt; &quot;test&quot; can be an element of an array, but it isn&#39;t an array. assign it to a specific index of the array."}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687506935,"post_id":76537956,"comment_id":134949367,"body_markdown":"why would this be a good approach? if there&#39;s a problem in reading the 8th name, the changeC wouldn&#39;t contain any info at all","body":"why would this be a good approach? if there&#39;s a problem in reading the 8th name, the changeC wouldn&#39;t contain any info at all"},{"owner":{"account_id":28832210,"reputation":16,"user_id":22082349,"display_name":"waror"},"score":0,"creation_date":1687507812,"post_id":76537956,"comment_id":134949539,"body_markdown":"actually you&#39;re right, maybe the assignment will have to be done every time the user inputs some data","body":"actually you&#39;re right, maybe the assignment will have to be done every time the user inputs some data"},{"owner":{"account_id":28878674,"reputation":13,"user_id":22118591,"display_name":"Jeremy Teong"},"score":1,"creation_date":1687521620,"post_id":76537956,"comment_id":134952287,"body_markdown":"I see thanks for the help! It works now!","body":"I see thanks for the help! It works now!"}],"tags":[],"owner":{"account_id":28832210,"reputation":16,"user_id":22082349,"display_name":"waror"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687508197,"creation_date":1687505497,"answer_id":76537956,"question_id":76537889,"body_markdown":"Try to declare two arrays (a String and a double one) assigning the values you get from input directly to the array index using the i variable, then at the end you assign those arrays to the changeC object.\r\n\r\nEDIT:\r\nthe arrays assignments must be done at the same time as you assign the inputs now","title":"I am writing a program to ask the user to enter the name of a person, and a coin value (as an integer) using just arrays","body":"<p>Try to declare two arrays (a String and a double one) assigning the values you get from input directly to the array index using the i variable, then at the end you assign those arrays to the changeC object.</p>\n<p>EDIT:\nthe arrays assignments must be done at the same time as you assign the inputs now</p>\n"}],"owner":{"account_id":28878674,"reputation":13,"user_id":22118591,"display_name":"Jeremy Teong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76537956,"answer_count":1,"score":-1,"last_activity_date":1687510559,"creation_date":1687504841,"question_id":76537889,"body_markdown":"The program is recommended for the user to input at least 10 such data using setters and getters, however i am getting error message on &quot;String cannot be converted to String[]&quot;.\r\n\r\n\r\n\r\n\r\n```\r\nScanner keyboard = new Scanner(System.in);\r\nSystem.out.println(&quot;Please enter at least 10 records to test the program&quot;);\r\nfor(int i = 0; i &lt; 10; i++){\r\n    System.out.println(&quot;Please enter a name: &quot;);\r\n    changeC.setName(keyboard.next());\r\n    System.out.println(&quot;Please enter the coin value for the person: &quot;);\r\n    changeC.setChangeAmount(keyboard.nextDouble());\r\n    System.out.println(&quot;Do you have more person to enter (Y/N): &quot;);\r\n    String answer = keyboard.next();\r\n    if(prompt = answer.equalsIgnoreCase(&quot;N&quot;)){\r\n        break;\r\n    }                \r\n}  \r\n\r\n\r\n```\r\n\r\n\r\n```\r\n\r\nprivate String[] name;\r\n    private double[] changeAmount;\r\n   \r\n    public void setName(String[] name){\r\n        this.name = name;\r\n    }\r\n    \r\n    public String[] getName() {\r\n        return name;\r\n    }\r\n      \r\n       \r\n    /**\r\n     * @return the changeAmount\r\n     */\r\n    public double[] getChangeAmount() {\r\n        return changeAmount;\r\n    }\r\n\r\n    /**\r\n     * @param changeAmount the changeAmount to set\r\n     */\r\n    public void setChangeAmount(double[] changeAmount) {\r\n        this.changeAmount = changeAmount;\r\n    }\r\n```","title":"I am writing a program to ask the user to enter the name of a person, and a coin value (as an integer) using just arrays","body":"<p>The program is recommended for the user to input at least 10 such data using setters and getters, however i am getting error message on &quot;String cannot be converted to String[]&quot;.</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\nSystem.out.println(&quot;Please enter at least 10 records to test the program&quot;);\nfor(int i = 0; i &lt; 10; i++){\n    System.out.println(&quot;Please enter a name: &quot;);\n    changeC.setName(keyboard.next());\n    System.out.println(&quot;Please enter the coin value for the person: &quot;);\n    changeC.setChangeAmount(keyboard.nextDouble());\n    System.out.println(&quot;Do you have more person to enter (Y/N): &quot;);\n    String answer = keyboard.next();\n    if(prompt = answer.equalsIgnoreCase(&quot;N&quot;)){\n        break;\n    }                \n}  \n\n\n</code></pre>\n<pre><code>\nprivate String[] name;\n    private double[] changeAmount;\n   \n    public void setName(String[] name){\n        this.name = name;\n    }\n    \n    public String[] getName() {\n        return name;\n    }\n      \n       \n    /**\n     * @return the changeAmount\n     */\n    public double[] getChangeAmount() {\n        return changeAmount;\n    }\n\n    /**\n     * @param changeAmount the changeAmount to set\n     */\n    public void setChangeAmount(double[] changeAmount) {\n        this.changeAmount = changeAmount;\n    }\n</code></pre>\n"},{"tags":["java","android","debugging","breakpoints","disconnect"],"comments":[{"owner":{"account_id":17262271,"reputation":343,"user_id":12499875,"display_name":"Cypher"},"score":0,"creation_date":1674622194,"post_id":75228840,"comment_id":132751568,"body_markdown":"Did you visit this page? -- https://stackoverflow.com/questions/4138001/android-device-disconnects-from-debugger-a-few-seconds-after-breakpoint-is-hit","body":"Did you visit this page? -- <a href=\"https://stackoverflow.com/questions/4138001/android-device-disconnects-from-debugger-a-few-seconds-after-breakpoint-is-hit\" title=\"android device disconnects from debugger a few seconds after breakpoint is hit\">stackoverflow.com/questions/4138001/&hellip;</a>"},{"owner":{"account_id":9159387,"reputation":348,"user_id":9608999,"display_name":"Pablo Lanza"},"score":0,"creation_date":1674676512,"post_id":75228840,"comment_id":132767949,"body_markdown":"Yes, I tried the solution proposed but did not work.","body":"Yes, I tried the solution proposed but did not work."}],"owner":{"account_id":9159387,"reputation":348,"user_id":9608999,"display_name":"Pablo Lanza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687509963,"creation_date":1674608919,"question_id":75228840,"body_markdown":"When I am debugging an application running in my phone device, the debugger is always disconnected 30 seconds after reach a breakpoint. The error message is:\r\n\r\n*E  ANR in com.plm.myapptest\r\nPID: 14911\r\nReason: Changing to new focus window timeout\r\nFrozen: false\r\nLoad: 22.06 / 22.39 / 22.73\r\n----- Output from /proc/pressure/memory -----\r\nsome avg10=0.26 avg60=0.13 avg300=0.06 total=1119102705\r\nfull avg10=0.12 avg60=0.05 avg300=0.01 total=532509077*\r\n\r\nThe issue not happen running the app in software emulator.\r\n\r\nMy phone device is Realme 7 running Android 12 and my IDE is Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023 Runtime version: 11.0.15+0-b2043.56-8887301 amd64\r\n\r\nThe error message &#39;Changing to new focus window timeout&#39; not appears in google searchs and in my opinion has not sense. A debug window should take window focus the time that the developer needs. Is there a parameter in amdroid SO to configure this timeout?\r\n","title":"Debugger disconnect seconds after reach breakpoint","body":"<p>When I am debugging an application running in my phone device, the debugger is always disconnected 30 seconds after reach a breakpoint. The error message is:</p>\n<p><em>E  ANR in com.plm.myapptest\nPID: 14911\nReason: Changing to new focus window timeout\nFrozen: false\nLoad: 22.06 / 22.39 / 22.73\n----- Output from /proc/pressure/memory -----\nsome avg10=0.26 avg60=0.13 avg300=0.06 total=1119102705\nfull avg10=0.12 avg60=0.05 avg300=0.01 total=532509077</em></p>\n<p>The issue not happen running the app in software emulator.</p>\n<p>My phone device is Realme 7 running Android 12 and my IDE is Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023 Runtime version: 11.0.15+0-b2043.56-8887301 amd64</p>\n<p>The error message 'Changing to new focus window timeout' not appears in google searchs and in my opinion has not sense. A debug window should take window focus the time that the developer needs. Is there a parameter in amdroid SO to configure this timeout?</p>\n"},{"tags":["java","binary","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687509913,"creation_date":1687509913,"answer_id":76538448,"question_id":76537301,"body_markdown":"The main issue with your attempt is that `(k == 0)` will never be true when `k` is greater than 1. As `k` is a local variable, and all recursive calls get the same `k`, `k--` will just make `k` one less than the original value of `k`. On the other hand, if `k` is 1, it will always reach 0 when executing `k--`.\r\n\r\nNot a problem, but if your code finds a match in the left subtree, it still goes on to search the right subtree, which is a waste of time.\r\n\r\nNot your fault, but I find it unclear that the code challenge speaks of a node parameter and of returning a node, when in fact the function gets the *value* of a node to look for and wants you to return the *value* of the ancestor node. I would certainly rename the parameter variable from `node` to something else.\r\n\r\nOne of the difficulties here is that you need need to identify the found node *and* the depth it has from the current node. So either you could return an object that has those two properties, or use a class instance variable to keep track of the found node, and use the return value for the depth where the node was found.\r\n\r\nIf we would go with the second idea, the solution code could look like this:\r\n\r\n```\r\nclass Tree\r\n{\r\n    int ancestor; // This will have the solution\r\n    \r\n    public int depthOf(Node root, int k, int needle)\r\n    {\r\n        if (root == null) return -1;\r\n\r\n        if (root.data == needle) {\r\n            if (k == 0) ancestor = root.data;\r\n            return 0;\r\n        }\r\n\r\n        int depth = depthOf(root.left, k, needle);\r\n        if (depth == -1) depth = depthOf(root.right, k, needle);\r\n        if (depth == -1) return -1;\r\n\r\n        depth++;\r\n        if (depth == k) ancestor = root.data;\r\n        return depth;\r\n    }\r\n\r\n    public int kthAncestor(Node root, int k, int needle)\r\n    {\r\n        ancestor = -1;\r\n        depthOf(root, k, needle);\r\n        return ancestor;\r\n    }\r\n}\r\n```","title":"Trying to find the kth ancestor of a node in a tree by recursion but not able to get it","body":"<p>The main issue with your attempt is that <code>(k == 0)</code> will never be true when <code>k</code> is greater than 1. As <code>k</code> is a local variable, and all recursive calls get the same <code>k</code>, <code>k--</code> will just make <code>k</code> one less than the original value of <code>k</code>. On the other hand, if <code>k</code> is 1, it will always reach 0 when executing <code>k--</code>.</p>\n<p>Not a problem, but if your code finds a match in the left subtree, it still goes on to search the right subtree, which is a waste of time.</p>\n<p>Not your fault, but I find it unclear that the code challenge speaks of a node parameter and of returning a node, when in fact the function gets the <em>value</em> of a node to look for and wants you to return the <em>value</em> of the ancestor node. I would certainly rename the parameter variable from <code>node</code> to something else.</p>\n<p>One of the difficulties here is that you need need to identify the found node <em>and</em> the depth it has from the current node. So either you could return an object that has those two properties, or use a class instance variable to keep track of the found node, and use the return value for the depth where the node was found.</p>\n<p>If we would go with the second idea, the solution code could look like this:</p>\n<pre><code>class Tree\n{\n    int ancestor; // This will have the solution\n    \n    public int depthOf(Node root, int k, int needle)\n    {\n        if (root == null) return -1;\n\n        if (root.data == needle) {\n            if (k == 0) ancestor = root.data;\n            return 0;\n        }\n\n        int depth = depthOf(root.left, k, needle);\n        if (depth == -1) depth = depthOf(root.right, k, needle);\n        if (depth == -1) return -1;\n\n        depth++;\n        if (depth == k) ancestor = root.data;\n        return depth;\n    }\n\n    public int kthAncestor(Node root, int k, int needle)\n    {\n        ancestor = -1;\n        depthOf(root, k, needle);\n        return ancestor;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28878120,"reputation":1,"user_id":22118165,"display_name":"Akash Mahato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687509913,"creation_date":1687498004,"question_id":76537301,"body_markdown":"I am trying to solve the GeeksForGeeks problem [Kth Ancestor in a Tree](https://practice.geeksforgeeks.org/problems/kth-ancestor-in-a-tree/1):\r\n\r\n&gt; Given a binary tree of size  `N`, a `node`, and a positive integer `k`, your task is to complete the function `kthAncestor()`, the function should return the `k`&lt;sup&gt;th&lt;/sup&gt; ancestor of the given node in the binary tree. If there does not exist any such ancestor then return -1.\r\n&gt; \r\n&gt; **Note:** It is guaranteed that the `node` exists in the tree.\r\n&gt;\r\n&gt; ### Constraints:\r\n&gt; * `1 &lt;= N &lt;= 104`\r\n&gt; * `1 &lt;= K &lt;= 100`\r\n\r\nHere is my code:\r\n\r\n```\r\nclass Tree\r\n{\r\n    public Node solve(Node root,int k,int node)\r\n    {\r\n        if(root==null)\r\n            return null;\r\n        if(root.data==node)\r\n            return root;\r\n        Node l=solve(root.left,k,node);\r\n        Node r=solve(root.right,k,node);\r\n        if(l!=null &amp;&amp; r==null)\r\n        {\r\n            k--;\r\n            if(k==0)\r\n                return root;\r\n            return l;\r\n        }\r\n        else if(r!=null &amp;&amp; l==null)\r\n        {\r\n            k--;\r\n            if(k==0)\r\n                 return root;\r\n            return r;\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n    public int kthAncestor(Node root, int k, int node)\r\n    {\r\n        //Write your code here\r\n        if(root.data==node &amp;&amp; k==0)\r\n            return node;\r\n        if(root.data==node &amp;&amp; k&gt;0)\r\n            return -1;\r\n        Node ans=solve(root,k,node);\r\n        if(ans==null)\r\n            return -1;\r\n        else\r\n            return ans.data;\r\n    }\r\n}\r\n```\r\n\r\nit is giving me incorrect answer for this test case:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInput:\r\n\r\n     K = 2\r\n     Node = 4\r\n\r\nExpected Output: `1`\r\n\r\nOutput I get: `4`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mxp7r.png","title":"Trying to find the kth ancestor of a node in a tree by recursion but not able to get it","body":"<p>I am trying to solve the GeeksForGeeks problem <a href=\"https://practice.geeksforgeeks.org/problems/kth-ancestor-in-a-tree/1\" rel=\"nofollow noreferrer\">Kth Ancestor in a Tree</a>:</p>\n<blockquote>\n<p>Given a binary tree of size  <code>N</code>, a <code>node</code>, and a positive integer <code>k</code>, your task is to complete the function <code>kthAncestor()</code>, the function should return the <code>k</code><sup>th</sup> ancestor of the given node in the binary tree. If there does not exist any such ancestor then return -1.</p>\n<p><strong>Note:</strong> It is guaranteed that the <code>node</code> exists in the tree.</p>\n<h3>Constraints:</h3>\n<ul>\n<li><code>1 &lt;= N &lt;= 104</code></li>\n<li><code>1 &lt;= K &lt;= 100</code></li>\n</ul>\n</blockquote>\n<p>Here is my code:</p>\n<pre><code>class Tree\n{\n    public Node solve(Node root,int k,int node)\n    {\n        if(root==null)\n            return null;\n        if(root.data==node)\n            return root;\n        Node l=solve(root.left,k,node);\n        Node r=solve(root.right,k,node);\n        if(l!=null &amp;&amp; r==null)\n        {\n            k--;\n            if(k==0)\n                return root;\n            return l;\n        }\n        else if(r!=null &amp;&amp; l==null)\n        {\n            k--;\n            if(k==0)\n                 return root;\n            return r;\n        }\n        else\n            return null;\n    }\n    public int kthAncestor(Node root, int k, int node)\n    {\n        //Write your code here\n        if(root.data==node &amp;&amp; k==0)\n            return node;\n        if(root.data==node &amp;&amp; k&gt;0)\n            return -1;\n        Node ans=solve(root,k,node);\n        if(ans==null)\n            return -1;\n        else\n            return ans.data;\n    }\n}\n</code></pre>\n<p>it is giving me incorrect answer for this test case:</p>\n<p><a href=\"https://i.stack.imgur.com/mxp7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxp7r.png\" alt=\"enter image description here\" /></a></p>\n<p>Input:</p>\n<pre><code> K = 2\n Node = 4\n</code></pre>\n<p>Expected Output: <code>1</code></p>\n<p>Output I get: <code>4</code></p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","abstractmethoderror"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1687418421,"post_id":76529140,"comment_id":134934609,"body_markdown":"Seems like some dependency versions are mismatched, that error happens when a class doesn&#39;t implement the proper methods from parent classes. Are you sure the dependencies exactly match the ones from your old build system?","body":"Seems like some dependency versions are mismatched, that error happens when a class doesn&#39;t implement the proper methods from parent classes. Are you sure the dependencies exactly match the ones from your old build system?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687420438,"creation_date":1687420438,"answer_id":76529675,"question_id":76529140,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder\r\n\r\n...implies that a class didn&#39;t implement the proper methods from parent classes.\r\n\r\nThis situation arises due to version/dependency mismatch.\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nIn your `pom.xml` you have 2 different dependencies for the same task.\r\n\r\n- _selenium-java_:\r\n\r\n      https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n- _selenium-server_:\r\n\r\n      https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n          &lt;version&gt;3.9.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nRemove any one of the dependency, you should be good to go.","title":"Selenium Chrome Driver Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome Error while run the test","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder\n</code></pre>\n<p>...implies that a class didn't implement the proper methods from parent classes.</p>\n<p>This situation arises due to version/dependency mismatch.</p>\n<hr />\n<h2>This usecase</h2>\n<p>In your <code>pom.xml</code> you have 2 different dependencies for the same task.</p>\n<ul>\n<li><p><em>selenium-java</em>:</p>\n<pre><code>https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p><em>selenium-server</em>:</p>\n<pre><code>https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Solution</h2>\n<p>Remove any one of the dependency, you should be good to go.</p>\n"}],"owner":{"account_id":28871191,"reputation":1,"user_id":22112696,"display_name":"Param Radadiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687508971,"creation_date":1687415737,"question_id":76529140,"body_markdown":"I just converted my existing project to a maven project. I have added dependencies like selenium-java, selenium-serve, selenium-chrome-driver, testing, and JUnit.\r\n\r\nIt is a TestNG project that contains many packages and classes. It gives me an error as below:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:504)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n```\r\n\r\nDependencies I have added;\r\n\t\r\n```\r\n&lt;dependencies&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjunit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/ru.stqa.selenium/webdriver-expected-conditions --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ru.stqa.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\twebdriver-expected-conditions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.41&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nAlso I have added this line in my cod,\r\n\r\n```\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n```\r\n\r\nCan anyone help me how to solve this error. What should I do?","title":"Selenium Chrome Driver Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome Error while run the test","body":"<p>I just converted my existing project to a maven project. I have added dependencies like selenium-java, selenium-serve, selenium-chrome-driver, testing, and JUnit.</p>\n<p>It is a TestNG project that contains many packages and classes. It gives me an error as below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:504)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:162)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n</code></pre>\n<p>Dependencies I have added;</p>\n<pre><code>&lt;dependencies&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;\n                4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/ru.stqa.selenium/webdriver-expected-conditions --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.stqa.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                webdriver-expected-conditions&lt;/artifactId&gt;\n            &lt;version&gt;1.0.41&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Also I have added this line in my cod,</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path&quot;);\n        WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>Can anyone help me how to solve this error. What should I do?</p>\n"},{"tags":["java","android","web-scraping","roblox"],"answers":[{"tags":[],"owner":{"account_id":2191814,"reputation":1376,"user_id":1938640,"display_name":"ZombieSpy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357282077,"creation_date":1357282077,"answer_id":14152452,"question_id":13597028,"body_markdown":"You should look up how to get the data from the website, and you should also make sure that you understand html. You also need a simple way to handle html.\r\n\r\n - Get the page (use the example in the question): https://stackoverflow.com/questions/5232535/read-data-from-webpage\r\n - A bit about html: http://www.w3schools.com/html/default.asp\r\n - Handle html: http://jsoup.org/cookbook/extracting-data/dom-navigation\r\n\r\nTo login you should do a post request with the login information to the standard login page, then you keep the cookie that were generated and pass it with your other requests.\r\n\r\n - Little about handle cookies: https://stackoverflow.com/questions/3047363/java-handling-cookies-when-logging-in-with-post\r\n\r\nSome things you also might want to think about:\r\n\r\n - Linear or branched view of posts in the forum?\r\n - Should you get a message if someone post a new post?\r\n - A own search function?\r\n - Signature?","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>You should look up how to get the data from the website, and you should also make sure that you understand html. You also need a simple way to handle html.</p>\n\n<ul>\n<li>Get the page (use the example in the question): <a href=\"https://stackoverflow.com/questions/5232535/read-data-from-webpage\">Read data from webpage</a></li>\n<li>A bit about html: <a href=\"http://www.w3schools.com/html/default.asp\" rel=\"nofollow noreferrer\">http://www.w3schools.com/html/default.asp</a></li>\n<li>Handle html: <a href=\"http://jsoup.org/cookbook/extracting-data/dom-navigation\" rel=\"nofollow noreferrer\">http://jsoup.org/cookbook/extracting-data/dom-navigation</a></li>\n</ul>\n\n<p>To login you should do a post request with the login information to the standard login page, then you keep the cookie that were generated and pass it with your other requests.</p>\n\n<ul>\n<li>Little about handle cookies: <a href=\"https://stackoverflow.com/questions/3047363/java-handling-cookies-when-logging-in-with-post\">Java: Handling cookies when logging in with POST</a></li>\n</ul>\n\n<p>Some things you also might want to think about:</p>\n\n<ul>\n<li>Linear or branched view of posts in the forum?</li>\n<li>Should you get a message if someone post a new post?</li>\n<li>A own search function?</li>\n<li>Signature?</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9289455,"reputation":136,"user_id":6898296,"display_name":"pooja majoka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516441116,"creation_date":1516437362,"answer_id":48354099,"question_id":13597028,"body_markdown":"You have to use JSOUP libaray of java ,you can easily parse the html data through this library. Example: In doc object you are getting complete web page\r\n\r\n    File input = new File(url);\r\n    Document doc = null;\r\n    doc = Jsoup.connect(url).get();\r\n    Elements headlinesCat1 = doc.select(&quot;div[class=abc&quot;);","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>You have to use JSOUP libaray of java ,you can easily parse the html data through this library. Example: In doc object you are getting complete web page</p>\n\n<pre><code>File input = new File(url);\nDocument doc = null;\ndoc = Jsoup.connect(url).get();\nElements headlinesCat1 = doc.select(\"div[class=abc\");\n</code></pre>\n"}],"owner":{"account_id":1658626,"reputation":275,"user_id":1527430,"accept_rate":67,"display_name":"TheNickmaster21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14152452,"answer_count":2,"score":2,"last_activity_date":1687508598,"creation_date":1354071381,"question_id":13597028,"body_markdown":"I&#39;ve been waiting for an idea and I think I finally have one. I am going to attempt to make a Android App using Web Scraping that will allow me to navigate and use the forums on Roblox (.com if you really want to look it up) better than I can now. Not only are the forums pretty bad in general but they are even worse on my Android Device (Samsung Galaxy Player). Can anyone give me an pointers or advice? I&#39;m not sure what libraries I should use... This is my first big attempt at coding :)\r\n\r\n\r\nOh, Obviously I would want to give it a feature to reply to posts but I&#39;m not sure how login for that type of thing would work...\r\n\r\nEDIT: I got the idea from this application: [GooglePlay][1], [Github][2]\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.andrewshu.android.reddit&amp;hl=en\r\n  [2]: https://github.com/talklittle/reddit-is-fun","title":"Roblox Forum, Web Scraping App (Android) Questions","body":"<p>I've been waiting for an idea and I think I finally have one. I am going to attempt to make a Android App using Web Scraping that will allow me to navigate and use the forums on Roblox (.com if you really want to look it up) better than I can now. Not only are the forums pretty bad in general but they are even worse on my Android Device (Samsung Galaxy Player). Can anyone give me an pointers or advice? I'm not sure what libraries I should use... This is my first big attempt at coding :)</p>\n\n<p>Oh, Obviously I would want to give it a feature to reply to posts but I'm not sure how login for that type of thing would work...</p>\n\n<p>EDIT: I got the idea from this application: <a href=\"https://play.google.com/store/apps/details?id=com.andrewshu.android.reddit&amp;hl=en\" rel=\"nofollow\">GooglePlay</a>, <a href=\"https://github.com/talklittle/reddit-is-fun\" rel=\"nofollow\">Github</a></p>\n"},{"tags":["java","rest","jira","remedy"],"comments":[{"owner":{"account_id":353791,"reputation":25859,"user_id":691711,"accept_rate":91,"display_name":"zero298"},"score":1,"creation_date":1528224556,"post_id":50682500,"comment_id":88423131,"body_markdown":"Have you tried filtering by date created and using the last time you synchronized as criteria?  I don&#39;t see an easy way to do this short of comparing directly with JIRA to see if the issue is already there.","body":"Have you tried filtering by date created and using the last time you synchronized as criteria?  I don&#39;t see an easy way to do this short of comparing directly with JIRA to see if the issue is already there."},{"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"score":0,"creation_date":1528278953,"post_id":50682500,"comment_id":88443353,"body_markdown":"@zero298 thanks for the reply actually I can filter based on only one qualification parameter which is &quot;hotFix&quot; in my case. As the BMC emedy do not accept more than one qualification parameter.","body":"@zero298 thanks for the reply actually I can filter based on only one qualification parameter which is &quot;hotFix&quot; in my case. As the BMC emedy do not accept more than one qualification parameter."}],"answers":[{"comments":[{"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"score":0,"creation_date":1528279198,"post_id":50706880,"comment_id":88443517,"body_markdown":"hey Anil, Yes I&#39;ve thought about it however was little reluctant to make an other search on JIRA before insert as it might impact service performance.","body":"hey Anil, Yes I&#39;ve thought about it however was little reluctant to make an other search on JIRA before insert as it might impact service performance."},{"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"score":1,"creation_date":1528304282,"post_id":50706880,"comment_id":88459695,"body_markdown":"Looking at your constraints, thats the only option you have, its a tradeoff that u need accept","body":"Looking at your constraints, thats the only option you have, its a tradeoff that u need accept"},{"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"score":1,"creation_date":1528305341,"post_id":50706880,"comment_id":88460270,"body_markdown":"Also looking at this JIRA community currently there is no way to stop creating duplicate issues. https://community.atlassian.com/t5/Jira-questions/I-would-like-to-know-if-it-s-possible-to-check-for-duplicate/qaq-p/156723","body":"Also looking at this JIRA community currently there is no way to stop creating duplicate issues. <a href=\"https://community.atlassian.com/t5/Jira-questions/I-would-like-to-know-if-it-s-possible-to-check-for-duplicate/qaq-p/156723\" rel=\"nofollow noreferrer\">community.atlassian.com/t5/Jira-questions/&hellip;</a>"}],"tags":[],"owner":{"account_id":12625370,"reputation":289,"user_id":9179246,"display_name":"Anil Bachola"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528223951,"creation_date":1528223951,"answer_id":50706880,"question_id":50682500,"body_markdown":"in your service before creating a JIRA ticket(I assume its an api call), check if already one exists (by using GET api from JIRA). \r\n\r\nBased on your constraints for querying bmc remedy, seems this extra call to JIRA, to check if its a duplicate is an option.","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>in your service before creating a JIRA ticket(I assume its an api call), check if already one exists (by using GET api from JIRA). </p>\n\n<p>Based on your constraints for querying bmc remedy, seems this extra call to JIRA, to check if its a duplicate is an option.</p>\n"},{"tags":[],"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1528378561,"creation_date":1528378401,"answer_id":50742626,"question_id":50682500,"body_markdown":"Okay! I&#39;m using a flat file.\r\n\r\nAs an alternative solution I&#39;ve used a flat file to store the &quot;date created&quot; of last remedy incident with &quot;HotFix&quot; label (only one record !!! this gets updated every time my service gets a hit if there are new remedy incidents) and while fetching the data from remedy I&#39;m ordering it based on date created and storing the most updated date (which would effectively serve me as a parameter for comparison when i hit my service next time to check if JIRAs till this particular date/time has already been created.) in this file.\r\n\r\nThis has resolved my issue.","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>Okay! I'm using a flat file.</p>\n\n<p>As an alternative solution I've used a flat file to store the \"date created\" of last remedy incident with \"HotFix\" label (only one record !!! this gets updated every time my service gets a hit if there are new remedy incidents) and while fetching the data from remedy I'm ordering it based on date created and storing the most updated date (which would effectively serve me as a parameter for comparison when i hit my service next time to check if JIRAs till this particular date/time has already been created.) in this file.</p>\n\n<p>This has resolved my issue.</p>\n"}],"owner":{"account_id":1858120,"reputation":499,"user_id":1683277,"accept_rate":17,"display_name":"Saurabh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50742626,"answer_count":2,"score":0,"last_activity_date":1687507910,"creation_date":1528121179,"question_id":50682500,"body_markdown":"I&#39;m integrating BMC remedy and JIRA to solve a problem.\r\n\r\n**Task:** I run a rest service and it raises automatic JIRA after reading BMC remedy if there are any records which are of type hotfix. So basically few fields from BMC will be mapped to JIRA when JIRA are created.\r\n\r\n**Problem :**  Because Remedy API accepts only one search criteria (which is &quot;hotFix&quot; in my case), Every time my service runs it reads remedy and fetches all the data which are of type &quot;hotFix&quot; even the ones I&#39;ve already created JIRAs for which is expected. But now i need to resolve this because I don&#39;t want to raise duplicate JIRAs for them.\r\n\r\nI don&#39;t want store all these things in database due to some reason. (Well infra cost).\r\n\r\nIs there any way I can import this data without creating duplicates?","title":"Java Rest API : BMC Remedy API and JIRA Integration","body":"<p>I'm integrating BMC remedy and JIRA to solve a problem.</p>\n\n<p><strong>Task:</strong> I run a rest service and it raises automatic JIRA after reading BMC remedy if there are any records which are of type hotfix. So basically few fields from BMC will be mapped to JIRA when JIRA are created.</p>\n\n<p><strong>Problem :</strong>  Because Remedy API accepts only one search criteria (which is \"hotFix\" in my case), Every time my service runs it reads remedy and fetches all the data which are of type \"hotFix\" even the ones I've already created JIRAs for which is expected. But now i need to resolve this because I don't want to raise duplicate JIRAs for them.</p>\n\n<p>I don't want store all these things in database due to some reason. (Well infra cost).</p>\n\n<p>Is there any way I can import this data without creating duplicates?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687507442,"creation_date":1687507442,"question_id":76538163,"body_markdown":"I have an issue after trying to migrate a microservice from Java 11 to Java 17. When I try to run the application, I get this error: Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile java.lang.Object java.util.concurrent.atomic.AtomicReference.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @3b0fe47a\r\n\r\nThe problem is that I do not have Atomic or volatile variables in my code. The error seems to be from a repository interface, I will post it below, along with the entity classes associated. \r\n\r\n``` \r\n\r\npublic interface EventServiceRepository extends ReactiveAerospikeRepository&lt;EventDocument, String&gt;, RepositoryConfiguration {\r\n\r\n\t@Override\r\n\tdefault Flux&lt;EventDocument&gt; findAll() {\r\n\t\treturn Flux.error(new UnsupportedOperationException(&quot;Usage of getAll is forbidden.&quot;));\r\n\t}\r\n\r\n\tdefault Mono&lt;EventDocument&gt; saveWithCas(EventDocument eventDocument) {\r\n\t\treturn CasUtils.toOptimisticRetryable(this.saveWithErrorHandling(eventDocument), getMaxCasRetries());\r\n\t}\r\n\r\n\tdefault Mono&lt;EventDocument&gt; updateWithCas(String id,\r\n\t                                          Mono&lt;EventDocument&gt; switchIfEmpty,\r\n\t                                          Function&lt;EventDocument, Mono&lt;EventDocument&gt;&gt; updateFunction) {\r\n\r\n\t\tvar userDocumentMono = findById(id);\r\n\t\treturn CasUtils.toOptimisticRetryable(\r\n\t\t\t\tuserDocumentMono\r\n\t\t\t\t\t\t.switchIfEmpty(switchIfEmpty)\r\n\t\t\t\t\t\t.flatMap(updateFunction)\r\n\t\t\t\t\t\t.flatMap(this::saveWithErrorHandling),\r\n\t\t\t\tgetMaxCasRetries()\r\n\t\t);\r\n\t}\r\n\r\n\r\n\tdefault Mono&lt;EventDocument&gt; saveWithErrorHandling(EventDocument document){\r\n\t\ttry {\r\n\t\t\treturn save(document);\r\n\t\t}catch (Exception exception){\r\n\t\t\treturn Mono.error(exception);\r\n\t\t}\r\n\t}\r\n} \r\n```\r\n\r\n\r\n\r\n```@Document(collection = &quot;wsop-events-service&quot;)\r\npublic class EventDocument {\r\n\r\n\t@Id\r\n\tprivate String userId;\r\n\r\n\tprivate EventConfig eventConfig;\r\n\r\n\t@Expiration(unixTime = true)\r\n\tprivate Long expiration;\r\n\r\n\t@Version\r\n\tprivate long version;\r\n\r\n\tprivate Long fetchTimestamp;\r\n\r\n\tprivate Integer userClubRank;\r\n}\r\n```\r\n\r\n```  \r\n@Setter\r\n@Valid\r\npublic class EventConfig extends AbstractCombinableConfig&lt;EventConfig&gt; implements ConfigCombiningStrategy&lt;EventConfig&gt; {\r\n\r\n\tpublic final static String FEATURE_NAME = &quot;Event&quot;;\r\n\r\n\tprivate Long eventId;\r\n\r\n\tprivate String eventName;\r\n\r\n\tprivate EventType eventType;\r\n\r\n\tprivate Boolean enabled;\r\n\r\n\tprivate Boolean configStickyByClub;\r\n\r\n\tprivate Integer userClubRank;\r\n\r\n\tprivate Long bucketNo;\r\n\r\n\tprivate String correlationId;\r\n\r\n\tprivate Long currencyId;\r\n\r\n\tprivate List&lt;EventsPeriods&gt; eventsPeriods;\r\n\r\n\t@JsonDeserialize(as = TreeMap.class)\r\n\tprivate NavigableMap&lt;Integer, Triggers&gt; triggersPerClubRank;\r\n\r\n\tprivate Double sinkShopCycleMultiplier;\r\n\tprivate Double sinkShopSliceMultiplier;\r\n\tprivate Long sinkShopSlice;\r\n\r\n\tprivate Map&lt;String, Long&gt; progressionMaxValueBaseAmount;\r\n\tprivate Map&lt;String, Long&gt; progressionRewardBaseAmount;\r\n\tprivate Map&lt;String, Long&gt; progressionCapBaseAmount;\r\n\r\n\tprivate Map&lt;String, Progression&gt; progressions;\r\n\tprivate Map&lt;String, RecurrentTrigger&gt; recurrentTriggers;\r\n\r\n\tprivate Double rewardMultiplier;\r\n\tprivate Map&lt;String, Reward&gt; rewards;\r\n\tprivate Map&lt;String, Object&gt; properties;\r\n}\r\n```\r\n\r\nThe more specific error given is this: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventServiceRepository&#39; defined in EventServiceRepository defined in @EnableReactiveAerospikeRepositories declared on AerospikeConfiguration: Invocation of init method failed; nested exception is ... ( above error )\r\n\r\nThe weird thing is that I do not have any volatile atomic variable in my entire code.\r\nDoes anyone know how this can be fixed? \r\nI also tried the solution with starting the project with the arguments &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot;, but it did not work.","title":"Java 17 InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;)","body":"<p>I have an issue after trying to migrate a microservice from Java 11 to Java 17. When I try to run the application, I get this error: Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile java.lang.Object java.util.concurrent.atomic.AtomicReference.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @3b0fe47a</p>\n<p>The problem is that I do not have Atomic or volatile variables in my code. The error seems to be from a repository interface, I will post it below, along with the entity classes associated.</p>\n<pre><code>\npublic interface EventServiceRepository extends ReactiveAerospikeRepository&lt;EventDocument, String&gt;, RepositoryConfiguration {\n\n    @Override\n    default Flux&lt;EventDocument&gt; findAll() {\n        return Flux.error(new UnsupportedOperationException(&quot;Usage of getAll is forbidden.&quot;));\n    }\n\n    default Mono&lt;EventDocument&gt; saveWithCas(EventDocument eventDocument) {\n        return CasUtils.toOptimisticRetryable(this.saveWithErrorHandling(eventDocument), getMaxCasRetries());\n    }\n\n    default Mono&lt;EventDocument&gt; updateWithCas(String id,\n                                              Mono&lt;EventDocument&gt; switchIfEmpty,\n                                              Function&lt;EventDocument, Mono&lt;EventDocument&gt;&gt; updateFunction) {\n\n        var userDocumentMono = findById(id);\n        return CasUtils.toOptimisticRetryable(\n                userDocumentMono\n                        .switchIfEmpty(switchIfEmpty)\n                        .flatMap(updateFunction)\n                        .flatMap(this::saveWithErrorHandling),\n                getMaxCasRetries()\n        );\n    }\n\n\n    default Mono&lt;EventDocument&gt; saveWithErrorHandling(EventDocument document){\n        try {\n            return save(document);\n        }catch (Exception exception){\n            return Mono.error(exception);\n        }\n    }\n} \n</code></pre>\n<pre><code>public class EventDocument {\n\n    @Id\n    private String userId;\n\n    private EventConfig eventConfig;\n\n    @Expiration(unixTime = true)\n    private Long expiration;\n\n    @Version\n    private long version;\n\n    private Long fetchTimestamp;\n\n    private Integer userClubRank;\n}\n</code></pre>\n<pre><code>@Setter\n@Valid\npublic class EventConfig extends AbstractCombinableConfig&lt;EventConfig&gt; implements ConfigCombiningStrategy&lt;EventConfig&gt; {\n\n    public final static String FEATURE_NAME = &quot;Event&quot;;\n\n    private Long eventId;\n\n    private String eventName;\n\n    private EventType eventType;\n\n    private Boolean enabled;\n\n    private Boolean configStickyByClub;\n\n    private Integer userClubRank;\n\n    private Long bucketNo;\n\n    private String correlationId;\n\n    private Long currencyId;\n\n    private List&lt;EventsPeriods&gt; eventsPeriods;\n\n    @JsonDeserialize(as = TreeMap.class)\n    private NavigableMap&lt;Integer, Triggers&gt; triggersPerClubRank;\n\n    private Double sinkShopCycleMultiplier;\n    private Double sinkShopSliceMultiplier;\n    private Long sinkShopSlice;\n\n    private Map&lt;String, Long&gt; progressionMaxValueBaseAmount;\n    private Map&lt;String, Long&gt; progressionRewardBaseAmount;\n    private Map&lt;String, Long&gt; progressionCapBaseAmount;\n\n    private Map&lt;String, Progression&gt; progressions;\n    private Map&lt;String, RecurrentTrigger&gt; recurrentTriggers;\n\n    private Double rewardMultiplier;\n    private Map&lt;String, Reward&gt; rewards;\n    private Map&lt;String, Object&gt; properties;\n}\n</code></pre>\n<p>The more specific error given is this: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventServiceRepository' defined in EventServiceRepository defined in @EnableReactiveAerospikeRepositories declared on AerospikeConfiguration: Invocation of init method failed; nested exception is ... ( above error )</p>\n<p>The weird thing is that I do not have any volatile atomic variable in my entire code.\nDoes anyone know how this can be fixed?\nI also tried the solution with starting the project with the arguments &quot;java --add-opens java.base/java.lang=ALL-UNNAMED&quot;, but it did not work.</p>\n"},{"tags":["java","regex","spring-boot","notifications","ftp"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1687439383,"post_id":76532258,"comment_id":134939234,"body_markdown":"ever tried something simple like: .filter(file -&gt; !file.getName().toLowerCase().endsWith(&quot;.jpg&quot;) ?","body":"ever tried something simple like: .filter(file -&gt; !file.getName().toLowerCase().endsWith(&quot;.jpg&quot;) ?"},{"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"score":0,"creation_date":1687439576,"post_id":76532258,"comment_id":134939287,"body_markdown":"Thank you a lot for a comment. But maybe there is some alternative for parentFiletr regex?","body":"Thank you a lot for a comment. But maybe there is some alternative for parentFiletr regex?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1687440019,"post_id":76532258,"comment_id":134939399,"body_markdown":"didn&#39;t I just provide you with an alternative?","body":"didn&#39;t I just provide you with an alternative?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687450215,"post_id":76532258,"comment_id":134941832,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687507381,"creation_date":1687507381,"answer_id":76538153,"question_id":76532258,"body_markdown":"I have found an answear for my question. There is a possibility to create a bean like\r\n\r\n    @Bean\r\n    public GenericSelector&lt;File&gt; excludeJPG() {\r\n        return new GenericSelector&lt;File&gt;() {\r\n            @Override\r\n            public boolean accept(File source) {\r\n                return !source.getName().endsWith(&quot;.JPG&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\nand then pass it into a \r\n\r\n    IntegrationFlows\r\n                .from(...)\r\n                .filter(excludeJPG())","title":"regex in Ftp.parentFilter for excluding files doesnt work","body":"<p>I have found an answear for my question. There is a possibility to create a bean like</p>\n<pre><code>@Bean\npublic GenericSelector&lt;File&gt; excludeJPG() {\n    return new GenericSelector&lt;File&gt;() {\n        @Override\n        public boolean accept(File source) {\n            return !source.getName().endsWith(&quot;.JPG&quot;);\n        }\n    };\n}\n</code></pre>\n<p>and then pass it into a</p>\n<pre><code>IntegrationFlows\n            .from(...)\n            .filter(excludeJPG())\n</code></pre>\n"}],"owner":{"account_id":28873754,"reputation":11,"user_id":22114749,"display_name":"myr kotovskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687507381,"creation_date":1687439233,"question_id":76532258,"body_markdown":"I need to create a regular expression for excluding files from FTP parentFilter() with extension .jpg\r\nwhen I put such an expression ^.SIG$ or ^.\\.SIG$ this doesnt work and even a symbol \\ is not recognized by a spring boot. Can anybody help with such an expresiion?\r\n\r\n&quot;^.SIG$&quot; or &quot;^.\\.SIG$&quot;","title":"regex in Ftp.parentFilter for excluding files doesnt work","body":"<p>I need to create a regular expression for excluding files from FTP parentFilter() with extension .jpg\nwhen I put such an expression ^.SIG$ or ^..SIG$ this doesnt work and even a symbol \\ is not recognized by a spring boot. Can anybody help with such an expresiion?</p>\n<p>&quot;^.SIG$&quot; or &quot;^..SIG$&quot;</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7809,"page":353,"page_size":100}
