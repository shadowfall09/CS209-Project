{"items":[{"tags":["java","selenium-webdriver"],"owner":{"account_id":20131191,"reputation":97,"user_id":14763469,"display_name":"anto clinton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693672129,"creation_date":1693672129,"question_id":77029097,"body_markdown":"Having an external website like example.com which contains login page and after logged in it will redirect to some example.com/user. From this /user route, need to take token info from one request header. Automated with selenium for first page to login but once I reach to the /user with some wait condition also, the request header is not being captured. Also is it possible to capture all request headers like cookies etc? Please suggest best way to handle and take the token from request header\r\n```\r\n        driver = new EdgeDriver();\r\n\t\tDevTools devTools = driver.getDevTools();\r\n\t\tdevTools.createSession();\r\n        driver.get(&quot;https://example.com&quot;);\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(80));\t\r\n\t\tWebElement email = driver.findElement(By.id(&quot;example-signin-username&quot;));\r\n\t\temail.sendKeys(&quot;1234&quot;);\r\n\t\t\r\n\t\tWebElement pwd = driver.findElement(By.id(&quot;example-signin-password&quot;));\r\n\t\tpwd.sendKeys(&quot;App&quot;);\r\n\t\t\r\n\t\tWebElement loginBtn = driver.findElement(By.id(&quot;example-signin-submit&quot;));\r\n\t\tloginBtn.click();\r\n\t\t\r\n\t\tdevTools.send(Network.enable(Optional.of(1000000), Optional.empty(), Optional.empty()));\r\n        devTools.addListener(Network.requestWillBeSent(), request -&gt; {\r\n            System.out.println(&quot;Request Method : &quot; + request.getRequest().getMethod());\r\n            System.out.println(&quot;Request URL : &quot; + request.getRequest().getUrl());\r\n            System.out.println(&quot;Request headers: &quot; + request.getRequest().getHeaders().toString());\r\n            System.out.println(&quot;Request body: &quot; + request.getRequest().getPostData().toString());\r\n        });\r\n        \r\n        WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\t\twait.until(ExpectedConditions.urlContains(&quot;user&quot;));\r\n```\r\n\r\n[![Values required from req headers in browser][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oumzJ.png","title":"New to selenium and trying to take a token from request header in java","body":"<p>Having an external website like example.com which contains login page and after logged in it will redirect to some example.com/user. From this /user route, need to take token info from one request header. Automated with selenium for first page to login but once I reach to the /user with some wait condition also, the request header is not being captured. Also is it possible to capture all request headers like cookies etc? Please suggest best way to handle and take the token from request header</p>\n<pre><code>        driver = new EdgeDriver();\n        DevTools devTools = driver.getDevTools();\n        devTools.createSession();\n        driver.get(&quot;https://example.com&quot;);\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(80));  \n        WebElement email = driver.findElement(By.id(&quot;example-signin-username&quot;));\n        email.sendKeys(&quot;1234&quot;);\n        \n        WebElement pwd = driver.findElement(By.id(&quot;example-signin-password&quot;));\n        pwd.sendKeys(&quot;App&quot;);\n        \n        WebElement loginBtn = driver.findElement(By.id(&quot;example-signin-submit&quot;));\n        loginBtn.click();\n        \n        devTools.send(Network.enable(Optional.of(1000000), Optional.empty(), Optional.empty()));\n        devTools.addListener(Network.requestWillBeSent(), request -&gt; {\n            System.out.println(&quot;Request Method : &quot; + request.getRequest().getMethod());\n            System.out.println(&quot;Request URL : &quot; + request.getRequest().getUrl());\n            System.out.println(&quot;Request headers: &quot; + request.getRequest().getHeaders().toString());\n            System.out.println(&quot;Request body: &quot; + request.getRequest().getPostData().toString());\n        });\n        \n        WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(10));\n        wait.until(ExpectedConditions.urlContains(&quot;user&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oumzJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oumzJ.png\" alt=\"Values required from req headers in browser\" /></a></p>\n"},{"tags":["java","collections","parent-child","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":13608111,"reputation":73,"user_id":9816581,"display_name":"Vladimir Surkov"},"score":0,"creation_date":1619107726,"post_id":67207550,"comment_id":118810853,"body_markdown":"Do you think this could be a good thing for contribution ?","body":"Do you think this could be a good thing for contribution ?"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1619123332,"post_id":67207550,"comment_id":118817213,"body_markdown":"We would need to see how this looks like. Not sure how it would fit. We would need to see some draft for it.","body":"We would need to see how this looks like. Not sure how it would fit. We would need to see some draft for it."}],"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619071170,"creation_date":1619071170,"answer_id":67207550,"question_id":67114190,"body_markdown":"Updating collections is a tricky problem and requires a complex solution like you can see in your example.\r\n\r\nTherefore MapStruct does not provide a way to achieve such a complex scenario.\r\n\r\nThe solution for this would be to write a custom method like you did and use that for mapping is the only way in the moment. \r\n","title":"Updating existing bean instances for child collection","body":"<p>Updating collections is a tricky problem and requires a complex solution like you can see in your example.</p>\n<p>Therefore MapStruct does not provide a way to achieve such a complex scenario.</p>\n<p>The solution for this would be to write a custom method like you did and use that for mapping is the only way in the moment.</p>\n"},{"comments":[{"owner":{"account_id":66442,"reputation":798,"user_id":194900,"accept_rate":40,"display_name":"bgraves"},"score":0,"creation_date":1694442883,"post_id":77029004,"comment_id":135888009,"body_markdown":"started a discussion regarding this: https://github.com/mapstruct/mapstruct/discussions/3381","body":"started a discussion regarding this: <a href=\"https://github.com/mapstruct/mapstruct/discussions/3381\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/discussions/3381</a>"}],"tags":[],"owner":{"account_id":66442,"reputation":798,"user_id":194900,"accept_rate":40,"display_name":"bgraves"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693671170,"creation_date":1693670712,"answer_id":77029004,"question_id":67114190,"body_markdown":"Two years, 4 months late for the party, but you can force MapStruct to use\r\n```\r\nRentalObject map(RentalObjectDto rentalObjectDto, @MappingTarget RentalObject rentalObjectDb);\r\n```\r\nby providing\r\n```\r\nRentalObject map(RentalObjectDto rentalObjectDto) {\r\n    map(rentalObjectDto, /* here instantiate rentalObjectDb by rentalObjectDto */\r\n}\r\n```\r\nUsually instantiation is done by resolving the id contained in the dto.","title":"Updating existing bean instances for child collection","body":"<p>Two years, 4 months late for the party, but you can force MapStruct to use</p>\n<pre><code>RentalObject map(RentalObjectDto rentalObjectDto, @MappingTarget RentalObject rentalObjectDb);\n</code></pre>\n<p>by providing</p>\n<pre><code>RentalObject map(RentalObjectDto rentalObjectDto) {\n    map(rentalObjectDto, /* here instantiate rentalObjectDb by rentalObjectDto */\n}\n</code></pre>\n<p>Usually instantiation is done by resolving the id contained in the dto.</p>\n"}],"owner":{"account_id":13608111,"reputation":73,"user_id":9816581,"display_name":"Vladimir Surkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693671170,"creation_date":1618511553,"question_id":67114190,"body_markdown":"I have child collection \r\n\r\n    public class SectorDto {\r\n        List&lt;RentalObjectDto&gt; rentalObjects;\r\n    }\r\n    @Entity\r\n    public class Sector {\r\n        List&lt;RentalObject&gt; rentalObjects;\r\n    }\r\n\r\nand before mapping I have Sector with child collection from DB. Then I use @MappingTarget to update existing bean\r\n\r\n    Sector map(SectorDto sectorDto, @MappingTarget Sector sectorDb);\r\nI need the same possibility for child elements. But generated code doesn&#39;t want to use this method with **@MappingTarget**\r\n\r\n    RentalObject map(RentalObjectDto rentalObjectDto, @MappingTarget RentalObject rentalObjectDb)\r\n\r\nthe same when I add method for list with **@MappingTarget** it also generates own method without **@MappingTarget** for collection members.\r\n\r\n    List&lt;RentalObject&gt; mapRentalObjects(List&lt;RentalObjectDto&gt; rentalObjectDtos,\r\n                                        @MappingTarget List&lt;RentalObject&gt; rentalObjectsDb);\r\n\r\nMy intention is to update already existing in DB collection members, to add new, and to remove orphans, because child **Entity** class (the same as parent) has additional properties witch aren&#39;t in **Dto** class, and it is important not to lose them. I ended up with complicated default method witch works in my case, \r\n\r\n     default List&lt;RentalObject&gt; mapRentalObjects(List&lt;RentalObjectDto&gt; rentalObjectDtos,\r\n                                        @MappingTarget List&lt;RentalObject&gt; rentalObjectsDb) {\r\n\r\n        if ( rentalObjectDtos == null ) { return null;}\r\n\r\n        List&lt;RentalObject&gt; rentalObjectsDbForRemove = new ArrayList&lt;&gt;();\r\n\r\n        // map existing\r\n        for ( RentalObject rentalObjectDb : rentalObjectsDb ) {\r\n            Optional&lt;RentalObjectDto&gt; rentalObjectDto = rentalObjectDtos.stream()\r\n                    .filter(ro-&gt;ro.getId()!=null)\r\n                    .filter(ro-&gt;ro.getId().equals(rentalObjectDb.getId())).findFirst();\r\n            if (rentalObjectDto.isPresent()){\r\n                map(rentalObjectDto.get(), rentalObjectDb);\r\n            } else {\r\n                rentalObjectsDbForRemove.add(rentalObjectDb);\r\n            }\r\n        }\r\n        // remove orphan\r\n        rentalObjectsDb.removeAll(rentalObjectsDbForRemove);\r\n\r\n        // add new\r\n        rentalObjectDtos.stream()\r\n                .filter(roDto-&gt;roDto.getId()==null)\r\n                .map(roDto-&gt; mapRentalObjectDb(roDto,new RentalObject())\r\n                .forEach((roDto)-&gt;rentalObjectsDb.add(roDto));\r\n\r\n        return rentalObjectsDb;\r\n    }\r\n\r\nDoes mapstuct have an easier solution for this case? \r\n\r\n ","title":"Updating existing bean instances for child collection","body":"<p>I have child collection</p>\n<pre><code>public class SectorDto {\n    List&lt;RentalObjectDto&gt; rentalObjects;\n}\n@Entity\npublic class Sector {\n    List&lt;RentalObject&gt; rentalObjects;\n}\n</code></pre>\n<p>and before mapping I have Sector with child collection from DB. Then I use @MappingTarget to update existing bean</p>\n<pre><code>Sector map(SectorDto sectorDto, @MappingTarget Sector sectorDb);\n</code></pre>\n<p>I need the same possibility for child elements. But generated code doesn't want to use this method with <strong>@MappingTarget</strong></p>\n<pre><code>RentalObject map(RentalObjectDto rentalObjectDto, @MappingTarget RentalObject rentalObjectDb)\n</code></pre>\n<p>the same when I add method for list with <strong>@MappingTarget</strong> it also generates own method without <strong>@MappingTarget</strong> for collection members.</p>\n<pre><code>List&lt;RentalObject&gt; mapRentalObjects(List&lt;RentalObjectDto&gt; rentalObjectDtos,\n                                    @MappingTarget List&lt;RentalObject&gt; rentalObjectsDb);\n</code></pre>\n<p>My intention is to update already existing in DB collection members, to add new, and to remove orphans, because child <strong>Entity</strong> class (the same as parent) has additional properties witch aren't in <strong>Dto</strong> class, and it is important not to lose them. I ended up with complicated default method witch works in my case,</p>\n<pre><code> default List&lt;RentalObject&gt; mapRentalObjects(List&lt;RentalObjectDto&gt; rentalObjectDtos,\n                                    @MappingTarget List&lt;RentalObject&gt; rentalObjectsDb) {\n\n    if ( rentalObjectDtos == null ) { return null;}\n\n    List&lt;RentalObject&gt; rentalObjectsDbForRemove = new ArrayList&lt;&gt;();\n\n    // map existing\n    for ( RentalObject rentalObjectDb : rentalObjectsDb ) {\n        Optional&lt;RentalObjectDto&gt; rentalObjectDto = rentalObjectDtos.stream()\n                .filter(ro-&gt;ro.getId()!=null)\n                .filter(ro-&gt;ro.getId().equals(rentalObjectDb.getId())).findFirst();\n        if (rentalObjectDto.isPresent()){\n            map(rentalObjectDto.get(), rentalObjectDb);\n        } else {\n            rentalObjectsDbForRemove.add(rentalObjectDb);\n        }\n    }\n    // remove orphan\n    rentalObjectsDb.removeAll(rentalObjectsDbForRemove);\n\n    // add new\n    rentalObjectDtos.stream()\n            .filter(roDto-&gt;roDto.getId()==null)\n            .map(roDto-&gt; mapRentalObjectDb(roDto,new RentalObject())\n            .forEach((roDto)-&gt;rentalObjectsDb.add(roDto));\n\n    return rentalObjectsDb;\n}\n</code></pre>\n<p>Does mapstuct have an easier solution for this case?</p>\n"},{"tags":["java","multi-agent","elixir-jason"],"owner":{"account_id":24251344,"reputation":1,"user_id":18202309,"display_name":"Dnay4501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693670305,"creation_date":1693660553,"question_id":77028421,"body_markdown":"I&#39;m currently working on Agent-oriented programming and I need to divide 10 agents into 2 groups and implement a pathfinding algorithm. I&#39;ve managed to implement a random walk but the group of agents doesn&#39;t divide into 2 as expected and I can&#39;t understand why because the code doesn&#39;t report any errors. I&#39;d like your help to overcome this problem. \r\n\r\n```\r\n/* Initial beliefs and rules */\r\n\r\nlowEnergy :- energy(X) &amp; X &lt; 50.\r\n\r\n/* Initial goals */\r\n\r\n!start.\r\n\r\n/* Plans */\r\n\r\n+!start &lt;-\r\n    .print(&quot;hello&quot;).\r\n\r\n// Define groups based on agent names\r\ngroup(1) :- .my_name(N) &amp; .member(N, [agentA1, agentA2, agentA3, agentA4, agentA5]).\r\ngroup(2) :- .my_name(N) &amp; .member(N, [agentA6, agentA7, agentA8, agentA9, agentA10]).\r\n\r\n// Define agent-specific beliefs\r\n+!start : .my_name(N) &lt;- .print(&quot;My name is &quot;, N).\r\n\r\n// Rule to assign teams based on group assignment\r\n+!start : .my_name(N) &amp; group(1) &lt;- +my_group(group1).\r\n+!start : .my_name(N) &amp; group(2) &lt;- +my_group(group2).\r\n\r\n// Rule to react to an event based on the agent&#39;s group\r\n+some_event : my_group(Group) &amp; group(Group) &lt;- move(S);\r\n    .print(&quot;Agent in group &quot;, Group, &quot;: Event happened!&quot;).\r\n\r\n// Rule for agents to find out their team using their name\r\n+find_my_team : .my_name(N) &amp; group(N) &lt;-\r\n    .print(&quot;I am in group &quot;, N).\r\n\r\n+step(S) : lowEnergy &lt;-\r\n    recharge.\r\n\r\n+step(S) &lt;-\r\n    .print(&quot;New percepts for step &quot;, S);\r\n    .random([n,s,e,w], X);\r\n    move(X).\r\n\r\n```\r\n","title":"Agent-oriented programming","body":"<p>I'm currently working on Agent-oriented programming and I need to divide 10 agents into 2 groups and implement a pathfinding algorithm. I've managed to implement a random walk but the group of agents doesn't divide into 2 as expected and I can't understand why because the code doesn't report any errors. I'd like your help to overcome this problem.</p>\n<pre><code>/* Initial beliefs and rules */\n\nlowEnergy :- energy(X) &amp; X &lt; 50.\n\n/* Initial goals */\n\n!start.\n\n/* Plans */\n\n+!start &lt;-\n    .print(&quot;hello&quot;).\n\n// Define groups based on agent names\ngroup(1) :- .my_name(N) &amp; .member(N, [agentA1, agentA2, agentA3, agentA4, agentA5]).\ngroup(2) :- .my_name(N) &amp; .member(N, [agentA6, agentA7, agentA8, agentA9, agentA10]).\n\n// Define agent-specific beliefs\n+!start : .my_name(N) &lt;- .print(&quot;My name is &quot;, N).\n\n// Rule to assign teams based on group assignment\n+!start : .my_name(N) &amp; group(1) &lt;- +my_group(group1).\n+!start : .my_name(N) &amp; group(2) &lt;- +my_group(group2).\n\n// Rule to react to an event based on the agent's group\n+some_event : my_group(Group) &amp; group(Group) &lt;- move(S);\n    .print(&quot;Agent in group &quot;, Group, &quot;: Event happened!&quot;).\n\n// Rule for agents to find out their team using their name\n+find_my_team : .my_name(N) &amp; group(N) &lt;-\n    .print(&quot;I am in group &quot;, N).\n\n+step(S) : lowEnergy &lt;-\n    recharge.\n\n+step(S) &lt;-\n    .print(&quot;New percepts for step &quot;, S);\n    .random([n,s,e,w], X);\n    move(X).\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","caching","thymeleaf"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693603585,"post_id":77025988,"comment_id":135787724,"body_markdown":"Add some sort of correlationId id to your requests and log them in the client and the server.","body":"Add some sort of correlationId id to your requests and log them in the client and the server."}],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693668394,"creation_date":1693604127,"answer_id":77026093,"question_id":77025988,"body_markdown":"&gt; I&#39;m hoping soon it will pop into my head and I&#39;ll be like, &quot;duh, I accidentally did such and such&quot; …\r\n\r\nhahahaha In fact it did just pop into my mind; I think I know exactly what is happening.\r\n\r\nI think that Spring Cache is not caching my `FooBar`s, but instead is _caching my `Flux&lt;FooBar&gt;`_—which in fact is exactly what I asked it to do. This means that it only generates a new `Flux&lt;FooBar&gt;` every 15 minutes. But for calls in the interim, Thymeleaf _iterates the cached `Flux&lt;FooBar&gt;` instance_, which makes another REST call to the backend service, in effect bypassing the `WebAppFooBarRepositoryImpl.getFooBars()` method.\r\n\r\nI guess I didn&#39;t look closely at what the method was returning, and assumed Spring knew what I wanted to cache.\r\n\r\nDuh!\r\n\r\nThe only surprise here is that I didn&#39;t know that if you held on to a `Flux&lt;FooBar&gt;` coming from a `WebClient`, that it would make a new request every time you called `Flux.toIterable()`. But it makes sense, as iterables are normally meant to be iterated multiple times.\r\n\r\n_Update:_ I have now performed tests to verify that this indeed seems to be the cause. The fix was to change the repository to return something that could be cached that already contained the objects (i.e. a materialized container), such as a `List&lt;FooBar&gt;`, rather than something that represented supplying the objects in the future:\r\n\r\n```java\r\n@Repository(&quot;fooBarRepository&quot;)\r\npublic class WebAppFooBarRepositoryImpl implements WebAppFooBarRepository {\r\n\r\n  …\r\n\r\n  @Override\r\n  @Cacheable(&quot;foobar&quot;)\r\n  public List&lt;FooBar&gt; getFooBars() {\r\n    return webClient.get().uri(&quot;backend-service&quot;)\r\n        ….collectList().block()\r\n  }\r\n\r\n  …\r\n```\r\n\r\nWith the existing `WebClient` code, the quick workaround was to add `….collectList().block()` to the existing `Flux&lt;FooBar&gt;` being returned, as shown in the snippet above. I&#39;ll then take some time to reexamine the entire approach to how this repository returns information, now that caching needs to be taken into consideration.","title":"Spring caching bypassing cached method?","body":"<blockquote>\n<p>I'm hoping soon it will pop into my head and I'll be like, &quot;duh, I accidentally did such and such&quot; …</p>\n</blockquote>\n<p>hahahaha In fact it did just pop into my mind; I think I know exactly what is happening.</p>\n<p>I think that Spring Cache is not caching my <code>FooBar</code>s, but instead is <em>caching my <code>Flux&lt;FooBar&gt;</code></em>—which in fact is exactly what I asked it to do. This means that it only generates a new <code>Flux&lt;FooBar&gt;</code> every 15 minutes. But for calls in the interim, Thymeleaf <em>iterates the cached <code>Flux&lt;FooBar&gt;</code> instance</em>, which makes another REST call to the backend service, in effect bypassing the <code>WebAppFooBarRepositoryImpl.getFooBars()</code> method.</p>\n<p>I guess I didn't look closely at what the method was returning, and assumed Spring knew what I wanted to cache.</p>\n<p>Duh!</p>\n<p>The only surprise here is that I didn't know that if you held on to a <code>Flux&lt;FooBar&gt;</code> coming from a <code>WebClient</code>, that it would make a new request every time you called <code>Flux.toIterable()</code>. But it makes sense, as iterables are normally meant to be iterated multiple times.</p>\n<p><em>Update:</em> I have now performed tests to verify that this indeed seems to be the cause. The fix was to change the repository to return something that could be cached that already contained the objects (i.e. a materialized container), such as a <code>List&lt;FooBar&gt;</code>, rather than something that represented supplying the objects in the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;fooBarRepository&quot;)\npublic class WebAppFooBarRepositoryImpl implements WebAppFooBarRepository {\n\n  …\n\n  @Override\n  @Cacheable(&quot;foobar&quot;)\n  public List&lt;FooBar&gt; getFooBars() {\n    return webClient.get().uri(&quot;backend-service&quot;)\n        ….collectList().block()\n  }\n\n  …\n</code></pre>\n<p>With the existing <code>WebClient</code> code, the quick workaround was to add <code>….collectList().block()</code> to the existing <code>Flux&lt;FooBar&gt;</code> being returned, as shown in the snippet above. I'll then take some time to reexamine the entire approach to how this repository returns information, now that caching needs to be taken into consideration.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77026093,"answer_count":1,"score":1,"last_activity_date":1693668394,"creation_date":1693602410,"question_id":77025988,"body_markdown":"Something weird is happening with Spring Cache; maybe someone can help me know what to look for.\r\n\r\nI have two Spring Boot applications 1) the &quot;web app&quot;, using Spring MVC with Thymeleaf, and 2) a &quot;backend service&quot; that talks to the database. The backend service exposes a RESTful interface to the web app, which is called during Thymeleaf processing (not asynchronously from the page using Ajax).\r\n\r\n```\r\nThymeleaf -&gt; web app -&gt; (REST over HTTP) -&gt; backend service -&gt; database\r\n```\r\n\r\nI&#39;m using Spring Cache with [Caffeine][1], with [Coffee Boots][2] to allow me to configure eviction on a per-cache basis. Here is part of the Maven POM:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n  &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.github.stepio.coffee-boots&lt;/groupId&gt;\r\n  &lt;artifactId&gt;coffee-boots&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI use `@EnableCaching` to turn on caching in my web app configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\npublic class WebAppConfiguration {\r\n  …\r\n```\r\n\r\nMy web app has a `WebAppFooBarRepositoryImpl.getFooBars()`, with caching turned on:\r\n\r\n```java\r\n@Repository(&quot;fooBarRepository&quot;)\r\npublic class WebAppFooBarRepositoryImpl implements WebAppFooBarRepository {\r\n\r\n  …\r\n\r\n  @Override\r\n  @Cacheable(&quot;foobar&quot;)\r\n  public Flux&lt;FooBar&gt; getFooBars() {\r\n\r\n    System.out.println(&quot;CACHE MISS&quot;);\r\n\r\n    return webClient.get().uri(&quot;backend-service&quot;).…\r\n  }\r\n\r\n  …\r\n```\r\n\r\nNote that this repository method logs `CACHE MISS` every time it is called, and then it makes a request to the backend.\r\n\r\nNote also that I named the repository `fooBarRepository`, so that in Thymeleaf I can iterate over the `Flux&lt;FooBar&gt;` items like this in the web page:\r\n\r\n```html\r\n&lt;li th:each=&quot;foobar: ${@fooBarRepository.getFooBars.toIterable()}&quot;&gt;[[${foobar}]]&lt;/li&gt;\r\n```\r\n\r\nThe backend service then has a `RestController` that accepts the request, like this (the web site repository converts the `Iterable` to a `Flux`):\r\n\r\n```java\r\n@GetMapping(path = &quot;backend-service&quot;)\r\npublic Iterable&lt;FooBar&gt; getFooBars() throws IOException {\r\n\r\n  System.out.println(&quot;backend getting foobars&quot;);\r\n\r\n  return getBackendFooBarRepository().getFooBars();\r\n}\r\n```\r\n\r\nEverything is completely standard and boring so far, with the caching being the only thing even slightly out of the ordinary. I add this configuration in the web app `application.yaml` to cache the foobar results at the web layer for 15 minutes at a time:\r\n\r\n```yaml\r\ncoffee-boots:\r\n  cache:\r\n    spec:\r\n      foobar: expireAfterWrite=15m\r\n```\r\n\r\nWith everything in place, I load the web page and hit `F5` over and over to continuously reload it.\r\n\r\n* I see `CACHE MISS` in the web site logs every 15 minutes. This is as expected: the web layer should be caching calls to `WebAppFooBarRepositoryImpl.getFooBars()`, and only actually making the call when the cache expires—after 15 minutes.\r\n* However I see &quot;backend getting foobars&quot; every time I reload the page, multiple times a second—each time I hit `F5`!!\r\n\r\nThis must mean that _something_ is calling the backend service every time the page is reloaded. But how? The only way to the backend service is via `WebAppFooBarRepositoryImpl.getFooBars()`, which makes the REST call. If `WebAppFooBarRepositoryImpl.getFooBars()` were being called more often, the web app would be printing `CACHE MISS` to the logs more often. But the web site is logging `CACHE MISS` every 15 minutes, exactly as I expect, regardless of how often I reload the page.\r\n\r\nRemembering that Spring is probably creating a proxy for my `WebAppFooBarRepositoryImpl` instance, I thought perhaps that the caching logic intercepting the call might be skipping the log output but still calling the backend. But I&#39;ve never heard of a Spring proxy parsing out the code _inside_ the method, and skipping only part of it; that makes no sense.\r\n\r\nCurrently I&#39;m at a loss to explain this weird behavior. If someone has an idea let me know. I&#39;m hoping soon it will pop into my head and I&#39;ll be like, &quot;duh, I accidentally did such and such&quot;, but for the moment, I honestly can&#39;t explain this.\r\n\r\n  [1]: https://github.com/ben-manes/caffeine\r\n  [2]: https://github.com/stepio/coffee-boots","title":"Spring caching bypassing cached method?","body":"<p>Something weird is happening with Spring Cache; maybe someone can help me know what to look for.</p>\n<p>I have two Spring Boot applications 1) the &quot;web app&quot;, using Spring MVC with Thymeleaf, and 2) a &quot;backend service&quot; that talks to the database. The backend service exposes a RESTful interface to the web app, which is called during Thymeleaf processing (not asynchronously from the page using Ajax).</p>\n<pre><code>Thymeleaf -&gt; web app -&gt; (REST over HTTP) -&gt; backend service -&gt; database\n</code></pre>\n<p>I'm using Spring Cache with <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>, with <a href=\"https://github.com/stepio/coffee-boots\" rel=\"nofollow noreferrer\">Coffee Boots</a> to allow me to configure eviction on a per-cache basis. Here is part of the Maven POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n  &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.github.stepio.coffee-boots&lt;/groupId&gt;\n  &lt;artifactId&gt;coffee-boots&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I use <code>@EnableCaching</code> to turn on caching in my web app configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\npublic class WebAppConfiguration {\n  …\n</code></pre>\n<p>My web app has a <code>WebAppFooBarRepositoryImpl.getFooBars()</code>, with caching turned on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;fooBarRepository&quot;)\npublic class WebAppFooBarRepositoryImpl implements WebAppFooBarRepository {\n\n  …\n\n  @Override\n  @Cacheable(&quot;foobar&quot;)\n  public Flux&lt;FooBar&gt; getFooBars() {\n\n    System.out.println(&quot;CACHE MISS&quot;);\n\n    return webClient.get().uri(&quot;backend-service&quot;).…\n  }\n\n  …\n</code></pre>\n<p>Note that this repository method logs <code>CACHE MISS</code> every time it is called, and then it makes a request to the backend.</p>\n<p>Note also that I named the repository <code>fooBarRepository</code>, so that in Thymeleaf I can iterate over the <code>Flux&lt;FooBar&gt;</code> items like this in the web page:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li th:each=&quot;foobar: ${@fooBarRepository.getFooBars.toIterable()}&quot;&gt;[[${foobar}]]&lt;/li&gt;\n</code></pre>\n<p>The backend service then has a <code>RestController</code> that accepts the request, like this (the web site repository converts the <code>Iterable</code> to a <code>Flux</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;backend-service&quot;)\npublic Iterable&lt;FooBar&gt; getFooBars() throws IOException {\n\n  System.out.println(&quot;backend getting foobars&quot;);\n\n  return getBackendFooBarRepository().getFooBars();\n}\n</code></pre>\n<p>Everything is completely standard and boring so far, with the caching being the only thing even slightly out of the ordinary. I add this configuration in the web app <code>application.yaml</code> to cache the foobar results at the web layer for 15 minutes at a time:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>coffee-boots:\n  cache:\n    spec:\n      foobar: expireAfterWrite=15m\n</code></pre>\n<p>With everything in place, I load the web page and hit <code>F5</code> over and over to continuously reload it.</p>\n<ul>\n<li>I see <code>CACHE MISS</code> in the web site logs every 15 minutes. This is as expected: the web layer should be caching calls to <code>WebAppFooBarRepositoryImpl.getFooBars()</code>, and only actually making the call when the cache expires—after 15 minutes.</li>\n<li>However I see &quot;backend getting foobars&quot; every time I reload the page, multiple times a second—each time I hit <code>F5</code>!!</li>\n</ul>\n<p>This must mean that <em>something</em> is calling the backend service every time the page is reloaded. But how? The only way to the backend service is via <code>WebAppFooBarRepositoryImpl.getFooBars()</code>, which makes the REST call. If <code>WebAppFooBarRepositoryImpl.getFooBars()</code> were being called more often, the web app would be printing <code>CACHE MISS</code> to the logs more often. But the web site is logging <code>CACHE MISS</code> every 15 minutes, exactly as I expect, regardless of how often I reload the page.</p>\n<p>Remembering that Spring is probably creating a proxy for my <code>WebAppFooBarRepositoryImpl</code> instance, I thought perhaps that the caching logic intercepting the call might be skipping the log output but still calling the backend. But I've never heard of a Spring proxy parsing out the code <em>inside</em> the method, and skipping only part of it; that makes no sense.</p>\n<p>Currently I'm at a loss to explain this weird behavior. If someone has an idea let me know. I'm hoping soon it will pop into my head and I'll be like, &quot;duh, I accidentally did such and such&quot;, but for the moment, I honestly can't explain this.</p>\n"},{"tags":["java","escaping","stringbuilder"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1542612885,"post_id":53370129,"comment_id":93616259,"body_markdown":"Try `&quot;Ran\\\\\\&quot;dom&quot;`, it will escape both the backslash and the double quote.","body":"Try <code>&quot;Ran\\\\\\&quot;dom&quot;</code>, it will escape both the backslash and the double quote."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1542612903,"post_id":53370129,"comment_id":93616272,"body_markdown":"You would need to *escape* the `\\\\` with another `\\\\` character: `String sample = &quot;Ran\\\\&quot;dom&quot;;`","body":"You would need to <i>escape</i> the <code>\\` with another </code>\\` character: <code>String sample = &quot;Ran\\\\&quot;dom&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":12682930,"reputation":1163,"user_id":9215910,"display_name":"Pooja Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542613084,"creation_date":1542613084,"answer_id":53370198,"question_id":53370129,"body_markdown":"You need to escape the whole &quot;\\&quot;&quot; with another &quot;\\&quot;.\r\nTry, \r\n\t\r\n\r\n    String sample = &quot;Ran\\\\\\&quot;dom&quot;;\r\n\r\nYou can learn more about escape characters from https://www.freeformatter.com/java-dotnet-escape.html","title":"Java string stop the escape character action","body":"<p>You need to escape the whole \"\\\"\" with another \"\\\".\nTry, </p>\n\n<pre><code>String sample = \"Ran\\\\\\\"dom\";\n</code></pre>\n\n<p>You can learn more about escape characters from <a href=\"https://www.freeformatter.com/java-dotnet-escape.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/java-dotnet-escape.html</a></p>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693668017,"creation_date":1693668017,"answer_id":77028860,"question_id":53370129,"body_markdown":"Better late than never, try:\r\n\r\n    import org.apache.commons.text.StringEscapeUtils;\r\n    ... \r\n    String sample = &quot;Ran\\&quot;dom&quot;;\r\n    StringBuilder sb = new StringBuilder(&quot;Hello&quot;);\r\n    \r\n    System.out.println(sb+StringEscapeUtils.escapeJava(sample)); \r\n\r\npom.xml: \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Java string stop the escape character action","body":"<p>Better late than never, try:</p>\n<pre><code>import org.apache.commons.text.StringEscapeUtils;\n... \nString sample = &quot;Ran\\&quot;dom&quot;;\nStringBuilder sb = new StringBuilder(&quot;Hello&quot;);\n\nSystem.out.println(sb+StringEscapeUtils.escapeJava(sample)); \n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14213223,"reputation":91,"user_id":10267810,"display_name":"VAMSHI KRISHNA SAI NAGABANDI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693668017,"creation_date":1542612788,"question_id":53370129,"body_markdown":"My question is suppose I have a string and a string builder:\r\n\r\n    String sample = &quot;Ran\\&quot;dom&quot;;\r\n    StringBuilder sb = new StringBuilder(&quot;Hello&quot;);\r\n\r\nOn appending the sample string to the StringBuilder and printing the String builder, it returns &quot;HelloRan&quot;dom&quot;\r\n\r\nHere the purpose of &quot;\\&quot; in sample would be to escape the &quot; character. But, I do not want that action to happen. I want the output of sb after appending sample to be &quot;HelloRan\\&quot;dom&quot;. How do I do that.","title":"Java string stop the escape character action","body":"<p>My question is suppose I have a string and a string builder:</p>\n\n<pre><code>String sample = \"Ran\\\"dom\";\nStringBuilder sb = new StringBuilder(\"Hello\");\n</code></pre>\n\n<p>On appending the sample string to the StringBuilder and printing the String builder, it returns \"HelloRan\"dom\"</p>\n\n<p>Here the purpose of \"\\\" in sample would be to escape the \" character. But, I do not want that action to happen. I want the output of sb after appending sample to be \"HelloRan\\\"dom\". How do I do that.</p>\n"},{"tags":["java","scala","collections"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1693584186,"post_id":77023755,"comment_id":135785029,"body_markdown":"I think the easiest way would be to: 1) actually write this code in Scala, 2) compile it, 3) check with `javap` what bytecode was generated and use that knowledge in Java. OTOH I think map converted expects an implicit evidence `A &lt;:&lt; (K, V)`, which in Java you&#39;d have to instantiate and pass by hand. Here, additionally there might be the issue that Scala understands the idea of a type alias and Java not really, so you might have 2 different types, where in Scala there is only 1 type with 2 names. Perhaps casting the value returned by `Predef.conforms` would be enough.","body":"I think the easiest way would be to: 1) actually write this code in Scala, 2) compile it, 3) check with <code>javap</code> what bytecode was generated and use that knowledge in Java. OTOH I think map converted expects an implicit evidence <code>A &lt;:&lt; (K, V)</code>, which in Java you&#39;d have to instantiate and pass by hand. Here, additionally there might be the issue that Scala understands the idea of a type alias and Java not really, so you might have 2 different types, where in Scala there is only 1 type with 2 names. Perhaps casting the value returned by <code>Predef.conforms</code> would be enough."}],"answers":[{"tags":[],"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693667996,"creation_date":1693640721,"answer_id":77027408,"question_id":77023755,"body_markdown":"I wrote the following Scala code:\r\n\r\n```\r\nimport scala.collection.JavaConverters._\r\n\r\nclass MapConversion {\r\n\r\n  def fromScala[K, V](map: scala.collection.immutable.Map[K, V]): java.util.Map[K, V] = map.asJava\r\n\r\n  def toScala[K, V](map: java.util.Map[K, V]): scala.collection.mutable.Map[K, V] = map.asScala\r\n}\r\n```\r\n\r\nand compiled it with\r\n\r\n```\r\nscala-cli compile --scala &quot;2.12.11&quot; .\r\n```\r\n\r\n(JavaConverters suggest Scala 2.12 or older).\r\n\r\nThen I opened the resulting `MapConversion.class` in https://dmitriy-gulyaev.github.io/java-disassembler/ although I could just use `javap` as well.\r\n\r\nReading the bytecode suggest that the closest Java code would be something *similar* to:\r\n\r\n```\r\nclass MapConversion {\r\n\r\n  &lt;K, V&gt; java.util.Map&lt;&gt;K, V&gt; fromScala(\r\n    scala.collection.immutable.Map&lt;K, V&gt; map\r\n  ) {\r\n     return\r\n        // get JavaConverters$ companion object instance\r\n        scala.collection.JavaConverters$.MODULE$\r\n        // use implicit conversion to wrap it in Decorators$AsJava\r\n          .mapAsJavaConverter(map)\r\n          // call asJava to convert the value\r\n          .asJava \r\n  }\r\n\r\n  &lt;K, V&gt; scala.collection.mutable.Map&lt;K, V&gt; toScala(\r\n    java.util.Map&lt;K, V&gt; map\r\n  ) {\r\n    return\r\n      // get JavaConverters$ companion object instance\r\n      scala.collection.JavaConverters$.MODULE$\r\n        // use implicit conversion to wrap it in Decorators$AsScala\r\n        .mapAsScalaMapConverter(map)\r\n        // call asScala to convert the value\r\n        .asScala\r\n  }\r\n}\r\n```\r\n\r\n(Disclaimer: I haven&#39;t tested it, and I don&#39;t intend to).\r\n\r\nHowever, 99% of the time the requirement to &quot;not use Scala language&quot; would be hard to defend: it dismiss the right tool for the job (compiler), it requires reverse engendering which in turns requires the knowledge how JVM works, and it requires such reverse engineering every time any change is made. It also doesn&#39;t &quot;save&quot; the codebase from &quot;Scala pollution&quot; since apparently Scala standard library and code using it are already in the dependencies.\r\n\r\nIf the company as a whole don&#39;t want to deal with Scala, that&#39;s fine. But such issues can be much easier solved by:\r\n\r\n1. defining an interface:\r\n\r\n```\r\ninterface JavaToScalaAdapters {\r\n  // ...\r\n}\r\n```\r\n\r\n2. implementing it in Scala as a top-level class with no constructor arguments, globals, etc\r\n\r\n```\r\nclass JavaToScalaAdaptersImpl extends JavaToScalaAdapters {\r\n  // ...\r\n}\r\n```\r\n\r\n3. calling `new` in Java to obtain this implementation and call it like any other Java code\r\n\r\n```\r\nJavaToScalaAdapters adapters = new JavaToScalaAdaptersImpl();\r\n``` \r\n\r\nIt could be a single artifact used in all companies Java projects, which rely on Scala even when they don&#39;t want to. Any other solution is wasting a lot of time and money. Even if it was a one-time workaround it is just faster to write it in Scala, compile, and throw `.class` file into resources directory in version control, than reverse engineer the code. The only justifiable cases where such reverse engineering would be justified would be learning or developing some low-level utilities.","title":"Converting java map to scala immutable map in java","body":"<p>I wrote the following Scala code:</p>\n<pre><code>import scala.collection.JavaConverters._\n\nclass MapConversion {\n\n  def fromScala[K, V](map: scala.collection.immutable.Map[K, V]): java.util.Map[K, V] = map.asJava\n\n  def toScala[K, V](map: java.util.Map[K, V]): scala.collection.mutable.Map[K, V] = map.asScala\n}\n</code></pre>\n<p>and compiled it with</p>\n<pre><code>scala-cli compile --scala &quot;2.12.11&quot; .\n</code></pre>\n<p>(JavaConverters suggest Scala 2.12 or older).</p>\n<p>Then I opened the resulting <code>MapConversion.class</code> in <a href=\"https://dmitriy-gulyaev.github.io/java-disassembler/\" rel=\"nofollow noreferrer\">https://dmitriy-gulyaev.github.io/java-disassembler/</a> although I could just use <code>javap</code> as well.</p>\n<p>Reading the bytecode suggest that the closest Java code would be something <em>similar</em> to:</p>\n<pre><code>class MapConversion {\n\n  &lt;K, V&gt; java.util.Map&lt;&gt;K, V&gt; fromScala(\n    scala.collection.immutable.Map&lt;K, V&gt; map\n  ) {\n     return\n        // get JavaConverters$ companion object instance\n        scala.collection.JavaConverters$.MODULE$\n        // use implicit conversion to wrap it in Decorators$AsJava\n          .mapAsJavaConverter(map)\n          // call asJava to convert the value\n          .asJava \n  }\n\n  &lt;K, V&gt; scala.collection.mutable.Map&lt;K, V&gt; toScala(\n    java.util.Map&lt;K, V&gt; map\n  ) {\n    return\n      // get JavaConverters$ companion object instance\n      scala.collection.JavaConverters$.MODULE$\n        // use implicit conversion to wrap it in Decorators$AsScala\n        .mapAsScalaMapConverter(map)\n        // call asScala to convert the value\n        .asScala\n  }\n}\n</code></pre>\n<p>(Disclaimer: I haven't tested it, and I don't intend to).</p>\n<p>However, 99% of the time the requirement to &quot;not use Scala language&quot; would be hard to defend: it dismiss the right tool for the job (compiler), it requires reverse engendering which in turns requires the knowledge how JVM works, and it requires such reverse engineering every time any change is made. It also doesn't &quot;save&quot; the codebase from &quot;Scala pollution&quot; since apparently Scala standard library and code using it are already in the dependencies.</p>\n<p>If the company as a whole don't want to deal with Scala, that's fine. But such issues can be much easier solved by:</p>\n<ol>\n<li>defining an interface:</li>\n</ol>\n<pre><code>interface JavaToScalaAdapters {\n  // ...\n}\n</code></pre>\n<ol start=\"2\">\n<li>implementing it in Scala as a top-level class with no constructor arguments, globals, etc</li>\n</ol>\n<pre><code>class JavaToScalaAdaptersImpl extends JavaToScalaAdapters {\n  // ...\n}\n</code></pre>\n<ol start=\"3\">\n<li>calling <code>new</code> in Java to obtain this implementation and call it like any other Java code</li>\n</ol>\n<pre><code>JavaToScalaAdapters adapters = new JavaToScalaAdaptersImpl();\n</code></pre>\n<p>It could be a single artifact used in all companies Java projects, which rely on Scala even when they don't want to. Any other solution is wasting a lot of time and money. Even if it was a one-time workaround it is just faster to write it in Scala, compile, and throw <code>.class</code> file into resources directory in version control, than reverse engineer the code. The only justifiable cases where such reverse engineering would be justified would be learning or developing some low-level utilities.</p>\n"}],"owner":{"account_id":14048313,"reputation":53,"user_id":15305488,"display_name":"PrintScreenSys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693667996,"creation_date":1693576918,"question_id":77023755,"body_markdown":"I need a method, which gets java Map and convert it to scala immutable Map.\r\nI have tried to do this \r\n```\r\nimport scala.Predef;\r\nimport scala.Tuple2;\r\nimport scala.collection.JavaConverters;\r\n\r\npublic static &lt;K,V&gt; scala.collection.immutable.Map&lt;K,V&gt; convert(java.util.HashMap&lt;K,V&gt; javaMap) {\r\n       return JavaConverters.mapAsScalaMapConverter(javaMap).asScala().toMap(Predef.&lt;Tuple2&lt;K,V&gt;&gt;conforms());\r\n}\r\n```\r\nBut I am getting following message\r\n\r\nRequired type: scala.$less$colon$less&lt;Tuple2&lt;K, V&gt;,scala.Tuple2&lt;K,V&gt;&gt;\r\n\r\nProvided: scala **.Predef**.$less$colon$less&lt;Tuple2&lt;K, V&gt;,scala.Tuple2&lt;K,V&gt;&gt;\r\n\r\nI need to solve this problem using Java language, and I am not able to write any Scala code\r\nupd: Also I ve tried casting, but I ve been getting `java.lang.ClassCastException: java.util.HashMap cannot be cast to scala.collection.immutable.Map` ","title":"Converting java map to scala immutable map in java","body":"<p>I need a method, which gets java Map and convert it to scala immutable Map.\nI have tried to do this</p>\n<pre><code>import scala.Predef;\nimport scala.Tuple2;\nimport scala.collection.JavaConverters;\n\npublic static &lt;K,V&gt; scala.collection.immutable.Map&lt;K,V&gt; convert(java.util.HashMap&lt;K,V&gt; javaMap) {\n       return JavaConverters.mapAsScalaMapConverter(javaMap).asScala().toMap(Predef.&lt;Tuple2&lt;K,V&gt;&gt;conforms());\n}\n</code></pre>\n<p>But I am getting following message</p>\n<p>Required type: scala.$less$colon$less&lt;Tuple2&lt;K, V&gt;,scala.Tuple2&lt;K,V&gt;&gt;</p>\n<p>Provided: scala <strong>.Predef</strong>.$less$colon$less&lt;Tuple2&lt;K, V&gt;,scala.Tuple2&lt;K,V&gt;&gt;</p>\n<p>I need to solve this problem using Java language, and I am not able to write any Scala code\nupd: Also I ve tried casting, but I ve been getting <code>java.lang.ClassCastException: java.util.HashMap cannot be cast to scala.collection.immutable.Map</code></p>\n"},{"tags":["java","spring-boot","logging"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1693481701,"post_id":77015376,"comment_id":135768453,"body_markdown":"just use a StringBuilder or String concatenation to create the String to log, and only actually put one single log statement after you&#39;ve checked the conditions and created the line to log","body":"just use a StringBuilder or String concatenation to create the String to log, and only actually put one single log statement after you&#39;ve checked the conditions and created the line to log"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693484027,"post_id":77015376,"comment_id":135768966,"body_markdown":"That&#39;s far too granular an approach to logging. At best you want `log.info(info + &quot; set in orgTable&quot;);` and of course that class should already implement `toString` properly. [`info`](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)\n(as all other variables) should begin lower case","body":"That&#39;s far too granular an approach to logging. At best you want <code>log.info(info + &quot; set in orgTable&quot;);</code> and of course that class should already implement <code>toString</code> properly. <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\"><code>info</code></a> (as all other variables) should begin lower case"}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1693482073,"post_id":77015496,"comment_id":135768529,"body_markdown":"why adding a list and a needless loop in the mix? you&#39;re also not taking into account that the last added element shouldn&#39;t add a &quot;,&quot;, and we can&#39;t know for sure what the last added element will be","body":"why adding a list and a needless loop in the mix? you&#39;re also not taking into account that the last added element shouldn&#39;t add a &quot;,&quot;, and we can&#39;t know for sure what the last added element will be"},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1693483183,"post_id":77015496,"comment_id":135768795,"body_markdown":"length function showing error","body":"length function showing error"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1693483225,"post_id":77015496,"comment_id":135768805,"body_markdown":"Yup sorry my bad... I&#39;ll edit","body":"Yup sorry my bad... I&#39;ll edit"},{"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"score":0,"creation_date":1693483309,"post_id":77015496,"comment_id":135768824,"body_markdown":"because of the join it doesn&#39;t apply a , at the last element. Why not apply a loop? Of course there is multiple solutions for this, this is just one of them","body":"because of the join it doesn&#39;t apply a , at the last element. Why not apply a loop? Of course there is multiple solutions for this, this is just one of them"}],"tags":[],"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693483250,"creation_date":1693481965,"answer_id":77015496,"question_id":77015376,"body_markdown":"Maybe something like this:\r\n\r\n        OrgMap org = new OrgMap();\r\n        Information info = request.Information().get(0); // Assuming Information class and its methods\r\n\r\n        List&lt;String&gt; listOfWords = new ArrayList&lt;&gt;();\r\n\r\n        if (info.getFirstName() != null) {\r\n            org.setFirstName(info.getFirstName());\r\n            listOfWords.add(&quot;FirstName,&quot;);\r\n        }\r\n        if (info.getMiddleName() != null) {\r\n            org.setMiddleName(info.getMiddleName());\r\n            listOfWords.add(&quot;MiddleName&quot;);\r\n        }\r\n        if (info.getLastName() != null) {\r\n            org.setLastName(info.getLastName());\r\n            listOfWords.add(&quot;LastName&quot;);\r\n        }\r\n        if (info.getDOB() != null) {\r\n            org.setDob(info.getDOB());\r\n            listOfWords.add(&quot;DOB&quot;);\r\n        }\r\n        if (info.getGender() != null) {\r\n            org.setGender(info.getGender());\r\n            listOfWords.add(&quot;Gender&quot;);\r\n        }\r\n\r\n        if (listOfWords.size() &gt; 0) {\r\n            String words = String.join(&quot;,&quot;, listOfWords);\r\n            log.info(words + &quot; has set in orgTable&quot;);\r\n        }","title":"How to log data in a single line in this case in java?","body":"<p>Maybe something like this:</p>\n<pre><code>    OrgMap org = new OrgMap();\n    Information info = request.Information().get(0); // Assuming Information class and its methods\n\n    List&lt;String&gt; listOfWords = new ArrayList&lt;&gt;();\n\n    if (info.getFirstName() != null) {\n        org.setFirstName(info.getFirstName());\n        listOfWords.add(&quot;FirstName,&quot;);\n    }\n    if (info.getMiddleName() != null) {\n        org.setMiddleName(info.getMiddleName());\n        listOfWords.add(&quot;MiddleName&quot;);\n    }\n    if (info.getLastName() != null) {\n        org.setLastName(info.getLastName());\n        listOfWords.add(&quot;LastName&quot;);\n    }\n    if (info.getDOB() != null) {\n        org.setDob(info.getDOB());\n        listOfWords.add(&quot;DOB&quot;);\n    }\n    if (info.getGender() != null) {\n        org.setGender(info.getGender());\n        listOfWords.add(&quot;Gender&quot;);\n    }\n\n    if (listOfWords.size() &gt; 0) {\n        String words = String.join(&quot;,&quot;, listOfWords);\n        log.info(words + &quot; has set in orgTable&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693667943,"creation_date":1693667943,"answer_id":77028856,"question_id":77015376,"body_markdown":"You can handle with that through Java Stream. Here is the code snippet shown below\r\n\r\n    OrgMap org = new OrgMap();\r\n    Information info = request.Information().get(0); // data coming from payload\r\n    \r\n    Map&lt;String, Consumer&lt;OrgMap&gt;&gt; setters = new HashMap&lt;&gt;();\r\n    setters.put(&quot;FirstName&quot;, org::setFirstName);\r\n    setters.put(&quot;MiddleName&quot;, org::setMiddleName);\r\n    setters.put(&quot;LastName&quot;, org::setLastName);\r\n    setters.put(&quot;DOB&quot;, org::setDob);\r\n    setters.put(&quot;Gender&quot;, org::setGender);\r\n    \r\n    String fieldsSet = setters.entrySet().stream()\r\n        .filter(entry -&gt; getField(info, entry.getKey()) != null)\r\n        .peek(entry -&gt; entry.getValue().accept(getField(info, entry.getKey())))\r\n        .map(Map.Entry::getKey)\r\n        .collect(Collectors.joining(&quot;,&quot;));\r\n    \r\n    if (!fieldsSet.isEmpty()) {\r\n        log.info(fieldsSet + &quot; have set in orgTable&quot;);\r\n    }\r\n    \r\n    // Helper method to get the field from Information\r\n    private static Object getField(Information info, String fieldName) {\r\n        switch (fieldName) {\r\n            case &quot;FirstName&quot;:\r\n                return info.getFirstName();\r\n            case &quot;MiddleName&quot;:\r\n                return info.getMiddleName();\r\n            case &quot;LastName&quot;:\r\n                return info.getLastName();\r\n            case &quot;DOB&quot;:\r\n                return info.getDOB();\r\n            case &quot;Gender&quot;:\r\n                return info.getGender();\r\n            default:\r\n                return null;\r\n        }\r\n    }","title":"How to log data in a single line in this case in java?","body":"<p>You can handle with that through Java Stream. Here is the code snippet shown below</p>\n<pre><code>OrgMap org = new OrgMap();\nInformation info = request.Information().get(0); // data coming from payload\n\nMap&lt;String, Consumer&lt;OrgMap&gt;&gt; setters = new HashMap&lt;&gt;();\nsetters.put(&quot;FirstName&quot;, org::setFirstName);\nsetters.put(&quot;MiddleName&quot;, org::setMiddleName);\nsetters.put(&quot;LastName&quot;, org::setLastName);\nsetters.put(&quot;DOB&quot;, org::setDob);\nsetters.put(&quot;Gender&quot;, org::setGender);\n\nString fieldsSet = setters.entrySet().stream()\n    .filter(entry -&gt; getField(info, entry.getKey()) != null)\n    .peek(entry -&gt; entry.getValue().accept(getField(info, entry.getKey())))\n    .map(Map.Entry::getKey)\n    .collect(Collectors.joining(&quot;,&quot;));\n\nif (!fieldsSet.isEmpty()) {\n    log.info(fieldsSet + &quot; have set in orgTable&quot;);\n}\n\n// Helper method to get the field from Information\nprivate static Object getField(Information info, String fieldName) {\n    switch (fieldName) {\n        case &quot;FirstName&quot;:\n            return info.getFirstName();\n        case &quot;MiddleName&quot;:\n            return info.getMiddleName();\n        case &quot;LastName&quot;:\n            return info.getLastName();\n        case &quot;DOB&quot;:\n            return info.getDOB();\n        case &quot;Gender&quot;:\n            return info.getGender();\n        default:\n            return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77015496,"answer_count":2,"score":0,"last_activity_date":1693667943,"creation_date":1693481140,"question_id":77015376,"body_markdown":"\r\nSetting data like this how can I log in a single line\r\n```\r\nOrgMap Patient = new OrgMap();\r\nInformation Info = request.Information().get(0);// data coming from payload\r\n\r\n               if (Info.getFirstName() != null) {\r\n                    org.setFirstName(Info.getFirstName());\r\n                    log.info( firstname has set in orgTable&quot;);\r\n                }\r\n                if (Info.getPatientMiddleName() != null) {\r\n                    org.setMiddleName(Info.getMiddleName());\r\n                    log.info(&quot; firstname has set in orgTable&quot;);\r\n                }\r\n                if (Info.getPatientLastName() != null) {\r\n                    org.setLastName(Info.getLastName());\r\n                    log.info(&quot;LastName has set in orgTable&quot;);\r\n                }\r\n                if (tInfo.getDOB() != null) {\r\n                    org.setDob(Info.getDOB());\r\n                    log.info(&quot; DOB has set in orgTable&quot;);\r\n                }\r\n                if (patientInfo.getGender() != null) {\r\n                    orgPatient.setGender(Info.getGender());\r\n                    log.info(&quot;Gender has set in orgTable&quot;);\r\n                }\r\n```\r\n\r\nCurrent Loging output like this\r\n```\r\nfirstname has set in orgTable\r\nLastName has set in orgTable\r\nEmail has set in orgTable\r\n\r\n```\r\n\r\nRequired like this \r\n```\r\nFirstName,LastName,Gender,DOB has set in orgTable\r\n```\r\n\r\nHow can I set ","title":"How to log data in a single line in this case in java?","body":"<p>Setting data like this how can I log in a single line</p>\n<pre><code>OrgMap Patient = new OrgMap();\nInformation Info = request.Information().get(0);// data coming from payload\n\n               if (Info.getFirstName() != null) {\n                    org.setFirstName(Info.getFirstName());\n                    log.info( firstname has set in orgTable&quot;);\n                }\n                if (Info.getPatientMiddleName() != null) {\n                    org.setMiddleName(Info.getMiddleName());\n                    log.info(&quot; firstname has set in orgTable&quot;);\n                }\n                if (Info.getPatientLastName() != null) {\n                    org.setLastName(Info.getLastName());\n                    log.info(&quot;LastName has set in orgTable&quot;);\n                }\n                if (tInfo.getDOB() != null) {\n                    org.setDob(Info.getDOB());\n                    log.info(&quot; DOB has set in orgTable&quot;);\n                }\n                if (patientInfo.getGender() != null) {\n                    orgPatient.setGender(Info.getGender());\n                    log.info(&quot;Gender has set in orgTable&quot;);\n                }\n</code></pre>\n<p>Current Loging output like this</p>\n<pre><code>firstname has set in orgTable\nLastName has set in orgTable\nEmail has set in orgTable\n\n</code></pre>\n<p>Required like this</p>\n<pre><code>FirstName,LastName,Gender,DOB has set in orgTable\n</code></pre>\n<p>How can I set</p>\n"},{"tags":["java","jdbi"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693661336,"post_id":77028450,"comment_id":135791772,"body_markdown":"Search for this: `module java.base does not &quot;opens java.lang&quot; to unnamed module @1188e820`. I&#39;d also consider using version 3 of that library.","body":"Search for this: <code>module java.base does not &quot;opens java.lang&quot; to unnamed module @1188e820</code>. I&#39;d also consider using version 3 of that library."}],"answers":[{"tags":[],"owner":{"account_id":355304,"reputation":20155,"user_id":694184,"accept_rate":88,"display_name":"slayton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693667765,"creation_date":1693667765,"answer_id":77028841,"question_id":77028450,"body_markdown":"Migrating to JDBI3 fixed the issue.","title":"How do I properly use jdbi.open?","body":"<p>Migrating to JDBI3 fixed the issue.</p>\n"}],"owner":{"account_id":355304,"reputation":20155,"user_id":694184,"accept_rate":88,"display_name":"slayton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693667765,"creation_date":1693660893,"question_id":77028450,"body_markdown":"I&#39;m trying to spin up a new service and would love to use the JDBI SqlObjects interface. \r\n\r\nI&#39;ve written up a little program in Java that successfully creates an instance of `org.skife.jdbi.v2.DBI` and is able to query the database, however, when I try to get an instance of my Dao class I get a bunch of errors:\r\n\r\nWhat I&#39;m doing:\r\n\r\n```java\r\nimport com.sevenrooms.crm.data.db.HikariConfigProvider;\r\nimport com.sevenrooms.crm.data.db.HikariDatasourceProvider;\r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport org.skife.jdbi.v2.DBI;\r\n\r\nimport java.sql.ResultSet;\r\n\r\npublic class Scratch {\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    DBI dbi = new DBI(dataSourceProvider.getDatasource());\r\n\r\n    // Verify that we have a real connection and are able to query the database\r\n    ResultSet rs = dbi.open()\r\n        .getConnection()\r\n        .prepareCall(&quot;SELECT object_id from object_states limit 1&quot;)\r\n        .executeQuery();\r\n\r\n    while(rs.next()) {\r\n      System.out.println(&quot;got id:&quot; + rs.getInt(1)); // &lt;-- THIS WORKS!\r\n    }\r\n\r\n    MyDao myDao = dbi.open(MyDao.class); // &lt;-- This Throws\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve been scouring the docs and trying to figure out what is broken here but I&#39;m at a complete loss.\r\n\r\nHere&#39;s the `Dao` class:\r\n```\r\npublic interface MyDao {\r\n  @SingleValueResult\r\n  @SqlQuery(&quot;SELECT object_id FROM object_states LIMIT 1&quot;)\r\n  int getObjectId();\r\n}\r\n\r\n```\r\nFrom my `pom.xml`\r\n```\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jdbi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.78&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nI&#39;m running this in Java 20.\r\n\r\nThis is what i&#39;m seeing in my console, any idea whats broken here?\r\n\r\n```\r\ngot id: 1\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat org.skife.jdbi.v2.sqlobject.SqlObject.buildSqlObject(SqlObject.java:71)\r\n\tat org.skife.jdbi.v2.sqlobject.SqlObjectBuilder.open(SqlObjectBuilder.java:50)\r\n\tat org.skife.jdbi.v2.DBI.open(DBI.java:401)\r\n\tat Scratch.main(Scratch.java:27)\r\nCaused by: java.lang.IllegalStateException: Unable to load cache item\r\n\tat org.skife.jdbi.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\r\n\tat org.skife.jdbi.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\r\n\tat org.skife.jdbi.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\r\n\tat org.skife.jdbi.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n\tat org.skife.jdbi.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n\tat org.skife.jdbi.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n\tat org.skife.jdbi.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n\t... 4 more\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat org.skife.jdbi.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n\tat org.skife.jdbi.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.skife.jdbi.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\r\n\tat org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\r\n\tat org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\r\n\tat org.skife.jdbi.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat org.skife.jdbi.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\t... 11 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1188e820\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\r\n\tat org.skife.jdbi.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\r\n\tat org.skife.jdbi.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44)\r\n\t... 19 more\r\n```","title":"How do I properly use jdbi.open?","body":"<p>I'm trying to spin up a new service and would love to use the JDBI SqlObjects interface.</p>\n<p>I've written up a little program in Java that successfully creates an instance of <code>org.skife.jdbi.v2.DBI</code> and is able to query the database, however, when I try to get an instance of my Dao class I get a bunch of errors:</p>\n<p>What I'm doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sevenrooms.crm.data.db.HikariConfigProvider;\nimport com.sevenrooms.crm.data.db.HikariDatasourceProvider;\nimport com.zaxxer.hikari.HikariConfig;\nimport org.skife.jdbi.v2.DBI;\n\nimport java.sql.ResultSet;\n\npublic class Scratch {\n  public static void main(String[] args) throws Exception {\n\n    DBI dbi = new DBI(dataSourceProvider.getDatasource());\n\n    // Verify that we have a real connection and are able to query the database\n    ResultSet rs = dbi.open()\n        .getConnection()\n        .prepareCall(&quot;SELECT object_id from object_states limit 1&quot;)\n        .executeQuery();\n\n    while(rs.next()) {\n      System.out.println(&quot;got id:&quot; + rs.getInt(1)); // &lt;-- THIS WORKS!\n    }\n\n    MyDao myDao = dbi.open(MyDao.class); // &lt;-- This Throws\n  }\n}\n</code></pre>\n<p>I've been scouring the docs and trying to figure out what is broken here but I'm at a complete loss.</p>\n<p>Here's the <code>Dao</code> class:</p>\n<pre><code>public interface MyDao {\n  @SingleValueResult\n  @SqlQuery(&quot;SELECT object_id FROM object_states LIMIT 1&quot;)\n  int getObjectId();\n}\n\n</code></pre>\n<p>From my <code>pom.xml</code></p>\n<pre><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdbi&lt;/groupId&gt;\n            &lt;artifactId&gt;jdbi&lt;/artifactId&gt;\n            &lt;version&gt;2.78&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>I'm running this in Java 20.</p>\n<p>This is what i'm seeing in my console, any idea whats broken here?</p>\n<pre><code>got id: 1\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at org.skife.jdbi.v2.sqlobject.SqlObject.buildSqlObject(SqlObject.java:71)\n    at org.skife.jdbi.v2.sqlobject.SqlObjectBuilder.open(SqlObjectBuilder.java:50)\n    at org.skife.jdbi.v2.DBI.open(DBI.java:401)\n    at Scratch.main(Scratch.java:27)\nCaused by: java.lang.IllegalStateException: Unable to load cache item\n    at org.skife.jdbi.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79)\n    at org.skife.jdbi.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:105)\n    at org.skife.jdbi.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:278)\n    at org.skife.jdbi.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at org.skife.jdbi.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at org.skife.jdbi.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at org.skife.jdbi.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 4 more\nCaused by: java.lang.ExceptionInInitializerError\n    at org.skife.jdbi.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at org.skife.jdbi.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.skife.jdbi.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:312)\n    at org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:85)\n    at org.skife.jdbi.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:83)\n    at org.skife.jdbi.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at org.skife.jdbi.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    ... 11 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1188e820\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:201)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:195)\n    at org.skife.jdbi.cglib.core.ReflectUtils$1.run(ReflectUtils.java:54)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\n    at org.skife.jdbi.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:44)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693590212,"post_id":77020232,"comment_id":135785979,"body_markdown":"im sorry for the first two i already looked and changed that,that was my bad. \nusing ingredientRef list to get ingredient list would work but id have to change many other things. in my controller when i make a taco on webpage, the model sends the ids of the ingredients selected as post form request and it used a converter class to convert them to ingredients and then spring auto maps it to the ingredient list in Taco and sends a taco object to me so id have to change if im gonna remove that list no?","body":"im sorry for the first two i already looked and changed that,that was my bad.  using ingredientRef list to get ingredient list would work but id have to change many other things. in my controller when i make a taco on webpage, the model sends the ids of the ingredients selected as post form request and it used a converter class to convert them to ingredients and then spring auto maps it to the ingredient list in Taco and sends a taco object to me so id have to change if im gonna remove that list no?"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693538092,"creation_date":1693536363,"answer_id":77020232,"question_id":77019859,"body_markdown":"Do a quick code review for you and have a following comments :\r\n\r\n 1. `mappedBy` in `Taco` is configured wrong. It should be :\r\n\r\n ``` java\r\n @OneToMany(mappedBy = &quot;taco&quot;) \r\n private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\r\n ```\r\n\r\n 2. `ingredient_id` column in the `ingredient_ref` table cannot be the PK. If yes , you will make Ingredient and Taco as 1-to-many. So remove `@Id` from the `ingredient` field of `IngredientRef`.\r\n\r\n\r\n 3. To get rid of `List&lt;Ingredient&gt; ingredients` field in the `Ingredient` after the changes , you get the Ingredient list by calling instead : \r\n\r\n``` java\r\nthis.ingredientRefs.getIngredients();\r\n```\r\n\r\n","title":"Extra table created in JPA Entity","body":"<p>Do a quick code review for you and have a following comments :</p>\n<ol>\n<li><code>mappedBy</code> in <code>Taco</code> is configured wrong. It should be :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;taco&quot;) \nprivate List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\n</code></pre>\n<ol start=\"2\">\n<li><p><code>ingredient_id</code> column in the <code>ingredient_ref</code> table cannot be the PK. If yes , you will make Ingredient and Taco as 1-to-many. So remove <code>@Id</code> from the <code>ingredient</code> field of <code>IngredientRef</code>.</p>\n</li>\n<li><p>To get rid of <code>List&lt;Ingredient&gt; ingredients</code> field in the <code>Ingredient</code> after the changes , you get the Ingredient list by calling instead :</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>this.ingredientRefs.getIngredients();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693685587,"post_id":77028833,"comment_id":135794147,"body_markdown":"yes i did that only, i asked this question as before i needed this table to have 1 more id column so i had to create a new Entity and thus this question","body":"yes i did that only, i asked this question as before i needed this table to have 1 more id column so i had to create a new Entity and thus this question"}],"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693667605,"creation_date":1693667605,"answer_id":77028833,"question_id":77019859,"body_markdown":"If you want to avoid creating an extra table for the `@ManyToMany` relationship between **Taco** and **Ingredient**, but still maintain a bidirectional relationship and have the ability to access the ingredients for a taco using a list, you can achieve this without creating a separate entity like **IngredientRef**. Instead, you can use a `@JoinTable` annotation with additional columns to represent the relationship between **Taco** and **Ingredient**.\r\n\r\nHere is the code snippet shown below\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;taco_ingredient&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;taco_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;ingredient_id&quot;)\r\n    )\r\n    @MapKeyEnumerated(EnumType.STRING)\r\n    @MapKey(name = &quot;type&quot;)\r\n    private Map&lt;Ingredient.Type, Ingredient&gt; ingredients = new HashMap&lt;&gt;();","title":"Extra table created in JPA Entity","body":"<p>If you want to avoid creating an extra table for the <code>@ManyToMany</code> relationship between <strong>Taco</strong> and <strong>Ingredient</strong>, but still maintain a bidirectional relationship and have the ability to access the ingredients for a taco using a list, you can achieve this without creating a separate entity like <strong>IngredientRef</strong>. Instead, you can use a <code>@JoinTable</code> annotation with additional columns to represent the relationship between <strong>Taco</strong> and <strong>Ingredient</strong>.</p>\n<p>Here is the code snippet shown below</p>\n<pre><code>@ManyToMany\n@JoinTable(\n    name = &quot;taco_ingredient&quot;,\n    joinColumns = @JoinColumn(name = &quot;taco_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;ingredient_id&quot;)\n)\n@MapKeyEnumerated(EnumType.STRING)\n@MapKey(name = &quot;type&quot;)\nprivate Map&lt;Ingredient.Type, Ingredient&gt; ingredients = new HashMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693667605,"creation_date":1693526442,"question_id":77019859,"body_markdown":"im using an intermediator table to show the relation between ingredient and taco which has manyToMany relation type.\r\nthis is ingredient class\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED,force = true)\r\npublic class Ingredient {\r\n    @Id\r\n    private final String id;\r\n    private final String name;\r\n    @Enumerated(EnumType.STRING)\r\n    private final Type type;\r\n\r\n    @OneToMany(mappedBy = &quot;ingredient&quot;)\r\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public enum Type {\r\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\r\n    }\r\n```\r\nthis is my taco class\r\n```\r\n@Data\r\n@Entity\r\npublic class Taco {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Date createdAt = new Date();\r\n\r\n    @NotBlank\r\n    @Size(min = 5, message = &quot;Name must be at least 5 characters long&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany //list i need because i have methods using it\r\n    private List&lt;Ingredient&gt; ingredients;\r\n\r\n    @OneToMany(mappedBy = &quot;ingredient&quot;) //list i made for intermediator class map\r\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne //ignore this list\r\n    @JoinColumn(name = &quot;taco_order_id&quot;)\r\n    private TacoOrder tacoOrder;\r\n}\r\n```\r\nthis is ingredientRef class\r\n```\r\n@Data\r\n@Entity\r\npublic class IngredientRef {\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ingredient_id&quot;)\r\n    private Ingredient ingredient;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;taco_id&quot;)\r\n    private Taco taco;\r\n}\r\n```\r\nso the manyToMany table in Taco class which stores ingredient makes an extra table.I could have used it to make Ingredient_ref table using @JoinTable but i wanted extra column fields so i made a new entity.\r\nany fix to not make that list an extra table while i could still use?\r\ntldr; i need 3 tables (Taco Ingredient Ingredient_ref) while having the extra list in my taco class.","title":"Extra table created in JPA Entity","body":"<p>im using an intermediator table to show the relation between ingredient and taco which has manyToMany relation type.\nthis is ingredient class</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor(access = AccessLevel.PROTECTED,force = true)\npublic class Ingredient {\n    @Id\n    private final String id;\n    private final String name;\n    @Enumerated(EnumType.STRING)\n    private final Type type;\n\n    @OneToMany(mappedBy = &quot;ingredient&quot;)\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\n\n\n    public enum Type {\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\n    }\n</code></pre>\n<p>this is my taco class</p>\n<pre><code>@Data\n@Entity\npublic class Taco {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Date createdAt = new Date();\n\n    @NotBlank\n    @Size(min = 5, message = &quot;Name must be at least 5 characters long&quot;)\n    private String name;\n\n    @ManyToMany //list i need because i have methods using it\n    private List&lt;Ingredient&gt; ingredients;\n\n    @OneToMany(mappedBy = &quot;ingredient&quot;) //list i made for intermediator class map\n    private List&lt;IngredientRef&gt; ingredientRefs = new ArrayList&lt;&gt;();\n\n    @ManyToOne //ignore this list\n    @JoinColumn(name = &quot;taco_order_id&quot;)\n    private TacoOrder tacoOrder;\n}\n</code></pre>\n<p>this is ingredientRef class</p>\n<pre><code>@Data\n@Entity\npublic class IngredientRef {\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;ingredient_id&quot;)\n    private Ingredient ingredient;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;taco_id&quot;)\n    private Taco taco;\n}\n</code></pre>\n<p>so the manyToMany table in Taco class which stores ingredient makes an extra table.I could have used it to make Ingredient_ref table using @JoinTable but i wanted extra column fields so i made a new entity.\nany fix to not make that list an extra table while i could still use?\ntldr; i need 3 tables (Taco Ingredient Ingredient_ref) while having the extra list in my taco class.</p>\n"},{"tags":["java","selenium-webdriver","selenide"],"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1693209939,"post_id":76981356,"comment_id":135725007,"body_markdown":"Is it the GUI element hidden, so called opacity?","body":"Is it the GUI element hidden, so called opacity?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1693413937,"post_id":76981356,"comment_id":135758804,"body_markdown":"why not just write up the bug??  It&#39;s hard to say without looking at this assert, what/why it is throwing here... the xpath you are using is a little odd though.  Why the &quot;[1]&quot;?","body":"why not just write up the bug??  It&#39;s hard to say without looking at this assert, what/why it is throwing here... the xpath you are using is a little odd though.  Why the &quot;[1]&quot;?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693874066,"post_id":76981356,"comment_id":135813959,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":25838667,"reputation":322,"user_id":19574650,"display_name":"I.sh."},"score":0,"creation_date":1693949440,"post_id":76981356,"comment_id":135826558,"body_markdown":"If you can, add a link to that website","body":"If you can, add a link to that website"}],"answers":[{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1693359361,"post_id":76983173,"comment_id":135749244,"body_markdown":"Is it the GUI element hidden or transparency?","body":"Is it the GUI element hidden or transparency?"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1693389146,"post_id":76983173,"comment_id":135753165,"body_markdown":"@nicholas I edit detailed explanation with example in my answer, try it.","body":"@nicholas I edit detailed explanation with example in my answer, try it."}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693389107,"creation_date":1693056378,"answer_id":76983173,"question_id":76981356,"body_markdown":"As a workaround, without knowledge of your DOM structure, I can suggest you to perform click via native JS.\r\n\r\n```java\r\nSelenide.executeJavaScript(&quot;arguments[0].click()&quot;, $x(&quot;(//a[@href=&#39;/privasi&#39;])[1]&quot;));\r\n```\r\n\r\nSelenide emulates real user behaviour, so it contains checks that element is not hidden. Easier workaround is to click via JS.\r\nHidden element is not interactable - it doesn&#39;t have size and location. So technically as a user, you can&#39;t click on it.\r\n\r\nI created an HTML structure for you, where you can test behaviour. In this structure button is hidden by default and become visible only on click.\r\n\r\nThis code would fail:\r\n```java\r\n        Selenide.open(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-30.html&quot;);\r\n        $(&quot;#hiddenButton&quot;).should(exist).click();\r\n```\r\n\r\nThis code would click without problems (button would become visible)\r\n```java\r\n        Selenide.open(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-30.html&quot;);\r\n        Selenide.executeJavaScript(&quot;arguments[0].click()&quot;, $(&quot;#hiddenButton&quot;));\r\n```\r\n\r\n","title":"Cannot click a link on automation testing","body":"<p>As a workaround, without knowledge of your DOM structure, I can suggest you to perform click via native JS.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Selenide.executeJavaScript(&quot;arguments[0].click()&quot;, $x(&quot;(//a[@href='/privasi'])[1]&quot;));\n</code></pre>\n<p>Selenide emulates real user behaviour, so it contains checks that element is not hidden. Easier workaround is to click via JS.\nHidden element is not interactable - it doesn't have size and location. So technically as a user, you can't click on it.</p>\n<p>I created an HTML structure for you, where you can test behaviour. In this structure button is hidden by default and become visible only on click.</p>\n<p>This code would fail:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Selenide.open(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-30.html&quot;);\n        $(&quot;#hiddenButton&quot;).should(exist).click();\n</code></pre>\n<p>This code would click without problems (button would become visible)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Selenide.open(&quot;https://inputnum.w3spaces.com/saved-from-Tryit-2023-08-30.html&quot;);\n        Selenide.executeJavaScript(&quot;arguments[0].click()&quot;, $(&quot;#hiddenButton&quot;));\n</code></pre>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693667060,"creation_date":1693017281,"question_id":76981356,"body_markdown":"I had coded automation testing for company website but there is some link is not clickable. Error is \r\n\r\n&gt; [ERROR]   GenericTestManager.testPDPA:589 Element should be clickable:\r\n&gt; interactable and enabled {By.xpath: (//a[@href=&#39;/privasi&#39;])[1]}\r\n&gt; Element: &#39;&lt;a class=&quot;nav-link&quot; href=&quot;/privasi&quot; displayed:false&gt;&lt;/a&gt;&#39;\r\n&gt; Actual value: hidden, opacity=1\r\n\r\nMy code is\r\n\r\n    @Test\r\n        public void testPDPA() {\r\n            extentTest = extentManager.getExtentReports().createTest(&quot;PDPA Test&quot;);\r\n    \r\n            $x(&quot;(//a[@href=&#39;/privasi&#39;])[1]&quot;).click();\r\n    }\r\n\r\n\r\nIs there anything i can make it clickable or visible? Thanks. \r\n\r\n","title":"Cannot click a link on automation testing","body":"<p>I had coded automation testing for company website but there is some link is not clickable. Error is</p>\n<blockquote>\n<p>[ERROR]   GenericTestManager.testPDPA:589 Element should be clickable:\ninteractable and enabled {By.xpath: (//a[@href='/privasi'])[1]}\nElement: ''\nActual value: hidden, opacity=1</p>\n</blockquote>\n<p>My code is</p>\n<pre><code>@Test\n    public void testPDPA() {\n        extentTest = extentManager.getExtentReports().createTest(&quot;PDPA Test&quot;);\n\n        $x(&quot;(//a[@href='/privasi'])[1]&quot;).click();\n}\n</code></pre>\n<p>Is there anything i can make it clickable or visible? Thanks.</p>\n"},{"tags":["java","android","androidx","aapt2"],"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693666990,"creation_date":1693563167,"question_id":77022249,"body_markdown":"I want to have my activity class inherited with the &quot;AppCompatActivity&quot; class as to use fragments in my code but it requires a themes.xml file that will be added in the application tag of the Android Manifest file.\r\n\r\nI am able to compile other xml files like for icons, and widgets etc., into .flat files and generate R.java file using the [Aapt2][1] command line tool provided by Android. But when I add this themes.xml file it requires Androidx library res values also because the parent attribute should be an appcompat theme.\r\n\r\nSo, I was able to find the required androidx res folders and compiled them into their own compiled res folders which contain only .flat files. After that the generated compiled folders were merged into a zip file.\r\n\r\nAlong with this I needed to compile the res folder which is available near android.jar .\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDuring the link command as shown below it was failing with some error:\r\n\r\n```\r\naapt2 link -o output.apk -I &quot;Paste the path to android.jar&quot; --java &quot;Rjava&quot; -R &quot;flatfolders.zip&quot; --auto-add-overlay --manifest &quot;Paste the path to AndroidManifest.xml&quot;\r\n```\r\n\r\n**error: can&#39;t assign ID 0x010a0004 to resource your.package.name:anim/accelerate_decelerate_interpolator because package already has ID 1.**\r\n\r\nIt says this ID is already assigned. These attributes I am not using in my xml files they are used somewhere in Androidx res folders.\r\n\r\nCan somebody please help me in this? Whether whatever am I doing is it right or wrong? Help would be appreciated.\r\n\r\n\r\n  [1]: https://developer.android.com/tools/aapt2\r\n  [2]: https://i.stack.imgur.com/Zknmz.png","title":"How to resolve the &quot;Can&#39;t assign Id to resource&quot; from Aapt2 command line?","body":"<p>I want to have my activity class inherited with the &quot;AppCompatActivity&quot; class as to use fragments in my code but it requires a themes.xml file that will be added in the application tag of the Android Manifest file.</p>\n<p>I am able to compile other xml files like for icons, and widgets etc., into .flat files and generate R.java file using the <a href=\"https://developer.android.com/tools/aapt2\" rel=\"nofollow noreferrer\">Aapt2</a> command line tool provided by Android. But when I add this themes.xml file it requires Androidx library res values also because the parent attribute should be an appcompat theme.</p>\n<p>So, I was able to find the required androidx res folders and compiled them into their own compiled res folders which contain only .flat files. After that the generated compiled folders were merged into a zip file.</p>\n<p>Along with this I needed to compile the res folder which is available near android.jar .</p>\n<p><a href=\"https://i.stack.imgur.com/Zknmz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zknmz.png\" alt=\"enter image description here\" /></a></p>\n<p>During the link command as shown below it was failing with some error:</p>\n<pre><code>aapt2 link -o output.apk -I &quot;Paste the path to android.jar&quot; --java &quot;Rjava&quot; -R &quot;flatfolders.zip&quot; --auto-add-overlay --manifest &quot;Paste the path to AndroidManifest.xml&quot;\n</code></pre>\n<p><strong>error: can't assign ID 0x010a0004 to resource your.package.name:anim/accelerate_decelerate_interpolator because package already has ID 1.</strong></p>\n<p>It says this ID is already assigned. These attributes I am not using in my xml files they are used somewhere in Androidx res folders.</p>\n<p>Can somebody please help me in this? Whether whatever am I doing is it right or wrong? Help would be appreciated.</p>\n"},{"tags":["java","jvm","bytecode","hashcode"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1693594165,"post_id":77025237,"comment_id":135786580,"body_markdown":"Who asks this as an interview question?!","body":"Who asks this as an interview question?!"},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1693596748,"post_id":77025237,"comment_id":135786970,"body_markdown":"@LouisWasserman a hedge fund firm, but due to a non-disclosure agreement, I&#39;m unable to reveal the company&#39;s name.","body":"@LouisWasserman a hedge fund firm, but due to a non-disclosure agreement, I&#39;m unable to reveal the company&#39;s name."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693606795,"post_id":77025237,"comment_id":135788015,"body_markdown":"if you really need to know,  use `javap` to disassemble  the class file generated by that code (the compiler on my system uses `lookupswitch`, and then compares to the literals,  assigning  an index to a temporary;  and then uses `tableswitch` to do the corresponding assignment to `res`)","body":"if you really need to know,  use <code>javap</code> to disassemble  the class file generated by that code (the compiler on my system uses <code>lookupswitch</code>, and then compares to the literals,  assigning  an index to a temporary;  and then uses <code>tableswitch</code> to do the corresponding assignment to <code>res</code>)"},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693607855,"post_id":77025237,"comment_id":135788120,"body_markdown":"(and a different compiler may do something else, or maybe this get optimized in future versions .... at the end it is some implementation detail and almost irrelevant for coding {unless when working directly with bytecode})","body":"(and a different compiler may do something else, or maybe this get optimized in future versions .... at the end it is some implementation detail and almost irrelevant for coding {unless when working directly with bytecode})"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1693619003,"post_id":77025237,"comment_id":135788764,"body_markdown":"Unless you are interviewing for a Java compiler or JDK library position this is an irrelevant question. You could answer along the lines of &#39;I don&#39;t expect that issue to ever come up in the position I am interviewing for.&#39; But there&#39;s not much you can do about smart-alec interviewers except move on.","body":"Unless you are interviewing for a Java compiler or JDK library position this is an irrelevant question. You could answer along the lines of &#39;I don&#39;t expect that issue to ever come up in the position I am interviewing for.&#39; But there&#39;s not much you can do about smart-alec interviewers except move on."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693813135,"post_id":77025237,"comment_id":135804818,"body_markdown":"@user207421 even worse, the interview question is an error in itself. The JVM doesn’t handle switch over string at all. The elaboration even acknowledges the interviewer’s wrong mindset by attributing the decision, which instruction to use, to the JVM. This reminds me on all those “how many objects are eligible to gc” questions where the only correct answer would be: “the gc exists so I don’t have to care and whatever answer you expect is likely to be wrong”.","body":"@user207421 even worse, the interview question is an error in itself. The JVM doesn’t handle switch over string at all. The elaboration even acknowledges the interviewer’s wrong mindset by attributing the decision, which instruction to use, to the JVM. This reminds me on all those “how many objects are eligible to gc” questions where the only correct answer would be: “the gc exists so I don’t have to care and whatever answer you expect is likely to be wrong”."}],"answers":[{"tags":[],"owner":{"account_id":3040935,"reputation":154,"user_id":2577987,"accept_rate":43,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693592662,"creation_date":1693592662,"answer_id":77025325,"question_id":77025237,"body_markdown":"I&#39;m not going to claim being an expert but I concur with your assessment on the `LookupSwitch` - Regarding hash collision I would imagine that&#39;s resolved with the `equals()` method.","title":"Understanding JVM Behavior: How Does `switch` Handle String Hash Collisions?","body":"<p>I'm not going to claim being an expert but I concur with your assessment on the <code>LookupSwitch</code> - Regarding hash collision I would imagine that's resolved with the <code>equals()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693606324,"creation_date":1693606324,"answer_id":77026203,"question_id":77025237,"body_markdown":"We can reach some conclusions without particularly looking:\r\n\r\n* `tableswitch` is used when the possible values of the expression being switched on are fairly clustered; `lookupswitch` otherwise.  Most hash codes are going to be well spread; if `tableswitch` gets used at all it&#39;ll probably be rare.\r\n* It was never the case that we could use the hashcodes _alone_ to accomplish the switching; we would always have to use `.equals` anyway to check that we&#39;ve actually got the right string.  So presumably that&#39;s how we&#39;ll resolve hash collisions, by comparing them.  (Conceivably we could fall back to a binary search thing if there were a _ton_ of hash collisions, but for that to be a realistic scenario, the _code_ has to be written adversarially.","title":"Understanding JVM Behavior: How Does `switch` Handle String Hash Collisions?","body":"<p>We can reach some conclusions without particularly looking:</p>\n<ul>\n<li><code>tableswitch</code> is used when the possible values of the expression being switched on are fairly clustered; <code>lookupswitch</code> otherwise.  Most hash codes are going to be well spread; if <code>tableswitch</code> gets used at all it'll probably be rare.</li>\n<li>It was never the case that we could use the hashcodes <em>alone</em> to accomplish the switching; we would always have to use <code>.equals</code> anyway to check that we've actually got the right string.  So presumably that's how we'll resolve hash collisions, by comparing them.  (Conceivably we could fall back to a binary search thing if there were a <em>ton</em> of hash collisions, but for that to be a realistic scenario, the <em>code</em> has to be written adversarially.</li>\n</ul>\n"}],"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693666599,"creation_date":1693591711,"question_id":77025237,"body_markdown":"During an interview, I was posed an intriguing question about how the Java Virtual Machine (JVM) handles a `switch` statement involving a `String` type. Specifically, I was asked whether the JVM employs `LookupSwitch` or `TableSwitch` for this operation. My initial thought was that it would utilize `LookupSwitch` due to the sparsity of `String` hashcodes. However, the interviewer added a layer of complexity by asking: &quot;How does the JVM handle hash collisions when two different cases have the same hashcode?&quot; \r\n\r\n```java\r\nclass Solution {\r\n    static int switchString(String i) {\r\n        int res;\r\n        switch (i) {\r\n            case &quot;A&quot;:  // hashcode 65\r\n                res = 0;\r\n                break;\r\n            case &quot;FB&quot;:  // hashcode 2236\r\n                res = 1;\r\n                break;\r\n            case &quot;Ea&quot;:  // hashcode 2236\r\n                res = 2;\r\n                break;\r\n            default:\r\n                res = 3;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(switchString(&quot;Ea&quot;));\r\n    }\r\n}\r\n```\r\nCan you help clarify how the JVM navigates through switch cases involving `String` objects, especially when hash collisions are involved? \r\n\r\nFor the first part question, I found I&#39;m wrong [here](https://stackoverflow.com/questions/51540892/is-string-a-numeric-type-regarding-switch-and-always-compiled-to-lookupswitch). the compiler has to pick either, a [lookupswitch](https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-6.html#jvms-6.5.lookupswitch) or [tableswitch](https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-6.html#jvms-6.5.tableswitch) instruction","title":"Understanding JVM Behavior: How Does `switch` Handle String Hash Collisions?","body":"<p>During an interview, I was posed an intriguing question about how the Java Virtual Machine (JVM) handles a <code>switch</code> statement involving a <code>String</code> type. Specifically, I was asked whether the JVM employs <code>LookupSwitch</code> or <code>TableSwitch</code> for this operation. My initial thought was that it would utilize <code>LookupSwitch</code> due to the sparsity of <code>String</code> hashcodes. However, the interviewer added a layer of complexity by asking: &quot;How does the JVM handle hash collisions when two different cases have the same hashcode?&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    static int switchString(String i) {\n        int res;\n        switch (i) {\n            case &quot;A&quot;:  // hashcode 65\n                res = 0;\n                break;\n            case &quot;FB&quot;:  // hashcode 2236\n                res = 1;\n                break;\n            case &quot;Ea&quot;:  // hashcode 2236\n                res = 2;\n                break;\n            default:\n                res = 3;\n        }\n        return res;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(switchString(&quot;Ea&quot;));\n    }\n}\n</code></pre>\n<p>Can you help clarify how the JVM navigates through switch cases involving <code>String</code> objects, especially when hash collisions are involved?</p>\n<p>For the first part question, I found I'm wrong <a href=\"https://stackoverflow.com/questions/51540892/is-string-a-numeric-type-regarding-switch-and-always-compiled-to-lookupswitch\">here</a>. the compiler has to pick either, a <a href=\"https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-6.html#jvms-6.5.lookupswitch\" rel=\"nofollow noreferrer\">lookupswitch</a> or <a href=\"https://docs.oracle.com/javase/specs/jvms/se10/html/jvms-6.html#jvms-6.5.tableswitch\" rel=\"nofollow noreferrer\">tableswitch</a> instruction</p>\n"},{"tags":["java","sql","intellij-idea"],"comments":[{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1646622970,"post_id":71374815,"comment_id":126161559,"body_markdown":"Are you trying to connect IntelliJ IDEA itself (https://i.imgur.com/udfl01m.png), or connect from your source code? For the first case, see the workarounds from https://youtrack.jetbrains.com/issue/DBE-13313","body":"Are you trying to connect IntelliJ IDEA itself (<a href=\"https://i.imgur.com/udfl01m.png\" rel=\"nofollow noreferrer\">i.imgur.com/udfl01m.png</a>), or connect from your source code? For the first case, see the workarounds from <a href=\"https://youtrack.jetbrains.com/issue/DBE-13313\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/DBE-13313</a>"}],"answers":[{"comments":[{"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"score":1,"creation_date":1678876122,"post_id":71651036,"comment_id":133616625,"body_markdown":"another ref link - https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver16","body":"another ref link - <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":2700918,"reputation":3222,"user_id":2331665,"accept_rate":100,"display_name":"Der U"},"score":0,"creation_date":1684206560,"post_id":71651036,"comment_id":134479952,"body_markdown":"I had this issue with Apache Hop. This worked for me: jdbc:sqlserver://localhost:1433;databaseName=MyDB;user=MyName;password=MyPwd;encrypt=true;trustServerCertificate=true","body":"I had this issue with Apache Hop. This worked for me: jdbc:sqlserver://localhost:1433;databaseName=MyDB;user=MyNam&zwnj;&#8203;e;password=MyPwd;enc&zwnj;&#8203;rypt=true;trustServe&zwnj;&#8203;rCertificate=true"}],"tags":[],"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1648487019,"creation_date":1648487019,"answer_id":71651036,"question_id":71374815,"body_markdown":"Add `encrypt=true` and `trustServerCertificate=true` to connection url.\r\n\r\n    String  connectionURL = &quot;jdbc:sqlserver://localhost:10020;databaseName=mydatabase;user=me;password=random_password;encrypt=true;trustServerCertificate=true&quot;;\r\n\r\nMicrosoft Blog Reference - [link][1]\r\n&lt;br&gt;Find below excerpt from it -\r\n\r\n&gt; This is an issue in Java Certificate Store. As a quick workaround, if\r\n&gt; you enable TrustServerCertificate=True in the connection string, the\r\n&gt; connection from JDBC succeeds. When TrustServerCertificate is set to\r\n&gt; true, the transport layer will use SSL to encrypt the channel and\r\n&gt; bypass walking the certificate chain to validate trust. If\r\n&gt; TrustServerCertificate is set to true and encryption is turned on, the\r\n&gt; encryption level specified on the server will be used even if Encrypt\r\n&gt; is set to false. The connection will fail otherwise. However, for\r\n&gt; security considerations, it is not recommended to bypass the\r\n&gt; certificate validation. Hence, to address the issue, follow the steps\r\n&gt; below to change the connection string and import the required\r\n&gt; certificates. \r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; Change the connection string to point to the Java certificate path\r\n&gt; \r\n&gt; `String connectionUrl =  &quot;jdbc:sqlserver://localhost:1433;&quot; +` \r\n&gt;     `&quot;databaseName=AdventureWorks;integratedSecurity=true;&quot; +` \r\n&gt;     `&quot;encrypt=true; trustServerCertificate=false;&quot; +` \r\n&gt;     `&quot;trustStore= C:\\Program Files\\Java\\jdk-14.0.2\\lib\\cacert;trustStorePassword=changeit&quot;;`\r\n&gt; \r\n&gt; Import all the certificates mentioned in this [document][2].\r\n&gt; \r\n&gt; Note: To import above certificates into the keystore cacerts, please\r\n&gt; use below command and please note you must mention truststore and\r\n&gt; truststore password in the connection string to successfully connect. \r\n&gt; Steps to import missing certificates in Java Certificate Store  \r\n&gt; \r\n&gt; Download all the certs from here, store them in a location on client\r\n&gt; host and then use keytool utility to import these certificates into\r\n&gt; the truststore. Please follow the below steps:\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; Save all the certificates from the above MS doc. Keytool utility is in\r\n&gt; the bin folder of your default Java location (C:\\Program\r\n&gt; Files\\Java\\jdk-14.0.2\\bin). You need to use command prompt to navigate\r\n&gt; to that location. Then you can use the keytool command to import the\r\n&gt; certificate previously saved.  When prompted for password insert the\r\n&gt; key in the password as “changeit”  \r\n&gt; \r\n&gt; Example of commands:\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt; `keytool -importcert -trustcacerts -alias TLS1 -file`\r\n&gt; `&quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 01.crt&quot; -keystore &quot;C:\\Program`\r\n&gt; `Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;`\r\n&gt; \r\n&gt; `keytool -importcert -trustcacerts -alias TLS2 -file`\r\n&gt; `&quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 02.crt&quot; -keystore &quot;C:\\Program`\r\n&gt; `Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;`\r\n\r\n\r\n  [1]: https://techcommunity.microsoft.com/t5/azure-database-support-blog/pkix-path-building-failed-unable-to-find-valid-certification/ba-p/2591304\r\n  [2]: https://www.microsoft.com/pki/mscorp/cps/default.htm","title":"The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:","body":"<p>Add <code>encrypt=true</code> and <code>trustServerCertificate=true</code> to connection url.</p>\n<pre><code>String  connectionURL = &quot;jdbc:sqlserver://localhost:10020;databaseName=mydatabase;user=me;password=random_password;encrypt=true;trustServerCertificate=true&quot;;\n</code></pre>\n<p>Microsoft Blog Reference - <a href=\"https://techcommunity.microsoft.com/t5/azure-database-support-blog/pkix-path-building-failed-unable-to-find-valid-certification/ba-p/2591304\" rel=\"noreferrer\">link</a>\n<br>Find below excerpt from it -</p>\n<blockquote>\n<p>This is an issue in Java Certificate Store. As a quick workaround, if\nyou enable TrustServerCertificate=True in the connection string, the\nconnection from JDBC succeeds. When TrustServerCertificate is set to\ntrue, the transport layer will use SSL to encrypt the channel and\nbypass walking the certificate chain to validate trust. If\nTrustServerCertificate is set to true and encryption is turned on, the\nencryption level specified on the server will be used even if Encrypt\nis set to false. The connection will fail otherwise. However, for\nsecurity considerations, it is not recommended to bypass the\ncertificate validation. Hence, to address the issue, follow the steps\nbelow to change the connection string and import the required\ncertificates.</p>\n<p>Change the connection string to point to the Java certificate path</p>\n<p><code>String connectionUrl =  &quot;jdbc:sqlserver://localhost:1433;&quot; +</code>\n<code>&quot;databaseName=AdventureWorks;integratedSecurity=true;&quot; +</code>\n<code>&quot;encrypt=true; trustServerCertificate=false;&quot; +</code>\n<code>&quot;trustStore= C:\\Program Files\\Java\\jdk-14.0.2\\lib\\cacert;trustStorePassword=changeit&quot;;</code></p>\n<p>Import all the certificates mentioned in this <a href=\"https://www.microsoft.com/pki/mscorp/cps/default.htm\" rel=\"noreferrer\">document</a>.</p>\n<p>Note: To import above certificates into the keystore cacerts, please\nuse below command and please note you must mention truststore and\ntruststore password in the connection string to successfully connect.\nSteps to import missing certificates in Java Certificate Store</p>\n<p>Download all the certs from here, store them in a location on client\nhost and then use keytool utility to import these certificates into\nthe truststore. Please follow the below steps:</p>\n<p>Save all the certificates from the above MS doc. Keytool utility is in\nthe bin folder of your default Java location (C:\\Program\nFiles\\Java\\jdk-14.0.2\\bin). You need to use command prompt to navigate\nto that location. Then you can use the keytool command to import the\ncertificate previously saved.  When prompted for password insert the\nkey in the password as “changeit”</p>\n<p>Example of commands:</p>\n<p><code>keytool -importcert -trustcacerts -alias TLS1 -file</code>\n<code>&quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 01.crt&quot; -keystore &quot;C:\\Program</code>\n<code>Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;</code></p>\n<p><code>keytool -importcert -trustcacerts -alias TLS2 -file</code>\n<code>&quot;C:\\Users\\Documents\\Microsoft RSA TLS CA 02.crt&quot; -keystore &quot;C:\\Program</code>\n<code>Files\\Java\\jdk-14.0.2\\lib\\security\\cacerts&quot;</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666070683,"post_id":74063793,"comment_id":130841956,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74063793/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17007111,"reputation":21,"user_id":12303073,"display_name":"MalakaW"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671094988,"creation_date":1665715608,"answer_id":74063793,"question_id":71374815,"body_markdown":"Below worked for me:\r\n\r\n    jdbc:sqlserver://Host;trustServerCertificate=true;integratedSecurity=true;authenticationScheme=NTLM","title":"The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:","body":"<p>Below worked for me:</p>\n<pre><code>jdbc:sqlserver://Host;trustServerCertificate=true;integratedSecurity=true;authenticationScheme=NTLM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24560298,"reputation":1,"user_id":18468156,"display_name":"Chu Văn Ph&#250;c"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693665766,"creation_date":1693635730,"answer_id":77027184,"question_id":71374815,"body_markdown":"com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;.\r\n```\r\nimport java.sql.Connection;\r\n\r\nimport java.sql.DriverManager;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class DBContext {\r\n\r\n    protected Connection connection;\r\n\r\n    public DBContext() {\r\n        try {\r\n            // Edit URL , username, password to authenticate with your MS SQL Server\r\n            String url = &quot;jdbc:sqlserver://localhost:1433;databaseName= Trading2022&quot;;\r\n            String username = &quot;sa&quot;;\r\n            String password = &quot;221202&quot;;\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            connection = DriverManager.getConnection(url, username, password);\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:","body":"<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;.</p>\n<pre><code>import java.sql.Connection;\n\nimport java.sql.DriverManager;\n\nimport java.sql.SQLException;\n\npublic class DBContext {\n\n    protected Connection connection;\n\n    public DBContext() {\n        try {\n            // Edit URL , username, password to authenticate with your MS SQL Server\n            String url = &quot;jdbc:sqlserver://localhost:1433;databaseName= Trading2022&quot;;\n            String username = &quot;sa&quot;;\n            String password = &quot;221202&quot;;\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n            connection = DriverManager.getConnection(url, username, password);\n        } catch (ClassNotFoundException | SQLException ex) {\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23620927,"reputation":121,"user_id":17654231,"display_name":"seal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32736,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1693665766,"creation_date":1646606860,"question_id":71374815,"body_markdown":"I&#39;m new to SQL(Microsoft SQL Server Management) and I am trying to connect it with IntelliJ\r\n\r\nI am getting the following error: \r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n\r\n    public class MyJDBC {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        String  connectionURL = &quot;jdbc:sqlserver://localhost:10020;databaseName=mydatabase;user=me;password=random_password&quot;;\r\n        try {\r\n            System.out.print(&quot;Connecting to the server......&quot;);\r\n            try (Connection connection = DriverManager.getConnection(connectionURL))   {\r\n                System.out.println(&quot;Connected to the Server.&quot;);\r\n            }\r\n        }catch (Exception e){\r\n            System.out.println(&quot;I am not connected to the Server&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\nI have this on my lib \r\n[LIB][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FlaRU.png\r\n\r\nAny help is appreciated it! ","title":"The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:","body":"<p>I'm new to SQL(Microsoft SQL Server Management) and I am trying to connect it with IntelliJ</p>\n<p>I am getting the following error:\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class MyJDBC {\n\npublic static void main(String[] args) {\n\n\n    String  connectionURL = &quot;jdbc:sqlserver://localhost:10020;databaseName=mydatabase;user=me;password=random_password&quot;;\n    try {\n        System.out.print(&quot;Connecting to the server......&quot;);\n        try (Connection connection = DriverManager.getConnection(connectionURL))   {\n            System.out.println(&quot;Connected to the Server.&quot;);\n        }\n    }catch (Exception e){\n        System.out.println(&quot;I am not connected to the Server&quot;);\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>I have this on my lib\n<a href=\"https://i.stack.imgur.com/FlaRU.png\" rel=\"noreferrer\">LIB</a></p>\n<p>Any help is appreciated it!</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1528280478,"post_id":50717922,"comment_id":88444324,"body_markdown":"So this is meant to be a second class I have to define?","body":"So this is meant to be a second class I have to define?"},{"owner":{"account_id":10848240,"reputation":86,"user_id":7976968,"display_name":"Naim"},"score":0,"creation_date":1528280621,"post_id":50717922,"comment_id":88444413,"body_markdown":"You could or you can write the exception handler method in you controller only.i.e. you can add this code to your controller and it will work. @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\n@ExceptionHandler(myException.class)\npublic ResponseEntity&lt;String&gt; handlerMyException(myException me) {\n    return new ResponseEntity(me.getMessage(), HttpStatus.UNAUTHORIZED);\n}","body":"You could or you can write the exception handler method in you controller only.i.e. you can add this code to your controller and it will work. @ResponseStatus(value = HttpStatus.UNAUTHORIZED) @ExceptionHandler(myException.class) public ResponseEntity&lt;String&gt; handlerMyException(myException me) {     return new ResponseEntity(me.getMessage(), HttpStatus.UNAUTHORIZED); }"},{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1528287022,"post_id":50717922,"comment_id":88448528,"body_markdown":"That Worked! I also removed all @ResponseStatus-annotations  since the response status is set in the code.","body":"That Worked! I also removed all @ResponseStatus-annotations  since the response status is set in the code."},{"owner":{"account_id":10848240,"reputation":86,"user_id":7976968,"display_name":"Naim"},"score":0,"creation_date":1528606494,"post_id":50717922,"comment_id":88568029,"body_markdown":"Glad to help you !","body":"Glad to help you !"}],"tags":[],"owner":{"account_id":10848240,"reputation":86,"user_id":7976968,"display_name":"Naim"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693663537,"creation_date":1528280250,"answer_id":50717922,"question_id":50717670,"body_markdown":"Try using `@ControllerAdvice` coupled with `@ExceptionHandler`.\r\n\r\ne.g.\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ExceptionHandlerClass {\r\n\r\n\t@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n\t@ExceptionHandler(MyCustomException.class)\r\n\tpublic ResponseEntity&lt;String&gt; handleMyCustomException(MyCustomException me) {\r\n\t\treturn new ResponseEntity(me.getMessage(), HttpStatus.UNAUTHORIZED);\r\n\t}\r\n\r\n}\r\n```","title":"Throwing a HTTPMessageConverter with Autowired Text Processor","body":"<p>Try using <code>@ControllerAdvice</code> coupled with <code>@ExceptionHandler</code>.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ExceptionHandlerClass {\n\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\n    @ExceptionHandler(MyCustomException.class)\n    public ResponseEntity&lt;String&gt; handleMyCustomException(MyCustomException me) {\n        return new ResponseEntity(me.getMessage(), HttpStatus.UNAUTHORIZED);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50717922,"answer_count":1,"score":0,"last_activity_date":1693663537,"creation_date":1528279489,"question_id":50717670,"body_markdown":"I want to create a RuntimeException with set up HTTP Status and Text. There is a textService which creates the text.\r\n\r\nI read so many threads, but still don&#39;t get it.\r\n\r\nI can&#39;t used the autowired textService in the constructor like this:\r\n\r\n        @Autowired\r\n        public myException(String param) {\r\n            this.param = ts.getMsg(param);\r\n        }\r\n\r\nbecause in construction time I don&#39;t have the autorwired object. That&#39;s quite understandable. In some threads I read I should overwrite the getMessage function which seems quite logic to me and results in the following:\r\n\r\n    @ResponseStatus(value = HttpStatus.UNAUTHORIZED)\r\n    public class myException extends RuntimeException {\r\n\r\n        @Autowired\r\n        private transient textService ts;\r\n\r\n        private String param = &quot;default&quot;;\r\n\r\n        public myException(String param) {\r\n            this.param = param;\r\n        }\r\n\r\n        @Override\r\n        public String getMessage() {\r\n            return ts.getMsg(param);\r\n        }\r\n\r\n    }\r\n\r\nBut when throwing it \r\n\r\n    throw new myException(&quot;foo&quot;);\r\n\r\nI get a Errorpage with correct Status but no text.\r\n\r\nThis is happening not in a controller but in a HTTPMessageConverter btw., so I don&#39;t can access the response Object directly.\r\n\r\nUsing Spring WebMVC 4.3.4.RELEASE.\r\n\r\nOther Ideas I had (but didn&#39;t figure out working):\r\n\r\n * Throwing a new Exception in a @PostContruct-Method\r\n * Somehow access the reason-annotation of the class\r\n\r\nThreads I read (and lots more)\r\n\r\n * https://stackoverflow.com/questions/26313084/how-to-set-my-own-message-in-my-custom-exception-in-java-that-can-be-retrieved-my\r\n * https://stackoverflow.com/questions/29012714/spring-passsing-autowired-object-to-class-constructor\r\n * https://stackoverflow.com/questions/22216478/how-to-set-message-to-a-custom-exception-class-without-setting-through-super-con\r\n * https://stackoverflow.com/questions/8594645/in-spring-3-is-it-possible-to-dynamically-set-the-reason-of-responsestatus\r\n * https://stackoverflow.com/questions/31836689/dynamic-message-for-custom-exception-annotated-as-responsestatus\r\n\r\nMost likely the solution is somewhere but I am obviously blind so maybe some friendly person might open my eyes.\r\n\r\n\r\n","title":"Throwing a HTTPMessageConverter with Autowired Text Processor","body":"<p>I want to create a RuntimeException with set up HTTP Status and Text. There is a textService which creates the text.</p>\n\n<p>I read so many threads, but still don't get it.</p>\n\n<p>I can't used the autowired textService in the constructor like this:</p>\n\n<pre><code>    @Autowired\n    public myException(String param) {\n        this.param = ts.getMsg(param);\n    }\n</code></pre>\n\n<p>because in construction time I don't have the autorwired object. That's quite understandable. In some threads I read I should overwrite the getMessage function which seems quite logic to me and results in the following:</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.UNAUTHORIZED)\npublic class myException extends RuntimeException {\n\n    @Autowired\n    private transient textService ts;\n\n    private String param = \"default\";\n\n    public myException(String param) {\n        this.param = param;\n    }\n\n    @Override\n    public String getMessage() {\n        return ts.getMsg(param);\n    }\n\n}\n</code></pre>\n\n<p>But when throwing it </p>\n\n<pre><code>throw new myException(\"foo\");\n</code></pre>\n\n<p>I get a Errorpage with correct Status but no text.</p>\n\n<p>This is happening not in a controller but in a HTTPMessageConverter btw., so I don't can access the response Object directly.</p>\n\n<p>Using Spring WebMVC 4.3.4.RELEASE.</p>\n\n<p>Other Ideas I had (but didn't figure out working):</p>\n\n<ul>\n<li>Throwing a new Exception in a @PostContruct-Method</li>\n<li>Somehow access the reason-annotation of the class</li>\n</ul>\n\n<p>Threads I read (and lots more)</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/26313084/how-to-set-my-own-message-in-my-custom-exception-in-java-that-can-be-retrieved-my\">How to set my own message in my custom exception in Java that can be retrieved my getMessage() BUT WITHOUT using the constructor, is there any way?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29012714/spring-passsing-autowired-object-to-class-constructor\">Spring passsing autowired object to class constructor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22216478/how-to-set-message-to-a-custom-exception-class-without-setting-through-super-con\">how to set message to a custom exception class without setting through super constructor in java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8594645/in-spring-3-is-it-possible-to-dynamically-set-the-reason-of-responsestatus\">In Spring 3 is it possible to dynamically set the reason of @ResponseStatus?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31836689/dynamic-message-for-custom-exception-annotated-as-responsestatus\">Dynamic message for custom exception annotated as ResponseStatus</a></li>\n</ul>\n\n<p>Most likely the solution is somewhere but I am obviously blind so maybe some friendly person might open my eyes.</p>\n"},{"tags":["java","powershell","batch-file","ant","bamboo"],"comments":[{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":2,"creation_date":1693668946,"post_id":77028599,"comment_id":135792472,"body_markdown":"In short: The obsolescent ISE surfaces _stderr_ output from external programs via _PowerShell&#39;s error stream_ (which in proper terminals/consoles happens only in _remoting_ calls), which has two implications: (a) Stderr lines - which may or may not represent _errors_ - are _formatted_ as if they were _PowerShell errors_, with additional, confusing information. (b) if `$ErrorActionPreference = &#39;Stop&#39;` happens to be effect, any stderr output causes a _fatal (script-terminating) error_.\nSee [this answer](https://stackoverflow.com/a/75949989/45375) for more information.","body":"In short: The obsolescent ISE surfaces <i>stderr</i> output from external programs via <i>PowerShell&#39;s error stream</i> (which in proper terminals/consoles happens only in <i>remoting</i> calls), which has two implications: (a) Stderr lines - which may or may not represent <i>errors</i> - are <i>formatted</i> as if they were <i>PowerShell errors</i>, with additional, confusing information. (b) if <code>$ErrorActionPreference = &#39;Stop&#39;</code> happens to be effect, any stderr output causes a <i>fatal (script-terminating) error</i>. See <a href=\"https://stackoverflow.com/a/75949989/45375\">this answer</a> for more information."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1693668994,"post_id":77028599,"comment_id":135792476,"body_markdown":"As an aside: The PowerShell ISE is [no longer actively developed](https://docs.microsoft.com/en-us/powershell/scripting/components/ise/introducing-the-windows-powershell-ise#support) and [there are reasons not to use it](https://stackoverflow.com/a/57134096/45375) (bottom section), notably not being able to run PowerShell (Core) 7+. The actively developed, cross-platform editor that offers the best PowerShell development experience is [Visual Studio Code](https://code.visualstudio.com/) with its [PowerShell extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell).","body":"As an aside: The PowerShell ISE is <a href=\"https://docs.microsoft.com/en-us/powershell/scripting/components/ise/introducing-the-windows-powershell-ise#support\" rel=\"nofollow noreferrer\">no longer actively developed</a> and <a href=\"https://stackoverflow.com/a/57134096/45375\">there are reasons not to use it</a> (bottom section), notably not being able to run PowerShell (Core) 7+. The actively developed, cross-platform editor that offers the best PowerShell development experience is <a href=\"https://code.visualstudio.com/\" rel=\"nofollow noreferrer\">Visual Studio Code</a> with its <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.PowerShell\" rel=\"nofollow noreferrer\">PowerShell extension</a>."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1693669111,"post_id":77028599,"comment_id":135792485,"body_markdown":"I don&#39;t know what Bamboo uses to host PowerShell, but presumably it behaves like the ISE because remoting / hosting of PowerShell via its SDK is involved.","body":"I don&#39;t know what Bamboo uses to host PowerShell, but presumably it behaves like the ISE because remoting / hosting of PowerShell via its SDK is involved."}],"owner":{"account_id":18468275,"reputation":303,"user_id":13453862,"display_name":"Asuwathaman R C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693705107,"answer_count":0,"score":1,"last_activity_date":1693663489,"creation_date":1693663489,"question_id":77028599,"body_markdown":"We have a bamboo plan which will trigger a PowerShell script to run in one of the remote systems we have. This PowerShell script is invoking an ant.bat file which is trying to fetch JAVA values and failing.\r\n\r\n\r\n\r\nThe output: [![Screenshot of the error][1]][1]\r\n\r\nThe error in bamboo log is same as the error from PowerShell ISE.\r\n\r\nAlso I&#39;m getting the same error for `java -version` command in PowerShell ISE.\r\n\r\nHow bamboo is executing the PS script? through ISE or terminal or any other way? If it executes in ISE is there a way to tell bamboo to run the script in terminal instead of ISE?\r\n\r\nWhy there is a difference in execution between terminal and ISE?\r\n\r\nAny help on this will be helpful. Thanks in advance :)\r\n\r\nThings I tried:\r\n\r\nMade sure JAVA is installed and environment variables are set.\r\n\r\nLogged into the same remote system and executed the same PS script manually from PS Terminal directly and it is passing. But when I run the same script from PowerShell ISE it is failing with the same error as bamboo log.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cKL1l.png","title":"ant.bat file invoked by ps1 script failing in PowerShell ISE but passing in PowerShell Terminal","body":"<p>We have a bamboo plan which will trigger a PowerShell script to run in one of the remote systems we have. This PowerShell script is invoking an ant.bat file which is trying to fetch JAVA values and failing.</p>\n<p>The output: <a href=\"https://i.stack.imgur.com/cKL1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cKL1l.png\" alt=\"Screenshot of the error\" /></a></p>\n<p>The error in bamboo log is same as the error from PowerShell ISE.</p>\n<p>Also I'm getting the same error for <code>java -version</code> command in PowerShell ISE.</p>\n<p>How bamboo is executing the PS script? through ISE or terminal or any other way? If it executes in ISE is there a way to tell bamboo to run the script in terminal instead of ISE?</p>\n<p>Why there is a difference in execution between terminal and ISE?</p>\n<p>Any help on this will be helpful. Thanks in advance :)</p>\n<p>Things I tried:</p>\n<p>Made sure JAVA is installed and environment variables are set.</p>\n<p>Logged into the same remote system and executed the same PS script manually from PS Terminal directly and it is passing. But when I run the same script from PowerShell ISE it is failing with the same error as bamboo log.</p>\n"},{"tags":["java","c++","recursion","static"],"comments":[{"owner":{"account_id":28115049,"reputation":150,"user_id":21493925,"display_name":"Petə&#237;ŕd The Linux Wizard"},"score":12,"creation_date":1693662399,"post_id":77028536,"comment_id":135791874,"body_markdown":"&quot;*I tried chatgpt*&quot; — don&#39;t trust chatgpt.","body":"&quot;<i>I tried chatgpt</i>&quot; — don&#39;t trust chatgpt."},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1693662526,"post_id":77028536,"comment_id":135791884,"body_markdown":"This static variable doesn&#39;t do anything.","body":"This static variable doesn&#39;t do anything."},{"owner":{"account_id":7815078,"reputation":30704,"user_id":5910058,"display_name":"Jesper Juhl"},"score":3,"creation_date":1693662614,"post_id":77028536,"comment_id":135791895,"body_markdown":"&quot;I tried chatgpt&quot; - why do people do that? That mindless chatbot doesn&#39;t know how to code. All it knows is how to mash text together into something that looks plausible to a human, but there is *no* actual intelligence behind what it does.","body":"&quot;I tried chatgpt&quot; - why do people do that? That mindless chatbot doesn&#39;t know how to code. All it knows is how to mash text together into something that looks plausible to a human, but there is <i>no</i> actual intelligence behind what it does."},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":4,"creation_date":1693662651,"post_id":77028536,"comment_id":135791902,"body_markdown":"Static local variables are more often than not a bad idea. What is the actual problem you try to solve? Why do you think a &quot;static&quot; local variable would solve that problem?","body":"Static local variables are more often than not a bad idea. What is the actual problem you try to solve? Why do you think a &quot;static&quot; local variable would solve that problem?"},{"owner":{"account_id":19958876,"reputation":1,"user_id":14626955,"display_name":"Oleguito Swagbucks"},"score":0,"creation_date":1693663018,"post_id":77028536,"comment_id":135791934,"body_markdown":"@Someprogrammerdude I&#39;m used to those in MQL4 (C++like language) coding, and now I&#39;m solving a knapsack problem with Java, I managed to recurse correctly but now I want to fill an array that contains correct indices e.g. {5,7,8} for {11, 8,7,6,5} and sum value = 20 and I can only do that on my way back","body":"@Someprogrammerdude I&#39;m used to those in MQL4 (C++like language) coding, and now I&#39;m solving a knapsack problem with Java, I managed to recurse correctly but now I want to fill an array that contains correct indices e.g. {5,7,8} for {11, 8,7,6,5} and sum value = 20 and I can only do that on my way back"},{"owner":{"account_id":22445574,"reputation":10719,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":2,"creation_date":1693663328,"post_id":77028536,"comment_id":135791963,"body_markdown":"In general just learn your &quot;new&quot; language from scratch. Same words like static (and even new) can have completely different meaning/behavior in different languages.","body":"In general just learn your &quot;new&quot; language from scratch. Same words like static (and even new) can have completely different meaning/behavior in different languages."},{"owner":{"account_id":10423870,"reputation":18345,"user_id":7691729,"display_name":"Quimby"},"score":0,"creation_date":1693663533,"post_id":77028536,"comment_id":135791978,"body_markdown":"There are static member variables in Java classes, those work similarly.","body":"There are static member variables in Java classes, those work similarly."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693662900,"creation_date":1693662900,"answer_id":77028563,"question_id":77028536,"body_markdown":"There is no Java keyword that will allow you to declare a local variable as static.  The closest in Java to that C++ would be:\r\n\r\n    class Test {\r\n        static boolean exitConditionMet = false;\r\n\r\n        static long sum(int n, long total) {\r\n            if (n == 1) {\r\n                exitConditionMet = true;\r\n                return 1;\r\n            } else {\r\n                return total + sum(n-1, total);\r\n            }\r\n        }\r\n    }\r\n","title":"Hello, what is the equivalent of a static variable in C++ for Java?","body":"<p>There is no Java keyword that will allow you to declare a local variable as static.  The closest in Java to that C++ would be:</p>\n<pre><code>class Test {\n    static boolean exitConditionMet = false;\n\n    static long sum(int n, long total) {\n        if (n == 1) {\n            exitConditionMet = true;\n            return 1;\n        } else {\n            return total + sum(n-1, total);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9239742"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693662959,"creation_date":1693662959,"answer_id":77028569,"question_id":77028536,"body_markdown":"Static variables in Java must be declared at the class level not inside a method.\r\n\r\n\r\n```\r\npublic class StaticKeywordExample {\r\n  private static int count = 0; // static variable  \r\n\r\n  public static void printCount() { // static method\r\n    System.out.println(&quot;Number of Example objects created so far: &quot; + count);\r\n  }\r\n}\r\n```\r\n","title":"Hello, what is the equivalent of a static variable in C++ for Java?","body":"<p>Static variables in Java must be declared at the class level not inside a method.</p>\n<pre><code>public class StaticKeywordExample {\n  private static int count = 0; // static variable  \n\n  public static void printCount() { // static method\n    System.out.println(&quot;Number of Example objects created so far: &quot; + count);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19958876,"reputation":1,"user_id":14626955,"display_name":"Oleguito Swagbucks"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693663067,"accepted_answer_id":77028563,"answer_count":2,"score":0,"last_activity_date":1693662959,"creation_date":1693662339,"question_id":77028536,"body_markdown":"```\r\nstatic long sum(int n, long total) {\r\n    &quot;static&quot; boolean exitConditionMet = false;\r\n    if(n == 1) {\r\n        exitConditionMet = true;\r\n        return 1;\r\n    } else {\r\n        return total + sum(n-1, total);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI need to execute different code if this variable is true. And its address should not change for all recursive calls. My code is different but I provided this as an example, please ignore the errors, it is just for understanding my problem.\r\n\r\nYou can suggest using a parameter, but I don&#39;t want that option.\r\n\r\nIs it possible to achieve this using Java? I hope I explained it clearly.\r\n\r\n\r\nI tried chatgpt and another answering platform. im expecting an equivalent keyword","title":"Hello, what is the equivalent of a static variable in C++ for Java?","body":"<pre><code>static long sum(int n, long total) {\n    &quot;static&quot; boolean exitConditionMet = false;\n    if(n == 1) {\n        exitConditionMet = true;\n        return 1;\n    } else {\n        return total + sum(n-1, total);\n    }\n}\n</code></pre>\n<p>I need to execute different code if this variable is true. And its address should not change for all recursive calls. My code is different but I provided this as an example, please ignore the errors, it is just for understanding my problem.</p>\n<p>You can suggest using a parameter, but I don't want that option.</p>\n<p>Is it possible to achieve this using Java? I hope I explained it clearly.</p>\n<p>I tried chatgpt and another answering platform. im expecting an equivalent keyword</p>\n"},{"tags":["java","whitespace","velocity","removing-whitespace"],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324600444,"creation_date":1324600444,"answer_id":8611242,"question_id":8594022,"body_markdown":"### Solution ###\r\n\r\nIn the class where you create the VelocityEngine, add a method as follows\r\n\r\n\tpublic String trim(String str) {\r\n\t\treturn str.trim()/*.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;)*/;\r\n\t}\r\n\r\nthen add the following to the VelocityContext that you create:\r\n\r\n        context.put(&quot;trimmer&quot;, this);\r\n\r\nand finally in the velocity template do the following\r\n\r\n    &lt;a href=&quot;#&quot;&gt;$trimmer.trim(&quot;#render_something(&#39;xxx&#39;)&quot;)&lt;/a&gt;\r\n\r\n### Why does it work? ###\r\n\r\nAlthough the behavior of Velocity is clearly define, it can be a bit tricky to see how it works sometimes. The separate trim()-method is necessary to get the char-sequence from the template into a Java method where you can call the actual trim() on the String. As far as I know there is no trim inside Velocity, but you always can call back to Java with tricks like this one.\r\n\r\nThe double-quotes are necessary because the #render_something is just a macro, not a function call, this means the results of the statements in the macro are put verbatim into the point where the macro is &quot;executed&quot;.","title":"How can I trim whitespace by Velocity","body":"<h3>Solution</h3>\n\n<p>In the class where you create the VelocityEngine, add a method as follows</p>\n\n<pre><code>public String trim(String str) {\n    return str.trim()/*.replace(\"\\n\", \"\").replace(\"\\r\", \"\")*/;\n}\n</code></pre>\n\n<p>then add the following to the VelocityContext that you create:</p>\n\n<pre><code>    context.put(\"trimmer\", this);\n</code></pre>\n\n<p>and finally in the velocity template do the following</p>\n\n<pre><code>&lt;a href=\"#\"&gt;$trimmer.trim(\"#render_something('xxx')\")&lt;/a&gt;\n</code></pre>\n\n<h3>Why does it work?</h3>\n\n<p>Although the behavior of Velocity is clearly define, it can be a bit tricky to see how it works sometimes. The separate trim()-method is necessary to get the char-sequence from the template into a Java method where you can call the actual trim() on the String. As far as I know there is no trim inside Velocity, but you always can call back to Java with tricks like this one.</p>\n\n<p>The double-quotes are necessary because the #render_something is just a macro, not a function call, this means the results of the statements in the macro are put verbatim into the point where the macro is \"executed\".</p>\n"},{"comments":[{"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"score":0,"creation_date":1324654285,"post_id":8615732,"comment_id":10697422,"body_markdown":"It can be an alternative. Thanks for suggestion. However, my situation cannot use your suggestion because I cannot change render_something.","body":"It can be an alternative. Thanks for suggestion. However, my situation cannot use your suggestion because I cannot change render_something."}],"tags":[],"owner":{"account_id":339900,"reputation":8440,"user_id":669645,"accept_rate":91,"display_name":"Edd"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1324640979,"creation_date":1324640979,"answer_id":8615732,"question_id":8594022,"body_markdown":"I just read this article on [Velocity Whitespace Gobbling][1] which suggests a few work-arounds including [Velocity Whitespace Truncated By Line Comment][2].\r\n\r\nThis basically suggests commenting out line breaks by putting comments at the end of each line. It also suggests not indenting the code in your macros to prevent superfluous (one of my favourite words) spaces occurring.\r\n\r\nTBH it&#39;s not a great solution but may suit your needs. Simply put &lt;code&gt;##&lt;/code&gt; at the end of each line in your macro and that will make things a little bit nicer... sort of\r\n\r\n\r\n  [1]: http://wiki.apache.org/velocity/VelocityWhitespaceGobbling\r\n  [2]: http://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment","title":"How can I trim whitespace by Velocity","body":"<p>I just read this article on <a href=\"http://wiki.apache.org/velocity/VelocityWhitespaceGobbling\" rel=\"noreferrer\">Velocity Whitespace Gobbling</a> which suggests a few work-arounds including <a href=\"http://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment\" rel=\"noreferrer\">Velocity Whitespace Truncated By Line Comment</a>.</p>\n\n<p>This basically suggests commenting out line breaks by putting comments at the end of each line. It also suggests not indenting the code in your macros to prevent superfluous (one of my favourite words) spaces occurring.</p>\n\n<p>TBH it's not a great solution but may suit your needs. Simply put <code>##</code> at the end of each line in your macro and that will make things a little bit nicer... sort of</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347985981,"creation_date":1347985981,"answer_id":12481226,"question_id":8594022,"body_markdown":"Here is my alternative solution to [velocity whitespace gobbling][1] that allows tabbing template structure.\r\n\r\nEach template text is preprocessed on first load in custom `ResourceLoader`:\r\n\r\n    private String enhanceTemplate(String body) {\r\n        if (!body.startsWith(&quot;##preserveWhitespace&quot;)) {\r\n            body = body.replaceAll(&quot;(##.*)?[ \\\\t\\\\r]*\\\\n+[ \\\\t\\\\r]*&quot;, Matcher.quoteReplacement(&quot;##\\n&quot;));\r\n            body = body.trim();\r\n        }\r\n        return body;\r\n    }\r\n\r\n\r\nThis replaces all new lines and adjustent spaces with just one [commented newline][2].\r\n\r\nLine breaks and tailing spaces can be inserted explicitly with $br and $sp variables from default context:\r\n\r\n    private static final VelocityContext DEFAULT_CONTEXT = new VelocityContext(new HashMap&lt;String, String&gt;() {{\r\n        put(&quot;sp&quot;, &quot; &quot;);\r\n        put(&quot;br&quot;, &quot;\\n&quot;);\r\n    }});\r\n\r\n\r\n  [1]: http://wiki.apache.org/velocity/VelocityWhitespaceGobbling\r\n  [2]: http://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment","title":"How can I trim whitespace by Velocity","body":"<p>Here is my alternative solution to <a href=\"http://wiki.apache.org/velocity/VelocityWhitespaceGobbling\" rel=\"nofollow\">velocity whitespace gobbling</a> that allows tabbing template structure.</p>\n\n<p>Each template text is preprocessed on first load in custom <code>ResourceLoader</code>:</p>\n\n<pre><code>private String enhanceTemplate(String body) {\n    if (!body.startsWith(\"##preserveWhitespace\")) {\n        body = body.replaceAll(\"(##.*)?[ \\\\t\\\\r]*\\\\n+[ \\\\t\\\\r]*\", Matcher.quoteReplacement(\"##\\n\"));\n        body = body.trim();\n    }\n    return body;\n}\n</code></pre>\n\n<p>This replaces all new lines and adjustent spaces with just one <a href=\"http://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment\" rel=\"nofollow\">commented newline</a>.</p>\n\n<p>Line breaks and tailing spaces can be inserted explicitly with $br and $sp variables from default context:</p>\n\n<pre><code>private static final VelocityContext DEFAULT_CONTEXT = new VelocityContext(new HashMap&lt;String, String&gt;() {{\n    put(\"sp\", \" \");\n    put(\"br\", \"\\n\");\n}});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1381825137,"post_id":15111803,"comment_id":28714094,"body_markdown":"This does not work for me. I am sure my variable does not contains spaces (forbidden by regex) but it is added after the merge by velocity engine. Adding the trim() does not change anything. However adding the double hash ## works well.","body":"This does not work for me. I am sure my variable does not contains spaces (forbidden by regex) but it is added after the merge by velocity engine. Adding the trim() does not change anything. However adding the double hash ## works well."}],"tags":[],"owner":{"account_id":179153,"reputation":1419,"user_id":411615,"accept_rate":82,"display_name":"Deckard"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1361967006,"creation_date":1361967006,"answer_id":15111803,"question_id":8594022,"body_markdown":"It seems just java native trim() works.\r\n\r\n\r\n`$someValue.trim()` works for me","title":"How can I trim whitespace by Velocity","body":"<p>It seems just java native trim() works.</p>\n\n<p><code>$someValue.trim()</code> works for me</p>\n"},{"tags":[],"owner":{"account_id":5880720,"reputation":113,"user_id":4871809,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431571633,"creation_date":1431571633,"answer_id":30228437,"question_id":8594022,"body_markdown":"I struggled a while to find a straightforward solution to whitespace gobbling, so here the one I finally came up with. It is inspired from  and Vadzim&#39;s answer and this page http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader\r\n\r\nThe StructuredGlobbingResourceLoader we can find on the website has a complex behaviour and doesn’t get rid of any kind of whitespace, so I modified it to get the simple behaviour: &quot;Delete any whitespace at the beginning of the lines, and add a comment at the end of each line&quot; (which prevents the linebreak evaluation). The filter is applied on the input stream at loading time.\r\n\r\nThis kind of velocity template\r\n\r\n    #if($value)\r\n        the value is $value\r\n    #end\r\n\r\nis transformed to\r\n\r\n    #if($value)##\r\n    the value is $value##\r\n    #end##\r\n\r\nThen if you want to have linebreaks or beginning of line whitespaces, you&#39;ll have to put($br,&quot;\\n&quot;) and put($sp,&quot; &quot;) in your context like Vadzim&#39;s explained and explicitly use them in your template. This way of doing will allow you to keep indented templates, with maximum control.\r\n \r\ntake the class from this page http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader\r\nchange the extended class to the kind of loader your need (this one uses the webapp loader)\r\nreplace the read() method with the code I provide\r\nuse the class as your resource loader in your properties. Example for the webapp loader: webapp.resource.loader.class=...StructuredGlobbingResourceLoader\r\n\r\n    public int read() throws IOException {        \r\n        int ch;\r\n        switch(state){\r\n            case bol: //beginning of line, read until non-indentation character\r\n                while(true){\r\n                    ch = in.read();\r\n                    if (ch!=(int)&#39; &#39; &amp;&amp; ch!=(int)&#39;\\t&#39;){\r\n                        state = State.content;\r\n                        return processChar(ch);\r\n                    }\r\n                }\r\n    \r\n            case content:\r\n                ch = in.read();\r\n                return processChar(ch);\r\n    \r\n            //eol states replace all &quot;\\n&quot; by &quot;##\\n&quot;\r\n            case eol1: \r\n                state = State.eol2;\r\n                return (int)&#39;#&#39;;\r\n    \r\n            case eol2:\r\n                state = State.bol;\r\n                return (int)&#39;\\n&#39;;\r\n    \r\n            case eof: \r\n                return -1;\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    //Return the normal character if not end of file or \\n\r\n    private int processChar(int ch){\r\n        switch(ch){\r\n        case -1:\r\n            state = State.eof;\r\n            return -1;\r\n        case (int)&#39;\\n&#39;:\r\n            state = State.eol1;\r\n        return (int)&#39;#&#39;;\r\n        default:\r\n            return ch;\r\n        }\r\n    }\r\n\r\nAny feedback on my implementation is welcome\r\n","title":"How can I trim whitespace by Velocity","body":"<p>I struggled a while to find a straightforward solution to whitespace gobbling, so here the one I finally came up with. It is inspired from  and Vadzim's answer and this page <a href=\"http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader\" rel=\"nofollow\">http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader</a></p>\n\n<p>The StructuredGlobbingResourceLoader we can find on the website has a complex behaviour and doesn’t get rid of any kind of whitespace, so I modified it to get the simple behaviour: \"Delete any whitespace at the beginning of the lines, and add a comment at the end of each line\" (which prevents the linebreak evaluation). The filter is applied on the input stream at loading time.</p>\n\n<p>This kind of velocity template</p>\n\n<pre><code>#if($value)\n    the value is $value\n#end\n</code></pre>\n\n<p>is transformed to</p>\n\n<pre><code>#if($value)##\nthe value is $value##\n#end##\n</code></pre>\n\n<p>Then if you want to have linebreaks or beginning of line whitespaces, you'll have to put($br,\"\\n\") and put($sp,\" \") in your context like Vadzim's explained and explicitly use them in your template. This way of doing will allow you to keep indented templates, with maximum control.</p>\n\n<p>take the class from this page <a href=\"http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader\" rel=\"nofollow\">http://wiki.apache.org/velocity/StructuredGlobbingResourceLoader</a>\nchange the extended class to the kind of loader your need (this one uses the webapp loader)\nreplace the read() method with the code I provide\nuse the class as your resource loader in your properties. Example for the webapp loader: webapp.resource.loader.class=...StructuredGlobbingResourceLoader</p>\n\n<pre><code>public int read() throws IOException {        \n    int ch;\n    switch(state){\n        case bol: //beginning of line, read until non-indentation character\n            while(true){\n                ch = in.read();\n                if (ch!=(int)' ' &amp;&amp; ch!=(int)'\\t'){\n                    state = State.content;\n                    return processChar(ch);\n                }\n            }\n\n        case content:\n            ch = in.read();\n            return processChar(ch);\n\n        //eol states replace all \"\\n\" by \"##\\n\"\n        case eol1: \n            state = State.eol2;\n            return (int)'#';\n\n        case eol2:\n            state = State.bol;\n            return (int)'\\n';\n\n        case eof: \n            return -1;\n    }\n    return -1;\n}\n\n//Return the normal character if not end of file or \\n\nprivate int processChar(int ch){\n    switch(ch){\n    case -1:\n        state = State.eof;\n        return -1;\n    case (int)'\\n':\n        state = State.eol1;\n    return (int)'#';\n    default:\n        return ch;\n    }\n}\n</code></pre>\n\n<p>Any feedback on my implementation is welcome</p>\n"},{"tags":[],"owner":{"account_id":1507509,"reputation":51,"user_id":4555537,"display_name":"Sarah L."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432734504,"creation_date":1432734504,"answer_id":30484432,"question_id":8594022,"body_markdown":"In some cases, I&#39;ve had to essentially minimize my script like I would js or css. It works well, though it is not as easy for humans to read. Just one other option to eliminate the excess space:\r\n\r\n    &lt;ul class=&quot;tabs&quot;&gt;#foreach($par in $bodypars)#set( $parLen = ${_MathTool.toInteger($bodypars.size())} )#set( $parLn = $parLen - 1 )#set( $thClass = &#39;tb&#39;+${parLn} )#set( $thaClass = &#39;&#39; )#if( $foreach.index == 1 )#set( $thClass = ${thClass}+&#39; selected&#39; )#set( $thaClass = &#39; selected&#39; )#end#if($foreach.index != 0 &amp;&amp; $parLen &lt;= $maxTabs)#set ( $btitle = $_XPathTool.selectSingleNode($par,&#39;item-subtitle&#39;) )&lt;li class=&quot;${thClass}&quot;&gt;#if($!btitle &amp;&amp; $btitle != &#39;&#39;)&lt;a href=&quot;#&quot; class=&quot;#cleanString($btitle.value.toLowerCase())${thaClass}&quot;&gt;$_SerializerTool.serialize($btitle, true)&lt;/a&gt;#end&lt;/li&gt;#end#end&lt;/ul&gt;","title":"How can I trim whitespace by Velocity","body":"<p>In some cases, I've had to essentially minimize my script like I would js or css. It works well, though it is not as easy for humans to read. Just one other option to eliminate the excess space:</p>\n\n<pre><code>&lt;ul class=\"tabs\"&gt;#foreach($par in $bodypars)#set( $parLen = ${_MathTool.toInteger($bodypars.size())} )#set( $parLn = $parLen - 1 )#set( $thClass = 'tb'+${parLn} )#set( $thaClass = '' )#if( $foreach.index == 1 )#set( $thClass = ${thClass}+' selected' )#set( $thaClass = ' selected' )#end#if($foreach.index != 0 &amp;&amp; $parLen &lt;= $maxTabs)#set ( $btitle = $_XPathTool.selectSingleNode($par,'item-subtitle') )&lt;li class=\"${thClass}\"&gt;#if($!btitle &amp;&amp; $btitle != '')&lt;a href=\"#\" class=\"#cleanString($btitle.value.toLowerCase())${thaClass}\"&gt;$_SerializerTool.serialize($btitle, true)&lt;/a&gt;#end&lt;/li&gt;#end#end&lt;/ul&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116879,"reputation":1391,"user_id":306345,"display_name":"Dzmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533802483,"creation_date":1533802483,"answer_id":51761984,"question_id":8594022,"body_markdown":"Inspired by [Velocity Whitespace Truncated By Line Comment](https://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment) one could use block comments instead of line comments for a better looking result:\r\n\r\n    #foreach( $record in $records )#**\r\n        *##if( $record.id == 0 )#**\r\n        *##end\r\n    #end\r\n\r\nWith a decent syntax highlighting the comments aren&#39;t very obtrusive.","title":"How can I trim whitespace by Velocity","body":"<p>Inspired by <a href=\"https://wiki.apache.org/velocity/VelocityWhitespaceTruncatedByLineComment\" rel=\"nofollow noreferrer\">Velocity Whitespace Truncated By Line Comment</a> one could use block comments instead of line comments for a better looking result:</p>\n\n<pre><code>#foreach( $record in $records )#**\n    *##if( $record.id == 0 )#**\n    *##end\n#end\n</code></pre>\n\n<p>With a decent syntax highlighting the comments aren't very obtrusive.</p>\n"},{"tags":[],"owner":{"account_id":14467467,"reputation":33,"user_id":10450414,"display_name":"Riccardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599054674,"creation_date":1599054674,"answer_id":63707037,"question_id":8594022,"body_markdown":"You can use standard java trim, taking attention to your variable if are a object instead string.\r\n\r\n    $string.trim()  //work fine\r\n    $object.trim()  //exception\r\n\r\nHave a good day!","title":"How can I trim whitespace by Velocity","body":"<p>You can use standard java trim, taking attention to your variable if are a object instead string.</p>\n<pre><code>$string.trim()  //work fine\n$object.trim()  //exception\n</code></pre>\n<p>Have a good day!</p>\n"}],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38176,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":8615732,"answer_count":8,"score":22,"last_activity_date":1693662786,"creation_date":1324489392,"question_id":8594022,"body_markdown":"I have a method called render_something  which can creates a lot of whitespace, for example:\r\n\r\n    &lt;a href=&quot;#&quot;&gt;#render_something(&#39;xxx&#39;)&lt;/a&gt;\r\n\r\nThe result can be:\r\n   \r\n    &lt;a href=&quot;#&quot;&gt;     \r\n\r\n               something that generate from redner_something\r\n\r\n\r\n                  &lt;/a&gt; \r\n\r\nWhich actually I want it to be like this:\r\n\r\n    &lt;a href=&quot;#&quot;&gt;something that generate from redner_something&lt;/a&gt;\r\n\r\n\r\nDoes velocity has something like this?\r\n    \r\n    #trim(#render_something(&#39;xxx&#39;))\r\n","title":"How can I trim whitespace by Velocity","body":"<p>I have a method called render_something  which can creates a lot of whitespace, for example:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;#render_something('xxx')&lt;/a&gt;\n</code></pre>\n\n<p>The result can be:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;     \n\n           something that generate from redner_something\n\n\n              &lt;/a&gt; \n</code></pre>\n\n<p>Which actually I want it to be like this:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;something that generate from redner_something&lt;/a&gt;\n</code></pre>\n\n<p>Does velocity has something like this?</p>\n\n<pre><code>#trim(#render_something('xxx'))\n</code></pre>\n"},{"tags":["java","method-reference"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693661826,"post_id":77028492,"comment_id":135791827,"body_markdown":"GC won&#39;t remove data that is accessible. There&#39;s no way that you would ever find a variable empty because the GC removed it, unless you use weak references.","body":"GC won&#39;t remove data that is accessible. There&#39;s no way that you would ever find a variable empty because the GC removed it, unless you use weak references."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1693661876,"post_id":77028492,"comment_id":135791831,"body_markdown":"&quot;wasn&#39;t it was supposed to be deleted by the garbage collector?&quot; No.","body":"&quot;wasn&#39;t it was supposed to be deleted by the garbage collector?&quot; No."},{"owner":{"account_id":28167347,"reputation":3,"user_id":21526371,"display_name":"jen"},"score":0,"creation_date":1693662208,"post_id":77028492,"comment_id":135791857,"body_markdown":"@Kayaman i guess i don&#39;t understand why it is accessible. or what really returned from func, if i was returning a - i see why it&#39;s accessible. but method-reference isn&#39;t an object, so i&#39;m a little confused","body":"@Kayaman i guess i don&#39;t understand why it is accessible. or what really returned from func, if i was returning a - i see why it&#39;s accessible. but method-reference isn&#39;t an object, so i&#39;m a little confused"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693663002,"post_id":77028492,"comment_id":135791932,"body_markdown":"Method reference, referencing `a`. You&#39;re overthinking things, the GC removes _garbage_. It doesn&#39;t affect functioning code that depends on things. If you want to see the GC remove a reference, use `WeakReference`.","body":"Method reference, referencing <code>a</code>. You&#39;re overthinking things, the GC removes <i>garbage</i>. It doesn&#39;t affect functioning code that depends on things. If you want to see the GC remove a reference, use <code>WeakReference</code>."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1693664197,"post_id":77028492,"comment_id":135792032,"body_markdown":"A method reference in Java isn&#39;t really a method reference, just a special lambda syntax. The lambda has a reference to the `A` created in `func` and calls `print` on it when invoked.","body":"A method reference in Java isn&#39;t really a method reference, just a special lambda syntax. The lambda has a reference to the <code>A</code> created in <code>func</code> and calls <code>print</code> on it when invoked."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694429579,"post_id":77028492,"comment_id":135885305,"body_markdown":"As @Kayaman said, you are overthinking it. Since you are accessing it, it is obviously accessible. That’s the end of the story. Garbage collectors have been invented to prevent programs from breaking, not to break them.","body":"As @Kayaman said, you are overthinking it. Since you are accessing it, it is obviously accessible. That’s the end of the story. Garbage collectors have been invented to prevent programs from breaking, not to break them."}],"owner":{"account_id":28167347,"reputation":3,"user_id":21526371,"display_name":"jen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693661821,"creation_date":1693661671,"question_id":77028492,"body_markdown":"i&#39;m trying to understand some scenario i ran into related to method-reference. i have a method that create an object and then return a method reference based on that object. when the function ends, and i&#39;m using this method reference outside , the response corresponds to the object that was created inside the method. wasn&#39;t it was supposed to be deleted by the garbage collector? how come i can still see it after the method ends? \r\n\r\n```\r\nimport java.util.function.Function;\r\n\r\npublic class A {\r\n    public String str;\r\n    public A(){}\r\n    public A(String str){\r\n        this.str = str;\r\n    }\r\n\r\n    public String print(String msg) {\r\n        return msg + &quot; &quot; + this.str;\r\n    }\r\n    public Function&lt;String, String&gt; func(){\r\n        A a = new A(&quot;cat&quot;);\r\n        return a::print;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        A a1 = new A();\r\n        Function&lt;String, String&gt; foo = a1.func();\r\n        System.out.println(foo.apply(&quot;animals: &quot;));\r\n    }\r\n}\r\n```\r\nthe output is: \r\n\r\n```\r\nanimals:  cat\r\n```\r\n\r\n\r\n\r\ni expected some error, not &quot;cat&quot;.\r\n","title":"return method reference of object that created inside the method","body":"<p>i'm trying to understand some scenario i ran into related to method-reference. i have a method that create an object and then return a method reference based on that object. when the function ends, and i'm using this method reference outside , the response corresponds to the object that was created inside the method. wasn't it was supposed to be deleted by the garbage collector? how come i can still see it after the method ends?</p>\n<pre><code>import java.util.function.Function;\n\npublic class A {\n    public String str;\n    public A(){}\n    public A(String str){\n        this.str = str;\n    }\n\n    public String print(String msg) {\n        return msg + &quot; &quot; + this.str;\n    }\n    public Function&lt;String, String&gt; func(){\n        A a = new A(&quot;cat&quot;);\n        return a::print;\n    }\n\n    public static void main(String[] args) {\n        A a1 = new A();\n        Function&lt;String, String&gt; foo = a1.func();\n        System.out.println(foo.apply(&quot;animals: &quot;));\n    }\n}\n</code></pre>\n<p>the output is:</p>\n<pre><code>animals:  cat\n</code></pre>\n<p>i expected some error, not &quot;cat&quot;.</p>\n"},{"tags":["java","angular","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693651803,"creation_date":1693651803,"answer_id":77027980,"question_id":77026897,"body_markdown":"Use `useHash` as true.\r\n\r\n```ts\r\nimport { NgModule } from &#39;@angular/core&#39;;\r\n...\r\nconst routes: Routes = [//routes in here];\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    RouterModule.forRoot(routes, { useHash: true })\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n```","title":"How does navigation work in a Spring Boot and Angular Application?","body":"<p>Use <code>useHash</code> as true.</p>\n<pre><code>import { NgModule } from '@angular/core';\n...\nconst routes: Routes = [//routes in here];\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    RouterModule.forRoot(routes, { useHash: true })\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693661586,"creation_date":1693626431,"question_id":77026897,"body_markdown":"I am having an app whose backend is done using Spring Boot framework and Angular in frontend. \r\nLet us say we have a routing in Angular such that on a page Page1 we have a link that takes us to Page2. Now page2 fetches data from backend via a Post method. \r\n       All works fine but refreshing Page2 doesn&#39;t (as on refreshing Page2 a Get request is invoked and not Post as per Networks Tab in dev tools). \r\nI am thinking that when I try to refresh the page let us say url being https://app1.com/fruit/Page2 which came after clicking on the link for Page2, it tries to access the controller method of backend which of course does not exist. We wanted Angular component Page2 but it is coming only when we click the link. What should we do to solve this issue.","title":"How does navigation work in a Spring Boot and Angular Application?","body":"<p>I am having an app whose backend is done using Spring Boot framework and Angular in frontend.\nLet us say we have a routing in Angular such that on a page Page1 we have a link that takes us to Page2. Now page2 fetches data from backend via a Post method.\nAll works fine but refreshing Page2 doesn't (as on refreshing Page2 a Get request is invoked and not Post as per Networks Tab in dev tools).\nI am thinking that when I try to refresh the page let us say url being <a href=\"https://app1.com/fruit/Page2\" rel=\"nofollow noreferrer\">https://app1.com/fruit/Page2</a> which came after clicking on the link for Page2, it tries to access the controller method of backend which of course does not exist. We wanted Angular component Page2 but it is coming only when we click the link. What should we do to solve this issue.</p>\n"},{"tags":["java","spring","websocket"],"comments":[{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673347427,"post_id":75068726,"comment_id":132473152,"body_markdown":"Maybe you can show your current security config? Are you using the newest 2.7 spring boot security or what are you using?","body":"Maybe you can show your current security config? Are you using the newest 2.7 spring boot security or what are you using?"},{"owner":{"display_name":"user12420288"},"score":0,"creation_date":1673347933,"post_id":75068726,"comment_id":132473270,"body_markdown":"yes certainly there are packages versions:\n\n\n\t\t\tspring-boot-starter-security: 3.0.1\n\t\t\tpring-boot-starter-websocket:3.0.1","body":"yes certainly there are packages versions:   \t\t\tspring-boot-starter-security: 3.0.1 \t\t\tpring-boot-starter-websocket:3.0.1"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1673348407,"post_id":75068726,"comment_id":132473426,"body_markdown":"That is not 2.7, .. did you use  &quot; http.cors().and().csrf().disable() &quot; somewhere yet? otherwise I can formulate answer","body":"That is not 2.7, .. did you use  &quot; http.cors().and().csrf().disable() &quot; somewhere yet? otherwise I can formulate answer"},{"owner":{"display_name":"user12420288"},"score":0,"creation_date":1673348667,"post_id":75068726,"comment_id":132473502,"body_markdown":"yes i use it in security config","body":"yes i use it in security config"}],"answers":[{"comments":[{"owner":{"display_name":"user12420288"},"score":0,"creation_date":1673348840,"post_id":75068981,"comment_id":132473560,"body_markdown":"Thank you for the reply!\nMay I ask you how can I generate a csrf token?","body":"Thank you for the reply! May I ask you how can I generate a csrf token?"},{"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"score":1,"creation_date":1673352930,"post_id":75068981,"comment_id":132474910,"body_markdown":"Hi! No worries. Try looking in this one for csrf implementation : https://www.youtube.com/watch?v=roVG7Qgm4hU\nRegards","body":"Hi! No worries. Try looking in this one for csrf implementation : <a href=\"https://www.youtube.com/watch?v=roVG7Qgm4hU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=roVG7Qgm4hU</a> Regards"},{"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"score":1,"creation_date":1673372644,"post_id":75068981,"comment_id":132482313,"body_markdown":"Bro, if my original answer helps, kindly add a tick mark to show your support. Its essential as part of my work. I&#39;ll appreciate your verification.","body":"Bro, if my original answer helps, kindly add a tick mark to show your support. Its essential as part of my work. I&#39;ll appreciate your verification."},{"owner":{"account_id":94817,"reputation":410,"user_id":258645,"accept_rate":0,"display_name":"vitali_y"},"score":1,"creation_date":1691431822,"post_id":75068981,"comment_id":135487952,"body_markdown":"&quot;AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);&quot;\n\nwhat is &quot;this.context&quot;?! \nwhat is expected configuration here?","body":"&quot;AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);&quot;  what is &quot;this.context&quot;?!  what is expected configuration here?"},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1691626087,"post_id":75068981,"comment_id":135518412,"body_markdown":"@vitali_y it is the spring `ApplicationContext` which you can just `@Autowired`","body":"@vitali_y it is the spring <code>ApplicationContext</code> which you can just <code>@Autowired</code>"}],"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1673348488,"creation_date":1673348488,"answer_id":75068981,"question_id":75068726,"body_markdown":"By default, Spring Security requires the CSRF token in any CONNECT message type. This ensures that only a site that has access to the CSRF token can connect. Since only the same origin can access the CSRF token, external domains are not allowed to make a connection.\r\n\r\nSpring Security 4.0 has introduced authorization support for WebSockets through the Spring Messaging abstraction.\r\n\r\nIn Spring Security 5.8, this support has been refreshed to use the AuthorizationManager API.\r\n\r\nTo configure authorization using Java Configuration, simply include the `@EnableWebSocketSecurity` annotation and publish an `AuthorizationManager&lt;Message&lt;?&gt;&gt;` bean or in XML use the `use-authorization-manager` attribute. One way to do this is by using the `AuthorizationManagerMessageMatcherRegistry` to specify endpoint patterns like so:\r\n\r\n    @Configuration\r\n    @EnableWebSocketSecurity\r\n\r\n    public class WebSocketSecurityConfig {\r\n    @Bean\r\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\r\n        messages\r\n                .simpDestMatchers(&quot;/user/**&quot;).authenticated()\r\n\r\n        return messages.build();\r\n        }\r\n    }\r\n\r\n1. Any inbound CONNECT message requires a valid CSRF token to enforce the [Same Origin Policy][1].\r\n2. The SecurityContextHolder is populated with the user within the simpUser header attribute for any inbound request.\r\n3. Our messages require the proper authorization. Specifically, any inbound message that starts with &quot;/user/&quot; will require ROLE_USER. Additional details on authorization can be found in [websocket-authorization]\r\n\r\n&gt; At this point, CSRF is not configurable when using `@EnableWebSocketSecurity`, though this will likely be added in a future release.\r\n\r\nTo disable CSRF, instead of using `@EnableWebSocketSecurity`, you can use XML support or add the Spring Security components yourself, like so:\r\n\r\n*Java*\r\n\r\n    @Configuration\r\n    public class WebSocketSecurityConfig implements WebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\r\n        }\r\n\r\n        @Override\r\n        public void configureClientInboundChannel(ChannelRegistration registration) {\r\n            AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.authenticated();\r\n            AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\r\n            AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\r\n            authz.setAuthorizationEventPublisher(publisher);\r\n            registration.interceptors(new SecurityContextChannelInterceptor(), authz);\r\n       }\r\n    }\r\n\r\n*web.xml*\r\n\r\n    &lt;websocket-message-broker use-authorization-manager=&quot;true&quot; same-origin-disabled=&quot;true&quot;&gt;\r\n        &lt;intercept-message pattern=&quot;/**&quot; access=&quot;authenticated&quot;/&gt;\r\n    &lt;/websocket-message-broker&gt;\r\n\r\nOn the other hand, if you are using the [legacy-websocket-configuration][2] and you want to allow other domains to access your site, you can disable Spring Security’s protection. For example, in Java Configuration you can use the following:\r\n\r\n    @Configuration\r\n    public class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n\r\n    ...\r\n\r\n        @Override\r\n        protected boolean sameOriginDisabled() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n ----------\r\n**References**\r\n- [WebSocket Security - Spring Security][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-sameorigin\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#legacy%20%3Ccode%3EAbstractSecurityWebSocketMessageBrokerConfigurer%3C/code%3E\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html","title":"Setting up CSRF for spring websocket","body":"<p>By default, Spring Security requires the CSRF token in any CONNECT message type. This ensures that only a site that has access to the CSRF token can connect. Since only the same origin can access the CSRF token, external domains are not allowed to make a connection.</p>\n<p>Spring Security 4.0 has introduced authorization support for WebSockets through the Spring Messaging abstraction.</p>\n<p>In Spring Security 5.8, this support has been refreshed to use the AuthorizationManager API.</p>\n<p>To configure authorization using Java Configuration, simply include the <code>@EnableWebSocketSecurity</code> annotation and publish an <code>AuthorizationManager&lt;Message&lt;?&gt;&gt;</code> bean or in XML use the <code>use-authorization-manager</code> attribute. One way to do this is by using the <code>AuthorizationManagerMessageMatcherRegistry</code> to specify endpoint patterns like so:</p>\n<pre><code>@Configuration\n@EnableWebSocketSecurity\n\npublic class WebSocketSecurityConfig {\n@Bean\nAuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\n    messages\n            .simpDestMatchers(&quot;/user/**&quot;).authenticated()\n\n    return messages.build();\n    }\n}\n</code></pre>\n<ol>\n<li>Any inbound CONNECT message requires a valid CSRF token to enforce the <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-sameorigin\" rel=\"nofollow noreferrer\">Same Origin Policy</a>.</li>\n<li>The SecurityContextHolder is populated with the user within the simpUser header attribute for any inbound request.</li>\n<li>Our messages require the proper authorization. Specifically, any inbound message that starts with &quot;/user/&quot; will require ROLE_USER. Additional details on authorization can be found in [websocket-authorization]</li>\n</ol>\n<blockquote>\n<p>At this point, CSRF is not configurable when using <code>@EnableWebSocketSecurity</code>, though this will likely be added in a future release.</p>\n</blockquote>\n<p>To disable CSRF, instead of using <code>@EnableWebSocketSecurity</code>, you can use XML support or add the Spring Security components yourself, like so:</p>\n<p><em>Java</em></p>\n<pre><code>@Configuration\npublic class WebSocketSecurityConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.authenticated();\n        AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\n        AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\n        authz.setAuthorizationEventPublisher(publisher);\n        registration.interceptors(new SecurityContextChannelInterceptor(), authz);\n   }\n}\n</code></pre>\n<p><em>web.xml</em></p>\n<pre><code>&lt;websocket-message-broker use-authorization-manager=&quot;true&quot; same-origin-disabled=&quot;true&quot;&gt;\n    &lt;intercept-message pattern=&quot;/**&quot; access=&quot;authenticated&quot;/&gt;\n&lt;/websocket-message-broker&gt;\n</code></pre>\n<p>On the other hand, if you are using the <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#legacy%20%3Ccode%3EAbstractSecurityWebSocketMessageBrokerConfigurer%3C/code%3E\" rel=\"nofollow noreferrer\">legacy-websocket-configuration</a> and you want to allow other domains to access your site, you can disable Spring Security’s protection. For example, in Java Configuration you can use the following:</p>\n<pre><code>@Configuration\npublic class WebSocketSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n\n...\n\n    @Override\n    protected boolean sameOriginDisabled() {\n        return true;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html\" rel=\"nofollow noreferrer\">WebSocket Security - Spring Security</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28750398,"reputation":21,"user_id":22018629,"display_name":"mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693660748,"creation_date":1693595622,"answer_id":77025523,"question_id":75068726,"body_markdown":"I solved this problem temporarily with the following bean definition:\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @Bean(&quot;csrfChannelInterceptor&quot;)\r\n    fun noopCsrfChannelInterceptor(): ChannelInterceptor {\r\n        return object : ChannelInterceptor {}\r\n    }\r\n    \r\nThe Class `org.springframework.security.config.annotation.web.socket.WebSocketMessageBrokerSecurityConfiguration` retrieves `XorCsrfChannelInterceptor` like this:\r\n\r\n    private static final String CSRF_CHANNEL_INTERCEPTOR_BEAN_NAME = &quot;csrfChannelInterceptor&quot;;\r\n    ...\r\n    ChannelInterceptor csrfChannelInterceptor = getBeanOrNull(CSRF_CHANNEL_INTERCEPTOR_BEAN_NAME,\r\n\t\t\t\tChannelInterceptor.class);\r\n\t\tif (csrfChannelInterceptor != null) {\r\n\t\t\tthis.csrfChannelInterceptor = csrfChannelInterceptor;\r\n\t\t}\r\n   \r\nIt simply overrides `csrfChannelInterceptor` with a noop `ChannelInterceptor`.\r\n\r\nI hope an option to disable CSRF for Websockets will be added in future.","title":"Setting up CSRF for spring websocket","body":"<p>I solved this problem temporarily with the following bean definition:</p>\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@Bean(&quot;csrfChannelInterceptor&quot;)\nfun noopCsrfChannelInterceptor(): ChannelInterceptor {\n    return object : ChannelInterceptor {}\n}\n</code></pre>\n<p>The Class <code>org.springframework.security.config.annotation.web.socket.WebSocketMessageBrokerSecurityConfiguration</code> retrieves <code>XorCsrfChannelInterceptor</code> like this:</p>\n<pre><code>private static final String CSRF_CHANNEL_INTERCEPTOR_BEAN_NAME = &quot;csrfChannelInterceptor&quot;;\n...\nChannelInterceptor csrfChannelInterceptor = getBeanOrNull(CSRF_CHANNEL_INTERCEPTOR_BEAN_NAME,\n            ChannelInterceptor.class);\n    if (csrfChannelInterceptor != null) {\n        this.csrfChannelInterceptor = csrfChannelInterceptor;\n    }\n</code></pre>\n<p>It simply overrides <code>csrfChannelInterceptor</code> with a noop <code>ChannelInterceptor</code>.</p>\n<p>I hope an option to disable CSRF for Websockets will be added in future.</p>\n"}],"owner":{"display_name":"user12420288"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75068981,"answer_count":2,"score":2,"last_activity_date":1693660748,"creation_date":1673347026,"question_id":75068726,"body_markdown":"I am building an application where authentication is done by spring security for HTTP handlers, for HTTP I&#39;ve disabled csrf protection, and now I want to disable csrf for spring web socket, but I can&#39;t figure out how to accomplish this, I&#39;ve already tried many different approaches but no one seems to be working. If it is impossible to disable csrf for WebSocket how to get a csrf token? (I tried setting up the csrf endpoint to obtain a token but it is not work, and all tutorials I&#39;ve found are outdated)\r\nThanks in advance!\r\n\r\nweb socket security config:\r\n\r\n    @Configuration\r\n    @EnableWebSocketSecurity\r\n    public class WebSocketSecurityConfig extends    AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n    @Bean\r\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(\r\n      MessageMatcherDelegatingAuthorizationManager.Builder messages)   {\r\n    messages.anyMessage().permitAll();\r\n\r\n    return messages.build();\r\n    }\r\n\r\n    @Override\r\n        protected boolean sameOriginDisabled() {\r\n        return true;\r\n      }\r\n    }\r\n\r\n\r\nsecurity config:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    public class SecurityConfig {\r\n\r\n      @Autowired\r\n      private JwtFilter jwtFilter;\r\n\r\n      @Bean\r\n      SecurityFilterChain securityFilterChain(HttpSecurity HTTP)  throws Exception {\r\n        return http.addFilterBefore(jwtFilter,   BasicAuthenticationFilter.class)\r\n            .cors(AbstractHttpConfigurer::disable)\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n            .requestMatchers(&quot;/authenticate&quot;).permitAll()\r\n            .requestMatchers(&quot;/createchatroom&quot;).authenticated()\r\n            .requestMatchers(&quot;/public/*&quot;).permitAll()\r\n            .requestMatchers(&quot;/private/*&quot;).permitAll()\r\n            .requestMatchers(&quot;/ws/**&quot;).authenticated()\r\n            .requestMatchers(&quot;/register&quot;).permitAll()\r\n            .requestMatchers(&quot;/csrf&quot;).authenticated()\r\n             .requestMatchers(&quot;/addEmployeeToFavorites&quot;).hasAnyAuthority(EMPLOYEE.name(),\r\n                ADMIN.name())\r\n            .requestMatchers(&quot;/addChatRoomToFavorites&quot;)\r\n            .hasAnyAuthority(EMPLOYEE.name(), ADMIN.name())\r\n            .requestMatchers(&quot;/home&quot;).hasAnyAuthority(EMPLOYEE.name(), ADMIN.name()))\r\n        .build();\r\n      }\r\n    }","title":"Setting up CSRF for spring websocket","body":"<p>I am building an application where authentication is done by spring security for HTTP handlers, for HTTP I've disabled csrf protection, and now I want to disable csrf for spring web socket, but I can't figure out how to accomplish this, I've already tried many different approaches but no one seems to be working. If it is impossible to disable csrf for WebSocket how to get a csrf token? (I tried setting up the csrf endpoint to obtain a token but it is not work, and all tutorials I've found are outdated)\nThanks in advance!</p>\n<p>web socket security config:</p>\n<pre><code>@Configuration\n@EnableWebSocketSecurity\npublic class WebSocketSecurityConfig extends    AbstractSecurityWebSocketMessageBrokerConfigurer {\n@Bean\nAuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(\n  MessageMatcherDelegatingAuthorizationManager.Builder messages)   {\nmessages.anyMessage().permitAll();\n\nreturn messages.build();\n}\n\n@Override\n    protected boolean sameOriginDisabled() {\n    return true;\n  }\n}\n</code></pre>\n<p>security config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\npublic class SecurityConfig {\n\n  @Autowired\n  private JwtFilter jwtFilter;\n\n  @Bean\n  SecurityFilterChain securityFilterChain(HttpSecurity HTTP)  throws Exception {\n    return http.addFilterBefore(jwtFilter,   BasicAuthenticationFilter.class)\n        .cors(AbstractHttpConfigurer::disable)\n        .csrf(AbstractHttpConfigurer::disable)\n        .authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(&quot;/authenticate&quot;).permitAll()\n        .requestMatchers(&quot;/createchatroom&quot;).authenticated()\n        .requestMatchers(&quot;/public/*&quot;).permitAll()\n        .requestMatchers(&quot;/private/*&quot;).permitAll()\n        .requestMatchers(&quot;/ws/**&quot;).authenticated()\n        .requestMatchers(&quot;/register&quot;).permitAll()\n        .requestMatchers(&quot;/csrf&quot;).authenticated()\n         .requestMatchers(&quot;/addEmployeeToFavorites&quot;).hasAnyAuthority(EMPLOYEE.name(),\n            ADMIN.name())\n        .requestMatchers(&quot;/addChatRoomToFavorites&quot;)\n        .hasAnyAuthority(EMPLOYEE.name(), ADMIN.name())\n        .requestMatchers(&quot;/home&quot;).hasAnyAuthority(EMPLOYEE.name(), ADMIN.name()))\n    .build();\n  }\n}\n</code></pre>\n"},{"tags":["java","sql-server","maven","logging","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1256479,"reputation":5731,"user_id":1215828,"display_name":"Mickael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693660371,"creation_date":1693660371,"answer_id":77028412,"question_id":53072820,"body_markdown":"This is an old question, but I am answering in case someone has the same issue.\r\n\r\nYou added `jul-to-slf4j` which is good, but you also need to configure SLF4jHandlers:\r\n\r\n1. Add `logging.properties` with the following:\r\n\r\n```\r\nhandlers = org.slf4j.bridge.SLF4JBridgeHandler\r\n```\r\n\r\n2. Load this file when your application starts. For this step, you have two choices:\r\n\r\n- Start your application with the `java.util.logging.config.file` pointing to the location of your `logging.properties` file. For example: `java -jar -java.util.logging.config.file=/path/to/logging.properties`\r\n\r\n- Or, load the configuration file when your application is starting:\r\n\r\n```\r\ntry (InputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;/logging.properties&quot;)) {\r\n    LogManager.getLogManager().readConfiguration(is);\r\n} catch (IOException e) {\r\n    // Handle error\r\n}\r\n```\r\n\r\nAnd it should be good! :)","title":"Logging SQL Server (mssql-jdbc) 2017 JDBC via Logback?","body":"<p>This is an old question, but I am answering in case someone has the same issue.</p>\n<p>You added <code>jul-to-slf4j</code> which is good, but you also need to configure SLF4jHandlers:</p>\n<ol>\n<li>Add <code>logging.properties</code> with the following:</li>\n</ol>\n<pre><code>handlers = org.slf4j.bridge.SLF4JBridgeHandler\n</code></pre>\n<ol start=\"2\">\n<li>Load this file when your application starts. For this step, you have two choices:</li>\n</ol>\n<ul>\n<li><p>Start your application with the <code>java.util.logging.config.file</code> pointing to the location of your <code>logging.properties</code> file. For example: <code>java -jar -java.util.logging.config.file=/path/to/logging.properties</code></p>\n</li>\n<li><p>Or, load the configuration file when your application is starting:</p>\n</li>\n</ul>\n<pre><code>try (InputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;/logging.properties&quot;)) {\n    LogManager.getLogManager().readConfiguration(is);\n} catch (IOException e) {\n    // Handle error\n}\n</code></pre>\n<p>And it should be good! :)</p>\n"}],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693660371,"creation_date":1540933082,"question_id":53072820,"body_markdown":"I am trying to view sql statements that go through my application&#39;s SQL Server JDBC connector.  We are using mssql-jdbc.  The app uses slf4j as the logging facade and the current implementation is Logback.\r\n\r\nAccording to [their documentation](https://learn.microsoft.com/en-us/sql/connect/jdbc/frequently-asked-questions-faq-for-jdbc-driver?view=sql-server-2017) the JDBC driver uses Java Util logging.  As such I have added the bridge for SLF4J to my pom.xml file as follows:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI have also added an appender using [the Microsoft documentation](https://learn.microsoft.com/en-us/sql/connect/jdbc/tracing-driver-operation?view=sql-server-2017) that looks like this:\r\n\r\n        &lt;logger name=&quot;com.microsoft.sqlserver.jdbc.Statement&quot; level=&quot;FINER&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\nHowever, no logging statements are ever seen.  I have tried many different ways to configure the appender.  Any help is appreciated.\r\n\r\nNOTE: These SO questions answer the generic question of redirecting a java.util logging app to logback, but it is not working for this JDBC driver:\r\n\r\n* https://stackoverflow.com/questions/6020545/send-redirect-route-java-util-logging-logger-jul-to-logback-using-slf4j\r\n* https://stackoverflow.com/questions/41591459/how-to-make-java-util-logging-send-logs-to-logback\r\n","title":"Logging SQL Server (mssql-jdbc) 2017 JDBC via Logback?","body":"<p>I am trying to view sql statements that go through my application's SQL Server JDBC connector.  We are using mssql-jdbc.  The app uses slf4j as the logging facade and the current implementation is Logback.</p>\n\n<p>According to <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/frequently-asked-questions-faq-for-jdbc-driver?view=sql-server-2017\" rel=\"nofollow noreferrer\">their documentation</a> the JDBC driver uses Java Util logging.  As such I have added the bridge for SLF4J to my pom.xml file as follows:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I have also added an appender using <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/tracing-driver-operation?view=sql-server-2017\" rel=\"nofollow noreferrer\">the Microsoft documentation</a> that looks like this:</p>\n\n<pre><code>    &lt;logger name=\"com.microsoft.sqlserver.jdbc.Statement\" level=\"FINER\" additivity=\"false\"&gt;\n      &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/logger&gt;\n</code></pre>\n\n<p>However, no logging statements are ever seen.  I have tried many different ways to configure the appender.  Any help is appreciated.</p>\n\n<p>NOTE: These SO questions answer the generic question of redirecting a java.util logging app to logback, but it is not working for this JDBC driver:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6020545/send-redirect-route-java-util-logging-logger-jul-to-logback-using-slf4j\">Send/redirect/route java.util.logging.Logger (JUL) to Logback using SLF4J?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/41591459/how-to-make-java-util-logging-send-logs-to-logback\">How to make java.util.logging send logs to Logback?</a></li>\n</ul>\n"},{"tags":["java","go","jna"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693670089,"post_id":77028135,"comment_id":135792591,"body_markdown":"By the way, [*JEP 442: Foreign Function &amp; Memory API (Third Preview)*](https://openjdk.org/jeps/442)","body":"By the way, <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\"><i>JEP 442: Foreign Function &amp; Memory API (Third Preview)</i></a>"}],"owner":{"account_id":19106729,"reputation":29,"user_id":13953705,"display_name":"SDI DEVELOP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1693659645,"creation_date":1693655028,"question_id":77028135,"body_markdown":"I am learning Go and want to use it with JNA.\r\n\r\nHowever, I have a problem.\r\n\r\nGo code:\r\n\r\n```go\r\npackage main\r\n\r\nimport &quot;C&quot;\r\n\r\n//export Sum\r\nfunc Sum(i int, b int, callback func(out int)) {\r\n\tcallback(i + b)\r\n}\r\n\r\nfunc main() {\r\n\r\n}\r\n```\r\n\r\nGenerated h file (end is) :\r\n\r\n```c\r\n/* End of boilerplate cgo prologue.  */\r\n\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n\r\nextern void Sum(GoInt i, GoInt b, void* callback);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n```\r\n\r\nHow to call this function from JNA in Java?\r\n\r\nI wrote in Java:\r\n\r\n```java\r\ninterface MyLibrary : Library {\r\n    fun Sum(i : Int,b : Int,callback : MyCallback)\r\n}\r\n\r\ninterface MyCallback : com.sun.jna.Callback {\r\n    fun callback (out : Int)\r\n}\r\n```\r\n\r\nBut this does not work.\r\n","title":"How to call Go callback function From JNA?","body":"<p>I am learning Go and want to use it with JNA.</p>\n<p>However, I have a problem.</p>\n<p>Go code:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport &quot;C&quot;\n\n//export Sum\nfunc Sum(i int, b int, callback func(out int)) {\n    callback(i + b)\n}\n\nfunc main() {\n\n}\n</code></pre>\n<p>Generated h file (end is) :</p>\n<pre class=\"lang-c prettyprint-override\"><code>/* End of boilerplate cgo prologue.  */\n\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n\nextern void Sum(GoInt i, GoInt b, void* callback);\n\n#ifdef __cplusplus\n}\n#endif\n</code></pre>\n<p>How to call this function from JNA in Java?</p>\n<p>I wrote in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyLibrary : Library {\n    fun Sum(i : Int,b : Int,callback : MyCallback)\n}\n\ninterface MyCallback : com.sun.jna.Callback {\n    fun callback (out : Int)\n}\n</code></pre>\n<p>But this does not work.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2","java-11"],"comments":[{"owner":{"account_id":2472863,"reputation":307,"user_id":2154248,"accept_rate":50,"display_name":"Inukshuk"},"score":2,"creation_date":1596033057,"post_id":59430965,"comment_id":111680623,"body_markdown":"amazon-linux-extras is only available on Amazon Linux 2 (and does work). If you&#39;re using a different Linux distribution, then you have to use one of the other suggested options below.","body":"amazon-linux-extras is only available on Amazon Linux 2 (and does work). If you&#39;re using a different Linux distribution, then you have to use one of the other suggested options below."}],"answers":[{"tags":[],"owner":{"account_id":4738,"reputation":10369,"user_id":7267,"accept_rate":60,"display_name":"Mark Phippard"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1576873665,"creation_date":1576873665,"answer_id":59431008,"question_id":59430965,"body_markdown":"Use one of the OpenJDK distributions:\r\n\r\nhttps://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\r\n\r\nor\r\n\r\nhttps://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>Use one of the OpenJDK distributions:</p>\n\n<p><a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"noreferrer\">https://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot</a></p>\n"},{"comments":[{"owner":{"account_id":17351133,"reputation":2849,"user_id":12569596,"display_name":"kennysliding"},"score":2,"creation_date":1619096728,"post_id":63447332,"comment_id":118805347,"body_markdown":"This is a faster alternative answer, upvoted!","body":"This is a faster alternative answer, upvoted!"},{"owner":{"account_id":16929377,"reputation":161,"user_id":15184952,"display_name":"Sealchan"},"score":0,"creation_date":1649458926,"post_id":63447332,"comment_id":126889306,"body_markdown":"This works only if you open up outbound https in your Security Group assigned to your EC2 instance!  lol","body":"This works only if you open up outbound https in your Security Group assigned to your EC2 instance!  lol"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1655286125,"post_id":63447332,"comment_id":128294407,"body_markdown":"I need to install java 11 in aws code build virtual machine and its not working for me. OS details Ubuntu 18.04.4 LTS architecture 4.14.275-207.503.amzn2.x86_64","body":"I need to install java 11 in aws code build virtual machine and its not working for me. OS details Ubuntu 18.04.4 LTS architecture 4.14.275-207.503.amzn2.x86_64"}],"tags":[],"owner":{"account_id":7071086,"reputation":1413,"user_id":5412663,"accept_rate":86,"display_name":"rahimli"},"comment_count":3,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1597653303,"creation_date":1597653303,"answer_id":63447332,"question_id":59430965,"body_markdown":"Another option might be running the following commands: \r\n\r\nIn order to install **java 11:** \r\n\r\n`sudo amazon-linux-extras install java-openjdk11`\r\n\r\nFor **java 8** you can try: \r\n\r\n`sudo yum install java-1.8.0-openjdk`\r\n\r\nFinally, if you want to switch between java versions run:\r\n\r\n`sudo alternatives --config java` \r\n","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>Another option might be running the following commands:</p>\n<p>In order to install <strong>java 11:</strong></p>\n<p><code>sudo amazon-linux-extras install java-openjdk11</code></p>\n<p>For <strong>java 8</strong> you can try:</p>\n<p><code>sudo yum install java-1.8.0-openjdk</code></p>\n<p>Finally, if you want to switch between java versions run:</p>\n<p><code>sudo alternatives --config java</code></p>\n"},{"comments":[{"owner":{"account_id":1345799,"reputation":863,"user_id":1286583,"display_name":"Andrew Norman"},"score":1,"creation_date":1638571297,"post_id":68619647,"comment_id":124133143,"body_markdown":"love the detail here, thanks!","body":"love the detail here, thanks!"},{"owner":{"account_id":18063862,"reputation":61,"user_id":13130312,"display_name":"Aakash Goswami"},"score":1,"creation_date":1686552549,"post_id":68619647,"comment_id":134808345,"body_markdown":"Amazing explanation . Worked well for me. Thankyou.","body":"Amazing explanation . Worked well for me. Thankyou."}],"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1636748190,"creation_date":1627898331,"answer_id":68619647,"question_id":59430965,"body_markdown":"Sharing my simple working approach\r\n\r\n**Downloading the JDK**\r\n\r\n```curl -LO https://corretto.aws/downloads/latest/amazon-corretto-11-x64-linux-jdk.tar.gz```\r\n\r\n**note:** check the ec2 instance&#39;s platform ie., x64, aarch64, x86, aarch32 etc.,because the wrong platform jdk installation will leads to `/bin/java: /bin/java: cannot execute binary file`\r\n\r\n**Extracting the JDK to /usr/java/**\r\n```\r\nsudo tar -xvzf amazon-corretto-11-x64-linux-jdk.tar.gz -C /usr/java/\r\n```\r\n\r\n**Run the below single line command to change the soft link for java files in (/usr/bin) directory**\r\n```\r\ncd /usr/java/amazon-corretto-*-linux-x64/bin\r\nfor i in java javac jfr; do path=$(find `pwd`/$i -type f); echo $path; sudo alternatives --install /usr/bin/$i $i $path 20000 ; sudo update-alternatives --config $i ; done\r\n```\r\nafter the above command execution, there will be a command prompt that will ask you to choose the selection number which represents the file residing path and we should choose the number which refers to path `/usr/java/amazon-corretto-*-linux-x64/bin/`\r\n\r\nThe amazon-corretto jdk version may vary based on the timeline that you download. Currently the java version is `11.0.12.7.1`\r\n\r\nThat&#39;s it execute `java -version`, you can see the java version as\r\n```\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20 LTS\r\nOpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\r\n```\r\n\r\n","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>Sharing my simple working approach</p>\n<p><strong>Downloading the JDK</strong></p>\n<p><code>curl -LO https://corretto.aws/downloads/latest/amazon-corretto-11-x64-linux-jdk.tar.gz</code></p>\n<p><strong>note:</strong> check the ec2 instance's platform ie., x64, aarch64, x86, aarch32 etc.,because the wrong platform jdk installation will leads to <code>/bin/java: /bin/java: cannot execute binary file</code></p>\n<p><strong>Extracting the JDK to /usr/java/</strong></p>\n<pre><code>sudo tar -xvzf amazon-corretto-11-x64-linux-jdk.tar.gz -C /usr/java/\n</code></pre>\n<p><strong>Run the below single line command to change the soft link for java files in (/usr/bin) directory</strong></p>\n<pre><code>cd /usr/java/amazon-corretto-*-linux-x64/bin\nfor i in java javac jfr; do path=$(find `pwd`/$i -type f); echo $path; sudo alternatives --install /usr/bin/$i $i $path 20000 ; sudo update-alternatives --config $i ; done\n</code></pre>\n<p>after the above command execution, there will be a command prompt that will ask you to choose the selection number which represents the file residing path and we should choose the number which refers to path <code>/usr/java/amazon-corretto-*-linux-x64/bin/</code></p>\n<p>The amazon-corretto jdk version may vary based on the timeline that you download. Currently the java version is <code>11.0.12.7.1</code></p>\n<p>That's it execute <code>java -version</code>, you can see the java version as</p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20 LTS\nOpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2565071,"reputation":344,"user_id":2225377,"display_name":"Patrick T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666813313,"creation_date":1666813313,"answer_id":74213417,"question_id":59430965,"body_markdown":"I tried `sudo amazon-linux-extras install java-openjdk11` but that didn&#39;t install tools like `jstatd` and `jps`.  I had better luck installing Corretto using these instructions:\r\n\r\nhttps://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html\r\n","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>I tried <code>sudo amazon-linux-extras install java-openjdk11</code> but that didn't install tools like <code>jstatd</code> and <code>jps</code>.  I had better luck installing Corretto using these instructions:</p>\n<p><a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html</a></p>\n"},{"tags":[],"owner":{"account_id":29351526,"reputation":1,"user_id":22488530,"display_name":"Hiren Kevadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693659189,"creation_date":1693659189,"answer_id":77028356,"question_id":59430965,"body_markdown":"below documents can be followed from AWS to install JAVA 11 in EC2 instance.\r\n\r\nhttps://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html\r\n\r\n sudo yum install java-11-amazon-corretto-devel","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>below documents can be followed from AWS to install JAVA 11 in EC2 instance.</p>\n<p><a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/amazon-linux-install.html</a></p>\n<p>sudo yum install java-11-amazon-corretto-devel</p>\n"}],"owner":{"account_id":14868384,"reputation":273,"user_id":10736642,"display_name":"James M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58093,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":59431008,"answer_count":5,"score":22,"last_activity_date":1693659189,"creation_date":1576873396,"question_id":59430965,"body_markdown":"I tried this \r\n\r\nhttps://stackoverflow.com/questions/10268583/downloading-java-jdk-on-linux-via-wget-is-shown-license-page-instead\r\n\r\nbut I keep getting a 404 error. \r\n\r\nThis command  &quot;sudo amazon-linux-extras install java-openjdk11&quot; just states that amazon-linux-extras doesnt exist.","title":"AWS - How to install java11 on an EC2 Linux machine?","body":"<p>I tried this </p>\n\n<p><a href=\"https://stackoverflow.com/questions/10268583/downloading-java-jdk-on-linux-via-wget-is-shown-license-page-instead\">Downloading Java JDK on Linux via wget is shown license page instead</a></p>\n\n<p>but I keep getting a 404 error. </p>\n\n<p>This command  \"sudo amazon-linux-extras install java-openjdk11\" just states that amazon-linux-extras doesnt exist.</p>\n"},{"tags":["java","java.util.scanner","delimiter"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693655536,"post_id":77028084,"comment_id":135791239,"body_markdown":"That&#39;s because `\\n` may not be the [line separator](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#lineSeparator()).","body":"That&#39;s because <code>\\n</code> may not be the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#lineSeparator()\" rel=\"nofollow noreferrer\">line separator</a>."},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1693655840,"post_id":77028084,"comment_id":135791277,"body_markdown":"@Abra I tried using sc.useDelimiter(&quot;\\r\\n&quot;) as I&#39;m on Windows, but it still doesn&#39;t work. What would be the correct pattern for windows?","body":"@Abra I tried using sc.useDelimiter(&quot;\\r\\n&quot;) as I&#39;m on Windows, but it still doesn&#39;t work. What would be the correct pattern for windows?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693655868,"post_id":77028084,"comment_id":135791280,"body_markdown":"Would you consider calling [nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()) followed by [parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))?","body":"Would you consider calling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine</a> followed by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">parseInt</a>?"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1693655960,"post_id":77028084,"comment_id":135791294,"body_markdown":"That would work, I can also just use a sc.nextLine() after every sc.nextInt() to consume the new line character, but I wanted to understand this Delimiter solution which doesn&#39;t seem to work","body":"That would work, I can also just use a sc.nextLine() after every sc.nextInt() to consume the new line character, but I wanted to understand this Delimiter solution which doesn&#39;t seem to work"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693656056,"post_id":77028084,"comment_id":135791305,"body_markdown":"_I tried using sc.useDelimiter(&quot;\\r\\n&quot;) as I&#39;m on Windows, but it still doesn&#39;t work_ Be precise! You no longer get the `InputMismatchException` but it doesn&#39;t behave as you would like. Am I correct?","body":"<i>I tried using sc.useDelimiter(&quot;\\r\\n&quot;) as I&#39;m on Windows, but it still doesn&#39;t work</i> Be precise! You no longer get the <code>InputMismatchException</code> but it doesn&#39;t behave as you would like. Am I correct?"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1693656187,"post_id":77028084,"comment_id":135791317,"body_markdown":"Yes you are correct, i dont get any exception, but I am not allowed to input the String as the output is given without waiting for my input for string.\n\n```","body":"Yes you are correct, i dont get any exception, but I am not allowed to input the String as the output is given without waiting for my input for string.  ```"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1693656225,"post_id":77028084,"comment_id":135791323,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693656290,"post_id":77028084,"comment_id":135791331,"body_markdown":"I don&#39;t know why it works, but if you change `String name = sc.nextLine();` to `String name = sc.next();` you should get your desired behavior. (At least, I did.)","body":"I don&#39;t know why it works, but if you change <code>String name = sc.nextLine();</code> to <code>String name = sc.next();</code> you should get your desired behavior. (At least, I did.)"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1693656357,"post_id":77028084,"comment_id":135791338,"body_markdown":"@Progman I&#39;m aware of potential solutions to the problem using parseInt() and skip(), but I wanted a Delimiter approach","body":"@Progman I&#39;m aware of potential solutions to the problem using parseInt() and skip(), but I wanted a Delimiter approach"},{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1693656503,"post_id":77028084,"comment_id":135791349,"body_markdown":"@Abra Oh you&#39;re right! using `sc.next()` instead of `sc.nextLine()` completely solves my problem. But I don&#39;t understand how? why `sc.nextLine()` doesn&#39;t work?","body":"@Abra Oh you&#39;re right! using <code>sc.next()</code> instead of <code>sc.nextLine()</code> completely solves my problem. But I don&#39;t understand how? why <code>sc.nextLine()</code> doesn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693657647,"creation_date":1693657647,"answer_id":77028279,"question_id":77028084,"body_markdown":"The `InputMismatchException` was thrown because you used the wrong line separator for your OS. [`nextInt`][1] reads the next token (i.e. stops before the delimiter). Since you have entered `4\\r\\n`, the next token is `4\\r`, which is not a valid int.\r\n\r\nFirst, use the correct line separator for your OS. A platform independent way to do this would be:\r\n\r\n    sc.useDelimiter(Pattern.quote(System.lineSeparator()));\r\n\r\nNow the scanner reads the int correctly, but `nextLine` still reads an empty string.\r\n\r\nThis is because unlike [`next`][2] or `nextInt` etc, [`nextLine`][3] doesn&#39;t care about delimiters. It sees `\\r\\n` in front of it, and decides that that is the end of the current line, and returns everything before that.\r\n\r\n&gt; `nextLine`:\r\n&gt;\r\n&gt; Advances this scanner past the current line and returns the input that was skipped. This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line (in this case, there is nothing).\r\n\r\n&gt; `next`:\r\n&gt; Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern.\r\n\r\nSee also the prose in the class documentation:\r\n\r\n&gt; The next() and hasNext() methods and their companion methods (such as nextInt() and hasNextInt()) first skip any input that matches the delimiter pattern, and then attempt to return the next token.\r\n\r\nAfter reading the int, the remaining input would be `\\r\\nJohn Doe\\r\\n`, `John Doe` is preceded and followed by the delimiter - this matches exactly what it means to be a &quot;complete token&quot;, so you can read this with `next()` instead. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextLine()","title":"Problem with custom delimiter for Scanner in Java","body":"<p>The <code>InputMismatchException</code> was thrown because you used the wrong line separator for your OS. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\"><code>nextInt</code></a> reads the next token (i.e. stops before the delimiter). Since you have entered <code>4\\r\\n</code>, the next token is <code>4\\r</code>, which is not a valid int.</p>\n<p>First, use the correct line separator for your OS. A platform independent way to do this would be:</p>\n<pre><code>sc.useDelimiter(Pattern.quote(System.lineSeparator()));\n</code></pre>\n<p>Now the scanner reads the int correctly, but <code>nextLine</code> still reads an empty string.</p>\n<p>This is because unlike <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\"><code>next</code></a> or <code>nextInt</code> etc, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\"><code>nextLine</code></a> doesn't care about delimiters. It sees <code>\\r\\n</code> in front of it, and decides that that is the end of the current line, and returns everything before that.</p>\n<blockquote>\n<p><code>nextLine</code>:</p>\n<p>Advances this scanner past the current line and returns the input that was skipped. This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line (in this case, there is nothing).</p>\n</blockquote>\n<blockquote>\n<p><code>next</code>:\nFinds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern.</p>\n</blockquote>\n<p>See also the prose in the class documentation:</p>\n<blockquote>\n<p>The next() and hasNext() methods and their companion methods (such as nextInt() and hasNextInt()) first skip any input that matches the delimiter pattern, and then attempt to return the next token.</p>\n</blockquote>\n<p>After reading the int, the remaining input would be <code>\\r\\nJohn Doe\\r\\n</code>, <code>John Doe</code> is preceded and followed by the delimiter - this matches exactly what it means to be a &quot;complete token&quot;, so you can read this with <code>next()</code> instead.</p>\n"}],"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77028279,"answer_count":1,"score":1,"last_activity_date":1693657768,"creation_date":1693654169,"question_id":77028084,"body_markdown":"I want to avoid the issue of &quot;new line character&quot; that is generated by pressing the enter key when I enter a number for `nextInt()`, since `nextLine()` will consume the new line character and won&#39;t let me input the string.\r\n\r\nI am using a custom Delimiter to avoid this issue so that `nextInt()` can consume the end of line character as well\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n\tsc.useDelimiter(&quot;\\\\n&quot;);\r\n\tSystem.out.println(&quot;Enter your age&quot;);\r\n\tint age=sc.nextInt();\r\n\tSystem.out.println(&quot;Enter your name&quot;);\r\n\tString name=sc.nextLine();\r\n\tSystem.out.println(&quot;Age is &quot;+ age);\r\n\tSystem.out.println(&quot;Name is &quot;+ name);\r\n    }\r\n}\r\n```\r\n\r\nHowever when I run this program I get this error :\r\n\r\n```\r\nEnter your age\r\n4\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at Test.main(Test.java:8)\r\n```\r\n\r\nI can&#39;t understand why I am getting an InputMismatchException.\r\nCan someone explain how this delimiter works?\r\n\r\nAs pointed by @Abra in comments, if I use `next()` instead of `nextLine()` it works as intended. The question is why does `nextLine()` doesn&#39;t work?","title":"Problem with custom delimiter for Scanner in Java","body":"<p>I want to avoid the issue of &quot;new line character&quot; that is generated by pressing the enter key when I enter a number for <code>nextInt()</code>, since <code>nextLine()</code> will consume the new line character and won't let me input the string.</p>\n<p>I am using a custom Delimiter to avoid this issue so that <code>nextInt()</code> can consume the end of line character as well</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n    sc.useDelimiter(&quot;\\\\n&quot;);\n    System.out.println(&quot;Enter your age&quot;);\n    int age=sc.nextInt();\n    System.out.println(&quot;Enter your name&quot;);\n    String name=sc.nextLine();\n    System.out.println(&quot;Age is &quot;+ age);\n    System.out.println(&quot;Name is &quot;+ name);\n    }\n}\n</code></pre>\n<p>However when I run this program I get this error :</p>\n<pre><code>Enter your age\n4\nException in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at Test.main(Test.java:8)\n</code></pre>\n<p>I can't understand why I am getting an InputMismatchException.\nCan someone explain how this delimiter works?</p>\n<p>As pointed by @Abra in comments, if I use <code>next()</code> instead of <code>nextLine()</code> it works as intended. The question is why does <code>nextLine()</code> doesn't work?</p>\n"},{"tags":["java","android","react-native","macos","gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693657881,"post_id":77028267,"comment_id":135791475,"body_markdown":"Remove the MaxPermSize option, it no longer exists (since Java 8).","body":"Remove the MaxPermSize option, it no longer exists (since Java 8)."},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1693658335,"post_id":77028267,"comment_id":135791528,"body_markdown":"@MarkRotteveel: I did as you say, but I get the following error:\n\nhttps://pastebin.com/ZTtzH19i\n\nFile error: https://github.com/mrousavy/react-native-vision-camera/blob/main/package/android/build.gradle#L63","body":"@MarkRotteveel: I did as you say, but I get the following error:  <a href=\"https://pastebin.com/ZTtzH19i\" rel=\"nofollow noreferrer\">pastebin.com/ZTtzH19i</a>  File error: <a href=\"https://github.com/mrousavy/react-native-vision-camera/blob/main/package/android/build.gradle#L63\" rel=\"nofollow noreferrer\">github.com/mrousavy/react-native-vision-camera/blob/main/&hellip;</a>"},{"owner":{"account_id":1948645,"reputation":30116,"user_id":6877799,"accept_rate":75,"display_name":"AmerllicA"},"score":0,"creation_date":1693698618,"post_id":77028267,"comment_id":135795157,"body_markdown":"Would you mind if I ask you to add your system details though? Like CPU, RAM and etc.","body":"Would you mind if I ask you to add your system details though? Like CPU, RAM and etc."},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1693763119,"post_id":77028267,"comment_id":135800348,"body_markdown":"@AmerllicA: MacBook Pro, 2 GHz Intel Core i5 quad-core, 16 GB 3733 MHz LPDDR4X. It&#39;s a new computer only a few years old.","body":"@AmerllicA: MacBook Pro, 2 GHz Intel Core i5 quad-core, 16 GB 3733 MHz LPDDR4X. It&#39;s a new computer only a few years old."},{"owner":{"account_id":1948645,"reputation":30116,"user_id":6877799,"accept_rate":75,"display_name":"AmerllicA"},"score":0,"creation_date":1693763616,"post_id":77028267,"comment_id":135800413,"body_markdown":"@Paul, It seems your system resources are enough. I should check. I&#39;ll answer you later. wait, please. I&#39;m quite busy now.","body":"@Paul, It seems your system resources are enough. I should check. I&#39;ll answer you later. wait, please. I&#39;m quite busy now."}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693657510,"creation_date":1693657510,"question_id":77028267,"body_markdown":"I tried [this][1] but couldn&#39;t fix the problem.\r\n\r\n    org.gradle.jvmargs=-Xms512M -Xmx4g -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g -Dkotlin.daemon.jvm.options=&quot;-Xmx1g&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n```\r\nWelcome to Gradle 8.1.1!\r\n\r\nHere are the highlights of this release:\r\n - Stable configuration cache\r\n - Experimental Kotlin DSL assignment syntax\r\n - Building with Java 20\r\n\r\nFor more details see https://docs.gradle.org/8.1.1/release-notes.html\r\n\r\n\r\n------------------------------------------------------------\r\nGradle 8.1.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-04-21 12:31:26 UTC\r\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.15\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.7 (Homebrew 17.0.7+0)\r\nOS:           Mac OS X 13.2.1 x86_64\r\n```\r\n\r\n\r\nError:\r\n\r\n```\r\nyarn run v1.22.4\r\n$ react-native run-android\r\ninfo JS server already running.\r\n\r\ninfo &#128161; Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html\r\nProcess command line: /Users/userName/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home/bin/java -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.base/java.nio.charset=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xms512M -Xmx4g -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=it -Duser.variant -cp /Users/userName/.gradle/wrapper/dists/gradle-7.5.1-all/1ehga6e77gqps5uk2kc5kf1vc/gradle-7.5.1/lib/gradle-launcher-7.5.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.5.1\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nUnrecognized VM option &#39;MaxPermSize=1024m&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nerror Failed to install the app. Command failed with exit code 1: ./gradlew tasks FAILURE: Build failed with an exception. * What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html\r\nProcess command line: /Users/userName/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home/bin/java -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.base/java.nio.charset=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xms512M -Xmx4g -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=it -Duser.variant -cp /Users/userName/.gradle/wrapper/dists/gradle-7.5.1-all/1ehga6e77gqps5uk2kc5kf1vc/gradle-7.5.1/lib/gradle-launcher-7.5.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.5.1\r\nPlease read the following process output to find out more:\r\n-----------------------\r\n\r\nUnrecognized VM option &#39;MaxPermSize=1024m&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit. * Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights. * Get more help at https://help.gradle.org\r\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details.\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```\r\n\r\nAndroid studio:\r\n\r\n```\r\nBuild file &#39;/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle&#39; line: 63\r\n\r\nA problem occurred evaluating project &#39;:react-native-vision-camera&#39;.\r\n&gt; react-native-vision-camera: Failed to find node_modules/ path!\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:react-native-vision-camera&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.GradleException: react-native-vision-camera: Failed to find node_modules/ path!\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat org.gradle.internal.classpath.Instrumented$FileInputStreamConstructorCallSite.callConstructor(Instrumented.java:971)\r\n\tat build_8xdr2t92danxkfpy7xenyym6t.findNodeModules(/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle:63)\r\n\tat build_8xdr2t92danxkfpy7xenyym6t$findNodeModules.callStatic(Unknown Source)\r\n\tat build_8xdr2t92danxkfpy7xenyym6t.run(/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle:66)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 177 more\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58764088/error-unable-to-start-the-daemon-process-this-problem-might-be-caused-by-incor\r\n  [2]: https://i.stack.imgur.com/qMWgx.png","title":"macOS react-native This problem might be caused by incorrect configuration of the daemon","body":"<p>I tried <a href=\"https://stackoverflow.com/questions/58764088/error-unable-to-start-the-daemon-process-this-problem-might-be-caused-by-incor\">this</a> but couldn't fix the problem.</p>\n<pre><code>org.gradle.jvmargs=-Xms512M -Xmx4g -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g -Dkotlin.daemon.jvm.options=&quot;-Xmx1g&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qMWgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMWgx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Welcome to Gradle 8.1.1!\n\nHere are the highlights of this release:\n - Stable configuration cache\n - Experimental Kotlin DSL assignment syntax\n - Building with Java 20\n\nFor more details see https://docs.gradle.org/8.1.1/release-notes.html\n\n\n------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.7 (Homebrew 17.0.7+0)\nOS:           Mac OS X 13.2.1 x86_64\n</code></pre>\n<p>Error:</p>\n<pre><code>yarn run v1.22.4\n$ react-native run-android\ninfo JS server already running.\n\ninfo 💡 Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html\nProcess command line: /Users/userName/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home/bin/java -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.base/java.nio.charset=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xms512M -Xmx4g -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=it -Duser.variant -cp /Users/userName/.gradle/wrapper/dists/gradle-7.5.1-all/1ehga6e77gqps5uk2kc5kf1vc/gradle-7.5.1/lib/gradle-launcher-7.5.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.5.1\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=1024m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nerror Failed to install the app. Command failed with exit code 1: ./gradlew tasks FAILURE: Build failed with an exception. * What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html\nProcess command line: /Users/userName/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home/bin/java -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED --add-opens java.base/java.nio.charset=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xms512M -Xmx4g -Dfile.encoding=UTF-8 -Duser.country=IT -Duser.language=it -Duser.variant -cp /Users/userName/.gradle/wrapper/dists/gradle-7.5.1-all/1ehga6e77gqps5uk2kc5kf1vc/gradle-7.5.1/lib/gradle-launcher-7.5.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 7.5.1\nPlease read the following process output to find out more:\n-----------------------\n\nUnrecognized VM option 'MaxPermSize=1024m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit. * Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights. * Get more help at https://help.gradle.org\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details.\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n<p>Android studio:</p>\n<pre><code>Build file '/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle' line: 63\n\nA problem occurred evaluating project ':react-native-vision-camera'.\n&gt; react-native-vision-camera: Failed to find node_modules/ path!\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':react-native-vision-camera'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:369)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.GradleException: react-native-vision-camera: Failed to find node_modules/ path!\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at org.gradle.internal.classpath.Instrumented$FileInputStreamConstructorCallSite.callConstructor(Instrumented.java:971)\n    at build_8xdr2t92danxkfpy7xenyym6t.findNodeModules(/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle:63)\n    at build_8xdr2t92danxkfpy7xenyym6t$findNodeModules.callStatic(Unknown Source)\n    at build_8xdr2t92danxkfpy7xenyym6t.run(/Users/userName/Desktop/react-native-vision-camera/package/android/build.gradle:66)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 177 more\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure","azure-application-insights"],"comments":[{"owner":{"account_id":5783334,"reputation":360,"user_id":4563347,"display_name":"Mohit Sharma"},"score":0,"creation_date":1682861252,"post_id":76140441,"comment_id":134278407,"body_markdown":"Create a configmap ( YAML) and read from the values yamls.\nIn values YAML set it like below\n InstrumentationKey: ${appInsightInstrumentationKey}","body":"Create a configmap ( YAML) and read from the values yamls. In values YAML set it like below  InstrumentationKey: ${appInsightInstrumentationKey}"},{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1682932711,"post_id":76140441,"comment_id":134285774,"body_markdown":"@MohitSharma from what I understand this solution is more in context of Kubernetes. I am looking for a solution in context of Spring.","body":"@MohitSharma from what I understand this solution is more in context of Kubernetes. I am looking for a solution in context of Spring."}],"answers":[{"comments":[{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1683189413,"post_id":76161235,"comment_id":134329210,"body_markdown":"I don&#39;t need to read properties from JSON file but rather inject values from environment variables to JSON config file at runtime.","body":"I don&#39;t need to read properties from JSON file but rather inject values from environment variables to JSON config file at runtime."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683097608,"creation_date":1683097608,"answer_id":76161235,"question_id":76140441,"body_markdown":"***I have reproduced your requirement and could load configurations from the Json file in spring boot as shown below:***\r\n\r\n1.  Create an `Application.json` file in *Resources* folder and also META-INF directory.  Create a file called `spring.factories` inside the META-INF directory and add below configuration:\r\n```\r\norg.springframework.boot.env.PropertySourceLoader=com.example.demo.JsonPropertySourceLoader\r\n```\r\n![enter image description here](https://i.imgur.com/S5rMyJ0.png)\r\n\r\n2.  Create a `.json` file and add below code: \r\n\r\n```json\r\n{\r\n&quot;server.port&quot;:9080,\r\n&quot;testdata1&quot;:&quot;testing&quot;,\r\n&quot;valuesMap&quot;:&quot;{key1: &#39;1&#39;, key2: &#39;2&#39;, key3: &#39;3&#39;}&quot;\r\n}\r\n```\r\n![enter image description here](https://i.imgur.com/a54bhjW.png)\r\n\r\n3.  Create a class called `JsonPropertySourceLoader` which will extend  `YAMLPropertySourceLoader` class present in the below package:\r\n```\r\nimport  org.springframework.boot.env.YamlPropertySourceLoader;\r\n```\r\n```java\r\npublic  class  JsonPropertySourceLoader extends  YamlPropertySourceLoader  {\r\n@Override\r\npublic  String[]  getFileExtensions()  {\r\nreturn  new  String[]  {  &quot;json&quot;  };\r\n}\r\n}\r\n```\r\n![enter image description here](https://i.imgur.com/Dy0ziit.png)\r\n\r\n4. *Create a rest controller class with the below code:*\r\n\r\n```java\r\n@RestController\r\n@SpringBootApplication\r\npublic  class  DemoApplication  {\r\n\r\n@Value(&quot;${testdata1}&quot;)\r\nprivate  String  testData1;\r\n\r\n@Value(&quot;#{${valuesMap}}&quot;)\r\nprivate  Map&lt;String,  Integer&gt;  valuesMap;\r\n\r\n@GetMapping(&quot;/&quot;)\r\npublic  String  echo()  {\r\nSystem.out.println(&quot;Iterating the map....&quot;);\r\nfor  (Map.Entry&lt;String,  Integer&gt;  entry  :  valuesMap.entrySet())  {\r\nSystem.out.println(&quot;Key = &quot;  +  entry.getKey()\r\n+  &quot;, Value = &quot;  +  entry.getValue());\r\n}\r\nreturn  testData1;\r\n}\r\npublic  static  void  main(String[]  args)  {\r\nSpringApplication.run(DemoApplication.class,  args);\r\n}\r\n}\r\n```\r\n**Response:**\r\n\r\nFetching the value from json configuration file.\r\n\r\n![enter image description here](https://i.imgur.com/8aRqQTD.png)\r\n\r\n\r\n***Refer to my [github repo](https://github.com/PravallikaKothaveerannagari/json_config) for complete code.***","title":"Injecting Spring Boot application properties in JSON configuration file","body":"<p><em><strong>I have reproduced your requirement and could load configurations from the Json file in spring boot as shown below:</strong></em></p>\n<ol>\n<li>Create an <code>Application.json</code> file in <em>Resources</em> folder and also META-INF directory.  Create a file called <code>spring.factories</code> inside the META-INF directory and add below configuration:</li>\n</ol>\n<pre><code>org.springframework.boot.env.PropertySourceLoader=com.example.demo.JsonPropertySourceLoader\n</code></pre>\n<p><img src=\"https://i.imgur.com/S5rMyJ0.png\" alt=\"enter image description here\" /></p>\n<ol start=\"2\">\n<li>Create a <code>.json</code> file and add below code:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;server.port&quot;:9080,\n&quot;testdata1&quot;:&quot;testing&quot;,\n&quot;valuesMap&quot;:&quot;{key1: '1', key2: '2', key3: '3'}&quot;\n}\n</code></pre>\n<p><img src=\"https://i.imgur.com/a54bhjW.png\" alt=\"enter image description here\" /></p>\n<ol start=\"3\">\n<li>Create a class called <code>JsonPropertySourceLoader</code> which will extend  <code>YAMLPropertySourceLoader</code> class present in the below package:</li>\n</ol>\n<pre><code>import  org.springframework.boot.env.YamlPropertySourceLoader;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public  class  JsonPropertySourceLoader extends  YamlPropertySourceLoader  {\n@Override\npublic  String[]  getFileExtensions()  {\nreturn  new  String[]  {  &quot;json&quot;  };\n}\n}\n</code></pre>\n<p><img src=\"https://i.imgur.com/Dy0ziit.png\" alt=\"enter image description here\" /></p>\n<ol start=\"4\">\n<li><em>Create a rest controller class with the below code:</em></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@SpringBootApplication\npublic  class  DemoApplication  {\n\n@Value(&quot;${testdata1}&quot;)\nprivate  String  testData1;\n\n@Value(&quot;#{${valuesMap}}&quot;)\nprivate  Map&lt;String,  Integer&gt;  valuesMap;\n\n@GetMapping(&quot;/&quot;)\npublic  String  echo()  {\nSystem.out.println(&quot;Iterating the map....&quot;);\nfor  (Map.Entry&lt;String,  Integer&gt;  entry  :  valuesMap.entrySet())  {\nSystem.out.println(&quot;Key = &quot;  +  entry.getKey()\n+  &quot;, Value = &quot;  +  entry.getValue());\n}\nreturn  testData1;\n}\npublic  static  void  main(String[]  args)  {\nSpringApplication.run(DemoApplication.class,  args);\n}\n}\n</code></pre>\n<p><strong>Response:</strong></p>\n<p>Fetching the value from json configuration file.</p>\n<p><img src=\"https://i.imgur.com/8aRqQTD.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Refer to my <a href=\"https://github.com/PravallikaKothaveerannagari/json_config\" rel=\"nofollow noreferrer\">github repo</a> for complete code.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693655933,"creation_date":1693655933,"answer_id":77028187,"question_id":76140441,"body_markdown":"I also tried to find a way to achieve this, but it doesn&#39;t look like there is a quick way to do this within spring.\r\n\r\nBut you can inject the variables using docker-compose.yml by specifying the environment variable:\r\n\r\n```\r\nAPPLICATIONINSIGHTS_CONNECTION_STRING: &quot;InstrumentationKey=...&quot;\r\n```\r\n\r\nSee [docs][1].\r\n\r\nSeem to works fine in docker-compose.yml but doesn&#39;t work when I specify in application.yml\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config","title":"Injecting Spring Boot application properties in JSON configuration file","body":"<p>I also tried to find a way to achieve this, but it doesn't look like there is a quick way to do this within spring.</p>\n<p>But you can inject the variables using docker-compose.yml by specifying the environment variable:</p>\n<pre><code>APPLICATIONINSIGHTS_CONNECTION_STRING: &quot;InstrumentationKey=...&quot;\n</code></pre>\n<p>See <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-standalone-config\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Seem to works fine in docker-compose.yml but doesn't work when I specify in application.yml</p>\n"}],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693655933,"creation_date":1682846071,"question_id":76140441,"body_markdown":"I am integrating Azure Application Insight service into my Spring Boot application.\r\n`src/main/resources/applicationinsights.json` is being used for configuration. Not sure how to inject environment variables into it.\r\nI tried this\r\n\r\n*applicationinsights.json*\r\n\r\n    {\r\n      &quot;connectionString&quot;: &quot;InstrumentationKey=${appInsightInstrumentationKey};IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/&quot;\r\n    }\r\nwhere `appInsightInstrumentationKey` is available as part of Spring environment variables.\r\n\r\nThis throws an error\r\n\r\n&gt; Illegal character in path \r\n&gt; at java.base/java.net.URI.create(URI.java:883)\r\n\tat reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:429)\r\n\r\n Which means the variables is not getting repalced by the actual vaule. Any suggestions are appreciated.","title":"Injecting Spring Boot application properties in JSON configuration file","body":"<p>I am integrating Azure Application Insight service into my Spring Boot application.\n<code>src/main/resources/applicationinsights.json</code> is being used for configuration. Not sure how to inject environment variables into it.\nI tried this</p>\n<p><em>applicationinsights.json</em></p>\n<pre><code>{\n  &quot;connectionString&quot;: &quot;InstrumentationKey=${appInsightInstrumentationKey};IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus.livediagnostics.monitor.azure.com/&quot;\n}\n</code></pre>\n<p>where <code>appInsightInstrumentationKey</code> is available as part of Spring environment variables.</p>\n<p>This throws an error</p>\n<blockquote>\n<p>Illegal character in path\nat java.base/java.net.URI.create(URI.java:883)\nat reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:429)</p>\n</blockquote>\n<p>Which means the variables is not getting repalced by the actual vaule. Any suggestions are appreciated.</p>\n"},{"tags":["java","lambda","inner-classes","final","java-8"],"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1389225398,"post_id":20938095,"comment_id":31575967,"body_markdown":"Lots of answers, yet all essentially amount to &quot;no difference.&quot; But is that really true? Unfortunately, I can&#39;t seem to find a Language Specification for Java 8.","body":"Lots of answers, yet all essentially amount to &quot;no difference.&quot; But is that really true? Unfortunately, I can&#39;t seem to find a Language Specification for Java 8."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":3,"creation_date":1433923659,"post_id":20938095,"comment_id":49555462,"body_markdown":"@AleksandrDubinsky https://docs.oracle.com/javase/specs/","body":"@AleksandrDubinsky <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs</a>"},{"owner":{"account_id":291407,"reputation":1525,"user_id":593533,"accept_rate":17,"display_name":"Henno Vermeulen"},"score":1,"creation_date":1445008750,"post_id":20938095,"comment_id":54155480,"body_markdown":"@AleksandrDubinsky not &quot;really&quot; true. I found one exception to this rule. A local variable initialized with a constant is not a constant expression to the compiler. You cannot use such a variable for a case in a switch/case until you explicitly add the final keyword. E.g. &quot;int k = 1; switch(someInt) { case k: ...&quot;.","body":"@AleksandrDubinsky not &quot;really&quot; true. I found one exception to this rule. A local variable initialized with a constant is not a constant expression to the compiler. You cannot use such a variable for a case in a switch/case until you explicitly add the final keyword. E.g. &quot;int k = 1; switch(someInt) { case k: ...&quot;."}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":82,"creation_date":1388953241,"post_id":20938132,"comment_id":31444339,"body_markdown":"+1 Note: if a reference is not changed it is effectively final even if the object referenced is changed.","body":"+1 Note: if a reference is not changed it is effectively final even if the object referenced is changed."},{"owner":{"account_id":2443695,"reputation":758,"user_id":2131563,"accept_rate":82,"display_name":"stanleyerror"},"score":0,"creation_date":1423200966,"post_id":20938132,"comment_id":45061271,"body_markdown":"@SURESH ATTA Why cannot a local class access a enclosing block&#39;s effectively final variable? Is there any way to change the variable (which is a reference or a primitive variable) in local class, if so it is no longer effectively final variable.","body":"@SURESH ATTA Why cannot a local class access a enclosing block&#39;s effectively final variable? Is there any way to change the variable (which is a reference or a primitive variable) in local class, if so it is no longer effectively final variable."},{"owner":{"display_name":"user801154"},"score":1,"creation_date":1444122405,"post_id":20938132,"comment_id":53756519,"body_markdown":"@stanleyerror This might be of some help: http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class","body":"@stanleyerror This might be of some help: <a href=\"http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class\" title=\"why are only final variables accessible in anonymous class\">stackoverflow.com/questions/4732544/&hellip;</a>"},{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":1,"creation_date":1445009476,"post_id":20938132,"comment_id":54155932,"body_markdown":"I think more useful than an example of *not* effectively final, is an example of when something *is* effectively final. Though the description does make it clear. Var need not be declared final if no code changes it&#39;s value.","body":"I think more useful than an example of <i>not</i> effectively final, is an example of when something <i>is</i> effectively final. Though the description does make it clear. Var need not be declared final if no code changes it&#39;s value."},{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":0,"creation_date":1448285486,"post_id":20938132,"comment_id":55508059,"body_markdown":"+1 for great answer. My favorite work-around is to use the java.util.concurrent.atomic.AtomicXxxxx classes when I get this error: https://github.com/GlenKPeterson/UncleJim/wiki/Usage-Tips#variable-used-in-lambda-expression-should-be-effectively-final","body":"+1 for great answer. My favorite work-around is to use the java.util.concurrent.atomic.AtomicXxxxx classes when I get this error: <a href=\"https://github.com/GlenKPeterson/UncleJim/wiki/Usage-Tips#variable-used-in-lambda-expression-should-be-effectively-final\" rel=\"nofollow noreferrer\">github.com/GlenKPeterson/UncleJim/wiki/&hellip;</a>"},{"owner":{"account_id":6718247,"reputation":909,"user_id":5179352,"accept_rate":42,"display_name":"Mike76"},"score":0,"creation_date":1472304337,"post_id":20938132,"comment_id":65704694,"body_markdown":"What is the benefit of using &quot;effectively final&quot; variables? If this does not give me more flexibility, I can use final variables anyway.","body":"What is the benefit of using &quot;effectively final&quot; variables? If this does not give me more flexibility, I can use final variables anyway."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1544147847,"post_id":20938132,"comment_id":94182647,"body_markdown":"@PeterLawrey You mean if the referenced object is mutated? What do you mean if the object referenced is changed?","body":"@PeterLawrey You mean if the referenced object is mutated? What do you mean if the object referenced is changed?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1544169707,"post_id":20938132,"comment_id":94188547,"body_markdown":"@KorayTugay if the object reference is changed, the reference itself is not changed.","body":"@KorayTugay if the object reference is changed, the reference itself is not changed."},{"owner":{"account_id":49766,"reputation":1746,"user_id":148320,"accept_rate":65,"display_name":"mykola"},"score":3,"creation_date":1562438032,"post_id":20938132,"comment_id":100376120,"body_markdown":"The example is incorrect. This code perfectly compiles (without dots, of course). To get the compiler error this code should be inside some method so that `numberLength` becomes a local variable of this method.","body":"The example is incorrect. This code perfectly compiles (without dots, of course). To get the compiler error this code should be inside some method so that <code>numberLength</code> becomes a local variable of this method."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1579005077,"post_id":20938132,"comment_id":105616356,"body_markdown":"Is there a reason why this example is so complicated? Why is the majority of the code dealing with an entirely irrelevant regex operation? And, as @mykola already said, it’s completely missing the mark regarding the *effective final* property, as that is only relevant to local variables and there is no local variable in this example.","body":"Is there a reason why this example is so complicated? Why is the majority of the code dealing with an entirely irrelevant regex operation? And, as @mykola already said, it’s completely missing the mark regarding the <i>effective final</i> property, as that is only relevant to local variables and there is no local variable in this example."}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":10,"down_vote_count":5,"up_vote_count":258,"is_accepted":true,"score":253,"last_activity_date":1533312780,"creation_date":1388950364,"answer_id":20938132,"question_id":20938095,"body_markdown":"&gt; ... starting in Java SE 8, a local class can access local variables and parameters of the enclosing block that are final or effectively final. **A variable or parameter whose value is never changed after it is initialized is effectively final.**\r\n\r\n For example, suppose that the variable `numberLength` is not declared final, and you add the marked assignment statement in the `PhoneNumber` constructor:\r\n\r\n\r\n    public class OutterClass {  \r\n\r\n      int numberLength; // &lt;== not *final*\r\n\r\n      class PhoneNumber {\r\n\r\n        PhoneNumber(String phoneNumber) {\r\n            numberLength = 7;   // &lt;== assignment to numberLength\r\n            String currentNumber = phoneNumber.replaceAll(\r\n                regularExpression, &quot;&quot;);\r\n            if (currentNumber.length() == numberLength)\r\n                formattedPhoneNumber = currentNumber;\r\n            else\r\n                formattedPhoneNumber = null;\r\n         }\r\n      \r\n      ...\r\n\r\n      }\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nBecause of this assignment statement, the variable numberLength is not effectively final anymore. **As a result, the Java compiler generates an error message similar to &quot;local variables referenced from an inner class must be final or effectively final&quot;** where the inner class PhoneNumber tries to access the numberLength variable:\r\n\r\nhttp://codeinventions.blogspot.in/2014/07/difference-between-final-and.html\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\r\n\r\n","title":"Difference between final and effectively final","body":"<blockquote>\n  <p>... starting in Java SE 8, a local class can access local variables and parameters of the enclosing block that are final or effectively final. <strong>A variable or parameter whose value is never changed after it is initialized is effectively final.</strong></p>\n</blockquote>\n\n<p>For example, suppose that the variable <code>numberLength</code> is not declared final, and you add the marked assignment statement in the <code>PhoneNumber</code> constructor:</p>\n\n<pre><code>public class OutterClass {  \n\n  int numberLength; // &lt;== not *final*\n\n  class PhoneNumber {\n\n    PhoneNumber(String phoneNumber) {\n        numberLength = 7;   // &lt;== assignment to numberLength\n        String currentNumber = phoneNumber.replaceAll(\n            regularExpression, \"\");\n        if (currentNumber.length() == numberLength)\n            formattedPhoneNumber = currentNumber;\n        else\n            formattedPhoneNumber = null;\n     }\n\n  ...\n\n  }\n\n...\n\n}\n</code></pre>\n\n<p>Because of this assignment statement, the variable numberLength is not effectively final anymore. <strong>As a result, the Java compiler generates an error message similar to \"local variables referenced from an inner class must be final or effectively final\"</strong> where the inner class PhoneNumber tries to access the numberLength variable:</p>\n\n<p><a href=\"http://codeinventions.blogspot.in/2014/07/difference-between-final-and.html\" rel=\"noreferrer\">http://codeinventions.blogspot.in/2014/07/difference-between-final-and.html</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html</a></p>\n"},{"comments":[{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala -- Слава Україні"},"score":0,"creation_date":1420138020,"post_id":20938195,"comment_id":43878668,"body_markdown":"The docs talk about local variables. `bar` in your example is not a local variaable, but a field. &quot;Effectively final&quot; in the error message as above does not apply to fields at all.","body":"The docs talk about local variables. <code>bar</code> in your example is not a local variaable, but a field. &quot;Effectively final&quot; in the error message as above does not apply to fields at all."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":6,"creation_date":1455230529,"post_id":20938195,"comment_id":58410339,"body_markdown":"@AnttiHaapala `bar` is a parameter here, not a field.","body":"@AnttiHaapala <code>bar</code> is a parameter here, not a field."}],"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":2,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1455230393,"creation_date":1388950656,"answer_id":20938195,"question_id":20938095,"body_markdown":"According to the [docs](http://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html#accessing-members-of-an-enclosing-class):\r\n\r\n&gt; A variable or parameter whose value is never changed after it is initialized is effectively final.\r\n\r\nBasically, if the compiler finds a variable does not appear in assignments outside of its initialization, then the variable is considered *effectively final*.\r\n\r\nFor example, consider some class:\r\n\r\n    public class Foo {\r\n\r\n        public void baz(int bar) {\r\n            // While the next line is commented, bar is effectively final\r\n            // and while it is uncommented, the assignment means it is not\r\n            // effectively final.\r\n\r\n            // bar = 2;\r\n        }\r\n    }","title":"Difference between final and effectively final","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html#accessing-members-of-an-enclosing-class\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>A variable or parameter whose value is never changed after it is initialized is effectively final.</p>\n</blockquote>\n\n<p>Basically, if the compiler finds a variable does not appear in assignments outside of its initialization, then the variable is considered <em>effectively final</em>.</p>\n\n<p>For example, consider some class:</p>\n\n<pre><code>public class Foo {\n\n    public void baz(int bar) {\n        // While the next line is commented, bar is effectively final\n        // and while it is uncommented, the assignment means it is not\n        // effectively final.\n\n        // bar = 2;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043462,"reputation":1717,"user_id":2579839,"accept_rate":27,"display_name":"Girish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409035499,"creation_date":1388951597,"answer_id":20938364,"question_id":20938095,"body_markdown":"    public class LambdaScopeTest {\r\n        public int x = 0;        \r\n        class FirstLevel {\r\n            public int x = 1;    \r\n            void methodInFirstLevel(int x) {\r\n                \r\n                // The following statement causes the compiler to generate\r\n                // the error &quot;local variables referenced from a lambda expression\r\n                // must be final or effectively final&quot; in statement A:\r\n                //\r\n                // x = 99; \r\n                \r\n            }\r\n        }    \r\n    }\r\n\r\n\r\n\r\nAs others have said, a variable or parameter whose value is never changed after it is initialized is effectively final. In the above code, if you change the value of `x` in inner class `FirstLevel` then the compiler will give you the error message:\r\n    \r\n&gt; Local variables referenced from a lambda expression must be final or effectively final.\r\n","title":"Difference between final and effectively final","body":"<pre><code>public class LambdaScopeTest {\n    public int x = 0;        \n    class FirstLevel {\n        public int x = 1;    \n        void methodInFirstLevel(int x) {\n\n            // The following statement causes the compiler to generate\n            // the error \"local variables referenced from a lambda expression\n            // must be final or effectively final\" in statement A:\n            //\n            // x = 99; \n\n        }\n    }    \n}\n</code></pre>\n\n<p>As others have said, a variable or parameter whose value is never changed after it is initialized is effectively final. In the above code, if you change the value of <code>x</code> in inner class <code>FirstLevel</code> then the compiler will give you the error message:</p>\n\n<blockquote>\n  <p>Local variables referenced from a lambda expression must be final or effectively final.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":99786,"reputation":2155,"user_id":269361,"accept_rate":79,"display_name":"fool4jesus"},"score":4,"creation_date":1433772596,"post_id":20940888,"comment_id":49480140,"body_markdown":"This is true, as long as the understanding of java 8&#39;s &quot;final&quot; is well understood. Otherwise I&#39;d look at a variable not declared final that you made an assignment to later, and erroneously think it wasn&#39;t final. You might say &quot;of course&quot;... but not everybody pays as much attention to the latest language version changes as they ought.","body":"This is true, as long as the understanding of java 8&#39;s &quot;final&quot; is well understood. Otherwise I&#39;d look at a variable not declared final that you made an assignment to later, and erroneously think it wasn&#39;t final. You might say &quot;of course&quot;... but not everybody pays as much attention to the latest language version changes as they ought."},{"owner":{"account_id":291407,"reputation":1525,"user_id":593533,"accept_rate":17,"display_name":"Henno Vermeulen"},"score":9,"creation_date":1445008639,"post_id":20940888,"comment_id":54155393,"body_markdown":"One exception to this rule is that a local variable initialized with a constant is not a constant expression to the compiler. You cannot use such a variable for a case in a switch/case until you explicitly add the final keyword. E.g. &quot;int k = 1; switch(someInt) { case k: ...&quot;.","body":"One exception to this rule is that a local variable initialized with a constant is not a constant expression to the compiler. You cannot use such a variable for a case in a switch/case until you explicitly add the final keyword. E.g. &quot;int k = 1; switch(someInt) { case k: ...&quot;."},{"owner":{"account_id":971697,"reputation":11554,"user_id":994153,"display_name":"Colin D Bennett"},"score":2,"creation_date":1522782014,"post_id":20940888,"comment_id":86282334,"body_markdown":"@HennoVermeulen switch-case is not an exception to the rule in this answer.  The language specifies that `case k` requires a _constant expression_ which could be a _constant variable_ (&quot;A constant variable is a final variable of primitive type or type String that is initialized with a constant expression&quot; [JLS 4.12.4](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4)) which is a special case of a final variable.","body":"@HennoVermeulen switch-case is not an exception to the rule in this answer.  The language specifies that <code>case k</code> requires a <i>constant expression</i> which could be a <i>constant variable</i> (&quot;A constant variable is a final variable of primitive type or type String that is initialized with a constant expression&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">JLS 4.12.4</a>) which is a special case of a final variable."},{"owner":{"account_id":291407,"reputation":1525,"user_id":593533,"accept_rate":17,"display_name":"Henno Vermeulen"},"score":3,"creation_date":1533303317,"post_id":20940888,"comment_id":90310530,"body_markdown":"In my example the compiler complains that k is not a constant expression so it cannot be used for the switch. When adding final, compilation behavior changes because it is now a constant variable and it can be used in the switch. So you are right: the rule is still correct. It simply does not apply to this example and does not say whether k is effectively final or not.","body":"In my example the compiler complains that k is not a constant expression so it cannot be used for the switch. When adding final, compilation behavior changes because it is now a constant variable and it can be used in the switch. So you are right: the rule is still correct. It simply does not apply to this example and does not say whether k is effectively final or not."}],"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"comment_count":4,"down_vote_count":1,"up_vote_count":146,"is_accepted":false,"score":145,"last_activity_date":1533310428,"creation_date":1388966838,"answer_id":20940888,"question_id":20938095,"body_markdown":"I find the simplest way to explain &quot;effectively final&quot; is to imagine adding the `final` modifier to a variable declaration. If, with this change, the program continues to behave in the same way, both at compile time and at run time, then that variable is effectively final.","title":"Difference between final and effectively final","body":"<p>I find the simplest way to explain \"effectively final\" is to imagine adding the <code>final</code> modifier to a variable declaration. If, with this change, the program continues to behave in the same way, both at compile time and at run time, then that variable is effectively final.</p>\n"},{"comments":[{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala -- Слава Україні"},"score":2,"creation_date":1420137206,"post_id":25650441,"comment_id":43878417,"body_markdown":"The statement refers to the fact that in &lt;Java 8, *only* `final` variables can be accessed, but in Java 8 *also* those that are *effectively* final.","body":"The statement refers to the fact that in &lt;Java 8, <i>only</i> <code>final</code> variables can be accessed, but in Java 8 <i>also</i> those that are <i>effectively</i> final."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1440148395,"post_id":25650441,"comment_id":52163344,"body_markdown":"I only see code which doesn’t work, regardless of whether you are using Java&#160;7 or Java&#160;8.","body":"I only see code which doesn’t work, regardless of whether you are using Java 7 or Java 8."}],"tags":[],"owner":{"account_id":981251,"reputation":691,"user_id":1000908,"accept_rate":71,"display_name":"FiruzzZ"},"comment_count":2,"down_vote_count":8,"up_vote_count":2,"is_accepted":false,"score":-6,"last_activity_date":1446202445,"creation_date":1409765753,"answer_id":25650441,"question_id":20938095,"body_markdown":"&gt;However, starting in Java SE 8, a local class can access local variables and parameters of the &gt;enclosing block that are final or effectively final.\r\n\r\nThis didn&#39;t start on Java 8, I use this since long time.\r\nThis code used (before java 8) to be legal:\r\n\r\n    String str = &quot;&quot;; //&lt;-- not accesible from anonymous classes implementation\r\n    final String strFin = &quot;&quot;; //&lt;-- accesible \r\n    button.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n             String ann = str; // &lt;---- error, must be final (IDE&#39;s gives the hint);\r\n             String ann = strFin; // &lt;---- legal;\r\n             String str = &quot;legal statement on java 7,&quot;\r\n                    +&quot;Java 8 doesn&#39;t allow this, it thinks that I&#39;m trying to use the str declared before the anonymous impl.&quot;; \r\n             //we are forced to use another name than str\r\n        }\r\n    );","title":"Difference between final and effectively final","body":"<blockquote>\n  <p>However, starting in Java SE 8, a local class can access local variables and parameters of the >enclosing block that are final or effectively final.</p>\n</blockquote>\n\n<p>This didn't start on Java 8, I use this since long time.\nThis code used (before java 8) to be legal:</p>\n\n<pre><code>String str = \"\"; //&lt;-- not accesible from anonymous classes implementation\nfinal String strFin = \"\"; //&lt;-- accesible \nbutton.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n         String ann = str; // &lt;---- error, must be final (IDE's gives the hint);\n         String ann = strFin; // &lt;---- legal;\n         String str = \"legal statement on java 7,\"\n                +\"Java 8 doesn't allow this, it thinks that I'm trying to use the str declared before the anonymous impl.\"; \n         //we are forced to use another name than str\n    }\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485703275,"creation_date":1440088068,"answer_id":32123550,"question_id":20938095,"body_markdown":"When a lambda expression uses an assigned local variable from its enclosing space there is an important restriction. A lambda expression may only use local variable whose value doesn&#39;t change. That restriction is referred as &quot;**variable capture**&quot; which is described as; *lambda expression capture values, not variables*. &lt;br/&gt;\r\nThe local variables that a lambda expression may use are known as &quot;**effectively final**&quot;. &lt;br/&gt;\r\nAn effectively final variable is one whose value does not change after it is first assigned. There is no need to explicitly declare such a variable as final, although doing so would not be an error.&lt;br/&gt;\r\nLet&#39;s see it with an example, we have a local variable i which is initialized with the value 7, with in the lambda expression we are trying to change that value by assigning a new value to i. This will result in compiler error - &quot;*Local variable i defined in an enclosing scope must be final or effectively final*&quot;\r\n\r\n    @FunctionalInterface\r\n    interface IFuncInt {\r\n        int func(int num1, int num2);\r\n        public String toString();\r\n    }\r\n    \r\n    public class LambdaVarDemo {\r\n    \r\n    \tpublic static void main(String[] args){\t\t\t\t\r\n    \t\tint i = 7;\r\n    \t\tIFuncInt funcInt = (num1, num2) -&gt; {\r\n    \t\t\ti = num1 + num2;\r\n    \t\t\treturn i;\r\n    \t\t};\r\n    \t}\t\r\n    }\r\n","title":"Difference between final and effectively final","body":"<p>When a lambda expression uses an assigned local variable from its enclosing space there is an important restriction. A lambda expression may only use local variable whose value doesn't change. That restriction is referred as \"<strong>variable capture</strong>\" which is described as; <em>lambda expression capture values, not variables</em>. <br/>\nThe local variables that a lambda expression may use are known as \"<strong>effectively final</strong>\". <br/>\nAn effectively final variable is one whose value does not change after it is first assigned. There is no need to explicitly declare such a variable as final, although doing so would not be an error.<br/>\nLet's see it with an example, we have a local variable i which is initialized with the value 7, with in the lambda expression we are trying to change that value by assigning a new value to i. This will result in compiler error - \"<em>Local variable i defined in an enclosing scope must be final or effectively final</em>\"</p>\n\n<pre><code>@FunctionalInterface\ninterface IFuncInt {\n    int func(int num1, int num2);\n    public String toString();\n}\n\npublic class LambdaVarDemo {\n\n    public static void main(String[] args){             \n        int i = 7;\n        IFuncInt funcInt = (num1, num2) -&gt; {\n            i = num1 + num2;\n            return i;\n        };\n    }   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3316004,"reputation":1326,"user_id":2788374,"accept_rate":25,"display_name":"lcfd"},"score":3,"creation_date":1523431577,"post_id":33726267,"comment_id":86552953,"body_markdown":"this answer is shown as a quote, however there is no such exact text in Brian&#39;s article, for sure not the word _appended_. This is a quote instead: _Informally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure._","body":"this answer is shown as a quote, however there is no such exact text in Brian&#39;s article, for sure not the word <i>appended</i>. This is a quote instead: <i>Informally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure.</i>"},{"owner":{"account_id":210996,"reputation":8398,"user_id":462923,"accept_rate":76,"display_name":"Ajeet Ganga"},"score":0,"creation_date":1523930428,"post_id":33726267,"comment_id":86752938,"body_markdown":"From the article verbatim copy:\n\nInformally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure.","body":"From the article verbatim copy:  Informally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure."}],"tags":[],"owner":{"account_id":210996,"reputation":8398,"user_id":462923,"accept_rate":76,"display_name":"Ajeet Ganga"},"comment_count":2,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1559779696,"creation_date":1447629280,"answer_id":33726267,"question_id":20938095,"body_markdown":"&#39;Effectively final&#39; is a variable which would not give compiler error if it were to be appended by &#39;final&#39;\r\n\r\nFrom a article by &#39;Brian Goetz&#39;,\r\n\r\n&gt; Informally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure.\r\n\r\n[lambda-state-final- Brian Goetz][1]\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-final.html","title":"Difference between final and effectively final","body":"<p>'Effectively final' is a variable which would not give compiler error if it were to be appended by 'final'</p>\n\n<p>From a article by 'Brian Goetz',</p>\n\n<blockquote>\n  <p>Informally, a local variable is effectively final if its initial value is never changed -- in other words, declaring it final would not cause a compilation failure.</p>\n</blockquote>\n\n<p><a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-final.html\" rel=\"noreferrer\">lambda-state-final- Brian Goetz</a></p>\n"},{"tags":[],"owner":{"account_id":4774641,"reputation":3150,"user_id":3858203,"accept_rate":30,"display_name":"samadadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1576557672,"creation_date":1449503786,"answer_id":34137804,"question_id":20938095,"body_markdown":"A variable is **final** or **effectively final** when **it&#39;s initialized once** and it&#39;s never **mutated** in its owner class. And we **can&#39;t initialize** it in **loops** or **inner classes**.\r\n\r\n**Final**:\r\n\r\n    final int number;\r\n    number = 23;\r\n\r\n**Effectively Final**:\r\n\r\n    int number;\r\n    number = 34;\r\n\r\n&gt; **Note**: **Final** and **Effective Final** are similar(Their value don&#39;t change after assignment) but just that effective Final variables\r\n&gt; are not declared with Keyword `final`.","title":"Difference between final and effectively final","body":"<p>A variable is <strong>final</strong> or <strong>effectively final</strong> when <strong>it's initialized once</strong> and it's never <strong>mutated</strong> in its owner class. And we <strong>can't initialize</strong> it in <strong>loops</strong> or <strong>inner classes</strong>.</p>\n\n<p><strong>Final</strong>:</p>\n\n<pre><code>final int number;\nnumber = 23;\n</code></pre>\n\n<p><strong>Effectively Final</strong>:</p>\n\n<pre><code>int number;\nnumber = 34;\n</code></pre>\n\n<blockquote>\n  <p><strong>Note</strong>: <strong>Final</strong> and <strong>Effective Final</strong> are similar(Their value don't change after assignment) but just that effective Final variables\n  are not declared with Keyword <code>final</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4622947,"reputation":1014,"user_id":3747493,"accept_rate":58,"display_name":"superigno"},"score":0,"creation_date":1574210684,"post_id":41305318,"comment_id":104148328,"body_markdown":"As simple as the answer should be.","body":"As simple as the answer should be."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":2,"creation_date":1589584968,"post_id":41305318,"comment_id":109362342,"body_markdown":"@Eurig, Citation required for &quot;all variables are final by default&quot;.","body":"@Eurig, Citation required for &quot;all variables are final by default&quot;."},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":1,"creation_date":1604528113,"post_id":41305318,"comment_id":114377808,"body_markdown":"Why are they then final by default when we can change their value easily and &quot;overwrite&quot; effectively final concept?","body":"Why are they then final by default when we can change their value easily and &quot;overwrite&quot; effectively final concept?"},{"owner":{"account_id":46297,"reputation":2454,"user_id":136698,"display_name":"christopheml"},"score":0,"creation_date":1686062707,"post_id":41305318,"comment_id":134745942,"body_markdown":"The statement &quot;in Java 8, all variables are final by default&quot; is not only misleading, it&#39;s plain wrong. Variables by default can be reassigned without restriction, thus are not final.","body":"The statement &quot;in Java 8, all variables are final by default&quot; is not only misleading, it&#39;s plain wrong. Variables by default can be reassigned without restriction, thus are not final."}],"tags":[],"owner":{"account_id":122791,"reputation":8286,"user_id":316825,"accept_rate":73,"display_name":"Eurig Jones"},"comment_count":4,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1496533099,"creation_date":1482512847,"answer_id":41305318,"question_id":20938095,"body_markdown":"This variable below is **final**, so we can&#39;t change it&#39;s value once initialised. If we try to we&#39;ll get a compilation error...\r\n\r\n    final int variable = 123;\r\n\r\nBut if we create a variable like this, we can change it&#39;s value...\r\n\r\n    int variable = 123;\r\n    variable = 456;\r\n\r\nBut in **Java 8**, all variables are **final** by default. But the existence of the 2nd line in the code makes it **non-final**. So if we remove the 2nd line from the above code, our variable is now **&quot;effectively final&quot;**...\r\n\r\n    int variable = 123;\r\n\r\nSo.. **Any variable that is assigned once and only once, is &quot;effectively final&quot;**.","title":"Difference between final and effectively final","body":"<p>This variable below is <strong>final</strong>, so we can't change it's value once initialised. If we try to we'll get a compilation error...</p>\n\n<pre><code>final int variable = 123;\n</code></pre>\n\n<p>But if we create a variable like this, we can change it's value...</p>\n\n<pre><code>int variable = 123;\nvariable = 456;\n</code></pre>\n\n<p>But in <strong>Java 8</strong>, all variables are <strong>final</strong> by default. But the existence of the 2nd line in the code makes it <strong>non-final</strong>. So if we remove the 2nd line from the above code, our variable is now <strong>\"effectively final\"</strong>...</p>\n\n<pre><code>int variable = 123;\n</code></pre>\n\n<p>So.. <strong>Any variable that is assigned once and only once, is \"effectively final\"</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532412019,"creation_date":1497108758,"answer_id":44475074,"question_id":20938095,"body_markdown":"&gt; If you could add the `final` modifier to a local variable, it was\r\n&gt; *effectively final.*\r\n\r\nLambda expressions can access \r\n\r\n - static variables, \r\n\r\n - instance variables,\r\n -  effectively final\r\nmethod parameters, and \r\n\r\n - effectively final\r\nlocal variables.\r\n\r\nSource: [OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide, Jeanne Boyarsky, Scott Selikoff][1]\r\n\r\nAdditionally, \r\n\r\n&gt; An `effectively final` variable is a variable whose value is never\r\n&gt; changed, but it isn’t declared with the `final` keyword.\r\n\r\nSource: [Starting Out with Java: From Control Structures through Objects (6th Edition), Tony Gaddis][2]\r\n\r\nFurthermore, don&#39;t forget the meaning of `final` that  it is initialized exactly once before it is used for the first time.\r\n\r\n\r\n  [1]: http://eu.wiley.com/WileyCDA/WileyTitle/productCd-1119067901.html\r\n  [2]: https://www.amazon.com/Starting-Out-Java-Control-Structures/dp/0133957055","title":"Difference between final and effectively final","body":"<blockquote>\n  <p>If you could add the <code>final</code> modifier to a local variable, it was\n  <em>effectively final.</em></p>\n</blockquote>\n\n<p>Lambda expressions can access </p>\n\n<ul>\n<li><p>static variables, </p></li>\n<li><p>instance variables,</p></li>\n<li><p>effectively final\nmethod parameters, and </p></li>\n<li><p>effectively final\nlocal variables.</p></li>\n</ul>\n\n<p>Source: <a href=\"http://eu.wiley.com/WileyCDA/WileyTitle/productCd-1119067901.html\" rel=\"nofollow noreferrer\">OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide, Jeanne Boyarsky, Scott Selikoff</a></p>\n\n<p>Additionally, </p>\n\n<blockquote>\n  <p>An <code>effectively final</code> variable is a variable whose value is never\n  changed, but it isn’t declared with the <code>final</code> keyword.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0133957055\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Starting Out with Java: From Control Structures through Objects (6th Edition), Tony Gaddis</a></p>\n\n<p>Furthermore, don't forget the meaning of <code>final</code> that  it is initialized exactly once before it is used for the first time.</p>\n"},{"tags":[],"owner":{"account_id":9738949,"reputation":328,"user_id":7221261,"display_name":"Novdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524630292,"creation_date":1524630292,"answer_id":50014052,"question_id":20938095,"body_markdown":"*Effective final* topic is described in [JLS 4.12.4][1] and the last paragraph consists a clear explanation:\r\n\r\n&gt; If a variable is effectively final, adding the final modifier to its declaration will not introduce any compile-time errors. Conversely, a local variable or parameter that is declared final in a valid program becomes effectively final if the final modifier is removed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12","title":"Difference between final and effectively final","body":"<p><em>Effective final</em> topic is described in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12\" rel=\"nofollow noreferrer\">JLS 4.12.4</a> and the last paragraph consists a clear explanation:</p>\n\n<blockquote>\n  <p>If a variable is effectively final, adding the final modifier to its declaration will not introduce any compile-time errors. Conversely, a local variable or parameter that is declared final in a valid program becomes effectively final if the final modifier is removed.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1559772715,"post_id":52776382,"comment_id":99528844,"body_markdown":"This is incorrect according to the Java Language Specification: &quot;_Whenever_ it occurs as the left hand side in an assignment expression, it is definitely unassigned and not definitely assigned before the assignment.&quot; A variable/parameter is either always or never effectively final. More explicitly, if you cannot add the `final` keyword to a declaration without introducing compile errors, then it is not _effectively final_. It is the contrapositive of this statement: &quot;If a variable is effectively final, adding the final modifier to its declaration will not introduce any compile-time errors.&quot;","body":"This is incorrect according to the Java Language Specification: &quot;<i>Whenever</i> it occurs as the left hand side in an assignment expression, it is definitely unassigned and not definitely assigned before the assignment.&quot; A variable/parameter is either always or never effectively final. More explicitly, if you cannot add the <code>final</code> keyword to a declaration without introducing compile errors, then it is not <i>effectively final</i>. It is the contrapositive of this statement: &quot;If a variable is effectively final, adding the final modifier to its declaration will not introduce any compile-time errors.&quot;"},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1560300140,"post_id":52776382,"comment_id":99687917,"body_markdown":"The comments in the example code are incorrect for all the reasons described in my comment. &quot;Effectively final&quot; is not a state that can change over time.","body":"The comments in the example code are incorrect for all the reasons described in my comment. &quot;Effectively final&quot; is not a state that can change over time."},{"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"score":0,"creation_date":1560593252,"post_id":52776382,"comment_id":99793788,"body_markdown":"@AndrewF if it does not change over time, what do you think the last line does not compile? rem was effectively final on line 1 in calculate method . However, on the last line, the compiler complains that rem is not effectively final","body":"@AndrewF if it does not change over time, what do you think the last line does not compile? rem was effectively final on line 1 in calculate method . However, on the last line, the compiler complains that rem is not effectively final"},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1560803184,"post_id":52776382,"comment_id":99847829,"body_markdown":"You are correct that some of the code needs to be removed from your code block in order to compile, but that doesn&#39;t reflect runtime behavior. At compile time, you can decide whether a variable is effectively final or not -- based on the spec, it is either _always_ effectively final, or it is _never_ effectively final. The compiler can tell by statically looking at how the variable is used throughout its scope. The property cannot be gained or lost as the program runs. The term is well-defined by the spec -- check out the other answers, which explain it pretty well.","body":"You are correct that some of the code needs to be removed from your code block in order to compile, but that doesn&#39;t reflect runtime behavior. At compile time, you can decide whether a variable is effectively final or not -- based on the spec, it is either <i>always</i> effectively final, or it is <i>never</i> effectively final. The compiler can tell by statically looking at how the variable is used throughout its scope. The property cannot be gained or lost as the program runs. The term is well-defined by the spec -- check out the other answers, which explain it pretty well."}],"tags":[],"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1633193316,"creation_date":1539336266,"answer_id":52776382,"question_id":20938095,"body_markdown":"**final** is a variable declare with key word `final` , example:  \r\n\r\n    final double pi = 3.14 ;\r\nit remains `final` through out the program, changing pi after this line is never allowed. \r\n\r\n**effectively final** : any local variable or parameter that is assigned a value only once right now(or updated only once). It may not remain *effectively final* throughout the program. so this means that **effectively final** variable might loses its effectively final property after immediately the time it gets assigned/updated at least one more assignment. example:\r\n\r\n    class EffectivelyFinal {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tcalculate(124,53);\r\n    \t}\r\n    \t\r\n    \tpublic static void calculate( int operand1, int operand2){   \r\n    \t int rem = 0;  // \toperand1, operand2 and rem are effectively final here\r\n    \t rem = operand1%2  // rem lost its effectively final property here because it gets its second assignment \r\n    \t                   // operand1, operand2 are still effectively final here \r\n    \t\tclass operators{\r\n    \r\n    \t\t\tvoid setNum(){\r\n    \t\t\t\toperand1 =   operand2%2;  // operand1 lost its effectively final property here because it gets its second assignment\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tint add(){\r\n    \t\t\t\treturn rem + operand2;  // does not compile because rem is not effectively final\r\n    \t\t\t}\r\n    \t\t\tint multiply(){\r\n    \t\t\t\treturn rem * operand1;  // does not compile because both rem and operand1 are not effectively final\r\n    \t\t\t}\r\n    \t\t}\t\r\n       }\t\r\n    }","title":"Difference between final and effectively final","body":"<p><strong>final</strong> is a variable declare with key word <code>final</code> , example:</p>\n<pre><code>final double pi = 3.14 ;\n</code></pre>\n<p>it remains <code>final</code> through out the program, changing pi after this line is never allowed.</p>\n<p><strong>effectively final</strong> : any local variable or parameter that is assigned a value only once right now(or updated only once). It may not remain <em>effectively final</em> throughout the program. so this means that <strong>effectively final</strong> variable might loses its effectively final property after immediately the time it gets assigned/updated at least one more assignment. example:</p>\n<pre><code>class EffectivelyFinal {\n    \n    public static void main(String[] args) {\n        calculate(124,53);\n    }\n    \n    public static void calculate( int operand1, int operand2){   \n     int rem = 0;  //   operand1, operand2 and rem are effectively final here\n     rem = operand1%2  // rem lost its effectively final property here because it gets its second assignment \n                       // operand1, operand2 are still effectively final here \n        class operators{\n\n            void setNum(){\n                operand1 =   operand2%2;  // operand1 lost its effectively final property here because it gets its second assignment\n            }\n            \n            int add(){\n                return rem + operand2;  // does not compile because rem is not effectively final\n            }\n            int multiply(){\n                return rem * operand1;  // does not compile because both rem and operand1 are not effectively final\n            }\n        }   \n   }    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1559772151,"post_id":53318765,"comment_id":99528692,"body_markdown":"I would consider this a compiler inefficiency, and not necessarily one that would still be true in newer compilers. In a perfect compile, if a variable is effectively final then it will generate all the exact same optimizations as one declared final. So don&#39;t rely on the notion that effectively final is automatically slower than declaring something final.","body":"I would consider this a compiler inefficiency, and not necessarily one that would still be true in newer compilers. In a perfect compile, if a variable is effectively final then it will generate all the exact same optimizations as one declared final. So don&#39;t rely on the notion that effectively final is automatically slower than declaring something final."},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1559798357,"post_id":53318765,"comment_id":99533364,"body_markdown":"@AndrewF Generally you&#39;re right, the behaviour may change. That&#39;s why I wrote &quot;_may result (depends on compiler) in different bytecode_&quot;. Only because of the missing optimization (different bytecode) I wouldn&#39;t assume the execution to be slower. But it&#39;s still a difference in the case shown.","body":"@AndrewF Generally you&#39;re right, the behaviour may change. That&#39;s why I wrote &quot;<i>may result (depends on compiler) in different bytecode</i>&quot;. Only because of the missing optimization (different bytecode) I wouldn&#39;t assume the execution to be slower. But it&#39;s still a difference in the case shown."}],"tags":[],"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542282293,"creation_date":1542282293,"answer_id":53318765,"question_id":20938095,"body_markdown":"Declaring a variable `final` or not declaring it `final`, but keeping it *effectively final* may result (depends on compiler) in different bytecode.\r\n\r\nLet&#39;s have a look on a small example:\r\n\r\n        public static void main(String[] args) {\r\n            final boolean i = true;   // 6  // final by declaration\r\n            boolean j = true;         // 7  // effectively final\r\n            \r\n            if (i) {                  // 9\r\n                System.out.println(i);// 10\r\n            }\r\n            if (!i) {                 // 12\r\n                System.out.println(i);// 13\r\n            }\r\n            if (j) {                  // 15\r\n                System.out.println(j);// 16\r\n            }\r\n            if (!j) {                 // 18\r\n                System.out.println(j);// 19\r\n            }\r\n        }\r\n\r\nThe corresponding bytecode of the `main` method (Java 8u161 on Windows 64 Bit):\r\n\r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: iconst_1\r\n           1: istore_1\r\n           2: iconst_1\r\n           3: istore_2\r\n           4: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n           7: iconst_1\r\n           8: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\r\n          11: iload_2\r\n          12: ifeq          22\r\n          15: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          18: iload_2\r\n          19: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\r\n          22: iload_2\r\n          23: ifne          33\r\n          26: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          29: iload_2\r\n          30: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\r\n          33: return\r\n\r\nThe corresponding line number table:\r\n\r\n     LineNumberTable:\r\n       line 6: 0\r\n       line 7: 2\r\n       line 10: 4\r\n       line 15: 11\r\n       line 16: 15\r\n       line 18: 22\r\n       line 19: 26\r\n       line 21: 33\r\n\r\nAs we see the source code at lines `12`, `13`, `14` doesn&#39;t appear in the byte code. That&#39;s because `i` is `true` and will not change it&#39;s state. Thus this code is unreachable (more in this [answer][1]). For the same reason the code at line `9` misses too. The state of `i` doesn&#39;t have to be evaluated since it is `true` for sure.\r\n\r\nOn the other hand though the variable `j` is *effectively final* it&#39;s not processed in the same way. There are no such optimizations applied. The state of `j` is evaluated two times. The bytecode is the same regardless of `j` being *effectively final*.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17335215/2838289","title":"Difference between final and effectively final","body":"<p>Declaring a variable <code>final</code> or not declaring it <code>final</code>, but keeping it <em>effectively final</em> may result (depends on compiler) in different bytecode.</p>\n\n<p>Let's have a look on a small example:</p>\n\n<pre><code>    public static void main(String[] args) {\n        final boolean i = true;   // 6  // final by declaration\n        boolean j = true;         // 7  // effectively final\n\n        if (i) {                  // 9\n            System.out.println(i);// 10\n        }\n        if (!i) {                 // 12\n            System.out.println(i);// 13\n        }\n        if (j) {                  // 15\n            System.out.println(j);// 16\n        }\n        if (!j) {                 // 18\n            System.out.println(j);// 19\n        }\n    }\n</code></pre>\n\n<p>The corresponding bytecode of the <code>main</code> method (Java 8u161 on Windows 64 Bit):</p>\n\n<pre><code>  public static void main(java.lang.String[]);\n    Code:\n       0: iconst_1\n       1: istore_1\n       2: iconst_1\n       3: istore_2\n       4: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\n       7: iconst_1\n       8: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\n      11: iload_2\n      12: ifeq          22\n      15: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\n      18: iload_2\n      19: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\n      22: iload_2\n      23: ifne          33\n      26: getstatic     #16                 // Field java/lang/System.out:Ljava/io/PrintStream;\n      29: iload_2\n      30: invokevirtual #22                 // Method java/io/PrintStream.println:(Z)V\n      33: return\n</code></pre>\n\n<p>The corresponding line number table:</p>\n\n<pre><code> LineNumberTable:\n   line 6: 0\n   line 7: 2\n   line 10: 4\n   line 15: 11\n   line 16: 15\n   line 18: 22\n   line 19: 26\n   line 21: 33\n</code></pre>\n\n<p>As we see the source code at lines <code>12</code>, <code>13</code>, <code>14</code> doesn't appear in the byte code. That's because <code>i</code> is <code>true</code> and will not change it's state. Thus this code is unreachable (more in this <a href=\"https://stackoverflow.com/a/17335215/2838289\">answer</a>). For the same reason the code at line <code>9</code> misses too. The state of <code>i</code> doesn't have to be evaluated since it is <code>true</code> for sure.</p>\n\n<p>On the other hand though the variable <code>j</code> is <em>effectively final</em> it's not processed in the same way. There are no such optimizations applied. The state of <code>j</code> is evaluated two times. The bytecode is the same regardless of <code>j</code> being <em>effectively final</em>.</p>\n"},{"tags":[],"owner":{"account_id":2921877,"reputation":1081,"user_id":2503939,"display_name":"Jimmy_Rw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592258055,"creation_date":1592258055,"answer_id":62397646,"question_id":20938095,"body_markdown":"The Effectively final variable is a local variable that is:\r\n\r\n 1. Not defined as `final` \r\n 2. Assigned to ONLY once.\r\n\r\nWhile a final variable is a variable that is:\r\n\r\n 1. declared with a `final` keyword.\r\n\r\n \r\n","title":"Difference between final and effectively final","body":"<p>The Effectively final variable is a local variable that is:</p>\n\n<ol>\n<li>Not defined as <code>final</code> </li>\n<li>Assigned to ONLY once.</li>\n</ol>\n\n<p>While a final variable is a variable that is:</p>\n\n<ol>\n<li>declared with a <code>final</code> keyword.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7104959,"reputation":11,"user_id":5434918,"display_name":"Dush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693655648,"creation_date":1693655245,"answer_id":77028149,"question_id":20938095,"body_markdown":"There are three types of final variables declared in java.\r\n\r\n**1. Implicitly declared final variables**\r\n\r\nThere are 3 kinds of Implicitly declared final variables.\r\n\r\n - Fields declared in interfaces.\r\n - Local variables declared as a resource in try-with-resource statement.\r\n - Exception parameters in multi-try clause.\r\n\r\n**2. Explicitly declared final variables**\r\n\r\n\r\nThese are the variables declared with *`final`* keyword.\r\n\r\n**3. Effectively final variables**\r\n\r\nVariables are considered as a effectively final, if:\r\n\r\n i. ***A local variable declared in a statement and whose declarator has an initializer***, OR a ***local variable declared by a pattern*** and it should be followed below rules:\r\n\r\n1. not declared with *`final`*\r\n2. never occur as value assignment\r\n3. never occur as operand of a prefix or postfix increment or decrement operator\r\n\r\nex: ***A local variable declared in a statement and whose declarator has an initializer***.\r\n\r\n    List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\n    for (Iterator&lt;String&gt; iterator = ls.iterator(); iterator.hasNext();) {\r\n      String s = (String) iterator.next();\r\n      System.out.println(s);\r\n    }\r\n\r\nHere variable *iterator* is effectively final since it&#39;s follow above rules.\r\n\r\n**Note**: *If variable is an effectively final, it can also declared with `final` keyword.*\r\n\r\n    List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\n    for (final Iterator&lt;String&gt; iterator = ls.iterator(); iterator.hasNext();) {\r\n      String s = (String) iterator.next();\r\n      System.out.println(s);\r\n    }\r\n\r\nex: ***local variable declared by a pattern***.\r\n\r\n    public String getStringfromObj(Object o){\r\n    \r\n        if (o instanceof String s &amp;&amp; s.startsWith(&quot;Java&quot;)) { // can be declared as final String s\r\n          return s;\r\n        }\r\n        \r\n        return &quot;&quot;;\r\n    }\r\n\r\nii. A local variable declared in a statement and initialized later. This should be followed bellow rules.\r\n1. not declared with *`final`*\r\n2. never occur as value assignment before and after definite assignment\r\n3. never occur as operand of a prefix or postfix increment or decrement operator\r\n\r\nex. \r\n\r\n    List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    int k; // can be declared as final int k\r\n        \r\n        if ((k = ls.size()) &gt; 0) {\r\n          System.out.println(k);\r\n    }\r\n\r\niii. A method, constructor, lambda, or exception parameter whose declarator has an initializer.","title":"Difference between final and effectively final","body":"<p>There are three types of final variables declared in java.</p>\n<p><strong>1. Implicitly declared final variables</strong></p>\n<p>There are 3 kinds of Implicitly declared final variables.</p>\n<ul>\n<li>Fields declared in interfaces.</li>\n<li>Local variables declared as a resource in try-with-resource statement.</li>\n<li>Exception parameters in multi-try clause.</li>\n</ul>\n<p><strong>2. Explicitly declared final variables</strong></p>\n<p>These are the variables declared with <em><code>final</code></em> keyword.</p>\n<p><strong>3. Effectively final variables</strong></p>\n<p>Variables are considered as a effectively final, if:</p>\n<p>i. <em><strong>A local variable declared in a statement and whose declarator has an initializer</strong></em>, OR a <em><strong>local variable declared by a pattern</strong></em> and it should be followed below rules:</p>\n<ol>\n<li>not declared with <em><code>final</code></em></li>\n<li>never occur as value assignment</li>\n<li>never occur as operand of a prefix or postfix increment or decrement operator</li>\n</ol>\n<p>ex: <em><strong>A local variable declared in a statement and whose declarator has an initializer</strong></em>.</p>\n<pre><code>List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\nfor (Iterator&lt;String&gt; iterator = ls.iterator(); iterator.hasNext();) {\n  String s = (String) iterator.next();\n  System.out.println(s);\n}\n</code></pre>\n<p>Here variable <em>iterator</em> is effectively final since it's follow above rules.</p>\n<p><strong>Note</strong>: <em>If variable is an effectively final, it can also declared with <code>final</code> keyword.</em></p>\n<pre><code>List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\nfor (final Iterator&lt;String&gt; iterator = ls.iterator(); iterator.hasNext();) {\n  String s = (String) iterator.next();\n  System.out.println(s);\n}\n</code></pre>\n<p>ex: <em><strong>local variable declared by a pattern</strong></em>.</p>\n<pre><code>public String getStringfromObj(Object o){\n\n    if (o instanceof String s &amp;&amp; s.startsWith(&quot;Java&quot;)) { // can be declared as final String s\n      return s;\n    }\n    \n    return &quot;&quot;;\n}\n</code></pre>\n<p>ii. A local variable declared in a statement and initialized later. This should be followed bellow rules.</p>\n<ol>\n<li>not declared with <em><code>final</code></em></li>\n<li>never occur as value assignment before and after definite assignment</li>\n<li>never occur as operand of a prefix or postfix increment or decrement operator</li>\n</ol>\n<p>ex.</p>\n<pre><code>List&lt;String&gt; ls = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\nint k; // can be declared as final int k\n    \n    if ((k = ls.size()) &gt; 0) {\n      System.out.println(k);\n}\n</code></pre>\n<p>iii. A method, constructor, lambda, or exception parameter whose declarator has an initializer.</p>\n"}],"owner":{"account_id":1218035,"reputation":11052,"user_id":1185254,"accept_rate":90,"display_name":"alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205151,"favorite_count":0,"down_vote_count":0,"up_vote_count":388,"accepted_answer_id":20938132,"answer_count":15,"score":388,"last_activity_date":1693655648,"creation_date":1388950231,"question_id":20938095,"body_markdown":"I&#39;m playing with lambdas in Java 8 and I came across warning `local variables referenced from a lambda expression must be final or effectively final`. I know that when I use variables inside anonymous class they must be final in outer class, but still - what is the difference between *final* and *effectively final*?","title":"Difference between final and effectively final","body":"<p>I'm playing with lambdas in Java 8 and I came across warning <code>local variables referenced from a lambda expression must be final or effectively final</code>. I know that when I use variables inside anonymous class they must be final in outer class, but still - what is the difference between <em>final</em> and <em>effectively final</em>?</p>\n"},{"tags":["java","windows-installer","inno-setup","inno-setup-v6"],"comments":[{"owner":{"account_id":876760,"reputation":23300,"user_id":2102693,"display_name":"Bill_Stewart"},"score":0,"creation_date":1693480876,"post_id":77014531,"comment_id":135768273,"body_markdown":"If you are talking about the `Path` environment variable, I would recommend using [PathMgr.dll](https://github.com/Bill-Stewart/PathMgr/).","body":"If you are talking about the <code>Path</code> environment variable, I would recommend using <a href=\"https://github.com/Bill-Stewart/PathMgr/\" rel=\"nofollow noreferrer\">PathMgr.dll</a>."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1693483132,"post_id":77014531,"comment_id":135768778,"body_markdown":"Your script seems to show two attempts to achieve the same (one using `[Registry]` and one using `CurStepChanged`). We do not know which you did actually try and to which of them the log corresponds to. Can you post two separate scripts (without the irrelevant stuff) and their corresponding logs? (and add more logging to the code).","body":"Your script seems to show two attempts to achieve the same (one using <code>[Registry]</code> and one using <code>CurStepChanged</code>). We do not know which you did actually try and to which of them the log corresponds to. Can you post two separate scripts (without the irrelevant stuff) and their corresponding logs? (and add more logging to the code)."},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693486614,"post_id":77014531,"comment_id":135769492,"body_markdown":"@MartinPrikryl yeah. I edited question with two separate attempts of scripts and their logs also","body":"@MartinPrikryl yeah. I edited question with two separate attempts of scripts and their logs also"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1693488919,"post_id":77014531,"comment_id":135770054,"body_markdown":"In the first script, you call `RefreshEnvironment` only after you run the `mongod`. The log clear shows that. The second code looks correct, providing that it even can work. I&#39;m not really sure that Inno Setup installer responds to the `WM_SETTINGCHANGE`. It does not work for me either. Why did you choose this method? It seems to be coming from https://stackoverflow.com/q/21708140/850848, but there&#39;s it&#39;s not suggested for your scenario. For it, use the `SetEnvironmentVariable` or `set PATH` approach.","body":"In the first script, you call <code>RefreshEnvironment</code> only after you run the <code>mongod</code>. The log clear shows that. The second code looks correct, providing that it even can work. I&#39;m not really sure that Inno Setup installer responds to the <code>WM_SETTINGCHANGE</code>. It does not work for me either. Why did you choose this method? It seems to be coming from <a href=\"https://stackoverflow.com/q/21708140/850848\">stackoverflow.com/q/21708140/850848</a>, but there&#39;s it&#39;s not suggested for your scenario. For it, use the <code>SetEnvironmentVariable</code> or <code>set PATH</code> approach."},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693489779,"post_id":77014531,"comment_id":135770277,"body_markdown":"yes I tried 2nd script from that stack question. both scripts creating the environment variables as expected but during debug I see that we can&#39;t get updated env variables.  can you give me a example code in answer If possible ?? I tried too much but I can&#39;t get it whats problem So please ...","body":"yes I tried 2nd script from that stack question. both scripts creating the environment variables as expected but during debug I see that we can&#39;t get updated env variables.  can you give me a example code in answer If possible ?? I tried too much but I can&#39;t get it whats problem So please ..."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1693503964,"post_id":77014531,"comment_id":135773393,"body_markdown":"Sorry, but I do not understand what you ask me for. Imo, what you have tried is not a solution to your problem. As I have written already, do try the `SetEnvironmentVariable` approach from the TLama&#39;s answer or the `set PATH` approach from my answer. There&#39;s no other code I can give you. Everything is there already. + I do not understand what you mean by *&quot;2nd script from that stack question&quot;*. That&#39;s too unclear.","body":"Sorry, but I do not understand what you ask me for. Imo, what you have tried is not a solution to your problem. As I have written already, do try the <code>SetEnvironmentVariable</code> approach from the TLama&#39;s answer or the <code>set PATH</code> approach from my answer. There&#39;s no other code I can give you. Everything is there already. + I do not understand what you mean by <i>&quot;2nd script from that stack question&quot;</i>. That&#39;s too unclear."},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693541611,"post_id":77014531,"comment_id":135777559,"body_markdown":"actually I need to create windows service for mongodb and tomcat. that why I need to set Environment variables for that.","body":"actually I need to create windows service for mongodb and tomcat. that why I need to set Environment variables for that."},{"owner":{"account_id":876760,"reputation":23300,"user_id":2102693,"display_name":"Bill_Stewart"},"score":0,"creation_date":1693566141,"post_id":77014531,"comment_id":135781341,"body_markdown":"Again: Are you asking about how to update the `Path` environment variable? If so, you can use PathMgr.dll as already noted.","body":"Again: Are you asking about how to update the <code>Path</code> environment variable? If so, you can use PathMgr.dll as already noted."},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693655802,"post_id":77014531,"comment_id":135791269,"body_markdown":"@MartinPrikryl I have successfully created a Windows service without relying on environment variables. Thank you for your assistance.","body":"@MartinPrikryl I have successfully created a Windows service without relying on environment variables. Thank you for your assistance."},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693655850,"post_id":77014531,"comment_id":135791279,"body_markdown":"@Bill_Stewart I have successfully created a Windows service without relying on environment variables. Thank you for your assistance.","body":"@Bill_Stewart I have successfully created a Windows service without relying on environment variables. Thank you for your assistance."},{"owner":{"account_id":876760,"reputation":23300,"user_id":2102693,"display_name":"Bill_Stewart"},"score":0,"creation_date":1693930288,"post_id":77014531,"comment_id":135823223,"body_markdown":"This question is a good reminder of [this principle](https://learn.microsoft.com/en-us/archive/blogs/ericlippert/a-parable).","body":"This question is a good reminder of <a href=\"https://learn.microsoft.com/en-us/archive/blogs/ericlippert/a-parable\" rel=\"nofollow noreferrer\">this principle</a>."}],"answers":[{"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1693656437,"post_id":77028170,"comment_id":135791346,"body_markdown":"Well, that&#39;s an obvious solution. But that&#39;s not what you asked for. This is covered in https://stackoverflow.com/q/50150842/850848","body":"Well, that&#39;s an obvious solution. But that&#39;s not what you asked for. This is covered in <a href=\"https://stackoverflow.com/q/50150842/850848\">stackoverflow.com/q/50150842/850848</a>"},{"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"score":0,"creation_date":1693657924,"post_id":77028170,"comment_id":135791480,"body_markdown":"@MartinPrikryl yaa, I needed to create a Windows service, and after adding the environment variable to the PATH, the changes weren&#39;t reflected in processes that were already running. That&#39;s why I&#39;m asking this question. Feel free to edit it if necessary.","body":"@MartinPrikryl yaa, I needed to create a Windows service, and after adding the environment variable to the PATH, the changes weren&#39;t reflected in processes that were already running. That&#39;s why I&#39;m asking this question. Feel free to edit it if necessary."}],"tags":[],"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693655632,"creation_date":1693655632,"answer_id":77028170,"question_id":77014531,"body_markdown":"Adding an environment variable path isn&#39;t mandatory when creating a Windows service. If you encounter an issue such as &quot;&#39;mongod&#39; is not recognized as an internal or external command&quot; even after adding environment variables during application installation, you can create a Windows service using the following approach:\r\n\r\n```\r\n[Files]\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\nSource: &quot;{#MyAppParentPath}\\mongod.cfg&quot;; DestDir: &quot;{app}\\mongodb\\bin&quot;; Flags: ignoreversion\r\n\r\n[Run]\r\nFilename: &quot;{cmd}&quot;; \\\r\n    Parameters: &quot;/C mongod --config &quot;&quot;{app}\\mongodb\\bin\\mongod.cfg&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName=envVarIssueAppdatabase --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; &amp;&amp; sc start envVarIssueAppdatabase &amp;&amp; sc config envVarIssueAppdatabase DisplayName=envVarIssueApp-database-server&quot;; \\\r\n    WorkingDir: &quot;{app}\\mongodb\\bin&quot;; \\\r\n    Description: &quot;Installing MongoDB service&quot;; \\\r\n    StatusMsg: &quot;Installing MongoDB service...&quot;; \\\r\n    Flags: postinstall runascurrentuser runhidden;\r\n```\r\n\r\nThis script installs MongoDB as a Windows service without relying on environment variables for the &#39;mongod&#39; executable. It copies necessary files and configurations to the appropriate directories and then uses the &#39;sc&#39; command to create and configure the Windows service for MongoDB.\r\n\r\nThis approach ensures that the &#39;mongod&#39; command is accessible within the service context without relying on environment variables, addressing the &quot;&#39;mongod&#39; is not recognized as an internal or external command&quot; issue.\r\n\r\n---\r\nYou can refer full code (create windows service for Mongodb and tomcat)\r\n\r\n```none\r\n; Script generated by the Inno Setup Script Wizard.\r\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\r\n\r\n#define MyAppName &quot;envVarIssue&quot;\r\n#define MyAppVersion &quot;1.5&quot;\r\n#define MyAppPublisher &quot;My Company, Inc.&quot;\r\n#define MyAppURL &quot;https://www.example.com/&quot;\r\n#define MyAppExeName &quot;MyProg.exe&quot;\r\n#define MyAppAssocName MyAppName + &quot; File&quot;\r\n#define MyAppAssocExt &quot;.myp&quot;\r\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\r\n\r\n#define MyAppParentPath &quot;.&quot;\r\n\r\n[Setup]\r\nSetupLogging=yes\r\nChangesEnvironment=yes\r\n\r\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\r\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\r\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\r\nAppName={#MyAppName}\r\nAppVersion={#MyAppVersion}\r\n;AppVerName={#MyAppName} {#MyAppVersion}\r\nAppPublisher={#MyAppPublisher}\r\nAppPublisherURL={#MyAppURL}\r\nAppSupportURL={#MyAppURL}\r\nAppUpdatesURL={#MyAppURL}\r\nDefaultDirName={autopf}\\{#MyAppName}\r\nChangesAssociations=yes\r\nDisableProgramGroupPage=yes\r\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\r\nPrivilegesRequired=admin\r\nOutputBaseFilename=envVarIssue App\r\nCompression=lzma\r\nSolidCompression=yes\r\nWizardStyle=modern\r\n\r\n[Languages]\r\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\r\n\r\n[Tasks]\r\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\r\n\r\n[Files]\r\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\database\\*&quot;; DestDir: &quot;{app}\\database&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\nSource: &quot;{#MyAppParentPath}\\database\\*&quot;; DestDir: &quot;{app}\\database&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\nSource: &quot;{#MyAppParentPath}\\mongod.cfg&quot;; DestDir: &quot;{app}\\mongodb\\bin&quot;; Flags: ignoreversion\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\tomcat\\*&quot;; DestDir: &quot;{app}\\tomcat&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\n; NOTE: Don&#39;t use &quot;Flags: ignoreversion&quot; on any shared system files\r\n\r\n[Registry]\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\r\n\r\n[Icons]\r\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\r\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\r\n\r\n[Run]\r\n; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, &#39;&amp;&#39;, &#39;&amp;&amp;&#39;)}}&quot;; Flags: nowait postinstall skipifsilent\r\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, &#39;&amp;&#39;, &#39;&amp;&amp;&#39;)}}&quot;; Flags: postinstall skipifsilent;\r\n;Filename: &quot;{cmd}&quot;; Parameters: &quot;/C set PATH=%PATH%;{app}\\mongodb\\bin&quot;; Flags: runascurrentuser waituntilterminated;\r\n; Run MongoDB mongod command\r\n;Filename: &quot;{cmd}&quot;; Parameters: &quot;/K mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: postinstall waituntilterminated runascurrentuser;\r\n\r\n; Install MongoDB and configure its service\r\nFilename: &quot;{cmd}&quot;; \\\r\n    Parameters: &quot;/C mongod --config &quot;&quot;{app}\\mongodb\\bin\\mongod.cfg&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName=envVarIssueAppdatabase --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; &amp;&amp; sc start envVarIssueAppdatabase &amp;&amp; sc config envVarIssueAppdatabase DisplayName=envVarIssueApp-database-server&quot;; \\\r\n    WorkingDir: &quot;{app}\\mongodb\\bin&quot;; \\\r\n    Description: &quot;Installing MongoDB service&quot;; \\\r\n    StatusMsg: &quot;Installing MongoDB service...&quot;; \\\r\n    Flags: postinstall runascurrentuser runhidden;\r\n\r\n; Install Tomcat and configure its service\r\nFilename: &quot;{cmd}&quot;; \\\r\n    Parameters: &quot;/K service.bat install &amp;&amp; sc config Tomcat9 start=auto &amp;&amp; sc description envVarIssueApp-tomcat-server &amp;&amp; sc start Tomcat9 &amp;&amp; sc config Tomcat9 obj=LocalSystem&quot;; \\\r\n    WorkingDir: &quot;{app}\\tomcat\\bin&quot;; \\\r\n    Description: &quot;Installing Tomcat service&quot;; \\\r\n    StatusMsg: &quot;Installing Tomcat service...&quot;; \\\r\n    Flags: postinstall runascurrentuser;\r\n\r\n\r\n[Code]\r\nprocedure DebugOutput(Msg: string);\r\nbegin\r\n  Log(&#39;Debug: &#39; + Msg);\r\nend;\r\n\r\n[Code]\r\n\r\n```","title":"Environment Variable Set Successfully but Not Updating After Setting in Inno Setup Script","body":"<p>Adding an environment variable path isn't mandatory when creating a Windows service. If you encounter an issue such as &quot;'mongod' is not recognized as an internal or external command&quot; even after adding environment variables during application installation, you can create a Windows service using the following approach:</p>\n<pre><code>[Files]\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\nSource: &quot;{#MyAppParentPath}\\mongod.cfg&quot;; DestDir: &quot;{app}\\mongodb\\bin&quot;; Flags: ignoreversion\n\n[Run]\nFilename: &quot;{cmd}&quot;; \\\n    Parameters: &quot;/C mongod --config &quot;&quot;{app}\\mongodb\\bin\\mongod.cfg&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName=envVarIssueAppdatabase --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; &amp;&amp; sc start envVarIssueAppdatabase &amp;&amp; sc config envVarIssueAppdatabase DisplayName=envVarIssueApp-database-server&quot;; \\\n    WorkingDir: &quot;{app}\\mongodb\\bin&quot;; \\\n    Description: &quot;Installing MongoDB service&quot;; \\\n    StatusMsg: &quot;Installing MongoDB service...&quot;; \\\n    Flags: postinstall runascurrentuser runhidden;\n</code></pre>\n<p>This script installs MongoDB as a Windows service without relying on environment variables for the 'mongod' executable. It copies necessary files and configurations to the appropriate directories and then uses the 'sc' command to create and configure the Windows service for MongoDB.</p>\n<p>This approach ensures that the 'mongod' command is accessible within the service context without relying on environment variables, addressing the &quot;'mongod' is not recognized as an internal or external command&quot; issue.</p>\n<hr />\n<p>You can refer full code (create windows service for Mongodb and tomcat)</p>\n<pre class=\"lang-none prettyprint-override\"><code>; Script generated by the Inno Setup Script Wizard.\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\n\n#define MyAppName &quot;envVarIssue&quot;\n#define MyAppVersion &quot;1.5&quot;\n#define MyAppPublisher &quot;My Company, Inc.&quot;\n#define MyAppURL &quot;https://www.example.com/&quot;\n#define MyAppExeName &quot;MyProg.exe&quot;\n#define MyAppAssocName MyAppName + &quot; File&quot;\n#define MyAppAssocExt &quot;.myp&quot;\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\n\n#define MyAppParentPath &quot;.&quot;\n\n[Setup]\nSetupLogging=yes\nChangesEnvironment=yes\n\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\nAppName={#MyAppName}\nAppVersion={#MyAppVersion}\n;AppVerName={#MyAppName} {#MyAppVersion}\nAppPublisher={#MyAppPublisher}\nAppPublisherURL={#MyAppURL}\nAppSupportURL={#MyAppURL}\nAppUpdatesURL={#MyAppURL}\nDefaultDirName={autopf}\\{#MyAppName}\nChangesAssociations=yes\nDisableProgramGroupPage=yes\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\nPrivilegesRequired=admin\nOutputBaseFilename=envVarIssue App\nCompression=lzma\nSolidCompression=yes\nWizardStyle=modern\n\n[Languages]\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\n\n[Tasks]\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\n\n[Files]\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\nSource: &quot;{#MyAppParentPath}\\thirdparty\\database\\*&quot;; DestDir: &quot;{app}\\database&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\nSource: &quot;{#MyAppParentPath}\\database\\*&quot;; DestDir: &quot;{app}\\database&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\nSource: &quot;{#MyAppParentPath}\\mongod.cfg&quot;; DestDir: &quot;{app}\\mongodb\\bin&quot;; Flags: ignoreversion\nSource: &quot;{#MyAppParentPath}\\thirdparty\\tomcat\\*&quot;; DestDir: &quot;{app}\\tomcat&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\n; NOTE: Don't use &quot;Flags: ignoreversion&quot; on any shared system files\n\n[Registry]\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\n\n[Icons]\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\n\n[Run]\n; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}&quot;; Flags: nowait postinstall skipifsilent\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}&quot;; Flags: postinstall skipifsilent;\n;Filename: &quot;{cmd}&quot;; Parameters: &quot;/C set PATH=%PATH%;{app}\\mongodb\\bin&quot;; Flags: runascurrentuser waituntilterminated;\n; Run MongoDB mongod command\n;Filename: &quot;{cmd}&quot;; Parameters: &quot;/K mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: postinstall waituntilterminated runascurrentuser;\n\n; Install MongoDB and configure its service\nFilename: &quot;{cmd}&quot;; \\\n    Parameters: &quot;/C mongod --config &quot;&quot;{app}\\mongodb\\bin\\mongod.cfg&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName=envVarIssueAppdatabase --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; &amp;&amp; sc start envVarIssueAppdatabase &amp;&amp; sc config envVarIssueAppdatabase DisplayName=envVarIssueApp-database-server&quot;; \\\n    WorkingDir: &quot;{app}\\mongodb\\bin&quot;; \\\n    Description: &quot;Installing MongoDB service&quot;; \\\n    StatusMsg: &quot;Installing MongoDB service...&quot;; \\\n    Flags: postinstall runascurrentuser runhidden;\n\n; Install Tomcat and configure its service\nFilename: &quot;{cmd}&quot;; \\\n    Parameters: &quot;/K service.bat install &amp;&amp; sc config Tomcat9 start=auto &amp;&amp; sc description envVarIssueApp-tomcat-server &amp;&amp; sc start Tomcat9 &amp;&amp; sc config Tomcat9 obj=LocalSystem&quot;; \\\n    WorkingDir: &quot;{app}\\tomcat\\bin&quot;; \\\n    Description: &quot;Installing Tomcat service&quot;; \\\n    StatusMsg: &quot;Installing Tomcat service...&quot;; \\\n    Flags: postinstall runascurrentuser;\n\n\n[Code]\nprocedure DebugOutput(Msg: string);\nbegin\n  Log('Debug: ' + Msg);\nend;\n\n[Code]\n\n</code></pre>\n"}],"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694237710,"accepted_answer_id":77028170,"answer_count":1,"score":0,"last_activity_date":1693655632,"creation_date":1693474018,"question_id":77014531,"body_markdown":"Hello Stack Overflow community,\r\n\r\n\r\nI&#39;m facing an issue with an Inno Setup script and need some assistance. During the installation of an executable (Exe), I&#39;m required to set up an environment variable for MongoDB. My objective is to create a Windows service for MongoDB, but before doing so, I need to add an environment variable for it. To achieve this, I&#39;ve followed the following steps in my Inno Setup script:\r\n\r\n1. In the CurStepChanged event for `ssInstall`, I&#39;m adding the MongoDB environment variable using EnvRemoveAddPath function. The environment variable appears to be set correctly.\r\n\r\n2. In the CurStepChanged event for `ssPostInstall`, I&#39;m refreshing the environment variables using the RefreshEnvironment function.\r\n\r\n3. I proceed to perform the necessary logic, including creating the Windows service for MongoDB.\r\n\r\n\r\nHowever, when I attempt to configure MongoDB using the command `mongod --dbpath &lt;{app}\\database\\path&gt;` during the service configuration, I encounter the error message: `&#39;mongod&#39; is not recognized as an internal or external command, operable program or batch file`.\r\n\r\n\r\nStrangely, after this error occurs, I manually check the environment variable settings for MongoDB, and they appear to be set correctly. Furthermore, when I use the `echo %path%` command in the CMD, I can see that the MongoDB variable is indeed present. Despite this, during the execution of the installer, the error persists.\r\n\r\n\r\nCan anyone help me understand why this issue is occurring and how I can resolve it? Thank you for your assistance.\r\n\r\n\r\nI provided my code please check it.\r\n\r\n``` none\r\n; Script generated by the Inno Setup Script Wizard.\r\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\r\n\r\n#define MyAppName &quot;envVarIssue&quot;\r\n#define MyAppVersion &quot;1.5&quot;\r\n#define MyAppPublisher &quot;My Company, Inc.&quot;\r\n#define MyAppURL &quot;https://www.example.com/&quot;\r\n#define MyAppExeName &quot;MyProg.exe&quot;\r\n#define MyAppAssocName MyAppName + &quot; File&quot;\r\n#define MyAppAssocExt &quot;.myp&quot;\r\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\r\n\r\n#define MyAppParentPath &quot;.&quot;\r\n\r\n[Setup]\r\nSetupLogging=yes\r\nChangesEnvironment=yes\r\n\r\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\r\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\r\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\r\nAppName={#MyAppName}\r\nAppVersion={#MyAppVersion}\r\n;AppVerName={#MyAppName} {#MyAppVersion}\r\nAppPublisher={#MyAppPublisher}\r\nAppPublisherURL={#MyAppURL}\r\nAppSupportURL={#MyAppURL}\r\nAppUpdatesURL={#MyAppURL}\r\nDefaultDirName={autopf}\\{#MyAppName}\r\nChangesAssociations=yes\r\nDisableProgramGroupPage=yes\r\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\r\nPrivilegesRequired=admin\r\nOutputBaseFilename=envVarIssue App\r\nCompression=lzma\r\nSolidCompression=yes\r\nWizardStyle=modern\r\n\r\n[Languages]\r\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\r\n\r\n[Tasks]\r\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\r\n\r\n[Files]\r\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\n; NOTE: Don&#39;t use &quot;Flags: ignoreversion&quot; on any shared system files\r\n\r\n[Registry]\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\r\n\r\n[Icons]\r\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\r\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\r\n\r\n[Run]\r\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, &#39;&amp;&#39;, &#39;&amp;&amp;&#39;)}}&quot;; Flags: nowait postinstall skipifsilent\r\n; Run MongoDB mongod command\r\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\r\n\r\n[Code]\r\nconst\r\n  SMTO_ABORTIFHUNG = 2;\r\n  WM_WININICHANGE = $001A;\r\n  WM_SETTINGCHANGE = WM_WININICHANGE;\r\n\r\ntype\r\n  WPARAM = UINT_PTR;\r\n  LPARAM = INT_PTR;\r\n  LRESULT = INT_PTR;\r\n\r\nfunction SendTextMessageTimeout(hWnd: HWND; Msg: UINT;\r\n  wParam: WPARAM; lParam: PAnsiChar; fuFlags: UINT;\r\n  uTimeout: UINT; out lpdwResult: DWORD): LRESULT;\r\n  external &#39;SendMessageTimeoutA@user32.dll stdcall&#39;;\r\n\r\nprocedure RefreshEnvironment;\r\nvar\r\n  S: AnsiString;\r\n  MsgResult: DWORD;\r\nbegin\r\n  S := &#39;Environment&#39;;\r\n  SendTextMessageTimeout(HWND_BROADCAST, WM_SETTINGCHANGE, 0,\r\n    PAnsiChar(S), SMTO_ABORTIFHUNG, 5000, MsgResult);\r\nend;\r\n\r\nconst EnvironmentKey = &#39;SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&#39;;\r\nprocedure EnvRemoveAddPath(Path: string);\r\nvar\r\n    Paths: string;\r\n \r\nbegin\r\n         { Retrieve current path (use empty string if entry not exists) }\r\n    if not RegQueryStringValue(HKEY_LOCAL_MACHINE, EnvironmentKey, &#39;Path&#39;, Paths)\r\n    then Paths := &#39;&#39;;\r\n\r\n    { Skip if string already found in path }\r\n    if Pos(&#39;;&#39; + Uppercase(Path) + &#39;;&#39;, &#39;;&#39; + Uppercase(Paths) + &#39;;&#39;) &gt; 0 then exit;\r\n\r\n    { App string to the end of the path variable }\r\n    Paths := Paths + &#39;;&#39; + Path;\r\n\r\n    { Overwrite (or create if missing) path environment variable }\r\n    if RegWriteStringValue(HKEY_LOCAL_MACHINE, EnvironmentKey, &#39;Path&#39;, Paths)\r\n    then Log(Format(&#39;The [%s] added to PATH: [%s]&#39;, [Path, Paths]))\r\n    else Log(Format(&#39;Error while adding the [%s] to PATH: [%s]&#39;, [Path, Paths]));\r\nend;\r\n\r\nprocedure DebugOutput(Msg: string);\r\nbegin\r\n  Log(&#39;Debug: &#39; + Msg);\r\nend;\r\n\r\nprocedure CurStepChanged(CurStep: TSetupStep);\r\nbegin\r\n  if CurStep = ssInstall then\r\n  begin\r\n    DebugOutput(&#39;before set env PATH: &#39; + GetEnv(&#39;Path&#39;));\r\n    EnvRemoveAddPath(ExpandConstant(&#39;{app}\\mongodb\\bin&#39;));\r\n  end\r\n  else if CurStep = ssPostInstall then\r\n  begin\r\n    // Refresh environment variables\r\n    RefreshEnvironment;\r\n    DebugOutput(&#39;after set env PATH: &#39; + GetEnv(&#39;Path&#39;));\r\n  end;\r\nend;\r\n```\r\n\r\n\r\nadditionally you can see my debug logs\r\n\r\n```\r\n2023-08-31 18:08:37.671   Log opened. (Time zone: UTC+05:30)\r\n2023-08-31 18:08:37.674   Setup version: Inno Setup version 6.2.2\r\n2023-08-31 18:08:37.674   Original Setup EXE: C:\\Users\\MyUser\\Downloads\\env-var-issue\\Output\\envVarIssue App.exe\r\n2023-08-31 18:08:37.675   Setup command line: /SL5=&quot;$310A3C,70759185,832512,C:\\Users\\MyUser\\Downloads\\env-var-issue\\Output\\envVarIssue App.exe&quot; /SPAWNWND=$31051C /NOTIFYWND=$340A92 /DEBUGWND=$2062A \r\n2023-08-31 18:08:37.676   Windows version: 10.0.19045  (NT platform: Yes)\r\n2023-08-31 18:08:37.678   64-bit Windows: Yes\r\n2023-08-31 18:08:37.679   Processor architecture: x64\r\n2023-08-31 18:08:37.680   User privileges: Administrative\r\n2023-08-31 18:08:37.684   Administrative install mode: Yes\r\n2023-08-31 18:08:37.685   Install mode root key: HKEY_LOCAL_MACHINE\r\n2023-08-31 18:08:37.688   64-bit install mode: No\r\n2023-08-31 18:08:37.694   Created temporary directory: C:\\Users\\MyUser\\AppData\\Local\\Temp\\is-2S2FL.tmp\r\n2023-08-31 18:08:37.698   -- DLL function import --\r\n2023-08-31 18:08:37.700   Function name: SendMessageTimeoutA\r\n2023-08-31 18:08:37.701   DLL name: user32.dll\r\n2023-08-31 18:08:37.704   Dest DLL name: user32.dll\r\n2023-08-31 18:08:37.706   Importing the DLL function.\r\n2023-08-31 18:08:37.707   Successfully imported the DLL function. Delay loaded? No\r\n2023-08-31 18:08:40.591   Found 12 files to register with RestartManager.\r\n2023-08-31 18:08:40.594   Calling RestartManager&#39;s RmGetList.\r\n2023-08-31 18:08:40.606   RmGetList finished successfully.\r\n2023-08-31 18:08:40.609   RestartManager found no applications using one of our files.\r\n2023-08-31 18:08:40.629   Debug: before set env PATH: C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\MyUser\\AppData\\Local\\Microsoft\\WindowsApps\r\n2023-08-31 18:08:40.653   The [C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin] added to PATH: [%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;%SYSTEMROOT%\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;;C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin]\r\n2023-08-31 18:08:41.004   Starting the installation process.\r\n2023-08-31 18:08:41.015   Creating directory: C:\\Program Files (x86)\\envVarIssue\r\n2023-08-31 18:08:41.018   Directory for uninstall files: C:\\Program Files (x86)\\envVarIssue\r\n2023-08-31 18:08:41.020   Creating new uninstall log: C:\\Program Files (x86)\\envVarIssue\\unins000.dat\r\n2023-08-31 18:08:41.023   -- File entry --\r\n2023-08-31 18:08:41.024   Dest filename: C:\\Program Files (x86)\\envVarIssue\\unins000.exe\r\n2023-08-31 18:08:41.026   Time stamp of our file: 2023-08-31 18:08:37.149\r\n2023-08-31 18:08:41.029   Installing the file.\r\n2023-08-31 18:08:41.034   Successfully installed the file.\r\n2023-08-31 18:08:41.036   -- File entry --\r\n2023-08-31 18:08:41.041   Dest filename: C:\\Program Files (x86)\\envVarIssue\\MyProg.exe\r\n2023-08-31 18:08:41.042   Time stamp of our file: 2020-07-04 05:30:00.000\r\n2023-08-31 18:08:41.045   Installing the file.\r\n2023-08-31 18:08:41.048   Successfully installed the file.\r\n2023-08-31 18:08:41.050   -- File entry --\r\n2023-08-31 18:08:41.058   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\LICENSE-Community.txt\r\n2023-08-31 18:08:41.060   Time stamp of our file: 2020-11-16 15:25:26.000\r\n2023-08-31 18:08:41.063   Installing the file.\r\n2023-08-31 18:08:41.065   Creating directory: C:\\Program Files (x86)\\envVarIssue\\mongodb\r\n2023-08-31 18:08:41.071   Successfully installed the file.\r\n2023-08-31 18:08:41.074   -- File entry --\r\n2023-08-31 18:08:41.076   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\MPL-2\r\n2023-08-31 18:08:41.079   Time stamp of our file: 2020-11-16 15:25:26.000\r\n2023-08-31 18:08:41.081   Installing the file.\r\n2023-08-31 18:08:41.084   Successfully installed the file.\r\n2023-08-31 18:08:41.087   -- File entry --\r\n2023-08-31 18:08:41.090   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\README\r\n2023-08-31 18:08:41.091   Time stamp of our file: 2020-11-16 15:25:26.000\r\n2023-08-31 18:08:41.093   Installing the file.\r\n2023-08-31 18:08:41.094   Successfully installed the file.\r\n2023-08-31 18:08:41.096   -- File entry --\r\n2023-08-31 18:08:41.098   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\THIRD-PARTY-NOTICES\r\n2023-08-31 18:08:41.099   Time stamp of our file: 2020-11-16 15:25:34.000\r\n2023-08-31 18:08:41.101   Installing the file.\r\n2023-08-31 18:08:41.104   Successfully installed the file.\r\n2023-08-31 18:08:41.105   -- File entry --\r\n2023-08-31 18:08:41.107   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\bsondump.exe\r\n2023-08-31 18:08:41.108   Time stamp of our file: 2020-11-12 22:03:14.000\r\n2023-08-31 18:08:41.109   Installing the file.\r\n2023-08-31 18:08:41.110   Creating directory: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\r\n2023-08-31 18:08:41.622   Successfully installed the file.\r\n2023-08-31 18:08:41.625   -- File entry --\r\n2023-08-31 18:08:41.628   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\Install-Compass.ps1\r\n2023-08-31 18:08:41.631   Time stamp of our file: 2020-11-16 16:37:00.000\r\n2023-08-31 18:08:41.633   Installing the file.\r\n2023-08-31 18:08:41.637   Successfully installed the file.\r\n2023-08-31 18:08:41.639   -- File entry --\r\n2023-08-31 18:08:41.641   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongo.exe\r\n2023-08-31 18:08:41.642   Time stamp of our file: 2020-11-16 16:32:42.000\r\n2023-08-31 18:08:41.643   Installing the file.\r\n2023-08-31 18:08:42.232   Successfully installed the file.\r\n2023-08-31 18:08:42.234   -- File entry --\r\n2023-08-31 18:08:42.237   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongod.exe\r\n2023-08-31 18:08:42.240   Time stamp of our file: 2020-11-16 16:32:04.000\r\n2023-08-31 18:08:42.243   Installing the file.\r\n2023-08-31 18:08:43.370   Successfully installed the file.\r\n2023-08-31 18:08:43.373   -- File entry --\r\n2023-08-31 18:08:43.374   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongodump.exe\r\n2023-08-31 18:08:43.376   Time stamp of our file: 2020-11-12 22:03:20.000\r\n2023-08-31 18:08:43.377   Installing the file.\r\n2023-08-31 18:08:44.038   Successfully installed the file.\r\n2023-08-31 18:08:44.040   -- File entry --\r\n2023-08-31 18:08:44.042   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongoexport.exe\r\n2023-08-31 18:08:44.050   Time stamp of our file: 2020-11-12 22:03:38.000\r\n2023-08-31 18:08:44.055   Installing the file.\r\n2023-08-31 18:08:44.720   Successfully installed the file.\r\n2023-08-31 18:08:44.724   -- File entry --\r\n2023-08-31 18:08:44.727   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongofiles.exe\r\n2023-08-31 18:08:44.729   Time stamp of our file: 2020-11-12 22:03:54.000\r\n2023-08-31 18:08:44.732   Installing the file.\r\n2023-08-31 18:08:45.374   Successfully installed the file.\r\n2023-08-31 18:08:45.377   -- File entry --\r\n2023-08-31 18:08:45.384   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongoimport.exe\r\n2023-08-31 18:08:45.386   Time stamp of our file: 2020-11-12 22:03:32.000\r\n2023-08-31 18:08:45.388   Installing the file.\r\n2023-08-31 18:08:46.027   Successfully installed the file.\r\n2023-08-31 18:08:46.031   -- File entry --\r\n2023-08-31 18:08:46.032   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongorestore.exe\r\n2023-08-31 18:08:46.034   Time stamp of our file: 2020-11-12 22:03:26.000\r\n2023-08-31 18:08:46.035   Installing the file.\r\n2023-08-31 18:08:46.715   Successfully installed the file.\r\n2023-08-31 18:08:46.720   -- File entry --\r\n2023-08-31 18:08:46.722   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongos.exe\r\n2023-08-31 18:08:46.724   Time stamp of our file: 2020-11-16 16:06:30.000\r\n2023-08-31 18:08:46.725   Installing the file.\r\n2023-08-31 18:08:47.483   Successfully installed the file.\r\n2023-08-31 18:08:47.487   -- File entry --\r\n2023-08-31 18:08:47.490   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongostat.exe\r\n2023-08-31 18:08:47.493   Time stamp of our file: 2020-11-12 22:03:44.000\r\n2023-08-31 18:08:47.497   Installing the file.\r\n2023-08-31 18:08:48.194   Successfully installed the file.\r\n2023-08-31 18:08:48.197   -- File entry --\r\n2023-08-31 18:08:48.200   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongotop.exe\r\n2023-08-31 18:08:48.203   Time stamp of our file: 2020-11-12 22:03:48.000\r\n2023-08-31 18:08:48.206   Installing the file.\r\n2023-08-31 18:08:48.866   Successfully installed the file.\r\n2023-08-31 18:08:48.870   -- Icon entry --\r\n2023-08-31 18:08:48.879   Dest filename: C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\envVarIssue.lnk\r\n2023-08-31 18:08:48.881   Creating the icon.\r\n2023-08-31 18:08:48.918   Successfully created the icon.\r\n2023-08-31 18:08:48.938   -- Registry entry --\r\n2023-08-31 18:08:48.942   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\.myp\\OpenWithProgids\r\n2023-08-31 18:08:48.945   Value name: envVarIssueFile.myp\r\n2023-08-31 18:08:48.946   Creating or opening the key.\r\n2023-08-31 18:08:48.947   Creating or setting the value.\r\n2023-08-31 18:08:48.948   Successfully created or set the value.\r\n2023-08-31 18:08:48.950   -- Registry entry --\r\n2023-08-31 18:08:48.955   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\r\n2023-08-31 18:08:48.957   Creating or opening the key.\r\n2023-08-31 18:08:48.958   Creating or setting the value.\r\n2023-08-31 18:08:48.959   Successfully created or set the value.\r\n2023-08-31 18:08:48.962   -- Registry entry --\r\n2023-08-31 18:08:48.966   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\\DefaultIcon\r\n2023-08-31 18:08:48.968   Creating or opening the key.\r\n2023-08-31 18:08:48.969   Creating or setting the value.\r\n2023-08-31 18:08:48.970   Successfully created or set the value.\r\n2023-08-31 18:08:48.972   -- Registry entry --\r\n2023-08-31 18:08:48.978   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\\shell\\open\\command\r\n2023-08-31 18:08:48.979   Creating or opening the key.\r\n2023-08-31 18:08:48.981   Creating or setting the value.\r\n2023-08-31 18:08:48.983   Successfully created or set the value.\r\n2023-08-31 18:08:48.985   -- Registry entry --\r\n2023-08-31 18:08:48.990   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\Applications\\MyProg.exe\\SupportedTypes\r\n2023-08-31 18:08:48.991   Value name: .myp\r\n2023-08-31 18:08:48.995   Creating or opening the key.\r\n2023-08-31 18:08:48.997   Creating or setting the value.\r\n2023-08-31 18:08:48.999   Successfully created or set the value.\r\n2023-08-31 18:08:49.002   Saving uninstall information.\r\n2023-08-31 18:08:49.004   Creating new uninstall key: HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{D2C055CB-72E7-4DB9-83EE-34D399939D0C}_is1\r\n2023-08-31 18:08:49.005   Writing uninstall key values.\r\n2023-08-31 18:08:49.007   Detected previous non administrative install? No\r\n2023-08-31 18:08:49.011   Detected previous administrative 64-bit install? No\r\n2023-08-31 18:08:49.042   Installation process succeeded.\r\n2023-08-31 18:08:49.054   -- Run entry --\r\n2023-08-31 18:08:49.059   Run as: Current user\r\n2023-08-31 18:08:49.061   Type: Exec\r\n2023-08-31 18:08:49.063   Filename: C:\\Windows\\system32\\cmd.exe\r\n2023-08-31 18:08:49.064   Parameters: /C mongod &gt;&gt; &quot;C:\\Program Files (x86)\\envVarIssue\\mongo_logfile.txt&quot; 2&gt;&amp;1\r\n2023-08-31 18:08:49.141   Process exit code: 1\r\n2023-08-31 18:08:49.356   Debug: after set env PATH: C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\MyUser\\AppData\\Local\\Microsoft\\WindowsApps\r\n2023-08-31 18:08:49.594   Need to restart Windows? No\r\n2023-08-31 18:08:55.852   -- Run entry --\r\n2023-08-31 18:08:55.858   Run as: Original user\r\n2023-08-31 18:08:55.860   Type: Exec\r\n2023-08-31 18:08:55.861   Filename: C:\\Program Files (x86)\\envVarIssue\\MyProg.exe\r\n2023-08-31 18:08:55.914   Deinitializing Setup.\r\n2023-08-31 18:08:55.935   Log closed.\r\n\r\n```\r\n\r\n---\r\nI&#39;m tries to create windows service by below way:\r\n```\r\n; Install MongoDB and configure its service\r\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod --dbpath &quot;&quot;{app}\\database\\data\\db&quot;&quot; --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName mytestappdatabase &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\r\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C sc start mytestappdatabase &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\r\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C sc config mytestappdatabase DisplayName=mytestapp-database-server &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\r\n\r\n```\r\n---\r\n\r\n# Script - 2\r\n\r\n```none\r\n; Script generated by the Inno Setup Script Wizard.\r\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\r\n\r\n#define MyAppName &quot;envVarIssue&quot;\r\n#define MyAppVersion &quot;1.5&quot;\r\n#define MyAppPublisher &quot;My Company, Inc.&quot;\r\n#define MyAppURL &quot;https://www.example.com/&quot;\r\n#define MyAppExeName &quot;MyProg.exe&quot;\r\n#define MyAppAssocName MyAppName + &quot; File&quot;\r\n#define MyAppAssocExt &quot;.myp&quot;\r\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\r\n\r\n#define MyAppParentPath &quot;.&quot;\r\n\r\n[Setup]\r\nSetupLogging=yes\r\nChangesEnvironment=yes\r\n\r\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\r\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\r\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\r\nAppName={#MyAppName}\r\nAppVersion={#MyAppVersion}\r\n;AppVerName={#MyAppName} {#MyAppVersion}\r\nAppPublisher={#MyAppPublisher}\r\nAppPublisherURL={#MyAppURL}\r\nAppSupportURL={#MyAppURL}\r\nAppUpdatesURL={#MyAppURL}\r\nDefaultDirName={autopf}\\{#MyAppName}\r\nChangesAssociations=yes\r\nDisableProgramGroupPage=yes\r\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\r\nPrivilegesRequired=admin\r\nOutputBaseFilename=envVarIssue App\r\nCompression=lzma\r\nSolidCompression=yes\r\nWizardStyle=modern\r\n\r\n[Languages]\r\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\r\n\r\n[Tasks]\r\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\r\n\r\n[Files]\r\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\r\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\r\n; NOTE: Don&#39;t use &quot;Flags: ignoreversion&quot; on any shared system files\r\n\r\n[Registry]\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\r\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\r\nRoot: HKLM; \\\r\n    Subkey: &quot;SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;; \\\r\n    ValueType: string; ValueName: &quot;PATH&quot;; ValueData: &quot;{olddata};{app}\\mongodb\\bin&quot;; \\\r\n    AfterInstall: RefreshEnvironment;\r\n\r\n[Icons]\r\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\r\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\r\n\r\n[Run]\r\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, &#39;&amp;&#39;, &#39;&amp;&amp;&#39;)}}&quot;; Flags: nowait postinstall skipifsilent\r\n; Run MongoDB mongod command\r\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\r\n\r\n[Code]\r\nconst\r\n  SMTO_ABORTIFHUNG = 2;\r\n  WM_WININICHANGE = $001A;\r\n  WM_SETTINGCHANGE = WM_WININICHANGE;\r\n\r\ntype\r\n  WPARAM = UINT_PTR;\r\n  LPARAM = INT_PTR;\r\n  LRESULT = INT_PTR;\r\n\r\nfunction SendTextMessageTimeout(hWnd: HWND; Msg: UINT;\r\n  wParam: WPARAM; lParam: PAnsiChar; fuFlags: UINT;\r\n  uTimeout: UINT; out lpdwResult: DWORD): LRESULT;\r\n  external &#39;SendMessageTimeoutA@user32.dll stdcall&#39;;\r\n\r\nprocedure RefreshEnvironment;\r\nvar\r\n  S: AnsiString;\r\n  MsgResult: DWORD;\r\nbegin\r\n  S := &#39;Environment&#39;;\r\n  SendTextMessageTimeout(HWND_BROADCAST, WM_SETTINGCHANGE, 0,\r\n    PAnsiChar(S), SMTO_ABORTIFHUNG, 5000, MsgResult);\r\nend;\r\n\r\nprocedure DebugOutput(Msg: string);\r\nbegin\r\n  Log(&#39;Debug: &#39; + Msg);\r\nend;\r\n\r\nprocedure CurStepChanged(CurStep: TSetupStep);\r\nbegin\r\n  if CurStep = ssInstall then\r\n  begin\r\n    DebugOutput(&#39;before set env PATH: &#39; + GetEnv(&#39;Path&#39;));\r\n  end\r\n  else if CurStep = ssPostInstall then\r\n  begin\r\n    DebugOutput(&#39;after set env PATH: &#39; + GetEnv(&#39;Path&#39;));\r\n  end;\r\nend;\r\n```\r\n\r\n\r\n### Log of Script - 2\r\nyou can [see here][1]. I can&#39;t share it here because of Stackoverflow&#39;s max limit reach for body \r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1pXsx0oZqj9CgNvoM2LYb0UVPQ2aPGVhI/view?usp=sharing","title":"Environment Variable Set Successfully but Not Updating After Setting in Inno Setup Script","body":"<p>Hello Stack Overflow community,</p>\n<p>I'm facing an issue with an Inno Setup script and need some assistance. During the installation of an executable (Exe), I'm required to set up an environment variable for MongoDB. My objective is to create a Windows service for MongoDB, but before doing so, I need to add an environment variable for it. To achieve this, I've followed the following steps in my Inno Setup script:</p>\n<ol>\n<li><p>In the CurStepChanged event for <code>ssInstall</code>, I'm adding the MongoDB environment variable using EnvRemoveAddPath function. The environment variable appears to be set correctly.</p>\n</li>\n<li><p>In the CurStepChanged event for <code>ssPostInstall</code>, I'm refreshing the environment variables using the RefreshEnvironment function.</p>\n</li>\n<li><p>I proceed to perform the necessary logic, including creating the Windows service for MongoDB.</p>\n</li>\n</ol>\n<p>However, when I attempt to configure MongoDB using the command <code>mongod --dbpath &lt;{app}\\database\\path&gt;</code> during the service configuration, I encounter the error message: <code>'mongod' is not recognized as an internal or external command, operable program or batch file</code>.</p>\n<p>Strangely, after this error occurs, I manually check the environment variable settings for MongoDB, and they appear to be set correctly. Furthermore, when I use the <code>echo %path%</code> command in the CMD, I can see that the MongoDB variable is indeed present. Despite this, during the execution of the installer, the error persists.</p>\n<p>Can anyone help me understand why this issue is occurring and how I can resolve it? Thank you for your assistance.</p>\n<p>I provided my code please check it.</p>\n<pre class=\"lang-none prettyprint-override\"><code>; Script generated by the Inno Setup Script Wizard.\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\n\n#define MyAppName &quot;envVarIssue&quot;\n#define MyAppVersion &quot;1.5&quot;\n#define MyAppPublisher &quot;My Company, Inc.&quot;\n#define MyAppURL &quot;https://www.example.com/&quot;\n#define MyAppExeName &quot;MyProg.exe&quot;\n#define MyAppAssocName MyAppName + &quot; File&quot;\n#define MyAppAssocExt &quot;.myp&quot;\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\n\n#define MyAppParentPath &quot;.&quot;\n\n[Setup]\nSetupLogging=yes\nChangesEnvironment=yes\n\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\nAppName={#MyAppName}\nAppVersion={#MyAppVersion}\n;AppVerName={#MyAppName} {#MyAppVersion}\nAppPublisher={#MyAppPublisher}\nAppPublisherURL={#MyAppURL}\nAppSupportURL={#MyAppURL}\nAppUpdatesURL={#MyAppURL}\nDefaultDirName={autopf}\\{#MyAppName}\nChangesAssociations=yes\nDisableProgramGroupPage=yes\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\nPrivilegesRequired=admin\nOutputBaseFilename=envVarIssue App\nCompression=lzma\nSolidCompression=yes\nWizardStyle=modern\n\n[Languages]\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\n\n[Tasks]\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\n\n[Files]\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\n; NOTE: Don't use &quot;Flags: ignoreversion&quot; on any shared system files\n\n[Registry]\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\n\n[Icons]\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\n\n[Run]\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}&quot;; Flags: nowait postinstall skipifsilent\n; Run MongoDB mongod command\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\n\n[Code]\nconst\n  SMTO_ABORTIFHUNG = 2;\n  WM_WININICHANGE = $001A;\n  WM_SETTINGCHANGE = WM_WININICHANGE;\n\ntype\n  WPARAM = UINT_PTR;\n  LPARAM = INT_PTR;\n  LRESULT = INT_PTR;\n\nfunction SendTextMessageTimeout(hWnd: HWND; Msg: UINT;\n  wParam: WPARAM; lParam: PAnsiChar; fuFlags: UINT;\n  uTimeout: UINT; out lpdwResult: DWORD): LRESULT;\n  external 'SendMessageTimeoutA@user32.dll stdcall';\n\nprocedure RefreshEnvironment;\nvar\n  S: AnsiString;\n  MsgResult: DWORD;\nbegin\n  S := 'Environment';\n  SendTextMessageTimeout(HWND_BROADCAST, WM_SETTINGCHANGE, 0,\n    PAnsiChar(S), SMTO_ABORTIFHUNG, 5000, MsgResult);\nend;\n\nconst EnvironmentKey = 'SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment';\nprocedure EnvRemoveAddPath(Path: string);\nvar\n    Paths: string;\n \nbegin\n         { Retrieve current path (use empty string if entry not exists) }\n    if not RegQueryStringValue(HKEY_LOCAL_MACHINE, EnvironmentKey, 'Path', Paths)\n    then Paths := '';\n\n    { Skip if string already found in path }\n    if Pos(';' + Uppercase(Path) + ';', ';' + Uppercase(Paths) + ';') &gt; 0 then exit;\n\n    { App string to the end of the path variable }\n    Paths := Paths + ';' + Path;\n\n    { Overwrite (or create if missing) path environment variable }\n    if RegWriteStringValue(HKEY_LOCAL_MACHINE, EnvironmentKey, 'Path', Paths)\n    then Log(Format('The [%s] added to PATH: [%s]', [Path, Paths]))\n    else Log(Format('Error while adding the [%s] to PATH: [%s]', [Path, Paths]));\nend;\n\nprocedure DebugOutput(Msg: string);\nbegin\n  Log('Debug: ' + Msg);\nend;\n\nprocedure CurStepChanged(CurStep: TSetupStep);\nbegin\n  if CurStep = ssInstall then\n  begin\n    DebugOutput('before set env PATH: ' + GetEnv('Path'));\n    EnvRemoveAddPath(ExpandConstant('{app}\\mongodb\\bin'));\n  end\n  else if CurStep = ssPostInstall then\n  begin\n    // Refresh environment variables\n    RefreshEnvironment;\n    DebugOutput('after set env PATH: ' + GetEnv('Path'));\n  end;\nend;\n</code></pre>\n<p>additionally you can see my debug logs</p>\n<pre><code>2023-08-31 18:08:37.671   Log opened. (Time zone: UTC+05:30)\n2023-08-31 18:08:37.674   Setup version: Inno Setup version 6.2.2\n2023-08-31 18:08:37.674   Original Setup EXE: C:\\Users\\MyUser\\Downloads\\env-var-issue\\Output\\envVarIssue App.exe\n2023-08-31 18:08:37.675   Setup command line: /SL5=&quot;$310A3C,70759185,832512,C:\\Users\\MyUser\\Downloads\\env-var-issue\\Output\\envVarIssue App.exe&quot; /SPAWNWND=$31051C /NOTIFYWND=$340A92 /DEBUGWND=$2062A \n2023-08-31 18:08:37.676   Windows version: 10.0.19045  (NT platform: Yes)\n2023-08-31 18:08:37.678   64-bit Windows: Yes\n2023-08-31 18:08:37.679   Processor architecture: x64\n2023-08-31 18:08:37.680   User privileges: Administrative\n2023-08-31 18:08:37.684   Administrative install mode: Yes\n2023-08-31 18:08:37.685   Install mode root key: HKEY_LOCAL_MACHINE\n2023-08-31 18:08:37.688   64-bit install mode: No\n2023-08-31 18:08:37.694   Created temporary directory: C:\\Users\\MyUser\\AppData\\Local\\Temp\\is-2S2FL.tmp\n2023-08-31 18:08:37.698   -- DLL function import --\n2023-08-31 18:08:37.700   Function name: SendMessageTimeoutA\n2023-08-31 18:08:37.701   DLL name: user32.dll\n2023-08-31 18:08:37.704   Dest DLL name: user32.dll\n2023-08-31 18:08:37.706   Importing the DLL function.\n2023-08-31 18:08:37.707   Successfully imported the DLL function. Delay loaded? No\n2023-08-31 18:08:40.591   Found 12 files to register with RestartManager.\n2023-08-31 18:08:40.594   Calling RestartManager's RmGetList.\n2023-08-31 18:08:40.606   RmGetList finished successfully.\n2023-08-31 18:08:40.609   RestartManager found no applications using one of our files.\n2023-08-31 18:08:40.629   Debug: before set env PATH: C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\MyUser\\AppData\\Local\\Microsoft\\WindowsApps\n2023-08-31 18:08:40.653   The [C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin] added to PATH: [%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;%SYSTEMROOT%\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;;C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin]\n2023-08-31 18:08:41.004   Starting the installation process.\n2023-08-31 18:08:41.015   Creating directory: C:\\Program Files (x86)\\envVarIssue\n2023-08-31 18:08:41.018   Directory for uninstall files: C:\\Program Files (x86)\\envVarIssue\n2023-08-31 18:08:41.020   Creating new uninstall log: C:\\Program Files (x86)\\envVarIssue\\unins000.dat\n2023-08-31 18:08:41.023   -- File entry --\n2023-08-31 18:08:41.024   Dest filename: C:\\Program Files (x86)\\envVarIssue\\unins000.exe\n2023-08-31 18:08:41.026   Time stamp of our file: 2023-08-31 18:08:37.149\n2023-08-31 18:08:41.029   Installing the file.\n2023-08-31 18:08:41.034   Successfully installed the file.\n2023-08-31 18:08:41.036   -- File entry --\n2023-08-31 18:08:41.041   Dest filename: C:\\Program Files (x86)\\envVarIssue\\MyProg.exe\n2023-08-31 18:08:41.042   Time stamp of our file: 2020-07-04 05:30:00.000\n2023-08-31 18:08:41.045   Installing the file.\n2023-08-31 18:08:41.048   Successfully installed the file.\n2023-08-31 18:08:41.050   -- File entry --\n2023-08-31 18:08:41.058   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\LICENSE-Community.txt\n2023-08-31 18:08:41.060   Time stamp of our file: 2020-11-16 15:25:26.000\n2023-08-31 18:08:41.063   Installing the file.\n2023-08-31 18:08:41.065   Creating directory: C:\\Program Files (x86)\\envVarIssue\\mongodb\n2023-08-31 18:08:41.071   Successfully installed the file.\n2023-08-31 18:08:41.074   -- File entry --\n2023-08-31 18:08:41.076   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\MPL-2\n2023-08-31 18:08:41.079   Time stamp of our file: 2020-11-16 15:25:26.000\n2023-08-31 18:08:41.081   Installing the file.\n2023-08-31 18:08:41.084   Successfully installed the file.\n2023-08-31 18:08:41.087   -- File entry --\n2023-08-31 18:08:41.090   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\README\n2023-08-31 18:08:41.091   Time stamp of our file: 2020-11-16 15:25:26.000\n2023-08-31 18:08:41.093   Installing the file.\n2023-08-31 18:08:41.094   Successfully installed the file.\n2023-08-31 18:08:41.096   -- File entry --\n2023-08-31 18:08:41.098   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\THIRD-PARTY-NOTICES\n2023-08-31 18:08:41.099   Time stamp of our file: 2020-11-16 15:25:34.000\n2023-08-31 18:08:41.101   Installing the file.\n2023-08-31 18:08:41.104   Successfully installed the file.\n2023-08-31 18:08:41.105   -- File entry --\n2023-08-31 18:08:41.107   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\bsondump.exe\n2023-08-31 18:08:41.108   Time stamp of our file: 2020-11-12 22:03:14.000\n2023-08-31 18:08:41.109   Installing the file.\n2023-08-31 18:08:41.110   Creating directory: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\n2023-08-31 18:08:41.622   Successfully installed the file.\n2023-08-31 18:08:41.625   -- File entry --\n2023-08-31 18:08:41.628   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\Install-Compass.ps1\n2023-08-31 18:08:41.631   Time stamp of our file: 2020-11-16 16:37:00.000\n2023-08-31 18:08:41.633   Installing the file.\n2023-08-31 18:08:41.637   Successfully installed the file.\n2023-08-31 18:08:41.639   -- File entry --\n2023-08-31 18:08:41.641   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongo.exe\n2023-08-31 18:08:41.642   Time stamp of our file: 2020-11-16 16:32:42.000\n2023-08-31 18:08:41.643   Installing the file.\n2023-08-31 18:08:42.232   Successfully installed the file.\n2023-08-31 18:08:42.234   -- File entry --\n2023-08-31 18:08:42.237   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongod.exe\n2023-08-31 18:08:42.240   Time stamp of our file: 2020-11-16 16:32:04.000\n2023-08-31 18:08:42.243   Installing the file.\n2023-08-31 18:08:43.370   Successfully installed the file.\n2023-08-31 18:08:43.373   -- File entry --\n2023-08-31 18:08:43.374   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongodump.exe\n2023-08-31 18:08:43.376   Time stamp of our file: 2020-11-12 22:03:20.000\n2023-08-31 18:08:43.377   Installing the file.\n2023-08-31 18:08:44.038   Successfully installed the file.\n2023-08-31 18:08:44.040   -- File entry --\n2023-08-31 18:08:44.042   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongoexport.exe\n2023-08-31 18:08:44.050   Time stamp of our file: 2020-11-12 22:03:38.000\n2023-08-31 18:08:44.055   Installing the file.\n2023-08-31 18:08:44.720   Successfully installed the file.\n2023-08-31 18:08:44.724   -- File entry --\n2023-08-31 18:08:44.727   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongofiles.exe\n2023-08-31 18:08:44.729   Time stamp of our file: 2020-11-12 22:03:54.000\n2023-08-31 18:08:44.732   Installing the file.\n2023-08-31 18:08:45.374   Successfully installed the file.\n2023-08-31 18:08:45.377   -- File entry --\n2023-08-31 18:08:45.384   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongoimport.exe\n2023-08-31 18:08:45.386   Time stamp of our file: 2020-11-12 22:03:32.000\n2023-08-31 18:08:45.388   Installing the file.\n2023-08-31 18:08:46.027   Successfully installed the file.\n2023-08-31 18:08:46.031   -- File entry --\n2023-08-31 18:08:46.032   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongorestore.exe\n2023-08-31 18:08:46.034   Time stamp of our file: 2020-11-12 22:03:26.000\n2023-08-31 18:08:46.035   Installing the file.\n2023-08-31 18:08:46.715   Successfully installed the file.\n2023-08-31 18:08:46.720   -- File entry --\n2023-08-31 18:08:46.722   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongos.exe\n2023-08-31 18:08:46.724   Time stamp of our file: 2020-11-16 16:06:30.000\n2023-08-31 18:08:46.725   Installing the file.\n2023-08-31 18:08:47.483   Successfully installed the file.\n2023-08-31 18:08:47.487   -- File entry --\n2023-08-31 18:08:47.490   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongostat.exe\n2023-08-31 18:08:47.493   Time stamp of our file: 2020-11-12 22:03:44.000\n2023-08-31 18:08:47.497   Installing the file.\n2023-08-31 18:08:48.194   Successfully installed the file.\n2023-08-31 18:08:48.197   -- File entry --\n2023-08-31 18:08:48.200   Dest filename: C:\\Program Files (x86)\\envVarIssue\\mongodb\\bin\\mongotop.exe\n2023-08-31 18:08:48.203   Time stamp of our file: 2020-11-12 22:03:48.000\n2023-08-31 18:08:48.206   Installing the file.\n2023-08-31 18:08:48.866   Successfully installed the file.\n2023-08-31 18:08:48.870   -- Icon entry --\n2023-08-31 18:08:48.879   Dest filename: C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\envVarIssue.lnk\n2023-08-31 18:08:48.881   Creating the icon.\n2023-08-31 18:08:48.918   Successfully created the icon.\n2023-08-31 18:08:48.938   -- Registry entry --\n2023-08-31 18:08:48.942   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\.myp\\OpenWithProgids\n2023-08-31 18:08:48.945   Value name: envVarIssueFile.myp\n2023-08-31 18:08:48.946   Creating or opening the key.\n2023-08-31 18:08:48.947   Creating or setting the value.\n2023-08-31 18:08:48.948   Successfully created or set the value.\n2023-08-31 18:08:48.950   -- Registry entry --\n2023-08-31 18:08:48.955   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\n2023-08-31 18:08:48.957   Creating or opening the key.\n2023-08-31 18:08:48.958   Creating or setting the value.\n2023-08-31 18:08:48.959   Successfully created or set the value.\n2023-08-31 18:08:48.962   -- Registry entry --\n2023-08-31 18:08:48.966   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\\DefaultIcon\n2023-08-31 18:08:48.968   Creating or opening the key.\n2023-08-31 18:08:48.969   Creating or setting the value.\n2023-08-31 18:08:48.970   Successfully created or set the value.\n2023-08-31 18:08:48.972   -- Registry entry --\n2023-08-31 18:08:48.978   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\envVarIssueFile.myp\\shell\\open\\command\n2023-08-31 18:08:48.979   Creating or opening the key.\n2023-08-31 18:08:48.981   Creating or setting the value.\n2023-08-31 18:08:48.983   Successfully created or set the value.\n2023-08-31 18:08:48.985   -- Registry entry --\n2023-08-31 18:08:48.990   Key: HKEY_LOCAL_MACHINE\\Software\\Classes\\Applications\\MyProg.exe\\SupportedTypes\n2023-08-31 18:08:48.991   Value name: .myp\n2023-08-31 18:08:48.995   Creating or opening the key.\n2023-08-31 18:08:48.997   Creating or setting the value.\n2023-08-31 18:08:48.999   Successfully created or set the value.\n2023-08-31 18:08:49.002   Saving uninstall information.\n2023-08-31 18:08:49.004   Creating new uninstall key: HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{D2C055CB-72E7-4DB9-83EE-34D399939D0C}_is1\n2023-08-31 18:08:49.005   Writing uninstall key values.\n2023-08-31 18:08:49.007   Detected previous non administrative install? No\n2023-08-31 18:08:49.011   Detected previous administrative 64-bit install? No\n2023-08-31 18:08:49.042   Installation process succeeded.\n2023-08-31 18:08:49.054   -- Run entry --\n2023-08-31 18:08:49.059   Run as: Current user\n2023-08-31 18:08:49.061   Type: Exec\n2023-08-31 18:08:49.063   Filename: C:\\Windows\\system32\\cmd.exe\n2023-08-31 18:08:49.064   Parameters: /C mongod &gt;&gt; &quot;C:\\Program Files (x86)\\envVarIssue\\mongo_logfile.txt&quot; 2&gt;&amp;1\n2023-08-31 18:08:49.141   Process exit code: 1\n2023-08-31 18:08:49.356   Debug: after set env PATH: C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\Java\\jdk-14.0.2\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Program Files\\Java\\jdk1.8.0_241\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\MyUser\\AppData\\Local\\Microsoft\\WindowsApps\n2023-08-31 18:08:49.594   Need to restart Windows? No\n2023-08-31 18:08:55.852   -- Run entry --\n2023-08-31 18:08:55.858   Run as: Original user\n2023-08-31 18:08:55.860   Type: Exec\n2023-08-31 18:08:55.861   Filename: C:\\Program Files (x86)\\envVarIssue\\MyProg.exe\n2023-08-31 18:08:55.914   Deinitializing Setup.\n2023-08-31 18:08:55.935   Log closed.\n\n</code></pre>\n<hr />\n<p>I'm tries to create windows service by below way:</p>\n<pre><code>; Install MongoDB and configure its service\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod --dbpath &quot;&quot;{app}\\database\\data\\db&quot;&quot; --logpath &quot;&quot;{app}\\database\\log\\mongo.log&quot;&quot; --wiredTigerCacheSizeGB 0.65 --auth --install --serviceName mytestappdatabase &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C sc start mytestappdatabase &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C sc config mytestappdatabase DisplayName=mytestapp-database-server &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\n\n</code></pre>\n<hr />\n<h1>Script - 2</h1>\n<pre class=\"lang-none prettyprint-override\"><code>; Script generated by the Inno Setup Script Wizard.\n; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!\n\n#define MyAppName &quot;envVarIssue&quot;\n#define MyAppVersion &quot;1.5&quot;\n#define MyAppPublisher &quot;My Company, Inc.&quot;\n#define MyAppURL &quot;https://www.example.com/&quot;\n#define MyAppExeName &quot;MyProg.exe&quot;\n#define MyAppAssocName MyAppName + &quot; File&quot;\n#define MyAppAssocExt &quot;.myp&quot;\n#define MyAppAssocKey StringChange(MyAppAssocName, &quot; &quot;, &quot;&quot;) + MyAppAssocExt\n\n#define MyAppParentPath &quot;.&quot;\n\n[Setup]\nSetupLogging=yes\nChangesEnvironment=yes\n\n; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.\n; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)\nAppId={{D2C055CB-72E7-4DB9-83EE-34D399939D0C}\nAppName={#MyAppName}\nAppVersion={#MyAppVersion}\n;AppVerName={#MyAppName} {#MyAppVersion}\nAppPublisher={#MyAppPublisher}\nAppPublisherURL={#MyAppURL}\nAppSupportURL={#MyAppURL}\nAppUpdatesURL={#MyAppURL}\nDefaultDirName={autopf}\\{#MyAppName}\nChangesAssociations=yes\nDisableProgramGroupPage=yes\n; Uncomment the following line to run in non administrative install mode (install for current user only.)\nPrivilegesRequired=admin\nOutputBaseFilename=envVarIssue App\nCompression=lzma\nSolidCompression=yes\nWizardStyle=modern\n\n[Languages]\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\n\n[Tasks]\nName: &quot;desktopicon&quot;; Description: &quot;{cm:CreateDesktopIcon}&quot;; GroupDescription: &quot;{cm:AdditionalIcons}&quot;; Flags: unchecked\n\n[Files]\nSource: &quot;C:\\Program Files (x86)\\Inno Setup 6\\Examples\\{#MyAppExeName}&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\nSource: &quot;{#MyAppParentPath}\\thirdparty\\mongodb\\*&quot;; DestDir: &quot;{app}\\mongodb&quot;; Flags: ignoreversion recursesubdirs createallsubdirs uninsneveruninstall onlyifdoesntexist;\n; NOTE: Don't use &quot;Flags: ignoreversion&quot; on any shared system files\n\n[Registry]\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocExt}\\OpenWithProgids&quot;; ValueType: string; ValueName: &quot;{#MyAppAssocKey}&quot;; ValueData: &quot;&quot;; Flags: uninsdeletevalue\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{#MyAppAssocName}&quot;; Flags: uninsdeletekey\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\DefaultIcon&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\{#MyAppExeName},0&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\{#MyAppAssocKey}\\shell\\open\\command&quot;; ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\{#MyAppExeName}&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;\nRoot: HKA; Subkey: &quot;Software\\Classes\\Applications\\{#MyAppExeName}\\SupportedTypes&quot;; ValueType: string; ValueName: &quot;.myp&quot;; ValueData: &quot;&quot;\nRoot: HKLM; \\\n    Subkey: &quot;SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;; \\\n    ValueType: string; ValueName: &quot;PATH&quot;; ValueData: &quot;{olddata};{app}\\mongodb\\bin&quot;; \\\n    AfterInstall: RefreshEnvironment;\n\n[Icons]\nName: &quot;{autoprograms}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;\nName: &quot;{autodesktop}\\{#MyAppName}&quot;; Filename: &quot;{app}\\{#MyAppExeName}&quot;; Tasks: desktopicon\n\n[Run]\nFilename: &quot;{app}\\{#MyAppExeName}&quot;; Description: &quot;{cm:LaunchProgram,{#StringChange(MyAppName, '&amp;', '&amp;&amp;')}}&quot;; Flags: nowait postinstall skipifsilent\n; Run MongoDB mongod command\nFilename: &quot;{cmd}&quot;; Parameters: &quot;/C mongod &gt;&gt; &quot;&quot;{app}\\mongo_logfile.txt&quot;&quot; 2&gt;&amp;1&quot;; Flags: waituntilterminated runascurrentuser;\n\n[Code]\nconst\n  SMTO_ABORTIFHUNG = 2;\n  WM_WININICHANGE = $001A;\n  WM_SETTINGCHANGE = WM_WININICHANGE;\n\ntype\n  WPARAM = UINT_PTR;\n  LPARAM = INT_PTR;\n  LRESULT = INT_PTR;\n\nfunction SendTextMessageTimeout(hWnd: HWND; Msg: UINT;\n  wParam: WPARAM; lParam: PAnsiChar; fuFlags: UINT;\n  uTimeout: UINT; out lpdwResult: DWORD): LRESULT;\n  external 'SendMessageTimeoutA@user32.dll stdcall';\n\nprocedure RefreshEnvironment;\nvar\n  S: AnsiString;\n  MsgResult: DWORD;\nbegin\n  S := 'Environment';\n  SendTextMessageTimeout(HWND_BROADCAST, WM_SETTINGCHANGE, 0,\n    PAnsiChar(S), SMTO_ABORTIFHUNG, 5000, MsgResult);\nend;\n\nprocedure DebugOutput(Msg: string);\nbegin\n  Log('Debug: ' + Msg);\nend;\n\nprocedure CurStepChanged(CurStep: TSetupStep);\nbegin\n  if CurStep = ssInstall then\n  begin\n    DebugOutput('before set env PATH: ' + GetEnv('Path'));\n  end\n  else if CurStep = ssPostInstall then\n  begin\n    DebugOutput('after set env PATH: ' + GetEnv('Path'));\n  end;\nend;\n</code></pre>\n<h3>Log of Script - 2</h3>\n<p>you can <a href=\"https://drive.google.com/file/d/1pXsx0oZqj9CgNvoM2LYb0UVPQ2aPGVhI/view?usp=sharing\" rel=\"nofollow noreferrer\">see here</a>. I can't share it here because of Stackoverflow's max limit reach for body</p>\n"},{"tags":["java","oracle","prepared-statement","amazon-eks","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631651587,"creation_date":1631651587,"answer_id":69184208,"question_id":68057257,"body_markdown":"I faced similar issue with error `oracle.i18n.text.converter.CharacterConverterOGS.getInstance(int)` and found out a link to [oracle documentation][1]. \r\n\r\n`One Strange thing is I cant even see oracle.i18n.text.converter.CharacterConverter in my local.` Maybe some dependencies are using the method in question.\r\n\r\n**The solution:** I found that I upgraded ojdbc14.jar to ojdbc7.jar so I downgraded it again to ojdbc14.jar and it worked. Hope this help. You might also want to have a look at [this doc][2].\r\n\r\n\r\n  [1]: https://support.oracle.com/knowledge/Middleware/465177_1.html\r\n  [2]: https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html","title":"Facing java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement Exception","body":"<p>I faced similar issue with error <code>oracle.i18n.text.converter.CharacterConverterOGS.getInstance(int)</code> and found out a link to <a href=\"https://support.oracle.com/knowledge/Middleware/465177_1.html\" rel=\"nofollow noreferrer\">oracle documentation</a>.</p>\n<p><code>One Strange thing is I cant even see oracle.i18n.text.converter.CharacterConverter in my local.</code> Maybe some dependencies are using the method in question.</p>\n<p><strong>The solution:</strong> I found that I upgraded ojdbc14.jar to ojdbc7.jar so I downgraded it again to ojdbc14.jar and it worked. Hope this help. You might also want to have a look at <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">this doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6834571,"reputation":1130,"user_id":5257091,"display_name":"Hasnaa Ibraheem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676988690,"creation_date":1676988690,"answer_id":75521669,"question_id":68057257,"body_markdown":"The reason in my case was because there was an incompatible version of orai18n.jar its version was 11.2.0.4.0, while I was using ojdbc8.jar Implementation-Version: 12.2.0.1.0 and the database version was 19c\r\n\r\nAs Karan pointed out, that class: `oracle.i18n.text.converter.CharacterConverter` isn&#39;t in the ojdbc jar itself, instead it is in one of the dependent jars -&gt; orai18n.jar\r\n\r\nSo the solution is to use a compatible version of this jar orai18n.jar","title":"Facing java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement Exception","body":"<p>The reason in my case was because there was an incompatible version of orai18n.jar its version was 11.2.0.4.0, while I was using ojdbc8.jar Implementation-Version: 12.2.0.1.0 and the database version was 19c</p>\n<p>As Karan pointed out, that class: <code>oracle.i18n.text.converter.CharacterConverter</code> isn't in the ojdbc jar itself, instead it is in one of the dependent jars -&gt; orai18n.jar</p>\n<p>So the solution is to use a compatible version of this jar orai18n.jar</p>\n"},{"tags":[],"owner":{"account_id":399353,"reputation":67,"user_id":764632,"accept_rate":100,"display_name":"Raakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693655008,"creation_date":1693655008,"answer_id":77028134,"question_id":68057257,"body_markdown":"In my case database was shutdown unexpectedly. I restarted oracle and everything start working well\r\n\r\n","title":"Facing java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement Exception","body":"<p>In my case database was shutdown unexpectedly. I restarted oracle and everything start working well</p>\n"}],"owner":{"account_id":7293605,"reputation":95,"user_id":5559234,"display_name":"venkatraman hiregange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69184208,"answer_count":3,"score":1,"last_activity_date":1693655008,"creation_date":1624202154,"question_id":68057257,"body_markdown":"Seeing below exception while running my application in eks(In my local its able to connects to oracle and persists the data base).\r\n\r\n    Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement([CI[BI[I)[B\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n    \tat com.mycompany.Main.main(Main.java:34)\r\n    \tCaused by: java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement([CI[BI[I)[B\r\n    \tat oracle.sql.converter.I18CharacterConvertersWrapper.toOracleStringWithReplacement(I18CharacterConvertersWrapper.java:107)\r\n    \tat oracle.sql.CharacterSetWithConverter.convertWithReplacement(CharacterSetWithConverter.java:203)\r\n    \tat oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:773)\r\n    \tat oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:744)\r\n    \tat oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:712)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.javaCharsToCHARBytes(PhysicalConnection.java:6021)\r\n    \tat oracle.jdbc.driver.StringBinder.bind(OraclePreparedStatement.java:18826)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setupBindBuffers(OraclePreparedStatement.java:3243)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2661)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3772)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3887)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat oracle.ucp.jdbc.proxy.StatementProxyFactory.invoke(StatementProxyFactory.java:367)\r\n    \tat oracle.ucp.jdbc.proxy.PreparedStatementProxyFactory.invoke(PreparedStatementProxyFactory.java:194)\r\n    \tat com.sun.proxy.$Proxy33.execute(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\r\n    \tat com.sun.proxy.$Proxy29.execute(Unknown Source)\r\n    \tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)\r\n    \tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)\r\n    \tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)\r\n    \tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)\r\n    \tat com.sun.proxy.$Proxy24.update(Unknown Source)\r\n    \tat org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)\r\n    \tat com.mycompany.dao.DaoImpl.update(DaoImpl.java:55)\r\n    \tat com.mycompany.Service.insertOrUpdate(Service.java:146)\r\n    \tat com.mycompany.Service.lambda$insertUpdateOracle$1(Service.java:134)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n    \tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n    \tat com.mycompany.Service.insertUpdateOracle(Service.java:131)\r\n    \tat com.mycompany.Service.lambda$update$0(Service.java:37)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n    \tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n    \tat com.mycompany.Service.update(Service.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1912)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1854)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\r\n    \t... 12 common frames omitted.\r\n\r\n\r\nOne Strange thing is I cant even see oracle.i18n.text.converter.CharacterConverter in my local.\r\n\r\nI am using ojdbc8:12.2.0.1. \r\nCan somebody tell the reason for this issue?","title":"Facing java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement Exception","body":"<p>Seeing below exception while running my application in eks(In my local its able to connects to oracle and persists the data base).</p>\n<pre><code>Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement([CI[BI[I)[B\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.mycompany.Main.main(Main.java:34)\n    Caused by: java.lang.NoSuchMethodError: oracle.i18n.text.converter.CharacterConverter.toOracleStringWithReplacement([CI[BI[I)[B\n    at oracle.sql.converter.I18CharacterConvertersWrapper.toOracleStringWithReplacement(I18CharacterConvertersWrapper.java:107)\n    at oracle.sql.CharacterSetWithConverter.convertWithReplacement(CharacterSetWithConverter.java:203)\n    at oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:773)\n    at oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:744)\n    at oracle.jdbc.driver.DBConversion.javaCharsToCHARBytes(DBConversion.java:712)\n    at oracle.jdbc.driver.PhysicalConnection.javaCharsToCHARBytes(PhysicalConnection.java:6021)\n    at oracle.jdbc.driver.StringBinder.bind(OraclePreparedStatement.java:18826)\n    at oracle.jdbc.driver.OraclePreparedStatement.setupBindBuffers(OraclePreparedStatement.java:3243)\n    at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2661)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3772)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343)\n    at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3887)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1079)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at oracle.ucp.jdbc.proxy.StatementProxyFactory.invoke(StatementProxyFactory.java:367)\n    at oracle.ucp.jdbc.proxy.PreparedStatementProxyFactory.invoke(PreparedStatementProxyFactory.java:194)\n    at com.sun.proxy.$Proxy33.execute(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n    at com.sun.proxy.$Proxy29.execute(Unknown Source)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)\n    at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)\n    at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)\n    at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)\n    at com.sun.proxy.$Proxy24.update(Unknown Source)\n    at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)\n    at com.mycompany.dao.DaoImpl.update(DaoImpl.java:55)\n    at com.mycompany.Service.insertOrUpdate(Service.java:146)\n    at com.mycompany.Service.lambda$insertUpdateOracle$1(Service.java:134)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n    at com.mycompany.Service.insertUpdateOracle(Service.java:131)\n    at com.mycompany.Service.lambda$update$0(Service.java:37)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n    at com.mycompany.Service.update(Service.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1912)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1854)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\n    ... 12 common frames omitted.\n</code></pre>\n<p>One Strange thing is I cant even see oracle.i18n.text.converter.CharacterConverter in my local.</p>\n<p>I am using ojdbc8:12.2.0.1.\nCan somebody tell the reason for this issue?</p>\n"},{"tags":["java","google-translate"],"answers":[{"comments":[{"owner":{"account_id":9804624,"reputation":53,"user_id":7264841,"display_name":"Ani"},"score":1,"creation_date":1484922403,"post_id":41518824,"comment_id":70723126,"body_markdown":"Thanks, I&#39;ll try that!\nSorry for the late reply but I only got the reply notification email yesterday.","body":"Thanks, I&#39;ll try that! Sorry for the late reply but I only got the reply notification email yesterday."}],"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483772734,"creation_date":1483772734,"answer_id":41518824,"question_id":41028831,"body_markdown":"This piece of code can do the trick:\r\n\r\n\t\tPattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n\t\tString line = &quot;yourtext&quot;;\r\n\t\tMatcher m = p.matcher(line);\r\n\t\twhile (m.find()) {\r\n\t\t\tSystem.out.println(&quot;m.group(1)=&quot; + m.group(1));\r\n\t\t}\r\n\r\n\r\n","title":"Parsing returned response from Google Translate&#39;s translate_a","body":"<p>This piece of code can do the trick:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"\\\"([^\\\"]*)\\\"\");\n    String line = \"yourtext\";\n    Matcher m = p.matcher(line);\n    while (m.find()) {\n        System.out.println(\"m.group(1)=\" + m.group(1));\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693805848,"post_id":77028040,"comment_id":135803784,"body_markdown":"This looks like JavaScript code. I could not find a `splice` method in any of the JDK [classes](https://docs.oracle.com/en/java/javase/20/docs/api/index.html). The question is tagged &quot;java&quot; so I think that the OP is asking for Java code (and **not** JavaScript code).","body":"This looks like JavaScript code. I could not find a <code>splice</code> method in any of the JDK <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/index.html\" rel=\"nofollow noreferrer\">classes</a>. The question is tagged &quot;java&quot; so I think that the OP is asking for Java code (and <b>not</b> JavaScript code)."}],"tags":[],"owner":{"account_id":23747759,"reputation":1,"user_id":17764912,"display_name":"Gary Cosby"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693653790,"creation_date":1693653074,"answer_id":77028040,"question_id":41028831,"body_markdown":"here is simple code to parse the response.\r\n\r\n\tvar str = responseText.split(&quot;]]]]&quot;);\r\n\tfor (i=0; i&lt;str.length-1; i++){\r\n\t\tstr[i] = str[i].split(&#39;&quot;,&quot;&#39;)[0].split(&#39;&quot;&#39;)[1];\r\n\t}\r\n\tstr.splice(-1);\r\n\tstr = str.join(&quot; &quot;);\r\n ","title":"Parsing returned response from Google Translate&#39;s translate_a","body":"<p>here is simple code to parse the response.</p>\n<pre><code>var str = responseText.split(&quot;]]]]&quot;);\nfor (i=0; i&lt;str.length-1; i++){\n    str[i] = str[i].split('&quot;,&quot;')[0].split('&quot;')[1];\n}\nstr.splice(-1);\nstr = str.join(&quot; &quot;);\n</code></pre>\n"}],"owner":{"account_id":9804624,"reputation":53,"user_id":7264841,"display_name":"Ani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693653790,"creation_date":1481151169,"question_id":41028831,"body_markdown":"I&#39;m currently trying to translate a String using Google Translate&#39;s &quot;free&quot; API.\r\n\r\nThe [function][1] I currenly have is the following:\r\n\r\n    static String sourceLang = &quot;en&quot;;\r\n\tstatic String targetLang = &quot;de&quot;;\r\n\r\n    public static void translate(String msg) throws Exception {\r\n       \r\n        msg = URLEncoder.encode(msg, &quot;UTF-8&quot;);\r\n        URL url = new URL(&quot;http://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=&quot; + sourceLang + &quot;&amp;tl=&quot;\r\n\t\t\t\t+ targetLang + &quot;&amp;dt=t&amp;q=&quot; + msg + &quot;&amp;ie=UTF-8&amp;oe=UTF-8&quot;);\r\n\r\n\t\tURLConnection uc = url.openConnection();\r\n\t\tuc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;); \r\n\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(uc.getInputStream(), &quot;UTF-8&quot;));\r\n\t\tString inputLine;\r\n\r\n\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\tSystem.out.println(inputLine);\r\n\t\t}\r\n\r\n        in.close();\r\n    }\r\n\r\nWhich returns me, for example\r\n      \r\n    [[[&quot;Das ist ein Satz&quot;,&quot;This is a sentence&quot;,,,3]],,&quot;en&quot;]\r\nor\r\n\r\n    [[[&quot;Dies ist ein weiterer Satz mit einigen Symbolen \\&quot;$% \\u0026 / () = &#186; ~ &#170; ^&quot;,&quot;This is another sentence with a few symbols \\&quot;$%\\u0026/()=&#186;~&#170;^&quot;,,,3]],,&quot;en&quot;]\r\n\r\nI&#39;ve been looking into a few JSON parsing methods but I couldn&#39;t find a way to convert that to JSON then parse those 3 strings as three String or String[].\r\n\r\nAny idea on how should it be properly done?\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html","title":"Parsing returned response from Google Translate&#39;s translate_a","body":"<p>I'm currently trying to translate a String using Google Translate's \"free\" API.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html\" rel=\"nofollow noreferrer\">function</a> I currenly have is the following:</p>\n\n<pre><code>static String sourceLang = \"en\";\nstatic String targetLang = \"de\";\n\npublic static void translate(String msg) throws Exception {\n\n    msg = URLEncoder.encode(msg, \"UTF-8\");\n    URL url = new URL(\"http://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=\" + sourceLang + \"&amp;tl=\"\n            + targetLang + \"&amp;dt=t&amp;q=\" + msg + \"&amp;ie=UTF-8&amp;oe=UTF-8\");\n\n    URLConnection uc = url.openConnection();\n    uc.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\"); \n\n    BufferedReader in = new BufferedReader(new InputStreamReader(uc.getInputStream(), \"UTF-8\"));\n    String inputLine;\n\n    while ((inputLine = in.readLine()) != null) {\n        System.out.println(inputLine);\n    }\n\n    in.close();\n}\n</code></pre>\n\n<p>Which returns me, for example</p>\n\n<pre><code>[[[\"Das ist ein Satz\",\"This is a sentence\",,,3]],,\"en\"]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[[[\"Dies ist ein weiterer Satz mit einigen Symbolen \\\"$% \\u0026 / () = º ~ ª ^\",\"This is another sentence with a few symbols \\\"$%\\u0026/()=º~ª^\",,,3]],,\"en\"]\n</code></pre>\n\n<p>I've been looking into a few JSON parsing methods but I couldn't find a way to convert that to JSON then parse those 3 strings as three String or String[].</p>\n\n<p>Any idea on how should it be properly done?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","jdbc","vert.x","reactive"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1694687331,"post_id":77025638,"comment_id":135925296,"body_markdown":"What does not work with `io.vertx.reactivex.sqlclient.Pool#rxWithTransaction` ? Can you update the snippet and share the error?","body":"What does not work with <code>io.vertx.reactivex.sqlclient.Pool#rxWithTransaction</code> ? Can you update the snippet and share the error?"}],"owner":{"account_id":24077722,"reputation":11,"user_id":18052775,"display_name":"ethereumUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693653096,"creation_date":1693597169,"question_id":77025638,"body_markdown":"I&#39;m trying to create a transaction in Rx vert.x 4.4.4 with Java. I spent a lot of time in it, but I can&#39;t get it done.\r\n\r\nI&#39;m using JDBCC Client:\r\n\r\n```\r\n@Inject\r\npublic CompanyRepositoryImpl(final Vertx vertx) {\r\n    pool = JDBCPool.pool(vertx, Config.getInstance().getAuthDbConfig());\r\n}\r\n```\r\n\r\n```\r\nprivate Object createTransaction(List&lt;String&gt; QUERY_TO_EXECUTE) {\r\n    return pool.rxGetConnection().doOnSuccess(conn -&gt; {\r\n        conn.rxBegin().doOnSuccess(tx -&gt; {\r\n\r\n            conn.preparedQuery(null)\r\n                .rxExecute(null)\r\n                .flatMap(rows -&gt; {\r\n                    return null;\r\n                    }\r\n                );\r\n            tx.rxCommit();\r\n        });\r\n    });\r\n}\r\n```\r\n\r\nThe goal is to execute the list of queries that comes from the QUERY_TO_EXECUTE arg , and execute in order, A THEN B THEN C THEN D ...\r\n\r\nAnd if some query fail, complete transaction fail.\r\n\r\nI tried a lot of things but none worked for me.\r\n\r\nI tried reading Vert.x 4.4.4 doc, but none of that worked for me. Using rxWithTransaction() or rxWithConnection(), please help me.","title":"How to create a transaction to insert multiple queries","body":"<p>I'm trying to create a transaction in Rx vert.x 4.4.4 with Java. I spent a lot of time in it, but I can't get it done.</p>\n<p>I'm using JDBCC Client:</p>\n<pre><code>@Inject\npublic CompanyRepositoryImpl(final Vertx vertx) {\n    pool = JDBCPool.pool(vertx, Config.getInstance().getAuthDbConfig());\n}\n</code></pre>\n<pre><code>private Object createTransaction(List&lt;String&gt; QUERY_TO_EXECUTE) {\n    return pool.rxGetConnection().doOnSuccess(conn -&gt; {\n        conn.rxBegin().doOnSuccess(tx -&gt; {\n\n            conn.preparedQuery(null)\n                .rxExecute(null)\n                .flatMap(rows -&gt; {\n                    return null;\n                    }\n                );\n            tx.rxCommit();\n        });\n    });\n}\n</code></pre>\n<p>The goal is to execute the list of queries that comes from the QUERY_TO_EXECUTE arg , and execute in order, A THEN B THEN C THEN D ...</p>\n<p>And if some query fail, complete transaction fail.</p>\n<p>I tried a lot of things but none worked for me.</p>\n<p>I tried reading Vert.x 4.4.4 doc, but none of that worked for me. Using rxWithTransaction() or rxWithConnection(), please help me.</p>\n"},{"tags":["java","byte"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693648726,"post_id":77027813,"comment_id":135790620,"body_markdown":"How about `Arrays.fill()`. You must have not been looking very hard.","body":"How about <code>Arrays.fill()</code>. You must have not been looking very hard."},{"owner":{"account_id":29350655,"reputation":13,"user_id":22487892,"display_name":"5125"},"score":0,"creation_date":1693649481,"post_id":77027813,"comment_id":135790693,"body_markdown":"This is what I found. was more keen on how do I clear out the space than fill operations. But thanks.","body":"This is what I found. was more keen on how do I clear out the space than fill operations. But thanks."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693650402,"post_id":77027813,"comment_id":135790774,"body_markdown":"If you don&#39;t understand that filling with zero is the same as &quot;clearing out&quot;, then you&#39;re not much of a programmer.","body":"If you don&#39;t understand that filling with zero is the same as &quot;clearing out&quot;, then you&#39;re not much of a programmer."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693651678,"post_id":77027813,"comment_id":135790876,"body_markdown":"`fill` with zero -&gt; &quot;*no one can see the byte value*&quot;, as requested in question -- &quot;*more keen on how do I clear out the space*&quot; -&gt; memory usage goes down, **but** the bytes are not really *gone*, the data maybe still there -- you must decide which one you want (as requested in question, or as in the comment) well, you can do both (first fill, then free the space) || BTW &quot;*seems arrays.fill is the only way.*&quot; - you can also fill the buffer with random data, or whatever; just bit more code","body":"<code>fill</code> with zero -&gt; &quot;<i>no one can see the byte value</i>&quot;, as requested in question -- &quot;<i>more keen on how do I clear out the space</i>&quot; -&gt; memory usage goes down, <b>but</b> the bytes are not really <i>gone</i>, the data maybe still there -- you must decide which one you want (as requested in question, or as in the comment) well, you can do both (first fill, then free the space) || BTW &quot;<i>seems arrays.fill is the only way.</i>&quot; - you can also fill the buffer with random data, or whatever; just bit more code"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1693652781,"post_id":77027813,"comment_id":135790988,"body_markdown":"Are we talking about an array or about `java.nio.ByteBuffer`?","body":"Are we talking about an array or about <code>java.nio.ByteBuffer</code>?"}],"answers":[{"comments":[{"owner":{"account_id":29350655,"reputation":13,"user_id":22487892,"display_name":"5125"},"score":1,"creation_date":1693649530,"post_id":77027858,"comment_id":135790702,"body_markdown":"Seems arrays.fill is the only way. we cannot freeup the space by default right?","body":"Seems arrays.fill is the only way. we cannot freeup the space by default right?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693650449,"post_id":77027858,"comment_id":135790778,"body_markdown":"You fill with zero, then you null out the reference. That way the data is not visible while it&#39;s waiting for GC.","body":"You fill with zero, then you null out the reference. That way the data is not visible while it&#39;s waiting for GC."}],"tags":[],"owner":{"account_id":29241064,"reputation":26,"user_id":22402580,"display_name":"linden"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693649300,"creation_date":1693649300,"answer_id":77027858,"question_id":77027813,"body_markdown":"Extending on Kayamans answer. Arrays.fill() is the way to go. The idea here is you will fill the bytebuffer with (byte)0 which will make it impossible to read the origin bytes once fill is invoked.\r\n\r\nOther than this we cannot clear out space using any inbuilt method.\r\n\r\nWhat we are doing is substitution rather than clearing out or freeing the space.\r\n\r\nHope this helps.\r\n\r\nMore read: https://stackoverflow.com/questions/19094355/are-byte-arrays-initialised-to-zero-in-java","title":"How to clear out bytebuffer in correct way","body":"<p>Extending on Kayamans answer. Arrays.fill() is the way to go. The idea here is you will fill the bytebuffer with (byte)0 which will make it impossible to read the origin bytes once fill is invoked.</p>\n<p>Other than this we cannot clear out space using any inbuilt method.</p>\n<p>What we are doing is substitution rather than clearing out or freeing the space.</p>\n<p>Hope this helps.</p>\n<p>More read: <a href=\"https://stackoverflow.com/questions/19094355/are-byte-arrays-initialised-to-zero-in-java\">Are byte arrays initialised to zero in Java?</a></p>\n"}],"owner":{"account_id":29350655,"reputation":13,"user_id":22487892,"display_name":"5125"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77027858,"answer_count":1,"score":0,"last_activity_date":1693652728,"creation_date":1693648590,"question_id":77027813,"body_markdown":"I am struggling from few days to find out exact answer for this.\r\nHow to clear out bytebuffer in a correct way in Java. \r\n\r\nI need to make sure that in main memory no one can see the byte value after processing.\r\n\r\nI did not find any built-in method from Java class which will achieve this result.","title":"How to clear out bytebuffer in correct way","body":"<p>I am struggling from few days to find out exact answer for this.\nHow to clear out bytebuffer in a correct way in Java.</p>\n<p>I need to make sure that in main memory no one can see the byte value after processing.</p>\n<p>I did not find any built-in method from Java class which will achieve this result.</p>\n"},{"tags":["java","android","arraylist","getter-setter","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368092381,"post_id":16458683,"comment_id":23610967,"body_markdown":"the local arraylist which gets created along with the country arraylist contains 200+ objects so thats not the problemm.\n\n\t\t                    \t    resultbox.setText(countryNames.get(2).Name); // prints a name\n\t\t                    \t    resultbox.setText(ref.getCountry(2).Name); //returns error","body":"the local arraylist which gets created along with the country arraylist contains 200+ objects so thats not the problemm.  \t\t                    \t    resultbox.setText(countryNames.get(2).Name); // prints a name \t\t                    \t    resultbox.setText(ref.getCountry(2).Name); //returns error"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368092417,"post_id":16458683,"comment_id":23610983,"body_markdown":"Do ref.countryList.get(0).Name as you have added only 1 item into the list;","body":"Do ref.countryList.get(0).Name as you have added only 1 item into the list;"},{"owner":{"account_id":1518561,"reputation":2184,"user_id":1418938,"accept_rate":56,"display_name":"Davey Chu"},"score":0,"creation_date":1368092760,"post_id":16458683,"comment_id":23611152,"body_markdown":"Show us the code that adds the 200+ objects. You are most likely adding it to a different list.","body":"Show us the code that adds the 200+ objects. You are most likely adding it to a different list."}],"answers":[{"tags":[],"owner":{"account_id":1927122,"reputation":5256,"user_id":1737285,"accept_rate":80,"display_name":"Daniel Lerps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368092392,"creation_date":1368092392,"answer_id":16458757,"question_id":16458683,"body_markdown":"You access a non-existing index. You only add one country ergo you can only access:\r\n\r\n    String name = ref.countryList.get(0).Name;\r\n\r\nAnd you should really rethink your design. `public` attributes are not the best-practice way. This is the reason why you should write getter and setter methods in the first place.\r\n\r\nYou should do something like this instead:\r\n\r\n    public Country getCountry(int index)\r\n    {\r\n        if(index &lt; countryList.size())\r\n        {\r\n            return countryList.get(index);\r\n        }\r\n        return null;\r\n    }","title":"how to use simple getter and setter with android","body":"<p>You access a non-existing index. You only add one country ergo you can only access:</p>\n\n<pre><code>String name = ref.countryList.get(0).Name;\n</code></pre>\n\n<p>And you should really rethink your design. <code>public</code> attributes are not the best-practice way. This is the reason why you should write getter and setter methods in the first place.</p>\n\n<p>You should do something like this instead:</p>\n\n<pre><code>public Country getCountry(int index)\n{\n    if(index &lt; countryList.size())\n    {\n        return countryList.get(index);\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368092708,"post_id":16458762,"comment_id":23611122,"body_markdown":"i updated my comment above but i use a for loop so there should be way more than 3 items in the arraylist. the local version contains 241","body":"i updated my comment above but i use a for loop so there should be way more than 3 items in the arraylist. the local version contains 241"}],"tags":[],"owner":{"account_id":1539681,"reputation":15923,"user_id":1434631,"display_name":"Nermeen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368092401,"creation_date":1368092401,"answer_id":16458762,"question_id":16458683,"body_markdown":"in `String name = ref.countryList.get(2).Name;` you are trying to get the **third** element in the list while you added only **one**...  \r\nit should be `String name = ref.countryList.get(0).Name;` and you need to check before for not receiving null pointer exception\r\n\r\n","title":"how to use simple getter and setter with android","body":"<p>in <code>String name = ref.countryList.get(2).Name;</code> you are trying to get the <strong>third</strong> element in the list while you added only <strong>one</strong>...<br>\nit should be <code>String name = ref.countryList.get(0).Name;</code> and you need to check before for not receiving null pointer exception</p>\n"},{"comments":[{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368092606,"post_id":16458791,"comment_id":23611077,"body_markdown":"no there should be 200+ items in the list i use a for loop to add them all. the local version of the arraylist which i made for testing has 241 items inside of it and i do the same thing to add to both","body":"no there should be 200+ items in the list i use a for loop to add them all. the local version of the arraylist which i made for testing has 241 items inside of it and i do the same thing to add to both"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368092747,"post_id":16458791,"comment_id":23611145,"body_markdown":"Then I dont think there is any reason for exception , Can you post your exception stacktrace","body":"Then I dont think there is any reason for exception , Can you post your exception stacktrace"},{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368094377,"post_id":16458791,"comment_id":23611971,"body_markdown":"com.example.wsdl1.MainActivity$1$1.run(MainActivity.java:95)\nandroid.os.Handler.handleCallback(Handler.java:615)\nandroid.os.Handler.dispatchMessage(Handler.java:92)\nandroid.os.Looper.loop(Looper.java:137)\nandroid.app.ActivityThread.main(ActivityThread.java:4745)\njava.lang.reflect.Method.invokeNative(Native Method)\njava.lang.reflect.Method.invoke(Method.java:511)\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\ndalvik.system.NativeStart.main(Native Method)","body":"com.example.wsdl1.MainActivity$1$1.run(MainActivity.java:95) android.os.Handler.handleCallback(Handler.java:615) android.os.Handler.dispatchMessage(Handler.java:92) android.os.Looper.loop(Looper.java:137) android.app.ActivityThread.main(ActivityThread.java:4745) java.lang.reflect.Method.invokeNative(Native Method) java.lang.reflect.Method.invoke(Method.java:511) com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(Z&zwnj;&#8203;ygoteInit.java:786) com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553) dalvik.system.NativeStart.main(Native Method)"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368095357,"post_id":16458791,"comment_id":23612508,"body_markdown":"you said you were getting outofbound exception.. I dont see that here","body":"you said you were getting outofbound exception.. I dont see that here"},{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368095495,"post_id":16458791,"comment_id":23612569,"body_markdown":"thats what appears in logcat. When i output the message to the screen i get out of bounds. i updated the code daniel posted and now i get a nullpointerexception but its the same thing","body":"thats what appears in logcat. When i output the message to the screen i get out of bounds. i updated the code daniel posted and now i get a nullpointerexception but its the same thing"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368095878,"post_id":16458791,"comment_id":23612772,"body_markdown":"See, when you get a nullpointerexception..m there must be a line no. mentioned in the stack. So if you try to find out that line no. we can see which line is giving an error. Or else is there some way I could get all your code and try to run on my side. Because just with the code that you have posted , it is working fine for me","body":"See, when you get a nullpointerexception..m there must be a line no. mentioned in the stack. So if you try to find out that line no. we can see which line is giving an error. Or else is there some way I could get all your code and try to run on my side. Because just with the code that you have posted , it is working fine for me"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368096205,"post_id":16458791,"comment_id":23612941,"body_markdown":"There is one more possibility of error , that the code you are running has old .class files, you can try by deleting those .class files and compile your classes again.","body":"There is one more possibility of error , that the code you are running has old .class files, you can try by deleting those .class files and compile your classes again."},{"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"score":0,"creation_date":1368096219,"post_id":16458791,"comment_id":23612955,"body_markdown":"i have through trial and error found the line thats breaking it is resultbox.setText(ref.getCountry(0).Name); when this line is gone it doesnt throw an exception but also doesnt give a result. but i know its giving the exception because there isnt anything inside of the array. Perhaps its worth mentioning that the adding of the data to the arraylist is done inside of a thread. But i dont see how that is the problem as i have the same code side by side 1 is adding to the local arraylist and and other to country arraylist. 1 works the other doesnt","body":"i have through trial and error found the line thats breaking it is resultbox.setText(ref.getCountry(0).Name); when this line is gone it doesnt throw an exception but also doesnt give a result. but i know its giving the exception because there isnt anything inside of the array. Perhaps its worth mentioning that the adding of the data to the arraylist is done inside of a thread. But i dont see how that is the problem as i have the same code side by side 1 is adding to the local arraylist and and other to country arraylist. 1 works the other doesnt"},{"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"score":0,"creation_date":1368096320,"post_id":16458791,"comment_id":23613020,"body_markdown":"Dude I seriously need to see completely code to solve this mistery.","body":"Dude I seriously need to see completely code to solve this mistery."}],"tags":[],"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"comment_count":9,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368092501,"creation_date":1368092501,"answer_id":16458791,"question_id":16458683,"body_markdown":"Do `ref.countryList.get(0).Name` as you have added only 1 item into the list.\r\n\r\nI would suggest more of it like \r\n\r\n     ref.countryList.get(0).getName()","title":"how to use simple getter and setter with android","body":"<p>Do <code>ref.countryList.get(0).Name</code> as you have added only 1 item into the list.</p>\n\n<p>I would suggest more of it like </p>\n\n<pre><code> ref.countryList.get(0).getName()\n</code></pre>\n"}],"owner":{"account_id":2127979,"reputation":3240,"user_id":1889580,"display_name":"Dan Hastings"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693652690,"creation_date":1368092135,"question_id":16458683,"body_markdown":"I have a class country with an arraylist that stores countries. I have created a get and set to add and get items from specified indexes from the array list but i wont work. Whenever i call an index from the arraylist i get an out of bounds exception because the array is empty or at least seems to be. \r\n\r\n    public class country extends Application {\r\n    \r\n    \tpublic ArrayList&lt;country&gt; countryList = new ArrayList&lt;country&gt;();\r\n    \tpublic String Name;\r\n    \tpublic String Code;\r\n    \tpublic String  ID;\r\n    \t\r\n    \tpublic country()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic country(String name, String id, String code)\r\n    \t{\r\n    \t\tthis.Name = name;\r\n    \t\tthis.ID = id;\r\n    \t\tthis.Code = code;\r\n    \t}\r\n    \t\r\n    \tpublic void setCountry(country c)\r\n    \t{\r\n    \t\tcountryList.add(c);\r\n    \t}\r\n    \t\r\n    \tpublic country getCountry(int index)\r\n    \t{\t\r\n    \t\tcountry aCountry = countryList.get(index);\r\n    \t\treturn aCountry;\r\n    \t}\r\n\r\nto call the setter i use. i do this inside a for loop so it adds 200+ elements\r\n\r\n    country ref = new country();\r\n        \t\t    \t\r\n    ref.setCountry(new country (sName, ID, Code));\r\n\r\nthen when i want to get an index\r\n\r\n    String name = ref.countryList.get(2).Name;\r\n\r\ni have done the same thing but used a local arraylist and it populated fine and i was able to display the names so the datasource isnt the problem its whatever im doing wrong setting and getting the data inside the arraylist in the country class","title":"how to use simple getter and setter with android","body":"<p>I have a class country with an arraylist that stores countries. I have created a get and set to add and get items from specified indexes from the array list but i wont work. Whenever i call an index from the arraylist i get an out of bounds exception because the array is empty or at least seems to be. </p>\n\n<pre><code>public class country extends Application {\n\n    public ArrayList&lt;country&gt; countryList = new ArrayList&lt;country&gt;();\n    public String Name;\n    public String Code;\n    public String  ID;\n\n    public country()\n    {\n\n    }\n\n    public country(String name, String id, String code)\n    {\n        this.Name = name;\n        this.ID = id;\n        this.Code = code;\n    }\n\n    public void setCountry(country c)\n    {\n        countryList.add(c);\n    }\n\n    public country getCountry(int index)\n    {   \n        country aCountry = countryList.get(index);\n        return aCountry;\n    }\n</code></pre>\n\n<p>to call the setter i use. i do this inside a for loop so it adds 200+ elements</p>\n\n<pre><code>country ref = new country();\n\nref.setCountry(new country (sName, ID, Code));\n</code></pre>\n\n<p>then when i want to get an index</p>\n\n<pre><code>String name = ref.countryList.get(2).Name;\n</code></pre>\n\n<p>i have done the same thing but used a local arraylist and it populated fine and i was able to display the names so the datasource isnt the problem its whatever im doing wrong setting and getting the data inside the arraylist in the country class</p>\n"},{"tags":["javascript","java","node.js","spring-boot"],"comments":[{"owner":{"account_id":17062475,"reputation":3303,"user_id":12345551,"display_name":"Richard Ebeling"},"score":0,"creation_date":1693792761,"post_id":77027881,"comment_id":135802864,"body_markdown":"Does this answer your question? [Calling a node.js script from inside java](https://stackoverflow.com/questions/14275479/calling-a-node-js-script-from-inside-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14275479/calling-a-node-js-script-from-inside-java\">Calling a node.js script from inside java</a>"}],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693651670,"creation_date":1693651670,"answer_id":77027969,"question_id":77027881,"body_markdown":"I know there are two ways to call node.js code in java.\\\r\nFirst if you have the node js environment in your target server,you can use the command line to do it.\\\r\nFollow is a simple example if that you hava a script named &quot;script.js&quot;\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;node&quot;, &quot;script.js&quot;,&quot;name=jack&quot;);\r\n    Process process = pb.start();\r\n    \r\n    InputStream stdout = process.getInputStream();\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\r\n    \r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n\r\nThe second method is to use some tripartite class library to invoke the js code.\r\nJust like graal js, J2V8,etc.","title":"From Springboot app, invoke nodejs script and pass java object to the script, in script modify and return back object to calling class","body":"<p>I know there are two ways to call node.js code in java.<br />\nFirst if you have the node js environment in your target server,you can use the command line to do it.<br />\nFollow is a simple example if that you hava a script named &quot;script.js&quot;</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;node&quot;, &quot;script.js&quot;,&quot;name=jack&quot;);\nProcess process = pb.start();\n\nInputStream stdout = process.getInputStream();\nBufferedReader reader = new BufferedReader(new InputStreamReader(stdout));\n\nString line;\nwhile ((line = reader.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n<p>The second method is to use some tripartite class library to invoke the js code.\nJust like graal js, J2V8,etc.</p>\n"}],"owner":{"account_id":1382615,"reputation":177,"user_id":1315308,"accept_rate":67,"display_name":"Fossil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693651670,"creation_date":1693649785,"question_id":77027881,"body_markdown":"&lt;pre&gt;\r\nIs there a way in java (Springboot app) \r\n- to invoke NodeJs script file, \r\n- pass java object to the script and modify that object in the js script. \r\n- And return back the modified object    \r\n&lt;/pre&gt;\r\nfor example as below.\r\n\r\n    class Services\r\n    {\r\n        Address address = new Address(....);\r\n\r\n        /*\r\n        invoke NodeJs script and pass address object\r\n\r\n        in the js script modify address object\r\n        var address = getAddress()\r\n        modify address object\r\n        return address object back to java calling class\r\n        setResultObject(address) or return address;\r\n        */\r\n\r\n        address = invokeJS(&quot;nameOfScriptWithLocation&quot;, address);\r\n        System.out.println(&quot;modified address&quot; + address.toString()\r\n    }","title":"From Springboot app, invoke nodejs script and pass java object to the script, in script modify and return back object to calling class","body":"<pre>\nIs there a way in java (Springboot app) \n- to invoke NodeJs script file, \n- pass java object to the script and modify that object in the js script. \n- And return back the modified object    \n</pre>\n<p>for example as below.</p>\n<pre><code>class Services\n{\n    Address address = new Address(....);\n\n    /*\n    invoke NodeJs script and pass address object\n\n    in the js script modify address object\n    var address = getAddress()\n    modify address object\n    return address object back to java calling class\n    setResultObject(address) or return address;\n    */\n\n    address = invokeJS(&quot;nameOfScriptWithLocation&quot;, address);\n    System.out.println(&quot;modified address&quot; + address.toString()\n}\n</code></pre>\n"},{"tags":["java","authentication","spring-security","thymeleaf","client-certificates"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693651242,"post_id":77027911,"comment_id":135790836,"body_markdown":"create two different SecurityFilterChains","body":"create two different SecurityFilterChains"}],"owner":{"account_id":29350716,"reputation":1,"user_id":22487936,"display_name":"Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693650413,"creation_date":1693650413,"question_id":77027911,"body_markdown":"I want to have two logins. In my navbar I have two links:\r\n\r\n- Login, which leads the user to a basic user/password formulary\r\n- Cert Login, which I intend it to be a login where you can select any personal certificate from the Certificate Store and authenticate.\r\n\r\nSo far, both of them work, but I don&#39;t want the Certificate Selector popup to do so when I go to basic Login.\r\n\r\nMy SecurityFilterChain:\r\n\r\n```\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n    http\r\n        .csrf(csrfCustomizer -&gt; csrfCustomizer.disable())\r\n        .cors(withDefaults())\r\n        .headers(headersCustomizer -&gt; headersCustomizer.frameOptions(withDefaults()).disable())\r\n        .httpBasic(withDefaults())\r\n        .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\r\n            .requestMatchers(&quot;/logincert/**&quot;).permitAll()\r\n            .requestMatchers(&quot;/&quot;).permitAll()\r\n            .anyRequest().authenticated() )\r\n        .formLogin(formLogin -&gt; formLogin\r\n          .loginPage(&quot;/login&quot;)\r\n          .defaultSuccessUrl(&quot;/home&quot;)\r\n          .permitAll())\r\n        .x509(x509 -&gt; x509\r\n          .userDetailsService(userDetailsService)\r\n          .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;));\r\n\r\n    return http.build();\r\n\r\n  }\r\n```\r\n\r\n/login is the default request in Spring, and /logincert (I don&#39;t know if this is necessary):\r\n\r\n```\r\n    @GetMapping(&quot;/logincert&quot;)\r\n    public String securedData(@AuthenticationPrincipal UserDetails userDetails) {\r\n        if (userDetails != null) {\r\n            return &quot;Welcome, &quot; + userDetails.getUsername() + &quot;!&quot;;\r\n        } else {\r\n            return &quot;Authentication failed.&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nMy intention is to disable the Certificate Selector popup in Login, and forcing it in Cert Login","title":"Separate login with credentials and login with certificate in Spring Boot Security","body":"<p>I want to have two logins. In my navbar I have two links:</p>\n<ul>\n<li>Login, which leads the user to a basic user/password formulary</li>\n<li>Cert Login, which I intend it to be a login where you can select any personal certificate from the Certificate Store and authenticate.</li>\n</ul>\n<p>So far, both of them work, but I don't want the Certificate Selector popup to do so when I go to basic Login.</p>\n<p>My SecurityFilterChain:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    http\n        .csrf(csrfCustomizer -&gt; csrfCustomizer.disable())\n        .cors(withDefaults())\n        .headers(headersCustomizer -&gt; headersCustomizer.frameOptions(withDefaults()).disable())\n        .httpBasic(withDefaults())\n        .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\n            .requestMatchers(&quot;/logincert/**&quot;).permitAll()\n            .requestMatchers(&quot;/&quot;).permitAll()\n            .anyRequest().authenticated() )\n        .formLogin(formLogin -&gt; formLogin\n          .loginPage(&quot;/login&quot;)\n          .defaultSuccessUrl(&quot;/home&quot;)\n          .permitAll())\n        .x509(x509 -&gt; x509\n          .userDetailsService(userDetailsService)\n          .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;));\n\n    return http.build();\n\n  }\n</code></pre>\n<p>/login is the default request in Spring, and /logincert (I don't know if this is necessary):</p>\n<pre><code>    @GetMapping(&quot;/logincert&quot;)\n    public String securedData(@AuthenticationPrincipal UserDetails userDetails) {\n        if (userDetails != null) {\n            return &quot;Welcome, &quot; + userDetails.getUsername() + &quot;!&quot;;\n        } else {\n            return &quot;Authentication failed.&quot;;\n        }\n    }\n</code></pre>\n<p>My intention is to disable the Certificate Selector popup in Login, and forcing it in Cert Login</p>\n"},{"tags":["java","xcode","debugging","intellij-idea"],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693650117,"creation_date":1693383001,"question_id":77006065,"body_markdown":"Yes I did search for &quot;similar questions&quot; the old ones are many years old the new environment is very different.  Xcode 14, Java 20, intellij idea latest version.\r\n\r\nI am using idea to build and run the java app.  the DYLD_LIBRARY_PATH is proper for running.\r\n\r\nI build the .dylib with Xcode.  And leave it open to the source for the library.\r\nI put a breakpoint in the library in a call I will make from java later ( using panama generated glue )\r\n\r\nI put a break point in java after java loads the .dylib and before where I want to break in the .dylib.\r\n\r\nThen in Xcode I attempt to &quot;Attach to Process&quot; to the java process now waiting at a break point in the java app. ( I have a break point in the library set ) I use the process ID, I know it is the right one ( I print it from the app ) as &quot;kill (id)&quot; will kill the right one. \r\n\r\nI get this error trying to attach the debugger:\r\n\r\n&gt; attach failed (Not allowed to attach to process. Look in the console\r\n&gt; messages (Console.app), near the debugserver entries, when the attach\r\n&gt; failed. The subsystem that denied the attach permission will likely\r\n&gt; have logged an informative message about why it was denied.) then\r\n\r\nThe java app is run using the java VM I am on an M2 apple silicon macbook with Vetura 13.2 os\r\n\r\nI found the Consle app and looked at the logs - nothing sticks out.  I guess this is some sort of permissions or security issue. \r\nI am stuck using the vm I am using.  A way to enable this debugging ?\r\n\r\nMore info:\r\n\r\nlldb shows the same problem on the command line,\r\nI want to debug a library loaded by the process. Not the executable itself.\r\n\r\nDo I need to have a debug version of the VM executable ?\r\nDo I need to change it&#39;s permissions or it&#39;s owner ?\r\nThere are no log entries with the word &quot;debugserver&quot; in them I can find.\r\n\r\nAnyway - where do I go from here ?\r\nThanks.\r\nPK","title":"How can I debug a .dylib loaded into a java app using Xcode 14.1","body":"<p>Yes I did search for &quot;similar questions&quot; the old ones are many years old the new environment is very different.  Xcode 14, Java 20, intellij idea latest version.</p>\n<p>I am using idea to build and run the java app.  the DYLD_LIBRARY_PATH is proper for running.</p>\n<p>I build the .dylib with Xcode.  And leave it open to the source for the library.\nI put a breakpoint in the library in a call I will make from java later ( using panama generated glue )</p>\n<p>I put a break point in java after java loads the .dylib and before where I want to break in the .dylib.</p>\n<p>Then in Xcode I attempt to &quot;Attach to Process&quot; to the java process now waiting at a break point in the java app. ( I have a break point in the library set ) I use the process ID, I know it is the right one ( I print it from the app ) as &quot;kill (id)&quot; will kill the right one.</p>\n<p>I get this error trying to attach the debugger:</p>\n<blockquote>\n<p>attach failed (Not allowed to attach to process. Look in the console\nmessages (Console.app), near the debugserver entries, when the attach\nfailed. The subsystem that denied the attach permission will likely\nhave logged an informative message about why it was denied.) then</p>\n</blockquote>\n<p>The java app is run using the java VM I am on an M2 apple silicon macbook with Vetura 13.2 os</p>\n<p>I found the Consle app and looked at the logs - nothing sticks out.  I guess this is some sort of permissions or security issue.\nI am stuck using the vm I am using.  A way to enable this debugging ?</p>\n<p>More info:</p>\n<p>lldb shows the same problem on the command line,\nI want to debug a library loaded by the process. Not the executable itself.</p>\n<p>Do I need to have a debug version of the VM executable ?\nDo I need to change it's permissions or it's owner ?\nThere are no log entries with the word &quot;debugserver&quot; in them I can find.</p>\n<p>Anyway - where do I go from here ?\nThanks.\nPK</p>\n"},{"tags":["java","node.js","reactjs","maven","keycloak"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1693592998,"post_id":77023092,"comment_id":135786387,"body_markdown":"Please do not post images of text, but the text directly.","body":"Please do not post images of text, but the text directly."}],"owner":{"account_id":17256330,"reputation":86,"user_id":12495327,"display_name":"sunder s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693649717,"creation_date":1693571071,"question_id":77023092,"body_markdown":"Im building Keycloak from source with some of my own customizations in place, for eg: changing PUT method to POST in a few apis, as PUT requests are blocked in my organzation.\r\n\r\n\r\n\r\ni made the following changes in this file *keycloak/js/libs/keycloak-admin-client/src/resources/users.js*\r\n\r\n```\r\n/**\r\n   * reset password\r\n   */\r\n  public resetPassword = this.makeRequest&lt;\r\n    { id: string; credential: CredentialRepresentation },\r\n    void\r\n  &gt;({\r\n    method: &quot;POST&quot;, // changed, from PUT to POST\r\n    path: &quot;/{id}/reset-password&quot;,\r\n    urlParamKeys: [&quot;id&quot;],\r\n    payloadKey: &quot;credential&quot;,\r\n  });\r\n```\r\n\r\nand build the project using this command.\r\n\r\n`mvn -X -pl quarkus/dist -am -DskipTests clean install`\r\n\r\nbut checking in the web browser, under sources, the method still shows as PUT, changes are not reflected when building it, as i missing something?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/nEPPu.png)](https://i.stack.imgur.com/nEPPu.png)\r\n\r\ni even cleaned using npm clean, deleted node_modules folder and ran npm install and npm build, then mvn build.\r\nis there a different way to build this?\r\nthanks in advance\r\n","title":"Keycloak v21.0.1 Custom changes in JS folder are not reflected when compiled (PUT to POST change)","body":"<p>Im building Keycloak from source with some of my own customizations in place, for eg: changing PUT method to POST in a few apis, as PUT requests are blocked in my organzation.</p>\n<p>i made the following changes in this file <em>keycloak/js/libs/keycloak-admin-client/src/resources/users.js</em></p>\n<pre><code>/**\n   * reset password\n   */\n  public resetPassword = this.makeRequest&lt;\n    { id: string; credential: CredentialRepresentation },\n    void\n  &gt;({\n    method: &quot;POST&quot;, // changed, from PUT to POST\n    path: &quot;/{id}/reset-password&quot;,\n    urlParamKeys: [&quot;id&quot;],\n    payloadKey: &quot;credential&quot;,\n  });\n</code></pre>\n<p>and build the project using this command.</p>\n<p><code>mvn -X -pl quarkus/dist -am -DskipTests clean install</code></p>\n<p>but checking in the web browser, under sources, the method still shows as PUT, changes are not reflected when building it, as i missing something?</p>\n<p><a href=\"https://i.stack.imgur.com/nEPPu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nEPPu.png\" alt=\"enter image description here\" /></a></p>\n<p>i even cleaned using npm clean, deleted node_modules folder and ran npm install and npm build, then mvn build.\nis there a different way to build this?\nthanks in advance</p>\n"},{"tags":["java","android","button","android-custom-view"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693648863,"creation_date":1693648863,"answer_id":77027828,"question_id":77027666,"body_markdown":"&gt;How can I create a new activity every time I add a custom view and then be able to open that new activity when I press the button?\r\n\r\nIf your views should open completely different activities, then you should create three different Activities which will show appropriate content for specified view. But If the Activities should have the same look but only data differs between them, then you should have single Activity and upon creation pass to it data using intent extras mechanism. For exampl:\r\n\r\n\r\n    Intent intent = new Intent(context, WeekEditing.class);\r\n    intent.putExtra(&quot;key&quot;, value);\r\n    context.startActivity(intent);\r\n\r\nvalue is the data different for each view, and in your activity you can access this data in onCreate using:\r\n\r\n    Bundle extras = getIntent().getExtras();\r\n    if (extras != null) {\r\n        String value = extras.getString(&quot;key&quot;);\r\n    }\r\n\r\nI am not sure what can cause your application to crash, for more details on working with activities, look here: https://developer.android.com/guide/components/activities/intro-activities","title":"How to open separate new activity with custom view buttons","body":"<blockquote>\n<p>How can I create a new activity every time I add a custom view and then be able to open that new activity when I press the button?</p>\n</blockquote>\n<p>If your views should open completely different activities, then you should create three different Activities which will show appropriate content for specified view. But If the Activities should have the same look but only data differs between them, then you should have single Activity and upon creation pass to it data using intent extras mechanism. For exampl:</p>\n<pre><code>Intent intent = new Intent(context, WeekEditing.class);\nintent.putExtra(&quot;key&quot;, value);\ncontext.startActivity(intent);\n</code></pre>\n<p>value is the data different for each view, and in your activity you can access this data in onCreate using:</p>\n<pre><code>Bundle extras = getIntent().getExtras();\nif (extras != null) {\n    String value = extras.getString(&quot;key&quot;);\n}\n</code></pre>\n<p>I am not sure what can cause your application to crash, for more details on working with activities, look here: <a href=\"https://developer.android.com/guide/components/activities/intro-activities\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/intro-activities</a></p>\n"}],"owner":{"account_id":29350372,"reputation":11,"user_id":22487654,"display_name":"NikoBitan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693648863,"creation_date":1693645890,"question_id":77027666,"body_markdown":"My `MainActivity` has an *Add* button which, when clicked, creates a new instance of my custom view: (https://i.stack.imgur.com/M3Uxe.png)\r\n\r\nIn its corner, my custom view has an Image Button that should open new activity, and every custom view on the list should open their own new activity (if there are 3 views in my main activity they should open 3 different new activities).\r\n\r\nHow can I create a new activity every time I add a custom view and then be able to open that new activity when I press the button?\r\n\r\nMainActivity:\r\n\r\n```\r\npackage com.example.teacherplanner;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.PersistableBundle;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ImageButton AddNewWeek= findViewById(R.id.add_week_btn);\r\n        LinearLayout WeekWindow = findViewById(R.id.LIST_OF_WEEKS);\r\n\r\n\r\n        AddNewWeek.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                WeekThumbnail NewWeek = new WeekThumbnail(MainActivity.this);\r\n                WeekWindow.addView(NewWeek);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {\r\n        super.onCreate(savedInstanceState, persistentState);\r\n        setContentView(R.layout.layout_week);\r\n\r\n        ImageButton OpenEditing = findViewById(R.id.WEEK_SETTINGS);\r\n\r\n\r\n        OpenEditing.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openWeekEditing();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void openWeekEditing() {\r\n        Intent intent = new Intent(this, WeekEditing.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n\r\n```\r\nCustomView java file:\r\n```\r\npackage com.example.teacherplanner;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.res.TypedArray;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.graphics.Rect;\r\nimport android.os.Bundle;\r\nimport android.util.AttributeSet;\r\nimport android.util.LayoutDirection;\r\nimport android.view.LayoutInflater;\r\nimport android.view.TextureView;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintSet;\r\n\r\npublic class WeekThumbnail extends RelativeLayout {\r\n    public WeekThumbnail(Context context) {\r\n        super(context);\r\n        init(context);\r\n    }\r\n\r\n    public WeekThumbnail(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(context);\r\n    }\r\n\r\n    public WeekThumbnail(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n        init(context);\r\n    }\r\n\r\n    private void init(Context context) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        inflater.inflate(R.layout.layout_week, this, true);\r\n    }\r\n}\r\n```\r\nMy custom view is tied to a java file and I tried putting my on click action there but it didn&#39;t work and when I put it in main activity every time I click it the app crashes.\r\n","title":"How to open separate new activity with custom view buttons","body":"<p>My <code>MainActivity</code> has an <em>Add</em> button which, when clicked, creates a new instance of my custom view: (<a href=\"https://i.stack.imgur.com/M3Uxe.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/M3Uxe.png</a>)</p>\n<p>In its corner, my custom view has an Image Button that should open new activity, and every custom view on the list should open their own new activity (if there are 3 views in my main activity they should open 3 different new activities).</p>\n<p>How can I create a new activity every time I add a custom view and then be able to open that new activity when I press the button?</p>\n<p>MainActivity:</p>\n<pre><code>package com.example.teacherplanner;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.PersistableBundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.ImageButton;\nimport android.widget.LinearLayout;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ImageButton AddNewWeek= findViewById(R.id.add_week_btn);\n        LinearLayout WeekWindow = findViewById(R.id.LIST_OF_WEEKS);\n\n\n        AddNewWeek.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                WeekThumbnail NewWeek = new WeekThumbnail(MainActivity.this);\n                WeekWindow.addView(NewWeek);\n            }\n        });\n\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) {\n        super.onCreate(savedInstanceState, persistentState);\n        setContentView(R.layout.layout_week);\n\n        ImageButton OpenEditing = findViewById(R.id.WEEK_SETTINGS);\n\n\n        OpenEditing.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openWeekEditing();\n            }\n        });\n\n    }\n\n    public void openWeekEditing() {\n        Intent intent = new Intent(this, WeekEditing.class);\n        startActivity(intent);\n    }\n}\n\n</code></pre>\n<p>CustomView java file:</p>\n<pre><code>package com.example.teacherplanner;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.res.TypedArray;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Rect;\nimport android.os.Bundle;\nimport android.util.AttributeSet;\nimport android.util.LayoutDirection;\nimport android.view.LayoutInflater;\nimport android.view.TextureView;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintSet;\n\npublic class WeekThumbnail extends RelativeLayout {\n    public WeekThumbnail(Context context) {\n        super(context);\n        init(context);\n    }\n\n    public WeekThumbnail(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context);\n    }\n\n    public WeekThumbnail(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init(context);\n    }\n\n    private void init(Context context) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        inflater.inflate(R.layout.layout_week, this, true);\n    }\n}\n</code></pre>\n<p>My custom view is tied to a java file and I tried putting my on click action there but it didn't work and when I put it in main activity every time I click it the app crashes.</p>\n"},{"tags":["java","google-cloud-storage","gcloud"],"comments":[{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1676618485,"post_id":75479030,"comment_id":133177067,"body_markdown":"Have a look at this stackoverflow [link1](https://stackoverflow.com/questions/55236389/uploading-to-google-cloud-using-a-signed-url) ,[link2](https://stackoverflow.com/questions/19890062/put-files-to-google-cloud-storage-gcs-via-signed-urls),[link3](https://stackoverflow.com/questions/55761597/how-to-upload-file-to-google-cloud-bucket-using-signedurl),[link4](https://stackoverflow.com/questions/53422663/error-with-signed-writable-url-the-request-signature-we-calculated-does-not-mat)","body":"Have a look at this stackoverflow <a href=\"https://stackoverflow.com/questions/55236389/uploading-to-google-cloud-using-a-signed-url\">link1</a> ,<a href=\"https://stackoverflow.com/questions/19890062/put-files-to-google-cloud-storage-gcs-via-signed-urls\">link2</a>,<a href=\"https://stackoverflow.com/questions/55761597/how-to-upload-file-to-google-cloud-bucket-using-signedurl\">link3</a>,<a href=\"https://stackoverflow.com/questions/53422663/error-with-signed-writable-url-the-request-signature-we-calculated-does-not-mat\">link4</a>"}],"answers":[{"tags":[],"owner":{"account_id":8019962,"reputation":79,"user_id":6048890,"display_name":"Sreenath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693648200,"creation_date":1693648200,"answer_id":77027788,"question_id":75479030,"body_markdown":"The error is due to the “&amp;” is encoded to `&amp;amp;` which make signed URL invalid.","title":"SignatureDoesNotMatch on gCloud","body":"<p>The error is due to the “&amp;” is encoded to <code>&amp;amp;</code> which make signed URL invalid.</p>\n"}],"owner":{"account_id":3000197,"reputation":2776,"user_id":2545832,"accept_rate":79,"display_name":"Laurent Meyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693648200,"creation_date":1676591180,"question_id":75479030,"body_markdown":"I cannot get the upload on a Google Cloud Signed URL to work. I get the same SignatureDoesNotMatch error.\r\n\r\nI tried lots of things including:\r\n\r\n - deactivating the v4 for the v2\r\n - adding or removing content type\r\n - changing fetch with axios\r\n - using Postman\r\n - try to be a wizard with POST and then PUT and `x-goog-resumable:start`\r\n - change the CORS of my bucket\r\n - increasing the timeout\r\n\r\nI just never get the upload to work.\r\n\r\nThe token creation code:\r\n\r\n    public static String generateV4PutObjectSignedUrl(String objectName) throws StorageException {\r\n        // String projectId = &quot;my-project-id&quot;;\r\n        // String bucketName = &quot;my-bucket&quot;;\r\n        // String objectName = &quot;my-object&quot;;\r\n\r\n        Storage storage = StorageOptions.getDefaultInstance().getService();\r\n\r\n        // Define Resource\r\n        BlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(&quot;mybucket&quot;, objectName)).build();\r\n\r\n        // Generate Signed URL\r\n        Map&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\r\n        extensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n\r\n        URL url = storage.signUrl(\r\n                blobInfo,\r\n                15,\r\n                TimeUnit.HOURS,\r\n                Storage.SignUrlOption.httpMethod(HttpMethod.PUT),\r\n                Storage.SignUrlOption.withExtHeaders(extensionHeaders),\r\n                Storage.SignUrlOption.withV4Signature()\r\n        );\r\n\r\n        String urlS = url.toString();\r\n        System.out.println(&quot;Generated PUT signed URL:&quot;+urlS);\r\n        return urlS;\r\n    }\r\n\r\nthen the CORS of the bucket:\r\n\r\n    [{&quot;maxAgeSeconds&quot;: 3600000, &quot;method&quot;: [&quot;GET&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;], &quot;origin&quot;: [&quot;LIVE&quot;, &quot;http://localhost:8080&quot;, &quot;http://0.0.0.0:8080&quot;], &quot;responseHeader&quot;: [&quot;Content-Type&quot;, &quot;x-goog-resumable&quot;]}]\r\n\r\nAnd then my attempts to put:\r\n\r\n    const signedUrl = await fetch(&quot;$STORAGE_FUN/&quot; + apkFile.name.replace(&quot; &quot;, &quot;_&quot;)).then((res) =&gt; res.text());\r\n    await axios.put(signedUrl, apkFile);\r\n\r\nAs well as:\r\n\r\n    const put = await fetch(signedUrl, {\r\n      method: &#39;PUT&#39;,\r\n      headers: {&#39;Content-Type&#39;: &#39;application/octet-stream&#39;},\r\n      body: apkFile\r\n    })\r\n\r\nAs well as:\r\n\r\n\tcurl --location --request PUT &#39;https://storage.googleapis.com/mybucket/no-heroes-here.apk?GoogleAccessId=autodeploy@company.iam.gserviceaccount.com&amp;Expires=1676643070&amp;Signature=ZYU7CjzWRcKaqjOufUZ%2BkOJA%2FsB1vVpWBZAfpeUKIrmQRHJ6ZgXE7bwmqtaIWwBCbZv%2Fa1naYV3xC2OMqhpZ7ene46ZWS4JH%2FIvVn2U5SMBjYG38SrKqICLfj3l4sN%2BR39ijTxPwP4nWCpvMm39CxtCZAC6n5FovsNterZ7NqByXHP7YXgzOXeiBALabDv%2B%2BnclpVtoJ4K6h%2ByFKyQ6odzT0PTDIvpED4ph%2BIrdptwxraFFpLNL8k0ocAsd1zn9U4cxRrTTFCMzzMaXdhXRfVAtkSl5NW7BosdkRmgGtB%2FA1TEifea%2BnfXyXtbRaW7QG5TA9WxrA3VmHNMWz3At29A%3D%3D&#39; \\\r\n\t-H &#39;Content-Type:&#39; \\\r\n\t--data-binary &#39;@/somepath/original/noheroeshere/no-heroes-here.apk&#39;\r\n\r\nAnd we get a similar error as:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;Error&gt;\r\n        &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\r\n        &lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.&lt;/Message&gt;\r\n        &lt;StringToSign&gt;GOOG4-RSA-SHA256\r\n    20230216T232500Z\r\n    20230216/auto/storage/goog4_request\r\n    338a1267c21129d5a991a59881cf42c0112f6cfd5cc067c162e0716adc059d5e&lt;/StringToSign&gt;\r\n        &lt;CanonicalRequest&gt;PUT\r\n    /mybucket/no-heroes-here.apk\r\n    X-Goog-Algorithm=GOOG4-RSA-SHA256&amp;amp;X-Goog-Credential=autodeploy%40company.iam.gserviceaccount.com%2F20230216%2Fauto%2Fstorage%2Fgoog4_request&amp;amp;X-Goog-Date=20230216T232500Z&amp;amp;X-Goog-Expires=54000&amp;amp;X-Goog-SignedHeaders=content-type%3Bhost\r\n    content-type:application/octet-stream\r\n    host:storage.googleapis.com\r\n\r\n    content-type;host\r\n    UNSIGNED-PAYLOAD&lt;/CanonicalRequest&gt;\r\n    &lt;/Error&gt;\r\n\r\nMany questions:\r\n\r\n - Do you see an obvious error in my code?\r\n - Is there a way to debug the Signature Error like some logs in the bucket that where we could see what is actually not matching?\r\n - Can it be a permission problem of the service account that I&#39;m using?\r\n - Would the URL be generated if the service account wouldn&#39;t work?","title":"SignatureDoesNotMatch on gCloud","body":"<p>I cannot get the upload on a Google Cloud Signed URL to work. I get the same SignatureDoesNotMatch error.</p>\n<p>I tried lots of things including:</p>\n<ul>\n<li>deactivating the v4 for the v2</li>\n<li>adding or removing content type</li>\n<li>changing fetch with axios</li>\n<li>using Postman</li>\n<li>try to be a wizard with POST and then PUT and <code>x-goog-resumable:start</code></li>\n<li>change the CORS of my bucket</li>\n<li>increasing the timeout</li>\n</ul>\n<p>I just never get the upload to work.</p>\n<p>The token creation code:</p>\n<pre><code>public static String generateV4PutObjectSignedUrl(String objectName) throws StorageException {\n    // String projectId = &quot;my-project-id&quot;;\n    // String bucketName = &quot;my-bucket&quot;;\n    // String objectName = &quot;my-object&quot;;\n\n    Storage storage = StorageOptions.getDefaultInstance().getService();\n\n    // Define Resource\n    BlobInfo blobInfo = BlobInfo.newBuilder(BlobId.of(&quot;mybucket&quot;, objectName)).build();\n\n    // Generate Signed URL\n    Map&lt;String, String&gt; extensionHeaders = new HashMap&lt;&gt;();\n    extensionHeaders.put(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n\n    URL url = storage.signUrl(\n            blobInfo,\n            15,\n            TimeUnit.HOURS,\n            Storage.SignUrlOption.httpMethod(HttpMethod.PUT),\n            Storage.SignUrlOption.withExtHeaders(extensionHeaders),\n            Storage.SignUrlOption.withV4Signature()\n    );\n\n    String urlS = url.toString();\n    System.out.println(&quot;Generated PUT signed URL:&quot;+urlS);\n    return urlS;\n}\n</code></pre>\n<p>then the CORS of the bucket:</p>\n<pre><code>[{&quot;maxAgeSeconds&quot;: 3600000, &quot;method&quot;: [&quot;GET&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;], &quot;origin&quot;: [&quot;LIVE&quot;, &quot;http://localhost:8080&quot;, &quot;http://0.0.0.0:8080&quot;], &quot;responseHeader&quot;: [&quot;Content-Type&quot;, &quot;x-goog-resumable&quot;]}]\n</code></pre>\n<p>And then my attempts to put:</p>\n<pre><code>const signedUrl = await fetch(&quot;$STORAGE_FUN/&quot; + apkFile.name.replace(&quot; &quot;, &quot;_&quot;)).then((res) =&gt; res.text());\nawait axios.put(signedUrl, apkFile);\n</code></pre>\n<p>As well as:</p>\n<pre><code>const put = await fetch(signedUrl, {\n  method: 'PUT',\n  headers: {'Content-Type': 'application/octet-stream'},\n  body: apkFile\n})\n</code></pre>\n<p>As well as:</p>\n<pre><code>curl --location --request PUT 'https://storage.googleapis.com/mybucket/no-heroes-here.apk?GoogleAccessId=autodeploy@company.iam.gserviceaccount.com&amp;Expires=1676643070&amp;Signature=ZYU7CjzWRcKaqjOufUZ%2BkOJA%2FsB1vVpWBZAfpeUKIrmQRHJ6ZgXE7bwmqtaIWwBCbZv%2Fa1naYV3xC2OMqhpZ7ene46ZWS4JH%2FIvVn2U5SMBjYG38SrKqICLfj3l4sN%2BR39ijTxPwP4nWCpvMm39CxtCZAC6n5FovsNterZ7NqByXHP7YXgzOXeiBALabDv%2B%2BnclpVtoJ4K6h%2ByFKyQ6odzT0PTDIvpED4ph%2BIrdptwxraFFpLNL8k0ocAsd1zn9U4cxRrTTFCMzzMaXdhXRfVAtkSl5NW7BosdkRmgGtB%2FA1TEifea%2BnfXyXtbRaW7QG5TA9WxrA3VmHNMWz3At29A%3D%3D' \\\n-H 'Content-Type:' \\\n--data-binary '@/somepath/original/noheroeshere/no-heroes-here.apk'\n</code></pre>\n<p>And we get a similar error as:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;Error&gt;\n    &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n    &lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.&lt;/Message&gt;\n    &lt;StringToSign&gt;GOOG4-RSA-SHA256\n20230216T232500Z\n20230216/auto/storage/goog4_request\n338a1267c21129d5a991a59881cf42c0112f6cfd5cc067c162e0716adc059d5e&lt;/StringToSign&gt;\n    &lt;CanonicalRequest&gt;PUT\n/mybucket/no-heroes-here.apk\nX-Goog-Algorithm=GOOG4-RSA-SHA256&amp;amp;X-Goog-Credential=autodeploy%40company.iam.gserviceaccount.com%2F20230216%2Fauto%2Fstorage%2Fgoog4_request&amp;amp;X-Goog-Date=20230216T232500Z&amp;amp;X-Goog-Expires=54000&amp;amp;X-Goog-SignedHeaders=content-type%3Bhost\ncontent-type:application/octet-stream\nhost:storage.googleapis.com\n\ncontent-type;host\nUNSIGNED-PAYLOAD&lt;/CanonicalRequest&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>Many questions:</p>\n<ul>\n<li>Do you see an obvious error in my code?</li>\n<li>Is there a way to debug the Signature Error like some logs in the bucket that where we could see what is actually not matching?</li>\n<li>Can it be a permission problem of the service account that I'm using?</li>\n<li>Would the URL be generated if the service account wouldn't work?</li>\n</ul>\n"},{"tags":["java","testing","junit","mutation-testing","pittesting"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1693344627,"post_id":77003564,"comment_id":135747988,"body_markdown":"How about adding parenthesis? Addition and subtraction are evaluated from left to right. With parenthesis you could force an evaluation from right to left.","body":"How about adding parenthesis? Addition and subtraction are evaluated from left to right. With parenthesis you could force an evaluation from right to left."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1693344766,"post_id":77003564,"comment_id":135748015,"body_markdown":"Because of the commutativity of addition, there shouldn&#39;t be any difference. But with subtraction, you might arrive at different results considering edge cases.","body":"Because of the commutativity of addition, there shouldn&#39;t be any difference. But with subtraction, you might arrive at different results considering edge cases."},{"owner":{"account_id":13880640,"reputation":21,"user_id":10021086,"display_name":"Ella"},"score":0,"creation_date":1693382053,"post_id":77003564,"comment_id":135751598,"body_markdown":"I&#39;ve tried `long newsize = position - (START_OF_DATA + total);` but it seems like `long newsize = position - START_OF_DATA - total;` anyway my test suite falied :(","body":"I&#39;ve tried <code>long newsize = position - (START_OF_DATA + total);</code> but it seems like <code>long newsize = position - START_OF_DATA - total;</code> anyway my test suite falied :("},{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1693416034,"post_id":77003564,"comment_id":135759272,"body_markdown":"Can you show the line of code in context? Is it in a finally block?","body":"Can you show the line of code in context? Is it in a finally block?"},{"owner":{"account_id":13880640,"reputation":21,"user_id":10021086,"display_name":"Ella"},"score":0,"creation_date":1693647903,"post_id":77003564,"comment_id":135790540,"body_markdown":"I&#39;ve added the line context...yes, my line is in a finally block, is that the reason of my problem?","body":"I&#39;ve added the line context...yes, my line is in a finally block, is that the reason of my problem?"}],"owner":{"account_id":13880640,"reputation":21,"user_id":10021086,"display_name":"Ella"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693647677,"creation_date":1693342245,"question_id":77003564,"body_markdown":"I&#39;m newbie with mutation testing. I&#39;m using Pit and in the following line of code there are 4 mutations of the same type: Replaced long addition with subtraction\r\n`long newsize = position + START_OF_DATA + total;`\r\nBut I can&#39;t figured out why he gaves me 4 mutations and not 3:\r\n\r\n```\r\n1 mutation:long newsize = position - START_OF_DATA + total;\r\n2 mutation:long newsize = position + START_OF_DATA - total;\r\n3 mutation:long newsize = position - START_OF_DATA - total;\r\n4 mutation: ???\r\n```\r\nThis is the context of the line:\r\n```java\r\ntry {\r\n    fc.position(position + START_OF_DATA);\r\n    while (buffs[buffs.length - 1].remaining() &gt; 0) {\r\n        long rc = fc.write(buffs);\r\n        if (rc &lt;= 0) {\r\n            throw new IOException(&quot;Short write&quot;);\r\n        }\r\n        total += rc;\r\n    }\r\n} finally {\r\n    fc.force(true);\r\n    long newsize = position + START_OF_DATA + total;\r\n    if (newsize &gt; size) {\r\n        size = newsize;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve also tried to manually modify the source code with this three supposed mutation and my test suite failed. \r\nWhich one could be the fourth mutation? Is there a way to see in clear the mutations and not just the list with the original code reported in the pit report?\r\n\r\nThanks to all","title":"Problem with pit mutation: &quot;Replaced long addition with subtraction&quot;","body":"<p>I'm newbie with mutation testing. I'm using Pit and in the following line of code there are 4 mutations of the same type: Replaced long addition with subtraction\n<code>long newsize = position + START_OF_DATA + total;</code>\nBut I can't figured out why he gaves me 4 mutations and not 3:</p>\n<pre><code>1 mutation:long newsize = position - START_OF_DATA + total;\n2 mutation:long newsize = position + START_OF_DATA - total;\n3 mutation:long newsize = position - START_OF_DATA - total;\n4 mutation: ???\n</code></pre>\n<p>This is the context of the line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    fc.position(position + START_OF_DATA);\n    while (buffs[buffs.length - 1].remaining() &gt; 0) {\n        long rc = fc.write(buffs);\n        if (rc &lt;= 0) {\n            throw new IOException(&quot;Short write&quot;);\n        }\n        total += rc;\n    }\n} finally {\n    fc.force(true);\n    long newsize = position + START_OF_DATA + total;\n    if (newsize &gt; size) {\n        size = newsize;\n    }\n}\n</code></pre>\n<p>I've also tried to manually modify the source code with this three supposed mutation and my test suite failed.\nWhich one could be the fourth mutation? Is there a way to see in clear the mutations and not just the list with the original code reported in the pit report?</p>\n<p>Thanks to all</p>\n"},{"tags":["java","android","android-recyclerview","android-cardview"],"comments":[{"owner":{"account_id":7217817,"reputation":3317,"user_id":5509575,"display_name":"Hack5"},"score":0,"creation_date":1579350136,"post_id":59800520,"comment_id":105741698,"body_markdown":"Does this answer your question? [NullPointerException - Attempt to invoke virtual method RecyclerView$ViewHolder.shouldIgnore()&#39; on a null object reference](https://stackoverflow.com/questions/35786072/nullpointerexception-attempt-to-invoke-virtual-method-recyclerviewviewholder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35786072/nullpointerexception-attempt-to-invoke-virtual-method-recyclerviewviewholder\">NullPointerException - Attempt to invoke virtual method RecyclerView$ViewHolder.shouldIgnore()&#39; on a null object reference</a>"}],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693647450,"creation_date":1693647450,"answer_id":77027745,"question_id":59800520,"body_markdown":"The problem is that you&#39;re manually adding children to a `RecyclerView`:\r\n\r\n```java\r\nrecyclerView.addView(cardview2);\r\n```\r\n\r\nNever manually add or remove a child from a `RecyclerView`.  It has internal bookkeeping to keep track of its children, and modifying its children will not update that bookkeeping correctly.\r\n\r\nAll children of the RecyclerView should be created and controlled by the Adapter.  If you need to add more things before an existing Adapter, use [`ConcatAdapter`][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/recyclerview/widget/ConcatAdapter","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;RecyclerView$ViewHolder.shouldIgnore()&#39; on a null object reference","body":"<p>The problem is that you're manually adding children to a <code>RecyclerView</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>recyclerView.addView(cardview2);\n</code></pre>\n<p>Never manually add or remove a child from a <code>RecyclerView</code>.  It has internal bookkeeping to keep track of its children, and modifying its children will not update that bookkeeping correctly.</p>\n<p>All children of the RecyclerView should be created and controlled by the Adapter.  If you need to add more things before an existing Adapter, use <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ConcatAdapter\" rel=\"nofollow noreferrer\"><code>ConcatAdapter</code></a>.</p>\n"}],"owner":{"account_id":16226643,"reputation":47,"user_id":11716752,"display_name":"Hoshang S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693647450,"creation_date":1579350004,"question_id":59800520,"body_markdown":"I am trying to implement a recyclerview holder for adding and removing cards dynamically. But why am getting null a pointer exception while trying to add cardview to the recyclerview dynamically?\r\n\r\n\r\nMAINACTIVITY.JAVA\r\nThis class is responsible for creating a cardview dynamically and adding the cards to the recyclerview. \r\n\r\n    package net.simplifiedlearning.recyclerviewexample;\r\n    \r\n    import android.app.Dialog;\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.graphics.Color;\r\n    import android.graphics.Typeface;\r\n    import android.support.constraint.ConstraintLayout;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.support.v7.widget.CardView;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.support.v7.widget.SimpleItemAnimator;\r\n    import android.util.TypedValue;\r\n    import android.view.View;\r\n    import android.webkit.WebView;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import android.view.LayoutInflater;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import android.widget.ToggleButton;\r\n    import android.widget.Toolbar;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public Button buttonScan1;\r\n        private Button dev_but1;\r\n        public WebView wv1;\r\n        private Dialog add_dev;\r\n        private View v1;\r\n        private EditText text2;\r\n        private EditText dev_id1;\r\n        private EditText dev_name1;\r\n        private TextView dev_text1;\r\n        private CardView cardview2;\r\n        private LinearLayout.LayoutParams layoutparams1;\r\n        private ConstraintLayout.LayoutParams layoutparams2;\r\n        private LinearLayout lay1;\r\n        private LinearLayout lay2;\r\n        private LinearLayout lay3;\r\n        private ToggleButton sw1;\r\n        private ToggleButton sw2;\r\n        private ToggleButton sw3;\r\n        private ToggleButton sw4;\r\n        private LinearLayout ahomeLayout;\r\n        private Toolbar toolbar;\r\n        private LinearLayout lay4;\r\n        private LinearLayout lay6;\r\n        private LinearLayout lay5;\r\n        private LinearLayout.LayoutParams layoutparams3;\r\n        private Button sw0;\r\n        public TextView atv;\r\n        String ids[] = new String[100];\r\n        String names[] = new String[100];\r\n        String name_key[] = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\r\n        String id_key[] = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;};\r\n        public SharedPreferences mSettings2;\r\n        int mCount,j;\r\n        String name;\r\n        private Context mCtx;\r\n        //a list to store all the products\r\n        List&lt;Product&gt; productList;\r\n    \r\n        RelativeLayout l1;\r\n        //the recyclerview\r\n        RecyclerView recyclerView;\r\n    \r\n        Button end;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            //View view = getLayoutInflater().inflate(R.layout.layout_products,null);\r\n    \r\n            end = findViewById(R.id.button2);\r\n    \r\n            //getting the recyclerview from xml\r\n            recyclerView = findViewById(R.id.recyclerView);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            //((SimpleItemAnimator) recyclerView.getItemAnimator()).setSupportsChangeAnimations(false);\r\n    \r\n            end.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    cards();\r\n                }\r\n            });\r\n    \r\n            //initializing the productlist\r\n            productList = new ArrayList&lt;&gt;();\r\n    \r\n            //adding some items to our list\r\n            //productList.add(new Product(1,&quot;sdc&quot;,&quot;sfs&quot;));\r\n            //creating recyclerview adapter\r\n            ProductAdapter adapter = new ProductAdapter(this, productList);\r\n    \r\n            //setting adapter to recyclerview\r\n            recyclerView.setAdapter(adapter);\r\n        }\r\n    \r\n        public void cards()\r\n        {\r\n          /*text2 = v1.findViewById(R.id.dev_name);\r\n            dev_id1 = v1.findViewById(R.id.dev_id);*/\r\n    \r\n            cardview2 = new CardView(getApplicationContext());\r\n            cardview2.setFocusable(false);\r\n            cardview2.setClickable(false);\r\n    \r\n            layoutparams1 = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n            layoutparams1.setMargins(19, 83, 19, 0);\r\n    \r\n            lay1 = new LinearLayout(getApplicationContext());\r\n            lay1.setOrientation(LinearLayout.VERTICAL);\r\n    \r\n            layoutparams2 = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.MATCH_PARENT, 115);\r\n            lay2 = new LinearLayout(getApplicationContext());\r\n            lay2.setLayoutParams(layoutparams2);\r\n            lay2.setOrientation(LinearLayout.HORIZONTAL);\r\n    \r\n            layoutparams3 = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n            lay6 = new LinearLayout(getApplicationContext());\r\n            lay6.setWeightSum(12);\r\n            lay6.setLayoutParams(layoutparams3);\r\n            lay6.setPadding(10,40,0,0);\r\n            lay6.setOrientation(LinearLayout.HORIZONTAL);\r\n    \r\n            cardview2.setLayoutParams(layoutparams1);\r\n            cardview2.setCardBackgroundColor(Color.parseColor(&quot;#2fffffff&quot;));\r\n            cardview2.setMinimumHeight(330);\r\n            cardview2.setId(mCount);\r\n            cardview2.addView(lay1);\r\n    \r\n            dev_text1 = new TextView(getApplicationContext());\r\n            dev_text1.setText(&quot;sdfasdf&quot;);\r\n            dev_text1.setPadding(20, 15,0,0);\r\n            dev_text1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 26);\r\n            dev_text1.setTypeface(null, Typeface.BOLD);\r\n            dev_text1.setTextColor(Color.GRAY);\r\n    \r\n            sw1 = new ToggleButton(getApplicationContext());\r\n            sw1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\r\n            sw1.setTextColor(Color.GRAY);\r\n            sw1.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\r\n    \r\n            sw2 = new ToggleButton(getApplicationContext());\r\n            sw2.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\r\n            sw2.setTextColor(Color.GRAY);\r\n            sw2.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\r\n    \r\n            sw3 = new ToggleButton(getApplicationContext());\r\n            sw3.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\r\n            sw3.setTextColor(Color.GRAY);\r\n            sw3.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\r\n    \r\n            sw4 = new ToggleButton(getApplicationContext());\r\n            sw4.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\r\n            sw4.setTextColor(Color.GRAY);\r\n            sw4.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\r\n    \r\n            sw0 = new Button(getApplicationContext());\r\n            sw0.setText(&quot;  X&quot;);\r\n            sw0.setTextSize(20);\r\n            sw0.setTypeface(null, Typeface.BOLD);\r\n            sw0.setBackgroundResource(0);\r\n            sw0.setTextColor(Color.GRAY);\r\n            sw0.setPadding(0,0,0,5);\r\n            sw0.setLayoutParams(new LinearLayout.LayoutParams(70, 70));\r\n    \r\n            lay1.addView(lay2);\r\n            lay1.addView(lay6);\r\n            lay2.addView(dev_text1);\r\n            lay2.addView(sw0);\r\n            lay6.addView(sw1);\r\n            lay6.addView(sw2);\r\n            lay6.addView(sw3);\r\n            lay6.addView(sw4);\r\n            recyclerView.addView(cardview2);\r\n        }\r\n    }\r\n\r\nPRODUCTS.JAVA\r\n\r\n    package net.simplifiedlearning.recyclerviewexample;\r\n    public class Product {\r\n        private int id;\r\n        private String title;\r\n        private String shortdesc;\r\n    \r\n        public Product(int id, String title, String shortdesc) {\r\n            this.id = id;\r\n            this.title = title;\r\n            this.shortdesc = shortdesc;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public String getShortdesc() {\r\n            return shortdesc;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nPRODUCTADAPTER.JAVA\r\nThis class is having the adapter fot the recyclerview.\r\n\r\n    package net.simplifiedlearning.recyclerviewexample;\r\n    \r\n    import android.app.Dialog;\r\n    import android.content.Context;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.util.TypedValue;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.WebView;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.ToggleButton;\r\n    import android.widget.Toolbar;\r\n    \r\n    \r\n    import java.util.List;\r\n    \r\n    public class ProductAdapter extends RecyclerView.Adapter&lt;ProductAdapter.ProductViewHolder&gt; {\r\n    \r\n        //this context we will use to inflate the layout\r\n        private Context mCtx;\r\n        RelativeLayout l1;\r\n        //we are storing all the products in a list\r\n        private List&lt;Product&gt; productList;\r\n    \r\n        //getting the context and product list with constructor\r\n        public ProductAdapter(Context mCtx, List&lt;Product&gt; productList) {\r\n            this.mCtx = mCtx;\r\n            this.productList = productList;\r\n        }\r\n    \r\n        @Override\r\n        public ProductViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            //inflating and returning our view holder\r\n            LayoutInflater inflater = LayoutInflater.from(mCtx);\r\n            View view = inflater.inflate(R.layout.layout_products, null);\r\n            return new ProductViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(final ProductViewHolder holder, int position) {\r\n            //getting the product of the specified position\r\n            Product product = productList.get(position);\r\n    \r\n            //binding the data with the viewholder views\r\n            holder.textViewTitle.setText(product.getTitle());\r\n            holder.textViewShortDesc.setText(product.getShortdesc());\r\n    \r\n            holder.end.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    productList.remove(holder.getAdapterPosition());\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return productList.size();\r\n        }\r\n    \r\n    \r\n    \r\n        class ProductViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            TextView textViewTitle, textViewShortDesc;\r\n            Button end;\r\n    \r\n            public ProductViewHolder(View itemView) {\r\n                super(itemView);\r\n                l1 = itemView.findViewById(R.id.card);\r\n                textViewTitle = itemView.findViewById(R.id.textViewTitle);\r\n                textViewShortDesc = itemView.findViewById(R.id.textViewShortDesc);\r\n                end = itemView.findViewById(R.id.button);\r\n            }\r\n        }\r\n    }\r\n\r\nLayout_Products.Java\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.CardView\r\n            android:id=&quot;@+id/card1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/card&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:padding=&quot;8dp&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView&quot;\r\n                    android:layout_width=&quot;120dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:padding=&quot;4dp&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewTitle&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@id/imageView&quot;\r\n                    android:text=&quot;Apple MacBook Air Core i5 5th Gen - (8 GB/128 GB SSD/Mac OS Sierra)&quot;\r\n                    android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Small&quot;\r\n                    android:textColor=&quot;#000000&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewShortDesc&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/textViewTitle&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@id/imageView&quot;\r\n                    android:text=&quot;13.3 Inch, 256 GB&quot;\r\n                    android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Small&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewRating&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/textViewShortDesc&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@id/imageView&quot;\r\n                    android:background=&quot;@color/colorPrimary&quot;\r\n                    android:paddingLeft=&quot;15dp&quot;\r\n                    android:paddingRight=&quot;15dp&quot;\r\n                    android:text=&quot;4.7&quot;\r\n                    android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Small.Inverse&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewPrice&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/textViewRating&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_toRightOf=&quot;@id/imageView&quot;\r\n                    android:text=&quot;INR 56990&quot;\r\n                    android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Large&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/button&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n    \r\n                    android:text=&quot;Button&quot; /&gt;\r\n    \r\n            &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;net.simplifiedlearning.recyclerviewexample.MainActivity&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;500dp&quot;\r\n            android:text=&quot;ADD&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;RecyclerView$ViewHolder.shouldIgnore()&#39; on a null object reference","body":"<p>I am trying to implement a recyclerview holder for adding and removing cards dynamically. But why am getting null a pointer exception while trying to add cardview to the recyclerview dynamically?</p>\n\n<p>MAINACTIVITY.JAVA\nThis class is responsible for creating a cardview dynamically and adding the cards to the recyclerview. </p>\n\n<pre><code>package net.simplifiedlearning.recyclerviewexample;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.support.constraint.ConstraintLayout;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.support.v7.widget.CardView;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.support.v7.widget.SimpleItemAnimator;\nimport android.util.TypedValue;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport android.view.LayoutInflater;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ToggleButton;\nimport android.widget.Toolbar;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public Button buttonScan1;\n    private Button dev_but1;\n    public WebView wv1;\n    private Dialog add_dev;\n    private View v1;\n    private EditText text2;\n    private EditText dev_id1;\n    private EditText dev_name1;\n    private TextView dev_text1;\n    private CardView cardview2;\n    private LinearLayout.LayoutParams layoutparams1;\n    private ConstraintLayout.LayoutParams layoutparams2;\n    private LinearLayout lay1;\n    private LinearLayout lay2;\n    private LinearLayout lay3;\n    private ToggleButton sw1;\n    private ToggleButton sw2;\n    private ToggleButton sw3;\n    private ToggleButton sw4;\n    private LinearLayout ahomeLayout;\n    private Toolbar toolbar;\n    private LinearLayout lay4;\n    private LinearLayout lay6;\n    private LinearLayout lay5;\n    private LinearLayout.LayoutParams layoutparams3;\n    private Button sw0;\n    public TextView atv;\n    String ids[] = new String[100];\n    String names[] = new String[100];\n    String name_key[] = {\"A\",\"B\",\"C\",\"D\",\"F\",\"G\",\"H\",\"I\",\"J\"};\n    String id_key[] = {\"A\",\"B\",\"C\",\"D\",\"F\",\"G\",\"H\",\"I\",\"J\"};\n    public SharedPreferences mSettings2;\n    int mCount,j;\n    String name;\n    private Context mCtx;\n    //a list to store all the products\n    List&lt;Product&gt; productList;\n\n    RelativeLayout l1;\n    //the recyclerview\n    RecyclerView recyclerView;\n\n    Button end;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //View view = getLayoutInflater().inflate(R.layout.layout_products,null);\n\n        end = findViewById(R.id.button2);\n\n        //getting the recyclerview from xml\n        recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        //((SimpleItemAnimator) recyclerView.getItemAnimator()).setSupportsChangeAnimations(false);\n\n        end.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                cards();\n            }\n        });\n\n        //initializing the productlist\n        productList = new ArrayList&lt;&gt;();\n\n        //adding some items to our list\n        //productList.add(new Product(1,\"sdc\",\"sfs\"));\n        //creating recyclerview adapter\n        ProductAdapter adapter = new ProductAdapter(this, productList);\n\n        //setting adapter to recyclerview\n        recyclerView.setAdapter(adapter);\n    }\n\n    public void cards()\n    {\n      /*text2 = v1.findViewById(R.id.dev_name);\n        dev_id1 = v1.findViewById(R.id.dev_id);*/\n\n        cardview2 = new CardView(getApplicationContext());\n        cardview2.setFocusable(false);\n        cardview2.setClickable(false);\n\n        layoutparams1 = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n        layoutparams1.setMargins(19, 83, 19, 0);\n\n        lay1 = new LinearLayout(getApplicationContext());\n        lay1.setOrientation(LinearLayout.VERTICAL);\n\n        layoutparams2 = new ConstraintLayout.LayoutParams(ConstraintLayout.LayoutParams.MATCH_PARENT, 115);\n        lay2 = new LinearLayout(getApplicationContext());\n        lay2.setLayoutParams(layoutparams2);\n        lay2.setOrientation(LinearLayout.HORIZONTAL);\n\n        layoutparams3 = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\n        lay6 = new LinearLayout(getApplicationContext());\n        lay6.setWeightSum(12);\n        lay6.setLayoutParams(layoutparams3);\n        lay6.setPadding(10,40,0,0);\n        lay6.setOrientation(LinearLayout.HORIZONTAL);\n\n        cardview2.setLayoutParams(layoutparams1);\n        cardview2.setCardBackgroundColor(Color.parseColor(\"#2fffffff\"));\n        cardview2.setMinimumHeight(330);\n        cardview2.setId(mCount);\n        cardview2.addView(lay1);\n\n        dev_text1 = new TextView(getApplicationContext());\n        dev_text1.setText(\"sdfasdf\");\n        dev_text1.setPadding(20, 15,0,0);\n        dev_text1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 26);\n        dev_text1.setTypeface(null, Typeface.BOLD);\n        dev_text1.setTextColor(Color.GRAY);\n\n        sw1 = new ToggleButton(getApplicationContext());\n        sw1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\n        sw1.setTextColor(Color.GRAY);\n        sw1.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\n\n        sw2 = new ToggleButton(getApplicationContext());\n        sw2.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\n        sw2.setTextColor(Color.GRAY);\n        sw2.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\n\n        sw3 = new ToggleButton(getApplicationContext());\n        sw3.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\n        sw3.setTextColor(Color.GRAY);\n        sw3.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\n\n        sw4 = new ToggleButton(getApplicationContext());\n        sw4.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 20);\n        sw4.setTextColor(Color.GRAY);\n        sw4.setLayoutParams(new LinearLayout.LayoutParams(210, 145));\n\n        sw0 = new Button(getApplicationContext());\n        sw0.setText(\"  X\");\n        sw0.setTextSize(20);\n        sw0.setTypeface(null, Typeface.BOLD);\n        sw0.setBackgroundResource(0);\n        sw0.setTextColor(Color.GRAY);\n        sw0.setPadding(0,0,0,5);\n        sw0.setLayoutParams(new LinearLayout.LayoutParams(70, 70));\n\n        lay1.addView(lay2);\n        lay1.addView(lay6);\n        lay2.addView(dev_text1);\n        lay2.addView(sw0);\n        lay6.addView(sw1);\n        lay6.addView(sw2);\n        lay6.addView(sw3);\n        lay6.addView(sw4);\n        recyclerView.addView(cardview2);\n    }\n}\n</code></pre>\n\n<p>PRODUCTS.JAVA</p>\n\n<pre><code>package net.simplifiedlearning.recyclerviewexample;\npublic class Product {\n    private int id;\n    private String title;\n    private String shortdesc;\n\n    public Product(int id, String title, String shortdesc) {\n        this.id = id;\n        this.title = title;\n        this.shortdesc = shortdesc;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getShortdesc() {\n        return shortdesc;\n    }\n\n}\n</code></pre>\n\n<p>PRODUCTADAPTER.JAVA\nThis class is having the adapter fot the recyclerview.</p>\n\n<pre><code>package net.simplifiedlearning.recyclerviewexample;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.WebView;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.ToggleButton;\nimport android.widget.Toolbar;\n\n\nimport java.util.List;\n\npublic class ProductAdapter extends RecyclerView.Adapter&lt;ProductAdapter.ProductViewHolder&gt; {\n\n    //this context we will use to inflate the layout\n    private Context mCtx;\n    RelativeLayout l1;\n    //we are storing all the products in a list\n    private List&lt;Product&gt; productList;\n\n    //getting the context and product list with constructor\n    public ProductAdapter(Context mCtx, List&lt;Product&gt; productList) {\n        this.mCtx = mCtx;\n        this.productList = productList;\n    }\n\n    @Override\n    public ProductViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        //inflating and returning our view holder\n        LayoutInflater inflater = LayoutInflater.from(mCtx);\n        View view = inflater.inflate(R.layout.layout_products, null);\n        return new ProductViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(final ProductViewHolder holder, int position) {\n        //getting the product of the specified position\n        Product product = productList.get(position);\n\n        //binding the data with the viewholder views\n        holder.textViewTitle.setText(product.getTitle());\n        holder.textViewShortDesc.setText(product.getShortdesc());\n\n        holder.end.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                productList.remove(holder.getAdapterPosition());\n                notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return productList.size();\n    }\n\n\n\n    class ProductViewHolder extends RecyclerView.ViewHolder {\n\n        TextView textViewTitle, textViewShortDesc;\n        Button end;\n\n        public ProductViewHolder(View itemView) {\n            super(itemView);\n            l1 = itemView.findViewById(R.id.card);\n            textViewTitle = itemView.findViewById(R.id.textViewTitle);\n            textViewShortDesc = itemView.findViewById(R.id.textViewShortDesc);\n            end = itemView.findViewById(R.id.button);\n        }\n    }\n}\n</code></pre>\n\n<p>Layout_Products.Java</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.v7.widget.CardView\n        android:id=\"@+id/card1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/card\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/imageView\"\n                android:layout_width=\"120dp\"\n                android:layout_height=\"90dp\"\n                android:padding=\"4dp\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewTitle\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"5dp\"\n                android:layout_toRightOf=\"@id/imageView\"\n                android:text=\"Apple MacBook Air Core i5 5th Gen - (8 GB/128 GB SSD/Mac OS Sierra)\"\n                android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Small\"\n                android:textColor=\"#000000\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewShortDesc\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/textViewTitle\"\n                android:layout_marginLeft=\"5dp\"\n                android:layout_marginTop=\"5dp\"\n                android:layout_toRightOf=\"@id/imageView\"\n                android:text=\"13.3 Inch, 256 GB\"\n                android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Small\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewRating\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/textViewShortDesc\"\n                android:layout_marginLeft=\"5dp\"\n                android:layout_marginTop=\"5dp\"\n                android:layout_toRightOf=\"@id/imageView\"\n                android:background=\"@color/colorPrimary\"\n                android:paddingLeft=\"15dp\"\n                android:paddingRight=\"15dp\"\n                android:text=\"4.7\"\n                android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Small.Inverse\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewPrice\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/textViewRating\"\n                android:layout_marginLeft=\"5dp\"\n                android:layout_marginTop=\"5dp\"\n                android:layout_toRightOf=\"@id/imageView\"\n                android:text=\"INR 56990\"\n                android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/button\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n\n                android:text=\"Button\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/android.support.v7.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"net.simplifiedlearning.recyclerviewexample.MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"500dp\"\n        android:text=\"ADD\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","qr-code","zxing","emv"],"comments":[{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1693644778,"post_id":77027458,"comment_id":135790264,"body_markdown":"use 3 strings to concat `s1=ABCD` , `s2=url` , `s3 = xyz`  and the final string `sf = s1 + s2 + s3` .   for showing full string use `sf` , if you want use url only use `s2` .","body":"use 3 strings to concat <code>s1=ABCD</code> , <code>s2=url</code> , <code>s3 = xyz</code>  and the final string <code>sf = s1 + s2 + s3</code> .   for showing full string use <code>sf</code> , if you want use url only use <code>s2</code> ."},{"owner":{"account_id":22204191,"reputation":11,"user_id":16444359,"display_name":"peehu gandhi"},"score":0,"creation_date":1693645346,"post_id":77027458,"comment_id":135790306,"body_markdown":"@Elango, i wish to encode sf  to qr code \nbut need to &quot;POP -UP&quot; on scanning only s2","body":"@Elango, i wish to encode sf  to qr code  but need to &quot;POP -UP&quot; on scanning only s2"}],"answers":[{"comments":[{"owner":{"account_id":22204191,"reputation":11,"user_id":16444359,"display_name":"peehu gandhi"},"score":0,"creation_date":1693648387,"post_id":77027710,"comment_id":135790587,"body_markdown":"thanks @Elango for your response,\n\nthis might print me the url\nbut i want the scanner like google lens or so to understand that https://www.google.com is a link  so to redirect to this and ignore other data like \nABCD xyz","body":"thanks @Elango for your response,  this might print me the url but i want the scanner like google lens or so to understand that <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">google.com</a> is a link  so to redirect to this and ignore other data like  ABCD xyz"},{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1693649486,"post_id":77027710,"comment_id":135790696,"body_markdown":"You can use `url` wherever you want (pop-up) , I just shown how to extract a URL from a scanned QR code without data like ABCD xyz. pls add it to qs, if you have any expected out image","body":"You can use <code>url</code> wherever you want (pop-up) , I just shown how to extract a URL from a scanned QR code without data like ABCD xyz. pls add it to qs, if you have any expected out image"},{"owner":{"account_id":22204191,"reputation":11,"user_id":16444359,"display_name":"peehu gandhi"},"score":0,"creation_date":1693655011,"post_id":77027710,"comment_id":135791196,"body_markdown":"no, i want to generate QR code with popped up url,","body":"no, i want to generate QR code with popped up url,"}],"tags":[],"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693646909,"creation_date":1693646909,"answer_id":77027710,"question_id":77027458,"body_markdown":"try this is \r\n\r\n```\r\n    //after scanning \r\n    String data = &quot;ABCD https://www.google.com fgh&quot;;\r\n    String[] urls = data.split(&quot;\\\\s+&quot;);\r\n\r\n    for (String url : urls) {\r\n      if (url.startsWith(&quot;http://&quot;) || url.startsWith(&quot;https://&quot;)) {\r\n                System.out.println(url);\r\n                //it will print &quot;https://www.google.com&quot;;\r\n            }\r\n        }  \r\n```","title":"QR Code encoding using zxing to encode url data","body":"<p>try this is</p>\n<pre><code>    //after scanning \n    String data = &quot;ABCD https://www.google.com fgh&quot;;\n    String[] urls = data.split(&quot;\\\\s+&quot;);\n\n    for (String url : urls) {\n      if (url.startsWith(&quot;http://&quot;) || url.startsWith(&quot;https://&quot;)) {\n                System.out.println(url);\n                //it will print &quot;https://www.google.com&quot;;\n            }\n        }  \n</code></pre>\n"}],"owner":{"account_id":22204191,"reputation":11,"user_id":16444359,"display_name":"peehu gandhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693646909,"creation_date":1693641898,"question_id":77027458,"body_markdown":"I want to embed some raw text as well as a url inside a qr code.\r\nfor example data can be :\r\nABCD http://www.example.com XYZ\r\nnow on scanning http://www.example.com should be popped up and remaining data should be kept intact.\r\nmeans i will encode (ABCD http://www.example.com XYZ) inside my qr code but i want (http://www.example.com) to be popped up.\r\n\r\nI have tried it using zxing \r\nbut on scanning extire string gets displayed\r\n\r\n        public static void main(String[] args) {\r\n        // Define the data, including a properly formatted URL\r\n        String data = &quot;ABCD https://www.google.com fgh&quot;;\r\n\r\n        // Define QR code properties\r\n        int width = 300;\r\n        int height = 300;\r\n        String fileType = &quot;png&quot;; // or &quot;jpg&quot;, &quot;gif&quot;, etc.\r\n\r\n        // Create hints for QR code generation\r\n        Map&lt;EncodeHintType, Object&gt; hints = new HashMap&lt;&gt;();\r\n        hints.put(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);\r\n        hints.put(EncodeHintType.MARGIN, 1);\r\n\r\n        try {\r\n            // Generate QR code\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height, hints);\r\n\r\n            // Create a BufferedImage from the BitMatrix\r\n            BufferedImage qrImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            for (int x = 0; x &lt; width; x++) {\r\n                for (int y = 0; y &lt; height; y++) {\r\n                    qrImage.setRGB(x, y, bitMatrix.get(x, y) ? 0xFF000000 : 0xFFFFFFFF);\r\n                }\r\n            }\r\n\r\n            // Save the QR code to a file\r\n            File qrFile = new File(&quot;clickable_url_qrcode.&quot; + fileType);\r\n            ImageIO.write(qrImage, fileType, qrFile);\r\n\r\n            System.out.println(&quot;Clickable URL QR code generated successfully!&quot;);\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error generating QR code: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nOutput:\r\nABCD https://www.google.com fgh \r\non scanning qr\r\n\r\nI have to use this format \r\nas because this is just an example but i am using emvco specification which is correctly specified \r\nand there link is preceeded and succeeded by space \r\n","title":"QR Code encoding using zxing to encode url data","body":"<p>I want to embed some raw text as well as a url inside a qr code.\nfor example data can be :\nABCD <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">http://www.example.com</a> XYZ\nnow on scanning <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">http://www.example.com</a> should be popped up and remaining data should be kept intact.\nmeans i will encode (ABCD <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">http://www.example.com</a> XYZ) inside my qr code but i want (<a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">http://www.example.com</a>) to be popped up.</p>\n<p>I have tried it using zxing\nbut on scanning extire string gets displayed</p>\n<pre><code>    public static void main(String[] args) {\n    // Define the data, including a properly formatted URL\n    String data = &quot;ABCD https://www.google.com fgh&quot;;\n\n    // Define QR code properties\n    int width = 300;\n    int height = 300;\n    String fileType = &quot;png&quot;; // or &quot;jpg&quot;, &quot;gif&quot;, etc.\n\n    // Create hints for QR code generation\n    Map&lt;EncodeHintType, Object&gt; hints = new HashMap&lt;&gt;();\n    hints.put(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);\n    hints.put(EncodeHintType.MARGIN, 1);\n\n    try {\n        // Generate QR code\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(data, BarcodeFormat.QR_CODE, width, height, hints);\n\n        // Create a BufferedImage from the BitMatrix\n        BufferedImage qrImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        for (int x = 0; x &lt; width; x++) {\n            for (int y = 0; y &lt; height; y++) {\n                qrImage.setRGB(x, y, bitMatrix.get(x, y) ? 0xFF000000 : 0xFFFFFFFF);\n            }\n        }\n\n        // Save the QR code to a file\n        File qrFile = new File(&quot;clickable_url_qrcode.&quot; + fileType);\n        ImageIO.write(qrImage, fileType, qrFile);\n\n        System.out.println(&quot;Clickable URL QR code generated successfully!&quot;);\n\n    } catch (Exception e) {\n        System.err.println(&quot;Error generating QR code: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>Output:\nABCD <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a> fgh\non scanning qr</p>\n<p>I have to use this format\nas because this is just an example but i am using emvco specification which is correctly specified\nand there link is preceeded and succeeded by space</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693648313,"post_id":77027672,"comment_id":135790578,"body_markdown":"I find it a bit odd that you want to serialize `javax.naming.ldap.LdapName`, rather than providing your own output format for the data you&#39;re interested in. Especially if you get confused about inner classes.","body":"I find it a bit odd that you want to serialize <code>javax.naming.ldap.LdapName</code>, rather than providing your own output format for the data you&#39;re interested in. Especially if you get confused about inner classes."}],"owner":{"account_id":10298097,"reputation":11,"user_id":7597591,"display_name":"Pascal Jakobi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693646052,"creation_date":1693646052,"question_id":77027672,"body_markdown":"I am trying to create a REST service that returns (javax.naming.ldap.)LdapName objects in JSON (using jackson).\r\nThe serializer goes as below.\r\nHowever, I get an InvalidDefinitionException that says *No serializer found for class javax.naming.ldap.LdapName$1 and no properties discovered to create BeanSerializer*\r\n```\r\n@JsonComponent\r\npublic abstract class LdapNameSerializer  extends JsonSerializer&lt;LdapName&gt; {\r\n    @Override\r\n    public void serialize(LdapName value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n        jgen.writeStartObject();\r\n        jgen.writeStringField(&quot;dn&quot;, value.toString());\r\n        jgen.writeEndObject();\r\n    }\r\n} // class LdapNameSerializer\r\n```\r\nCan somone tell me what I am doing wrong ? \r\nThxs in adv.","title":"LdapName JSON serializer","body":"<p>I am trying to create a REST service that returns (javax.naming.ldap.)LdapName objects in JSON (using jackson).\nThe serializer goes as below.\nHowever, I get an InvalidDefinitionException that says <em>No serializer found for class javax.naming.ldap.LdapName$1 and no properties discovered to create BeanSerializer</em></p>\n<pre><code>@JsonComponent\npublic abstract class LdapNameSerializer  extends JsonSerializer&lt;LdapName&gt; {\n    @Override\n    public void serialize(LdapName value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n        jgen.writeStringField(&quot;dn&quot;, value.toString());\n        jgen.writeEndObject();\n    }\n} // class LdapNameSerializer\n</code></pre>\n<p>Can somone tell me what I am doing wrong ?\nThxs in adv.</p>\n"},{"tags":["java","android","bluetooth","sensors"],"answers":[{"tags":[],"owner":{"account_id":2137012,"reputation":1861,"user_id":1896516,"display_name":"T3KBAU5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523744477,"creation_date":1523744477,"answer_id":49836734,"question_id":49833489,"body_markdown":"There&#39;s a lot going on in your code here, so let me try to explain what&#39;s currently happening. When you get a new light value, you change the start button&#39;s click listener to start sending the value over bluetooth. However, since you&#39;re passing `lightTemp` into your `implementListeners` function, it won&#39;t get changed when `onSensorChanged` fires again. Thus, having a timer run every 5 seconds is likely working, but instead of sending a new value it&#39;s just sending the old one from before. So, what we need to do is have the data sent whenever the sensor value changes instead of when the button gets pressed.\r\n\r\nThe best way of going about this would likely be to have a state variable in your class that gets updated when you tap the start button.\r\n\r\n    private boolean sendData = false;\r\n\r\n    //...\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        // Your existing code in onCreate goes here\r\n\r\n        startBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendData = !sendData; // Toggles whether we&#39;re sending data or not.\r\n                                      // You can also just set it to true if you don&#39;t\r\n                                      // want toggling behaviour.\r\n            }\r\n        });\r\n    }\r\n\r\nNow, we need to actually send the data if we have enabled data sending. We can change your `onSensorChanged` method to check the state variable we defined before, then send data if our state is `true`:\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n\r\n        Sensor sensor = sensorEvent.sensor;\r\n\r\n        if (sensor.getType() == Sensor.TYPE_LIGHT) {\r\n            lightText.setText(&quot;Light = &quot; + sensorEvent.values[0]);\r\n\r\n            if(sendData) { // check if we&#39;ve enabed data sending\r\n                String lightTemp = String.valueOf(sensorEvent.values[0]); // get the sensor value as a string\r\n                  sendReceive.write(lightTemp.getBytes()); // send the string over bluetooth\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\nYour app should now send data over bluetooth every time the light sensor value updates after you tap the start button. ","title":"How to send constantly changing sensor data using bluetooth?","body":"<p>There's a lot going on in your code here, so let me try to explain what's currently happening. When you get a new light value, you change the start button's click listener to start sending the value over bluetooth. However, since you're passing <code>lightTemp</code> into your <code>implementListeners</code> function, it won't get changed when <code>onSensorChanged</code> fires again. Thus, having a timer run every 5 seconds is likely working, but instead of sending a new value it's just sending the old one from before. So, what we need to do is have the data sent whenever the sensor value changes instead of when the button gets pressed.</p>\n\n<p>The best way of going about this would likely be to have a state variable in your class that gets updated when you tap the start button.</p>\n\n<pre><code>private boolean sendData = false;\n\n//...\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // Your existing code in onCreate goes here\n\n    startBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            sendData = !sendData; // Toggles whether we're sending data or not.\n                                  // You can also just set it to true if you don't\n                                  // want toggling behaviour.\n        }\n    });\n}\n</code></pre>\n\n<p>Now, we need to actually send the data if we have enabled data sending. We can change your <code>onSensorChanged</code> method to check the state variable we defined before, then send data if our state is <code>true</code>:</p>\n\n<pre><code>@Override\npublic void onSensorChanged(SensorEvent sensorEvent) {\n\n    Sensor sensor = sensorEvent.sensor;\n\n    if (sensor.getType() == Sensor.TYPE_LIGHT) {\n        lightText.setText(\"Light = \" + sensorEvent.values[0]);\n\n        if(sendData) { // check if we've enabed data sending\n            String lightTemp = String.valueOf(sensorEvent.values[0]); // get the sensor value as a string\n              sendReceive.write(lightTemp.getBytes()); // send the string over bluetooth\n        }\n\n    }\n}\n</code></pre>\n\n<p>Your app should now send data over bluetooth every time the light sensor value updates after you tap the start button. </p>\n"}],"owner":{"account_id":5430041,"reputation":3,"user_id":4321193,"display_name":"Duder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49836734,"answer_count":1,"score":0,"last_activity_date":1693645367,"creation_date":1523722316,"question_id":49833489,"body_markdown":"I am trying to send light data from a light sensor using Bluetooth in Android Studio. Once the user presses the button, the sensor value should be constantly updating and sent to the other phone.\r\n\r\nI&#39;ve modified some Bluetooth code I found online; however, the light sensor value does not constantly update, it just shows the value of the sensor when the button was pressed.\r\n\r\nI&#39;ve tried putting in a timer that runs every 5 seconds after the start flag is set, so that a new value from the light sensor is constantly sent, but it does not work.\r\n\r\nIs there a way I can sample the sensor and send the constantly updating sensor data after the button is pressed? Thanks in advance.\r\n\r\nThis is the code which gets the sensor readings and passes it onto the button listeners code:\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n\r\n        Sensor sensor = sensorEvent.sensor;\r\n\r\n        if (sensor.getType() == Sensor.TYPE_LIGHT) {\r\n            lightText.setText(&quot;Light = &quot; + sensorEvent.values[0]);\r\n\r\n            float lightTemp = sensorEvent.values[0];\r\n            implementListeners(lightTemp);\r\n        }\r\n    }\r\n\r\nButton listeners - listens for the user pressing the start button and then writes the sensor reading to the bluetooth part of the code (to then send to the other phone):\r\n\r\n    private void implementListeners(final float lightTemp) {\r\n    .\r\n    .\r\n    .\r\n    .\r\n        startBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int startFlag=1;\r\n               checkStartFlag(startFlag);\r\n            }\r\n\r\n            private void checkStartFlag(int startFlag) {\r\n                if (startFlag==1){\r\n                    Timer timer = new Timer ();\r\n                    TimerTask checkSec = new TimerTask () {\r\n                        @Override\r\n                        public void run () {\r\n                            String string= String.valueOf(lightTemp);\r\n                            sendReceive.write(string.getBytes());\r\n                        }\r\n                    };\r\n                    timer.schedule (checkSec, 0l, 5000);   // Check every 1 sec\r\n                }\r\n            }\r\n        });\r\n    }","title":"How to send constantly changing sensor data using bluetooth?","body":"<p>I am trying to send light data from a light sensor using Bluetooth in Android Studio. Once the user presses the button, the sensor value should be constantly updating and sent to the other phone.</p>\n\n<p>I've modified some Bluetooth code I found online; however, the light sensor value does not constantly update, it just shows the value of the sensor when the button was pressed.</p>\n\n<p>I've tried putting in a timer that runs every 5 seconds after the start flag is set, so that a new value from the light sensor is constantly sent, but it does not work.</p>\n\n<p>Is there a way I can sample the sensor and send the constantly updating sensor data after the button is pressed? Thanks in advance.</p>\n\n<p>This is the code which gets the sensor readings and passes it onto the button listeners code:</p>\n\n<pre><code>@Override\npublic void onSensorChanged(SensorEvent sensorEvent) {\n\n    Sensor sensor = sensorEvent.sensor;\n\n    if (sensor.getType() == Sensor.TYPE_LIGHT) {\n        lightText.setText(\"Light = \" + sensorEvent.values[0]);\n\n        float lightTemp = sensorEvent.values[0];\n        implementListeners(lightTemp);\n    }\n}\n</code></pre>\n\n<p>Button listeners - listens for the user pressing the start button and then writes the sensor reading to the bluetooth part of the code (to then send to the other phone):</p>\n\n<pre><code>private void implementListeners(final float lightTemp) {\n.\n.\n.\n.\n    startBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            int startFlag=1;\n           checkStartFlag(startFlag);\n        }\n\n        private void checkStartFlag(int startFlag) {\n            if (startFlag==1){\n                Timer timer = new Timer ();\n                TimerTask checkSec = new TimerTask () {\n                    @Override\n                    public void run () {\n                        String string= String.valueOf(lightTemp);\n                        sendReceive.write(string.getBytes());\n                    }\n                };\n                timer.schedule (checkSec, 0l, 5000);   // Check every 1 sec\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-batch","spring-batch-stream"],"comments":[{"owner":{"account_id":17678722,"reputation":23,"user_id":12833183,"display_name":"ethereal"},"score":0,"creation_date":1693837787,"post_id":77027615,"comment_id":135809295,"body_markdown":"Fixed this by using Spring Batch Partitioner","body":"Fixed this by using Spring Batch Partitioner"},{"owner":{"account_id":17678722,"reputation":23,"user_id":12833183,"display_name":"ethereal"},"score":0,"creation_date":1698117991,"post_id":77027615,"comment_id":136361503,"body_markdown":"This issue was caused by an inefficient reader design. Once i fixed that, CPU utilization rose to expected levels.","body":"This issue was caused by an inefficient reader design. Once i fixed that, CPU utilization rose to expected levels."}],"owner":{"account_id":17678722,"reputation":23,"user_id":12833183,"display_name":"ethereal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693644829,"creation_date":1693644829,"question_id":77027615,"body_markdown":"I have a spring batch application which reads lines from a flat file, converts each line to an object, processes them, and writes them to a database. \r\nThe steps are multi-threaded using spring&#39;s ThreadPoolTaskExecutor, but the performance is still terrible. \r\nLogging shows that reading is the main bottleneck, with a speed of 25 lines per second. Reading is multi-threaded and runs on 16 threads. But CPU utilization only shows 6 - 7% usage. The application is running on a 16-core 64GB RAM system, with a Tomcat Server.\r\nI suspect that it&#39;s not using all CPU cores. How can I configure Spring Batch to better utilize the CPU?\r\n\r\n\r\nStep Configuration : \r\n```\r\n\r\n    public Step createMyStep() {\r\n        try {\r\n            System.out.println(&quot;Creating MyStep&quot;);\r\n            AbstractTaskletStepBuilder builder = stepFactory.get(&quot;MyStep&quot;)\r\n                    .&lt;T, T&gt;chunk(50)\r\n                    .reader(multiResourceItemReader(null, null, null, null, null))\r\n                    .listener(new ItemReadListenerImpl&lt;&gt;())\r\n                    .processor(createProcessor())\r\n                    .listener(new ItemProcessListenerImpl&lt;&gt;())\r\n                    .writer(slaveStepWriter())\r\n                    .faultTolerant()\r\n                    .skip(RollbackException.class)\r\n                    .skipLimit(1000000000)\r\n                    .taskExecutor(taskExecutor())\r\n                    .throttleLimit(64);\r\n            return builder.build();\r\n        }catch(Exception e){\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(16);\r\n        executor.setQueueCapacity(1);\r\n        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\r\n        return executor;\r\n    }DataLoadConstants\r\n```\r\n\r\nThe reader takes an InputStream as a resource, and uses FlatFileItemReader, configured with a  lineMapper and BufferedReaderFactory to convert lines to an Object. The reader returns a SynchronizedItemStreamReader.","title":"Spring Batch not making full use of multi-core CPU","body":"<p>I have a spring batch application which reads lines from a flat file, converts each line to an object, processes them, and writes them to a database.\nThe steps are multi-threaded using spring's ThreadPoolTaskExecutor, but the performance is still terrible.\nLogging shows that reading is the main bottleneck, with a speed of 25 lines per second. Reading is multi-threaded and runs on 16 threads. But CPU utilization only shows 6 - 7% usage. The application is running on a 16-core 64GB RAM system, with a Tomcat Server.\nI suspect that it's not using all CPU cores. How can I configure Spring Batch to better utilize the CPU?</p>\n<p>Step Configuration :</p>\n<pre><code>\n    public Step createMyStep() {\n        try {\n            System.out.println(&quot;Creating MyStep&quot;);\n            AbstractTaskletStepBuilder builder = stepFactory.get(&quot;MyStep&quot;)\n                    .&lt;T, T&gt;chunk(50)\n                    .reader(multiResourceItemReader(null, null, null, null, null))\n                    .listener(new ItemReadListenerImpl&lt;&gt;())\n                    .processor(createProcessor())\n                    .listener(new ItemProcessListenerImpl&lt;&gt;())\n                    .writer(slaveStepWriter())\n                    .faultTolerant()\n                    .skip(RollbackException.class)\n                    .skipLimit(1000000000)\n                    .taskExecutor(taskExecutor())\n                    .throttleLimit(64);\n            return builder.build();\n        }catch(Exception e){\n            throw e;\n        }\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(16);\n        executor.setQueueCapacity(1);\n        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\n        return executor;\n    }DataLoadConstants\n</code></pre>\n<p>The reader takes an InputStream as a resource, and uses FlatFileItemReader, configured with a  lineMapper and BufferedReaderFactory to convert lines to an Object. The reader returns a SynchronizedItemStreamReader.</p>\n"},{"tags":["java","json","spring-boot","rest","response-entity"],"comments":[{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":0,"creation_date":1693052013,"post_id":76982229,"comment_id":135710697,"body_markdown":"How do you convert that into json?  Which library do you use?","body":"How do you convert that into json?  Which library do you use?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1693088162,"post_id":76982229,"comment_id":135714477,"body_markdown":"You need to show us what JSON converter you use, also show us what&#39;s inside DataRequestDto","body":"You need to show us what JSON converter you use, also show us what&#39;s inside DataRequestDto"},{"owner":{"account_id":11335861,"reputation":1,"user_id":8311745,"display_name":"Fahimeh Golzari"},"score":0,"creation_date":1693644093,"post_id":76982229,"comment_id":135790181,"body_markdown":"@Rudy I used default spring boot rest settings. I added my project pom.xml to question","body":"@Rudy I used default spring boot rest settings. I added my project pom.xml to question"}],"owner":{"account_id":11335861,"reputation":1,"user_id":8311745,"display_name":"Fahimeh Golzari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693644554,"creation_date":1693040111,"question_id":76982229,"body_markdown":"I write a rest spring boot that return List&lt;Map&lt;String,Object&gt;&gt; as response. \r\n\r\n```\r\npublic List&lt;Map&lt;String,Object&gt;&gt; getAll(@Valid DataRequestDto dto)\r\n    {\r\n        List&lt;Map&lt;String,Object&gt;&gt; data = (List&lt;Map&lt;String, Object&gt;&gt;) dataOperationMap.getAllData(dto);\r\n        return data;\r\n    }\r\n```\r\nAn example of expected output is as follow:\r\n\r\n```\r\n    {\r\n        &quot;id&quot;: 7581,\r\n        &quot;serialid&quot;: 24,\r\n        &quot;parentid&quot;: 7576,\r\n        &quot;rowno&quot;: 5,\r\n        &quot;code&quot;: &quot;15005&quot;,\r\n        &quot;acckind&quot;: {\r\n            &quot;id&quot;: 10080001,\r\n            &quot;title&quot;: &quot;بودجه ای&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: &quot;&quot;\r\n        },\r\n        &quot;accbalance&quot;: {\r\n            &quot;id&quot;: 10160001,\r\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: null\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: 7582,\r\n        &quot;serialid&quot;: 24,\r\n        &quot;parentid&quot;: 7576,\r\n        &quot;rowno&quot;: 6,\r\n        &quot;code&quot;: &quot;15006&quot;,\r\n        &quot;acckind&quot;: {\r\n            &quot;id&quot;: 10080001,\r\n            &quot;title&quot;: &quot;بودجه ای&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: &quot;&quot;\r\n        },\r\n        &quot;accbalance&quot;: {\r\n            &quot;id&quot;: 10160001,\r\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: null\r\n        }\r\n    }\r\n```\r\nbut &quot;accKind&quot; and &quot;accBalance&quot; From the second data onwards, have been replaced by id only, as follow:\r\n\r\n```\r\n    {\r\n        &quot;id&quot;: 7581,\r\n        &quot;serialid&quot;: 24,\r\n        &quot;parentid&quot;: 7576,\r\n        &quot;rowno&quot;: 5,\r\n        &quot;code&quot;: &quot;15005&quot;,\r\n        &quot;acckind&quot;: {\r\n            &quot;id&quot;: 10080001,\r\n            &quot;title&quot;: &quot;بودجه ای&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: &quot;&quot;\r\n        },\r\n        &quot;accbalance&quot;: {\r\n            &quot;id&quot;: 10160001,\r\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\r\n            &quot;systemDefine&quot;: 1,\r\n            &quot;typeValueId&quot;: 1,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isDefault&quot;: true,\r\n            &quot;engTitle&quot;: null\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: 7582,\r\n        &quot;serialid&quot;: 24,\r\n        &quot;parentid&quot;: 7576,\r\n        &quot;rowno&quot;: 6,\r\n        &quot;code&quot;: &quot;15006&quot;,\r\n        &quot;acckind&quot;: 10080001,\r\n        &quot;accbalance&quot;: 10160001,\r\n    }\r\n```\r\n\r\n\r\nI want the whole object to be displayed in all the list data.\r\n\r\nin debug I understood that the data is correct until it is returned, and it is changed in the conversion to json.\r\n\r\npom.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.6.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.hushaerp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;form-manager&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-RELEASE&lt;/version&gt;\r\n    &lt;name&gt;form-manager&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Rest Spring boot converts a response with duplicate object to id of that object","body":"<p>I write a rest spring boot that return List&lt;Map&lt;String,Object&gt;&gt; as response.</p>\n<pre><code>public List&lt;Map&lt;String,Object&gt;&gt; getAll(@Valid DataRequestDto dto)\n    {\n        List&lt;Map&lt;String,Object&gt;&gt; data = (List&lt;Map&lt;String, Object&gt;&gt;) dataOperationMap.getAllData(dto);\n        return data;\n    }\n</code></pre>\n<p>An example of expected output is as follow:</p>\n<pre><code>    {\n        &quot;id&quot;: 7581,\n        &quot;serialid&quot;: 24,\n        &quot;parentid&quot;: 7576,\n        &quot;rowno&quot;: 5,\n        &quot;code&quot;: &quot;15005&quot;,\n        &quot;acckind&quot;: {\n            &quot;id&quot;: 10080001,\n            &quot;title&quot;: &quot;بودجه ای&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: &quot;&quot;\n        },\n        &quot;accbalance&quot;: {\n            &quot;id&quot;: 10160001,\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: null\n        }\n    },\n    {\n        &quot;id&quot;: 7582,\n        &quot;serialid&quot;: 24,\n        &quot;parentid&quot;: 7576,\n        &quot;rowno&quot;: 6,\n        &quot;code&quot;: &quot;15006&quot;,\n        &quot;acckind&quot;: {\n            &quot;id&quot;: 10080001,\n            &quot;title&quot;: &quot;بودجه ای&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: &quot;&quot;\n        },\n        &quot;accbalance&quot;: {\n            &quot;id&quot;: 10160001,\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: null\n        }\n    }\n</code></pre>\n<p>but &quot;accKind&quot; and &quot;accBalance&quot; From the second data onwards, have been replaced by id only, as follow:</p>\n<pre><code>    {\n        &quot;id&quot;: 7581,\n        &quot;serialid&quot;: 24,\n        &quot;parentid&quot;: 7576,\n        &quot;rowno&quot;: 5,\n        &quot;code&quot;: &quot;15005&quot;,\n        &quot;acckind&quot;: {\n            &quot;id&quot;: 10080001,\n            &quot;title&quot;: &quot;بودجه ای&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: &quot;&quot;\n        },\n        &quot;accbalance&quot;: {\n            &quot;id&quot;: 10160001,\n            &quot;title&quot;: &quot;خنثی و بدون کنترل&quot;,\n            &quot;systemDefine&quot;: 1,\n            &quot;typeValueId&quot;: 1,\n            &quot;isActive&quot;: true,\n            &quot;isDefault&quot;: true,\n            &quot;engTitle&quot;: null\n        }\n    },\n    {\n        &quot;id&quot;: 7582,\n        &quot;serialid&quot;: 24,\n        &quot;parentid&quot;: 7576,\n        &quot;rowno&quot;: 6,\n        &quot;code&quot;: &quot;15006&quot;,\n        &quot;acckind&quot;: 10080001,\n        &quot;accbalance&quot;: 10160001,\n    }\n</code></pre>\n<p>I want the whole object to be displayed in all the list data.</p>\n<p>in debug I understood that the data is correct until it is returned, and it is changed in the conversion to json.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.hushaerp&lt;/groupId&gt;\n    &lt;artifactId&gt;form-manager&lt;/artifactId&gt;\n    &lt;version&gt;1.0-RELEASE&lt;/version&gt;\n    &lt;name&gt;form-manager&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR9&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","control-flow","nested-if"],"answers":[{"comments":[{"owner":{"account_id":29348731,"reputation":1,"user_id":22486399,"display_name":"Murali7373"},"score":0,"creation_date":1693619842,"post_id":77026637,"comment_id":135788796,"body_markdown":"Thank you so much, Chris\n\nIt&#39;s working now as desired.","body":"Thank you so much, Chris  It&#39;s working now as desired."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693621259,"post_id":77026637,"comment_id":135788854,"body_markdown":"While this code may serve the OP’s purpose, it serves as an example of things _not to do_ while writing Java code. 1) `Scanner` is `AutoCloseable`, so, should be used within try-with-resources 2) Class name should be Camel case 3) Q&amp;A can be put into a map and the code cleaned up instead of repeating the same construct over and over.","body":"While this code may serve the OP’s purpose, it serves as an example of things <i>not to do</i> while writing Java code. 1) <code>Scanner</code> is <code>AutoCloseable</code>, so, should be used within try-with-resources 2) Class name should be Camel case 3) Q&amp;A can be put into a map and the code cleaned up instead of repeating the same construct over and over."},{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1693621404,"post_id":77026637,"comment_id":135788861,"body_markdown":"Those are definitely valid concerns and I&#39;m glad you commented. I did not wish to address concerns other than control flow, which is at the heart of the question.","body":"Those are definitely valid concerns and I&#39;m glad you commented. I did not wish to address concerns other than control flow, which is at the heart of the question."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693621898,"post_id":77026637,"comment_id":135788884,"body_markdown":"@Chris I’d not have pointed these out if OP weren’t a newbie in Java (their question leaves no doubt that they are inexperienced), since this forum is not meant for code reviews. But I am afraid that code that does the job but sets a poor precedent may send them down a wrong path to begin with.","body":"@Chris I’d not have pointed these out if OP weren’t a newbie in Java (their question leaves no doubt that they are inexperienced), since this forum is not meant for code reviews. But I am afraid that code that does the job but sets a poor precedent may send them down a wrong path to begin with."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693636209,"post_id":77026637,"comment_id":135789553,"body_markdown":"@AbhijitSarkar regarding point 1: on the other hand it is strongly recommended to **not** close `System.in`  and so also not to close the `Scanner` built using `System.in` or have it done by try-with-resources. (it was not opened by the code, it should not be closed by it) || @Chris that is also valid for calling `close()` directly","body":"@AbhijitSarkar regarding point 1: on the other hand it is strongly recommended to <b>not</b> close <code>System.in</code>  and so also not to close the <code>Scanner</code> built using <code>System.in</code> or have it done by try-with-resources. (it was not opened by the code, it should not be closed by it) || @Chris that is also valid for calling <code>close()</code> directly"}],"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1693620335,"creation_date":1693618123,"answer_id":77026637,"question_id":77026624,"body_markdown":"You need to direct control flow out of the function using `return`. This will prevent control flow from evaluating the next conditional.\r\n\r\n```\r\nclass nested_if_else_Statement {\r\n    static public void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n             \r\n        System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\r\n        String oa = scan.nextLine();\r\n        if (oa.equals(&quot;PASS&quot;)) {   \r\n            System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\r\n                 \r\n            System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\r\n            String level1 = scan.nextLine();\r\n            if (level1.equals(&quot;CLEARED&quot;)) {\r\n                System.out.println(&quot;Please wait for second level of interview.&quot;);    \r\n            } else {\r\n                System.out.println(&quot;We&#39;re Sorry, better luck next time.&quot;);\r\n                return;\r\n            }\r\n                 \r\n            System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\r\n            String level2 = scan.nextLine();\r\n            if (level2.equals(&quot;CLEARED&quot;)) {\r\n                System.out.println(&quot;Please wait for third level of interview.&quot;);\r\n            } else {\r\n                System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n                return;\r\n            }\r\n\r\n            // ...\r\n```\r\n\r\nAs an additional suggestion, you can remove a level of indentation by testing not `oa.equals(&quot;PASS&quot;)` but rather `!oa.equals(&quot;PASS&quot;)`. By exiting early on this condition, we can eliminate a level of indentation.\r\n\r\n```\r\npackage controlStatements;\r\n\r\nimport java.util.Scanner;\r\n\r\nclass nested_if_else_Statement {\r\n    static public void main(String[] args) {         \r\n        Scanner scan = new Scanner(System.in);\r\n             \r\n        System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\r\n        String oa = scan.nextLine();\r\n        if (!oa.equals(&quot;PASS&quot;)) { \r\n            System.out.println(&quot;We&#39;re Sorry, better luck next time&quot;);\r\n            scan.close();\r\n            return;\r\n        }\r\n\r\n        System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\r\n             \r\n        System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\r\n        String level1 = scan.nextLine();\r\n        if (level1.equals(&quot;CLEARED&quot;)) {\r\n            System.out.println(&quot;Please wait for second level of interview.&quot;);    \r\n        } else {\r\n            System.out.println(&quot;We&#39;re Sorry, better luck next time.&quot;);\r\n            return;\r\n        }\r\n             \r\n        System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\r\n        String level2 = scan.nextLine();\r\n        if (level2.equals(&quot;CLEARED&quot;)) {\r\n            System.out.println(&quot;Please wait for third level of interview.&quot;);\r\n        } else {\r\n            System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n            return;\r\n        }\r\n             \r\n        System.out.println(&quot;Have you CLEARED third level of interview?&quot;);\r\n        String level3 = scan.nextLine();\r\n        if (level3.equals(&quot;CLEARED&quot;)) {\r\n            System.out.println(&quot;Please wait for fourth level of interview.&quot;);\r\n        } else {\r\n            System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n            return;\r\n        }\r\n             \r\n        System.out.println(&quot;Have you CLEARED fourth level of interview?&quot;);\r\n        String level4 = scan.nextLine();\r\n        if (level4.equals(&quot;CLEARED&quot;)) {\r\n            System.out.println(&quot;Kindly wait for final level of HR Interview.&quot;);\r\n            System.out.println(&quot;Thank you for your patience.&quot;);\r\n        } else {\r\n            System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n            return;\r\n        }\r\n             \r\n        System.out.println(&quot;Have you DONE with your HR Interview?&quot;);\r\n        String levelHR = scan.nextLine();\r\n        if (levelHR.equals(&quot;DONE&quot;)) {\r\n            System.out.println(&quot;Please wait in the office lobby, will get back shortly.&quot;); \r\n        }\r\n     \r\n        scan.close();\r\n    }\r\n}\r\n```","title":"Nested if else statement is not working as desired","body":"<p>You need to direct control flow out of the function using <code>return</code>. This will prevent control flow from evaluating the next conditional.</p>\n<pre><code>class nested_if_else_Statement {\n    static public void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n             \n        System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\n        String oa = scan.nextLine();\n        if (oa.equals(&quot;PASS&quot;)) {   \n            System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\n                 \n            System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\n            String level1 = scan.nextLine();\n            if (level1.equals(&quot;CLEARED&quot;)) {\n                System.out.println(&quot;Please wait for second level of interview.&quot;);    \n            } else {\n                System.out.println(&quot;We're Sorry, better luck next time.&quot;);\n                return;\n            }\n                 \n            System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\n            String level2 = scan.nextLine();\n            if (level2.equals(&quot;CLEARED&quot;)) {\n                System.out.println(&quot;Please wait for third level of interview.&quot;);\n            } else {\n                System.out.println(&quot;We're sorry, better luck next time.&quot;);\n                return;\n            }\n\n            // ...\n</code></pre>\n<p>As an additional suggestion, you can remove a level of indentation by testing not <code>oa.equals(&quot;PASS&quot;)</code> but rather <code>!oa.equals(&quot;PASS&quot;)</code>. By exiting early on this condition, we can eliminate a level of indentation.</p>\n<pre><code>package controlStatements;\n\nimport java.util.Scanner;\n\nclass nested_if_else_Statement {\n    static public void main(String[] args) {         \n        Scanner scan = new Scanner(System.in);\n             \n        System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\n        String oa = scan.nextLine();\n        if (!oa.equals(&quot;PASS&quot;)) { \n            System.out.println(&quot;We're Sorry, better luck next time&quot;);\n            scan.close();\n            return;\n        }\n\n        System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\n             \n        System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\n        String level1 = scan.nextLine();\n        if (level1.equals(&quot;CLEARED&quot;)) {\n            System.out.println(&quot;Please wait for second level of interview.&quot;);    \n        } else {\n            System.out.println(&quot;We're Sorry, better luck next time.&quot;);\n            return;\n        }\n             \n        System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\n        String level2 = scan.nextLine();\n        if (level2.equals(&quot;CLEARED&quot;)) {\n            System.out.println(&quot;Please wait for third level of interview.&quot;);\n        } else {\n            System.out.println(&quot;We're sorry, better luck next time.&quot;);\n            return;\n        }\n             \n        System.out.println(&quot;Have you CLEARED third level of interview?&quot;);\n        String level3 = scan.nextLine();\n        if (level3.equals(&quot;CLEARED&quot;)) {\n            System.out.println(&quot;Please wait for fourth level of interview.&quot;);\n        } else {\n            System.out.println(&quot;We're sorry, better luck next time.&quot;);\n            return;\n        }\n             \n        System.out.println(&quot;Have you CLEARED fourth level of interview?&quot;);\n        String level4 = scan.nextLine();\n        if (level4.equals(&quot;CLEARED&quot;)) {\n            System.out.println(&quot;Kindly wait for final level of HR Interview.&quot;);\n            System.out.println(&quot;Thank you for your patience.&quot;);\n        } else {\n            System.out.println(&quot;We're sorry, better luck next time.&quot;);\n            return;\n        }\n             \n        System.out.println(&quot;Have you DONE with your HR Interview?&quot;);\n        String levelHR = scan.nextLine();\n        if (levelHR.equals(&quot;DONE&quot;)) {\n            System.out.println(&quot;Please wait in the office lobby, will get back shortly.&quot;); \n        }\n     \n        scan.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17948103,"reputation":1001,"user_id":15364728,"display_name":"MrDiamond"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693618192,"creation_date":1693618192,"answer_id":77026639,"question_id":77026624,"body_markdown":"These statements are working as expected. It captures the `else`, but you never tell it to *stop* running, so it continues to the next step. An easy way to fix this is to add a `return` statement whenever you want to exit the code.\r\n\r\n```java\r\nif (/* whatever */) {\r\n   // do stuff\r\n} else {\r\n   // do stuff\r\n   return;\r\n}\r\n\r\n// other stuff that won&#39;t be ran if `return` is reached","title":"Nested if else statement is not working as desired","body":"<p>These statements are working as expected. It captures the <code>else</code>, but you never tell it to <em>stop</em> running, so it continues to the next step. An easy way to fix this is to add a <code>return</code> statement whenever you want to exit the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (/* whatever */) {\n   // do stuff\n} else {\n   // do stuff\n   return;\n}\n\n// other stuff that won't be ran if `return` is reached\n</code></pre>\n"}],"owner":{"account_id":29348731,"reputation":1,"user_id":22486399,"display_name":"Murali7373"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693643839,"creation_date":1693617598,"question_id":77026624,"body_markdown":"In the program, no errors.\r\nPASS, CLEARED user inputs are working as desired.\r\nBut when I enter NO as user input in the nested if, control picks &quot;else statement&quot; correctly, but also it is going inside, and executing the next S.O.P display like &quot;Have you CLEARED second level of interview?&quot; which is not required when the first level interview is not cleared. Hence, it displays both else &amp; next if related statement. But I wanted to get displayed only else statement and get exit. \r\n\r\n```\r\npackage controlStatements;\r\n\r\nimport java.util.Scanner;\r\n\r\nclass nested_if_else_Statement {\r\n\r\n\t  static public void main(String[] args) {\r\n\t\t     \r\n\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t     \r\n\t\t     System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\r\n\t\t     String oa = scan.nextLine();\r\n\t\t     if (oa.equals(&quot;PASS&quot;)) {   \r\n\t\t    \t System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\r\n\t\t    \t \r\n\t\t    \t System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\r\n\t\t    \t String level1 = scan.nextLine();\r\n\t\t    \t if(level1.equals(&quot;CLEARED&quot;)) {\r\n\t\t    \t    System.out.println(&quot;Please wait for second level of interview.&quot;);\t \r\n\t\t    \t }else {\r\n\t\t    \t\tSystem.out.println(&quot;We&#39;re Sorry, better luck next time.&quot;);\r\n\t\t    \t }\r\n\t\t    \t \r\n\t\t    \t System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\r\n\t\t    \t String level2 = scan.nextLine();\r\n\t\t    \t if(level2.equals(&quot;CLEARED&quot;)) {\r\n\t\t    \t\t System.out.println(&quot;Please wait for third level of interview.&quot;);\r\n\t\t    \t }else {\r\n\t\t    \t\t System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n\t\t    \t }\r\n\t\t    \t \r\n\t\t    \t System.out.println(&quot;Have you CLEARED third level of interview?&quot;);\r\n\t\t    \t String level3 = scan.nextLine();\r\n\t\t    \t if(level3.equals(&quot;CLEARED&quot;)) {\r\n\t\t    \t\tSystem.out.println(&quot;Please wait for fourth level of interview.&quot;);\r\n\t\t    \t }else {\r\n\t\t    \t\t System.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n\t\t    \t }\r\n\t\t    \t \r\n\t\t    \t System.out.println(&quot;Have you CLEARED fourth level of interview?&quot;);\r\n\t\t    \t String level4 = scan.nextLine();\r\n\t\t    \t if(level4.equals(&quot;CLEARED&quot;)) {\r\n\t\t    \t\tSystem.out.println(&quot;Kindly wait for final level of HR Interview.&quot;);\r\n\t\t    \t\tSystem.out.println(&quot;Thank you for your patience.&quot;);\r\n\t\t    \t }else {\r\n\t\t    \t\tSystem.out.println(&quot;We&#39;re sorry, better luck next time.&quot;);\r\n\t\t    \t }\r\n\t\t    \t \r\n\t\t    \t System.out.println(&quot;Have you DONE with your HR Interview?&quot;);\r\n\t\t    \t String levelHR = scan.nextLine();\r\n\t\t    \t if(levelHR.equals(&quot;DONE&quot;)) {\r\n\t\t    \t\tSystem.out.println(&quot;Please wait in the office lobby, will get back shortly.&quot;); \r\n\t\t    \t }\r\n\t\t    \t \r\n\t\t     } else {\r\n\t\t    \t System.out.println(&quot;We&#39;re Sorry, better luck next time&quot;);\r\n\t\t     }\r\n\t \r\n\t\t     scan.close();\r\n\t  }\r\n}\r\n```","title":"Nested if else statement is not working as desired","body":"<p>In the program, no errors.\nPASS, CLEARED user inputs are working as desired.\nBut when I enter NO as user input in the nested if, control picks &quot;else statement&quot; correctly, but also it is going inside, and executing the next S.O.P display like &quot;Have you CLEARED second level of interview?&quot; which is not required when the first level interview is not cleared. Hence, it displays both else &amp; next if related statement. But I wanted to get displayed only else statement and get exit.</p>\n<pre><code>package controlStatements;\n\nimport java.util.Scanner;\n\nclass nested_if_else_Statement {\n\n      static public void main(String[] args) {\n             \n            Scanner scan = new Scanner(System.in);\n             \n             System.out.println(&quot;Online Assesment, enter PASS or FAIL?&quot;);\n             String oa = scan.nextLine();\n             if (oa.equals(&quot;PASS&quot;)) {   \n                 System.out.println(&quot;Please wait in the office lobby for further levels of interview.&quot;);\n                 \n                 System.out.println(&quot;Have you CLEARED first level of interview?&quot;);\n                 String level1 = scan.nextLine();\n                 if(level1.equals(&quot;CLEARED&quot;)) {\n                    System.out.println(&quot;Please wait for second level of interview.&quot;);    \n                 }else {\n                    System.out.println(&quot;We're Sorry, better luck next time.&quot;);\n                 }\n                 \n                 System.out.println(&quot;Have you CLEARED second level of interview?&quot;);\n                 String level2 = scan.nextLine();\n                 if(level2.equals(&quot;CLEARED&quot;)) {\n                     System.out.println(&quot;Please wait for third level of interview.&quot;);\n                 }else {\n                     System.out.println(&quot;We're sorry, better luck next time.&quot;);\n                 }\n                 \n                 System.out.println(&quot;Have you CLEARED third level of interview?&quot;);\n                 String level3 = scan.nextLine();\n                 if(level3.equals(&quot;CLEARED&quot;)) {\n                    System.out.println(&quot;Please wait for fourth level of interview.&quot;);\n                 }else {\n                     System.out.println(&quot;We're sorry, better luck next time.&quot;);\n                 }\n                 \n                 System.out.println(&quot;Have you CLEARED fourth level of interview?&quot;);\n                 String level4 = scan.nextLine();\n                 if(level4.equals(&quot;CLEARED&quot;)) {\n                    System.out.println(&quot;Kindly wait for final level of HR Interview.&quot;);\n                    System.out.println(&quot;Thank you for your patience.&quot;);\n                 }else {\n                    System.out.println(&quot;We're sorry, better luck next time.&quot;);\n                 }\n                 \n                 System.out.println(&quot;Have you DONE with your HR Interview?&quot;);\n                 String levelHR = scan.nextLine();\n                 if(levelHR.equals(&quot;DONE&quot;)) {\n                    System.out.println(&quot;Please wait in the office lobby, will get back shortly.&quot;); \n                 }\n                 \n             } else {\n                 System.out.println(&quot;We're Sorry, better luck next time&quot;);\n             }\n     \n             scan.close();\n      }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693643234,"post_id":77027070,"comment_id":135790105,"body_markdown":"Related: [Is java.sql.Timestamp timezone specific?](https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific). Scratch that, on further reading, it is a duplicate.","body":"Related: <a href=\"https://stackoverflow.com/questions/14070572/is-java-sql-timestamp-timezone-specific\">Is java.sql.Timestamp timezone specific?</a>. Scratch that, on further reading, it is a duplicate."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1693646609,"post_id":77027070,"comment_id":135790419,"body_markdown":"feel sorry for you that it is considered as duplicated. IMO it is just related but not exactly duplicated","body":"feel sorry for you that it is considered as duplicated. IMO it is just related but not exactly duplicated"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1693643260,"post_id":77027330,"comment_id":135790112,"body_markdown":"_&quot;All this has been covered many times before on Stack Overflow. Search to learn more.&quot;_ may be close as duplicate then?","body":"<i>&quot;All this has been covered many times before on Stack Overflow. Search to learn more.&quot;</i> may be close as duplicate then?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1693691406,"post_id":77027330,"comment_id":135794707,"body_markdown":"I recommend using this answer that uses the modern API.","body":"I recommend using this answer that uses the modern API."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693640125,"creation_date":1693639060,"answer_id":77027330,"question_id":77027070,"body_markdown":"You’ve got a mess there. \r\n\r\nFirst of all, stop using `java.sql.Timestamp`. That terribly flawed legacy class was years ago supplanted by the modern *java.time* classes defined in JSR 310. JDBC 4.2+ supports *java.time*. Jakarta Persistence (JPA) and Hibernate have both been updated to support *java.time*. \r\n\r\nNever use `LocalDateTime` when handling moments, specific points on the timeline. That type lacks the context of a time zone or offset. \r\n\r\nWrite your code in such a way so that your MySQL container&#39;s timezone is irrelevant. \r\n\r\nYour database column must be of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. In MySQL, tha means the type `TIMESTAMP`. **You have used the wrong type** on your column, `DATETIME`. Read the documentation to learn how that type lacks the context of a time zone or offset. That `DATETIME` type stores only a date with a time of day, so it is inherently ambiguous. \r\n\r\nJDBC maps `OffsetDateTime` class to the SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( Offset.UTC ) ;\r\n    myPreparedStatement.setObject( &quot;updated_at&quot; , odt ) ;\r\n\r\nRetrieval:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( &quot;updated_at&quot; , OffsetDateTime.class ) ;\r\n\r\nAll this has been covered many times before on Stack Overflow. Search to learn more. \r\n    \r\n\r\n","title":"Timestamp&#39;s datetime string is shown in local timezone instead of UTC on select","body":"<p>You’ve got a mess there.</p>\n<p>First of all, stop using <code>java.sql.Timestamp</code>. That terribly flawed legacy class was years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. JDBC 4.2+ supports <em>java.time</em>. Jakarta Persistence (JPA) and Hibernate have both been updated to support <em>java.time</em>.</p>\n<p>Never use <code>LocalDateTime</code> when handling moments, specific points on the timeline. That type lacks the context of a time zone or offset.</p>\n<p>Write your code in such a way so that your MySQL container's timezone is irrelevant.</p>\n<p>Your database column must be of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>. In MySQL, tha means the type <code>TIMESTAMP</code>. <strong>You have used the wrong type</strong> on your column, <code>DATETIME</code>. Read the documentation to learn how that type lacks the context of a time zone or offset. That <code>DATETIME</code> type stores only a date with a time of day, so it is inherently ambiguous.</p>\n<p>JDBC maps <code>OffsetDateTime</code> class to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( Offset.UTC ) ;\nmyPreparedStatement.setObject( &quot;updated_at&quot; , odt ) ;\n</code></pre>\n<p>Retrieval:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( &quot;updated_at&quot; , OffsetDateTime.class ) ;\n</code></pre>\n<p>All this has been covered many times before on Stack Overflow. Search to learn more.</p>\n"},{"comments":[{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693641779,"post_id":77027378,"comment_id":135789995,"body_markdown":"thanks, you&#39;re right, `updated_at` would have a time shift. we don&#39;t fetch it through hibernate at the moment, it&#39;s only used for housekeeping the table.","body":"thanks, you&#39;re right, <code>updated_at</code> would have a time shift. we don&#39;t fetch it through hibernate at the moment, it&#39;s only used for housekeeping the table."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693641876,"post_id":77027378,"comment_id":135790000,"body_markdown":"so, you mean that JVM in spring boot&#39;s ECS container on AWS has timezone configured as UTC, that&#39;s why it stores `expires_at` in UTC without `connectionTimeZone`, is that right?","body":"so, you mean that JVM in spring boot&#39;s ECS container on AWS has timezone configured as UTC, that&#39;s why it stores <code>expires_at</code> in UTC without <code>connectionTimeZone</code>, is that right?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1693646425,"post_id":77027378,"comment_id":135790403,"body_markdown":"yes ............","body":"yes ............"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693640806,"creation_date":1693640141,"answer_id":77027378,"question_id":77027070,"body_markdown":"`updated_at` is simple to understand. Since its value is defined by MySQL , it is always equal to the MySQL timezone which is UTC in both of your local MySQL and AWS RDS. \r\n\r\n`expires_at` is trickier as its value is managed by the JDBC driver which also has its timezone setting. When using \r\n\r\n``` java\r\npreparedStatement.setTimestamp(index, timestamp)\r\n```\r\n\r\nwhich hibernate is default to use to configure which value of the time will be stored to DB , the JDBC driver will convert it based on its timezone setting which can be defined explicitly by `connectionTimeZone` in the JDBC connection URL. Otherwise , it will default to use JVM timezone. So think that your spring-boot app running in AWS is configured as UTC timezone now. \r\n\r\nDifferent situations for `expires_at` can be explained as follows :\r\n\r\n\r\n- Run in local + no `connectionTimeZone` configured ➜  JDBC driver default to JVM timezone (i.e PDT) ➜  stores in PDT time\r\n- Run in local + `connectionTimeZone=UTC` ➜   JDBC driver convert it to UTC  ➜  stores in UTC time\r\n - Run in AWS + no `connectionTimeZone` configured ➜  JDBC driver default to JVM timezone (i.e UTC) ➜  stores in UTC time\r\n\r\n\r\nAs MySQL `DATETIME` will not store any timezone information , it is up to the client application that fetch its value to define the timezone. If you do not want to changes its data type , recommend you to at least align your JVM and DB to be in the same timezone setting to prevent some weird problem. I guess now in your local setup you will experience a time shift problem for `updated_at` when hibernate  fetches its value because it will treat it as a PDT time but actually it is a UTC time.\r\n","title":"Timestamp&#39;s datetime string is shown in local timezone instead of UTC on select","body":"<p><code>updated_at</code> is simple to understand. Since its value is defined by MySQL , it is always equal to the MySQL timezone which is UTC in both of your local MySQL and AWS RDS.</p>\n<p><code>expires_at</code> is trickier as its value is managed by the JDBC driver which also has its timezone setting. When using</p>\n<pre class=\"lang-java prettyprint-override\"><code>preparedStatement.setTimestamp(index, timestamp)\n</code></pre>\n<p>which hibernate is default to use to configure which value of the time will be stored to DB , the JDBC driver will convert it based on its timezone setting which can be defined explicitly by <code>connectionTimeZone</code> in the JDBC connection URL. Otherwise , it will default to use JVM timezone. So think that your spring-boot app running in AWS is configured as UTC timezone now.</p>\n<p>Different situations for <code>expires_at</code> can be explained as follows :</p>\n<ul>\n<li>Run in local + no <code>connectionTimeZone</code> configured ➜  JDBC driver default to JVM timezone (i.e PDT) ➜  stores in PDT time</li>\n<li>Run in local + <code>connectionTimeZone=UTC</code> ➜   JDBC driver convert it to UTC  ➜  stores in UTC time</li>\n<li>Run in AWS + no <code>connectionTimeZone</code> configured ➜  JDBC driver default to JVM timezone (i.e UTC) ➜  stores in UTC time</li>\n</ul>\n<p>As MySQL <code>DATETIME</code> will not store any timezone information , it is up to the client application that fetch its value to define the timezone. If you do not want to changes its data type , recommend you to at least align your JVM and DB to be in the same timezone setting to prevent some weird problem. I guess now in your local setup you will experience a time shift problem for <code>updated_at</code> when hibernate  fetches its value because it will treat it as a PDT time but actually it is a UTC time.</p>\n"}],"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693643397,"accepted_answer_id":77027378,"answer_count":2,"score":1,"last_activity_date":1693643150,"creation_date":1693632252,"question_id":77027070,"body_markdown":"My entity has a `java.sql.Timestamp` field:\r\n\r\n    @Column(name = &quot;expires_at&quot;)\r\n    private Timestamp expiresAt;\r\n\r\n\r\nThe table also has a default column `updated_at`, which is dynamically set on insertions/updates (i.e it is not set through JPA):\r\n\r\n      updated_at       DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n\r\n\r\nI set `expiresAt` in the persisted entity this way:\r\n\r\n    long currTimestamp = Instant.now().getEpochSecond();\r\n    LocalDateTime ldt = LocalDateTime.ofInstant(Instant.ofEpochSecond(currTimestamp), ZoneId.of(&quot;UTC&quot;));\r\n    Timestamp expiresAt = Timestamp.valueOf(ldt);\r\n    \r\n    myEntity.setExpiresAt(expiresAt);\r\n\r\n\r\nI am located in PDT timezone. I run Spring Boot app locally, and it uses MySQL container in my Docker Desktop.\r\nThis query shows UTC time, which means that MySQL container&#39;s timezone is UTC:\r\n\r\n    select now();\r\n\r\nBut when I persist my entity into the table, and do `select`, the datetime string of `expires_at` column shows PDT time. And `updated_at` column shows UTC time.\r\n\r\nInterestingly, the records persisted from my AWS ECS Spring Boot app into AWS RDS MySQL instance, show UTC for both `expires_at` and `updated_at`. \r\n\r\nWhen I update local JDBC string (for connecting to Docker Desktop container) to `mysql://localhost:3306/mydbname?connectionTimeZone=UTC`, it shows UTC for both. \r\n\r\nCan anyone explain why this happens? And why in AWS RDS they are both shown in UTC even though I am not using `connectionTimeZone` flag there\r\n \r\n","title":"Timestamp&#39;s datetime string is shown in local timezone instead of UTC on select","body":"<p>My entity has a <code>java.sql.Timestamp</code> field:</p>\n<pre><code>@Column(name = &quot;expires_at&quot;)\nprivate Timestamp expiresAt;\n</code></pre>\n<p>The table also has a default column <code>updated_at</code>, which is dynamically set on insertions/updates (i.e it is not set through JPA):</p>\n<pre><code>  updated_at       DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n</code></pre>\n<p>I set <code>expiresAt</code> in the persisted entity this way:</p>\n<pre><code>long currTimestamp = Instant.now().getEpochSecond();\nLocalDateTime ldt = LocalDateTime.ofInstant(Instant.ofEpochSecond(currTimestamp), ZoneId.of(&quot;UTC&quot;));\nTimestamp expiresAt = Timestamp.valueOf(ldt);\n\nmyEntity.setExpiresAt(expiresAt);\n</code></pre>\n<p>I am located in PDT timezone. I run Spring Boot app locally, and it uses MySQL container in my Docker Desktop.\nThis query shows UTC time, which means that MySQL container's timezone is UTC:</p>\n<pre><code>select now();\n</code></pre>\n<p>But when I persist my entity into the table, and do <code>select</code>, the datetime string of <code>expires_at</code> column shows PDT time. And <code>updated_at</code> column shows UTC time.</p>\n<p>Interestingly, the records persisted from my AWS ECS Spring Boot app into AWS RDS MySQL instance, show UTC for both <code>expires_at</code> and <code>updated_at</code>.</p>\n<p>When I update local JDBC string (for connecting to Docker Desktop container) to <code>mysql://localhost:3306/mydbname?connectionTimeZone=UTC</code>, it shows UTC for both.</p>\n<p>Can anyone explain why this happens? And why in AWS RDS they are both shown in UTC even though I am not using <code>connectionTimeZone</code> flag there</p>\n"},{"tags":["java","android","git","android-library","jitpack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674510309,"post_id":75213281,"comment_id":132725739,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"score":0,"creation_date":1674542411,"post_id":75213281,"comment_id":132730341,"body_markdown":"In the jitpack log which i shared above, it is saying build failed, can you please help me regarding the build failure issue?","body":"In the jitpack log which i shared above, it is saying build failed, can you please help me regarding the build failure issue?"},{"owner":{"account_id":2034274,"reputation":9434,"user_id":1817031,"accept_rate":76,"display_name":"Steve M"},"score":0,"creation_date":1674770586,"post_id":75213281,"comment_id":132790228,"body_markdown":"Any known fix for this? I have the same issue","body":"Any known fix for this? I have the same issue"},{"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"score":0,"creation_date":1674875107,"post_id":75213281,"comment_id":132812796,"body_markdown":"Yeah @SteveM fixed it, can you explain what issue you are facing?","body":"Yeah @SteveM fixed it, can you explain what issue you are facing?"},{"owner":{"account_id":11053980,"reputation":200,"user_id":8117352,"display_name":"Bawender Yandra"},"score":0,"creation_date":1676627028,"post_id":75213281,"comment_id":133179331,"body_markdown":"@Peppty Can you please add the fix that you discovered as an answer below, so its evident to others as well ? I am stuck with the same issue as well.","body":"@Peppty Can you please add the fix that you discovered as an answer below, so its evident to others as well ? I am stuck with the same issue as well."}],"answers":[{"tags":[],"owner":{"account_id":1526051,"reputation":11,"user_id":1424469,"display_name":"Juki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675245224,"creation_date":1675245224,"answer_id":75308344,"question_id":75213281,"body_markdown":"I have faced exactly the same problem. \r\n\r\nI suspect the JitPack is not currently supporting Android Gradle Plugin 7.4.0 (Gradle 7.5)\r\n\r\nMy solution is to step back to Android Gradle Plugin 7.3.1 (Gradle 7.4)","title":"Error while uploading my library into jitpack","body":"<p>I have faced exactly the same problem.</p>\n<p>I suspect the JitPack is not currently supporting Android Gradle Plugin 7.4.0 (Gradle 7.5)</p>\n<p>My solution is to step back to Android Gradle Plugin 7.3.1 (Gradle 7.4)</p>\n"},{"tags":[],"owner":{"account_id":11053980,"reputation":200,"user_id":8117352,"display_name":"Bawender Yandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676628850,"creation_date":1676628850,"answer_id":75482898,"question_id":75213281,"body_markdown":"I recently faced this problem and looking at the error msg from the build logs of jitpack it seems there is a compatibility issue in the dependencies. My project was compiled using JAVA_8 and works fine when run on the local device. It&#39;s only when you publish it the jitpack that it gives this error. \r\n\r\nMy current hypothesis was that there is an internal dependency(I depend on another library and my library is a wrapper for it) and that might be dependent on JAVA_11. \r\n\r\nI upgraded to JAVA_11 and all my issues were resolved, my library is also building now. \r\n\r\n```groovy\r\n   compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    \r\n    kotlinOptions {\r\n        jvmTarget = &#39;11&#39;\r\n    }\r\n```","title":"Error while uploading my library into jitpack","body":"<p>I recently faced this problem and looking at the error msg from the build logs of jitpack it seems there is a compatibility issue in the dependencies. My project was compiled using JAVA_8 and works fine when run on the local device. It's only when you publish it the jitpack that it gives this error.</p>\n<p>My current hypothesis was that there is an internal dependency(I depend on another library and my library is a wrapper for it) and that might be dependent on JAVA_11.</p>\n<p>I upgraded to JAVA_11 and all my issues were resolved, my library is also building now.</p>\n<pre><code>   compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    \n    kotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7440627,"reputation":33,"user_id":5658506,"display_name":"Jubayar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677132108,"creation_date":1677132036,"answer_id":75541093,"question_id":75213281,"body_markdown":"Create a jitpack.yml file in project root folder.\r\nThen past the script on the file :-\r\n\r\n    jdk:\r\n      - openjdk11\r\n\r\n\r\nNow it will work. ","title":"Error while uploading my library into jitpack","body":"<p>Create a jitpack.yml file in project root folder.\nThen past the script on the file :-</p>\n<pre><code>jdk:\n  - openjdk11\n</code></pre>\n<p>Now it will work.</p>\n"},{"tags":[],"owner":{"account_id":15123026,"reputation":513,"user_id":10913282,"display_name":"D.A.C. Nupun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693642526,"creation_date":1693642526,"answer_id":77027488,"question_id":75213281,"body_markdown":"check is uploaded `gradle-wrapper.jar` in your repository ","title":"Error while uploading my library into jitpack","body":"<p>check is uploaded <code>gradle-wrapper.jar</code> in your repository</p>\n"}],"owner":{"account_id":22768893,"reputation":41,"user_id":16926579,"display_name":"Peppty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1693642526,"creation_date":1674496645,"question_id":75213281,"body_markdown":"Am trying to publish my app into jitpack from git, the library working locally well in android java, but not working once uploaded to jitpack.\r\n\r\njipack log is in red color icon.\r\n\r\nAfter implementing the library dependency on a test app, the test app is not showing classes from the library\r\n\r\n*build.gradle(:app)\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.v.ad.vadenhancer&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.v.ad.vadenhancer&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation project(path: &#39;:vadenhancer&#39;)\r\n}\r\n```\r\n\r\n*build.gradle(:vadenhancer)\r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.v.ad.vadenhancer&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        minSdk 24\r\n        targetSdk 33\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n*build.gradle(vadenhancer)\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;maven-publish&#39;\r\n}\r\n```\r\n\r\n*ERROR FROM JITPACK LOG\r\n```\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n```\r\n\r\n\r\n\r\n*full log from jitpack\r\n\r\n```\r\nBuild starting...\r\nStart: Tue Jan 24 07:48:22 UTC 2023 90b06352ee1a\r\nGit:\r\n1.0.4-0-gdd26802\r\ncommit dd26802417a27cd909e295e139210ce5e6d3d71b\r\nAuthor: Peppty \r\nDate:   Tue Jan 24 13:16:56 2023 +0530\r\n\r\n    v1.0.4\r\n\r\n\r\nInit SDKMan\r\nSetting up auth\r\nFound Android manifest\r\nAndroid SDK version: . Build tools: \r\nFound gradle\r\nGradle build script\r\nFound gradle version: 7.5.\r\nUsing gradle wrapper\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nDownloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\r\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\r\n\r\n------------------------------------------------------------\r\nGradle 7.5\r\n------------------------------------------------------------\r\n\r\nBuild time:   2022-07-14 12:48:15 UTC\r\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\r\n\r\nKotlin:       1.6.21\r\nGroovy:       3.0.10\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          1.8.0_292 (Private Build 25.292-b10)\r\nOS:           Linux 4.14.63-xxxx-std-ipv6-64 amd64\r\n\r\n0m2.994s\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\nGetting tasks: ./gradlew tasks --all\r\nTasks: \r\n\r\n ⚠️   WARNING:\r\n Gradle &#39;publishToMavenLocal&#39; task not found. Please add the &#39;maven-publish&#39; or &#39;maven&#39; plugin.\r\n See the documentation and examples: https://docs.jitpack.io\r\n\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 628ms\r\nRunning: ./gradlew -Pgroup=com.github.peppty-dev -Pversion=1.0.4 publishToMavenLocal\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 427ms\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;vadenhancer&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5&#39;)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 544ms\r\nBuild tool exit code: 0\r\nLooking for artifacts...\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\nLooking for pom.xml in build directory and ~/.m2\r\n2023-01-24T07:48:38.150900695Z\r\nExit code: 0\r\n\r\n⚠️ ERROR: No build artifacts found\r\n```","title":"Error while uploading my library into jitpack","body":"<p>Am trying to publish my app into jitpack from git, the library working locally well in android java, but not working once uploaded to jitpack.</p>\n<p>jipack log is in red color icon.</p>\n<p>After implementing the library dependency on a test app, the test app is not showing classes from the library</p>\n<p>*build.gradle(:app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'com.v.ad.vadenhancer'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.v.ad.vadenhancer&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation project(path: ':vadenhancer')\n}\n</code></pre>\n<p>*build.gradle(:vadenhancer)</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'com.v.ad.vadenhancer'\n    compileSdk 33\n\n    defaultConfig {\n        minSdk 24\n        targetSdk 33\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>*build.gradle(vadenhancer)</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n    id 'maven-publish'\n}\n</code></pre>\n<p>*ERROR FROM JITPACK LOG</p>\n<pre><code>A problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n</code></pre>\n<p>*full log from jitpack</p>\n<pre><code>Build starting...\nStart: Tue Jan 24 07:48:22 UTC 2023 90b06352ee1a\nGit:\n1.0.4-0-gdd26802\ncommit dd26802417a27cd909e295e139210ce5e6d3d71b\nAuthor: Peppty \nDate:   Tue Jan 24 13:16:56 2023 +0530\n\n    v1.0.4\n\n\nInit SDKMan\nSetting up auth\nFound Android manifest\nAndroid SDK version: . Build tools: \nFound gradle\nGradle build script\nFound gradle version: 7.5.\nUsing gradle wrapper\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nDownloading https://services.gradle.org/distributions/gradle-7.5-bin.zip\n.10%.20%.30%.40%.50%.60%.70%.80%.90%.100%\n\n------------------------------------------------------------\nGradle 7.5\n------------------------------------------------------------\n\nBuild time:   2022-07-14 12:48:15 UTC\nRevision:     c7db7b958189ad2b0c1472b6fe663e6d654a5103\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_292 (Private Build 25.292-b10)\nOS:           Linux 4.14.63-xxxx-std-ipv6-64 amd64\n\n0m2.994s\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\nGetting tasks: ./gradlew tasks --all\nTasks: \n\n ⚠️   WARNING:\n Gradle 'publishToMavenLocal' task not found. Please add the 'maven-publish' or 'maven' plugin.\n See the documentation and examples: https://docs.jitpack.io\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 628ms\nRunning: ./gradlew -Pgroup=com.github.peppty-dev -Pversion=1.0.4 publishToMavenLocal\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 427ms\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'vadenhancer'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.5')\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 544ms\nBuild tool exit code: 0\nLooking for artifacts...\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nLooking for pom.xml in build directory and ~/.m2\n2023-01-24T07:48:38.150900695Z\nExit code: 0\n\n⚠️ ERROR: No build artifacts found\n</code></pre>\n"},{"tags":["java","excel"],"answers":[{"comments":[{"owner":{"account_id":3503956,"reputation":3,"user_id":2929949,"display_name":"NILE"},"score":0,"creation_date":1386540824,"post_id":20450642,"comment_id":30571161,"body_markdown":"Im new to programming i had to look up what pseudocode was :) im not sure about what external vs internal? count?","body":"Im new to programming i had to look up what pseudocode was :) im not sure about what external vs internal? count?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1386541379,"post_id":20450642,"comment_id":30571320,"body_markdown":"the external count is a variable that is defined outside the FOR and incremented inside it `rowNumber`. The internal count is the one used on the for, on this case it is `i`. Pseudocode is just a way to show how you should programm not a real sintaxe of the language, it is more like: do something, then test a variable, then sum the other variable then finalize the program.","body":"the external count is a variable that is defined outside the FOR and incremented inside it <code>rowNumber</code>. The internal count is the one used on the for, on this case it is <code>i</code>. Pseudocode is just a way to show how you should programm not a real sintaxe of the language, it is more like: do something, then test a variable, then sum the other variable then finalize the program."},{"owner":{"account_id":3503956,"reputation":3,"user_id":2929949,"display_name":"NILE"},"score":0,"creation_date":1386542515,"post_id":20450642,"comment_id":30571714,"body_markdown":"This is my second project in java(That i want to finish) and is actually a real world program that can manipulate data. --------------------------------------------------So  I get cell creation in excel i have created cells no problem but the problem lies when i need to get the code from a text file. It wont line up with the spreadsheet. example, a1 b2 c3 as stated above. There has to be an easier way to write the code(maybe longer) so i can see whats going on. For example pseudocode: get first line from array(arr)&gt;get only data after &quot;:&quot;&gt;create row and cell&gt;input into cell only info after &quot;:&quot;","body":"This is my second project in java(That i want to finish) and is actually a real world program that can manipulate data. --------------------------------------------------So  I get cell creation in excel i have created cells no problem but the problem lies when i need to get the code from a text file. It wont line up with the spreadsheet. example, a1 b2 c3 as stated above. There has to be an easier way to write the code(maybe longer) so i can see whats going on. For example pseudocode: get first line from array(arr)&gt;get only data after &quot;:&quot;&gt;create row and cell&gt;input into cell only info after &quot;:&quot;"},{"owner":{"account_id":3503956,"reputation":3,"user_id":2929949,"display_name":"NILE"},"score":0,"creation_date":1386543747,"post_id":20450642,"comment_id":30572144,"body_markdown":"//String strLine;\n\t//String namepass[] = strLine.split(&quot;:&quot;); \n\t//String name = namepass[0]; \n\t//String pass = namepass[1]; //ive been trying to get this code somehow into my code to its easier for me to understand? Am i on the right track? Thanks agian!","body":"//String strLine; \t//String namepass[] = strLine.split(&quot;:&quot;);  \t//String name = namepass[0];  \t//String pass = namepass[1]; //ive been trying to get this code somehow into my code to its easier for me to understand? Am i on the right track? Thanks agian!"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1386545907,"post_id":20450642,"comment_id":30572791,"body_markdown":"Yeah I choose to use substring because your string is pretty forward and is a pattern. always have the same values. If you want to use split you have to understand its working. let say you have this string: `a:b:c` when you use `String [] arr = &quot;a:b:c&quot;.split(&quot;:&quot;)` on this passing `:` you are creating an string array with tree elements which is arr[0]=a; arr[1]=b and arr[2]=c on your question you read line by line which means that every line splitted you will have: arr[0]=Name and arr[1]= John doe (with the space) for the next line that has the phone it will be: arr[0]=phone and arr[1]=xxx-xxxx","body":"Yeah I choose to use substring because your string is pretty forward and is a pattern. always have the same values. If you want to use split you have to understand its working. let say you have this string: <code>a:b:c</code> when you use <code>String [] arr = &quot;a:b:c&quot;.split(&quot;:&quot;)</code> on this passing <code>:</code> you are creating an string array with tree elements which is arr[0]=a; arr[1]=b and arr[2]=c on your question you read line by line which means that every line splitted you will have: arr[0]=Name and arr[1]= John doe (with the space) for the next line that has the phone it will be: arr[0]=phone and arr[1]=xxx-xxxx"}],"tags":[],"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386546195,"creation_date":1386484850,"answer_id":20450642,"question_id":20450232,"body_markdown":"If your file `email.txt` Always has the format you said:\r\n\r\n    Name: John\r\n    phone: (xxx) xxx-xxxx\r\n\r\nI&#39;m not familiarized with the row and cell creation, so I will give you some pseudo code to you understand what you have to do on your code:\r\n\r\nOn this part of your code:\r\n\r\n    //create a count for rows here\r\n    inr rowNumber = 0;\r\n    //Here you are reading your list with all data readed\r\n    for(int i=0;i&lt;arr.size()-1;i+=2){ //the -1 is for the array to stop on the \r\n                                     //last but one row\r\n\r\n        row = spreadSheet.createRow((short) rowNumber); //external count\r\n        \r\n        //pseudocode from here\r\n        cell1 = row.createCell(0); \r\n        cell2 = row.createCell(1); \r\n                \r\n        cell1.setCellValue(  arr.get(i).substring(arr.get(i).indexOf(&quot;:&quot;)+1) );\r\n                                  // ^ this is for name\r\n        cell2.setCellValue(  arr.get(i+1).substring(arr.get(i+1).indexOf(&quot;:&quot;)+1) );\r\n                                   // ^ this is for phone\r\n\r\n        rowNumber++; //increment your rowNumber\r\n    }","title":"How do i get data from a txt file and send it to excel spreadsheet?(I only want everything after the &quot;:&quot; in the txt file)?","body":"<p>If your file <code>email.txt</code> Always has the format you said:</p>\n\n<pre><code>Name: John\nphone: (xxx) xxx-xxxx\n</code></pre>\n\n<p>I'm not familiarized with the row and cell creation, so I will give you some pseudo code to you understand what you have to do on your code:</p>\n\n<p>On this part of your code:</p>\n\n<pre><code>//create a count for rows here\ninr rowNumber = 0;\n//Here you are reading your list with all data readed\nfor(int i=0;i&lt;arr.size()-1;i+=2){ //the -1 is for the array to stop on the \n                                 //last but one row\n\n    row = spreadSheet.createRow((short) rowNumber); //external count\n\n    //pseudocode from here\n    cell1 = row.createCell(0); \n    cell2 = row.createCell(1); \n\n    cell1.setCellValue(  arr.get(i).substring(arr.get(i).indexOf(\":\")+1) );\n                              // ^ this is for name\n    cell2.setCellValue(  arr.get(i+1).substring(arr.get(i+1).indexOf(\":\")+1) );\n                               // ^ this is for phone\n\n    rowNumber++; //increment your rowNumber\n}\n</code></pre>\n"}],"owner":{"account_id":3503956,"reputation":3,"user_id":2929949,"display_name":"NILE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693641900,"creation_date":1386480435,"question_id":20450232,"body_markdown":"I have a program (below) that takes txt files and puts them into an excel spreadsheet. My goal is to extract the data from a text file but only text after the colon.\r\n\r\nExample txt file(No space between &quot;name:&quot; and &quot;phone:&quot; lines in the txt):\r\n\r\n   Name: John doe\r\n\r\n   phone: (xxx) xxx-xxxx\r\n\r\nI want my program to only save john doe in the excel sheet and title the column &quot;Name&quot;:\r\nI want my program to only save (xxx) xxx-xxxx in the excel sheet and title the column &quot;phone&quot; \r\nI want to be able to add multiple entrys to the spreadsheet.\r\n\r\nExample(in excel sheet generated):This is what i want it to look like!\r\n\r\n   ....A..............B\r\n\r\n1   name     | Phone\r\n\r\n2   john doe   (123) 123-1234\r\n\r\n3   jack dee   (123) 123-1231\r\n\r\nSo i looked at the string split to get only data after the &quot;:&quot; but cant find much documentation on it. Also getting the info to line up correctly in the excel. Any help is much appreciated.\r\n\r\nThanks,\r\nJames\r\n\r\n\r\n\r\n    package EREW;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n \r\n    \r\n    import org.apache.poi.hssf.usermodel.HSSFCell;\r\n    import org.apache.poi.hssf.usermodel.HSSFRichTextString;\r\n    import org.apache.poi.hssf.usermodel.HSSFRow;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n     \r\n     \r\n    public class ReadWriteXL\r\n    {\r\n    public static void main(String[] args) throws InvalidFormatException, IOException{\r\n        ArrayList arr=new ArrayList();\r\n    File f=new File(&quot;F:\\\\temp\\\\TEXT\\\\email.txt&quot;);\r\n    \r\n    Scanner in=new Scanner(f);\r\n    System.out.println(&quot;Read Data From The Txt file &quot;);\r\n    while(in.hasNext())\r\n    {    \r\n    \t\r\n    arr.add(in.nextLine());\r\n    }\r\n    System.out.println(&quot;Data From ArrayList&quot;);\r\n    System.out.println(arr);\r\n     \r\n     \r\n    System.out.println(&quot;Write data to an Excel Sheet&quot;);\r\n    FileOutputStream fos=new FileOutputStream(&quot;F:/temp/1.xls&quot;);\r\n    HSSFWorkbook workBook = new HSSFWorkbook();\r\n    HSSFSheet spreadSheet = workBook.createSheet(&quot;email&quot;);\r\n    HSSFRow row;\r\n    HSSFCell cell;\r\n    for(int i=0;i&lt;arr.size();i++){\r\n        row = spreadSheet.createRow((short) i);\r\n    cell = row.createCell(i);\r\n    System.out.println(arr.get(i));\r\n    cell.setCellValue(arr.get(i).toString());\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n    workBook.write(fos);\r\n    arr.clear();\r\n    System.out.println(&quot;ReadIng From Excel Sheet&quot;);\r\n     \r\n    FileInputStream fis = null;\r\n        fis = new FileInputStream(&quot;F:/temp/1.xls&quot;);\r\n     \r\n        HSSFWorkbook workbook = new HSSFWorkbook(fis);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n        Iterator rows = sheet.rowIterator();\r\n     \r\n        while (rows.hasNext()) {\r\n            HSSFRow row1 = (HSSFRow) rows.next();\r\n            Iterator cells = row1.cellIterator();\r\n            while (cells.hasNext()) {\r\n                HSSFCell cell1 = (HSSFCell) cells.next();\r\n                arr.add(cell1);\r\n            }\r\n    }\r\n    System.out.println(arr);\r\n     \r\n    }}\r\n     \r\n     ","title":"How do i get data from a txt file and send it to excel spreadsheet?(I only want everything after the &quot;:&quot; in the txt file)?","body":"<p>I have a program (below) that takes txt files and puts them into an excel spreadsheet. My goal is to extract the data from a text file but only text after the colon.</p>\n\n<p>Example txt file(No space between \"name:\" and \"phone:\" lines in the txt):</p>\n\n<p>Name: John doe</p>\n\n<p>phone: (xxx) xxx-xxxx</p>\n\n<p>I want my program to only save john doe in the excel sheet and title the column \"Name\":\nI want my program to only save (xxx) xxx-xxxx in the excel sheet and title the column \"phone\" \nI want to be able to add multiple entrys to the spreadsheet.</p>\n\n<p>Example(in excel sheet generated):This is what i want it to look like!</p>\n\n<p>....A..............B</p>\n\n<p>1   name     | Phone</p>\n\n<p>2   john doe   (123) 123-1234</p>\n\n<p>3   jack dee   (123) 123-1231</p>\n\n<p>So i looked at the string split to get only data after the \":\" but cant find much documentation on it. Also getting the info to line up correctly in the excel. Any help is much appreciated.</p>\n\n<p>Thanks,\nJames</p>\n\n<pre><code>package EREW;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner;\n\n\nimport org.apache.poi.hssf.usermodel.HSSFCell;\nimport org.apache.poi.hssf.usermodel.HSSFRichTextString;\nimport org.apache.poi.hssf.usermodel.HSSFRow;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\n\npublic class ReadWriteXL\n{\npublic static void main(String[] args) throws InvalidFormatException, IOException{\n    ArrayList arr=new ArrayList();\nFile f=new File(\"F:\\\\temp\\\\TEXT\\\\email.txt\");\n\nScanner in=new Scanner(f);\nSystem.out.println(\"Read Data From The Txt file \");\nwhile(in.hasNext())\n{    \n\narr.add(in.nextLine());\n}\nSystem.out.println(\"Data From ArrayList\");\nSystem.out.println(arr);\n\n\nSystem.out.println(\"Write data to an Excel Sheet\");\nFileOutputStream fos=new FileOutputStream(\"F:/temp/1.xls\");\nHSSFWorkbook workBook = new HSSFWorkbook();\nHSSFSheet spreadSheet = workBook.createSheet(\"email\");\nHSSFRow row;\nHSSFCell cell;\nfor(int i=0;i&lt;arr.size();i++){\n    row = spreadSheet.createRow((short) i);\ncell = row.createCell(i);\nSystem.out.println(arr.get(i));\ncell.setCellValue(arr.get(i).toString());\n}\nSystem.out.println(\"Done\");\nworkBook.write(fos);\narr.clear();\nSystem.out.println(\"ReadIng From Excel Sheet\");\n\nFileInputStream fis = null;\n    fis = new FileInputStream(\"F:/temp/1.xls\");\n\n    HSSFWorkbook workbook = new HSSFWorkbook(fis);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n    Iterator rows = sheet.rowIterator();\n\n    while (rows.hasNext()) {\n        HSSFRow row1 = (HSSFRow) rows.next();\n        Iterator cells = row1.cellIterator();\n        while (cells.hasNext()) {\n            HSSFCell cell1 = (HSSFCell) cells.next();\n            arr.add(cell1);\n        }\n}\nSystem.out.println(arr);\n\n}}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":1,"creation_date":1693586654,"post_id":77024664,"comment_id":135785427,"body_markdown":"I would bet it is the same problem as in this question: [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) -- that is, `nextLine()` is reading (up to) the newline from previous input (`next()` which does not *consume* the newline from the input) || Solution: add a `dummy* call to `nextLine()` before reading the string","body":"I would bet it is the same problem as in this question: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> -- that is, <code>nextLine()</code> is reading (up to) the newline from previous input (<code>next()</code> which does not <i>consume</i> the newline from the input) || Solution: add a <code>dummy* call to </code>nextLine()` before reading the string"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1693587922,"post_id":77024664,"comment_id":135785596,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693628866,"post_id":77024717,"comment_id":135789172,"body_markdown":"Maybe you could post some code demonstrating what you mean and how it relates to the code in the question.","body":"Maybe you could post some code demonstrating what you mean and how it relates to the code in the question."}],"tags":[],"owner":{"account_id":29330791,"reputation":3,"user_id":22472296,"display_name":"Blerdegerb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693597380,"creation_date":1693585952,"answer_id":77024717,"question_id":77024664,"body_markdown":"[Check out this answer](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nBasically, it boils down to the scanner can be a bit &quot;finicky&quot; when you use certain commands like &quot;next&quot; instead of &quot;nextline&quot; If I recall when I would use Java I would usually just scan with nextline and then cast after the fact\r\n","title":"Java String outputting as blank","body":"<p><a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Check out this answer</a></p>\n<p>Basically, it boils down to the scanner can be a bit &quot;finicky&quot; when you use certain commands like &quot;next&quot; instead of &quot;nextline&quot; If I recall when I would use Java I would usually just scan with nextline and then cast after the fact</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693627817,"post_id":77024736,"comment_id":135789126,"body_markdown":"_Don&#39;t forget to close the Scanner!_ Not if it wraps `System.in`. In any case it will be closed when the JVM terminates, besides which, in the code in your question, closing the `Scanner` is the last thing that your code does so it&#39;s kind of moot, anyway.","body":"<i>Don&#39;t forget to close the Scanner!</i> Not if it wraps <code>System.in</code>. In any case it will be closed when the JVM terminates, besides which, in the code in your question, closing the <code>Scanner</code> is the last thing that your code does so it&#39;s kind of moot, anyway."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693586489,"creation_date":1693586089,"answer_id":77024736,"question_id":77024664,"body_markdown":"The following should work.\r\n\r\nYou can request the input on the same line using `System.out.print` and you can use `String.format` to output the variables. Don&#39;t forget to close the `Scanner`!\r\n\r\n**Note:** When grabbing partial string input, you need to call `scanner.nextLine()` to dump the buffer, before requesting more string values.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Inputs\r\n        int userInt;\r\n        double userDouble;\r\n        char myChar;\r\n        String myString;\r\n\r\n        System.out.print(&quot;Enter integer: &quot;);\r\n        userInt = scanner.nextInt();\r\n\r\n        System.out.print(&quot;Enter double: &quot;);\r\n        userDouble = scanner.nextDouble();\r\n\r\n        System.out.print(&quot;Enter character: &quot;);\r\n        myChar = scanner.next().charAt(0);\r\n\r\n        scanner.nextLine(); // Clear the buffer\r\n\r\n        System.out.print(&quot;Enter string: &quot;);\r\n        myString = scanner.nextLine();\r\n\r\n        // Output the four values in order\r\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\r\n\r\n        // Output the four values in reverse order\r\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\r\n\r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\nEnter integer: 99\r\nEnter double: 3.77\r\nEnter character: z\r\nEnter string: Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nIf you want to take all the inputs at once, you can do the following:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        // Inputs\r\n        int userInt;\r\n        double userDouble;\r\n        char myChar;\r\n        String myString;\r\n\r\n        System.out.print(&quot;Enter an integer, double, character, and a string: &quot;);\r\n\r\n        userInt = scanner.nextInt();\r\n        userDouble = scanner.nextDouble();\r\n        myChar = scanner.next(&quot;.&quot;).charAt(0); // See: https://stackoverflow.com/a/13942707/1762224\r\n        myString = scanner.nextLine().trim();\r\n\r\n        // Output the four values in order\r\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\r\n\r\n        // Output the four values in reverse order\r\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\r\n\r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```\r\nEnter an integer, double, character, and a string: 99 3.77 z Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nIf you want to be strict about which charcter can be entered, you can use a pattern:\r\n\r\n```java\r\nmyChar = scanner.next(&quot;[A-Za-z]&quot;).charAt(0); // Only alpha\r\n```","title":"Java String outputting as blank","body":"<p>The following should work.</p>\n<p>You can request the input on the same line using <code>System.out.print</code> and you can use <code>String.format</code> to output the variables. Don't forget to close the <code>Scanner</code>!</p>\n<p><strong>Note:</strong> When grabbing partial string input, you need to call <code>scanner.nextLine()</code> to dump the buffer, before requesting more string values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // Inputs\n        int userInt;\n        double userDouble;\n        char myChar;\n        String myString;\n\n        System.out.print(&quot;Enter integer: &quot;);\n        userInt = scanner.nextInt();\n\n        System.out.print(&quot;Enter double: &quot;);\n        userDouble = scanner.nextDouble();\n\n        System.out.print(&quot;Enter character: &quot;);\n        myChar = scanner.next().charAt(0);\n\n        scanner.nextLine(); // Clear the buffer\n\n        System.out.print(&quot;Enter string: &quot;);\n        myString = scanner.nextLine();\n\n        // Output the four values in order\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\n\n        // Output the four values in reverse order\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\n\n        // Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter integer: 99\nEnter double: 3.77\nEnter character: z\nEnter string: Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>If you want to take all the inputs at once, you can do the following:</p>\n<pre><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        // Inputs\n        int userInt;\n        double userDouble;\n        char myChar;\n        String myString;\n\n        System.out.print(&quot;Enter an integer, double, character, and a string: &quot;);\n\n        userInt = scanner.nextInt();\n        userDouble = scanner.nextDouble();\n        myChar = scanner.next(&quot;.&quot;).charAt(0); // See: https://stackoverflow.com/a/13942707/1762224\n        myString = scanner.nextLine().trim();\n\n        // Output the four values in order\n        System.out.printf(&quot;%d %.2f %s %s%n&quot;, userInt, userDouble, myChar, myString);\n\n        // Output the four values in reverse order\n        System.out.printf(&quot;%s %s %.2f %d%n&quot;, myString, myChar, userDouble, userInt);\n\n        // Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int) userDouble);\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Enter an integer, double, character, and a string: 99 3.77 z Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>If you want to be strict about which charcter can be entered, you can use a pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myChar = scanner.next(&quot;[A-Za-z]&quot;).charAt(0); // Only alpha\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23213958,"reputation":92,"user_id":17307068,"display_name":"ldn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693587844,"creation_date":1693587844,"answer_id":77024895,"question_id":77024664,"body_markdown":"we should clear/flush the scanner to remove any residual buffer left in the input buffer. \r\n\r\nIn you case, you input a character for `myChar` and then you `ENTER` so it will suppose that `myString = scnr.nextLine();` will be an `ENTER` because the `ENTER` be know as the buffer after this input.\r\n```java\r\nmyChar = scnr.next().charAt(0);\r\n```\r\nFor example: when it&#39;s go to input for `myChar`, you type: &quot;c &lt;space&gt; Howdy&quot; and `ENTER`, so it will know that myChar = &#39;c&#39; and myString will be &quot;Howdy `ENTER`&quot;.\r\n\r\nTherefore, we have clear the Scanner to ensure that there are no extra characters/tokens left in the previous input.\r\nIn java, when you use Scanner next(), nextInt(), or nextLine() it after leaves the newline character &#39;\\n&#39;/&lt;space&gt;\r\n\r\nTo clear the Scanner buffer, you can use this\r\n```java\r\nScanner.nextLine();\r\n``` \r\nBased on your code, you should use this after input for myChar:\r\n```java\r\nscnr.nextLine();\r\n```\r\n\r\nYour full of code should like this\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int userInt = 0;\r\n        double userDouble = 0.0;\r\n        \r\n        // FIXME Define char and string variables similarly\r\n        char myChar;\r\n        String myString = &quot;&quot;;\r\n        \r\n        System.out.println(&quot;Enter integer: &quot;);\r\n        userInt = scnr.nextInt();\r\n        \r\n        // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\n        System.out.println(&quot;Enter double: &quot;);\r\n        userDouble = scnr.nextDouble();\r\n        \r\n        System.out.println(&quot;Enter character: &quot;);\r\n        myChar = scnr.next().charAt(0);\r\n        scnr.nextLine(); // clear buffer\r\n        \r\n        System.out.println(&quot;Enter string: &quot;);\r\n        myString = scnr.nextLine();\r\n        \r\n        \r\n        System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\r\n        \r\n        // FIXME (2): Output the four values in reverse\r\n        System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\r\n        \r\n        // FIXME (3): Cast the double to an integer, and output that integer\r\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java String outputting as blank","body":"<p>we should clear/flush the scanner to remove any residual buffer left in the input buffer.</p>\n<p>In you case, you input a character for <code>myChar</code> and then you <code>ENTER</code> so it will suppose that <code>myString = scnr.nextLine();</code> will be an <code>ENTER</code> because the <code>ENTER</code> be know as the buffer after this input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myChar = scnr.next().charAt(0);\n</code></pre>\n<p>For example: when it's go to input for <code>myChar</code>, you type: &quot;c  Howdy&quot; and <code>ENTER</code>, so it will know that myChar = 'c' and myString will be &quot;Howdy <code>ENTER</code>&quot;.</p>\n<p>Therefore, we have clear the Scanner to ensure that there are no extra characters/tokens left in the previous input.\nIn java, when you use Scanner next(), nextInt(), or nextLine() it after leaves the newline character '\\n'/</p>\n<p>To clear the Scanner buffer, you can use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner.nextLine();\n</code></pre>\n<p>Based on your code, you should use this after input for myChar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>scnr.nextLine();\n</code></pre>\n<p>Your full of code should like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int userInt = 0;\n        double userDouble = 0.0;\n        \n        // FIXME Define char and string variables similarly\n        char myChar;\n        String myString = &quot;&quot;;\n        \n        System.out.println(&quot;Enter integer: &quot;);\n        userInt = scnr.nextInt();\n        \n        // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\n        System.out.println(&quot;Enter double: &quot;);\n        userDouble = scnr.nextDouble();\n        \n        System.out.println(&quot;Enter character: &quot;);\n        myChar = scnr.next().charAt(0);\n        scnr.nextLine(); // clear buffer\n        \n        System.out.println(&quot;Enter string: &quot;);\n        myString = scnr.nextLine();\n        \n        \n        System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\n        \n        // FIXME (2): Output the four values in reverse\n        System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\n        \n        // FIXME (3): Cast the double to an integer, and output that integer\n        System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\n        return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693613823,"creation_date":1693613823,"answer_id":77026497,"question_id":77024664,"body_markdown":"&gt; _&quot;... when they are outputted, the String is just blank ...&quot;_\r\n\r\n&gt; _&quot;... How do I get the String to show in the output? It is just displaying as an empty string. I&#39;ve even tried to initialize the ```myString``` variable to ```&quot;Hello&quot;```, but it still displays empty.&quot;_\r\n\r\nIf you&#39;re looking to read input one line at a time, use the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_ method.  \r\nThe _next_ methods, _nextInt_, _nextDouble_, etc., are used for obtaining values within a single-line.\r\n\r\n```java\r\nSystem.out.println(&quot;Enter integer: &quot;);\r\nuserInt = Integer.parseInt(scnr.nextLine());\r\n\r\n// FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\nSystem.out.println(&quot;Enter double: &quot;);\r\nuserDouble = Double.parseDouble(scnr.nextLine());\r\n\r\nSystem.out.println(&quot;Enter character: &quot;);\r\nmyChar = scnr.nextLine().charAt(0);\r\n\r\nSystem.out.println(&quot;Enter string: &quot;);\r\nmyString = scnr.nextLine();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter integer: \r\n99\r\nEnter double: \r\n3.77\r\nEnter character: \r\nz\r\nEnter string: \r\nHowdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nHere is an example demonstrating how to read the 4 values when written on one line.  \r\nI&#39;ve added the _[String#stripLeading](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#stripLeading())_ to remove any white-space characters.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nint a = scanner.nextInt();\r\ndouble b = scanner.nextDouble();\r\nchar c = scanner.next().charAt(0);\r\nString d = scanner.nextLine().stripLeading();\r\nSystem.out.printf(&quot;%s %s %s %s%n%4$s %3$s %2$s %1$s&quot;, a, b, c, d);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n99 3.77 z Howdy\r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n```","title":"Java String outputting as blank","body":"<blockquote>\n<p><em>&quot;... when they are outputted, the String is just blank ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... How do I get the String to show in the output? It is just displaying as an empty string. I've even tried to initialize the <code>myString</code> variable to <code>&quot;Hello&quot;</code>, but it still displays empty.&quot;</em></p>\n</blockquote>\n<p>If you're looking to read input one line at a time, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em> method.<br />\nThe <em>next</em> methods, <em>nextInt</em>, <em>nextDouble</em>, etc., are used for obtaining values within a single-line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter integer: &quot;);\nuserInt = Integer.parseInt(scnr.nextLine());\n\n// FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\nSystem.out.println(&quot;Enter double: &quot;);\nuserDouble = Double.parseDouble(scnr.nextLine());\n\nSystem.out.println(&quot;Enter character: &quot;);\nmyChar = scnr.nextLine().charAt(0);\n\nSystem.out.println(&quot;Enter string: &quot;);\nmyString = scnr.nextLine();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter integer: \n99\nEnter double: \n3.77\nEnter character: \nz\nEnter string: \nHowdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Here is an example demonstrating how to read the 4 values when written on one line.<br />\nI've added the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#stripLeading()\" rel=\"nofollow noreferrer\">String#stripLeading</a></em> to remove any white-space characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nint a = scanner.nextInt();\ndouble b = scanner.nextDouble();\nchar c = scanner.next().charAt(0);\nString d = scanner.nextLine().stripLeading();\nSystem.out.printf(&quot;%s %s %s %s%n%4$s %3$s %2$s %1$s&quot;, a, b, c, d);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>99 3.77 z Howdy\n99 3.77 z Howdy\nHowdy z 3.77 99\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693640623,"creation_date":1693640623,"answer_id":77027401,"question_id":77024664,"body_markdown":"Just another alternative. It only utilizes the [Scanner#nextLine()](https://www.tutorialspoint.com/java/util/scanner_nextline.htm) method and makes use of the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method to carry out input validation for each prompt. If a prompt input validation fails, the User is permitted to try again. The User can also quit on any prompt. Be sure to read the comments in code:\r\n\r\n```\r\npublic class BasicInput {\r\n    \r\n    // OS related newline character sequence:\r\n    public final String LS = System.lineSeparator();\r\n    \r\n    // The JVM will automatically close this resource when the application ends.\r\n    private final java.util.Scanner scnr = new java.util.Scanner(System.in);\r\n    \r\n    private int userInt;\r\n    private double userDouble;\r\n    private char myChar;\r\n    private String myString = &quot;&quot;;\r\n        \r\n\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need \r\n           for statics (unless we want them):  */\r\n        new BasicInput().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        /* List Interface of Object - Will hold the values of the \r\n           above variables once they are filled.               */\r\n        java.util.List&lt;Object&gt; list = new java.util.ArrayList&lt;&gt;();\r\n        \r\n        System.out.println(&quot;Enter &#39;q&#39; to quit at any time:&quot; + LS);\r\n        \r\n        // PROMPT #1 - Enter Integer Value:\r\n        String intNum = &quot;&quot;;\r\n        while (intNum.isEmpty()) {\r\n            System.out.print(&quot;Enter an integer value: -&gt; &quot;);\r\n            intNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (intNum.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATE USER ENTRY:     \r\n               If the supplied string is NOT (!) a representation of a signed \r\n               or unsigned integer value which is within Integer.MIN_VALUE\r\n               and Integer.MAX_VALUE then, inform the User and allow him \r\n               or her to try again:                                   */\r\n            if (!intNum.matches(&quot;-?\\\\d+&quot;) || new java.math.BigInteger(intNum).longValue() &lt; Integer.MIN_VALUE \r\n                                          || new java.math.BigInteger(intNum).longValue() &gt; Integer.MAX_VALUE) {\r\n                System.out.println(&quot;Invalid Numerical Integer (int type) Entry! (&quot; + intNum + &quot;) Try again...&quot; + LS);\r\n                intNum = &quot;&quot;;\r\n            }\r\n        }\r\n        \r\n        // Fill `userInt` member variable - Convert String to int:\r\n        userInt = Integer.parseInt(intNum);\r\n        // Add to List\r\n        list.add(userInt);  \r\n        \r\n        \r\n        // PROMPT #2 - Enter Floating Point (double type) Value:\r\n        String dblNum = &quot;&quot;;\r\n        while (dblNum.isEmpty()) {\r\n            System.out.print(&quot;Enter a floating point value: -&gt; &quot;);\r\n            dblNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (dblNum.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATE USER ENTRY:     \r\n               If the supplied string is not a representation of a signed \r\n               or unsigned integer or floating point value then, inform\r\n               the User and allow him/her to try again:              */\r\n            if (!dblNum.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) {\r\n                System.out.println(&quot;Invalid Numerical Floating-Point Entry! (&quot; \r\n                                   + dblNum + &quot;) Try again...&quot; + LS);\r\n                dblNum = &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        // Fill `userDouble` member variable - Convert String to double:\r\n        userDouble = Double.parseDouble(dblNum);\r\n        // Add to List:\r\n        list.add(userDouble);\r\n        \r\n        \r\n        // PROMPT #3 - Enter A Specific Character:\r\n        String charVal = &quot;&quot;;\r\n        while (charVal.isEmpty()) {\r\n            System.out.print(&quot;Enter a specific character (one only and no spaces): -&gt; &quot;);\r\n            charVal = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\r\n            \r\n            // Is quit desired?\r\n            if (charVal.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \r\n               are supplied then re-loop:           */\r\n            if (charVal.isEmpty()) {\r\n                System.out.print(&quot;Invalid Entry! You must supply a keyboard character!&quot; + LS);\r\n            }\r\n        }\r\n        \r\n        // Fill `myChar` member variable - Get first character (only) from User&#39;s entry:\r\n        myChar = charVal.charAt(0);\r\n        // Add to List:\r\n        list.add(myChar);\r\n        \r\n\r\n        // PROMPT #4 - Enter A Specific String:\r\n        String strgVal = &quot;&quot;;\r\n        while (strgVal.isEmpty()) {\r\n            System.out.print(&quot;Enter any specific string (not just spaces): -&gt; &quot;);\r\n            strgVal = scnr.nextLine().trim();\r\n            \r\n            // Is quit desired?\r\n            if (strgVal.equalsIgnoreCase(&quot;q&quot;)) {\r\n                quit();\r\n            }\r\n            \r\n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \r\n               are supplied then re-loop:           */\r\n            if (strgVal.isEmpty()) {\r\n                System.out.print(&quot;Invalid Entry! Your string must contain something!&quot; + LS);\r\n            }\r\n        }\r\n\r\n        // Fill `myString` member variable:\r\n        myString = strgVal;\r\n        // Add to List:\r\n        list.add(myString);\r\n\r\n        \r\n        // Display Listed Values, Forward:\r\n        System.out.println(LS + &quot;Forward:  &quot; + list.stream().map(Object::toString)\r\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\r\n\r\n        // Display Listed values, Reversed\r\n        java.util.Collections.reverse(list); // Reverse the elements in List\r\n        System.out.println(&quot;Reverse:  &quot; + list.stream().map(Object::toString)\r\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\r\n\r\n        \r\n        // Cast the double to an integer, and output that integer\r\n        System.out.println(&quot;Double &quot; + userDouble + &quot; cast to an integer is: &quot; + (int) userDouble);\r\n    }\r\n\r\n    private void quit() {\r\n        System.out.println(LS + &quot;Quiting - Bye Bye&quot;);\r\n        System.exit(0);\r\n    }\r\n}\r\n```","title":"Java String outputting as blank","body":"<p>Just another alternative. It only utilizes the <a href=\"https://www.tutorialspoint.com/java/util/scanner_nextline.htm\" rel=\"nofollow noreferrer\">Scanner#nextLine()</a> method and makes use of the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method to carry out input validation for each prompt. If a prompt input validation fails, the User is permitted to try again. The User can also quit on any prompt. Be sure to read the comments in code:</p>\n<pre><code>public class BasicInput {\n    \n    // OS related newline character sequence:\n    public final String LS = System.lineSeparator();\n    \n    // The JVM will automatically close this resource when the application ends.\n    private final java.util.Scanner scnr = new java.util.Scanner(System.in);\n    \n    private int userInt;\n    private double userDouble;\n    private char myChar;\n    private String myString = &quot;&quot;;\n        \n\n    public static void main(String[] args) {\n        /* App started this way to avoid the need \n           for statics (unless we want them):  */\n        new BasicInput().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        /* List Interface of Object - Will hold the values of the \n           above variables once they are filled.               */\n        java.util.List&lt;Object&gt; list = new java.util.ArrayList&lt;&gt;();\n        \n        System.out.println(&quot;Enter 'q' to quit at any time:&quot; + LS);\n        \n        // PROMPT #1 - Enter Integer Value:\n        String intNum = &quot;&quot;;\n        while (intNum.isEmpty()) {\n            System.out.print(&quot;Enter an integer value: -&gt; &quot;);\n            intNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (intNum.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATE USER ENTRY:     \n               If the supplied string is NOT (!) a representation of a signed \n               or unsigned integer value which is within Integer.MIN_VALUE\n               and Integer.MAX_VALUE then, inform the User and allow him \n               or her to try again:                                   */\n            if (!intNum.matches(&quot;-?\\\\d+&quot;) || new java.math.BigInteger(intNum).longValue() &lt; Integer.MIN_VALUE \n                                          || new java.math.BigInteger(intNum).longValue() &gt; Integer.MAX_VALUE) {\n                System.out.println(&quot;Invalid Numerical Integer (int type) Entry! (&quot; + intNum + &quot;) Try again...&quot; + LS);\n                intNum = &quot;&quot;;\n            }\n        }\n        \n        // Fill `userInt` member variable - Convert String to int:\n        userInt = Integer.parseInt(intNum);\n        // Add to List\n        list.add(userInt);  \n        \n        \n        // PROMPT #2 - Enter Floating Point (double type) Value:\n        String dblNum = &quot;&quot;;\n        while (dblNum.isEmpty()) {\n            System.out.print(&quot;Enter a floating point value: -&gt; &quot;);\n            dblNum = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (dblNum.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATE USER ENTRY:     \n               If the supplied string is not a representation of a signed \n               or unsigned integer or floating point value then, inform\n               the User and allow him/her to try again:              */\n            if (!dblNum.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) {\n                System.out.println(&quot;Invalid Numerical Floating-Point Entry! (&quot; \n                                   + dblNum + &quot;) Try again...&quot; + LS);\n                dblNum = &quot;&quot;;\n            }\n        }\n\n        // Fill `userDouble` member variable - Convert String to double:\n        userDouble = Double.parseDouble(dblNum);\n        // Add to List:\n        list.add(userDouble);\n        \n        \n        // PROMPT #3 - Enter A Specific Character:\n        String charVal = &quot;&quot;;\n        while (charVal.isEmpty()) {\n            System.out.print(&quot;Enter a specific character (one only and no spaces): -&gt; &quot;);\n            charVal = scnr.nextLine().trim(); // Trim off leading/trailing spaces (if any):\n            \n            // Is quit desired?\n            if (charVal.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \n               are supplied then re-loop:           */\n            if (charVal.isEmpty()) {\n                System.out.print(&quot;Invalid Entry! You must supply a keyboard character!&quot; + LS);\n            }\n        }\n        \n        // Fill `myChar` member variable - Get first character (only) from User's entry:\n        myChar = charVal.charAt(0);\n        // Add to List:\n        list.add(myChar);\n        \n\n        // PROMPT #4 - Enter A Specific String:\n        String strgVal = &quot;&quot;;\n        while (strgVal.isEmpty()) {\n            System.out.print(&quot;Enter any specific string (not just spaces): -&gt; &quot;);\n            strgVal = scnr.nextLine().trim();\n            \n            // Is quit desired?\n            if (strgVal.equalsIgnoreCase(&quot;q&quot;)) {\n                quit();\n            }\n            \n            /* VALIDATION - If nothing or just one or more white-spaces (tabs, etc) \n               are supplied then re-loop:           */\n            if (strgVal.isEmpty()) {\n                System.out.print(&quot;Invalid Entry! Your string must contain something!&quot; + LS);\n            }\n        }\n\n        // Fill `myString` member variable:\n        myString = strgVal;\n        // Add to List:\n        list.add(myString);\n\n        \n        // Display Listed Values, Forward:\n        System.out.println(LS + &quot;Forward:  &quot; + list.stream().map(Object::toString)\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\n\n        // Display Listed values, Reversed\n        java.util.Collections.reverse(list); // Reverse the elements in List\n        System.out.println(&quot;Reverse:  &quot; + list.stream().map(Object::toString)\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)));\n\n        \n        // Cast the double to an integer, and output that integer\n        System.out.println(&quot;Double &quot; + userDouble + &quot; cast to an integer is: &quot; + (int) userDouble);\n    }\n\n    private void quit() {\n        System.out.println(LS + &quot;Quiting - Bye Bye&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9653964,"reputation":89,"user_id":7164199,"display_name":"Matthew Jarrett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77024736,"answer_count":5,"score":1,"last_activity_date":1693640623,"creation_date":1693585406,"question_id":77024664,"body_markdown":"I have an assignment where we have to make a Java program that will read 4 inputs from the user:\r\n\r\n - Integer \r\n - Double\r\n - Character\r\n - String\r\n\r\nThen it outputs them in the above order in one line, and in reverse order in another line.\r\n\r\nThe inputs are\r\n - Integer: 99\r\n - Double: 3.77\r\n - Character: z\r\n - String: Howdy\r\n\r\nHowever when they are outputted, the String is just blank\r\n\r\nExpected results:\r\n```\r\nEnter integer: \r\nEnter double: \r\nEnter character: \r\nEnter string: \r\n99 3.77 z Howdy\r\nHowdy z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nActual results:\r\n```\r\nEnter integer: \r\nEnter double: \r\nEnter character: \r\nEnter string: \r\n99 3.77 z \r\n z 3.77 99\r\n3.77 cast to an integer is 3\r\n```\r\n\r\nHere is the code that I have\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class BasicInput {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int userInt = 0;\r\n      double userDouble = 0.0;\r\n      \r\n      // FIXME Define char and string variables similarly\r\n      char myChar;\r\n      String myString = &quot;&quot;;\r\n      \r\n      System.out.println(&quot;Enter integer: &quot;);\r\n      userInt = scnr.nextInt();\r\n      \r\n      // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\r\n      System.out.println(&quot;Enter double: &quot;);\r\n      userDouble = scnr.nextDouble();\r\n      \r\n      System.out.println(&quot;Enter character: &quot;);\r\n      myChar = scnr.next().charAt(0);\r\n      \r\n      System.out.println(&quot;Enter string: &quot;);\r\n      myString = scnr.nextLine();\r\n      \r\n      \r\n      System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\r\n   \r\n      // FIXME (2): Output the four values in reverse\r\n      System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\r\n      \r\n      // FIXME (3): Cast the double to an integer, and output that integer\r\n      System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\r\n      \r\n      return;\r\n   }\r\n}\r\n```\r\n\r\nHow do I get the String to show in the output? It is just displaying as an empty string. I&#39;ve even tried to initialize the ```myString``` variable to ```&quot;Hello&quot;```, but it still displays empty.","title":"Java String outputting as blank","body":"<p>I have an assignment where we have to make a Java program that will read 4 inputs from the user:</p>\n<ul>\n<li>Integer</li>\n<li>Double</li>\n<li>Character</li>\n<li>String</li>\n</ul>\n<p>Then it outputs them in the above order in one line, and in reverse order in another line.</p>\n<p>The inputs are</p>\n<ul>\n<li>Integer: 99</li>\n<li>Double: 3.77</li>\n<li>Character: z</li>\n<li>String: Howdy</li>\n</ul>\n<p>However when they are outputted, the String is just blank</p>\n<p>Expected results:</p>\n<pre><code>Enter integer: \nEnter double: \nEnter character: \nEnter string: \n99 3.77 z Howdy\nHowdy z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Actual results:</p>\n<pre><code>Enter integer: \nEnter double: \nEnter character: \nEnter string: \n99 3.77 z \n z 3.77 99\n3.77 cast to an integer is 3\n</code></pre>\n<p>Here is the code that I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class BasicInput {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int userInt = 0;\n      double userDouble = 0.0;\n      \n      // FIXME Define char and string variables similarly\n      char myChar;\n      String myString = &quot;&quot;;\n      \n      System.out.println(&quot;Enter integer: &quot;);\n      userInt = scnr.nextInt();\n      \n      // FIXME (1): Finish reading other items into variables, then output the four values on a single line separated by a space\n      System.out.println(&quot;Enter double: &quot;);\n      userDouble = scnr.nextDouble();\n      \n      System.out.println(&quot;Enter character: &quot;);\n      myChar = scnr.next().charAt(0);\n      \n      System.out.println(&quot;Enter string: &quot;);\n      myString = scnr.nextLine();\n      \n      \n      System.out.println(userInt + &quot; &quot; + userDouble + &quot; &quot; + myChar + &quot; &quot; + myString);\n   \n      // FIXME (2): Output the four values in reverse\n      System.out.println(myString + &quot; &quot; + myChar + &quot; &quot; + userDouble + &quot; &quot; + userInt);\n      \n      // FIXME (3): Cast the double to an integer, and output that integer\n      System.out.println(userDouble + &quot; cast to an integer is &quot; + (int)userDouble);\n      \n      return;\n   }\n}\n</code></pre>\n<p>How do I get the String to show in the output? It is just displaying as an empty string. I've even tried to initialize the <code>myString</code> variable to <code>&quot;Hello&quot;</code>, but it still displays empty.</p>\n"},{"tags":["java","arrays","exception"],"comments":[{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693582987,"post_id":77024355,"comment_id":135784782,"body_markdown":"when I even move e.printStackTrace(); to front softassertFail still getting same exception.","body":"when I even move e.printStackTrace(); to front softassertFail still getting same exception."},{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693584007,"post_id":77024355,"comment_id":135784995,"body_markdown":"what if I replace getStackTrace with getMessage ?","body":"what if I replace getStackTrace with getMessage ?"},{"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"score":0,"creation_date":1693584444,"post_id":77024355,"comment_id":135785075,"body_markdown":"P2Test line 167 is only doing assertAll","body":"P2Test line 167 is only doing assertAll"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693641285,"post_id":77024355,"comment_id":135789949,"body_markdown":"Why are you calling a TestNG method (`softAssertFail`) in non-testcase code?  That seems totally wrong.  Also `throws Throwable` and `catch Exception` and `e.printStackTrace()` in production code are a really bad idea.","body":"Why are you calling a TestNG method (<code>softAssertFail</code>) in non-testcase code?  That seems totally wrong.  Also <code>throws Throwable</code> and <code>catch Exception</code> and <code>e.printStackTrace()</code> in production code are a really bad idea."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693641814,"post_id":77024355,"comment_id":135789996,"body_markdown":"*Finally `&quot;How to handle StackTraceElement exception&quot; `.*  - That&#39;s not an exception and it cannot be handled.  And `softAssertError` doesn&#39;t throw an exception either.  Your question does not make any sense.   You should explain ... in clear English ... what your code is trying to do, and what it actually does.  What is &quot;this issue&quot;.","body":"<i>Finally <code>&quot;How to handle StackTraceElement exception&quot; </code>.</i>  - That&#39;s not an exception and it cannot be handled.  And <code>softAssertError</code> doesn&#39;t throw an exception either.  Your question does not make any sense.   You should explain ... in clear English ... what your code is trying to do, and what it actually does.  What is &quot;this issue&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3040935,"reputation":154,"user_id":2577987,"accept_rate":43,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693585363,"creation_date":1693585363,"answer_id":77024661,"question_id":77024355,"body_markdown":"You&#39;re asking several questions-\r\n 1. From the title- How to handle stack trace elements- I would say you don&#39;t- just let the exception bubble up, unless there&#39;s some logic you can fallback to when the exception happens.\r\n 2. &quot;But the thing is it is able to navigate next page&quot;- The way I read that is your users are not aware of a problem. That&#39;s because you&#39;re handling the exception and there is nothing to throw (that is assuming `softAssertFail` doesn&#39;t throw an exception)\r\n 3. &quot;How can I avoid getting this exception&quot; that we can&#39;t really tell- the root cause of your exception is all swalled up by that `Arrays.toString(e.getStackTrace())` - I can&#39;t think of any good reason to do that- What&#39;s the intent behind this?\r\n 4. Where I&#39;m confused a bit is the greater context of your question: It sounds like you&#39;re getting this as part of a unit test case? But you also mention user navigation.\r\n\r\nI think you may get a better idea of what is happening if you take a step back and do not handle the exception (ie remove the `try..catch`), and take it from there.\r\n\r\n\r\n","title":"How to handle StackTraceElement exception","body":"<p>You're asking several questions-</p>\n<ol>\n<li>From the title- How to handle stack trace elements- I would say you don't- just let the exception bubble up, unless there's some logic you can fallback to when the exception happens.</li>\n<li>&quot;But the thing is it is able to navigate next page&quot;- The way I read that is your users are not aware of a problem. That's because you're handling the exception and there is nothing to throw (that is assuming <code>softAssertFail</code> doesn't throw an exception)</li>\n<li>&quot;How can I avoid getting this exception&quot; that we can't really tell- the root cause of your exception is all swalled up by that <code>Arrays.toString(e.getStackTrace())</code> - I can't think of any good reason to do that- What's the intent behind this?</li>\n<li>Where I'm confused a bit is the greater context of your question: It sounds like you're getting this as part of a unit test case? But you also mention user navigation.</li>\n</ol>\n<p>I think you may get a better idea of what is happening if you take a step back and do not handle the exception (ie remove the <code>try..catch</code>), and take it from there.</p>\n"}],"owner":{"account_id":15544002,"reputation":67,"user_id":11213856,"display_name":"Elgun Quliyev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693640410,"creation_date":1693582004,"question_id":77024355,"body_markdown":"**I am getting UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@52e6b75 exception.** &lt;br/&gt;But the thing is it is able to navigate next page. Below you can find the code. How can I avoid getting this exception and how can I identify where exactly I am getting this issue and what is causing this issue? Any help?\r\n\r\n    private void clickNewPurchase() throws Throwable {\r\n\t\ttry {\r\n\t\t\tList&lt;WebElement&gt; listOfbuttons = createElements(newPurchase);\r\n\t\t\tfor (WebElement element : listOfbuttons) {\r\n\t\t\t\tString value = element.getAttribute(&quot;value&quot;);\r\n\t\t\t\tif (value.equals(&quot;New Purchase&quot;) || value.equals(&quot;RePurchase&quot;)) {\r\n\t\t\t\t\tJavascriptExecutor executor = (JavascriptExecutor)driver.get();\r\n\t\t\t\t\texecutor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\t\t\t\t\tbaseClass.logInfo(&quot;Clicked on New Purchase / RePurchase button on Start a Purchase page&quot;);\r\n\t\t\t\t\twaitforVisibilityOfElement(currentPage);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else if (value.equals(&quot;Retrieve&quot;)) {\r\n\t\t\t\t\tmasterData.get().put(&quot;IncompletePurchase&quot;, &quot;True&quot;);\r\n\t\t\t\t\tJavascriptExecutor executor = (JavascriptExecutor)driver.get();\r\n\t\t\t\t\texecutor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\t\t\t\t\tbaseClass.logInfo(&quot;Clicked on Retrieve button on Start a Purchase page&quot;);\r\n\t\t\t\t\twaitforVisibilityOfElement(currentPage);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tsoftAssertFail(&quot;Exception in clickNewQuote(): &quot; + Arrays.toString(e.getStackTrace()), ValidationType.UI);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    java.lang.AssertionError: The following asserts failed:\r\n\t&lt;br&gt; &lt;b&gt;&gt;&gt;&lt;/b&gt; UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@3bea26bc\r\n\tat org.testng.asserts.SoftAssert.assertAll(SoftAssert.java:43)\r\n\tat tests.P2Test.p2Test(P2Test.java:167)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nP2Test Line 167\r\n```java\r\ntry {\r\n    if (sam.getSoftAssert() != null)\r\n        sam.getSoftAssert().assertAll();\r\n} catch (Exception e) {\r\n    Assert.fail(&quot;Problem in Soft assert: &quot; + e.getCause());\r\n}\r\n```\r\n","title":"How to handle StackTraceElement exception","body":"<p><strong>I am getting UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@52e6b75 exception.</strong> <br/>But the thing is it is able to navigate next page. Below you can find the code. How can I avoid getting this exception and how can I identify where exactly I am getting this issue and what is causing this issue? Any help?</p>\n<pre><code>private void clickNewPurchase() throws Throwable {\n    try {\n        List&lt;WebElement&gt; listOfbuttons = createElements(newPurchase);\n        for (WebElement element : listOfbuttons) {\n            String value = element.getAttribute(&quot;value&quot;);\n            if (value.equals(&quot;New Purchase&quot;) || value.equals(&quot;RePurchase&quot;)) {\n                JavascriptExecutor executor = (JavascriptExecutor)driver.get();\n                executor.executeScript(&quot;arguments[0].click();&quot;, element);\n                baseClass.logInfo(&quot;Clicked on New Purchase / RePurchase button on Start a Purchase page&quot;);\n                waitforVisibilityOfElement(currentPage);\n                break;\n            }else if (value.equals(&quot;Retrieve&quot;)) {\n                masterData.get().put(&quot;IncompletePurchase&quot;, &quot;True&quot;);\n                JavascriptExecutor executor = (JavascriptExecutor)driver.get();\n                executor.executeScript(&quot;arguments[0].click();&quot;, element);\n                baseClass.logInfo(&quot;Clicked on Retrieve button on Start a Purchase page&quot;);\n                waitforVisibilityOfElement(currentPage);\n                break;\n            }\n        }\n    } catch (Exception e) {\n        softAssertFail(&quot;Exception in clickNewQuote(): &quot; + Arrays.toString(e.getStackTrace()), ValidationType.UI);\n        e.printStackTrace();\n    }\n}\n\njava.lang.AssertionError: The following asserts failed:\n&lt;br&gt; &lt;b&gt;&gt;&gt;&lt;/b&gt; UI : Exception in clickNewPurchase(): [Ljava.lang.StackTraceElement;@3bea26bc\nat org.testng.asserts.SoftAssert.assertAll(SoftAssert.java:43)\nat tests.P2Test.p2Test(P2Test.java:167)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:583)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:719)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:989)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>P2Test Line 167</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    if (sam.getSoftAssert() != null)\n        sam.getSoftAssert().assertAll();\n} catch (Exception e) {\n    Assert.fail(&quot;Problem in Soft assert: &quot; + e.getCause());\n}\n</code></pre>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1644242780,"post_id":71019876,"comment_id":125545679,"body_markdown":"I found this a while ago: https://junit-pioneer.org/docs/cartesian-product/. Is that what you&#39;re looking for?","body":"I found this a while ago: <a href=\"https://junit-pioneer.org/docs/cartesian-product/\" rel=\"nofollow noreferrer\">junit-pioneer.org/docs/cartesian-product</a>. Is that what you&#39;re looking for?"},{"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1644243129,"post_id":71019876,"comment_id":125545850,"body_markdown":"@RobSpoor Wow! Thank you. Looks promising. Thought that JUnit have this out of the box.","body":"@RobSpoor Wow! Thank you. Looks promising. Thought that JUnit have this out of the box."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1644243202,"post_id":71019876,"comment_id":125545879,"body_markdown":"Not really an answer, but you already have static methods for defining your test parameters. Such an annotation would not remove the need for them. Therefore I would question wether it is usefull to have such an implementation when there is no escaping writing custom methods, and you could end up with `colors.flatMap(color -&gt; sizes.stream(size -&gt; arguments(color, size)))` Just a thought. Unless you have lots of places you really need this that is.","body":"Not really an answer, but you already have static methods for defining your test parameters. Such an annotation would not remove the need for them. Therefore I would question wether it is usefull to have such an implementation when there is no escaping writing custom methods, and you could end up with <code>colors.flatMap(color -&gt; sizes.stream(size -&gt; arguments(color, size)))</code> Just a thought. Unless you have lots of places you really need this that is."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644243409,"creation_date":1644243409,"answer_id":71020059,"question_id":71019876,"body_markdown":"You can specify a method as the source. In that method you can provide the cartesian product.\r\n\r\nSimple example:\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;provideStringsForIsBlank&quot;)\r\n    ...\r\n\r\n    private static Stream&lt;Arguments&gt; provideStringsForIsBlank() {\r\n        return Stream.of(\r\n          Arguments.of(null, true),\r\n          Arguments.of(&quot;&quot;, true),\r\n          Arguments.of(&quot;  &quot;, true),\r\n          Arguments.of(&quot;not blank&quot;, false)\r\n        );\r\n    }\r\n\r\nReference: https://www.baeldung.com/parameterized-tests-junit-5","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>You can specify a method as the source. In that method you can provide the cartesian product.</p>\n<p>Simple example:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;provideStringsForIsBlank&quot;)\n...\n\nprivate static Stream&lt;Arguments&gt; provideStringsForIsBlank() {\n    return Stream.of(\n      Arguments.of(null, true),\n      Arguments.of(&quot;&quot;, true),\n      Arguments.of(&quot;  &quot;, true),\n      Arguments.of(&quot;not blank&quot;, false)\n    );\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">https://www.baeldung.com/parameterized-tests-junit-5</a></p>\n"},{"tags":[],"owner":{"account_id":14093822,"reputation":153,"user_id":10181277,"display_name":"wokstym"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644490337,"creation_date":1644276835,"answer_id":71026770,"question_id":71019876,"body_markdown":"If you want to avoid using external library I wrote some code to do Cartesian product, not that much tested, but simple and works\r\n\r\nEdit: I have optimized the code to memorize recursive call \r\n\r\n```kt\r\nclass SomeTestClass {\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;SomeTestClassKt#provideSomeData&quot;)\r\n    fun someTest(first: String, second: Boolean, third: Int) {\r\n        println(&quot;first = $first, second = $second, third = $third&quot;)\r\n    }\r\n\r\n}\r\n\r\nprivate fun provideSomeData(): Stream&lt;Arguments&gt; {\r\n    return cartesianArguments(\r\n        listOf(&quot;Product1&quot;, &quot;Product2&quot;, &quot;Product3&quot;),\r\n        listOf(true, false),\r\n        listOf(1, 5, 12)\r\n    )\r\n}\r\n\r\ninline fun &lt;reified T&gt; cartesianArguments(vararg input: List&lt;T&gt;): Stream&lt;Arguments&gt; {\r\n    return cartesianRecurrence(input.toList())\r\n        .stream()\r\n        .map { Arguments.of(*it.toTypedArray()) }\r\n\r\n}\r\n\r\n\r\nfun &lt;T&gt; cartesianRecurrence(input: List&lt;List&lt;T&gt;&gt;): List&lt;List&lt;T&gt;&gt; {\r\n    if (input.size &lt; 2)\r\n        return input.flatten().map { listOf(it) }\r\n\r\n    val result = cartesianRecurrence(input.tail)\r\n    return input.head.flatMap { headElement -&gt;\r\n        result.map { headElement + it }\r\n    }\r\n}\r\n\r\noperator fun &lt;T&gt; T.plus(tail: List&lt;T&gt;): List&lt;T&gt; {\r\n    val list = ArrayList&lt;T&gt;(1 + tail.size)\r\n\r\n    list.add(this)\r\n    list.addAll(tail)\r\n\r\n    return list\r\n}\r\n\r\nval &lt;T&gt; List&lt;T&gt;.tail: List&lt;T&gt;\r\n    get() = drop(1)\r\n\r\nval &lt;T&gt; List&lt;T&gt;.head: T\r\n    get() = first()\r\n```\r\n\r\nThis produces result:\r\n\r\n```\r\nfirst = Product1, second = true, third = 1\r\nfirst = Product1, second = true, third = 5\r\nfirst = Product1, second = true, third = 12\r\nfirst = Product1, second = false, third = 1\r\nfirst = Product1, second = false, third = 5\r\nfirst = Product1, second = false, third = 12\r\nfirst = Product2, second = true, third = 1\r\nfirst = Product2, second = true, third = 5\r\nfirst = Product2, second = true, third = 12\r\nfirst = Product2, second = false, third = 1\r\nfirst = Product2, second = false, third = 5\r\nfirst = Product2, second = false, third = 12\r\nfirst = Product3, second = true, third = 1\r\nfirst = Product3, second = true, third = 5\r\nfirst = Product3, second = true, third = 12\r\nfirst = Product3, second = false, third = 1\r\nfirst = Product3, second = false, third = 5\r\nfirst = Product3, second = false, third = 12\r\n```\r\n\r\n","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>If you want to avoid using external library I wrote some code to do Cartesian product, not that much tested, but simple and works</p>\n<p>Edit: I have optimized the code to memorize recursive call</p>\n<pre><code>class SomeTestClass {\n\n    @ParameterizedTest\n    @MethodSource(&quot;SomeTestClassKt#provideSomeData&quot;)\n    fun someTest(first: String, second: Boolean, third: Int) {\n        println(&quot;first = $first, second = $second, third = $third&quot;)\n    }\n\n}\n\nprivate fun provideSomeData(): Stream&lt;Arguments&gt; {\n    return cartesianArguments(\n        listOf(&quot;Product1&quot;, &quot;Product2&quot;, &quot;Product3&quot;),\n        listOf(true, false),\n        listOf(1, 5, 12)\n    )\n}\n\ninline fun &lt;reified T&gt; cartesianArguments(vararg input: List&lt;T&gt;): Stream&lt;Arguments&gt; {\n    return cartesianRecurrence(input.toList())\n        .stream()\n        .map { Arguments.of(*it.toTypedArray()) }\n\n}\n\n\nfun &lt;T&gt; cartesianRecurrence(input: List&lt;List&lt;T&gt;&gt;): List&lt;List&lt;T&gt;&gt; {\n    if (input.size &lt; 2)\n        return input.flatten().map { listOf(it) }\n\n    val result = cartesianRecurrence(input.tail)\n    return input.head.flatMap { headElement -&gt;\n        result.map { headElement + it }\n    }\n}\n\noperator fun &lt;T&gt; T.plus(tail: List&lt;T&gt;): List&lt;T&gt; {\n    val list = ArrayList&lt;T&gt;(1 + tail.size)\n\n    list.add(this)\n    list.addAll(tail)\n\n    return list\n}\n\nval &lt;T&gt; List&lt;T&gt;.tail: List&lt;T&gt;\n    get() = drop(1)\n\nval &lt;T&gt; List&lt;T&gt;.head: T\n    get() = first()\n</code></pre>\n<p>This produces result:</p>\n<pre><code>first = Product1, second = true, third = 1\nfirst = Product1, second = true, third = 5\nfirst = Product1, second = true, third = 12\nfirst = Product1, second = false, third = 1\nfirst = Product1, second = false, third = 5\nfirst = Product1, second = false, third = 12\nfirst = Product2, second = true, third = 1\nfirst = Product2, second = true, third = 5\nfirst = Product2, second = true, third = 12\nfirst = Product2, second = false, third = 1\nfirst = Product2, second = false, third = 5\nfirst = Product2, second = false, third = 12\nfirst = Product3, second = true, third = 1\nfirst = Product3, second = true, third = 5\nfirst = Product3, second = true, third = 12\nfirst = Product3, second = false, third = 1\nfirst = Product3, second = false, third = 5\nfirst = Product3, second = false, third = 12\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693639295,"creation_date":1644242623,"question_id":71019876,"body_markdown":"Here is an example of Parameterized test in JUnit 5.\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;generalDataset&quot;)\r\n    fun shouldCreateItem(color: String, size: String) {\r\n        val item = Item(color, size)\r\n\r\n        assertThat(item.color).isEqualTo(color)\r\n    }\r\n \r\n    @JvmStatic\r\n    fun generalDataset() =\r\n        Stream.of(\r\n            arguments(&quot;blue&quot;, &quot;S&quot;),\r\n            arguments(&quot;red&quot;, &quot;S&quot;),\r\n            arguments(&quot;green&quot;, &quot;S&quot;),\r\n            arguments(&quot;blue&quot;, &quot;L&quot;),\r\n            arguments(&quot;red&quot;, &quot;L&quot;),\r\n            arguments(&quot;green&quot;, &quot;L&quot;)\r\n        )\r\n\r\nSee that `generalDataset` is a multiplcation of two sets `{&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;} x {&quot;S&quot;, &quot;L&quot;}`.\r\n\r\nTo avoid duplication it would be great to describe it explicitly like this **pseudocode**\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;colorDataset&quot;  %MULTIPLY%  &quot;sizeDataset&quot;)\r\n    fun shouldCreateItem(color: String, size: String) {\r\n        val item = Item(color, size)\r\n\r\n        assertThat(item.color).isEqualTo(color)\r\n    }\r\n \r\n    @JvmStatic\r\n    fun colorDataset() =\r\n        Stream.of(\r\n            arguments(&quot;blue&quot;),\r\n            arguments(&quot;red&quot;),\r\n            arguments(&quot;green&quot;) \r\n        ) \r\n\r\n    @JvmStatic\r\n    fun sizeDataset() =\r\n        Stream.of(\r\n            arguments(&quot;S&quot;),\r\n            arguments(&quot;L&quot;) \r\n        )\r\n\r\nIs it possible to implement something similar (Parameterized test with multiplied sources) in JUnit 5?","title":"How to multiply test data sets (cartesian product) in JUnit 5 Parameterized test?","body":"<p>Here is an example of Parameterized test in JUnit 5.</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;generalDataset&quot;)\nfun shouldCreateItem(color: String, size: String) {\n    val item = Item(color, size)\n\n    assertThat(item.color).isEqualTo(color)\n}\n\n@JvmStatic\nfun generalDataset() =\n    Stream.of(\n        arguments(&quot;blue&quot;, &quot;S&quot;),\n        arguments(&quot;red&quot;, &quot;S&quot;),\n        arguments(&quot;green&quot;, &quot;S&quot;),\n        arguments(&quot;blue&quot;, &quot;L&quot;),\n        arguments(&quot;red&quot;, &quot;L&quot;),\n        arguments(&quot;green&quot;, &quot;L&quot;)\n    )\n</code></pre>\n<p>See that <code>generalDataset</code> is a multiplcation of two sets <code>{&quot;blue&quot;, &quot;red&quot;, &quot;green&quot;} x {&quot;S&quot;, &quot;L&quot;}</code>.</p>\n<p>To avoid duplication it would be great to describe it explicitly like this <strong>pseudocode</strong></p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;colorDataset&quot;  %MULTIPLY%  &quot;sizeDataset&quot;)\nfun shouldCreateItem(color: String, size: String) {\n    val item = Item(color, size)\n\n    assertThat(item.color).isEqualTo(color)\n}\n\n@JvmStatic\nfun colorDataset() =\n    Stream.of(\n        arguments(&quot;blue&quot;),\n        arguments(&quot;red&quot;),\n        arguments(&quot;green&quot;) \n    ) \n\n@JvmStatic\nfun sizeDataset() =\n    Stream.of(\n        arguments(&quot;S&quot;),\n        arguments(&quot;L&quot;) \n    )\n</code></pre>\n<p>Is it possible to implement something similar (Parameterized test with multiplied sources) in JUnit 5?</p>\n"},{"tags":["java","system-variable"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1608221600,"post_id":65344301,"comment_id":115522728,"body_markdown":"You have both, some generic java (&quot;....Oracle\\Java\\javapath&quot;) and the JDK in your PATH variable. Try to use only the JDK.","body":"You have both, some generic java (&quot;....Oracle\\Java\\javapath&quot;) and the JDK in your PATH variable. Try to use only the JDK."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":2,"creation_date":1608221707,"post_id":65344301,"comment_id":115522784,"body_markdown":".. Or set the `bin` in `PATH` before the other one.","body":".. Or set the <code>bin</code> in <code>PATH</code> before the other one."},{"owner":{"account_id":12237869,"reputation":79,"user_id":8931728,"display_name":"Gesichtsfelsen"},"score":0,"creation_date":1608222231,"post_id":65344301,"comment_id":115523046,"body_markdown":"Damn both of that worked, Thanks!","body":"Damn both of that worked, Thanks!"},{"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"score":0,"creation_date":1639381941,"post_id":65344301,"comment_id":124325055,"body_markdown":"have similar issue RESOLVE IT by writing in cmd &quot;where java&quot; and realize been decelerated twice in environment variables –","body":"have similar issue RESOLVE IT by writing in cmd &quot;where java&quot; and realize been decelerated twice in environment variables –"},{"owner":{"account_id":6524993,"reputation":33917,"user_id":5047996,"accept_rate":74,"display_name":"aschipfl"},"score":0,"creation_date":1643194161,"post_id":65344301,"comment_id":125273084,"body_markdown":"Take also a look at [JAVA command shows nothing in a command prompt](https://stackoverflow.com/q/70138145)…","body":"Take also a look at <a href=\"https://stackoverflow.com/q/70138145\">JAVA command shows nothing in a command prompt</a>…"}],"answers":[{"comments":[{"owner":{"account_id":1183832,"reputation":4336,"user_id":1158189,"accept_rate":49,"display_name":"Manoj Shrestha"},"score":1,"creation_date":1629232484,"post_id":65344458,"comment_id":121631792,"body_markdown":"Worked for me. I also had &quot;...\\Oracle\\Java\\javapath&quot; in my PATH. Removing it from there solved it.","body":"Worked for me. I also had &quot;...\\Oracle\\Java\\javapath&quot; in my PATH. Removing it from there solved it."}],"tags":[],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1608222003,"creation_date":1608222003,"answer_id":65344458,"question_id":65344301,"body_markdown":"# Solution\r\n\r\nPlease first run the following command\r\n\r\n    &quot;c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java&quot; --version\r\n\r\nIf that returns a result remove the following entries from your `PATH`\r\n\r\n    c:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n    c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java\\bin\r\n\r\nThen create an environment variable called `JAVA` and set it to `%JAVA_HOME%\\bin`, then simply add `%JAVA%` to your `PATH` variable.\r\n\r\n&gt; You will need to close your command prompt window and reopen it before the change will take effect","title":"&quot;java -version&quot;in cmd gives no result","body":"<h1>Solution</h1>\n<p>Please first run the following command</p>\n<pre><code>&quot;c:\\Program Files\\Java\\jdk-14.0.2\\bin\\java&quot; --version\n</code></pre>\n<p>If that returns a result remove the following entries from your <code>PATH</code></p>\n<pre><code>c:\\Program Files\\Common Files\\Oracle\\Java\\javapath\nc:\\Program Files\\Java\\jdk-14.0.2\\bin\\java\\bin\n</code></pre>\n<p>Then create an environment variable called <code>JAVA</code> and set it to <code>%JAVA_HOME%\\bin</code>, then simply add <code>%JAVA%</code> to your <code>PATH</code> variable.</p>\n<blockquote>\n<p>You will need to close your command prompt window and reopen it before the change will take effect</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1608222361,"creation_date":1608222361,"answer_id":65344551,"question_id":65344301,"body_markdown":" 1. Move `C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java` to the beginning in the `PATH` variable.\r\n 2. **Important** - Open a new `cmd` window and use the command `java -version`. Any already open `cmd` windows do not reflect the settings that you do in the environment variables form/window.","title":"&quot;java -version&quot;in cmd gives no result","body":"<ol>\n<li>Move <code>C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java</code> to the beginning in the <code>PATH</code> variable.</li>\n<li><strong>Important</strong> - Open a new <code>cmd</code> window and use the command <code>java -version</code>. Any already open <code>cmd</code> windows do not reflect the settings that you do in the environment variables form/window.</li>\n</ol>\n"}],"owner":{"account_id":12237869,"reputation":79,"user_id":8931728,"display_name":"Gesichtsfelsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13358,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":65344551,"answer_count":2,"score":6,"last_activity_date":1693637563,"creation_date":1608221397,"question_id":65344301,"body_markdown":"I tried to install java 14 manually on Windows 10. I set the System Variables as in [this picture][1].\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XeJxO.png\r\n\r\nBut when I use the command &quot;java -version&quot; literally nothing happens...\r\n\r\n    C:\\WINDOWS\\system32&gt;java -version\r\n    \r\n    C:\\WINDOWS\\system32&gt;\r\n\r\nSomething must be wrong, but I can&#39;t figure what...","title":"&quot;java -version&quot;in cmd gives no result","body":"<p>I tried to install java 14 manually on Windows 10. I set the System Variables as in <a href=\"https://i.stack.imgur.com/XeJxO.png\" rel=\"noreferrer\">this picture</a>.</p>\n<p>But when I use the command &quot;java -version&quot; literally nothing happens...</p>\n<pre><code>C:\\WINDOWS\\system32&gt;java -version\n\nC:\\WINDOWS\\system32&gt;\n</code></pre>\n<p>Something must be wrong, but I can't figure what...</p>\n"},{"tags":["java","spring","list","pagination","spring-data"],"comments":[{"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"score":2,"creation_date":1465565739,"post_id":37749559,"comment_id":62968891,"body_markdown":"Seems like you use it in a wrong way. You retrive all elements of the table, then wrap &#39;em into `PageImpl`. But you should pass `PageRequest` to the repository inside your service to make it work. Can you also post the code of your service method and repository?","body":"Seems like you use it in a wrong way. You retrive all elements of the table, then wrap &#39;em into <code>PageImpl</code>. But you should pass <code>PageRequest</code> to the repository inside your service to make it work. Can you also post the code of your service method and repository?"},{"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"score":0,"creation_date":1465566188,"post_id":37749559,"comment_id":62969188,"body_markdown":"Yes sure I will post them but they are quite length regarding the Impl method. But I will post the repository one","body":"Yes sure I will post them but they are quite length regarding the Impl method. But I will post the repository one"}],"answers":[{"comments":[{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1481460254,"post_id":37771947,"comment_id":69377654,"body_markdown":"@gotson — `PageImpl` is just not working that way. The answer of @dubonzi actually has it right.","body":"@gotson — <code>PageImpl</code> is just not working that way. The answer of @dubonzi actually has it right."},{"owner":{"account_id":2327811,"reputation":3701,"user_id":2041863,"accept_rate":100,"display_name":"gotson"},"score":5,"creation_date":1481460345,"post_id":37771947,"comment_id":69377683,"body_markdown":"@OliverGierke i agree when you can retrieve the `Page` directly from the repository, but it&#39;s not always the case, for instance if your entity has a OneToMany association that gets you a `List`, and you want to expose that as a `Page`.","body":"@OliverGierke i agree when you can retrieve the <code>Page</code> directly from the repository, but it&#39;s not always the case, for instance if your entity has a OneToMany association that gets you a <code>List</code>, and you want to expose that as a <code>Page</code>."},{"owner":{"account_id":1045468,"reputation":121,"user_id":1050561,"display_name":"drumaddict"},"score":5,"creation_date":1514719083,"post_id":37771947,"comment_id":83054569,"body_markdown":"Have not tried it, but even if it works, it&#39;s not efficient. It&#39;s retrieving all the users from the database and returns a sub-list. The ideal would be to retrieve from the database only the paginated users that will be served from the request.","body":"Have not tried it, but even if it works, it&#39;s not efficient. It&#39;s retrieving all the users from the database and returns a sub-list. The ideal would be to retrieve from the database only the paginated users that will be served from the request."},{"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"score":8,"creation_date":1564351084,"post_id":37771947,"comment_id":100991147,"body_markdown":"`org.springframework.data.domain.Pageable.getOffset()` returns a long, so I think that you need either cast `pageable.getOffset()` to long or change the type of `start`","body":"<code>org.springframework.data.domain.Pageable.getOffset()</code> returns a long, so I think that you need either cast <code>pageable.getOffset()</code> to long or change the type of <code>start</code>"},{"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"score":1,"creation_date":1589210216,"post_id":37771947,"comment_id":109195631,"body_markdown":"end can be repaced with `Math.min` ;) like `int end = Math.min((start + pageable.getPageSize()), users.size());`","body":"end can be repaced with <code>Math.min</code> ;) like <code>int end = Math.min((start + pageable.getPageSize()), users.size());</code>"},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1590350707,"post_id":37771947,"comment_id":109641943,"body_markdown":"Yeah, intellij also told me to replace this with Math.min.","body":"Yeah, intellij also told me to replace this with Math.min."},{"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"score":0,"creation_date":1606853565,"post_id":37771947,"comment_id":115087235,"body_markdown":"don&#39;t forget that PageImpl doesn&#39;t sort, so sort value from the Pageable has no effect","body":"don&#39;t forget that PageImpl doesn&#39;t sort, so sort value from the Pageable has no effect"},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":1,"creation_date":1614225775,"post_id":37771947,"comment_id":117322734,"body_markdown":"Updated solution to deal with casting and use of min().","body":"Updated solution to deal with casting and use of min()."},{"owner":{"account_id":2085258,"reputation":428,"user_id":1856401,"display_name":"manfall19"},"score":1,"creation_date":1640575773,"post_id":37771947,"comment_id":124607384,"body_markdown":"Works great for my use case, also added a step where i sort the list before calling sublist (to have consistent results between database calls)","body":"Works great for my use case, also added a step where i sort the list before calling sublist (to have consistent results between database calls)"},{"owner":{"account_id":17229129,"reputation":386,"user_id":12474132,"display_name":"newUser"},"score":0,"creation_date":1657877582,"post_id":37771947,"comment_id":128919240,"body_markdown":"not good perfectly sometimes says itemsize 20 but it is 18 then it crashes @MichaelPeterson. did you come across with that problem.","body":"not good perfectly sometimes says itemsize 20 but it is 18 then it crashes @MichaelPeterson. did you come across with that problem."}],"tags":[],"owner":{"account_id":8405681,"reputation":2025,"user_id":6309238,"display_name":"shilaimuslm"},"comment_count":10,"down_vote_count":3,"up_vote_count":165,"is_accepted":false,"score":162,"last_activity_date":1614225517,"creation_date":1465718203,"answer_id":37771947,"question_id":37749559,"body_markdown":"I had the same problem. I used subList:\r\n\r\n    final int start = (int)pageable.getOffset();\r\n    final int end = Math.min((start + pageable.getPageSize()), users.size());\r\n    final Page&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), pageable, users.size());","title":"Conversion of List to Page in Spring","body":"<p>I had the same problem. I used subList:</p>\n<pre><code>final int start = (int)pageable.getOffset();\nfinal int end = Math.min((start + pageable.getPageSize()), users.size());\nfinal Page&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), pageable, users.size());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"score":14,"creation_date":1585080693,"post_id":37994083,"comment_id":107639254,"body_markdown":"Solves OP&#39;s problem but not the question. Suppose we have a database object we need to transform (e.g. a `User` but we want to send pages of a `UserDetails` DTO which contains some subset of that data to the frontend). In that case creating pages manually might be necessary.","body":"Solves OP&#39;s problem but not the question. Suppose we have a database object we need to transform (e.g. a <code>User</code> but we want to send pages of a <code>UserDetails</code> DTO which contains some subset of that data to the frontend). In that case creating pages manually might be necessary."},{"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"score":0,"creation_date":1585170466,"post_id":37994083,"comment_id":107673124,"body_markdown":"OP doesn&#39;t mention anything related to DTO&#39;s or transforming the data, so I dont see how it doesn&#39;t answer the question.","body":"OP doesn&#39;t mention anything related to DTO&#39;s or transforming the data, so I dont see how it doesn&#39;t answer the question."}],"tags":[],"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1481460459,"creation_date":1466690968,"answer_id":37994083,"question_id":37749559,"body_markdown":"As indicated in the [reference documentation][1], Spring Data repositories support pagination on query methods by simply declaring a parameter of type `Pageable` to make sure they&#39;re only reading the data necessary for the requested `Page`.\r\n\r\n    Page&lt;User&gt; page = findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\nThat would return a `Page` object with the page size/settings defined in your `Pageable` object. No need to get a list and then try to create a page out of it.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters","title":"Conversion of List to Page in Spring","body":"<p>As indicated in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"noreferrer\">reference documentation</a>, Spring Data repositories support pagination on query methods by simply declaring a parameter of type <code>Pageable</code> to make sure they're only reading the data necessary for the requested <code>Page</code>.</p>\n\n<pre><code>Page&lt;User&gt; page = findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p>That would return a <code>Page</code> object with the page size/settings defined in your <code>Pageable</code> object. No need to get a list and then try to create a page out of it.</p>\n"},{"comments":[{"owner":{"account_id":7186488,"reputation":1506,"user_id":5488275,"accept_rate":100,"display_name":"Nander Speerstra"},"score":0,"creation_date":1490621547,"post_id":43047453,"comment_id":73179792,"body_markdown":"Welcome to StackOverflow! In what way is this answer different from [this answer](http://stackoverflow.com/a/37771947/5488275)? If it&#39;s quite the same, please rethink your answer (whether it should still be here) and upvote the already given answer.","body":"Welcome to StackOverflow! In what way is this answer different from <a href=\"http://stackoverflow.com/a/37771947/5488275\">this answer</a>? If it&#39;s quite the same, please rethink your answer (whether it should still be here) and upvote the already given answer."}],"tags":[],"owner":{"account_id":10551848,"reputation":21,"user_id":7774310,"display_name":"ram"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1490620334,"creation_date":1490620334,"answer_id":43047453,"question_id":37749559,"body_markdown":"Thanks guys below code is working in my case\r\n\r\n\t\r\n\t\tint start = pageble.getOffset();\r\n\t\tint end = (start + pageble.getPageSize()) &gt; vehicleModelsList.size() ? vehicleModelsList.size() : (start + pageble.getPageSize());\r\n","title":"Conversion of List to Page in Spring","body":"<p>Thanks guys below code is working in my case</p>\n\n<pre><code>    int start = pageble.getOffset();\n    int end = (start + pageble.getPageSize()) &gt; vehicleModelsList.size() ? vehicleModelsList.size() : (start + pageble.getPageSize());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318975,"reputation":1980,"user_id":4242934,"accept_rate":27,"display_name":"Borgy Manotoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520565096,"creation_date":1520565096,"answer_id":49186014,"question_id":37749559,"body_markdown":"Have you tried extending your repository to `PagingAndSortingRepository`?\r\n\r\n    public interface UserRepo extends PagingAndSortingRepository&lt;Ticket, Integer&gt; {\r\n        Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n    }\r\n\r\n\r\n**Service**  \r\n\r\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\n  \r\n*I assume you are using interface to the service:*  ","title":"Conversion of List to Page in Spring","body":"<p>Have you tried extending your repository to <code>PagingAndSortingRepository</code>?</p>\n\n<pre><code>public interface UserRepo extends PagingAndSortingRepository&lt;Ticket, Integer&gt; {\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n}\n</code></pre>\n\n<p><strong>Service</strong>  </p>\n\n<pre><code>Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p><em>I assume you are using interface to the service:</em>  </p>\n"},{"tags":[],"owner":{"account_id":3291308,"reputation":101,"user_id":2769569,"display_name":"RBuser2769569"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521090973,"creation_date":1521090973,"answer_id":49292059,"question_id":37749559,"body_markdown":"    //1) For a boot application create a paging repository interface\r\n    public interface PersonRepository extends PagingAndSortingRepository&lt;Person, \r\n    String&gt; {\r\n    // Common CURD method are automatically implemented\r\n    }\r\n    //2) create a service Interface\r\n    public interface PersonService {\r\n\t    Page&lt;Person&gt; listAllByPage(Pageable pageable); // Use common CURD findAll() method\r\n\t    Page&lt;Object&gt; listSpecByPage(Pageable pageable, String x);\r\n\t\r\n    }\r\n    //3) create a service Impl Class of service interface\r\n    @Service\r\n    public class PersonServiceImpl implements PersonService {\r\n\t\r\n        final PersonRepository personRepository;\r\n\t    \r\n\t    @Autowired\r\n\t    PersonServiceImpl(PersonRepository personRepository){\r\n\t\tthis.personRepository = personRepository;\r\n\t    }\r\n\t   \r\n        @Override\r\n\t    public Page&lt;Person&gt; listAllByPage(Pageable pageable) {\r\n\t\t      return personRepository.findAll(pageable);\r\n\t    }\r\n        @Override\r\n\t    public Page&lt;Object&gt; listSpecByPage(Pageable pageable, String path) {\r\n\t\t    List&lt;Object&gt; objectlist = new ArrayList&lt;Object&gt;();\r\n            // Do your process to get output in a list by using node.js run on a *js file defined in &#39;path&#39; varriable\r\n\t\t    Page&lt;Object&gt; pages1 = new PageImpl&lt;Object&gt;(objectlist, pageable, objectlist.size());\r\n\t\t    return pages1;\r\n\t    }\r\n\r\n    }\r\n    //4) write your controller\r\n    public class PersonController {\r\n\t\r\n        final PersonService personService;\r\n\t\r\n\t    @Autowired\r\n\t    PersonController( PersonService personService ){\r\n\t\t    this.personService = personService;\r\n\t    }\r\n\t    \r\n        @GetMapping(&quot;/get&quot;) // Use of findALL() function\r\n\t    Page&lt;Person&gt; listed( Pageable pageable){\r\n            Page&lt;Person&gt; persons = personService.listAllByPage(pageable);\r\n\t\t    return persons;\r\n\t    } \r\n\t    @GetMapping(&quot;/spec&quot;) // Use of defined function\r\n\t    Page&lt;Object&gt; listSpec( Pageable pageable, String path){\r\n\t\t    Page&lt;Object&gt; obj = personService.listSpecByPage(pageable, path);\r\n\t\t    return obj;\r\n\t   } \r\n\r\n    }","title":"Conversion of List to Page in Spring","body":"<pre><code>//1) For a boot application create a paging repository interface\npublic interface PersonRepository extends PagingAndSortingRepository&lt;Person, \nString&gt; {\n// Common CURD method are automatically implemented\n}\n//2) create a service Interface\npublic interface PersonService {\n    Page&lt;Person&gt; listAllByPage(Pageable pageable); // Use common CURD findAll() method\n    Page&lt;Object&gt; listSpecByPage(Pageable pageable, String x);\n\n}\n//3) create a service Impl Class of service interface\n@Service\npublic class PersonServiceImpl implements PersonService {\n\n    final PersonRepository personRepository;\n\n    @Autowired\n    PersonServiceImpl(PersonRepository personRepository){\n    this.personRepository = personRepository;\n    }\n\n    @Override\n    public Page&lt;Person&gt; listAllByPage(Pageable pageable) {\n          return personRepository.findAll(pageable);\n    }\n    @Override\n    public Page&lt;Object&gt; listSpecByPage(Pageable pageable, String path) {\n        List&lt;Object&gt; objectlist = new ArrayList&lt;Object&gt;();\n        // Do your process to get output in a list by using node.js run on a *js file defined in 'path' varriable\n        Page&lt;Object&gt; pages1 = new PageImpl&lt;Object&gt;(objectlist, pageable, objectlist.size());\n        return pages1;\n    }\n\n}\n//4) write your controller\npublic class PersonController {\n\n    final PersonService personService;\n\n    @Autowired\n    PersonController( PersonService personService ){\n        this.personService = personService;\n    }\n\n    @GetMapping(\"/get\") // Use of findALL() function\n    Page&lt;Person&gt; listed( Pageable pageable){\n        Page&lt;Person&gt; persons = personService.listAllByPage(pageable);\n        return persons;\n    } \n    @GetMapping(\"/spec\") // Use of defined function\n    Page&lt;Object&gt; listSpec( Pageable pageable, String path){\n        Page&lt;Object&gt; obj = personService.listSpecByPage(pageable, path);\n        return obj;\n   } \n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1174166,"reputation":123,"user_id":1150581,"accept_rate":85,"display_name":"Meysam Fathee Panah"},"score":0,"creation_date":1555875368,"post_id":49749529,"comment_id":98242753,"body_markdown":"Great Code but I guess it is better to check start and end as below if(start &lt;= end ) then return new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());  since if start biggr than end it wont wont trully","body":"Great Code but I guess it is better to check start and end as below if(start &lt;= end ) then return new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());  since if start biggr than end it wont wont trully"}],"tags":[],"owner":{"account_id":13333235,"reputation":81,"user_id":9623855,"display_name":"naveen kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1523350958,"creation_date":1523350958,"answer_id":49749529,"question_id":37749559,"body_markdown":"    Try This:\r\n    \r\n    public Page&lt;Patient&gt; searchPatientPage(SearchPatientDto patient, int page, int size){\r\n    \t\tList&lt;Patient&gt; patientsList = new ArrayList&lt;Patient&gt;();\r\n    \t\tSet&lt;Patient&gt; list=searchPatient(patient);\r\n    \t\tpatientsList.addAll(list);\r\n    \t\tint start =  new PageRequest(page, size).getOffset();\r\n    \t\tint end = (start + new PageRequest(page, size).getPageSize()) &gt; patientsList.size() ? patientsList.size() : (start + new PageRequest(page, size).getPageSize());\r\n    \t\t\r\n    \t\treturn new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());\r\n    \t}","title":"Conversion of List to Page in Spring","body":"<pre><code>Try This:\n\npublic Page&lt;Patient&gt; searchPatientPage(SearchPatientDto patient, int page, int size){\n        List&lt;Patient&gt; patientsList = new ArrayList&lt;Patient&gt;();\n        Set&lt;Patient&gt; list=searchPatient(patient);\n        patientsList.addAll(list);\n        int start =  new PageRequest(page, size).getOffset();\n        int end = (start + new PageRequest(page, size).getPageSize()) &gt; patientsList.size() ? patientsList.size() : (start + new PageRequest(page, size).getPageSize());\n\n        return new PageImpl&lt;Patient&gt;(patientsList.subList(start, end), new PageRequest(page, size), patientsList.size());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"score":4,"creation_date":1564350336,"post_id":52761590,"comment_id":100991026,"body_markdown":"Be carfeull, this solution is not using Pageable object at all","body":"Be carfeull, this solution is not using Pageable object at all"},{"owner":{"account_id":12425902,"reputation":157,"user_id":9050585,"display_name":"Tharindu Eranga"},"score":0,"creation_date":1574237968,"post_id":52761590,"comment_id":104155828,"body_markdown":"@chomp can  you please further explain why?","body":"@chomp can  you please further explain why?"},{"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"score":0,"creation_date":1574271152,"post_id":52761590,"comment_id":104175639,"body_markdown":"@TharinduEranga Because, for example, if you receive a Pageable object that says pageSize = 20, or pageNumber = 10, it&#39;ll ignore that and return all results","body":"@TharinduEranga Because, for example, if you receive a Pageable object that says pageSize = 20, or pageNumber = 10, it&#39;ll ignore that and return all results"},{"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"score":0,"creation_date":1574271314,"post_id":52761590,"comment_id":104175724,"body_markdown":"The answer from @shilaimuslm is far more accurate if you prefer build PageImpl by yourself IMHO","body":"The answer from @shilaimuslm is far more accurate if you prefer build PageImpl by yourself IMHO"},{"owner":{"account_id":6812029,"reputation":635,"user_id":5383834,"accept_rate":88,"display_name":"Wit"},"score":0,"creation_date":1600942986,"post_id":52761590,"comment_id":113251312,"body_markdown":"I just need to mock a Page object for testing. So this is right on point.","body":"I just need to mock a Page object for testing. So this is right on point."},{"owner":{"account_id":276162,"reputation":753,"user_id":569439,"accept_rate":86,"display_name":"rineez"},"score":0,"creation_date":1619449790,"post_id":52761590,"comment_id":118903113,"body_markdown":"This is sufficient for a case where I just want to return an empty result.","body":"This is sufficient for a case where I just want to return an empty result."}],"tags":[],"owner":{"account_id":11649201,"reputation":689,"user_id":8530967,"display_name":"Sachin Gaur"},"comment_count":6,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1539265280,"creation_date":1539265280,"answer_id":52761590,"question_id":37749559,"body_markdown":"There is a [`Page` implementation][1] for that:\r\n\r\n    Page&lt;Something&gt; page = new PageImpl&lt;&gt;(yourList);\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html","title":"Conversion of List to Page in Spring","body":"<p>There is a <a href=\"http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageImpl.html\" rel=\"noreferrer\"><code>Page</code> implementation</a> for that:</p>\n\n<pre><code>Page&lt;Something&gt; page = new PageImpl&lt;&gt;(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12662498,"reputation":627,"user_id":9202894,"display_name":"Ashish Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539846910,"creation_date":1539697671,"answer_id":52837011,"question_id":37749559,"body_markdown":"This could be the solution. Sorting and pagination will work too this way:\r\n\r\nController:\r\n\r\n    public ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n       @RequestParam(name = &quot;programId&quot;, required = true) Integer programId Pageable pageable) {\r\n           Page&lt;User&gt; usersPage = userService.findAllByProgramId(programId, pageable);\r\n           Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(usersPage.getContent(), pageable, usersPage.getTotalElements());\r\n\r\n           return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n    }\r\n\r\nService:\r\n\r\n    Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n\r\nRepository:\r\n\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n           public Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\r\n    }\r\n\r\nThis way, we can also return different page of entity too.\r\n","title":"Conversion of List to Page in Spring","body":"<p>This could be the solution. Sorting and pagination will work too this way:</p>\n\n<p>Controller:</p>\n\n<pre><code>public ResponseEntity&lt;User&gt; getUsersByProgramId(\n   @RequestParam(name = \"programId\", required = true) Integer programId Pageable pageable) {\n       Page&lt;User&gt; usersPage = userService.findAllByProgramId(programId, pageable);\n       Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(usersPage.getContent(), pageable, usersPage.getTotalElements());\n\n       return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n       public Page&lt;User&gt; findAllByProgramId(Integer programId, Pageable pageable);\n}\n</code></pre>\n\n<p>This way, we can also return different page of entity too.</p>\n"},{"comments":[{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":8,"creation_date":1586175009,"post_id":53397309,"comment_id":108022064,"body_markdown":"Could you explain how to use `PagedListHolder` with `MutableSortDefinition` in this case?","body":"Could you explain how to use <code>PagedListHolder</code> with <code>MutableSortDefinition</code> in this case?"}],"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1542731051,"creation_date":1542731051,"answer_id":53397309,"question_id":37749559,"body_markdown":"\r\nYou should do it like advised by the dubonzi&#39;s [answer][1].\r\n\r\nIf you still want to use pagination for a given `List` use [PagedListHolder][2]:\r\n\r\n    List&lt;String&gt; list = // ...\r\n    \r\n    // Creation\r\n    PagedListHolder page = new PagedListHolder(list);\r\n    page.setPageSize(10); // number of items per page\r\n    page.setPage(0);      // set to first page\r\n     \r\n    // Retrieval\r\n    page.getPageCount(); // number of pages \r\n    page.getPageList();  // a List which represents the current page\r\n       \r\nIf you need sorting, use another [PagedListHolder constructor][3] with a [MutableSortDefinition][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37994083/1788806\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html#PagedListHolder-java.util.List-org.springframework.beans.support.SortDefinition-\r\n  [4]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/MutableSortDefinition.html","title":"Conversion of List to Page in Spring","body":"<p>You should do it like advised by the dubonzi's <a href=\"https://stackoverflow.com/a/37994083/1788806\">answer</a>.</p>\n\n<p>If you still want to use pagination for a given <code>List</code> use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html\" rel=\"noreferrer\">PagedListHolder</a>:</p>\n\n<pre><code>List&lt;String&gt; list = // ...\n\n// Creation\nPagedListHolder page = new PagedListHolder(list);\npage.setPageSize(10); // number of items per page\npage.setPage(0);      // set to first page\n\n// Retrieval\npage.getPageCount(); // number of pages \npage.getPageList();  // a List which represents the current page\n</code></pre>\n\n<p>If you need sorting, use another <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/PagedListHolder.html#PagedListHolder-java.util.List-org.springframework.beans.support.SortDefinition-\" rel=\"noreferrer\">PagedListHolder constructor</a> with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/support/MutableSortDefinition.html\" rel=\"noreferrer\">MutableSortDefinition</a>.</p>\n"},{"tags":[],"owner":{"account_id":9138389,"reputation":151,"user_id":6797228,"display_name":"sreerag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583312286,"creation_date":1583312286,"answer_id":60522317,"question_id":37749559,"body_markdown":"Instead of returing complete array list take subblist as per your requirement.\r\nYou will get &#39;offset&#39; and size from &#39;pageable&#39; object in request body. \r\n\r\n`\r\nnew PageImpl&lt;User&gt;(users.subList(start, end), pageable, users.size());`","title":"Conversion of List to Page in Spring","body":"<p>Instead of returing complete array list take subblist as per your requirement.\nYou will get 'offset' and size from 'pageable' object in request body. </p>\n\n<p><code>\nnew PageImpl&lt;User&gt;(users.subList(start, end), pageable, users.size());</code></p>\n"},{"comments":[{"owner":{"account_id":16376939,"reputation":303,"user_id":11828822,"display_name":"Sherzod"},"score":0,"creation_date":1639060646,"post_id":63869850,"comment_id":124256222,"body_markdown":"Thank you very much, it&#39;s very good example!","body":"Thank you very much, it&#39;s very good example!"}],"tags":[],"owner":{"account_id":15040648,"reputation":71,"user_id":10855403,"display_name":"Paul Rozhkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599993973,"creation_date":1599993973,"answer_id":63869850,"question_id":37749559,"body_markdown":"Implemented based on @shilaimuslm comment. In this case an exception will not be thrown if the start &gt; end in subList.\r\n```\r\nList&lt;User&gt; users = // ...\r\n\r\nPageable paging = PageRequest.of(pagePagination, sizePagination);\r\nint start = Math.min((int)paging.getOffset(), users.size());\r\nint end = Math.min((start + paging.getPageSize()), users.size());\r\n\r\nPage&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), paging, users.size());\r\n```","title":"Conversion of List to Page in Spring","body":"<p>Implemented based on @shilaimuslm comment. In this case an exception will not be thrown if the start &gt; end in subList.</p>\n<pre><code>List&lt;User&gt; users = // ...\n\nPageable paging = PageRequest.of(pagePagination, sizePagination);\nint start = Math.min((int)paging.getOffset(), users.size());\nint end = Math.min((start + paging.getPageSize()), users.size());\n\nPage&lt;User&gt; page = new PageImpl&lt;&gt;(users.subList(start, end), paging, users.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606852739,"creation_date":1606852739,"answer_id":65097660,"question_id":37749559,"body_markdown":"In the JHipster framework there is an interface for such things `PageUtil`:\r\n\r\n\r\n    static &lt;T&gt; Page&lt;T&gt; createPageFromList(List&lt;T&gt; list, Pageable pageable) {\r\n        if (list == null) {\r\n            throw new IllegalArgumentException(&quot;To create a Page, the list mustn&#39;t be null!&quot;);\r\n        }\r\n\r\n        int startOfPage = pageable.getPageNumber() * pageable.getPageSize();\r\n        if (startOfPage &gt; list.size()) {\r\n            return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, 0);\r\n        }\r\n\r\n        int endOfPage = Math.min(startOfPage + pageable.getPageSize(), list.size());\r\n        return new PageImpl&lt;&gt;(list.subList(startOfPage, endOfPage), pageable, list.size());\r\n    }\r\n \r\n\r\n","title":"Conversion of List to Page in Spring","body":"<p>In the JHipster framework there is an interface for such things <code>PageUtil</code>:</p>\n<pre><code>static &lt;T&gt; Page&lt;T&gt; createPageFromList(List&lt;T&gt; list, Pageable pageable) {\n    if (list == null) {\n        throw new IllegalArgumentException(&quot;To create a Page, the list mustn't be null!&quot;);\n    }\n\n    int startOfPage = pageable.getPageNumber() * pageable.getPageSize();\n    if (startOfPage &gt; list.size()) {\n        return new PageImpl&lt;&gt;(new ArrayList&lt;&gt;(), pageable, 0);\n    }\n\n    int endOfPage = Math.min(startOfPage + pageable.getPageSize(), list.size());\n    return new PageImpl&lt;&gt;(list.subList(startOfPage, endOfPage), pageable, list.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18500740,"reputation":61,"user_id":13478131,"display_name":"Martin Alvarado Diaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639023515,"creation_date":1639023515,"answer_id":70284662,"question_id":37749559,"body_markdown":"This is the correct answer to pagging a list\r\n```\r\npublic ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n            @RequestParam(name = &quot;programId&quot;, required = true) Integer programId, Pageable pageable) {\r\n        List&lt;User&gt; users = userService.findAllByProgramId(programId);\r\n\r\n        final int toIndex = Math.min((pageable.getPageNumber() + 1) * pageable.getPageSize(),\r\n\t\t\t\t\tbidList.size());\r\n\t\tfinal int fromIndex = Math.max(toIndex - pageable.getPageSize(), 0);\r\n        Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users.subList(fromIndex, toIndex), pageable, users.size());\r\n    \r\n        return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n}\r\n```\r\n\r\n","title":"Conversion of List to Page in Spring","body":"<p>This is the correct answer to pagging a list</p>\n<pre><code>public ResponseEntity&lt;User&gt; getUsersByProgramId(\n            @RequestParam(name = &quot;programId&quot;, required = true) Integer programId, Pageable pageable) {\n        List&lt;User&gt; users = userService.findAllByProgramId(programId);\n\n        final int toIndex = Math.min((pageable.getPageNumber() + 1) * pageable.getPageSize(),\n                    bidList.size());\n        final int fromIndex = Math.max(toIndex - pageable.getPageSize(), 0);\n        Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users.subList(fromIndex, toIndex), pageable, users.size());\n    \n        return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659013954,"creation_date":1659013954,"answer_id":73153572,"question_id":37749559,"body_markdown":"You can use this generic function for converting List to page.\r\n\r\n    public static&lt;T&gt; Page&lt;T&gt; convertToPage(List&lt;T&gt; objectList, Pageable pageable){\r\n        int start = (int) pageable.getOffset();\r\n        int end = Math.min(start+pageable.getPageSize(),objectList.size());\r\n        List&lt;T&gt; subList = start&gt;=end?new ArrayList&lt;&gt;():objectList.subList(start,end);\r\n        return new PageImpl&lt;&gt;(subList,pageable,objectList.size());\r\n    }\r\n","title":"Conversion of List to Page in Spring","body":"<p>You can use this generic function for converting List to page.</p>\n<pre><code>public static&lt;T&gt; Page&lt;T&gt; convertToPage(List&lt;T&gt; objectList, Pageable pageable){\n    int start = (int) pageable.getOffset();\n    int end = Math.min(start+pageable.getPageSize(),objectList.size());\n    List&lt;T&gt; subList = start&gt;=end?new ArrayList&lt;&gt;():objectList.subList(start,end);\n    return new PageImpl&lt;&gt;(subList,pageable,objectList.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22739480,"reputation":343,"user_id":16901221,"display_name":"Implermine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675404095,"creation_date":1675404095,"answer_id":75332039,"question_id":37749559,"body_markdown":"u didn&#39;t made paged result \r\n\r\n`new PageImpl&lt;User&gt;(users, pageable, users.size());` does not make paged result implicitly,\r\n\r\nin this context, `pageable` argument just makes meta-data of Page object like page, offset, size... etc\r\n\r\nSo you have to use Repository method like \r\n\r\n`Page&lt;User&gt;findAllByProgramId(Integer programId, Pageable pageable);`","title":"Conversion of List to Page in Spring","body":"<p>u didn't made paged result</p>\n<p><code>new PageImpl&lt;User&gt;(users, pageable, users.size());</code> does not make paged result implicitly,</p>\n<p>in this context, <code>pageable</code> argument just makes meta-data of Page object like page, offset, size... etc</p>\n<p>So you have to use Repository method like</p>\n<p><code>Page&lt;User&gt;findAllByProgramId(Integer programId, Pageable pageable);</code></p>\n"},{"tags":[],"owner":{"account_id":27950965,"reputation":1,"user_id":21344829,"display_name":"Jonas Mota"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680113192,"creation_date":1680113192,"answer_id":75880686,"question_id":37749559,"body_markdown":"I was facing the same problem. I solved it by first obtaining the total value, then setting PageImpl\r\n\r\n    Long total =  users.size();\r\n    Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, total );","title":"Conversion of List to Page in Spring","body":"<p>I was facing the same problem. I solved it by first obtaining the total value, then setting PageImpl</p>\n<pre><code>Long total =  users.size();\nPage&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, total );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693637417,"creation_date":1693637417,"answer_id":77027259,"question_id":37749559,"body_markdown":"From SpringBoot 2.4 you can use `PageableExecutionUtils` as below:\r\n\r\n```\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;ownedParkByOwner&quot;).ne(true));\r\n\r\n        List&lt;PlaceV2&gt; placeV2s = mongoTemplate.find(query, PlaceV2.class);\r\n\r\n        Page&lt;PlaceV2&gt; placeV2Page = PageableExecutionUtils.getPage(\r\n            placeV2s,\r\n            pageable,\r\n            placeV2s::size);\r\n\r\n```","title":"Conversion of List to Page in Spring","body":"<p>From SpringBoot 2.4 you can use <code>PageableExecutionUtils</code> as below:</p>\n<pre><code>        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;ownedParkByOwner&quot;).ne(true));\n\n        List&lt;PlaceV2&gt; placeV2s = mongoTemplate.find(query, PlaceV2.class);\n\n        Page&lt;PlaceV2&gt; placeV2Page = PageableExecutionUtils.getPage(\n            placeV2s,\n            pageable,\n            placeV2s::size);\n\n</code></pre>\n"}],"owner":{"account_id":3762651,"reputation":3511,"user_id":3127109,"accept_rate":44,"display_name":"user3127109"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212236,"favorite_count":0,"down_vote_count":1,"up_vote_count":108,"answer_count":17,"score":107,"last_activity_date":1693637417,"creation_date":1465565357,"question_id":37749559,"body_markdown":"I am trying to convert list to page in spring. I have converted it using \r\n\r\n&gt; new PageImpl&lt;User&gt;(users, pageable, users.size());\r\n\r\nBut now I having problem with sorting and pagination itself. When I try passing size and page, the pagination doesn&#39;t work.\r\n\r\nHere&#39;s the code I am using.\r\n\r\nMy Controller\r\n\r\n    \tpublic ResponseEntity&lt;User&gt; getUsersByProgramId(\r\n\t\t\t@RequestParam(name = &quot;programId&quot;, required = true) Integer programId Pageable pageable) {\r\n\r\n\t\tList&lt;User&gt; users = userService.findAllByProgramId(programId);\r\n\t\tPage&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, users.size());\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\r\n\t}\r\n\r\n\r\nHere is my user Repo\r\n\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n\r\n\tpublic List&lt;User&gt; findAllByProgramId(Integer programId);\r\n\r\nHere is my service\r\n\r\n    \tpublic List&lt;User&gt; findAllByProgramId(Integer programId);\r\n","title":"Conversion of List to Page in Spring","body":"<p>I am trying to convert list to page in spring. I have converted it using </p>\n\n<blockquote>\n  <p>new PageImpl(users, pageable, users.size());</p>\n</blockquote>\n\n<p>But now I having problem with sorting and pagination itself. When I try passing size and page, the pagination doesn't work.</p>\n\n<p>Here's the code I am using.</p>\n\n<p>My Controller</p>\n\n<pre><code>    public ResponseEntity&lt;User&gt; getUsersByProgramId(\n        @RequestParam(name = \"programId\", required = true) Integer programId Pageable pageable) {\n\n    List&lt;User&gt; users = userService.findAllByProgramId(programId);\n    Page&lt;User&gt; pages = new PageImpl&lt;User&gt;(users, pageable, users.size());\n\n    return new ResponseEntity&lt;&gt;(pages, HttpStatus.OK);\n}\n</code></pre>\n\n<p>Here is my user Repo</p>\n\n<pre><code>public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n\npublic List&lt;User&gt; findAllByProgramId(Integer programId);\n</code></pre>\n\n<p>Here is my service</p>\n\n<pre><code>    public List&lt;User&gt; findAllByProgramId(Integer programId);\n</code></pre>\n"},{"tags":["java","ssl","tomcat","keystore"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1693434939,"post_id":77011856,"comment_id":135762463,"body_markdown":"&#39;True or false?&#39;: true. As long as you have any of the signer certificates in the truststore you don&#39;t need the server certificate, or any certificate below that signer certificate.","body":"&#39;True or false?&#39;: true. As long as you have any of the signer certificates in the truststore you don&#39;t need the server certificate, or any certificate below that signer certificate."}],"answers":[{"tags":[],"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693637233,"creation_date":1693637233,"answer_id":77027248,"question_id":77011856,"body_markdown":"You are correct. If it wasn&#39;t the case then everyone would need to install everyones certificate in order to establish SSL connections. The CA root cert is what makes it so we don&#39;t need to do this. Your understanding is correct.","title":"Outgoing Tomcat SSL Connection","body":"<p>You are correct. If it wasn't the case then everyone would need to install everyones certificate in order to establish SSL connections. The CA root cert is what makes it so we don't need to do this. Your understanding is correct.</p>\n"}],"owner":{"account_id":12651789,"reputation":43,"user_id":9195653,"display_name":"Durr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693637233,"creation_date":1693434054,"question_id":77011856,"body_markdown":"I have a Java application being served by Tomcat on Server A.  Server A needs to make an SSL connection to Server B.  As long as I have the root certificate in cacerts on Server A for the CA that issued Server B&#39;s server certificate I don&#39;t need to install Server B&#39;s certificate on Server A.\r\n\r\nTrue or false?  \r\n\r\nCurrently, Server B&#39;s certificate is installed on Server A.  I want to remove it because I don&#39;t think it needs to be there.  Will this disable the SSL connection between Server A and Server B?","title":"Outgoing Tomcat SSL Connection","body":"<p>I have a Java application being served by Tomcat on Server A.  Server A needs to make an SSL connection to Server B.  As long as I have the root certificate in cacerts on Server A for the CA that issued Server B's server certificate I don't need to install Server B's certificate on Server A.</p>\n<p>True or false?</p>\n<p>Currently, Server B's certificate is installed on Server A.  I want to remove it because I don't think it needs to be there.  Will this disable the SSL connection between Server A and Server B?</p>\n"},{"tags":["java","netbeans","javadoc"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1693652743,"post_id":77027180,"comment_id":135790981,"body_markdown":"If you are using Maven as the build tool, the default location for generated javadocs is `${project.build.directory}/apidocs`.   If you are using Gradle it is `${project.docsDir}/javadoc`.   These can be changed in the respective build files. If you still can&#39;t find it, use the `find` shell command (or your OS&#39;s equivalent) to search the projects for `index.html` files.","body":"If you are using Maven as the build tool, the default location for generated javadocs is <code>${project.build.directory}&#47;apidocs</code>.   If you are using Gradle it is <code>${project.docsDir}&#47;javadoc</code>.   These can be changed in the respective build files. If you still can&#39;t find it, use the <code>find</code> shell command (or your OS&#39;s equivalent) to search the projects for <code>index.html</code> files."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693909240,"post_id":77027180,"comment_id":135818384,"body_markdown":"Assuming you are building a Maven project with no special configuration, and to elaborate on Stephen&#39;s comment: when you _Generate Javadoc_ then in the **Output** window that is opened the first line will detail the call to **mvn.cmd** that is triggered. At the end of that line you should see _javadoc:javadoc_. The [Maven documentation for _javadoc:javadoc_](https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html) specifies the default _&lt;outputDirectory&gt;_ for the javadocs. In my case that directory was **{project dir}/target/site/apidocs**. Do you not see that directory?","body":"Assuming you are building a Maven project with no special configuration, and to elaborate on Stephen&#39;s comment: when you <i>Generate Javadoc</i> then in the <b>Output</b> window that is opened the first line will detail the call to <b>mvn.cmd</b> that is triggered. At the end of that line you should see <i>javadoc:javadoc</i>. The <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html\" rel=\"nofollow noreferrer\">Maven documentation for <i>javadoc:javadoc</i></a> specifies the default <i>&lt;outputDirectory&gt;</i> for the javadocs. In my case that directory was <b>{project dir}/target/site/apidocs</b>. Do you not see that directory?"}],"owner":{"account_id":28937736,"reputation":1,"user_id":22164906,"display_name":"helpme82628"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693635608,"creation_date":1693635608,"question_id":77027180,"body_markdown":"I am able to generate the Javadoc on NetBeans by right clicking my project ad putting generate javadoc. This gives me a BUILD SUCCESS in the output. However, I can&#39;t see the html file.\r\n\r\nAll the answers I&#39;m finding say to go to properties and under build there should be an output directory, but I can&#39;t find it. Also attemped to look through my files for a dist/javadoc but can&#39;t find that either. ","title":"How to see the Javadoc after generating it in NetBeans","body":"<p>I am able to generate the Javadoc on NetBeans by right clicking my project ad putting generate javadoc. This gives me a BUILD SUCCESS in the output. However, I can't see the html file.</p>\n<p>All the answers I'm finding say to go to properties and under build there should be an output directory, but I can't find it. Also attemped to look through my files for a dist/javadoc but can't find that either.</p>\n"},{"tags":["java","classpath","classloader","aspectj","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692134684,"post_id":76889724,"comment_id":135582515,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692934718,"post_id":76889724,"comment_id":135694938,"body_markdown":"Your Maven project setup looks horrible. Why are you messing with the default directory layout regarding the target directory, moving the binaries (but not the sources) to `bin` on top level? Why do you think you need to copy dependencies to `lib`? Also, your test does nothing meaningful. I would first have to repair your whole Maven setup before fixing your dependency issue. Besides, `lib` and `bin` are not cleaned up properly by Maven Clean Plugin. There are other issues, these are just the  ones I want to mention here.","body":"Your Maven project setup looks horrible. Why are you messing with the default directory layout regarding the target directory, moving the binaries (but not the sources) to <code>bin</code> on top level? Why do you think you need to copy dependencies to <code>lib</code>? Also, your test does nothing meaningful. I would first have to repair your whole Maven setup before fixing your dependency issue. Besides, <code>lib</code> and <code>bin</code> are not cleaned up properly by Maven Clean Plugin. There are other issues, these are just the  ones I want to mention here."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1692934934,"post_id":76889724,"comment_id":135694950,"body_markdown":"What stops you from using a Spring Boot plugin to create an uber JAR containing all dependencies? I know, that would not repair your duplicate class issue, but that one is secondary. First, I want to understand why you are working like this, making a simple matter more complicated and your own life harder than necessary,","body":"What stops you from using a Spring Boot plugin to create an uber JAR containing all dependencies? I know, that would not repair your duplicate class issue, but that one is secondary. First, I want to understand why you are working like this, making a simple matter more complicated and your own life harder than necessary,"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693271843,"post_id":76889724,"comment_id":135735731,"body_markdown":"I still have this on my radar and am 100% sure I can help you, but I still need your feedback first, before I suggest something that in the end you don&#39;t want. It is not difficult to solve this problem, but there are multiple ways to do it.","body":"I still have this on my radar and am 100% sure I can help you, but I still need your feedback first, before I suggest something that in the end you don&#39;t want. It is not difficult to solve this problem, but there are multiple ways to do it."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693400485,"post_id":76889724,"comment_id":135755625,"body_markdown":"Sir, thanks your answer. About the **bin** and **lib**. It&#39;s a just an coincidence. I have a project cooperated with a web developer. The html use http to communicate with my server. I rent a server which has a public ip from a cloud company. I use ftp to upload my jars to the server. To save uploading time, I move my project jar and my dependency jar to bin and lib.  With this approach, I don&#39;t need to select jar file from different target directories.","body":"Sir, thanks your answer. About the <b>bin</b> and <b>lib</b>. It&#39;s a just an coincidence. I have a project cooperated with a web developer. The html use http to communicate with my server. I rent a server which has a public ip from a cloud company. I use ftp to upload my jars to the server. To save uploading time, I move my project jar and my dependency jar to bin and lib.  With this approach, I don&#39;t need to select jar file from different target directories."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693402161,"post_id":76889724,"comment_id":135756037,"body_markdown":"I want to create a demo to show you how to reproduce the duplicate class problem.  So I  just copy a pom from my other project. That&#39;s all","body":"I want to create a demo to show you how to reproduce the duplicate class problem.  So I  just copy a pom from my other project. That&#39;s all"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693463729,"post_id":76889724,"comment_id":135764848,"body_markdown":"And what are you expecting now? That I spend time fixing your problem for a setup that is different from what you actually use, and in the end you tell me that it is not what you wanted? Besides, you still did not explain why the POMs look so weird. Your POMs are what you want me to fix, aren&#39;t they? Since I cannot read your mind, you need to be a little less lazy and explain better. Otherwise the effect will be &quot;garbage in, garbage out&quot;. As for &quot;coincidence&quot;: I doubt that any of this is coincidence. Programmers build projects deterministically. Cause and effect.","body":"And what are you expecting now? That I spend time fixing your problem for a setup that is different from what you actually use, and in the end you tell me that it is not what you wanted? Besides, you still did not explain why the POMs look so weird. Your POMs are what you want me to fix, aren&#39;t they? Since I cannot read your mind, you need to be a little less lazy and explain better. Otherwise the effect will be &quot;garbage in, garbage out&quot;. As for &quot;coincidence&quot;: I doubt that any of this is coincidence. Programmers build projects deterministically. Cause and effect."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693492090,"post_id":76889724,"comment_id":135770867,"body_markdown":"To explain myself clearly, I draw a picture.  https://github.com/chuanghou/lost/blob/main/Snipaste_2023-08-31_22-25-38.png, please ignore the ugly project.","body":"To explain myself clearly, I draw a picture.  <a href=\"https://github.com/chuanghou/lost/blob/main/Snipaste_2023-08-31_22-25-38.png\" rel=\"nofollow noreferrer\">github.com/chuanghou/lost/blob/main/&hellip;</a>, please ignore the ugly project."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693492350,"post_id":76889724,"comment_id":135770926,"body_markdown":"I am very sorry that I can not explain my self clearly. Follows is the only question I want to ask. If I use a aspectj-maven-plugin to weaven an aspect to A.class in a third-party jar. The third-party jar won&#39;t be changed and will stay in my classpath. ajc-plugin will make a new A.class file with same package and class name compare to the original A.class inside the third-party jar. Then the class loader will find two class file sharing same absolute path in classpath. So which class will be loaded？","body":"I am very sorry that I can not explain my self clearly. Follows is the only question I want to ask. If I use a aspectj-maven-plugin to weaven an aspect to A.class in a third-party jar. The third-party jar won&#39;t be changed and will stay in my classpath. ajc-plugin will make a new A.class file with same package and class name compare to the original A.class inside the third-party jar. Then the class loader will find two class file sharing same absolute path in classpath. So which class will be loaded？"}],"answers":[{"comments":[{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1693736936,"post_id":77027139,"comment_id":135797450,"body_markdown":"Thanks for your answer. I am very sorry for my pool english. It really affect my communication with you","body":"Thanks for your answer. I am very sorry for my pool english. It really affect my communication with you"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1693753187,"post_id":77027139,"comment_id":135799150,"body_markdown":"There is no need to apologise for that. &#128578; But you can let code speak instead. In this community here, we are all trying to help each other as peers.","body":"There is no need to apologise for that. 🙂 But you can let code speak instead. In this community here, we are all trying to help each other as peers."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693634429,"creation_date":1693634429,"answer_id":77027139,"question_id":76889724,"body_markdown":"Instead of thinking classpath ordering, you should use the clean and obvious choice to not include the original JARs woven by your aspects in the classpath (or the fat JAR) at all, because everything on AspectJ&#39;s _inpath_ during compilation (`weaveDependencies` in AspectJ Maven) will be in the compilation result of the corresponding module, without regard if particular classes have been affected by aspects or not. Your other modules ought to depend on the woven modules, but not on their transitive unwoven dependencies.\r\n\r\nHow to achieve that, strongly depends on your situation. Some options include\r\n  * using dependency excludes,\r\n  * using Flatten Maven Plugin to create a dependency-reduced POM for each woven module,\r\n  * excluding weave dependencies from packaging when using Maven Assembly, Maven Shade or a Spring Boot applicaction packager plugin.\r\n\r\nAll of the above can help in Maven, depending on your situation, which is why I asked detail questions that you are unwilling to answer more clearly. Not my problem, you are shooting yourself into your own foot.\r\n\r\nIf you get it working in Maven, but somehow not in your IDE, because the IDE maybe does not understand what Flatten Maven does and still adds the weave dependencies on the classpath in a single multi-module project, you might have to use a separate project for Aspect weaving and creating an uber JAR or a module with dependency-reduced POM, `mvn install` it and then consume it in project B. But usually there are ways to avoid that, even though it is a clean and simple way, too.\r\n\r\nHere is a [PR for your project](https://github.com/chuanghou/lost/pull/1), showing how to adjust Maven Dependency Plugin to copy the correct dependencies to the _lib_ directory. If you run `starter` with that _lib_ directory on the classpath or put the two into a fat JAR together, it should work. No more duplicate classes on the classpath.","title":"aspecj-maven-plugin, weaving dependency feature, random load java class","body":"<p>Instead of thinking classpath ordering, you should use the clean and obvious choice to not include the original JARs woven by your aspects in the classpath (or the fat JAR) at all, because everything on AspectJ's <em>inpath</em> during compilation (<code>weaveDependencies</code> in AspectJ Maven) will be in the compilation result of the corresponding module, without regard if particular classes have been affected by aspects or not. Your other modules ought to depend on the woven modules, but not on their transitive unwoven dependencies.</p>\n<p>How to achieve that, strongly depends on your situation. Some options include</p>\n<ul>\n<li>using dependency excludes,</li>\n<li>using Flatten Maven Plugin to create a dependency-reduced POM for each woven module,</li>\n<li>excluding weave dependencies from packaging when using Maven Assembly, Maven Shade or a Spring Boot applicaction packager plugin.</li>\n</ul>\n<p>All of the above can help in Maven, depending on your situation, which is why I asked detail questions that you are unwilling to answer more clearly. Not my problem, you are shooting yourself into your own foot.</p>\n<p>If you get it working in Maven, but somehow not in your IDE, because the IDE maybe does not understand what Flatten Maven does and still adds the weave dependencies on the classpath in a single multi-module project, you might have to use a separate project for Aspect weaving and creating an uber JAR or a module with dependency-reduced POM, <code>mvn install</code> it and then consume it in project B. But usually there are ways to avoid that, even though it is a clean and simple way, too.</p>\n<p>Here is a <a href=\"https://github.com/chuanghou/lost/pull/1\" rel=\"nofollow noreferrer\">PR for your project</a>, showing how to adjust Maven Dependency Plugin to copy the correct dependencies to the <em>lib</em> directory. If you run <code>starter</code> with that <em>lib</em> directory on the classpath or put the two into a fat JAR together, it should work. No more duplicate classes on the classpath.</p>\n"}],"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77027139,"answer_count":1,"score":0,"last_activity_date":1693634429,"creation_date":1691850284,"question_id":76889724,"body_markdown":"I use maven-aspectj-plugin in a multi modules project using maven as a dependency tool. A simple demo project, you could find here [demo-project](https://github.com/chuanghou/lost).\r\n\r\nAt my real project, for the compatibiliy with lombok, I use an unusually dependency graph of modules;\r\n\r\nstarter ---&gt; ajc ----&gt; my business modules. \r\n\r\nThe starter is the program entrancem. The aspects are in ajc module which has only aspects. All the java class which will be weaved into are in business modules. Using this dependency, so I could use lombok in my business modules, and the weaving process appears in the compile of ajc module. At that time, the business module has been compiled to byte code with lombok. Of course, I need use the weaveDependency style.\r\n\r\nIt has been working well for a long time. But today I begin my another project. The proceeding point was not enter into. The most interesting part is the aspect work well when i use idea to run the application. But I deploy it with jars. The program do not enter aspect. I try to reproduce the bug using a simple project [demo](https://github.com/chuanghou/lost). But the aspect works well unexpectedly.\r\n\r\n\r\nSo I dig into target directory of ajc module. I found the class files which are same with the weaving goal java class in my bussiness modules. Interesting, it answer my another question. The weaving dependency feature didn&#39;t edit the target jar. How it works? Now, I know that, it add a new class with aspect in aspects directory. Jvm may choose one of java classes. \r\n\r\n[![Windows Explorer, showing identically named class files in two different directories][1]][1]\r\n\r\nI think my questions should comes from this random procedure. \r\n\r\nAnd the finally questions: If my guess is right. The weave dependency featue is that copy the original java class and edit it, then put it in a another directory or another jar, but shares same package name and class name with the orignal java class. But it will bring another problem, there are two java class file with same package name and same class name. The class loading will perform different in different OS thanks to file inode and it dependend on the os file system.\r\n\r\nAre there any mechanisms to prevent class loader random load one java class file of these two.\r\n\r\n\r\nI have give my guess in the details. Want to hear explain from plugin author about this question\r\n\r\n  [1]: https://i.stack.imgur.com/cCcit.png","title":"aspecj-maven-plugin, weaving dependency feature, random load java class","body":"<p>I use maven-aspectj-plugin in a multi modules project using maven as a dependency tool. A simple demo project, you could find here <a href=\"https://github.com/chuanghou/lost\" rel=\"nofollow noreferrer\">demo-project</a>.</p>\n<p>At my real project, for the compatibiliy with lombok, I use an unusually dependency graph of modules;</p>\n<p>starter ---&gt; ajc ----&gt; my business modules.</p>\n<p>The starter is the program entrancem. The aspects are in ajc module which has only aspects. All the java class which will be weaved into are in business modules. Using this dependency, so I could use lombok in my business modules, and the weaving process appears in the compile of ajc module. At that time, the business module has been compiled to byte code with lombok. Of course, I need use the weaveDependency style.</p>\n<p>It has been working well for a long time. But today I begin my another project. The proceeding point was not enter into. The most interesting part is the aspect work well when i use idea to run the application. But I deploy it with jars. The program do not enter aspect. I try to reproduce the bug using a simple project <a href=\"https://github.com/chuanghou/lost\" rel=\"nofollow noreferrer\">demo</a>. But the aspect works well unexpectedly.</p>\n<p>So I dig into target directory of ajc module. I found the class files which are same with the weaving goal java class in my bussiness modules. Interesting, it answer my another question. The weaving dependency feature didn't edit the target jar. How it works? Now, I know that, it add a new class with aspect in aspects directory. Jvm may choose one of java classes.</p>\n<p><a href=\"https://i.stack.imgur.com/cCcit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCcit.png\" alt=\"Windows Explorer, showing identically named class files in two different directories\" /></a></p>\n<p>I think my questions should comes from this random procedure.</p>\n<p>And the finally questions: If my guess is right. The weave dependency featue is that copy the original java class and edit it, then put it in a another directory or another jar, but shares same package name and class name with the orignal java class. But it will bring another problem, there are two java class file with same package name and same class name. The class loading will perform different in different OS thanks to file inode and it dependend on the os file system.</p>\n<p>Are there any mechanisms to prevent class loader random load one java class file of these two.</p>\n<p>I have give my guess in the details. Want to hear explain from plugin author about this question</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"score":0,"creation_date":1683820275,"post_id":76229423,"comment_id":134428388,"body_markdown":"Also this is the type of error that it gives me:\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\tCOURIER cannot be resolved or is not a field","body":"Also this is the type of error that it gives me: Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tCOURIER cannot be resolved or is not a field"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1683824285,"post_id":76229423,"comment_id":134429342,"body_markdown":"What version are you using? Hopefully 2.0.28.","body":"What version are you using? Hopefully 2.0.28."},{"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"score":0,"creation_date":1683871171,"post_id":76229423,"comment_id":134435668,"body_markdown":"I&#39;m using the 3.0.0 alpha version","body":"I&#39;m using the 3.0.0 alpha version"},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":1,"creation_date":1683873627,"post_id":76229423,"comment_id":134436003,"body_markdown":"@DanieleZeraschi please add all the info like error and anything else people ask about into the question, not just in comments.","body":"@DanieleZeraschi please add all the info like error and anything else people ask about into the question, not just in comments."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1683881704,"post_id":76229423,"comment_id":134437560,"body_markdown":"You&#39;re likely a newbie in PDFBox. Use 2.0.28 because 3.0.0 has different classes.","body":"You&#39;re likely a newbie in PDFBox. Use 2.0.28 because 3.0.0 has different classes."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683882023,"creation_date":1683882023,"answer_id":76234713,"question_id":76229423,"body_markdown":"You are using PDFBox 2.x code with PDFBox 3.x in a context where these versions differ, see the [PDFBox 3.0 Migration Guide][1]:\r\n\r\n&gt;### Static instances for Standard 14 fonts removed\r\n&gt;The static instances of `PDType1Font` for the standard 14 fonts were removed as the underlying `COSDictionary` isn&#39;t supposed to be immutable which led to several issues.\r\n&gt;\r\n&gt;A new constructor for `PDType1Font` was introduced to create a standard 14 font. The new Enum `Standard14Fonts.FontName` is the one and only parameter and defines the name of the standard 14 font for which the instance of `PDType1Font` is created for. That instance isn&#39;t a singleton anymore and has to be recreated if necessary or cached by the user if suitable.\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/3.0/migration.html#static-instances-for-standard-14-fonts-removed","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p>You are using PDFBox 2.x code with PDFBox 3.x in a context where these versions differ, see the <a href=\"https://pdfbox.apache.org/3.0/migration.html#static-instances-for-standard-14-fonts-removed\" rel=\"nofollow noreferrer\">PDFBox 3.0 Migration Guide</a>:</p>\n<blockquote>\n<h3>Static instances for Standard 14 fonts removed</h3>\n<p>The static instances of <code>PDType1Font</code> for the standard 14 fonts were removed as the underlying <code>COSDictionary</code> isn't supposed to be immutable which led to several issues.</p>\n<p>A new constructor for <code>PDType1Font</code> was introduced to create a standard 14 font. The new Enum <code>Standard14Fonts.FontName</code> is the one and only parameter and defines the name of the standard 14 font for which the instance of <code>PDType1Font</code> is created for. That instance isn't a singleton anymore and has to be recreated if necessary or cached by the user if suitable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25824501,"reputation":71,"user_id":19562950,"display_name":"HS Nain."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693633821,"creation_date":1693633821,"answer_id":77027117,"question_id":76229423,"body_markdown":"Use this line of code instead.\r\n\r\n     contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.COURIER), 15);","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p>Use this line of code instead.</p>\n<pre><code> contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.COURIER), 15);\n</code></pre>\n"}],"owner":{"account_id":28577344,"reputation":21,"user_id":21878762,"display_name":"D-Z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76234713,"answer_count":2,"score":1,"last_activity_date":1693633821,"creation_date":1683819914,"question_id":76229423,"body_markdown":"`contentStream.setFont(PDType1Font.COURIER, 15);`\r\n\r\nAfter that i added the . it shoud come up with many options of fonts, i also imported the library for the function setFont(); \r\n\r\n```\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;  \r\n```\r\n\r\n\r\nI tried to delete and add the library again, but it didnt work","title":"Java - PTDType1Font Doesn&#39;t find the fonts","body":"<p><code>contentStream.setFont(PDType1Font.COURIER, 15);</code></p>\n<p>After that i added the . it shoud come up with many options of fonts, i also imported the library for the function setFont();</p>\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;  \n</code></pre>\n<p>I tried to delete and add the library again, but it didnt work</p>\n"},{"tags":["java","concurrenthashmap","multimap"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1693558243,"post_id":77021690,"comment_id":135779902,"body_markdown":"Had a bit similar problem, finally came up a pair of map. In your case it could be multimaps book-authors and author-books. Corollary, we have to change them synchronously","body":"Had a bit similar problem, finally came up a pair of map. In your case it could be multimaps book-authors and author-books. Corollary, we have to change them synchronously"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693558531,"post_id":77021690,"comment_id":135779953,"body_markdown":"All process must be thread safe, and book, author values must be removed from memory as they get unusable. This is the most difficult situation for me","body":"All process must be thread safe, and book, author values must be removed from memory as they get unusable. This is the most difficult situation for me"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1693558882,"post_id":77021690,"comment_id":135780006,"body_markdown":"Well, all the concurrency could be easily solved at least with simple synchronization. If you are looking for a lock-free (at least partially) solution, then its for sure more tough, but probably general synchronozation is ok","body":"Well, all the concurrency could be easily solved at least with simple synchronization. If you are looking for a lock-free (at least partially) solution, then its for sure more tough, but probably general synchronozation is ok"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693559062,"post_id":77021690,"comment_id":135780037,"body_markdown":"I hate lock based sync. It&#39;s about spring mvc proj, and lock free is the only way for me","body":"I hate lock based sync. It&#39;s about spring mvc proj, and lock free is the only way for me"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1693560552,"post_id":77021690,"comment_id":135780367,"body_markdown":"I can hardly imagine 100% lock free solution. All that stuff would be anyway enclosed in some managing class, so for you just a typical method would be available. It doesn&#39;t matter is it Spring or not, any method of any library could be synchronized under the hood. For example, basic `someMap.put()` could turn out to `someMap` be got as `Collections.synchronizedMap(new HashMap&lt;&gt;())`","body":"I can hardly imagine 100% lock free solution. All that stuff would be anyway enclosed in some managing class, so for you just a typical method would be available. It doesn&#39;t matter is it Spring or not, any method of any library could be synchronized under the hood. For example, basic <code>someMap.put()</code> could turn out to <code>someMap</code> be got as <code>Collections.synchronizedMap(new HashMap&lt;&gt;())</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693562572,"post_id":77021690,"comment_id":135780743,"body_markdown":"I think it can be done lock free if eventual consistency is acceptable. In other words, if it’s OK for a book to be temporarily indexed under one author and not the other right as it is being added or removed. Is that OK?","body":"I think it can be done lock free if eventual consistency is acceptable. In other words, if it’s OK for a book to be temporarily indexed under one author and not the other right as it is being added or removed. Is that OK?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1693562871,"post_id":77021690,"comment_id":135780787,"body_markdown":"By the way, why do you need the book to be in a queue? Would some other collection type (such as a set) also be ok? Is there something special about a book&#39;s position in a queue?","body":"By the way, why do you need the book to be in a queue? Would some other collection type (such as a set) also be ok? Is there something special about a book&#39;s position in a queue?"},{"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"score":0,"creation_date":1693619289,"post_id":77021690,"comment_id":135788772,"body_markdown":"@k314159 a book is a type of attendance checking for the authors. and insertion rate of book is high. When processor get a book from queue, there is a something complicated routine must be processed","body":"@k314159 a book is a type of attendance checking for the authors. and insertion rate of book is high. When processor get a book from queue, there is a something complicated routine must be processed"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1693623665,"post_id":77021690,"comment_id":135788957,"body_markdown":"I think there’s not enough detail in the question to give an answer that will suit your needs","body":"I think there’s not enough detail in the question to give an answer that will suit your needs"}],"owner":{"account_id":21071232,"reputation":394,"user_id":15487427,"display_name":"coding monster"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693631390,"creation_date":1693557843,"question_id":77021690,"body_markdown":"Problem\r\n======\r\n\r\nMultiple indexed map :\r\n- A value has several key, that can be used to find the value in a short time (may be less than O(n)).\r\n- The key is NON-UNIQUE, which means `key1: val1`, `key1: val2`, `key1: val3` could be possible.\r\n- When the value is removed, all equal values must be removed from the map.\r\n\r\nExample\r\n=====\r\nStructure of `Book` queue.\r\n-----\r\n- A `Book` has multiple authors, and the `Authour`s can be searched in a short time.\r\n- `Book` is concurrently added or removed in that Queue.\r\n- `Author`s can write multiple `Book`s.\r\n\r\nProcess\r\n-----\r\n- Author is from input, then find anyone of the books in queue.\r\n- The book is removed from the queue.\r\n\r\n\r\nOne I thought is the map can be simillar to multimap, but removing the key-value pairs from the map while iterating the authors of the book is unsuitable solution. When the author and books total count is about millions, the elapsing time can get greater.\r\n\r\nCan anybody help me to decide the structure?\r\n\r\nUPDATE:\r\n=========\r\n As @gdomo suggested(book-author, author-book map), I wrote code as follows:\r\n``` java\r\n\tpublic class Book {\r\n\t\t...\r\n\t\tprivate List&lt;String&gt; authors;\r\n\t}\r\n\r\n\tSet&lt;Book&gt;&gt; pendingBooks = ConcurrentHashMap.newKeySet();\r\n\r\n\tConcurrentHashMap&lt;String, Set&lt;Book&gt;&gt; cacheMapBooksByAuthor = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tpublic static void processAuthorCheck(String author) {\r\n\t\tSet&lt;Book&gt; books = cacheMapBooksByAuthor.put(author, ConcurrentHashMap.newKeySet());\r\n\t\tif (books == null)\r\n\t\t\treturn;\r\n\r\n\t\tfor (Book book : books) {\r\n\t\t\tpendingBooks.remove(book);\t\t\t// REMOVE a BOOK from QUE\r\n\r\n\t\t\tthis.processBook(book); // TODO\r\n\r\n\t\t\tList&lt;String&gt; authors = book.getAuthors();\r\n\t\t\tif (authors == null)\r\n\t\t\t\tcontinue;\r\n\t\t\tfor (String author : authors) {\r\n\t\t\t\tSet&lt;Book&gt; tmpBooks = cacheMapBooksByAuthor.get(author).remove(book);\t\t// remove THAT BOOK for all other authors\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void pushBook(Book book) {\r\n\t\tList&lt;String&gt; authors = book.getAuthors();\r\n\t\tif (authors == null)\r\n\t\t\treturn;\r\n\r\n\t\tfor (String authors : authors) {\r\n\t\t\tSet&lt;Book&gt; books = cacheMapBooksByAuthor.get(authors);\r\n\t\t\tif (books == null) {\r\n\t\t\t\tSet&lt;Book&gt; oldBooks = cacheMapBooksByAuthor.putIfAbsent(authors, books = ConcurrentHashMap.newKeySet());\r\n\t\t\t\tif (oldBooks != null)\r\n\t\t\t\t\tbooks = oldBooks;\r\n\t\t\t}\r\n\t\t\tbooks.add(book);\r\n\t\t}\r\n\t}\r\n```\r\nI used `Set` instead of `Queue` to avoid conflicts of book.\r\n\r\nOne I&#39;m not satisfied with is release of book variable does&#39;t affect authors book variables, as i exprienced in C++. (Because of java object reference)\r\n\r\nIs there any better solution over this structure?\r\n","title":"Best structure of Multiple indexed map","body":"<h1>Problem</h1>\n<p>Multiple indexed map :</p>\n<ul>\n<li>A value has several key, that can be used to find the value in a short time (may be less than O(n)).</li>\n<li>The key is NON-UNIQUE, which means <code>key1: val1</code>, <code>key1: val2</code>, <code>key1: val3</code> could be possible.</li>\n<li>When the value is removed, all equal values must be removed from the map.</li>\n</ul>\n<h1>Example</h1>\n<h2>Structure of <code>Book</code> queue.</h2>\n<ul>\n<li>A <code>Book</code> has multiple authors, and the <code>Authour</code>s can be searched in a short time.</li>\n<li><code>Book</code> is concurrently added or removed in that Queue.</li>\n<li><code>Author</code>s can write multiple <code>Book</code>s.</li>\n</ul>\n<h2>Process</h2>\n<ul>\n<li>Author is from input, then find anyone of the books in queue.</li>\n<li>The book is removed from the queue.</li>\n</ul>\n<p>One I thought is the map can be simillar to multimap, but removing the key-value pairs from the map while iterating the authors of the book is unsuitable solution. When the author and books total count is about millions, the elapsing time can get greater.</p>\n<p>Can anybody help me to decide the structure?</p>\n<h1>UPDATE:</h1>\n<p>As @gdomo suggested(book-author, author-book map), I wrote code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Book {\n        ...\n        private List&lt;String&gt; authors;\n    }\n\n    Set&lt;Book&gt;&gt; pendingBooks = ConcurrentHashMap.newKeySet();\n\n    ConcurrentHashMap&lt;String, Set&lt;Book&gt;&gt; cacheMapBooksByAuthor = new ConcurrentHashMap&lt;&gt;();\n\n    public static void processAuthorCheck(String author) {\n        Set&lt;Book&gt; books = cacheMapBooksByAuthor.put(author, ConcurrentHashMap.newKeySet());\n        if (books == null)\n            return;\n\n        for (Book book : books) {\n            pendingBooks.remove(book);          // REMOVE a BOOK from QUE\n\n            this.processBook(book); // TODO\n\n            List&lt;String&gt; authors = book.getAuthors();\n            if (authors == null)\n                continue;\n            for (String author : authors) {\n                Set&lt;Book&gt; tmpBooks = cacheMapBooksByAuthor.get(author).remove(book);        // remove THAT BOOK for all other authors\n            }\n        }\n    }\n\n    public static void pushBook(Book book) {\n        List&lt;String&gt; authors = book.getAuthors();\n        if (authors == null)\n            return;\n\n        for (String authors : authors) {\n            Set&lt;Book&gt; books = cacheMapBooksByAuthor.get(authors);\n            if (books == null) {\n                Set&lt;Book&gt; oldBooks = cacheMapBooksByAuthor.putIfAbsent(authors, books = ConcurrentHashMap.newKeySet());\n                if (oldBooks != null)\n                    books = oldBooks;\n            }\n            books.add(book);\n        }\n    }\n</code></pre>\n<p>I used <code>Set</code> instead of <code>Queue</code> to avoid conflicts of book.</p>\n<p>One I'm not satisfied with is release of book variable does't affect authors book variables, as i exprienced in C++. (Because of java object reference)</p>\n<p>Is there any better solution over this structure?</p>\n"},{"tags":["java","spring-boot","asynchronous","testing","mockito"],"answers":[{"comments":[{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693265170,"post_id":76981679,"comment_id":135735094,"body_markdown":"oh, one thing: when I put `@Async` annotation on the method `execute()` (in `TestedClass`) instead of `doStuff()` (in `SomeService`) just like the way you did in your sample code, it doesn&#39;t actually run asynchronously. It only runs asynchronously if I annotate `doStuff()` instead of `execute()` but in that case the test fails","body":"oh, one thing: when I put <code>@Async</code> annotation on the method <code>execute()</code> (in <code>TestedClass</code>) instead of <code>doStuff()</code> (in <code>SomeService</code>) just like the way you did in your sample code, it doesn&#39;t actually run asynchronously. It only runs asynchronously if I annotate <code>doStuff()</code> instead of <code>execute()</code> but in that case the test fails"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693265301,"post_id":76981679,"comment_id":135735109,"body_markdown":"and the reason of why I annotate `doStuff()` instead of `execute()` is because I followed instructions on this page: https://stackoverflow.com/questions/22465351/spring-async-annotated-method-blocks-when-calling-itself","body":"and the reason of why I annotate <code>doStuff()</code> instead of <code>execute()</code> is because I followed instructions on this page: <a href=\"https://stackoverflow.com/questions/22465351/spring-async-annotated-method-blocks-when-calling-itself\" title=\"spring async annotated method blocks when calling itself\">stackoverflow.com/questions/22465351/&hellip;</a>"},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693266623,"post_id":76981679,"comment_id":135735237,"body_markdown":"at the moment I am bypassing this, by annotating both `execute()` and `doStuff()` but not sure if this is the best way of dealing with it","body":"at the moment I am bypassing this, by annotating both <code>execute()</code> and <code>doStuff()</code> but not sure if this is the best way of dealing with it"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1693276732,"post_id":76981679,"comment_id":135736114,"body_markdown":"Could you show both those classes (especially annotations used)? I&#39;d assume either `TestedClass` is not a bean, the method is not called from a Java bean or is called from the same class, or is private or final.","body":"Could you show both those classes (especially annotations used)? I&#39;d assume either <code>TestedClass</code> is not a bean, the method is not called from a Java bean or is called from the same class, or is private or final."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1693631202,"post_id":76981679,"comment_id":135789283,"body_markdown":"I posted them at the bottom of my question. That is the only way I could make it run asynchronously. If I remove `MyAsyncUtil`, annotate `myMethod2` with `@Async` and move all statements from `myAsyncMethod` into `myMethod2`, it blocks","body":"I posted them at the bottom of my question. That is the only way I could make it run asynchronously. If I remove <code>MyAsyncUtil</code>, annotate <code>myMethod2</code> with <code>@Async</code> and move all statements from <code>myAsyncMethod</code> into <code>myMethod2</code>, it blocks"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1693723181,"post_id":76981679,"comment_id":135796340,"body_markdown":"You can find an explanation [here](https://www.baeldung.com/spring-async#the-async-annotation) - &quot;self-invocation doesn&#39;t work because it bypasses the proxy and calls the underlying method directly&quot;. The `@Async` method has to be called from another bean object. For better understanding of the proxying mechanism, you can read [this article in the Spring Docs](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies).","body":"You can find an explanation <a href=\"https://www.baeldung.com/spring-async#the-async-annotation\" rel=\"nofollow noreferrer\">here</a> - &quot;self-invocation doesn&#39;t work because it bypasses the proxy and calls the underlying method directly&quot;. The <code>@Async</code> method has to be called from another bean object. For better understanding of the proxying mechanism, you can read <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">this article in the Spring Docs</a>."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1693723667,"post_id":76981679,"comment_id":135796374,"body_markdown":"I&#39;ve added [an example with logging](https://github.com/Jonarzz/stack-overflow/commit/d6b72e38b97c27d7bdef34b481b32334fa91a8d6) to the repo linked above, where this behavior is clearly visible (`bypassProxy` method call results in all methods called from the same thread).","body":"I&#39;ve added <a href=\"https://github.com/Jonarzz/stack-overflow/commit/d6b72e38b97c27d7bdef34b481b32334fa91a8d6\" rel=\"nofollow noreferrer\">an example with logging</a> to the repo linked above, where this behavior is clearly visible (<code>bypassProxy</code> method call results in all methods called from the same thread)."}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693027722,"creation_date":1693027722,"answer_id":76981679,"question_id":76980608,"body_markdown":"`@Async` is a Spring framework annotation - if the method call is performed within the Spring context (between Spring beans), the method may be intercepted and ran on a thread different than the thread of the original caller. If the method is called outside of the Spring context, the `@Async` annotation is ignored and the method is executed on the same thread as the caller.\r\n\r\nYou can write a test involving Spring and verify the behaviour like this:\r\n```java\r\n@SpringBootTest\r\nclass TestedClassSpringTest {\r\n\r\n    @MockBean\r\n    SomeService someService;\r\n    @Autowired\r\n    TestedClass testedClass;\r\n\r\n    @Test\r\n    void test() {\r\n        var exception = new RuntimeException(&quot;test error&quot;);\r\n        when(someService.doStuff())\r\n                .thenThrow(exception);\r\n\r\n        ThrowingCallable methodCall = () -&gt; testedClass.execute();\r\n\r\n        assertThatNoException()\r\n                .isThrownBy(methodCall);\r\n    }\r\n}\r\n```\r\n\r\nYou will see in the console that the exception is actually thrown and logged, but the original call is not interrupted because of the exception as it operates on another thread. If you wanted, you could also verify for example if the `AsyncUncaughtExceptionHandler` was called (using `Mockito.verify` method), but in such case you have to remember that the call is performed on a different thread than the main thread, so using a library such as [Awaitility][1] may be required to avoid flaky tests (main thread could finish running before the async thread).\r\nNote: `assertThatNoException` is a method from the [AssertJ library][2].\r\n\r\nAnother way to simulate the asynchronous execution in the test could be simply creating the new thread yourself, mimicking the Spring behaviour:\r\n```java\r\nclass TestedClassVanillaTest {\r\n\r\n    SomeService someService = mock(SomeService.class);\r\n    TestedClass testedClass = new TestedClass(someService);\r\n\r\n    @Test\r\n    void test() {\r\n        var exception = new RuntimeException(&quot;test error&quot;);\r\n        when(someService.doStuff())\r\n                .thenThrow(exception);\r\n\r\n        ThrowableAssert.ThrowingCallable methodCall = () -&gt; {\r\n            new Thread(() -&gt; testedClass.execute())\r\n                    .start();\r\n        };\r\n\r\n        assertThatNoException()\r\n                .isThrownBy(methodCall);\r\n    }\r\n}\r\n```\r\n\r\nThe disadvantage of this approach is the fact that the `@Async` annotation is not required for this to work - if it&#39;s removed in the future, the test would still pass. I would advise not to use this approach since it simply tests the fact that an exception thrown in a different thread is not caught by the main thread, which is a Java truism. Still - the tests helps to understand how Spring does what it does &quot;behind the curtains&quot;.\r\n\r\n---\r\n\r\nI have prepared [a GitHub repository][3] - I verified both tests and they pass.\r\n\r\n\r\n  [1]: https://www.baeldung.com/awaitility-testing\r\n  [2]: https://assertj.github.io/doc/\r\n  [3]: https://github.com/Jonarzz/stack-overflow/commit/7f3765353e4d476ba9d336812578d20188b0d454","title":"Spring Boot - How to test @Async method throwing an exception in Mockito","body":"<p><code>@Async</code> is a Spring framework annotation - if the method call is performed within the Spring context (between Spring beans), the method may be intercepted and ran on a thread different than the thread of the original caller. If the method is called outside of the Spring context, the <code>@Async</code> annotation is ignored and the method is executed on the same thread as the caller.</p>\n<p>You can write a test involving Spring and verify the behaviour like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass TestedClassSpringTest {\n\n    @MockBean\n    SomeService someService;\n    @Autowired\n    TestedClass testedClass;\n\n    @Test\n    void test() {\n        var exception = new RuntimeException(&quot;test error&quot;);\n        when(someService.doStuff())\n                .thenThrow(exception);\n\n        ThrowingCallable methodCall = () -&gt; testedClass.execute();\n\n        assertThatNoException()\n                .isThrownBy(methodCall);\n    }\n}\n</code></pre>\n<p>You will see in the console that the exception is actually thrown and logged, but the original call is not interrupted because of the exception as it operates on another thread. If you wanted, you could also verify for example if the <code>AsyncUncaughtExceptionHandler</code> was called (using <code>Mockito.verify</code> method), but in such case you have to remember that the call is performed on a different thread than the main thread, so using a library such as <a href=\"https://www.baeldung.com/awaitility-testing\" rel=\"nofollow noreferrer\">Awaitility</a> may be required to avoid flaky tests (main thread could finish running before the async thread).\nNote: <code>assertThatNoException</code> is a method from the <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ library</a>.</p>\n<p>Another way to simulate the asynchronous execution in the test could be simply creating the new thread yourself, mimicking the Spring behaviour:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestedClassVanillaTest {\n\n    SomeService someService = mock(SomeService.class);\n    TestedClass testedClass = new TestedClass(someService);\n\n    @Test\n    void test() {\n        var exception = new RuntimeException(&quot;test error&quot;);\n        when(someService.doStuff())\n                .thenThrow(exception);\n\n        ThrowableAssert.ThrowingCallable methodCall = () -&gt; {\n            new Thread(() -&gt; testedClass.execute())\n                    .start();\n        };\n\n        assertThatNoException()\n                .isThrownBy(methodCall);\n    }\n}\n</code></pre>\n<p>The disadvantage of this approach is the fact that the <code>@Async</code> annotation is not required for this to work - if it's removed in the future, the test would still pass. I would advise not to use this approach since it simply tests the fact that an exception thrown in a different thread is not caught by the main thread, which is a Java truism. Still - the tests helps to understand how Spring does what it does &quot;behind the curtains&quot;.</p>\n<hr />\n<p>I have prepared <a href=\"https://github.com/Jonarzz/stack-overflow/commit/7f3765353e4d476ba9d336812578d20188b0d454\" rel=\"nofollow noreferrer\">a GitHub repository</a> - I verified both tests and they pass.</p>\n"}],"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693630956,"creation_date":1692998470,"question_id":76980608,"body_markdown":"I am calling `@Async` method in one of my service methods, and now I am trying to simulate the situation when `@Async` method throws exception in the background, to assert that the caller method continues executing normally despite of asynchronously thrown exception.\r\n\r\nInitially inside the test, I tried mocking the exception being thrown:\r\n\r\n    when(myAsyncServiceMock.myAsyncMethod(...some arguments...).thenThrow(new RuntimeException(&quot;failed to complete asynchronous method&quot;));\r\n\r\nbut in that case, the caller method behaves as if the runtime exception was thrown in the main thread, not asynchronously. \r\n\r\nDoes Mockito have a way of specifying that the exception in `thenThrow(...)` is supposed to be thrown asynchronously, rather than in the main thread?\r\n\r\n\r\nUPD. This is the class in which the async method (from autowired bean) gets called:  \r\n\r\n\r\n    @Log4j2\r\n    @Service\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;spring.profiles&quot;)\r\n    public class MyService {\r\n    \r\n      @Autowired private MyAsyncUtil asyncUtil;\r\n    \r\n      public void myMethod1() {\r\n        myMethod2();    \r\n      }\r\n    \r\n      public void myMethod2() {\r\n        asyncUtil.myAsyncMethod();\r\n      }       \r\n    \r\n    }\r\n\r\n\r\nand this is `MyAsyncUtil` class with method annotated as `@Async`:\r\n\r\n    @Component\r\n    @Log4j2\r\n    public class MyAsyncUtil {\r\n    \r\n      @Async\r\n      public Void myAsyncMethod() {\r\n        // do something\r\n      } \r\n    \r\n    }\r\n\r\n","title":"Spring Boot - How to test @Async method throwing an exception in Mockito","body":"<p>I am calling <code>@Async</code> method in one of my service methods, and now I am trying to simulate the situation when <code>@Async</code> method throws exception in the background, to assert that the caller method continues executing normally despite of asynchronously thrown exception.</p>\n<p>Initially inside the test, I tried mocking the exception being thrown:</p>\n<pre><code>when(myAsyncServiceMock.myAsyncMethod(...some arguments...).thenThrow(new RuntimeException(&quot;failed to complete asynchronous method&quot;));\n</code></pre>\n<p>but in that case, the caller method behaves as if the runtime exception was thrown in the main thread, not asynchronously.</p>\n<p>Does Mockito have a way of specifying that the exception in <code>thenThrow(...)</code> is supposed to be thrown asynchronously, rather than in the main thread?</p>\n<p>UPD. This is the class in which the async method (from autowired bean) gets called:</p>\n<pre><code>@Log4j2\n@Service\n@Setter\n@ConfigurationProperties(prefix = &quot;spring.profiles&quot;)\npublic class MyService {\n\n  @Autowired private MyAsyncUtil asyncUtil;\n\n  public void myMethod1() {\n    myMethod2();    \n  }\n\n  public void myMethod2() {\n    asyncUtil.myAsyncMethod();\n  }       \n\n}\n</code></pre>\n<p>and this is <code>MyAsyncUtil</code> class with method annotated as <code>@Async</code>:</p>\n<pre><code>@Component\n@Log4j2\npublic class MyAsyncUtil {\n\n  @Async\n  public Void myAsyncMethod() {\n    // do something\n  } \n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693631075,"post_id":77026439,"comment_id":135789276,"body_markdown":"If you&#39;re building a &quot;standard&quot; JAR file, then the dependencies are not included. I suggest reading the various links under the &quot;Packaging&quot; header of the [JavaFX tag info](https://stackoverflow.com/tags/javafx/info) page. There&#39;s one about creating a &quot;fat&quot; JAR file (i.e., a JAR file with dependencies), but note that&#39;s not really a supported deployment strategy for JavaFX applications due to how modules work.","body":"If you&#39;re building a &quot;standard&quot; JAR file, then the dependencies are not included. I suggest reading the various links under the &quot;Packaging&quot; header of the <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag info</a> page. There&#39;s one about creating a &quot;fat&quot; JAR file (i.e., a JAR file with dependencies), but note that&#39;s not really a supported deployment strategy for JavaFX applications due to how modules work."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693631162,"post_id":77026439,"comment_id":135789282,"body_markdown":"As an aside, why are you using an early access version of JavaFX? I recommend you stick with general, stable releases. The current latest is `20.0.2` (though version `21.0.0` should be released some time this month).","body":"As an aside, why are you using an early access version of JavaFX? I recommend you stick with general, stable releases. The current latest is <code>20.0.2</code> (though version <code>21.0.0</code> should be released some time this month)."},{"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"score":0,"creation_date":1693649663,"post_id":77026439,"comment_id":135790714,"body_markdown":"I dont understand the fact that for example I am able to include the jdbc jar inside my server&#39;s jar but it seems to not be working no matter what. Exactly the &quot;fat&quot; jar method seems like a workaround and not like the correct way to do things.","body":"I dont understand the fact that for example I am able to include the jdbc jar inside my server&#39;s jar but it seems to not be working no matter what. Exactly the &quot;fat&quot; jar method seems like a workaround and not like the correct way to do things."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1693655574,"post_id":77026439,"comment_id":135791244,"body_markdown":"Do you understand the error message?","body":"Do you understand the error message?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693674171,"post_id":77026439,"comment_id":135792987,"body_markdown":"Nothing in your POM indicates you&#39;re including any JDBC _driver_ as a dependency, let alone including one in your JAR file.","body":"Nothing in your POM indicates you&#39;re including any JDBC <i>driver</i> as a dependency, let alone including one in your JAR file."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693674368,"post_id":77026439,"comment_id":135793003,"body_markdown":"Regarding so-called fat/uber/shadowed JAR files: That was a common deployment strategy for much of Java&#39;s history. Though that was also during the era of Java being preinstalled on many user machines. Nowadays, it seems the recommended way deploy Java applications to clients outside your control is as a self-contained application (e.g., via `jlink` / `jpackage`, GraalVM&#39;s native image, etc.). There are Q&amp;As  about this that you can find via the links I mentioned previously.","body":"Regarding so-called fat/uber/shadowed JAR files: That was a common deployment strategy for much of Java&#39;s history. Though that was also during the era of Java being preinstalled on many user machines. Nowadays, it seems the recommended way deploy Java applications to clients outside your control is as a self-contained application (e.g., via <code>jlink</code> / <code>jpackage</code>, GraalVM&#39;s native image, etc.). There are Q&amp;As  about this that you can find via the links I mentioned previously."},{"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"score":0,"creation_date":1693755294,"post_id":77026439,"comment_id":135799380,"body_markdown":"No jdbc was an example. In another project of mine the exact same pom file but instead of javafx it use the jdbc drivers and it creates the jar just fine with the jdbc driver inside. Also thanks for the clarification about the &quot;fat jar&quot;.","body":"No jdbc was an example. In another project of mine the exact same pom file but instead of javafx it use the jdbc drivers and it creates the jar just fine with the jdbc driver inside. Also thanks for the clarification about the &quot;fat jar&quot;."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693797240,"post_id":77026439,"comment_id":135803115,"body_markdown":"&quot;_and it creates the jar just fine with the jdbc driver inside_&quot; – Then I suspect you had a slightly different POM file. The `maven-jar-plugin` plugin does not create a fat JAR, which is what you had previously if the JDBC driver was included inside your JAR file. Typically, that&#39;s done via the `maven-shade-plugin` plugin.","body":"&quot;<i>and it creates the jar just fine with the jdbc driver inside</i>&quot; – Then I suspect you had a slightly different POM file. The <code>maven-jar-plugin</code> plugin does not create a fat JAR, which is what you had previously if the JDBC driver was included inside your JAR file. Typically, that&#39;s done via the <code>maven-shade-plugin</code> plugin."}],"owner":{"account_id":25773470,"reputation":1,"user_id":19521253,"display_name":"ibr"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693629701,"creation_date":1693612212,"question_id":77026439,"body_markdown":"I am trying to export a jar from my project using Maven but it doesn&#39;t seem to be working correctly. On the pom file, you can see all the Javafx dependencies. Maven doesn&#39;t display any warnings after creating the jar, but when I try to run it says `&quot;Error: Could not find or load main class packagename.MAIN\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;`. \r\n\r\nIf I try to run it with VM arguments it works but it should also work without them. I don&#39;t understand why this isn&#39;t working. Thank you all in advance.\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;prova&lt;/groupId&gt;\r\n    &lt;artifactId&gt;name&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;name&gt;ClientS&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;javafx.maven.plugin.vertion&gt;0.0.8&lt;/javafx.maven.plugin.vertion&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;21-ea+24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Configure maven-jar-plugin to include the manifest file --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt; &lt;!-- Adjust the version if needed --&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;src/main/resources/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Configure javafx-maven-plugin for JavaFX --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;packagename.MAIN&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Exported jar problems with javafx","body":"<p>I am trying to export a jar from my project using Maven but it doesn't seem to be working correctly. On the pom file, you can see all the Javafx dependencies. Maven doesn't display any warnings after creating the jar, but when I try to run it says <code>&quot;Error: Could not find or load main class packagename.MAIN Caused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;</code>.</p>\n<p>If I try to run it with VM arguments it works but it should also work without them. I don't understand why this isn't working. Thank you all in advance.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;prova&lt;/groupId&gt;\n    &lt;artifactId&gt;name&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;ClientS&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;javafx.maven.plugin.vertion&gt;0.0.8&lt;/javafx.maven.plugin.vertion&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;21-ea+24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Configure maven-jar-plugin to include the manifest file --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt; &lt;!-- Adjust the version if needed --&gt;\n\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;src/main/resources/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Configure javafx-maven-plugin for JavaFX --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;packagename.MAIN&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1561498522,"post_id":56762252,"comment_id":100081835,"body_markdown":"I removed it and I get `java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;`","body":"I removed it and I get <code>java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id &quot;null&quot;</code>"},{"owner":{"account_id":14322281,"reputation":467,"user_id":10345277,"display_name":"윤현구"},"score":0,"creation_date":1561522173,"post_id":56762252,"comment_id":100086371,"body_markdown":"```&#236;d``` means identifier for look up which ```PasswordEncoder```. In normally, format of encoded password is ```{format}password```. So, you should to make your password like ```{noop}password```","body":"<code>&#236;d</code> means identifier for look up which <code>PasswordEncoder</code>. In normally, format of encoded password is <code>{format}password</code>. So, you should to make your password like <code>{noop}password</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1561525460,"post_id":56762252,"comment_id":100087213,"body_markdown":"What Spring method should I use to insert the password in order to have {noop}password?","body":"What Spring method should I use to insert the password in order to have {noop}password?"}],"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681659296,"creation_date":1561498139,"answer_id":56762252,"question_id":56762121,"body_markdown":"This `PasswordEncoder` has been deprecated, because of this issue - [SEC-2564: Deprecate all salted digest password encoding #2776][1] (Spring Security at GitHub). It&#39;s not like it was secure or more reliable before deprecation (since it does nothing anyway), it was just deprecated as a part of something bigger.\r\n\r\nIf you want to use that `PasswordEncoder`, you can do that and ignore the deprecation, just know that it does completely nothing (maybe besides giving someone not familiar with the codebase a false sense of security) and as the docs says - should be used only for testing.\r\n\r\nIf you really want to avoid using this class, and you want to keep stuff in plaintext, and still for some reason declare `PasswordEncoder` as a bean (I don&#39;t really understand why would someone want combination of those 3 things) then you can implement your own `PasswordEncoder`, it&#39;s a simple interface.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/2776","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>This <code>PasswordEncoder</code> has been deprecated, because of this issue - <a href=\"https://github.com/spring-projects/spring-security/issues/2776\" rel=\"nofollow noreferrer\">SEC-2564: Deprecate all salted digest password encoding #2776</a> (Spring Security at GitHub). It's not like it was secure or more reliable before deprecation (since it does nothing anyway), it was just deprecated as a part of something bigger.</p>\n<p>If you want to use that <code>PasswordEncoder</code>, you can do that and ignore the deprecation, just know that it does completely nothing (maybe besides giving someone not familiar with the codebase a false sense of security) and as the docs says - should be used only for testing.</p>\n<p>If you really want to avoid using this class, and you want to keep stuff in plaintext, and still for some reason declare <code>PasswordEncoder</code> as a bean (I don't really understand why would someone want combination of those 3 things) then you can implement your own <code>PasswordEncoder</code>, it's a simple interface.</p>\n"},{"tags":[],"owner":{"account_id":19784719,"reputation":31,"user_id":14488945,"display_name":"Chr Isme"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1603237849,"creation_date":1603237849,"answer_id":64454775,"question_id":56762121,"body_markdown":"just copy the code to MyNoOpPasswordEncoder, done! :-)","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>just copy the code to MyNoOpPasswordEncoder, done! :-)</p>\n"},{"tags":[],"owner":{"account_id":4821634,"reputation":635,"user_id":3892166,"display_name":"Jenson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607834166,"creation_date":1607834166,"answer_id":65272395,"question_id":56762121,"body_markdown":"Though a little late, here is what I found:\r\n\r\nIf you want to store the password as plaintext you will have to prefix it with `{noop}`. Default `PasswordEncoder` i.e `DelegatingPasswordEncoder` should take care of matching it. \r\nFor e.g. if your plaintext password is `abc123ABC` you will have to store it in database as `{noop}abc123ABC` \r\n\r\n(Valid for `Spring Security 5.x` onwards)","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>Though a little late, here is what I found:</p>\n<p>If you want to store the password as plaintext you will have to prefix it with <code>{noop}</code>. Default <code>PasswordEncoder</code> i.e <code>DelegatingPasswordEncoder</code> should take care of matching it.\nFor e.g. if your plaintext password is <code>abc123ABC</code> you will have to store it in database as <code>{noop}abc123ABC</code></p>\n<p>(Valid for <code>Spring Security 5.x</code> onwards)</p>\n"},{"tags":[],"owner":{"account_id":27702792,"reputation":1,"user_id":21147056,"display_name":"Aliyu Sahabo Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693628335,"creation_date":1693576054,"answer_id":77023652,"question_id":56762121,"body_markdown":"Just add `&quot;{noop}yourpasswordhere&quot;`\r\n\r\nExample \r\n```java\r\nvar user = User.withUsername(&quot;john&quot;)\r\n               .password(&quot;{noop}1234&quot;)\r\n               .build();\r\n```\r\n","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>Just add <code>&quot;{noop}yourpasswordhere&quot;</code></p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>var user = User.withUsername(&quot;john&quot;)\n               .password(&quot;{noop}1234&quot;)\n               .build();\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9599,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1693628335,"creation_date":1561497397,"question_id":56762121,"body_markdown":"I have this configuration in Spring for passwords.\r\n\r\n    @Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\r\nBut looks like it&#39;s deprecated, I don&#39;t need to encrypt rest keys. I need to store them in plain text. How I can configure this?","title":"Configure NoOpPasswordEncoder in Spring","body":"<p>I have this configuration in Spring for passwords.</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return NoOpPasswordEncoder.getInstance();\n}\n</code></pre>\n\n<p>But looks like it's deprecated, I don't need to encrypt rest keys. I need to store them in plain text. How I can configure this?</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"score":2,"creation_date":1363271352,"post_id":15411696,"comment_id":21791212,"body_markdown":"1st - try upgrading selenium to 2.31.0 - always, always, ALWAYS do use the latest release...","body":"1st - try upgrading selenium to 2.31.0 - always, always, ALWAYS do use the latest release..."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520127845,"post_id":15411696,"comment_id":85187747,"body_markdown":"It is really important in Selenium that you find a Selenium version and a Browser version that are compatible. Especially with Firefox the support only is in beta stage. If you found such a combination it is best to first stick to exactly that combination. If you update the browser without Selenium it will probably break, same for vice versa. *&quot;Never change a running system&quot;* really applies here. If you plan to update you need to find a stable combination of Selenium and Browser again. Of course updating is important for brand new websites.","body":"It is really important in Selenium that you find a Selenium version and a Browser version that are compatible. Especially with Firefox the support only is in beta stage. If you found such a combination it is best to first stick to exactly that combination. If you update the browser without Selenium it will probably break, same for vice versa. <i>&quot;Never change a running system&quot;</i> really applies here. If you plan to update you need to find a stable combination of Selenium and Browser again. Of course updating is important for brand new websites."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1520127919,"post_id":15411696,"comment_id":85187755,"body_markdown":"It also really depends on what webpages you are visiting. They may have fancy features that break Selenium. If the page is very simple it probably doesn&#39;t crash often.","body":"It also really depends on what webpages you are visiting. They may have fancy features that break Selenium. If the page is very simple it probably doesn&#39;t crash often."}],"answers":[{"comments":[{"owner":{"account_id":361003,"reputation":75,"user_id":2051155,"accept_rate":60,"display_name":"Taha Iqbal"},"score":0,"creation_date":1363412952,"post_id":15431293,"comment_id":21852171,"body_markdown":"@Pavel But why it doesn&#39;t give the error every time, some time it gives error and sometime it doesn&#39;t ? If selenium doesn&#39;t find the path , it should n&#39;t run a single time.","body":"@Pavel But why it doesn&#39;t give the error every time, some time it gives error and sometime it doesn&#39;t ? If selenium doesn&#39;t find the path , it should n&#39;t run a single time."},{"owner":{"account_id":353834,"reputation":1165,"user_id":691781,"accept_rate":87,"display_name":"PepeFloyd"},"score":0,"creation_date":1377770265,"post_id":15431293,"comment_id":27212443,"body_markdown":"@TahaIqbal I am getting the same error sporadically, were you able to find a solution? Thanks.","body":"@TahaIqbal I am getting the same error sporadically, were you able to find a solution? Thanks."}],"tags":[],"owner":{"account_id":1313082,"reputation":469,"user_id":1260643,"accept_rate":32,"display_name":"Virendra Joshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363347068,"creation_date":1363347068,"answer_id":15431293,"question_id":15411696,"body_markdown":"If you have path variable at your environment variables not set..then set it to location of Firefox.exe....\r\nOr you can explicitly mention  path to firefox.exe a\r\n\r\n    File pathToFirefoxBinary = new File(browser);\r\n    FirefoxBinary firefoxbin = new FirefoxBinary(pathToFirefoxBinary);\r\n    driver = new FirefoxDriver(firefoxbin,null);\r\n\r\nThis should work..\r\nOr u can go for upgradation to 2.31.0\r\n","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>If you have path variable at your environment variables not set..then set it to location of Firefox.exe....\nOr you can explicitly mention  path to firefox.exe a</p>\n\n<pre><code>File pathToFirefoxBinary = new File(browser);\nFirefoxBinary firefoxbin = new FirefoxBinary(pathToFirefoxBinary);\ndriver = new FirefoxDriver(firefoxbin,null);\n</code></pre>\n\n<p>This should work..\nOr u can go for upgradation to 2.31.0</p>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395675662,"creation_date":1395675662,"answer_id":22613978,"question_id":15411696,"body_markdown":"I had exactly the same problem when i was using firefox 28.0, I solved it by downgrading Firefox version to 27.0.1","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>I had exactly the same problem when i was using firefox 28.0, I solved it by downgrading Firefox version to 27.0.1</p>\n"}],"owner":{"account_id":361003,"reputation":75,"user_id":2051155,"accept_rate":60,"display_name":"Taha Iqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693627550,"creation_date":1363270390,"question_id":15411696,"body_markdown":"I am using FireFox 18 with Selenium 2.29.0.\r\nWhile running test exception occurs \r\n\r\nFailed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null\r\n\r\nIt seems strange that this error seldom occurs. Let&#39;s say I have 20 tests in my class, the &quot;failed to connect&quot; error occurs in 2 tests sometimes 3 and sometimes it doesn&#39;t occur.\r\n\r\nCan&#39;t figure out why is it happening. If this is some how version problem or something else, none of the test case should run.","title":"Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null","body":"<p>I am using FireFox 18 with Selenium 2.29.0.\nWhile running test exception occurs </p>\n\n<p>Failed to connect to binary FirefoxBinary(C:\\Program Files (x86)\\Mozilla Firefox\\firefox.exe) on port 7056; process output follows: null</p>\n\n<p>It seems strange that this error seldom occurs. Let's say I have 20 tests in my class, the \"failed to connect\" error occurs in 2 tests sometimes 3 and sometimes it doesn't occur.</p>\n\n<p>Can't figure out why is it happening. If this is some how version problem or something else, none of the test case should run.</p>\n"},{"tags":["java","linux","swing","user-interface","x11"],"comments":[{"owner":{"account_id":1977055,"reputation":952,"user_id":1774618,"display_name":"dashrb"},"score":0,"creation_date":1353015476,"post_id":13406549,"comment_id":18317153,"body_markdown":"I would suspect the Xserver running on your Windows PC.  Can you run the same app from the GNU/Linux Java 1.6 machine, and remotely display it on a different (non-windows) machine?","body":"I would suspect the Xserver running on your Windows PC.  Can you run the same app from the GNU/Linux Java 1.6 machine, and remotely display it on a different (non-windows) machine?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1353032814,"post_id":13406549,"comment_id":18322153,"body_markdown":"1) The GUI should be started and updated on the EDT.  2) Always call `pack()` in order to cause the GUI to be laid out and validated. 3) `f.setSize(250, 250);` in counter-productive.  Set the size of the GUI according to the rows and columns needed for the text area.","body":"1) The GUI should be started and updated on the EDT.  2) Always call <code>pack()</code> in order to cause the GUI to be laid out and validated. 3) <code>f.setSize(250, 250);</code> in counter-productive.  Set the size of the GUI according to the rows and columns needed for the text area."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1353032972,"post_id":13406549,"comment_id":18322175,"body_markdown":"Also please check the text of tags carefully before applying them to a question.  This has ***nothing*** to do with [tag:export] as defined by SO.","body":"Also please check the text of tags carefully before applying them to a question.  This has <b><i>nothing</i></b> to do with <a href=\"https://stackoverflow.com/questions/tagged/export\">export</a> as defined by SO."},{"owner":{"account_id":1732279,"reputation":211,"user_id":1585643,"accept_rate":67,"display_name":"user1585643"},"score":0,"creation_date":1353074668,"post_id":13406549,"comment_id":18335917,"body_markdown":"@dasrb I have tried from other machines and get the same behavior however they are all Windows","body":"@dasrb I have tried from other machines and get the same behavior however they are all Windows"}],"answers":[{"comments":[{"owner":{"account_id":1732279,"reputation":211,"user_id":1585643,"accept_rate":67,"display_name":"user1585643"},"score":0,"creation_date":1353074767,"post_id":13411868,"comment_id":18335960,"body_markdown":"Tried this program and had high hopes, but still no luck :(   Same behavior.","body":"Tried this program and had high hopes, but still no luck :(   Same behavior."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1353075363,"post_id":13411868,"comment_id":18336214,"body_markdown":"You might edit your question to include the specific versions of Windows and X11; maybe somebody can reproduce the effect you describe.","body":"You might edit your question to include the specific versions of Windows and X11; maybe somebody can reproduce the effect you describe."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353049770,"creation_date":1353049016,"answer_id":13411868,"question_id":13406549,"body_markdown":"Several problems are apparent:\r\n\r\n- Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread][1]. Failing to do so creates a race condition that may be obscure until a different platform or network latency exposes it.\r\n\r\n- Use `pack()`, which &quot;Causes this `Window` to be sized to fit the preferred size and layouts of its subcomponents.&quot; Failing to do so causes the invalid `Container` to be validated when moved or resized. When the prematurely visible components move to the defined positions, they appear to &quot;jump.&quot;\r\n\r\n- Make `setVisible()` the _last_ operation that affects the initial appearance.\r\n\r\nThe following example combines these suggestions:\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.*;\r\n    \r\n    public class JFrameTester {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    JFrame f = new JFrame(&quot;A JFrame&quot;);\r\n                    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    f.add(new JScrollPane(new JTextArea(10, 40)));\r\n                    f.pack();\r\n                    f.setLocationByPlatform(true);\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<p>Several problems are apparent:</p>\n\n<ul>\n<li><p>Construct and manipulate Swing GUI objects <em>only</em> on the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow\">event dispatch thread</a>. Failing to do so creates a race condition that may be obscure until a different platform or network latency exposes it.</p></li>\n<li><p>Use <code>pack()</code>, which \"Causes this <code>Window</code> to be sized to fit the preferred size and layouts of its subcomponents.\" Failing to do so causes the invalid <code>Container</code> to be validated when moved or resized. When the prematurely visible components move to the defined positions, they appear to \"jump.\"</p></li>\n<li><p>Make <code>setVisible()</code> the <em>last</em> operation that affects the initial appearance.</p></li>\n</ul>\n\n<p>The following example combines these suggestions:</p>\n\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.*;\n\npublic class JFrameTester {\n\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                JFrame f = new JFrame(\"A JFrame\");\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.add(new JScrollPane(new JTextArea(10, 40)));\n                f.pack();\n                f.setLocationByPlatform(true);\n                f.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3144597,"reputation":9476,"user_id":2659307,"display_name":"Scott McPeak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693627095,"creation_date":1693621594,"answer_id":77026748,"question_id":13406549,"body_markdown":"## Problem elaboration\r\n\r\nThis problem arises when using an AWT or Swing app under the Cygwin X11\r\nserver.  It only happens if you call `setLocation` or\r\n`setLocationRelativeTo` while constructing the window object.  (But if\r\nyou do not call `setLocation`, then the window appears in the top-left\r\ncorner, which is inconvenient.)\r\n\r\nThe main symptom is: when a window or dialog box is first shown, and\r\nthe user tries to move it by dragging the title bar, after the drag\r\nfinishes, the window jumps back to its original position.  After that,\r\nmoving the window works normally.\r\n\r\nAnother curious symptom is: after attempting to drag once, and getting &quot;rejected&quot;, the menu bar behaves differently, with each menu only remaining open while the mouse button is held down (like old X11 apps).  Additionally there is an &quot;offset&quot; to the mouse&#39;s effect, with the highlighted menu item not being the one under the cursor, but a distance away related to the attempted drag distance.  Moving the window a second time allows the menu to work normally, staying open after pressing and releasing the mouse button, and with no offset effect.\r\n\r\n## Solution\r\n\r\nThe solution I found is to programmatically adjust the window&#39;s position\r\nslightly just after it is first shown:\r\n\r\n```\r\n// Call this *before* &#39;setVisible(true)&#39;.\r\nf.addWindowListener(new java.awt.event.WindowAdapter() {\r\n  @Override\r\n  public void windowOpened(java.awt.event.WindowEvent e) {\r\n    final java.awt.Window w = e.getWindow();\r\n\r\n    javax.swing.Timer t = new javax.swing.Timer(100 /*ms*/,\r\n      new java.awt.event.ActionListener() {\r\n        @Override\r\n        public void actionPerformed(java.awt.event.ActionEvent e) {\r\n          // Slightly adjust the window position to work around a\r\n          // bug where the window manager &quot;rejects&quot; the first\r\n          // attempt to move the window.\r\n          int y = w.getLocation().y;\r\n          w.setLocation(w.getLocation().x, y+1);\r\n        }\r\n      });\r\n    t.setRepeats(false);\r\n    t.start();\r\n  }\r\n});\r\n```\r\n\r\nAs noted, this must be called before `setVisible(true)`, otherwise you\r\nmight miss the `windowOpened` event.  This is also important when using\r\na `JDialog` because, in that case, `setVisible(true)` blocks until the\r\ndialog is closed.\r\n\r\nMoving by 1 pixel is chosen to minimize disruption, since the adjustment\r\nis usually visible to the user.  I say usually because sometimes (maybe\r\n1 in 4 times) the adjustment does not happen, even though it\r\nsuccessfully disarms the underlying bug.  Moving by 0 pixels does not\r\ndisarm the bug.\r\n\r\nThe timer is unfortunately necessary to avoid losing a race condition\r\nwith the window manager.  In my testing, without the timer, the window\r\nwill still jump to its original position about 1 in 7 times when the\r\nuser first moves it.  With a 100 ms timer, I never observed it failing\r\n(after more than 100 tests), but 50 ms is not enough.  This will depend\r\non machine speed of course.\r\n\r\nVersions: Java 1.8.0_92 on Linux and cygwin 3.4.7 on Windows 10.\r\n","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<h2>Problem elaboration</h2>\n<p>This problem arises when using an AWT or Swing app under the Cygwin X11\nserver.  It only happens if you call <code>setLocation</code> or\n<code>setLocationRelativeTo</code> while constructing the window object.  (But if\nyou do not call <code>setLocation</code>, then the window appears in the top-left\ncorner, which is inconvenient.)</p>\n<p>The main symptom is: when a window or dialog box is first shown, and\nthe user tries to move it by dragging the title bar, after the drag\nfinishes, the window jumps back to its original position.  After that,\nmoving the window works normally.</p>\n<p>Another curious symptom is: after attempting to drag once, and getting &quot;rejected&quot;, the menu bar behaves differently, with each menu only remaining open while the mouse button is held down (like old X11 apps).  Additionally there is an &quot;offset&quot; to the mouse's effect, with the highlighted menu item not being the one under the cursor, but a distance away related to the attempted drag distance.  Moving the window a second time allows the menu to work normally, staying open after pressing and releasing the mouse button, and with no offset effect.</p>\n<h2>Solution</h2>\n<p>The solution I found is to programmatically adjust the window's position\nslightly just after it is first shown:</p>\n<pre><code>// Call this *before* 'setVisible(true)'.\nf.addWindowListener(new java.awt.event.WindowAdapter() {\n  @Override\n  public void windowOpened(java.awt.event.WindowEvent e) {\n    final java.awt.Window w = e.getWindow();\n\n    javax.swing.Timer t = new javax.swing.Timer(100 /*ms*/,\n      new java.awt.event.ActionListener() {\n        @Override\n        public void actionPerformed(java.awt.event.ActionEvent e) {\n          // Slightly adjust the window position to work around a\n          // bug where the window manager &quot;rejects&quot; the first\n          // attempt to move the window.\n          int y = w.getLocation().y;\n          w.setLocation(w.getLocation().x, y+1);\n        }\n      });\n    t.setRepeats(false);\n    t.start();\n  }\n});\n</code></pre>\n<p>As noted, this must be called before <code>setVisible(true)</code>, otherwise you\nmight miss the <code>windowOpened</code> event.  This is also important when using\na <code>JDialog</code> because, in that case, <code>setVisible(true)</code> blocks until the\ndialog is closed.</p>\n<p>Moving by 1 pixel is chosen to minimize disruption, since the adjustment\nis usually visible to the user.  I say usually because sometimes (maybe\n1 in 4 times) the adjustment does not happen, even though it\nsuccessfully disarms the underlying bug.  Moving by 0 pixels does not\ndisarm the bug.</p>\n<p>The timer is unfortunately necessary to avoid losing a race condition\nwith the window manager.  In my testing, without the timer, the window\nwill still jump to its original position about 1 in 7 times when the\nuser first moves it.  With a 100 ms timer, I never observed it failing\n(after more than 100 tests), but 50 ms is not enough.  This will depend\non machine speed of course.</p>\n<p>Versions: Java 1.8.0_92 on Linux and cygwin 3.4.7 on Windows 10.</p>\n"}],"owner":{"account_id":1732279,"reputation":211,"user_id":1585643,"accept_rate":67,"display_name":"user1585643"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693627095,"creation_date":1353014929,"question_id":13406549,"body_markdown":"I have a simple java gui (code below) which for some reason when displayed, will &quot;jump&quot; back to it&#39;s original position the first time I try to move or resize it.  So basically I will have to move the gui twice to get it to move once because as soon as I release the mouse the first time it snaps back to where it originally came up. \r\n\r\n    import javax.swing.*;\r\n    \r\n    public class JFrameTester {\r\n    \r\n      public static void main(String[] args) {\r\n        \r\n        JFrame f = new JFrame(&quot;A JFrame&quot;);\r\n        f.setSize(250, 250);\r\n        f.setLocation(300,200);\r\n        f.getContentPane().add(new JTextArea(10, 40));    \r\n        //f.pack();    \r\n        f.setVisible(true);\r\n        //f.validate();\r\n      }\r\n      \r\n    }\r\n\r\n \r\nI am running on **GNU Linux with java 1.6**.   I am exporting the display back to my Windows machine and wondering if it has something to do with the X11 forwarding because it does not show this behavior when I run the gui in Windows.   However, when I run this gui on a Fedora Linux box (with java 1.7) it does not show this behavior at all - whether exporting the display or not.  ","title":"Why does my java gui &quot;jump&quot; when moving it the first time?","body":"<p>I have a simple java gui (code below) which for some reason when displayed, will \"jump\" back to it's original position the first time I try to move or resize it.  So basically I will have to move the gui twice to get it to move once because as soon as I release the mouse the first time it snaps back to where it originally came up. </p>\n\n<pre><code>import javax.swing.*;\n\npublic class JFrameTester {\n\n  public static void main(String[] args) {\n\n    JFrame f = new JFrame(\"A JFrame\");\n    f.setSize(250, 250);\n    f.setLocation(300,200);\n    f.getContentPane().add(new JTextArea(10, 40));    \n    //f.pack();    \n    f.setVisible(true);\n    //f.validate();\n  }\n\n}\n</code></pre>\n\n<p>I am running on <strong>GNU Linux with java 1.6</strong>.   I am exporting the display back to my Windows machine and wondering if it has something to do with the X11 forwarding because it does not show this behavior when I run the gui in Windows.   However, when I run this gui on a Fedora Linux box (with java 1.7) it does not show this behavior at all - whether exporting the display or not.  </p>\n"},{"tags":["java","intellij-idea","nullpointerexception","sonarlint"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1693548976,"post_id":77020404,"comment_id":135778242,"body_markdown":"dont know if this will even change anything, but do you want to try assigning wsr.getBody() to a variable, then using it in the checks and returning the variable.getWorkspace()?","body":"dont know if this will even change anything, but do you want to try assigning wsr.getBody() to a variable, then using it in the checks and returning the variable.getWorkspace()?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693550299,"post_id":77020404,"comment_id":135778438,"body_markdown":"One thing is that SonarQube is stupid. It will happily report false positives that even an average programmer sees are untrue. Suppress the warning unless you want to &quot;code dance&quot; to make SQ happy.","body":"One thing is that SonarQube is stupid. It will happily report false positives that even an average programmer sees are untrue. Suppress the warning unless you want to &quot;code dance&quot; to make SQ happy."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693554005,"post_id":77020404,"comment_id":135779115,"body_markdown":"@Kayaman I&#39;ve installed _Sonarlint_ in order to find troubles in my code. I won&#39;t desactivate its warnings.","body":"@Kayaman I&#39;ve installed <i>Sonarlint</i> in order to find troubles in my code. I won&#39;t desactivate its warnings."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1693555681,"post_id":77020404,"comment_id":135779411,"body_markdown":"I&#39;d use the advice from @experimentunit1998X to assign it to a variable. Sonar probably can&#39;t infer that `wsr.getBody()` will always return the same result.","body":"I&#39;d use the advice from @experimentunit1998X to assign it to a variable. Sonar probably can&#39;t infer that <code>wsr.getBody()</code> will always return the same result."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693557730,"post_id":77020404,"comment_id":135779799,"body_markdown":"@Kayaman you can suppress a warning of a kind on a single line, but allow it to appear elsewhere on other sources you have? I know only how to disable a warning of sme kind entierely. In my mind, if I suppress the warning &quot;_NullPointerException could be thrown_&quot;, _Sonarlint_ won&#39;t attempt to do that detection elsewhere in my sources.","body":"@Kayaman you can suppress a warning of a kind on a single line, but allow it to appear elsewhere on other sources you have? I know only how to disable a warning of sme kind entierely. In my mind, if I suppress the warning &quot;<i>NullPointerException could be thrown</i>&quot;, <i>Sonarlint</i> won&#39;t attempt to do that detection elsewhere in my sources."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693558110,"post_id":77020404,"comment_id":135779877,"body_markdown":"[Of course](https://stackoverflow.com/q/47369526/2541560). It would be pretty useless if you couldn&#39;t suppress single warnings.","body":"<a href=\"https://stackoverflow.com/q/47369526/2541560\">Of course</a>. It would be pretty useless if you couldn&#39;t suppress single warnings."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693571095,"post_id":77020404,"comment_id":135782225,"body_markdown":"Thanks! It can be a solution, if everything else fails.","body":"Thanks! It can be a solution, if everything else fails."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693624812,"post_id":77020404,"comment_id":135789006,"body_markdown":"@experimentunit1998X I experienced it: it works and I&#39;ve wrote it for a workaround answer.","body":"@experimentunit1998X I experienced it: it works and I&#39;ve wrote it for a workaround answer."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693626757,"creation_date":1693624743,"answer_id":77026835,"question_id":77020404,"body_markdown":"The answer @oferskulsky gave can be applied the way @experimentunit1998X suggested, and it solves the warning. Great!\r\n\r\n```java\r\nResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\r\nGetWorkspaceResponse response = (wsr != null) ? wsr.getBody() : null;\r\n\r\nif (response == null) {\r\n   throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoy&#233; une r&#233;ponse nulle&quot;);\r\n}\r\n\r\nreturn response.getWorkspace();\r\n```","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>The answer @oferskulsky gave can be applied the way @experimentunit1998X suggested, and it solves the warning. Great!</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\nGetWorkspaceResponse response = (wsr != null) ? wsr.getBody() : null;\n\nif (response == null) {\n   throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoyé une réponse nulle&quot;);\n}\n\nreturn response.getWorkspace();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1693626571,"post_id":77026886,"comment_id":135789081,"body_markdown":"That&#39;s clever! Yes, it&#39;s really understandable and wise. Thanks!","body":"That&#39;s clever! Yes, it&#39;s really understandable and wise. Thanks!"}],"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693626098,"creation_date":1693626098,"answer_id":77026886,"question_id":77020404,"body_markdown":"You assume that war.getBody() is consistent and always returns the same value.\r\nSonar looks at the code and sees that you are recalculating or refetching the value, so basically you didn’t validate the new value, so the value can be null.\r\nIf you save the value than there is no threat that the value will change.","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>You assume that war.getBody() is consistent and always returns the same value.\nSonar looks at the code and sees that you are recalculating or refetching the value, so basically you didn’t validate the new value, so the value can be null.\nIf you save the value than there is no threat that the value will change.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77026886,"answer_count":2,"score":2,"last_activity_date":1693626757,"creation_date":1693540227,"question_id":77020404,"body_markdown":"I&#39;ve wrote this code that is working properly, but _Sonarlint_ warns me against a `wsr.getBody().getWorkspace()` that could lead to a `NullPointerException` on `wsr.getBody()`, who could yield null, it says.\r\n\r\n```java\r\npublic WorkspaceSummary getWorkspace(String workspaceName) {\r\n   try {\r\n      ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\r\n\r\n      if (wsr == null || wsr.getBody() == null) {\r\n         throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoy&#233; une r&#233;ponse nulle&quot;);\r\n      }\r\n\r\n      return wsr.getBody().getWorkspace();\r\n   }\r\n   catch(HttpClientErrorException e) {\r\n      [...]\r\n   }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I believe not. In my mind, I did what was necessary to prevent it.\r\n\r\nSometimes obvious things that are in front of us we don&#39;t see them, this is why I am asking you if I missed something.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIhzD.png","title":"Sonarlint warns me against a possible NullPointerException, but in my mind, I did what was necessary to prevent it?","body":"<p>I've wrote this code that is working properly, but <em>Sonarlint</em> warns me against a <code>wsr.getBody().getWorkspace()</code> that could lead to a <code>NullPointerException</code> on <code>wsr.getBody()</code>, who could yield null, it says.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public WorkspaceSummary getWorkspace(String workspaceName) {\n   try {\n      ResponseEntity&lt;GetWorkspaceResponse&gt; wsr = this.workspacesApi.getWorkspaceWithHttpInfo(workspaceName, this.quiet);\n\n      if (wsr == null || wsr.getBody() == null) {\n         throw new RuntimeException(&quot;getWorkspaceWithHttpInfo a renvoyé une réponse nulle&quot;);\n      }\n\n      return wsr.getBody().getWorkspace();\n   }\n   catch(HttpClientErrorException e) {\n      [...]\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fIhzD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIhzD.png\" alt=\"enter image description here\" /></a></p>\n<p>But I believe not. In my mind, I did what was necessary to prevent it.</p>\n<p>Sometimes obvious things that are in front of us we don't see them, this is why I am asking you if I missed something.</p>\n"},{"tags":["java","eclipse","unit-testing","junit","eclemma"],"answers":[{"comments":[{"owner":{"account_id":237546,"reputation":20563,"user_id":505810,"accept_rate":95,"display_name":"Pacane"},"score":4,"creation_date":1349509370,"post_id":12757810,"comment_id":17238114,"body_markdown":"What are more interesting things EclEmma can tell me?","body":"What are more interesting things EclEmma can tell me?"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1349509607,"post_id":12757810,"comment_id":17238154,"body_markdown":"I was referring to the code coverage metrics for your production code, rather than your test code. Or did I misunderstand your original question?","body":"I was referring to the code coverage metrics for your production code, rather than your test code. Or did I misunderstand your original question?"},{"owner":{"account_id":237546,"reputation":20563,"user_id":505810,"accept_rate":95,"display_name":"Pacane"},"score":0,"creation_date":1349509893,"post_id":12757810,"comment_id":17238226,"body_markdown":"Oh, my bad, I misunderstood your statement in your answer.","body":"Oh, my bad, I misunderstood your statement in your answer."},{"owner":{"account_id":446686,"reputation":8855,"user_id":839873,"accept_rate":94,"display_name":"Diego Faria"},"score":0,"creation_date":1391097598,"post_id":12757810,"comment_id":32387229,"body_markdown":"Your tests does have to be covered, just exception cases are not covered by eclemma.","body":"Your tests does have to be covered, just exception cases are not covered by eclemma."}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1349509187,"creation_date":1349509187,"answer_id":12757810,"question_id":12757559,"body_markdown":"No, there is no way to get EclEmma to notice the `expected` clause. They acknowledge this fact [here](http://www.eclemma.org/faq.html#trouble05).\n\n&gt; **Why are JUnit4 test cases with expected exceptions shown as not covered?**\n&gt;\n &gt;JUnit4 test cases with expected exceptions are shown as not covered even though they were executed. The reason for this is that underlying JaCoCo code coverage library only considers code as executed when certain probes are executed. For successful test cases marked with `@Test{expected=...}` this is not the case.\n\nPersonally, I wouldn&#39;t worry too much about it. Coverage of test cases is the least interesting thing EclEmma can tell you; I always completely ignore those metrics and focus on the coverage of my production code.","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>No, there is no way to get EclEmma to notice the <code>expected</code> clause. They acknowledge this fact <a href=\"http://www.eclemma.org/faq.html#trouble05\" rel=\"noreferrer\">here</a>.</p>\n<blockquote>\n<p><strong>Why are JUnit4 test cases with expected exceptions shown as not covered?</strong></p>\n<p>JUnit4 test cases with expected exceptions are shown as not covered even though they were executed. The reason for this is that underlying JaCoCo code coverage library only considers code as executed when certain probes are executed. For successful test cases marked with <code>@Test{expected=...}</code> this is not the case.</p>\n</blockquote>\n<p>Personally, I wouldn't worry too much about it. Coverage of test cases is the least interesting thing EclEmma can tell you; I always completely ignore those metrics and focus on the coverage of my production code.</p>\n"},{"tags":[],"owner":{"account_id":3141560,"reputation":785,"user_id":2656928,"display_name":"Andy Lowry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1693626433,"creation_date":1422625821,"answer_id":28237326,"question_id":12757559,"body_markdown":"Can&#39;t comment yet, but I wanted to point out, in relation to the accepted answer, that there&#39;s a very good reason to pay attention to coverage of your test code. \r\n\r\nIt&#39;s just way too easy with _JUnit_ to screw up the test method naming convention or forget the @Test annotation (depending on your _JUnit_ version). Do that, and you could easily be fooled into thinking that your solid green bar means that the nice test you just added passed, when in fact it never ran. Coverage coloring will show this very prominently. Except of course, as this thread points out, some of your tests that throw exceptions might look like they didn&#39;t run when they did.","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>Can't comment yet, but I wanted to point out, in relation to the accepted answer, that there's a very good reason to pay attention to coverage of your test code.</p>\n<p>It's just way too easy with <em>JUnit</em> to screw up the test method naming convention or forget the @Test annotation (depending on your <em>JUnit</em> version). Do that, and you could easily be fooled into thinking that your solid green bar means that the nice test you just added passed, when in fact it never ran. Coverage coloring will show this very prominently. Except of course, as this thread points out, some of your tests that throw exceptions might look like they didn't run when they did.</p>\n"}],"owner":{"account_id":237546,"reputation":20563,"user_id":505810,"accept_rate":95,"display_name":"Pacane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10081,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":12757810,"answer_count":2,"score":19,"last_activity_date":1693626433,"creation_date":1349506902,"question_id":12757559,"body_markdown":"I&#39;m trying to get my code coverage in java, using Eclipse and EclEmma.\r\n\r\nMy tests are using JUnit 4 and I&#39;ve got some tests looking like this :\r\n\r\n    \t@Test(expected = IllegalArgumentException.class)\r\n\t    public void createTime_withInvalidMinuteUnder0_throws(){\r\n\t\t//Arrange\r\n\t\t...\r\n\t\t//Act\r\n\t\tSomething triggering IllegalArgumentException Here       \r\n\t}\r\n\r\nAnd EclEmma says that the test fails because there&#39;s an IllegalArgumentException being thrown. So it drops my code coverage indicator even though it&#39;s supposed to throw something. Is there an option to make it see that JUnit expected exception tag ?\r\n\r\nedit: I&#39;ve found out that if you add the throw to the declaration of the test aswell, it works!","title":"Code coverage in Java with EclEmma not scanning expecting exception methods","body":"<p>I'm trying to get my code coverage in java, using Eclipse and EclEmma.</p>\n\n<p>My tests are using JUnit 4 and I've got some tests looking like this :</p>\n\n<pre><code>    @Test(expected = IllegalArgumentException.class)\n    public void createTime_withInvalidMinuteUnder0_throws(){\n    //Arrange\n    ...\n    //Act\n    Something triggering IllegalArgumentException Here       \n}\n</code></pre>\n\n<p>And EclEmma says that the test fails because there's an IllegalArgumentException being thrown. So it drops my code coverage indicator even though it's supposed to throw something. Is there an option to make it see that JUnit expected exception tag ?</p>\n\n<p>edit: I've found out that if you add the throw to the declaration of the test aswell, it works!</p>\n"},{"tags":["java","pointers","winapi","jna"],"answers":[{"comments":[{"owner":{"account_id":16435004,"reputation":3421,"user_id":11872808,"display_name":"Jeaninez - MSFT"},"score":0,"creation_date":1693980124,"post_id":77026823,"comment_id":135829260,"body_markdown":"I&#39;m glad you have got your solution and thank for your sharing, I would appreciate it if you mark them as answer and this will be beneficial to other community.","body":"I&#39;m glad you have got your solution and thank for your sharing, I would appreciate it if you mark them as answer and this will be beneficial to other community."}],"tags":[],"owner":{"account_id":29348785,"reputation":1,"user_id":22486437,"display_name":"Spicey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693624232,"creation_date":1693624232,"answer_id":77026823,"question_id":77026751,"body_markdown":"Nvm I solved it. There are a few problems with the above code but the main one is that the table ids are all off because I forgot to take into account that the IMMDeviceEnumerator interface inherits 3 methods from the IUnknown interface, so you have to add 3 to each table id argument.","title":"Invoking IMMDeviceEnumerator method with JNA returns S_FALSE and empty(?) pointer","body":"<p>Nvm I solved it. There are a few problems with the above code but the main one is that the table ids are all off because I forgot to take into account that the IMMDeviceEnumerator interface inherits 3 methods from the IUnknown interface, so you have to add 3 to each table id argument.</p>\n"}],"owner":{"account_id":29348785,"reputation":1,"user_id":22486437,"display_name":"Spicey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77026823,"answer_count":1,"score":0,"last_activity_date":1693624232,"creation_date":1693621717,"question_id":77026751,"body_markdown":"I don&#39;t really know how to phrase this question (sorry). But basically (using JNA and Windows API) i&#39;m trying to get an instance(?) of the mmDevice interface by calling GetDefaultAudioEndpoint on my MMDeviceEnumerator instance(?). The problem is that the call to GetDefaultAudioEndpoint returns what I think is an empty pointer `null@0x2bd70eebeb0`. Which I think causes later calls to it to produce this error during runtime:\r\n```\r\nCalling MMDeviceEnumerator.create()\r\nresponse: 0\r\nGot MMDeviceEnumerator\r\nPointer: native@0x2bd70f68590\r\nPointer.getPointer(): native@0x2bd70f68590\r\n\r\nCalling mmEnumerator.GetDefaultAudioEndpoint(args)\r\nresponse: 1\r\nGot mmDevice\r\nPointer: null@0x2bd70eebeb0\r\nPointer.getValue(): null\r\nPointer.getPointer(): allocated@0x2bd70eebeb0 (8 bytes)\r\nnull\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.jna.Pointer.getPointer(long)&quot; because &quot;vptr&quot; is null\r\n        at com.sun.jna.platform.win32.COM.COMInvoker._invokeNativeObject(COMInvoker.java:46)\r\n        at spicey.IAudioEndpointVolume.Activate(App.java:76)\r\n        at spicey.App.main(App.java:58)\r\n```\r\n\r\nThe call to GetDefaultAudioEndpoint also returns an HRESULT of S_FALSE or 1, if that is any help.\r\nAnyways, here is the program in its entirety. I&#39;ll also be happy to provide any extra info. Thanks in advance!\r\n\r\n```\r\npublic final class App extends Unknown {\r\n\r\n    public static final CLSID CLSID_IMMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n    public static final GUID IID_IAudioEndpointVolume = new GUID(&quot;5CDF2C82-841E-4546-9722-0CF74078229A&quot;);\r\n    public static final GUID IID_IAudioStreamVolume = new GUID(&quot;93014887-242D-4068-8A15-CF5E93B90FE3&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        Ole32.INSTANCE.CoInitializeEx(null, 0); // 0 is multi threaded\r\n        System.out.println(&quot;Calling MMDeviceEnumerator.create()&quot;);\r\n        MMDeviceEnumerator mmEnumerator = MMDeviceEnumerator.create();\r\n        System.out.println(&quot;Got MMDeviceEnumerator&quot;);\r\n        System.out.println(&quot;Pointer: &quot; + mmEnumerator.getPointer());\r\n        System.out.println(&quot;Pointer.getPointer(): &quot; + mmEnumerator.getPointer());\r\n        System.out.println();\r\n\r\n        PointerByReference ppEndpoint = new PointerByReference();\r\n        System.out.println(&quot;Calling mmEnumerator.GetDefaultAudioEndpoint(args)&quot;);\r\n        mmEnumerator.GetDefaultAudioEndpoint(0, 0, ppEndpoint);\r\n\r\n        System.out.println(&quot;Got mmDevice&quot;);\r\n        System.out.println(&quot;Pointer: &quot; + ppEndpoint);\r\n        System.out.println(&quot;Pointer.getValue(): &quot; + ppEndpoint.getValue());\r\n        System.out.println(&quot;Pointer.getPointer(): &quot; + ppEndpoint.getPointer());\r\n        System.out.println();\r\n\r\n        IAudioEndpointVolume iEndpoint = IAudioEndpointVolume.create(ppEndpoint.getPointer());\r\n        PointerByReference ppInterface = new PointerByReference();\r\n        iEndpoint.Activate(IID_IAudioEndpointVolume, WTypes.CLSCTX_ALL, ppInterface.getPointer());\r\n\r\n    }\r\n\r\n}\r\n\r\nclass IAudioEndpointVolume extends Unknown {\r\n\r\n    public IAudioEndpointVolume(Pointer p) {\r\n        super(p);\r\n\r\n    }\r\n\r\n    public static IAudioEndpointVolume create(Pointer p) {\r\n        return new IAudioEndpointVolume(p);\r\n    }\r\n\r\n    public void Activate(GUID iid, int dwClsCtx, Pointer ppInterface) {\r\n        HRESULT res = (HRESULT) _invokeNativeObject(1, new Object[] { getPointer(), iid, dwClsCtx, null, ppInterface },\r\n                HRESULT.class);\r\n        COMUtils.checkRC(res);\r\n\r\n    }\r\n\r\n}\r\n\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public static interface Ole32 extends Library {\r\n        Ole32 INSTANCE = (Ole32) Native.load(&quot;Ole32&quot;,\r\n                Ole32.class);\r\n\r\n        HRESULT CoCreateInstance(GUID rclsid, Pointer pUnkOuter, int dwClsContext, GUID riid, PointerByReference ppv);\r\n\r\n    }\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n                CLSID_MMDeviceEnumerator, null,\r\n                WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n                pEnumerator);\r\n        System.out.println(&quot;response: &quot; + hres);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    // functionz\r\n    public void GetDefaultAudioEndpoint(int dataFlow, int role, PointerByReference ppEndpoint) {\r\n        HRESULT res = (HRESULT) _invokeNativeObject(2,\r\n                new Object[] { getPointer(), dataFlow, role, ppEndpoint }, HRESULT.class);\r\n\r\n        COMUtils.checkRC(res);\r\n        System.out.println(&quot;response: &quot; + res);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also tried looking directly at the COMInvoker class with no luck\r\n\r\n```\r\npublic abstract class COMInvoker extends PointerType {\r\n\r\n    protected int _invokeNativeInt(int vtableId, Object[] args) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        return func.invokeInt(args);\r\n    }\r\n\r\n    protected Object _invokeNativeObject(int vtableId, Object[] args, Class&lt;?&gt; returnType) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        return func.invoke(returnType, args);\r\n    }\r\n\r\n    protected void _invokeNativeVoid(int vtableId, Object[] args) {\r\n        Pointer vptr = this.getPointer().getPointer(0);\r\n        // we take the vtable id and multiply with the pointer size (4 bytes on\r\n        // 32bit OS)\r\n        Function func = Function.getFunction(vptr.getPointer(vtableId\r\n                * Native.POINTER_SIZE));\r\n        func.invokeVoid(args);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Invoking IMMDeviceEnumerator method with JNA returns S_FALSE and empty(?) pointer","body":"<p>I don't really know how to phrase this question (sorry). But basically (using JNA and Windows API) i'm trying to get an instance(?) of the mmDevice interface by calling GetDefaultAudioEndpoint on my MMDeviceEnumerator instance(?). The problem is that the call to GetDefaultAudioEndpoint returns what I think is an empty pointer <code>null@0x2bd70eebeb0</code>. Which I think causes later calls to it to produce this error during runtime:</p>\n<pre><code>Calling MMDeviceEnumerator.create()\nresponse: 0\nGot MMDeviceEnumerator\nPointer: native@0x2bd70f68590\nPointer.getPointer(): native@0x2bd70f68590\n\nCalling mmEnumerator.GetDefaultAudioEndpoint(args)\nresponse: 1\nGot mmDevice\nPointer: null@0x2bd70eebeb0\nPointer.getValue(): null\nPointer.getPointer(): allocated@0x2bd70eebeb0 (8 bytes)\nnull\n\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.jna.Pointer.getPointer(long)&quot; because &quot;vptr&quot; is null\n        at com.sun.jna.platform.win32.COM.COMInvoker._invokeNativeObject(COMInvoker.java:46)\n        at spicey.IAudioEndpointVolume.Activate(App.java:76)\n        at spicey.App.main(App.java:58)\n</code></pre>\n<p>The call to GetDefaultAudioEndpoint also returns an HRESULT of S_FALSE or 1, if that is any help.\nAnyways, here is the program in its entirety. I'll also be happy to provide any extra info. Thanks in advance!</p>\n<pre><code>public final class App extends Unknown {\n\n    public static final CLSID CLSID_IMMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n    public static final GUID IID_IAudioEndpointVolume = new GUID(&quot;5CDF2C82-841E-4546-9722-0CF74078229A&quot;);\n    public static final GUID IID_IAudioStreamVolume = new GUID(&quot;93014887-242D-4068-8A15-CF5E93B90FE3&quot;);\n\n    public static void main(String[] args) {\n        Ole32.INSTANCE.CoInitializeEx(null, 0); // 0 is multi threaded\n        System.out.println(&quot;Calling MMDeviceEnumerator.create()&quot;);\n        MMDeviceEnumerator mmEnumerator = MMDeviceEnumerator.create();\n        System.out.println(&quot;Got MMDeviceEnumerator&quot;);\n        System.out.println(&quot;Pointer: &quot; + mmEnumerator.getPointer());\n        System.out.println(&quot;Pointer.getPointer(): &quot; + mmEnumerator.getPointer());\n        System.out.println();\n\n        PointerByReference ppEndpoint = new PointerByReference();\n        System.out.println(&quot;Calling mmEnumerator.GetDefaultAudioEndpoint(args)&quot;);\n        mmEnumerator.GetDefaultAudioEndpoint(0, 0, ppEndpoint);\n\n        System.out.println(&quot;Got mmDevice&quot;);\n        System.out.println(&quot;Pointer: &quot; + ppEndpoint);\n        System.out.println(&quot;Pointer.getValue(): &quot; + ppEndpoint.getValue());\n        System.out.println(&quot;Pointer.getPointer(): &quot; + ppEndpoint.getPointer());\n        System.out.println();\n\n        IAudioEndpointVolume iEndpoint = IAudioEndpointVolume.create(ppEndpoint.getPointer());\n        PointerByReference ppInterface = new PointerByReference();\n        iEndpoint.Activate(IID_IAudioEndpointVolume, WTypes.CLSCTX_ALL, ppInterface.getPointer());\n\n    }\n\n}\n\nclass IAudioEndpointVolume extends Unknown {\n\n    public IAudioEndpointVolume(Pointer p) {\n        super(p);\n\n    }\n\n    public static IAudioEndpointVolume create(Pointer p) {\n        return new IAudioEndpointVolume(p);\n    }\n\n    public void Activate(GUID iid, int dwClsCtx, Pointer ppInterface) {\n        HRESULT res = (HRESULT) _invokeNativeObject(1, new Object[] { getPointer(), iid, dwClsCtx, null, ppInterface },\n                HRESULT.class);\n        COMUtils.checkRC(res);\n\n    }\n\n}\n\nclass MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public static interface Ole32 extends Library {\n        Ole32 INSTANCE = (Ole32) Native.load(&quot;Ole32&quot;,\n                Ole32.class);\n\n        HRESULT CoCreateInstance(GUID rclsid, Pointer pUnkOuter, int dwClsContext, GUID riid, PointerByReference ppv);\n\n    }\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n                CLSID_MMDeviceEnumerator, null,\n                WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\n                pEnumerator);\n        System.out.println(&quot;response: &quot; + hres);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    // functionz\n    public void GetDefaultAudioEndpoint(int dataFlow, int role, PointerByReference ppEndpoint) {\n        HRESULT res = (HRESULT) _invokeNativeObject(2,\n                new Object[] { getPointer(), dataFlow, role, ppEndpoint }, HRESULT.class);\n\n        COMUtils.checkRC(res);\n        System.out.println(&quot;response: &quot; + res);\n\n    }\n}\n\n</code></pre>\n<p>I also tried looking directly at the COMInvoker class with no luck</p>\n<pre><code>public abstract class COMInvoker extends PointerType {\n\n    protected int _invokeNativeInt(int vtableId, Object[] args) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        return func.invokeInt(args);\n    }\n\n    protected Object _invokeNativeObject(int vtableId, Object[] args, Class&lt;?&gt; returnType) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        return func.invoke(returnType, args);\n    }\n\n    protected void _invokeNativeVoid(int vtableId, Object[] args) {\n        Pointer vptr = this.getPointer().getPointer(0);\n        // we take the vtable id and multiply with the pointer size (4 bytes on\n        // 32bit OS)\n        Function func = Function.getFunction(vptr.getPointer(vtableId\n                * Native.POINTER_SIZE));\n        func.invokeVoid(args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","collections"],"comments":[{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":0,"creation_date":1291208921,"post_id":4324633,"comment_id":4698645,"body_markdown":"Thats the way to convert an array to List. Just remember that the list is immutable. Try outputting the content of the list, and you will see that it contains the 1 and 2 value","body":"Thats the way to convert an array to List. Just remember that the list is immutable. Try outputting the content of the list, and you will see that it contains the 1 and 2 value"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1291209116,"post_id":4324633,"comment_id":4698682,"body_markdown":"@Shervin: try it yourself and you&#39;ll see that it doesn&#39;t.","body":"@Shervin: try it yourself and you&#39;ll see that it doesn&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291210603,"post_id":4324644,"comment_id":4698921,"body_markdown":"That&#39;s very old-school code. See dogbane&#39;s answer for the more modern version of this","body":"That&#39;s very old-school code. See dogbane&#39;s answer for the more modern version of this"}],"tags":[],"owner":{"account_id":242236,"reputation":2131,"user_id":513618,"accept_rate":44,"display_name":"Jinesh Parekh"},"comment_count":1,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1291208763,"creation_date":1291208763,"answer_id":4324644,"question_id":4324633,"body_markdown":"I dont think there is a method call you could use. Try it like this\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n      for (int index = 0; index &lt; array.length; index++)\r\n      {\r\n        list.add(array[index]);\r\n      }\r\n","title":"How to convert an int[] array to a List?","body":"<p>I dont think there is a method call you could use. Try it like this</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n  for (int index = 0; index &lt; array.length; index++)\n  {\n    list.add(array[index]);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1291208824,"creation_date":1291208824,"answer_id":4324650,"question_id":4324633,"body_markdown":"The `Arrays.asList(array)` will result in a singleton list of an `int[]`.\r\n\r\nIt works as you expect if you change `int[]` to `Integer[]`. Don&#39;t know if that helps you though.","title":"How to convert an int[] array to a List?","body":"<p>The <code>Arrays.asList(array)</code> will result in a singleton list of an <code>int[]</code>.</p>\n\n<p>It works as you expect if you change <code>int[]</code> to <code>Integer[]</code>. Don't know if that helps you though.</p>\n"},{"comments":[{"owner":{"account_id":1298,"reputation":24609,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"score":1,"creation_date":1291209084,"post_id":4324652,"comment_id":4698676,"body_markdown":"May be we can add that ArrayUtils is a part of apache commons: http://commons.apache.org/","body":"May be we can add that ArrayUtils is a part of apache commons: <a href=\"http://commons.apache.org/\" rel=\"nofollow noreferrer\">commons.apache.org</a>"},{"owner":{"account_id":1298,"reputation":24609,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"score":5,"creation_date":1291209540,"post_id":4324652,"comment_id":4698742,"body_markdown":"Excuse me, i&#39;m time-travel-blind.","body":"Excuse me, i&#39;m time-travel-blind."},{"owner":{"account_id":3458,"reputation":2126,"user_id":4992,"display_name":"Claes Mogren"},"score":0,"creation_date":1304409383,"post_id":4324652,"comment_id":6744050,"body_markdown":"Now it is: Arrays.asList(ArrayUtils.toObject(array));","body":"Now it is: Arrays.asList(ArrayUtils.toObject(array));"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1291209220,"creation_date":1291208866,"answer_id":4324652,"question_id":4324633,"body_markdown":"    Arrays.asList(ArrayUtils.toObjectArray(array))\r\n\r\n(`ArrayUtils` is from [commons-lang][1]) \r\n\r\nBut if you want to just call `contains` there is no need of that. Simply use `Arrays.binarySearch(..)` (sort the array first)\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/","title":"How to convert an int[] array to a List?","body":"<pre><code>Arrays.asList(ArrayUtils.toObjectArray(array))\n</code></pre>\n\n<p>(<code>ArrayUtils</code> is from <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">commons-lang</a>) </p>\n\n<p>But if you want to just call <code>contains</code> there is no need of that. Simply use <code>Arrays.binarySearch(..)</code> (sort the array first)</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291208900,"creation_date":1291208900,"answer_id":4324655,"question_id":4324633,"body_markdown":"This\r\n\r\n    System.out.println(Arrays.asList(array).contains(array));\r\n\r\nreturns `true`.","title":"How to convert an int[] array to a List?","body":"<p>This</p>\n\n<pre><code>System.out.println(Arrays.asList(array).contains(array));\n</code></pre>\n\n<p>returns <code>true</code>.</p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1291209254,"post_id":4324662,"comment_id":4698695,"body_markdown":"`Integer[]` is an object too though.","body":"<code>Integer[]</code> is an object too though."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291209343,"post_id":4324662,"comment_id":4698709,"body_markdown":"I know, but it&#39;s also an `Object[]`, which is a better match","body":"I know, but it&#39;s also an <code>Object[]</code>, which is a better match"},{"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"score":0,"creation_date":1313164207,"post_id":4324662,"comment_id":8416759,"body_markdown":"ouch, that pricks with a sweet pain","body":"ouch, that pricks with a sweet pain"},{"owner":{"account_id":336805,"reputation":1427,"user_id":664676,"accept_rate":64,"display_name":"Lucas Hoepner"},"score":0,"creation_date":1351681119,"post_id":4324662,"comment_id":17898627,"body_markdown":"int[] cannot be cast to Object[] (see [this question](http://stackoverflow.com/questions/13154769/why-can-you-cast-int-to-object-but-not-to-object)) but is cast to Object instead.","body":"int[] cannot be cast to Object[] (see <a href=\"http://stackoverflow.com/questions/13154769/why-can-you-cast-int-to-object-but-not-to-object\">this question</a>) but is cast to Object instead."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":4,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1291284740,"creation_date":1291208926,"answer_id":4324662,"question_id":4324633,"body_markdown":"The method [`Arrays.asList(T ...)`][2] is, when generics are erased and varargs are transformed, actually equal to a method of type `Arrays.ofList(Object[])` (which is the, binary equivalent, JDK 1.4 version of the same Method).\r\n\r\nAn array of primitives is an `Object` (see also [this question][1]), but not an `Object[]`, so the compiler thinks you are using the varargs version and generates an Object array around your int array. You could illustrate what&#39;s happening by adding an extra step:\r\n\r\n    int[] array = {1, 2};\r\n    List&lt;int[]&gt; listOfArrays = Arrays.asList(array);\r\n    System.out.println(listOfArrays.contains(1));\r\n\r\nThis compiles and is equivalent to your code. It also obviously returns false.\r\n\r\nThe compiler translates varargs calls into calls with a single array, so calling a varargs  method that expects parameters `T ...` with parameters `T t1, T t2, T t3` is equivalent to calling it with `new T[]{t1, t2, t3}` but the special case here is that varargs with primitives will be autoboxed before the array is created if the method needs an object array. So the compiler thinks the int array is passed in as a single Object and creates a single element array of type `Object[]`, which it passes to `asList()`.\r\n\r\nSo here&#39;s the above code once again, the way the compiler implements it internally:\r\n\r\n    int[] array = {1, 2};\r\n    // no generics because of type erasure\r\n    List listOfArrays = Arrays.asList(new Object[]{array});\r\n    System.out.println(listOfArrays.contains(1));\r\n\r\nHere are some good and bad ways to call `Arrays.asList()` with int values:\r\n\r\n    // These versions use autoboxing (which is potentially evil),\r\n    // but they are simple and readable\r\n\r\n    // ints are boxed to Integers, then wrapped in an Object[]\r\n    List&lt;Integer&gt; good1 = Arrays.asList(1,2,3);\r\n    // here we create an Integer[] array, and fill it with boxed ints\r\n    List&lt;Integer&gt; good2 = Arrays.asList(new Integer[]{1,2,3});\r\n\r\n    // These versions don&#39;t use autoboxing,\r\n    // but they are very verbose and not at all readable:\r\n\r\n    // this is awful, don&#39;t use Integer constructors\r\n    List&lt;Integer&gt; ugly1 = Arrays.asList(\r\n        new Integer(1),new Integer(2),new Integer(3)\r\n    );\r\n    // this is slightly better (it uses the cached pool of Integers),\r\n    // but it&#39;s still much too verbose\r\n    List&lt;Integer&gt; ugly2 = Arrays.asList(\r\n        Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3)\r\n    );\r\n    \r\n    // And these versions produce compile errors:\r\n    // compile error, type is List&lt;int[]&gt;\r\n    List&lt;Integer&gt; bad1 = Arrays.asList(new int[]{1,2,3});\r\n    // compile error, type is List&lt;Object&gt;\r\n    List&lt;Integer&gt; bad2 = Arrays.asList(new Object[]{1,2,3});\r\n\r\n\r\n\r\n**Reference:**\r\n\r\n - [Java Tutorial][3] &gt; [Classes and Objects][4] &gt; [Passing Information to a Method or a Constructor][5]  &gt; [Varargs][6]\r\n - [`Arrays.asList(T ...)`][2]\r\n\r\n----------\r\n\r\nBut to actually solve your problem in a simple way:\r\n\r\nThere are some library solutions in Apache Commons / Lang (see [Bozho&#39;s answer][7]) and in [Google Guava][8]:\r\n\r\n - [`Ints.contains(int[], int)`][9] checks whether an array of ints contains a given int\r\n - [`Ints.asList(int ...)`][10] creates a List of Integers from an int array\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4146928/in-java-is-a-char-an-object/4146957#4146957\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [3]: http://download.oracle.com/javase/tutorial/index.html\r\n  [4]: http://download.oracle.com/javase/tutorial/java/javaOO/index.html\r\n  [5]: http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html\r\n  [6]: http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs\r\n  [7]: https://stackoverflow.com/questions/4324633/how-to-convert-an-int-array-to-a-list/4324652#4324652\r\n  [8]: http://code.google.com/p/guava-libraries/\r\n  [9]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#contains%28int%5B%5D%2C%20int%29\r\n  [10]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29","title":"How to convert an int[] array to a List?","body":"<p>The method <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList(T ...)</code></a> is, when generics are erased and varargs are transformed, actually equal to a method of type <code>Arrays.ofList(Object[])</code> (which is the, binary equivalent, JDK 1.4 version of the same Method).</p>\n\n<p>An array of primitives is an <code>Object</code> (see also <a href=\"https://stackoverflow.com/questions/4146928/in-java-is-a-char-an-object/4146957#4146957\">this question</a>), but not an <code>Object[]</code>, so the compiler thinks you are using the varargs version and generates an Object array around your int array. You could illustrate what's happening by adding an extra step:</p>\n\n<pre><code>int[] array = {1, 2};\nList&lt;int[]&gt; listOfArrays = Arrays.asList(array);\nSystem.out.println(listOfArrays.contains(1));\n</code></pre>\n\n<p>This compiles and is equivalent to your code. It also obviously returns false.</p>\n\n<p>The compiler translates varargs calls into calls with a single array, so calling a varargs  method that expects parameters <code>T ...</code> with parameters <code>T t1, T t2, T t3</code> is equivalent to calling it with <code>new T[]{t1, t2, t3}</code> but the special case here is that varargs with primitives will be autoboxed before the array is created if the method needs an object array. So the compiler thinks the int array is passed in as a single Object and creates a single element array of type <code>Object[]</code>, which it passes to <code>asList()</code>.</p>\n\n<p>So here's the above code once again, the way the compiler implements it internally:</p>\n\n<pre><code>int[] array = {1, 2};\n// no generics because of type erasure\nList listOfArrays = Arrays.asList(new Object[]{array});\nSystem.out.println(listOfArrays.contains(1));\n</code></pre>\n\n<p>Here are some good and bad ways to call <code>Arrays.asList()</code> with int values:</p>\n\n<pre><code>// These versions use autoboxing (which is potentially evil),\n// but they are simple and readable\n\n// ints are boxed to Integers, then wrapped in an Object[]\nList&lt;Integer&gt; good1 = Arrays.asList(1,2,3);\n// here we create an Integer[] array, and fill it with boxed ints\nList&lt;Integer&gt; good2 = Arrays.asList(new Integer[]{1,2,3});\n\n// These versions don't use autoboxing,\n// but they are very verbose and not at all readable:\n\n// this is awful, don't use Integer constructors\nList&lt;Integer&gt; ugly1 = Arrays.asList(\n    new Integer(1),new Integer(2),new Integer(3)\n);\n// this is slightly better (it uses the cached pool of Integers),\n// but it's still much too verbose\nList&lt;Integer&gt; ugly2 = Arrays.asList(\n    Integer.valueOf(1), Integer.valueOf(2), Integer.valueOf(3)\n);\n\n// And these versions produce compile errors:\n// compile error, type is List&lt;int[]&gt;\nList&lt;Integer&gt; bad1 = Arrays.asList(new int[]{1,2,3});\n// compile error, type is List&lt;Object&gt;\nList&lt;Integer&gt; bad2 = Arrays.asList(new Object[]{1,2,3});\n</code></pre>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorial</a> > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">Classes and Objects</a> > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>  > <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/arguments.html#varargs\" rel=\"nofollow noreferrer\">Varargs</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList(T ...)</code></a></li>\n</ul>\n\n<hr>\n\n<p>But to actually solve your problem in a simple way:</p>\n\n<p>There are some library solutions in Apache Commons / Lang (see <a href=\"https://stackoverflow.com/questions/4324633/how-to-convert-an-int-array-to-a-list/4324652#4324652\">Bozho's answer</a>) and in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>:</p>\n\n<ul>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#contains%28int%5B%5D%2C%20int%29\" rel=\"nofollow noreferrer\"><code>Ints.contains(int[], int)</code></a> checks whether an array of ints contains a given int</li>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/primitives/Ints.html#asList%28int...%29\" rel=\"nofollow noreferrer\"><code>Ints.asList(int ...)</code></a> creates a List of Integers from an int array</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291208974,"creation_date":1291208974,"answer_id":4324672,"question_id":4324633,"body_markdown":"When you call\r\n\r\n    Arrays.asList(array)\r\n\r\non your array of primitives, you get a List instance containing one object: an array of int values!  You have to first convert the array of primitives into an array of objects, as @Bozho suggests in his answer.","title":"How to convert an int[] array to a List?","body":"<p>When you call</p>\n\n<pre><code>Arrays.asList(array)\n</code></pre>\n\n<p>on your array of primitives, you get a List instance containing one object: an array of int values!  You have to first convert the array of primitives into an array of objects, as @Bozho suggests in his answer.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291209254,"creation_date":1291209254,"answer_id":4324696,"question_id":4324633,"body_markdown":"It seems like your understanding of `Arrays.asList(T... a)` is wrong. You wouldn&#39;t be the first person to make an assumption as to how it works.\r\n\r\nTry it with\r\n\r\n    System.out.println(Arrays.asList(1, 2).contains(1));\r\n","title":"How to convert an int[] array to a List?","body":"<p>It seems like your understanding of <code>Arrays.asList(T... a)</code> is wrong. You wouldn't be the first person to make an assumption as to how it works.</p>\n\n<p>Try it with</p>\n\n<pre><code>System.out.println(Arrays.asList(1, 2).contains(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291209402,"creation_date":1291209402,"answer_id":4324715,"question_id":4324633,"body_markdown":"Autoboxing just doesn&#39;t work the way you want it to in this case. The following code may be a bit verbose, but does the job of converting an int array to a list:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(array.length);\r\n    for (int value : array) {\r\n        list.add(value);\r\n    }\r\n","title":"How to convert an int[] array to a List?","body":"<p>Autoboxing just doesn't work the way you want it to in this case. The following code may be a bit verbose, but does the job of converting an int array to a list:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(array.length);\nfor (int value : array) {\n    list.add(value);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291210519,"post_id":4324724,"comment_id":4698909,"body_markdown":"*Any method that copies array to list must iterate over array* That&#39;s not true. `Arrays.asList()` uses the supplied array to back the list, so it will only iterate when searching, just as what you are suggesting","body":"<i>Any method that copies array to list must iterate over array</i> That&#39;s not true. <code>Arrays.asList()</code> uses the supplied array to back the list, so it will only iterate when searching, just as what you are suggesting"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291209489,"creation_date":1291209489,"answer_id":4324724,"question_id":4324633,"body_markdown":"If you only want to check whether the array contains certain element just iterate over array and search for element. This will take o(n/2). All other solutions are less effective. Any method that copies array to list must iterate over array and therefore this operation only requires n atomic assignments. ","title":"How to convert an int[] array to a List?","body":"<p>If you only want to check whether the array contains certain element just iterate over array and search for element. This will take o(n/2). All other solutions are less effective. Any method that copies array to list must iterate over array and therefore this operation only requires n atomic assignments. </p>\n"},{"tags":[],"owner":{"account_id":106312,"reputation":9819,"user_id":283240,"accept_rate":83,"display_name":"HaskellElephant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291212506,"creation_date":1291212506,"answer_id":4325171,"question_id":4324633,"body_markdown":"The following code displays true:\r\n\r\n\tInteger[] array = {1, 2};\r\n\tSystem.out.println(Arrays.asList(array).contains(1));\r\n\r\n(Your version fails, since Int&#39;s not beeing objects, but Int[] is an object. Therefor you will call asList(T... a) with one element beeing a Collection&lt;Int[]&gt;, since it is not possible to have an Collection&lt;Int&gt; a.)","title":"How to convert an int[] array to a List?","body":"<p>The following code displays true:</p>\n\n<pre><code>Integer[] array = {1, 2};\nSystem.out.println(Arrays.asList(array).contains(1));\n</code></pre>\n\n<p>(Your version fails, since Int's not beeing objects, but Int[] is an object. Therefor you will call asList(T... a) with one element beeing a Collection, since it is not possible to have an Collection a.)</p>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692567822,"post_id":76941343,"comment_id":135637390,"body_markdown":"but be aware that the list returned by `Stream.toList()` is immutable.","body":"but be aware that the list returned by <code>Stream.toList()</code> is immutable."}],"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693579332,"creation_date":1692565658,"answer_id":76941343,"question_id":4324633,"body_markdown":"&gt; How to convert an int[] array to a List?\r\n\r\nDirect answer using modern Java features:\r\n```\r\nint[] array = {1, 2};\r\nList&lt;Integer&gt; list = IntStream.of(array).boxed().toList();\r\nSystem.out.println(list.contains(1)); // true\r\n```\r\nNote: `toList()` is available since Java 16.\r\n\r\nAn alternative since Java 8 would be `collect(Collectors.toList())`.","title":"How to convert an int[] array to a List?","body":"<blockquote>\n<p>How to convert an int[] array to a List?</p>\n</blockquote>\n<p>Direct answer using modern Java features:</p>\n<pre><code>int[] array = {1, 2};\nList&lt;Integer&gt; list = IntStream.of(array).boxed().toList();\nSystem.out.println(list.contains(1)); // true\n</code></pre>\n<p>Note: <code>toList()</code> is available since Java 16.</p>\n<p>An alternative since Java 8 would be <code>collect(Collectors.toList())</code>.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693623814,"creation_date":1693623814,"answer_id":77026809,"question_id":4324633,"body_markdown":"If you&#39;re open to using a third-party library, the following options are possible using [Eclipse Collections][1]. Both primitive `IntList` and boxed `List&lt;Integer&gt;` can be used to solve the problem depending on what you require. The lists can also either be mutable or immutable, again based on your requirements.\r\n\r\n    @Test\r\n    public void intArrayToList()\r\n    {\r\n        int[] array = {1, 2};\r\n    \r\n        // Creates an Eclipse Collections MutableIntList from the int[]\r\n        MutableIntList mutableIntList = IntLists.mutable.with(array);\r\n\r\n        // Creates an Eclipse Collections ImmutableIntList from the int[]\r\n        ImmutableIntList immutableIntList = IntLists.immutable.with(array);\r\n    \r\n        IntList expectedIntList = IntLists.immutable.with(1, 2);\r\n        Assertions.assertTrue(mutableIntList.contains(1));\r\n        Assertions.assertEquals(expectedIntList, mutableIntList);\r\n        Assertions.assertTrue(immutableIntList.contains(1));\r\n        Assertions.assertEquals(expectedIntList, immutableIntList);\r\n    \r\n        // Converts the MutableIntList to a MutableList&lt;Integer&gt;\r\n        // Boxes the int values as Integer objects\r\n        MutableList&lt;Integer&gt; mutableList = mutableIntList.collect(i -&gt; i);\r\n\r\n        // Converts the ImmutableIntList to an ImmutableList&lt;Integer&gt;\r\n        // Boxes the int values as Integer objects\r\n        ImmutableList&lt;Integer&gt; immutableList = immutableIntList.collect(i -&gt; i);\r\n    \r\n        List&lt;Integer&gt; expectedList = List.of(1, 2);\r\n        Assertions.assertTrue(mutableList.contains(1));\r\n        Assertions.assertEquals(expectedList, mutableList);\r\n        Assertions.assertTrue(immutableList.contains(1));\r\n        Assertions.assertEquals(expectedList, immutableList);\r\n    }\r\n\r\n`MutableIntList` and `ImmutableIntList` will hold onto a primitive `int[]` so there will be no boxing of `int` values to `Integer`. `MutableList&lt;Integer&gt;` and `ImmutableList&lt;Integer&gt;` will hold onto boxed `Integer` values.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"How to convert an int[] array to a List?","body":"<p>If you're open to using a third-party library, the following options are possible using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>. Both primitive <code>IntList</code> and boxed <code>List&lt;Integer&gt;</code> can be used to solve the problem depending on what you require. The lists can also either be mutable or immutable, again based on your requirements.</p>\n<pre><code>@Test\npublic void intArrayToList()\n{\n    int[] array = {1, 2};\n\n    // Creates an Eclipse Collections MutableIntList from the int[]\n    MutableIntList mutableIntList = IntLists.mutable.with(array);\n\n    // Creates an Eclipse Collections ImmutableIntList from the int[]\n    ImmutableIntList immutableIntList = IntLists.immutable.with(array);\n\n    IntList expectedIntList = IntLists.immutable.with(1, 2);\n    Assertions.assertTrue(mutableIntList.contains(1));\n    Assertions.assertEquals(expectedIntList, mutableIntList);\n    Assertions.assertTrue(immutableIntList.contains(1));\n    Assertions.assertEquals(expectedIntList, immutableIntList);\n\n    // Converts the MutableIntList to a MutableList&lt;Integer&gt;\n    // Boxes the int values as Integer objects\n    MutableList&lt;Integer&gt; mutableList = mutableIntList.collect(i -&gt; i);\n\n    // Converts the ImmutableIntList to an ImmutableList&lt;Integer&gt;\n    // Boxes the int values as Integer objects\n    ImmutableList&lt;Integer&gt; immutableList = immutableIntList.collect(i -&gt; i);\n\n    List&lt;Integer&gt; expectedList = List.of(1, 2);\n    Assertions.assertTrue(mutableList.contains(1));\n    Assertions.assertEquals(expectedList, mutableList);\n    Assertions.assertTrue(immutableList.contains(1));\n    Assertions.assertEquals(expectedList, immutableList);\n}\n</code></pre>\n<p><code>MutableIntList</code> and <code>ImmutableIntList</code> will hold onto a primitive <code>int[]</code> so there will be no boxing of <code>int</code> values to <code>Integer</code>. <code>MutableList&lt;Integer&gt;</code> and <code>ImmutableList&lt;Integer&gt;</code> will hold onto boxed <code>Integer</code> values.</p>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":125744,"reputation":12169,"user_id":321731,"accept_rate":80,"display_name":"tshepang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11756,"favorite_count":0,"down_vote_count":5,"up_vote_count":25,"accepted_answer_id":4324650,"answer_count":12,"score":20,"last_activity_date":1693623814,"creation_date":1291208636,"question_id":4324633,"body_markdown":"I expected this code to display `true`:\r\n\r\n    int[] array = {1, 2};\r\n    System.out.println(Arrays.asList(array).contains(1));\r\n","title":"How to convert an int[] array to a List?","body":"<p>I expected this code to display <code>true</code>:</p>\n\n<pre><code>int[] array = {1, 2};\nSystem.out.println(Arrays.asList(array).contains(1));\n</code></pre>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1693602388,"post_id":77025904,"comment_id":135787608,"body_markdown":"For a quality answer, it would help if you were to present your code as a [Complete but Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).  Each class, and each method, should have enough code so that we can copy-and-paste the classes into an IDE, and have them compile and run without adding of otherwise repairing code.","body":"For a quality answer, it would help if you were to present your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Complete but Minimal Reproducible Example</a>.  Each class, and each method, should have enough code so that we can copy-and-paste the classes into an IDE, and have them compile and run without adding of otherwise repairing code."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1693603514,"post_id":77025904,"comment_id":135787709,"body_markdown":"Consider the concept of &quot;model-view-controller&quot;, where the model provides the information to the view and the view presents it in some way.  Couple that with the &quot;observer pattern&quot; and you have a way to monitor changes to the model, so A could make changes to the model and B would monitor for those changes and then be able to update itself when it changes","body":"Consider the concept of &quot;model-view-controller&quot;, where the model provides the information to the view and the view presents it in some way.  Couple that with the &quot;observer pattern&quot; and you have a way to monitor changes to the model, so A could make changes to the model and B would monitor for those changes and then be able to update itself when it changes"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693603643,"post_id":77025904,"comment_id":135787733,"body_markdown":"`to.setBounds(50, 190, 200, 30);` seems pointless since you&#39;re using a `GroupLayout` layout manager, although, to be honest, I wouldn&#39;t use `GroupLayout`, it&#39;s not really meant as a developer codable solution, I&#39;d use other layout managers","body":"<code>to.setBounds(50, 190, 200, 30);</code> seems pointless since you&#39;re using a <code>GroupLayout</code> layout manager, although, to be honest, I wouldn&#39;t use <code>GroupLayout</code>, it&#39;s not really meant as a developer codable solution, I&#39;d use other layout managers"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1693604105,"post_id":77025904,"comment_id":135787784,"body_markdown":"Off-topic: Consider following [Java naming conventions](https://www.javatpoint.com/java-naming-conventions)","body":"Off-topic: Consider following <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">Java naming conventions</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1693606070,"post_id":77025904,"comment_id":135787968,"body_markdown":"[For example](https://stackoverflow.com/a/51693892/)","body":"<a href=\"https://stackoverflow.com/a/51693892/\">For example</a>"}],"answers":[{"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1693633234,"post_id":77026516,"comment_id":135789379,"body_markdown":"Great post! One minor implementation detail I would add is to make sure inside `fireModelDidChange` body to obtain a shallow copy of the listeners before firing `modelDidChange` on them. That&#39;s because the implementation of an `modelDidChange` (since its implementation is arbitrary) could potentially modify the list of listeners (via `addObserver` or `removeObserver`) in which case you would get a `ConcurrentModificationException` in the next iteration. EIther a shallow copy or calling `toArray` for example I think would suffice.","body":"Great post! One minor implementation detail I would add is to make sure inside <code>fireModelDidChange</code> body to obtain a shallow copy of the listeners before firing <code>modelDidChange</code> on them. That&#39;s because the implementation of an <code>modelDidChange</code> (since its implementation is arbitrary) could potentially modify the list of listeners (via <code>addObserver</code> or <code>removeObserver</code>) in which case you would get a <code>ConcurrentModificationException</code> in the next iteration. EIther a shallow copy or calling <code>toArray</code> for example I think would suffice."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693645758,"post_id":77026516,"comment_id":135790346,"body_markdown":"@gthanop Except, Swing is single threaded AND not thread safe, so in &quot;normal&quot; operation, you shouldn&#39;t be updating the listeners or model from outside the context of the Event Dispatching Thread. If you do have a scenario which might do this, you would also need to ensure that the events are dispatched to the Event Dispatching Thread - but I would, overall, consider that &quot;implementation detail&quot;","body":"@gthanop Except, Swing is single threaded AND not thread safe, so in &quot;normal&quot; operation, you shouldn&#39;t be updating the listeners or model from outside the context of the Event Dispatching Thread. If you do have a scenario which might do this, you would also need to ensure that the events are dispatched to the Event Dispatching Thread - but I would, overall, consider that &quot;implementation detail&quot;"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1693651660,"post_id":77026516,"comment_id":135790873,"body_markdown":"TBH I wasn&#39;t refering in a modification outside the EDT. For example after the `label.setText` call inside `modelDidChange` implementation there could be a `model.removeObserver(this);` or a `model.addObserver(...something-else...);`, together with the case that more listeners were registered  in the model after the current one. These calls would still be inside the EDT according to the code.","body":"TBH I wasn&#39;t refering in a modification outside the EDT. For example after the <code>label.setText</code> call inside <code>modelDidChange</code> implementation there could be a <code>model.removeObserver(this);</code> or a <code>model.addObserver(...something-else...);</code>, together with the case that more listeners were registered  in the model after the current one. These calls would still be inside the EDT according to the code."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693654114,"post_id":77026516,"comment_id":135791119,"body_markdown":"@gthanop Fair enough - that&#39;s true","body":"@gthanop Fair enough - that&#39;s true"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693623412,"creation_date":1693614465,"answer_id":77026516,"question_id":77025904,"body_markdown":"First, you want to decouple your code.  There should be no direct relationship between your &quot;input&quot; UI and your &quot;output&quot; UI.  This will make it much easier to re-use and maintain the code.\r\n\r\nTo this end you should be making use of the &quot;model-view-controller&quot; concept.  That is, the model provides the data and the views present the data in some meaningful way.\r\n\r\nAdd in the &quot;observer pattern&quot; and objects can monitor the model and take action when some state changes.\r\n\r\nFor example...\r\n\r\n    public interface Model {\r\n        public interface Observer {\r\n            public void modelDidChange(Model model);\r\n        }\r\n        \r\n        public void addObserver(Observer observer);\r\n        public void removeObserver(Observer observer);\r\n        public LocalDateTime getDate();\r\n    }\r\n\r\nThis is a very simple demonstration, but, the `Model` is a container for a `LocalDateTime` value.  It also provides &quot;observability&quot; through the use of the `Model.Observer` so interested parties can be informed when the model changes.\r\n\r\nAt some point, we&#39;re probably going to want to change the value of the model, in this case, we can make use of a specialised model...\r\n\r\n    public interface MutableModel extends Model {\r\n        public void setDate(LocalDateTime date);\r\n    }\r\n\r\nThis basically describes a model whose value can be changed.\r\n\r\nWhy is this important?  This isolates responsibility, not all consumers of the model will want to, or should be allowed to, modify the state of the model, here we support the &quot;separation of concerns/responsibility&quot; principle.\r\n\r\nI also, personally, like `interface`s, as they provide a description of the contract without exposing the implementation, making them incredibly flexible.\r\n\r\nNext we need an implementation of the models.  How you do it probably isn&#39;t important, but I started with an `AbstractModel`...\r\n    \r\n    public abstract class AbstractModel implements Model {\r\n        private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\r\n\r\n        protected List&lt;Observer&gt; getObservers() {\r\n            return observers;\r\n        }\r\n\r\n        @Override\r\n        public void addObserver(Observer observer) {\r\n            getObservers().add(observer);\r\n        }\r\n\r\n        @Override\r\n        public void removeObserver(Observer observer) {\r\n            getObservers().remove(observer);\r\n        }\r\n        \r\n        protected void fireModelDidChange() {\r\n            for (Observer observer : getObservers()) {\r\n                observer.modelDidChange(this);\r\n            }\r\n        }\r\n    }\r\n\r\nThis implements the core &quot;boiler plate&quot; functionality that all the other models will need.  Note, I did not implement the `getDate` method, this is deliberate, as how this value is managed should be down to the actual implementation.\r\n\r\nNext, I implemented a concept of a &quot;mutable&quot; model...\r\n    \r\n    public class DefaultMutableModel extends AbstractModel implements MutableModel {\r\n        private LocalDateTime date;\r\n\r\n        @Override\r\n        public LocalDateTime getDate() {\r\n            return date;\r\n        }\r\n        \r\n        public void setDate(LocalDateTime date) {\r\n            this.date = date;\r\n            fireModelDidChange();\r\n        }\r\n    }\r\n\r\nwhich I think is otherwise self-explanatory.\r\n\r\nThat&#39;s all nice and good, but how do we actually use it?\r\n\r\nWell, basically, we could create an instance of the model and pass it the various objects who need it, this is a concept of &quot;dependency injection&quot;, for example...\r\n\r\n### `ActionPane`\r\n\r\n    public class ActionPane extends JPanel {\r\n        private MutableModel model;\r\n\r\n        public ActionPane(MutableModel model) {\r\n            this.model = model;\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            \r\n            JButton btn = new JButton(&quot;Tick&quot;);\r\n            btn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    getModel().setDate(LocalDateTime.now());\r\n                }\r\n            });\r\n            add(btn);\r\n        }\r\n\r\n        public MutableModel getModel() {\r\n            return model;\r\n        }\r\n    }\r\n\r\n### `OutputPane`\r\n    \r\n    public class OutputPane extends JPanel {\r\n        private Model model;\r\n        private JLabel label;\r\n\r\n        public OutputPane(Model model) {\r\n            this.model = model;\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            \r\n            add(getLabel());\r\n            \r\n            model.addObserver(new Model.Observer() {\r\n                @Override\r\n                public void modelDidChange(Model model) {\r\n                    label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\r\n                }\r\n            });\r\n        }\r\n        \r\n        protected JLabel getLabel() {\r\n            if (label != null) {\r\n                return label;\r\n            }\r\n            label = new JLabel(&quot;------------&quot;);\r\n            return label;\r\n        }\r\n\r\n        public Model getModel() {\r\n            return model;\r\n        }\r\n    }\r\n\r\nThe two panels are seperate and have no idea of each other, yet, via the model, the can communicate.\r\n\r\nNow, we simple create a model and the UI...\r\n\r\n    MutableModel model = new DefaultMutableModel();\r\n\r\n    add(new ActionPane(model));\r\n    add(new OutputPane(model));\r\n\r\nAnd that&#39;s it.  When the model&#39;s state is changed, the UI will be updated.\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n            public MainPane() {\r\n                MutableModel model = new DefaultMutableModel();\r\n                setLayout(new GridLayout(1, 2));\r\n\r\n                add(new ActionPane(model));\r\n                add(new OutputPane(model));\r\n            }\r\n        }\r\n\r\n        public interface Model {\r\n            public interface Observer {\r\n                public void modelDidChange(Model model);\r\n            }\r\n\r\n            public void addObserver(Observer observer);\r\n\r\n            public void removeObserver(Observer observer);\r\n\r\n            public LocalDateTime getDate();\r\n        }\r\n\r\n        public interface MutableModel extends Model {\r\n            public void setDate(LocalDateTime date);\r\n        }\r\n\r\n        public abstract class AbstractModel implements Model {\r\n            private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\r\n\r\n            protected List&lt;Observer&gt; getObservers() {\r\n                return observers;\r\n            }\r\n\r\n            @Override\r\n            public void addObserver(Observer observer) {\r\n                getObservers().add(observer);\r\n            }\r\n\r\n            @Override\r\n            public void removeObserver(Observer observer) {\r\n                getObservers().remove(observer);\r\n            }\r\n\r\n            protected void fireModelDidChange() {\r\n                for (Observer observer : getObservers()) {\r\n                    observer.modelDidChange(this);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class DefaultMutableModel extends AbstractModel implements MutableModel {\r\n            private LocalDateTime date;\r\n\r\n            @Override\r\n            public LocalDateTime getDate() {\r\n                return date;\r\n            }\r\n\r\n            public void setDate(LocalDateTime date) {\r\n                this.date = date;\r\n                fireModelDidChange();\r\n            }\r\n        }\r\n\r\n        public class ActionPane extends JPanel {\r\n            private MutableModel model;\r\n\r\n            public ActionPane(MutableModel model) {\r\n                this.model = model;\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                JButton btn = new JButton(&quot;Tick&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        getModel().setDate(LocalDateTime.now());\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n            public MutableModel getModel() {\r\n                return model;\r\n            }\r\n        }\r\n\r\n        public class OutputPane extends JPanel {\r\n            private Model model;\r\n            private JLabel label;\r\n\r\n            public OutputPane(Model model) {\r\n                this.model = model;\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                add(getLabel());\r\n\r\n                model.addObserver(new Model.Observer() {\r\n                    @Override\r\n                    public void modelDidChange(Model model) {\r\n                        label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected JLabel getLabel() {\r\n                if (label != null) {\r\n                    return label;\r\n                }\r\n                label = new JLabel(&quot;------------&quot;);\r\n                return label;\r\n            }\r\n\r\n            public Model getModel() {\r\n                return model;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUuL3.gif\r\n\r\nYou should note, that no where did I need to call `revalidate`, `invalidate` or `repaint` in order for the label to update.  Apart from setting the initial value to a &quot;reasonably&quot; long value, labels are (generally) self updating.\r\n\r\nI&#39;ve mentioned a lot of &quot;concepts&quot; and &quot;terms&quot;, I would strongly recommend that you take the time to research them further, as they will invaluable to you in solving your future issues.","title":"Make JButton update JLabel text in other class in Java","body":"<p>First, you want to decouple your code.  There should be no direct relationship between your &quot;input&quot; UI and your &quot;output&quot; UI.  This will make it much easier to re-use and maintain the code.</p>\n<p>To this end you should be making use of the &quot;model-view-controller&quot; concept.  That is, the model provides the data and the views present the data in some meaningful way.</p>\n<p>Add in the &quot;observer pattern&quot; and objects can monitor the model and take action when some state changes.</p>\n<p>For example...</p>\n<pre><code>public interface Model {\n    public interface Observer {\n        public void modelDidChange(Model model);\n    }\n    \n    public void addObserver(Observer observer);\n    public void removeObserver(Observer observer);\n    public LocalDateTime getDate();\n}\n</code></pre>\n<p>This is a very simple demonstration, but, the <code>Model</code> is a container for a <code>LocalDateTime</code> value.  It also provides &quot;observability&quot; through the use of the <code>Model.Observer</code> so interested parties can be informed when the model changes.</p>\n<p>At some point, we're probably going to want to change the value of the model, in this case, we can make use of a specialised model...</p>\n<pre><code>public interface MutableModel extends Model {\n    public void setDate(LocalDateTime date);\n}\n</code></pre>\n<p>This basically describes a model whose value can be changed.</p>\n<p>Why is this important?  This isolates responsibility, not all consumers of the model will want to, or should be allowed to, modify the state of the model, here we support the &quot;separation of concerns/responsibility&quot; principle.</p>\n<p>I also, personally, like <code>interface</code>s, as they provide a description of the contract without exposing the implementation, making them incredibly flexible.</p>\n<p>Next we need an implementation of the models.  How you do it probably isn't important, but I started with an <code>AbstractModel</code>...</p>\n<pre><code>public abstract class AbstractModel implements Model {\n    private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n\n    protected List&lt;Observer&gt; getObservers() {\n        return observers;\n    }\n\n    @Override\n    public void addObserver(Observer observer) {\n        getObservers().add(observer);\n    }\n\n    @Override\n    public void removeObserver(Observer observer) {\n        getObservers().remove(observer);\n    }\n    \n    protected void fireModelDidChange() {\n        for (Observer observer : getObservers()) {\n            observer.modelDidChange(this);\n        }\n    }\n}\n</code></pre>\n<p>This implements the core &quot;boiler plate&quot; functionality that all the other models will need.  Note, I did not implement the <code>getDate</code> method, this is deliberate, as how this value is managed should be down to the actual implementation.</p>\n<p>Next, I implemented a concept of a &quot;mutable&quot; model...</p>\n<pre><code>public class DefaultMutableModel extends AbstractModel implements MutableModel {\n    private LocalDateTime date;\n\n    @Override\n    public LocalDateTime getDate() {\n        return date;\n    }\n    \n    public void setDate(LocalDateTime date) {\n        this.date = date;\n        fireModelDidChange();\n    }\n}\n</code></pre>\n<p>which I think is otherwise self-explanatory.</p>\n<p>That's all nice and good, but how do we actually use it?</p>\n<p>Well, basically, we could create an instance of the model and pass it the various objects who need it, this is a concept of &quot;dependency injection&quot;, for example...</p>\n<h3><code>ActionPane</code></h3>\n<pre><code>public class ActionPane extends JPanel {\n    private MutableModel model;\n\n    public ActionPane(MutableModel model) {\n        this.model = model;\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        JButton btn = new JButton(&quot;Tick&quot;);\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                getModel().setDate(LocalDateTime.now());\n            }\n        });\n        add(btn);\n    }\n\n    public MutableModel getModel() {\n        return model;\n    }\n}\n</code></pre>\n<h3><code>OutputPane</code></h3>\n<pre><code>public class OutputPane extends JPanel {\n    private Model model;\n    private JLabel label;\n\n    public OutputPane(Model model) {\n        this.model = model;\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        add(getLabel());\n        \n        model.addObserver(new Model.Observer() {\n            @Override\n            public void modelDidChange(Model model) {\n                label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\n            }\n        });\n    }\n    \n    protected JLabel getLabel() {\n        if (label != null) {\n            return label;\n        }\n        label = new JLabel(&quot;------------&quot;);\n        return label;\n    }\n\n    public Model getModel() {\n        return model;\n    }\n}\n</code></pre>\n<p>The two panels are seperate and have no idea of each other, yet, via the model, the can communicate.</p>\n<p>Now, we simple create a model and the UI...</p>\n<pre><code>MutableModel model = new DefaultMutableModel();\n\nadd(new ActionPane(model));\nadd(new OutputPane(model));\n</code></pre>\n<p>And that's it.  When the model's state is changed, the UI will be updated.</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/yUuL3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUuL3.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n        public MainPane() {\n            MutableModel model = new DefaultMutableModel();\n            setLayout(new GridLayout(1, 2));\n\n            add(new ActionPane(model));\n            add(new OutputPane(model));\n        }\n    }\n\n    public interface Model {\n        public interface Observer {\n            public void modelDidChange(Model model);\n        }\n\n        public void addObserver(Observer observer);\n\n        public void removeObserver(Observer observer);\n\n        public LocalDateTime getDate();\n    }\n\n    public interface MutableModel extends Model {\n        public void setDate(LocalDateTime date);\n    }\n\n    public abstract class AbstractModel implements Model {\n        private List&lt;Observer&gt; observers = new ArrayList&lt;&gt;();\n\n        protected List&lt;Observer&gt; getObservers() {\n            return observers;\n        }\n\n        @Override\n        public void addObserver(Observer observer) {\n            getObservers().add(observer);\n        }\n\n        @Override\n        public void removeObserver(Observer observer) {\n            getObservers().remove(observer);\n        }\n\n        protected void fireModelDidChange() {\n            for (Observer observer : getObservers()) {\n                observer.modelDidChange(this);\n            }\n        }\n    }\n\n    public class DefaultMutableModel extends AbstractModel implements MutableModel {\n        private LocalDateTime date;\n\n        @Override\n        public LocalDateTime getDate() {\n            return date;\n        }\n\n        public void setDate(LocalDateTime date) {\n            this.date = date;\n            fireModelDidChange();\n        }\n    }\n\n    public class ActionPane extends JPanel {\n        private MutableModel model;\n\n        public ActionPane(MutableModel model) {\n            this.model = model;\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            JButton btn = new JButton(&quot;Tick&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    getModel().setDate(LocalDateTime.now());\n                }\n            });\n            add(btn);\n        }\n\n        public MutableModel getModel() {\n            return model;\n        }\n    }\n\n    public class OutputPane extends JPanel {\n        private Model model;\n        private JLabel label;\n\n        public OutputPane(Model model) {\n            this.model = model;\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            add(getLabel());\n\n            model.addObserver(new Model.Observer() {\n                @Override\n                public void modelDidChange(Model model) {\n                    label.setText(DateTimeFormatter.ISO_LOCAL_TIME.format(model.getDate()));\n                }\n            });\n        }\n\n        protected JLabel getLabel() {\n            if (label != null) {\n                return label;\n            }\n            label = new JLabel(&quot;------------&quot;);\n            return label;\n        }\n\n        public Model getModel() {\n            return model;\n        }\n    }\n}\n</code></pre>\n<p>You should note, that no where did I need to call <code>revalidate</code>, <code>invalidate</code> or <code>repaint</code> in order for the label to update.  Apart from setting the initial value to a &quot;reasonably&quot; long value, labels are (generally) self updating.</p>\n<p>I've mentioned a lot of &quot;concepts&quot; and &quot;terms&quot;, I would strongly recommend that you take the time to research them further, as they will invaluable to you in solving your future issues.</p>\n"}],"owner":{"account_id":12063642,"reputation":1,"user_id":22485631,"display_name":"JarodH99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693623412,"creation_date":1693600918,"question_id":77025904,"body_markdown":"I&#39;m writing a program for my company that references an excel file for project information.\r\nI&#39;ve organized the program into 4 JPanels, each in it&#39;s own class. i.e. Panel_1, Panel_2, etc.\r\nI have a button in panel_1 that allows the user to select the project info file and that works just fine.\r\nwhat I want to do is have that button apply the info from the project to the JLabels in the other JPanels 2, 3, &amp; 4.\r\n\r\n\r\nUI class\r\n```\r\n\r\npublic class UI extends JFrame implements ActionListener {\r\n\t\r\n\t//Variables declared outside constructor, and to be used in multiple Panels\r\n\tstatic String JobNo = &quot;&quot;;\r\n\tstatic String JobName = &quot;&quot;;\r\n\tstatic String Attention = &quot;&quot;;\r\n\tstatic String Contractor = &quot;&quot;;\r\n\tpublic UI() {\r\n\t\t\r\n\t\t//Define JFrame\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.getContentPane().setLayout(new GroupLayout(this.getContentPane()));\r\n\t\tthis.setSize(FW + 36, FH);\r\n\t\tthis.getContentPane().setBackground(col1);\r\n\t\t\r\n\t\t//Add panels to JFrame\r\n\t\tPanel_1 panel1 = new Panel_1();\r\n\t\tthis.add(panel1);\r\n\t\tPanel_2 panel2 = new Panel_2();\r\n\t\tthis.add(panel2);\r\n\t\tPanel_3 panel3 = new Panel_3();\r\n\t\tthis.add(panel3);\r\n\t\tPanel_4 panel4 = new Panel_4();\r\n\t\tthis.add(panel4);\r\n\t\t\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\nPanel_1 class\r\n```\r\npublic class Panel_1 extends JPanel implements ActionListener{\r\n\t\r\n\t Panel_1() {\r\n\t\t\r\n\t\t//Define Panel_1\r\n\t\tthis.setBounds(UI.offSet, UI.offSet, UI.p1W, UI.p1H);\r\n\t\tthis.setBackground(UI.col2);\r\n\t\tthis.setLayout(new GroupLayout(this));\r\n\t\t\r\n\t\tJLabel title = new JLabel(&quot;Please select Project Folder:&quot;);\r\n\t\ttitle.setBounds(20, 10, 300, 15);\r\n\t\ttitle.setForeground(UI.colText);\r\n\t\tthis.add(title);\r\n\t\t\r\n\t\t//Text field to display project file location\r\n\t\tUI.field1 = new JTextField();\r\n\t\tUI.field1.setBounds(20, 35, 570, 20);\r\n\t\tUI.field1.setBackground(UI.colTF);\r\n\t\tUI.field1.setForeground(UI.colText);\r\n\t\tUI.field1.setText(UI.sDefPath);\r\n\t\tUI.field1.setCaretColor(UI.colText);\r\n\t\tUI.field1.setBorder(BorderFactory.createLoweredBevelBorder());\r\n\t\tUI.field1.addActionListener(this);\r\n\t\tthis.add(UI.field1);\r\n\t\t\r\n\t\t//Browse for project file\r\n\t\tUI.butBrowse1 = new JButton(&quot;Browse&quot;);\r\n\t\tUI.butBrowse1.setBounds(600, 35, 80, 20);\r\n\t\tUI.butBrowse1.setBackground(UI.colBut);\r\n\t\tUI.butBrowse1.setForeground(UI.colBT);\r\n\t\tUI.butBrowse1.setBorder(BorderFactory.createEmptyBorder());\r\n\t\tUI.butBrowse1.setFocusable(false);\r\n\t\tUI.butBrowse1.addActionListener(this);\r\n\t\tthis.add(UI.butBrowse1);\r\n\t}\r\n\t \r\n\t @Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tif (e.getSource()==UI.butBrowse1) {\r\n\t\t\t\t\r\n\t\t\t\t//Choose project file location\r\n\t\t\t\tJFileChooser fileChoose1 = new JFileChooser(UI.sDefPath);\r\n\t\t\t\tfileChoose1.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n\t\t\t\tAction details = fileChoose1.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n\t\t\t\tdetails.actionPerformed(null);\r\n\t\t\t\tfileChoose1.setPreferredSize(new Dimension(500, 600));\r\n\t\t\t\tfileChoose1.showOpenDialog(null);\r\n\t\t\t\tUI.sPath = fileChoose1.getSelectedFile().getAbsolutePath();\r\n\t\t\t\t\r\n\t\t\t\t//Assign file paths from selected folder\r\n\t\t\t\tUI.field1.setText(UI.sPath);\r\n\t\t\t\tUI.sPIPath = UI.sPath + UI.sPIadd;\r\n\t\t\t\tUI.sPDFPath = UI.sPath + UI.sPDFadd;\r\n\t\t\t\tUI.sSubPath = UI.sPath + UI.sSubadd;\r\n\t\t\t\t\r\n\t\t\t\t//Test assigned file paths\r\n\t\t\t\tSystem.out.println(UI.sPIPath);\r\n\t\t\t\tSystem.out.println(UI.sPDFPath);\r\n\t\t\t\tSystem.out.println(UI.sSubPath);\r\n\t\t\t\t\r\n\t\t\t\t//Assigning data from xlsx\r\n\t\t\t\t//These are the variable that I need to display in Panel_4\r\n\t\t\t\tUI.JobNo = XLSX_Reader.XLSX_Reader(UI.sPIPath, 0, 1);\r\n\t\t\t\tUI.JobName = XLSX_Reader.XLSX_Reader(UI.sPIPath, 1, 1) + &quot;\\n&quot; + XLSX_Reader.XLSX_Reader(UI.sPIPath, 2, 1);\r\n\t\t\t\tUI.Contractor = XLSX_Reader.XLSX_Reader(UI.sPIPath, 4, 1);\r\n\t\t\t\tUI.Attention = XLSX_Reader.XLSX_Reader(UI.sPIPath, 8, 1);\r\n\t\t\t\t\r\n\t\t\t\t//testing xlsx reader\r\n\t\t\t\tSystem.out.println(UI.JobNo);\r\n\t\t\t\tSystem.out.println(UI.JobName);\r\n\t\t\t\tSystem.out.println(UI.Contractor);\r\n\t\t\t\tSystem.out.println(UI.Attention);\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n```\r\nPanel_4 class\r\n\r\n```\r\npublic class Panel_4 extends JPanel implements ActionListener{\r\n\t\r\n\t Panel_4() {\r\n\t\t\r\n\t\t//Define Panel_4\r\n\t\tthis.setBounds((UI.offSet * 2) + UI.p1W, UI.offSet, UI.p4W, UI.p4H);\r\n\t\tthis.setBackground(UI.col2);\r\n\t\tthis.setLayout(new GroupLayout(this));\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.Contractor\r\n\t\tJLabel to = new JLabel(&quot;To: &quot; + UI.Contractor);\r\n\t\tto.setBounds(50, 190, 200, 30);\r\n\t\tto.setForeground(UI.colText);\r\n\t\tthis.add(to);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.JobNo\r\n\t\tJLabel Job = new JLabel(&quot;Job No. &quot; + UI.JobNo);\r\n\t\tJob.setBounds(500, 110, 100, 15);\r\n\t\tJob.setForeground(UI.colText);\r\n\t\tthis.add(Job);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.Attention\r\n\t\tJLabel Att = new JLabel(&quot;Attention &quot; + UI.Attention);\r\n\t\tAtt.setBounds(350, 150, 100, 15);\r\n\t\tAtt.setForeground(UI.colText);\r\n\t\tthis.add(Att);\r\n\t\t\r\n\t\t//Doesn&#39;t update when Panel_1 assigns value to UI.JobName\r\n\t\tJLabel Re = new JLabel(&quot;Re: &quot; + UI.JobName);\r\n\t\tRe.setBounds(350, 190, 100, 15);\r\n\t\tRe.setForeground(UI.colText);\r\n\t\tthis.add(Re);\r\n```\r\n\r\nIf they were in the same class, I would normally do something like:\r\n\r\n```\r\nString pName = &quot;Sam&quot;;\r\n\r\nJLabel name = new JLabel(pName);\r\nname.setBounds(...);\r\nthis.add(name);\r\n\r\nJButton button = new JButton();\r\nbutton.addActionListener(this);\r\nthis.add(button);\r\n}\r\n}\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n\tif (e.getSource()==UI.butBrowse1) {\r\n\t\tpName = &quot;Dave&quot;;\r\n\t\tname.setText(pName);\r\n\r\n```\r\nBut I don&#39;t know if that&#39;s possible across classes.\r\n","title":"Make JButton update JLabel text in other class in Java","body":"<p>I'm writing a program for my company that references an excel file for project information.\nI've organized the program into 4 JPanels, each in it's own class. i.e. Panel_1, Panel_2, etc.\nI have a button in panel_1 that allows the user to select the project info file and that works just fine.\nwhat I want to do is have that button apply the info from the project to the JLabels in the other JPanels 2, 3, &amp; 4.</p>\n<p>UI class</p>\n<pre><code>\npublic class UI extends JFrame implements ActionListener {\n    \n    //Variables declared outside constructor, and to be used in multiple Panels\n    static String JobNo = &quot;&quot;;\n    static String JobName = &quot;&quot;;\n    static String Attention = &quot;&quot;;\n    static String Contractor = &quot;&quot;;\n    public UI() {\n        \n        //Define JFrame\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.getContentPane().setLayout(new GroupLayout(this.getContentPane()));\n        this.setSize(FW + 36, FH);\n        this.getContentPane().setBackground(col1);\n        \n        //Add panels to JFrame\n        Panel_1 panel1 = new Panel_1();\n        this.add(panel1);\n        Panel_2 panel2 = new Panel_2();\n        this.add(panel2);\n        Panel_3 panel3 = new Panel_3();\n        this.add(panel3);\n        Panel_4 panel4 = new Panel_4();\n        this.add(panel4);\n        \n        this.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n</code></pre>\n<p>Panel_1 class</p>\n<pre><code>public class Panel_1 extends JPanel implements ActionListener{\n    \n     Panel_1() {\n        \n        //Define Panel_1\n        this.setBounds(UI.offSet, UI.offSet, UI.p1W, UI.p1H);\n        this.setBackground(UI.col2);\n        this.setLayout(new GroupLayout(this));\n        \n        JLabel title = new JLabel(&quot;Please select Project Folder:&quot;);\n        title.setBounds(20, 10, 300, 15);\n        title.setForeground(UI.colText);\n        this.add(title);\n        \n        //Text field to display project file location\n        UI.field1 = new JTextField();\n        UI.field1.setBounds(20, 35, 570, 20);\n        UI.field1.setBackground(UI.colTF);\n        UI.field1.setForeground(UI.colText);\n        UI.field1.setText(UI.sDefPath);\n        UI.field1.setCaretColor(UI.colText);\n        UI.field1.setBorder(BorderFactory.createLoweredBevelBorder());\n        UI.field1.addActionListener(this);\n        this.add(UI.field1);\n        \n        //Browse for project file\n        UI.butBrowse1 = new JButton(&quot;Browse&quot;);\n        UI.butBrowse1.setBounds(600, 35, 80, 20);\n        UI.butBrowse1.setBackground(UI.colBut);\n        UI.butBrowse1.setForeground(UI.colBT);\n        UI.butBrowse1.setBorder(BorderFactory.createEmptyBorder());\n        UI.butBrowse1.setFocusable(false);\n        UI.butBrowse1.addActionListener(this);\n        this.add(UI.butBrowse1);\n    }\n     \n     @Override\n        public void actionPerformed(ActionEvent e) {\n            // TODO Auto-generated method stub\n            if (e.getSource()==UI.butBrowse1) {\n                \n                //Choose project file location\n                JFileChooser fileChoose1 = new JFileChooser(UI.sDefPath);\n                fileChoose1.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n                Action details = fileChoose1.getActionMap().get(&quot;viewTypeDetails&quot;);\n                details.actionPerformed(null);\n                fileChoose1.setPreferredSize(new Dimension(500, 600));\n                fileChoose1.showOpenDialog(null);\n                UI.sPath = fileChoose1.getSelectedFile().getAbsolutePath();\n                \n                //Assign file paths from selected folder\n                UI.field1.setText(UI.sPath);\n                UI.sPIPath = UI.sPath + UI.sPIadd;\n                UI.sPDFPath = UI.sPath + UI.sPDFadd;\n                UI.sSubPath = UI.sPath + UI.sSubadd;\n                \n                //Test assigned file paths\n                System.out.println(UI.sPIPath);\n                System.out.println(UI.sPDFPath);\n                System.out.println(UI.sSubPath);\n                \n                //Assigning data from xlsx\n                //These are the variable that I need to display in Panel_4\n                UI.JobNo = XLSX_Reader.XLSX_Reader(UI.sPIPath, 0, 1);\n                UI.JobName = XLSX_Reader.XLSX_Reader(UI.sPIPath, 1, 1) + &quot;\\n&quot; + XLSX_Reader.XLSX_Reader(UI.sPIPath, 2, 1);\n                UI.Contractor = XLSX_Reader.XLSX_Reader(UI.sPIPath, 4, 1);\n                UI.Attention = XLSX_Reader.XLSX_Reader(UI.sPIPath, 8, 1);\n                \n                //testing xlsx reader\n                System.out.println(UI.JobNo);\n                System.out.println(UI.JobName);\n                System.out.println(UI.Contractor);\n                System.out.println(UI.Attention);\n\n                \n            }\n        }\n</code></pre>\n<p>Panel_4 class</p>\n<pre><code>public class Panel_4 extends JPanel implements ActionListener{\n    \n     Panel_4() {\n        \n        //Define Panel_4\n        this.setBounds((UI.offSet * 2) + UI.p1W, UI.offSet, UI.p4W, UI.p4H);\n        this.setBackground(UI.col2);\n        this.setLayout(new GroupLayout(this));\n        \n        //Doesn't update when Panel_1 assigns value to UI.Contractor\n        JLabel to = new JLabel(&quot;To: &quot; + UI.Contractor);\n        to.setBounds(50, 190, 200, 30);\n        to.setForeground(UI.colText);\n        this.add(to);\n        \n        //Doesn't update when Panel_1 assigns value to UI.JobNo\n        JLabel Job = new JLabel(&quot;Job No. &quot; + UI.JobNo);\n        Job.setBounds(500, 110, 100, 15);\n        Job.setForeground(UI.colText);\n        this.add(Job);\n        \n        //Doesn't update when Panel_1 assigns value to UI.Attention\n        JLabel Att = new JLabel(&quot;Attention &quot; + UI.Attention);\n        Att.setBounds(350, 150, 100, 15);\n        Att.setForeground(UI.colText);\n        this.add(Att);\n        \n        //Doesn't update when Panel_1 assigns value to UI.JobName\n        JLabel Re = new JLabel(&quot;Re: &quot; + UI.JobName);\n        Re.setBounds(350, 190, 100, 15);\n        Re.setForeground(UI.colText);\n        this.add(Re);\n</code></pre>\n<p>If they were in the same class, I would normally do something like:</p>\n<pre><code>String pName = &quot;Sam&quot;;\n\nJLabel name = new JLabel(pName);\nname.setBounds(...);\nthis.add(name);\n\nJButton button = new JButton();\nbutton.addActionListener(this);\nthis.add(button);\n}\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource()==UI.butBrowse1) {\n        pName = &quot;Dave&quot;;\n        name.setText(pName);\n\n</code></pre>\n<p>But I don't know if that's possible across classes.</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":4253033,"reputation":9728,"user_id":3479456,"accept_rate":79,"display_name":"pushkin"},"score":1,"creation_date":1485044898,"post_id":41786066,"comment_id":70761994,"body_markdown":"It&#39;s because of the braces. The second `if` statement is inside the first, so after failing the first `if` statement, you jump to the `else`.","body":"It&#39;s because of the braces. The second <code>if</code> statement is inside the first, so after failing the first <code>if</code> statement, you jump to the <code>else</code>."}],"answers":[{"comments":[{"owner":{"account_id":10035510,"reputation":19,"user_id":7420313,"display_name":"Brian Snyder"},"score":0,"creation_date":1485045230,"post_id":41786083,"comment_id":70762049,"body_markdown":"I understand what you&#39;re saying, but I don&#39;t know how to fix it.  This is my third week of learning this stuff and I&#39;m kinda lost","body":"I understand what you&#39;re saying, but I don&#39;t know how to fix it.  This is my third week of learning this stuff and I&#39;m kinda lost"}],"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485044936,"creation_date":1485044936,"answer_id":41786083,"question_id":41786066,"body_markdown":"Because you&#39;ve nested your `if`s improperly, as is clear once properly indented.","title":"Boolean branching statement","body":"<p>Because you've nested your <code>if</code>s improperly, as is clear once properly indented.</p>\n"},{"tags":[],"owner":{"account_id":8489532,"reputation":37,"user_id":6366344,"accept_rate":50,"display_name":"Oliver Yasuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485045029,"creation_date":1485045029,"answer_id":41786093,"question_id":41786066,"body_markdown":"The statements are improperly nested. Add braces `{}` and your IDE will format it, revealing the mistake.","title":"Boolean branching statement","body":"<p>The statements are improperly nested. Add braces <code>{}</code> and your IDE will format it, revealing the mistake.</p>\n"},{"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1485047055,"post_id":41786106,"comment_id":70762351,"body_markdown":"@BrianSnyder Write out the [truth table](https://en.wikipedia.org/wiki/Truth_table) and I think it will become clear to you.","body":"@BrianSnyder Write out the <a href=\"https://en.wikipedia.org/wiki/Truth_table\" rel=\"nofollow noreferrer\">truth table</a> and I think it will become clear to you."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485045150,"creation_date":1485045150,"answer_id":41786106,"question_id":41786066,"body_markdown":"Your indentation is off, and you missed a closing brace (and `else`). Based on your `print`(s) I think you wanted\r\n\r\n\tif (isBalloon) {\r\n\t\tif (isRed) {\r\n\t\t\tSystem.out.println(&quot;Red balloon&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Balloon&quot;);\r\n\t\t}\r\n\t} else {\r\n\t\tSystem.out.println(&quot;Not a balloon&quot;);\r\n\t}\r\n\r\n**or**\r\n\r\n\tif (isBalloon &amp;&amp; isRed) {\r\n\t\tSystem.out.println(&quot;Red balloon&quot;);\r\n\t} else if (isBalloon) {\r\n\t\tSystem.out.println(&quot;Balloon&quot;);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;Not a balloon&quot;);\r\n\t}\r\n\r\n","title":"Boolean branching statement","body":"<p>Your indentation is off, and you missed a closing brace (and <code>else</code>). Based on your <code>print</code>(s) I think you wanted</p>\n\n<pre><code>if (isBalloon) {\n    if (isRed) {\n        System.out.println(\"Red balloon\");\n    } else {\n        System.out.println(\"Balloon\");\n    }\n} else {\n    System.out.println(\"Not a balloon\");\n}\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>if (isBalloon &amp;&amp; isRed) {\n    System.out.println(\"Red balloon\");\n} else if (isBalloon) {\n    System.out.println(\"Balloon\");\n} else {\n    System.out.println(\"Not a balloon\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693628607,"post_id":77026791,"comment_id":135789164,"body_markdown":"Maybe you could post the code - to illustrate what you mean.","body":"Maybe you could post the code - to illustrate what you mean."}],"tags":[],"owner":{"account_id":29349020,"reputation":1,"user_id":22486623,"display_name":"Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693623142,"creation_date":1693623142,"answer_id":77026791,"question_id":41786066,"body_markdown":"In the second if statement you need to add else before the if. This worked for me","title":"Boolean branching statement","body":"<p>In the second if statement you need to add else before the if. This worked for me</p>\n"}],"owner":{"account_id":10035510,"reputation":19,"user_id":7420313,"display_name":"Brian Snyder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2755,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1693623142,"creation_date":1485044758,"question_id":41786066,"body_markdown":"my code will run, but if isBalloon and isRed are both true, it prints &quot;not balloon&quot; instead of &quot;red balloon&quot;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class RedBalloon {\r\n      public static void main (String [] args) {\r\n        boolean isRed = false;\r\n        boolean isBalloon = false;\r\n\r\n        if ((isBalloon == true) &amp;&amp; (isRed == false)){\r\n          System.out.println(&quot;Balloon&quot;);\r\n      \r\n          if ((isBalloon == true) &amp;&amp; (isRed == true)){\r\n            System.out.println(&quot;Red balloon&quot;);\r\n          }\r\n        }\r\n        else {\r\n          System.out.println(&quot;Not a balloon&quot;);\r\n        }\r\n        return;\r\n      }\r\n    }","title":"Boolean branching statement","body":"<p>my code will run, but if isBalloon and isRed are both true, it prints \"not balloon\" instead of \"red balloon\"</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class RedBalloon {\n  public static void main (String [] args) {\n    boolean isRed = false;\n    boolean isBalloon = false;\n\n    if ((isBalloon == true) &amp;&amp; (isRed == false)){\n      System.out.println(\"Balloon\");\n\n      if ((isBalloon == true) &amp;&amp; (isRed == true)){\n        System.out.println(\"Red balloon\");\n      }\n    }\n    else {\n      System.out.println(\"Not a balloon\");\n    }\n    return;\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","amazon-s3","freemarker"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1693593294,"post_id":77023025,"comment_id":135786435,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":29344415,"reputation":1,"user_id":22483137,"display_name":"Erwin Ello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693622468,"creation_date":1693570504,"question_id":77023025,"body_markdown":"To display the image from the S3 bucket to the Freemarker PDF but I got an error.\r\n\r\nI created an API for generated PDFs using Freemarker and I need to display the images inside the PDF file and it should be get from the S3 bucket.\r\n\r\nI converted the file from the S3 bucket into byteArray and displayed it in the template.FTL \r\n\r\n\\&lt;img src=&quot;data:image/png;base64,${imageBase64}&quot;/\\&gt;\r\n\r\nAnyone could help me solve this issue? Thanks in advance.\r\n\r\nHere&#39;s the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    Code to generate PDF data.\r\n    \r\n    fun generatePdfData(templateName: String, data: Any?): ByteArray {\r\n        val html = StringWriter().use { stringWriter -&gt;\r\n            cfg.outputFormat = HTMLOutputFormat.INSTANCE\r\n            cfg.getTemplate(templateName).process(data, stringWriter)\r\n            stringWriter.toString()\r\n        }\r\n        return ByteArrayOutputStream().use { os -&gt;\r\n            rendererBuilder\r\n                .withProducer(CREATORS.random())\r\n                .withHtmlContent(html, &quot;&quot;)\r\n                .toStream(os)\r\n                .run()\r\n    \r\n            os.toByteArray()\r\n        }\r\n    }\r\n\r\n```\r\nConfiguration of template loader.\r\n\r\nprivate val cfg: Configuration = Configuration(\r\n        Configuration.VERSION_2_3_29\r\n    ).apply {\r\n        setClassForTemplateLoading(this.javaClass, RESOURCE_BASE_TEMPLATE_DIR)\r\n        isAPIBuiltinEnabled = true\r\n        timeZone = TimeZone.getTimeZone(MANILA_TIME_ZONE_ID)\r\n        sqlDateAndTimeTimeZone = TimeZone.getDefault() // Freemarker docs told me to do this.\r\n        defaultEncoding = &quot;UTF-8&quot;\r\n        templateExceptionHandler = TemplateExceptionHandler.RETHROW_HANDLER\r\n        logTemplateExceptions = false\r\n        wrapUncheckedExceptions = true\r\n        fallbackOnNullLoopVariable = false\r\n        setSharedVariable(&quot;moneyToWords&quot;, TradukistoDirective())\r\n    }\r\n```\r\n\r\n```\r\nFonts list.\r\n\r\nprivate val fonts = listOf(\r\n    &quot;NotoSans-Regular.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-Bold.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-BoldItalic.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSans-Italic.ttf&quot; to &quot;BodyText&quot;,\r\n    &quot;NotoSansTagalog-Regular.ttf&quot; to &quot;BodyTextBaybayin&quot;,\r\n    &quot;NotoSerif-Regular.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-Bold.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-BoldItalic.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;NotoSerif-Italic.ttf&quot; to &quot;HeaderText&quot;,\r\n    &quot;MPLUS1p-Regular.ttf&quot; to &quot;BodyTextJP&quot;,\r\n    &quot;MPLUS1p-Bold.ttf&quot; to &quot;BodyTextJP&quot;\r\n)\r\n```\r\n\r\n```\r\nrendering builder.\r\n\r\nprivate val rendererBuilder: PdfRendererBuilder = PdfRendererBuilder()\r\n    .useFastMode()\r\n    .usePdfUaAccessbility(true)\r\n    .usePdfVersion(1.7f)\r\n    .usePdfAConformance(PdfRendererBuilder.PdfAConformance.PDFA_3_A)\r\n    .useUriResolver { _, uri -&gt;\r\n        // We have a custom URI resolver because the built-in one doesn&#39;t work with resources or something.\r\n        val loader = Thread.currentThread().contextClassLoader\r\n        val path = loader.getResource(Paths.get(RESOURCE_BASE_TEMPLATE_DIR, uri).toString())?.toString()\r\n        path\r\n    }\r\n    .also { builder -&gt;\r\n        // We load in all of the fonts, loading bold and italic ones by-convention.\r\n        fonts.forEach { (resource, name) -&gt;\r\n            val fontPath = Paths.get(RESOURCE_BASE_FONT_DIR, resource).toString()\r\n            val style = when {\r\n                resource.lowercase().contains(&quot;italic&quot;) -&gt; BaseRendererBuilder.FontStyle.ITALIC\r\n                else -&gt; BaseRendererBuilder.FontStyle.NORMAL\r\n            }\r\n            val weight = when {\r\n                resource.lowercase().contains(&quot;bold&quot;) -&gt; 700\r\n                else -&gt; 400\r\n            }\r\n            builder.useFont(\r\n                {\r\n                    Thread.currentThread().contextClassLoader.getResourceAsStream(fontPath)\r\n                        ?: throw FileNotFoundException(CM0080 + resource)\r\n                },\r\n                name,\r\n                weight,\r\n                style,\r\n                true\r\n            )\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nclass TradukistoDirective : TemplateDirectiveModel {\r\n    override fun execute(\r\n        env: Environment?,\r\n        params: MutableMap&lt;Any?, Any?&gt;?,\r\n        loopVars: Array&lt;out TemplateModel&gt;?,\r\n        body: TemplateDirectiveBody?\r\n    ) {\r\n        if (loopVars?.isNotEmpty() != false) {\r\n            throw TemplateModelException(CM0090)\r\n        }\r\n        if (body != null) {\r\n            throw TemplateModelException(CM0100)\r\n        }\r\n\r\n        val value = params?.get(&quot;value&quot;)?.let { (it as SimpleNumber).asNumber as BigDecimal }\r\n            ?: throw TemplateModelException(CM0110)\r\n\r\n        val output = if (value &gt; Integer.MAX_VALUE.toBigDecimal()) {\r\n            &quot;NUMBER TOO LARGE&quot;\r\n        } else {\r\n            val converter: MoneyConverters = MoneyConverters.ENGLISH_BANKING_MONEY_VALUE\r\n            converter.asWords(value.setScale(2, RoundingMode.HALF_UP))\r\n                .replace(&quot;&#163;&quot;, &quot;and&quot;)\r\n                .plus(&quot; only&quot;)\r\n                .split(&quot; &quot;)\r\n                .joinToString(&quot; &quot;) { it -&gt;\r\n                    if (it !in setOf(&quot;and&quot;, &quot;only&quot;)) {\r\n                        it.replaceFirstChar { if (it.isLowerCase()) it.titlecase(Locale.getDefault()) else it.toString() }\r\n                    } else {\r\n                        it\r\n                    }\r\n                }\r\n        }\r\n\r\n        env!!.out.append(output)\r\n    }\r\n}\r\n```\r\n\r\n```\r\ndirectories.\r\n\r\ncompanion object {\r\n    const val RESOURCE_BASE_TEMPLATE_DIR = &quot;pdfTemplates&quot;\r\n    const val RESOURCE_BASE_FONT_DIR = &quot;pdfFonts&quot;\r\n    val CREATORS = listOf(\r\n        &quot;Nep&quot;, &quot;Yui&quot;, &quot;Mio&quot;, &quot;Mugi&quot;,\r\n        &quot;Asuza&quot;, &quot;Ritsu&quot;, &quot;Lalatina&quot;, &quot;Darkness&quot;,\r\n        &quot;Aqua&quot;, &quot;Megumin&quot;, &quot;Kazuma&quot;, &quot;Renge&quot;,\r\n        &quot;Hotarun&quot;, &quot;Senjyougahara&quot;, &quot;Hanekawa&quot;, &quot;Nadeko&quot;,\r\n        &quot;Hachikuji&quot;, &quot;Kizuna&quot;, &quot;Araragi&quot;, &quot;Arararagi&quot;,\r\n        &quot;Ararararagi&quot;, &quot;Kagyua Luna&quot;, &quot;KAGUYA LUNA!&quot;, &quot;Miku&quot;,\r\n        &quot;Luka&quot;, &quot;Madoka&quot;, &quot;Homura&quot;, &quot;Sayaka&quot;,\r\n        &quot;Kyoko&quot;, &quot;Llenn&quot;, &quot;002&quot;, &quot;Sinon&quot;,\r\n        &quot;Jibril&quot;, &quot;Sora&quot;, &quot;Shiro&quot;, &quot;Shuvi&quot;,\r\n        &quot;Riku&quot;, &quot;Regu&quot;, &quot;Nanachi&quot;, &quot;Mitty&quot;,\r\n        &quot;Yuri&quot;, &quot;Yuuri&quot;, &quot;Viktor&quot;, &quot;Honoka&quot;,\r\n        &quot;Kurisu&quot;, &quot;Kuristiiiina&quot;, &quot;Okabe&quot;, &quot;Okarin&quot;,\r\n        &quot;Hououin Kyoma&quot;, &quot;Leskinen&quot;, &quot;Mayuri&quot;, &quot;Mayushii&quot;,\r\n        &quot;Illya&quot;, &quot;Shining Finger&quot;, &quot;Daru&quot;, &quot;Mr Braun&quot;,\r\n        &quot;Suzuha&quot;, &quot;Rukako&quot;, &quot;Ruka&quot;, &quot;Faris&quot;,\r\n        &quot;Moeka&quot;, &quot;Noire&quot;, &quot;Pururut&quot;, &quot;Plutia&quot;,\r\n        &quot;Doggo&quot;, &quot;Subaru&quot;, &quot;Rem&quot;, &quot;Ram&quot;,\r\n        &quot;Emilia&quot;, &quot;Puck&quot;, &quot;Pack&quot;, &quot;Dogoo&quot;,\r\n        &quot;Shinobu&quot;, &quot;Kiss-Shot Acerola-Orion Heart-Under-Blade&quot;, &quot;Burg&quot;, &quot;Obi-Wan Kenobi&quot;,\r\n        &quot;Albedo&quot;, &quot;Shalltear&quot;, &quot;Momonga&quot;, &quot;Momon Saaa-aaan&quot;,\r\n        &quot;2B&quot;, &quot;9S&quot;, &quot;A2&quot;, &quot;Saber&quot;,\r\n        &quot;Rin Tohsaka&quot;, &quot;Mai Sakurajima&quot;, &quot;Sakuta&quot;, &quot;Tomoe&quot;,\r\n        &quot;Rio&quot;, &quot;Nodoka&quot;, &quot;Kaede&quot;, &quot;Snorlax&quot;,\r\n        &quot;Peroronccino&quot;, &quot;Alice-senpai&quot;, &quot;Blue Tundra&quot;, &quot;Holo&quot;,\r\n        &quot;Captain Falcon&quot;\r\n    ) // If nobody knows what we used to generate the pdf it&#39;s more secure, right?\r\n}\r\n```\r\n\r\nto determine why colon : is illegal and did not display the image from image.ftlh file \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tb4Lh.png","title":"To display the image from the S3 bucket to the Freemarker PDF but I got an error","body":"<p>To display the image from the S3 bucket to the Freemarker PDF but I got an error.</p>\n<p>I created an API for generated PDFs using Freemarker and I need to display the images inside the PDF file and it should be get from the S3 bucket.</p>\n<p>I converted the file from the S3 bucket into byteArray and displayed it in the template.FTL</p>\n<p>&lt;img src=&quot;data:image/png;base64,${imageBase64}&quot;/&gt;</p>\n<p>Anyone could help me solve this issue? Thanks in advance.</p>\n<p>Here's the error:</p>\n<p><a href=\"https://i.stack.imgur.com/tb4Lh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tb4Lh.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Code to generate PDF data.\n\nfun generatePdfData(templateName: String, data: Any?): ByteArray {\n    val html = StringWriter().use { stringWriter -&gt;\n        cfg.outputFormat = HTMLOutputFormat.INSTANCE\n        cfg.getTemplate(templateName).process(data, stringWriter)\n        stringWriter.toString()\n    }\n    return ByteArrayOutputStream().use { os -&gt;\n        rendererBuilder\n            .withProducer(CREATORS.random())\n            .withHtmlContent(html, &quot;&quot;)\n            .toStream(os)\n            .run()\n\n        os.toByteArray()\n    }\n}\n</code></pre>\n<pre><code>Configuration of template loader.\n\nprivate val cfg: Configuration = Configuration(\n        Configuration.VERSION_2_3_29\n    ).apply {\n        setClassForTemplateLoading(this.javaClass, RESOURCE_BASE_TEMPLATE_DIR)\n        isAPIBuiltinEnabled = true\n        timeZone = TimeZone.getTimeZone(MANILA_TIME_ZONE_ID)\n        sqlDateAndTimeTimeZone = TimeZone.getDefault() // Freemarker docs told me to do this.\n        defaultEncoding = &quot;UTF-8&quot;\n        templateExceptionHandler = TemplateExceptionHandler.RETHROW_HANDLER\n        logTemplateExceptions = false\n        wrapUncheckedExceptions = true\n        fallbackOnNullLoopVariable = false\n        setSharedVariable(&quot;moneyToWords&quot;, TradukistoDirective())\n    }\n</code></pre>\n<pre><code>Fonts list.\n\nprivate val fonts = listOf(\n    &quot;NotoSans-Regular.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-Bold.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-BoldItalic.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSans-Italic.ttf&quot; to &quot;BodyText&quot;,\n    &quot;NotoSansTagalog-Regular.ttf&quot; to &quot;BodyTextBaybayin&quot;,\n    &quot;NotoSerif-Regular.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-Bold.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-BoldItalic.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;NotoSerif-Italic.ttf&quot; to &quot;HeaderText&quot;,\n    &quot;MPLUS1p-Regular.ttf&quot; to &quot;BodyTextJP&quot;,\n    &quot;MPLUS1p-Bold.ttf&quot; to &quot;BodyTextJP&quot;\n)\n</code></pre>\n<pre><code>rendering builder.\n\nprivate val rendererBuilder: PdfRendererBuilder = PdfRendererBuilder()\n    .useFastMode()\n    .usePdfUaAccessbility(true)\n    .usePdfVersion(1.7f)\n    .usePdfAConformance(PdfRendererBuilder.PdfAConformance.PDFA_3_A)\n    .useUriResolver { _, uri -&gt;\n        // We have a custom URI resolver because the built-in one doesn't work with resources or something.\n        val loader = Thread.currentThread().contextClassLoader\n        val path = loader.getResource(Paths.get(RESOURCE_BASE_TEMPLATE_DIR, uri).toString())?.toString()\n        path\n    }\n    .also { builder -&gt;\n        // We load in all of the fonts, loading bold and italic ones by-convention.\n        fonts.forEach { (resource, name) -&gt;\n            val fontPath = Paths.get(RESOURCE_BASE_FONT_DIR, resource).toString()\n            val style = when {\n                resource.lowercase().contains(&quot;italic&quot;) -&gt; BaseRendererBuilder.FontStyle.ITALIC\n                else -&gt; BaseRendererBuilder.FontStyle.NORMAL\n            }\n            val weight = when {\n                resource.lowercase().contains(&quot;bold&quot;) -&gt; 700\n                else -&gt; 400\n            }\n            builder.useFont(\n                {\n                    Thread.currentThread().contextClassLoader.getResourceAsStream(fontPath)\n                        ?: throw FileNotFoundException(CM0080 + resource)\n                },\n                name,\n                weight,\n                style,\n                true\n            )\n        }\n    }\n</code></pre>\n<pre><code>class TradukistoDirective : TemplateDirectiveModel {\n    override fun execute(\n        env: Environment?,\n        params: MutableMap&lt;Any?, Any?&gt;?,\n        loopVars: Array&lt;out TemplateModel&gt;?,\n        body: TemplateDirectiveBody?\n    ) {\n        if (loopVars?.isNotEmpty() != false) {\n            throw TemplateModelException(CM0090)\n        }\n        if (body != null) {\n            throw TemplateModelException(CM0100)\n        }\n\n        val value = params?.get(&quot;value&quot;)?.let { (it as SimpleNumber).asNumber as BigDecimal }\n            ?: throw TemplateModelException(CM0110)\n\n        val output = if (value &gt; Integer.MAX_VALUE.toBigDecimal()) {\n            &quot;NUMBER TOO LARGE&quot;\n        } else {\n            val converter: MoneyConverters = MoneyConverters.ENGLISH_BANKING_MONEY_VALUE\n            converter.asWords(value.setScale(2, RoundingMode.HALF_UP))\n                .replace(&quot;£&quot;, &quot;and&quot;)\n                .plus(&quot; only&quot;)\n                .split(&quot; &quot;)\n                .joinToString(&quot; &quot;) { it -&gt;\n                    if (it !in setOf(&quot;and&quot;, &quot;only&quot;)) {\n                        it.replaceFirstChar { if (it.isLowerCase()) it.titlecase(Locale.getDefault()) else it.toString() }\n                    } else {\n                        it\n                    }\n                }\n        }\n\n        env!!.out.append(output)\n    }\n}\n</code></pre>\n<pre><code>directories.\n\ncompanion object {\n    const val RESOURCE_BASE_TEMPLATE_DIR = &quot;pdfTemplates&quot;\n    const val RESOURCE_BASE_FONT_DIR = &quot;pdfFonts&quot;\n    val CREATORS = listOf(\n        &quot;Nep&quot;, &quot;Yui&quot;, &quot;Mio&quot;, &quot;Mugi&quot;,\n        &quot;Asuza&quot;, &quot;Ritsu&quot;, &quot;Lalatina&quot;, &quot;Darkness&quot;,\n        &quot;Aqua&quot;, &quot;Megumin&quot;, &quot;Kazuma&quot;, &quot;Renge&quot;,\n        &quot;Hotarun&quot;, &quot;Senjyougahara&quot;, &quot;Hanekawa&quot;, &quot;Nadeko&quot;,\n        &quot;Hachikuji&quot;, &quot;Kizuna&quot;, &quot;Araragi&quot;, &quot;Arararagi&quot;,\n        &quot;Ararararagi&quot;, &quot;Kagyua Luna&quot;, &quot;KAGUYA LUNA!&quot;, &quot;Miku&quot;,\n        &quot;Luka&quot;, &quot;Madoka&quot;, &quot;Homura&quot;, &quot;Sayaka&quot;,\n        &quot;Kyoko&quot;, &quot;Llenn&quot;, &quot;002&quot;, &quot;Sinon&quot;,\n        &quot;Jibril&quot;, &quot;Sora&quot;, &quot;Shiro&quot;, &quot;Shuvi&quot;,\n        &quot;Riku&quot;, &quot;Regu&quot;, &quot;Nanachi&quot;, &quot;Mitty&quot;,\n        &quot;Yuri&quot;, &quot;Yuuri&quot;, &quot;Viktor&quot;, &quot;Honoka&quot;,\n        &quot;Kurisu&quot;, &quot;Kuristiiiina&quot;, &quot;Okabe&quot;, &quot;Okarin&quot;,\n        &quot;Hououin Kyoma&quot;, &quot;Leskinen&quot;, &quot;Mayuri&quot;, &quot;Mayushii&quot;,\n        &quot;Illya&quot;, &quot;Shining Finger&quot;, &quot;Daru&quot;, &quot;Mr Braun&quot;,\n        &quot;Suzuha&quot;, &quot;Rukako&quot;, &quot;Ruka&quot;, &quot;Faris&quot;,\n        &quot;Moeka&quot;, &quot;Noire&quot;, &quot;Pururut&quot;, &quot;Plutia&quot;,\n        &quot;Doggo&quot;, &quot;Subaru&quot;, &quot;Rem&quot;, &quot;Ram&quot;,\n        &quot;Emilia&quot;, &quot;Puck&quot;, &quot;Pack&quot;, &quot;Dogoo&quot;,\n        &quot;Shinobu&quot;, &quot;Kiss-Shot Acerola-Orion Heart-Under-Blade&quot;, &quot;Burg&quot;, &quot;Obi-Wan Kenobi&quot;,\n        &quot;Albedo&quot;, &quot;Shalltear&quot;, &quot;Momonga&quot;, &quot;Momon Saaa-aaan&quot;,\n        &quot;2B&quot;, &quot;9S&quot;, &quot;A2&quot;, &quot;Saber&quot;,\n        &quot;Rin Tohsaka&quot;, &quot;Mai Sakurajima&quot;, &quot;Sakuta&quot;, &quot;Tomoe&quot;,\n        &quot;Rio&quot;, &quot;Nodoka&quot;, &quot;Kaede&quot;, &quot;Snorlax&quot;,\n        &quot;Peroronccino&quot;, &quot;Alice-senpai&quot;, &quot;Blue Tundra&quot;, &quot;Holo&quot;,\n        &quot;Captain Falcon&quot;\n    ) // If nobody knows what we used to generate the pdf it's more secure, right?\n}\n</code></pre>\n<p>to determine why colon : is illegal and did not display the image from image.ftlh file</p>\n"},{"tags":["java","selenium-webdriver","junit"],"answers":[{"tags":[],"owner":{"account_id":29342138,"reputation":1,"user_id":22481307,"display_name":"Dark Soul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693622053,"creation_date":1693622053,"answer_id":77026764,"question_id":77026741,"body_markdown":"1.Use explicit waits to wait for the suggestions to appear before trying to select one. This ensures the DOM is ready before interacting with it.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul/li[contains(., &#39;Brussels (BRU)&#39;)]&quot;)));\r\n\r\n2.Use findElements() to get the list of suggested options, then use a loop with contains text check to select the desired option:\r\n\r\n    List&lt;WebElement&gt; options = driver.findElements(By.xpath(&quot;//ul/li&quot;));\r\n    \r\n    for(WebElement option : options) {\r\n      if(option.getText().contains(&quot;Brussels (BRU)&quot;)) {\r\n        option.click();\r\n        break;\r\n      } \r\n    }\r\n\r\n3.You can also use explicit indexing to select the first/second etc matching option:\r\n\r\n    driver.findElement(By.xpath(&quot;//ul/li[contains(., &#39;Brussels (BRU)&#39;)][1]&quot;)).click();\r\n\r\n4.Handling the drop down differently for one way vs round trip flight selection.\r\n5.Add assertions to validate correct option was selected.","title":"Why webelement list size shows 0","body":"<p>1.Use explicit waits to wait for the suggestions to appear before trying to select one. This ensures the DOM is ready before interacting with it.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//ul/li[contains(., 'Brussels (BRU)')]&quot;)));\n</code></pre>\n<p>2.Use findElements() to get the list of suggested options, then use a loop with contains text check to select the desired option:</p>\n<pre><code>List&lt;WebElement&gt; options = driver.findElements(By.xpath(&quot;//ul/li&quot;));\n\nfor(WebElement option : options) {\n  if(option.getText().contains(&quot;Brussels (BRU)&quot;)) {\n    option.click();\n    break;\n  } \n}\n</code></pre>\n<p>3.You can also use explicit indexing to select the first/second etc matching option:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//ul/li[contains(., 'Brussels (BRU)')][1]&quot;)).click();\n</code></pre>\n<p>4.Handling the drop down differently for one way vs round trip flight selection.\n5.Add assertions to validate correct option was selected.</p>\n"}],"owner":{"account_id":29054564,"reputation":1,"user_id":22256604,"display_name":"Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693622053,"creation_date":1693621440,"question_id":77026741,"body_markdown":"I would like to more about selenium webdriver java\r\n`\r\n```\r\npackage pkg;\r\nimport java.util.List;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n//import org.openqa.selenium.interactions.Actions;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\npublic class Booking {\r\n\t\r\n\tChromeDriver driver;\r\n\tString baseurl=&quot;https://www.expedia.co.in/Flights&quot;;\r\n\t@Before\r\n\tpublic void setup() {\r\n\t\t\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\tdriver = new ChromeDriver(); \r\n\t\t}\r\n\r\n\t@Test\r\n\tpublic void functions() throws InterruptedException  {\r\n\t\t  driver.get(baseurl); \r\n\t\t  driver.manage().window().maximize();\r\n\t\tWebElement dropdown=  driver.findElement(By.xpath(&quot;//span[text()=&#39;Economy&#39;]&quot;));\r\ndropdown.click();\r\nList &lt;WebElement&gt; drop=driver.findElements(By.xpath(&quot;//div[@class=&#39;uitk-list uitk-type-400&#39;]//span&quot;));\r\nfor(int i=0;i&lt;drop.size();i++) \r\n{\r\n\tSystem.out.println(drop.get(i).getText());\r\n\tif(drop.get(i).getText().contains(&quot;First class&quot;)) {\r\n\t\tdrop.get(i).click();\r\n\t\tbreak; }  }\r\nWebElement from=driver.findElement(By.xpath(&quot;//button[@aria-label=&#39;Leaving from&#39;]&quot;));\r\nfrom.sendKeys(&quot;Brussels (BRU - All Airports) Belgium&quot;);\r\nList&lt;WebElement&gt; lists=driver.findElements(By.xpath(&quot;//*[@id=&#39;origin_select-menu&#39;]/section/div/div[2]/div/ul/li[@data-stid=&#39;origin_select-result-item&#39;]&quot;));\r\nSystem.out.println(&quot;Size:&quot; +lists.size());\r\nThread.sleep(2000);\r\n//driver.quit();\r\n\r\n\r\n}\r\n}\r\n````\r\n\r\nI am trying to test the expedia.co.in website.where i want to test leaving from field and want to pass a value and also i want select that particular value from the auto suggestion list","title":"Why webelement list size shows 0","body":"<p>I would like to more about selenium webdriver java\n`</p>\n<pre><code>package pkg;\nimport java.util.List;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n//import org.openqa.selenium.interactions.Actions;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\npublic class Booking {\n    \n    ChromeDriver driver;\n    String baseurl=&quot;https://www.expedia.co.in/Flights&quot;;\n    @Before\n    public void setup() {\n        \n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver(); \n        }\n\n    @Test\n    public void functions() throws InterruptedException  {\n          driver.get(baseurl); \n          driver.manage().window().maximize();\n        WebElement dropdown=  driver.findElement(By.xpath(&quot;//span[text()='Economy']&quot;));\ndropdown.click();\nList &lt;WebElement&gt; drop=driver.findElements(By.xpath(&quot;//div[@class='uitk-list uitk-type-400']//span&quot;));\nfor(int i=0;i&lt;drop.size();i++) \n{\n    System.out.println(drop.get(i).getText());\n    if(drop.get(i).getText().contains(&quot;First class&quot;)) {\n        drop.get(i).click();\n        break; }  }\nWebElement from=driver.findElement(By.xpath(&quot;//button[@aria-label='Leaving from']&quot;));\nfrom.sendKeys(&quot;Brussels (BRU - All Airports) Belgium&quot;);\nList&lt;WebElement&gt; lists=driver.findElements(By.xpath(&quot;//*[@id='origin_select-menu']/section/div/div[2]/div/ul/li[@data-stid='origin_select-result-item']&quot;));\nSystem.out.println(&quot;Size:&quot; +lists.size());\nThread.sleep(2000);\n//driver.quit();\n\n\n}\n}\n</code></pre>\n<p>I am trying to test the expedia.co.in website.where i want to test leaving from field and want to pass a value and also i want select that particular value from the auto suggestion list</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1693621202,"post_id":77026683,"comment_id":135788850,"body_markdown":"One solution is &#39;don&#39;t do that&#39;.  Always acquire locks in  a specific order; this is manageable with a small, fixed number of locks (or at least, the case where you don&#39;t ever hold 2 locks of tthe same rank).","body":"One solution is &#39;don&#39;t do that&#39;.  Always acquire locks in  a specific order; this is manageable with a small, fixed number of locks (or at least, the case where you don&#39;t ever hold 2 locks of tthe same rank)."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1693622720,"post_id":77026683,"comment_id":135788915,"body_markdown":"Two phase locking is a well established protocol (see https://en.wikipedia.org/wiki/Two-phase_locking). Or you could consider the locks as a group to be a resource, and wrap them in an object to manage them - in practice, have a &quot;master lock&quot; that you need before you can lock or unlock any of the group, then release it.","body":"Two phase locking is a well established protocol (see <a href=\"https://en.wikipedia.org/wiki/Two-phase_locking\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Two-phase_locking</a>). Or you could consider the locks as a group to be a resource, and wrap them in an object to manage them - in practice, have a &quot;master lock&quot; that you need before you can lock or unlock any of the group, then release it."},{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":0,"creation_date":1693943872,"post_id":77026683,"comment_id":135825695,"body_markdown":"Short answer is &quot;no&quot;. At least I&#39;m not aware of anything comparable in the standard library.  When I implemented my own, the locks were expressed as strings. That way I could sort them and thus grab them consistently in the same order.  `Object::wait` and `Object::notifyAll` did the rest.","body":"Short answer is &quot;no&quot;. At least I&#39;m not aware of anything comparable in the standard library.  When I implemented my own, the locks were expressed as strings. That way I could sort them and thus grab them consistently in the same order.  <code>Object::wait</code> and <code>Object::notifyAll</code> did the rest."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693621541,"creation_date":1693620368,"answer_id":77026716,"question_id":77026683,"body_markdown":"&gt; Does Java have such a thing?\r\n\r\nYou cannot do this with Java primitive mutexes; i.e. `synchronized`.\r\nBut if you use `Lock` objects rather than primitive mutexes, you can implement that kind of behavior using `Lock.tryLock`.  For example.\r\n\r\n\r\n    Lock lock1 ...\r\n    Lock lock2 ...\r\n\r\n    lock1.lock();  // This blocks until the lock is acquired\r\n    try {\r\n        if (lock2.tryLock()) {  // NB: this does not block ... so no deadlock\r\n           try {\r\n              // Do stuff\r\n           } finally {\r\n              lock2.unlock();\r\n           } \r\n        } else {\r\n           System.out.println(&quot;Potential deadlock avoided!&quot;);\r\n        }\r\n    } finally {\r\n        lock1.unlock();\r\n    } \r\n\r\nNote that you must use *try ... finally* for this.  Since a `Lock` is not auto-closable, *try with resource* won&#39;t release the lock.\r\n\r\nFor more details, refer to the [javadocs][1] for the `Lock` interface.\r\n\r\n------------------\r\n\r\nIt is worth noting that while the above won&#39;t deadlock, there is still a (theoretical) risk of livelock where two threads loop the above code and repeatedly avoid the deadlock ... but make no actual progress.\r\n\r\nAs noted by a commenter, another way to avoid deadlock is to design the application so that pairs of locks are always acquired in the same order.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html","title":"How to acquire more than one lock atomically in Java?","body":"<blockquote>\n<p>Does Java have such a thing?</p>\n</blockquote>\n<p>You cannot do this with Java primitive mutexes; i.e. <code>synchronized</code>.\nBut if you use <code>Lock</code> objects rather than primitive mutexes, you can implement that kind of behavior using <code>Lock.tryLock</code>.  For example.</p>\n<pre><code>Lock lock1 ...\nLock lock2 ...\n\nlock1.lock();  // This blocks until the lock is acquired\ntry {\n    if (lock2.tryLock()) {  // NB: this does not block ... so no deadlock\n       try {\n          // Do stuff\n       } finally {\n          lock2.unlock();\n       } \n    } else {\n       System.out.println(&quot;Potential deadlock avoided!&quot;);\n    }\n} finally {\n    lock1.unlock();\n} \n</code></pre>\n<p>Note that you must use <em>try ... finally</em> for this.  Since a <code>Lock</code> is not auto-closable, <em>try with resource</em> won't release the lock.</p>\n<p>For more details, refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">javadocs</a> for the <code>Lock</code> interface.</p>\n<hr />\n<p>It is worth noting that while the above won't deadlock, there is still a (theoretical) risk of livelock where two threads loop the above code and repeatedly avoid the deadlock ... but make no actual progress.</p>\n<p>As noted by a commenter, another way to avoid deadlock is to design the application so that pairs of locks are always acquired in the same order.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693621541,"creation_date":1693619525,"question_id":77026683,"body_markdown":"A common pattern in Java to acquire more than one lock is like this:\r\n\r\n```\r\nsynchronized (lock1) {\r\n...\r\n   synchronized(lock2) {\r\n   }\r\n}\r\n```\r\n\r\nThis is a common cause of deadlocks, because if another thread has the order reversed i.e.:\r\n\r\n```\r\nsynchronized (lock2) {\r\n...\r\n   synchronized(lock1) {\r\n   }\r\n}\r\n```\r\n\r\nthen no thread will be able to proceed. Both are blocked indefinitely.\r\n\r\nC++ provides a [scoped_lock](https://en.cppreference.com/w/cpp/thread/scoped_lock) construct to acquire more than one lock atomically:\r\n\r\n&gt;When a scoped_lock object is created, it attempts to take ownership of the mutexes it is given. When control leaves the scope in which the scoped_lock object was created, the scoped_lock is destructed and the mutexes are released. If several mutexes are given, deadlock avoidance algorithm is used as if by std::lock.\r\n\r\nDoes Java have such a thing?\r\n","title":"How to acquire more than one lock atomically in Java?","body":"<p>A common pattern in Java to acquire more than one lock is like this:</p>\n<pre><code>synchronized (lock1) {\n...\n   synchronized(lock2) {\n   }\n}\n</code></pre>\n<p>This is a common cause of deadlocks, because if another thread has the order reversed i.e.:</p>\n<pre><code>synchronized (lock2) {\n...\n   synchronized(lock1) {\n   }\n}\n</code></pre>\n<p>then no thread will be able to proceed. Both are blocked indefinitely.</p>\n<p>C++ provides a <a href=\"https://en.cppreference.com/w/cpp/thread/scoped_lock\" rel=\"nofollow noreferrer\">scoped_lock</a> construct to acquire more than one lock atomically:</p>\n<blockquote>\n<p>When a scoped_lock object is created, it attempts to take ownership of the mutexes it is given. When control leaves the scope in which the scoped_lock object was created, the scoped_lock is destructed and the mutexes are released. If several mutexes are given, deadlock avoidance algorithm is used as if by std::lock.</p>\n</blockquote>\n<p>Does Java have such a thing?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":5551110,"reputation":542,"user_id":4404129,"accept_rate":100,"display_name":"Jeffin Manuel"},"score":3,"creation_date":1523337721,"post_id":49745848,"comment_id":86506024,"body_markdown":"Path file = Paths.get(&quot;myfile.txt&quot;);","body":"Path file = Paths.get(&quot;myfile.txt&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":12087894,"reputation":341,"user_id":8835677,"accept_rate":100,"display_name":"Night Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693619845,"creation_date":1523339096,"answer_id":49746141,"question_id":49745848,"body_markdown":"Use [`Paths.get`][1] produce a [`Path`][2] object.\r\n\r\n    Path path = Paths.get(&quot;src/main/resources/question.txt&quot;);\r\n\r\nOr:\r\n\r\n    Path path = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;question.txt&quot;);\r\n\r\n\r\nA [`Path`][2] object is a hierarchical representation of the path on a system to the file or directory. The `java.nio.file.Path` interface is the primary entry point for working with the NIO 2 API.\r\n\r\nThe easiest way to create a Path Object is to use the `java.nio.files.Paths` factory class. The class has a pair of static `get()` method which can be used to obtain a reference to a file or directory. The methods accept either a string, or a sequence of strings (which it will join to form a path) as parameters. A `java.nio.file.Path` , like a `File`, may refer to either an absolute or relative path within the file system.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.net.URI)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html","title":"Creating files using java.nio.file Functionality","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.net.URI)\" rel=\"nofollow noreferrer\"><code>Paths.get</code></a> produce a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> object.</p>\n<pre><code>Path path = Paths.get(&quot;src/main/resources/question.txt&quot;);\n</code></pre>\n<p>Or:</p>\n<pre><code>Path path = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;question.txt&quot;);\n</code></pre>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Path</code></a> object is a hierarchical representation of the path on a system to the file or directory. The <code>java.nio.file.Path</code> interface is the primary entry point for working with the NIO 2 API.</p>\n<p>The easiest way to create a Path Object is to use the <code>java.nio.files.Paths</code> factory class. The class has a pair of static <code>get()</code> method which can be used to obtain a reference to a file or directory. The methods accept either a string, or a sequence of strings (which it will join to form a path) as parameters. A <code>java.nio.file.Path</code> , like a <code>File</code>, may refer to either an absolute or relative path within the file system.</p>\n"}],"owner":{"account_id":13330542,"reputation":15,"user_id":9622015,"display_name":"mama"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49746141,"answer_count":1,"score":1,"last_activity_date":1693619845,"creation_date":1523337565,"question_id":49745848,"body_markdown":"I was reading the oracle to understand how to create files using Path in  java.nio.file Functionality instead of java.io.File Functionality \r\nand this is the sample code:\r\n\r\n    Path file = ...;\r\n       try {\r\n       // Create the empty file with default permissions, etc.\r\n       Files.createFile(file);\r\n        } catch (FileAlreadyExistsException x) {\r\n        System.err.format(&quot;file named %s&quot; +\r\n        &quot; already exists%n&quot;, file);\r\n       } catch (IOException x) {\r\n        // Some other sort of failure, such as permissions.\r\n       System.err.format(&quot;createFile error: %s%n&quot;, x);\r\n      }\r\n\r\nBut what is in the ...; space? what should I type there?\r\n\r\n","title":"Creating files using java.nio.file Functionality","body":"<p>I was reading the oracle to understand how to create files using Path in  java.nio.file Functionality instead of java.io.File Functionality \nand this is the sample code:</p>\n\n<pre><code>Path file = ...;\n   try {\n   // Create the empty file with default permissions, etc.\n   Files.createFile(file);\n    } catch (FileAlreadyExistsException x) {\n    System.err.format(\"file named %s\" +\n    \" already exists%n\", file);\n   } catch (IOException x) {\n    // Some other sort of failure, such as permissions.\n   System.err.format(\"createFile error: %s%n\", x);\n  }\n</code></pre>\n\n<p>But what is in the ...; space? what should I type there?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse"],"answers":[{"comments":[{"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"score":0,"creation_date":1418297847,"post_id":27421886,"comment_id":43286154,"body_markdown":"Thats exactly my question, I cannot import them. The import line shows class cannot be resolved","body":"Thats exactly my question, I cannot import them. The import line shows class cannot be resolved"},{"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"score":0,"creation_date":1418298195,"post_id":27421886,"comment_id":43286354,"body_markdown":"And they&#39;re part of the same project? Are the classes `public`?","body":"And they&#39;re part of the same project? Are the classes <code>public</code>?"},{"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"score":0,"creation_date":1418298371,"post_id":27421886,"comment_id":43286461,"body_markdown":"Yes part of same project and are public classes too.","body":"Yes part of same project and are public classes too."}],"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418298248,"creation_date":1418297592,"answer_id":27421886,"question_id":27421838,"body_markdown":"You just need to `import` them. Eclipse should help you with this: if you try to use the class names, it&#39;ll suggest where to import from.\r\n\r\nThe test classes are a separate package, so the classes will need to be declared `public`.","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>You just need to <code>import</code> them. Eclipse should help you with this: if you try to use the class names, it'll suggest where to import from.</p>\n\n<p>The test classes are a separate package, so the classes will need to be declared <code>public</code>.</p>\n"},{"comments":[{"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"score":0,"creation_date":1418298845,"post_id":27422188,"comment_id":43286748,"body_markdown":"Thank you, I couldnt believe this worked. I had done a maven clean and rebuilt the dependancies and it did not work. An eclipse clean worked :o","body":"Thank you, I couldnt believe this worked. I had done a maven clean and rebuilt the dependancies and it did not work. An eclipse clean worked :o"},{"owner":{"account_id":3689497,"reputation":171,"user_id":3072449,"display_name":"Magic Hands Pellegrin"},"score":0,"creation_date":1582686784,"post_id":27422188,"comment_id":106859696,"body_markdown":"I&#39;m using eclipse 2019 - 12: switching Workspace then switching back did the trick for me.  Thumbs Up.","body":"I&#39;m using eclipse 2019 - 12: switching Workspace then switching back did the trick for me.  Thumbs Up."}],"tags":[],"owner":{"account_id":4988045,"reputation":1050,"user_id":4011077,"display_name":"Daniel Stanley"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1499876565,"creation_date":1418298518,"answer_id":27422188,"question_id":27421838,"body_markdown":"I have found that sometimes this error appears and by simply going `Project -&gt; Clean...` the error will stop.\r\n\r\nHowever if this does not work there is a blog with some more suggestions [here](http://blog.sherifmansour.com/?p=207)\r\n\r\n**Updated 11/07/2017**\r\n\r\nThe original link is no longer available, refer to web archive [here](http://web.archive.org/web/20160808194301/http://blog.sherifmansour.com/?p=207)\r\n\r\nOr just have them all here..\r\n\r\n- ‘Clean’ Your Eclipse Project: Go to Project &gt; Clean in Eclipse [This seems to work for me]\r\n- Refresh your project folder (right click on your project &gt; refresh)\r\n- Re-build your project\r\n- Clean your builds (If using Ant or Maven – clean your builds)\r\n- Recreate your project in Eclipse\r\n- ‘Switch’ Workspace – then Switch back (Eg Change to Debug, then switch back to Java)\r\n- Remove and re-add your JRE:\r\n1. Right Click on your project &gt; properties\r\n2. Click on the Libraries tab\r\n3. Click on the JRE\r\n4. Click remove, then OK\r\n5. Repeat 1-3 again, but add the JRE again\r\n\r\n","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>I have found that sometimes this error appears and by simply going <code>Project -&gt; Clean...</code> the error will stop.</p>\n\n<p>However if this does not work there is a blog with some more suggestions <a href=\"http://blog.sherifmansour.com/?p=207\" rel=\"noreferrer\">here</a></p>\n\n<p><strong>Updated 11/07/2017</strong></p>\n\n<p>The original link is no longer available, refer to web archive <a href=\"http://web.archive.org/web/20160808194301/http://blog.sherifmansour.com/?p=207\" rel=\"noreferrer\">here</a></p>\n\n<p>Or just have them all here..</p>\n\n<ul>\n<li>‘Clean’ Your Eclipse Project: Go to Project > Clean in Eclipse [This seems to work for me]</li>\n<li>Refresh your project folder (right click on your project > refresh)</li>\n<li>Re-build your project</li>\n<li>Clean your builds (If using Ant or Maven – clean your builds)</li>\n<li>Recreate your project in Eclipse</li>\n<li>‘Switch’ Workspace – then Switch back (Eg Change to Debug, then switch back to Java)</li>\n<li>Remove and re-add your JRE:\n\n<ol>\n<li>Right Click on your project > properties</li>\n<li>Click on the Libraries tab</li>\n<li>Click on the JRE</li>\n<li>Click remove, then OK</li>\n<li>Repeat 1-3 again, but add the JRE again</li>\n</ol></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"score":1,"creation_date":1502571890,"post_id":45654863,"comment_id":78267985,"body_markdown":"Welcome to StackOverflow! This question has already been answered and accepted, no need to add the same answer again.","body":"Welcome to StackOverflow! This question has already been answered and accepted, no need to add the same answer again."}],"tags":[],"owner":{"account_id":11540170,"reputation":1,"user_id":8456178,"display_name":"Java by kiran"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502571342,"creation_date":1502571342,"answer_id":45654863,"question_id":27421838,"body_markdown":"Project -&gt; Clean\r\n\r\nis enough for me to work","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>Project -> Clean</p>\n\n<p>is enough for me to work</p>\n"},{"tags":[],"owner":{"account_id":19050446,"reputation":81,"user_id":13908741,"display_name":"Rahul Barahate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594419817,"creation_date":1594419817,"answer_id":62843096,"question_id":27421838,"body_markdown":"Absolutely, one can do it..\r\n\r\nFirst You need to navigate to Build Path--&gt;Configure Build Path--&gt; Source tab\r\n\r\nthen in the Source tab search/check [your Project Name]/src/main/java and change\r\n\r\n&quot;contains test sources&quot; from No to Yes and save it.\r\n\r\nThis will resolved issue of import packages from &quot;src/test/java&quot; to &quot;src/main/java&quot; successfully","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>Absolutely, one can do it..</p>\n<p>First You need to navigate to Build Path--&gt;Configure Build Path--&gt; Source tab</p>\n<p>then in the Source tab search/check [your Project Name]/src/main/java and change</p>\n<p>&quot;contains test sources&quot; from No to Yes and save it.</p>\n<p>This will resolved issue of import packages from &quot;src/test/java&quot; to &quot;src/main/java&quot; successfully</p>\n"},{"tags":[],"owner":{"account_id":4596317,"reputation":902,"user_id":3728258,"display_name":"Vivek Vashistha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693619419,"creation_date":1693619419,"answer_id":77026676,"question_id":27421838,"body_markdown":"In my case, it was happening because my IntelliJ Idea was configured for a different JDK version and my terminal was referring to a different JDK version. Due to this whenever I run Maven clean from the terminal, and then try to run tests via IDE, it gives this error.","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>In my case, it was happening because my IntelliJ Idea was configured for a different JDK version and my terminal was referring to a different JDK version. Due to this whenever I run Maven clean from the terminal, and then try to run tests via IDE, it gives this error.</p>\n"}],"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17588,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27422188,"answer_count":5,"score":12,"last_activity_date":1693619419,"creation_date":1418297465,"question_id":27421838,"body_markdown":"I am using maven project in Eclipse, where I am not able to access classes under src/main/java in src/test/java class. I could use the classes in maven dependacies jars though. What am I missing ?","title":"Cannot import java classes under src/main/java into src/test/java in eclipse","body":"<p>I am using maven project in Eclipse, where I am not able to access classes under src/main/java in src/test/java class. I could use the classes in maven dependacies jars though. What am I missing ?</p>\n"},{"tags":["java","spring-boot","transactions","rollback"],"answers":[{"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1690961930,"post_id":76817097,"comment_id":135424129,"body_markdown":"According with documentation:   `PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction for the given scope. This transaction will be committed or rolled back completely independent from the outer transaction, having its own isolation scope, its own set of locks, etc. The outer transaction will get suspended at the beginning of the inner one, and resumed once the inner one has completed`","body":"According with documentation:   <code>PROPAGATION_REQUIRES_NEW starts a new, independent &quot;inner&quot; transaction for the given scope. This transaction will be committed or rolled back completely independent from the outer transaction, having its own isolation scope, its own set of locks, etc. The outer transaction will get suspended at the beginning of the inner one, and resumed once the inner one has completed</code>"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957332,"creation_date":1690957332,"answer_id":76817097,"question_id":76816896,"body_markdown":"It`s a normal case why your log is not saved because the Spring Framework&#39;s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions.\r\n\r\nI think you should use a Transactional parameter \r\n\r\n    @Transactional(noRollbackFor=&quot;YourException.class&quot;)\r\n\r\nAnd also i suggest you to check this [one][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27849968/transactional-norollbackfor-runtimeexception-class-does-not-prevent-rollback","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p>It`s a normal case why your log is not saved because the Spring Framework's transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions.</p>\n<p>I think you should use a Transactional parameter</p>\n<pre><code>@Transactional(noRollbackFor=&quot;YourException.class&quot;)\n</code></pre>\n<p>And also i suggest you to check this <a href=\"https://stackoverflow.com/questions/27849968/transactional-norollbackfor-runtimeexception-class-does-not-prevent-rollback\">one</a></p>\n"},{"tags":[],"owner":{"account_id":29141905,"reputation":1,"user_id":22324681,"display_name":"ziming zeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690963133,"creation_date":1690963133,"answer_id":76817755,"question_id":76816896,"body_markdown":"spring requires you to throw an exception to be caught by the spring framework in order to do automatic transaction rollback. If you catch an exception manually, it requires a manual rollback, which you can add to your exception handling\r\n\r\n    TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\r\n\r\nYou also need to add it to the transaction\r\n\r\n    @Transactional(rollbackFor = Exception.class);","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p>spring requires you to throw an exception to be caught by the spring framework in order to do automatic transaction rollback. If you catch an exception manually, it requires a manual rollback, which you can add to your exception handling</p>\n<pre><code>TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\n</code></pre>\n<p>You also need to add it to the transaction</p>\n<pre><code>@Transactional(rollbackFor = Exception.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11677965,"reputation":95,"user_id":8617930,"display_name":"vipul jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693618843,"creation_date":1693617903,"answer_id":77026631,"question_id":76816896,"body_markdown":"**Why is a new transaction not getting created?**\r\n\r\nThe issue stems from the fact that transactional properties are applied only when a proxy bean is created. In this case, it appears that a proxy is not being created, leading to the absence of a new transaction.\r\n\r\nThe logs indicate that no proxy is created for the class containing the HelperC where logExceptionMethod is present. \r\n\r\n*(printed with the help of (ApplicationContext.getBean(className).getClass().getName()) )*\r\n\r\n    INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 ###classname: HelperC\r\n\r\nHowever, CGLIB proxies are created for classes MainClass and SecondClass, where mainMethod and methodA are present.\r\n\r\n    INFO 8CBCB131-A16B-4F0D-9C17-AED5E15303CE - ###classname: MainClass$$EnhancerBySpringCGLIB$$b32bbff5\r\n    INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 - ###classname: SecondClass$$EnhancerBySpringCGLIB$$4c237172\r\n\r\n\r\n**Why is the proxy not getting created?**\r\n\r\nThe logs suggest that the bean HelperC is not eligible for processing by all BeanPostProcessors, specifically, it is not eligible for auto-proxying. \r\n\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperA&#39; of type [HelperA] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperB&#39; of type [HelperB] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;helperC&#39; of type [HelperC] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\nThis may be due to several reasons:\r\nHelperC is considered an infrastructure bean, which is a low-level bean used by the Spring framework itself.\r\nThe count of registered bean post-processors (beanFactory.getBeanPostProcessorCount()) is less than a certain target count.\r\nHelperC is not an instance of BeanPostProcessor.\r\nThis is determined by the PostProcessorRegistrationDelegate$BeanPostProcessorChecker class.\r\n\r\nAdditionally, the methodSecurityConfig class extends below class, which Configuration does not allow to create a proxy and defines beans as low-level beans (infrastructure beans)\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @Role(BeanDefinition.ROLE_INFRASTRUCTURE)\r\n    public class GlobalMethodSecurityConfiguration\r\n\r\nwhich prevents the creation of proxies. The methodSecurityConfig class autowires HelperA, which in turn autowires HelperB, eventually leading to the class containing logExceptionMethod, HelperC, which doesn&#39;t get proxied due to these rules.\r\n\r\n**Why is HelperA used in methodSecurityConfig in my case?**\r\n\r\nHelperA is used in methodSecurityConfig due to some business logic requirements. As a result, methodA from HelperA is autowired, leading to the autowiring of HelperB and subsequently HelperC, which contains logExceptionMethod. However, Spring Security configuration prevents the creation of proxies for these classes.\r\n\r\n**Solution:**\r\n\r\nTo resolve this issue, I followed the below steps\r\n\r\n1) Remove Dependency on HelperA which has the logExceptionMethod:\r\n\r\nSince HelperA is causing the issue by triggering the auto-wiring chain that leads to logExceptionMethod, I tried removing the dependency on HelperA from methodSecurityConfig. This would break the chain and potentially allow the creation of proxies for the relevant classes. \r\n\r\n2) Instead of HelperA started using JPARepository classes to fulfill the requirement in security (this can vary according to the business use case). \r\n\r\nAlternatively, I can shift the logExceptionMethod to some other class as well, which is not getting used in the security context because by default beans used in the security context are not allowed to create proxies\r\n\r\n**In summary, the bean responsible for creating the transaction for logExceptionMethod is not being proxied. This is because it is being autowired in the security context, and the configuration in the parent class restricts the creation of proxies in this context.**\r\n\r\n[https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/][1]\r\n\r\n[https://www.baeldung.com/spring-not-eligible-for-auto-proxying][2]\r\n\r\n\r\n[https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412][3]\r\n\r\n\r\n  [1]: https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\r\n  [2]: https://www.baeldung.com/spring-not-eligible-for-auto-proxying\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p><strong>Why is a new transaction not getting created?</strong></p>\n<p>The issue stems from the fact that transactional properties are applied only when a proxy bean is created. In this case, it appears that a proxy is not being created, leading to the absence of a new transaction.</p>\n<p>The logs indicate that no proxy is created for the class containing the HelperC where logExceptionMethod is present.</p>\n<p><em>(printed with the help of (ApplicationContext.getBean(className).getClass().getName()) )</em></p>\n<pre><code>INFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 ###classname: HelperC\n</code></pre>\n<p>However, CGLIB proxies are created for classes MainClass and SecondClass, where mainMethod and methodA are present.</p>\n<pre><code>INFO 8CBCB131-A16B-4F0D-9C17-AED5E15303CE - ###classname: MainClass$$EnhancerBySpringCGLIB$$b32bbff5\nINFO 6F28649F-35D3-4382-9BA8-1AEAFA6E5FF3 - ###classname: SecondClass$$EnhancerBySpringCGLIB$$4c237172\n</code></pre>\n<p><strong>Why is the proxy not getting created?</strong></p>\n<p>The logs suggest that the bean HelperC is not eligible for processing by all BeanPostProcessors, specifically, it is not eligible for auto-proxying.</p>\n<pre><code>INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperA' of type [HelperA] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperB' of type [HelperB] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'helperC' of type [HelperC] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n</code></pre>\n<p>This may be due to several reasons:\nHelperC is considered an infrastructure bean, which is a low-level bean used by the Spring framework itself.\nThe count of registered bean post-processors (beanFactory.getBeanPostProcessorCount()) is less than a certain target count.\nHelperC is not an instance of BeanPostProcessor.\nThis is determined by the PostProcessorRegistrationDelegate$BeanPostProcessorChecker class.</p>\n<p>Additionally, the methodSecurityConfig class extends below class, which Configuration does not allow to create a proxy and defines beans as low-level beans (infrastructure beans)</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@Role(BeanDefinition.ROLE_INFRASTRUCTURE)\npublic class GlobalMethodSecurityConfiguration\n</code></pre>\n<p>which prevents the creation of proxies. The methodSecurityConfig class autowires HelperA, which in turn autowires HelperB, eventually leading to the class containing logExceptionMethod, HelperC, which doesn't get proxied due to these rules.</p>\n<p><strong>Why is HelperA used in methodSecurityConfig in my case?</strong></p>\n<p>HelperA is used in methodSecurityConfig due to some business logic requirements. As a result, methodA from HelperA is autowired, leading to the autowiring of HelperB and subsequently HelperC, which contains logExceptionMethod. However, Spring Security configuration prevents the creation of proxies for these classes.</p>\n<p><strong>Solution:</strong></p>\n<p>To resolve this issue, I followed the below steps</p>\n<ol>\n<li>Remove Dependency on HelperA which has the logExceptionMethod:</li>\n</ol>\n<p>Since HelperA is causing the issue by triggering the auto-wiring chain that leads to logExceptionMethod, I tried removing the dependency on HelperA from methodSecurityConfig. This would break the chain and potentially allow the creation of proxies for the relevant classes.</p>\n<ol start=\"2\">\n<li>Instead of HelperA started using JPARepository classes to fulfill the requirement in security (this can vary according to the business use case).</li>\n</ol>\n<p>Alternatively, I can shift the logExceptionMethod to some other class as well, which is not getting used in the security context because by default beans used in the security context are not allowed to create proxies</p>\n<p><strong>In summary, the bean responsible for creating the transaction for logExceptionMethod is not being proxied. This is because it is being autowired in the security context, and the configuration in the parent class restricts the creation of proxies in this context.</strong></p>\n<p><a href=\"https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\" rel=\"nofollow noreferrer\">https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/</a></p>\n<p><a href=\"https://www.baeldung.com/spring-not-eligible-for-auto-proxying\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-not-eligible-for-auto-proxying</a></p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/support/PostProcessorRegistrationDelegate.java#L412</a></p>\n"}],"owner":{"account_id":11677965,"reputation":95,"user_id":8617930,"display_name":"vipul jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77026631,"answer_count":3,"score":3,"last_activity_date":1693619092,"creation_date":1690954397,"question_id":76816896,"body_markdown":"**Spring always creates the new Transaction for REQUIRES_NEW, if an already existing transaction is present or not. but what is the situation where spring does not create new and instead participates in existing transactions?**\r\n\r\nBelow is the situation where new transaction is not getting created and instead participates in existing.\r\n\r\nAll the methods, mainMethod, methodA(), methodB() and logExceptionMethod() are in different beans,\r\nIdeally, When methodB() fails, exception will get caught in catch block, and logExceptionMethod() will audit the log by creating new transaction.\r\n\r\nBut here new transaction is not started for the logExceptionMethod() method even though, this method is annotated with requires_new\r\nand is Public and in different bean, instead it participates in existing transaction which result in rollback\r\n\r\nmainMethod -  Propagation.REQUIRES\r\nmethodA    -  Propagation.REQUIRES_NEW\r\nmethodB    -  not annotated\r\nlogExceptionMethod - Propagation.REQUIRES_NEW\r\n\r\nFlow\r\n```\r\n    @Transactional\r\n    mainMethod() {\r\n          try{\r\n                methodA();\r\n           } catch(Exception e) {\r\n                   throw e;\r\n           }\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    methodA(){\r\n         try{\r\n               methodB()\r\n              }\r\n         catch(Exception e) {\r\n              throw e;\r\n          }\r\n    }\r\n    \r\n    methodB(){\r\n          try {\r\n                 // api call gives exception\r\n                }\r\n           catch(Exception e) {\r\n                logExceptionMethod();\r\n                throw e;\r\n            }\r\n    }\r\n    \r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    logExceptionMethod() {\r\n          // create log entity\r\n          // store entity in db\r\n    }\r\n\r\n```\r\n\r\nLogs\r\n```\r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Creating new transaction with name [mainMethod]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53f498b2]\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [mainMethod]\r\n        \r\nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 2023-08-11 03:04:13 [qtp1482177069-1382] \r\n        \r\nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean &#39;transactionManager&#39;\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\r\n        \r\nINFO - 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : mainMethod\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Suspending current transaction, creating new transaction with name [methodA]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Opened new EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\r\n        \r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54c9937c]\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [methodA]\r\n        \r\nINFO- 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : methodA\r\n        \r\nERROR - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exception Occured \r\n        \r\nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method &#39;org.springframework.data.jpa.repository.support.SimpleJpaRepository.save&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\r\n        \r\nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean \r\n        &#39;transactionManager&#39;\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Participating in existing transaction\r\n        \r\nINFO  - 1F2EA187-C884-461C-8183-328A4B7621D0 - Added entry in log\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [methodA] after exception: \r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1186799888&lt;open&gt;)]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Closing JPA EntityManager [SessionImpl(1186799888&lt;open&gt;)] after transaction\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Resuming suspended transaction after completion of inner transaction\r\n        \r\nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [mainMethod] after exception:\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1543398267&lt;open&gt;)]\r\n        \r\nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Not closing pre-bound JPA EntityManager after transaction\r\n\r\n```\r\n\r\nNow I can use specific noRollbackFor property to prevent rollback the transaction, but still, the main question remains is \r\n1) why does Spring have not created new transaction?\r\n2) what is the situation where this scenario can happen?","title":"@Transactional(propagation = Propagation.REQUIRES_NEW) not creating the new transaction and instead participating in the previous transaction","body":"<p><strong>Spring always creates the new Transaction for REQUIRES_NEW, if an already existing transaction is present or not. but what is the situation where spring does not create new and instead participates in existing transactions?</strong></p>\n<p>Below is the situation where new transaction is not getting created and instead participates in existing.</p>\n<p>All the methods, mainMethod, methodA(), methodB() and logExceptionMethod() are in different beans,\nIdeally, When methodB() fails, exception will get caught in catch block, and logExceptionMethod() will audit the log by creating new transaction.</p>\n<p>But here new transaction is not started for the logExceptionMethod() method even though, this method is annotated with requires_new\nand is Public and in different bean, instead it participates in existing transaction which result in rollback</p>\n<p>mainMethod -  Propagation.REQUIRES\nmethodA    -  Propagation.REQUIRES_NEW\nmethodB    -  not annotated\nlogExceptionMethod - Propagation.REQUIRES_NEW</p>\n<p>Flow</p>\n<pre><code>    @Transactional\n    mainMethod() {\n          try{\n                methodA();\n           } catch(Exception e) {\n                   throw e;\n           }\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    methodA(){\n         try{\n               methodB()\n              }\n         catch(Exception e) {\n              throw e;\n          }\n    }\n    \n    methodB(){\n          try {\n                 // api call gives exception\n                }\n           catch(Exception e) {\n                logExceptionMethod();\n                throw e;\n            }\n    }\n    \n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    logExceptionMethod() {\n          // create log entity\n          // store entity in db\n    }\n\n</code></pre>\n<p>Logs</p>\n<pre><code>DEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Creating new transaction with name [mainMethod]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53f498b2]\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [mainMethod]\n        \nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 2023-08-11 03:04:13 [qtp1482177069-1382] \n        \nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean 'transactionManager'\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\n        \nINFO - 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : mainMethod\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1543398267&lt;open&gt;)] for JPA transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Suspending current transaction, creating new transaction with name [methodA]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Opened new EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\n        \n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54c9937c]\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Getting transaction for [methodA]\n        \nINFO- 1F2EA187-C884-461C-8183-328A4B7621D0 - Current transaction : methodA\n        \nERROR - 1F2EA187-C884-461C-8183-328A4B7621D0 - Exception Occured \n        \nTRACE o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$RepositoryAnnotationTransactionAttributeSource - 1F2EA187-C884-461C-8183-328A4B7621D0 - Adding transactional method 'org.springframework.data.jpa.repository.support.SimpleJpaRepository.save' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT\n        \nTRACE o.s.b.f.s.DefaultListableBeanFactory - 1F2EA187-C884-461C-8183-328A4B7621D0 - Returning cached instance of singleton bean \n        'transactionManager'\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Found thread-bound EntityManager [SessionImpl(1186799888&lt;open&gt;)] for JPA transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Participating in existing transaction\n        \nINFO  - 1F2EA187-C884-461C-8183-328A4B7621D0 - Added entry in log\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [methodA] after exception: \n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1186799888&lt;open&gt;)]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Closing JPA EntityManager [SessionImpl(1186799888&lt;open&gt;)] after transaction\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Resuming suspended transaction after completion of inner transaction\n        \nTRACE o.s.t.i.TransactionInterceptor - 1F2EA187-C884-461C-8183-328A4B7621D0 - Completing transaction for [mainMethod] after exception:\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Initiating transaction rollback\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Rolling back JPA transaction on EntityManager [SessionImpl(1543398267&lt;open&gt;)]\n        \nDEBUG o.s.orm.jpa.JpaTransactionManager - 1F2EA187-C884-461C-8183-328A4B7621D0 - Not closing pre-bound JPA EntityManager after transaction\n\n</code></pre>\n<p>Now I can use specific noRollbackFor property to prevent rollback the transaction, but still, the main question remains is</p>\n<ol>\n<li>why does Spring have not created new transaction?</li>\n<li>what is the situation where this scenario can happen?</li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","servlets"],"answers":[{"comments":[{"owner":{"account_id":133764,"reputation":737,"user_id":335396,"display_name":"Thor"},"score":0,"creation_date":1540477752,"post_id":41577235,"comment_id":92888753,"body_markdown":"With @EnableWebMvc the dispatcherServlet it already registered to /. \n\n&quot;you might expect the request to be forwarded to a JSP resource at the path /WEB-INF/jsps/example-view-name.jsp. This won&#39;t happen.&quot;\n\nHow do you make it work so that it forwards to a JSP resource at that path? That&#39;s basically the question asked.","body":"With @EnableWebMvc the dispatcherServlet it already registered to /.   &quot;you might expect the request to be forwarded to a JSP resource at the path /WEB-INF/jsps/example-view-name.jsp. This won&#39;t happen.&quot;  How do you make it work so that it forwards to a JSP resource at that path? That&#39;s basically the question asked."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1540494188,"post_id":41577235,"comment_id":92897631,"body_markdown":"@Tor On its own, `@EnableWebMvc` on a `@Configuration` annotated class does not do that. All it does is add a number of default Spring MVC handlers/adapters beans to the application context. Registering a `DispatcherServlet` to serve `/` is a completely separate process that&#39;s done in a number of ways that I describe in the **Other common mistakes** section. I answer _the question asked_ two paragraphs below what you quoted.","body":"@Tor On its own, <code>@EnableWebMvc</code> on a <code>@Configuration</code> annotated class does not do that. All it does is add a number of default Spring MVC handlers/adapters beans to the application context. Registering a <code>DispatcherServlet</code> to serve <code>&#47;</code> is a completely separate process that&#39;s done in a number of ways that I describe in the <b>Other common mistakes</b> section. I answer <i>the question asked</i> two paragraphs below what you quoted."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":3,"up_vote_count":117,"is_accepted":true,"score":114,"last_activity_date":1617139985,"creation_date":1484078009,"answer_id":41577235,"question_id":41577234,"body_markdown":"Your standard Spring MVC application will serve all requests through a [`DispatcherServlet`][1] that you&#39;ve registered with your Servlet container.\r\n\r\nThe `DispatcherServlet` looks at its `ApplicationContext` and, if available, the `ApplicationContext` registered with a `ContextLoaderListener` for special beans it needs to setup its request serving logic. [These beans are described in the documentation][2].\r\n\r\nArguably the most important, beans of type [`HandlerMapping`][3] map\r\n\r\n&gt; incoming requests to handlers and a list of pre- and post-processors\r\n&gt; (handler interceptors) based on some criteria the details of which\r\n&gt; vary by `HandlerMapping` implementation. The most popular implementation\r\n&gt; supports annotated controllers but other implementations exists as\r\n&gt; well.\r\n\r\n\r\nThe [javadoc of `HandlerMapping`][4] further describes how implementations must behave.\r\n\r\nThe `DispatcherServlet` finds all beans of this type and registers them in some order (can be customized). While serving a request, the `DispatcherServlet` loops through these `HandlerMapping` objects and tests each of them with [`getHandler`][5] to find one that can handle the incoming request, represented as the standard `HttpServletRequest`. As of 4.3.x, **if it doesn&#39;t find any**, it [logs the warning][6] that you see \r\n\r\n\r\n\r\n&gt; No mapping found for HTTP request with URI `[/some/path]` in `DispatcherServlet` with name SomeName\r\n\r\nand [either][7] throws a [`NoHandlerFoundException`][8] or immediately commits the response with a 404 Not Found status code.\r\n\r\nWhy didn&#39;t the `DispatcherServlet` find a `HandlerMapping` that could handle my request?\r\n===\r\n\r\nThe most common `HandlerMapping` implementation is [`RequestMappingHandlerMapping`][9], which handles registering `@Controller` beans as handlers (really their `@RequestMapping` annotated methods). You can either declare a bean of this type yourself (with `@Bean` or `&lt;bean&gt;` or other mechanism) or you can use [the built-in options][10]. These are: \r\n\r\n 1. Annotate your `@Configuration` class with `@EnableWebMvc`.\r\n 2. Declare a `&lt;mvc:annotation-driven /&gt;` member in your XML configuration.\r\n\r\nAs the link above describes, both of these will register a `RequestMappingHandlerMapping` bean (and a bunch of other stuff). However, a `HandlerMapping` isn&#39;t very useful without a handler. `RequestMappingHandlerMapping` expects some `@Controller` beans so you need to declare those too, through `@Bean` methods in a Java configuration or `&lt;bean&gt;` declarations in an XML configuration or through component scanning of `@Controller` annotated classes in either. **Make sure these beans are present.**\r\n\r\nIf you&#39;re getting the warning message and a 404 and you&#39;ve configured all of the above correctly, **then you&#39;re sending your request to the wrong URI**, one that isn&#39;t handled by a detected `@RequestMapping` annotated handler method.\r\n\r\nThe `spring-webmvc` library offers other built-in `HandlerMapping` implementations. For example, [`BeanNameUrlHandlerMapping`][11] maps \r\n\r\n&gt; from URLs to beans with names that start with a slash (&quot;/&quot;) \r\n\r\nand you can always write your own. Obviously, **you&#39;ll have to make sure the request you&#39;re sending matches at least one of the registered `HandlerMapping` object&#39;s handlers.**\r\n\r\nIf you don&#39;t implicitly or explicitly register any `HandlerMapping` beans (or if [`detectAllHandlerMappings`][12] is `true`), the `DispatcherServlet` registers some [defaults][13]. These are defined in [`DispatcherServlet.properties`][14] in the same package as the `DispatcherServlet` class. They are `BeanNameUrlHandlerMapping` and [`DefaultAnnotationHandlerMapping`][15] (which is similar to `RequestMappingHandlerMapping` but deprecated).\r\n\r\nDebugging\r\n===\r\n\r\nSpring MVC will log handlers registered through `RequestMappingHandlerMapping`. For example, a `@Controller` like\r\n\r\n    @Controller\r\n    public class ExampleController {\r\n        @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET, headers = &quot;X-Custom&quot;)\r\n        public String example() {\r\n            return &quot;example-view-name&quot;;\r\n        }\r\n    }\r\n\r\nwill log the following at INFO level\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Mapped &quot;{[/example],methods=[GET],headers=[X-Custom]}&quot; onto public java.lang.String com.spring.servlet.ExampleController.example()\r\n\r\nThis describes the mapping registered. When you see the warning that no handler was found, compare the URI in the message to the mapping listed here. All the restrictions specified in the [`@RequestMapping`][16] must match for Spring MVC to select the handler.\r\n\r\nOther `HandlerMapping` implementations log their own statements that should hint to their mappings and their corresponding handlers.\r\n\r\nSimilarly, enable Spring logging at DEBUG level to see which beans Spring registers. It should report which annotated classes it finds, which packages it scans, and which beans it initializes. If the ones you expected aren&#39;t present, then review your `ApplicationContext` configuration.\r\n\r\nOther common mistakes\r\n===\r\n\r\nA `DispatcherServlet` is just a typical Java EE [`Servlet`][17]. You register it with your typical `&lt;web.xml&gt;` `&lt;servlet-class&gt;` and `&lt;servlet-mapping&gt;` declaration, or directly through [`ServletContext#addServlet`][18] in a [`WebApplicationInitializer`][19], or with whatever mechanism Spring boot uses. As such, you must rely on the _url mapping_ logic specified in the [Servlet specification][20], see Chapter 12. See also\r\n\r\n- https://stackoverflow.com/questions/15385596/how-are-servlet-url-mappings-in-web-xml-used\r\n\r\nWith that in mind, a common mistake is to register the `DispatcherServlet` with a url mapping of `/*`, returning a view name from a `@RequestMapping` handler method, and expecting a JSP to be rendered. For example, consider a handler method like\r\n\r\n    @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET)\r\n    public String example() {\r\n        return &quot;example-view-name&quot;;\r\n    }\r\n\r\nwith an [`InternalResourceViewResolver`][21] \r\n\r\n    @Bean\r\n    public InternalResourceViewResolver resolver() {\r\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n        vr.setSuffix(&quot;.jsp&quot;);\r\n        return vr;\r\n    }\r\n\r\nyou might expect the request to be [forwarded][22] to a JSP resource at the path `/WEB-INF/jsps/example-view-name.jsp`. This won&#39;t happen. Instead, assuming a context name of `Example`, the `DisaptcherServlet` will report\r\n\r\n&gt; No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/example-view-name.jsp]` in `DispatcherServlet` with name &#39;dispatcher&#39;\r\n\r\nBecause the `DispatcherServlet` is mapped to `/*` and `/*` matches everything (except exact matches, which have higher priority), the `DispatcherServlet` would be chosen to handle the `forward` from the [`JstlView`][23] (returned by the `InternalResourceViewResolver`). **In almost every case, the `DispatcherServlet` will not be configured to handle such a request**.\r\n\r\nInstead, in this simplistic case, you should register the `DispatcherServlet` to `/`, marking it as the default servlet. The default servlet is the last match for a request. This will allow your typical servlet container to chose an internal Servlet implementation, mapped to `*.jsp`, to handle the JSP resource (for example, Tomcat has [`JspServlet`][24]), before trying with the default servlet.\r\n\r\nThat&#39;s what you&#39;re seeing in your example.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-special-bean-types\r\n  [3]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html#getHandler-javax.servlet.http.HttpServletRequest-\r\n  [6]: https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java#L1176\r\n  [7]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setThrowExceptionIfNoHandlerFound-boolean-\r\n  [8]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html\r\n  [10]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-enable\r\n  [11]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/handler/BeanNameUrlHandlerMapping.html\r\n  [12]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setDetectAllHandlerAdapters-boolean-\r\n  [13]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-config\r\n  [14]: https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/resources/org/springframework/web/servlet/DispatcherServlet.properties\r\n  [15]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html\r\n  [16]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\r\n  [17]: https://docs.oracle.com/javaee/7/api/javax/servlet/Servlet.html\r\n  [18]: http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#addServlet-java.lang.String-java.lang.Class-\r\n  [19]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\r\n  [20]: http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/\r\n  [21]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/view/InternalResourceViewResolver.html\r\n  [22]: http://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#forward-javax.servlet.ServletRequest-javax.servlet.ServletResponse-\r\n  [23]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/JstlView.html\r\n  [24]: https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/jasper/servlet/JspServlet.html","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Your standard Spring MVC application will serve all requests through a <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\" rel=\"noreferrer\"><code>DispatcherServlet</code></a> that you've registered with your Servlet container.</p>\n<p>The <code>DispatcherServlet</code> looks at its <code>ApplicationContext</code> and, if available, the <code>ApplicationContext</code> registered with a <code>ContextLoaderListener</code> for special beans it needs to setup its request serving logic. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-special-bean-types\" rel=\"noreferrer\">These beans are described in the documentation</a>.</p>\n<p>Arguably the most important, beans of type <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-handlermapping\" rel=\"noreferrer\"><code>HandlerMapping</code></a> map</p>\n<blockquote>\n<p>incoming requests to handlers and a list of pre- and post-processors\n(handler interceptors) based on some criteria the details of which\nvary by <code>HandlerMapping</code> implementation. The most popular implementation\nsupports annotated controllers but other implementations exists as\nwell.</p>\n</blockquote>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html\" rel=\"noreferrer\">javadoc of <code>HandlerMapping</code></a> further describes how implementations must behave.</p>\n<p>The <code>DispatcherServlet</code> finds all beans of this type and registers them in some order (can be customized). While serving a request, the <code>DispatcherServlet</code> loops through these <code>HandlerMapping</code> objects and tests each of them with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerMapping.html#getHandler-javax.servlet.http.HttpServletRequest-\" rel=\"noreferrer\"><code>getHandler</code></a> to find one that can handle the incoming request, represented as the standard <code>HttpServletRequest</code>. As of 4.3.x, <strong>if it doesn't find any</strong>, it <a href=\"https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java#L1176\" rel=\"noreferrer\">logs the warning</a> that you see</p>\n<blockquote>\n<p>No mapping found for HTTP request with URI <code>[/some/path]</code> in <code>DispatcherServlet</code> with name SomeName</p>\n</blockquote>\n<p>and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setThrowExceptionIfNoHandlerFound-boolean-\" rel=\"noreferrer\">either</a> throws a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/NoHandlerFoundException.html\" rel=\"noreferrer\"><code>NoHandlerFoundException</code></a> or immediately commits the response with a 404 Not Found status code.</p>\n<h1>Why didn't the <code>DispatcherServlet</code> find a <code>HandlerMapping</code> that could handle my request?</h1>\n<p>The most common <code>HandlerMapping</code> implementation is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html\" rel=\"noreferrer\"><code>RequestMappingHandlerMapping</code></a>, which handles registering <code>@Controller</code> beans as handlers (really their <code>@RequestMapping</code> annotated methods). You can either declare a bean of this type yourself (with <code>@Bean</code> or <code>&lt;bean&gt;</code> or other mechanism) or you can use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-config-enable\" rel=\"noreferrer\">the built-in options</a>. These are:</p>\n<ol>\n<li>Annotate your <code>@Configuration</code> class with <code>@EnableWebMvc</code>.</li>\n<li>Declare a <code>&lt;mvc:annotation-driven /&gt;</code> member in your XML configuration.</li>\n</ol>\n<p>As the link above describes, both of these will register a <code>RequestMappingHandlerMapping</code> bean (and a bunch of other stuff). However, a <code>HandlerMapping</code> isn't very useful without a handler. <code>RequestMappingHandlerMapping</code> expects some <code>@Controller</code> beans so you need to declare those too, through <code>@Bean</code> methods in a Java configuration or <code>&lt;bean&gt;</code> declarations in an XML configuration or through component scanning of <code>@Controller</code> annotated classes in either. <strong>Make sure these beans are present.</strong></p>\n<p>If you're getting the warning message and a 404 and you've configured all of the above correctly, <strong>then you're sending your request to the wrong URI</strong>, one that isn't handled by a detected <code>@RequestMapping</code> annotated handler method.</p>\n<p>The <code>spring-webmvc</code> library offers other built-in <code>HandlerMapping</code> implementations. For example, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/handler/BeanNameUrlHandlerMapping.html\" rel=\"noreferrer\"><code>BeanNameUrlHandlerMapping</code></a> maps</p>\n<blockquote>\n<p>from URLs to beans with names that start with a slash (&quot;/&quot;)</p>\n</blockquote>\n<p>and you can always write your own. Obviously, <strong>you'll have to make sure the request you're sending matches at least one of the registered <code>HandlerMapping</code> object's handlers.</strong></p>\n<p>If you don't implicitly or explicitly register any <code>HandlerMapping</code> beans (or if <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html#setDetectAllHandlerAdapters-boolean-\" rel=\"noreferrer\"><code>detectAllHandlerMappings</code></a> is <code>true</code>), the <code>DispatcherServlet</code> registers some <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet-config\" rel=\"noreferrer\">defaults</a>. These are defined in <a href=\"https://github.com/spring-projects/spring-framework/blob/4.3.x/spring-webmvc/src/main/resources/org/springframework/web/servlet/DispatcherServlet.properties\" rel=\"noreferrer\"><code>DispatcherServlet.properties</code></a> in the same package as the <code>DispatcherServlet</code> class. They are <code>BeanNameUrlHandlerMapping</code> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/DefaultAnnotationHandlerMapping.html\" rel=\"noreferrer\"><code>DefaultAnnotationHandlerMapping</code></a> (which is similar to <code>RequestMappingHandlerMapping</code> but deprecated).</p>\n<h1>Debugging</h1>\n<p>Spring MVC will log handlers registered through <code>RequestMappingHandlerMapping</code>. For example, a <code>@Controller</code> like</p>\n<pre><code>@Controller\npublic class ExampleController {\n    @RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET, headers = &quot;X-Custom&quot;)\n    public String example() {\n        return &quot;example-view-name&quot;;\n    }\n}\n</code></pre>\n<p>will log the following at INFO level</p>\n<pre class=\"lang-none prettyprint-override\"><code>Mapped &quot;{[/example],methods=[GET],headers=[X-Custom]}&quot; onto public java.lang.String com.spring.servlet.ExampleController.example()\n</code></pre>\n<p>This describes the mapping registered. When you see the warning that no handler was found, compare the URI in the message to the mapping listed here. All the restrictions specified in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"noreferrer\"><code>@RequestMapping</code></a> must match for Spring MVC to select the handler.</p>\n<p>Other <code>HandlerMapping</code> implementations log their own statements that should hint to their mappings and their corresponding handlers.</p>\n<p>Similarly, enable Spring logging at DEBUG level to see which beans Spring registers. It should report which annotated classes it finds, which packages it scans, and which beans it initializes. If the ones you expected aren't present, then review your <code>ApplicationContext</code> configuration.</p>\n<h1>Other common mistakes</h1>\n<p>A <code>DispatcherServlet</code> is just a typical Java EE <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/Servlet.html\" rel=\"noreferrer\"><code>Servlet</code></a>. You register it with your typical <code>&lt;web.xml&gt;</code> <code>&lt;servlet-class&gt;</code> and <code>&lt;servlet-mapping&gt;</code> declaration, or directly through <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#addServlet-java.lang.String-java.lang.Class-\" rel=\"noreferrer\"><code>ServletContext#addServlet</code></a> in a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\" rel=\"noreferrer\"><code>WebApplicationInitializer</code></a>, or with whatever mechanism Spring boot uses. As such, you must rely on the <em>url mapping</em> logic specified in the <a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/\" rel=\"noreferrer\">Servlet specification</a>, see Chapter 12. See also</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15385596/how-are-servlet-url-mappings-in-web-xml-used\">How are Servlet url mappings in web.xml used?</a></li>\n</ul>\n<p>With that in mind, a common mistake is to register the <code>DispatcherServlet</code> with a url mapping of <code>/*</code>, returning a view name from a <code>@RequestMapping</code> handler method, and expecting a JSP to be rendered. For example, consider a handler method like</p>\n<pre><code>@RequestMapping(path = &quot;/example&quot;, method = RequestMethod.GET)\npublic String example() {\n    return &quot;example-view-name&quot;;\n}\n</code></pre>\n<p>with an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/view/InternalResourceViewResolver.html\" rel=\"noreferrer\"><code>InternalResourceViewResolver</code></a></p>\n<pre><code>@Bean\npublic InternalResourceViewResolver resolver() {\n    InternalResourceViewResolver vr = new InternalResourceViewResolver();\n    vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\n    vr.setSuffix(&quot;.jsp&quot;);\n    return vr;\n}\n</code></pre>\n<p>you might expect the request to be <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/RequestDispatcher.html#forward-javax.servlet.ServletRequest-javax.servlet.ServletResponse-\" rel=\"noreferrer\">forwarded</a> to a JSP resource at the path <code>/WEB-INF/jsps/example-view-name.jsp</code>. This won't happen. Instead, assuming a context name of <code>Example</code>, the <code>DisaptcherServlet</code> will report</p>\n<blockquote>\n<p>No mapping found for HTTP request with URI <code>[/Example/WEB-INF/jsps/example-view-name.jsp]</code> in <code>DispatcherServlet</code> with name 'dispatcher'</p>\n</blockquote>\n<p>Because the <code>DispatcherServlet</code> is mapped to <code>/*</code> and <code>/*</code> matches everything (except exact matches, which have higher priority), the <code>DispatcherServlet</code> would be chosen to handle the <code>forward</code> from the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/view/JstlView.html\" rel=\"noreferrer\"><code>JstlView</code></a> (returned by the <code>InternalResourceViewResolver</code>). <strong>In almost every case, the <code>DispatcherServlet</code> will not be configured to handle such a request</strong>.</p>\n<p>Instead, in this simplistic case, you should register the <code>DispatcherServlet</code> to <code>/</code>, marking it as the default servlet. The default servlet is the last match for a request. This will allow your typical servlet container to chose an internal Servlet implementation, mapped to <code>*.jsp</code>, to handle the JSP resource (for example, Tomcat has <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/jasper/servlet/JspServlet.html\" rel=\"noreferrer\"><code>JspServlet</code></a>), before trying with the default servlet.</p>\n<p>That's what you're seeing in your example.</p>\n"},{"tags":[],"owner":{"account_id":6727705,"reputation":55,"user_id":5185121,"accept_rate":75,"display_name":"Anil N.P"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484568428,"creation_date":1484567683,"answer_id":41675870,"question_id":41577234,"body_markdown":"I came across another reason for the same error. This could also be due to the class files not generated for your controller.java file. As a result of which the  the dispatcher servlet mentioned in web.xml is unable to map it to the appropriate  method in the controller class.\r\n\r\n    @Controller\r\n    Class Controller{\r\n    @RequestMapping(value=&quot;/abc.html&quot;)//abc is the requesting page\r\n    public void method()\r\n    {.....}\r\n    }\r\n\r\n\r\nIn eclipse under Project-&gt;select clean -&gt;Build Project.Do give a check if the class file has been generated for the controller file under builds in your workspace.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I came across another reason for the same error. This could also be due to the class files not generated for your controller.java file. As a result of which the  the dispatcher servlet mentioned in web.xml is unable to map it to the appropriate  method in the controller class.</p>\n\n<pre><code>@Controller\nClass Controller{\n@RequestMapping(value=\"/abc.html\")//abc is the requesting page\npublic void method()\n{.....}\n}\n</code></pre>\n\n<p>In eclipse under Project->select clean ->Build Project.Do give a check if the class file has been generated for the controller file under builds in your workspace.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1489493087,"creation_date":1489493087,"answer_id":42785538,"question_id":41577234,"body_markdown":"I resolved my issue when in addition to described before:`\r\n\r\n    @Bean\r\n    public InternalResourceViewResolver resolver() {\r\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n        vr.setSuffix(&quot;.jsp&quot;);\r\n        return vr;\r\n    }\r\n\r\n`added tomcat-embed-jasper:`\r\n\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n           &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n`\r\nfrom: https://stackoverflow.com/questions/20602010/jsp-file-not-rendering-in-spring-boot-web-application/22552855#22552855\r\n","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I resolved my issue when in addition to described before:`</p>\n\n<pre><code>@Bean\npublic InternalResourceViewResolver resolver() {\n    InternalResourceViewResolver vr = new InternalResourceViewResolver();\n    vr.setPrefix(\"/WEB-INF/jsps/\");\n    vr.setSuffix(\".jsp\");\n    return vr;\n}\n</code></pre>\n\n<p><code>added tomcat-embed-jasper:</code></p>\n\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>`\nfrom: <a href=\"https://stackoverflow.com/questions/20602010/jsp-file-not-rendering-in-spring-boot-web-application/22552855#22552855\">JSP file not rendering in Spring Boot web application</a></p>\n"},{"tags":[],"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568743710,"creation_date":1542058946,"answer_id":53270519,"question_id":41577234,"body_markdown":"In my case, I was following the [Interceptors Spring documentation for version 5.1.2][1] (while using **Spring Boot v2.0.4.RELEASE**) and the `WebConfig` class had the annotation `@EnableWebMvc`, which seemed to be conflicting with something else in my application that was preventing my static assets from being resolved correctly (i.e. no CSS or JS files were being returned to the client).\r\n\r\nAfter trying a lot of different things, I tried *removing* the `@EnableWebMvc` and it worked!\r\n\r\nEdit: [Here&#39;s the reference documentation][2] that says you should remove the `@EnableWebMvc` annotation\r\n\r\nApparently in my case at least, I&#39;m already configuring my Spring application (although not by using `web.xml` or any other static file, it&#39;s definitely programmatically), so it was a conflict there.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web.html#mvc-config-interceptors\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I was following the <a href=\"https://docs.spring.io/spring/docs/5.1.2.RELEASE/spring-framework-reference/web.html#mvc-config-interceptors\" rel=\"nofollow noreferrer\">Interceptors Spring documentation for version 5.1.2</a> (while using <strong>Spring Boot v2.0.4.RELEASE</strong>) and the <code>WebConfig</code> class had the annotation <code>@EnableWebMvc</code>, which seemed to be conflicting with something else in my application that was preventing my static assets from being resolved correctly (i.e. no CSS or JS files were being returned to the client).</p>\n\n<p>After trying a lot of different things, I tried <em>removing</em> the <code>@EnableWebMvc</code> and it worked!</p>\n\n<p>Edit: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">Here's the reference documentation</a> that says you should remove the <code>@EnableWebMvc</code> annotation</p>\n\n<p>Apparently in my case at least, I'm already configuring my Spring application (although not by using <code>web.xml</code> or any other static file, it's definitely programmatically), so it was a conflict there.</p>\n"},{"tags":[],"owner":{"account_id":15220484,"reputation":1,"user_id":10982516,"display_name":"Roy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550354731,"creation_date":1550354731,"answer_id":54728122,"question_id":41577234,"body_markdown":"For me, I found that my target classes were generated in a folder pattern not same as source. This is possibly in eclipse I add folders for containing my controllers and not add them as packages. So I ended up defining incorrect path in spring config.\r\n\r\nMy target class was generating classes under app and I was referring to com.happy.app\r\n\r\n\t&lt;context:annotation-config /&gt;\r\n\t&lt;context:component-scan\r\n\t\tbase-package=&quot;com.happy.app&quot;&gt;&lt;/context:component-scan&gt; \r\n\r\nI added packages (not folders) for com.happy.app and moved the files from folders to packages in eclipse and it resolved the issue.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>For me, I found that my target classes were generated in a folder pattern not same as source. This is possibly in eclipse I add folders for containing my controllers and not add them as packages. So I ended up defining incorrect path in spring config.</p>\n\n<p>My target class was generating classes under app and I was referring to com.happy.app</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;context:component-scan\n    base-package=\"com.happy.app\"&gt;&lt;/context:component-scan&gt; \n</code></pre>\n\n<p>I added packages (not folders) for com.happy.app and moved the files from folders to packages in eclipse and it resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":13785294,"reputation":498,"user_id":9949370,"display_name":"2rahulsk"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1550466746,"creation_date":1550466746,"answer_id":54740810,"question_id":41577234,"body_markdown":"Clean your server. Maybe delete the server and add the project once again and Run. \r\n\r\n1. Stop the Tomcat server\r\n\r\n2. Right click the server and select &quot;Clean&quot;\r\n\r\n3. Right click server again and select &quot;Clean Tomcat Work Directory&quot;","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Clean your server. Maybe delete the server and add the project once again and Run. </p>\n\n<ol>\n<li><p>Stop the Tomcat server</p></li>\n<li><p>Right click the server and select \"Clean\"</p></li>\n<li><p>Right click server again and select \"Clean Tomcat Work Directory\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573625297,"creation_date":1573624971,"answer_id":58831165,"question_id":41577234,"body_markdown":"In my case, I was playing around with import of secondary java config files into a main java config file.  While making secondary config files, I had changed the name of the main config class, but I had failed to update the name in web.xml.  So, every time that I had restarted my tomcat server, I was not seeing mapping handlers noted in the Eclipse IDE console, and when I tried to navigate to my home page I was seeing this error:\r\n\r\n&gt; Nov 1, 2019 11:00:01 PM org.springframework.web.servlet.PageNotFound\r\n&gt; noHandlerFound WARNING: No mapping found for HTTP request with URI\r\n&gt; [/webapp/home/index] in DispatcherServlet with name &#39;dispatcher&#39;\r\n\r\nThe fix was to update the web.xml file so that the old name &quot;WebConfig&quot; would be instead &quot;MainConfig&quot;, simply renaming it to reflect the latest name of the main java config file (where &quot;MainConfig&quot; is arbitrary and the words &quot;Web&quot; and &quot;Main&quot; used here are not a syntax requirement).  MainConfig was important, because it was the file that did the component scan for &quot;WebController&quot;, my spring mvc controller class that handles my web requests.\r\n\r\n    @ComponentScan(basePackageClasses={WebController.class})\r\n\r\nweb.xml had this:\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            com.lionheart.fourthed.config.WebConfig\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nweb.xml file now has:\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            com.lionheart.fourthed.config.MainConfig\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nNow I am seeing the mapping in the console window:\r\n\r\n&gt; INFO: Mapped &quot;{[/home/index],methods=[GET]}&quot; onto public\r\n&gt; org.springframework.web.servlet.ModelAndView\r\n&gt; com.lionheart.fourthed.controller.WebController.gotoIndex()\r\n\r\nAnd my web page is loading again.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I was playing around with import of secondary java config files into a main java config file.  While making secondary config files, I had changed the name of the main config class, but I had failed to update the name in web.xml.  So, every time that I had restarted my tomcat server, I was not seeing mapping handlers noted in the Eclipse IDE console, and when I tried to navigate to my home page I was seeing this error:</p>\n\n<blockquote>\n  <p>Nov 1, 2019 11:00:01 PM org.springframework.web.servlet.PageNotFound\n  noHandlerFound WARNING: No mapping found for HTTP request with URI\n  [/webapp/home/index] in DispatcherServlet with name 'dispatcher'</p>\n</blockquote>\n\n<p>The fix was to update the web.xml file so that the old name \"WebConfig\" would be instead \"MainConfig\", simply renaming it to reflect the latest name of the main java config file (where \"MainConfig\" is arbitrary and the words \"Web\" and \"Main\" used here are not a syntax requirement).  MainConfig was important, because it was the file that did the component scan for \"WebController\", my spring mvc controller class that handles my web requests.</p>\n\n<pre><code>@ComponentScan(basePackageClasses={WebController.class})\n</code></pre>\n\n<p>web.xml had this:</p>\n\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        com.lionheart.fourthed.config.WebConfig\n    &lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>web.xml file now has:</p>\n\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        com.lionheart.fourthed.config.MainConfig\n    &lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>Now I am seeing the mapping in the console window:</p>\n\n<blockquote>\n  <p>INFO: Mapped \"{[/home/index],methods=[GET]}\" onto public\n  org.springframework.web.servlet.ModelAndView\n  com.lionheart.fourthed.controller.WebController.gotoIndex()</p>\n</blockquote>\n\n<p>And my web page is loading again.</p>\n"},{"tags":[],"owner":{"account_id":13233942,"reputation":11,"user_id":9556624,"display_name":"Thanis Albert"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1577760723,"creation_date":1577760723,"answer_id":59539054,"question_id":41577234,"body_markdown":"I had same problem as `**No mapping found for HTTP request with URI [/some/path] in DispatcherServlet with name SomeName**`\r\n\r\nAfter I analyzed for 2 to 4 days I found out the root cause. Class files was not generated after I run the project. I clicked the project tab. \r\n\r\n&gt; Project--&gt;CloseProject--&gt;OpenProject--&gt;Clean--&gt;Build project\r\n\r\nClass files for source code have been generated. It solved my problem. To check whether class files have been generated or not, Please check the Build folder in your project folder.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I had same problem as <code>**No mapping found for HTTP request with URI [/some/path] in DispatcherServlet with name SomeName**</code></p>\n\n<p>After I analyzed for 2 to 4 days I found out the root cause. Class files was not generated after I run the project. I clicked the project tab. </p>\n\n<blockquote>\n  <p>Project-->CloseProject-->OpenProject-->Clean-->Build project</p>\n</blockquote>\n\n<p>Class files for source code have been generated. It solved my problem. To check whether class files have been generated or not, Please check the Build folder in your project folder.</p>\n"},{"tags":[],"owner":{"account_id":1248750,"reputation":6094,"user_id":1209628,"accept_rate":100,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590039958,"creation_date":1590039958,"answer_id":61928034,"question_id":41577234,"body_markdown":"Try to amend your code with the following change on your config file. Java config is used instead of `application.properties`.\r\nDo not forget to enable configuration in `configureDefaultServletHandling` method.\r\n\r\n&gt; `WebMvcConfigurerAdapter` class is deprecated, so we use `WebMvcConfigurer` interface.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configureViewResolvers(ViewResolverRegistry registry) {\r\n            registry.jsp(&quot;/WEB-INF/views/&quot;, &quot;.jsp&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n            configurer.enable();\r\n        }\r\n    }\r\n\r\nI use gradle, your should have the following dependencies in `pom.xml`:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    dependencies {\r\n\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.3.0.RELEASE&#39;\r\n        compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-jasper&#39;, version: &#39;9.0.35&#39;\r\n    }\r\n\r\n\r\n","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>Try to amend your code with the following change on your config file. Java config is used instead of <code>application.properties</code>.\nDo not forget to enable configuration in <code>configureDefaultServletHandling</code> method.</p>\n\n<blockquote>\n  <p><code>WebMvcConfigurerAdapter</code> class is deprecated, so we use <code>WebMvcConfigurer</code> interface.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\n@ComponentScan\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        registry.jsp(\"/WEB-INF/views/\", \".jsp\");\n    }\n\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n}\n</code></pre>\n\n<p>I use gradle, your should have the following dependencies in <code>pom.xml</code>:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>dependencies {\n\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.0.RELEASE'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-jasper', version: '9.0.35'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9575271,"reputation":37,"user_id":7111617,"display_name":"Akbar Kazimov"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1612360705,"creation_date":1612360705,"answer_id":66029011,"question_id":41577234,"body_markdown":"So the problem can be as simple as an additional space in the path of the project. Make sure that there is no space in the path which took me quite some time to solve. ","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>So the problem can be as simple as an additional space in the path of the project. Make sure that there is no space in the path which took me quite some time to solve.</p>\n"},{"tags":[],"owner":{"account_id":17567094,"reputation":89,"user_id":12743648,"display_name":"oshin pojta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612641574,"creation_date":1612641574,"answer_id":66081338,"question_id":41577234,"body_markdown":"In my case, I had created Config.java (class) and also config.xml and mapping was done partially in both of them. And since config.java uses @Configuration annotation , it was considered priority. And was not considering config.xml.\r\n If anyone gets in trouble like this , just delete config.java with annotation and try to keep config.xml , it works fine.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case, I had created Config.java (class) and also config.xml and mapping was done partially in both of them. And since config.java uses @Configuration annotation , it was considered priority. And was not considering config.xml.\nIf anyone gets in trouble like this , just delete config.java with annotation and try to keep config.xml , it works fine.</p>\n"},{"tags":[],"owner":{"account_id":19266106,"reputation":143,"user_id":14081018,"display_name":"Ensei_Tankado"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654003996,"creation_date":1654003996,"answer_id":72448776,"question_id":41577234,"body_markdown":"## For me, the issue was hidden in the *web.xml* file.\r\n\r\nInside the servlet tag, you&#39;ll find:\r\n\r\n\r\n    &lt;init-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/todo-servlet.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;  \r\n\r\n\r\nMake sure that in the `&lt;param-value&gt;` you have kept the correct location of the dispatcher servlet (aka Front Controller). \r\n\r\nI had kept an incorrect location, hence I was able to view the homepage but all other pages were giving HTTP 404 error. ","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<h2>For me, the issue was hidden in the <em>web.xml</em> file.</h2>\n<p>Inside the servlet tag, you'll find:</p>\n<pre><code>&lt;init-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/todo-servlet.xml&lt;/param-value&gt;\n&lt;/init-param&gt;  \n</code></pre>\n<p>Make sure that in the <code>&lt;param-value&gt;</code> you have kept the correct location of the dispatcher servlet (aka Front Controller).</p>\n<p>I had kept an incorrect location, hence I was able to view the homepage but all other pages were giving HTTP 404 error.</p>\n"},{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663694331,"creation_date":1663694331,"answer_id":73790430,"question_id":41577234,"body_markdown":"In my case using a tutorial for SpringBoot(2.7.3) RestController, startup failed with java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider\r\n\r\nI thought that Spring REST does not use WebMvc so I removed &#39;spring-boot-starter-web&#39; and that resolved the startup problem.  However, POST requests failed with the &#39;404 Not Found&#39; issue described here and spent several hours experimenting with \r\n\r\n - server.servlet.context-path  \r\n - @RestController vs @Controller etc, and\r\n - SecurityConfig options\r\n\r\nI finally resolved the 404 issue by\r\n - restoring dependency &#39;spring-boot-starter-web&#39;\r\n - adding dependency\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\nand after undoing my 101 debug hacks it worked.  \r\n\r\nVery painful because even with root logger at DEBUG, there were no server-side logs to help.","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In my case using a tutorial for SpringBoot(2.7.3) RestController, startup failed with java.lang.ClassNotFoundException: javax.validation.ParameterNameProvider</p>\n<p>I thought that Spring REST does not use WebMvc so I removed 'spring-boot-starter-web' and that resolved the startup problem.  However, POST requests failed with the '404 Not Found' issue described here and spent several hours experimenting with</p>\n<ul>\n<li>server.servlet.context-path</li>\n<li>@RestController vs @Controller etc, and</li>\n<li>SecurityConfig options</li>\n</ul>\n<p>I finally resolved the 404 issue by</p>\n<ul>\n<li>restoring dependency 'spring-boot-starter-web'</li>\n<li>adding dependency\njavax.validation\nvalidation-api\nand after undoing my 101 debug hacks it worked.</li>\n</ul>\n<p>Very painful because even with root logger at DEBUG, there were no server-side logs to help.</p>\n"},{"tags":[],"owner":{"account_id":15296673,"reputation":305,"user_id":11036516,"display_name":"Vikas s kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693618741,"creation_date":1693618741,"answer_id":77026651,"question_id":41577234,"body_markdown":"In mapping URL if we are using **/*** (star after slash) we get this No mapping for Get message on console. Better to use only **/**. Instead of slash with start\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;employee&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>In mapping URL if we are using <strong>/</strong>* (star after slash) we get this No mapping for Get message on console. Better to use only <strong>/</strong>. Instead of slash with start</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;employee&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104913,"favorite_count":0,"down_vote_count":5,"up_vote_count":114,"accepted_answer_id":41577235,"answer_count":14,"score":109,"last_activity_date":1693618741,"creation_date":1484078009,"question_id":41577234,"body_markdown":"I&#39;m writing a Spring MVC application deployed on Tomcat. See the following [minimal, complete, and verifiable example][1]\r\n\r\n    public class Application extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n        protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n            return new Class&lt;?&gt;[] { };\r\n        }\r\n        protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n            return new Class&lt;?&gt;[] { SpringServletConfig.class };\r\n        }\r\n        protected String[] getServletMappings() {\r\n            return new String[] { &quot;/*&quot; };\r\n        }\r\n    }\r\n\r\nWhere `SpringServletConfig` is \r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.example.controllers&quot;)\r\n    @EnableWebMvc\r\n    public class SpringServletConfig {\r\n        @Bean\r\n        public InternalResourceViewResolver resolver() {\r\n            InternalResourceViewResolver vr = new InternalResourceViewResolver();\r\n            vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\r\n            vr.setSuffix(&quot;.jsp&quot;);\r\n            return vr;\r\n        }\r\n    }\r\n\r\nFinally, I have a `@Controller` in the package `com.example.controllers`\r\n\r\n    @Controller\r\n    public class ExampleController {\r\n        @RequestMapping(path = &quot;/home&quot;, method = RequestMethod.GET)\r\n        public String example() {\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nMy application&#39;s context name is `Example`. When I send a request to\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n\r\n    http://localhost:8080/Example/home\r\n\r\nthe application responds with an HTTP Status 404 and logs the following\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    WARN  o.s.web.servlet.PageNotFound - No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/index.jsp]` in `DispatcherServlet` with name &#39;dispatcher&#39;\r\n\r\nI have a JSP resource at `/WEB-INF/jsps/index.jsp` I expected Spring MVC to use my controller to handle the request and forward to the JSP, so why is it responding with a 404?\r\n\r\n----------\r\n\r\n_This is meant to be a canonical post for questions about this warning message._\r\n\r\n  [1]: https://stackoverflow.com/help/mcve","title":"Why does Spring MVC respond with a 404 and report &quot;No mapping found for HTTP request with URI [...] in DispatcherServlet&quot;?","body":"<p>I'm writing a Spring MVC application deployed on Tomcat. See the following <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a></p>\n<pre><code>public class Application extends AbstractAnnotationConfigDispatcherServletInitializer {\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[] { };\n    }\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] { SpringServletConfig.class };\n    }\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/*&quot; };\n    }\n}\n</code></pre>\n<p>Where <code>SpringServletConfig</code> is</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.example.controllers&quot;)\n@EnableWebMvc\npublic class SpringServletConfig {\n    @Bean\n    public InternalResourceViewResolver resolver() {\n        InternalResourceViewResolver vr = new InternalResourceViewResolver();\n        vr.setPrefix(&quot;/WEB-INF/jsps/&quot;);\n        vr.setSuffix(&quot;.jsp&quot;);\n        return vr;\n    }\n}\n</code></pre>\n<p>Finally, I have a <code>@Controller</code> in the package <code>com.example.controllers</code></p>\n<pre><code>@Controller\npublic class ExampleController {\n    @RequestMapping(path = &quot;/home&quot;, method = RequestMethod.GET)\n    public String example() {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>My application's context name is <code>Example</code>. When I send a request to</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://localhost:8080/Example/home\n</code></pre>\n<p>the application responds with an HTTP Status 404 and logs the following</p>\n<pre class=\"lang-none prettyprint-override\"><code>WARN  o.s.web.servlet.PageNotFound - No mapping found for HTTP request with URI `[/Example/WEB-INF/jsps/index.jsp]` in `DispatcherServlet` with name 'dispatcher'\n</code></pre>\n<p>I have a JSP resource at <code>/WEB-INF/jsps/index.jsp</code> I expected Spring MVC to use my controller to handle the request and forward to the JSP, so why is it responding with a 404?</p>\n<hr />\n<p><em>This is meant to be a canonical post for questions about this warning message.</em></p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":2,"creation_date":1379365422,"post_id":18837017,"comment_id":27790223,"body_markdown":"Can you post the stack trace?","body":"Can you post the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379381778,"creation_date":1379376170,"answer_id":18839294,"question_id":18837017,"body_markdown":"There&#39;s nothing wrong with your code. There is something wrong with the file, as the message says. Are you sure it is zipped, and not GZipped for example? It would be more usual for a part to be GZipped. Try a `GZIPInputStream.`\r\n\r\nNB there&#39;s no need for the `ByteArrayInputStream.` It&#39;s a complete waste of time and space. Just pass the zip/gzip input stream directly to your `createCSVFile()` method.","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>There's nothing wrong with your code. There is something wrong with the file, as the message says. Are you sure it is zipped, and not GZipped for example? It would be more usual for a part to be GZipped. Try a <code>GZIPInputStream.</code></p>\n\n<p>NB there's no need for the <code>ByteArrayInputStream.</code> It's a complete waste of time and space. Just pass the zip/gzip input stream directly to your <code>createCSVFile()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":6106427,"reputation":138,"user_id":4764034,"display_name":"tobiinformatik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428502784,"creation_date":1428498510,"answer_id":29515563,"question_id":18837017,"body_markdown":"I have this error too and I searched a little bit... I&#39;ve read that there must be `zis.closeEntry();` before `len = zis.read(buffer)` but I tried it and then the error appears at `zis.closeEntry();`\r\nI asked google and here is the answer:\r\n\r\n!Answer!\r\n\r\nI tried and wrote a little bit, then I switched the `throws IOException` in a `try/catch-block` and now there is all right. \r\nThe Exception is a well known bug. You have to put all in a `try/catch-block` and do nothing in the catch.\r\n\r\n    private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\r\n\r\n        FileItem fileItem = null;\r\n        byte[] buffer = new byte[1024];\r\n        try{\r\n            InputStream inputStream = part.getInputStream();\r\n            ZipInputStream zis = new ZipInputStream(inputStream);\r\n\r\n            ZipEntry entry;    \r\n            while ((entry = zis.getNextEntry()) != null) {\r\n\r\n                ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n\r\n                int len;\r\n                while ((len = zis.read(buffer)) &gt; 0) {\r\n                    fos.write(buffer, 0, len);\r\n                }\r\n\r\n                InputStream myByteArray = new   ByteArrayInputStream(fos.toByteArray());\r\n                fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\r\n            }       \r\n        }catch(IOException ex){\r\n            //Do nothing here\r\n        }\r\n        return fileItem;\r\n    }","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>I have this error too and I searched a little bit... I've read that there must be <code>zis.closeEntry();</code> before <code>len = zis.read(buffer)</code> but I tried it and then the error appears at <code>zis.closeEntry();</code>\nI asked google and here is the answer:</p>\n\n<p>!Answer!</p>\n\n<p>I tried and wrote a little bit, then I switched the <code>throws IOException</code> in a <code>try/catch-block</code> and now there is all right. \nThe Exception is a well known bug. You have to put all in a <code>try/catch-block</code> and do nothing in the catch.</p>\n\n<pre><code>private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\n\n    FileItem fileItem = null;\n    byte[] buffer = new byte[1024];\n    try{\n        InputStream inputStream = part.getInputStream();\n        ZipInputStream zis = new ZipInputStream(inputStream);\n\n        ZipEntry entry;    \n        while ((entry = zis.getNextEntry()) != null) {\n\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\n\n            int len;\n            while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n            }\n\n            InputStream myByteArray = new   ByteArrayInputStream(fos.toByteArray());\n            fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\n        }       \n    }catch(IOException ex){\n        //Do nothing here\n    }\n    return fileItem;\n}\n</code></pre>\n"}],"owner":{"account_id":2807004,"reputation":1,"user_id":2414051,"display_name":"Mukesh Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693616941,"creation_date":1379364411,"question_id":18837017,"body_markdown":"I am facing this issue while unzipping a file and writing it in to another file. Here is the code. Can any one please let me know what changes are required.\r\n\r\nI get this exception on the line with `while ((len = zis.read(buffer)) &gt; 0)` \r\n\r\n    private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\r\n\t\t\t\r\n        FileItem fileItem = null;\r\n        byte[] buffer = new byte[1024];\r\n\r\n        InputStream inputStream = part.getInputStream();\r\n        ZipInputStream zis = new ZipInputStream(inputStream);\r\n\r\n        ZipEntry entry;    \r\n        while ((entry = zis.getNextEntry()) != null) {\r\n\t\t\t\r\n            ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n\r\n            int len;\r\n            while ((len = zis.read(buffer)) &gt; 0) {\r\n                fos.write(buffer, 0, len);\r\n            }\r\n\r\n            InputStream myByteArray = new ByteArrayInputStream(fos.toByteArray());\r\n            fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\r\n        }\t\t\r\n\t\t\r\n        return fileItem;\r\n    }\r\n","title":"EOFException: Unexpected end of ZLIB input stream","body":"<p>I am facing this issue while unzipping a file and writing it in to another file. Here is the code. Can any one please let me know what changes are required.</p>\n\n<p>I get this exception on the line with <code>while ((len = zis.read(buffer)) &gt; 0)</code> </p>\n\n<pre><code>private FileItem readZippedFileRequest(HttpServletRequest request,Part part, String fileName) {\n\n    FileItem fileItem = null;\n    byte[] buffer = new byte[1024];\n\n    InputStream inputStream = part.getInputStream();\n    ZipInputStream zis = new ZipInputStream(inputStream);\n\n    ZipEntry entry;    \n    while ((entry = zis.getNextEntry()) != null) {\n\n        ByteArrayOutputStream fos = new ByteArrayOutputStream();\n\n        int len;\n        while ((len = zis.read(buffer)) &gt; 0) {\n            fos.write(buffer, 0, len);\n        }\n\n        InputStream myByteArray = new ByteArrayInputStream(fos.toByteArray());\n        fileItem = createCSVFile(myByteArray, fileName,ImportExportConstant.FILE_TYPE_EXCEL);\n    }       \n\n    return fileItem;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","lombok"],"answers":[{"comments":[{"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"score":0,"creation_date":1693614459,"post_id":77026354,"comment_id":135788543,"body_markdown":"thanks for that really helped me understand, also with that NoArgsConstructor can i just make it protected to just decrease the use(cant make private as jpa needs protected or public)","body":"thanks for that really helped me understand, also with that NoArgsConstructor can i just make it protected to just decrease the use(cant make private as jpa needs protected or public)"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1693626423,"post_id":77026354,"comment_id":135789072,"body_markdown":"Ideally, your entities will just be pojos.  The easiest is to drfine your fields as private, dropping the final modifier, and have getters and setters.  My entities contain three annotations, Entity, Getter, and Setter.  You can add AllArgsConstructor if you like, but you&#39;ll want to accompany it with NoArgsConstructor to satisfy your ORM.  You can use RequiredArgsConstructor without final fields, just annotate the fields that you want in your constrictor with NonNull.","body":"Ideally, your entities will just be pojos.  The easiest is to drfine your fields as private, dropping the final modifier, and have getters and setters.  My entities contain three annotations, Entity, Getter, and Setter.  You can add AllArgsConstructor if you like, but you&#39;ll want to accompany it with NoArgsConstructor to satisfy your ORM.  You can use RequiredArgsConstructor without final fields, just annotate the fields that you want in your constrictor with NonNull."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693609844,"creation_date":1693609844,"answer_id":77026354,"question_id":77026319,"body_markdown":"When you add the `@NoArgsConstructor`, it overrides the `@RequiredArgsConstructor` from `@Data`, which forces you to specify it.  If you have final fields, though, you do not want to use a NoArgsConstructor because, after construction, there is no way to set them so they can never have a value.\r\n\r\nAlso, just a note that you really DO NOT want to use @Data with @Entity, mainly because of the EqualsAndHashcode that come with it.","title":"How does @Data creates Constructor","body":"<p>When you add the <code>@NoArgsConstructor</code>, it overrides the <code>@RequiredArgsConstructor</code> from <code>@Data</code>, which forces you to specify it.  If you have final fields, though, you do not want to use a NoArgsConstructor because, after construction, there is no way to set them so they can never have a value.</p>\n<p>Also, just a note that you really DO NOT want to use @Data with @Entity, mainly because of the EqualsAndHashcode that come with it.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693615303,"creation_date":1693615303,"answer_id":77026542,"question_id":77026319,"body_markdown":"`@Data` isn&#39;t the same as `@RequiredArgsConstructor`. It will make the required args constructor for you __only if no constructor is written__. Here, you _did_ write a constructor - `@NoArgsConstructor` does this.\r\n\r\nBecause you have the no-args constructor. You can add `@RequiredArgsConstructor` and now lombok will also make that one.\r\n\r\nIt&#39;s bizarre to have the no-args constructor here, as it would just init all fields to `null`. JPA is confused about what entities represent and doesn&#39;t give clear answers. If you think a `User` instance represents a User, lombok&#39;s equals is mostly fine, but you should exclude the ID field, as that is an implementation detail for storing user objects in databases and not an inherent aspect of a user object&#39;s identity. Of course, that does mean one simple equals call queries your entire database out, but that&#39;s a natural shortcoming of JPA.\r\n\r\nAlternatively you could say that an instance of `User` represents _a row in the database_, in which case the only way to write an exactly correct equals implementation that fits both that meaning and the contract of `equals`, is this bizarroworld construction:\r\n\r\n* If `id` is `null` (i.e. you created a new instance and haven&#39;t saved it with JPA yet), then its equals impl is: `return this == o;` - as in, it can only be equal to itself, even if __every field is identical__ it cannot be equal to another. After all, if you `save()` both, you&#39;d get 2 rows.\r\n* If `id` isn&#39;t null, equality is defined __solely__ by `id` and not anything else, for the same reason - if you were to modify one, fail to modify the other, and then invoke some save() calls you still end up with only a single row.\r\n\r\nJPA tutorials and guidelines in my very limited experience (I do not use JPA) tend to just do whatever they please and it&#39;s rarely consistent with either pragmatism (don&#39;t cause &quot;query the world&quot; issues) or the equals spec. Lombok&#39;s equals may not be what you want for JPA stuff. Then again, there really isn&#39;t any equals implementation that &#39;works&#39; (it&#39;ll have some sort of highly surprising and undesired behaviour).\r\n\r\nNB: I&#39;m one of the core lombok developers.\r\n","title":"How does @Data creates Constructor","body":"<p><code>@Data</code> isn't the same as <code>@RequiredArgsConstructor</code>. It will make the required args constructor for you <strong>only if no constructor is written</strong>. Here, you <em>did</em> write a constructor - <code>@NoArgsConstructor</code> does this.</p>\n<p>Because you have the no-args constructor. You can add <code>@RequiredArgsConstructor</code> and now lombok will also make that one.</p>\n<p>It's bizarre to have the no-args constructor here, as it would just init all fields to <code>null</code>. JPA is confused about what entities represent and doesn't give clear answers. If you think a <code>User</code> instance represents a User, lombok's equals is mostly fine, but you should exclude the ID field, as that is an implementation detail for storing user objects in databases and not an inherent aspect of a user object's identity. Of course, that does mean one simple equals call queries your entire database out, but that's a natural shortcoming of JPA.</p>\n<p>Alternatively you could say that an instance of <code>User</code> represents <em>a row in the database</em>, in which case the only way to write an exactly correct equals implementation that fits both that meaning and the contract of <code>equals</code>, is this bizarroworld construction:</p>\n<ul>\n<li>If <code>id</code> is <code>null</code> (i.e. you created a new instance and haven't saved it with JPA yet), then its equals impl is: <code>return this == o;</code> - as in, it can only be equal to itself, even if <strong>every field is identical</strong> it cannot be equal to another. After all, if you <code>save()</code> both, you'd get 2 rows.</li>\n<li>If <code>id</code> isn't null, equality is defined <strong>solely</strong> by <code>id</code> and not anything else, for the same reason - if you were to modify one, fail to modify the other, and then invoke some save() calls you still end up with only a single row.</li>\n</ul>\n<p>JPA tutorials and guidelines in my very limited experience (I do not use JPA) tend to just do whatever they please and it's rarely consistent with either pragmatism (don't cause &quot;query the world&quot; issues) or the equals spec. Lombok's equals may not be what you want for JPA stuff. Then again, there really isn't any equals implementation that 'works' (it'll have some sort of highly surprising and undesired behaviour).</p>\n<p>NB: I'm one of the core lombok developers.</p>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693615303,"creation_date":1693609074,"question_id":77026319,"body_markdown":"ok so i read a lot of questions here and still couldn&#39;t understand how this works and gives no error. by my logic @Data creates a RequiredConstructor if it has final fields. @Entity needs a noArgConstructor so i made it too. \r\nthis is my User class:\r\n```\r\n@Data\r\n@Entity\r\n@NoArgsConstructor(force = true)\r\npublic class User implements UserDetails {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private final String username;\r\n    private final String password;\r\n    private final String fullname;\r\n    private final String street;\r\n    private final String city;\r\n    private final String state;\r\n    private final String zip;\r\n    private final String phoneNumber;\r\n\r\n}\r\n```\r\nbut now in another class if i want to make a new User object like this below, i cant make it.\r\n```\r\npublic User toUser(PasswordEncoder passwordEncoder) {\r\n        return new User(username, passwordEncoder.encode(password),\r\n                fullname, street, city, state, zip, phone);\r\n    }\r\n```\r\nEdit: i added @RequiredArgConstructor to User class and now it doesnt give me errors. problem is fixed but i dont understand how does it even work.\r\n","title":"How does @Data creates Constructor","body":"<p>ok so i read a lot of questions here and still couldn't understand how this works and gives no error. by my logic @Data creates a RequiredConstructor if it has final fields. @Entity needs a noArgConstructor so i made it too.\nthis is my User class:</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor(force = true)\npublic class User implements UserDetails {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Long id;\n\n    private final String username;\n    private final String password;\n    private final String fullname;\n    private final String street;\n    private final String city;\n    private final String state;\n    private final String zip;\n    private final String phoneNumber;\n\n}\n</code></pre>\n<p>but now in another class if i want to make a new User object like this below, i cant make it.</p>\n<pre><code>public User toUser(PasswordEncoder passwordEncoder) {\n        return new User(username, passwordEncoder.encode(password),\n                fullname, street, city, state, zip, phone);\n    }\n</code></pre>\n<p>Edit: i added @RequiredArgConstructor to User class and now it doesnt give me errors. problem is fixed but i dont understand how does it even work.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":272446,"reputation":27068,"user_id":563532,"accept_rate":100,"display_name":"Rob"},"score":18,"creation_date":1462840523,"post_id":15826202,"comment_id":61795534,"body_markdown":"To close voters/reopeners - this question is [explicitly not off-topic (questions about tools commonly used by programmers)](http://stackoverflow.com/help/on-topic). Unfortunately, it got bandwagoned by [meta](http://meta.stackoverflow.com/questions/322704/beyond-confused-about-question-and-answer-reception).","body":"To close voters/reopeners - this question is <a href=\"http://stackoverflow.com/help/on-topic\">explicitly not off-topic (questions about tools commonly used by programmers)</a>. Unfortunately, it got bandwagoned by <a href=\"http://meta.stackoverflow.com/questions/322704/beyond-confused-about-question-and-answer-reception\">meta</a>."},{"owner":{"account_id":3285055,"reputation":719,"user_id":5804813,"accept_rate":88,"display_name":"Chaitanya"},"score":3,"creation_date":1613332285,"post_id":15826202,"comment_id":117036895,"body_markdown":"I found the JDK in **/Library/Java/JavaVirtualMachines/**. I&#39;m using macOS Big Sur(11.0.1). And installed jdk version is 1.8.0","body":"I found the JDK in <b>/Library/Java/JavaVirtualMachines/</b>. I&#39;m using macOS Big Sur(11.0.1). And installed jdk version is 1.8.0"}],"answers":[{"comments":[{"owner":{"account_id":82107,"reputation":14980,"user_id":644669,"accept_rate":69,"display_name":"Zakaria"},"score":56,"creation_date":1404935795,"post_id":15826203,"comment_id":38233953,"body_markdown":"For me, it was under `/Library/Java/JavaVirtualMachines/jdk1.7.0_60.jdk` (knowing that for the JDK 1.6 the path is : `/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/`)","body":"For me, it was under <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.7.0_60.jdk</code> (knowing that for the JDK 1.6 the path is : <code>&#47;System&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;1.6.0.jdk&#47;</code>)"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":3,"creation_date":1563720199,"post_id":15826203,"comment_id":100784363,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"}],"tags":[],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":2,"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1365140677,"creation_date":1365137909,"answer_id":15826203,"question_id":15826202,"body_markdown":"Turns out that I actually had the Java 7 JRE installed, not the JDK. The correct download link is [here][1]. After installing it, `jdk1.7.0jdk` appears in the JavaVirtualMachines directory.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"Where is Java Installed on Mac OS X?","body":"<p>Turns out that I actually had the Java 7 JRE installed, not the JDK. The correct download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">here</a>. After installing it, <code>jdk1.7.0jdk</code> appears in the JavaVirtualMachines directory.</p>\n"},{"comments":[{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":0,"creation_date":1365138747,"post_id":15826346,"comment_id":22514108,"body_markdown":"That would be an alias for the most recent version, which would correctly point to Java 7 SDK once it is installed.","body":"That would be an alias for the most recent version, which would correctly point to Java 7 SDK once it is installed."},{"owner":{"account_id":269282,"reputation":111,"user_id":558527,"display_name":"swingler"},"score":2,"creation_date":1391716216,"post_id":15826346,"comment_id":32655128,"body_markdown":"This link only exists for legacy purposes, and will not be updated by installing Java 7. Do not use this path.","body":"This link only exists for legacy purposes, and will not be updated by installing Java 7. Do not use this path."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720282,"post_id":15826346,"comment_id":100784384,"body_markdown":"I updated export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"I updated export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":1639817,"reputation":162,"user_id":1512485,"display_name":"manny"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1386216369,"creation_date":1365138555,"answer_id":15826346,"question_id":15826202,"body_markdown":"Edited: Alias to current java version is `/Library/Java/Home`\r\n\r\nFor more information: [a link](http://developer.apple.com/library/mac/#qa/qa1170/_index.html)","title":"Where is Java Installed on Mac OS X?","body":"<p>Edited: Alias to current java version is <code>/Library/Java/Home</code></p>\n\n<p>For more information: <a href=\"http://developer.apple.com/library/mac/#qa/qa1170/_index.html\" rel=\"noreferrer\">a link</a></p>\n"},{"comments":[{"owner":{"account_id":481666,"reputation":1201,"user_id":895614,"display_name":"Walter Underwood"},"score":23,"creation_date":1380209349,"post_id":15826672,"comment_id":28123675,"body_markdown":"You do not need sudo to run find for generally-accessible commands. If you don&#39;t want to see the error messages about inaccessible directories, get rid of the messages rather than using root privs unnecessarily. Using sudo all the time is a bad habit. Redirect stderr to /dev/null, like this:\n\nfind / -name java 2&gt; /dev/null","body":"You do not need sudo to run find for generally-accessible commands. If you don&#39;t want to see the error messages about inaccessible directories, get rid of the messages rather than using root privs unnecessarily. Using sudo all the time is a bad habit. Redirect stderr to /dev/null, like this:  find / -name java 2&gt; /dev/null"},{"owner":{"account_id":2014616,"reputation":555,"user_id":1802213,"display_name":"serkan"},"score":1,"creation_date":1380454163,"post_id":15826672,"comment_id":28200334,"body_markdown":"What should i do if i need too look under inaccessible directories ?","body":"What should i do if i need too look under inaccessible directories ?"},{"owner":{"account_id":275105,"reputation":17006,"user_id":567762,"accept_rate":78,"display_name":"Jared Beck"},"score":2,"creation_date":1383755524,"post_id":15826672,"comment_id":29464877,"body_markdown":"Walter&#39;s point is that the `java` binary will be world readable, therefore `sudo` is not necessary.  Your answer is still useful :)","body":"Walter&#39;s point is that the <code>java</code> binary will be world readable, therefore <code>sudo</code> is not necessary.  Your answer is still useful :)"},{"owner":{"account_id":96552,"reputation":4211,"user_id":262379,"accept_rate":54,"display_name":"Dinis Cruz"},"score":0,"creation_date":1390391043,"post_id":15826672,"comment_id":32068338,"body_markdown":"Yes, I just used this to find src.zip (the source code of the java jdk)","body":"Yes, I just used this to find src.zip (the source code of the java jdk)"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720229,"post_id":15826672,"comment_id":100784370,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"}],"tags":[],"owner":{"account_id":2014616,"reputation":555,"user_id":1802213,"display_name":"serkan"},"comment_count":5,"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1365140271,"creation_date":1365140228,"answer_id":15826672,"question_id":15826202,"body_markdown":"Use unix find function to find javas installed...\r\n\r\n    sudo find / -name java\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Use unix find function to find javas installed...</p>\n\n<pre><code>sudo find / -name java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2184938,"reputation":575,"user_id":1933545,"accept_rate":20,"display_name":"OKGimmeMoney"},"score":1,"creation_date":1429216850,"post_id":15826712,"comment_id":47508009,"body_markdown":"I got to this question because I was getting an error in eclipse on my mac because I was getting an error on the first line of the program &quot;import java.util.*.&quot; I strongly suspect this is because the java path isn&#39;t set correctly or something (even though I set this up once before). I entered the command in this answer and I get a directory. Can I just paste that directory into the textbox in the &quot;Native library folder config&quot; window? Or does this directory belong somewhere else?","body":"I got to this question because I was getting an error in eclipse on my mac because I was getting an error on the first line of the program &quot;import java.util.*.&quot; I strongly suspect this is because the java path isn&#39;t set correctly or something (even though I set this up once before). I entered the command in this answer and I get a directory. Can I just paste that directory into the textbox in the &quot;Native library folder config&quot; window? Or does this directory belong somewhere else?"},{"owner":{"account_id":5466186,"reputation":411,"user_id":4346960,"display_name":"Steve Henty"},"score":59,"creation_date":1447720398,"post_id":15826712,"comment_id":55262627,"body_markdown":"Added `export JAVA_HOME=\\`/usr/libexec/java_home\\`` to .bash_profile so JAVA_HOME is always set (note the back-ticks around the libexec command)","body":"Added <code>export JAVA_HOME=`&#47;usr&#47;libexec&#47;java_home`</code> to .bash_profile so JAVA_HOME is always set (note the back-ticks around the libexec command)"},{"owner":{"account_id":5694442,"reputation":8363,"user_id":4501354,"accept_rate":65,"display_name":"Daniel Viglione"},"score":2,"creation_date":1521927717,"post_id":15826712,"comment_id":85942908,"body_markdown":"If you just want to know if the JDK is installed on your mac, omit the version number and run from terminal: $ echo $(/usr/libexec/java_home)","body":"If you just want to know if the JDK is installed on your mac, omit the version number and run from terminal: $ echo $(/usr/libexec/java_home)"},{"owner":{"account_id":1111246,"reputation":71,"user_id":1101670,"display_name":"klion26"},"score":6,"creation_date":1546832983,"post_id":15826712,"comment_id":94969656,"body_markdown":"On Mac 10.12.3, we should `/usr/libexec/java_home -- v` to show the most recent version of java","body":"On Mac 10.12.3, we should <code>&#47;usr&#47;libexec&#47;java_home -- v</code> to show the most recent version of java"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":4,"creation_date":1605716369,"post_id":15826712,"comment_id":114738035,"body_markdown":"Note that macOS Big Sur changed the behaviour of the java_home command.  Noe, if if the JAVA_HOME environment variable is already set to a valid JDK that is all it will return, it will ignore the -v parameter.  If JAVA_HOME is set to an invalid folder, the java_home command won&#39;t work at all.  To get a reasonable output you must unset JAVA_HOME before invoking `/usr/libexec/java_home`","body":"Note that macOS Big Sur changed the behaviour of the java_home command.  Noe, if if the JAVA_HOME environment variable is already set to a valid JDK that is all it will return, it will ignore the -v parameter.  If JAVA_HOME is set to an invalid folder, the java_home command won&#39;t work at all.  To get a reasonable output you must unset JAVA_HOME before invoking <code>&#47;usr&#47;libexec&#47;java_home</code>"},{"owner":{"account_id":2081166,"reputation":1502,"user_id":1853114,"accept_rate":46,"display_name":"conor909"},"score":0,"creation_date":1702134547,"post_id":15826712,"comment_id":136861085,"body_markdown":"I get `The operation couldn’t be completed. Unable to locate a Java Runtime.` - I installed java with brew","body":"I get <code>The operation couldn’t be completed. Unable to locate a Java Runtime.</code> - I installed java with brew"}],"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"comment_count":6,"down_vote_count":4,"up_vote_count":1642,"is_accepted":true,"score":1638,"last_activity_date":1587319553,"creation_date":1365140434,"answer_id":15826712,"question_id":15826202,"body_markdown":"Use `/usr/libexec/java_home -v 1.8` command on a terminal shell to figure out where is your **Java 1.8** home directory\r\n\r\nIf you just want to find out the home directory of your most recent version of Java, omit the version. e.g. `/usr/libexec/java_home`","title":"Where is Java Installed on Mac OS X?","body":"<p>Use <code>/usr/libexec/java_home -v 1.8</code> command on a terminal shell to figure out where is your <strong>Java 1.8</strong> home directory</p>\n\n<p>If you just want to find out the home directory of your most recent version of Java, omit the version. e.g. <code>/usr/libexec/java_home</code></p>\n"},{"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":1,"creation_date":1563720300,"post_id":16262707,"comment_id":100784388,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"}],"tags":[],"owner":{"account_id":2697354,"reputation":87,"user_id":2329028,"display_name":"Tony Kroch"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1367151011,"creation_date":1367151011,"answer_id":16262707,"question_id":15826202,"body_markdown":"I have just installed the JDK for version 21 of Java SE 7 and found that it is installed in a different directory from Apple&#39;s Java 6. It is in /Library/Java... rather then in /System/Library/Java.... Running /usr/libexec/java_home -v 1.7 versus -v 1.6 will confirm this.","title":"Where is Java Installed on Mac OS X?","body":"<p>I have just installed the JDK for version 21 of Java SE 7 and found that it is installed in a different directory from Apple's Java 6. It is in /Library/Java... rather then in /System/Library/Java.... Running /usr/libexec/java_home -v 1.7 versus -v 1.6 will confirm this.</p>\n"},{"comments":[{"owner":{"account_id":269282,"reputation":111,"user_id":558527,"display_name":"swingler"},"score":3,"creation_date":1391716184,"post_id":18771311,"comment_id":32655116,"body_markdown":"You should not rely on this existing. If you need the JRE, bundle inside your own application.","body":"You should not rely on this existing. If you need the JRE, bundle inside your own application."},{"owner":{"account_id":272016,"reputation":1045,"user_id":562866,"display_name":"Antoine Rosset"},"score":1,"creation_date":1404144120,"post_id":18771311,"comment_id":37917833,"body_markdown":"Setting JAVA_HOME with a path containing a space character is challenging ! I didn&#39;t succeeded...","body":"Setting JAVA_HOME with a path containing a space character is challenging ! I didn&#39;t succeeded..."},{"owner":{"account_id":400534,"reputation":3006,"user_id":766551,"accept_rate":50,"display_name":"Kuba"},"score":0,"creation_date":1409164384,"post_id":18771311,"comment_id":39866713,"body_markdown":"you can create somewhere a link to this directory and set JAVA_HOME to that link","body":"you can create somewhere a link to this directory and set JAVA_HOME to that link"},{"owner":{"account_id":1036387,"reputation":4538,"user_id":1043563,"display_name":"David Avendasora"},"score":0,"creation_date":1458570686,"post_id":18771311,"comment_id":59906079,"body_markdown":"This is where the &quot;Java&quot; System Preferences panel seems to install it.","body":"This is where the &quot;Java&quot; System Preferences panel seems to install it."},{"owner":{"account_id":3607313,"reputation":622,"user_id":3009205,"display_name":"coda"},"score":3,"creation_date":1462574141,"post_id":18771311,"comment_id":61709442,"body_markdown":"@AntoineRosset, you can set it this way:\n`export JAVA_HOME=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`","body":"@AntoineRosset, you can set it this way: <code>export JAVA_HOME=&#47;Library&#47;Internet\\ Plug-Ins&#47;JavaAppletPlugin.plugin&#47;Contents&#47;Home</code>"},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":0,"creation_date":1485451819,"post_id":18771311,"comment_id":70940764,"body_markdown":"Thanks. I knew where my JDKs were, I didn&#39;t know where the Java plugin installed its JRE.","body":"Thanks. I knew where my JDKs were, I didn&#39;t know where the Java plugin installed its JRE."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720203,"post_id":18771311,"comment_id":100784365,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"}],"tags":[],"owner":{"account_id":3296671,"reputation":587,"user_id":2773783,"display_name":"Morrie"},"comment_count":7,"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1379008958,"creation_date":1379008958,"answer_id":18771311,"question_id":15826202,"body_markdown":"If you install just the JRE, it seems to be put at:\r\n\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>If you install just the JRE, it seems to be put at:</p>\n\n<pre><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720316,"post_id":21463054,"comment_id":100784392,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":293480,"reputation":4652,"user_id":596794,"accept_rate":28,"display_name":"Mehdi Ijadnazar"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1426147998,"creation_date":1391102029,"answer_id":21463054,"question_id":15826202,"body_markdown":"I tried serkan&#39;s solution, it found java 7&#39;s location on OS X Mavericks.\r\nit is resided in `&quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/&quot;`\r\nbut to make it the default JDK I had to set JAVA_HOME system variable in .bash_profile in home directory to `&quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/&quot;`\r\nso its up and running now thanks to serkan&#39;s idea","title":"Where is Java Installed on Mac OS X?","body":"<p>I tried serkan's solution, it found java 7's location on OS X Mavericks.\nit is resided in <code>\"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/\"</code>\nbut to make it the default JDK I had to set JAVA_HOME system variable in .bash_profile in home directory to <code>\"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/\"</code>\nso its up and running now thanks to serkan's idea</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":12,"creation_date":1462871104,"post_id":21957723,"comment_id":61806853,"body_markdown":"This removes about everything else from the path? Do this only if you are only using Java and nothing else in your system.","body":"This removes about everything else from the path? Do this only if you are only using Java and nothing else in your system."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720250,"post_id":21957723,"comment_id":100784374,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":4066546,"reputation":321,"user_id":3341255,"display_name":"Bimales Mandal"},"comment_count":2,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1540779853,"creation_date":1393090022,"answer_id":21957723,"question_id":15826202,"body_markdown":"Java package structure of Mac OS is a bit different from Windows. Don&#39;t be upset for this as a developer just needs to set `PATH` and `JAVA_HOME`.\r\n\r\nSo in `.bash_profile` set `JAVA_HOME` and `PATH` as below. This example is for Java 6:\r\n\r\n    export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n    export PATH=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:$PATH\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Java package structure of Mac OS is a bit different from Windows. Don't be upset for this as a developer just needs to set <code>PATH</code> and <code>JAVA_HOME</code>.</p>\n\n<p>So in <code>.bash_profile</code> set <code>JAVA_HOME</code> and <code>PATH</code> as below. This example is for Java 6:</p>\n\n<pre><code>export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nexport PATH=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:$PATH\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":1,"creation_date":1563720352,"post_id":30074478,"comment_id":100784405,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"}],"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1430909087,"creation_date":1430909087,"answer_id":30074478,"question_id":15826202,"body_markdown":"The System Preferences then Java control panel then Java then View will show the exact location of the currently installed default JRE.","title":"Where is Java Installed on Mac OS X?","body":"<p>The System Preferences then Java control panel then Java then View will show the exact location of the currently installed default JRE.</p>\n"},{"comments":[{"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"score":8,"creation_date":1456433578,"post_id":31667558,"comment_id":58957585,"body_markdown":"I like this solution better than the accepted answer because it is independent of the version of the JVM installed.","body":"I like this solution better than the accepted answer because it is independent of the version of the JVM installed."},{"owner":{"account_id":2112657,"reputation":3793,"user_id":1877609,"accept_rate":76,"display_name":"Antoine Liz&#233;e"},"score":1,"creation_date":1461881105,"post_id":31667558,"comment_id":61413596,"body_markdown":"This didn&#39;t find my java 8 version installed by Oracle.","body":"This didn&#39;t find my java 8 version installed by Oracle."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":18,"creation_date":1462871045,"post_id":31667558,"comment_id":61806822,"body_markdown":"Why do you have the `echo $(...)` there? Doesn&#39;t just `/usr/libexec/java_home` do the same?","body":"Why do you have the <code>echo $(...)</code> there? Doesn&#39;t just <code>&#47;usr&#47;libexec&#47;java_home</code> do the same?"},{"owner":{"account_id":68256,"reputation":3089,"user_id":199252,"accept_rate":74,"display_name":"Roel"},"score":1,"creation_date":1469201781,"post_id":31667558,"comment_id":64454673,"body_markdown":"The accepted answer did not work for me but this worked! (I&#39;m normally not a mac/unix user)","body":"The accepted answer did not work for me but this worked! (I&#39;m normally not a mac/unix user)"},{"owner":{"account_id":3730340,"reputation":2267,"user_id":3102952,"accept_rate":69,"display_name":"Nikola Stojaković"},"score":0,"creation_date":1490303642,"post_id":31667558,"comment_id":73065814,"body_markdown":"@PaŭloEbermann It doesn&#39;t work for me without dolar sign and brackets.","body":"@PaŭloEbermann It doesn&#39;t work for me without dolar sign and brackets."},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720193,"post_id":31667558,"comment_id":100784362,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"},{"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"score":0,"creation_date":1643438086,"post_id":31667558,"comment_id":125344174,"body_markdown":"It is an ancient answer. Go ahead with `/Library/Java/JavaVirtualMachines/`","body":"It is an ancient answer. Go ahead with <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;</code>"}],"tags":[],"owner":{"account_id":257306,"reputation":3952,"user_id":538636,"accept_rate":86,"display_name":"Pavithra Gunasekara"},"comment_count":7,"down_vote_count":1,"up_vote_count":189,"is_accepted":false,"score":188,"last_activity_date":1641210959,"creation_date":1438058902,"answer_id":31667558,"question_id":15826202,"body_markdown":"You could use \r\n\r\n    /usr/libexec/java_home\r\n\r\n command in your terminal to know the path where Java being installed. ","title":"Where is Java Installed on Mac OS X?","body":"<p>You could use</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>command in your terminal to know the path where Java being installed.</p>\n"},{"comments":[{"owner":{"account_id":377597,"reputation":9529,"user_id":729820,"accept_rate":84,"display_name":"SoftwareSavant"},"score":0,"creation_date":1544676506,"post_id":37939848,"comment_id":94362831,"body_markdown":"ok, I just tried this and I managed to navigate to the directory.  Why can&#39;t I navigate to that folder normally in Finder?  Is this just Apple being extra annoying... Also extra annoying, Gradle version 4.3 doesn&#39;t work with any version of Java except for Java 8","body":"ok, I just tried this and I managed to navigate to the directory.  Why can&#39;t I navigate to that folder normally in Finder?  Is this just Apple being extra annoying... Also extra annoying, Gradle version 4.3 doesn&#39;t work with any version of Java except for Java 8"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720294,"post_id":37939848,"comment_id":100784386,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile"},{"owner":{"account_id":12183171,"reputation":914,"user_id":8894035,"display_name":"Wahab Khan Jadon"},"score":0,"creation_date":1664636294,"post_id":37939848,"comment_id":130519335,"body_markdown":"this folder is empty in my case ... but when i check java -version ... it show version 1.8","body":"this folder is empty in my case ... but when i check java -version ... it show version 1.8"}],"tags":[],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1466499485,"creation_date":1466499485,"answer_id":37939848,"question_id":15826202,"body_markdown":"just write `/Library/Java/JavaVirtualMachines/`  \r\nin Go to Folder --&gt; Go in Finder \r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>just write <code>/Library/Java/JavaVirtualMachines/</code><br>\nin Go to Folder --> Go in Finder </p>\n"},{"comments":[{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":2,"creation_date":1474247745,"post_id":39563909,"comment_id":66438751,"body_markdown":"I think this should have been a comment.","body":"I think this should have been a comment."},{"owner":{"account_id":388570,"reputation":88656,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"score":1,"creation_date":1474248775,"post_id":39563909,"comment_id":66438959,"body_markdown":"I dont think , because there is an Added value which is ` export JAVA_HOME=`. ... What about you @Thunderforge","body":"I dont think , because there is an Added value which is ` export JAVA_HOME=`. ... What about you @Thunderforge"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1563720360,"post_id":39563909,"comment_id":100784411,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":388570,"reputation":88656,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588090178,"creation_date":1474245161,"answer_id":39563909,"question_id":15826202,"body_markdown":"\r\nFor : \r\n\r\n - OS X : 10.11.6\r\n\r\n - Java : 8 \r\n\r\n\r\nI confirm the answer of @Morrie . \r\n\r\n       export JAVA_HOME=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home;\r\n\r\nBut if you are running containers your life will be easier\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>For : </p>\n\n<ul>\n<li><p>OS X : 10.11.6</p></li>\n<li><p>Java : 8 </p></li>\n</ul>\n\n<p>I confirm the answer of @Morrie . </p>\n\n<pre><code>   export JAVA_HOME=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home;\n</code></pre>\n\n<p>But if you are running containers your life will be easier</p>\n"},{"comments":[{"owner":{"account_id":1931172,"reputation":2758,"user_id":5816060,"display_name":"Shwetabh Shekhar"},"score":2,"creation_date":1543557552,"post_id":46296757,"comment_id":93969754,"body_markdown":"Pretty helpful when you have to point the JDK explicitly from an IDE. Thanks","body":"Pretty helpful when you have to point the JDK explicitly from an IDE. Thanks"},{"owner":{"account_id":377597,"reputation":9529,"user_id":729820,"accept_rate":84,"display_name":"SoftwareSavant"},"score":1,"creation_date":1544676231,"post_id":46296757,"comment_id":94362771,"body_markdown":"How Dense am I?  My terminal says that I have 2 jdk&#39;s installed in /Library/Java/JavaVirtualMachines/ but I can&#39;t find them when I navigate to that directory in finder... How dense can I get...","body":"How Dense am I?  My terminal says that I have 2 jdk&#39;s installed in /Library/Java/JavaVirtualMachines/ but I can&#39;t find them when I navigate to that directory in finder... How dense can I get..."},{"owner":{"account_id":5732038,"reputation":5971,"user_id":4527240,"accept_rate":86,"display_name":"Jaywant Khedkar"},"score":0,"creation_date":1544681011,"post_id":46296757,"comment_id":94364097,"body_markdown":"@SoftwareSavant, Please ref  https://stackoverflow.com/a/14875241 answer ,It&#39;s may be help you .","body":"@SoftwareSavant, Please ref  <a href=\"https://stackoverflow.com/a/14875241\">stackoverflow.com/a/14875241</a> answer ,It&#39;s may be help you ."}],"tags":[],"owner":{"account_id":5732038,"reputation":5971,"user_id":4527240,"accept_rate":86,"display_name":"Jaywant Khedkar"},"comment_count":3,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1519048692,"creation_date":1505813307,"answer_id":46296757,"question_id":15826202,"body_markdown":"Try This, It&#39;s easy way to find java installed path in Mac OS X,\r\n\r\nGoTO \r\n\r\n1 ) **/Library i.e Macintosh HD/Library**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2) **Click on Library in that we find Java folder.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7BNFT.png\r\n  [2]: https://i.stack.imgur.com/jUGhY.png\r\n\r\n3) **So final path is** \r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\r\n\r\nHope so this is help for someone .","title":"Where is Java Installed on Mac OS X?","body":"<p>Try This, It's easy way to find java installed path in Mac OS X,</p>\n\n<p>GoTO </p>\n\n<p>1 ) <strong>/Library i.e Macintosh HD/Library</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7BNFT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7BNFT.png\" alt=\"enter image description here\"></a></p>\n\n<p>2) <strong>Click on Library in that we find Java folder.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jUGhY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jUGhY.png\" alt=\"enter image description here\"></a></p>\n\n<p>3) <strong>So final path is</strong> </p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\n</code></pre>\n\n<p>Hope so this is help for someone .</p>\n"},{"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":2,"creation_date":1563720338,"post_id":49120365,"comment_id":100784396,"body_markdown":"Yes, export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"Yes, export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":3924293,"reputation":5268,"user_id":3308533,"accept_rate":36,"display_name":"Pranay Aryal"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1520287926,"creation_date":1520287926,"answer_id":49120365,"question_id":15826202,"body_markdown":"type `which java` in terminal to show where it is installed.","title":"Where is Java Installed on Mac OS X?","body":"<p>type <code>which java</code> in terminal to show where it is installed.</p>\n"},{"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":1,"creation_date":1563720268,"post_id":53879510,"comment_id":100784378,"body_markdown":"I added export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile.","body":"I added export JAVA_HOME=$(/usr/libexec/java_home) at ~/.bash_profile."}],"tags":[],"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1545369197,"creation_date":1545369197,"answer_id":53879510,"question_id":15826202,"body_markdown":"If you type\r\n\r\n    java -verbose \r\n\r\nThis also gives the location from which the jars are loaded and hence also the java path.","title":"Where is Java Installed on Mac OS X?","body":"<p>If you type</p>\n\n<pre><code>java -verbose \n</code></pre>\n\n<p>This also gives the location from which the jars are loaded and hence also the java path.</p>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602101279,"creation_date":1598996703,"answer_id":63695856,"question_id":15826202,"body_markdown":"if you are using [sdkman][1]\r\n\r\nyou can check it with `sdk home java &lt;installed_java_version&gt;`\r\n\r\n    $  sdk home java 8.0.252.j9-adpt\r\n    /Users/admin/.sdkman/candidates/java/8.0.252.j9-adpt\r\n\r\nyou can get your installed java version with\r\n\r\n    $ sdk list java\r\n\r\n  [1]: https://sdkman.io/usage","title":"Where is Java Installed on Mac OS X?","body":"<p>if you are using <a href=\"https://sdkman.io/usage\" rel=\"nofollow noreferrer\">sdkman</a></p>\n<p>you can check it with <code>sdk home java &lt;installed_java_version&gt;</code></p>\n<pre><code>$  sdk home java 8.0.252.j9-adpt\n/Users/admin/.sdkman/candidates/java/8.0.252.j9-adpt\n</code></pre>\n<p>you can get your installed java version with</p>\n<pre><code>$ sdk list java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9885056,"reputation":917,"user_id":7319797,"display_name":"KR Akhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635746585,"creation_date":1635746430,"answer_id":69793129,"question_id":15826202,"body_markdown":"MacOS BigSur\r\n\r\nAdd following under .zshrc file. If .zshrc is not present, create and add.\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home`","title":"Where is Java Installed on Mac OS X?","body":"<p>MacOS BigSur</p>\n<p>Add following under .zshrc file. If .zshrc is not present, create and add.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home`\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1134240,"reputation":970,"user_id":1119656,"display_name":"wildcat12"},"score":1,"creation_date":1663798767,"post_id":70074594,"comment_id":130327111,"body_markdown":"This is a more complete answer IMHO. I had multiple versions installed and the /Internet Plug-Ins/... was causing an issue with the Java updater tool, but I couldn&#39;t find the version the tool was complaining about ... until now.","body":"This is a more complete answer IMHO. I had multiple versions installed and the /Internet Plug-Ins/... was causing an issue with the Java updater tool, but I couldn&#39;t find the version the tool was complaining about ... until now."}],"tags":[],"owner":{"account_id":1586317,"reputation":3532,"user_id":1470581,"display_name":"Derek Lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1687406409,"creation_date":1637633584,"answer_id":70074594,"question_id":15826202,"body_markdown":"You may not realize it, but you likely have multiple Java versions installed. \r\n\r\nTo list the version, architecture, and folder location of **all** installed JVMs on your Mac: \r\n\r\n`$ /usr/libexec/java_home --verbose`\r\n\r\nOr:\r\n\r\n`$ /usr/libexec/java_home -V` (That&#39;s an uppercase V!)\r\n\r\nSample output:\r\n\r\n```\r\n$ /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (4):\r\n    12.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 12.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\r\n    1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_282 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/username/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home\r\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\r\n```","title":"Where is Java Installed on Mac OS X?","body":"<p>You may not realize it, but you likely have multiple Java versions installed.</p>\n<p>To list the version, architecture, and folder location of <strong>all</strong> installed JVMs on your Mac:</p>\n<p><code>$ /usr/libexec/java_home --verbose</code></p>\n<p>Or:</p>\n<p><code>$ /usr/libexec/java_home -V</code> (That's an uppercase V!)</p>\n<p>Sample output:</p>\n<pre><code>$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (4):\n    12.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 12.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\n    1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_282 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/username/Library/Java/JavaVirtualMachines/corretto-1.8.0_282/Contents/Home\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/jdk-12.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14663522,"reputation":475,"user_id":10590001,"display_name":"Tal Hakmon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640618708,"creation_date":1640618708,"answer_id":70497362,"question_id":15826202,"body_markdown":"Try to check in here\\\r\n`/Library/Java/JavaVirtualMachines`\r\n\r\n","title":"Where is Java Installed on Mac OS X?","body":"<p>Try to check in here<br />\n<code>/Library/Java/JavaVirtualMachines</code></p>\n"},{"comments":[{"owner":{"account_id":7596723,"reputation":1057,"user_id":5762691,"display_name":"Jonathan"},"score":0,"creation_date":1698226373,"post_id":76752340,"comment_id":136377183,"body_markdown":"I think you meant: `whereis java`","body":"I think you meant: <code>whereis java</code>"}],"tags":[],"owner":{"account_id":15282082,"reputation":704,"user_id":11026123,"display_name":"RusJaI"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690184647,"creation_date":1690184647,"answer_id":76752340,"question_id":15826202,"body_markdown":"Simply enter the following in your terminal : \r\n\r\n    where is java","title":"Where is Java Installed on Mac OS X?","body":"<p>Simply enter the following in your terminal :</p>\n<pre><code>where is java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4170163,"reputation":43,"user_id":3418130,"display_name":"psbox2021"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693613553,"creation_date":1693613553,"answer_id":77026484,"question_id":15826202,"body_markdown":"If it&#39;s installed via IntelliJ IDEA. It&#39;s at ~/Library/Java/JavaVirtualMachines","title":"Where is Java Installed on Mac OS X?","body":"<p>If it's installed via IntelliJ IDEA. It's at ~/Library/Java/JavaVirtualMachines</p>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073356,"favorite_count":0,"down_vote_count":15,"up_vote_count":885,"accepted_answer_id":15826712,"answer_count":21,"score":870,"last_activity_date":1693613553,"creation_date":1365137909,"question_id":15826202,"body_markdown":"I downloaded Java 7u17 on Mac OS 10.7.5 from [here][1] and successfully installed it. To do some JNI programming, I need to know where Java is installed on my Mac. \r\n\r\nI thought that inside the `/Library/Java/JavaVirtualMachines/` folder, there would be a folder called `1.7.0.jdk` or something, but then I found the folder empty. This was confirmed by running `ls /Library/Java/JavaVirtualMachines/` in the Terminal. I&#39;ve tried searching for it to find out if it was installed somewhere, but that doesn&#39;t seem to be turning anything up.\r\n\r\nCould someone please tell me where Java is installed on my Mac?\r\n\r\n\r\n  [1]: http://www.java.com/en/download/mac_download.jsp?locale=en\r\n  [2]: http://solutions.weblite.ca/tutorials/jni_osx/","title":"Where is Java Installed on Mac OS X?","body":"<p>I downloaded Java 7u17 on Mac OS 10.7.5 from <a href=\"http://www.java.com/en/download/mac_download.jsp?locale=en\" rel=\"noreferrer\">here</a> and successfully installed it. To do some JNI programming, I need to know where Java is installed on my Mac.</p>\n<p>I thought that inside the <code>/Library/Java/JavaVirtualMachines/</code> folder, there would be a folder called <code>1.7.0.jdk</code> or something, but then I found the folder empty. This was confirmed by running <code>ls /Library/Java/JavaVirtualMachines/</code> in the Terminal. I've tried searching for it to find out if it was installed somewhere, but that doesn't seem to be turning anything up.</p>\n<p>Could someone please tell me where Java is installed on my Mac?</p>\n"},{"tags":["java","oop","input","arguments","dynamic-memory-allocation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693615316,"post_id":77026478,"comment_id":135788579,"body_markdown":"I don&#39;t understand what problem you are having. Those parameter names are just displayed by your IDE, they are not part of the Java language, and have absolutely **no** effect on what your program does.","body":"I don&#39;t understand what problem you are having. Those parameter names are just displayed by your IDE, they are not part of the Java language, and have absolutely <b>no</b> effect on what your program does."},{"owner":{"account_id":12430857,"reputation":1,"user_id":9053425,"display_name":"Josh Olson"},"score":0,"creation_date":1693695588,"post_id":77026478,"comment_id":135794978,"body_markdown":"my &quot;problem&quot; isn&#39;t necessarily a problem of syntax, but of understanding how the compiler knows that the minus sign &#39;-&#39; is implying that the double being taken in is a negative value. In my mind, it sees the minus sign as a non-numerical value.","body":"my &quot;problem&quot; isn&#39;t necessarily a problem of syntax, but of understanding how the compiler knows that the minus sign &#39;-&#39; is implying that the double being taken in is a negative value. In my mind, it sees the minus sign as a non-numerical value."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693702048,"post_id":77026478,"comment_id":135795347,"body_markdown":"&quot;In my mind, it sees the minus sign as a non-numerical value&quot;. I don&#39;t understand why you think this, but I can assure you that the compiler understands that the `-` indicates a negative value.","body":"&quot;In my mind, it sees the minus sign as a non-numerical value&quot;. I don&#39;t understand why you think this, but I can assure you that the compiler understands that the <code>-</code> indicates a negative value."}],"owner":{"account_id":12430857,"reputation":1,"user_id":9053425,"display_name":"Josh Olson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693613401,"creation_date":1693613401,"question_id":77026478,"body_markdown":"I have an allocated variable e3 from class Employee that accepts 2 strings (firstname, lastname), and a double. The challenge I have encountered is that I am inserting a &#39;-&#39; minus sign into the double argument, when it only expects doubles.\r\n\r\nI am using Visual Studio Code as my IDE and it labels the arguments of the dynamic memory to let you know what exactly the value of that argument is going to. \r\n\r\nWhen I run my code, it outputs just fine to the screen, but in more complicated projects I believe I will need to do some type of conversion. I am looking for any suggestion regarding input of non-integer/double data into an integer/double argument. An explanation on why the predictive prefix disappears will also work!\r\n\r\nBelow I have attached my code, the first block is main(), and the second block is my class.\r\n\r\n```\r\npublic class EmployeeTest {\r\n    public static void main(String args[]) {\r\n\r\n        Employee e1 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 2500.00);\r\n        Employee e2 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 3600.75);\r\n        Employee e3 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, -6000.00);\r\n        System.out.println(e1);\r\n        System.out.println(e2);\r\n        System.out.println(e3);\r\n    }\r\n}\r\n\r\n```\r\nIn this snippet, you can see on line 1-2 that in new Employee(), my IDE has labeled the arguments with a nameF:, nameL:, and monthlySalary:\r\n\r\non line 3, the monthlySalary: is omitted when I insert the &#39;-&#39; minus sign.\r\n\r\nbelow is my Employee class file\r\n```\r\npublic class Employee {\r\n\r\n    private String nameF;\r\n    private String nameL;\r\n    private double monthlySalary;\r\n\r\n    public void setFirstName(String firstName) {\r\n        firstName = nameF;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        lastName = nameL;\r\n    }\r\n\r\n    public void setMonthlySalary(double salary) {\r\n        salary = monthlySalary;\r\n    }\r\n\r\n    public int getFirstName() {\r\n        return nameF;\r\n    }\r\n\r\n    public int getLastName() {\r\n        return nameL;\r\n    }\r\n\r\n    public double getMonthlySalary() {\r\n        return monthlySalary;\r\n    }\r\n\r\n    //Here is the method I am having trouble with, specifically the double argument\r\n\r\n    Employee(String nameF, String nameL, double monthlySalary) {\r\n        this.nameF = nameF;\r\n        this.nameL = nameL;\r\n        this.monthlySalary = monthlySalary;\r\n    }\r\n\r\n```\r\n\r\n\r\n[Visual Studio Code interpretation of dynamic allocation](https://i.stack.imgur.com/wSFqy.png)","title":"Predictive prefix disappeared on Input of negative double in argument of dynamically allocated memory","body":"<p>I have an allocated variable e3 from class Employee that accepts 2 strings (firstname, lastname), and a double. The challenge I have encountered is that I am inserting a '-' minus sign into the double argument, when it only expects doubles.</p>\n<p>I am using Visual Studio Code as my IDE and it labels the arguments of the dynamic memory to let you know what exactly the value of that argument is going to.</p>\n<p>When I run my code, it outputs just fine to the screen, but in more complicated projects I believe I will need to do some type of conversion. I am looking for any suggestion regarding input of non-integer/double data into an integer/double argument. An explanation on why the predictive prefix disappears will also work!</p>\n<p>Below I have attached my code, the first block is main(), and the second block is my class.</p>\n<pre><code>public class EmployeeTest {\n    public static void main(String args[]) {\n\n        Employee e1 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 2500.00);\n        Employee e2 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, monthlySalary: 3600.75);\n        Employee e3 = new Employee(nameF: &quot;nameF&quot;, nameL: &quot;nameL&quot;, -6000.00);\n        System.out.println(e1);\n        System.out.println(e2);\n        System.out.println(e3);\n    }\n}\n\n</code></pre>\n<p>In this snippet, you can see on line 1-2 that in new Employee(), my IDE has labeled the arguments with a nameF:, nameL:, and monthlySalary:</p>\n<p>on line 3, the monthlySalary: is omitted when I insert the '-' minus sign.</p>\n<p>below is my Employee class file</p>\n<pre><code>public class Employee {\n\n    private String nameF;\n    private String nameL;\n    private double monthlySalary;\n\n    public void setFirstName(String firstName) {\n        firstName = nameF;\n    }\n\n    public void setLastName(String lastName) {\n        lastName = nameL;\n    }\n\n    public void setMonthlySalary(double salary) {\n        salary = monthlySalary;\n    }\n\n    public int getFirstName() {\n        return nameF;\n    }\n\n    public int getLastName() {\n        return nameL;\n    }\n\n    public double getMonthlySalary() {\n        return monthlySalary;\n    }\n\n    //Here is the method I am having trouble with, specifically the double argument\n\n    Employee(String nameF, String nameL, double monthlySalary) {\n        this.nameF = nameF;\n        this.nameL = nameL;\n        this.monthlySalary = monthlySalary;\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wSFqy.png\" rel=\"nofollow noreferrer\">Visual Studio Code interpretation of dynamic allocation</a></p>\n"},{"tags":["java","db2","websphere-7"],"answers":[{"tags":[],"owner":{"account_id":552904,"reputation":1780,"user_id":918176,"accept_rate":100,"display_name":"user918176"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362585327,"creation_date":1362585327,"answer_id":15252022,"question_id":15239249,"body_markdown":"Set resultSetHoldability either at [driver][1] level or when [preparing][2] your statement. This should fix what you are experiencing. \r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/rjvdsprp.htm\r\n  [2]: http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/tjvrsush.htm","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>Set resultSetHoldability either at <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/rjvdsprp.htm\" rel=\"nofollow\">driver</a> level or when <a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9/index.jsp?topic=/com.ibm.db2.udb.apdv.java.doc/doc/tjvrsush.htm\" rel=\"nofollow\">preparing</a> your statement. This should fix what you are experiencing. </p>\n"},{"tags":[],"owner":{"account_id":1045381,"reputation":491,"user_id":1050494,"display_name":"Joe Cotton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400784952,"creation_date":1400784952,"answer_id":23815032,"question_id":15239249,"body_markdown":"The reason that I got the same error was because I closed the db2 connection and then tried to read the result set.  Please put some emphasis on the fact that the db2 must remain connected while reading the result set.  ","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>The reason that I got the same error was because I closed the db2 connection and then tried to read the result set.  Please put some emphasis on the fact that the db2 must remain connected while reading the result set.  </p>\n"}],"owner":{"account_id":76721,"reputation":551,"user_id":219433,"accept_rate":83,"display_name":"Adilya Taimussova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693613025,"creation_date":1362545520,"question_id":15239249,"body_markdown":"I have rather a simple portlet which displays the number of visitors of portal (online, daily, weekly, monthly, annually). \r\n\r\nIn the portlet class in doView method firstly I call one method which do an insert to the table (info about a new visitor). After I call 5 methods one by one which do a count select on the same table. They are all pretty similar, only their queries differ. One of the methods implementation is the following:\r\n\r\n    public static Integer getOnline() {\r\n        Integer res = null;\r\n    \tStatement stmt = null;\r\n    \tResultSet rs = null;\r\n    \t\r\n        try {\r\n            stmt = getConnection().createStatement();\r\n            rs = stmt.executeQuery(query);\r\n            if (rs.next()) {\r\n               res = new Integer(rs.getString(&quot;1&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            log.error(&quot;Excepton: &quot; + e);\r\n        } finally {\r\n        \tif (rs != null) {\r\n        \t\ttry { rs.close(); } catch (SQLException e) { log.warn(&quot;Error closing result set: &quot;, e); }\r\n        \t    rs = null;\r\n        \t}\r\n        \t\r\n        \tif (stmt != null) {\r\n        \t\ttry { stmt.close(); } catch (SQLException e) { log.warn(&quot;Error closing statement: &quot;, e); }\r\n        \t\tstmt = null;\r\n        \t}\r\n        }\r\n        \r\n        return res;\r\n    }\r\n\r\n\r\nConnection is obtained:\r\n    \r\n    public static Connection getConnection() {\r\n    \ttry {\r\n    \t\tif (connection == null) {\r\n\t            if (dataSource == null) {\r\n\t\t\t\t\tdataSource = (DataSource) new InitialContext().lookup(dataSourceName);\r\n\t            }\r\n\t            \r\n\t\t\t\tconnection = dataSource.getConnection();\r\n    \t\t}\r\n    \t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error on opening a connection: &quot;, e);\r\n\t\t}\r\n    \t\r\n    \treturn connection;\r\n    }\r\n\r\nConnection is closed in the end of doView method. Occasionally I&#39;m getting that exception:\r\n\r\n    com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.88] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\r\n\r\nfrom one or few of the methods which do select. Also the following errors sometimes:\r\n\r\n    com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Connection is closed.\r\n\r\n    com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Statement is closed.\r\n\r\nAfter searching the internet I still haven&#39;t found/realized what is the cause of an error in my case and how I can fix it. Any help would be appreciated.","title":"com.ibm.db2.jcc.am.SqlException: Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>I have rather a simple portlet which displays the number of visitors of portal (online, daily, weekly, monthly, annually). </p>\n\n<p>In the portlet class in doView method firstly I call one method which do an insert to the table (info about a new visitor). After I call 5 methods one by one which do a count select on the same table. They are all pretty similar, only their queries differ. One of the methods implementation is the following:</p>\n\n<pre><code>public static Integer getOnline() {\n    Integer res = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n\n    try {\n        stmt = getConnection().createStatement();\n        rs = stmt.executeQuery(query);\n        if (rs.next()) {\n           res = new Integer(rs.getString(\"1\"));\n        }\n    } catch (SQLException e) {\n        log.error(\"Excepton: \" + e);\n    } finally {\n        if (rs != null) {\n            try { rs.close(); } catch (SQLException e) { log.warn(\"Error closing result set: \", e); }\n            rs = null;\n        }\n\n        if (stmt != null) {\n            try { stmt.close(); } catch (SQLException e) { log.warn(\"Error closing statement: \", e); }\n            stmt = null;\n        }\n    }\n\n    return res;\n}\n</code></pre>\n\n<p>Connection is obtained:</p>\n\n<pre><code>public static Connection getConnection() {\n    try {\n        if (connection == null) {\n            if (dataSource == null) {\n                dataSource = (DataSource) new InitialContext().lookup(dataSourceName);\n            }\n\n            connection = dataSource.getConnection();\n        }\n    } catch (Exception e) {\n        log.error(\"Error on opening a connection: \", e);\n    }\n\n    return connection;\n}\n</code></pre>\n\n<p>Connection is closed in the end of doView method. Occasionally I'm getting that exception:</p>\n\n<pre><code>com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.88] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\n</code></pre>\n\n<p>from one or few of the methods which do select. Also the following errors sometimes:</p>\n\n<pre><code>com.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Connection is closed.\n\ncom.ibm.websphere.ce.cm.ObjectClosedException: DSRA9110E: Statement is closed.\n</code></pre>\n\n<p>After searching the internet I still haven't found/realized what is the cause of an error in my case and how I can fix it. Any help would be appreciated.</p>\n"},{"tags":["java","spring","scheduler","scheduling","quartz"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1693535642,"post_id":77019981,"comment_id":135777222,"body_markdown":"Hi there, please share some analytical part(DB table, data or etc) to reproduce your issue.","body":"Hi there, please share some analytical part(DB table, data or etc) to reproduce your issue."}],"answers":[{"tags":[],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693611039,"creation_date":1693611039,"answer_id":77026402,"question_id":77019981,"body_markdown":"You can learn the info from [there][1]. In two words, add `@EnableScheduling` onto your `main()` method&#39;s class, than create a new method in some controller and add `@Scheduled` annotation on the method.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-scheduled-tasks","title":"Scheduler Spring, Clustered Environment, Not Quartz","body":"<p>You can learn the info from <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">there</a>. In two words, add <code>@EnableScheduling</code> onto your <code>main()</code> method's class, than create a new method in some controller and add <code>@Scheduled</code> annotation on the method.</p>\n"}],"owner":{"account_id":29341501,"reputation":1,"user_id":22480801,"display_name":"Mano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693611039,"creation_date":1693529841,"question_id":77019981,"body_markdown":"I have a database with multiple rows having a date time column, i want to create a scheduler that runs every 5 minutes and reads the records from that table on the date time column and picks all records which have date lesser than current time, and executes some business logic on those records one by one in a clustered environment, and one record must be processed only once. I cannot use Quartz since that will need me to store the Job etc in another table which at present is not an option for me. PLease if you can guide me.\r\n\r\n","title":"Scheduler Spring, Clustered Environment, Not Quartz","body":"<p>I have a database with multiple rows having a date time column, i want to create a scheduler that runs every 5 minutes and reads the records from that table on the date time column and picks all records which have date lesser than current time, and executes some business logic on those records one by one in a clustered environment, and one record must be processed only once. I cannot use Quartz since that will need me to store the Job etc in another table which at present is not an option for me. PLease if you can guide me.</p>\n"},{"tags":["java","html","css"],"comments":[{"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"score":0,"creation_date":1693612597,"post_id":77026367,"comment_id":135788447,"body_markdown":"by adding this link the audio its working OK...&lt;script src =&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/script&gt;","body":"by adding this link the audio its working OK...&lt;script src =&quot;<a href=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">cdnjs.cloudflare.com/ajax/libs/d3/3.5.14/d3.js&quot;&gt;&lt;/&hellip;</a>&gt;"},{"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"score":0,"creation_date":1693612781,"post_id":77026367,"comment_id":135788457,"body_markdown":"But now the chart is stuck at the top left corner, I added a css file and set it to top=200px; left{200px; I used the  div Id &quot;chart&quot; but it dint work, so how I get the chart to display at the center of the page?","body":"But now the chart is stuck at the top left corner, I added a css file and set it to top=200px; left{200px; I used the  div Id &quot;chart&quot; but it dint work, so how I get the chart to display at the center of the page?"}],"owner":{"account_id":25909916,"reputation":1,"user_id":19634364,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693610076,"creation_date":1693610076,"question_id":77026367,"body_markdown":"I created a jsd3 project with the help of google bard, but the code does not work, can you guys please help me out? I need to attach an audio file to each text node, when hover on each text the audio should be played back, the audio files are in a local folder called :audio&gt;\r\n\r\nhere its the full code, thankyou in advance.\r\n\r\n`\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;JSD3 Chart with Audio&lt;/title&gt;\r\n&lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;\r\n&lt;script&gt;\r\nvar   w = 1000,\r\n      h =  1000,\r\n      circleWidth = 3; \r\n \r\n// Change the color to something more vrivant:\r\nvar palette = {\r\n      &quot;lightgray&quot;: &quot;#E5E8E8&quot;,\r\n      &quot;gray&quot;: &quot;#708284&quot;,\r\n      &quot;mediumgray&quot;: &quot;#536870&quot;,\r\n\t  &quot;black&quot;:&quot;#000000&quot;,\r\n      &quot;blue&quot;: &quot;#3B757F&quot;\r\n  }\r\n\r\nvar colors = d3.scale.category20();\r\n\r\nvar nodes = [\r\n      { name: &quot;Borg&quot;, audio: &quot;audio/borg.mp3&quot;},\r\n      { name: &quot;HTML5&quot;, target: [0], value:1, audio: &quot;audio/html5.mp3&quot;},\r\n      { name: &quot;CSS3&quot;, target: [0], value: 1, audio: &quot;audio/css3.mp3&quot; },  \r\n     \r\n];\r\n\r\nvar links = [];\r\n\r\nfor (var i = 0; i &lt; nodes.length; i++){\r\n      if (nodes[i].target !== undefined) { \r\n            for ( var x = 0; x &lt; nodes[i].target.length; x++ ) \r\n              links.push({\r\n                  source: nodes[i],\r\n                  target: nodes[nodes[i].target[x]]  \r\n              });\r\n      };\r\n};\r\n\r\n\r\nvar myChart = d3.select(&#39;#chart&#39;)\r\n      .append(&quot;div&quot;)\r\n        .classed(&quot;svg-container&quot;, true)\r\n      \r\n      .append(&#39;svg&#39;)\r\n        .attr(&quot;preserveAspectRatio&quot;, &quot;xMinYMin meet&quot;)\r\n        .attr(&quot;viewBox&quot;, &quot;0 0 1000 800&quot;)\r\n        .classed(&quot;svg-content-responsive&quot;, true)\r\n\r\n\r\nvar force = d3.layout.force()\r\n      .nodes(nodes)\r\n      .links([])\r\n      .gravity(0.1)\r\n      .charge(-1000)\r\n      .size([w,h]); \r\n\r\n      var link = myChart.selectAll(&#39;line&#39;) \r\n            .data(links).enter().append(&#39;line&#39;)\r\n            .attr(&#39;stroke&#39;, palette.black)\r\n            .attr(&#39;strokewidth&#39;, &#39;1&#39;);\r\n\r\n      var node =  myChart.selectAll(&#39;circle&#39;)  \r\n            .data(nodes).enter() \r\n            .append(&#39;g&#39;) \r\n            .call(force.drag); \r\n\r\n     \r\n     node.append(&#39;circle&#39;)\r\n            .attr(&#39;cx&#39;, function(d){return d.x; })\r\n            .attr(&#39;cy&#39;, function(d){return d.y; })\r\n            .attr(&#39;r&#39;, function(d,i){\r\n                  console.log(&quot;circle &quot;,d.value,d);\r\n                  if ( i &gt; 0 ) {\r\n                        return circleWidth + d.value; \r\n                  } else {\r\n                        return circleWidth + 60; \r\n                  }\r\n            })\r\n            .attr(&#39;fill&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return colors(i);\r\n                  } else {\r\n                        return &#39;#fff&#39;;\r\n                  }\r\n            })\r\n            .attr(&#39;strokewidth&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return &#39;0&#39;;\r\n                  } else {\r\n                        return &#39;2&#39;;\r\n                  }\r\n            })\r\n             .attr(&#39;stroke&#39;, function(d,i){\r\n                  if ( i &gt; 0 ) {\r\n                        return &#39;&#39;;\r\n                  } else {\r\n                        return &#39;black&#39;;\r\n                  }\r\n            })\r\n            .on(&#39;mouseover&#39;, function(d){\r\n                if ( d.audio ) {\r\n                  var audio = new Audio(d.audio);\r\n                  audio.play();\r\n                }\r\n            })\r\n            .on(&#39;mouseout&#39;, function(d){\r\n                if ( d.audio ) {\r\n                  audio.pause();\r\n                }\r\n            });\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n`\r\n\r\nI try different ways to ask bard, i followed the code source links, i made several google search and could not find the answer.","title":"jsd3 audio playback on hover each text node","body":"<p>I created a jsd3 project with the help of google bard, but the code does not work, can you guys please help me out? I need to attach an audio file to each text node, when hover on each text the audio should be played back, the audio files are in a local folder called :audio&gt;</p>\n<p>here its the full code, thankyou in advance.</p>\n<p>`</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;JSD3 Chart with Audio&lt;/title&gt;\n&lt;script src=&quot;https://d3js.org/d3.v6.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;\n&lt;script&gt;\nvar   w = 1000,\n      h =  1000,\n      circleWidth = 3; \n \n// Change the color to something more vrivant:\nvar palette = {\n      &quot;lightgray&quot;: &quot;#E5E8E8&quot;,\n      &quot;gray&quot;: &quot;#708284&quot;,\n      &quot;mediumgray&quot;: &quot;#536870&quot;,\n      &quot;black&quot;:&quot;#000000&quot;,\n      &quot;blue&quot;: &quot;#3B757F&quot;\n  }\n\nvar colors = d3.scale.category20();\n\nvar nodes = [\n      { name: &quot;Borg&quot;, audio: &quot;audio/borg.mp3&quot;},\n      { name: &quot;HTML5&quot;, target: [0], value:1, audio: &quot;audio/html5.mp3&quot;},\n      { name: &quot;CSS3&quot;, target: [0], value: 1, audio: &quot;audio/css3.mp3&quot; },  \n     \n];\n\nvar links = [];\n\nfor (var i = 0; i &lt; nodes.length; i++){\n      if (nodes[i].target !== undefined) { \n            for ( var x = 0; x &lt; nodes[i].target.length; x++ ) \n              links.push({\n                  source: nodes[i],\n                  target: nodes[nodes[i].target[x]]  \n              });\n      };\n};\n\n\nvar myChart = d3.select('#chart')\n      .append(&quot;div&quot;)\n        .classed(&quot;svg-container&quot;, true)\n      \n      .append('svg')\n        .attr(&quot;preserveAspectRatio&quot;, &quot;xMinYMin meet&quot;)\n        .attr(&quot;viewBox&quot;, &quot;0 0 1000 800&quot;)\n        .classed(&quot;svg-content-responsive&quot;, true)\n\n\nvar force = d3.layout.force()\n      .nodes(nodes)\n      .links([])\n      .gravity(0.1)\n      .charge(-1000)\n      .size([w,h]); \n\n      var link = myChart.selectAll('line') \n            .data(links).enter().append('line')\n            .attr('stroke', palette.black)\n            .attr('strokewidth', '1');\n\n      var node =  myChart.selectAll('circle')  \n            .data(nodes).enter() \n            .append('g') \n            .call(force.drag); \n\n     \n     node.append('circle')\n            .attr('cx', function(d){return d.x; })\n            .attr('cy', function(d){return d.y; })\n            .attr('r', function(d,i){\n                  console.log(&quot;circle &quot;,d.value,d);\n                  if ( i &gt; 0 ) {\n                        return circleWidth + d.value; \n                  } else {\n                        return circleWidth + 60; \n                  }\n            })\n            .attr('fill', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return colors(i);\n                  } else {\n                        return '#fff';\n                  }\n            })\n            .attr('strokewidth', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return '0';\n                  } else {\n                        return '2';\n                  }\n            })\n             .attr('stroke', function(d,i){\n                  if ( i &gt; 0 ) {\n                        return '';\n                  } else {\n                        return 'black';\n                  }\n            })\n            .on('mouseover', function(d){\n                if ( d.audio ) {\n                  var audio = new Audio(d.audio);\n                  audio.play();\n                }\n            })\n            .on('mouseout', function(d){\n                if ( d.audio ) {\n                  audio.pause();\n                }\n            });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>`</p>\n<p>I try different ways to ask bard, i followed the code source links, i made several google search and could not find the answer.</p>\n"},{"tags":["java","spring","intellij-idea","dependency-injection","lombok"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1477579437,"post_id":40287592,"comment_id":67833462,"body_markdown":"Note that as of Spring 4.3, the constructor annotation is no longer required in the case of a singleton constructor.","body":"Note that as of Spring 4.3, the constructor annotation is no longer required in the case of a singleton constructor."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":1,"creation_date":1523113385,"post_id":40287592,"comment_id":86430822,"body_markdown":"Which kind of support is broken? Or rather, which did you expect? What do you mean by ‘the IDE shows my where the autowired arguments come from’? That dons not seem to be a feature that I am aware of.","body":"Which kind of support is broken? Or rather, which did you expect? What do you mean by ‘the IDE shows my where the autowired arguments come from’? That dons not seem to be a feature that I am aware of."},{"owner":{"account_id":103106,"reputation":150,"user_id":276342,"display_name":"Tommy"},"score":0,"creation_date":1571306603,"post_id":40287592,"comment_id":103200662,"body_markdown":"This is still an issue even without the requirement to use @Inject. You can see an example of the feature here: https://stackoverflow.com/questions/24454687/intellij-go-to-autowired-bean-definition Philipp, did you ever find a solution?","body":"This is still an issue even without the requirement to use @Inject. You can see an example of the feature here: <a href=\"https://stackoverflow.com/questions/24454687/intellij-go-to-autowired-bean-definition\" title=\"intellij go to autowired bean definition\">stackoverflow.com/questions/24454687/&hellip;</a> Philipp, did you ever find a solution?"},{"owner":{"account_id":103106,"reputation":150,"user_id":276342,"display_name":"Tommy"},"score":0,"creation_date":1571307237,"post_id":40287592,"comment_id":103201025,"body_markdown":"There are two open tickets with Jetbrains for this feature: \nhttps://youtrack.jetbrains.com/issue/IDEA-175127\nhttps://youtrack.jetbrains.com/issue/IDEA-215368","body":"There are two open tickets with Jetbrains for this feature:  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175127\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-175127</a> <a href=\"https://youtrack.jetbrains.com/issue/IDEA-215368\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-215368</a>"},{"owner":{"account_id":411202,"reputation":41997,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"score":0,"creation_date":1571311004,"post_id":40287592,"comment_id":103203242,"body_markdown":"@Tommy Unfortunately, I am not aware of a solution. Since middle of 2017, I am no longer working with Java in my day job, so I am not up-to-date with the recent developments of the tools.","body":"@Tommy Unfortunately, I am not aware of a solution. Since middle of 2017, I am no longer working with Java in my day job, so I am not up-to-date with the recent developments of the tools."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1637159949,"post_id":40287592,"comment_id":123751572,"body_markdown":"As already pointed out, [this is a requested feature](https://youtrack.jetbrains.com/issue/IDEA-175127). One can workaround by adding `@Autowired` at the field level to find the bean declaration and then revert back to the original. I know it&#39;s dirty but it works.","body":"As already pointed out, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-175127\" rel=\"nofollow noreferrer\">this is a requested feature</a>. One can workaround by adding <code>@Autowired</code> at the field level to find the bean declaration and then revert back to the original. I know it&#39;s dirty but it works."}],"answers":[{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160265,"creation_date":1661160265,"answer_id":73442866,"question_id":40287592,"body_markdown":"The lombok annotation `@RequiredArgsConstructor` will do the constructor based dependency injection.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class FooService {\r\n        private final BarService barService;\r\n    }\r\n\r\nAfter Java 17 `record` will also do this like -\r\n\r\n    @Service\r\n    public record FooService(BarService barService) {\r\n    }","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>The lombok annotation <code>@RequiredArgsConstructor</code> will do the constructor based dependency injection.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class FooService {\n    private final BarService barService;\n}\n</code></pre>\n<p>After Java 17 <code>record</code> will also do this like -</p>\n<pre><code>@Service\npublic record FooService(BarService barService) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16949602,"reputation":29,"user_id":12771746,"display_name":"Maxim Gaiduchek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693609136,"creation_date":1693609136,"answer_id":77026324,"question_id":40287592,"body_markdown":"Use `@RequiredArgsConstructor` annotation instead. It will autowire all your `final` fields. `@Inject` annotation is not very useful.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class FooService {\r\n\r\n        private final BarService barService;\r\n    }","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>Use <code>@RequiredArgsConstructor</code> annotation instead. It will autowire all your <code>final</code> fields. <code>@Inject</code> annotation is not very useful.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class FooService {\n\n    private final BarService barService;\n}\n</code></pre>\n"}],"owner":{"account_id":411202,"reputation":41997,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2460,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1693609136,"creation_date":1477579367,"question_id":40287592,"body_markdown":"Lombok supports to generate constructors with `@Inject` annotations:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n\r\nSo, instead of\r\n\r\n    @Service\r\n    public class FooService {\r\n    \r\n        private final BarService barService;\r\n\r\n        @Inject\r\n        public FooService(BarService barService) {\r\n            this.barService = barService;\r\n        }\r\n    }\r\n\r\nyou can write\r\n\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n    public class FooService {\r\n        private final BarService barService;\r\n    }\r\n\r\nMy problem with that feature is that it seems to break Spring IDE support in IntelliJ:\r\n\r\n* In the non-Lombok version, the IDE shows my where the autowired arguments come from and allows me to navigate to their locations (here, the implementation of the `BarService`).\r\n* In the Lombok version, I cannot get it to work. It  still shows the location of the spring bean declaration, but not to the location of the autowired dependencies.\r\n\r\nIf I was the only developer, I would just use the first version and be done with it. However, I see that more and more code in our codebase is migrated to the Lombok constructor style. So, I am curious:\r\n\r\n**Is it possible to use the full Spring support in IDEA in combination with Lombok `onConstructor = @__(@Inject)` constructors?**\r\n\r\n\r\n\r\n","title":"Spring support in IDEA with Lombok: Is &quot;Navigate to autowired dependencies&quot; supported?","body":"<p>Lombok supports to generate constructors with <code>@Inject</code> annotations:</p>\n\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\n</code></pre>\n\n<p>So, instead of</p>\n\n<pre><code>@Service\npublic class FooService {\n\n    private final BarService barService;\n\n    @Inject\n    public FooService(BarService barService) {\n        this.barService = barService;\n    }\n}\n</code></pre>\n\n<p>you can write</p>\n\n<pre><code>@Service\n@RequiredArgsConstructor(onConstructor = @__(@Inject))\npublic class FooService {\n    private final BarService barService;\n}\n</code></pre>\n\n<p>My problem with that feature is that it seems to break Spring IDE support in IntelliJ:</p>\n\n<ul>\n<li>In the non-Lombok version, the IDE shows my where the autowired arguments come from and allows me to navigate to their locations (here, the implementation of the <code>BarService</code>).</li>\n<li>In the Lombok version, I cannot get it to work. It  still shows the location of the spring bean declaration, but not to the location of the autowired dependencies.</li>\n</ul>\n\n<p>If I was the only developer, I would just use the first version and be done with it. However, I see that more and more code in our codebase is migrated to the Lombok constructor style. So, I am curious:</p>\n\n<p><strong>Is it possible to use the full Spring support in IDEA in combination with Lombok <code>onConstructor = @__(@Inject)</code> constructors?</strong></p>\n"},{"tags":["java","filter","collections","java-stream","output"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1693570773,"post_id":77023043,"comment_id":135782161,"body_markdown":"what point of your code do you think would cause a space to be printed between the elements?","body":"what point of your code do you think would cause a space to be printed between the elements?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693572498,"post_id":77023043,"comment_id":135782530,"body_markdown":"Side note: there’s no point in performing two regex match operations. Further, it’s more efficient to make the length test first: `.filter(s -&gt; s.length() &gt; 5 &amp;&amp; !s.matches(&quot;[0-9]+|[a-zA-Z]+&quot;))`. Further, there’s no need to collect into a `List` when all you’re doing, is a `forEach`. You can do a `forEach` on the Stream in the first place. But as the anwers say, for your actual task, `.collect(Collectors.joining(&quot; &quot;))` is the right tool.","body":"Side note: there’s no point in performing two regex match operations. Further, it’s more efficient to make the length test first: <code>.filter(s -&gt; s.length() &gt; 5 &amp;&amp; !s.matches(&quot;[0-9]+|[a-zA-Z]+&quot;))</code>. Further, there’s no need to collect into a <code>List</code> when all you’re doing, is a <code>forEach</code>. You can do a <code>forEach</code> on the Stream in the first place. But as the anwers say, for your actual task, <code>.collect(Collectors.joining(&quot; &quot;))</code> is the right tool."}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693571946,"creation_date":1693571946,"answer_id":77023193,"question_id":77023043,"body_markdown":"I suggest using `Collectors.joining`\r\n\r\nHere is some helpful Documentation, there are some other useful Collectors as well.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\r\n\r\nexample code\r\n\r\n    import java.util.Arrays;\r\n    import java.util.function.Predicate;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString ans = &quot;pass@123 jes@234 12345 human&quot;;\r\n    \r\n    \t\tfinal String space = &quot; &quot;;\r\n    \t\t\r\n    \t\tString line = Arrays.stream(ans.split(space))// you can use Arrays.stream directly, without calling Arrays.asList first\r\n    \t\t\t.filter(giveMeSomeMeaningFulName()) //separated into separate method to improve readability\r\n    \t\t\t.collect(Collectors.joining(space));//Collectors.joining join the strings with the provided string as separator\r\n    \r\n    \t\tSystem.out.println(line);\r\n    \t}\r\n    \r\n    \tprivate static Predicate&lt;? super String&gt; giveMeSomeMeaningFulName() {\r\n    \t\treturn s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5;\r\n    \t}\r\n    }\r\n\r\n","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>I suggest using <code>Collectors.joining</code></p>\n<p>Here is some helpful Documentation, there are some other useful Collectors as well.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html</a></p>\n<p>example code</p>\n<pre><code>import java.util.Arrays;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\n\n        final String space = &quot; &quot;;\n        \n        String line = Arrays.stream(ans.split(space))// you can use Arrays.stream directly, without calling Arrays.asList first\n            .filter(giveMeSomeMeaningFulName()) //separated into separate method to improve readability\n            .collect(Collectors.joining(space));//Collectors.joining join the strings with the provided string as separator\n\n        System.out.println(line);\n    }\n\n    private static Predicate&lt;? super String&gt; giveMeSomeMeaningFulName() {\n        return s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693571958,"creation_date":1693571958,"answer_id":77023195,"question_id":77023043,"body_markdown":"You can use the [`Collectors.joining(CharSequence delimiter)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-) method. For example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class JoiningExample {\r\n    public static void main(String[] args) {\r\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\r\n        List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\r\n\r\n\r\n        String result = splitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp;\r\n                        !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        System.out.println(result); // Output: &quot;pass@123 jes@234&quot;\r\n    }\r\n}\r\n```","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Collectors.joining(CharSequence delimiter)</code></a> method. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class JoiningExample {\n    public static void main(String[] args) {\n        String ans = &quot;pass@123 jes@234 12345 human&quot;;\n        List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\n\n\n        String result = splitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp;\n                        !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\n                .collect(Collectors.joining(&quot; &quot;));\n        System.out.println(result); // Output: &quot;pass@123 jes@234&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693608042,"creation_date":1693608042,"answer_id":77026271,"question_id":77023043,"body_markdown":"You can use the _[Collectors#joining](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence))_ method.\r\n\r\nAdditionally, I am using `\\\\w&amp;&amp;[^_]` in place of the other two patterns.  \r\nAnd, I figured checking the length before the pattern is more logical.\r\n\r\n```java\r\nString input = &quot;pass@123 jes@234 12345 human&quot;;\r\nString output\r\n    = Arrays.stream(input.split(&quot; +&quot;))\r\n            .filter(x -&gt; x.length() &gt; 5 &amp;&amp; !x.matches(&quot;\\\\w&amp;&amp;[^_]+&quot;))\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\npass@123 jes@234\r\n```","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Collectors#joining</a></em> method.</p>\n<p>Additionally, I am using <code>\\\\w&amp;&amp;[^_]</code> in place of the other two patterns.<br />\nAnd, I figured checking the length before the pattern is more logical.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;pass@123 jes@234 12345 human&quot;;\nString output\n    = Arrays.stream(input.split(&quot; +&quot;))\n            .filter(x -&gt; x.length() &gt; 5 &amp;&amp; !x.matches(&quot;\\\\w&amp;&amp;[^_]+&quot;))\n            .collect(Collectors.joining(&quot; &quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>pass@123 jes@234\n</code></pre>\n"}],"owner":{"account_id":13446048,"reputation":3,"user_id":9701958,"display_name":"Feba Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77023193,"answer_count":3,"score":0,"last_activity_date":1693608487,"creation_date":1693570699,"question_id":77023043,"body_markdown":"If I provide the input as `pass@123 jes@234 12345 human`.\r\nThe output should print as `pass@123 jes@234` in a single line with space in between. \r\nBut it is printing as `pass@123jes@234` without any space.\r\nBelow is my code.\t\r\n\t\t\r\n\t\t\r\n```java\r\nList&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\r\n\t\t\r\nsplitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; \r\n    !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\r\n.collect(Collectors.toList()).forEach(System.out::print);\r\n```\r\n\r\nI tried to provide `System.out.print` but the output is printed with no spaces in between.","title":"How can i print the final output of program in a single line with space in between after using filter of java 8?","body":"<p>If I provide the input as <code>pass@123 jes@234 12345 human</code>.\nThe output should print as <code>pass@123 jes@234</code> in a single line with space in between.\nBut it is printing as <code>pass@123jes@234</code> without any space.\nBelow is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; splitList = Arrays.asList(ans.split(&quot; &quot;));\n        \nsplitList.stream().filter(s -&gt; !s.matches(&quot;[0-9]+&quot;) &amp;&amp; \n    !s.matches(&quot;[a-zA-Z]+&quot;) &amp;&amp; s.length() &gt; 5)\n.collect(Collectors.toList()).forEach(System.out::print);\n</code></pre>\n<p>I tried to provide <code>System.out.print</code> but the output is printed with no spaces in between.</p>\n"},{"tags":["java","spring","spring-boot","jax-rs","graphql-java"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1693341228,"post_id":76955282,"comment_id":135747485,"body_markdown":"You don&#39;t mention what you&#39;re using right now to handle the communication with the client, either in the question or the tags. Do you have a custom controller, do you  use Spring GraphQL, or any of the other various starters for GraohQL. Also, why not handle filtering at the field level? Top level filter sounds like a very blunt approach with ad-hoc querying that GraphQL enables.","body":"You don&#39;t mention what you&#39;re using right now to handle the communication with the client, either in the question or the tags. Do you have a custom controller, do you  use Spring GraphQL, or any of the other various starters for GraohQL. Also, why not handle filtering at the field level? Top level filter sounds like a very blunt approach with ad-hoc querying that GraphQL enables."},{"owner":{"account_id":1430910,"reputation":2502,"user_id":1353361,"accept_rate":67,"display_name":"Vijay Shegokar"},"score":0,"creation_date":1693607455,"post_id":76955282,"comment_id":135788084,"body_markdown":"@kaqqao I have updated my question for better understanding, hope this time it is clear now.","body":"@kaqqao I have updated my question for better understanding, hope this time it is clear now."}],"owner":{"account_id":1430910,"reputation":2502,"user_id":1353361,"accept_rate":67,"display_name":"Vijay Shegokar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693607357,"creation_date":1692722245,"question_id":76955282,"body_markdown":"In REST API, we can create our custom Filter class by implementing `ContainerResponseFilter`\r\ninterface and override its \r\n\r\n&gt; public void filter(final ContainerRequestContext requestContext, final ContainerResponseContext responseContext))\r\n\r\nmethod. This `filter()` executes on every request before sending response to client. \r\n\r\nSimilar to this, do we have any way in GraphQL with Spring Boot to create our class and executes before sending response to client?\r\n\r\nPlease help.\r\n\r\nThanks\r\n","title":"Spring Boot GraphQL: Any class to extends/implements which executes before sending GraphQL response to client similar to ContainerResponseFilter REST","body":"<p>In REST API, we can create our custom Filter class by implementing <code>ContainerResponseFilter</code>\ninterface and override its</p>\n<blockquote>\n<p>public void filter(final ContainerRequestContext requestContext, final ContainerResponseContext responseContext))</p>\n</blockquote>\n<p>method. This <code>filter()</code> executes on every request before sending response to client.</p>\n<p>Similar to this, do we have any way in GraphQL with Spring Boot to create our class and executes before sending response to client?</p>\n<p>Please help.</p>\n<p>Thanks</p>\n"},{"tags":["java","collections"],"answers":[{"comments":[{"owner":{"account_id":78451,"reputation":22303,"user_id":223274,"accept_rate":60,"display_name":"Ian Henry"},"score":0,"creation_date":1285909830,"post_id":3836634,"comment_id":4074838,"body_markdown":"@Kirk - That depends on how the OP would be using it. With such a trivial object it might be convenient to have `name` be the value, however in many situations it would make more sense to have the value be the object itself: it&#39;s not a question you can answer without more context.","body":"@Kirk - That depends on how the OP would be using it. With such a trivial object it might be convenient to have <code>name</code> be the value, however in many situations it would make more sense to have the value be the object itself: it&#39;s not a question you can answer without more context."}],"tags":[],"owner":{"account_id":78451,"reputation":22303,"user_id":223274,"accept_rate":60,"display_name":"Ian Henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1285908850,"creation_date":1285908850,"answer_id":3836634,"question_id":3836621,"body_markdown":"Loop through the elements, check their `id` values, and place them in a `Hashtable` with `id` as the key. That&#39;s O(N), which is as efficient as you&#39;re going to get.","title":"split a java collection into sub collections based on an object property","body":"<p>Loop through the elements, check their <code>id</code> values, and place them in a <code>Hashtable</code> with <code>id</code> as the key. That's O(N), which is as efficient as you're going to get.</p>\n"},{"comments":[{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":0,"creation_date":1285913869,"post_id":3836677,"comment_id":4075106,"body_markdown":"names never becomes non-null in this solution in the case that you have to add a new ArrayList.","body":"names never becomes non-null in this solution in the case that you have to add a new ArrayList."}],"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285928724,"creation_date":1285909683,"answer_id":3836677,"question_id":3836621,"body_markdown":"\tArrayList&lt;MyObject&gt; list=new ArrayList&lt;MyObject&gt;();\r\n\t//fill Objects..\r\n\tHashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt; hash=new HashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt;();\r\n\tfor(MyObject elem:list)//iterate the list\r\n\t{\r\n\tArrayList&lt;MyObject&gt; tmp=null; //temporary variable \r\n\tif((tmp=hash.get(elem.getId()))==null) // check if id already present in map\r\n\t {\r\n      tmp=new ArrayList&lt;MyObject&gt;();   \r\n      hash.put(elem.getId(),tmp); //if not put a new array list\r\n\t }\r\n\tnames.add(elem); //if present add the name to arraylist\r\n\t}","title":"split a java collection into sub collections based on an object property","body":"<pre><code>ArrayList&lt;MyObject&gt; list=new ArrayList&lt;MyObject&gt;();\n//fill Objects..\nHashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt; hash=new HashMap&lt;Integer,ArrayList&lt;MyObject&gt;&gt;();\nfor(MyObject elem:list)//iterate the list\n{\nArrayList&lt;MyObject&gt; tmp=null; //temporary variable \nif((tmp=hash.get(elem.getId()))==null) // check if id already present in map\n {\n  tmp=new ArrayList&lt;MyObject&gt;();   \n  hash.put(elem.getId(),tmp); //if not put a new array list\n }\nnames.add(elem); //if present add the name to arraylist\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1285910030,"creation_date":1285910030,"answer_id":3836694,"question_id":3836621,"body_markdown":"    // create the thing to store the sub lists\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; subs = new HashMap&lt;Integer, List&lt;MyObject&gt;&gt;();\r\n    \r\n    // iterate through your objects\r\n    for(MyObject o : list){\r\n\r\n        // fetch the list for this object&#39;s id\r\n        List&lt;MyObject&gt; temp = subs.get(o.getId());\r\n\r\n        if(temp == null){\r\n            // if the list is null we haven&#39;t seen an\r\n            // object with this id before, so create \r\n            // a new list\r\n            temp = new ArrayList&lt;MyObject&gt;();\r\n\r\n            // and add it to the map\r\n            subs.put(o.getId(), temp);\r\n        }\r\n\r\n        // whether we got the list from the map\r\n        // or made a new one we need to add our\r\n        // object.\r\n        temp.add(o);\r\n    }","title":"split a java collection into sub collections based on an object property","body":"<pre><code>// create the thing to store the sub lists\nMap&lt;Integer, List&lt;MyObject&gt;&gt; subs = new HashMap&lt;Integer, List&lt;MyObject&gt;&gt;();\n\n// iterate through your objects\nfor(MyObject o : list){\n\n    // fetch the list for this object's id\n    List&lt;MyObject&gt; temp = subs.get(o.getId());\n\n    if(temp == null){\n        // if the list is null we haven't seen an\n        // object with this id before, so create \n        // a new list\n        temp = new ArrayList&lt;MyObject&gt;();\n\n        // and add it to the map\n        subs.put(o.getId(), temp);\n    }\n\n    // whether we got the list from the map\n    // or made a new one we need to add our\n    // object.\n    temp.add(o);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2481417,"reputation":444,"user_id":2160821,"display_name":"Paul S"},"score":1,"creation_date":1505116084,"post_id":3855831,"comment_id":79262756,"body_markdown":"Or, when using Java 8: ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects, MyObject::getId);  But then you might as well skip Guava altogether and use Damien O&#39;Reilly&#39;s answer","body":"Or, when using Java 8: ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects, MyObject::getId);  But then you might as well skip Guava altogether and use Damien O&#39;Reilly&#39;s answer"}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1286200152,"creation_date":1286200152,"answer_id":3855831,"question_id":3836621,"body_markdown":"Using [Guava][1]:\r\n\r\n    ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects,\r\n        new Function&lt;MyObject, Integer&gt;() {\r\n          public Integer apply(MyObject myObject) {\r\n            return myObject.id;\r\n          }\r\n        });\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n","title":"split a java collection into sub collections based on an object property","body":"<p>Using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>:</p>\n\n<pre><code>ListMultimap&lt;Integer, MyObject&gt; myObjectsById = Multimaps.index(myObjects,\n    new Function&lt;MyObject, Integer&gt;() {\n      public Integer apply(MyObject myObject) {\n        return myObject.id;\n      }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4640223,"reputation":589,"user_id":3760289,"accept_rate":89,"display_name":"Piotr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456848160,"creation_date":1456848160,"answer_id":35727651,"question_id":3836621,"body_markdown":"Using JDK 1.8:\r\n\r\n    List&lt;MyObject&gt; objects= new ArrayList();\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; obejctMap = new HashMap();\r\n    objects.stream().map(MyObject::getId).distinct().forEach(id -&gt; obejctMap .put(id,\r\n                  objects.stream().filter(object -&gt; id.equals(object.getId())).collect(Collectors.toList())));","title":"split a java collection into sub collections based on an object property","body":"<p>Using JDK 1.8:</p>\n\n<pre><code>List&lt;MyObject&gt; objects= new ArrayList();\nMap&lt;Integer, List&lt;MyObject&gt;&gt; obejctMap = new HashMap();\nobjects.stream().map(MyObject::getId).distinct().forEach(id -&gt; obejctMap .put(id,\n              objects.stream().filter(object -&gt; id.equals(object.getId())).collect(Collectors.toList())));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"score":1,"creation_date":1663766679,"post_id":44219369,"comment_id":130316518,"body_markdown":"I wish I could smash that LIKE button for your answer a million times. A very elegant one liner that has so much going on under the hood.","body":"I wish I could smash that LIKE button for your answer a million times. A very elegant one liner that has so much going on under the hood."}],"tags":[],"owner":{"account_id":4831406,"reputation":952,"user_id":3899529,"display_name":"Damien O&#39;Reilly"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1495903722,"creation_date":1495903722,"answer_id":44219369,"question_id":3836621,"body_markdown":"If you are using JDK 1.8, you can use an elegant solution like:\r\n\r\n    Map&lt;Integer, List&lt;MyObject&gt;&gt; myObjectsPerId =\r\n        myObjects.stream().collect(Collectors.groupingBy(MyObject::getId));","title":"split a java collection into sub collections based on an object property","body":"<p>If you are using JDK 1.8, you can use an elegant solution like:</p>\n\n<pre><code>Map&lt;Integer, List&lt;MyObject&gt;&gt; myObjectsPerId =\n    myObjects.stream().collect(Collectors.groupingBy(MyObject::getId));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693606681,"creation_date":1693606681,"answer_id":77026214,"question_id":3836621,"body_markdown":"Alternative to `Collectors.groupingBy` solution using [`Map.computeIfAbsent`][1] method, which is also available starting from Java 8:\r\n```\r\nMap&lt;Integer, List&lt;MyObject&gt;&gt; res = new HashMap&lt;&gt;();\r\nfor (MyObject obj : myObjects) {\r\n  res.computeIfAbsent(obj.getId(), k -&gt; new ArrayList&lt;&gt;()).add(obj);\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"split a java collection into sub collections based on an object property","body":"<p>Alternative to <code>Collectors.groupingBy</code> solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> method, which is also available starting from Java 8:</p>\n<pre><code>Map&lt;Integer, List&lt;MyObject&gt;&gt; res = new HashMap&lt;&gt;();\nfor (MyObject obj : myObjects) {\n  res.computeIfAbsent(obj.getId(), k -&gt; new ArrayList&lt;&gt;()).add(obj);\n}\n</code></pre>\n"}],"owner":{"account_id":655269,"reputation":103,"user_id":463533,"display_name":"james"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19717,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3836694,"answer_count":7,"score":10,"last_activity_date":1693606681,"creation_date":1285908714,"question_id":3836621,"body_markdown":"I have a List of MyObjects ... MyObject{ int id,String name}. Now I want to split the list into sublists that have identical &quot;id&quot; values. Can anyone suggest an efficient approach for doing this?\r\n","title":"split a java collection into sub collections based on an object property","body":"<p>I have a List of MyObjects ... MyObject{ int id,String name}. Now I want to split the list into sublists that have identical &quot;id&quot; values. Can anyone suggest an efficient approach for doing this?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":12000960,"reputation":21,"user_id":8780923,"display_name":"Sergey Komarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675432523,"creation_date":1675432523,"answer_id":75336692,"question_id":75247300,"body_markdown":"It was happening because of frozen request which was in infinite loading and blocked Chrome. Blocking that request has solved my issue.","title":"Selenim 4.7.2 + ChromeDriver 108 for Java fail with timeout during switching to iframe","body":"<p>It was happening because of frozen request which was in infinite loading and blocked Chrome. Blocking that request has solved my issue.</p>\n"}],"owner":{"account_id":12000960,"reputation":21,"user_id":8780923,"display_name":"Sergey Komarov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693605810,"creation_date":1674742386,"question_id":75247300,"body_markdown":"**Prerequisites:**\r\n\r\nThere is an iframe on page with input fields which I need to get.\r\nBefore interacting with fields I must switch to iframe.\r\n\r\n**Versions**\r\n\r\n- Selenium has version 4.7.2 (I mean artifact with id = selenium-devtools-v108)\r\n- standalone-chrome:108.0.5359.124\r\n- chromedriver-108.0.5359.71\r\n\r\nI faced issue related to switching to iframe. ChromeDriver cannot do this operation and fails with error:\r\n\r\n&gt; org.openqa.selenium.WebDriverException: org.openqa.selenium.TimeoutException: timeout: Timed out receiving message from renderer: 60.000\r\n\r\n**Code which doesn&#39;t work:**\r\n\r\n```\r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\r\n    By.cssSelector(&quot;#loginFrame&quot;)\r\n));\r\n```\r\n\r\n**ChromeOptions**\r\n\r\n```\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, List.of(&quot;--enable-automation&quot;));\r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.addArguments(&quot;--disable-extensions&quot;);\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n            options.addArguments(&quot;--no-sandbox&quot;);\r\n```\r\n\r\nI&#39;ve already tried to downgrade ChromeDriver, Chrome, Selenium - nothing changed.\r\n\r\nThe most interesting is that tests are retried after fail 3 times and it doesn&#39;t work at first time, but it works as expected at second and third time at the same page.\r\n\r\nPreventing questions like &quot;Is there iframe?&quot;, I may say &quot;Yes, there is&quot;. I checked it by separating waiting for element and switching to it: element has been found, but switching couldn&#39;t be executed.\r\n\r\nAnd this code works fine on older version of page and *sometimes* - on current version. But the only difference between versions is changed styles of elements as I see in DOM (source code is external).\r\n\r\nAnd so I have no idea what it is.","title":"Selenim 4.7.2 + ChromeDriver 108 for Java fail with timeout during switching to iframe","body":"<p><strong>Prerequisites:</strong></p>\n<p>There is an iframe on page with input fields which I need to get.\nBefore interacting with fields I must switch to iframe.</p>\n<p><strong>Versions</strong></p>\n<ul>\n<li>Selenium has version 4.7.2 (I mean artifact with id = selenium-devtools-v108)</li>\n<li>standalone-chrome:108.0.5359.124</li>\n<li>chromedriver-108.0.5359.71</li>\n</ul>\n<p>I faced issue related to switching to iframe. ChromeDriver cannot do this operation and fails with error:</p>\n<blockquote>\n<p>org.openqa.selenium.WebDriverException: org.openqa.selenium.TimeoutException: timeout: Timed out receiving message from renderer: 60.000</p>\n</blockquote>\n<p><strong>Code which doesn't work:</strong></p>\n<pre><code>wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\n    By.cssSelector(&quot;#loginFrame&quot;)\n));\n</code></pre>\n<p><strong>ChromeOptions</strong></p>\n<pre><code>            options.setExperimentalOption(&quot;excludeSwitches&quot;, List.of(&quot;--enable-automation&quot;));\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n            options.addArguments(&quot;--disable-extensions&quot;);\n            options.addArguments(&quot;--disable-gpu&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n\n            options.addArguments(&quot;--no-sandbox&quot;);\n</code></pre>\n<p>I've already tried to downgrade ChromeDriver, Chrome, Selenium - nothing changed.</p>\n<p>The most interesting is that tests are retried after fail 3 times and it doesn't work at first time, but it works as expected at second and third time at the same page.</p>\n<p>Preventing questions like &quot;Is there iframe?&quot;, I may say &quot;Yes, there is&quot;. I checked it by separating waiting for element and switching to it: element has been found, but switching couldn't be executed.</p>\n<p>And this code works fine on older version of page and <em>sometimes</em> - on current version. But the only difference between versions is changed styles of elements as I see in DOM (source code is external).</p>\n<p>And so I have no idea what it is.</p>\n"},{"tags":["java","xml","sax"],"answers":[{"comments":[{"owner":{"account_id":6912457,"reputation":101,"user_id":5307811,"accept_rate":0,"display_name":"Naima"},"score":0,"creation_date":1482212292,"post_id":41234396,"comment_id":69670652,"body_markdown":"Thank you very much.. I was looking for like this solution only .. it worked..!! Thanks :)","body":"Thank you very much.. I was looking for like this solution only .. it worked..!! Thanks :)"},{"owner":{"account_id":6912457,"reputation":101,"user_id":5307811,"accept_rate":0,"display_name":"Naima"},"score":0,"creation_date":1482212433,"post_id":41234396,"comment_id":69670705,"body_markdown":"Also i gave qName instead of localName here..since qName gave the output.. what is the difference btw these two","body":"Also i gave qName instead of localName here..since qName gave the output.. what is the difference btw these two"},{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1482236378,"post_id":41234396,"comment_id":69683836,"body_markdown":"Please mark as the correct answer if it worked.  For difference between qName and localName, see here http://stackoverflow.com/questions/7157355/what-is-the-difference-between-localname-and-qname.  It is an advanced concept of XML which I&#39;ve never had to use.","body":"Please mark as the correct answer if it worked.  For difference between qName and localName, see here <a href=\"http://stackoverflow.com/questions/7157355/what-is-the-difference-between-localname-and-qname\" title=\"what is the difference between localname and qname\">stackoverflow.com/questions/7157355/&hellip;</a>.  It is an advanced concept of XML which I&#39;ve never had to use."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1693605783,"post_id":41234396,"comment_id":135787942,"body_markdown":"The code is incomplete.","body":"The code is incomplete."}],"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693605705,"creation_date":1482204225,"answer_id":41234396,"question_id":41222047,"body_markdown":"I think this is along the lines of what you are asking for.  It creates a List of HashMap objects. Every time it starts a TermInfo, it creates a new HashMap.  Each endElement inside TermInfo puts a value into the Map.  When endElement is TermInfo, it sets fieldMap to null so no intermediate tags are added.  &quot;TermInfo&quot; represents A from your description.\r\n\r\n    public class TestHandler extends DefaultHandler\r\n    {\r\n        Map&lt;String, String&gt; fieldMap = null;\r\n        List&lt;Map&lt;String, String&gt;&gt; tags_Value = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n        String temp;\r\n\r\n        // ###startElement#######\r\n        public void startElement(String uri, String localName, String qName,\r\n                Attributes attributes) throws SAXException\r\n        {\r\n            if (localName.equals(&quot;TermInfo&quot;)) // A\r\n            {\r\n                fieldMap = new HashMap&lt;String, String&gt;();\r\n                tags_Value.add(fieldMap);\r\n            }\r\n        }\r\n\r\n        // ###########characters###########\r\n        public void characters(char ch[], int start, int length)\r\n            throws SAXException\r\n        {\r\n            temp = new String(ch, start, length);\r\n        }\r\n\r\n        // ###########endElement############\r\n        public void endElement(String uri, String localName, String qName)\r\n            throws SAXException\r\n        {\r\n            if (fieldMap != null)\r\n            {\r\n                if (!localName.equals(&quot;TermInfo&quot;)) // A\r\n                {\r\n                    fieldMap.put(localName, temp);\r\n                }\r\n                else\r\n                {\r\n                    // END of TermInfo\r\n                    fieldMap = null;\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"SAX parsing - mapping nested tags into the main tag","body":"<p>I think this is along the lines of what you are asking for.  It creates a List of HashMap objects. Every time it starts a TermInfo, it creates a new HashMap.  Each endElement inside TermInfo puts a value into the Map.  When endElement is TermInfo, it sets fieldMap to null so no intermediate tags are added.  &quot;TermInfo&quot; represents A from your description.</p>\n<pre><code>public class TestHandler extends DefaultHandler\n{\n    Map&lt;String, String&gt; fieldMap = null;\n    List&lt;Map&lt;String, String&gt;&gt; tags_Value = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n    String temp;\n\n    // ###startElement#######\n    public void startElement(String uri, String localName, String qName,\n            Attributes attributes) throws SAXException\n    {\n        if (localName.equals(&quot;TermInfo&quot;)) // A\n        {\n            fieldMap = new HashMap&lt;String, String&gt;();\n            tags_Value.add(fieldMap);\n        }\n    }\n\n    // ###########characters###########\n    public void characters(char ch[], int start, int length)\n        throws SAXException\n    {\n        temp = new String(ch, start, length);\n    }\n\n    // ###########endElement############\n    public void endElement(String uri, String localName, String qName)\n        throws SAXException\n    {\n        if (fieldMap != null)\n        {\n            if (!localName.equals(&quot;TermInfo&quot;)) // A\n            {\n                fieldMap.put(localName, temp);\n            }\n            else\n            {\n                // END of TermInfo\n                fieldMap = null;\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6912457,"reputation":101,"user_id":5307811,"accept_rate":0,"display_name":"Naima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693605705,"creation_date":1482148479,"question_id":41222047,"body_markdown":"I want to use the SAX parser for a large XML file. The handler looks like this:\r\n\r\n```lang-java\r\nDefaultHandler handler = new DefaultHandler() {\r\n  String temp;\r\n  HashSet &lt; String &gt; xml_Elements = new LinkedHashSet &lt; String &gt; ();\r\n  HashMap &lt; String, Boolean &gt; xml_Tags = new LinkedHashMap &lt; String, Boolean &gt; ();\r\n  HashMap &lt; String, ArrayList &lt; String &gt;&gt; tags_Value = new LinkedHashMap &lt; String, ArrayList &lt; String &gt;&gt; ();\r\n\r\n  // ### startElement #######\r\n  public void startElement(String uri, String localName, String qName,\r\n    Attributes attributes) throws SAXException {\r\n    xml_Elements.add(qName);\r\n\r\n\r\n    for (String tag: xml_Elements) {\r\n      if (qName == tag) {\r\n        xml_Tags.put(qName, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  // ########### Characters ###########\r\n  public void characters(char ch[], int start, int length) throws SAXException {\r\n\r\n    temp = new String(ch, start, length);\r\n  }\r\n\r\n  // ########### endElement ############\r\n  public void endElement(String uri, String localName,\r\n    String qName) throws SAXException {\r\n\r\n    if (xml_Tags.get(qName) == true) {\r\n      if (tags_Value.containsKey(qName)) {\r\n        tags_Value.get(qName).add(temp);\r\n        tags_Value.put(qName, tags_Value.get(qName));\r\n      }\r\n      else {\r\n        ArrayList &lt; String &gt; tempList = new ArrayList &lt; String &gt; ();\r\n        tempList.add(temp);\r\n        //tags_Value.put(qName, new ArrayList&lt;String&gt;());\r\n        tags_Value.put(qName, tempList);\r\n      }\r\n      //documentWriter.write(qName + &quot;:&quot; + temp + &quot;\\t&quot;);\r\n      for (String a: tags_Value.keySet()) {\r\n        try {\r\n          documentWriter.write(tags_Value.get(a) + &quot;\\t&quot;);\r\n        }\r\n        catch (IOException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n      xml_Tags.put(qName, false);\r\n    }\r\n    tags_Value.clear();\r\n  }\r\n};\r\n```\r\n\r\nMy XML is like:\r\n\r\n```lang-xml\r\n&lt;TermInfo&gt;\r\n    &lt;A&gt;1/f noise&lt;/A&gt;\r\n    &lt;B&gt;Random noise&lt;/B&gt;\r\n    &lt;C&gt;Accepted&lt;/C&gt;\r\n    &lt;D&gt;Flicker noise&lt;/D&gt;\r\n    &lt;F&gt;Pink noise&lt;/F&gt;\r\n    &lt;I&gt;1-f&lt;/I&gt;\r\n    &lt;I&gt;1/f&lt;/I&gt;\r\n    &lt;I&gt;1/f noise&lt;/I&gt;\r\n    &lt;I&gt;1:f&lt;/I&gt;\r\n    &lt;I&gt;flicker noise&lt;/I&gt;\r\n    &lt;I&gt;noise&lt;/I&gt;\r\n    &lt;I&gt;pink noise&lt;/I&gt;\r\n    &lt;ID&gt;1&lt;/ID&gt;\r\n&lt;/TermInfo&gt;\r\n&lt;TermInfo&gt;\r\n    &lt;A&gt;3D printing&lt;/A&gt;\r\n    &lt;B&gt;Materials fabrication&lt;/B&gt;\r\n    &lt;C&gt;Accepted&lt;/C&gt;\r\n    &lt;D&gt;3d printing&lt;/D&gt;\r\n    &lt;F&gt;2&lt;/F&gt;\r\n    &lt;I&gt;three dimension*&lt;/I&gt;\r\n    &lt;I&gt;three-dimension*&lt;/I&gt;\r\n    &lt;I&gt;3d&lt;/I&gt;\r\n    &lt;I&gt;3-d&lt;/I&gt;\r\n    &lt;I&gt;3d*&lt;/I&gt;\r\n&lt;/TermInfo&gt;\r\n```\r\n\r\nI wanted to cluster all nested tags under Tag A.\r\nI.e., for each A, its B,C,D and I together, etc. But using the above handler the output is like *A-B-C-D-I-I-etc*. Can I make one object for each A and add other elements into it? How can I include this?\r\n\r\n\r\n\r\n\r\n","title":"SAX parsing - mapping nested tags into the main tag","body":"<p>I want to use the SAX parser for a large XML file. The handler looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultHandler handler = new DefaultHandler() {\n  String temp;\n  HashSet &lt; String &gt; xml_Elements = new LinkedHashSet &lt; String &gt; ();\n  HashMap &lt; String, Boolean &gt; xml_Tags = new LinkedHashMap &lt; String, Boolean &gt; ();\n  HashMap &lt; String, ArrayList &lt; String &gt;&gt; tags_Value = new LinkedHashMap &lt; String, ArrayList &lt; String &gt;&gt; ();\n\n  // ### startElement #######\n  public void startElement(String uri, String localName, String qName,\n    Attributes attributes) throws SAXException {\n    xml_Elements.add(qName);\n\n\n    for (String tag: xml_Elements) {\n      if (qName == tag) {\n        xml_Tags.put(qName, true);\n      }\n    }\n  }\n\n  // ########### Characters ###########\n  public void characters(char ch[], int start, int length) throws SAXException {\n\n    temp = new String(ch, start, length);\n  }\n\n  // ########### endElement ############\n  public void endElement(String uri, String localName,\n    String qName) throws SAXException {\n\n    if (xml_Tags.get(qName) == true) {\n      if (tags_Value.containsKey(qName)) {\n        tags_Value.get(qName).add(temp);\n        tags_Value.put(qName, tags_Value.get(qName));\n      }\n      else {\n        ArrayList &lt; String &gt; tempList = new ArrayList &lt; String &gt; ();\n        tempList.add(temp);\n        //tags_Value.put(qName, new ArrayList&lt;String&gt;());\n        tags_Value.put(qName, tempList);\n      }\n      //documentWriter.write(qName + &quot;:&quot; + temp + &quot;\\t&quot;);\n      for (String a: tags_Value.keySet()) {\n        try {\n          documentWriter.write(tags_Value.get(a) + &quot;\\t&quot;);\n        }\n        catch (IOException e) {\n          // TODO Auto-generated catch block\n          e.printStackTrace();\n        }\n      }\n      xml_Tags.put(qName, false);\n    }\n    tags_Value.clear();\n  }\n};\n</code></pre>\n<p>My XML is like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TermInfo&gt;\n    &lt;A&gt;1/f noise&lt;/A&gt;\n    &lt;B&gt;Random noise&lt;/B&gt;\n    &lt;C&gt;Accepted&lt;/C&gt;\n    &lt;D&gt;Flicker noise&lt;/D&gt;\n    &lt;F&gt;Pink noise&lt;/F&gt;\n    &lt;I&gt;1-f&lt;/I&gt;\n    &lt;I&gt;1/f&lt;/I&gt;\n    &lt;I&gt;1/f noise&lt;/I&gt;\n    &lt;I&gt;1:f&lt;/I&gt;\n    &lt;I&gt;flicker noise&lt;/I&gt;\n    &lt;I&gt;noise&lt;/I&gt;\n    &lt;I&gt;pink noise&lt;/I&gt;\n    &lt;ID&gt;1&lt;/ID&gt;\n&lt;/TermInfo&gt;\n&lt;TermInfo&gt;\n    &lt;A&gt;3D printing&lt;/A&gt;\n    &lt;B&gt;Materials fabrication&lt;/B&gt;\n    &lt;C&gt;Accepted&lt;/C&gt;\n    &lt;D&gt;3d printing&lt;/D&gt;\n    &lt;F&gt;2&lt;/F&gt;\n    &lt;I&gt;three dimension*&lt;/I&gt;\n    &lt;I&gt;three-dimension*&lt;/I&gt;\n    &lt;I&gt;3d&lt;/I&gt;\n    &lt;I&gt;3-d&lt;/I&gt;\n    &lt;I&gt;3d*&lt;/I&gt;\n&lt;/TermInfo&gt;\n</code></pre>\n<p>I wanted to cluster all nested tags under Tag A.\nI.e., for each A, its B,C,D and I together, etc. But using the above handler the output is like <em>A-B-C-D-I-I-etc</em>. Can I make one object for each A and add other elements into it? How can I include this?</p>\n"},{"tags":["java","mysql","spring","hibernate","enums"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580244796,"post_id":59956699,"comment_id":106032663,"body_markdown":"What if you don&#39;t use the @Column annotation at all?","body":"What if you don&#39;t use the @Column annotation at all?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580244897,"post_id":59956699,"comment_id":106032706,"body_markdown":"If you don&#39;t need the enum values as Strings in the database, you could use EnumType.ORDINAL instead of EnumType.STRING","body":"If you don&#39;t need the enum values as Strings in the database, you could use EnumType.ORDINAL instead of EnumType.STRING"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580245208,"post_id":59956699,"comment_id":106032846,"body_markdown":"If i don&#39;t use @Column notation at all this is the schema validation error: found [enum (Types#CHAR)], but expecting [varchar(255) (Types#VARCHAR)]","body":"If i don&#39;t use @Column notation at all this is the schema validation error: found [enum (Types#CHAR)], but expecting [varchar(255) (Types#VARCHAR)]"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580245350,"post_id":59956699,"comment_id":106032910,"body_markdown":"Right now, i dont want to change how the cloumn is defined in the DB.","body":"Right now, i dont want to change how the cloumn is defined in the DB."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1580248387,"post_id":59956699,"comment_id":106034005,"body_markdown":"Oh so the problem is the column is already created and it&#39;s mismatching with your code?","body":"Oh so the problem is the column is already created and it&#39;s mismatching with your code?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580248570,"post_id":59956699,"comment_id":106034057,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/4088400/how-to-tell-jpa-the-prefered-datatype ?","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4088400/how-to-tell-jpa-the-prefered-datatype\" title=\"how to tell jpa the prefered datatype\">stackoverflow.com/questions/4088400/&hellip;</a> ?"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580251202,"post_id":59956699,"comment_id":106034925,"body_markdown":"The DB column is already defined. The project was using eclipse link to connect to the already existing table. When i removed eclipse link and using spring data jpa this pops up as an issue of mapping the DB column to my entity.","body":"The DB column is already defined. The project was using eclipse link to connect to the already existing table. When i removed eclipse link and using spring data jpa this pops up as an issue of mapping the DB column to my entity."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1580276756,"post_id":59956699,"comment_id":106039913,"body_markdown":"So have you tried @Column(columnDefinition=&quot;varchar(255)&quot;) as mentioned in the linked question?","body":"So have you tried @Column(columnDefinition=&quot;varchar(255)&quot;) as mentioned in the linked question?"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580418757,"post_id":59956699,"comment_id":106101649,"body_markdown":"Yeah, i tried varchar as the column definition. Again the found always complains of enum (Types#CHAR)] so varchar doesnt come up as a match either.","body":"Yeah, i tried varchar as the column definition. Again the found always complains of enum (Types#CHAR)] so varchar doesnt come up as a match either."},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1580418998,"post_id":59956699,"comment_id":106101732,"body_markdown":"I tried using annotated Type hibernate annotations like this:\nType(type = &quot;org.hibernate.type.EnumType&quot;,\n         parameters = {\n               @Parameter(name  = &quot;enumClass&quot;, value = &quot;&lt;package structure&gt;.Gender&quot;),\n               @Parameter(name = &quot;type&quot;, value = &quot;1111&quot;),\n               @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)\n         })\n\nbut somehow the enum is type is not being picked up when i use Type. It defaults to type trying to match enum of Type#CHAR to integer","body":"I tried using annotated Type hibernate annotations like this: Type(type = &quot;org.hibernate.type.EnumType&quot;,          parameters = {                @Parameter(name  = &quot;enumClass&quot;, value = &quot;&lt;package structure&gt;.Gender&quot;),                @Parameter(name = &quot;type&quot;, value = &quot;1111&quot;),                @Parameter(name = &quot;useNamed&quot;, value = &quot;true&quot;)          })  but somehow the enum is type is not being picked up when i use Type. It defaults to type trying to match enum of Type#CHAR to integer"},{"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"score":0,"creation_date":1581376398,"post_id":59956699,"comment_id":106405019,"body_markdown":"Since the table/DB is already created i have right now disabled spring auto ddl in my config. This solves the problem temporarily.","body":"Since the table/DB is already created i have right now disabled spring auto ddl in my config. This solves the problem temporarily."}],"answers":[{"tags":[],"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693604599,"creation_date":1693604599,"answer_id":77026113,"question_id":59956699,"body_markdown":"We had the same issue, we just needed to add the column definition to the mapping:\r\n```\r\n@Basic\r\n    @Column(name = &quot;stripe_setup_intent_status&quot;, columnDefinition = &quot;enum(&#39;SUCCESS&#39;, &#39;FAILED&#39;, &#39;WAITING&#39;)&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private SetupIntentStatus stripeSetupIntentStatus;\r\n```\r\n\r\nWe are using hibernate `5.6.15` and spring `2.7.9`","title":"Schema validation exception for mapping ENUM Type MySQL to Hibernate Entity Enum","body":"<p>We had the same issue, we just needed to add the column definition to the mapping:</p>\n<pre><code>@Basic\n    @Column(name = &quot;stripe_setup_intent_status&quot;, columnDefinition = &quot;enum('SUCCESS', 'FAILED', 'WAITING')&quot;)\n    @Enumerated(EnumType.STRING)\n    private SetupIntentStatus stripeSetupIntentStatus;\n</code></pre>\n<p>We are using hibernate <code>5.6.15</code> and spring <code>2.7.9</code></p>\n"}],"owner":{"account_id":17639004,"reputation":21,"user_id":12801666,"display_name":"vs121"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693604599,"creation_date":1580244138,"question_id":59956699,"body_markdown":"I am currently facing issue while trying to map MYSQL ENUM type to my Hibernate JPA enum type. I get a schema validation error.\r\nI have a simple enum in Java:\r\n\r\n    public enum Gender {\r\n        MALE,\r\n        FEMALE\r\n    }\r\n\r\nThe corresponding column definition for this is in MySQL Table is:\r\n\r\n    `gender` enum(&#39;MALE&#39;,&#39;FEMALE&#39;) DEFAULT NULL,\r\n\r\nThe annotations in the Entity class for this particular attribute is:\r\n\r\n       @Enumerated(EnumType.STRING)\r\n       @Column(name = &quot;gender&quot;, columnDefinition=&quot;enum(&#39;MALE&#39;,&#39;FEMALE&#39;)&quot;)\r\n       private Gender gender;\r\n\r\nI get an error as :\r\n\r\n&gt;  Schema-validation: wrong column type encountered in column [gender]\r\n&gt; in table [`...`]; found [enum (Types#CHAR)], but expecting\r\n&gt; [`enum(&#39;MALE&#39;,&#39;FEMALE&#39;)` (Types#VARCHAR)]\r\n\r\nI have tried not using the columnDefinition in @Column annotation and the error is:\r\n\r\n&gt; Schema-validation: wrong column type encountered in column [gender] in\r\n&gt; table [`...`]; found [enum (Types#CHAR)], but expecting [varchar(255)\r\n&gt; (Types#VARCHAR)]\r\n\r\nI also tried writing my own converter by as per the instructions in:https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping\r\nbut that didnt help either.\r\n\r\nAny idea?\r\n\r\nNote: When i was using EclipseLink there were no issues with my entity for the same DB definition and without explicitly defining my columnDefinition in @Column. I started facing this issue when i removed EclipseLink. The project uses Spring Data JPA right now. Hibernate Core 5.3.14 being used.","title":"Schema validation exception for mapping ENUM Type MySQL to Hibernate Entity Enum","body":"<p>I am currently facing issue while trying to map MYSQL ENUM type to my Hibernate JPA enum type. I get a schema validation error.\nI have a simple enum in Java:</p>\n\n<pre><code>public enum Gender {\n    MALE,\n    FEMALE\n}\n</code></pre>\n\n<p>The corresponding column definition for this is in MySQL Table is:</p>\n\n<pre><code>`gender` enum('MALE','FEMALE') DEFAULT NULL,\n</code></pre>\n\n<p>The annotations in the Entity class for this particular attribute is:</p>\n\n<pre><code>   @Enumerated(EnumType.STRING)\n   @Column(name = \"gender\", columnDefinition=\"enum('MALE','FEMALE')\")\n   private Gender gender;\n</code></pre>\n\n<p>I get an error as :</p>\n\n<blockquote>\n  <p>Schema-validation: wrong column type encountered in column [gender]\n  in table [<code>...</code>]; found [enum (Types#CHAR)], but expecting\n  [<code>enum('MALE','FEMALE')</code> (Types#VARCHAR)]</p>\n</blockquote>\n\n<p>I have tried not using the columnDefinition in @Column annotation and the error is:</p>\n\n<blockquote>\n  <p>Schema-validation: wrong column type encountered in column [gender] in\n  table [<code>...</code>]; found [enum (Types#CHAR)], but expecting [varchar(255)\n  (Types#VARCHAR)]</p>\n</blockquote>\n\n<p>I also tried writing my own converter by as per the instructions in:<a href=\"https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping\" rel=\"nofollow noreferrer\">https://thoughts-on-java.org/hibernate-enum-mappings/#customizedMapping</a>\nbut that didnt help either.</p>\n\n<p>Any idea?</p>\n\n<p>Note: When i was using EclipseLink there were no issues with my entity for the same DB definition and without explicitly defining my columnDefinition in @Column. I started facing this issue when i removed EclipseLink. The project uses Spring Data JPA right now. Hibernate Core 5.3.14 being used.</p>\n"},{"tags":["java","rest","jpa","spring-boot","spring-rest"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1501059941,"post_id":45322118,"comment_id":77606377,"body_markdown":"can you try --&gt; @GeneratedValue(strategy = GenerationType.TABLE), this uses sequence table id assignment","body":"can you try --&gt; @GeneratedValue(strategy = GenerationType.TABLE), this uses sequence table id assignment"},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1501059986,"post_id":45322118,"comment_id":77606414,"body_markdown":"No, it does not work.","body":"No, it does not work."},{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1501060330,"post_id":45322118,"comment_id":77606679,"body_markdown":"@GeneratedValue(strategy = GenerationType.AUTO) will work, Ref: https://stackoverflow.com/questions/4102449/how-to-annotate-mysql-autoincrement-field-with-jpa-annotations","body":"@GeneratedValue(strategy = GenerationType.AUTO) will work, Ref: <a href=\"https://stackoverflow.com/questions/4102449/how-to-annotate-mysql-autoincrement-field-with-jpa-annotations\" title=\"how to annotate mysql autoincrement field with jpa annotations\">stackoverflow.com/questions/4102449/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501060283,"creation_date":1501060283,"answer_id":45322420,"question_id":45322118,"body_markdown":"To generate string uuid&#39;s for primary keys (as I assume you are trying to do) you can try the following code:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>To generate string uuid's for primary keys (as I assume you are trying to do) you can try the following code:</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = \"uuid\")\n@GenericGenerator(name = \"uuid\", strategy = \"uuid2\")\nprivate String id;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8353131,"reputation":153,"user_id":7776315,"accept_rate":33,"display_name":"Rahul"},"score":4,"creation_date":1535235723,"post_id":45324494,"comment_id":90993776,"body_markdown":"It is always a good practice to post the correct code once you find the solution so that new learners who cannot understand jargons (like persisting in this case) can grasp it quickly.","body":"It is always a good practice to post the correct code once you find the solution so that new learners who cannot understand jargons (like persisting in this case) can grasp it quickly."},{"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"score":0,"creation_date":1638238870,"post_id":45324494,"comment_id":124030055,"body_markdown":"@Rahul thanks, I did it long time ago. I edited as much as possible. Hope it is better now.","body":"@Rahul thanks, I did it long time ago. I edited as much as possible. Hope it is better now."}],"tags":[],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1638238809,"creation_date":1501065399,"answer_id":45324494,"question_id":45322118,"body_markdown":"It was my bad, I was calling `foo(user.getId())` before saving the `User` object into the database.\r\nTakeaways from this: `@GeneratedValue(strategy=GenerationType.IDENTITY)` is the correct code and generates identical ids while saving to database&lt;sup&gt;1&lt;/sup&gt;. And `Long` is not a problem. Thanks.\r\n\r\n[1]: I am saving the object into the database by, something like: `userRepository.save(user)`.","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>It was my bad, I was calling <code>foo(user.getId())</code> before saving the <code>User</code> object into the database.\nTakeaways from this: <code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code> is the correct code and generates identical ids while saving to database<sup>1</sup>. And <code>Long</code> is not a problem. Thanks.</p>\n<p>[1]: I am saving the object into the database by, something like: <code>userRepository.save(user)</code>.</p>\n"},{"tags":[],"owner":{"account_id":24878573,"reputation":11,"user_id":18752073,"display_name":"Axman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665038348,"creation_date":1664571834,"answer_id":73913932,"question_id":45322118,"body_markdown":"Nothing is wrong WHETHER you do `@GeneratedValue(strategy=GenerationType.IDENTITY)` or `@GeneratedValue(strategy=GenerationType.TABLE)` in this particular problem. Any strategy works. ALL you have make sure is `@PathVariable` is used or not when you are passing `id`. ","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>Nothing is wrong WHETHER you do <code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code> or <code>@GeneratedValue(strategy=GenerationType.TABLE)</code> in this particular problem. Any strategy works. ALL you have make sure is <code>@PathVariable</code> is used or not when you are passing <code>id</code>.</p>\n"},{"tags":[],"owner":{"account_id":19144335,"reputation":11,"user_id":13983672,"display_name":"Mukti Barakoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693604582,"creation_date":1693604582,"answer_id":77026112,"question_id":45322118,"body_markdown":"Same issue encountered with `findById()` method while I was missing `@PathVariable(value=&quot;id&quot;)` ID id in `getIdSpecificResult()` method. This was a minor missing piece on my code. Reasons could be any though.","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>Same issue encountered with <code>findById()</code> method while I was missing <code>@PathVariable(value=&quot;id&quot;)</code> ID id in <code>getIdSpecificResult()</code> method. This was a minor missing piece on my code. Reasons could be any though.</p>\n"}],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60859,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45324494,"answer_count":4,"score":7,"last_activity_date":1693604582,"creation_date":1501059475,"question_id":45322118,"body_markdown":"My object:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    public class User {\r\n    \t@Id\r\n    \t@Column(name=&quot;uid&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n      \r\n      //more code\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhen I `POST` `user` `JSON` without `uid`, I am getting error as _the given id must not be null_. Which should not be the case while `uid` should be generated by the database. Please point what am I missing.\r\n\r\nJSON:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n    &quot;email&quot;: &quot;john@mail.com&quot;,\r\n    &quot;name&quot;: &quot;John Doe&quot;,\r\n    &quot;phone&quot;: &quot;98-765-4445&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nError:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n    &quot;timestamp&quot;: 1501058952038,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;exception&quot;: &quot;org.springframework.dao.InvalidDataAccessApiUsageException&quot;,\r\n    &quot;message&quot;: &quot;The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!&quot;,\r\n    &quot;path&quot;: &quot;/api/user/&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Error: The given id must not be null for GeneratedValue in JPA","body":"<p>My object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=\"user\")\npublic class User {\n    @Id\n    @Column(name=\"uid\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n  //more code\n }\n</code></pre>\n\n\n\n<p>When I <code>POST</code> <code>user</code> <code>JSON</code> without <code>uid</code>, I am getting error as <em>the given id must not be null</em>. Which should not be the case while <code>uid</code> should be generated by the database. Please point what am I missing.</p>\n\n<p>JSON:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n\"email\": \"john@mail.com\",\n\"name\": \"John Doe\",\n\"phone\": \"98-765-4445\"\n}\n</code></pre>\n\n\n\n<p>Error:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n\"timestamp\": 1501058952038,\n\"status\": 500,\n\"error\": \"Internal Server Error\",\n\"exception\": \"org.springframework.dao.InvalidDataAccessApiUsageException\",\n\"message\": \"The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!\",\n\"path\": \"/api/user/\"\n}\n</code></pre>\n\n\n"},{"tags":["java","unit-testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":297672,"reputation":925,"user_id":603309,"accept_rate":100,"display_name":"Kjellski"},"score":7,"creation_date":1349365812,"post_id":4757800,"comment_id":17195322,"body_markdown":"you could accept one as the answer, and I would prefer the one from @CrazyCoder...","body":"you could accept one as the answer, and I would prefer the one from @CrazyCoder..."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1416571351,"post_id":4757800,"comment_id":42636220,"body_markdown":"In fact none of the answers actually answers the question *&quot;How do I add the junit.jar to my project?*&quot;, yet 71 and 104 votes... SO never stops amazing me.","body":"In fact none of the answers actually answers the question <i>&quot;How do I add the junit.jar to my project?</i>&quot;, yet 71 and 104 votes... SO never stops amazing me."}],"answers":[{"comments":[{"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"score":5,"creation_date":1454075630,"post_id":4757863,"comment_id":57894017,"body_markdown":"If you want to have &quot;strong&quot; answer please scroll down. This is quick and short answer, below is more detailed answer.","body":"If you want to have &quot;strong&quot; answer please scroll down. This is quick and short answer, below is more detailed answer."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":4,"creation_date":1459752950,"post_id":4757863,"comment_id":60409128,"body_markdown":"The answer can be quick and short and still describe what the menu does and which option the OP should consider choosing.","body":"The answer can be quick and short and still describe what the menu does and which option the OP should consider choosing."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1547741418,"post_id":4757863,"comment_id":95304422,"body_markdown":"You don&#39;t know what ctr-shft-t maps to.","body":"You don&#39;t know what ctr-shft-t maps to."},{"owner":{"account_id":558626,"reputation":1783,"user_id":921075,"accept_rate":87,"display_name":"dtc"},"score":0,"creation_date":1559936837,"post_id":4757863,"comment_id":99590022,"body_markdown":"on mac, the mapping gives me thumbnails. pretty sure that&#39;s not the right one.","body":"on mac, the mapping gives me thumbnails. pretty sure that&#39;s not the right one."}],"tags":[],"owner":{"account_id":27171,"reputation":9206,"user_id":71420,"accept_rate":87,"display_name":"Igor Konoplyanko"},"comment_count":4,"down_vote_count":21,"up_vote_count":158,"is_accepted":true,"score":137,"last_activity_date":1488989454,"creation_date":1295606795,"answer_id":4757863,"question_id":4757800,"body_markdown":"Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; in the code editor.\r\nIt will show you popup with suggestion to create a test. \r\n\r\nMac OS: &lt;kbd&gt;⌘ Cmd&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt;","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> in the code editor.\nIt will show you popup with suggestion to create a test. </p>\n\n<p>Mac OS: <kbd>⌘ Cmd</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd></p>\n"},{"comments":[{"owner":{"account_id":158386,"reputation":3293,"user_id":376980,"accept_rate":60,"display_name":"Bob"},"score":0,"creation_date":1295608789,"post_id":4757951,"comment_id":5263190,"body_markdown":"Ah k, thank you. The link to &quot;Testing help section&quot; led me to putting the cursor on the unresolved @Test in my test file and now my life is complete!","body":"Ah k, thank you. The link to &quot;Testing help section&quot; led me to putting the cursor on the unresolved @Test in my test file and now my life is complete!"},{"owner":{"account_id":158386,"reputation":3293,"user_id":376980,"accept_rate":60,"display_name":"Bob"},"score":2,"creation_date":1295609356,"post_id":4757951,"comment_id":5263316,"body_markdown":"Doesn&#39;t cmd-shift-T mean I have to start with the class under test instead of the test itself?","body":"Doesn&#39;t cmd-shift-T mean I have to start with the class under test instead of the test itself?"},{"owner":{"account_id":48063,"reputation":4171,"user_id":142605,"accept_rate":55,"display_name":"dzieciou"},"score":0,"creation_date":1343571765,"post_id":4757951,"comment_id":15532818,"body_markdown":"First link does not work. Here&#39;s the correct one: http://site2.jetbrains.com/idea/webhelp/configuring-libraries-for-unit-testing.html","body":"First link does not work. Here&#39;s the correct one: <a href=\"http://site2.jetbrains.com/idea/webhelp/configuring-libraries-for-unit-testing.html\" rel=\"nofollow noreferrer\">site2.jetbrains.com/idea/webhelp/&hellip;</a>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1343572251,"post_id":4757951,"comment_id":15532913,"body_markdown":"I&#39;ve updated the link, it&#39;s now http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html.","body":"I&#39;ve updated the link, it&#39;s now <a href=\"http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/webhelp/configuring-testing-libraries.htm&zwnj;&#8203;l</a>."},{"owner":{"account_id":146656,"reputation":267,"user_id":357232,"display_name":"andersoyvind"},"score":0,"creation_date":1352297386,"post_id":4757951,"comment_id":18089264,"body_markdown":"@Bob +1 for pointing at the flow breach. But is making MyClass first, then immediately create the corresponding MyClassTest with Ctrl+Shift+T; is that necessarily that bad? Making MyClassTest implies that there will be a MyClass class one test later, right?","body":"@Bob +1 for pointing at the flow breach. But is making MyClass first, then immediately create the corresponding MyClassTest with Ctrl+Shift+T; is that necessarily that bad? Making MyClassTest implies that there will be a MyClass class one test later, right?"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":5,"down_vote_count":2,"up_vote_count":200,"is_accepted":false,"score":198,"last_activity_date":1374388013,"creation_date":1295607298,"answer_id":4757951,"question_id":4757800,"body_markdown":"If you already have a test class, but missing the JUnit library dependency, please refer to\r\n[Configuring Libraries for Unit Testing][1] documentation section. Pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; on the red code should give you an intention action to add the missing jar.\r\n\r\nHowever, IDEA offers much more. If you don&#39;t have a test class yet and want to create one for any of the source classes, see instructions below.\r\n\r\nYou can use the **Create Test** intention action by pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; while standing on the name of your class inside the editor or by using &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; keyboard shortcut.\r\n\r\nA dialog appears where you select what testing framework to use and press **Fix** button for the first time to add the required library jars to the module dependencies. You can also select methods to create the test stubs for.\r\n\r\n![Create Test Intention][2]\r\n\r\n![Create Test Dialog][3]\r\n\r\nYou can find more details in the [Testing help section][4] of the on-line documentation.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html\r\n  [2]: http://i.stack.imgur.com/1pnVQ.png\r\n  [3]: http://i.stack.imgur.com/kWulJ.png\r\n  [4]: http://www.jetbrains.com/idea/webhelp/testing.html","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>If you already have a test class, but missing the JUnit library dependency, please refer to\n<a href=\"http://www.jetbrains.com/idea/webhelp/configuring-testing-libraries.html\" rel=\"noreferrer\">Configuring Libraries for Unit Testing</a> documentation section. Pressing <kbd>Alt</kbd>+<kbd>Enter</kbd> on the red code should give you an intention action to add the missing jar.</p>\n\n<p>However, IDEA offers much more. If you don't have a test class yet and want to create one for any of the source classes, see instructions below.</p>\n\n<p>You can use the <strong>Create Test</strong> intention action by pressing <kbd>Alt</kbd>+<kbd>Enter</kbd> while standing on the name of your class inside the editor or by using <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> keyboard shortcut.</p>\n\n<p>A dialog appears where you select what testing framework to use and press <strong>Fix</strong> button for the first time to add the required library jars to the module dependencies. You can also select methods to create the test stubs for.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1pnVQ.png\" alt=\"Create Test Intention\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/kWulJ.png\" alt=\"Create Test Dialog\"></p>\n\n<p>You can find more details in the <a href=\"http://www.jetbrains.com/idea/webhelp/testing.html\" rel=\"noreferrer\">Testing help section</a> of the on-line documentation.</p>\n"},{"comments":[{"owner":{"account_id":8777451,"reputation":64,"user_id":6562245,"accept_rate":60,"display_name":"Arctic Tern"},"score":0,"creation_date":1486664129,"post_id":28589219,"comment_id":71454219,"body_markdown":"When I do this it gives me the error: Gradle sync failed: The newly created daemon process has a different context than expected.\n\nAny tips on how I could fix this?","body":"When I do this it gives me the error: Gradle sync failed: The newly created daemon process has a different context than expected.  Any tips on how I could fix this?"},{"owner":{"account_id":919046,"reputation":1045,"user_id":951155,"display_name":"incises"},"score":1,"creation_date":1488998290,"post_id":28589219,"comment_id":72482851,"body_markdown":"The question is : how exactly do you add JUnit jars manually ??","body":"The question is : how exactly do you add JUnit jars manually ??"},{"owner":{"account_id":3291805,"reputation":686,"user_id":2769944,"accept_rate":67,"display_name":"Greg"},"score":0,"creation_date":1515494320,"post_id":28589219,"comment_id":83311637,"body_markdown":"I suppose that after all this time, we still have no idea on how to add junit manually?","body":"I suppose that after all this time, we still have no idea on how to add junit manually?"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1545193185,"post_id":28589219,"comment_id":94536792,"body_markdown":"This duplicates earlier previous answers.","body":"This duplicates earlier previous answers."}],"tags":[],"owner":{"account_id":2334871,"reputation":2281,"user_id":2047442,"display_name":"irudyak"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424278464,"creation_date":1424278464,"answer_id":28589219,"question_id":4757800,"body_markdown":"If you **already** have test classes you may:\r\n\r\n1) Put a cursor on a class declaration and press `Alt` + `Enter`. In the dialogue choose JUnit and press `Fix`. This is a standard way to create test classes in IntelliJ.\r\n\r\n2) Alternatively you may add JUnit jars manually (download from site or take from IntelliJ files).\r\n\r\n","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>If you <strong>already</strong> have test classes you may:</p>\n\n<p>1) Put a cursor on a class declaration and press <code>Alt</code> + <code>Enter</code>. In the dialogue choose JUnit and press <code>Fix</code>. This is a standard way to create test classes in IntelliJ.</p>\n\n<p>2) Alternatively you may add JUnit jars manually (download from site or take from IntelliJ files).</p>\n"},{"comments":[{"owner":{"account_id":5756787,"reputation":112,"user_id":7039881,"display_name":"gitness"},"score":2,"creation_date":1537570733,"post_id":49093466,"comment_id":91847260,"body_markdown":"You are a rock star, thank you for the gif showing what to do!","body":"You are a rock star, thank you for the gif showing what to do!"},{"owner":{"account_id":288857,"reputation":2475,"user_id":589509,"accept_rate":89,"display_name":"NOCARRIER"},"score":0,"creation_date":1565065217,"post_id":49093466,"comment_id":101223200,"body_markdown":"Much prefer this answer.","body":"Much prefer this answer."}],"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1565712706,"creation_date":1520152181,"answer_id":49093466,"question_id":4757800,"body_markdown":"One way of doing this is to do add junit.jar to your `$CLASSPATH` as an external dependency.\r\n\r\n[![adding junit intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0UiY8.gif\r\n\r\nSo to do that, go to project structure, and then add JUnit as one of the libraries as shown in the gif.\r\n\r\nIn the &#39;Choose Modules&#39; prompt choose only the modules that you&#39;d need JUnit for.","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>One way of doing this is to do add junit.jar to your <code>$CLASSPATH</code> as an external dependency.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0UiY8.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0UiY8.gif\" alt=\"adding junit intellij\"></a></p>\n\n<p>So to do that, go to project structure, and then add JUnit as one of the libraries as shown in the gif.</p>\n\n<p>In the 'Choose Modules' prompt choose only the modules that you'd need JUnit for.</p>\n"},{"tags":[],"owner":{"account_id":273736,"reputation":15541,"user_id":565525,"display_name":"Robert Lujo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603134969,"creation_date":1603134574,"answer_id":64433728,"question_id":4757800,"body_markdown":"In my case (IntelliJ 2020-02, Kotlin dev) JUnit library was already included by Create project wizard. I needed to enable JUnit plugin: \r\n\r\n[![IntelliJ JUnit plugin][1]][1]\r\n\r\nto get green Run test icons next to each test class and method:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand CTRL+Shift+R will run test under caret, and CTRL+shift+D to debug.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1UzP.png\r\n  [2]: https://i.stack.imgur.com/5GQo9.png","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>In my case (IntelliJ 2020-02, Kotlin dev) JUnit library was already included by Create project wizard. I needed to enable JUnit plugin:</p>\n<p><a href=\"https://i.stack.imgur.com/r1UzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1UzP.png\" alt=\"IntelliJ JUnit plugin\" /></a></p>\n<p>to get green Run test icons next to each test class and method:</p>\n<p><a href=\"https://i.stack.imgur.com/5GQo9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5GQo9.png\" alt=\"enter image description here\" /></a></p>\n<p>and CTRL+Shift+R will run test under caret, and CTRL+shift+D to debug.</p>\n"}],"owner":{"account_id":158386,"reputation":3293,"user_id":376980,"accept_rate":60,"display_name":"Bob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232224,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"accepted_answer_id":4757863,"answer_count":5,"score":185,"last_activity_date":1693603033,"creation_date":1295606347,"question_id":4757800,"body_markdown":"I decided to try out IntelliJ this morning via the trial version and installed the JUnit plugin. I made a new Java project and I want to write a test case for it.\r\n\r\nHow do I add the junit.jar file to my project? (I actually want to add it to every java project, now and forever more - is there a way of doing that?).\r\n","title":"Configuring IntelliJ IDEA for unit testing with JUnit","body":"<p>I decided to try out IntelliJ this morning via the trial version and installed the JUnit plugin. I made a new Java project and I want to write a test case for it.</p>\n\n<p>How do I add the junit.jar file to my project? (I actually want to add it to every java project, now and forever more - is there a way of doing that?).</p>\n"},{"tags":["java","junit","constructor","initialization"],"comments":[{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1424363621,"post_id":6094081,"comment_id":45527058,"body_markdown":"possible duplicate of [setUp/tearDown (@Before/@After) why we need them in JUnit?](http://stackoverflow.com/questions/3648712/setup-teardown-before-after-why-we-need-them-in-junit)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3648712/setup-teardown-before-after-why-we-need-them-in-junit\">setUp/tearDown (@Before/@After) why we need them in JUnit?</a>"},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1458225619,"post_id":6094081,"comment_id":59773942,"body_markdown":"See also: http://stackoverflow.com/questions/512184/best-practice-initialize-junit-class-fields-in-setup-or-at-declaration","body":"See also: <a href=\"http://stackoverflow.com/questions/512184/best-practice-initialize-junit-class-fields-in-setup-or-at-declaration\" title=\"best practice initialize junit class fields in setup or at declaration\">stackoverflow.com/questions/512184/&hellip;</a>"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1550144402,"post_id":6094081,"comment_id":96166721,"body_markdown":"Are you sure you mean `@Before`, not `@BeforeClass`? Check the difference [here](https://stackoverflow.com/questions/20295578/difference-between-before-beforeclass-beforeeach-and-beforeall).","body":"Are you sure you mean <code>@Before</code>, not <code>@BeforeClass</code>? Check the difference <a href=\"https://stackoverflow.com/questions/20295578/difference-between-before-beforeclass-beforeeach-and-beforeall\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"score":2,"creation_date":1306135939,"post_id":6094143,"comment_id":7063327,"body_markdown":"@Before is not called multiple times ? (before each test method ?)","body":"@Before is not called multiple times ? (before each test method ?)"},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":3,"creation_date":1306136247,"post_id":6094143,"comment_id":7063387,"body_markdown":"@Sylvain, as JUnit creates a new test class instance for each test method, the constructor and `@Before` is called exactly the same amount of times.","body":"@Sylvain, as JUnit creates a new test class instance for each test method, the constructor and <code>@Before</code> is called exactly the same amount of times."},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":10,"creation_date":1306242427,"post_id":6094143,"comment_id":7087074,"body_markdown":"In the meantime I&#39;ve read an important difference: if an *exception is thrown in the constructor* then there will be no object to run `@After` on. So I&#39;ve kept using the annotations and only keep the minimal constructor.","body":"In the meantime I&#39;ve read an important difference: if an <i>exception is thrown in the constructor</i> then there will be no object to run <code>@After</code> on. So I&#39;ve kept using the annotations and only keep the minimal constructor."},{"owner":{"account_id":34025,"reputation":23628,"user_id":95725,"display_name":"NamshubWriter"},"score":0,"creation_date":1306899691,"post_id":6094143,"comment_id":7209637,"body_markdown":"One difference is that code in the constructor will be executed before any Rules are applied. If you have Rules that do something before running the test, that code is executed before any @Before methods","body":"One difference is that code in the constructor will be executed before any Rules are applied. If you have Rules that do something before running the test, that code is executed before any @Before methods"},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":1,"creation_date":1412282308,"post_id":6094143,"comment_id":41027868,"body_markdown":"@P&#233;terT&#246;r&#246;k, I agree that it is better to adhere to conventions, which is why I prefer to use constructors to initialize my test objects instead of `@Before` methods.  IMHO, `@Before` violates one of the most important Java conventions, that of relying on the constructor to initalize objects! (Not to mention, I can make my class members `final` and the IDE or compiler will tell me when I forgot to initialize a member.)","body":"@P&#233;terT&#246;r&#246;k, I agree that it is better to adhere to conventions, which is why I prefer to use constructors to initialize my test objects instead of <code>@Before</code> methods.  IMHO, <code>@Before</code> violates one of the most important Java conventions, that of relying on the constructor to initalize objects! (Not to mention, I can make my class members <code>final</code> and the IDE or compiler will tell me when I forgot to initialize a member.)"},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":0,"creation_date":1412292957,"post_id":6094143,"comment_id":41031779,"body_markdown":"@vbence, won&#39;t the test fail if the constructor or an `@After` method fails?","body":"@vbence, won&#39;t the test fail if the constructor or an <code>@After</code> method fails?"},{"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"score":0,"creation_date":1412324923,"post_id":6094143,"comment_id":41039760,"body_markdown":"@DerekMahar I&#39;m sure it will (if exception is not the goal of the test). But you might want to clean up after setting up the test if external state (filesystem/database) is involved. - Those are not typical unit tests though.","body":"@DerekMahar I&#39;m sure it will (if exception is not the goal of the test). But you might want to clean up after setting up the test if external state (filesystem/database) is involved. - Those are not typical unit tests though."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1412330498,"post_id":6094143,"comment_id":41041959,"body_markdown":"@DerekMahar, there are always different circles of convention in play, and IMHO it is usually recommended to adhere to the most specific of these, which in this case is JUnit. YMMV. Note that the point of the Java (or rather, general OO) convention of using constructors is to ensure that objects are always properly initialized before usage. In JUnit, these specific objects represent test cases, and are initialized and used only by the framework itself, in a very specific and strict way which guarantees proper setup and teardown.","body":"@DerekMahar, there are always different circles of convention in play, and IMHO it is usually recommended to adhere to the most specific of these, which in this case is JUnit. YMMV. Note that the point of the Java (or rather, general OO) convention of using constructors is to ensure that objects are always properly initialized before usage. In JUnit, these specific objects represent test cases, and are initialized and used only by the framework itself, in a very specific and strict way which guarantees proper setup and teardown."},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":2,"creation_date":1412330960,"post_id":6094143,"comment_id":41042134,"body_markdown":"@DerekMahar, not to mention that not all xUnit clones behave the same way in this respect. E.g. NUnit does not create a new instance of the test class for each test method execution, so using the constructor instead of the `[SetUp]` method (the NUnit equivalent of `@Before`) would actually be an error there. To me this is analogous to the &quot;rely on interfaces, not implementations&quot; maxime, making one&#39;s code more portable and easier to maintain in the long run.","body":"@DerekMahar, not to mention that not all xUnit clones behave the same way in this respect. E.g. NUnit does not create a new instance of the test class for each test method execution, so using the constructor instead of the <code>[SetUp]</code> method (the NUnit equivalent of <code>@Before</code>) would actually be an error there. To me this is analogous to the &quot;rely on interfaces, not implementations&quot; maxime, making one&#39;s code more portable and easier to maintain in the long run."},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":2,"creation_date":1412345480,"post_id":6094143,"comment_id":41048649,"body_markdown":"@P&#233;terT&#246;r&#246;k, I did not know that NUnit did not follow this convention.  I think you&#39;ve convinced me that using `@Before` is a good idea, though it bothers me that when using `@Before`, I can&#39;t make my data member references final.","body":"@P&#233;terT&#246;r&#246;k, I did not know that NUnit did not follow this convention.  I think you&#39;ve convinced me that using <code>@Before</code> is a good idea, though it bothers me that when using <code>@Before</code>, I can&#39;t make my data member references final."}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":10,"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1516154119,"creation_date":1306135805,"answer_id":6094143,"question_id":6094081,"body_markdown":"No, using the constructor to initialize your JUnit test fixture is technically equal to using the `@Before` method (due to the fact that JUnit creates a new instance of the testing class for each `@Test`). The only (connotational) difference is that it breaks the symmetry between `@Before` and `@After`, which may be confusing for some. IMHO it is better to adhere to conventions (which is using `@Before`).\r\n\r\nNote also that prior to JUnit 4 and annotations, there were dedicated `setUp()` and `tearDown()` methods - the `@Before` and `@After` annotations replace these, but preserve the underlying logic. So using the annotations also makes life easier for someone migrating from JUnit 3 or earlier versions.\r\n\r\n## Notable differences\r\n\r\nMore details from comments:\r\n\r\n* `@Before` allows overriding parent class behavior, constructors force you to call parent class constructors\r\n* The constructor runs *before* subclass constructors and `@Rule` methods, `@Before` runs *after* all of those\r\n* Exceptions during `@Before` cause `@After` methods to be called, Exceptions in constructor don&#39;t","title":"JUnit: using constructor instead of @Before","body":"<p>No, using the constructor to initialize your JUnit test fixture is technically equal to using the <code>@Before</code> method (due to the fact that JUnit creates a new instance of the testing class for each <code>@Test</code>). The only (connotational) difference is that it breaks the symmetry between <code>@Before</code> and <code>@After</code>, which may be confusing for some. IMHO it is better to adhere to conventions (which is using <code>@Before</code>).</p>\n\n<p>Note also that prior to JUnit 4 and annotations, there were dedicated <code>setUp()</code> and <code>tearDown()</code> methods - the <code>@Before</code> and <code>@After</code> annotations replace these, but preserve the underlying logic. So using the annotations also makes life easier for someone migrating from JUnit 3 or earlier versions.</p>\n\n<h2>Notable differences</h2>\n\n<p>More details from comments:</p>\n\n<ul>\n<li><code>@Before</code> allows overriding parent class behavior, constructors force you to call parent class constructors</li>\n<li>The constructor runs <em>before</em> subclass constructors and <code>@Rule</code> methods, <code>@Before</code> runs <em>after</em> all of those</li>\n<li>Exceptions during <code>@Before</code> cause <code>@After</code> methods to be called, Exceptions in constructor don't</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306135854,"creation_date":1306135854,"answer_id":6094152,"question_id":6094081,"body_markdown":"`@Before` does make sense to use for several reasons. It makes your test code more readable. It matches `@After` annotation which is responsible for releasing used resources and is a counterpart of the `@BeforeClass` annotation.","title":"JUnit: using constructor instead of @Before","body":"<p><code>@Before</code> does make sense to use for several reasons. It makes your test code more readable. It matches <code>@After</code> annotation which is responsible for releasing used resources and is a counterpart of the <code>@BeforeClass</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313064109,"creation_date":1313064109,"answer_id":7025471,"question_id":6094081,"body_markdown":"I prefer to declare my fixtures as final and initialize them inline or in the constructor so I don&#39;t forget to initialize them! However, since exceptions thrown in @Before are handled in a more user-friendly way, I usually initialize the object under test in @Before.","title":"JUnit: using constructor instead of @Before","body":"<p>I prefer to declare my fixtures as final and initialize them inline or in the constructor so I don't forget to initialize them! However, since exceptions thrown in @Before are handled in a more user-friendly way, I usually initialize the object under test in @Before.</p>\n"},{"comments":[{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":1,"creation_date":1412283387,"post_id":12358149,"comment_id":41028353,"body_markdown":"Why can&#39;t you do the same thing in a constructor?  In a constructor, just initialize the calculator with all the mocks which the test runner should have initialized first.","body":"Why can&#39;t you do the same thing in a constructor?  In a constructor, just initialize the calculator with all the mocks which the test runner should have initialized first."},{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1509714177,"post_id":12358149,"comment_id":81142285,"body_markdown":"Also, you defined those Mocks to be @Nonnull. You need a constructor to fix that. A setUp() method won’t to, because you can instantiate the CalculatorTest-class in another test, which will then cause NPEs.","body":"Also, you defined those Mocks to be @Nonnull. You need a constructor to fix that. A setUp() method won’t to, because you can instantiate the CalculatorTest-class in another test, which will then cause NPEs."}],"tags":[],"owner":{"account_id":1790954,"reputation":341,"user_id":1631381,"display_name":"HopefullyHelpful"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1347305048,"creation_date":1347305048,"answer_id":12358149,"question_id":6094081,"body_markdown":"@Before makes more sense to use in certain cases because it gets called AFTER the constructor for the class.  This difference is important when you&#39;re using a mock framework like Mockito with @Mock annotations, because your @Before method will be called after the mocks are initialized.  Then you can use your mocks to provide constructor arguments to the class under test.\r\n\r\nI find this to be a very common pattern in my unit tests when using collaborating beans.\r\n\r\nHere&#39;s an (admittedly contrived) example:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CalculatorTest {\r\n        @Mock Adder adder;\r\n        @Mock Subtractor subtractor;\r\n        @Mock Divider divider;\r\n        @Mock Multiplier multiplier;\r\n        \r\n        Calculator calculator;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            calculator = new Calculator(adder,subtractor,divider,multiplier);\r\n        }\r\n        \r\n        @Test\r\n        public void testAdd() {\r\n            BigDecimal value = calculator.add(2,2);\r\n            verify(adder).add(eq(2),eq(2));\r\n        }\r\n    }","title":"JUnit: using constructor instead of @Before","body":"<p>@Before makes more sense to use in certain cases because it gets called AFTER the constructor for the class.  This difference is important when you're using a mock framework like Mockito with @Mock annotations, because your @Before method will be called after the mocks are initialized.  Then you can use your mocks to provide constructor arguments to the class under test.</p>\n\n<p>I find this to be a very common pattern in my unit tests when using collaborating beans.</p>\n\n<p>Here's an (admittedly contrived) example:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CalculatorTest {\n    @Mock Adder adder;\n    @Mock Subtractor subtractor;\n    @Mock Divider divider;\n    @Mock Multiplier multiplier;\n\n    Calculator calculator;\n\n    @Before\n    public void setUp() {\n        calculator = new Calculator(adder,subtractor,divider,multiplier);\n    }\n\n    @Test\n    public void testAdd() {\n        BigDecimal value = calculator.add(2,2);\n        verify(adder).add(eq(2),eq(2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594829741,"creation_date":1412282993,"answer_id":26169440,"question_id":6094081,"body_markdown":"I prefer to use constructors to initialize my test objects because it allows me to make all the members `final` so that the IDE or compiler will tell me when the *constructor* forgot to initialize a member and prevent another method from setting them.\r\n\r\nIMHO, `@Before` violates one of the most important Java conventions, that of relying on the constructor to completely initalize objects!\r\n\r\nJUnit 5 also has better support for constructor injection.","title":"JUnit: using constructor instead of @Before","body":"<p>I prefer to use constructors to initialize my test objects because it allows me to make all the members <code>final</code> so that the IDE or compiler will tell me when the <em>constructor</em> forgot to initialize a member and prevent another method from setting them.</p>\n<p>IMHO, <code>@Before</code> violates one of the most important Java conventions, that of relying on the constructor to completely initalize objects!</p>\n<p>JUnit 5 also has better support for constructor injection.</p>\n"},{"tags":[],"owner":{"account_id":1721420,"reputation":489,"user_id":1577166,"display_name":"ayun12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479631503,"creation_date":1479631503,"answer_id":40702188,"question_id":6094081,"body_markdown":"There is no difference except that the constructor is the only method ehere can initialize the @Rule objects:\r\n\r\n    public class TestClass {\r\n\r\n        @Rule\r\n        public SomeRule rule;\r\n        \r\n        public TestClass() {\r\n            // code to initialize the rule field\r\n            conf = new RuleConf()\r\n            rule = new SomeRule(conf)\r\n        }\r\n    }\r\n","title":"JUnit: using constructor instead of @Before","body":"<p>There is no difference except that the constructor is the only method ehere can initialize the @Rule objects:</p>\n\n<pre><code>public class TestClass {\n\n    @Rule\n    public SomeRule rule;\n\n    public TestClass() {\n        // code to initialize the rule field\n        conf = new RuleConf()\n        rule = new SomeRule(conf)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514360388,"creation_date":1514360388,"answer_id":47988229,"question_id":6094081,"body_markdown":"There is one thing that *constructor* can archive but not *@Before*.\r\n\r\nYou have to use a constructor when you need to initial fields defined in parent class. For example:\r\n\r\n    abstract class AbstractIT {\r\n       int fieldAssignedInSubClass;\r\n       public AbstractIT(int fieldAssignedInSubClass) {\r\n          this.fieldAssignedInSubClass= fieldAssignedInSubClass;\r\n       }\r\n\r\n       @Before\r\n       void before() {\r\n          // comsume fieldAssignedInSubClass\r\n       } \r\n    }\r\n\r\n    public class ChildIT extends AbstractIT{\r\n       public ChildIT() {\r\n          // assign fieldAssignedInSubClass by constructor\r\n          super(5566); \r\n       }\r\n\r\n       @Before\r\n       void before() {\r\n          // you cannot assign fieldAssignedInSubClass by a @Before method\r\n       } \r\n    }\r\n\r\n","title":"JUnit: using constructor instead of @Before","body":"<p>There is one thing that <em>constructor</em> can archive but not <em>@Before</em>.</p>\n\n<p>You have to use a constructor when you need to initial fields defined in parent class. For example:</p>\n\n<pre><code>abstract class AbstractIT {\n   int fieldAssignedInSubClass;\n   public AbstractIT(int fieldAssignedInSubClass) {\n      this.fieldAssignedInSubClass= fieldAssignedInSubClass;\n   }\n\n   @Before\n   void before() {\n      // comsume fieldAssignedInSubClass\n   } \n}\n\npublic class ChildIT extends AbstractIT{\n   public ChildIT() {\n      // assign fieldAssignedInSubClass by constructor\n      super(5566); \n   }\n\n   @Before\n   void before() {\n      // you cannot assign fieldAssignedInSubClass by a @Before method\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2986790,"reputation":2364,"user_id":5618307,"display_name":"IqbalHamid"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547477777,"creation_date":1547477777,"answer_id":54183846,"question_id":6094081,"body_markdown":"Quote from http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\r\n\r\n&gt; You may be wondering why you should write a setUp( ) method instead of\r\n&gt; simply initializing fields in a test case&#39;s constructor. After all,\r\n&gt; since a new instance of the test case is created for each of its test\r\n&gt; methods, the constructor is always called before setUp( ). In a vast\r\n&gt; majority of cases, you can use the constructor instead of setUp( )\r\n&gt; without any side effects.\r\n&gt; \r\n&gt; In cases where your test case is part of a deeper inheritance\r\n&gt; hierarchy, you may wish to postpone object initialization until\r\n&gt; instances of derived classes are fully constructed. This is a good\r\n&gt; technical reason why you might want to use setUp( ) instead of a\r\n&gt; constructor for initialization. Using setUp( ) and tearDown( ) is also\r\n&gt; good for documentation purposes, simply because it may make the code\r\n&gt; easier to read.","title":"JUnit: using constructor instead of @Before","body":"<p>Quote from <a href=\"http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/\" rel=\"nofollow noreferrer\">http://etutorials.org/Programming/Java+extreme+programming/Chapter+4.+JUnit/4.6+Set+Up+and+Tear+Down/</a></p>\n\n<blockquote>\n  <p>You may be wondering why you should write a setUp( ) method instead of\n  simply initializing fields in a test case's constructor. After all,\n  since a new instance of the test case is created for each of its test\n  methods, the constructor is always called before setUp( ). In a vast\n  majority of cases, you can use the constructor instead of setUp( )\n  without any side effects.</p>\n  \n  <p>In cases where your test case is part of a deeper inheritance\n  hierarchy, you may wish to postpone object initialization until\n  instances of derived classes are fully constructed. This is a good\n  technical reason why you might want to use setUp( ) instead of a\n  constructor for initialization. Using setUp( ) and tearDown( ) is also\n  good for documentation purposes, simply because it may make the code\n  easier to read.</p>\n</blockquote>\n"}],"owner":{"account_id":320279,"reputation":20132,"user_id":638471,"accept_rate":83,"display_name":"vbence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59331,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":6094143,"answer_count":8,"score":100,"last_activity_date":1693602757,"creation_date":1306135346,"question_id":6094081,"body_markdown":"I&#39;m using JUnit 4. I can&#39;t see the difference between initializing in the constructor or using a dedicated init function annotated by `@Before`. Does this mean that I don&#39;t have to worry about it?\r\n\r\nIs there any case when `@Before` gives more than just initializing in the constructor?","title":"JUnit: using constructor instead of @Before","body":"<p>I'm using JUnit 4. I can't see the difference between initializing in the constructor or using a dedicated init function annotated by <code>@Before</code>. Does this mean that I don't have to worry about it?</p>\n\n<p>Is there any case when <code>@Before</code> gives more than just initializing in the constructor?</p>\n"},{"tags":["java","multithreading","x86","spinlock","happens-before"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1693614351,"post_id":77025559,"comment_id":135788534,"body_markdown":"x86 `lock cmpxchg` doesn&#39;t have spurious failures. It waits for exclusive ownership of the cache line.  (It doesn&#39;t need to lock the whole bus, though; that was only true in much older CPUs). There&#39;s no difference between CAS_weak and CAS_strong on x86, only on ISAs like ARMv7, and ARMv8 before ARMv8.1, where CAS_weak can be one LL/SC (`ldrex` / `stlex`) without a retry loop which CAS_strong needs.  https://en.wikipedia.org/wiki/Load-link/store-conditional","body":"x86 <code>lock cmpxchg</code> doesn&#39;t have spurious failures. It waits for exclusive ownership of the cache line.  (It doesn&#39;t need to lock the whole bus, though; that was only true in much older CPUs). There&#39;s no difference between CAS_weak and CAS_strong on x86, only on ISAs like ARMv7, and ARMv8 before ARMv8.1, where CAS_weak can be one LL/SC (<code>ldrex</code> / <code>stlex</code>) without a retry loop which CAS_strong needs.  <a href=\"https://en.wikipedia.org/wiki/Load-link/store-conditional\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Load-link/store-conditional</a>"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1693615092,"post_id":77025559,"comment_id":135788573,"body_markdown":"Related: [c++11: how to produce &quot;spurious failures&quot; upon compare\\_exchange\\_weak?](https://stackoverflow.com/q/72766332) /  [std::atomic | compare\\_exchange\\_weak vs. compare\\_exchange\\_strong](https://stackoverflow.com/q/4944771) and [what&#39;s the difference between compareAndSet and weakCompareAndSet in AtomicReference?](https://stackoverflow.com/q/36428044)","body":"Related: <a href=\"https://stackoverflow.com/q/72766332\">c++11: how to produce &quot;spurious failures&quot; upon compare_exchange_weak?</a> /  <a href=\"https://stackoverflow.com/q/4944771\">std::atomic | compare_exchange_weak vs. compare_exchange_strong</a> and <a href=\"https://stackoverflow.com/q/36428044\">what&#39;s the difference between compareAndSet and weakCompareAndSet in AtomicReference?</a>"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693618100,"post_id":77025559,"comment_id":135788723,"body_markdown":"Thanks @PeterCordes, this is not the first time I&#39;ve been asking a variation of this question, which you&#39;ve answered yourself previously, so thanks. it has been difficult for me to finally do a good question; I think I finally found the perfect way to express the doubts I had about this.\nIMO it is really sad that processors seem to b getting rid of CAS_weak, it seems that CAS_weak has ten times the utility that strong has,at least for all the code I&#39;ve seen where programmers work with volatile updatable variables at least 80% of it would&#39;ve been benefited from the weak version... if they knew","body":"Thanks @PeterCordes, this is not the first time I&#39;ve been asking a variation of this question, which you&#39;ve answered yourself previously, so thanks. it has been difficult for me to finally do a good question; I think I finally found the perfect way to express the doubts I had about this. IMO it is really sad that processors seem to b getting rid of CAS_weak, it seems that CAS_weak has ten times the utility that strong has,at least for all the code I&#39;ve seen where programmers work with volatile updatable variables at least 80% of it would&#39;ve been benefited from the weak version... if they knew"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693619107,"post_id":77025559,"comment_id":135788766,"body_markdown":"Weirdly enough, the only one giving a concise reason for the failure, is your [answer](http://https://stackoverflow.com/questions/72766332/c11-how-to-produce-spurious-failures-upon-compare-exchange-weak) which states: &quot;not merely(failing) from competition for the cache line from other threads.&quot; which aling with my assumption that the strong implementation does an inner spin. Not even the LL/SC wikipedia page explicitly states the reason.","body":"Weirdly enough, the only one giving a concise reason for the failure, is your <a href=\"http://https://stackoverflow.com/questions/72766332/c11-how-to-produce-spurious-failures-upon-compare-exchange-weak\" rel=\"nofollow noreferrer\">answer</a> which states: &quot;not merely(failing) from competition for the cache line from other threads.&quot; which aling with my assumption that the strong implementation does an inner spin. Not even the LL/SC wikipedia page explicitly states the reason."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1693619119,"post_id":77025559,"comment_id":135788768,"body_markdown":"Also this other [answer](https://stackoverflow.com/questions/36428044/whats-the-difference-between-compareandset-and-weakcompareandset-in-atomicrefer) you linked which states: &quot;a strong CAS implementation based on it has to loop internally&quot;.","body":"Also this other <a href=\"https://stackoverflow.com/questions/36428044/whats-the-difference-between-compareandset-and-weakcompareandset-in-atomicrefer\">answer</a> you linked which states: &quot;a strong CAS implementation based on it has to loop internally&quot;."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1693623434,"post_id":77025559,"comment_id":135788943,"body_markdown":"*it seems that CAS_weak has ten times the utility that strong has* - huh, How do you mean?  If you want to avoid dirtying the cache line on failure with a single-instruction CAS, check read-only with `.load(relaxed)` before trying the CAS at all.  (e.g. in the retry path for a spinlock).  [C optimization: conditional store to avoid dirtying a cache line](https://stackoverflow.com/q/22717010)  and discussion in comments on [Does cmpxchg write destination cache line on failure? If not, is it better than xchg for spinlock?](https://stackoverflow.com/q/63008857)","body":"<i>it seems that CAS_weak has ten times the utility that strong has</i> - huh, How do you mean?  If you want to avoid dirtying the cache line on failure with a single-instruction CAS, check read-only with <code>.load(relaxed)</code> before trying the CAS at all.  (e.g. in the retry path for a spinlock).  <a href=\"https://stackoverflow.com/q/22717010\">C optimization: conditional store to avoid dirtying a cache line</a>  and discussion in comments on <a href=\"https://stackoverflow.com/q/63008857\">Does cmpxchg write destination cache line on failure? If not, is it better than xchg for spinlock?</a>"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":2,"creation_date":1693623648,"post_id":77025559,"comment_id":135788956,"body_markdown":"It&#39;s not like hardware single-instruction CAS loops internally, though.  It&#39;s normally implemented by getting the cache to delay responding to MESI requests to share or invalidate the line until after the check and store of the new value happen.  This is very cheap.  LL/SC just reports failure of the transaction because as separate instructions, the hardware can&#39;t let sofware deadlock the machine.  But as a single instruction, the hardware knows the unlock is coming right away, so it can effectively make a transaction.","body":"It&#39;s not like hardware single-instruction CAS loops internally, though.  It&#39;s normally implemented by getting the cache to delay responding to MESI requests to share or invalidate the line until after the check and store of the new value happen.  This is very cheap.  LL/SC just reports failure of the transaction because as separate instructions, the hardware can&#39;t let sofware deadlock the machine.  But as a single instruction, the hardware knows the unlock is coming right away, so it can effectively make a transaction."}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693615119,"answer_count":0,"score":1,"last_activity_date":1693602403,"creation_date":1693596124,"question_id":77025559,"body_markdown":"I&#39;ve seen the argument that the reson why it is named &quot;weak&quot;, is because the &quot;strong&quot; version has happens-before &quot;orderings&quot; behavior.\r\n\r\nIn my understanding &quot;Happens before&quot; is a term that denotes memory consistency, NOT sequential execution OR strong memory ordering, it always confuses me since people talk interchangeably about these things.\r\n\r\nIf you think deeply about reordering and how such an interaction would relate to the LOCK prefix, it simply makes little sense.\r\n\r\nThere are degrees of reordering, one that happens at compile and the other at runtime. If some sort of mechanism would kick at the LOCK prefix... How would that look like?... a runtime inlining of the spinlock while fencing the entire while loop for each of the concurrent lines of code accessing it??\r\n\r\nMy understanding of what the Happens-Before behavior entails, is that it ENSURES to tell you what happened before your **current action**... BUT this *current action* MAY OR MAY NOT follow a **sequential consistency of execution** among other concurrent actions AND the code the actions is comprised of may have been reordered prior to such execution... meaning that race conditions still apply and... NONE OF THIS INVOLVES reordering.\r\n\r\nIf we Have 2 twin threads: same code, same shared memories, their code may been reordered FROM THE START, even before reaching the atomic pressure point, and a strong `compareAndSet` will not prevent this reordering(?), it will simply ensure the happens-before as in:\r\n\r\n**&quot;A losing Thread can ATTEST that this was the memory&#39;s state (witness) before it arrived&quot;-type of Happens-Before... the only type of happens-before.**\r\n\r\nThis is NOT reordering; this is NOT sequential consistency of execution.\r\n\r\nAccording to the LOCK prefix, once the instruction attempts a BUS entrance and sees it as being locked, it will NOT re-attempt to acquire it(?), it will simply escape with a failure(?).\r\n\r\nIf this is true, then **the retry-acquire behavior IS NOT INTRINSIC to the LOCK prefix**. and it becomes a responsibility of the higher level to attempt a retry.\r\n\r\nIf the `LOCK + cmpxchg` combo applied by the Java&#39;s strong `compareAndSet` ensures a &quot;happens-before&quot; it means that when the LOCK acquiring fails, a native spin will RETRY to acquire the lock, and only when acquired, it is able to stablish a mutually exclusive read and write coupling... the term ([LL/SC][1]) *seems* to be an abstraction describing the resulting behavior, but NOT the &quot;HOW ITS ACHIEVED&quot;, and I haven&#39;t seen literature explaining it at depth.\r\n\r\nBut the Happens Before is NOT intrinsic to the `cmpxchng` it is a consequence of the RETRY attempt spin that, without it, it would fail and escape to your side (the side of the programmer) with no witness, just a failure.\r\n\r\n**And so, could we say that &quot;strong&quot; CAS-sing **is contentious**, because it spins until the BUS is freed(??).**\r\n\r\nIf we analyze the implication that `weakCompareAndSet` may fail EVEN if the expected value matches, this would fit into this interpretation since, the instruction fails simply by encountering contention (a locked BUS), If the bus is locked it doesn&#39;t matter which state it&#39;s memory is or will be because it will not reattempt to acquire the lock, so if it&#39;s future memory state matches the expected value, it won&#39;t matter because what matters for the weak version is that it **ENCOUNTERED CONTENTION**.\r\n\r\n**And so, could we say that &quot;weak&quot; CASing is **non-contentious**, because it will return if the BUS is locked(??).**\r\n\r\nIMO the best evidence in favor of this argument is that EVERY part of the Java source code that uses the `weakCompareAdnSet` is ALWAYS done on superficial spinlock situations that DO NOT read a constant value, like a `true`, a `false`, an `enum` or constant... instead it is always done on a variable that is read via high-level volatile read, and which failure will always be followed up by a retry high-level spinlock.\r\n\r\nThis means that they ARE SURE that the value of the `expected` obtained via high-level volatile read, can surely be dismissed when **contention is met**, so they escape to the superficial level (programmer&#39;s side) as soon as possible and reattempt... instead of natively spinning to acquire a LOCK on a `cmpxchg` that will surely return a false on the comparison check.\r\n\r\nIs my interpretation of this true? If you have some literature that I could read, it would be greatly appreciated, thanks.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Load-link/store-conditional","title":"Is weakCompareAndSet&#39;s &quot;Spurious failure&quot; simply the presence of contention in the LOCK prefix?","body":"<p>I've seen the argument that the reson why it is named &quot;weak&quot;, is because the &quot;strong&quot; version has happens-before &quot;orderings&quot; behavior.</p>\n<p>In my understanding &quot;Happens before&quot; is a term that denotes memory consistency, NOT sequential execution OR strong memory ordering, it always confuses me since people talk interchangeably about these things.</p>\n<p>If you think deeply about reordering and how such an interaction would relate to the LOCK prefix, it simply makes little sense.</p>\n<p>There are degrees of reordering, one that happens at compile and the other at runtime. If some sort of mechanism would kick at the LOCK prefix... How would that look like?... a runtime inlining of the spinlock while fencing the entire while loop for each of the concurrent lines of code accessing it??</p>\n<p>My understanding of what the Happens-Before behavior entails, is that it ENSURES to tell you what happened before your <strong>current action</strong>... BUT this <em>current action</em> MAY OR MAY NOT follow a <strong>sequential consistency of execution</strong> among other concurrent actions AND the code the actions is comprised of may have been reordered prior to such execution... meaning that race conditions still apply and... NONE OF THIS INVOLVES reordering.</p>\n<p>If we Have 2 twin threads: same code, same shared memories, their code may been reordered FROM THE START, even before reaching the atomic pressure point, and a strong <code>compareAndSet</code> will not prevent this reordering(?), it will simply ensure the happens-before as in:</p>\n<p><strong>&quot;A losing Thread can ATTEST that this was the memory's state (witness) before it arrived&quot;-type of Happens-Before... the only type of happens-before.</strong></p>\n<p>This is NOT reordering; this is NOT sequential consistency of execution.</p>\n<p>According to the LOCK prefix, once the instruction attempts a BUS entrance and sees it as being locked, it will NOT re-attempt to acquire it(?), it will simply escape with a failure(?).</p>\n<p>If this is true, then <strong>the retry-acquire behavior IS NOT INTRINSIC to the LOCK prefix</strong>. and it becomes a responsibility of the higher level to attempt a retry.</p>\n<p>If the <code>LOCK + cmpxchg</code> combo applied by the Java's strong <code>compareAndSet</code> ensures a &quot;happens-before&quot; it means that when the LOCK acquiring fails, a native spin will RETRY to acquire the lock, and only when acquired, it is able to stablish a mutually exclusive read and write coupling... the term (<a href=\"https://en.wikipedia.org/wiki/Load-link/store-conditional\" rel=\"nofollow noreferrer\">LL/SC</a>) <em>seems</em> to be an abstraction describing the resulting behavior, but NOT the &quot;HOW ITS ACHIEVED&quot;, and I haven't seen literature explaining it at depth.</p>\n<p>But the Happens Before is NOT intrinsic to the <code>cmpxchng</code> it is a consequence of the RETRY attempt spin that, without it, it would fail and escape to your side (the side of the programmer) with no witness, just a failure.</p>\n<p><strong>And so, could we say that &quot;strong&quot; CAS-sing <strong>is contentious</strong>, because it spins until the BUS is freed(??).</strong></p>\n<p>If we analyze the implication that <code>weakCompareAndSet</code> may fail EVEN if the expected value matches, this would fit into this interpretation since, the instruction fails simply by encountering contention (a locked BUS), If the bus is locked it doesn't matter which state it's memory is or will be because it will not reattempt to acquire the lock, so if it's future memory state matches the expected value, it won't matter because what matters for the weak version is that it <strong>ENCOUNTERED CONTENTION</strong>.</p>\n<p><strong>And so, could we say that &quot;weak&quot; CASing is <strong>non-contentious</strong>, because it will return if the BUS is locked(??).</strong></p>\n<p>IMO the best evidence in favor of this argument is that EVERY part of the Java source code that uses the <code>weakCompareAdnSet</code> is ALWAYS done on superficial spinlock situations that DO NOT read a constant value, like a <code>true</code>, a <code>false</code>, an <code>enum</code> or constant... instead it is always done on a variable that is read via high-level volatile read, and which failure will always be followed up by a retry high-level spinlock.</p>\n<p>This means that they ARE SURE that the value of the <code>expected</code> obtained via high-level volatile read, can surely be dismissed when <strong>contention is met</strong>, so they escape to the superficial level (programmer's side) as soon as possible and reattempt... instead of natively spinning to acquire a LOCK on a <code>cmpxchg</code> that will surely return a false on the comparison check.</p>\n<p>Is my interpretation of this true? If you have some literature that I could read, it would be greatly appreciated, thanks.</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1520734551,"post_id":49215912,"comment_id":85436034,"body_markdown":"You&#39;ll probably need to write your own `Collector`. You also need to decide what result should be, if the objects of the stream are not all of the same type.","body":"You&#39;ll probably need to write your own <code>Collector</code>. You also need to decide what result should be, if the objects of the stream are not all of the same type."},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1520792064,"post_id":49215912,"comment_id":85450264,"body_markdown":"In the case of two fields (like name and age) you can write a simple solution using &#39;&#39;&#39;Collectors.toMap&#39;&#39;&#39; and &#39;&#39;&#39;Collectors.collectingandThen&#39;&#39;&#39;, but it gets more complicated in the more generic case and you probably need to write your custom Collector as  @Andreas has said.","body":"In the case of two fields (like name and age) you can write a simple solution using &#39;&#39;&#39;Collectors.toMap&#39;&#39;&#39; and &#39;&#39;&#39;Collectors.collectingandThen&#39;&#39;&#39;, but it gets more complicated in the more generic case and you probably need to write your custom Collector as  @Andreas has said."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1520792336,"post_id":49215912,"comment_id":85450359,"body_markdown":"@alainlompo Map could only be used if you&#39;re absolute sure that names are unique. Since there is more that one [Zhang Wei](https://www.quora.com/What-is-the-most-common-full-name-in-the-world) (or [James Smith](https://blogs.ancestry.com/cm/calling-james-smith-10-most-common-first-and-surname-combinations/)) in the world, you can&#39;t guarantee that, so Map is not a good choice.","body":"@alainlompo Map could only be used if you&#39;re absolute sure that names are unique. Since there is more that one <a href=\"https://www.quora.com/What-is-the-most-common-full-name-in-the-world\" rel=\"nofollow noreferrer\">Zhang Wei</a> (or <a href=\"https://blogs.ancestry.com/cm/calling-james-smith-10-most-common-first-and-surname-combinations/\" rel=\"nofollow noreferrer\">James Smith</a>) in the world, you can&#39;t guarantee that, so Map is not a good choice."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520775388,"creation_date":1520775388,"answer_id":49220584,"question_id":49215912,"body_markdown":"I guess having a class `Person` (as you describe), you would need a custom collector for this:\r\n\r\n\r\n     String result = List.of(new Person(1, &quot;david&quot;), new Person(33, &quot;eugene&quot;))\r\n                .stream()\r\n                .parallel()\r\n                .collect(Collector.of(\r\n                        () -&gt; new StringJoiner[]{new StringJoiner(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;), new StringJoiner(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;)},\r\n                        (sj, per) -&gt; {\r\n                            sj[0] = sj[0].add(&quot;&quot; + per.getAge());\r\n                            sj[1] = sj[1].add(per.getName());\r\n                        },\r\n                        (left, right) -&gt; {\r\n                            left[0] = left[0].merge(right[0]);\r\n                            left[1] = left[1].merge(right[1]);\r\n                            return left;\r\n                        },\r\n\r\n                        x -&gt; &quot;Names = &quot; + x[1].toString() + &quot;&amp;Ages = &quot; + x[0].toString()\r\n                ));","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>I guess having a class <code>Person</code> (as you describe), you would need a custom collector for this:</p>\n\n<pre><code> String result = List.of(new Person(1, \"david\"), new Person(33, \"eugene\"))\n            .stream()\n            .parallel()\n            .collect(Collector.of(\n                    () -&gt; new StringJoiner[]{new StringJoiner(\",\", \"[\", \"]\"), new StringJoiner(\",\", \"[\", \"]\")},\n                    (sj, per) -&gt; {\n                        sj[0] = sj[0].add(\"\" + per.getAge());\n                        sj[1] = sj[1].add(per.getName());\n                    },\n                    (left, right) -&gt; {\n                        left[0] = left[0].merge(right[0]);\n                        left[1] = left[1].merge(right[1]);\n                        return left;\n                    },\n\n                    x -&gt; \"Names = \" + x[1].toString() + \"&amp;Ages = \" + x[0].toString()\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520859743,"creation_date":1520859743,"answer_id":49235942,"question_id":49215912,"body_markdown":"You could use\r\n\r\n    String result = persons.stream()\r\n        .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(true, p.getName()),\r\n                                new AbstractMap.SimpleEntry&lt;&gt;(false, &quot;&quot;+p.getAge())))\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.partitioningBy(Map.Entry::getKey,\r\n                Collectors.mapping(Map.Entry::getValue, Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;))),\r\n            m -&gt; &quot;Names=&quot;+m.get(true)+&quot;&amp;Ages=&quot;+m.get(false)));\r\n\r\n`AbstractMap.SimpleEntry` is just a stand-in for the missing standard `Pair` type. If you have a `Pair` type in your project, you can use it instead; you just have to replace the `Map.Entry::getKey` and `Map.Entry::getValue` method references with the right ones to retrieve the first resp. second value of the pair.\r\n\r\nThe solution above is tailored to the case of two properties. An alternative which can be easily adapted to more than two properties would be\r\n\r\n    String result = persons.stream()\r\n        .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(&quot;Names&quot;, p.getName()),\r\n                                new AbstractMap.SimpleEntry&lt;&gt;(&quot;Ages&quot;, &quot;&quot;+p.getAge())))\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.groupingBy(Map.Entry::getKey,\r\n                Collectors.mapping(Map.Entry::getValue, Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;))),\r\n            m -&gt; m.entrySet().stream()\r\n                  .map(e -&gt; e.getKey()+&quot;=&quot;+e.getValue()).collect(Collectors.joining(&quot;&amp;&quot;))));\r\n","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>You could use</p>\n\n<pre><code>String result = persons.stream()\n    .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(true, p.getName()),\n                            new AbstractMap.SimpleEntry&lt;&gt;(false, \"\"+p.getAge())))\n    .collect(Collectors.collectingAndThen(\n        Collectors.partitioningBy(Map.Entry::getKey,\n            Collectors.mapping(Map.Entry::getValue, Collectors.joining(\",\", \"[\", \"]\"))),\n        m -&gt; \"Names=\"+m.get(true)+\"&amp;Ages=\"+m.get(false)));\n</code></pre>\n\n<p><code>AbstractMap.SimpleEntry</code> is just a stand-in for the missing standard <code>Pair</code> type. If you have a <code>Pair</code> type in your project, you can use it instead; you just have to replace the <code>Map.Entry::getKey</code> and <code>Map.Entry::getValue</code> method references with the right ones to retrieve the first resp. second value of the pair.</p>\n\n<p>The solution above is tailored to the case of two properties. An alternative which can be easily adapted to more than two properties would be</p>\n\n<pre><code>String result = persons.stream()\n    .flatMap(p -&gt; Stream.of(new AbstractMap.SimpleEntry&lt;&gt;(\"Names\", p.getName()),\n                            new AbstractMap.SimpleEntry&lt;&gt;(\"Ages\", \"\"+p.getAge())))\n    .collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(Map.Entry::getKey,\n            Collectors.mapping(Map.Entry::getValue, Collectors.joining(\",\", \"[\", \"]\"))),\n        m -&gt; m.entrySet().stream()\n              .map(e -&gt; e.getKey()+\"=\"+e.getValue()).collect(Collectors.joining(\"&amp;\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693601398,"creation_date":1693601398,"answer_id":77025931,"question_id":49215912,"body_markdown":"Alternatively, this could be done with [`Collectors.teeing`][1], but it is available since Java 12:\r\n```\r\nString res =\r\n    Stream.of(new Person(34, &quot;joe&quot;), new Person(52, &quot;diana&quot;), new Person(19, &quot;thomas&quot;))\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.mapping(Person::getName, Collectors.joining(&quot;,&quot;)),\r\n                Collectors.mapping(p -&gt; &quot;&quot; + p.getAge(), Collectors.joining(&quot;,&quot;)),\r\n                (names, ages) -&gt; String.format(&quot;Names=[%s]&amp;Ages=[%s]&quot;, names, ages)));\r\n\r\nSystem.out.println(res); // Names=[joe,diana,thomas]&amp;Ages=[34,52,19]\r\n```\r\n`Collectors.teeing` takes 3 arguments, in this code snipped specifically:\r\n- Two Collector objects that are used to collect the names and ages of the people in the list.\r\n- A BiFunction that is used to combine the results of the two collectors into a single string.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>Alternatively, this could be done with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a>, but it is available since Java 12:</p>\n<pre><code>String res =\n    Stream.of(new Person(34, &quot;joe&quot;), new Person(52, &quot;diana&quot;), new Person(19, &quot;thomas&quot;))\n        .collect(\n            Collectors.teeing(\n                Collectors.mapping(Person::getName, Collectors.joining(&quot;,&quot;)),\n                Collectors.mapping(p -&gt; &quot;&quot; + p.getAge(), Collectors.joining(&quot;,&quot;)),\n                (names, ages) -&gt; String.format(&quot;Names=[%s]&amp;Ages=[%s]&quot;, names, ages)));\n\nSystem.out.println(res); // Names=[joe,diana,thomas]&amp;Ages=[34,52,19]\n</code></pre>\n<p><code>Collectors.teeing</code> takes 3 arguments, in this code snipped specifically:</p>\n<ul>\n<li>Two Collector objects that are used to collect the names and ages of the people in the list.</li>\n<li>A BiFunction that is used to combine the results of the two collectors into a single string.</li>\n</ul>\n"}],"owner":{"account_id":2120898,"reputation":3666,"user_id":1884155,"accept_rate":54,"display_name":"user1884155"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1693601398,"creation_date":1520733606,"question_id":49215912,"body_markdown":"I want to use Java 8&#39;s stream api  for the following exercise:\r\n\r\n - Given a `List&lt;Person&gt; persons`\r\n - `Person` is a simple POJO with a name (string) and age (int) property\r\n - Construct the following String `Names=[joe,diana,thomas]&amp;Ages=[34,52,19]`\r\n\r\nWhat I can easily do with streams is the following:\r\n\r\n    String result = persons.stream()\r\n        .map(p -&gt; &quot;(&quot; + p.getName() + &quot;,&quot; + p.getAge() + &quot;)&quot;)\r\n        .collectors(Collectors.joining(&quot;&amp;&quot;,&quot;persons=[&quot;,&quot;]&quot;);\r\n\r\nWhich will give `persons=[(joe,34)&amp;(diana,52)&amp;(thomas,19)]`, but I don&#39;t know how I can concatenate on the fields across mutiple person objects rather then on the properties of each person individually. It&#39;s like I need to flatmap the person to one property, and afterwards flatmap the list of persons a second time for the next property, and then combine these outputs. What would the syntax be for this?\r\n\r\nThe Person class is very simple. If possible, I would like a solution that is written in such a way that reflection is used to loop over ALL fields of a class instead of checking hardcoded only the &quot;name&quot; and &quot;age&quot; fields. Assume that all fields are simple properties like String or int (there are no nested classes or collections).","title":"Use the streaming api to loop over fields instead of over objects","body":"<p>I want to use Java 8's stream api  for the following exercise:</p>\n\n<ul>\n<li>Given a <code>List&lt;Person&gt; persons</code></li>\n<li><code>Person</code> is a simple POJO with a name (string) and age (int) property</li>\n<li>Construct the following String <code>Names=[joe,diana,thomas]&amp;Ages=[34,52,19]</code></li>\n</ul>\n\n<p>What I can easily do with streams is the following:</p>\n\n<pre><code>String result = persons.stream()\n    .map(p -&gt; \"(\" + p.getName() + \",\" + p.getAge() + \")\")\n    .collectors(Collectors.joining(\"&amp;\",\"persons=[\",\"]\");\n</code></pre>\n\n<p>Which will give <code>persons=[(joe,34)&amp;(diana,52)&amp;(thomas,19)]</code>, but I don't know how I can concatenate on the fields across mutiple person objects rather then on the properties of each person individually. It's like I need to flatmap the person to one property, and afterwards flatmap the list of persons a second time for the next property, and then combine these outputs. What would the syntax be for this?</p>\n\n<p>The Person class is very simple. If possible, I would like a solution that is written in such a way that reflection is used to loop over ALL fields of a class instead of checking hardcoded only the \"name\" and \"age\" fields. Assume that all fields are simple properties like String or int (there are no nested classes or collections).</p>\n"},{"tags":["java","spring-boot","redis","jwt"],"comments":[{"owner":{"account_id":1823935,"reputation":69,"user_id":1657285,"display_name":"Radhakrishna"},"score":0,"creation_date":1658430908,"post_id":70907590,"comment_id":129056180,"body_markdown":"could you please share entire project?","body":"could you please share entire project?"},{"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"score":0,"creation_date":1660721366,"post_id":70907590,"comment_id":129596503,"body_markdown":"Not possible sry, but you can find some help on github with &quot;JWT Token filter&quot;","body":"Not possible sry, but you can find some help on github with &quot;JWT Token filter&quot;"}],"answers":[{"tags":[],"owner":{"account_id":26570769,"reputation":1,"user_id":20197023,"display_name":"zouhour kharrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693601148,"creation_date":1693399601,"answer_id":77008181,"question_id":70907590,"body_markdown":"I think you must add `@Autowired` before `private JwtUtil jwtUtil` in class `JwtTokenFilter` and also you can use `@RequiredArgsConstructor` to automatically create a constructor that takes the `autowired` fields as parameters.","title":"Springboot JWT Auth with Redis","body":"<p>I think you must add <code>@Autowired</code> before <code>private JwtUtil jwtUtil</code> in class <code>JwtTokenFilter</code> and also you can use <code>@RequiredArgsConstructor</code> to automatically create a constructor that takes the <code>autowired</code> fields as parameters.</p>\n"}],"owner":{"account_id":18865804,"reputation":507,"user_id":13761574,"display_name":"K&#233;vin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693601148,"creation_date":1643474660,"question_id":70907590,"body_markdown":"I have an application that was working with JWT auth (without Redis)\r\nActually I&#39;m implementing Redis but I&#39;m having some errors that I don&#39;t understand..\r\n\r\nWe I sign in, the jwt token is responded ( but not created in redis.. why ? )\r\nAnd another problem is that when i make a request, it throws \r\n`...common.security.specific.jwt.JwtUtil.extractToken(javax.servlet.http.HttpServletRequest)&quot; because &quot;this.jwtUtil&quot; is null\r\n`\r\n\r\nI added all the code in order to find any relevant information that can be responsible of these bug..\r\nThanks for any help !\r\n\r\nJwtUtil.java\r\n```\r\n@Service\r\npublic class JwtUtil {\r\n\r\n    /**\r\n     * Get the token from authorization header.\r\n     *\r\n     * @param request\r\n     * @return token\r\n     */\r\n    public String extractToken(HttpServletRequest request) {\r\n        String authHeader = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\r\n        if (authHeader.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\r\n            return authHeader.replace(JwtConstant.TOKEN_BEARER_PREFIX, &quot;&quot;);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n...\r\n```\r\n\r\nJwtTokenFilter.java\r\n```\r\n@Service\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n  private UserDetailsService userDetailsService;\r\n  private TokenService tokenService;\r\n  private JwtTokenProvider jwtTokenProvider;\r\n  private JwtUtil jwtUtil;\r\n\r\n  public JwtTokenFilter(UserDetailsService userDetailsService,\r\n                                  TokenService tokenService, JwtTokenProvider jwtTokenProvider, JwtUtil jwtUtil) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.tokenService = tokenService;\r\n        this.jwtTokenProvider = jwtTokenProvider;\r\n        this.jwtUtil = jwtUtil;\r\n    }\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n      FilterChain chain) {\r\n    try {\r\n      // Check for authorization header existence.\r\n      String header = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\r\n      if (header == null || !header.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\r\n        chain.doFilter(request, response);\r\n        return;\r\n      }\r\n      // Validate request..\r\n      UsernamePasswordAuthenticationToken authorization = authorizeRequest(request);\r\n      SecurityContextHolder.getContext().setAuthentication(authorization);\r\n      chain.doFilter(request, response);\r\n    } catch (Exception e) {\r\n      SecurityContextHolder.clearContext();\r\n      throw new InternalServerErrorException(e.toString());\r\n    }\r\n  }\r\n\r\n  private UsernamePasswordAuthenticationToken authorizeRequest(HttpServletRequest request) {\r\n    try {\r\n      // Get token.\r\n      String token = this.jwtUtil.extractToken(request);  // ***PROBLEM IS HERE***\r\n      if (token != null) {\r\n        // Get token key.\r\n        JwtModel model = (JwtModel) this.tokenService.getSecretKey(token);\r\n        // Validate token.\r\n        Claims claims = this.jwtTokenProvider.validateToken(model);\r\n        // Validate user authority/role if allowed to do the api dto.\r\n        String user = claims.getSubject();\r\n        System.out.println(&quot;user&quot; + user);\r\n        UserDetails userDetails = this.userDetailsService.loadUserByUsername(user);\r\n        if (userDetails != null) {\r\n          return new UsernamePasswordAuthenticationToken(\r\n              userDetails, null, userDetails.getAuthorities());\r\n        }\r\n      }\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n```\r\nJwtTokenFilterConfigurer.java\r\n```\r\npublic class JwtTokenFilterConfigurer extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private AuthenticationManager authManager;\r\n    private TokenService tokenService;\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n            throws AuthenticationException {\r\n        try {\r\n            // Map dto value.\r\n            UserDataDTO req = this.getCredentials(request);\r\n            // Authenticate user.\r\n            return this.authManager.authenticate(new UsernamePasswordAuthenticationToken(\r\n                    req.getEmail(),\r\n                    req.getPassword()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\r\n            FilterChain chain, Authentication auth) {\r\n        try {\r\n            SecurityContextHolder.getContext().setAuthentication(auth);\r\n\r\n            // Create token.\r\n            System.out.println(&quot;Je passe&quot;);\r\n            JwtModel model = this.jwtTokenProvider.createToken(((User) auth.getPrincipal()).getUsername());\r\n            // Set token.\r\n            this.tokenService.setSecretKey(model.getToken(), model);\r\n            // Set key expiration on redis.\r\n            this.tokenService.setKeyExpiration(model.getToken(), model.getExpDate());\r\n            // Add token to authorization header.\r\n            response.addHeader(JwtConstant.AUTHORIZATION_HEADER_STRING,\r\n                    JwtConstant.TOKEN_BEARER_PREFIX + model.getToken());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private UserDataDTO getCredentials(HttpServletRequest request) {\r\n        // Map dto value.\r\n        UserDataDTO auth = null;\r\n        try {\r\n            auth = new ObjectMapper().readValue(request.getInputStream(), UserDataDTO.class);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return auth;\r\n    }\r\n}\r\n```\r\n\r\nJwtTokenProvider.java\r\n```\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    @Value(&quot;${security.jwt.token.secret-key&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${security.jwt.token.expire-length}&quot;)\r\n    private long validityInMilliseconds; // 1h\r\n\r\n    @Value(&quot;${security.jwt.token.issuer}&quot;)\r\n    private String issuer; // 1h\r\n\r\n    @Autowired\r\n    private MyUserDetails myUserDetails;\r\n\r\n    @Autowired\r\n    private UserJpaRepository userJpaRepository;\r\n\r\n    @PostConstruct\r\n    protected void init() {\r\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n    }\r\n\r\n    public JwtModel createToken(String email) {\r\n        AppUser user = userJpaRepository.findByEmail(email);\r\n        Claims claims = Jwts.claims().setSubject(email);\r\n        claims.put(&quot;auth&quot;, \r\n                user.getAppUserRoles().stream().map(s -&gt; new SimpleGrantedAuthority(s.getAuthority()))\r\n                .filter(Objects::nonNull).collect(Collectors.toList()));\r\n\r\n        Date current = new Date();\r\n        Date expiration = generateTokenExp(JwtConstant.ACCESS_TOKEN_EXPIRATION);\r\n\r\n        String token = Jwts.builder()\r\n                .setIssuer(issuer)\r\n                .setClaims(claims)\r\n                .setIssuedAt(current)\r\n                .setExpiration(expiration)\r\n                .signWith(SignatureAlgorithm.HS512, secretKey)\r\n                .compact();\r\n\r\n        return new JwtModel(token,\r\n                issuer, email,\r\n                current, expiration);\r\n    }\r\n\r\n    public Authentication getAuthentication(String token) {\r\n        UserDetails userDetails = myUserDetails.loadUserByUsername(getEmail(token));\r\n        return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\r\n    }\r\n\r\n    public String getEmail(String token) {\r\n        return Jwts.parser().setSigningKey(secretKey).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n\r\n    public String resolveToken(HttpServletRequest req) {\r\n        String bearerToken = req.getHeader(&quot;Authorization&quot;);\r\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return bearerToken.substring(7);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public Claims validateToken(JwtModel model) {\r\n        try {\r\n            Claims claims = Jwts.parser()\r\n                    .requireIssuer(model.getIssuer())\r\n                    .requireSubject(model.getSubject())\r\n                    .requireIssuedAt(model.getIssueDate())\r\n                    .requireExpiration(model.getExpDate())\r\n                    .setSigningKey(\r\n                            secretKey)\r\n                    .parseClaimsJws(model.getToken())\r\n                    .getBody();\r\n            return claims;\r\n        } catch (JwtException | IllegalArgumentException e) {\r\n            throw new InternalServerErrorException(&quot;Expired or invalid JWT token&quot;);\r\n        }\r\n    }\r\n\r\n    private Date generateTokenExp(Integer timeExpired) {\r\n        Date current = new Date();\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(current);\r\n        calendar.add(Calendar.MINUTE, timeExpired);\r\n        return calendar.getTime();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWebSecurityConfig.java\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private UserDetailsService userDetailsService;\r\n    private JwtTokenProvider jwtTokenProvider;\r\n    private JwtUtil jwtUtil;\r\n    private TokenService tokenService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        // Disable CSRF (cross site request forgery)\r\n        http.csrf().disable();\r\n\r\n        // No session will be created or used by spring security\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        \r\n        // Entry points\r\n        http.authorizeRequests()//\r\n                .antMatchers(&quot;/users/signin&quot;).permitAll()//\r\n                .antMatchers(&quot;/users/signup&quot;).permitAll()//\r\n                .antMatchers(&quot;/h2-console/**/**&quot;).permitAll()\r\n                // Disallow everything else..\r\n                .anyRequest().authenticated();\r\n\r\n        // If a user try to access a resource without having enough permissions\r\n        http.exceptionHandling().accessDeniedPage(&quot;/login&quot;);\r\n\r\n        // Apply JWT\r\n        http.addFilterBefore(new JwtTokenFilter(\r\n                userDetailsService, tokenService, jwtTokenProvider, jwtUtil),\r\n                UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        // Allow swagger to be accessed without authentication\r\n        web.ignoring().antMatchers(&quot;/v2/api-docs&quot;)//\r\n                .antMatchers(&quot;/swagger-resources/**&quot;)//\r\n                .antMatchers(&quot;/swagger-ui.html&quot;)//\r\n                .antMatchers(&quot;/configuration/**&quot;)//\r\n                .antMatchers(&quot;/webjars/**&quot;)//\r\n                .antMatchers(&quot;/public&quot;)\r\n\r\n                // Un-secure H2 Database (for testing purposes, H2 console shouldn&#39;t be\r\n                // unprotected in production)\r\n                .and()\r\n                .ignoring()\r\n                .antMatchers(&quot;/h2-console/**/**&quot;)\r\n                ;\r\n        ;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n}\r\n```","title":"Springboot JWT Auth with Redis","body":"<p>I have an application that was working with JWT auth (without Redis)\nActually I'm implementing Redis but I'm having some errors that I don't understand..</p>\n<p>We I sign in, the jwt token is responded ( but not created in redis.. why ? )\nAnd another problem is that when i make a request, it throws\n<code>...common.security.specific.jwt.JwtUtil.extractToken(javax.servlet.http.HttpServletRequest)&quot; because &quot;this.jwtUtil&quot; is null </code></p>\n<p>I added all the code in order to find any relevant information that can be responsible of these bug..\nThanks for any help !</p>\n<p>JwtUtil.java</p>\n<pre><code>@Service\npublic class JwtUtil {\n\n    /**\n     * Get the token from authorization header.\n     *\n     * @param request\n     * @return token\n     */\n    public String extractToken(HttpServletRequest request) {\n        String authHeader = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\n        if (authHeader.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\n            return authHeader.replace(JwtConstant.TOKEN_BEARER_PREFIX, &quot;&quot;);\n        }\n        return null;\n    }\n}\n...\n</code></pre>\n<p>JwtTokenFilter.java</p>\n<pre><code>@Service\npublic class JwtTokenFilter extends OncePerRequestFilter {\n\n  private UserDetailsService userDetailsService;\n  private TokenService tokenService;\n  private JwtTokenProvider jwtTokenProvider;\n  private JwtUtil jwtUtil;\n\n  public JwtTokenFilter(UserDetailsService userDetailsService,\n                                  TokenService tokenService, JwtTokenProvider jwtTokenProvider, JwtUtil jwtUtil) {\n        this.userDetailsService = userDetailsService;\n        this.tokenService = tokenService;\n        this.jwtTokenProvider = jwtTokenProvider;\n        this.jwtUtil = jwtUtil;\n    }\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n      FilterChain chain) {\n    try {\n      // Check for authorization header existence.\n      String header = request.getHeader(JwtConstant.AUTHORIZATION_HEADER_STRING);\n      if (header == null || !header.startsWith(JwtConstant.TOKEN_BEARER_PREFIX)) {\n        chain.doFilter(request, response);\n        return;\n      }\n      // Validate request..\n      UsernamePasswordAuthenticationToken authorization = authorizeRequest(request);\n      SecurityContextHolder.getContext().setAuthentication(authorization);\n      chain.doFilter(request, response);\n    } catch (Exception e) {\n      SecurityContextHolder.clearContext();\n      throw new InternalServerErrorException(e.toString());\n    }\n  }\n\n  private UsernamePasswordAuthenticationToken authorizeRequest(HttpServletRequest request) {\n    try {\n      // Get token.\n      String token = this.jwtUtil.extractToken(request);  // ***PROBLEM IS HERE***\n      if (token != null) {\n        // Get token key.\n        JwtModel model = (JwtModel) this.tokenService.getSecretKey(token);\n        // Validate token.\n        Claims claims = this.jwtTokenProvider.validateToken(model);\n        // Validate user authority/role if allowed to do the api dto.\n        String user = claims.getSubject();\n        System.out.println(&quot;user&quot; + user);\n        UserDetails userDetails = this.userDetailsService.loadUserByUsername(user);\n        if (userDetails != null) {\n          return new UsernamePasswordAuthenticationToken(\n              userDetails, null, userDetails.getAuthorities());\n        }\n      }\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>JwtTokenFilterConfigurer.java</p>\n<pre><code>public class JwtTokenFilterConfigurer extends UsernamePasswordAuthenticationFilter {\n\n    private AuthenticationManager authManager;\n    private TokenService tokenService;\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        try {\n            // Map dto value.\n            UserDataDTO req = this.getCredentials(request);\n            // Authenticate user.\n            return this.authManager.authenticate(new UsernamePasswordAuthenticationToken(\n                    req.getEmail(),\n                    req.getPassword()));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\n            FilterChain chain, Authentication auth) {\n        try {\n            SecurityContextHolder.getContext().setAuthentication(auth);\n\n            // Create token.\n            System.out.println(&quot;Je passe&quot;);\n            JwtModel model = this.jwtTokenProvider.createToken(((User) auth.getPrincipal()).getUsername());\n            // Set token.\n            this.tokenService.setSecretKey(model.getToken(), model);\n            // Set key expiration on redis.\n            this.tokenService.setKeyExpiration(model.getToken(), model.getExpDate());\n            // Add token to authorization header.\n            response.addHeader(JwtConstant.AUTHORIZATION_HEADER_STRING,\n                    JwtConstant.TOKEN_BEARER_PREFIX + model.getToken());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private UserDataDTO getCredentials(HttpServletRequest request) {\n        // Map dto value.\n        UserDataDTO auth = null;\n        try {\n            auth = new ObjectMapper().readValue(request.getInputStream(), UserDataDTO.class);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return auth;\n    }\n}\n</code></pre>\n<p>JwtTokenProvider.java</p>\n<pre><code>@Component\npublic class JwtTokenProvider {\n\n    @Value(&quot;${security.jwt.token.secret-key&quot;)\n    private String secretKey;\n\n    @Value(&quot;${security.jwt.token.expire-length}&quot;)\n    private long validityInMilliseconds; // 1h\n\n    @Value(&quot;${security.jwt.token.issuer}&quot;)\n    private String issuer; // 1h\n\n    @Autowired\n    private MyUserDetails myUserDetails;\n\n    @Autowired\n    private UserJpaRepository userJpaRepository;\n\n    @PostConstruct\n    protected void init() {\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n    }\n\n    public JwtModel createToken(String email) {\n        AppUser user = userJpaRepository.findByEmail(email);\n        Claims claims = Jwts.claims().setSubject(email);\n        claims.put(&quot;auth&quot;, \n                user.getAppUserRoles().stream().map(s -&gt; new SimpleGrantedAuthority(s.getAuthority()))\n                .filter(Objects::nonNull).collect(Collectors.toList()));\n\n        Date current = new Date();\n        Date expiration = generateTokenExp(JwtConstant.ACCESS_TOKEN_EXPIRATION);\n\n        String token = Jwts.builder()\n                .setIssuer(issuer)\n                .setClaims(claims)\n                .setIssuedAt(current)\n                .setExpiration(expiration)\n                .signWith(SignatureAlgorithm.HS512, secretKey)\n                .compact();\n\n        return new JwtModel(token,\n                issuer, email,\n                current, expiration);\n    }\n\n    public Authentication getAuthentication(String token) {\n        UserDetails userDetails = myUserDetails.loadUserByUsername(getEmail(token));\n        return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\n    }\n\n    public String getEmail(String token) {\n        return Jwts.parser().setSigningKey(secretKey).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public String resolveToken(HttpServletRequest req) {\n        String bearerToken = req.getHeader(&quot;Authorization&quot;);\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            return bearerToken.substring(7);\n        }\n        return null;\n    }\n\n    public Claims validateToken(JwtModel model) {\n        try {\n            Claims claims = Jwts.parser()\n                    .requireIssuer(model.getIssuer())\n                    .requireSubject(model.getSubject())\n                    .requireIssuedAt(model.getIssueDate())\n                    .requireExpiration(model.getExpDate())\n                    .setSigningKey(\n                            secretKey)\n                    .parseClaimsJws(model.getToken())\n                    .getBody();\n            return claims;\n        } catch (JwtException | IllegalArgumentException e) {\n            throw new InternalServerErrorException(&quot;Expired or invalid JWT token&quot;);\n        }\n    }\n\n    private Date generateTokenExp(Integer timeExpired) {\n        Date current = new Date();\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(current);\n        calendar.add(Calendar.MINUTE, timeExpired);\n        return calendar.getTime();\n    }\n\n}\n</code></pre>\n<p>WebSecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private UserDetailsService userDetailsService;\n    private JwtTokenProvider jwtTokenProvider;\n    private JwtUtil jwtUtil;\n    private TokenService tokenService;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        // Disable CSRF (cross site request forgery)\n        http.csrf().disable();\n\n        // No session will be created or used by spring security\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        \n        // Entry points\n        http.authorizeRequests()//\n                .antMatchers(&quot;/users/signin&quot;).permitAll()//\n                .antMatchers(&quot;/users/signup&quot;).permitAll()//\n                .antMatchers(&quot;/h2-console/**/**&quot;).permitAll()\n                // Disallow everything else..\n                .anyRequest().authenticated();\n\n        // If a user try to access a resource without having enough permissions\n        http.exceptionHandling().accessDeniedPage(&quot;/login&quot;);\n\n        // Apply JWT\n        http.addFilterBefore(new JwtTokenFilter(\n                userDetailsService, tokenService, jwtTokenProvider, jwtUtil),\n                UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        // Allow swagger to be accessed without authentication\n        web.ignoring().antMatchers(&quot;/v2/api-docs&quot;)//\n                .antMatchers(&quot;/swagger-resources/**&quot;)//\n                .antMatchers(&quot;/swagger-ui.html&quot;)//\n                .antMatchers(&quot;/configuration/**&quot;)//\n                .antMatchers(&quot;/webjars/**&quot;)//\n                .antMatchers(&quot;/public&quot;)\n\n                // Un-secure H2 Database (for testing purposes, H2 console shouldn't be\n                // unprotected in production)\n                .and()\n                .ignoring()\n                .antMatchers(&quot;/h2-console/**/**&quot;)\n                ;\n        ;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","while-loop","try-catch"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693489816,"post_id":77016348,"comment_id":135770285,"body_markdown":"Do you want to program to exit if the input is invalid?","body":"Do you want to program to exit if the input is invalid?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1693489998,"post_id":77016348,"comment_id":135770323,"body_markdown":"Don&#39;t you want the user to try again in case of error as it happens @RileyGT?","body":"Don&#39;t you want the user to try again in case of error as it happens @RileyGT?"}],"answers":[{"comments":[{"owner":{"account_id":29337805,"reputation":1,"user_id":22477836,"display_name":"RileyGT"},"score":1,"creation_date":1693507700,"post_id":77016657,"comment_id":135774093,"body_markdown":"Wow, I have a lot to learn, thank you!","body":"Wow, I have a lot to learn, thank you!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693510811,"post_id":77016657,"comment_id":135774588,"body_markdown":"@RilyeGT  So do I.  :)","body":"@RilyeGT  So do I.  :)"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693501970,"creation_date":1693491056,"answer_id":77016657,"question_id":77016348,"body_markdown":"It works for anything except when you enter a non number. It loops because you still have a value in the input buffer so the error keeps repeating.  So you need to remove that input in the catch block as follows:\r\n```\r\ncatch (Exception e) {\r\n                    System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n                    error = true;\r\n                    in.nextLine();  // &lt;-- Remove problem input\r\n                }\r\n```\r\nBTW, since you only want positive `ints` why are you prompting for doubles?  You may want to do:\r\n```\r\nint number;\r\n// then later\r\n\r\nnumber = in.nextInt();\r\n``` \r\nHere is a slight modification of what I think you may want.  I also included a friendly way to exit the program.\r\n```\r\nScanner in = new Scanner(System.in);\r\nSystem.out.println(\r\n        &quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\r\nint number = 0; //\r\nboolean error;\r\n\r\nfor (;;) { // loop forever (or until user enters &#39;quit`)\r\n    System.out.println(\r\n            &quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\r\n    try {\r\n        number = in.nextInt();\r\n    } catch (Exception e) {\r\n        // input problem, see if user wants to quit\r\n        String value = in.next();\r\n        if (value.equalsIgnoreCase(&quot;quit&quot;)) {\r\n            System.out.println(&quot;Bye!&quot;);\r\n            return;\r\n        }\r\n        // some other errored input so force error message\r\n        number = -1; \r\n    }\r\n    if (number &lt; 0) {\r\n        System.err.println(\r\n                &quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n    } else {\r\n        System.out.println(&quot;The Fibonacci Sequence is: &quot;);\r\n        int i = 0;\r\n        int f0 = 0;\r\n        int f1 = 1;\r\n        int fn;\r\n        double value = 0; // changed this to double which is redundant\r\n                          // since value is not used\r\n        do {\r\n            fn = f0 + f1;\r\n            System.out.print(f0 + &quot; &quot;);\r\n            f0 = f1;\r\n            f1 = fn;\r\n            value = number - f0;\r\n            i++;\r\n        } while (f0 &lt;= number);\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How to handle invalid input for Fibonacci Sequence","body":"<p>It works for anything except when you enter a non number. It loops because you still have a value in the input buffer so the error keeps repeating.  So you need to remove that input in the catch block as follows:</p>\n<pre><code>catch (Exception e) {\n                    System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n                    error = true;\n                    in.nextLine();  // &lt;-- Remove problem input\n                }\n</code></pre>\n<p>BTW, since you only want positive <code>ints</code> why are you prompting for doubles?  You may want to do:</p>\n<pre><code>int number;\n// then later\n\nnumber = in.nextInt();\n</code></pre>\n<p>Here is a slight modification of what I think you may want.  I also included a friendly way to exit the program.</p>\n<pre><code>Scanner in = new Scanner(System.in);\nSystem.out.println(\n        &quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\nint number = 0; //\nboolean error;\n\nfor (;;) { // loop forever (or until user enters 'quit`)\n    System.out.println(\n            &quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\n    try {\n        number = in.nextInt();\n    } catch (Exception e) {\n        // input problem, see if user wants to quit\n        String value = in.next();\n        if (value.equalsIgnoreCase(&quot;quit&quot;)) {\n            System.out.println(&quot;Bye!&quot;);\n            return;\n        }\n        // some other errored input so force error message\n        number = -1; \n    }\n    if (number &lt; 0) {\n        System.err.println(\n                &quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n    } else {\n        System.out.println(&quot;The Fibonacci Sequence is: &quot;);\n        int i = 0;\n        int f0 = 0;\n        int f1 = 1;\n        int fn;\n        double value = 0; // changed this to double which is redundant\n                          // since value is not used\n        do {\n            fn = f0 + f1;\n            System.out.print(f0 + &quot; &quot;);\n            f0 = f1;\n            f1 = fn;\n            value = number - f0;\n            i++;\n        } while (f0 &lt;= number);\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29337805,"reputation":1,"user_id":22477836,"display_name":"RileyGT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693601069,"creation_date":1693488853,"question_id":77016348,"body_markdown":"I am trying to create a Fibonacci Sequence generator where all invalid input cases have a response before asking the user to try again. \r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.println(&quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\r\n    double number = 0; //\r\n    boolean error;\r\n\r\n    do {\r\n\r\n        try {\r\n            error = false;\r\n            System.out.println(&quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\r\n            number = in.nextDouble();\r\n            if (number % 1 != 0 || number &lt; 0) {\r\n                System.err.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n            } else {\r\n                System.out.println(&quot;The Fibonacci Sequence is: &quot;);\r\n                int i = 0;\r\n                int f0 = 0;\r\n                int f1 = 1;\r\n                int fn;\r\n                double value = 0; // changed this to double which is redundant since value is not used\r\n                do {\r\n                    fn = f0 + f1;\r\n                    System.out.print(f0 + &quot; &quot;);\r\n                    f0 = f1;\r\n                    f1 = fn;\r\n                    value = number - f0;\r\n                    i++;\r\n                } while (f0 &lt;= number);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\r\n            error = true;\r\n        }\r\n    } while (number &lt; 0 || number % 1 != 0 || error) ;\r\n}\r\n```\r\n\r\n\r\nHowever, when I use try/catch with my do-while loop, I get an infinite loop of the message within catch and the input prompt.\r\n \r\nThe Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.\r\nEnter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number........\r\n\r\nI am not super advanced in Java yet, so for now I&#39;d like to find a solution using this logic, just find a way to fix my code. Thank you!","title":"How to handle invalid input for Fibonacci Sequence","body":"<p>I am trying to create a Fibonacci Sequence generator where all invalid input cases have a response before asking the user to try again.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;The Fibonacci Sequence is the series of whole positive numbers where the next number is found by adding up the two numbers before it. \\nGive it a try!&quot;);\n    double number = 0; //\n    boolean error;\n\n    do {\n\n        try {\n            error = false;\n            System.out.println(&quot;Enter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number.&quot;);\n            number = in.nextDouble();\n            if (number % 1 != 0 || number &lt; 0) {\n                System.err.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n            } else {\n                System.out.println(&quot;The Fibonacci Sequence is: &quot;);\n                int i = 0;\n                int f0 = 0;\n                int f1 = 1;\n                int fn;\n                double value = 0; // changed this to double which is redundant since value is not used\n                do {\n                    fn = f0 + f1;\n                    System.out.print(f0 + &quot; &quot;);\n                    f0 = f1;\n                    f1 = fn;\n                    value = number - f0;\n                    i++;\n                } while (f0 &lt;= number);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.&quot;);\n            error = true;\n        }\n    } while (number &lt; 0 || number % 1 != 0 || error) ;\n}\n</code></pre>\n<p>However, when I use try/catch with my do-while loop, I get an infinite loop of the message within catch and the input prompt.</p>\n<p>The Fibonacci Sequence only works with positive whole numbers, please enter a positive integer.\nEnter a number to use as an upper limit. The Fibonacci Sequence will be generated up to that number........</p>\n<p>I am not super advanced in Java yet, so for now I'd like to find a solution using this logic, just find a way to fix my code. Thank you!</p>\n"},{"tags":["java","spring-boot","junit","mockito","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1693603537,"post_id":77025909,"comment_id":135787716,"body_markdown":"&quot;No ideas why you get `PotentialStubbingProblem`&quot;: Mockito will do this if using strict stubs, as it seems the asker is.","body":"&quot;No ideas why you get <code>PotentialStubbingProblem</code>&quot;: Mockito will do this if using strict stubs, as it seems the asker is."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1693604061,"post_id":77025909,"comment_id":135787779,"body_markdown":"not really. strict stubs will also raise `UnnecessaryStubbingException`","body":"not really. strict stubs will also raise <code>UnnecessaryStubbingException</code>"},{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1693627911,"post_id":77025909,"comment_id":135789133,"body_markdown":"@KenChan I also tried with anyString() instead of eq(null) but got same error.","body":"@KenChan I also tried with anyString() instead of eq(null) but got same error."},{"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"score":0,"creation_date":1693633752,"post_id":77025909,"comment_id":135789401,"body_markdown":"@KenChan I tried (String)eq(null) and it works. Thanks a lot. you saved my time.","body":"@KenChan I tried (String)eq(null) and it works. Thanks a lot. you saved my time."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693635177,"post_id":77025909,"comment_id":135789482,"body_markdown":"@Rahul `anyString()` does _not_ match null, only non-null strings","body":"@Rahul <code>anyString()</code> does <i>not</i> match null, only non-null strings"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693600988,"creation_date":1693600988,"answer_id":77025909,"question_id":77025551,"body_markdown":"The actual method call is : \r\n\r\n``` java\r\nexchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType, Object... uriVariables)\r\n```\r\n\r\nBut now as you stub the first parameter as `NULL` , compiler does not knows its type. So it thinks you are stubbing the methods that has 4 parameters which is :\r\n\r\n``` \r\nexchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType)\r\n```\r\n\r\nSo the actual method call is never be stubbed and it should return NULL or `UnnecessaryStubbingException` to me. No ideas why you get `PotentialStubbingProblem` though...\r\n\r\nAnyway try to change to the following should let you stub the actual method that `ApiService` will call correctly :\r\n\r\n\r\n``` java\r\n when(restTemplate.exchange((String)eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n``` \r\n\r\nor better yet : \r\n``` java\r\n when(restTemplate.exchange((String)isNull(), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n``` \r\n\r\n\r\n\r\n\r\n","title":"Getting org.mockito.exceptions.misusing.PotentialStubbingProblem: Strict stubbing argument mismatch while using restTemplate","body":"<p>The actual method call is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType, Object... uriVariables)\n</code></pre>\n<p>But now as you stub the first parameter as <code>NULL</code> , compiler does not knows its type. So it thinks you are stubbing the methods that has 4 parameters which is :</p>\n<pre><code>exchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt;T&gt; responseType)\n</code></pre>\n<p>So the actual method call is never be stubbed and it should return NULL or <code>UnnecessaryStubbingException</code> to me. No ideas why you get <code>PotentialStubbingProblem</code> though...</p>\n<p>Anyway try to change to the following should let you stub the actual method that <code>ApiService</code> will call correctly :</p>\n<pre class=\"lang-java prettyprint-override\"><code> when(restTemplate.exchange((String)eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n</code></pre>\n<p>or better yet :</p>\n<pre class=\"lang-java prettyprint-override\"><code> when(restTemplate.exchange((String)isNull(), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n</code></pre>\n"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025909,"answer_count":1,"score":0,"last_activity_date":1693600988,"creation_date":1693595991,"question_id":77025551,"body_markdown":"**I call external API by using RestTemplate&#39;s exchange() in my application. And currently, I am writing junit and mockito test case for restTemplate call but I am getting stubbing argument mismatch exception.**\r\n\r\n**Here is my code** \r\n\r\n    @Service\r\n    public class ApiService {\r\n    \r\n      @Autowired\r\n      private RestTemplate restTemplate;\r\n      \r\n      @Value(&quot;{url}&quot;)\r\n      private String url;\r\n      \r\n      public TrackResponse getTpiValue(TrackRequest trackRequest){\r\n      \r\n        TrackResponse trackResponse = null;\r\n    \t\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \t\r\n    \tHttpEntity&lt;TrackRequest&gt; entity = new HttpEntity&lt;TrackRequest&gt;(trackRequest, headers);\r\n    \t\r\n    \tResponseEntity&lt;TrackResponse&gt; response = restTemplate.exchange(url, HttpMethod.Post, entity, TrackResponse.class);\r\n    \t\r\n    \tif(response.getStatusCode == HttpStatus.ok){\r\n    \t   trackResponse = response.getBody();\r\n    \t}\r\n      return trackResponse;\r\n      }\r\n    \r\n    }\r\n\r\n**Here is my test case**\r\n\r\n    @TestInstance(Lifecycle.PER_CLASS)\r\n    @ExtendWith(MocikotExtension.class)\r\n    public class ApiServiceTest {\r\n    \r\n      @Mock\r\n      private RestTemplate restTemplate;\r\n      \r\n      @InjectMocks\r\n      private ApiService apiService;\r\n        \r\n      public void getTpiValueTest(){\r\n      \r\n        TrackRequest trackRequest = new TrackRequest();\r\n    \ttrackRequest.setId(&quot;UTHL10&quot;);\r\n    \t\r\n    \tTrackResponse trackResponse = new TrackResponse();\r\n    \ttrackResponse.setTrackId(&quot;QWEDRTHFDS&quot;);\r\n    \t\r\n    \tResponseEntity&lt;TrackResponse&gt; response = new ResponseEntity&lt;&gt;(trackResponse, HttpStatus.ok);\r\n    \t\r\n    \twhen(restTemplate.exchange(eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\r\n    \t\r\n    \tTrackResponse finalResponse = apiService.getTpiValue(trackRequest);\r\n    \t\r\n    \tassetEquals(response.getbody(), finalResponse.getTrackId());\r\n      }\r\n    \r\n    }\r\n\r\n**But when I run test cases then I am getting below error**\r\n\r\n    org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\n    Strict stubbing argument mismatch. Please check:\r\n     - this invocation of &#39;exchange&#39; method:\r\n        restTemplate.exchange(\r\n        null,\r\n        POST,\r\n        &lt;com.application.track.TrackRequest@3c486eb1,[]&gt;,\r\n        class com.application.track.TrackResponse\r\n    );\r\n        -&gt; at com.application.track.ApiService.getTpiValue(ApiService.java:18)\r\n     - has following stubbing(s) with different arguments:\r\n        1. restTemplate.exchange(\r\n        null,\r\n        null,\r\n        null,\r\n        null\r\n    );\r\n    -&gt; at com.application.track.ApiServiceTest.getTpiValueTest(ApiServiceTest.java:21)\r\n\r\nI also tried with lenient() but it did not work.","title":"Getting org.mockito.exceptions.misusing.PotentialStubbingProblem: Strict stubbing argument mismatch while using restTemplate","body":"<p><strong>I call external API by using RestTemplate's exchange() in my application. And currently, I am writing junit and mockito test case for restTemplate call but I am getting stubbing argument mismatch exception.</strong></p>\n<p><strong>Here is my code</strong></p>\n<pre><code>@Service\npublic class ApiService {\n\n  @Autowired\n  private RestTemplate restTemplate;\n  \n  @Value(&quot;{url}&quot;)\n  private String url;\n  \n  public TrackResponse getTpiValue(TrackRequest trackRequest){\n  \n    TrackResponse trackResponse = null;\n    \n    HttpHeaders headers = new HttpHeaders();\n    \n    HttpEntity&lt;TrackRequest&gt; entity = new HttpEntity&lt;TrackRequest&gt;(trackRequest, headers);\n    \n    ResponseEntity&lt;TrackResponse&gt; response = restTemplate.exchange(url, HttpMethod.Post, entity, TrackResponse.class);\n    \n    if(response.getStatusCode == HttpStatus.ok){\n       trackResponse = response.getBody();\n    }\n  return trackResponse;\n  }\n\n}\n</code></pre>\n<p><strong>Here is my test case</strong></p>\n<pre><code>@TestInstance(Lifecycle.PER_CLASS)\n@ExtendWith(MocikotExtension.class)\npublic class ApiServiceTest {\n\n  @Mock\n  private RestTemplate restTemplate;\n  \n  @InjectMocks\n  private ApiService apiService;\n    \n  public void getTpiValueTest(){\n  \n    TrackRequest trackRequest = new TrackRequest();\n    trackRequest.setId(&quot;UTHL10&quot;);\n    \n    TrackResponse trackResponse = new TrackResponse();\n    trackResponse.setTrackId(&quot;QWEDRTHFDS&quot;);\n    \n    ResponseEntity&lt;TrackResponse&gt; response = new ResponseEntity&lt;&gt;(trackResponse, HttpStatus.ok);\n    \n    when(restTemplate.exchange(eq(null), eq(HttpMethod.Post), any(HttpEntity.class), eq(TrackResponse.class))).thenReturn(response);\n    \n    TrackResponse finalResponse = apiService.getTpiValue(trackRequest);\n    \n    assetEquals(response.getbody(), finalResponse.getTrackId());\n  }\n\n}\n</code></pre>\n<p><strong>But when I run test cases then I am getting below error</strong></p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'exchange' method:\n    restTemplate.exchange(\n    null,\n    POST,\n    &lt;com.application.track.TrackRequest@3c486eb1,[]&gt;,\n    class com.application.track.TrackResponse\n);\n    -&gt; at com.application.track.ApiService.getTpiValue(ApiService.java:18)\n - has following stubbing(s) with different arguments:\n    1. restTemplate.exchange(\n    null,\n    null,\n    null,\n    null\n);\n-&gt; at com.application.track.ApiServiceTest.getTpiValueTest(ApiServiceTest.java:21)\n</code></pre>\n<p>I also tried with lenient() but it did not work.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9926,"page":208,"page_size":100}
