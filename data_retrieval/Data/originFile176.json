{"items":[{"tags":["java","android","android-layout","getter"],"answers":[{"comments":[{"owner":{"account_id":53659,"reputation":8118,"user_id":160463,"accept_rate":93,"display_name":"ngreenwood6"},"score":0,"creation_date":1283201943,"post_id":3594216,"comment_id":3784118,"body_markdown":"Thanks for the reply. I actually found another solution that worked for me, but this is a nice detail to know.","body":"Thanks for the reply. I actually found another solution that worked for me, but this is a nice detail to know."},{"owner":{"account_id":176231,"reputation":20916,"user_id":406790,"accept_rate":75,"display_name":"Andrew"},"score":88,"creation_date":1296877761,"post_id":3594216,"comment_id":5460803,"body_markdown":"ngreenwood6, what is your other solution?","body":"ngreenwood6, what is your other solution?"},{"owner":{"account_id":62936,"reputation":57180,"user_id":186636,"accept_rate":87,"display_name":"Peter Ajtai"},"score":12,"creation_date":1320428718,"post_id":3594216,"comment_id":9806425,"body_markdown":"@Andrew - if you want negreenwood6 to be notified of your follow up, you have to start your message like I did to you (I think first three letters is enough) - CommonsWare gets notified automatically, since he wrote this response, but ngreen doesn&#39;t unless you address them.","body":"@Andrew - if you want negreenwood6 to be notified of your follow up, you have to start your message like I did to you (I think first three letters is enough) - CommonsWare gets notified automatically, since he wrote this response, but ngreen doesn&#39;t unless you address them."},{"owner":{"account_id":173743,"reputation":9915,"user_id":402637,"accept_rate":70,"display_name":"Sana"},"score":11,"creation_date":1334211992,"post_id":3594216,"comment_id":12966770,"body_markdown":"@Override\n public void onWindowFocusChanged(boolean hasFocus) {\n  // TODO Auto-generated method stub\n  super.onWindowFocusChanged(hasFocus);\n  //Here you can get the size!\n }","body":"@Override  public void onWindowFocusChanged(boolean hasFocus) {   // TODO Auto-generated method stub   super.onWindowFocusChanged(hasFocus);   //Here you can get the size!  }"},{"owner":{"account_id":409243,"reputation":2218,"user_id":780392,"accept_rate":92,"display_name":"starcodex"},"score":5,"creation_date":1393479339,"post_id":3594216,"comment_id":33450212,"body_markdown":"@ngreenwood6 So what was your solution?","body":"@ngreenwood6 So what was your solution?"},{"owner":{"account_id":2877915,"reputation":311,"user_id":2469427,"display_name":"Sinan Dizdarević"},"score":6,"creation_date":1446649672,"post_id":3594216,"comment_id":54831672,"body_markdown":"Use this listener to get size, when is your screen ready. view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {}","body":"Use this listener to get size, when is your screen ready. view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {}"},{"owner":{"account_id":5683085,"reputation":395,"user_id":4493512,"accept_rate":0,"display_name":"KoreanXcodeWorker"},"score":3,"creation_date":1499854705,"post_id":3594216,"comment_id":77082926,"body_markdown":"lol, he just ran out with the confirmation of impossibility, then people here are in dead-lock.","body":"lol, he just ran out with the confirmation of impossibility, then people here are in dead-lock."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":7,"down_vote_count":7,"up_vote_count":230,"is_accepted":true,"score":223,"last_activity_date":1283074019,"creation_date":1283074019,"answer_id":3594216,"question_id":3591784,"body_markdown":"You are calling `getWidth()` too early. The UI has not been sized and laid out on the screen yet.\r\n\r\nI doubt you want to be doing what you are doing, anyway -- widgets being animated do not change their clickable areas, and so the button will still respond to clicks in the original orientation regardless of how it has rotated.\r\n\r\nThat being said, you can use a [dimension resource][1] to define the button size, then reference that dimension resource from your layout file and your source code, to avoid this problem.\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/more-resources.html#Dimension","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>You are calling <code>getWidth()</code> too early. The UI has not been sized and laid out on the screen yet.</p>\n\n<p>I doubt you want to be doing what you are doing, anyway -- widgets being animated do not change their clickable areas, and so the button will still respond to clicks in the original orientation regardless of how it has rotated.</p>\n\n<p>That being said, you can use a <a href=\"http://developer.android.com/guide/topics/resources/more-resources.html#Dimension\" rel=\"noreferrer\">dimension resource</a> to define the button size, then reference that dimension resource from your layout file and your source code, to avoid this problem.</p>\n"},{"comments":[{"owner":{"account_id":486111,"reputation":3782,"user_id":902832,"accept_rate":44,"display_name":"aaronmarino"},"score":8,"creation_date":1361290919,"post_id":4530473,"comment_id":21004886,"body_markdown":"onSizeChanged worked for me. onWindowFocusedChanged doesn&#39;t get called in my custom view.","body":"onSizeChanged worked for me. onWindowFocusedChanged doesn&#39;t get called in my custom view."},{"owner":{"account_id":365836,"reputation":1274,"user_id":710994,"accept_rate":67,"display_name":"M.ElSaka"},"score":0,"creation_date":1382011997,"post_id":4530473,"comment_id":28799571,"body_markdown":"this looks a good solution, but what should i always create my custom view to override onSizeChanged method?","body":"this looks a good solution, but what should i always create my custom view to override onSizeChanged method?"},{"owner":{"account_id":31707,"reputation":3890,"user_id":87294,"accept_rate":100,"display_name":"MikeNereson"},"score":0,"creation_date":1448385310,"post_id":4530473,"comment_id":55562149,"body_markdown":"`Bottom line, if you call getWidth() etc. in a constructor, it will return zero.` that&#39;s a bingo. The root of my issues.","body":"<code>Bottom line, if you call getWidth() etc. in a constructor, it will return zero.</code> that&#39;s a bingo. The root of my issues."},{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":0,"creation_date":1448643126,"post_id":4530473,"comment_id":55681025,"body_markdown":"I suggest this solution for fragments, because some other solutions return 0 in my case.","body":"I suggest this solution for fragments, because some other solutions return 0 in my case."}],"tags":[],"owner":{"account_id":688702,"reputation":761,"user_id":553837,"display_name":"kerem yokuva"},"comment_count":4,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1297789492,"creation_date":1293286130,"answer_id":4530473,"question_id":3591784,"body_markdown":"As Ian states in [this Android Developers thread][1]:\r\n\r\n&gt; Anyhow, the deal is that layout of the\r\n&gt; contents of a window happens\r\n&gt; *after* all the elements are constructed and added to their parent\r\n&gt; views.  It has to be this way, because\r\n&gt; until you know what components a View\r\n&gt; contains, and what they contain, and\r\n&gt; so on, there&#39;s no sensible way you can\r\n&gt; lay it out.\r\n&gt; \r\n&gt; Bottom line, if you call getWidth()\r\n&gt; etc. in a constructor, it will return\r\n&gt; zero.  The procedure is to create all\r\n&gt; your view elements in the constructor,\r\n&gt; then wait for your View&#39;s\r\n&gt; onSizeChanged() method to be called --\r\n&gt; that&#39;s when you first find out your\r\n&gt; real size, so that&#39;s when you set up\r\n&gt; the sizes of your GUI elements.\r\n&gt; \r\n&gt; Be aware too that onSizeChanged() is\r\n&gt; sometimes called with parameters of\r\n&gt; zero -- check for this case, and\r\n&gt; return immediately (so you don&#39;t get a\r\n&gt; divide by zero when calculating your\r\n&gt; layout, etc.).  Some time later it\r\n&gt; will be called with the real values.\r\n\r\n\r\n  [1]: http://groups.google.com/group/android-developers/browse_thread/thread/a53372e1c468ef01?pli=1","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>As Ian states in <a href=\"http://groups.google.com/group/android-developers/browse_thread/thread/a53372e1c468ef01?pli=1\" rel=\"noreferrer\">this Android Developers thread</a>:</p>\n\n<blockquote>\n  <p>Anyhow, the deal is that layout of the\n  contents of a window happens\n  <em>after</em> all the elements are constructed and added to their parent\n  views.  It has to be this way, because\n  until you know what components a View\n  contains, and what they contain, and\n  so on, there's no sensible way you can\n  lay it out.</p>\n  \n  <p>Bottom line, if you call getWidth()\n  etc. in a constructor, it will return\n  zero.  The procedure is to create all\n  your view elements in the constructor,\n  then wait for your View's\n  onSizeChanged() method to be called --\n  that's when you first find out your\n  real size, so that's when you set up\n  the sizes of your GUI elements.</p>\n  \n  <p>Be aware too that onSizeChanged() is\n  sometimes called with parameters of\n  zero -- check for this case, and\n  return immediately (so you don't get a\n  divide by zero when calculating your\n  layout, etc.).  Some time later it\n  will be called with the real values.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1576010,"reputation":3103,"user_id":2834196,"accept_rate":31,"display_name":"Olkunmustafa"},"score":11,"creation_date":1420365931,"post_id":10118459,"comment_id":43939455,"body_markdown":"so how can we work in Fragments ? this works only in Activity ?","body":"so how can we work in Fragments ? this works only in Activity ?"},{"owner":{"account_id":2254890,"reputation":2008,"user_id":1986282,"accept_rate":60,"display_name":"Cyph3rCod3r"},"score":10,"creation_date":1440074864,"post_id":10118459,"comment_id":52129719,"body_markdown":"This should do the thing but its should not be the answer. A user wants to get dimensions in any point of time instead of getting drawn on the window. Also this method gets called multiple time or every time when there&#39;s a change(View hide, gone, adding new views etc..) in the window. So use it carefully :)","body":"This should do the thing but its should not be the answer. A user wants to get dimensions in any point of time instead of getting drawn on the window. Also this method gets called multiple time or every time when there&#39;s a change(View hide, gone, adding new views etc..) in the window. So use it carefully :)"},{"owner":{"account_id":28129,"reputation":53928,"user_id":74815,"accept_rate":92,"display_name":"i_am_jorf"},"score":1,"creation_date":1447972221,"post_id":10118459,"comment_id":55396852,"body_markdown":"This is a hack and it seems like using the ViewTreeObserver would be better.","body":"This is a hack and it seems like using the ViewTreeObserver would be better."},{"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"score":1,"creation_date":1454801219,"post_id":10118459,"comment_id":58209245,"body_markdown":"Don&#39;t mean to sound rude, but leaving an auto generated comment (especially in 2 lines of code) doesn&#39;t give much confidence that you actually know what you are doing.","body":"Don&#39;t mean to sound rude, but leaving an auto generated comment (especially in 2 lines of code) doesn&#39;t give much confidence that you actually know what you are doing."},{"owner":{"account_id":1597837,"reputation":4000,"user_id":1479511,"accept_rate":57,"display_name":"Narendra Singh"},"score":0,"creation_date":1458119458,"post_id":10118459,"comment_id":59711831,"body_markdown":"Unluckily, it didn&#39;t work for me. Trying viewTreeObserver worked for me.","body":"Unluckily, it didn&#39;t work for me. Trying viewTreeObserver worked for me."},{"owner":{"account_id":5704861,"reputation":5201,"user_id":4508758,"accept_rate":71,"display_name":"Rodrigo Jo&#227;o Bertotti"},"score":0,"creation_date":1507830409,"post_id":10118459,"comment_id":80378026,"body_markdown":"nice! I&#39;ve used `setOnFocusChangeListener` to get the width and height, and worked","body":"nice! I&#39;ve used <code>setOnFocusChangeListener</code> to get the width and height, and worked"}],"tags":[],"owner":{"account_id":173743,"reputation":9915,"user_id":402637,"accept_rate":70,"display_name":"Sana"},"comment_count":6,"down_vote_count":1,"up_vote_count":270,"is_accepted":false,"score":269,"last_activity_date":1454969536,"creation_date":1334212030,"answer_id":10118459,"question_id":3591784,"body_markdown":"We can use \r\n\r\n    @Override\r\n     public void onWindowFocusChanged(boolean hasFocus) {\r\n      super.onWindowFocusChanged(hasFocus);\r\n      //Here you can get the size!\r\n     }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>We can use </p>\n\n<pre><code>@Override\n public void onWindowFocusChanged(boolean hasFocus) {\n  super.onWindowFocusChanged(hasFocus);\n  //Here you can get the size!\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":371767,"reputation":2919,"user_id":720484,"accept_rate":72,"display_name":"George Pligoropoulos"},"score":4,"creation_date":1377211310,"post_id":15578844,"comment_id":27011536,"body_markdown":"this is by far the best solution! because it works also on dynamic solutions where the width and height are not known and calculated. i.e. in a relative layout based on the positions/sizes of other elements. Well done!","body":"this is by far the best solution! because it works also on dynamic solutions where the width and height are not known and calculated. i.e. in a relative layout based on the positions/sizes of other elements. Well done!"},{"owner":{"account_id":89374,"reputation":7227,"user_id":246622,"accept_rate":92,"display_name":"tomsv"},"score":2,"creation_date":1398081437,"post_id":15578844,"comment_id":35480504,"body_markdown":"This requires API 16 or higher (Jelly bean)","body":"This requires API 16 or higher (Jelly bean)"},{"owner":{"account_id":431235,"reputation":3159,"user_id":871368,"accept_rate":62,"display_name":"gingo"},"score":7,"creation_date":1403784997,"post_id":15578844,"comment_id":37798077,"body_markdown":"It does NOT REQUIRE API 16! The only issue is method removeGlobalOnLayoutListener deprecated from API 16, but there is simple solution compatible with all api levels - http://stackoverflow.com/questions/16189525/ongloballayoutlistener-deprecation-and-compatibility","body":"It does NOT REQUIRE API 16! The only issue is method removeGlobalOnLayoutListener deprecated from API 16, but there is simple solution compatible with all api levels - <a href=\"http://stackoverflow.com/questions/16189525/ongloballayoutlistener-deprecation-and-compatibility\" title=\"ongloballayoutlistener deprecation and compatibility\">stackoverflow.com/questions/16189525/&hellip;</a>"},{"owner":{"account_id":3192300,"reputation":717,"user_id":2696292,"accept_rate":57,"display_name":"Mansour Fahad"},"score":0,"creation_date":1421346857,"post_id":15578844,"comment_id":44333696,"body_markdown":"If you need to remove the listener so that doesn’t call itself many times and you having issues with different APIs, I recommend you to set a false boolean at the head of the class and then after capturing the values set it to true so that it doesn’t capture the values again.","body":"If you need to remove the listener so that doesn’t call itself many times and you having issues with different APIs, I recommend you to set a false boolean at the head of the class and then after capturing the values set it to true so that it doesn’t capture the values again."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1455441780,"post_id":15578844,"comment_id":58484322,"body_markdown":"If you remove the listener after the first run you might get wrong dimensions: 02-14 10:18:53.786 15063-15063/PuzzleFragment: height: 1647 width: 996\n02-14 10:18:53.985 15063-15063/PuzzleFragment: height: 1500 width: 996","body":"If you remove the listener after the first run you might get wrong dimensions: 02-14 10:18:53.786 15063-15063/PuzzleFragment: height: 1647 width: 996 02-14 10:18:53.985 15063-15063/PuzzleFragment: height: 1500 width: 996"},{"owner":{"account_id":429857,"reputation":1736,"user_id":812973,"display_name":"gregn3"},"score":0,"creation_date":1505302994,"post_id":15578844,"comment_id":79355573,"body_markdown":"What is `container` ? Is it the same as `yourView` ? According to this [other question](https://stackoverflow.com/q/16189525/) , it is.","body":"What is <code>container</code> ? Is it the same as <code>yourView</code> ? According to this <a href=\"https://stackoverflow.com/q/16189525/\">other question</a> , it is."},{"owner":{"account_id":7319837,"reputation":781,"user_id":5576205,"display_name":"NotABot"},"score":0,"creation_date":1510640257,"post_id":15578844,"comment_id":81508311,"body_markdown":"This is best solution! Thanks","body":"This is best solution! Thanks"},{"owner":{"account_id":892451,"reputation":31936,"user_id":930450,"accept_rate":75,"display_name":"User"},"score":0,"creation_date":1528265988,"post_id":15578844,"comment_id":88435531,"body_markdown":"This appears to not always work. The `OnPreDrawListener` proposed in another answer works. On the other hand using `OnPreDrawListener` isn&#39;t a good solution...","body":"This appears to not always work. The <code>OnPreDrawListener</code> proposed in another answer works. On the other hand using <code>OnPreDrawListener</code> isn&#39;t a good solution..."}],"tags":[],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"comment_count":8,"down_vote_count":1,"up_vote_count":119,"is_accepted":false,"score":118,"last_activity_date":1505305960,"creation_date":1363982230,"answer_id":15578844,"question_id":3591784,"body_markdown":"I used this solution, which I think is better than onWindowFocusChanged(). If you open a DialogFragment, then rotate the phone, onWindowFocusChanged will be called only when the user closes the dialog):\r\n\r\n\r\n        yourView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n\r\n        \t@Override\r\n        \tpublic void onGlobalLayout() {\r\n    \t\t\t// Ensure you call it only once :\r\n    \t\t\tyourView.getViewTreeObserver().removeGlobalOnLayoutListener(this);\r\n\r\n        \t\t// Here you can get the size :)\r\n        \t}\r\n        });\r\n\r\nEdit : as removeGlobalOnLayoutListener is deprecated, you should now do :\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@Override\r\n    public void onGlobalLayout() {\r\n    \t\r\n        // Ensure you call it only once :\r\n    \tif(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n        \tyourView.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n    \t}\r\n    \telse {\r\n        \tyourView.getViewTreeObserver().removeGlobalOnLayoutListener(this);\r\n    \t}\r\n\r\n    \t// Here you can get the size :)\r\n    }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>I used this solution, which I think is better than onWindowFocusChanged(). If you open a DialogFragment, then rotate the phone, onWindowFocusChanged will be called only when the user closes the dialog):</p>\n\n<pre><code>    yourView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n\n        @Override\n        public void onGlobalLayout() {\n            // Ensure you call it only once :\n            yourView.getViewTreeObserver().removeGlobalOnLayoutListener(this);\n\n            // Here you can get the size :)\n        }\n    });\n</code></pre>\n\n<p>Edit : as removeGlobalOnLayoutListener is deprecated, you should now do :</p>\n\n<pre><code>@SuppressLint(\"NewApi\")\n@SuppressWarnings(\"deprecation\")\n@Override\npublic void onGlobalLayout() {\n\n    // Ensure you call it only once :\n    if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\n        yourView.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n    }\n    else {\n        yourView.getViewTreeObserver().removeGlobalOnLayoutListener(this);\n    }\n\n    // Here you can get the size :)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5300560,"reputation":19798,"user_id":4230345,"accept_rate":90,"display_name":"Farbod Salamat-Zadeh"},"score":7,"creation_date":1437670713,"post_id":23358330,"comment_id":51139178,"body_markdown":"For some reason, this was the only answer that worked for me - thanks!","body":"For some reason, this was the only answer that worked for me - thanks!"},{"owner":{"account_id":177445,"reputation":12795,"user_id":408780,"accept_rate":67,"display_name":"Tima"},"score":0,"creation_date":1487710940,"post_id":23358330,"comment_id":71904819,"body_markdown":"Same to me, the simplest solution, that worked to me","body":"Same to me, the simplest solution, that worked to me"},{"owner":{"account_id":4858699,"reputation":2624,"user_id":3919009,"display_name":"Gustavo Morales"},"score":0,"creation_date":1504100514,"post_id":23358330,"comment_id":78882540,"body_markdown":"Work like a charm!","body":"Work like a charm!"},{"owner":{"account_id":3745237,"reputation":7388,"user_id":3114032,"accept_rate":100,"display_name":"Aniruddha K.M"},"score":2,"creation_date":1546689101,"post_id":23358330,"comment_id":94937797,"body_markdown":"@CommonsWare how does this solution give the height and width before the view tree observer on global layouts callback, an explanation would be helpful.","body":"@CommonsWare how does this solution give the height and width before the view tree observer on global layouts callback, an explanation would be helpful."},{"owner":{"account_id":5693998,"reputation":2774,"user_id":4501068,"display_name":"Zero"},"score":0,"creation_date":1638698212,"post_id":23358330,"comment_id":124152479,"body_markdown":"It&#39;s 2021 this method solved my problem","body":"It&#39;s 2021 this method solved my problem"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1639521328,"post_id":23358330,"comment_id":124368918,"body_markdown":"Thanks! In my case `view.measure(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)` helped.","body":"Thanks! In my case <code>view.measure(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)</code> helped."},{"owner":{"account_id":5789181,"reputation":193,"user_id":4567333,"display_name":"RayaCoder"},"score":0,"creation_date":1641320268,"post_id":23358330,"comment_id":124773232,"body_markdown":"thank you, worked for me","body":"thank you, worked for me"},{"owner":{"account_id":4583701,"reputation":209,"user_id":3719104,"display_name":"Steve Marcus"},"score":0,"creation_date":1690271201,"post_id":23358330,"comment_id":135326099,"body_markdown":"This worked for me in 2023. Great","body":"This worked for me in 2023. Great"}],"tags":[],"owner":{"account_id":3770662,"reputation":1159,"user_id":3132972,"display_name":"sulu.dev"},"comment_count":8,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1398756693,"creation_date":1398756693,"answer_id":23358330,"question_id":3591784,"body_markdown":"If you need to get width of some widget before it is displayed on screen, you can use getMeasuredWidth() or getMeasuredHeight().\r\n\r\n    myImage.measure(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\r\n    int width = myImage.getMeasuredWidth();\r\n    int height = myImage.getMeasuredHeight();\r\n\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>If you need to get width of some widget before it is displayed on screen, you can use getMeasuredWidth() or getMeasuredHeight().</p>\n\n<pre><code>myImage.measure(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\nint width = myImage.getMeasuredWidth();\nint height = myImage.getMeasuredHeight();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1463558,"reputation":17385,"user_id":1377145,"accept_rate":69,"display_name":"Hugo Gresse"},"score":0,"creation_date":1417686823,"post_id":24035591,"comment_id":43047699,"body_markdown":"onLayout was the key for me to detect the display of my view and setting the height of it based on its new width :) \nI&#39;ve just added a flag to disable the called if not needed it anymore","body":"onLayout was the key for me to detect the display of my view and setting the height of it based on its new width :)  I&#39;ve just added a flag to disable the called if not needed it anymore"},{"owner":{"account_id":1505732,"reputation":6615,"user_id":1409132,"accept_rate":65,"display_name":"Psest328"},"score":2,"creation_date":1422481832,"post_id":24035591,"comment_id":44772227,"body_markdown":"I&#39;m using the view.post in a fragment.  I need to measure the view whose parent&#39;s height is 0dp and has a weight set.  Everything I try returns a height of zero (I&#39;ve also tried the global layout listener).  When I put the view.post code in onViewCreated with a delay of 125, it works, but not without the delay.  Ideas?","body":"I&#39;m using the view.post in a fragment.  I need to measure the view whose parent&#39;s height is 0dp and has a weight set.  Everything I try returns a height of zero (I&#39;ve also tried the global layout listener).  When I put the view.post code in onViewCreated with a delay of 125, it works, but not without the delay.  Ideas?"},{"owner":{"account_id":1470388,"reputation":808,"user_id":1382108,"display_name":"Matthias"},"score":10,"creation_date":1452965961,"post_id":24035591,"comment_id":57401661,"body_markdown":"too bad you can only upvote an answer once, really good explanation. I had a problem with a view rotation if I quit my app and restarted it from the recent apps. If I swiped it from there and did a fresh restart everything was fine. The view.post() saved my day!","body":"too bad you can only upvote an answer once, really good explanation. I had a problem with a view rotation if I quit my app and restarted it from the recent apps. If I swiped it from there and did a fresh restart everything was fine. The view.post() saved my day!"},{"owner":{"account_id":4933310,"reputation":144,"user_id":5485304,"display_name":"S. Alawadi"},"score":0,"creation_date":1454925509,"post_id":24035591,"comment_id":58244866,"body_markdown":"Great Solution , but the code inside onGlobalLayout ,, is called again and again and again .... why this happen ???","body":"Great Solution , but the code inside onGlobalLayout ,, is called again and again and again .... why this happen ???"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1454926638,"post_id":24035591,"comment_id":58245577,"body_markdown":"Its explained in the answer &quot;But beware that this will be called everytime something gets layouted (e.g if you set a view invisible or similar) so don&#39;t forget to remove this listener if you don&#39;t need it anymore with:&quot;","body":"Its explained in the answer &quot;But beware that this will be called everytime something gets layouted (e.g if you set a view invisible or similar) so don&#39;t forget to remove this listener if you don&#39;t need it anymore with:&quot;"},{"owner":{"account_id":5527711,"reputation":1107,"user_id":4388718,"accept_rate":73,"display_name":"koras"},"score":0,"creation_date":1460145763,"post_id":24035591,"comment_id":60623642,"body_markdown":"The second one is just perfect for me. I need one height only so it&#39;s the simplest way. Thanks, dude! :)","body":"The second one is just perfect for me. I need one height only so it&#39;s the simplest way. Thanks, dude! :)"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1470037541,"post_id":24035591,"comment_id":64765633,"body_markdown":"Thanks. I usually use View.post() (2nd method), but if it is called from a background thread it sometimes doesn&#39;t work. So, don&#39;t forget to write `runOnUiThread(new Runnable() {...}`. Currently I use a variation of the 1st method: `addOnLayoutChangeListener`. Don&#39;t forget to remove it then inside: removeOnLayoutChangeListener. It works from background thread as well.","body":"Thanks. I usually use View.post() (2nd method), but if it is called from a background thread it sometimes doesn&#39;t work. So, don&#39;t forget to write <code>runOnUiThread(new Runnable() {...}</code>. Currently I use a variation of the 1st method: <code>addOnLayoutChangeListener</code>. Don&#39;t forget to remove it then inside: removeOnLayoutChangeListener. It works from background thread as well."},{"owner":{"account_id":3824336,"reputation":1112,"user_id":3171509,"accept_rate":88,"display_name":"I&#39;m_With_Stupid"},"score":0,"creation_date":1497150000,"post_id":24035591,"comment_id":75954676,"body_markdown":"View.post() is some voodoo magic! Thank you, worked for me when trying to get the viewed width of a horizontalscrollview.","body":"View.post() is some voodoo magic! Thank you, worked for me when trying to get the viewed width of a horizontalscrollview."},{"owner":{"account_id":6214038,"reputation":185,"user_id":4839442,"display_name":"Adrian Buciuman"},"score":3,"creation_date":1505861101,"post_id":24035591,"comment_id":79583346,"body_markdown":"Unfortunately for me &#39;View.post()&#39; is not working all the time. I have 2 projects which are very similar. In one project it&#39;s working, on the other is  not working. :(. In both situation I call the method from &#39;onCreate()&#39; method from an Activity. Any suggestion why?","body":"Unfortunately for me &#39;View.post()&#39; is not working all the time. I have 2 projects which are very similar. In one project it&#39;s working, on the other is  not working. :(. In both situation I call the method from &#39;onCreate()&#39; method from an Activity. Any suggestion why?"},{"owner":{"account_id":6214038,"reputation":185,"user_id":4839442,"display_name":"Adrian Buciuman"},"score":4,"creation_date":1505861880,"post_id":24035591,"comment_id":79583572,"body_markdown":"I find the issue. In one project the view has `android:visibility=&quot;gone&quot;`, and on the other project the visibility property was`invisible`. If the visibility is `gone` the width will be always 0.","body":"I find the issue. In one project the view has <code>android:visibility=&quot;gone&quot;</code>, and on the other project the visibility property was<code>invisible</code>. If the visibility is <code>gone</code> the width will be always 0."},{"owner":{"account_id":8862722,"reputation":245394,"user_id":6618622,"display_name":"CopsOnRoad"},"score":0,"creation_date":1508069302,"post_id":24035591,"comment_id":80455134,"body_markdown":"You could also have added `onWindowFocusChanged()` as 5th option","body":"You could also have added <code>onWindowFocusChanged()</code> as 5th option"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1508069798,"post_id":24035591,"comment_id":80455276,"body_markdown":"@Jack I don&#39;t see onWindowFocusChanged() as a good solution because it only works with activities and not really the correct callback","body":"@Jack I don&#39;t see onWindowFocusChanged() as a good solution because it only works with activities and not really the correct callback"},{"owner":{"account_id":9086240,"reputation":224,"user_id":6764107,"display_name":"Chester Fung"},"score":0,"creation_date":1677344429,"post_id":24035591,"comment_id":133321013,"body_markdown":"@AdrianBuciuman. `Width = 0` for `gone` is correct. This is the same as inspected in the layout inspector. visibility gone would not render the view, it is completely hidden. It is impossible to get any height or width for &quot;gone&quot; view.","body":"@AdrianBuciuman. <code>Width = 0</code> for <code>gone</code> is correct. This is the same as inspected in the layout inspector. visibility gone would not render the view, it is completely hidden. It is impossible to get any height or width for &quot;gone&quot; view."}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":13,"down_vote_count":1,"up_vote_count":987,"is_accepted":false,"score":986,"last_activity_date":1679864189,"creation_date":1401879433,"answer_id":24035591,"question_id":3591784,"body_markdown":"The basic problem is, that you have to wait for the drawing phase for the actual measurements (especially with dynamic values like `wrap_content` or `match_parent`), but usually this phase hasn&#39;t been finished up to `onResume()`. So you need a workaround for waiting for this phase. There are different possible solutions to this:\r\n\r\n## 1. Listen to Draw/Layout Events: ViewTreeObserver\r\n\r\nA ViewTreeObserver gets fired for different drawing events. Usually the [`OnGlobalLayoutListener`][1] is what you want for getting the measurement, so the code in the listener will be called after the layout phase, so the measurements are ready:\r\n\r\n```java\r\nview.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n    @Override\r\n    public void onGlobalLayout() {\r\n        view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n        view.getHeight(); //height is ready\r\n    }\r\n});\r\n```\r\n\r\n*Note*: The listener will be immediately removed because otherwise it will fire on every layout event. If you have to support apps *SDK Level &lt; 16* use this to unregister the listener:\r\n\r\n```java\r\npublic void removeGlobalOnLayoutListener (ViewTreeObserver.OnGlobalLayoutListener victim)\r\n```\r\n\r\n## 2. Add a runnable to the layout queue: View.post()\r\n\r\nNot very well known and my favourite solution. Basically just use the View&#39;s post method with your own runnable. This basically queues your code *after* the view&#39;s measure, layout, etc. as stated by [Romain Guy][2]:\r\n\r\n&gt; The UI event queue will process events in order. After\r\n&gt; setContentView() is invoked, the event queue will contain a message\r\n&gt; asking for a relayout, so anything you post to the queue will happen\r\n&gt; after the layout pass\r\n\r\nExample:\r\n\r\n```java\r\nfinal View view=...;\r\n...\r\nview.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                view.getHeight(); //height is ready\r\n            }\r\n        });\r\n```\r\n\r\nThe advantage over `ViewTreeObserver`:\r\n\r\n- your code is only executed once, and you don&#39;t have to disable the Observer after execution which can be a hassle\r\n- less verbose syntax\r\n\r\nReferences:\r\n\r\n- https://stackoverflow.com/a/3602144/774398\r\n- https://stackoverflow.com/a/3948036/774398\r\n\r\n&lt;br /&gt;  \r\n\r\n## 3. Overwrite Views&#39;s onLayout Method\r\n\r\nThis is only practical in certain situation when the logic can be encapsulated in the view itself, otherwise this is a quite verbose and cumbersome syntax.\r\n\r\n```java\r\nview = new View(this) {\r\n    @Override\r\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n        super.onLayout(changed, l, t, r, b);\r\n        view.getHeight(); //height is ready\r\n    }\r\n};\r\n```\r\n\r\nAlso mind, that onLayout will be called many times, so be considerate what you do in the method, or disable your code after the first time\r\n\r\n## 4. Check if has been through layout phase\r\n\r\nIf you have code that is executing multiple times while creating the UI you could use the following support v4 lib method:\r\n\r\n```java\r\nView viewYouNeedHeightFrom = ...\r\n...\r\nif(ViewCompat.isLaidOut(viewYouNeedHeightFrom)) {\r\n   viewYouNeedHeightFrom.getHeight();\r\n}\r\n```\r\n\r\n&gt; Returns true if view has been through at least one layout since it was\r\n&gt; last attached to or detached from a window.\r\n\r\n## Additional: Getting statically defined measurements\r\n\r\nIf it suffices to just get the statically defined height/width, you can just do this with:\r\n\r\n- [`View.getMeasuredWidth()`][3]\r\n- [`View.getMeasuredHeigth()`][4]\r\n\r\nBut mind you, that this might be different to the actual width/height after drawing. The Javadoc describes the difference in more detail:\r\n\r\n&gt; The size of a view is expressed with a width and a height. A view\r\n&gt; actually possess two pairs of width and height values.\r\n&gt;\r\n&gt; The first pair is known as measured width and measured height. These\r\n&gt; dimensions define how big a view wants to be within its parent (see\r\n&gt; Layout for more details.) The measured dimensions can be obtained by\r\n&gt; calling getMeasuredWidth() and getMeasuredHeight().\r\n&gt;\r\n&gt; The second pair is simply known as width and height, or sometimes\r\n&gt; drawing width and drawing height. These dimensions define the actual\r\n&gt; size of the view on screen, at drawing time and after layout. These\r\n&gt; values may, but do not have to, be different from the measured width\r\n&gt; and height. The width and height can be obtained by calling getWidth()\r\n&gt; and getHeight().\r\n\r\n\r\n[1]: http://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener.html\r\n[2]: https://stackoverflow.com/users/298575/romain-guy\r\n[3]: http://developer.android.com/reference/android/view/View.html#getMeasuredWidth()\r\n[4]: http://developer.android.com/reference/android/view/View.html#getMeasuredHeight()","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>The basic problem is, that you have to wait for the drawing phase for the actual measurements (especially with dynamic values like <code>wrap_content</code> or <code>match_parent</code>), but usually this phase hasn't been finished up to <code>onResume()</code>. So you need a workaround for waiting for this phase. There are different possible solutions to this:</p>\n<h2>1. Listen to Draw/Layout Events: ViewTreeObserver</h2>\n<p>A ViewTreeObserver gets fired for different drawing events. Usually the <a href=\"http://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener.html\" rel=\"noreferrer\"><code>OnGlobalLayoutListener</code></a> is what you want for getting the measurement, so the code in the listener will be called after the layout phase, so the measurements are ready:</p>\n<pre class=\"lang-java prettyprint-override\"><code>view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n        view.getHeight(); //height is ready\n    }\n});\n</code></pre>\n<p><em>Note</em>: The listener will be immediately removed because otherwise it will fire on every layout event. If you have to support apps <em>SDK Level &lt; 16</em> use this to unregister the listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void removeGlobalOnLayoutListener (ViewTreeObserver.OnGlobalLayoutListener victim)\n</code></pre>\n<h2>2. Add a runnable to the layout queue: View.post()</h2>\n<p>Not very well known and my favourite solution. Basically just use the View's post method with your own runnable. This basically queues your code <em>after</em> the view's measure, layout, etc. as stated by <a href=\"https://stackoverflow.com/users/298575/romain-guy\">Romain Guy</a>:</p>\n<blockquote>\n<p>The UI event queue will process events in order. After\nsetContentView() is invoked, the event queue will contain a message\nasking for a relayout, so anything you post to the queue will happen\nafter the layout pass</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final View view=...;\n...\nview.post(new Runnable() {\n            @Override\n            public void run() {\n                view.getHeight(); //height is ready\n            }\n        });\n</code></pre>\n<p>The advantage over <code>ViewTreeObserver</code>:</p>\n<ul>\n<li>your code is only executed once, and you don't have to disable the Observer after execution which can be a hassle</li>\n<li>less verbose syntax</li>\n</ul>\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/3602144/774398\">https://stackoverflow.com/a/3602144/774398</a></li>\n<li><a href=\"https://stackoverflow.com/a/3948036/774398\">https://stackoverflow.com/a/3948036/774398</a></li>\n</ul>\n<br />  \n<h2>3. Overwrite Views's onLayout Method</h2>\n<p>This is only practical in certain situation when the logic can be encapsulated in the view itself, otherwise this is a quite verbose and cumbersome syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>view = new View(this) {\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        super.onLayout(changed, l, t, r, b);\n        view.getHeight(); //height is ready\n    }\n};\n</code></pre>\n<p>Also mind, that onLayout will be called many times, so be considerate what you do in the method, or disable your code after the first time</p>\n<h2>4. Check if has been through layout phase</h2>\n<p>If you have code that is executing multiple times while creating the UI you could use the following support v4 lib method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>View viewYouNeedHeightFrom = ...\n...\nif(ViewCompat.isLaidOut(viewYouNeedHeightFrom)) {\n   viewYouNeedHeightFrom.getHeight();\n}\n</code></pre>\n<blockquote>\n<p>Returns true if view has been through at least one layout since it was\nlast attached to or detached from a window.</p>\n</blockquote>\n<h2>Additional: Getting statically defined measurements</h2>\n<p>If it suffices to just get the statically defined height/width, you can just do this with:</p>\n<ul>\n<li><a href=\"http://developer.android.com/reference/android/view/View.html#getMeasuredWidth()\" rel=\"noreferrer\"><code>View.getMeasuredWidth()</code></a></li>\n<li><a href=\"http://developer.android.com/reference/android/view/View.html#getMeasuredHeight()\" rel=\"noreferrer\"><code>View.getMeasuredHeigth()</code></a></li>\n</ul>\n<p>But mind you, that this might be different to the actual width/height after drawing. The Javadoc describes the difference in more detail:</p>\n<blockquote>\n<p>The size of a view is expressed with a width and a height. A view\nactually possess two pairs of width and height values.</p>\n<p>The first pair is known as measured width and measured height. These\ndimensions define how big a view wants to be within its parent (see\nLayout for more details.) The measured dimensions can be obtained by\ncalling getMeasuredWidth() and getMeasuredHeight().</p>\n<p>The second pair is simply known as width and height, or sometimes\ndrawing width and drawing height. These dimensions define the actual\nsize of the view on screen, at drawing time and after layout. These\nvalues may, but do not have to, be different from the measured width\nand height. The width and height can be obtained by calling getWidth()\nand getHeight().</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":6,"creation_date":1532406760,"post_id":42950862,"comment_id":89949501,"body_markdown":"Note that `return false` means [*to **cancel** the current drawing pass*](https://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener.html#onPreDraw()). To proceed, `return true` instead.","body":"Note that <code>return false</code> means <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener.html#onPreDraw()\" rel=\"nofollow noreferrer\"><i>to <b>cancel</b> the current drawing pass</i></a>. To proceed, <code>return true</code> instead."}],"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1669030034,"creation_date":1490183537,"answer_id":42950862,"question_id":3591784,"body_markdown":"I would rather use [OnPreDrawListener()][1] instead of [addOnGlobalLayoutListener()][2], since it is called a bit earlier than other listeners. \r\n\r\n\r\n        view.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener()\r\n        {\r\n            @Override\r\n            public boolean onPreDraw()\r\n            {\r\n                if (view.getViewTreeObserver().isAlive())\r\n                    view.getViewTreeObserver().removeOnPreDrawListener(this);\r\n                \r\n                // put your code here\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener\r\n  [2]: https://developer.android.com/reference/android/view/ViewTreeObserver#addOnGlobalLayoutListener(android.view.ViewTreeObserver.OnGlobalLayoutListener)\r\n\r\nAdjusted the code according to comment of @Pang. onPreDraw method should return true to proceed with the current drawing pass.","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>I would rather use <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener\" rel=\"nofollow noreferrer\">OnPreDrawListener()</a> instead of <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver#addOnGlobalLayoutListener(android.view.ViewTreeObserver.OnGlobalLayoutListener)\" rel=\"nofollow noreferrer\">addOnGlobalLayoutListener()</a>, since it is called a bit earlier than other listeners.</p>\n<pre><code>    view.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener()\n    {\n        @Override\n        public boolean onPreDraw()\n        {\n            if (view.getViewTreeObserver().isAlive())\n                view.getViewTreeObserver().removeOnPreDrawListener(this);\n            \n            // put your code here\n            return true;\n        }\n    });\n</code></pre>\n<p>Adjusted the code according to comment of @Pang. onPreDraw method should return true to proceed with the current drawing pass.</p>\n"},{"tags":[],"owner":{"account_id":88834,"reputation":8981,"user_id":245495,"accept_rate":67,"display_name":"Odys"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514659122,"creation_date":1514659122,"answer_id":48036820,"question_id":3591784,"body_markdown":"One liner if you are using [RxJava][1] &amp; [RxBindings][2]. Similar approach without the boilerplate. This also solves the hack to suppress warnings as in the answer by [Tim Autin][3].\r\n\r\n    RxView.layoutChanges(yourView).take(1)\r\n          .subscribe(aVoid -&gt; {\r\n               // width and height have been calculated here\r\n          });\r\n\r\nThis is it. No need to be unsubscribe, even if never called.\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: https://github.com/JakeWharton/RxBinding\r\n  [3]: https://stackoverflow.com/a/15578844/245495","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>One liner if you are using <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">RxJava</a> &amp; <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"noreferrer\">RxBindings</a>. Similar approach without the boilerplate. This also solves the hack to suppress warnings as in the answer by <a href=\"https://stackoverflow.com/a/15578844/245495\">Tim Autin</a>.</p>\n\n<pre><code>RxView.layoutChanges(yourView).take(1)\n      .subscribe(aVoid -&gt; {\n           // width and height have been calculated here\n      });\n</code></pre>\n\n<p>This is it. No need to be unsubscribe, even if never called.</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1559630849,"creation_date":1534362648,"answer_id":51865494,"question_id":3591784,"body_markdown":"A Kotlin Extension to observe on the global layout and perform a given task when height is ready dynamically.\r\n\r\nUsage:\r\n\r\n    view.height { Log.i(&quot;Info&quot;, &quot;Here is your height:&quot; + it) }\r\n\r\nImplementation:\r\n\r\n\r\n    fun &lt;T : View&gt; T.height(function: (Int) -&gt; Unit) {\r\n        if (height == 0)\r\n            viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    function(height)\r\n                }\r\n            })\r\n        else function(height)\r\n    }\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>A Kotlin Extension to observe on the global layout and perform a given task when height is ready dynamically.</p>\n\n<p>Usage:</p>\n\n<pre><code>view.height { Log.i(\"Info\", \"Here is your height:\" + it) }\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>fun &lt;T : View&gt; T.height(function: (Int) -&gt; Unit) {\n    if (height == 0)\n        viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n            override fun onGlobalLayout() {\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n                function(height)\n            }\n        })\n    else function(height)\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5698345"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537683298,"creation_date":1537683298,"answer_id":52463512,"question_id":3591784,"body_markdown":"Gone views returns 0 as height if app in background.\r\nThis my code (1oo% works)\r\n\r\n    fun View.postWithTreeObserver(postJob: (View, Int, Int) -&gt; Unit) {\r\n        viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\r\n            override fun onGlobalLayout() {\r\n                val widthSpec = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n                val heightSpec = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n                measure(widthSpec, heightSpec)\r\n                postJob(this@postWithTreeObserver, measuredWidth, measuredHeight)\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN) {\r\n                    @Suppress(&quot;DEPRECATION&quot;)\r\n                    viewTreeObserver.removeGlobalOnLayoutListener(this)\r\n                } else {\r\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                }\r\n            }\r\n        })\r\n    }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Gone views returns 0 as height if app in background.\nThis my code (1oo% works)</p>\n\n<pre><code>fun View.postWithTreeObserver(postJob: (View, Int, Int) -&gt; Unit) {\n    viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n        override fun onGlobalLayout() {\n            val widthSpec = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n            val heightSpec = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n            measure(widthSpec, heightSpec)\n            postJob(this@postWithTreeObserver, measuredWidth, measuredHeight)\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN) {\n                @Suppress(\"DEPRECATION\")\n                viewTreeObserver.removeGlobalOnLayoutListener(this)\n            } else {\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n            }\n        }\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636028814,"creation_date":1548241042,"answer_id":54325641,"question_id":3591784,"body_markdown":"**If you are using Kotlin**\r\n\r\n\r\n      customView.viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\r\n    \r\n                override fun onGlobalLayout() {\r\n    \r\n                    if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n                        customView.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    }\r\n                    else {\r\n                        customView.viewTreeObserver.removeGlobalOnLayoutListener(this)\r\n                    }\r\n    \r\n                    // Here you can get the size :)\r\n                    viewWidth = customView.width\r\n                }\r\n            })\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p><strong>If you are using Kotlin</strong></p>\n<pre><code>  customView.viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n\n            override fun onGlobalLayout() {\n\n                if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\n                    customView.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                }\n                else {\n                    customView.viewTreeObserver.removeGlobalOnLayoutListener(this)\n                }\n\n                // Here you can get the size :)\n                viewWidth = customView.width\n            }\n        })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6953543,"reputation":978,"user_id":5335382,"display_name":"Shivam Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551968479,"creation_date":1551968479,"answer_id":55046045,"question_id":3591784,"body_markdown":"Height and width are zero because view has not been created by the time you are requesting it&#39;s height and width . \r\nOne simplest solution is \r\n\r\n    view.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                view.getHeight(); //height is ready\r\n                view.getWidth(); //width is ready\r\n            }\r\n        });\r\n\r\nThis method is good as compared to other methods as it is short and crisp.","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Height and width are zero because view has not been created by the time you are requesting it's height and width . \nOne simplest solution is </p>\n\n<pre><code>view.post(new Runnable() {\n        @Override\n        public void run() {\n            view.getHeight(); //height is ready\n            view.getWidth(); //width is ready\n        }\n    });\n</code></pre>\n\n<p>This method is good as compared to other methods as it is short and crisp.</p>\n"},{"tags":[],"owner":{"account_id":14460644,"reputation":2287,"user_id":10445540,"display_name":"Artem Botnev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552291580,"creation_date":1552291580,"answer_id":55097533,"question_id":3591784,"body_markdown":"We need to wait for view will be drawn. For this purpose use OnPreDrawListener. Kotlin example: \r\n\r\n    val preDrawListener = object : ViewTreeObserver.OnPreDrawListener {\r\n\r\n                    override fun onPreDraw(): Boolean {\r\n                        view.viewTreeObserver.removeOnPreDrawListener(this)\r\n\r\n                        // code which requires view size parameters\r\n\r\n                        return true\r\n                    }\r\n                }\r\n\r\n                view.viewTreeObserver.addOnPreDrawListener(preDrawListener)\r\n\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>We need to wait for view will be drawn. For this purpose use OnPreDrawListener. Kotlin example: </p>\n\n<pre><code>val preDrawListener = object : ViewTreeObserver.OnPreDrawListener {\n\n                override fun onPreDraw(): Boolean {\n                    view.viewTreeObserver.removeOnPreDrawListener(this)\n\n                    // code which requires view size parameters\n\n                    return true\n                }\n            }\n\n            view.viewTreeObserver.addOnPreDrawListener(preDrawListener)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267617,"reputation":1439,"user_id":555914,"display_name":"Pepijn"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565850375,"creation_date":1565788922,"answer_id":57495622,"question_id":3591784,"body_markdown":"Maybe this helps someone:\r\n\r\nCreate an extension function for the View class\r\n&gt; filename: ViewExt.kt\r\n\r\n    fun View.afterLayout(what: () -&gt; Unit) {\r\n        if(isLaidOut) {\r\n            what.invoke()\r\n        } else {\r\n            viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    what.invoke()\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\nThis can then be used on any view with:\r\n    \r\n    view.afterLayout {\r\n        do something with view.height\r\n    }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Maybe this helps someone:</p>\n\n<p>Create an extension function for the View class</p>\n\n<blockquote>\n  <p>filename: ViewExt.kt</p>\n</blockquote>\n\n<pre><code>fun View.afterLayout(what: () -&gt; Unit) {\n    if(isLaidOut) {\n        what.invoke()\n    } else {\n        viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n            override fun onGlobalLayout() {\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n                what.invoke()\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>This can then be used on any view with:</p>\n\n<pre><code>view.afterLayout {\n    do something with view.height\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":298411,"reputation":1336,"user_id":604421,"display_name":"hector6872"},"score":1,"creation_date":1579610931,"post_id":58012858,"comment_id":105816967,"body_markdown":"This is the only correct answer. https://android.googlesource.com/platform/frameworks/support/+/android-room-release/core/ktx/src/main/java/androidx/core/view/View.kt#65","body":"This is the only correct answer. <a href=\"https://android.googlesource.com/platform/frameworks/support/+/android-room-release/core/ktx/src/main/java/androidx/core/view/View.kt#65\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/&hellip;</a>"},{"owner":{"account_id":6664827,"reputation":1104,"user_id":5142776,"accept_rate":80,"display_name":"Ahmed na"},"score":1,"creation_date":1584158631,"post_id":58012858,"comment_id":107357780,"body_markdown":"these extensions are really important and useful","body":"these extensions are really important and useful"},{"owner":{"account_id":7022638,"reputation":58840,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"score":0,"creation_date":1641289571,"post_id":58012858,"comment_id":124760693,"body_markdown":"Thank you so much. it look like `doOnLayout` is better than `addOnGlobalLayoutListener`. In my case, I change the theme of application in a Fragment of ViewPager. After I changed the theme, `addOnGlobalLayoutListener` in `onViewCreated` of another Fragment fired and return 0. \nWith `doOnLayout`, this problem won&#39;t happened. `doOnLayout` is not fired until I come back to the Fragment","body":"Thank you so much. it look like <code>doOnLayout</code> is better than <code>addOnGlobalLayoutListener</code>. In my case, I change the theme of application in a Fragment of ViewPager. After I changed the theme, <code>addOnGlobalLayoutListener</code> in <code>onViewCreated</code> of another Fragment fired and return 0.  With <code>doOnLayout</code>, this problem won&#39;t happened. <code>doOnLayout</code> is not fired until I come back to the Fragment"}],"tags":[],"owner":{"account_id":3101138,"reputation":988,"user_id":2625236,"display_name":"Vlad"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1578583962,"creation_date":1568901936,"answer_id":58012858,"question_id":3591784,"body_markdown":"AndroidX has multiple extension functions that help you with this kind of work, inside `androidx.core.view`\n\nYou need to use Kotlin for this.\n\nThe one that best fits here is `doOnLayout`:\n\n&gt; Performs the given action when this view is laid out. If the view has been laid out and it has not requested a layout, the action will be performed straight away otherwise, the action will be performed after the view is next laid out.\n&gt;\n&gt;The action will only be invoked once on the next layout and then removed.\n\nIn your example:\n\n    bt.doOnLayout {\n        val ra = RotateAnimation(0,360,it.width / 2,it.height / 2)\n        // more code\n    }\n\n\nDependency: `androidx.core:core-ktx:1.0.0`","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>AndroidX has multiple extension functions that help you with this kind of work, inside <code>androidx.core.view</code></p>\n<p>You need to use Kotlin for this.</p>\n<p>The one that best fits here is <code>doOnLayout</code>:</p>\n<blockquote>\n<p>Performs the given action when this view is laid out. If the view has been laid out and it has not requested a layout, the action will be performed straight away otherwise, the action will be performed after the view is next laid out.</p>\n<p>The action will only be invoked once on the next layout and then removed.</p>\n</blockquote>\n<p>In your example:</p>\n<pre><code>bt.doOnLayout {\n    val ra = RotateAnimation(0,360,it.width / 2,it.height / 2)\n    // more code\n}\n</code></pre>\n<p>Dependency: <code>androidx.core:core-ktx:1.0.0</code></p>\n"},{"comments":[{"owner":{"account_id":1395119,"reputation":780,"user_id":1325048,"accept_rate":33,"display_name":"d.aemon"},"score":2,"creation_date":1584024827,"post_id":58791419,"comment_id":107314843,"body_markdown":"This isn&#39;t correct answer as the view might not be measured and laid out when the posted code executes. It would be an edge case, but `.post` doesn&#39;t guarantee the view to be laid out.","body":"This isn&#39;t correct answer as the view might not be measured and laid out when the posted code executes. It would be an edge case, but <code>.post</code> doesn&#39;t guarantee the view to be laid out."},{"owner":{"account_id":10379834,"reputation":3224,"user_id":12478830,"display_name":"MMG"},"score":1,"creation_date":1586921846,"post_id":58791419,"comment_id":108303925,"body_markdown":"This answer was great and worked for me. Thank you very much Ehsan","body":"This answer was great and worked for me. Thank you very much Ehsan"},{"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"score":1,"creation_date":1620475900,"post_id":58791419,"comment_id":119214849,"body_markdown":"Be careful that ```getWidth()``` is measured in **pixels**, not **dp**. I lost too much time with this little detail","body":"Be careful that <code>getWidth()</code> is measured in <b>pixels</b>, not <b>dp</b>. I lost too much time with this little detail"}],"tags":[],"owner":{"account_id":14109092,"reputation":1933,"user_id":10192418,"display_name":"Ehsan Nokandi"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573408498,"creation_date":1573408498,"answer_id":58791419,"question_id":3591784,"body_markdown":"It happens because the view needs more time to be inflated. So instead of calling `view.width` and `view.height` on the main thread, you should use `view.post { ... }` to make sure that your `view` has already been inflated. In Kotlin:\r\n\r\n\r\n    view.post{width}\r\n    view.post{height}\r\n\r\n\r\nIn Java you can also call `getWidth()` and `getHeight()` methods in a `Runnable` and pass the `Runnable` to `view.post()` method.\r\n\r\n    view.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                view.getWidth(); \r\n                view.getHeight();\r\n            }\r\n        });","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>It happens because the view needs more time to be inflated. So instead of calling <code>view.width</code> and <code>view.height</code> on the main thread, you should use <code>view.post { ... }</code> to make sure that your <code>view</code> has already been inflated. In Kotlin:</p>\n\n<pre><code>view.post{width}\nview.post{height}\n</code></pre>\n\n<p>In Java you can also call <code>getWidth()</code> and <code>getHeight()</code> methods in a <code>Runnable</code> and pass the <code>Runnable</code> to <code>view.post()</code> method.</p>\n\n<pre><code>view.post(new Runnable() {\n        @Override\n        public void run() {\n            view.getWidth(); \n            view.getHeight();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11565254,"reputation":179,"user_id":9706625,"display_name":"pavelperc"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1585254803,"creation_date":1585254803,"answer_id":60875668,"question_id":3591784,"body_markdown":"Answer with `post` is incorrect, because the size might not be recalculated.  \r\nAnother important thing is that **the view and all it ancestors must be visible**. For that I use a property `View.isShown`.\r\n\r\nHere is my kotlin function, that can be placed somewhere in utils:\r\n\r\n    fun View.onInitialized(onInit: () -&gt; Unit) {\r\n        viewTreeObserver.addOnGlobalLayoutListener(object : OnGlobalLayoutListener {\r\n            override fun onGlobalLayout() {\r\n                if (isShown) {\r\n                    viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    onInit()\r\n                }\r\n            }\r\n        })\r\n    }\r\nAnd the usage is:\r\n\r\n    myView.onInitialized {\r\n        Log.d(TAG, &quot;width is: &quot; + myView.width)\r\n    }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Answer with <code>post</code> is incorrect, because the size might not be recalculated.<br>\nAnother important thing is that <strong>the view and all it ancestors must be visible</strong>. For that I use a property <code>View.isShown</code>.</p>\n\n<p>Here is my kotlin function, that can be placed somewhere in utils:</p>\n\n<pre><code>fun View.onInitialized(onInit: () -&gt; Unit) {\n    viewTreeObserver.addOnGlobalLayoutListener(object : OnGlobalLayoutListener {\n        override fun onGlobalLayout() {\n            if (isShown) {\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n                onInit()\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>And the usage is:</p>\n\n<pre><code>myView.onInitialized {\n    Log.d(TAG, \"width is: \" + myView.width)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19304736,"reputation":226,"user_id":14111809,"display_name":"Matt Grier"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606869352,"creation_date":1606846727,"answer_id":65096234,"question_id":3591784,"body_markdown":"This is a little old, but was having trouble with this myself (needing to animate objects in a fragment when it is created).  This solution worked for me, I believe it is self explanatory.\r\n\r\n   \r\n\r\n    class YourFragment: Fragment() {\r\n        var width = 0\r\n        var height = 0\r\n\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        val root = inflater.inflate(R.layout.fragment_winner_splash, container, false)\r\n        container?.width.let {\r\n            if (it != null) {\r\n                width = it\r\n            }\r\n        }\r\n        container?.height.let {\r\n            if (it != null) {\r\n                height = it\r\n            }\r\n        }\r\n        \r\n        return root\r\n    }\r\n     \r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>This is a little old, but was having trouble with this myself (needing to animate objects in a fragment when it is created).  This solution worked for me, I believe it is self explanatory.</p>\n<pre><code>class YourFragment: Fragment() {\n    var width = 0\n    var height = 0\n\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    // Inflate the layout for this fragment\n    val root = inflater.inflate(R.layout.fragment_winner_splash, container, false)\n    container?.width.let {\n        if (it != null) {\n            width = it\n        }\n    }\n    container?.height.let {\n        if (it != null) {\n            height = it\n        }\n    }\n    \n    return root\n}\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21305491,"reputation":343,"user_id":15680797,"display_name":"D. Kupra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623895293,"creation_date":1623895293,"answer_id":68011952,"question_id":3591784,"body_markdown":"If you&#39;re worried about overworking the onDraw method, you can always set the dimension as null during construction and then only set the dimension inside of onDraw if it&#39;s null. \r\n\r\nThat way you&#39;re not really doing any work inside onDraw\r\n\r\n    class myView(context:Context,attr:AttributeSet?):View(context,attr){\r\n    var height:Float?=null\r\n\r\n\r\n    override fun onDraw(canvas:Canvas){\r\n        if (height==null){height=this.height.toFloat()}\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>If you're worried about overworking the onDraw method, you can always set the dimension as null during construction and then only set the dimension inside of onDraw if it's null.</p>\n<p>That way you're not really doing any work inside onDraw</p>\n<pre><code>class myView(context:Context,attr:AttributeSet?):View(context,attr){\nvar height:Float?=null\n\n\noverride fun onDraw(canvas:Canvas){\n    if (height==null){height=this.height.toFloat()}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646743278,"creation_date":1626370108,"answer_id":68398322,"question_id":3591784,"body_markdown":"well , you can use `addOnLayoutChangeListener`\r\n\r\nyou can use it in `onCreate` in `Activity`  or `onCreateView` in `Fragment`\r\n\r\n@Edit\r\ndont forget to remove it because in some cases its trigger infinite loop\r\n\r\n```kotlin\r\n\r\nmyView.addOnLayoutChangeListener(object : View.OnLayoutChangeListener{\r\n                override fun onLayoutChange(\r\n                    v: View?, left: Int, top: Int, right: Int, bottom: Int, oldLeft: Int, oldTop: Int, oldRight: Int, oldBottom: Int\r\n                ) {\r\n                    if (v?.width &gt; 0 &amp;&amp; v?.height &gt; 0){\r\n                        // do something\r\n                        Log.i(TAG, &quot;view : ${view.width}&quot;)\r\n                        // remove after finish\r\n                        v?.removeOnLayoutChangeListener(this) \r\n                    }\r\n                }\r\n            })\r\n\r\n```","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>well , you can use <code>addOnLayoutChangeListener</code></p>\n<p>you can use it in <code>onCreate</code> in <code>Activity</code>  or <code>onCreateView</code> in <code>Fragment</code></p>\n<p>@Edit\ndont forget to remove it because in some cases its trigger infinite loop</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nmyView.addOnLayoutChangeListener(object : View.OnLayoutChangeListener{\n                override fun onLayoutChange(\n                    v: View?, left: Int, top: Int, right: Int, bottom: Int, oldLeft: Int, oldTop: Int, oldRight: Int, oldBottom: Int\n                ) {\n                    if (v?.width &gt; 0 &amp;&amp; v?.height &gt; 0){\n                        // do something\n                        Log.i(TAG, &quot;view : ${view.width}&quot;)\n                        // remove after finish\n                        v?.removeOnLayoutChangeListener(this) \n                    }\n                }\n            })\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6404158,"reputation":1382,"user_id":4965949,"display_name":"Mahmoud Mabrok"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1645981723,"creation_date":1645981723,"answer_id":71286810,"question_id":3591784,"body_markdown":"# For Kotlin: \r\nI have faced a production crash due to use `view.height`/ `view.width` which lead to `NaN` while I was using `View.post()` which sometimes view diemsions returned with 0 value. \r\n\r\nSo,\r\n\r\nUse `view.doOnPreDraw { // your action here}` which is: \r\n - `OneShotPreDrawListener` so it called only one time. \r\n - Implements `OnPreDrawListener` which make sure view is layouted and measured ","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<h1>For Kotlin:</h1>\n<p>I have faced a production crash due to use <code>view.height</code>/ <code>view.width</code> which lead to <code>NaN</code> while I was using <code>View.post()</code> which sometimes view diemsions returned with 0 value.</p>\n<p>So,</p>\n<p>Use <code>view.doOnPreDraw { // your action here}</code> which is:</p>\n<ul>\n<li><code>OneShotPreDrawListener</code> so it called only one time.</li>\n<li>Implements <code>OnPreDrawListener</code> which make sure view is layouted and measured</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":461324,"reputation":749,"user_id":862946,"accept_rate":100,"display_name":"Charliemops"},"score":0,"creation_date":1656338731,"post_id":72769785,"comment_id":128540847,"body_markdown":"First, your answer is an own opinion. In addition, a good and accepted answer was given 8 years ago. Therefore, your answer is unnecessary.","body":"First, your answer is an own opinion. In addition, a good and accepted answer was given 8 years ago. Therefore, your answer is unnecessary."},{"owner":{"account_id":20636238,"reputation":113,"user_id":15149850,"display_name":"Warm Man"},"score":0,"creation_date":1656404337,"post_id":72769785,"comment_id":128557289,"body_markdown":"Thank you for your advice.  I try to solve my problem with the above best answer. But it did not work.  So I Offered another possibility.","body":"Thank you for your advice.  I try to solve my problem with the above best answer. But it did not work.  So I Offered another possibility."}],"tags":[],"owner":{"account_id":20636238,"reputation":113,"user_id":15149850,"display_name":"Warm Man"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656322013,"creation_date":1656322013,"answer_id":72769785,"question_id":3591784,"body_markdown":"In my case, I can&#39;t get a view&#39;s height by post or by addOnGlobalLayoutListener, it&#39;s always 0. Because my view is in a fragment, and the fragment is the second tab in MainActivity. when I open MainActivity, I enter the first tab, so the second tab doesn&#39;t show on the screen. But onGlobalLayout() or post() function still has a callback.\r\n\r\nI get the view&#39;s height when the second fragment is visible on the screen. And this time I get the correct height.","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>In my case, I can't get a view's height by post or by addOnGlobalLayoutListener, it's always 0. Because my view is in a fragment, and the fragment is the second tab in MainActivity. when I open MainActivity, I enter the first tab, so the second tab doesn't show on the screen. But onGlobalLayout() or post() function still has a callback.</p>\n<p>I get the view's height when the second fragment is visible on the screen. And this time I get the correct height.</p>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661344638,"creation_date":1661344638,"answer_id":73473319,"question_id":3591784,"body_markdown":"Usage:\r\n```\r\nimageView.size { width, height -&gt;\r\n            //your code\r\n        }\r\n```\r\nView extention:\r\n```\r\n\r\nfun &lt;T : View&gt; T.size(function: (Int, Int) -&gt; Unit) {\r\n    if (isLaidOut &amp;&amp; height != 0 &amp;&amp; width != 0) {\r\n        function(width, height)\r\n    } else {\r\n        if (height == 0 || width == 0) {\r\n            var onLayoutChangeListener: View.OnLayoutChangeListener? = null\r\n            var onGlobalLayoutListener: ViewTreeObserver.OnGlobalLayoutListener? = null\r\n\r\n            onGlobalLayoutListener = object : ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    if (isShown) {\r\n                        removeOnLayoutChangeListener(onLayoutChangeListener)\r\n                        viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                        function(width, height)\r\n                    }\r\n                }\r\n            }\r\n\r\n            onLayoutChangeListener = object : View.OnLayoutChangeListener {\r\n                override fun onLayoutChange(\r\n                    v: View?,\r\n                    left: Int,\r\n                    top: Int,\r\n                    right: Int,\r\n                    bottom: Int,\r\n                    oldLeft: Int,\r\n                    oldTop: Int,\r\n                    oldRight: Int,\r\n                    oldBottom: Int\r\n                ) {\r\n                    val width = v?.width ?: 0\r\n                    val height = v?.height ?: 0\r\n                    if (width &gt; 0 &amp;&amp; height &gt; 0) {\r\n                        // remove after finish\r\n                        viewTreeObserver.removeOnGlobalLayoutListener(onGlobalLayoutListener)\r\n                        v?.removeOnLayoutChangeListener(this)\r\n                        function(width, height)\r\n                    }\r\n                }\r\n            }\r\n\r\n            viewTreeObserver.addOnGlobalLayoutListener(onGlobalLayoutListener)\r\n            addOnLayoutChangeListener(onLayoutChangeListener)\r\n        } else {\r\n            function(width, height)\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Usage:</p>\n<pre><code>imageView.size { width, height -&gt;\n            //your code\n        }\n</code></pre>\n<p>View extention:</p>\n<pre><code>\nfun &lt;T : View&gt; T.size(function: (Int, Int) -&gt; Unit) {\n    if (isLaidOut &amp;&amp; height != 0 &amp;&amp; width != 0) {\n        function(width, height)\n    } else {\n        if (height == 0 || width == 0) {\n            var onLayoutChangeListener: View.OnLayoutChangeListener? = null\n            var onGlobalLayoutListener: ViewTreeObserver.OnGlobalLayoutListener? = null\n\n            onGlobalLayoutListener = object : ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    if (isShown) {\n                        removeOnLayoutChangeListener(onLayoutChangeListener)\n                        viewTreeObserver.removeOnGlobalLayoutListener(this)\n                        function(width, height)\n                    }\n                }\n            }\n\n            onLayoutChangeListener = object : View.OnLayoutChangeListener {\n                override fun onLayoutChange(\n                    v: View?,\n                    left: Int,\n                    top: Int,\n                    right: Int,\n                    bottom: Int,\n                    oldLeft: Int,\n                    oldTop: Int,\n                    oldRight: Int,\n                    oldBottom: Int\n                ) {\n                    val width = v?.width ?: 0\n                    val height = v?.height ?: 0\n                    if (width &gt; 0 &amp;&amp; height &gt; 0) {\n                        // remove after finish\n                        viewTreeObserver.removeOnGlobalLayoutListener(onGlobalLayoutListener)\n                        v?.removeOnLayoutChangeListener(this)\n                        function(width, height)\n                    }\n                }\n            }\n\n            viewTreeObserver.addOnGlobalLayoutListener(onGlobalLayoutListener)\n            addOnLayoutChangeListener(onLayoutChangeListener)\n        } else {\n            function(width, height)\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26400435,"reputation":1,"user_id":20050985,"display_name":"M&#252;rsel ŞAHİN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752962,"creation_date":1663752962,"answer_id":73798553,"question_id":3591784,"body_markdown":"    public final class ViewUtils {\r\n    \r\n        public interface ViewUtilsListener {\r\n            void onDrawCompleted();\r\n        }\r\n    \r\n        private ViewUtils() {\r\n        }\r\n    \r\n        public static void onDraw(View view, ViewUtilsListener listener) {\r\n            view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n                @Override\r\n                public void onGlobalLayout() {\r\n                    if (view.getHeight() != 0 &amp;&amp; view.getWidth() != 0) {\r\n                        if (listener != null) {\r\n                            listener.onDrawCompleted();\r\n                        }\r\n                        view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nyou can use like this ;\r\n\r\n    ViewUtils.onDraw(view, new ViewUtils.ViewUtilsListener() {\r\n                    @Override\r\n                    public void onDrawCompleted() {\r\n                        int width = view.getWidth();\r\n                        int height = view.getHeight();\r\n                    }\r\n                });\r\n\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<pre><code>public final class ViewUtils {\n\n    public interface ViewUtilsListener {\n        void onDrawCompleted();\n    }\n\n    private ViewUtils() {\n    }\n\n    public static void onDraw(View view, ViewUtilsListener listener) {\n        view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n                if (view.getHeight() != 0 &amp;&amp; view.getWidth() != 0) {\n                    if (listener != null) {\n                        listener.onDrawCompleted();\n                    }\n                    view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>you can use like this ;</p>\n<pre><code>ViewUtils.onDraw(view, new ViewUtils.ViewUtilsListener() {\n                @Override\n                public void onDrawCompleted() {\n                    int width = view.getWidth();\n                    int height = view.getHeight();\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18779513,"reputation":1070,"user_id":13694485,"display_name":"PRANAV SINGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666337443,"creation_date":1666337443,"answer_id":74150160,"question_id":3591784,"body_markdown":"Cleanest way of doing this is using post method of view : \r\n\r\nkotlin: \r\n  \r\n\r\n      view.post{\r\n          var width = view.width\r\n          var height = view.height\r\n      }\r\n\r\nJava: \r\n\r\n    view.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            int width = view.getWidth();\r\n            int height = view.getHeight();\r\n        }\r\n    });\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Cleanest way of doing this is using post method of view :</p>\n<p>kotlin:</p>\n<pre><code>  view.post{\n      var width = view.width\n      var height = view.height\n  }\n</code></pre>\n<p>Java:</p>\n<pre><code>view.post(new Runnable() {\n    @Override\n    public void run() {\n        int width = view.getWidth();\n        int height = view.getHeight();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5060872,"reputation":77,"user_id":4062512,"display_name":"dma123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676325562,"creation_date":1676325562,"answer_id":75441610,"question_id":3591784,"body_markdown":"        private val getWidth: Int\r\n        get() {\r\n            if (Build.VERSION.SDK_INT &gt;= 30) {\r\n                val windowMetrics =windowManager.currentWindowMetrics\r\n                val bounds = windowMetrics.bounds\r\n                var adWidthPixels = View.width.toFloat()\r\n                if (adWidthPixels == 0f) {\r\n                    adWidthPixels = bounds.width().toFloat()\r\n                }\r\n                val density = resources.displayMetrics.density\r\n                val adWidth = (adWidthPixels / density).toInt()\r\n                return adWidth\r\n            } else {\r\n                val display = windowManager.defaultDisplay\r\n                val outMetrics = DisplayMetrics()\r\n                display.getMetrics(outMetrics)\r\n                val density = outMetrics.density\r\n                var adWidthPixels = View.width.toFloat()\r\n                if (adWidthPixels == 0f) {\r\n                    adWidthPixels = outMetrics.widthPixels.toFloat()\r\n                }\r\n                val adWidth = (adWidthPixels / density).toInt()\r\n                return adWidth\r\n            }\r\n        }\r\n\r\nreplace (View) with the view you want to measure\r\n\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<pre><code>    private val getWidth: Int\n    get() {\n        if (Build.VERSION.SDK_INT &gt;= 30) {\n            val windowMetrics =windowManager.currentWindowMetrics\n            val bounds = windowMetrics.bounds\n            var adWidthPixels = View.width.toFloat()\n            if (adWidthPixels == 0f) {\n                adWidthPixels = bounds.width().toFloat()\n            }\n            val density = resources.displayMetrics.density\n            val adWidth = (adWidthPixels / density).toInt()\n            return adWidth\n        } else {\n            val display = windowManager.defaultDisplay\n            val outMetrics = DisplayMetrics()\n            display.getMetrics(outMetrics)\n            val density = outMetrics.density\n            var adWidthPixels = View.width.toFloat()\n            if (adWidthPixels == 0f) {\n                adWidthPixels = outMetrics.widthPixels.toFloat()\n            }\n            val adWidth = (adWidthPixels / density).toInt()\n            return adWidth\n        }\n    }\n</code></pre>\n<p>replace (View) with the view you want to measure</p>\n"},{"tags":[],"owner":{"account_id":2869366,"reputation":16311,"user_id":2463035,"accept_rate":84,"display_name":"Vasiliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401897,"creation_date":1679401897,"answer_id":75801252,"question_id":3591784,"body_markdown":"Just came around this old question. Basically, the solution is to wait for the View to be measured and &quot;drawn&quot;. You can achieve that by implementing some late lifecycle callback (e.g. `onGlobalLayout`), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.\r\n\r\nThe caveat here is that you mustn&#39;t block the UI thread while waitig. It&#39;s very easy to achieve if you use Kotlin Coroutines:\r\n\r\n```\r\noverride fun onStart() {\r\n        super.onStart()\r\n       \r\n        coroutineScope.launch {\r\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\r\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\r\n                delay(50)\r\n            }\r\n\r\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\r\n                data, imgBarcode.width, imgBarcode.height\r\n            )\r\n\r\n            imgBarcode.setImageBitmap(barcodeBitmap)\r\n        }\r\n    }\r\n```\r\n\r\nIf you don&#39;t use Coroutines, you&#39;ll need to use e.g. `Handler.postDelayed()` calls to implement the same feature.","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>Just came around this old question. Basically, the solution is to wait for the View to be measured and &quot;drawn&quot;. You can achieve that by implementing some late lifecycle callback (e.g. <code>onGlobalLayout</code>), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.</p>\n<p>The caveat here is that you mustn't block the UI thread while waitig. It's very easy to achieve if you use Kotlin Coroutines:</p>\n<pre><code>override fun onStart() {\n        super.onStart()\n       \n        coroutineScope.launch {\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\n                delay(50)\n            }\n\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\n                data, imgBarcode.width, imgBarcode.height\n            )\n\n            imgBarcode.setImageBitmap(barcodeBitmap)\n        }\n    }\n</code></pre>\n<p>If you don't use Coroutines, you'll need to use e.g. <code>Handler.postDelayed()</code> calls to implement the same feature.</p>\n"},{"tags":[],"owner":{"account_id":19812456,"reputation":1189,"user_id":14510925,"display_name":"Владислав Шестернин"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695158721,"creation_date":1680789845,"answer_id":75950432,"question_id":3591784,"body_markdown":"\r\n1. Set *layoutParams*:\r\n              \r\n       view.layoutParams = ViewGroup.LayoutParams(0, 0)\r\n\r\n2. In the *doOnLayout* method you can get the size of the view:           \r\n    \r\n    \r\n       view.doOnLayout { view -&gt; view.width | view.height }\r\n","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<ol>\n<li><p>Set <em>layoutParams</em>:</p>\n<pre><code>view.layoutParams = ViewGroup.LayoutParams(0, 0)\n</code></pre>\n</li>\n<li><p>In the <em>doOnLayout</em> method you can get the size of the view:</p>\n<pre><code>view.doOnLayout { view -&gt; view.width | view.height }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":53659,"reputation":8118,"user_id":160463,"accept_rate":93,"display_name":"ngreenwood6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412755,"favorite_count":0,"down_vote_count":2,"up_vote_count":616,"accepted_answer_id":3594216,"answer_count":28,"score":614,"last_activity_date":1695158721,"creation_date":1283017622,"question_id":3591784,"body_markdown":"I am creating all of the elements in my android project dynamically. I am trying to get the width and height of a button so that I can rotate that button around. I am just trying to learn how to work with the android language. However, it returns 0. \r\n\r\nI did some research and I saw that it needs to be done somewhere other than in the `onCreate()` method. If someone can give me an example of how to do it, that would be great. \r\n\r\nHere is my current code:\r\n\r\n    package com.animation;\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.LinearInterpolator;\r\n    import android.view.animation.RotateAnimation;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n\r\n    public class AnimateScreen extends Activity {\r\n \r\n\r\n    //Called when the activity is first created.\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        LinearLayout ll = new LinearLayout(this);\r\n        \r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n        layoutParams.setMargins(30, 20, 30, 0);\r\n\r\n        Button bt = new Button(this);\r\n        bt.setText(String.valueOf(bt.getWidth()));\r\n       \r\n        RotateAnimation ra = new RotateAnimation(0,360,bt.getWidth() / 2,bt.getHeight() / 2);\r\n        ra.setDuration(3000L);\r\n        ra.setRepeatMode(Animation.RESTART);\r\n        ra.setRepeatCount(Animation.INFINITE);\r\n        ra.setInterpolator(new LinearInterpolator());\r\n\r\n        bt.startAnimation(ra);\r\n        \r\n        ll.addView(bt,layoutParams);\r\n        \r\n        setContentView(ll);\r\n    }","title":"View&#39;s getWidth() and getHeight() returns 0","body":"<p>I am creating all of the elements in my android project dynamically. I am trying to get the width and height of a button so that I can rotate that button around. I am just trying to learn how to work with the android language. However, it returns 0.</p>\n<p>I did some research and I saw that it needs to be done somewhere other than in the <code>onCreate()</code> method. If someone can give me an example of how to do it, that would be great.</p>\n<p>Here is my current code:</p>\n<pre><code>package com.animation;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.animation.Animation;\nimport android.view.animation.LinearInterpolator;\nimport android.view.animation.RotateAnimation;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\n\npublic class AnimateScreen extends Activity {\n\n\n//Called when the activity is first created.\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    LinearLayout ll = new LinearLayout(this);\n    \n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n    layoutParams.setMargins(30, 20, 30, 0);\n\n    Button bt = new Button(this);\n    bt.setText(String.valueOf(bt.getWidth()));\n   \n    RotateAnimation ra = new RotateAnimation(0,360,bt.getWidth() / 2,bt.getHeight() / 2);\n    ra.setDuration(3000L);\n    ra.setRepeatMode(Animation.RESTART);\n    ra.setRepeatCount(Animation.INFINITE);\n    ra.setInterpolator(new LinearInterpolator());\n\n    bt.startAnimation(ra);\n    \n    ll.addView(bt,layoutParams);\n    \n    setContentView(ll);\n}\n</code></pre>\n"},{"tags":["java","textures","libgdx"],"comments":[{"owner":{"account_id":1883453,"reputation":4644,"user_id":1703140,"accept_rate":68,"display_name":"julian"},"score":0,"creation_date":1388071571,"post_id":20786635,"comment_id":31159854,"body_markdown":"Maybe try to use the `.setFilter` on all the image and then load the specific one.","body":"Maybe try to use the <code>.setFilter</code> on all the image and then load the specific one."}],"answers":[{"comments":[{"owner":{"account_id":246215,"reputation":16969,"user_id":520229,"accept_rate":67,"display_name":"mrzli"},"score":1,"creation_date":1388103164,"post_id":20787714,"comment_id":31170763,"body_markdown":"@AntonSobolev You mean this does not work for you? Can you elaborate a bit more?","body":"@AntonSobolev You mean this does not work for you? Can you elaborate a bit more?"}],"tags":[],"owner":{"account_id":246215,"reputation":16969,"user_id":520229,"accept_rate":67,"display_name":"mrzli"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388076334,"creation_date":1388074290,"answer_id":20787714,"question_id":20786635,"body_markdown":"Your last line should be:\r\n\r\n    Sprite mySprite = new Sprite(texReg);\r\n\r\nTexture can represent a single image or multiple images (texture atlas). When there are multiple images, each is location in its texture region. You can only apply filtering to the entire texture and therefore all the images in it. If you want to apply it only to a single image, it needs to be in a separate texture.\r\n\r\nSo here is what you were doing with your code:\r\n\r\n    // get the image for your game (or whatever) object\r\n    TextureRegion texReg = textureAtl.findRegion(&quot;myImage&quot;);\r\n    // get the texture that is the &#39;container&#39; of the image you want\r\n    Texture myTexture = new Texture(texReg.getTexture());\r\n    // apply filtering to the entire texture and all the images\r\n    myTexture.setFilter(TextureFilter.Linear, TextureFilter.Linear);\r\n    // set the entire texture as the image for your sprite (instead of only a single region)\r\n    Sprite mySprite = new Sprite(myTexture);","title":"Libgdx texture region to texture","body":"<p>Your last line should be:</p>\n\n<pre><code>Sprite mySprite = new Sprite(texReg);\n</code></pre>\n\n<p>Texture can represent a single image or multiple images (texture atlas). When there are multiple images, each is location in its texture region. You can only apply filtering to the entire texture and therefore all the images in it. If you want to apply it only to a single image, it needs to be in a separate texture.</p>\n\n<p>So here is what you were doing with your code:</p>\n\n<pre><code>// get the image for your game (or whatever) object\nTextureRegion texReg = textureAtl.findRegion(\"myImage\");\n// get the texture that is the 'container' of the image you want\nTexture myTexture = new Texture(texReg.getTexture());\n// apply filtering to the entire texture and all the images\nmyTexture.setFilter(TextureFilter.Linear, TextureFilter.Linear);\n// set the entire texture as the image for your sprite (instead of only a single region)\nSprite mySprite = new Sprite(myTexture);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1695158659,"post_id":76818958,"comment_id":135985985,"body_markdown":"If you copied parts of this answer from ChatGPT, you must disclose which part was copied. Please read https://stackoverflow.com/help/referencing","body":"If you copied parts of this answer from ChatGPT, you must disclose which part was copied. Please read <a href=\"https://stackoverflow.com/help/referencing\">stackoverflow.com/help/referencing</a>"}],"tags":[],"owner":{"account_id":19812456,"reputation":1189,"user_id":14510925,"display_name":"Владислав Шестернин"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695158592,"creation_date":1690971975,"answer_id":76818958,"question_id":20786635,"body_markdown":"Use Pixmap\r\n-\r\n---\r\n\r\n    fun TextureRegion.toTexture(): Texture {\r\n        val pixmap = Pixmap(regionWidth, regionHeight, Pixmap.Format.RGBA8888)\r\n    \r\n        if (texture.textureData.isPrepared.not()) texture.textureData.prepare()\r\n        val texturePixmap = texture.textureData.consumePixmap()\r\n\r\n        pixmap.drawPixmap(texturePixmap, 0, 0, regionX, regionY, regionWidth, regionHeight)\r\n\r\n        val newTexture = Texture(pixmap)\r\n\r\n        texturePixmap.dispose()\r\n        pixmap.dispose()\r\n\r\n        return newTexture\r\n    }\r\n----\r\n\r\n&gt; Don&#39;t forget to **dispose** the **texture | pixmap!**\r\n\r\n---\r\n\r\nBe careful with **pixmap.dispose()**. If you use a texture bitmap after this conversion and convert that texture again, you may encounter memory errors. The solution is to simply pass the flag to use **pixmap.dispose()** or not.\r\n","title":"Libgdx texture region to texture","body":"<h2>Use Pixmap</h2>\n<hr />\n<pre><code>fun TextureRegion.toTexture(): Texture {\n    val pixmap = Pixmap(regionWidth, regionHeight, Pixmap.Format.RGBA8888)\n\n    if (texture.textureData.isPrepared.not()) texture.textureData.prepare()\n    val texturePixmap = texture.textureData.consumePixmap()\n\n    pixmap.drawPixmap(texturePixmap, 0, 0, regionX, regionY, regionWidth, regionHeight)\n\n    val newTexture = Texture(pixmap)\n\n    texturePixmap.dispose()\n    pixmap.dispose()\n\n    return newTexture\n}\n</code></pre>\n<hr />\n<blockquote>\n<p>Don't forget to <strong>dispose</strong> the <strong>texture | pixmap!</strong></p>\n</blockquote>\n<hr />\n<p>Be careful with <strong>pixmap.dispose()</strong>. If you use a texture bitmap after this conversion and convert that texture again, you may encounter memory errors. The solution is to simply pass the flag to use <strong>pixmap.dispose()</strong> or not.</p>\n"}],"owner":{"account_id":1130111,"reputation":135,"user_id":1116410,"accept_rate":27,"display_name":"Anton Sobolev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10315,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695158592,"creation_date":1388068806,"question_id":20786635,"body_markdown":"I want to use `setFilter(TextureFilter.Linear, TextureFilter.Linear);` on my image, taken from textureAtlas. when I use \r\n\r\n    TextureRegion texReg = textureAtl.findRegion(&quot;myImage&quot;);\r\n    Sprite = new Sprite(texReg);\r\nit&#39;s works fine, but if i try\r\n\r\n    TextureRegion texReg = textureAtl.findRegion(&quot;myImage&quot;);\r\n    Texture myTexture = new Texture(texReg.getTexture());\r\n    myTexture.setFilter(TextureFilter.Linear, TextureFilter.Linear);\r\n    Sprite mySprite = new Sprite(myTexture);\r\n\r\nmySprite contains all textureAtlas images. How to set to Texture single image from textureAtlas?","title":"Libgdx texture region to texture","body":"<p>I want to use <code>setFilter(TextureFilter.Linear, TextureFilter.Linear);</code> on my image, taken from textureAtlas. when I use </p>\n\n<pre><code>TextureRegion texReg = textureAtl.findRegion(\"myImage\");\nSprite = new Sprite(texReg);\n</code></pre>\n\n<p>it's works fine, but if i try</p>\n\n<pre><code>TextureRegion texReg = textureAtl.findRegion(\"myImage\");\nTexture myTexture = new Texture(texReg.getTexture());\nmyTexture.setFilter(TextureFilter.Linear, TextureFilter.Linear);\nSprite mySprite = new Sprite(myTexture);\n</code></pre>\n\n<p>mySprite contains all textureAtlas images. How to set to Texture single image from textureAtlas?</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"score":1,"creation_date":1407824021,"post_id":25257012,"comment_id":39352853,"body_markdown":"I think, the best solution would be to store a `position` for the &quot;final `Texture`&quot; and the offsets of the single `Texture`s and then draw them in the right order.","body":"I think, the best solution would be to store a <code>position</code> for the &quot;final <code>Texture</code>&quot; and the offsets of the single <code>Texture</code>s and then draw them in the right order."}],"answers":[{"tags":[],"owner":{"account_id":2782738,"reputation":2145,"user_id":2394933,"accept_rate":100,"display_name":"Alon Zilberman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407834008,"creation_date":1407834008,"answer_id":25260166,"question_id":25257012,"body_markdown":"You should use the TexturePacker for creating one big Texture from lots of small one. https://github.com/libgdx/libgdx/wiki/Texture-packer . \r\n\r\nAnd here is GUI version (jar) whcih will help you to pack all your textures in one before putting them to your project: https://code.google.com/p/libgdx-texturepacker-gui/.\r\n\r\nYou should also remember that maximum size of one texture for most Android and IOS devices is: `2048x2048`.","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<p>You should use the TexturePacker for creating one big Texture from lots of small one. <a href=\"https://github.com/libgdx/libgdx/wiki/Texture-packer\" rel=\"nofollow\">https://github.com/libgdx/libgdx/wiki/Texture-packer</a> . </p>\n\n<p>And here is GUI version (jar) whcih will help you to pack all your textures in one before putting them to your project: <a href=\"https://code.google.com/p/libgdx-texturepacker-gui/\" rel=\"nofollow\">https://code.google.com/p/libgdx-texturepacker-gui/</a>.</p>\n\n<p>You should also remember that maximum size of one texture for most Android and IOS devices is: <code>2048x2048</code>.</p>\n"},{"tags":[],"owner":{"account_id":4698704,"reputation":759,"user_id":3802890,"display_name":"Metaphore"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407874143,"creation_date":1407874143,"answer_id":25273218,"question_id":25257012,"body_markdown":"In case you want to use combined texture as atlas for performance benefits, you better use @Alon Zilberman answer.\r\n\r\nBut I think that your question is about another problem. If you want to get some custom texture from these three textures (e.g. merge them by drawing one at one), then your best solution is to draw to FrameBuffer. Here you can find nice example of how to do it https://stackoverflow.com/a/7632680/3802890","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<p>In case you want to use combined texture as atlas for performance benefits, you better use @Alon Zilberman answer.</p>\n\n<p>But I think that your question is about another problem. If you want to get some custom texture from these three textures (e.g. merge them by drawing one at one), then your best solution is to draw to FrameBuffer. Here you can find nice example of how to do it <a href=\"https://stackoverflow.com/a/7632680/3802890\">https://stackoverflow.com/a/7632680/3802890</a></p>\n"},{"tags":[],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491904365,"creation_date":1491903701,"answer_id":43342245,"question_id":25257012,"body_markdown":"I wanted to get the same result, but I did not find the previous instructions given to be of any help. Neither I was able to find any other clear solution for this issue, so here&#39;s what I managed to get working after I read a bit of api-docs and did some testing of my own.\r\n\r\n    Texture splashTexture = new Texture(&quot;texture1.png&quot;); // Remember to dispose\r\n    splashTexture.getTextureData().prepare(); // The api-doc says this is needed\r\n    Pixmap splashpixmap = splashTexture.getTextureData().consumePixmap(); // Strange name, but gives the pixmap of the texture. Remember to dispose this also\r\n    Pixmap pixmap = new Pixmap(splashTexture.getWidth(), splashTexture.getHeight(), Format.RGBA8888); // Remember to dispose\r\n    // We want the center point coordinates of the image region as the circle origo is at the center and drawn by the radius\r\n\tint x = (int) (splashTexture.getWidth() / 2f);\r\n\tint y = (int) (splashTexture.getHeight() / 2f);\r\n\tint radius = (int) (splashTexture.getWidth() / 2f - 5); // -5 just to leave a small margin in my picture\r\n    pixmap.setColor(Color.ORANGE);\r\n\tpixmap.fillCircle(x, y, radius);\r\n    // Draws the texture on the background shape (orange circle)\r\n\tpixmap.drawPixmap(splashpixmap, 0, 0);\r\n\t// TADA! New combined texture\r\n\tthis.splashImage = new Texture(pixmap); // Not sure if needed, but may be needed to get disposed as well when it&#39;s no longer needed\r\n    // These are not needed anymore\r\n\tpixmap.dispose();\r\n\tsplashpixmap.dispose();\r\n    splashTexture.dispose();\r\n\r\nThen use the splashImage (which is a class variable of type Texture in my case) to render the combined image where you want it. The resulting image has the given background and the foreground is a png image which has transparent parts to be filled by the background color.","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<p>I wanted to get the same result, but I did not find the previous instructions given to be of any help. Neither I was able to find any other clear solution for this issue, so here's what I managed to get working after I read a bit of api-docs and did some testing of my own.</p>\n\n<pre><code>Texture splashTexture = new Texture(\"texture1.png\"); // Remember to dispose\nsplashTexture.getTextureData().prepare(); // The api-doc says this is needed\nPixmap splashpixmap = splashTexture.getTextureData().consumePixmap(); // Strange name, but gives the pixmap of the texture. Remember to dispose this also\nPixmap pixmap = new Pixmap(splashTexture.getWidth(), splashTexture.getHeight(), Format.RGBA8888); // Remember to dispose\n// We want the center point coordinates of the image region as the circle origo is at the center and drawn by the radius\nint x = (int) (splashTexture.getWidth() / 2f);\nint y = (int) (splashTexture.getHeight() / 2f);\nint radius = (int) (splashTexture.getWidth() / 2f - 5); // -5 just to leave a small margin in my picture\npixmap.setColor(Color.ORANGE);\npixmap.fillCircle(x, y, radius);\n// Draws the texture on the background shape (orange circle)\npixmap.drawPixmap(splashpixmap, 0, 0);\n// TADA! New combined texture\nthis.splashImage = new Texture(pixmap); // Not sure if needed, but may be needed to get disposed as well when it's no longer needed\n// These are not needed anymore\npixmap.dispose();\nsplashpixmap.dispose();\nsplashTexture.dispose();\n</code></pre>\n\n<p>Then use the splashImage (which is a class variable of type Texture in my case) to render the combined image where you want it. The resulting image has the given background and the foreground is a png image which has transparent parts to be filled by the background color.</p>\n"},{"comments":[{"owner":{"account_id":43447,"reputation":43136,"user_id":127013,"accept_rate":66,"display_name":"mxk"},"score":0,"creation_date":1626517692,"post_id":61044741,"comment_id":120917896,"body_markdown":"This looks like clean way of doing it. However, in the event that you use a texture atlas where the texture will be one large bitmap in memory rather than individual memory regions, isn&#39;t this very inefficient, since it will copy the entire texture (which might contain _all_ game textures in a single bitmap) instead of just a specific region?","body":"This looks like clean way of doing it. However, in the event that you use a texture atlas where the texture will be one large bitmap in memory rather than individual memory regions, isn&#39;t this very inefficient, since it will copy the entire texture (which might contain <i>all</i> game textures in a single bitmap) instead of just a specific region?"}],"tags":[],"owner":{"account_id":5495681,"reputation":404,"user_id":4366890,"display_name":"Tipsi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586099461,"creation_date":1586099461,"answer_id":61044741,"question_id":25257012,"body_markdown":"@Ville Myrskyneva&#39;s answer works, but it doesn&#39;t entirely show how to combine 2 or more textures. I made a Utility method that takes 2 textures as input and returns a combined texture. Note that the second texture will always be drawn on top of the first one.\r\n\r\n```Java\r\npublic static Texture combineTextures(Texture texture1, Texture texture2) {\r\n    texture1.getTextureData().prepare();\r\n    Pixmap pixmap1 = texture1.getTextureData().consumePixmap();\r\n\r\n    texture2.getTextureData().prepare();\r\n    Pixmap pixmap2 = texture2.getTextureData().consumePixmap();\r\n\r\n    pixmap1.drawPixmap(pixmap2, 0, 0);\r\n    Texture textureResult = new Texture(pixmap1);\r\n\r\n    pixmap1.dispose();\r\n    pixmap2.dispose();\r\n\r\n    return textureResult;\r\n}\r\n```","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<p>@Ville Myrskyneva's answer works, but it doesn't entirely show how to combine 2 or more textures. I made a Utility method that takes 2 textures as input and returns a combined texture. Note that the second texture will always be drawn on top of the first one.</p>\n\n<pre><code>public static Texture combineTextures(Texture texture1, Texture texture2) {\n    texture1.getTextureData().prepare();\n    Pixmap pixmap1 = texture1.getTextureData().consumePixmap();\n\n    texture2.getTextureData().prepare();\n    Pixmap pixmap2 = texture2.getTextureData().consumePixmap();\n\n    pixmap1.drawPixmap(pixmap2, 0, 0);\n    Texture textureResult = new Texture(pixmap1);\n\n    pixmap1.dispose();\n    pixmap2.dispose();\n\n    return textureResult;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19812456,"reputation":1189,"user_id":14510925,"display_name":"Владислав Шестернин"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695158395,"creation_date":1695111225,"answer_id":77132775,"question_id":25257012,"body_markdown":"Use Pixmap\r\n-\r\n---\r\n\r\nThe expansion function **combines 2 textures in the center.**\r\n\r\n---\r\n\r\n\r\n    fun Texture.combineByCenter(texture: Texture): Texture {\r\n        if (textureData.isPrepared.not()) textureData.prepare()\r\n        val pixmap1 = textureData.consumePixmap()\r\n\r\n        if (texture.textureData.isPrepared.not()) texture.textureData.prepare()\r\n        val pixmap2 = texture.textureData.consumePixmap()\r\n    \r\n        pixmap1.drawPixmap(pixmap2,\r\n            (width / 2) - (texture.width / 2),\r\n            (height / 2) - (texture.height / 2),\r\n        )\r\n        val textureResult = Texture(pixmap1)\r\n\r\n        if (pixmap1.isDisposed.not()) pixmap1.dispose()\r\n        if (pixmap2.isDisposed.not()) pixmap2.dispose()\r\n\r\n        return textureResult\r\n    }\r\n\r\n\r\nDon&#39;t forget to **dispose** the **texture** later.\r\n\r\n---\r\n\r\n&gt; If before merging at least one of the *textures* had **pixmap.dispose** **[pixmap.isDisposed=true]**, then you will have problems. The **solution** is simply to ***use pure textures and their pixmaps*** since they are *created and disposed 1 time*.\r\n","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<h2>Use Pixmap</h2>\n<hr />\n<p>The expansion function <strong>combines 2 textures in the center.</strong></p>\n<hr />\n<pre><code>fun Texture.combineByCenter(texture: Texture): Texture {\n    if (textureData.isPrepared.not()) textureData.prepare()\n    val pixmap1 = textureData.consumePixmap()\n\n    if (texture.textureData.isPrepared.not()) texture.textureData.prepare()\n    val pixmap2 = texture.textureData.consumePixmap()\n\n    pixmap1.drawPixmap(pixmap2,\n        (width / 2) - (texture.width / 2),\n        (height / 2) - (texture.height / 2),\n    )\n    val textureResult = Texture(pixmap1)\n\n    if (pixmap1.isDisposed.not()) pixmap1.dispose()\n    if (pixmap2.isDisposed.not()) pixmap2.dispose()\n\n    return textureResult\n}\n</code></pre>\n<p>Don't forget to <strong>dispose</strong> the <strong>texture</strong> later.</p>\n<hr />\n<blockquote>\n<p>If before merging at least one of the <em>textures</em> had <strong>pixmap.dispose</strong> <strong>[pixmap.isDisposed=true]</strong>, then you will have problems. The <strong>solution</strong> is simply to <em><strong>use pure textures and their pixmaps</strong></em> since they are <em>created and disposed 1 time</em>.</p>\n</blockquote>\n"}],"owner":{"account_id":4563303,"reputation":285,"user_id":3705007,"accept_rate":33,"display_name":"user3705007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1695158395,"creation_date":1407822597,"question_id":25257012,"body_markdown":"Is there a way to combine a number of textures into one texture with libgdx API?\r\n\r\nFor example, consider having these 3 textures:\r\n\r\n    Texture texture1 = new Texture(&quot;texture1.png&quot;);\r\n    Texture texture2 = new Texture(&quot;texture2.png&quot;);\r\n    Texture texture3 = new Texture(&quot;texture3.png&quot;);\r\n\r\nThe goal is to combine them into one usable texture. Is there a way to do this?","title":"Is there a way to combine a number of textures into one texture with libgdx API?","body":"<p>Is there a way to combine a number of textures into one texture with libgdx API?</p>\n<p>For example, consider having these 3 textures:</p>\n<pre><code>Texture texture1 = new Texture(&quot;texture1.png&quot;);\nTexture texture2 = new Texture(&quot;texture2.png&quot;);\nTexture texture3 = new Texture(&quot;texture3.png&quot;);\n</code></pre>\n<p>The goal is to combine them into one usable texture. Is there a way to do this?</p>\n"},{"tags":["java","math","random","compiler-errors","symbols"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1695095462,"post_id":77131557,"comment_id":135974771,"body_markdown":"You shouldn&#39;t have to explicitly import Math because it&#39;s part of the java.lang package, but since this code fails in JGrasp, I&#39;m guessing that you&#39;re experiencing a JGrasp specific bug (the code worked fine for me using OpenJDK and Atom editor). Although I have no solution for you, I have a workaround: wherever you call `Math.random()`, instead use the fully qualified name, `java.lang.Math.random()`. I would also encourage you to file a bug against JGrasp, but they don&#39;t seem to have a publicly visible bugbase or even a user forum.","body":"You shouldn&#39;t have to explicitly import Math because it&#39;s part of the java.lang package, but since this code fails in JGrasp, I&#39;m guessing that you&#39;re experiencing a JGrasp specific bug (the code worked fine for me using OpenJDK and Atom editor). Although I have no solution for you, I have a workaround: wherever you call <code>Math.random()</code>, instead use the fully qualified name, <code>java.lang.Math.random()</code>. I would also encourage you to file a bug against JGrasp, but they don&#39;t seem to have a publicly visible bugbase or even a user forum."},{"owner":{"account_id":5109014,"reputation":146,"user_id":4096258,"accept_rate":91,"display_name":"Farhad Enayati"},"score":0,"creation_date":1695108997,"post_id":77131557,"comment_id":135976449,"body_markdown":"I using Java 8, and I didn&#39;t see any error messages","body":"I using Java 8, and I didn&#39;t see any error messages"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1695112077,"post_id":77131557,"comment_id":135977087,"body_markdown":"Post the ***exact*** error jGRASP gave you. Specifically, edit it into your post.","body":"Post the <b><i>exact</i></b> error jGRASP gave you. Specifically, edit it into your post."},{"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"score":1,"creation_date":1695157627,"post_id":77131557,"comment_id":135985828,"body_markdown":"Although we don&#39;t have a publicly-visible bug database or forum, we do respond quickly to bug reports - usually the same day, even for ones that appear to be user error. There is a &quot;Report a Bug&quot; feature on jGRASP itself, as well as automatic reporting (with user approval) of uncaught exceptions. If there are issues that are affecting a lot of users (virus scanner false positives, bugs in new Java releases, etc.) we&#39;ll usually note those on our main web page.","body":"Although we don&#39;t have a publicly-visible bug database or forum, we do respond quickly to bug reports - usually the same day, even for ones that appear to be user error. There is a &quot;Report a Bug&quot; feature on jGRASP itself, as well as automatic reporting (with user approval) of uncaught exceptions. If there are issues that are affecting a lot of users (virus scanner false positives, bugs in new Java releases, etc.) we&#39;ll usually note those on our main web page."},{"owner":{"account_id":27788048,"reputation":1,"user_id":21215053,"display_name":"ghostsushi"},"score":0,"creation_date":1695188328,"post_id":77131557,"comment_id":135988831,"body_markdown":"@davidalayachew. here is the error code I recieved. I created a new file with a new name because my professor sad it was because my file name was Math and that was causing the problem.                                                                           \n----jGRASP exec: javac -g hilo.java\nhilo.java:6: error: cannot find symbol\n      System.out.println(Math.random());\n                             ^\n  symbol:   method random()\n  location: class Math\n1 error\n\n ----jGRASP wedge: exit code for process is 1.\n ----jGRASP: operation complete.","body":"@davidalayachew. here is the error code I recieved. I created a new file with a new name because my professor sad it was because my file name was Math and that was causing the problem.                                                                            ----jGRASP exec: javac -g hilo.java hilo.java:6: error: cannot find symbol       System.out.println(Math.random());                              ^   symbol:   method random()   location: class Math 1 error   ----jGRASP wedge: exit code for process is 1.  ----jGRASP: operation complete."},{"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"score":0,"creation_date":1695192196,"post_id":77131557,"comment_id":135989379,"body_markdown":"If you still have the old Math.class file in that directory, you need to delete it.","body":"If you still have the old Math.class file in that directory, you need to delete it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695193416,"post_id":77131557,"comment_id":135989612,"body_markdown":"@ghostsushi I also strongly suspect that there is a .class file for `Math` somewhere. Try and find it, then delete it. You can get an idea of where it is by going to `Settings`, then checking the box that says `Verbose Messages`. Then, try compiling again. The new message will tell you exactly where in your computer that command is running. Then, you just need to check those areas to see if that sneaky Math.class file is there somewhere.","body":"@ghostsushi I also strongly suspect that there is a .class file for <code>Math</code> somewhere. Try and find it, then delete it. You can get an idea of where it is by going to <code>Settings</code>, then checking the box that says <code>Verbose Messages</code>. Then, try compiling again. The new message will tell you exactly where in your computer that command is running. Then, you just need to check those areas to see if that sneaky Math.class file is there somewhere."}],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695157437,"creation_date":1695157437,"answer_id":77137971,"question_id":77131557,"body_markdown":"Most likely you have your own class named &quot;Math&quot; in the same directory, so any unqualified reference to &quot;Math&quot; is a reference to that class. It&#39;s generally a bad idea to name your own classes the same as frequently-used JDK classes, but if you do then you can fully qualify as suggested above &quot;java.lang.Math.random()&quot; or you can import java.lang.Math (but if you do the latter and your own &quot;Math&quot; class is in the default package, there will be no way to access your own &quot;Math&quot; class if you need to).\r\n\r\nAlso, the javac error will have a caret ^ pointing to the dot, but below that you should see &quot;symbol:   method random()&quot;.","title":"Math.random won&#39;t compile in jGrasp","body":"<p>Most likely you have your own class named &quot;Math&quot; in the same directory, so any unqualified reference to &quot;Math&quot; is a reference to that class. It's generally a bad idea to name your own classes the same as frequently-used JDK classes, but if you do then you can fully qualify as suggested above &quot;java.lang.Math.random()&quot; or you can import java.lang.Math (but if you do the latter and your own &quot;Math&quot; class is in the default package, there will be no way to access your own &quot;Math&quot; class if you need to).</p>\n<p>Also, the javac error will have a caret ^ pointing to the dot, but below that you should see &quot;symbol:   method random()&quot;.</p>\n"}],"owner":{"account_id":27788048,"reputation":1,"user_id":21215053,"display_name":"ghostsushi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695157437,"creation_date":1695094171,"question_id":77131557,"body_markdown":"When I try to use the Math.random in a code I get  &quot;error: Cannot find symbol&quot; and points to the &quot;.&quot; between Math and random. However when I rewrite the code into an online compiler on programiz.com it works without a problem. This is the code I have.\r\n\r\n```\r\npublic class RandomMath {\r\n   public static void main(String[] args) {\r\n   \r\n   int firstNum = 1;\r\n   int lastNum = 3;\r\n   \r\n   // generates a random number between 0 to 1\r\n   System.out.println(firstNum + Math.random()); \r\n\r\n   }\r\n}\r\n```\r\n\r\nI tried writing the code with out anything else, just the Math.random alone. it still says the &quot;.&quot; is a symbol that can&#39;t be found.","title":"Math.random won&#39;t compile in jGrasp","body":"<p>When I try to use the Math.random in a code I get  &quot;error: Cannot find symbol&quot; and points to the &quot;.&quot; between Math and random. However when I rewrite the code into an online compiler on programiz.com it works without a problem. This is the code I have.</p>\n<pre><code>public class RandomMath {\n   public static void main(String[] args) {\n   \n   int firstNum = 1;\n   int lastNum = 3;\n   \n   // generates a random number between 0 to 1\n   System.out.println(firstNum + Math.random()); \n\n   }\n}\n</code></pre>\n<p>I tried writing the code with out anything else, just the Math.random alone. it still says the &quot;.&quot; is a symbol that can't be found.</p>\n"},{"tags":["java","jboss","log4j2","slf4j"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1695225806,"post_id":77137956,"comment_id":135997025,"body_markdown":"What version of WildFly or JBoss EAP are you using? Do you mean you want to configure logging through the logging subsystem?","body":"What version of WildFly or JBoss EAP are you using? Do you mean you want to configure logging through the logging subsystem?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695230018,"post_id":77137956,"comment_id":135997850,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":17220856,"reputation":1,"user_id":12467661,"display_name":"sunil manzoor"},"score":0,"creation_date":1695318118,"post_id":77137956,"comment_id":136011829,"body_markdown":"Red Hat JBoss Enterprise Application Platform - Version 7.4.12.GA\nI don&#39;t know how many ways are to achieve the requirements I just need to add log4j and current default logging should be there in server.log","body":"Red Hat JBoss Enterprise Application Platform - Version 7.4.12.GA I don&#39;t know how many ways are to achieve the requirements I just need to add log4j and current default logging should be there in server.log"}],"owner":{"account_id":17220856,"reputation":1,"user_id":12467661,"display_name":"sunil manzoor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695157181,"creation_date":1695157181,"question_id":77137956,"body_markdown":"\r\n    &lt;deployment&gt;\r\n        &lt;exclude-subsystems&gt;\r\n            &lt;subsystem name=&quot;logging&quot; /&gt;\r\n        &lt;/exclude-subsystems&gt;\r\n    &lt;/deployment&gt;\r\n\r\n\r\ninstead of excluding its default logging we need to include log4j for our custom logging\r\n\r\nI exclude default logging from subsystems but i need that too. So how can include log4j2 properties file and where I should change the JBOSS settings","title":"How can we use log4j2 with JBOSS a long with its default logging instead of overwriting","body":"<pre><code>&lt;deployment&gt;\n    &lt;exclude-subsystems&gt;\n        &lt;subsystem name=&quot;logging&quot; /&gt;\n    &lt;/exclude-subsystems&gt;\n&lt;/deployment&gt;\n</code></pre>\n<p>instead of excluding its default logging we need to include log4j for our custom logging</p>\n<p>I exclude default logging from subsystems but i need that too. So how can include log4j2 properties file and where I should change the JBOSS settings</p>\n"},{"tags":["java","performance","reflection","methodhandle"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":5,"creation_date":1695075151,"post_id":77130643,"comment_id":135973117,"body_markdown":"The `Error` column suggests your measurements are not stable.","body":"The <code>Error</code> column suggests your measurements are not stable."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1695075218,"post_id":77130643,"comment_id":135973127,"body_markdown":"Also, you haven&#39;t specified JDK version.","body":"Also, you haven&#39;t specified JDK version."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":3,"creation_date":1695075246,"post_id":77130643,"comment_id":135973131,"body_markdown":"Well... 1) I would not care about those 2% difference AT ALL. This is NOT what will change the efficiency of your app. 2) With your `MethodHandle` approach, you have to call a lot more methods in your code. This is maybe, why it&#39;s slower. Especially because you have to change types so often. From development/maintenance view, this is a double downside. 3) You have only made 25 tests it seems. Run 25 billion tests, to see what JIT can optimize away. 4) You&#39;re getting the basic concept right: Reflection lookups and searches take long, executions don&#39;t. Stick to that, you&#39;ve doneYourDueDiligence.","body":"Well... 1) I would not care about those 2% difference AT ALL. This is NOT what will change the efficiency of your app. 2) With your <code>MethodHandle</code> approach, you have to call a lot more methods in your code. This is maybe, why it&#39;s slower. Especially because you have to change types so often. From development/maintenance view, this is a double downside. 3) You have only made 25 tests it seems. Run 25 billion tests, to see what JIT can optimize away. 4) You&#39;re getting the basic concept right: Reflection lookups and searches take long, executions don&#39;t. Stick to that, you&#39;ve doneYourDueDiligence."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1695075992,"post_id":77130643,"comment_id":135973228,"body_markdown":"I also recommend reading the post [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java)","body":"I also recommend reading the post <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695077045,"post_id":77130643,"comment_id":135973329,"body_markdown":"@apangin Java version (17) added.","body":"@apangin Java version (17) added."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695117981,"post_id":77131010,"comment_id":135978334,"body_markdown":"Also, adding an ordinary method invocation as baseline would be useful…","body":"Also, adding an ordinary method invocation as baseline would be useful…"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1695200036,"post_id":77131010,"comment_id":135990954,"body_markdown":"See also [similar question](https://stackoverflow.com/questions/77137831/methodhandle-slower-than-reflection-when-accessing-object/77140693#77140693). the use of static field appears to make a difference.","body":"See also <a href=\"https://stackoverflow.com/questions/77137831/methodhandle-slower-than-reflection-when-accessing-object/77140693#77140693\">similar question</a>. the use of static field appears to make a difference."}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1695082593,"creation_date":1695082593,"answer_id":77131010,"question_id":77130643,"body_markdown":"Take a closer look at the Error column in your results:\r\n```\r\nScore    Error   Units\r\n4.204 &#177;  0.546   ns/op\r\n```\r\nIt&#39;s incorrect to make conclusion about 2-5% performance difference when the measurement error is as high as 13%.\r\n\r\nThe cause of the high error value is apparently the lack of proper warmup:\r\n```\r\n@Warmup(iterations = 1, time = 100, timeUnit = TimeUnit.MILLISECONDS)\r\n```\r\n1 iteration of 100ms is not enough for the benchmark to reach a steady state. Run at least 5 warmup iterations of 1 second each and pay attention to the results of each individual measurement to make sure they do not vary much between iterations.\r\n\r\nThat&#39;s what the same benchmark (with proper warmup) shows on my laptop. MethodHandles here are expectedly faster:\r\n\r\n```\r\nBenchmark                               Mode  Cnt  Score   Error  Units\r\nAccessorBenchmark.methodHandleAccessor  avgt   30  5.946 &#177; 0.054  ns/op\r\nAccessorBenchmark.reflectionAccessor    avgt   30  6.379 &#177; 0.069  ns/op\r\n```","title":"`MethodHandle` slower than Reflection when accessing primitive","body":"<p>Take a closer look at the Error column in your results:</p>\n<pre><code>Score    Error   Units\n4.204 ±  0.546   ns/op\n</code></pre>\n<p>It's incorrect to make conclusion about 2-5% performance difference when the measurement error is as high as 13%.</p>\n<p>The cause of the high error value is apparently the lack of proper warmup:</p>\n<pre><code>@Warmup(iterations = 1, time = 100, timeUnit = TimeUnit.MILLISECONDS)\n</code></pre>\n<p>1 iteration of 100ms is not enough for the benchmark to reach a steady state. Run at least 5 warmup iterations of 1 second each and pay attention to the results of each individual measurement to make sure they do not vary much between iterations.</p>\n<p>That's what the same benchmark (with proper warmup) shows on my laptop. MethodHandles here are expectedly faster:</p>\n<pre><code>Benchmark                               Mode  Cnt  Score   Error  Units\nAccessorBenchmark.methodHandleAccessor  avgt   30  5.946 ± 0.054  ns/op\nAccessorBenchmark.reflectionAccessor    avgt   30  6.379 ± 0.069  ns/op\n</code></pre>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77131010,"answer_count":1,"score":1,"last_activity_date":1695155718,"creation_date":1695074649,"question_id":77130643,"body_markdown":"I would like to call a method via reflection in the most performant way possible.\r\n\r\nThe method returns a primitive `long`.\r\n\r\nI&#39;ve implemented this using both reflection and `MethodHandle`s.\r\n\r\nI was expecting `MethodHandle` to be faster because:\r\n\r\n - That&#39;s one of the benefits of `MethodHandle`s\r\n - It avoid boxing/unboxing as you experience with reflection\r\n\r\nBut in all of my benchmarks, `MethodHandle`s are slower (~2-5%-ish).\r\n\r\nTake the following JMH benchmark:\r\n\r\n```\r\nimport org.openjdk.jmh.annotations.*;\r\n\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.reflect.Method;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 1, time = 100, timeUnit = TimeUnit.MILLISECONDS)\r\n@Measurement(iterations = 5, time = 10, timeUnit = TimeUnit.SECONDS)\r\n@State(Scope.Benchmark)\r\npublic class AccessorBenchmark {\r\n    private POJO source;\r\n\r\n    private ReflectionAccessor reflectionAccessor;\r\n    private MethodHandleAccessor methodHandleAccessor;\r\n\r\n    @Setup\r\n    public void setup() throws ReflectiveOperationException {\r\n        source = new POJO();\r\n\r\n        final Method method = source.getClass().getDeclaredMethod(&quot;longMethod&quot;);\r\n\r\n        reflectionAccessor = new ReflectionAccessor(method);\r\n        methodHandleAccessor = new MethodHandleAccessor(method);\r\n    }\r\n\r\n    @Benchmark\r\n    public long reflectionAccessor() throws ReflectiveOperationException {\r\n        return reflectionAccessor.get(source);\r\n    }\r\n\r\n    @Benchmark\r\n    public long methodHandleAccessor() throws Throwable {\r\n        return methodHandleAccessor.get(source);\r\n    }\r\n\r\n    public class ReflectionAccessor {\r\n        private final Object[] EMPTY_ARGS = new Object[0];\r\n        private final Method method;\r\n\r\n        public ReflectionAccessor(final Method method) {\r\n            this.method = method;\r\n        }\r\n\r\n        public long get(final Object source) throws ReflectiveOperationException {\r\n            return ((Number) method.invoke(source, EMPTY_ARGS)).longValue();\r\n        }\r\n    }\r\n\r\n    public class MethodHandleAccessor {\r\n        private MethodHandle methodHandle;\r\n\r\n        public MethodHandleAccessor(final Method method) throws ReflectiveOperationException {\r\n            methodHandle = MethodHandles.lookup().unreflect(method);\r\n            methodHandle = methodHandle\r\n                    .asType(methodHandle.type().changeReturnType(long.class).changeParameterType(0, Object.class));\r\n        }\r\n\r\n        public long get(final Object source) throws Throwable {\r\n            return (long) methodHandle.invokeExact(source);\r\n        }\r\n    }\r\n\r\n    public class POJO {\r\n        // Chose a value outside of the autoboxing cache range\r\n        private final AtomicLong counter = new AtomicLong(Long.MAX_VALUE);\r\n\r\n        /** Some dummy method that returns different values in consistent amounts of time */\r\n        public long longMethod() {\r\n            return counter.addAndGet(-1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe following result is returned with Java 17:\r\n```\r\nBenchmark                                Mode  Cnt     Score    Error   Units\r\nAccessorBenchmark.methodHandleAccessor   avgt   25     4.204 &#177;  0.546   ns/op\r\nAccessorBenchmark.reflectionAccessor     avgt   25     4.123 &#177;  0.040   ns/op\r\n```\r\n\r\nAny ideas?","title":"`MethodHandle` slower than Reflection when accessing primitive","body":"<p>I would like to call a method via reflection in the most performant way possible.</p>\n<p>The method returns a primitive <code>long</code>.</p>\n<p>I've implemented this using both reflection and <code>MethodHandle</code>s.</p>\n<p>I was expecting <code>MethodHandle</code> to be faster because:</p>\n<ul>\n<li>That's one of the benefits of <code>MethodHandle</code>s</li>\n<li>It avoid boxing/unboxing as you experience with reflection</li>\n</ul>\n<p>But in all of my benchmarks, <code>MethodHandle</code>s are slower (~2-5%-ish).</p>\n<p>Take the following JMH benchmark:</p>\n<pre><code>import org.openjdk.jmh.annotations.*;\n\nimport java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicLong;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 1, time = 100, timeUnit = TimeUnit.MILLISECONDS)\n@Measurement(iterations = 5, time = 10, timeUnit = TimeUnit.SECONDS)\n@State(Scope.Benchmark)\npublic class AccessorBenchmark {\n    private POJO source;\n\n    private ReflectionAccessor reflectionAccessor;\n    private MethodHandleAccessor methodHandleAccessor;\n\n    @Setup\n    public void setup() throws ReflectiveOperationException {\n        source = new POJO();\n\n        final Method method = source.getClass().getDeclaredMethod(&quot;longMethod&quot;);\n\n        reflectionAccessor = new ReflectionAccessor(method);\n        methodHandleAccessor = new MethodHandleAccessor(method);\n    }\n\n    @Benchmark\n    public long reflectionAccessor() throws ReflectiveOperationException {\n        return reflectionAccessor.get(source);\n    }\n\n    @Benchmark\n    public long methodHandleAccessor() throws Throwable {\n        return methodHandleAccessor.get(source);\n    }\n\n    public class ReflectionAccessor {\n        private final Object[] EMPTY_ARGS = new Object[0];\n        private final Method method;\n\n        public ReflectionAccessor(final Method method) {\n            this.method = method;\n        }\n\n        public long get(final Object source) throws ReflectiveOperationException {\n            return ((Number) method.invoke(source, EMPTY_ARGS)).longValue();\n        }\n    }\n\n    public class MethodHandleAccessor {\n        private MethodHandle methodHandle;\n\n        public MethodHandleAccessor(final Method method) throws ReflectiveOperationException {\n            methodHandle = MethodHandles.lookup().unreflect(method);\n            methodHandle = methodHandle\n                    .asType(methodHandle.type().changeReturnType(long.class).changeParameterType(0, Object.class));\n        }\n\n        public long get(final Object source) throws Throwable {\n            return (long) methodHandle.invokeExact(source);\n        }\n    }\n\n    public class POJO {\n        // Chose a value outside of the autoboxing cache range\n        private final AtomicLong counter = new AtomicLong(Long.MAX_VALUE);\n\n        /** Some dummy method that returns different values in consistent amounts of time */\n        public long longMethod() {\n            return counter.addAndGet(-1);\n        }\n    }\n}\n</code></pre>\n<p>The following result is returned with Java 17:</p>\n<pre><code>Benchmark                                Mode  Cnt     Score    Error   Units\nAccessorBenchmark.methodHandleAccessor   avgt   25     4.204 ±  0.546   ns/op\nAccessorBenchmark.reflectionAccessor     avgt   25     4.123 ±  0.040   ns/op\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","android","sqlite","arraylist","database-cursor"],"comments":[{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1430494707,"post_id":29989934,"comment_id":48099304,"body_markdown":"What are you doing with the data? Are you displaying it in a list? If you do that, you should look into `CursorAdapter`.","body":"What are you doing with the data? Are you displaying it in a list? If you do that, you should look into <code>CursorAdapter</code>."}],"answers":[{"tags":[],"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1430495782,"creation_date":1430494942,"answer_id":29990108,"question_id":29989934,"body_markdown":"In short, while it&#39;s not always that simple, the fastest way to do things is all at once.\r\n\r\nConstantly making calls to and from a database can really make your apps performance bottleneck, especially if it&#39;s to a server and not just your devices SQLite database.\r\n\r\nDepending on what you&#39;re doing with the data, you may be able to look into something like a [`CursorAdapter`][1] which handles the display of rows from the database, and each time you insert/update a row, the CursorAdapter will update the ListView accordingly. It also handles the opening/closing/moving to next of the Cursor, making it very readable and easy for developers to follow.\r\n\r\nAgain, however, try to do things in as few calls as possible. If you stick to using an ArrayList:\r\n\r\n - Make one call in the beginning for all items.\r\n - Loop through that cursor and add items to an array list.\r\n - Use the array list as a cache. Sure, you could update the DB each time you update the list (which might be safest, IMO), or you can just loop through the list and insert/update/delete when the app closes. If you take that approach, make sure you do so in a method like `onPause()`, as it is one of the earliest methods in which an Activity can be killed.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/CursorAdapter.html","title":"What is faster - a Cursor or ArrayList?","body":"<p>In short, while it's not always that simple, the fastest way to do things is all at once.</p>\n\n<p>Constantly making calls to and from a database can really make your apps performance bottleneck, especially if it's to a server and not just your devices SQLite database.</p>\n\n<p>Depending on what you're doing with the data, you may be able to look into something like a <a href=\"http://developer.android.com/reference/android/widget/CursorAdapter.html\" rel=\"nofollow\"><code>CursorAdapter</code></a> which handles the display of rows from the database, and each time you insert/update a row, the CursorAdapter will update the ListView accordingly. It also handles the opening/closing/moving to next of the Cursor, making it very readable and easy for developers to follow.</p>\n\n<p>Again, however, try to do things in as few calls as possible. If you stick to using an ArrayList:</p>\n\n<ul>\n<li>Make one call in the beginning for all items.</li>\n<li>Loop through that cursor and add items to an array list.</li>\n<li>Use the array list as a cache. Sure, you could update the DB each time you update the list (which might be safest, IMO), or you can just loop through the list and insert/update/delete when the app closes. If you take that approach, make sure you do so in a method like <code>onPause()</code>, as it is one of the earliest methods in which an Activity can be killed.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1430495736,"post_id":29990306,"comment_id":48099992,"body_markdown":"Yes, CursorLoaders are great. I would note (unless I&#39;m wrong) that a CursorLoader only works if your app uses a ContentProvider.","body":"Yes, CursorLoaders are great. I would note (unless I&#39;m wrong) that a CursorLoader only works if your app uses a ContentProvider."}],"tags":[],"owner":{"account_id":471510,"reputation":695,"user_id":879359,"accept_rate":100,"display_name":"miki"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430495558,"creation_date":1430495558,"answer_id":29990306,"question_id":29989934,"body_markdown":"Perfect use case for a `CursorLoader`. Given a query, it&#39;ll keep your list adapter up to date with the latest data, assuming you notify when changes happen in the DB. It also conveniently handles activity lifecycle events for your (ie. it&#39;ll close the cursor when the activity finishes, stop updating when it pauses, etc.).","title":"What is faster - a Cursor or ArrayList?","body":"<p>Perfect use case for a <code>CursorLoader</code>. Given a query, it'll keep your list adapter up to date with the latest data, assuming you notify when changes happen in the DB. It also conveniently handles activity lifecycle events for your (ie. it'll close the cursor when the activity finishes, stop updating when it pauses, etc.).</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1430495779,"creation_date":1430495779,"answer_id":29990382,"question_id":29989934,"body_markdown":"The fastest way is obviously to not use a database at all. However, that is clearly not a solution unless you find some way of exposing your array to access from elsewhere.\r\n\r\nUsing a database is a convenient way of centralising the data so many users can access the data and have the data up-to-date at all times. Unfortunately this is the slowest option.\r\n\r\nChoosing your middle-ground between speed and availability is a difficult task. You have to find a balance between stale data and throughput. \r\n\r\nIf, for example, you would be comfortable with a picture of the data that was valid just 5 seconds ago then you could probably cache the data locally in your array and arrange for some mechanism to keep it up-to-date running behind the scenes.\r\n\r\nIf a 5 minute lag was acceptable you could probably arrange for a regular push to database.\r\n\r\nAlso, any mechanism you use must also handle parallel changes to the data - perhaps two users change the same datum at the same time.\r\n\r\nYou just need to decide on where to strike your balance.\r\n","title":"What is faster - a Cursor or ArrayList?","body":"<p>The fastest way is obviously to not use a database at all. However, that is clearly not a solution unless you find some way of exposing your array to access from elsewhere.</p>\n\n<p>Using a database is a convenient way of centralising the data so many users can access the data and have the data up-to-date at all times. Unfortunately this is the slowest option.</p>\n\n<p>Choosing your middle-ground between speed and availability is a difficult task. You have to find a balance between stale data and throughput. </p>\n\n<p>If, for example, you would be comfortable with a picture of the data that was valid just 5 seconds ago then you could probably cache the data locally in your array and arrange for some mechanism to keep it up-to-date running behind the scenes.</p>\n\n<p>If a 5 minute lag was acceptable you could probably arrange for a regular push to database.</p>\n\n<p>Also, any mechanism you use must also handle parallel changes to the data - perhaps two users change the same datum at the same time.</p>\n\n<p>You just need to decide on where to strike your balance.</p>\n"}],"owner":{"account_id":4742436,"reputation":682,"user_id":3834722,"accept_rate":55,"display_name":"MauriF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2587,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29990108,"answer_count":3,"score":3,"last_activity_date":1695155343,"creation_date":1430494390,"question_id":29989934,"body_markdown":"I have an SQLite database which I have to be constantly retrieving data from. Changes may be done to the data between each retrieval.\r\n\r\nMy goal is to maximize the app performance, so what is the fastest way to do this retrieving?\r\n\r\nI can imagine 2:\r\n\r\n- constantly opening and closing new cursors\r\n\r\n- query all data at the beginning and store it in an ArrayList. When changing the data, change both SQLite DB and the ArrayList using `indexOf`.\r\n\r\n---- EDITED ----\r\n\r\nI need the data to create markers in a google&#39;s map.\r\n\r\nI have considered using CursorLoader but as I don&#39;t need to interact whith other apps I don&#39;t want to use Content Providers.\r\n\r\nWould creating a custom loader be a good idea?\r\n","title":"What is faster - a Cursor or ArrayList?","body":"<p>I have an SQLite database which I have to be constantly retrieving data from. Changes may be done to the data between each retrieval.</p>\n\n<p>My goal is to maximize the app performance, so what is the fastest way to do this retrieving?</p>\n\n<p>I can imagine 2:</p>\n\n<ul>\n<li><p>constantly opening and closing new cursors</p></li>\n<li><p>query all data at the beginning and store it in an ArrayList. When changing the data, change both SQLite DB and the ArrayList using <code>indexOf</code>.</p></li>\n</ul>\n\n<p>---- EDITED ----</p>\n\n<p>I need the data to create markers in a google's map.</p>\n\n<p>I have considered using CursorLoader but as I don't need to interact whith other apps I don't want to use Content Providers.</p>\n\n<p>Would creating a custom loader be a good idea?</p>\n"},{"tags":["java","email","google-cloud-platform","google-app-engine"],"comments":[{"owner":{"account_id":6441656,"reputation":166,"user_id":4991498,"display_name":"Adam M. Costello"},"score":1,"creation_date":1692552079,"post_id":76925034,"comment_id":135635835,"body_markdown":"Me too! Starting at about 17:30 UTC on 2023-08-18 a majority (but not all) of our outgoing mail requests from App Engine (python 2.7 environment) have been getting exceptions with the same message, even though the App Engine console shows our daily mail quota far from full (like 11% used). We have been sending mail this way since 2015. Our Silver support plan was discontinued by Google last year. I&#39;m trying to buy Customer Care Standard, but that purchase is failing inexplicably. What support plan do you have? They won&#39;t help answer this? What is it for then? Please post whatever you learn!","body":"Me too! Starting at about 17:30 UTC on 2023-08-18 a majority (but not all) of our outgoing mail requests from App Engine (python 2.7 environment) have been getting exceptions with the same message, even though the App Engine console shows our daily mail quota far from full (like 11% used). We have been sending mail this way since 2015. Our Silver support plan was discontinued by Google last year. I&#39;m trying to buy Customer Care Standard, but that purchase is failing inexplicably. What support plan do you have? They won&#39;t help answer this? What is it for then? Please post whatever you learn!"},{"owner":{"account_id":6441656,"reputation":166,"user_id":4991498,"display_name":"Adam M. Costello"},"score":1,"creation_date":1692557020,"post_id":76925034,"comment_id":135636407,"body_markdown":"I created a bug report about this, which anyone affected may want to upvote and comment on. https://issuetracker.google.com/u/1/issues/296736590","body":"I created a bug report about this, which anyone affected may want to upvote and comment on. <a href=\"https://issuetracker.google.com/u/1/issues/296736590\" rel=\"nofollow noreferrer\">issuetracker.google.com/u/1/issues/296736590</a>"},{"owner":{"account_id":2685926,"reputation":119,"user_id":2320349,"accept_rate":23,"display_name":"user2320349"},"score":1,"creation_date":1692606631,"post_id":76925034,"comment_id":135641159,"body_markdown":"I also have the same problem as of 18.8.23\nIn the console it appears that I have a limit of 120 emails per day, before that I would send several thousand a day, I have been working with them since 2015 and it worked perfectly\nI work with java 8\nToday I talked to them in chat and they told me they would check it","body":"I also have the same problem as of 18.8.23 In the console it appears that I have a limit of 120 emails per day, before that I would send several thousand a day, I have been working with them since 2015 and it worked perfectly I work with java 8 Today I talked to them in chat and they told me they would check it"}],"answers":[{"tags":[],"owner":{"account_id":152938,"reputation":5524,"user_id":367837,"display_name":"Louis LC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692639628,"creation_date":1692639628,"answer_id":76947577,"question_id":76925034,"body_markdown":"If you go to https://console.cloud.google.com/iam-admin/quotas?project=(xxx) you can see that &quot;Mail messages sent to non-admins per day&quot; have been lowered to 120, inexplicably.\r\n\r\nThis sudden change without any warning (that I know of) is absolutely dramatic and blocks our entire online invoicing business.","title":"Have been getting many OverQuotaExceptions using Mail API in App Engine in the last few days, despite being way below quota according to the console","body":"<p>If you go to <a href=\"https://console.cloud.google.com/iam-admin/quotas?project=(xxx)\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/iam-admin/quotas?project=(xxx)</a> you can see that &quot;Mail messages sent to non-admins per day&quot; have been lowered to 120, inexplicably.</p>\n<p>This sudden change without any warning (that I know of) is absolutely dramatic and blocks our entire online invoicing business.</p>\n"}],"owner":{"account_id":11581848,"reputation":31,"user_id":8485516,"display_name":"ptbacon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695155337,"creation_date":1692305390,"question_id":76925034,"body_markdown":"In the last few days we are getting many of the following error in our App Engine logs: \r\n\r\ncom.google.apphosting.api.ApiProxy$OverQuotaException: The API call mail.Send() required more quota than is available.\r\n\r\nThis is despite being very much under quota based on what I can see in the Google Cloud console. The content of our emails that we send out has remained the same, and there have been no significant increases in our traffic recently. Note that not all Mail API calls are failing, many are still successful.\r\n\r\nIs this a known issue with the App Engine Mail API right now? There have been no changes on our end that justify this, so I have to imagine this problem in on Google&#39;s end.\r\n\r\n**New, September 19**: It seems that since this issue happened and was resolved, a different issue has come up. Some of the emails that we send out appear to be successfully sent out from an API perspective, but they are not received by any of the recipients (and are not in Spam folders). I believe this to be a small percentage of total emails that we send out on a daily basis, but some of our users have certainly noticed..\r\n\r\nHas anyone else noticed this?","title":"Have been getting many OverQuotaExceptions using Mail API in App Engine in the last few days, despite being way below quota according to the console","body":"<p>In the last few days we are getting many of the following error in our App Engine logs:</p>\n<p>com.google.apphosting.api.ApiProxy$OverQuotaException: The API call mail.Send() required more quota than is available.</p>\n<p>This is despite being very much under quota based on what I can see in the Google Cloud console. The content of our emails that we send out has remained the same, and there have been no significant increases in our traffic recently. Note that not all Mail API calls are failing, many are still successful.</p>\n<p>Is this a known issue with the App Engine Mail API right now? There have been no changes on our end that justify this, so I have to imagine this problem in on Google's end.</p>\n<p><strong>New, September 19</strong>: It seems that since this issue happened and was resolved, a different issue has come up. Some of the emails that we send out appear to be successfully sent out from an API perspective, but they are not received by any of the recipients (and are not in Spam folders). I believe this to be a small percentage of total emails that we send out on a daily basis, but some of our users have certainly noticed..</p>\n<p>Has anyone else noticed this?</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":483387,"reputation":6294,"user_id":898390,"accept_rate":69,"display_name":"Andrew"},"score":1,"creation_date":1328906510,"post_id":9234488,"comment_id":11630907,"body_markdown":"did you try &quot;java NewClass&quot; ? make sure you&#39;re in its directory before trying the command(to have it in that form)","body":"did you try &quot;java NewClass&quot; ? make sure you&#39;re in its directory before trying the command(to have it in that form)"},{"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"score":0,"creation_date":1328907074,"post_id":9234488,"comment_id":11631102,"body_markdown":"When I try java NewClass while I&#39;m in the folder the NewClass.class is i get ClassDefNotFound. If i try java syntaxtest.NewClass I get ClassDefNotFound (wrong name: syntaxtest/NewClass) . When I try that name I get NoClassDefFound...","body":"When I try java NewClass while I&#39;m in the folder the NewClass.class is i get ClassDefNotFound. If i try java syntaxtest.NewClass I get ClassDefNotFound (wrong name: syntaxtest/NewClass) . When I try that name I get NoClassDefFound..."},{"owner":{"account_id":483387,"reputation":6294,"user_id":898390,"accept_rate":69,"display_name":"Andrew"},"score":0,"creation_date":1328907653,"post_id":9234488,"comment_id":11631295,"body_markdown":"&quot;java -cp . NewClass&quot; try this","body":"&quot;java -cp . NewClass&quot; try this"}],"answers":[{"comments":[{"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"score":0,"creation_date":1328906924,"post_id":9234544,"comment_id":11631043,"body_markdown":"nope doesn&#39;t work. tried few variations with slashes here and there but still nothing..","body":"nope doesn&#39;t work. tried few variations with slashes here and there but still nothing.."},{"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"score":0,"creation_date":1328907168,"post_id":9234544,"comment_id":11631130,"body_markdown":"@latusaki: I&#39;m assuming your package name is &quot;syntaxtest&quot;; if it is instead &quot;src.syntaxtest&quot; then try &quot;`java src.syntaxtest.NewClass`&quot;.","body":"@latusaki: I&#39;m assuming your package name is &quot;syntaxtest&quot;; if it is instead &quot;src.syntaxtest&quot; then try &quot;<code>java src.syntaxtest.NewClass</code>&quot;."},{"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"score":0,"creation_date":1328907714,"post_id":9234544,"comment_id":11631311,"body_markdown":"no src is just a folder. Inside it has another folder named syntaxtest. then is the .java and .class file. NewClass is in syntaxtest package. Its quite strange I can&#39;t figure out how to call the class. Btw if i remove the package from class so its not in any package I can call it. So there must be something wrong with package.","body":"no src is just a folder. Inside it has another folder named syntaxtest. then is the .java and .class file. NewClass is in syntaxtest package. Its quite strange I can&#39;t figure out how to call the class. Btw if i remove the package from class so its not in any package I can call it. So there must be something wrong with package."}],"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1328908841,"creation_date":1328906597,"answer_id":9234544,"question_id":9234488,"body_markdown":"Try &quot;`java -cp src syntaxtest.NewClass`&quot;.\r\n\r\nThat is, if you have a folder &quot;src&quot; which contains the subfolder (package) &quot;syntaxtest&quot; and the class &quot;NewClass&quot; is in &quot;package syntaxtest&quot;, then the above command will work.\r\n\r\n    $ ls src/syntaxtest\r\n    NewClass.java\r\n    $ cat src/syntaxtest/NewClass.java\r\n    package syntaxtest;\r\n    public class NewClass {\r\n      public static void main(String args[]) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n      }\r\n    }\r\n    $ javac src/syntaxtest/NewClass.java\r\n    $ java -cp src syntaxtest.NewClass\r\n    Hello, World!\r\n","title":"Running java class from terminal","body":"<p>Try \"<code>java -cp src syntaxtest.NewClass</code>\".</p>\n\n<p>That is, if you have a folder \"src\" which contains the subfolder (package) \"syntaxtest\" and the class \"NewClass\" is in \"package syntaxtest\", then the above command will work.</p>\n\n<pre><code>$ ls src/syntaxtest\nNewClass.java\n$ cat src/syntaxtest/NewClass.java\npackage syntaxtest;\npublic class NewClass {\n  public static void main(String args[]) {\n    System.out.println(\"Hello, World!\");\n  }\n}\n$ javac src/syntaxtest/NewClass.java\n$ java -cp src syntaxtest.NewClass\nHello, World!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":0,"creation_date":1633769176,"post_id":9235952,"comment_id":122852356,"body_markdown":"Nearly 10 years later: to run from another directory, use the `-cp` option to tell java what the &quot;rootDir&quot; is (where classes can be found)! The other answer shows that now.","body":"Nearly 10 years later: to run from another directory, use the <code>-cp</code> option to tell java what the &quot;rootDir&quot; is (where classes can be found)! The other answer shows that now."}],"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328914442,"creation_date":1328914442,"answer_id":9235952,"question_id":9234488,"body_markdown":"I&#39;ve made the following test:\r\n\r\n - Created a java file in home/test/blah/TestClass.java\r\n\r\n    package blah;\r\n    \r\n    public class TestClass {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n    }\r\n\r\n - Went to directory home/test/\r\n - Compiled the file by typing:\r\n\r\n&gt;     javac blah/TestClass.java\r\n\r\n - Got the file compiled ok.\r\n - Ran it by typing:\r\n\r\n&gt;     java blah.TestClass\r\n\r\n - Got the message &quot;Hello World!&quot; as expected: program runs ok.\r\n - Went to directory home/\r\n - Tried to run by typing:\r\n\r\n  \r\n\r\n&gt;   java test/blah.TestClass\r\n\r\n - ... and many other combinations of slashes and dots..... nothing worked.... keep getting the same Exception as you:\r\n\r\n&gt;     java.lang.NoClassDefFoundError\r\n\r\n\r\nSo it seems to me that to run a Java class using the command &#39;java&#39; you really must be in the application&#39;s root folder.","title":"Running java class from terminal","body":"<p>I've made the following test:</p>\n\n<ul>\n<li><p>Created a java file in home/test/blah/TestClass.java</p>\n\n<p>package blah;</p>\n\n<p>public class TestClass {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}</p></li>\n<li><p>Went to directory home/test/</p></li>\n<li>Compiled the file by typing:</li>\n</ul>\n\n<blockquote>\n<pre><code>javac blah/TestClass.java\n</code></pre>\n</blockquote>\n\n<ul>\n<li>Got the file compiled ok.</li>\n<li>Ran it by typing:</li>\n</ul>\n\n<blockquote>\n<pre><code>java blah.TestClass\n</code></pre>\n</blockquote>\n\n<ul>\n<li>Got the message \"Hello World!\" as expected: program runs ok.</li>\n<li>Went to directory home/</li>\n<li>Tried to run by typing:</li>\n</ul>\n\n<blockquote>\n  <p>java test/blah.TestClass</p>\n</blockquote>\n\n<ul>\n<li>... and many other combinations of slashes and dots..... nothing worked.... keep getting the same Exception as you:</li>\n</ul>\n\n<blockquote>\n<pre><code>java.lang.NoClassDefFoundError\n</code></pre>\n</blockquote>\n\n<p>So it seems to me that to run a Java class using the command 'java' you really must be in the application's root folder.</p>\n"},{"tags":[],"owner":{"account_id":3645218,"reputation":371,"user_id":3038405,"accept_rate":44,"display_name":"David Azar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388037721,"creation_date":1388037721,"answer_id":20779893,"question_id":9234488,"body_markdown":"I had a similar problem.\r\nI wanted to organize my project using a src and bin folders directly from the Mac finder and use Emacs or some other text editor. I just didn&#39;t like eclipse.\r\n\r\nYou can&#39;t execute the classes from another folder, but you can do is compile from another folder into the one you are going to execute.\r\n\r\nFor example (assuming there is no package), move to the bin folder and run:\r\n\r\n$ javac ../src/name.java -d ../bin/\r\n\r\n(That compiles from the src folder and outs the .class file directly on bin)\r\n","title":"Running java class from terminal","body":"<p>I had a similar problem.\nI wanted to organize my project using a src and bin folders directly from the Mac finder and use Emacs or some other text editor. I just didn't like eclipse.</p>\n\n<p>You can't execute the classes from another folder, but you can do is compile from another folder into the one you are going to execute.</p>\n\n<p>For example (assuming there is no package), move to the bin folder and run:</p>\n\n<p>$ javac ../src/name.java -d ../bin/</p>\n\n<p>(That compiles from the src folder and outs the .class file directly on bin)</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1695155866,"post_id":77137733,"comment_id":135985541,"body_markdown":"question is 11 years old and already has an accepted answer (also 11 years old) -- &quot;You need to ...&quot; should better be worded &quot;You may ...&quot;","body":"question is 11 years old and already has an accepted answer (also 11 years old) -- &quot;You need to ...&quot; should better be worded &quot;You may ...&quot;"}],"tags":[],"owner":{"account_id":20181330,"reputation":29,"user_id":14801802,"display_name":"Brian Figueroa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695154682,"creation_date":1695154682,"answer_id":77137733,"question_id":9234488,"body_markdown":"You need to package the class as a runnable JAR. This can be accomplished from your IDE. Then, just use the java -jar jarname.jar command to run your jar from the terminal without issues.","title":"Running java class from terminal","body":"<p>You need to package the class as a runnable JAR. This can be accomplished from your IDE. Then, just use the java -jar jarname.jar command to run your jar from the terminal without issues.</p>\n"}],"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30130,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9234544,"answer_count":4,"score":3,"last_activity_date":1695154682,"creation_date":1328906398,"question_id":9234488,"body_markdown":"This question has been asked before but I still cannot figure whats wrong for some reason.\r\nI got a class named NewClass in package syntaxtest in file src. From src path I type :\r\n\r\njavac src/syntaxtest/NewClass.java\r\n\r\nand the class is compiled and I can see NewClass.class in syntaxtest folder. Now from that same path or even the same folder with NewClass.class, I can&#39;t figure out how to run the class from terminal. I have made many different attempts but ether I get\r\n\r\nClassDefNotFound or ClassDefNotFound (wrong name : syntaxtest/NewClass)","title":"Running java class from terminal","body":"<p>This question has been asked before but I still cannot figure whats wrong for some reason.\nI got a class named NewClass in package syntaxtest in file src. From src path I type :</p>\n\n<p>javac src/syntaxtest/NewClass.java</p>\n\n<p>and the class is compiled and I can see NewClass.class in syntaxtest folder. Now from that same path or even the same folder with NewClass.class, I can't figure out how to run the class from terminal. I have made many different attempts but ether I get</p>\n\n<p>ClassDefNotFound or ClassDefNotFound (wrong name : syntaxtest/NewClass)</p>\n"},{"tags":["java","junit","mockito","azure-cosmosdb","azure-java-sdk"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695153059,"post_id":77133664,"comment_id":135985032,"body_markdown":"Can&#39;t you return a real `CosmosPagedIterable` instance?","body":"Can&#39;t you return a real <code>CosmosPagedIterable</code> instance?"}],"answers":[{"comments":[{"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"score":0,"creation_date":1695235418,"post_id":77137598,"comment_id":135998899,"body_markdown":"can you help me understand how to return a real CosmosPagedIterable instance for the page? as far as I understand in a unit test, i cannot hit the actual database to return a real CosmosPagedIterable instance.","body":"can you help me understand how to return a real CosmosPagedIterable instance for the page? as far as I understand in a unit test, i cannot hit the actual database to return a real CosmosPagedIterable instance."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1695238560,"post_id":77137598,"comment_id":135999457,"body_markdown":"@ShivayanMukherjee I assume that a `PagedIterable` can be constructed from in-memory data, without hitting the database. If that&#39;s not possible, go with the approach of using a real list, and having the page stub return the real list as iterable (as shown in the answer)","body":"@ShivayanMukherjee I assume that a <code>PagedIterable</code> can be constructed from in-memory data, without hitting the database. If that&#39;s not possible, go with the approach of using a real list, and having the page stub return the real list as iterable (as shown in the answer)"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695154680,"creation_date":1695153239,"answer_id":77137598,"question_id":77133664,"body_markdown":" Your iterable doesn&#39;t stub any of its methods, meaning that calling `iterator()` on it (which is what the enhanced for loop does) will get you a `null`. Either stub all required calls of the mock (`iterator()` and then return a proper iterator or stub all important methods on the iterator …), or change your code to return an actual `CosmosPagedIterable` instance.\r\n\r\nNote that your field is called `feedResponseIterator`, but it is not an iterator but an `Iterable` (an interface on clases which can _return_ an iterator)\r\n\r\nHere&#39;s an example how you could use a real instance:\r\n\r\n```\r\n@Mock\r\nCosmosClientManager cosmosClientManager;\r\n\r\n@Mock\r\nCosmosContainer cosmosContainer;\r\n\r\n@Mock\r\nCosmosPagedIterable&lt;Employee&gt; page;\r\n\r\nwhen(cosmosClientManager.getCosmosContainer(anyString())).thenReturn(cosmosContainer);\r\nwhen(cosmosContainer.queryItems(anyString(), any(), eq(Employee.class))).thenReturn(page);\r\n\r\n// define responses:\r\nfinal List&lt;FeedResponse&lt;Employee&gt;&gt; = List.of(new FeedResponse&lt;&gt;(...), ...);\r\n// the iterable returns an iterator for the predefined list:\r\nfinal Iterable&lt;FeedResponse&lt;Employee&gt;&gt; iterable = responses::iterator; \r\nwhen(page.iterableByPage(any(), anyInt())).thenReturn(iterable);\r\n```\r\n\r\nIf possible, try to push the real behavior further up in the call chain. Have your container return a real `CosmosPagedIterable` instance for the page.\r\n\r\nThis related questions explains why it is problematic to mock/stub collections/containers: https://stackoverflow.com/questions/77122530/why-can-non-empty-mocked-list-not-be-looped","title":"How to write Junit test for Cosmos container query items?","body":"<p>Your iterable doesn't stub any of its methods, meaning that calling <code>iterator()</code> on it (which is what the enhanced for loop does) will get you a <code>null</code>. Either stub all required calls of the mock (<code>iterator()</code> and then return a proper iterator or stub all important methods on the iterator …), or change your code to return an actual <code>CosmosPagedIterable</code> instance.</p>\n<p>Note that your field is called <code>feedResponseIterator</code>, but it is not an iterator but an <code>Iterable</code> (an interface on clases which can <em>return</em> an iterator)</p>\n<p>Here's an example how you could use a real instance:</p>\n<pre><code>@Mock\nCosmosClientManager cosmosClientManager;\n\n@Mock\nCosmosContainer cosmosContainer;\n\n@Mock\nCosmosPagedIterable&lt;Employee&gt; page;\n\nwhen(cosmosClientManager.getCosmosContainer(anyString())).thenReturn(cosmosContainer);\nwhen(cosmosContainer.queryItems(anyString(), any(), eq(Employee.class))).thenReturn(page);\n\n// define responses:\nfinal List&lt;FeedResponse&lt;Employee&gt;&gt; = List.of(new FeedResponse&lt;&gt;(...), ...);\n// the iterable returns an iterator for the predefined list:\nfinal Iterable&lt;FeedResponse&lt;Employee&gt;&gt; iterable = responses::iterator; \nwhen(page.iterableByPage(any(), anyInt())).thenReturn(iterable);\n</code></pre>\n<p>If possible, try to push the real behavior further up in the call chain. Have your container return a real <code>CosmosPagedIterable</code> instance for the page.</p>\n<p>This related questions explains why it is problematic to mock/stub collections/containers: <a href=\"https://stackoverflow.com/questions/77122530/why-can-non-empty-mocked-list-not-be-looped\">Why can non-empty mocked list not be looped?</a></p>\n"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695154680,"creation_date":1695118463,"question_id":77133664,"body_markdown":"I have a requirement where I need to write Junit tests for the following piece of code. The issue I am unable to figure out how to create an actual dummy instance of ```Iterable&lt;FeedResponse&lt;T&gt;&gt;``` because if I pass mocked instance of ```Iterable&lt;FeedResponse&lt;T&gt;&gt;```,then the for loop in the next step throws null pointer exception as it tries to iterate over the mocked instance and finds nothing in it. Given below are the block of codes from the actual class and test method. Any lead would be highly appreciated.\r\n\r\n**Actual class - for loop is the issue**\r\n```\r\nIterable&lt;FeedResponse&lt;Employee&gt;&gt; feedResponseIterator = cosmosContainer\r\n                        .queryItems(query, queryOptions, Employee.class)\r\n                        .iterableByPage(continuationToken, pageSize);\r\nfor (FeedResponse&lt;Employee&gt; page : feedResponseIterator) {\r\n                    } \r\n```\r\n\r\n**Test Method - This approach throws null pointer from the for loop as discussed above**\r\n```\r\n@Mock\r\nCosmosClientManager cosmosClientManager;\r\n\r\n@Mock\r\nCosmosContainer cosmosContainer;\r\n\r\n@Mock\r\nCosmosPagedIterable&lt;Employee&gt; page;\r\n    \r\n@Mock\r\nIterable&lt;FeedResponse&lt;Employee&gt;&gt; feedResponseIterator;\r\n\r\nwhen(cosmosClientManager.getCosmosContainer(anyString())).thenReturn(cosmosContainer);\r\nwhen(cosmosContainer.queryItems(anyString(), any(), eq(Employee.class))).thenReturn(page);\r\nwhen(page.iterableByPage(any(), anyInt())).thenReturn(feedResponseIterator);\r\n```","title":"How to write Junit test for Cosmos container query items?","body":"<p>I have a requirement where I need to write Junit tests for the following piece of code. The issue I am unable to figure out how to create an actual dummy instance of <code>Iterable&lt;FeedResponse&lt;T&gt;&gt;</code> because if I pass mocked instance of <code>Iterable&lt;FeedResponse&lt;T&gt;&gt;</code>,then the for loop in the next step throws null pointer exception as it tries to iterate over the mocked instance and finds nothing in it. Given below are the block of codes from the actual class and test method. Any lead would be highly appreciated.</p>\n<p><strong>Actual class - for loop is the issue</strong></p>\n<pre><code>Iterable&lt;FeedResponse&lt;Employee&gt;&gt; feedResponseIterator = cosmosContainer\n                        .queryItems(query, queryOptions, Employee.class)\n                        .iterableByPage(continuationToken, pageSize);\nfor (FeedResponse&lt;Employee&gt; page : feedResponseIterator) {\n                    } \n</code></pre>\n<p><strong>Test Method - This approach throws null pointer from the for loop as discussed above</strong></p>\n<pre><code>@Mock\nCosmosClientManager cosmosClientManager;\n\n@Mock\nCosmosContainer cosmosContainer;\n\n@Mock\nCosmosPagedIterable&lt;Employee&gt; page;\n    \n@Mock\nIterable&lt;FeedResponse&lt;Employee&gt;&gt; feedResponseIterator;\n\nwhen(cosmosClientManager.getCosmosContainer(anyString())).thenReturn(cosmosContainer);\nwhen(cosmosContainer.queryItems(anyString(), any(), eq(Employee.class))).thenReturn(page);\nwhen(page.iterableByPage(any(), anyInt())).thenReturn(feedResponseIterator);\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":1,"creation_date":1596978685,"post_id":63326709,"comment_id":111978722,"body_markdown":"Try providing groupId for the plugin (`org.apache.maven.plugins` in this case)","body":"Try providing groupId for the plugin (<code>org.apache.maven.plugins</code> in this case)"},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1596978723,"post_id":63326709,"comment_id":111978747,"body_markdown":"thanks, I&#39;ll try. @kidney","body":"thanks, I&#39;ll try. @kidney"},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1596978801,"post_id":63326709,"comment_id":111978768,"body_markdown":"sorry, it doesn&#39;t work :(","body":"sorry, it doesn&#39;t work :("},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1596978864,"post_id":63326709,"comment_id":111978794,"body_markdown":"What&#39;s the error message you are getting?","body":"What&#39;s the error message you are getting?"},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1596978900,"post_id":63326709,"comment_id":111978806,"body_markdown":"`Plugin could not be resolved. Ensure the plugin&#39;s groupId, artifactId and version are present. Additional information: Unable \n to resolve maven-assembly-plugin`","body":"<code>Plugin could not be resolved. Ensure the plugin&#39;s groupId, artifactId and version are present. Additional information: Unable   to resolve maven-assembly-plugin</code>"},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":1,"creation_date":1596979706,"post_id":63326709,"comment_id":111979070,"body_markdown":"Interestingly, it works just fine for me. You can perhaps try deleting the local cache of the `maven-assemply-plugin` from `~/.m2/repository/org/apache/maven/plugins/maven-assembly-plugin/`","body":"Interestingly, it works just fine for me. You can perhaps try deleting the local cache of the <code>maven-assemply-plugin</code> from <code>~&#47;.m2&#47;repository&#47;org&#47;apache&#47;maven&#47;plugins&#47;maven-assembly-plu&zwnj;&#8203;gin&#47;</code>"},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1596980431,"post_id":63326709,"comment_id":111979290,"body_markdown":"okay, apparently the bug for me... thanks for checking, I&#39;ll try the way you suggest.","body":"okay, apparently the bug for me... thanks for checking, I&#39;ll try the way you suggest."},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":0,"creation_date":1596989071,"post_id":63326709,"comment_id":111982065,"body_markdown":"I use the externally downloaded maven, and it solves the problem. I&#39;ll add an organized answer.","body":"I use the externally downloaded maven, and it solves the problem. I&#39;ll add an organized answer."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1597013921,"post_id":63326709,"comment_id":111988558,"body_markdown":"Apart from your issue: You declare `&lt;maven.compiler.[source|target]&gt;1.7` and `&lt;release&gt;14` at the compiler plugin. That&#39;s contradicting. The new (since Java 9) `&lt;release&gt;` parameter replaces the older two and can be set via `&lt;properties&gt;/&lt;maven.compiler.release&gt;14`, too, instead of configuring it at the compiler plugin and is [preferred for cross-compiling](https://www.baeldung.com/maven-java-version#java9).","body":"Apart from your issue: You declare <code>&lt;maven.compiler.[source|target]&gt;1.7</code> and <code>&lt;release&gt;14</code> at the compiler plugin. That&#39;s contradicting. The new (since Java 9) <code>&lt;release&gt;</code> parameter replaces the older two and can be set via <code>&lt;properties&gt;&#47;&lt;maven.compiler.release&gt;14</code>, too, instead of configuring it at the compiler plugin and is <a href=\"https://www.baeldung.com/maven-java-version#java9\" rel=\"nofollow noreferrer\">preferred for cross-compiling</a>."},{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":1,"creation_date":1597024290,"post_id":63326709,"comment_id":111990239,"body_markdown":"Thanks, @GeroldBroser. It&#39;s another part I need to be aware of.","body":"Thanks, @GeroldBroser. It&#39;s another part I need to be aware of."}],"answers":[{"comments":[{"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"score":1,"creation_date":1596981183,"post_id":63327039,"comment_id":111979511,"body_markdown":"Thank you @Stefan, it&#39;s a direction for me to solve this problem. I&#39;ll try to figure out.","body":"Thank you @Stefan, it&#39;s a direction for me to solve this problem. I&#39;ll try to figure out."},{"owner":{"account_id":3675800,"reputation":182,"user_id":3061935,"accept_rate":43,"display_name":"Zaxxon"},"score":0,"creation_date":1620770169,"post_id":63327039,"comment_id":119298600,"body_markdown":"@Stefan, what do change in ~/.m2/settings.xml to fetch plugins via HTTPS protocol, instead of HTTP?","body":"@Stefan, what do change in ~/.m2/settings.xml to fetch plugins via HTTPS protocol, instead of HTTP?"},{"owner":{"account_id":2434783,"reputation":1779,"user_id":2124961,"display_name":"Stefan"},"score":0,"creation_date":1620886350,"post_id":63327039,"comment_id":119334213,"body_markdown":"I added an example file above.","body":"I added an example file above."}],"tags":[],"owner":{"account_id":2434783,"reputation":1779,"user_id":2124961,"display_name":"Stefan"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1620894954,"creation_date":1596980536,"answer_id":63327039,"question_id":63326709,"body_markdown":"You are possibly using an old Maven version that tries to fetch plugins via HTTP protocol. That has been disabled a few month ago. You must either use a more recent version of Maven or change your local configuration file `~/.m2/settings.xml` (or `C:\\users\\you\\.m2\\settings.xml`) to use HTTPS. If there is no such file, you can create it by copying from the example:\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;stefan&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;repositories&gt;\r\n\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                      &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;  \r\n \r\n                &lt;repository&gt;\r\n                    &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                    &lt;url&gt;https://repo.springsource.org/libs-milestone/&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                      &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n \r\n                &lt;repository&gt;\r\n                    &lt;id&gt;jboss&lt;/id&gt;\r\n                    &lt;url&gt;https://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                      &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;                \r\n            &lt;/repositories&gt;    \r\n \r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                      &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt; \r\n            &lt;/pluginRepositories&gt;\r\n            \r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;    \r\n&lt;/settings&gt;\r\n```","title":"Maven plugin cannot be resolved","body":"<p>You are possibly using an old Maven version that tries to fetch plugins via HTTP protocol. That has been disabled a few month ago. You must either use a more recent version of Maven or change your local configuration file <code>~/.m2/settings.xml</code> (or <code>C:\\users\\you\\.m2\\settings.xml</code>) to use HTTPS. If there is no such file, you can create it by copying from the example:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;stefan&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n\n                &lt;repository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                      &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;  \n \n                &lt;repository&gt;\n                    &lt;id&gt;spring-milestones&lt;/id&gt;\n                    &lt;url&gt;https://repo.springsource.org/libs-milestone/&lt;/url&gt;\n                    &lt;releases&gt;\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                      &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n \n                &lt;repository&gt;\n                    &lt;id&gt;jboss&lt;/id&gt;\n                    &lt;url&gt;https://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;\n                    &lt;releases&gt;\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                      &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;                \n            &lt;/repositories&gt;    \n \n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                      &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt; \n            &lt;/pluginRepositories&gt;\n            \n        &lt;/profile&gt;\n    &lt;/profiles&gt;    \n&lt;/settings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597025408,"creation_date":1597025408,"answer_id":63333228,"question_id":63326709,"body_markdown":"For this question, I decided to use the downloaded apache maven zip instead of the built-in maven in eclipse. \r\n\r\n 1. Check if Maven inside eclipse.\r\nFile → New → Other\r\n 2. Install `m2e`.\r\nHelp → Install New Software http://download.eclipse.org/technology/m2e/releases\r\n 3. Download the Maven zip and set the environment variables to the main folder.\r\n 4. If successful, in cmd, `mvn --version` command shall see the version of maven and related information.\r\n 5. In the downloaded maven folder, create a new folder `repository`.\r\n 6. In the downloaded maven folder, find `conf/`→ `settings.xml`. Find the tag `&lt;localRepository&gt;` and modify the path to the `repository` folder just created.\r\n 7. Windows → Preferences → Maven → Installations → Add → Directory to the downloaded maven folder → Apply\r\n 8. Maven → User Settings → Browse the edited `settings.xml` → OK\r\n 9. Restart eclipse.\r\n\r\nIf all processes are successful, then the plugin issue will be resolved.\r\n\r\nreference: https://o7planning.org/en/10101/install-maven-into-eclipse\r\n","title":"Maven plugin cannot be resolved","body":"<p>For this question, I decided to use the downloaded apache maven zip instead of the built-in maven in eclipse.</p>\n<ol>\n<li>Check if Maven inside eclipse.\nFile → New → Other</li>\n<li>Install <code>m2e</code>.\nHelp → Install New Software <a href=\"http://download.eclipse.org/technology/m2e/releases\" rel=\"nofollow noreferrer\">http://download.eclipse.org/technology/m2e/releases</a></li>\n<li>Download the Maven zip and set the environment variables to the main folder.</li>\n<li>If successful, in cmd, <code>mvn --version</code> command shall see the version of maven and related information.</li>\n<li>In the downloaded maven folder, create a new folder <code>repository</code>.</li>\n<li>In the downloaded maven folder, find <code>conf/</code>→ <code>settings.xml</code>. Find the tag <code>&lt;localRepository&gt;</code> and modify the path to the <code>repository</code> folder just created.</li>\n<li>Windows → Preferences → Maven → Installations → Add → Directory to the downloaded maven folder → Apply</li>\n<li>Maven → User Settings → Browse the edited <code>settings.xml</code> → OK</li>\n<li>Restart eclipse.</li>\n</ol>\n<p>If all processes are successful, then the plugin issue will be resolved.</p>\n<p>reference: <a href=\"https://o7planning.org/en/10101/install-maven-into-eclipse\" rel=\"nofollow noreferrer\">https://o7planning.org/en/10101/install-maven-into-eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":22135931,"reputation":39,"user_id":16386729,"display_name":"baul"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1625520604,"creation_date":1625520604,"answer_id":68262287,"question_id":63326709,"body_markdown":"You have to put the groupId in above the artifactId.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\t\t  \r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;de.uulm.sp.pvs.sokoban.App&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n            &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven plugin cannot be resolved","body":"<p>You have to put the groupId in above the artifactId.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;       \n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;de.uulm.sp.pvs.sokoban.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695154161,"creation_date":1695154161,"answer_id":77137680,"question_id":63326709,"body_markdown":"This can happen if there is no settings.xml file. Try pointing to the settings filer, explicitly, to see if the error goes away. \r\n\r\n    mvn clean install -s /some/dir/settings.xml ","title":"Maven plugin cannot be resolved","body":"<p>This can happen if there is no settings.xml file. Try pointing to the settings filer, explicitly, to see if the error goes away.</p>\n<pre><code>mvn clean install -s /some/dir/settings.xml \n</code></pre>\n"}],"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22811,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":63327039,"answer_count":4,"score":5,"last_activity_date":1695154161,"creation_date":1596978491,"question_id":63326709,"body_markdown":"I&#39;ve searched this problem as the title says but still don&#39;t know what I should do. I am trying to build an executable jar file, but one of the plugins `maven-assembly-plugin` cannot be resolved. \r\n\r\nI&#39;ve tried the https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\r\nbut it doesn&#39;t work. I put the entire `pom.xml` file, and the plugin is at the bottom of the file. Any help is highly appreciated.\r\n\r\nHere is the error message:\r\n\r\n    Plugin could not be resolved. Ensure the plugin&#39;s groupId, artifactId and \r\n    version are present. Additional information: Plugin \r\n    org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5 or one of its \r\n    dependencies could not be resolved: Failed to read \r\n    artifact descriptor for org.apache.maven.plugins:maven-assembly-plugin:jar:2.2-beta-5\r\n    \r\nHere is the file:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema- instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;distributed.systems&lt;/groupId&gt;\r\n    &lt;artifactId&gt;leader.election&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;leader.election&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\r\n      &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n    \t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n        \t\t&lt;release&gt;14&lt;/release&gt;\r\n    \t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t  &lt;executions&gt;\r\n\t\t  \t&lt;execution&gt;\r\n\t\t  \t  &lt;phase&gt;package&lt;/phase&gt;\r\n\t\t  \t  &lt;goals&gt;\r\n\t\t  \t    &lt;goal&gt;single&lt;/goal&gt;\r\n\t\t  \t  &lt;/goals&gt;\r\n\t\t  \t&lt;/execution&gt;\r\n\t\t  &lt;/executions&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t    &lt;archive&gt;\r\n\t\t      &lt;manifest&gt;\r\n\t\t        &lt;mainClass&gt;LeaderElection&lt;/mainClass&gt;\r\n\t\t      &lt;/manifest&gt;\r\n\t\t    &lt;/archive&gt;\r\n\t\t    &lt;descriptorRefs&gt;\r\n\t\t      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t    &lt;/descriptorRefs&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt; \r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"Maven plugin cannot be resolved","body":"<p>I've searched this problem as the title says but still don't know what I should do. I am trying to build an executable jar file, but one of the plugins <code>maven-assembly-plugin</code> cannot be resolved.</p>\n<p>I've tried the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/usage.html</a>\nbut it doesn't work. I put the entire <code>pom.xml</code> file, and the plugin is at the bottom of the file. Any help is highly appreciated.</p>\n<p>Here is the error message:</p>\n<pre><code>Plugin could not be resolved. Ensure the plugin's groupId, artifactId and \nversion are present. Additional information: Plugin \norg.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5 or one of its \ndependencies could not be resolved: Failed to read \nartifact descriptor for org.apache.maven.plugins:maven-assembly-plugin:jar:2.2-beta-5\n</code></pre>\n<p>Here is the file:\n</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema- instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;distributed.systems&lt;/groupId&gt;\n&lt;artifactId&gt;leader.election&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;leader.election&lt;/name&gt;\n&lt;!-- FIXME change it to the project's website --&gt;\n&lt;url&gt;http://www.example.com&lt;/url&gt;\n\n&lt;properties&gt;\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.11&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\n  &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\n  &lt;version&gt;3.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n  &lt;plugins&gt;\n    &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.7.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;14&lt;/release&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;single&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;LeaderElection&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt; \n  &lt;/plugins&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n  \n\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695080265,"post_id":77130834,"comment_id":135973606,"body_markdown":"Please show your exception&#39;s stack trace","body":"Please show your exception&#39;s stack trace"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695081402,"post_id":77130834,"comment_id":135973702,"body_markdown":"You know that you have a lot unnecessarily repetitive code, right?","body":"You know that you have a lot unnecessarily repetitive code, right?"}],"answers":[{"comments":[{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1695091229,"post_id":77130966,"comment_id":135974447,"body_markdown":"Lol not enough sleep. That&#39;s funny. :doh","body":"Lol not enough sleep. That&#39;s funny. :doh"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1695111231,"post_id":77130966,"comment_id":135976931,"body_markdown":"happens to the best :)","body":"happens to the best :)"}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695081559,"creation_date":1695081559,"answer_id":77130966,"question_id":77130834,"body_markdown":"From the provided code, it appears that there is a potential memory leak in the **GetChangedLedObjects** method due to the way you&#39;re updating the **myList** LinkedList. The method is intended to return a list of LED objects that have their **updateRequired** property set to **true**. However, instead of adding the LED objects meeting this condition to a new list, you are adding them back to the original list, causing a potential infinite loop and memory consumption.\r\n\r\nHere&#39;s the corrected **GetChangedLedObjects** method:\r\n\r\n    public LinkedList&lt;LED&gt; GetChangedLedObjects() {\r\n        LinkedList&lt;LED&gt; changedLedList = new LinkedList&lt;&gt;();\r\n        LinkedList&lt;LED&gt; myList = getLedLinkedList();\r\n    \r\n        for (int i = 0; i &lt; myList.size(); i++) {\r\n            LED led = myList.get(i);\r\n            if (led.updateRequired) {\r\n                changedLedList.add(led); // Add the changed LED to the new list\r\n            }\r\n        }\r\n        return changedLedList;\r\n    }\r\n\r\nBy making these changes, you prevent the original LinkedList from growing indefinitely and causing a memory leak.\r\n\r\n\r\nHave fun!\r\n","title":"out of memory exception caused by looping over a linked list","body":"<p>From the provided code, it appears that there is a potential memory leak in the <strong>GetChangedLedObjects</strong> method due to the way you're updating the <strong>myList</strong> LinkedList. The method is intended to return a list of LED objects that have their <strong>updateRequired</strong> property set to <strong>true</strong>. However, instead of adding the LED objects meeting this condition to a new list, you are adding them back to the original list, causing a potential infinite loop and memory consumption.</p>\n<p>Here's the corrected <strong>GetChangedLedObjects</strong> method:</p>\n<pre><code>public LinkedList&lt;LED&gt; GetChangedLedObjects() {\n    LinkedList&lt;LED&gt; changedLedList = new LinkedList&lt;&gt;();\n    LinkedList&lt;LED&gt; myList = getLedLinkedList();\n\n    for (int i = 0; i &lt; myList.size(); i++) {\n        LED led = myList.get(i);\n        if (led.updateRequired) {\n            changedLedList.add(led); // Add the changed LED to the new list\n        }\n    }\n    return changedLedList;\n}\n</code></pre>\n<p>By making these changes, you prevent the original LinkedList from growing indefinitely and causing a memory leak.</p>\n<p>Have fun!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695154129,"creation_date":1695087319,"answer_id":77131216,"question_id":77130834,"body_markdown":"As a reference, you can significantly reduce your code.\r\n\r\nUtilize a _Map_ to index the _LED_ values.\r\n\r\n```java\r\nclass StateMachine {\r\n    Map&lt;String, LED&gt; map = new HashMap&lt;&gt;();\r\n\r\n    public void InitialiseStateMachine(Map&lt; String, Button&gt; buttonMap) {\r\n        String s;\r\n        Button b;\r\n        for (int i = 1; i &lt;= 8; i++) {\r\n            b = buttonMap.getOrDefault(s = (&quot;zone&quot; + i), new Button());\r\n            map.put(s, new LED(b.Id, b.onState, b.offState));\r\n        }\r\n        for (LED.Value v : LED.Value.values()) {\r\n            b = buttonMap.getOrDefault(s = v.name().toLowerCase(), new Button());\r\n            map.put(s, new LED(b.Id, b.onState, b.offState));\r\n        }\r\n    }\r\n\r\n    public boolean StateHasChanged() {\r\n        return map.values().stream().anyMatch(i -&gt; i.updateRequired);\r\n    }\r\n\r\n    public LinkedList &lt; LED &gt; GetChangedLedObjects() {\r\n        LinkedList&lt;LED&gt; c = new LinkedList&lt;&gt;();\r\n        for (Map.Entry&lt;String, LED&gt; e : map.entrySet())\r\n            if (e.getValue().updateRequired) c.add(e.getValue());\r\n        return c;\r\n    }\r\n\r\n    public void SetZone1Status(boolean state) {\r\n        LED led = map.get(&quot;zone1&quot;);\r\n        if (state != led.onState) {\r\n            led.onState = state;\r\n            led.updateRequired = true;\r\n        }\r\n    }\r\n\r\n    public Map &lt; String, Boolean &gt; GetZone1Status() {\r\n        Map &lt; String, Boolean &gt; map = new HashMap&lt; &gt;();\r\n        LED led = this.map.get(&quot;zone1&quot;);\r\n        map.put(&quot;state&quot;, led.onState);\r\n        map.put(&quot;updateRequired&quot;, led.updateRequired);\r\n        return map;\r\n    }\r\n\r\n    public void SetZone2Status(boolean state) {\r\n        LED led;\r\n        if (state != (led = map.get(&quot;zone2&quot;)).onState) {\r\n            led.onState = state;\r\n            led.updateRequired = true;\r\n        }\r\n    }\r\n}\r\n\r\nclass LED {\r\n    enum Value { TAMPER, SOS, UNST, PWR, SET, ABRT, INTR, PA }\r\n    public boolean onState, updateRequired;\r\n    public int Id;\r\n    public Drawable onStateDrawable, offStateDrawable;\r\n\r\n    public LED(int id, Drawable onStateDrawable, Drawable offStateDrawable) {\r\n        Id = id;\r\n        this.onStateDrawable = onStateDrawable;\r\n        this.offStateDrawable = offStateDrawable;\r\n    }\r\n}\r\n```","title":"out of memory exception caused by looping over a linked list","body":"<p>As a reference, you can significantly reduce your code.</p>\n<p>Utilize a <em>Map</em> to index the <em>LED</em> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class StateMachine {\n    Map&lt;String, LED&gt; map = new HashMap&lt;&gt;();\n\n    public void InitialiseStateMachine(Map&lt; String, Button&gt; buttonMap) {\n        String s;\n        Button b;\n        for (int i = 1; i &lt;= 8; i++) {\n            b = buttonMap.getOrDefault(s = (&quot;zone&quot; + i), new Button());\n            map.put(s, new LED(b.Id, b.onState, b.offState));\n        }\n        for (LED.Value v : LED.Value.values()) {\n            b = buttonMap.getOrDefault(s = v.name().toLowerCase(), new Button());\n            map.put(s, new LED(b.Id, b.onState, b.offState));\n        }\n    }\n\n    public boolean StateHasChanged() {\n        return map.values().stream().anyMatch(i -&gt; i.updateRequired);\n    }\n\n    public LinkedList &lt; LED &gt; GetChangedLedObjects() {\n        LinkedList&lt;LED&gt; c = new LinkedList&lt;&gt;();\n        for (Map.Entry&lt;String, LED&gt; e : map.entrySet())\n            if (e.getValue().updateRequired) c.add(e.getValue());\n        return c;\n    }\n\n    public void SetZone1Status(boolean state) {\n        LED led = map.get(&quot;zone1&quot;);\n        if (state != led.onState) {\n            led.onState = state;\n            led.updateRequired = true;\n        }\n    }\n\n    public Map &lt; String, Boolean &gt; GetZone1Status() {\n        Map &lt; String, Boolean &gt; map = new HashMap&lt; &gt;();\n        LED led = this.map.get(&quot;zone1&quot;);\n        map.put(&quot;state&quot;, led.onState);\n        map.put(&quot;updateRequired&quot;, led.updateRequired);\n        return map;\n    }\n\n    public void SetZone2Status(boolean state) {\n        LED led;\n        if (state != (led = map.get(&quot;zone2&quot;)).onState) {\n            led.onState = state;\n            led.updateRequired = true;\n        }\n    }\n}\n\nclass LED {\n    enum Value { TAMPER, SOS, UNST, PWR, SET, ABRT, INTR, PA }\n    public boolean onState, updateRequired;\n    public int Id;\n    public Drawable onStateDrawable, offStateDrawable;\n\n    public LED(int id, Drawable onStateDrawable, Drawable offStateDrawable) {\n        Id = id;\n        this.onStateDrawable = onStateDrawable;\n        this.offStateDrawable = offStateDrawable;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695154129,"creation_date":1695078791,"question_id":77130834,"body_markdown":"The following innocient piece of code causes a memory leak I don&#39;t understand why. It appears to fall over when I call GetChangedLedObjects(). why  \r\n\r\nIs it possible it&#39;s genuinely needs more memory?\r\n\r\n        public class StateMachine {\r\n          private LED zone1 = new LED();\r\n          private LED zone2 = new LED();\r\n          private LED zone3 = new LED();\r\n          private LED zone4 = new LED();\r\n          private LED zone5 = new LED();\r\n          private LED zone6 = new LED();\r\n          private LED zone7 = new LED();\r\n          private LED zone8 = new LED();\r\n          private LED tamper = new LED();\r\n          private LED sos = new LED();\r\n          private LED unst = new LED();\r\n          private LED pwr = new LED();\r\n          private LED set = new LED();\r\n          private LED abrt = new LED();\r\n          private LED intr = new LED();\r\n          private LED pa = new LED();\r\n\r\n          private Message lcd = new Message();\r\n\r\n          public void InitialiseStateMachine(Map &lt; String, Button &gt; buttonMap) {\r\n            Button zone1 = buttonMap.getOrDefault(&quot;zone1&quot;, new Button());\r\n            this.zone1.Id = zone1.Id;\r\n            this.zone1.onStateDrawable = zone1.onState;\r\n            this.zone1.offStateDrawable = zone1.offState;\r\n\r\n            Button zone2 = buttonMap.getOrDefault(&quot;zone2&quot;, new Button());\r\n            this.zone2.Id = zone2.Id;\r\n            this.zone2.onStateDrawable = zone2.onState;\r\n            this.zone2.offStateDrawable = zone2.offState;\r\n\r\n            Button zone3 = buttonMap.getOrDefault(&quot;zone3&quot;, new Button());\r\n            this.zone3.Id = zone3.Id;\r\n            this.zone3.onStateDrawable = zone3.onState;\r\n            this.zone3.offStateDrawable = zone3.offState;\r\n\r\n            Button zone4 = buttonMap.getOrDefault(&quot;zone4&quot;, new Button());\r\n            this.zone4.Id = zone4.Id;\r\n            this.zone4.onStateDrawable = zone4.onState;\r\n            this.zone4.offStateDrawable = zone4.offState;\r\n\r\n            Button zone5 = buttonMap.getOrDefault(&quot;zone5&quot;, new Button());\r\n            this.zone5.Id = zone5.Id;\r\n            this.zone5.onStateDrawable = zone5.onState;\r\n            this.zone5.offStateDrawable = zone5.offState;\r\n\r\n            Button zone6 = buttonMap.getOrDefault(&quot;zone6&quot;, new Button());\r\n            this.zone6.Id = zone6.Id;\r\n            this.zone6.onStateDrawable = zone6.onState;\r\n            this.zone6.offStateDrawable = zone6.offState;\r\n\r\n            Button zone7 = buttonMap.getOrDefault(&quot;zone7&quot;, new Button());\r\n            this.zone7.Id = zone7.Id;\r\n            this.zone7.onStateDrawable = zone7.onState;\r\n            this.zone7.offStateDrawable = zone7.offState;\r\n\r\n            Button zone8 = buttonMap.getOrDefault(&quot;zone8&quot;, new Button());\r\n            this.zone8.Id = zone6.Id;\r\n            this.zone8.onStateDrawable = zone8.onState;\r\n            this.zone8.offStateDrawable = zone8.offState;\r\n\r\n            Button tamper = buttonMap.getOrDefault(&quot;tamper&quot;, new Button());\r\n            this.tamper.Id = zone6.Id;\r\n            this.tamper.onStateDrawable = tamper.onState;\r\n            this.tamper.offStateDrawable = tamper.offState;\r\n\r\n            Button sos = buttonMap.getOrDefault(&quot;sos&quot;, new Button());\r\n            this.sos.Id = zone6.Id;\r\n            this.sos.onStateDrawable = sos.onState;\r\n            this.sos.offStateDrawable = sos.offState;\r\n\r\n            Button unst = buttonMap.getOrDefault(&quot;unst&quot;, new Button());\r\n            this.unst.Id = unst.Id;\r\n            this.unst.onStateDrawable = unst.onState;\r\n            this.unst.offStateDrawable = unst.offState;\r\n\r\n            Button pwr = buttonMap.getOrDefault(&quot;pwr&quot;, new Button());\r\n            this.pwr.Id = pwr.Id;\r\n            this.pwr.onStateDrawable = pwr.onState;\r\n            this.pwr.offStateDrawable = pwr.offState;\r\n\r\n            Button set = buttonMap.getOrDefault(&quot;set&quot;, new Button());\r\n            this.set.Id = set.Id;\r\n            this.set.onStateDrawable = set.onState;\r\n            this.set.offStateDrawable = set.offState;\r\n\r\n            Button abrt = buttonMap.getOrDefault(&quot;abrt&quot;, new Button());\r\n            this.abrt.Id = abrt.Id;\r\n            this.abrt.onStateDrawable = abrt.onState;\r\n            this.abrt.offStateDrawable = abrt.offState;\r\n\r\n            Button intr = buttonMap.getOrDefault(&quot;intr&quot;, new Button());\r\n            this.intr.Id = intr.Id;\r\n            this.intr.onStateDrawable = intr.onState;\r\n            this.intr.offStateDrawable = intr.offState;\r\n\r\n            Button pa = buttonMap.getOrDefault(&quot;pa&quot;, new Button());\r\n            this.pa.Id = pa.Id;\r\n            this.pa.onStateDrawable = pa.onState;\r\n            this.pa.offStateDrawable = pa.offState;\r\n          }\r\n\r\n          public boolean StateHasChanged() {\r\n            boolean changed = false;\r\n            LinkedList &lt; LED &gt; myList = getLedLinkedList();\r\n\r\n            for (int i = 0; i &lt; myList.size(); i++) {\r\n              LED led = myList.get(i);\r\n              if (led.updateRequired == true) {\r\n                changed = true;\r\n                break;\r\n              }\r\n            }\r\n            return changed;\r\n          }\r\n\r\n          @NonNull\r\n          private LinkedList &lt; LED &gt; getLedLinkedList() {\r\n            LinkedList &lt; LED &gt; myList = new LinkedList &lt; &gt; ();\r\n            myList.add(zone1);\r\n            myList.add(zone2);\r\n            myList.add(zone3);\r\n            myList.add(zone4);\r\n            myList.add(zone5);\r\n            myList.add(zone6);\r\n            myList.add(zone7);\r\n            myList.add(zone8);\r\n            myList.add(tamper);\r\n            myList.add(sos);\r\n            myList.add(unst);\r\n            myList.add(pwr);\r\n            myList.add(set);\r\n            myList.add(abrt);\r\n            myList.add(intr);\r\n            myList.add(pa);\r\n            return myList;\r\n          }\r\n\r\n          public LinkedList &lt; LED &gt; GetChangedLedObjects() {\r\n            boolean changed = false;\r\n            LinkedList &lt; LED &gt; myList = getLedLinkedList();\r\n\r\n            for (int i = 0; i &lt; myList.size(); i++) {\r\n              LED led = myList.get(i);\r\n              if (led.updateRequired == true) {\r\n                myList.add(led);\r\n              }\r\n              led = null;\r\n            }\r\n            return myList;\r\n          }\r\n\r\n          public void SetZone1Status(boolean state) {\r\n            if (state != this.zone1.onState) {\r\n              this.zone1.onState = state;\r\n              this.zone1.updateRequired = true;\r\n            }\r\n          }\r\n\r\n          public Map &lt; String, Boolean &gt; GetZone1Status() {\r\n            Map &lt; String, Boolean &gt; map = new HashMap &lt; &gt; ();\r\n            map.put(&quot;state&quot;, this.zone1.onState);\r\n            map.put(&quot;updateRequired&quot;, this.zone1.updateRequired);\r\n            return map;\r\n          }\r\n\r\n          public void SetZone2Status(boolean state) {\r\n            if (state != this.zone2.onState) {\r\n              this.zone2.onState = state;\r\n              this.zone2.updateRequired = true;\r\n            }\r\n          }\r\n        }\r\n\r\n    public class LED {\r\n        public boolean onState;\r\n        public boolean updateRequired;\r\n        public int Id;\r\n        public Drawable onStateDrawable;\r\n        public Drawable offStateDrawable;\r\n    }\r\n\r\n","title":"out of memory exception caused by looping over a linked list","body":"<p>The following innocient piece of code causes a memory leak I don't understand why. It appears to fall over when I call GetChangedLedObjects(). why</p>\n<p>Is it possible it's genuinely needs more memory?</p>\n<pre><code>    public class StateMachine {\n      private LED zone1 = new LED();\n      private LED zone2 = new LED();\n      private LED zone3 = new LED();\n      private LED zone4 = new LED();\n      private LED zone5 = new LED();\n      private LED zone6 = new LED();\n      private LED zone7 = new LED();\n      private LED zone8 = new LED();\n      private LED tamper = new LED();\n      private LED sos = new LED();\n      private LED unst = new LED();\n      private LED pwr = new LED();\n      private LED set = new LED();\n      private LED abrt = new LED();\n      private LED intr = new LED();\n      private LED pa = new LED();\n\n      private Message lcd = new Message();\n\n      public void InitialiseStateMachine(Map &lt; String, Button &gt; buttonMap) {\n        Button zone1 = buttonMap.getOrDefault(&quot;zone1&quot;, new Button());\n        this.zone1.Id = zone1.Id;\n        this.zone1.onStateDrawable = zone1.onState;\n        this.zone1.offStateDrawable = zone1.offState;\n\n        Button zone2 = buttonMap.getOrDefault(&quot;zone2&quot;, new Button());\n        this.zone2.Id = zone2.Id;\n        this.zone2.onStateDrawable = zone2.onState;\n        this.zone2.offStateDrawable = zone2.offState;\n\n        Button zone3 = buttonMap.getOrDefault(&quot;zone3&quot;, new Button());\n        this.zone3.Id = zone3.Id;\n        this.zone3.onStateDrawable = zone3.onState;\n        this.zone3.offStateDrawable = zone3.offState;\n\n        Button zone4 = buttonMap.getOrDefault(&quot;zone4&quot;, new Button());\n        this.zone4.Id = zone4.Id;\n        this.zone4.onStateDrawable = zone4.onState;\n        this.zone4.offStateDrawable = zone4.offState;\n\n        Button zone5 = buttonMap.getOrDefault(&quot;zone5&quot;, new Button());\n        this.zone5.Id = zone5.Id;\n        this.zone5.onStateDrawable = zone5.onState;\n        this.zone5.offStateDrawable = zone5.offState;\n\n        Button zone6 = buttonMap.getOrDefault(&quot;zone6&quot;, new Button());\n        this.zone6.Id = zone6.Id;\n        this.zone6.onStateDrawable = zone6.onState;\n        this.zone6.offStateDrawable = zone6.offState;\n\n        Button zone7 = buttonMap.getOrDefault(&quot;zone7&quot;, new Button());\n        this.zone7.Id = zone7.Id;\n        this.zone7.onStateDrawable = zone7.onState;\n        this.zone7.offStateDrawable = zone7.offState;\n\n        Button zone8 = buttonMap.getOrDefault(&quot;zone8&quot;, new Button());\n        this.zone8.Id = zone6.Id;\n        this.zone8.onStateDrawable = zone8.onState;\n        this.zone8.offStateDrawable = zone8.offState;\n\n        Button tamper = buttonMap.getOrDefault(&quot;tamper&quot;, new Button());\n        this.tamper.Id = zone6.Id;\n        this.tamper.onStateDrawable = tamper.onState;\n        this.tamper.offStateDrawable = tamper.offState;\n\n        Button sos = buttonMap.getOrDefault(&quot;sos&quot;, new Button());\n        this.sos.Id = zone6.Id;\n        this.sos.onStateDrawable = sos.onState;\n        this.sos.offStateDrawable = sos.offState;\n\n        Button unst = buttonMap.getOrDefault(&quot;unst&quot;, new Button());\n        this.unst.Id = unst.Id;\n        this.unst.onStateDrawable = unst.onState;\n        this.unst.offStateDrawable = unst.offState;\n\n        Button pwr = buttonMap.getOrDefault(&quot;pwr&quot;, new Button());\n        this.pwr.Id = pwr.Id;\n        this.pwr.onStateDrawable = pwr.onState;\n        this.pwr.offStateDrawable = pwr.offState;\n\n        Button set = buttonMap.getOrDefault(&quot;set&quot;, new Button());\n        this.set.Id = set.Id;\n        this.set.onStateDrawable = set.onState;\n        this.set.offStateDrawable = set.offState;\n\n        Button abrt = buttonMap.getOrDefault(&quot;abrt&quot;, new Button());\n        this.abrt.Id = abrt.Id;\n        this.abrt.onStateDrawable = abrt.onState;\n        this.abrt.offStateDrawable = abrt.offState;\n\n        Button intr = buttonMap.getOrDefault(&quot;intr&quot;, new Button());\n        this.intr.Id = intr.Id;\n        this.intr.onStateDrawable = intr.onState;\n        this.intr.offStateDrawable = intr.offState;\n\n        Button pa = buttonMap.getOrDefault(&quot;pa&quot;, new Button());\n        this.pa.Id = pa.Id;\n        this.pa.onStateDrawable = pa.onState;\n        this.pa.offStateDrawable = pa.offState;\n      }\n\n      public boolean StateHasChanged() {\n        boolean changed = false;\n        LinkedList &lt; LED &gt; myList = getLedLinkedList();\n\n        for (int i = 0; i &lt; myList.size(); i++) {\n          LED led = myList.get(i);\n          if (led.updateRequired == true) {\n            changed = true;\n            break;\n          }\n        }\n        return changed;\n      }\n\n      @NonNull\n      private LinkedList &lt; LED &gt; getLedLinkedList() {\n        LinkedList &lt; LED &gt; myList = new LinkedList &lt; &gt; ();\n        myList.add(zone1);\n        myList.add(zone2);\n        myList.add(zone3);\n        myList.add(zone4);\n        myList.add(zone5);\n        myList.add(zone6);\n        myList.add(zone7);\n        myList.add(zone8);\n        myList.add(tamper);\n        myList.add(sos);\n        myList.add(unst);\n        myList.add(pwr);\n        myList.add(set);\n        myList.add(abrt);\n        myList.add(intr);\n        myList.add(pa);\n        return myList;\n      }\n\n      public LinkedList &lt; LED &gt; GetChangedLedObjects() {\n        boolean changed = false;\n        LinkedList &lt; LED &gt; myList = getLedLinkedList();\n\n        for (int i = 0; i &lt; myList.size(); i++) {\n          LED led = myList.get(i);\n          if (led.updateRequired == true) {\n            myList.add(led);\n          }\n          led = null;\n        }\n        return myList;\n      }\n\n      public void SetZone1Status(boolean state) {\n        if (state != this.zone1.onState) {\n          this.zone1.onState = state;\n          this.zone1.updateRequired = true;\n        }\n      }\n\n      public Map &lt; String, Boolean &gt; GetZone1Status() {\n        Map &lt; String, Boolean &gt; map = new HashMap &lt; &gt; ();\n        map.put(&quot;state&quot;, this.zone1.onState);\n        map.put(&quot;updateRequired&quot;, this.zone1.updateRequired);\n        return map;\n      }\n\n      public void SetZone2Status(boolean state) {\n        if (state != this.zone2.onState) {\n          this.zone2.onState = state;\n          this.zone2.updateRequired = true;\n        }\n      }\n    }\n\npublic class LED {\n    public boolean onState;\n    public boolean updateRequired;\n    public int Id;\n    public Drawable onStateDrawable;\n    public Drawable offStateDrawable;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1695067453,"post_id":77130082,"comment_id":135972082,"body_markdown":"Why you are not using [testContainers](https://testcontainers.com/) for this kind of test ?","body":"Why you are not using <a href=\"https://testcontainers.com/\" rel=\"nofollow noreferrer\">testContainers</a> for this kind of test ?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1695144318,"post_id":77130082,"comment_id":135983690,"body_markdown":"@AndreiLisa I cannot spin up dockers. Infra limitations.","body":"@AndreiLisa I cannot spin up dockers. Infra limitations."}],"answers":[{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1695144366,"post_id":77130826,"comment_id":135983698,"body_markdown":"This does not show how I can change the datasource for `JdbcTest`.","body":"This does not show how I can change the datasource for <code>JdbcTest</code>."},{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1695203064,"post_id":77130826,"comment_id":135991582,"body_markdown":"Please don&#39;t post external links only as the can get removed, outdated, ... Rather summarize the relevant contents of the linked page. You can refer to https://stackoverflow.com/help/how-to-answer .","body":"Please don&#39;t post external links only as the can get removed, outdated, ... Rather summarize the relevant contents of the linked page. You can refer to <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a> ."}],"tags":[],"owner":{"account_id":5495988,"reputation":24,"user_id":9024860,"display_name":"Iv&#225;n M&#233;ndez L&#243;pez"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1695078662,"creation_date":1695078662,"answer_id":77130826,"question_id":77130082,"body_markdown":"Maybe this article can help you\r\nhttps://www.baeldung.com/spring-testing-separate-data-source\r\n\r\nIvan!","title":"How do I configure H2 used in @JdbcTest?","body":"<p>Maybe this article can help you\n<a href=\"https://www.baeldung.com/spring-testing-separate-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-testing-separate-data-source</a></p>\n<p>Ivan!</p>\n"},{"tags":[],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695153875,"creation_date":1695153875,"answer_id":77137657,"question_id":77130082,"body_markdown":"There is no way to do this with a Integration Test Slice like `JdbcTest`.\r\n\r\nHere is what I did.\r\n\r\nI put a `application.properties` file in my `src/test/resources` folder.\r\n\r\nit contains the following entries:\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:h2Test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n    spring.datasource.username=sa\r\n\r\nI had to write a full integration test for this:\r\n\r\n    @SpringBootTest\r\n    @Sql(scripts = &quot;/test_setup.sql&quot;)\r\n    class RepositoryTest {\r\n    \r\n        @Autowired\r\n        private JdbcTemplate jdbcTemplate;\r\n\r\nThankfully the `@Sql` still worked. The test_setup.sql was located alongside the `application.properties` in `src/test/resources`.\r\n\r\n**Why JDBC test will not work**\r\n\r\nThe reason is because the configuration is hardcoded into the \r\n\r\n    org.springframework.jdbc.datasource.embedded.H2EmbeddedDatabaseConfigurer\r\n\r\n    public void configureConnectionProperties(ConnectionProperties properties, String databaseName) {\r\n    \t\tproperties.setDriverClass(this.driverClass);\r\n    \t\tproperties.setUrl(String.format(&quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false&quot;, databaseName));\r\n    \t\tproperties.setUsername(&quot;sa&quot;);\r\n    \t\tproperties.setPassword(&quot;&quot;);\r\n    \t}\r\n\r\nThere is no way to change that connection string.\r\n\r\nThis configuration is used in `org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration`\r\n\r\nwith no way to override the settings.\r\n\r\nMaybe a GitHub issue will resolve this.","title":"How do I configure H2 used in @JdbcTest?","body":"<p>There is no way to do this with a Integration Test Slice like <code>JdbcTest</code>.</p>\n<p>Here is what I did.</p>\n<p>I put a <code>application.properties</code> file in my <code>src/test/resources</code> folder.</p>\n<p>it contains the following entries:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:h2Test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\nspring.datasource.username=sa\n</code></pre>\n<p>I had to write a full integration test for this:</p>\n<pre><code>@SpringBootTest\n@Sql(scripts = &quot;/test_setup.sql&quot;)\nclass RepositoryTest {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n</code></pre>\n<p>Thankfully the <code>@Sql</code> still worked. The test_setup.sql was located alongside the <code>application.properties</code> in <code>src/test/resources</code>.</p>\n<p><strong>Why JDBC test will not work</strong></p>\n<p>The reason is because the configuration is hardcoded into the</p>\n<pre><code>org.springframework.jdbc.datasource.embedded.H2EmbeddedDatabaseConfigurer\n\npublic void configureConnectionProperties(ConnectionProperties properties, String databaseName) {\n        properties.setDriverClass(this.driverClass);\n        properties.setUrl(String.format(&quot;jdbc:h2:mem:%s;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false&quot;, databaseName));\n        properties.setUsername(&quot;sa&quot;);\n        properties.setPassword(&quot;&quot;);\n    }\n</code></pre>\n<p>There is no way to change that connection string.</p>\n<p>This configuration is used in <code>org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration</code></p>\n<p>with no way to override the settings.</p>\n<p>Maybe a GitHub issue will resolve this.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77130826,"answer_count":2,"score":0,"last_activity_date":1695153875,"creation_date":1695067100,"question_id":77130082,"body_markdown":"How can I configure the compatibility settings used for H2 [@JdbcTest][1] ?\r\n\r\n    jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n\r\nI need to execute the following query:\r\n\r\n    SELECT  [ID]\r\n         FROM TEST_TABLE\r\n    WHERE ID = ? \r\n    OFFSET 0 ROWS\r\n    FETCH NEXT ? ROWS ONLY\r\n\r\nIt can only run **iff SQL Server compatibility mode is activated.**\r\n\r\nI cannot find any option to configure tests written in this fashion :\r\n\r\n    @JdbcTest\r\n    @Sql(scripts = &quot;/test_setup.sql&quot;)\r\n    class RepositoryTest {\r\n\r\n\r\nI tried using [@AutoConfigureTestDatabase][2] with an `application.properties` in the `test/java/resources/`\r\n\r\nwith the following input:\r\n\r\n    @JdbcTest\r\n    @Sql(scripts = &quot;/test_setup.sql&quot;)\r\n    @AutoConfigureTestDatabase\r\n    class RepositoryTest {\r\n\r\n\r\n\r\n    spring.datasource.url= jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n\r\n    spring.test.database.datasource.url= jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\r\n\r\nNone of them have any effect and leads to:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/jdbc/JdbcTest.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/jdbc/AutoConfigureTestDatabase.html\r\n","title":"How do I configure H2 used in @JdbcTest?","body":"<p>How can I configure the compatibility settings used for H2 <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/jdbc/JdbcTest.html\" rel=\"nofollow noreferrer\">@JdbcTest</a> ?</p>\n<pre><code>jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\n</code></pre>\n<p>I need to execute the following query:</p>\n<pre><code>SELECT  [ID]\n     FROM TEST_TABLE\nWHERE ID = ? \nOFFSET 0 ROWS\nFETCH NEXT ? ROWS ONLY\n</code></pre>\n<p>It can only run <strong>iff SQL Server compatibility mode is activated.</strong></p>\n<p>I cannot find any option to configure tests written in this fashion :</p>\n<pre><code>@JdbcTest\n@Sql(scripts = &quot;/test_setup.sql&quot;)\nclass RepositoryTest {\n</code></pre>\n<p>I tried using <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/jdbc/AutoConfigureTestDatabase.html\" rel=\"nofollow noreferrer\">@AutoConfigureTestDatabase</a> with an <code>application.properties</code> in the <code>test/java/resources/</code></p>\n<p>with the following input:</p>\n<pre><code>@JdbcTest\n@Sql(scripts = &quot;/test_setup.sql&quot;)\n@AutoConfigureTestDatabase\nclass RepositoryTest {\n\n\n\nspring.datasource.url= jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\n\nspring.test.database.datasource.url= jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE\n</code></pre>\n<p>None of them have any effect and leads to:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658420435,"post_id":73068080,"comment_id":129052776,"body_markdown":"How do you know the producer worked? Did you actually check the broker directly? Did you actually check the `SendResult` response from the template method? Because port 2181 is **Zookeeper, not Kafka**","body":"How do you know the producer worked? Did you actually check the broker directly? Did you actually check the <code>SendResult</code> response from the template method? Because port 2181 is <b>Zookeeper, not Kafka</b>"}],"answers":[{"comments":[{"owner":{"account_id":6527255,"reputation":391,"user_id":7385797,"display_name":"Tom"},"score":0,"creation_date":1658421851,"post_id":73069643,"comment_id":129053250,"body_markdown":"Yes, it is on 9092. I added the producer config","body":"Yes, it is on 9092. I added the producer config"},{"owner":{"account_id":6527255,"reputation":391,"user_id":7385797,"display_name":"Tom"},"score":1,"creation_date":1658422178,"post_id":73069643,"comment_id":129053354,"body_markdown":"@OneCricketer, I can confirm that from Offset Explorer the message was sent. See the image as attached","body":"@OneCricketer, I can confirm that from Offset Explorer the message was sent. See the image as attached"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658420643,"creation_date":1658420643,"answer_id":73069643,"question_id":73068080,"body_markdown":"You&#39;ve not shown your producer configuration, but I assume it uses `localhost:9092` if it did work. \r\n\r\nYour consumer is not using this. \r\n\r\nIdeally, you should externalize your config into the Spring properties file and use one location to set `spring.kafka.bootstrap-servers=localhost:9092`, which will then be used by both the consumer and producer clients within the app. ","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>You've not shown your producer configuration, but I assume it uses <code>localhost:9092</code> if it did work.</p>\n<p>Your consumer is not using this.</p>\n<p>Ideally, you should externalize your config into the Spring properties file and use one location to set <code>spring.kafka.bootstrap-servers=localhost:9092</code>, which will then be used by both the consumer and producer clients within the app.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658428661,"post_id":73071046,"comment_id":129055543,"body_markdown":"You can move the bootstrap servers from individual clients to underneath `spring.kafka` directly","body":"You can move the bootstrap servers from individual clients to underneath <code>spring.kafka</code> directly"}],"tags":[],"owner":{"account_id":6527255,"reputation":391,"user_id":7385797,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658427997,"creation_date":1658427997,"answer_id":73071046,"question_id":73068080,"body_markdown":"Removed all custom Kafka config in Java and put them in application.yml has resolved the issue. I was able to send and receive messages now.\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      bootstrap-servers: localhost:9092\r\n      group-id: group-tenant1-id\r\n      auto-offset-reset: earliest\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n    producer:\r\n      bootstrap-servers: localhost:9092\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n```","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>Removed all custom Kafka config in Java and put them in application.yml has resolved the issue. I was able to send and receive messages now.</p>\n<pre><code>server:\n  port: 8080\nspring:\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n      group-id: group-tenant1-id\n      auto-offset-reset: earliest\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n    producer:\n      bootstrap-servers: localhost:9092\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661407960,"creation_date":1661407960,"answer_id":73482682,"question_id":73068080,"body_markdown":"In my case i was using aws msk bootstrap servers with IAM. I haven&#39;t add the proper security config for `security.protocol` and `sasl.mechanism` and after changing it, my app worked without any issue.\r\n\r\nPreviously it was like below\r\n\r\n      security.protocol: PLAINTEXT\r\n      sasl.mechanism: PLAIN\r\n\r\nAnd then I changed it to \r\n\r\n      security.protocol: SASL_SSL\r\n      sasl.mechanism: AWS_MSK_IAM","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>In my case i was using aws msk bootstrap servers with IAM. I haven't add the proper security config for <code>security.protocol</code> and <code>sasl.mechanism</code> and after changing it, my app worked without any issue.</p>\n<p>Previously it was like below</p>\n<pre><code>  security.protocol: PLAINTEXT\n  sasl.mechanism: PLAIN\n</code></pre>\n<p>And then I changed it to</p>\n<pre><code>  security.protocol: SASL_SSL\n  sasl.mechanism: AWS_MSK_IAM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1017210,"reputation":1181,"user_id":1028503,"accept_rate":64,"display_name":"Don"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686951098,"creation_date":1686951098,"answer_id":76493689,"question_id":73068080,"body_markdown":"I was getting this error message for the consumer with Confluent Cloud Kafka but not with my local Kafka cluster. None of the above solutions applied. I suspected security settings but my application.yml included them all - and correctly.  Ultimately found the fix was to put security settings for Confluent in the Kafka Consumer Config such as shown here (your security settings may vary):\r\n\r\n    kafkaConfigProperties.put(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;https&quot;); \r\n    kafkaConfigProperties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;); \r\n    kafkaConfigProperties.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + apiKey + &quot;\\&quot; password=\\&quot;&quot; + apiPassword + &quot;\\&quot;;&quot;); \r\n    kafkaConfigProperties.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n    \r\n","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>I was getting this error message for the consumer with Confluent Cloud Kafka but not with my local Kafka cluster. None of the above solutions applied. I suspected security settings but my application.yml included them all - and correctly.  Ultimately found the fix was to put security settings for Confluent in the Kafka Consumer Config such as shown here (your security settings may vary):</p>\n<pre><code>kafkaConfigProperties.put(&quot;ssl.endpoint.identification.algorithm&quot;, &quot;https&quot;); \nkafkaConfigProperties.put(&quot;sasl.mechanism&quot;, &quot;PLAIN&quot;); \nkafkaConfigProperties.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + apiKey + &quot;\\&quot; password=\\&quot;&quot; + apiPassword + &quot;\\&quot;;&quot;); \nkafkaConfigProperties.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692607215,"creation_date":1692607215,"answer_id":76943669,"question_id":73068080,"body_markdown":"I had this problem with certain configuration of listeners:\r\n\r\n    broker:\r\n       image: confluentinc/confluent-local:7.4.1\r\n       hostname: broker\r\n       container_name: broker\r\n       ports:\r\n         - &quot;29092:29092&quot;\r\n         - &quot;9101:9101&quot;\r\n       environment:\r\n         KAFKA_ADVERTISED_LISTENERS: &#39;PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092&#39;\r\n         KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@broker:29093&#39;\r\n         KAFKA_LISTENERS: &#39;PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092,CONTROLLER://broker:29093&#39;\r\n\r\nThe problem disappeared after changing the last line (only the last line!) to:\r\n\r\n      KAFKA_LISTENERS: &#39;PLAINTEXT://broker:9092,PLAINTEXT_HOST://0.0.0.0:29092,CONTROLLER://broker:29093&#39;\r\n\r\nSo basically I changed `PLAINTEXT_HOST://localhost:29092` to `PLAINTEXT_HOST://0.0.0.0:29092`, although it&#39;s not clear for me why it didn&#39;t work. Both configs seem ok.","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>I had this problem with certain configuration of listeners:</p>\n<pre><code>broker:\n   image: confluentinc/confluent-local:7.4.1\n   hostname: broker\n   container_name: broker\n   ports:\n     - &quot;29092:29092&quot;\n     - &quot;9101:9101&quot;\n   environment:\n     KAFKA_ADVERTISED_LISTENERS: 'PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092'\n     KAFKA_CONTROLLER_QUORUM_VOTERS: '1@broker:29093'\n     KAFKA_LISTENERS: 'PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092,CONTROLLER://broker:29093'\n</code></pre>\n<p>The problem disappeared after changing the last line (only the last line!) to:</p>\n<pre><code>  KAFKA_LISTENERS: 'PLAINTEXT://broker:9092,PLAINTEXT_HOST://0.0.0.0:29092,CONTROLLER://broker:29093'\n</code></pre>\n<p>So basically I changed <code>PLAINTEXT_HOST://localhost:29092</code> to <code>PLAINTEXT_HOST://0.0.0.0:29092</code>, although it's not clear for me why it didn't work. Both configs seem ok.</p>\n"},{"tags":[],"owner":{"account_id":19635044,"reputation":26,"user_id":14372465,"display_name":"Mustafa Karataş"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695153077,"creation_date":1695153077,"answer_id":77137585,"question_id":73068080,"body_markdown":"Adding group id to producer and consumer properties is solved my problem\r\n`props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-tenent1-id&quot;);` to producer&#39;s config may solve\r\n","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>Adding group id to producer and consumer properties is solved my problem\n<code>props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-tenent1-id&quot;);</code> to producer's config may solve</p>\n"}],"owner":{"account_id":6527255,"reputation":391,"user_id":7385797,"display_name":"Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25674,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":73069643,"answer_count":6,"score":8,"last_activity_date":1695153077,"creation_date":1658414014,"question_id":73068080,"body_markdown":"I have the consumer config as follows\r\n```\r\npackage com.example.kafka.config;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:2181&quot;);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-tenent1-id&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\r\n                factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\nHowever, when the application is started, I am seeing the following keeps on outputting\r\n\r\n&gt;Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected\r\n\r\nI was able to send message to a Kafka topic using the following though\r\n```\r\nkafkaTemplate.send(&quot;test-topic&quot;, msg);\r\n```\r\nThe consumer listener is as follows\r\n```\r\n@Service\r\npublic class Receiver {\r\n    @KafkaListener(topics = &quot;test-topic&quot;, groupId = &quot;group-tenent1-id&quot;)\r\n    public void listen(String message) {\r\n        log.info(&quot;Received Messasge in group - group-id: &quot; + message);\r\n    }\r\n}\r\n```\r\n```\r\npackage com.example.kafka.config;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.core.ProducerFactory;\r\n\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\nBut I am unable to the logging that a message was received\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kqIW4.png","title":"Kafka consumer error Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected","body":"<p>I have the consumer config as follows</p>\n<pre><code>package com.example.kafka.config;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:2181&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-tenent1-id&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\n                factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n}\n</code></pre>\n<p>However, when the application is started, I am seeing the following keeps on outputting</p>\n<blockquote>\n<p>Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -1 being disconnected</p>\n</blockquote>\n<p>I was able to send message to a Kafka topic using the following though</p>\n<pre><code>kafkaTemplate.send(&quot;test-topic&quot;, msg);\n</code></pre>\n<p>The consumer listener is as follows</p>\n<pre><code>@Service\npublic class Receiver {\n    @KafkaListener(topics = &quot;test-topic&quot;, groupId = &quot;group-tenent1-id&quot;)\n    public void listen(String message) {\n        log.info(&quot;Received Messasge in group - group-id: &quot; + message);\n    }\n}\n</code></pre>\n<pre><code>package com.example.kafka.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\n\n@Configuration\npublic class KafkaProducerConfig {\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>But I am unable to the logging that a message was received</p>\n<p><a href=\"https://i.stack.imgur.com/kqIW4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kqIW4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695159086,"post_id":77137565,"comment_id":135986052,"body_markdown":"maybe that manual autowiring part should be done on startup. What happens that makes you think it wouldn&#39;t work?","body":"maybe that manual autowiring part should be done on startup. What happens that makes you think it wouldn&#39;t work?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695193751,"post_id":77137565,"comment_id":135989687,"body_markdown":"There is no autowiring, why do you want this to even happen instead of at startup?","body":"There is no autowiring, why do you want this to even happen instead of at startup?"}],"owner":{"account_id":2009173,"reputation":627,"user_id":1798118,"accept_rate":36,"display_name":"10101010"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695152864,"creation_date":1695152864,"question_id":77137565,"body_markdown":"I am working with an application which has multiple databases configured in Spring Boot per this tutorial: \r\nhttps://www.baeldung.com/spring-data-jpa-multiple-databases \r\n\r\nMultiple databases (Oracle Teradata etc) are setup with the typical @Entity, Repository and Configuration classes with @EnableJpaRepositories annotation to set up the configuration, like so:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;com.baeldung.multipledb.dao.product&quot;, \r\n        entityManagerFactoryRef = &quot;productEntityManager&quot;, \r\n        transactionManagerRef = &quot;productTransactionManager&quot;\r\n    )\r\n    public class PersistenceProductConfiguration {\r\n\r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean productEntityManager() {\r\n            LocalContainerEntityManagerFactoryBean em\r\n              = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(productDataSource());\r\n            em.setPackagesToScan(\r\n              new String[] { &quot;com.baeldung.multipledb.model.product&quot; });\r\n\r\n            \r\n            em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n            properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n              env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n            properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\r\n            em.setJpaPropertyMap(properties);\r\n\r\n            return em;\r\n        }\r\n\r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;datasource.dbprops&quot;)\r\n        public DataSource productDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n\r\n        @Bean\r\n        public PlatformTransactionManager productTransactionManager() {\r\n            JpaTransactionManager transactionManager\r\n              = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(\r\n              productEntityManager().getObject());\r\n            return transactionManager;\r\n        }\r\n    }\r\n**Requirement:**\r\nAbove connects to databases during startup, but I want to connect them after the startup, inside a controller like below on user request:\r\n\r\n    /*LOGIC BELOW IS ALTERNATIVE TO CLASS PersistanceProductConfiguration ABOVE*/\r\n    @RestController\r\n    public class RestController {\r\n\r\n        @GetMapping(value = &quot;/student/{studentId}&quot;)\r\n        public Student getTestData(@PathVariable Integer studentId) {\r\n            ensureConnectionExists();\r\n            return ResponseEntity.ok(&quot;&quot;);\r\n        }\r\n\r\n        public void ensureConnectionExists() {\r\n            if(!connectionExists){\r\n            //================\r\n            // ESTABLISH THE CONNECTION HERE\r\n            //=================\r\n            }\r\n        }\r\n    }\r\n\r\nEffort: \r\n\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n\r\n    public void ensureConnectionExists() {\r\n        if(!connectionExists){\r\n\r\n\r\n        Datasource datasource = DataSourceBuilder.create()\r\n        .username(&quot;jdbc.user&quot;)\r\n        .password(&quot;jdbc.pass&quot;)\r\n        .url(&quot;jdbc.url&quot;)\r\n        .driverClassName(&quot;jdbc.driver&quot;)\r\n        .build();\r\n\r\n        LocalContainerEntityManagerFactoryBean em\r\n              = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(productDataSource());\r\n            em.setPackagesToScan(\r\n              new String[] { &quot;com.baeldung.multipledb.model.product&quot; });\r\n\r\n            \r\n            em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n            properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\r\n              env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n            properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\r\n            em.setJpaPropertyMap(properties);\r\n\r\n            JpaTransactionManager transactionManager\r\n              = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(\r\n              productEntityManager().getObject());\r\n            \r\n\r\n            AutowireCapableBeanFactory factory - applicationContext.getAutowireCapableBeanFactory();\r\n            factory.autowireBean(transactionManager);\r\n            factory.initializeBean(transactionManager, &quot;JpaTransactionManager&quot;);\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\nQuestion: \r\nWhy is the above effort manual auto wiring not working? \r\nThe code is hit on breakpoint, but the system does not autowire the bean and/or accomplish the connection to the database. \r\n\r\nWhat am I missing? \r\n","title":"Why is manual autowiring not working in Spring Boot?","body":"<p>I am working with an application which has multiple databases configured in Spring Boot per this tutorial:\n<a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a></p>\n<p>Multiple databases (Oracle Teradata etc) are setup with the typical @Entity, Repository and Configuration classes with @EnableJpaRepositories annotation to set up the configuration, like so:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n    basePackages = &quot;com.baeldung.multipledb.dao.product&quot;, \n    entityManagerFactoryRef = &quot;productEntityManager&quot;, \n    transactionManagerRef = &quot;productTransactionManager&quot;\n)\npublic class PersistenceProductConfiguration {\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean productEntityManager() {\n        LocalContainerEntityManagerFactoryBean em\n          = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(productDataSource());\n        em.setPackagesToScan(\n          new String[] { &quot;com.baeldung.multipledb.model.product&quot; });\n\n        \n        em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n          env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\n        em.setJpaPropertyMap(properties);\n\n        return em;\n    }\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;datasource.dbprops&quot;)\n    public DataSource productDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean\n    public PlatformTransactionManager productTransactionManager() {\n        JpaTransactionManager transactionManager\n          = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(\n          productEntityManager().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p><strong>Requirement:</strong>\nAbove connects to databases during startup, but I want to connect them after the startup, inside a controller like below on user request:</p>\n<pre><code>/*LOGIC BELOW IS ALTERNATIVE TO CLASS PersistanceProductConfiguration ABOVE*/\n@RestController\npublic class RestController {\n\n    @GetMapping(value = &quot;/student/{studentId}&quot;)\n    public Student getTestData(@PathVariable Integer studentId) {\n        ensureConnectionExists();\n        return ResponseEntity.ok(&quot;&quot;);\n    }\n\n    public void ensureConnectionExists() {\n        if(!connectionExists){\n        //================\n        // ESTABLISH THE CONNECTION HERE\n        //=================\n        }\n    }\n}\n</code></pre>\n<p>Effort:</p>\n<pre><code>@Autowired\nprivate ApplicationContext applicationContext;\n\n\npublic void ensureConnectionExists() {\n    if(!connectionExists){\n\n\n    Datasource datasource = DataSourceBuilder.create()\n    .username(&quot;jdbc.user&quot;)\n    .password(&quot;jdbc.pass&quot;)\n    .url(&quot;jdbc.url&quot;)\n    .driverClassName(&quot;jdbc.driver&quot;)\n    .build();\n\n    LocalContainerEntityManagerFactoryBean em\n          = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(productDataSource());\n        em.setPackagesToScan(\n          new String[] { &quot;com.baeldung.multipledb.model.product&quot; });\n\n        \n        em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;,\n          env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\n        em.setJpaPropertyMap(properties);\n\n        JpaTransactionManager transactionManager\n          = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(\n          productEntityManager().getObject());\n        \n\n        AutowireCapableBeanFactory factory - applicationContext.getAutowireCapableBeanFactory();\n        factory.autowireBean(transactionManager);\n        factory.initializeBean(transactionManager, &quot;JpaTransactionManager&quot;);\n\n\n    }\n}\n</code></pre>\n<p>Question:\nWhy is the above effort manual auto wiring not working?\nThe code is hit on breakpoint, but the system does not autowire the bean and/or accomplish the connection to the database.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","junit5","rest-assured"],"comments":[{"owner":{"account_id":16485561,"reputation":368,"user_id":11911046,"display_name":"Anton Kesy"},"score":0,"creation_date":1695066442,"post_id":77130008,"comment_id":135971897,"body_markdown":"Please checkout: &quot;Why should I not upload images of code/data/errors?&quot; - https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors","body":"Please checkout: &quot;Why should I not upload images of code/data/errors?&quot; - <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1695098673,"post_id":77130008,"comment_id":135974991,"body_markdown":"@Matheus: one of `getBaseUriAndContentTypeToJson()` &amp; `getAuthentication()` is null. Check it.","body":"@Matheus: one of <code>getBaseUriAndContentTypeToJson()</code> &amp; <code>getAuthentication()</code> is null. Check it."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695292440,"post_id":77137541,"comment_id":136006396,"body_markdown":"Please, format your answer properly","body":"Please, format your answer properly"}],"tags":[],"owner":{"account_id":29426057,"reputation":1,"user_id":22546750,"display_name":"Matheus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695152581,"creation_date":1695152581,"answer_id":77137541,"question_id":77130008,"body_markdown":"I solved the problem by changing the TokenManager class.\r\n\r\n\r\n\r\npublic class TokenManager{\r\n\r\nprivate static final String GET_TOKEN_ENDPOINT = &quot;https://dummyjson.com/auth/login&quot;;\r\n\r\nprivate static final String REQUEST_BODY = &quot;{ \\&quot;username\\&quot;: \\&quot;kminchelle\\&quot;, \\&quot;password\\&quot;: \\&quot;0lelplR\\&quot; }&quot;;\r\n\r\npublic static String getAuthToken(){\r\n\r\n        return &quot;Bearer &quot; +\r\n\r\n                         given()\r\n                                 .contentType(ContentType.JSON)\r\n                                 .body(REQUEST_BODY)\r\n                        .when()\r\n                                 .post(GET_TOKEN_ENDPOINT)\r\n                        .then()\r\n                                 .extract()\r\n                                 .path(&quot;token&quot;);\r\n    }\r\n\r\n}\r\n","title":"RestAssured Error - Specification to merge with cannot be null","body":"<p>I solved the problem by changing the TokenManager class.</p>\n<p>public class TokenManager{</p>\n<p>private static final String GET_TOKEN_ENDPOINT = &quot;https://dummyjson.com/auth/login&quot;;</p>\n<p>private static final String REQUEST_BODY = &quot;{ &quot;username&quot;: &quot;kminchelle&quot;, &quot;password&quot;: &quot;0lelplR&quot; }&quot;;</p>\n<p>public static String getAuthToken(){</p>\n<pre><code>    return &quot;Bearer &quot; +\n\n                     given()\n                             .contentType(ContentType.JSON)\n                             .body(REQUEST_BODY)\n                    .when()\n                             .post(GET_TOKEN_ENDPOINT)\n                    .then()\n                             .extract()\n                             .path(&quot;token&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29426057,"reputation":1,"user_id":22546750,"display_name":"Matheus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695152581,"creation_date":1695066310,"question_id":77130008,"body_markdown":"I&#39;m getting the error message &quot;Specification to merge with cannot be null&quot; when I try to run the code in ResourcesAPI. Can you help me ?\r\n\r\n    @BeforeAll\r\n    public static void setUp() {\r\n\r\n        String auth = TokenManager.getAuthToken();\r\n\r\n        setAuthentication(\r\n                new RequestSpecBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, auth)\r\n                        .build());\r\n\r\n\r\n        setBaseUriAndContentTypeToJson(\r\n                new RequestSpecBuilder()\r\n                        .setBaseUri(ApiEndPoints.BASE_ENDPOINT)\r\n                        .setContentType(ContentType.JSON)\r\n                        .build());\r\n\r\n        setResponseSpec(\r\n                new ResponseSpecBuilder()\r\n                        .expectStatusCode(200)\r\n                        .expectContentType(ContentType.JSON)\r\n                        .build());\r\n        }\r\n    }\r\n\r\nToken Manager Class \r\n\r\n```java\r\npackage utils;\r\n\r\nimport static io.restassured.RestAssured.*;\r\n\r\npublic class TokenManager extends Specifications {\r\n    private static final String GET_TOKEN_ENDPOINT = &quot;https://dummyjson.com/auth/login&quot;;\r\n    private static final String REQUEST_BODY = &quot;{ \\&quot;username\\&quot;: \\&quot;kminchelle\\&quot;, \\&quot;password\\&quot;: \\&quot;0lelplR\\&quot; }&quot;;\r\n    private static String authToken;\r\n    private static volatile long tokenExpirationTimeMillis;\r\n    private static final long TOKEN_EXPIRATION_DURATION_MILLIS = 3600000;\r\n\r\n\r\n    public static String getAuthToken() {\r\n        long currentTimeMillis = System.currentTimeMillis();\r\n        if (authToken == null || currentTimeMillis &gt;= tokenExpirationTimeMillis) {\r\n            authToken = extractJsonWebToken();\r\n            tokenExpirationTimeMillis = currentTimeMillis + TOKEN_EXPIRATION_DURATION_MILLIS;\r\n        }\r\n        return authToken;\r\n    }\r\n\r\n    private static String extractJsonWebToken() {\r\n        authToken = &quot;Bearer &quot; +\r\n\r\n                given()\r\n                        .spec(getBaseUriAndContentTypeToJson())\r\n                        .body(REQUEST_BODY)\r\n                        .log().all()\r\n                .when()\r\n                        .post(GET_TOKEN_ENDPOINT)\r\n                .then()\r\n                        .extract()\r\n                        .path(&quot;token&quot;);\r\n\r\n        System.out.println(&quot;Token &quot; + authToken);\r\n        return authToken;\r\n    }\r\n}\r\n```\r\n\r\nExample of application of specifications\r\n\r\n```\r\npublic class ResourcesAPI extends Specifications {\r\n\r\n    @Test\r\n    public void shouldAcessUserResources() {\r\n\r\n        given()\r\n                .spec(getBaseUriAndContentTypeToJson())\r\n                .spec(getAuthentication())\r\n                .log().all()\r\n                .when()\r\n                .get(ApiEndPoints.LOGIN_ENDPOINT)\r\n                .then()\r\n                .spec(getResponseSpec())\r\n                .log().all();\r\n    }\r\n```\r\n\r\nI&#39;m trying to add token generation directly to the request specifications so that it is added to all tests.\r\n\r\nError: \r\n\r\n```none\r\nTest ignored.\r\n\r\njava.lang.IllegalArgumentException: Specification to merge with cannot be null\r\n```\r\n","title":"RestAssured Error - Specification to merge with cannot be null","body":"<p>I'm getting the error message &quot;Specification to merge with cannot be null&quot; when I try to run the code in ResourcesAPI. Can you help me ?</p>\n<pre><code>@BeforeAll\npublic static void setUp() {\n\n    String auth = TokenManager.getAuthToken();\n\n    setAuthentication(\n            new RequestSpecBuilder()\n                    .addHeader(&quot;Authorization&quot;, auth)\n                    .build());\n\n\n    setBaseUriAndContentTypeToJson(\n            new RequestSpecBuilder()\n                    .setBaseUri(ApiEndPoints.BASE_ENDPOINT)\n                    .setContentType(ContentType.JSON)\n                    .build());\n\n    setResponseSpec(\n            new ResponseSpecBuilder()\n                    .expectStatusCode(200)\n                    .expectContentType(ContentType.JSON)\n                    .build());\n    }\n}\n</code></pre>\n<p>Token Manager Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package utils;\n\nimport static io.restassured.RestAssured.*;\n\npublic class TokenManager extends Specifications {\n    private static final String GET_TOKEN_ENDPOINT = &quot;https://dummyjson.com/auth/login&quot;;\n    private static final String REQUEST_BODY = &quot;{ \\&quot;username\\&quot;: \\&quot;kminchelle\\&quot;, \\&quot;password\\&quot;: \\&quot;0lelplR\\&quot; }&quot;;\n    private static String authToken;\n    private static volatile long tokenExpirationTimeMillis;\n    private static final long TOKEN_EXPIRATION_DURATION_MILLIS = 3600000;\n\n\n    public static String getAuthToken() {\n        long currentTimeMillis = System.currentTimeMillis();\n        if (authToken == null || currentTimeMillis &gt;= tokenExpirationTimeMillis) {\n            authToken = extractJsonWebToken();\n            tokenExpirationTimeMillis = currentTimeMillis + TOKEN_EXPIRATION_DURATION_MILLIS;\n        }\n        return authToken;\n    }\n\n    private static String extractJsonWebToken() {\n        authToken = &quot;Bearer &quot; +\n\n                given()\n                        .spec(getBaseUriAndContentTypeToJson())\n                        .body(REQUEST_BODY)\n                        .log().all()\n                .when()\n                        .post(GET_TOKEN_ENDPOINT)\n                .then()\n                        .extract()\n                        .path(&quot;token&quot;);\n\n        System.out.println(&quot;Token &quot; + authToken);\n        return authToken;\n    }\n}\n</code></pre>\n<p>Example of application of specifications</p>\n<pre><code>public class ResourcesAPI extends Specifications {\n\n    @Test\n    public void shouldAcessUserResources() {\n\n        given()\n                .spec(getBaseUriAndContentTypeToJson())\n                .spec(getAuthentication())\n                .log().all()\n                .when()\n                .get(ApiEndPoints.LOGIN_ENDPOINT)\n                .then()\n                .spec(getResponseSpec())\n                .log().all();\n    }\n</code></pre>\n<p>I'm trying to add token generation directly to the request specifications so that it is added to all tests.</p>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Test ignored.\n\njava.lang.IllegalArgumentException: Specification to merge with cannot be null\n</code></pre>\n"},{"tags":["java","reflection","javassist"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1480727123,"post_id":40943000,"comment_id":69097653,"body_markdown":"the code seems to be half translated half or might be jumbling up with variable names. Could you fix that please.","body":"the code seems to be half translated half or might be jumbling up with variable names. Could you fix that please."},{"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"score":0,"creation_date":1480728091,"post_id":40943000,"comment_id":69097834,"body_markdown":"Sure. I&#39;ve missed a few names in translation. I think it&#39;s ok now.","body":"Sure. I&#39;ve missed a few names in translation. I think it&#39;s ok now."}],"answers":[{"comments":[{"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"score":0,"creation_date":1480728313,"post_id":40943231,"comment_id":69097863,"body_markdown":"Didn&#39;t work. It throws a `ClassNotFoundException`. But thanks anyway.","body":"Didn&#39;t work. It throws a <code>ClassNotFoundException</code>. But thanks anyway."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1480728518,"post_id":40943231,"comment_id":69097899,"body_markdown":"@BrunoNascimento Did you load the class via a class loader?","body":"@BrunoNascimento Did you load the class via a class loader?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1480728543,"post_id":40943231,"comment_id":69097907,"body_markdown":"confused from question, try with `Class.forName(&quot;bin.objetos.base.NewClass&quot;)` once as well please","body":"confused from question, try with <code>Class.forName(&quot;bin.objetos.base.NewClass&quot;)</code> once as well please"},{"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"score":0,"creation_date":1480728770,"post_id":40943231,"comment_id":69097936,"body_markdown":"Still not. That&#39;s the StackTrace:\n\n`Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: bin.objects.base.NewClass\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Unknown Source)`","body":"Still not. That&#39;s the StackTrace:  <code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: bin.objects.base.NewClass \tat java.net.URLClassLoader.findClass(Unknown Source) \tat java.lang.ClassLoader.loadClass(Unknown Source) \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source) \tat java.lang.ClassLoader.loadClass(Unknown Source) \tat java.lang.Class.forName0(Native Method) \tat java.lang.Class.forName(Unknown Source)</code>"},{"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"score":0,"creation_date":1480729271,"post_id":40943231,"comment_id":69098005,"body_markdown":"@Vince I loaded using `Object testClass = ctclass.toClass(new Loader(), null);`. \nI also tried `loader.loadClass(&quot;bin.objects.base.NewClass&quot;);` with no success.","body":"@Vince I loaded using <code>Object testClass = ctclass.toClass(new Loader(), null);</code>.  I also tried <code>loader.loadClass(&quot;bin.objects.base.NewClass&quot;);</code> with no success."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480727528,"creation_date":1480727528,"answer_id":40943231,"question_id":40943000,"body_markdown":"Try using reflection to get your class object as :\r\n\r\n    Field q = Class.forName(&quot;bin.objetos.base.NovaClasse&quot;).getDeclaredField(&quot;quantity&quot;);\r\n\r\n\r\nYou can do the same for other fields as well.","title":"How to instantiate a class created at runtime with javassist?","body":"<p>Try using reflection to get your class object as :</p>\n\n<pre><code>Field q = Class.forName(\"bin.objetos.base.NovaClasse\").getDeclaredField(\"quantity\");\n</code></pre>\n\n<p>You can do the same for other fields as well.</p>\n"},{"tags":[],"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1481483925,"creation_date":1480739376,"answer_id":40944234,"question_id":40943000,"body_markdown":"I was finally able to find out what was the problem.\r\n\r\nAparently, it was a problem with the ClassLoader. I&#39;ve found the answer [in this post][1]. To solve it, I just included this line:\r\n\r\n    Class newClasse = ctclass.toClass(this.getClass().getClassLoader(), \r\n\t\tthis.getClass().getProtectionDomain());\r\n\r\n@nullpointer&#39;s answer also helped.\r\n\r\nSo, after some more changes, the `testNewClass()` method ended up like this:\r\n\r\n    public void testNewClass() \r\n    \t\t\tthrows Throwable {\r\n    \t\tCtClass ctclass =  ClassPool.getDefault().get(&quot;bin.objects.base.NewClass&quot;);\r\n    \t\tClass newClass = ctclass.toClass(this.getClass().getClassLoader(), \r\n    \t\t\tthis.getClass().getProtectionDomain());\r\n    \t\tObject objNewClass  = newClass.newInstance();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Accessing the field &#39;public int quantity&#39;...&quot;); \r\n    \t\tField q = newClass.getDeclaredField(&quot;quantity&quot;);\t\t\r\n    \t\tint quantity = (int) q.get(objNewClass);\r\n    \t\tSystem.out.println(&quot;quantity = &quot; + quantity);\r\n\r\n    \t\tSystem.out.println(&quot;\\nAccessing the field &#39;private float weight&#39; &quot; +\r\n    \t\t\t&quot;through the method &#39;public float getWeight()&#39;...&quot;);\r\n    \t    Method m = newClass.getDeclaredMethod(&quot;getWeight&quot;, null);\r\n    \t    float weight = (float) m.invoke(objNewClass, null);\r\n    \t    System.out.println(&quot;weight = &quot; + weight);\r\n\r\n    \t    System.out.println(&quot;\\nAccessing the method &#39;public float totalWeight()&#39;...&quot;);\r\n    \t    m = newClass.getDeclaredMethod(&quot;totalWeight&quot;, null);\r\n    \t    float totalWeight = (float) m.invoke(objNewClass, null);\t    \r\n    \t    System.out.println(&quot;totalWeight = &quot; + totalWeight);\r\n    \t}\r\n\r\n  [1]: https://stackoverflow.com/questions/26606450/create-class-with-javassist-and-make-it-available","title":"How to instantiate a class created at runtime with javassist?","body":"<p>I was finally able to find out what was the problem.</p>\n\n<p>Aparently, it was a problem with the ClassLoader. I've found the answer <a href=\"https://stackoverflow.com/questions/26606450/create-class-with-javassist-and-make-it-available\">in this post</a>. To solve it, I just included this line:</p>\n\n<pre><code>Class newClasse = ctclass.toClass(this.getClass().getClassLoader(), \n    this.getClass().getProtectionDomain());\n</code></pre>\n\n<p>@nullpointer's answer also helped.</p>\n\n<p>So, after some more changes, the <code>testNewClass()</code> method ended up like this:</p>\n\n<pre><code>public void testNewClass() \n            throws Throwable {\n        CtClass ctclass =  ClassPool.getDefault().get(\"bin.objects.base.NewClass\");\n        Class newClass = ctclass.toClass(this.getClass().getClassLoader(), \n            this.getClass().getProtectionDomain());\n        Object objNewClass  = newClass.newInstance();\n\n        System.out.println(\"Accessing the field 'public int quantity'...\"); \n        Field q = newClass.getDeclaredField(\"quantity\");        \n        int quantity = (int) q.get(objNewClass);\n        System.out.println(\"quantity = \" + quantity);\n\n        System.out.println(\"\\nAccessing the field 'private float weight' \" +\n            \"through the method 'public float getWeight()'...\");\n        Method m = newClass.getDeclaredMethod(\"getWeight\", null);\n        float weight = (float) m.invoke(objNewClass, null);\n        System.out.println(\"weight = \" + weight);\n\n        System.out.println(\"\\nAccessing the method 'public float totalWeight()'...\");\n        m = newClass.getDeclaredMethod(\"totalWeight\", null);\n        float totalWeight = (float) m.invoke(objNewClass, null);        \n        System.out.println(\"totalWeight = \" + totalWeight);\n    }\n</code></pre>\n"}],"owner":{"account_id":9771931,"reputation":83,"user_id":7243489,"accept_rate":75,"display_name":"Bruno Nascimento"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40944234,"answer_count":2,"score":2,"last_activity_date":1695152561,"creation_date":1480725507,"question_id":40943000,"body_markdown":"I&#39;ve just started to use javassist and I can&#39;t seem to figure out how to instantiate a class made at runtime.\r\n\r\nThe `makeNewClass()` method makes the `NewClass` class like that:\r\n\r\n    public bin.objects.base.NewClass {\r\n    \tpublic int quantity = 5;\r\n    \tprivate float weight = 30.25f;\r\n    \r\n    \tpublic float getWeight() { return weight; }\r\n    \tpublic void setWeight(float weight) { this.weight = weight; }\r\n    \tpublic float totalWeight() { return quantity * getWeight(); }\r\n    }\r\n\r\nThis method works just fine:\r\n\r\n    public void makeNewClass() throws NotFoundException, IOException, CannotCompileException {\r\n    \t\t// ClassMaker maker holds the CtClass object and handles all the &quot;making&quot;\r\n    \t\tClassMaker maker = new ClassMaker(&quot;bin.objects.base.NewClass&quot;);\r\n\r\n    \t\tmaker.addField(CtClass.intType, &quot;quantity&quot;, &quot;5&quot;, Modifier.PUBLIC);\r\n    \t\tmaker.addField(CtClass.floatType, &quot;weight&quot;, &quot;30.25f&quot;, Modifier.PRIVATE);\r\n\r\n    \t\tmaker.addMethod(Modifier.PUBLIC, CtClass.floatType, &quot;totalWeight&quot;, null, null, \r\n    \t\t\t\t&quot;{ return quantity * getWeight(); }&quot;, null, MethodType.standard);\r\n    \t\tmaker.getCtClass().writeFile();\r\n    \t}\r\n\r\nNow the problem begins. This method is supposed to instantiate the `NewClass`, access its fields, and call its methods.\r\n\r\n    \tpublic void testNewClass() \r\n    \t\t\tthrows Throwable {\r\n    \t\tCtClass ctclass =  ClassPool.getDefault().get(&quot;bin.objects.base.NewClass&quot;);\r\n    \t\t\r\n    \t\tObject testClass = ctclass.toClass(new Loader(), null);\r\n    \t\t\r\n    \t\t// Throws NoSuchFieldException\r\n    \t\tField q = testClass.getClass().getDeclaredField(&quot;quantity&quot;);\r\n    \t\tint quantity = (int) q.get(testClass);\r\n\r\n    \t\tClass[] cArg = new Class[1];\r\n    \t    cArg[0] = Float.class;\r\n\r\n    \t\t// Throws NoSuchMethodException\r\n    \t    Method m = testClass.getClass().getDeclaredMethod(&quot;getWeight&quot;, cArg);\r\n    \t    float weight = (float) m.invoke(testClass, null);\r\n\r\n    \t\t// Throws NoSuchMethodException\r\n    \t    m = testClass.getClass().getDeclaredMethod(&quot;totalWeight&quot;, cArg);\r\n    \t    float totalWeight = (float) m.invoke(testClass, null);\r\n    \t    \r\n    \t    System.out.println(&quot;quantity = &quot; + quantity +\r\n    \t    \t\t&quot;weight = &quot; + weight +\r\n    \t    \t\t&quot;totalWeight = &quot; + totalWeight);\r\n    \t}\r\n\r\nNow, I already figured out that `testClass` is actually initialized as an instance of `java.lang.Class`, not `bin.objects.base.NewClass`. So, obviously, it will not find the fields and methods of `NewClass`.\r\n\r\nThe question is: how do I solve that? I tried using the `java.lang.Class.cast()` method, but had no success.","title":"How to instantiate a class created at runtime with javassist?","body":"<p>I've just started to use javassist and I can't seem to figure out how to instantiate a class made at runtime.</p>\n<p>The <code>makeNewClass()</code> method makes the <code>NewClass</code> class like that:</p>\n<pre><code>public bin.objects.base.NewClass {\n    public int quantity = 5;\n    private float weight = 30.25f;\n\n    public float getWeight() { return weight; }\n    public void setWeight(float weight) { this.weight = weight; }\n    public float totalWeight() { return quantity * getWeight(); }\n}\n</code></pre>\n<p>This method works just fine:</p>\n<pre><code>public void makeNewClass() throws NotFoundException, IOException, CannotCompileException {\n        // ClassMaker maker holds the CtClass object and handles all the &quot;making&quot;\n        ClassMaker maker = new ClassMaker(&quot;bin.objects.base.NewClass&quot;);\n\n        maker.addField(CtClass.intType, &quot;quantity&quot;, &quot;5&quot;, Modifier.PUBLIC);\n        maker.addField(CtClass.floatType, &quot;weight&quot;, &quot;30.25f&quot;, Modifier.PRIVATE);\n\n        maker.addMethod(Modifier.PUBLIC, CtClass.floatType, &quot;totalWeight&quot;, null, null, \n                &quot;{ return quantity * getWeight(); }&quot;, null, MethodType.standard);\n        maker.getCtClass().writeFile();\n    }\n</code></pre>\n<p>Now the problem begins. This method is supposed to instantiate the <code>NewClass</code>, access its fields, and call its methods.</p>\n<pre><code>    public void testNewClass() \n            throws Throwable {\n        CtClass ctclass =  ClassPool.getDefault().get(&quot;bin.objects.base.NewClass&quot;);\n        \n        Object testClass = ctclass.toClass(new Loader(), null);\n        \n        // Throws NoSuchFieldException\n        Field q = testClass.getClass().getDeclaredField(&quot;quantity&quot;);\n        int quantity = (int) q.get(testClass);\n\n        Class[] cArg = new Class[1];\n        cArg[0] = Float.class;\n\n        // Throws NoSuchMethodException\n        Method m = testClass.getClass().getDeclaredMethod(&quot;getWeight&quot;, cArg);\n        float weight = (float) m.invoke(testClass, null);\n\n        // Throws NoSuchMethodException\n        m = testClass.getClass().getDeclaredMethod(&quot;totalWeight&quot;, cArg);\n        float totalWeight = (float) m.invoke(testClass, null);\n        \n        System.out.println(&quot;quantity = &quot; + quantity +\n                &quot;weight = &quot; + weight +\n                &quot;totalWeight = &quot; + totalWeight);\n    }\n</code></pre>\n<p>Now, I already figured out that <code>testClass</code> is actually initialized as an instance of <code>java.lang.Class</code>, not <code>bin.objects.base.NewClass</code>. So, obviously, it will not find the fields and methods of <code>NewClass</code>.</p>\n<p>The question is: how do I solve that? I tried using the <code>java.lang.Class.cast()</code> method, but had no success.</p>\n"},{"tags":["java","jpa","orm","openjpa"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1695153301,"post_id":77137536,"comment_id":135985082,"body_markdown":"As a side comment, don&#39;t use the ordinal because if the constants are re-arranged or removed then this will break.","body":"As a side comment, don&#39;t use the ordinal because if the constants are re-arranged or removed then this will break."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1695227501,"post_id":77137536,"comment_id":135997372,"body_markdown":"You can use a standard JPA `AttributeConverter` - see e.g. [this answer](https://stackoverflow.com/questions/77126279/jpa-entity-with-dayofweek-list/77127007#77127007). But in your case you may even convert the value in the getter/setter.","body":"You can use a standard JPA <code>AttributeConverter</code> - see e.g. <a href=\"https://stackoverflow.com/questions/77126279/jpa-entity-with-dayofweek-list/77127007#77127007\">this answer</a>. But in your case you may even convert the value in the getter/setter."}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695152540,"creation_date":1695152540,"question_id":77137536,"body_markdown":"I use OpenJPA in my Java project. The question is about a non-nullable integer column.\r\n\r\nCurrently this field is mapped to an `enum` class by the `ordinal` index:\r\n\r\n    @Column(nullable=false)\r\n    @Enumerated(EnumType.ORDINAL)\r\n\r\nInstead, I&#39;d like to map this db-side integer column to a custom object.\r\n\r\nSomething like\r\n\r\n    @Column(nullable=false)\r\n    @CustomObject( dbtype=java.sql.Types.INTEGER,  // What do we find in the DB table?\r\n                   intValue -&gt; MyObjectsRepository.getInstance( intValue ),  // Integer to MyObject\r\n                   myObject -&gt; myObject.getIntValue() )  // MyObject to Integer\r\n\r\nDoes this exist? \r\n\r\nIn the best case, there is a JPA-way (implementation agnostic). But if there&#39;s only an OpenJPA-only trick, that would help me as well. ","title":"JPA / OpenJPA: Map integer field from DB table to custom object instead of enum","body":"<p>I use OpenJPA in my Java project. The question is about a non-nullable integer column.</p>\n<p>Currently this field is mapped to an <code>enum</code> class by the <code>ordinal</code> index:</p>\n<pre><code>@Column(nullable=false)\n@Enumerated(EnumType.ORDINAL)\n</code></pre>\n<p>Instead, I'd like to map this db-side integer column to a custom object.</p>\n<p>Something like</p>\n<pre><code>@Column(nullable=false)\n@CustomObject( dbtype=java.sql.Types.INTEGER,  // What do we find in the DB table?\n               intValue -&gt; MyObjectsRepository.getInstance( intValue ),  // Integer to MyObject\n               myObject -&gt; myObject.getIntValue() )  // MyObject to Integer\n</code></pre>\n<p>Does this exist?</p>\n<p>In the best case, there is a JPA-way (implementation agnostic). But if there's only an OpenJPA-only trick, that would help me as well.</p>\n"},{"tags":["java","android","kotlin","textview"],"comments":[{"owner":{"account_id":6846923,"reputation":1969,"user_id":5265414,"accept_rate":62,"display_name":"devmike01"},"score":0,"creation_date":1695149605,"post_id":77137021,"comment_id":135984499,"body_markdown":"This isn&#39;t a &quot;custom view&quot;, its a `LayerDrawable`.","body":"This isn&#39;t a &quot;custom view&quot;, its a <code>LayerDrawable</code>."},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1695149998,"post_id":77137021,"comment_id":135984563,"body_markdown":"That&#39;s true , When i set it as background to my textview , the arrow looks cut off from bottom , any reason why ?","body":"That&#39;s true , When i set it as background to my textview , the arrow looks cut off from bottom , any reason why ?"}],"answers":[{"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1695158270,"post_id":77137534,"comment_id":135985920,"body_markdown":"Thank you , it worked fine , appreciate your help and time","body":"Thank you , it worked fine , appreciate your help and time"}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695152532,"creation_date":1695152532,"answer_id":77137534,"question_id":77137021,"body_markdown":"I changed the drawable a bit. I think its happening because the size property is set to both of the layers and then Android system is scaling them to fit the views.\r\n\r\nPS. The drawable doesn&#39;t look right, but when set as background it works fine.\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:bottom=&quot;12dp&quot;\r\n        android:gravity=&quot;bottom|center_horizontal&quot;&gt;\r\n        &lt;rotate\r\n            android:fromDegrees=&quot;45&quot;\r\n            android:pivotX=&quot;50%&quot;\r\n            android:pivotY=&quot;50%&quot;&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;size\r\n                    android:width=&quot;60dp&quot;\r\n                    android:height=&quot;60dp&quot; /&gt;\r\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot; /&gt;\r\n                &lt;solid android:color=&quot;@color/black&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/rotate&gt;\r\n    &lt;/item&gt;\r\n\r\n    &lt;item android:bottom=&quot;14dp&quot;&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;solid android:color=&quot;@color/black&quot; /&gt;\r\n            &lt;corners android:radius=&quot;10dp&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```\r\n```\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World! &quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingBottom=&quot;12dp&quot;\r\n        android:paddingHorizontal=&quot;12dp&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:background=&quot;@drawable/background&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\nSample Output:\r\n\r\nDrawable shape\r\n\r\n[![Drawable background][1]][1]\r\n\r\nDrawable applied to text view as background\r\n\r\n[![Drawable applied to text view ][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9LTM1.png\r\n  [2]: https://i.stack.imgur.com/If4d6.png","title":"Applying a custom view to textview background in android","body":"<p>I changed the drawable a bit. I think its happening because the size property is set to both of the layers and then Android system is scaling them to fit the views.</p>\n<p>PS. The drawable doesn't look right, but when set as background it works fine.</p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:bottom=&quot;12dp&quot;\n        android:gravity=&quot;bottom|center_horizontal&quot;&gt;\n        &lt;rotate\n            android:fromDegrees=&quot;45&quot;\n            android:pivotX=&quot;50%&quot;\n            android:pivotY=&quot;50%&quot;&gt;\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                &lt;size\n                    android:width=&quot;60dp&quot;\n                    android:height=&quot;60dp&quot; /&gt;\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot; /&gt;\n                &lt;solid android:color=&quot;@color/black&quot; /&gt;\n            &lt;/shape&gt;\n        &lt;/rotate&gt;\n    &lt;/item&gt;\n\n    &lt;item android:bottom=&quot;14dp&quot;&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;solid android:color=&quot;@color/black&quot; /&gt;\n            &lt;corners android:radius=&quot;10dp&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<pre><code>    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World! &quot;\n        android:gravity=&quot;center&quot;\n        android:paddingBottom=&quot;12dp&quot;\n        android:paddingHorizontal=&quot;12dp&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:background=&quot;@drawable/background&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Sample Output:</p>\n<p>Drawable shape</p>\n<p><a href=\"https://i.stack.imgur.com/9LTM1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9LTM1.png\" alt=\"Drawable background\" /></a></p>\n<p>Drawable applied to text view as background</p>\n<p><a href=\"https://i.stack.imgur.com/If4d6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/If4d6.png\" alt=\"Drawable applied to text view \" /></a></p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77137534,"answer_count":1,"score":0,"last_activity_date":1695152532,"creation_date":1695147342,"question_id":77137021,"body_markdown":"I have created a toolTip shape-like view , basically i want to set this view as backgound to my textview in android but for some reason it shows as cut-off from bottom and not showing fully , anyone&#39;s help is appreciated it , Thank you in advance \r\n\r\n\r\n* My Custom View \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n\r\n    &lt;item android:gravity=&quot;bottom|center_horizontal&quot;&gt;\r\n\r\n        &lt;rotate android:fromDegrees=&quot;45&quot; android:toDegrees=&quot;45&quot;\r\n            android:pivotX=&quot;50%&quot; android:pivotY=&quot;50%&quot; &gt;\r\n\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n\r\n                &lt;size android:width=&quot;24dp&quot; android:height=&quot;24dp&quot; /&gt;\r\n\r\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot;/&gt;\r\n\r\n                &lt;gradient android:type=&quot;linear&quot;\r\n                    android:angle=&quot;0&quot;\r\n                    android:endColor=&quot;@color/grey&quot;\r\n                    android:startColor=&quot;@color/grey&quot; /&gt;\r\n\r\n            &lt;/shape&gt;\r\n\r\n        &lt;/rotate&gt;\r\n\r\n    &lt;/item&gt;\r\n\r\n    &lt;item android:bottom=&quot;6dp&quot;&gt;\r\n\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n\r\n            &lt;size android:width=&quot;120dp&quot; android:height=&quot;40dp&quot; /&gt;\r\n\r\n            &lt;gradient android:type=&quot;linear&quot;\r\n                android:angle=&quot;0&quot;\r\n                android:endColor=&quot;@color/grey&quot;\r\n                android:startColor=&quot;@color/grey&quot; /&gt;\r\n\r\n            &lt;corners android:radius=&quot;10dp&quot; /&gt;\r\n\r\n        &lt;/shape&gt;\r\n\r\n    &lt;/item&gt;\r\n\r\n&lt;/layer-list&gt;\r\n```\r\n\r\n\r\n* My Layout where i set the view\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    /// setting it here\r\n    &lt;TextView\r\n        android:id=&quot;@+id/toolTipText&quot;\r\n        style=&quot;@style/TextAppearance.AppCompat.Small&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginBottom=&quot;4dp&quot;\r\n        android:background=&quot;@drawable/tool_tip_shape&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed-medium&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;gggggbbbb&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/constraintLayout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/constraintLayout&quot; /&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/constraintLayout&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;184dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txt&quot;\r\n            style=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;24dp&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/fab&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress_bar&quot;\r\n            style=&quot;@style/CircularDeterminateProgressBar&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:progress=&quot;0&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;80dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/ic_baseline_mic_24&quot;\r\n            app:borderWidth=&quot;0dp&quot;\r\n            app:fabCustomSize=&quot;80dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/progress_bar&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/progress_bar&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/progress_bar&quot;\r\n            app:tint=&quot;@color/black&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n* Screenshot of custom view\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n* This is how it shows inside layout ( it shows as cut off from bottom )\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uRz7V.png\r\n  [2]: https://i.stack.imgur.com/tYyFn.png","title":"Applying a custom view to textview background in android","body":"<p>I have created a toolTip shape-like view , basically i want to set this view as backgound to my textview in android but for some reason it shows as cut-off from bottom and not showing fully , anyone's help is appreciated it , Thank you in advance</p>\n<ul>\n<li>My Custom View</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n\n    &lt;item android:gravity=&quot;bottom|center_horizontal&quot;&gt;\n\n        &lt;rotate android:fromDegrees=&quot;45&quot; android:toDegrees=&quot;45&quot;\n            android:pivotX=&quot;50%&quot; android:pivotY=&quot;50%&quot; &gt;\n\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\n\n                &lt;size android:width=&quot;24dp&quot; android:height=&quot;24dp&quot; /&gt;\n\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot;/&gt;\n\n                &lt;gradient android:type=&quot;linear&quot;\n                    android:angle=&quot;0&quot;\n                    android:endColor=&quot;@color/grey&quot;\n                    android:startColor=&quot;@color/grey&quot; /&gt;\n\n            &lt;/shape&gt;\n\n        &lt;/rotate&gt;\n\n    &lt;/item&gt;\n\n    &lt;item android:bottom=&quot;6dp&quot;&gt;\n\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n\n            &lt;size android:width=&quot;120dp&quot; android:height=&quot;40dp&quot; /&gt;\n\n            &lt;gradient android:type=&quot;linear&quot;\n                android:angle=&quot;0&quot;\n                android:endColor=&quot;@color/grey&quot;\n                android:startColor=&quot;@color/grey&quot; /&gt;\n\n            &lt;corners android:radius=&quot;10dp&quot; /&gt;\n\n        &lt;/shape&gt;\n\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n<ul>\n<li>My Layout where i set the view</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/main&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    /// setting it here\n    &lt;TextView\n        android:id=&quot;@+id/toolTipText&quot;\n        style=&quot;@style/TextAppearance.AppCompat.Small&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginBottom=&quot;4dp&quot;\n        android:background=&quot;@drawable/tool_tip_shape&quot;\n        android:fontFamily=&quot;sans-serif-condensed-medium&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;gggggbbbb&quot;\n        android:textColor=&quot;@color/black&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/constraintLayout&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/constraintLayout&quot; /&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;184dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt&quot;\n            style=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;24dp&quot;\n            android:text=&quot;00:00&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/fab&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progress_bar&quot;\n            style=&quot;@style/CircularDeterminateProgressBar&quot;\n            android:layout_width=&quot;120dp&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:progress=&quot;0&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fab&quot;\n            android:layout_width=&quot;80dp&quot;\n            android:layout_height=&quot;80dp&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:backgroundTint=&quot;@color/white&quot;\n            android:padding=&quot;10dp&quot;\n            android:src=&quot;@drawable/ic_baseline_mic_24&quot;\n            app:borderWidth=&quot;0dp&quot;\n            app:fabCustomSize=&quot;80dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/progress_bar&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/progress_bar&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/progress_bar&quot;\n            app:tint=&quot;@color/black&quot; /&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<ul>\n<li>Screenshot of custom view</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/uRz7V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRz7V.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>This is how it shows inside layout ( it shows as cut off from bottom )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/tYyFn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYyFn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","tomcat","concurrency","project-loom"],"comments":[{"owner":{"account_id":5198165,"reputation":4898,"user_id":4158603,"accept_rate":65,"display_name":"areller"},"score":0,"creation_date":1664297531,"post_id":73868067,"comment_id":130437583,"body_markdown":"@Holger updated the post. OpenJDK build 19+36-2238","body":"@Holger updated the post. OpenJDK build 19+36-2238"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":5,"creation_date":1664304067,"post_id":73868067,"comment_id":130439623,"body_markdown":"You might want to set `-Djdk.tracePinnedThreads=full` (or `short`) to see if the carrier thread is pinned and why.","body":"You might want to set <code>-Djdk.tracePinnedThreads=full</code> (or <code>short</code>) to see if the carrier thread is pinned and why."},{"owner":{"account_id":5198165,"reputation":4898,"user_id":4158603,"accept_rate":65,"display_name":"areller"},"score":1,"creation_date":1664313218,"post_id":73868067,"comment_id":130442162,"body_markdown":"@BenManes Added this arg and ran the test again (with just a single HTTP call). looks like it does pin the thread (attached stack trace), but can&#39;t make sense of it. Looks like `Thread.sleep` is the origin of the pin, and when I just run a virtual thread (outside of Tomcat or any other web server) and sleep in it, I don&#39;t get any pinning trace.","body":"@BenManes Added this arg and ran the test again (with just a single HTTP call). looks like it does pin the thread (attached stack trace), but can&#39;t make sense of it. Looks like <code>Thread.sleep</code> is the origin of the pin, and when I just run a virtual thread (outside of Tomcat or any other web server) and sleep in it, I don&#39;t get any pinning trace."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":5,"creation_date":1664326853,"post_id":73868067,"comment_id":130444371,"body_markdown":"Maybe try Tomcat 10.1.0-M16 or [above](https://tomcat.apache.org/tomcat-10.1-doc/changelog.html): _&quot;Refactor synchronization blocks locking on SocketWrapper to use ReentrantLock to support users wishing to experiment with project Loom.&quot;_","body":"Maybe try Tomcat 10.1.0-M16 or <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/changelog.html\" rel=\"nofollow noreferrer\">above</a>: <i>&quot;Refactor synchronization blocks locking on SocketWrapper to use ReentrantLock to support users wishing to experiment with project Loom.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695151749,"creation_date":1695146915,"answer_id":77136973,"question_id":73868067,"body_markdown":"As I understand it virtual threads will be used by default in Tomcat 11, however, virtual thread support has been back-ported to tomcat 10.1 starting with release 10.1.10.  (ref: https://github.com/spring-projects/spring-boot/issues/35704)\r\n\r\nTo enable in Tomcat 10.1.10 and above, update the server.xml configuration by explicitly specifying the Executor implementation: `org.apache.catalina.core.StandardVirtualThreadExecutor`\r\n\r\n    &lt;Service name=&quot;Catalina&quot;&gt;\r\n      &lt;!--\r\n      &lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot;\r\n          maxThreads=&quot;150&quot; minSpareThreads=&quot;4&quot;/&gt;\r\n      --&gt;\r\n      &lt;Executor className=&quot;org.apache.catalina.core.StandardVirtualThreadExecutor&quot; /&gt;\r\n      ...\r\n    &lt;/Service&gt;\r\n\r\nNote: Java 21 (LTS) is required for (non-preview) support of virtual threads.","title":"Virtual Threads in Tomcat Server","body":"<p>As I understand it virtual threads will be used by default in Tomcat 11, however, virtual thread support has been back-ported to tomcat 10.1 starting with release 10.1.10.  (ref: <a href=\"https://github.com/spring-projects/spring-boot/issues/35704\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35704</a>)</p>\n<p>To enable in Tomcat 10.1.10 and above, update the server.xml configuration by explicitly specifying the Executor implementation: <code>org.apache.catalina.core.StandardVirtualThreadExecutor</code></p>\n<pre><code>&lt;Service name=&quot;Catalina&quot;&gt;\n  &lt;!--\n  &lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot;\n      maxThreads=&quot;150&quot; minSpareThreads=&quot;4&quot;/&gt;\n  --&gt;\n  &lt;Executor className=&quot;org.apache.catalina.core.StandardVirtualThreadExecutor&quot; /&gt;\n  ...\n&lt;/Service&gt;\n</code></pre>\n<p>Note: Java 21 (LTS) is required for (non-preview) support of virtual threads.</p>\n"}],"owner":{"account_id":5198165,"reputation":4898,"user_id":4158603,"accept_rate":65,"display_name":"areller"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695151749,"creation_date":1664283813,"question_id":73868067,"body_markdown":"I&#39;m using OpenJDK 19\r\n```\r\nopenjdk 19 2022-09-20\r\nOpenJDK Runtime Environment (build 19+36-2238)\r\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\r\n```\r\n\r\nAnd the latest version of Tomcat (10.0.23)\r\n\r\n```java\r\nvar tomcat = new Tomcat();\r\nvar ctx = tomcat.addContext(&quot;&quot;, (new File(&quot;.&quot;)).getAbsolutePath());\r\nTomcat.addServlet(ctx, &quot;Servlet&quot;, new HttpServlet() {\r\n    @Override\r\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        try {\r\n            Thread.sleep(5000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        resp.setStatus(200);\r\n        resp.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    }\r\n});\r\nctx.addServletMappingDecoded(&quot;/*&quot;, &quot;Servlet&quot;);\r\nvar connector = new Connector();\r\nvar uri = new URI(&quot;http://0.0.0.0:8081&quot;);\r\nconnector.setProperty(&quot;address&quot;, uri.getHost());\r\nconnector.setPort(uri.getPort());\r\nconnector.setProperty(&quot;maxHttpHeaderSize&quot;, &quot;16384&quot;);\r\nconnector.setProperty(&quot;connectionTimeout&quot;, Duration.ofSeconds(5L).toString());\r\nconnector.setProperty(&quot;maxKeepAliveRequests&quot;, &quot;100&quot;);\r\nconnector.setProperty(&quot;useKeepAliveResponseHeader&quot;, &quot;false&quot;);\r\nconnector.setProperty(&quot;socket.soLingerOn&quot;, &quot;false&quot;);\r\nconnector.setEncodedSolidusHandling(&quot;passthrough&quot;);\r\nconnector.getProtocolHandler().setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\ntomcat.getService().addConnector(connector);\r\n\r\ntomcat.start();\r\n```\r\n\r\nIn this line\r\n\r\n```java\r\nconnector.getProtocolHandler().setExecutor(Executors.newVirtualThreadPerTaskExecutor());\r\n```\r\n\r\nI tell Tomcat to use an executor of virtual threads, and then I have a simple Servlet where I sleep for 5 seconds before responding to the client.\r\n\r\nI have this bash script to load test the server  \r\n\r\n```bash\r\nfunction call {\r\n        curl http://localhost:8081\r\n}\r\n\r\n\r\nfunction test_load {\r\n        start_time=$(date +%s)\r\n        call\r\n        end_time=$(date +%s)\r\n        elapsed=$(( end_time - start_time ))\r\n        echo &quot;done elapsed: ${elapsed} \\n&quot;\r\n}\r\n\r\nfor i in {1..100}; do\r\n        test_load &amp;\r\ndone\r\n\r\nsleep 100000\r\n```\r\n\r\nWhen I run the script, I expect to wait 5 seconds, and then see `done elapsed: 5` repeated for 100 times. Because running `Thread.sleep` shouldn&#39;t block the underlying platform thread.  \r\nInstead, after 5 seconds, I see `done elapsed: 5` printed 12 times. Then after another 5 seconds, I see `done elapsed: 10` printed another 12 times, and so on...   \r\n\r\nWhen I try `Executors.newThreadPerTaskExecutor()` or `Executors.newCachedThreadPool()`, it works as I&#39;d expect virtual thread per task to work (run all 100 calls in parallel)\r\n\r\n12 is the number of cores I have (`Runtime.getRuntime().availableProcessors()`)\r\n\r\nWhy does this happen?\r\n\r\n**Edit 1**: After adding `-Djdk.tracePinnedThreads=full`, I see\r\n```\r\nThread[#34,ForkJoinPool-1-worker-1,5,CarrierThreads]\r\n    java.base/java.lang.VirtualThread$VThreadContinuation.onPinned(VirtualThread.java:180)\r\n    java.base/jdk.internal.vm.Continuation.onPinned0(Continuation.java:398)\r\n    java.base/jdk.internal.vm.Continuation.yield0(Continuation.java:390)\r\n    java.base/jdk.internal.vm.Continuation.yield(Continuation.java:357)\r\n    java.base/java.lang.VirtualThread.yieldContinuation(VirtualThread.java:370)\r\n    java.base/java.lang.VirtualThread.parkNanos(VirtualThread.java:532)\r\n    java.base/java.lang.VirtualThread.doSleepNanos(VirtualThread.java:713)\r\n    java.base/java.lang.VirtualThread.sleepNanos(VirtualThread.java:686)\r\n    java.base/java.lang.Thread.sleep(Thread.java:451)\r\n    org.example.Main$1.service(Main.java:64)\r\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867)\r\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) &lt;== monitors:1\r\n    java.base/java.util.concurrent.ThreadPerTaskExecutor$TaskRunner.run(ThreadPerTaskExecutor.java:314)\r\n    java.base/java.lang.VirtualThread.run(VirtualThread.java:287)\r\n    java.base/java.lang.VirtualThread$VThreadContinuation.lambda$new$0(VirtualThread.java:174)\r\n    java.base/jdk.internal.vm.Continuation.enter0(Continuation.java:327)\r\n    java.base/jdk.internal.vm.Continuation.enter(Continuation.java:320)\r\n```\r\n\r\nWhen I make a request.\r\nLooks like the call to `Thread.sleep` pins the carrier thread?  \r\nWhen I  run a simple program (without Tomcat or any other web server) that just spawns a virtual thread and sleeps inside it, I don&#39;t see any pinning traces.","title":"Virtual Threads in Tomcat Server","body":"<p>I'm using OpenJDK 19</p>\n<pre><code>openjdk 19 2022-09-20\nOpenJDK Runtime Environment (build 19+36-2238)\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\n</code></pre>\n<p>And the latest version of Tomcat (10.0.23)</p>\n<pre class=\"lang-java prettyprint-override\"><code>var tomcat = new Tomcat();\nvar ctx = tomcat.addContext(&quot;&quot;, (new File(&quot;.&quot;)).getAbsolutePath());\nTomcat.addServlet(ctx, &quot;Servlet&quot;, new HttpServlet() {\n    @Override\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        resp.setStatus(200);\n        resp.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    }\n});\nctx.addServletMappingDecoded(&quot;/*&quot;, &quot;Servlet&quot;);\nvar connector = new Connector();\nvar uri = new URI(&quot;http://0.0.0.0:8081&quot;);\nconnector.setProperty(&quot;address&quot;, uri.getHost());\nconnector.setPort(uri.getPort());\nconnector.setProperty(&quot;maxHttpHeaderSize&quot;, &quot;16384&quot;);\nconnector.setProperty(&quot;connectionTimeout&quot;, Duration.ofSeconds(5L).toString());\nconnector.setProperty(&quot;maxKeepAliveRequests&quot;, &quot;100&quot;);\nconnector.setProperty(&quot;useKeepAliveResponseHeader&quot;, &quot;false&quot;);\nconnector.setProperty(&quot;socket.soLingerOn&quot;, &quot;false&quot;);\nconnector.setEncodedSolidusHandling(&quot;passthrough&quot;);\nconnector.getProtocolHandler().setExecutor(Executors.newVirtualThreadPerTaskExecutor());\ntomcat.getService().addConnector(connector);\n\ntomcat.start();\n</code></pre>\n<p>In this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>connector.getProtocolHandler().setExecutor(Executors.newVirtualThreadPerTaskExecutor());\n</code></pre>\n<p>I tell Tomcat to use an executor of virtual threads, and then I have a simple Servlet where I sleep for 5 seconds before responding to the client.</p>\n<p>I have this bash script to load test the server</p>\n<pre class=\"lang-bash prettyprint-override\"><code>function call {\n        curl http://localhost:8081\n}\n\n\nfunction test_load {\n        start_time=$(date +%s)\n        call\n        end_time=$(date +%s)\n        elapsed=$(( end_time - start_time ))\n        echo &quot;done elapsed: ${elapsed} \\n&quot;\n}\n\nfor i in {1..100}; do\n        test_load &amp;\ndone\n\nsleep 100000\n</code></pre>\n<p>When I run the script, I expect to wait 5 seconds, and then see <code>done elapsed: 5</code> repeated for 100 times. Because running <code>Thread.sleep</code> shouldn't block the underlying platform thread.<br />\nInstead, after 5 seconds, I see <code>done elapsed: 5</code> printed 12 times. Then after another 5 seconds, I see <code>done elapsed: 10</code> printed another 12 times, and so on...</p>\n<p>When I try <code>Executors.newThreadPerTaskExecutor()</code> or <code>Executors.newCachedThreadPool()</code>, it works as I'd expect virtual thread per task to work (run all 100 calls in parallel)</p>\n<p>12 is the number of cores I have (<code>Runtime.getRuntime().availableProcessors()</code>)</p>\n<p>Why does this happen?</p>\n<p><strong>Edit 1</strong>: After adding <code>-Djdk.tracePinnedThreads=full</code>, I see</p>\n<pre><code>Thread[#34,ForkJoinPool-1-worker-1,5,CarrierThreads]\n    java.base/java.lang.VirtualThread$VThreadContinuation.onPinned(VirtualThread.java:180)\n    java.base/jdk.internal.vm.Continuation.onPinned0(Continuation.java:398)\n    java.base/jdk.internal.vm.Continuation.yield0(Continuation.java:390)\n    java.base/jdk.internal.vm.Continuation.yield(Continuation.java:357)\n    java.base/java.lang.VirtualThread.yieldContinuation(VirtualThread.java:370)\n    java.base/java.lang.VirtualThread.parkNanos(VirtualThread.java:532)\n    java.base/java.lang.VirtualThread.doSleepNanos(VirtualThread.java:713)\n    java.base/java.lang.VirtualThread.sleepNanos(VirtualThread.java:686)\n    java.base/java.lang.Thread.sleep(Thread.java:451)\n    org.example.Main$1.service(Main.java:64)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:867)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) &lt;== monitors:1\n    java.base/java.util.concurrent.ThreadPerTaskExecutor$TaskRunner.run(ThreadPerTaskExecutor.java:314)\n    java.base/java.lang.VirtualThread.run(VirtualThread.java:287)\n    java.base/java.lang.VirtualThread$VThreadContinuation.lambda$new$0(VirtualThread.java:174)\n    java.base/jdk.internal.vm.Continuation.enter0(Continuation.java:327)\n    java.base/jdk.internal.vm.Continuation.enter(Continuation.java:320)\n</code></pre>\n<p>When I make a request.\nLooks like the call to <code>Thread.sleep</code> pins the carrier thread?<br />\nWhen I  run a simple program (without Tomcat or any other web server) that just spawns a virtual thread and sleeps inside it, I don't see any pinning traces.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":2,"creation_date":1361512550,"post_id":15017746,"comment_id":21100372,"body_markdown":"This Exception is thrown in case of a bean being requested despite bean creation currently not being allowed (for example, during the shutdown phase of a bean factory).","body":"This Exception is thrown in case of a bean being requested despite bean creation currently not being allowed (for example, during the shutdown phase of a bean factory)."},{"owner":{"account_id":1561860,"reputation":2813,"user_id":1451567,"accept_rate":88,"display_name":"Kathir"},"score":3,"creation_date":1361514359,"post_id":15017746,"comment_id":21100919,"body_markdown":"Could you please add some more details to understand it better?","body":"Could you please add some more details to understand it better?"},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1546006993,"post_id":15017746,"comment_id":94757428,"body_markdown":"Could you please guide here: https://stackoverflow.com/questions/53959982/error-creating-bean-with-name-eurekainstanceconfigbean-singleton-bean-creatio ?","body":"Could you please guide here: <a href=\"https://stackoverflow.com/questions/53959982/error-creating-bean-with-name-eurekainstanceconfigbean-singleton-bean-creatio\" title=\"error creating bean with name eurekainstanceconfigbean singleton bean creatio\">stackoverflow.com/questions/53959982/&hellip;</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":1561860,"reputation":2813,"user_id":1451567,"accept_rate":88,"display_name":"Kathir"},"score":7,"creation_date":1361525303,"post_id":15018832,"comment_id":21105234,"body_markdown":"I found out the issue is not with JAVA_HOME but that may be true. My issue is caused due to a failure in the test case and the scheduler got shutdown and later bean is being accessed.","body":"I found out the issue is not with JAVA_HOME but that may be true. My issue is caused due to a failure in the test case and the scheduler got shutdown and later bean is being accessed."},{"owner":{"account_id":254507,"reputation":6148,"user_id":533967,"accept_rate":91,"display_name":"Anders Metnik"},"score":8,"creation_date":1600330262,"post_id":15018832,"comment_id":113055133,"body_markdown":"Link seems dead, which is why usually refering to answer outside this site, is bad practice","body":"Link seems dead, which is why usually refering to answer outside this site, is bad practice"},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1600345239,"post_id":15018832,"comment_id":113062362,"body_markdown":"@AndersMetnik Updating the `JAVA_HOME` and JDK to 1.7 fixed the issue. Which was there in the link that I referred as well. :)","body":"@AndersMetnik Updating the <code>JAVA_HOME</code> and JDK to 1.7 fixed the issue. Which was there in the link that I referred as well. :)"},{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1611639398,"post_id":15018832,"comment_id":116509208,"body_markdown":"as @Kathir mentioned its not JAVA_HOME issue. There is a case in spring integration test where context shutdown is triggered wherein some thread based execution tries to access beans.","body":"as @Kathir mentioned its not JAVA_HOME issue. There is a case in spring integration test where context shutdown is triggered wherein some thread based execution tries to access beans."},{"owner":{"account_id":402626,"reputation":5350,"user_id":769900,"accept_rate":45,"display_name":"Jeff Tian"},"score":2,"creation_date":1620788941,"post_id":15018832,"comment_id":119302267,"body_markdown":"The link provided by `http://forums.alfresco.com/forum/installation-upgrades-configuration-integration/installation-upgrades/singleton-bean-creation` can not be opened.","body":"The link provided by <code>http:&#47;&#47;forums.alfresco.com&#47;forum&#47;installation-upgrades-confi&zwnj;&#8203;guration-integration&zwnj;&#8203;&#47;installation-upgrad&zwnj;&#8203;es&#47;singleton-bean-cr&zwnj;&#8203;eation</code> can not be opened."}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":5,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1361517343,"creation_date":1361517343,"answer_id":15018832,"question_id":15017746,"body_markdown":"[Go to this thread][1]\r\n\r\n\r\nI assume that you too have the same issue around there..\r\nIt got solved by setting the `JAVA_HOME` path\r\nAnd Updating your JDK to version 7 and try restarting your server..([solution][2])\r\n\r\nI think that could solve your issue..\r\n\r\n\r\n  [1]: http://forums.alfresco.com/forum/installation-upgrades-configuration-integration/installation-upgrades/singleton-bean-creation\r\n  [2]: http://forums.alfresco.com/comment/68013#comment-68013","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p><a href=\"http://forums.alfresco.com/forum/installation-upgrades-configuration-integration/installation-upgrades/singleton-bean-creation\" rel=\"noreferrer\">Go to this thread</a></p>\n\n<p>I assume that you too have the same issue around there..\nIt got solved by setting the <code>JAVA_HOME</code> path\nAnd Updating your JDK to version 7 and try restarting your server..(<a href=\"http://forums.alfresco.com/comment/68013#comment-68013\" rel=\"noreferrer\">solution</a>)</p>\n\n<p>I think that could solve your issue..</p>\n"},{"comments":[{"owner":{"account_id":1352529,"reputation":2657,"user_id":1291727,"display_name":"Mariusz"},"score":1,"creation_date":1402961161,"post_id":20247784,"comment_id":37464953,"body_markdown":"You saved my life with this hint! I&#39;m running Windows8 and first time i experienced a &quot;detached&quot; process (tomcat) that was not listed anywhere in TaskManager (although my Tomcat8 is running as a service). I opened VisualVM and it showed a tomcat instance/pid which i killed with &quot;taskkill /pid 10752 /f&quot; (f switch =force). Shitty M$","body":"You saved my life with this hint! I&#39;m running Windows8 and first time i experienced a &quot;detached&quot; process (tomcat) that was not listed anywhere in TaskManager (although my Tomcat8 is running as a service). I opened VisualVM and it showed a tomcat instance/pid which i killed with &quot;taskkill /pid 10752 /f&quot; (f switch =force). Shitty M$"},{"owner":{"account_id":1972135,"reputation":308,"user_id":1770805,"accept_rate":67,"display_name":"Kadiri"},"score":1,"creation_date":1403013391,"post_id":20247784,"comment_id":37487218,"body_markdown":"Happy for you dear friend","body":"Happy for you dear friend"}],"tags":[],"owner":{"account_id":1972135,"reputation":308,"user_id":1770805,"accept_rate":67,"display_name":"Kadiri"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1385569518,"creation_date":1385569518,"answer_id":20247784,"question_id":15017746,"body_markdown":"Check if you have more than one tomcat&#39;s instance. &lt;br&gt;\r\nif this is your case, shutdown all instance then open one and only one instance.&lt;br&gt;\r\nI hope that will help you","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>Check if you have more than one tomcat's instance. <br>\nif this is your case, shutdown all instance then open one and only one instance.<br>\nI hope that will help you</p>\n"},{"tags":[],"owner":{"account_id":3401338,"reputation":625,"user_id":2853402,"display_name":"adramazany"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523950981,"creation_date":1523950981,"answer_id":49872465,"question_id":15017746,"body_markdown":"In my case ,&lt;br&gt;\r\nI&#39;m using multiple threads to call beans methods&lt;br&gt;\r\nand before finishing all threads &lt;br&gt;\r\ncalling context.close()&lt;br&gt;\r\nmade and throws this exception&lt;br&gt;\r\nwith removing context.close&lt;br&gt;\r\nmy problem solved.&lt;br&gt;\r\nhope useful&lt;br&gt;","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>In my case ,<br>\nI'm using multiple threads to call beans methods<br>\nand before finishing all threads <br>\ncalling context.close()<br>\nmade and throws this exception<br>\nwith removing context.close<br>\nmy problem solved.<br>\nhope useful<br></p>\n"},{"comments":[{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1669732181,"post_id":50453570,"comment_id":131706101,"body_markdown":"Exactly how did `@Transactional` resolve your problem? Where did you place this annotation?","body":"Exactly how did <code>@Transactional</code> resolve your problem? Where did you place this annotation?"},{"owner":{"account_id":4204119,"reputation":825,"user_id":3443508,"display_name":"Sumit Sundriyal"},"score":0,"creation_date":1669828764,"post_id":50453570,"comment_id":131733741,"body_markdown":"@Arthur If I remember correctly then the problem was that my test case was not able to create bean due to the unavailability of transaction. I think i started the trasaction from the test case.","body":"@Arthur If I remember correctly then the problem was that my test case was not able to create bean due to the unavailability of transaction. I think i started the trasaction from the test case."}],"tags":[],"owner":{"account_id":4204119,"reputation":825,"user_id":3443508,"display_name":"Sumit Sundriyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549550745,"creation_date":1526922494,"answer_id":50453570,"question_id":15017746,"body_markdown":"`@Transactional` resolved in my case after using this it resolved transaction conflict between multiple transaction.\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED, readOnly = false)\r\n\r\n \r\nI am using Spring Boot + Spring Data ","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p><code>@Transactional</code> resolved in my case after using this it resolved transaction conflict between multiple transaction.</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRED, readOnly = false)\n</code></pre>\n\n<p>I am using Spring Boot + Spring Data </p>\n"},{"comments":[{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":2,"creation_date":1569594724,"post_id":54575815,"comment_id":102659742,"body_markdown":"What if this annotations are necessary?","body":"What if this annotations are necessary?"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1569606770,"post_id":54575815,"comment_id":102665174,"body_markdown":"Are you trying to use these annotations on tests? The annotations were disabled only for tests","body":"Are you trying to use these annotations on tests? The annotations were disabled only for tests"}],"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642190402,"creation_date":1549550457,"answer_id":54575815,"question_id":15017746,"body_markdown":"I was having this error while debugging an application on my integration test, trying to call a `find` method from Spring Data Repository.\r\n\r\nMy test code was using `@Async` and `@Scheduled`. After some research, I [disabled][1] these two features on my spring integration test and the problem was resolved.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42597467/2387977","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>I was having this error while debugging an application on my integration test, trying to call a <code>find</code> method from Spring Data Repository.</p>\n<p>My test code was using <code>@Async</code> and <code>@Scheduled</code>. After some research, I <a href=\"https://stackoverflow.com/a/42597467/2387977\">disabled</a> these two features on my spring integration test and the problem was resolved.</p>\n"},{"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590737585,"creation_date":1590737585,"answer_id":62080885,"question_id":15017746,"body_markdown":"You can also get this exception if you have a dependency that&#39;s in provided scope but it&#39;s not available at run time. ","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>You can also get this exception if you have a dependency that's in provided scope but it's not available at run time. </p>\n"},{"tags":[],"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599479983,"creation_date":1599479796,"answer_id":63777169,"question_id":15017746,"body_markdown":"In my case I had:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin my pom.xml in a new project. I removed it and now it works. ","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>In my case I had:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n     &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in my pom.xml in a new project. I removed it and now it works.</p>\n"},{"tags":[],"owner":{"account_id":19543194,"reputation":57,"user_id":14300567,"display_name":"Azedin derkawski"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616598124,"creation_date":1616598124,"answer_id":66783789,"question_id":15017746,"body_markdown":"I had this error also, but in my case I find out at the end of the error message, that was something related to two endpoints having the same @requestmapping value, I hope it helps :)  ","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>I had this error also, but in my case I find out at the end of the error message, that was something related to two endpoints having the same @requestmapping value, I hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":4687856,"reputation":2198,"user_id":3794798,"accept_rate":90,"display_name":"kkochanski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633452107,"creation_date":1633452107,"answer_id":69454299,"question_id":15017746,"body_markdown":"I was getting that error when tests were finished before the moment of finishing the async thread ran at the tested method.\r\n\r\nThe fix was to ensure, that tests won&#39;t finish until the thread job will be done.","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>I was getting that error when tests were finished before the moment of finishing the async thread ran at the tested method.</p>\n<p>The fix was to ensure, that tests won't finish until the thread job will be done.</p>\n"},{"tags":[],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652886495,"creation_date":1652886495,"answer_id":72291697,"question_id":15017746,"body_markdown":"I have really no idea what is going on ! I&#39;m running a project remotely through VScode on an Ubuntu server. Everything worked normally until I got this error without touching it. \r\n\r\nWhat I did is close the remote VScode and connect it again. Boom! it&#39;s working again!\r\n\r\nI know it might not help to answer this question. Just want to share my weird experience on this error by myself if someone come and see this.","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>I have really no idea what is going on ! I'm running a project remotely through VScode on an Ubuntu server. Everything worked normally until I got this error without touching it.</p>\n<p>What I did is close the remote VScode and connect it again. Boom! it's working again!</p>\n<p>I know it might not help to answer this question. Just want to share my weird experience on this error by myself if someone come and see this.</p>\n"},{"tags":[],"owner":{"account_id":27884989,"reputation":31,"user_id":21292669,"display_name":"Navneet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695151613,"creation_date":1695151613,"answer_id":77137440,"question_id":15017746,"body_markdown":"This error occurs when your service is in the destruction phase, which means spring is destroying the beans and in between you requested a resource or tried to create a bean that is destroyed in the destruction phase.\r\n","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>This error occurs when your service is in the destruction phase, which means spring is destroying the beans and in between you requested a resource or tried to create a bean that is destroyed in the destruction phase.</p>\n"}],"owner":{"account_id":1561860,"reputation":2813,"user_id":1451567,"accept_rate":88,"display_name":"Kathir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148578,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"accepted_answer_id":15018832,"answer_count":11,"score":22,"last_activity_date":1695151613,"creation_date":1361512269,"question_id":15017746,"body_markdown":"I am getting the following exception when I execute the code via **JUnit Test Case**\r\n\r\n&gt;org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;somarFactory&#39;: Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n\r\nCould someone advise what might be the issues?\r\n\r\n\r\n","title":"Error creating bean with name and Singleton bean creation not allowed","body":"<p>I am getting the following exception when I execute the code via <strong>JUnit Test Case</strong></p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'somarFactory': Singleton bean creation not allowed while the singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)</p>\n</blockquote>\n<p>Could someone advise what might be the issues?</p>\n"},{"tags":["java","curl","apache-kafka","processbuilder","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":17340618,"reputation":305,"user_id":12561365,"display_name":"rakesh kandukuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614198802,"creation_date":1614198802,"answer_id":66358434,"question_id":66355831,"body_markdown":"```\r\n\r\n[curl, -k, -X, POST, -H, Content-Type: application/vnd.schemaregistry.v1+json, --data, {&quot;schema&quot;:&quot;{\\&quot;additionalProperties\\&quot;:false,\\&quot;properties\\&quot;:{\\&quot;age\\&quot;:{\\&quot;type\\&quot;:\\&quot;integer\\&quot;},\\&quot;firstname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;lastname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;minLength\\&quot;:2,\\&quot;maxLength\\&quot;:4},\\&quot;email\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;format\\&quot;:\\&quot;email\\&quot;},\\&quot;designation\\&quot;:{\\&quot;default\\&quot;:\\&quot;\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;mobile\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;pattern\\&quot;:\\&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$\\&quot;}},\\&quot;required\\&quot;:[\\&quot;firstname\\&quot;,\\&quot;lastname\\&quot;,\\&quot;age\\&quot;],\\&quot;title\\&quot;:\\&quot;customer\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;}&quot;,&quot;schemaType&quot;:&quot;JSON&quot;}, https://hostname/topicname-value/versions]\r\n\r\n@RequestBody schema --&gt;  {&quot;schema&quot;:&quot;{\\&quot;additionalProperties\\&quot;:false,\\&quot;properties\\&quot;:{\\&quot;age\\&quot;:{\\&quot;type\\&quot;:\\&quot;integer\\&quot;},\\&quot;firstname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;lastname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;minLength\\&quot;:2,\\&quot;maxLength\\&quot;:4},\\&quot;email\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;format\\&quot;:\\&quot;email\\&quot;},\\&quot;designation\\&quot;:{\\&quot;default\\&quot;:\\&quot;\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;mobile\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;pattern\\&quot;:\\&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$\\&quot;}},\\&quot;required\\&quot;:[\\&quot;firstname\\&quot;,\\&quot;lastname\\&quot;,\\&quot;age\\&quot;],\\&quot;title\\&quot;:\\&quot;customer\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;}&quot;,&quot;schemaType&quot;:&quot;JSON&quot;}\r\n\r\npublic class SchemaPublisherUtility {\r\n\r\n\tprivate final Logger LOG = LoggerFactory.getLogger(getClass());\r\n\r\n\tString url = &quot;https://hostname/topicname-value/versions&quot;;\r\n\r\n\tString Topic = &quot;dev.json.schemaregistry&quot;;\r\n\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\r\n\t@PostMapping(path = &quot;/publishschema&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n\tpublic void addSchema(@RequestBody String sourceSchema) throws IOException {\r\n\r\n\t\tLOG.info(&quot;Schema Publish Started&quot;);\r\n\r\n\t\tString convertSourceSchema = sourceSchema.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\r\n\t\tString constructSourceSchema = &quot;{\\&quot;schema\\&quot;:\\&quot;&quot; + convertSourceSchema + &quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;JSON\\&quot;}&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tURL requestUrl = new URL(url);\r\n\r\n\t\t\tHttpsURLConnection conn = (HttpsURLConnection) requestUrl.openConnection();\r\n\r\n\t\t\tconn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\tconn.setDoOutput(true);\r\n\t\t\tconn.setRequestMethod(&quot;POST&quot;);\r\n\r\n\t\t\tOutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\r\n\t\t\tout.write(constructSourceSchema);\r\n\t\t\tout.close();\r\n\r\n\t\t\tnew InputStreamReader(conn.getInputStream());\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tLOG.info(&quot;Schema Publish Completed&quot;);\r\n\r\n\t}\r\n}\r\n````","title":"Java process builder issue with schema","body":"<pre><code>\n[curl, -k, -X, POST, -H, Content-Type: application/vnd.schemaregistry.v1+json, --data, {&quot;schema&quot;:&quot;{\\&quot;additionalProperties\\&quot;:false,\\&quot;properties\\&quot;:{\\&quot;age\\&quot;:{\\&quot;type\\&quot;:\\&quot;integer\\&quot;},\\&quot;firstname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;lastname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;minLength\\&quot;:2,\\&quot;maxLength\\&quot;:4},\\&quot;email\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;format\\&quot;:\\&quot;email\\&quot;},\\&quot;designation\\&quot;:{\\&quot;default\\&quot;:\\&quot;\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;mobile\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;pattern\\&quot;:\\&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$\\&quot;}},\\&quot;required\\&quot;:[\\&quot;firstname\\&quot;,\\&quot;lastname\\&quot;,\\&quot;age\\&quot;],\\&quot;title\\&quot;:\\&quot;customer\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;}&quot;,&quot;schemaType&quot;:&quot;JSON&quot;}, https://hostname/topicname-value/versions]\n\n@RequestBody schema --&gt;  {&quot;schema&quot;:&quot;{\\&quot;additionalProperties\\&quot;:false,\\&quot;properties\\&quot;:{\\&quot;age\\&quot;:{\\&quot;type\\&quot;:\\&quot;integer\\&quot;},\\&quot;firstname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;lastname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;minLength\\&quot;:2,\\&quot;maxLength\\&quot;:4},\\&quot;email\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;format\\&quot;:\\&quot;email\\&quot;},\\&quot;designation\\&quot;:{\\&quot;default\\&quot;:\\&quot;\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;},\\&quot;mobile\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;pattern\\&quot;:\\&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$\\&quot;}},\\&quot;required\\&quot;:[\\&quot;firstname\\&quot;,\\&quot;lastname\\&quot;,\\&quot;age\\&quot;],\\&quot;title\\&quot;:\\&quot;customer\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;}&quot;,&quot;schemaType&quot;:&quot;JSON&quot;}\n\npublic class SchemaPublisherUtility {\n\n    private final Logger LOG = LoggerFactory.getLogger(getClass());\n\n    String url = &quot;https://hostname/topicname-value/versions&quot;;\n\n    String Topic = &quot;dev.json.schemaregistry&quot;;\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    @PostMapping(path = &quot;/publishschema&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\n    public void addSchema(@RequestBody String sourceSchema) throws IOException {\n\n        LOG.info(&quot;Schema Publish Started&quot;);\n\n        String convertSourceSchema = sourceSchema.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n\n        String constructSourceSchema = &quot;{\\&quot;schema\\&quot;:\\&quot;&quot; + convertSourceSchema + &quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;JSON\\&quot;}&quot;;\n\n        try {\n            URL requestUrl = new URL(url);\n\n            HttpsURLConnection conn = (HttpsURLConnection) requestUrl.openConnection();\n\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            conn.setDoOutput(true);\n            conn.setRequestMethod(&quot;POST&quot;);\n\n            OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());\n            out.write(constructSourceSchema);\n            out.close();\n\n            new InputStreamReader(conn.getInputStream());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        LOG.info(&quot;Schema Publish Completed&quot;);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17340618,"reputation":305,"user_id":12561365,"display_name":"rakesh kandukuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66358434,"answer_count":1,"score":0,"last_activity_date":1695151561,"creation_date":1614187520,"question_id":66355831,"body_markdown":" i am using java process builder to execute the curl command to publish the schema to schema registry but \r\ngetting error. problem with schema format, not sure how to pass as argument for process builder. please provide any suggestions\r\n\r\n```\r\nsourceSchema = &quot;{&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;age&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;firstname&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;lastname&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;minLength&quot;:2,&quot;maxLength&quot;:4},&quot;email&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;format&quot;:&quot;email&quot;},&quot;designation&quot;:{&quot;default&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},&quot;mobile&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;pattern&quot;:&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$&quot;}},&quot;required&quot;:[&quot;firstname&quot;,&quot;lastname&quot;,&quot;age&quot;],&quot;title&quot;:&quot;customer&quot;,&quot;type&quot;:&quot;object&quot;}&quot;;\r\n\r\nString convertSourceSchema = sourceSchema.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n\t\t\r\n\t\tString constructSourceSchema = &quot;{\\&quot;schema\\&quot;:\\&quot;&quot;+convertSourceSchema+&quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;JSON\\&quot;}&quot;;\r\n\t\t\r\n\t\t\t\r\n\t\tString[] command = {&quot;curl&quot;, &quot;-k&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application/vnd.schemaregistry.v1+json&quot;, &quot;--data&quot;, &quot;&quot;+constructSourceSchema+&quot;&quot;, &quot;&quot;+url+&quot;&quot;};\t\t\r\n\r\n\t\tProcessBuilder process = new ProcessBuilder(command); \r\n\t\tProcess p;\r\n\t    try\r\n\t    {\r\n\t    \tprocess.redirectErrorStream(true);\r\n\t    \tp = process.start();\r\n\t    \t\t    \t\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\tString line = null;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tbuilder.append(line);\r\n\t\t\t\t//builder.append(&quot;,&quot;);\r\n\t\t\t}\r\n\t\t\tString result = builder.toString();\r\n\t\t\tSystem.out.print(result);\r\n\r\n\t    }\r\n\t    catch (Exception e)\r\n\t    {   System.out.print(&quot;error&quot;);\r\n\t        e.printStackTrace();\r\n\t    }\r\n\r\n&gt; Blockquote\r\n\r\nerror am getting\r\n\r\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current                                 Dload  Upload   Total   Spent    Left  Speed  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   635  100   208  100   427    208    427  0:00:01 --:--:--  0:00:01  2396Unexpected character (&#39;s&#39; (code 115)): was expecting double-quote to start field name at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 3]2021-02-24 11:19:16.409  INFO 18428 --- [nio-8080-exec-1] c.c.e.s.u.c.SchemaPublisherUtility  \r\n\r\n\r\n","title":"Java process builder issue with schema","body":"<p>i am using java process builder to execute the curl command to publish the schema to schema registry but\ngetting error. problem with schema format, not sure how to pass as argument for process builder. please provide any suggestions</p>\n<pre><code>sourceSchema = &quot;{&quot;additionalProperties&quot;:false,&quot;properties&quot;:{&quot;age&quot;:{&quot;type&quot;:&quot;integer&quot;},&quot;firstname&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;lastname&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;minLength&quot;:2,&quot;maxLength&quot;:4},&quot;email&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;format&quot;:&quot;email&quot;},&quot;designation&quot;:{&quot;default&quot;:&quot;&quot;,&quot;type&quot;:&quot;string&quot;},&quot;mobile&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;pattern&quot;:&quot;^(\\\\\\\\([0-9]{3}\\\\\\\\))?[0-9]{3}-[0-9]{4}$&quot;}},&quot;required&quot;:[&quot;firstname&quot;,&quot;lastname&quot;,&quot;age&quot;],&quot;title&quot;:&quot;customer&quot;,&quot;type&quot;:&quot;object&quot;}&quot;;\n\nString convertSourceSchema = sourceSchema.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n        \n        String constructSourceSchema = &quot;{\\&quot;schema\\&quot;:\\&quot;&quot;+convertSourceSchema+&quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;JSON\\&quot;}&quot;;\n        \n            \n        String[] command = {&quot;curl&quot;, &quot;-k&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;-H&quot;, &quot;Content-Type: application/vnd.schemaregistry.v1+json&quot;, &quot;--data&quot;, &quot;&quot;+constructSourceSchema+&quot;&quot;, &quot;&quot;+url+&quot;&quot;};        \n\n        ProcessBuilder process = new ProcessBuilder(command); \n        Process p;\n        try\n        {\n            process.redirectErrorStream(true);\n            p = process.start();\n                        \n            BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            StringBuilder builder = new StringBuilder();\n            String line = null;\n            while ((line = reader.readLine()) != null) {\n                builder.append(line);\n                //builder.append(&quot;,&quot;);\n            }\n            String result = builder.toString();\n            System.out.print(result);\n\n        }\n        catch (Exception e)\n        {   System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n\n&gt; Blockquote\n\nerror am getting\n\n% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current                                 Dload  Upload   Total   Spent    Left  Speed  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   635  100   208  100   427    208    427  0:00:01 --:--:--  0:00:01  2396Unexpected character ('s' (code 115)): was expecting double-quote to start field name at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 3]2021-02-24 11:19:16.409  INFO 18428 --- [nio-8080-exec-1] c.c.e.s.u.c.SchemaPublisherUtility  \n\n\n</code></pre>\n"},{"tags":["java","jvm","launch","steam"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695206423,"post_id":77137422,"comment_id":135992287,"body_markdown":"Combining the `-jar` option with an `.exe` file is highly suspicious. Besides that, what do you expect us to tell you, given this little amount of information? Apparently, your Java installation is broken.","body":"Combining the <code>-jar</code> option with an <code>.exe</code> file is highly suspicious. Besides that, what do you expect us to tell you, given this little amount of information? Apparently, your Java installation is broken."},{"owner":{"account_id":29484999,"reputation":1,"user_id":22595121,"display_name":"JChip"},"score":0,"creation_date":1695235670,"post_id":77137422,"comment_id":135998941,"body_markdown":"exe is ok, because it is built by launch4J, I don&#39;t have any clue, I stop by this error for  4 weeks. I know it JRE initial error, but I don&#39;t know the reason.","body":"exe is ok, because it is built by launch4J, I don&#39;t have any clue, I stop by this error for  4 weeks. I know it JRE initial error, but I don&#39;t know the reason."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695281162,"post_id":77137422,"comment_id":136003992,"body_markdown":"An exe built by launch4J still is an exe file, not a jar file. Why don’t you just run the exe, as it is supposed to be used?","body":"An exe built by launch4J still is an exe file, not a jar file. Why don’t you just run the exe, as it is supposed to be used?"},{"owner":{"account_id":29484999,"reputation":1,"user_id":22595121,"display_name":"JChip"},"score":0,"creation_date":1695485195,"post_id":77137422,"comment_id":136032005,"body_markdown":"yeah, we will run game.exe on release version, to use the command line to debug to get the above error log. I tested the command line on my local, the game can be launched normally, however, the steam tester can not launch it with the same command line on their side, thanks.","body":"yeah, we will run game.exe on release version, to use the command line to debug to get the above error log. I tested the command line on my local, the game can be launched normally, however, the steam tester can not launch it with the same command line on their side, thanks."}],"owner":{"account_id":29484999,"reputation":1,"user_id":22595121,"display_name":"JChip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695151471,"creation_date":1695151471,"question_id":77137422,"body_markdown":"I am trying to deploy a JAVA game on the steam, they copy me an error detail:\r\n$ bin/java -jar game.exe\r\n\r\n\r\n\r\n```\r\nError occurred during initialization of VM\r\njava.lang.NoSuchFieldError: handle\r\n    at java.io.FileDescriptor.initIDs(Native Method)\r\n    at java.io.FileDescriptor.(FileDescriptor.java:137)\r\n    at java.lang.System.initializeSystemClass(System.java:1188)\r\n```\r\n \r\n \r\nDoes anyone know what is the issue is and how to solve it?\r\n\r\nThanks!\r\n\r\nI don&#39;t get the error when I run this command on my local on three machines.","title":"A question about JRM error : Error occurred during initialization of VM java.lang.NoSuchFieldError: handle","body":"<p>I am trying to deploy a JAVA game on the steam, they copy me an error detail:\n$ bin/java -jar game.exe</p>\n<pre><code>Error occurred during initialization of VM\njava.lang.NoSuchFieldError: handle\n    at java.io.FileDescriptor.initIDs(Native Method)\n    at java.io.FileDescriptor.(FileDescriptor.java:137)\n    at java.lang.System.initializeSystemClass(System.java:1188)\n</code></pre>\n<p>Does anyone know what is the issue is and how to solve it?</p>\n<p>Thanks!</p>\n<p>I don't get the error when I run this command on my local on three machines.</p>\n"},{"tags":["java","android","file","permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695158438,"post_id":77137417,"comment_id":135985947,"body_markdown":"Yes on Android 11+ devices your app can not read files of other apps in the classic way. You should use ACTION_OPEN_DOCUMENT to let the user select that file as the .._TREE is for selecting a directory. No permissions needed.","body":"Yes on Android 11+ devices your app can not read files of other apps in the classic way. You should use ACTION_OPEN_DOCUMENT to let the user select that file as the .._TREE is for selecting a directory. No permissions needed."}],"owner":{"account_id":29484951,"reputation":1,"user_id":22595087,"display_name":"Jan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695151425,"creation_date":1695151425,"question_id":77137417,"body_markdown":"so I&#39;m quite new to Java/Android Studio etc. I want to access a file that is another app safe in the path &quot;/storage/emulated/0/DataLogger/&quot;\r\n\r\n\r\n\r\nI tried this:\r\n    private String get_feature_string(String fileName) {\r\n\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(&quot;/storage/emulated/0/DataLogger/&quot;+fileName))) {\r\n            String firstLine = reader.readLine(); // Read the first line\r\n\r\n            if (firstLine != null) {\r\n                StringBuilder restOfFile = new StringBuilder();\r\n                String nextLine;\r\n                while ((nextLine = reader.readLine()) != null) {\r\n                    restOfFile.append(nextLine + &#39;\\n&#39;);\r\n                }\r\n                data = restOfFile.toString();\r\n                return firstLine;\r\n            }\r\n        } catch (IOException e) {\r\n            return &quot;&quot;;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nbut it always fails at opening the file:\r\n/storage/emulated/0/DataLogger/23.09.01_15.20.27_raw.txt: open failed: EACCES (Permission denied)\r\n\r\nAlso I&#39;m completly unsure if this approach is remotely close to how it works as well as which permissions I need. There seem to be a lot of changes happening to file permissions and after several hours of searching I still seem to be hopeless. There seem to be other approaches like ACTION_OPEN_DOCUMENT_TREE, but I really don&#39;t understand how to implement them.\r\n\r\nI would be glad for any help, thanks :)","title":"Accessing txt file from another app that is saved on phone || open failed: EACCES (Permission denied) || Android Studio Java Android 11+","body":"<p>so I'm quite new to Java/Android Studio etc. I want to access a file that is another app safe in the path &quot;/storage/emulated/0/DataLogger/&quot;</p>\n<p>I tried this:\nprivate String get_feature_string(String fileName) {</p>\n<pre><code>    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;/storage/emulated/0/DataLogger/&quot;+fileName))) {\n        String firstLine = reader.readLine(); // Read the first line\n\n        if (firstLine != null) {\n            StringBuilder restOfFile = new StringBuilder();\n            String nextLine;\n            while ((nextLine = reader.readLine()) != null) {\n                restOfFile.append(nextLine + '\\n');\n            }\n            data = restOfFile.toString();\n            return firstLine;\n        }\n    } catch (IOException e) {\n        return &quot;&quot;;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>but it always fails at opening the file:\n/storage/emulated/0/DataLogger/23.09.01_15.20.27_raw.txt: open failed: EACCES (Permission denied)</p>\n<p>Also I'm completly unsure if this approach is remotely close to how it works as well as which permissions I need. There seem to be a lot of changes happening to file permissions and after several hours of searching I still seem to be hopeless. There seem to be other approaches like ACTION_OPEN_DOCUMENT_TREE, but I really don't understand how to implement them.</p>\n<p>I would be glad for any help, thanks :)</p>\n"},{"tags":["java","android","android-studio","event-tracking"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1695152095,"post_id":77137406,"comment_id":135984878,"body_markdown":"You generally turn to an analytics solution to track stuff like this.  Google Analytics is an example.","body":"You generally turn to an analytics solution to track stuff like this.  Google Analytics is an example."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1695152126,"post_id":77137406,"comment_id":135984883,"body_markdown":"The terms you should be searching for is &quot;mobile analytics sdk&quot;. There are variety of vendors that can provide such a service.","body":"The terms you should be searching for is &quot;mobile analytics sdk&quot;. There are variety of vendors that can provide such a service."}],"owner":{"account_id":21410514,"reputation":3,"user_id":15770848,"display_name":"lvl 1 slime"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695151304,"creation_date":1695151304,"question_id":77137406,"body_markdown":"I&#39;m looking for a way to track how often an app I create is opened and what activities are launched the most.\r\n\r\nWould this data automatically be tracked in the Play Console?  I do not have a Playstore developer account since apps I created are for internal corporate use. Would I still be able to collect this data if the app were privately uploaded?  This app would only be available to internal users.\r\n\r\nAre there other data collection methods that better track this information?","title":"How to collect data on number of app opens","body":"<p>I'm looking for a way to track how often an app I create is opened and what activities are launched the most.</p>\n<p>Would this data automatically be tracked in the Play Console?  I do not have a Playstore developer account since apps I created are for internal corporate use. Would I still be able to collect this data if the app were privately uploaded?  This app would only be available to internal users.</p>\n<p>Are there other data collection methods that better track this information?</p>\n"},{"tags":["java","android","kotlin","accessibility","uiaccessibility"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695168736,"post_id":77137390,"comment_id":135987245,"body_markdown":"Are you trying to build your own speech recognition, or simply to use something already built?  If you&#39;re trying to do the first one, yes, that&#39;s possible, just hire a dozen PhDs and have them work on it for a couple years.","body":"Are you trying to build your own speech recognition, or simply to use something already built?  If you&#39;re trying to do the first one, yes, that&#39;s possible, just hire a dozen PhDs and have them work on it for a couple years."},{"owner":{"account_id":19315096,"reputation":230,"user_id":14120046,"display_name":"Arvind suresh"},"score":0,"creation_date":1695194686,"post_id":77137390,"comment_id":135989852,"body_markdown":"or how to use the present live captions? can i get data from it?","body":"or how to use the present live captions? can i get data from it?"}],"owner":{"account_id":19315096,"reputation":230,"user_id":14120046,"display_name":"Arvind suresh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695151134,"creation_date":1695151134,"question_id":77137390,"body_markdown":"I am developing an accessibility service application and **I need functionality similar to the live captions in Android,** I am able to build an accessibility service similar to talkback i.e. I can able to access the data displayed in a screen similar to talkback, but now **I need to** **get data from the microphone too**, to improve my accessibility service application, **similar to live captions**, but I couldn&#39;t find any resources for it, am I missing something or is it possible for any third-party to build an application similar to live captions?","title":"is it possible for a third-Party to develop Android Accessibility Service with Real-Time Speech Recognition for Live Captions-like Functionality","body":"<p>I am developing an accessibility service application and <strong>I need functionality similar to the live captions in Android,</strong> I am able to build an accessibility service similar to talkback i.e. I can able to access the data displayed in a screen similar to talkback, but now <strong>I need to</strong> <strong>get data from the microphone too</strong>, to improve my accessibility service application, <strong>similar to live captions</strong>, but I couldn't find any resources for it, am I missing something or is it possible for any third-party to build an application similar to live captions?</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1695597770,"post_id":77137369,"comment_id":136041638,"body_markdown":"Have you followed this guide on the official documentation?  https://developers.google.com/maps/documentation/android-sdk/current-place-tutorial","body":"Have you followed this guide on the official documentation?  <a href=\"https://developers.google.com/maps/documentation/android-sdk/current-place-tutorial\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/&hellip;</a>"}],"owner":{"account_id":6993490,"reputation":11,"user_id":11124040,"display_name":"kennedy Kamotho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695150947,"creation_date":1695150947,"question_id":77137369,"body_markdown":"I am creating an app in Android studio that uses Google map services. When I run the app I cannot locate my current location marker. I am trying to use local location broadcasting from location service that has the current location class to my map fragment. Please help me know where the issue is because I am new in creating Android Apps. \r\n```\r\n&lt;receiver android:name=&quot;.Fragments.HomeFragment&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;location-update&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt; \r\n```\r\nandroidManifest.xml code\r\n``` \r\n@Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n    }\r\n    private BroadcastReceiver locationUpdateReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.d(&quot;location-update&quot;, &quot;Received location update broadcast&quot;);\r\n            double newLatitude = intent.getDoubleExtra(&quot;latitude&quot;, 0.0);\r\n            double newLongitude = intent.getDoubleExtra(&quot;longitude&quot;, 0.0);\r\n            // update the marker with new location\r\n            updateMarker(newLatitude, newLongitude);\r\n        }\r\n    };\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        // Register the locationUpdateReceiver to listen for location updates\r\n//        Log.d(&quot;location-update&quot;, &quot;Received location update broadcast&quot;);\r\n        IntentFilter filter = new IntentFilter(&quot;location-update&quot;);\r\n        requireActivity().registerReceiver(locationUpdateReceiver, filter);\r\n    }\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        //Unregister the locationUpdateReceiver when the fragment is paused\r\n        requireActivity().unregisterReceiver(locationUpdateReceiver);\r\n    }\r\n    private void updateMarker(double newLatitude, double newLongitude) {\r\n        if (mMap != null) {\r\n            mMap.clear();\r\n            LatLng newLocation = new LatLng(newLatitude, newLongitude);\r\n            mMap.addMarker(new MarkerOptions()\r\n                    .position(newLocation)\r\n                    .title(&quot;Your location&quot;));\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(newLocation, 17));\r\n        }\r\n    }\r\n```\r\nHomeFragment class\r\n``` \r\nprivate LocationCallback locationCallback = new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(@NonNull LocationResult locationResult) {\r\n            super.onLocationResult(locationResult);\r\n            if (locationResult != null &amp;&amp; locationResult.getLastLocation() != null) {\r\n                double latitude = locationResult.getLastLocation().getLatitude();\r\n                double longitude = locationResult.getLastLocation().getLongitude();\r\n\r\n                sendLocationUpdateBroadcast(latitude, longitude);\r\n};\r\nprivate void sendLocationUpdateBroadcast(double latitude, double longitude){\r\n        Intent intent = new Intent(&quot;location-update&quot;);\r\n        intent.setComponent(new ComponentName(getPackageName(), &quot;com.example.registration.Fragments.HomeFragment&quot;));\r\n        intent.putExtra(&quot;latitude&quot;, latitude);\r\n        intent.putExtra(&quot;longitude&quot;, longitude);\r\n//        Log.d(&quot;Location_update&quot;, latitude + &quot;. &quot; + longitude);\r\n        LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\r\n\r\n    }\r\n```\r\nLocationService class","title":"How to locate current location marker in android studio?","body":"<p>I am creating an app in Android studio that uses Google map services. When I run the app I cannot locate my current location marker. I am trying to use local location broadcasting from location service that has the current location class to my map fragment. Please help me know where the issue is because I am new in creating Android Apps.</p>\n<pre><code>&lt;receiver android:name=&quot;.Fragments.HomeFragment&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;location-update&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt; \n</code></pre>\n<p>androidManifest.xml code</p>\n<pre><code>@Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n    }\n    private BroadcastReceiver locationUpdateReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.d(&quot;location-update&quot;, &quot;Received location update broadcast&quot;);\n            double newLatitude = intent.getDoubleExtra(&quot;latitude&quot;, 0.0);\n            double newLongitude = intent.getDoubleExtra(&quot;longitude&quot;, 0.0);\n            // update the marker with new location\n            updateMarker(newLatitude, newLongitude);\n        }\n    };\n    @Override\n    public void onResume() {\n        super.onResume();\n        // Register the locationUpdateReceiver to listen for location updates\n//        Log.d(&quot;location-update&quot;, &quot;Received location update broadcast&quot;);\n        IntentFilter filter = new IntentFilter(&quot;location-update&quot;);\n        requireActivity().registerReceiver(locationUpdateReceiver, filter);\n    }\n    @Override\n    public void onPause() {\n        super.onPause();\n        //Unregister the locationUpdateReceiver when the fragment is paused\n        requireActivity().unregisterReceiver(locationUpdateReceiver);\n    }\n    private void updateMarker(double newLatitude, double newLongitude) {\n        if (mMap != null) {\n            mMap.clear();\n            LatLng newLocation = new LatLng(newLatitude, newLongitude);\n            mMap.addMarker(new MarkerOptions()\n                    .position(newLocation)\n                    .title(&quot;Your location&quot;));\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(newLocation, 17));\n        }\n    }\n</code></pre>\n<p>HomeFragment class</p>\n<pre><code>private LocationCallback locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            super.onLocationResult(locationResult);\n            if (locationResult != null &amp;&amp; locationResult.getLastLocation() != null) {\n                double latitude = locationResult.getLastLocation().getLatitude();\n                double longitude = locationResult.getLastLocation().getLongitude();\n\n                sendLocationUpdateBroadcast(latitude, longitude);\n};\nprivate void sendLocationUpdateBroadcast(double latitude, double longitude){\n        Intent intent = new Intent(&quot;location-update&quot;);\n        intent.setComponent(new ComponentName(getPackageName(), &quot;com.example.registration.Fragments.HomeFragment&quot;));\n        intent.putExtra(&quot;latitude&quot;, latitude);\n        intent.putExtra(&quot;longitude&quot;, longitude);\n//        Log.d(&quot;Location_update&quot;, latitude + &quot;. &quot; + longitude);\n        LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n\n    }\n</code></pre>\n<p>LocationService class</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1695148152,"post_id":77137091,"comment_id":135984290,"body_markdown":"I’m voting to close this question because it&#39;s not a question. Take a tour of the [help], particularly [ask].","body":"I’m voting to close this question because it&#39;s not a question. Take a tour of the <a href=\"https://stackoverflow.com/help\">help center</a>, particularly <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1695148251,"post_id":77137091,"comment_id":135984304,"body_markdown":"What is your question? Please edit that into your post. And while you&#39;re at it, please fix your formatting. (There is a preview feature when posting a question. There is no need to post a question that looks as ugly as this one)","body":"What is your question? Please edit that into your post. And while you&#39;re at it, please fix your formatting. (There is a preview feature when posting a question. There is no need to post a question that looks as ugly as this one)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695148585,"post_id":77137091,"comment_id":135984348,"body_markdown":"Stack Overflow is a place to ask questions. It is expected, when you ask a question,  there actually *is* a question. Please take the advice in the comment from Rogue. It might also help to [take the tour](https://stackoverflow.com/tour)","body":"Stack Overflow is a place to ask questions. It is expected, when you ask a question,  there actually <i>is</i> a question. Please take the advice in the comment from Rogue. It might also help to <a href=\"https://stackoverflow.com/tour\">take the tour</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695148904,"post_id":77137091,"comment_id":135984390,"body_markdown":"In the interest of saving time, there is a problem with your code. [Java operator precedence](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html) generally follows the rules of mathematics. You might also be interested in looking into the difference between floating point division and integer division. See https://stackoverflow.com/questions/4685450/int-division-why-is-the-result-of-1-3-0 for one.","body":"In the interest of saving time, there is a problem with your code. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">Java operator precedence</a> generally follows the rules of mathematics. You might also be interested in looking into the difference between floating point division and integer division. See <a href=\"https://stackoverflow.com/questions/4685450/int-division-why-is-the-result-of-1-3-0\" title=\"int division why is the result of 1 3 0\">stackoverflow.com/questions/4685450/&hellip;</a> for one."}],"answers":[{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1695150687,"post_id":77137197,"comment_id":135984671,"body_markdown":"Integer arithmetic is probably not what is wanted. The average of 2, 2, and 1 will be 1. `double avg = (a + b + c) / 3.0;` is probably what is wanted.","body":"Integer arithmetic is probably not what is wanted. The average of 2, 2, and 1 will be 1. <code>double avg = (a + b + c) &#47; 3.0;</code> is probably what is wanted."}],"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695150918,"creation_date":1695149182,"answer_id":77137197,"question_id":77137091,"body_markdown":"Though your question could be cleaer, the only apparent issue lies with this line:\r\n\r\n```\r\nint avg = a + b + c / 3;\r\n```\r\n\r\nJava&#39;s operator precedence rules (which match those in math in this case) mean this is equivalent to:\r\n\r\n```\r\nint avg = a + b + (c / 3);\r\n```\r\n\r\nRather than the desired sum of a, b, and c divided by three to get the average.\r\n\r\n```\r\nint avg = (a + b + c) / 3;\r\n```\r\n\r\nHowever, bear in mind that this is doing _integer_ math. If you want a floating point average, you will need to divide your sum by a floating point number.\r\n\r\n```\r\ndouble avg = (a + b + c) / 3.0;\r\n```\r\n\r\nFor inputs of 4, 2 and 1 this now gives 2.333... whereas the former would give an average of 2.\r\n","title":"in a program ...A,B and C.You have to out put the average of these 3 numbers Average of N numbers is sum of those numbers divided by N) JAVA","body":"<p>Though your question could be cleaer, the only apparent issue lies with this line:</p>\n<pre><code>int avg = a + b + c / 3;\n</code></pre>\n<p>Java's operator precedence rules (which match those in math in this case) mean this is equivalent to:</p>\n<pre><code>int avg = a + b + (c / 3);\n</code></pre>\n<p>Rather than the desired sum of a, b, and c divided by three to get the average.</p>\n<pre><code>int avg = (a + b + c) / 3;\n</code></pre>\n<p>However, bear in mind that this is doing <em>integer</em> math. If you want a floating point average, you will need to divide your sum by a floating point number.</p>\n<pre><code>double avg = (a + b + c) / 3.0;\n</code></pre>\n<p>For inputs of 4, 2 and 1 this now gives 2.333... whereas the former would give an average of 2.</p>\n"}],"owner":{"account_id":26835356,"reputation":1,"user_id":20422684,"display_name":"PUNIT SONI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1695151168,"answer_count":1,"score":-3,"last_activity_date":1695150918,"creation_date":1695148099,"question_id":77137091,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class JavaBasics {\r\n    public static void main(String agrs[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int a = sc.nextInt();\r\n        int b = sc.nextInt();\r\n        int c = sc.nextInt();\r\n\r\n        int avg = a + b + c / 3;\r\n\r\n        System.out.println(avg);\r\n    }\r\n}\r\n```","title":"in a program ...A,B and C.You have to out put the average of these 3 numbers Average of N numbers is sum of those numbers divided by N) JAVA","body":"<pre><code>import java.util.*;\n\npublic class JavaBasics {\n    public static void main(String agrs[]) {\n        Scanner sc = new Scanner(System.in);\n\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        int c = sc.nextInt();\n\n        int avg = a + b + c / 3;\n\n        System.out.println(avg);\n    }\n}\n</code></pre>\n"},{"tags":["java","obfuscation","proguard"],"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":4,"creation_date":1264270770,"post_id":2124121,"comment_id":2062176,"body_markdown":"Remember also that if you use reflection and/or loading by name, obfuscation is going to break your program.","body":"Remember also that if you use reflection and/or loading by name, obfuscation is going to break your program."},{"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"score":10,"creation_date":1264270823,"post_id":2124121,"comment_id":2062178,"body_markdown":"as Christopher said, there&#39;s a manual, we can&#39;t (and won&#39;t read it for you)","body":"as Christopher said, there&#39;s a manual, we can&#39;t (and won&#39;t read it for you)"},{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":1,"creation_date":1264270863,"post_id":2124121,"comment_id":2062181,"body_markdown":"Why not take a look at the fine full examples at http://proguard.sourceforge.net/manual/examples.html and then ask a question about anything specific you have trouble with?","body":"Why not take a look at the fine full examples at <a href=\"http://proguard.sourceforge.net/manual/examples.html\" rel=\"nofollow noreferrer\">proguard.sourceforge.net/manual/examples.html</a> and then ask a question about anything specific you have trouble with?"},{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":4,"creation_date":1264271582,"post_id":2124121,"comment_id":2062240,"body_markdown":"by the time the OP has read (and +1&#39;d) all the responses, he could have &#39;read the website&#39; and obfuscated his code","body":"by the time the OP has read (and +1&#39;d) all the responses, he could have &#39;read the website&#39; and obfuscated his code"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1264273050,"post_id":2124121,"comment_id":2062346,"body_markdown":"I would think twice about introducing new technology two seconds before shipping code with the untested technology to a customer.","body":"I would think twice about introducing new technology two seconds before shipping code with the untested technology to a customer."}],"answers":[{"comments":[{"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"score":1,"creation_date":1264270450,"post_id":2124130,"comment_id":2062155,"body_markdown":"+1 for advising me to check those licenses of those libraries.","body":"+1 for advising me to check those licenses of those libraries."}],"tags":[],"owner":{"account_id":82441,"reputation":1074,"user_id":231799,"display_name":"Paul Clapham"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1264270328,"creation_date":1264270328,"answer_id":2124130,"question_id":2124121,"body_markdown":"You only need to obfuscate the other libraries in the case where you need to protect them against whatever you think obfuscation is doing for your code. However you should read the licences for those other libraries to see whether they restrict you from distributing modified versions.","title":"How to obfuscate Java code quickly?","body":"<p>You only need to obfuscate the other libraries in the case where you need to protect them against whatever you think obfuscation is doing for your code. However you should read the licences for those other libraries to see whether they restrict you from distributing modified versions.</p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264270836,"creation_date":1264270836,"answer_id":2124153,"question_id":2124121,"body_markdown":"regarding Q4: The mapping is used when users send you bug reports that contain exception stacktraces from the obfuscated code. ProGuard allows you to translate these stacktraces back to the original class names and line numbers if you have the mapping.","title":"How to obfuscate Java code quickly?","body":"<p>regarding Q4: The mapping is used when users send you bug reports that contain exception stacktraces from the obfuscated code. ProGuard allows you to translate these stacktraces back to the original class names and line numbers if you have the mapping.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264270849,"creation_date":1264270849,"answer_id":2124155,"question_id":2124121,"body_markdown":"Just answering Q4…\r\n\r\nThere is a good reason to keep the mapping. If the client ever sends you a stacktrace, it can be very useful to know where in the code that stacktrace came from. The purpose of an obfuscator is to get rid of that information ;-) By keeping the mapping, you enable the conversion of the stacktrace into where the problem occurred in the original code.","title":"How to obfuscate Java code quickly?","body":"<p>Just answering Q4…</p>\n\n<p>There is a good reason to keep the mapping. If the client ever sends you a stacktrace, it can be very useful to know where in the code that stacktrace came from. The purpose of an obfuscator is to get rid of that information ;-) By keeping the mapping, you enable the conversion of the stacktrace into where the problem occurred in the original code.</p>\n"},{"tags":[],"owner":{"account_id":86702,"reputation":8869,"user_id":240921,"accept_rate":70,"display_name":"ZoFreX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264270923,"creation_date":1264270923,"answer_id":2124163,"question_id":2124121,"body_markdown":"I can answer question 4. You should retain it for debugging. Say you have a bug in function &quot;printTheAlphabet()&quot; on line 23, after obfuscating the stack trace might say something like &quot;Error in j6z9r() on line 27&quot; which makes it pretty impossible to locate the error in your source code.","title":"How to obfuscate Java code quickly?","body":"<p>I can answer question 4. You should retain it for debugging. Say you have a bug in function \"printTheAlphabet()\" on line 23, after obfuscating the stack trace might say something like \"Error in j6z9r() on line 27\" which makes it pretty impossible to locate the error in your source code.</p>\n"},{"comments":[{"owner":{"account_id":378535,"reputation":13462,"user_id":731314,"accept_rate":90,"display_name":"Gary"},"score":4,"creation_date":1409280860,"post_id":2124185,"comment_id":39916362,"body_markdown":"Minor spelling mistake, but `ProGard` had me wasting I don&#39;t know how long looking at gun racks.  Your answer might as well come with a prescription to Ritalin.","body":"Minor spelling mistake, but <code>ProGard</code> had me wasting I don&#39;t know how long looking at gun racks.  Your answer might as well come with a prescription to Ritalin."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1695150468,"creation_date":1264271297,"answer_id":2124185,"question_id":2124121,"body_markdown":"&gt; Q1. So could anyone tell me please some simple obfuscators or some simple steps to use proguard so that I can just input &quot;abc.jar&quot; and it outputs &quot;obfuscate_abc.jar&quot; or something simple like that.\r\n\r\nJust go for ProGuard, it&#39;s definitely a good tool (recommended in many answers here on SO like [this one][1], [this one][2] and [this one][3]).\r\n\r\n&gt; Q2. One more thing, as my java program uses external libraries, so should i need to obfuscate those libraries too?\r\n\r\nNo need IMHO (not even mentioning that you may not).\r\n\r\n&gt; Q3. Is there any eclipse or netbeans plugin availabe to this obfuscation?\r\n\r\nI&#39;d rather suggest to use the [Ant Task][5] or the [proguard-maven-plugin][6]. See [this question][4] about the maven plugin if required.\r\n\r\n&gt; Q4. So, one more question is Why do we need to keep that mapping-table with us. We can simply retain a copy of un-obfuscated application so as to make changes in that (if required in future). Is there any reason to retain that mapping-table file with us?\r\n\r\nYes, to &quot;translate&quot; stacktrace.\r\n\r\n  [1]: https://stackoverflow.com/questions/150653/java-obfuscation-proguard-yguard-other/150780#150780\r\n  [2]: https://stackoverflow.com/questions/93290/best-java-obfuscation-application-for-size-reduction/96627#96627\r\n  [3]: https://stackoverflow.com/questions/310533/java-obfuscators\r\n  [4]: https://stackoverflow.com/questions/880839/maven-proguard-and-assembly-issues\r\n  [5]: http://proguard.sourceforge.net/manual/ant.html\r\n  [6]: https://wvengen.github.io/proguard-maven-plugin/","title":"How to obfuscate Java code quickly?","body":"<blockquote>\n<p>Q1. So could anyone tell me please some simple obfuscators or some simple steps to use proguard so that I can just input &quot;abc.jar&quot; and it outputs &quot;obfuscate_abc.jar&quot; or something simple like that.</p>\n</blockquote>\n<p>Just go for ProGuard, it's definitely a good tool (recommended in many answers here on SO like <a href=\"https://stackoverflow.com/questions/150653/java-obfuscation-proguard-yguard-other/150780#150780\">this one</a>, <a href=\"https://stackoverflow.com/questions/93290/best-java-obfuscation-application-for-size-reduction/96627#96627\">this one</a> and <a href=\"https://stackoverflow.com/questions/310533/java-obfuscators\">this one</a>).</p>\n<blockquote>\n<p>Q2. One more thing, as my java program uses external libraries, so should i need to obfuscate those libraries too?</p>\n</blockquote>\n<p>No need IMHO (not even mentioning that you may not).</p>\n<blockquote>\n<p>Q3. Is there any eclipse or netbeans plugin availabe to this obfuscation?</p>\n</blockquote>\n<p>I'd rather suggest to use the <a href=\"http://proguard.sourceforge.net/manual/ant.html\" rel=\"nofollow noreferrer\">Ant Task</a> or the <a href=\"https://wvengen.github.io/proguard-maven-plugin/\" rel=\"nofollow noreferrer\">proguard-maven-plugin</a>. See <a href=\"https://stackoverflow.com/questions/880839/maven-proguard-and-assembly-issues\">this question</a> about the maven plugin if required.</p>\n<blockquote>\n<p>Q4. So, one more question is Why do we need to keep that mapping-table with us. We can simply retain a copy of un-obfuscated application so as to make changes in that (if required in future). Is there any reason to retain that mapping-table file with us?</p>\n</blockquote>\n<p>Yes, to &quot;translate&quot; stacktrace.</p>\n"},{"comments":[{"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"score":0,"creation_date":1264274359,"post_id":2124256,"comment_id":2062438,"body_markdown":"It is showing that \n\n&lt;b&gt;Warning: scraper.Main: can&#39;t find referenced class com.gargoylesoftware.htmlunit.html.HtmlTableCell&lt;/b&gt; means it can&#39;t find the com.garg... lib but it it there in the same folder. Should I need to mention the external libraries too in the .pro file","body":"It is showing that   &lt;b&gt;Warning: scraper.Main: can&#39;t find referenced class com.gargoylesoftware.htmlunit.html.HtmlTableCell&lt;/b&gt; means it can&#39;t find the com.garg... lib but it it there in the same folder. Should I need to mention the external libraries too in the .pro file"}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1264272369,"creation_date":1264272369,"answer_id":2124256,"question_id":2124121,"body_markdown":"I tried this from scratch. It should get you started. I think the key will be to understand the &quot;keep options&quot; in the configuration file.\r\n\r\nUsing this code:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String... args) {\r\n            Example ex = new Example();\r\n            ex.go();\r\n        }\r\n    \r\n        public void go() {\r\n            String[] strings = { &quot;abc&quot;, &quot;def&quot;, &quot;ijk&quot; };\r\n            for (String s : strings) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI created an Example.jar.  I copied the proguard.jar from the ProGuard lib directory, and ran this command-line\r\n\r\n    java -jar proguard.jar @myconfig.pro\r\n\r\nwhere myconfig.pro contains:\r\n\r\n    -injars Example.jar\r\n    -outjars ExampleOut.jar\r\n    -libraryjars &lt;java.home&gt;/lib/rt.jar\r\n    \r\n    -keep public class Example {\r\n        public static void main(java.lang.String[]);\r\n    }\r\n\r\nThis produces ExampleOut.jar which contains the same functionality and is obfuscated (verified with JAD). Note that I did not use a manifest, so to test functionality, I unjarred and tested the class. Execution entry-points within jars are left to the reader.\r\n\r\nThere are many more keep options listed [in the Usage section][1].\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"How to obfuscate Java code quickly?","body":"<p>I tried this from scratch. It should get you started. I think the key will be to understand the \"keep options\" in the configuration file.</p>\n\n<p>Using this code:</p>\n\n<pre><code>import java.util.*;\n\npublic class Example {\n\n    public static void main(String... args) {\n        Example ex = new Example();\n        ex.go();\n    }\n\n    public void go() {\n        String[] strings = { \"abc\", \"def\", \"ijk\" };\n        for (String s : strings) {\n            System.out.println(s);\n        }\n    }\n\n}\n</code></pre>\n\n<p>I created an Example.jar.  I copied the proguard.jar from the ProGuard lib directory, and ran this command-line</p>\n\n<pre><code>java -jar proguard.jar @myconfig.pro\n</code></pre>\n\n<p>where myconfig.pro contains:</p>\n\n<pre><code>-injars Example.jar\n-outjars ExampleOut.jar\n-libraryjars &lt;java.home&gt;/lib/rt.jar\n\n-keep public class Example {\n    public static void main(java.lang.String[]);\n}\n</code></pre>\n\n<p>This produces ExampleOut.jar which contains the same functionality and is obfuscated (verified with JAD). Note that I did not use a manifest, so to test functionality, I unjarred and tested the class. Execution entry-points within jars are left to the reader.</p>\n\n<p>There are many more keep options listed <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">in the Usage section</a>.</p>\n"},{"tags":[],"owner":{"account_id":93765,"reputation":13872,"user_id":256376,"display_name":"Binary Nerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264273279,"creation_date":1264273279,"answer_id":2124308,"question_id":2124121,"body_markdown":"I have had a quick look at [yGuard][1] before and liked the fact that you could integrate the obfuscation steps into an Ant script. This allows you to use it very easily in Eclipse etc if you want.\r\n\r\nThe documentation it comes with provide a number of ready made Ant scripts to get you started. These just need to be modified to work with your projects layout, ie setting the correct package names etc.\r\n\r\nIf your not clear on how to get Ant going in Eclipse, you pretty much just need to add a build.xml file to the project, copy the example script that comes with yGuard into it, modify the script to work with your project and run the yGuard task from the Ant view.\r\n\r\nWith regards to your mapping table question. The only reason I can think you might need something like this would be if you can&#39;t replicate a bug your obfuscated jar exhibits, from your original code. At this point you might need to work with the obfuscated version, maybe to determine if the obfuscation has caused a problem.\r\n\r\n\r\n  [1]: http://www.yworks.com/en/products_yguard_about.html","title":"How to obfuscate Java code quickly?","body":"<p>I have had a quick look at <a href=\"http://www.yworks.com/en/products_yguard_about.html\" rel=\"nofollow noreferrer\">yGuard</a> before and liked the fact that you could integrate the obfuscation steps into an Ant script. This allows you to use it very easily in Eclipse etc if you want.</p>\n\n<p>The documentation it comes with provide a number of ready made Ant scripts to get you started. These just need to be modified to work with your projects layout, ie setting the correct package names etc.</p>\n\n<p>If your not clear on how to get Ant going in Eclipse, you pretty much just need to add a build.xml file to the project, copy the example script that comes with yGuard into it, modify the script to work with your project and run the yGuard task from the Ant view.</p>\n\n<p>With regards to your mapping table question. The only reason I can think you might need something like this would be if you can't replicate a bug your obfuscated jar exhibits, from your original code. At this point you might need to work with the obfuscated version, maybe to determine if the obfuscation has caused a problem.</p>\n"},{"tags":[],"owner":{"account_id":175694,"reputation":16729,"user_id":450148,"accept_rate":82,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335642873,"creation_date":1335636409,"answer_id":10366182,"question_id":2124121,"body_markdown":"How to obfuscate code quickly &amp; dirty:\r\n\r\nTry it: http://www.daftlogic.com/projects-online-javascript-obfuscator.htm or it: http://javascriptobfuscator.com/default.aspx or Google &quot;javascript obfuscator online&quot;.\r\n\r\nI know it is for Javascript, but you can get the\r\nfunction result using a Javascript eval for Java (have a look at: https://stackoverflow.com/a/2605051/450148)\r\n\r\nIt is not the best aprouch, but it can be useful if you are really in a hurry and you are not a paranoic about security.\r\n\r\nEDIT: The next piece of code uses the simple ROT13 to not expose directly your password. The good thing is the &quot;hacker&quot; do not know which algorithm you are using (you can replace ROT13 for which algorithm you like), but it is still very easy to break it down:\r\n\r\n    static String password;\r\n    \r\n    static {\r\n        password = a(&quot;NXVNWQX5CHXRWTKGDMHD&quot;);\r\n    }\r\n    \r\n    private static String a(String b) {\r\n        String c = &quot;eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!&#39;&#39;.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return&#39;\\\\\\\\w+&#39;};c=1};while(c--){if(k[c]){p=p.replace(new RegExp(&#39;\\\\\\\\b&#39;+e(c)+&#39;\\\\\\\\b&#39;,&#39;g&#39;),k[c])}}return p}(&#39;k a(b){2 5=\\\\&#39;\\\\&#39;;o(2 i=0;i&lt;b.e;i++){2 c=b.g(i);2 1=b.f(i);4(c&gt;=\\\\&#39;a\\\\&#39;&amp;&amp;c&lt;=\\\\&#39;m\\\\&#39;)1+=3;6 4(c&gt;=\\\\&#39;n\\\\&#39;&amp;&amp;c&lt;=\\\\&#39;9\\\\&#39;)1-=3;6 4(c&gt;=\\\\&#39;7\\\\&#39;&amp;&amp;c&lt;=\\\\&#39;h\\\\&#39;)1+=3;6 4(c&gt;=\\\\&#39;7\\\\&#39;&amp;&amp;c&lt;=\\\\&#39;p\\\\&#39;)1-=3;2 d=8.l(1);5+=d}j 5}&#39;,26,26,&#39;|charcode|var|13|if|sb|else|A|String|z|||||length|charCodeAt|charAt|M||return|function|fromCharCode|||for|Z&#39;.split(&#39;|&#39;),0,{}));&quot;;\r\n    \r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;js&quot;);\r\n        Object z = &quot;&quot;;\r\n    \r\n        //noinspection EmptyCatchBlock\r\n        try {\r\n            z = engine.eval(c + &quot; a(&#39;&quot; + b + &quot;&#39;);&quot;);\r\n        } catch (ScriptException e) {}\r\n    \r\n        return z.toString();\r\n    }","title":"How to obfuscate Java code quickly?","body":"<p>How to obfuscate code quickly &amp; dirty:</p>\n\n<p>Try it: <a href=\"http://www.daftlogic.com/projects-online-javascript-obfuscator.htm\" rel=\"nofollow noreferrer\">http://www.daftlogic.com/projects-online-javascript-obfuscator.htm</a> or it: <a href=\"http://javascriptobfuscator.com/default.aspx\" rel=\"nofollow noreferrer\">http://javascriptobfuscator.com/default.aspx</a> or Google \"javascript obfuscator online\".</p>\n\n<p>I know it is for Javascript, but you can get the\nfunction result using a Javascript eval for Java (have a look at: <a href=\"https://stackoverflow.com/a/2605051/450148\">https://stackoverflow.com/a/2605051/450148</a>)</p>\n\n<p>It is not the best aprouch, but it can be useful if you are really in a hurry and you are not a paranoic about security.</p>\n\n<p>EDIT: The next piece of code uses the simple ROT13 to not expose directly your password. The good thing is the \"hacker\" do not know which algorithm you are using (you can replace ROT13 for which algorithm you like), but it is still very easy to break it down:</p>\n\n<pre><code>static String password;\n\nstatic {\n    password = a(\"NXVNWQX5CHXRWTKGDMHD\");\n}\n\nprivate static String a(String b) {\n    String c = \"eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\\\\\\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\\\\\\\b'+e(c)+'\\\\\\\\b','g'),k[c])}}return p}('k a(b){2 5=\\\\'\\\\';o(2 i=0;i&lt;b.e;i++){2 c=b.g(i);2 1=b.f(i);4(c&gt;=\\\\'a\\\\'&amp;&amp;c&lt;=\\\\'m\\\\')1+=3;6 4(c&gt;=\\\\'n\\\\'&amp;&amp;c&lt;=\\\\'9\\\\')1-=3;6 4(c&gt;=\\\\'7\\\\'&amp;&amp;c&lt;=\\\\'h\\\\')1+=3;6 4(c&gt;=\\\\'7\\\\'&amp;&amp;c&lt;=\\\\'p\\\\')1-=3;2 d=8.l(1);5+=d}j 5}',26,26,'|charcode|var|13|if|sb|else|A|String|z|||||length|charCodeAt|charAt|M||return|function|fromCharCode|||for|Z'.split('|'),0,{}));\";\n\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(\"js\");\n    Object z = \"\";\n\n    //noinspection EmptyCatchBlock\n    try {\n        z = engine.eval(c + \" a('\" + b + \"');\");\n    } catch (ScriptException e) {}\n\n    return z.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8423730,"reputation":1,"user_id":6321734,"display_name":"Neelu Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599489201,"creation_date":1599484029,"answer_id":63778226,"question_id":2124121,"body_markdown":"```\r\n-injars Decryption.jar (input .jar file that you want to obfuscate)\r\n\r\n-outjars DecryptionOut.jar (output .jar file that you get after obfuscate)\r\n\r\n-libraryjars &#39;&lt;java.home&gt;\\lib\\rt.jar&#39;\r\n\r\n#-dontwarn javax.crypto.** only if it gives any warnings in import\r\n\r\n-dontshrink\r\n\r\n-keep class Decryption{ *; }\r\n```\r\nTry to copy these rules in your `myconfig.pro` rules and then save it and run the command `java -jar proguard.jar @myconfig.pro` on cmd\r\n\r\nDownload `proguard.jar` from https://sourceforge.net/projects/proguard/","title":"How to obfuscate Java code quickly?","body":"<pre><code>-injars Decryption.jar (input .jar file that you want to obfuscate)\n\n-outjars DecryptionOut.jar (output .jar file that you get after obfuscate)\n\n-libraryjars '&lt;java.home&gt;\\lib\\rt.jar'\n\n#-dontwarn javax.crypto.** only if it gives any warnings in import\n\n-dontshrink\n\n-keep class Decryption{ *; }\n</code></pre>\n<p>Try to copy these rules in your <code>myconfig.pro</code> rules and then save it and run the command <code>java -jar proguard.jar @myconfig.pro</code> on cmd</p>\n<p>Download <code>proguard.jar</code> from <a href=\"https://sourceforge.net/projects/proguard/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/proguard/</a></p>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62276,"favorite_count":0,"down_vote_count":13,"up_vote_count":34,"accepted_answer_id":2124185,"answer_count":9,"score":21,"last_activity_date":1695150468,"creation_date":1264270116,"question_id":2124121,"body_markdown":"How to obfuscate code quickly. I have a very small &lt;b&gt;Java App&lt;/b&gt; and I want to deliver the obfuscated code to my client. I have heard a lot about [&lt;b&gt;ProGuard&lt;/b&gt;](http://proguard.sourceforge.net/) to obfuscate code and have downloaded it but doesn&#39;t know how to obfuscate my &quot;abc.jar&quot; file.\r\n\r\nI checked out its website but it contains a lot of material to read. I don&#39;t need heavy obfuscation. I just need a obfuscate that simply changes the name of variables, methods and classes to some unreadable ones. I know ProGuard provide all of this with a ton of other functionalities too.\r\n\r\n&lt;b&gt;Q1.&lt;/b&gt; So could anyone tell me please some simple obfuscators or some simple steps to use proguard so that I can just input &quot;abc.jar&quot; and it outputs &quot;obfuscate_abc.jar&quot; or something simple like that.\r\n\r\n&lt;b&gt;Q2.&lt;/b&gt; One more thing, as my Java program uses external libraries, so should I need to obfuscate those libraries too?\r\n\r\n&lt;b&gt;Q3.&lt;/b&gt; Is there any Eclipse or NetBeans plugin availabe to this obfuscation?\r\n\r\nI have also heard that we should retain the mapping table file with us so that in future we can debug or edit that obfuscated code by first de-obfuscating with the help of that mapping-table which was created at the time of obfuscation.\r\n\r\n&lt;b&gt;Q4.&lt;/b&gt; So, one more question is Why do we need to keep that mapping-table with us? We can simply retain a copy of un-obfuscated application so as to make changes in that (if required in future). Is there any reason to retain that mapping-table file with us?","title":"How to obfuscate Java code quickly?","body":"<p>How to obfuscate code quickly. I have a very small <b>Java App</b> and I want to deliver the obfuscated code to my client. I have heard a lot about <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\"><b>ProGuard</b></a> to obfuscate code and have downloaded it but doesn't know how to obfuscate my \"abc.jar\" file.</p>\n\n<p>I checked out its website but it contains a lot of material to read. I don't need heavy obfuscation. I just need a obfuscate that simply changes the name of variables, methods and classes to some unreadable ones. I know ProGuard provide all of this with a ton of other functionalities too.</p>\n\n<p><b>Q1.</b> So could anyone tell me please some simple obfuscators or some simple steps to use proguard so that I can just input \"abc.jar\" and it outputs \"obfuscate_abc.jar\" or something simple like that.</p>\n\n<p><b>Q2.</b> One more thing, as my Java program uses external libraries, so should I need to obfuscate those libraries too?</p>\n\n<p><b>Q3.</b> Is there any Eclipse or NetBeans plugin availabe to this obfuscation?</p>\n\n<p>I have also heard that we should retain the mapping table file with us so that in future we can debug or edit that obfuscated code by first de-obfuscating with the help of that mapping-table which was created at the time of obfuscation.</p>\n\n<p><b>Q4.</b> So, one more question is Why do we need to keep that mapping-table with us? We can simply retain a copy of un-obfuscated application so as to make changes in that (if required in future). Is there any reason to retain that mapping-table file with us?</p>\n"},{"tags":["java","selenium","webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":12247122,"reputation":31,"user_id":8938508,"display_name":"Jignesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510904116,"creation_date":1510904116,"answer_id":47345484,"question_id":47345229,"body_markdown":"This might be because the TestNG plugin is not installed on eclipse. Try to install the TestNG plugin, then this should get resolved.","title":"TestNG Assert showing error in selenium project","body":"<p>This might be because the TestNG plugin is not installed on eclipse. Try to install the TestNG plugin, then this should get resolved.</p>\n"},{"tags":[],"owner":{"account_id":4872208,"reputation":1786,"user_id":3928295,"accept_rate":80,"display_name":"Manmohan_singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510910648,"creation_date":1510910648,"answer_id":47347164,"question_id":47345229,"body_markdown":"Might be you did not imported the correct testNG jar in your project. Just for reference , download it from [here][1] .\r\n\r\n\r\n  [1]: http://central.maven.org/maven2/org/testng/testng/","title":"TestNG Assert showing error in selenium project","body":"<p>Might be you did not imported the correct testNG jar in your project. Just for reference , download it from <a href=\"http://central.maven.org/maven2/org/testng/testng/\" rel=\"nofollow noreferrer\">here</a> .</p>\n"},{"tags":[],"owner":{"account_id":5349588,"reputation":633,"user_id":4890121,"accept_rate":57,"display_name":"KhiladiBhaiyya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511103057,"creation_date":1511103057,"answer_id":47378193,"question_id":47345229,"body_markdown":"This might be happening because you haven&#39;t added the TestNG in your project. Follow the below steps.\r\n\r\n 1. Right-click on any file/folder in the project in Eclipse.\r\n 2. Select Build Path -&gt; Configure Build Path.\r\n 3. Select &#39;Libraries&#39; tab.\r\n 4. Click on &#39;Add Library&#39;.\r\n 5. Select TestNG. Click &#39;Ok&#39;.","title":"TestNG Assert showing error in selenium project","body":"<p>This might be happening because you haven't added the TestNG in your project. Follow the below steps.</p>\n\n<ol>\n<li>Right-click on any file/folder in the project in Eclipse.</li>\n<li>Select Build Path -> Configure Build Path.</li>\n<li>Select 'Libraries' tab.</li>\n<li>Click on 'Add Library'.</li>\n<li>Select TestNG. Click 'Ok'.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1695538893,"post_id":77137243,"comment_id":136036087,"body_markdown":"Please don&#39;t post code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used.","body":"Please don&#39;t post code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used."}],"tags":[],"owner":{"account_id":29484859,"reputation":1,"user_id":22595023,"display_name":"Muskan Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695149588,"creation_date":1695149546,"answer_id":77137243,"question_id":47345229,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;7.4.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n\r\nTry this if another things don&#39;t work,Change the scope to compile instead of test. \r\nIt worked for me.\r\n","title":"TestNG Assert showing error in selenium project","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.4.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Try this if another things don't work,Change the scope to compile instead of test.\nIt worked for me.</p>\n"}],"owner":{"account_id":12255638,"reputation":37,"user_id":8944760,"display_name":"Jithin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695149588,"creation_date":1510902972,"question_id":47345229,"body_markdown":"Assert is showing error even though testng is imported. error is **&quot;Assert cannot be resolved&quot;** and in the import of Assert the error is **&quot;The import org.testng.Assert cannot be resolved&quot;** .. Please help me to resolve this issue..\r\n","title":"TestNG Assert showing error in selenium project","body":"<p>Assert is showing error even though testng is imported. error is <strong>\"Assert cannot be resolved\"</strong> and in the import of Assert the error is <strong>\"The import org.testng.Assert cannot be resolved\"</strong> .. Please help me to resolve this issue..</p>\n"},{"tags":["java","swing","code-organization","project-organization"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695158439,"post_id":77137196,"comment_id":135985948,"body_markdown":"This sounds like something `CardLayout` would be useful for. I always like to decouple the navigation from the views, so I usually have a concept of a &quot;navigation view&quot; which wraps around other views but manages the navigation (ie &quot;back&quot;) itself","body":"This sounds like something <code>CardLayout</code> would be useful for. I always like to decouple the navigation from the views, so I usually have a concept of a &quot;navigation view&quot; which wraps around other views but manages the navigation (ie &quot;back&quot;) itself"},{"owner":{"account_id":16841522,"reputation":1,"user_id":21259925,"display_name":"P&#233;ter Marschall"},"score":0,"creation_date":1695193896,"post_id":77137196,"comment_id":135989710,"body_markdown":"@MadProgrammer So this would still mean that I need to have all the panels in the same file as my frame that has the card layout, or am I missing something? (Assuming I don&#39;t want to create a separate bar for the panel swap buttons directly on the JFrame)","body":"@MadProgrammer So this would still mean that I need to have all the panels in the same file as my frame that has the card layout, or am I missing something? (Assuming I don&#39;t want to create a separate bar for the panel swap buttons directly on the JFrame)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695195952,"post_id":77137196,"comment_id":135990105,"body_markdown":"No, you don’t  - the classes can be in seperate files (and probably should be)","body":"No, you don’t  - the classes can be in seperate files (and probably should be)"},{"owner":{"account_id":16841522,"reputation":1,"user_id":21259925,"display_name":"P&#233;ter Marschall"},"score":0,"creation_date":1695210394,"post_id":77137196,"comment_id":135993119,"body_markdown":"@MadProgrammer Could you please elaborate, or direct me towards an example? I adjusted my code for CardLayout, but I&#39;m still not able to communicate between my frames layout and the panel(s). Here&#39;s my new code with added comments on what I&#39;m trying to do, if you would take a look at it... [link](https://gist.github.com/Okkun9001/6de5c01810059ea8af27d6024a972d61)\nBut if you can just show me a concrete example that would also be nice, since I cannot find one that resembles my situation.","body":"@MadProgrammer Could you please elaborate, or direct me towards an example? I adjusted my code for CardLayout, but I&#39;m still not able to communicate between my frames layout and the panel(s). Here&#39;s my new code with added comments on what I&#39;m trying to do, if you would take a look at it... <a href=\"https://gist.github.com/Okkun9001/6de5c01810059ea8af27d6024a972d61\" rel=\"nofollow noreferrer\">link</a> But if you can just show me a concrete example that would also be nice, since I cannot find one that resembles my situation."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695245212,"post_id":77137196,"comment_id":136000439,"body_markdown":"Start with [How to use `CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)","body":"Start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to use <code>CardLayout</code></a>"},{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1695351435,"post_id":77137196,"comment_id":136015876,"body_markdown":"See MVC design pattern. You would put the navigation logic in the controller","body":"See MVC design pattern. You would put the navigation logic in the controller"}],"owner":{"account_id":16841522,"reputation":1,"user_id":21259925,"display_name":"P&#233;ter Marschall"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695149481,"creation_date":1695149181,"question_id":77137196,"body_markdown":"I&#39;m trying to make a text-based game and since I&#39;m expecting to write a long code I decided to split it up into multiple files. (https://gist.github.com/Okkun9001/6d511dda544279a2c9d2e636b714a215)\r\nThe &quot;App&quot; file would contain all the game related code, &quot;MyFrame&quot; to manage swapping between windows and possibly more GUI things down the line. Plus &quot;HomePanel&quot; and &quot;GamePanel&quot; in separate files, where both panels contains additional panels and more in the future.\r\n\r\nRight now I have a button on HomePanel, and I want it to take me to &quot;GamePanel&quot;, but actually MyFrame contains the method that would actually do that. And since my button is in HomePanel my MouseListener also needs to be there, but from HomePanel I cannot reference the method in MyFrame.\r\n\r\nI also tried creating a reference to MyFrame in HomePanel, but I already created an instance of it in App, which can only be accessed from there. \r\nAlso tried to move the MouseListener to MyFrame, which would make sense to have it there, but then it said that nothing is actually using it in that file, and to be honest I don&#39;t fully understand why that didn&#39;t work.\r\n\r\nI was looking for more information about this online, but didn&#39;t find any specific example and I&#39;m not sure what I should look for to further understand my problem.\r\n\r\nEdit: I just noticed that I have a mistake in the uploaded files, in my original App.java at line 7 I actually say &#39;frame.buildHomePanel();&#39;. Not that it changes anything, I was just trying to test things there.","title":"How to navigate between files in order to be able to add/remove panels from a frame?","body":"<p>I'm trying to make a text-based game and since I'm expecting to write a long code I decided to split it up into multiple files. (<a href=\"https://gist.github.com/Okkun9001/6d511dda544279a2c9d2e636b714a215\" rel=\"nofollow noreferrer\">https://gist.github.com/Okkun9001/6d511dda544279a2c9d2e636b714a215</a>)\nThe &quot;App&quot; file would contain all the game related code, &quot;MyFrame&quot; to manage swapping between windows and possibly more GUI things down the line. Plus &quot;HomePanel&quot; and &quot;GamePanel&quot; in separate files, where both panels contains additional panels and more in the future.</p>\n<p>Right now I have a button on HomePanel, and I want it to take me to &quot;GamePanel&quot;, but actually MyFrame contains the method that would actually do that. And since my button is in HomePanel my MouseListener also needs to be there, but from HomePanel I cannot reference the method in MyFrame.</p>\n<p>I also tried creating a reference to MyFrame in HomePanel, but I already created an instance of it in App, which can only be accessed from there.\nAlso tried to move the MouseListener to MyFrame, which would make sense to have it there, but then it said that nothing is actually using it in that file, and to be honest I don't fully understand why that didn't work.</p>\n<p>I was looking for more information about this online, but didn't find any specific example and I'm not sure what I should look for to further understand my problem.</p>\n<p>Edit: I just noticed that I have a mistake in the uploaded files, in my original App.java at line 7 I actually say 'frame.buildHomePanel();'. Not that it changes anything, I was just trying to test things there.</p>\n"},{"tags":["java","java-8","java-11"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1695065291,"post_id":77129069,"comment_id":135971701,"body_markdown":"The only thing in initialization of SignerInfo that looks likely to fail is getting DisabledAlgorithmConstraints for JAR. Check the java.security file in your JRE (for j9 up it is in JRE/conf/security) and make sure the setting of jdk.jar.disabledAlgorithms is valid.","body":"The only thing in initialization of SignerInfo that looks likely to fail is getting DisabledAlgorithmConstraints for JAR. Check the java.security file in your JRE (for j9 up it is in JRE/conf/security) and make sure the setting of jdk.jar.disabledAlgorithms is valid."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1695076642,"post_id":77129069,"comment_id":135973286,"body_markdown":"A `NoClassDefFoundError` like this usually occurs after an exception was thrown while initializing the class. Look earlier in the log for an `ExceptionInInitializerError`, that should tell you the actual cause.","body":"A <code>NoClassDefFoundError</code> like this usually occurs after an exception was thrown while initializing the class. Look earlier in the log for an <code>ExceptionInInitializerError</code>, that should tell you the actual cause."}],"owner":{"account_id":29475577,"reputation":1,"user_id":22587413,"display_name":"089674523"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695149379,"creation_date":1695056190,"question_id":77129069,"body_markdown":"I&#39;m migrating Java code repository from Java 8 to Java 11 and my application keeps failing due to the following error.\r\n\r\nI tried searching for the solution online, but didn&#39;t find any help resources unfortunately.\r\n\r\nHave anyone encountered the same, and if so, would you please point me in the right direction?\r\n\r\nError:\r\n\r\n```\r\nERROR o.s.boot.SpringApplication               Application run failed java.lang.NoClassDefFoundError: Could not initialize class sun.security.pkcs.SignerInfo\r\n                at java.base/sun.security.pkcs.PKCS7.parseSignedData(PKCS7.java:365)\r\n                at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:160)\r\n                at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:128)\r\n                at java.base/sun.security.pkcs.PKCS7.&lt;init&gt;(PKCS7.java:110)\r\n                at java.base/sun.security.util.SignatureFileVerifier.&lt;init&gt;(SignatureFileVerifier.java:123)\r\n                at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:308)\r\n                at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\r\n```\r\n\r\n\r\nthanks.","title":"Java 8 to 11 error - NoClassDefFoundError: Could not initialize class sun.security.pkcs.SignerInfo","body":"<p>I'm migrating Java code repository from Java 8 to Java 11 and my application keeps failing due to the following error.</p>\n<p>I tried searching for the solution online, but didn't find any help resources unfortunately.</p>\n<p>Have anyone encountered the same, and if so, would you please point me in the right direction?</p>\n<p>Error:</p>\n<pre><code>ERROR o.s.boot.SpringApplication               Application run failed java.lang.NoClassDefFoundError: Could not initialize class sun.security.pkcs.SignerInfo\n                at java.base/sun.security.pkcs.PKCS7.parseSignedData(PKCS7.java:365)\n                at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:160)\n                at java.base/sun.security.pkcs.PKCS7.parse(PKCS7.java:128)\n                at java.base/sun.security.pkcs.PKCS7.&lt;init&gt;(PKCS7.java:110)\n                at java.base/sun.security.util.SignatureFileVerifier.&lt;init&gt;(SignatureFileVerifier.java:123)\n                at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:308)\n                at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:239)\n</code></pre>\n<p>thanks.</p>\n"},{"tags":["java","variables","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1695149365,"post_id":77137170,"comment_id":135984463,"body_markdown":"The `initialize()` method is called during the execution of `FXMLLoader.load()`, which is before you call `setNumberAccount(...)` (aside: please use proper naming conventions when you post code publicly). So `NUMBER_ACCOUNT` (same comment) is still null in `initialize()`.","body":"The <code>initialize()</code> method is called during the execution of <code>FXMLLoader.load()</code>, which is before you call <code>setNumberAccount(...)</code> (aside: please use proper naming conventions when you post code publicly). So <code>NUMBER_ACCOUNT</code> (same comment) is still null in <code>initialize()</code>."},{"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"score":0,"creation_date":1695149767,"post_id":77137170,"comment_id":135984522,"body_markdown":"@James_D thank you for your comment! It really helped me, I did not know what you just told me! :D","body":"@James_D thank you for your comment! It really helped me, I did not know what you just told me! :D"}],"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695153483,"answer_count":0,"score":0,"last_activity_date":1695149206,"creation_date":1695148922,"question_id":77137170,"body_markdown":"I am trying to make a banking system in Java using JavaFX. What I want to do is to set the text of a label to the String value of a variable when switching scene. I have a set method in the second scene&#39;s controller but the variables remains null and i don&#39;t know why. \r\n\r\nHere is the first scene&#39;s controller. The variable ACCOUNT_NUMBER is ok, i do not have any problem. Also I want to point out that validate(conn , ACCOUNT_NUMBER, PIN) is for the database&#39;s function and is working.\r\n\r\n```\r\npublic class LogInController extends SQLConnection{\r\n\r\n    @FXML\r\n    private TextField accountNumberTextField;\r\n\r\n    @FXML\r\n    private TextField pinTextField;\r\n\r\n    Scene scene;\r\n    Stage stage;\r\n\r\n    public void logIn(ActionEvent e) throws IOException {\r\n\r\n        final String ACCOUNT_NUMBER = accountNumberTextField.getText();\r\n        final int PIN = Integer.parseInt(pinTextField.getText());\r\n\r\n        if(accountNumberTextField.getText().isEmpty() || pinTextField.getText().isEmpty()){\r\n            Dialog&lt;String&gt; dialog = new Dialog&lt;&gt;();\r\n            dialog.setTitle(&quot;You need to complete all the fields&quot;);\r\n            dialog.setContentText(&quot;You need to write your account number and pin.&quot;);\r\n            ButtonType type = new ButtonType(&quot;Ok&quot;);\r\n            dialog.getDialogPane().getButtonTypes().add(type);\r\n            dialog.show();\r\n        }\r\n\r\n        if(!validate(conn, ACCOUNT_NUMBER, PIN)){\r\n\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;dashboard.fxml&quot;));\r\n            Parent root = loader.load();\r\n            DashboardController dashboardController = loader.getController();\r\n            dashboardController.setNUMBER_ACCOUNT(ACCOUNT_NUMBER);\r\n\r\n            stage = (Stage)((Node)e.getSource()).getScene().getWindow();\r\n            scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class DashboardController implements Initializable {\r\n\r\n   @FXML\r\n   private Label numberAccountLabel;\r\n\r\n   String NUMBER_ACCOUNT;\r\n\r\n   // Here is where I have the problem. the variable NUMBER_ACCOUNT remains null. I know that the     variable should have not been written like this.\r\n\r\n    public void setNUMBER_ACCOUNT(String numberAccount){\r\n        NUMBER_ACCOUNT = numberAccount;\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n    numberAccountLabel.setText(NUMBER_ACCOUNT);\r\n    }\r\n}\r\n```","title":"Variable remains null after I use setter in JavaFx","body":"<p>I am trying to make a banking system in Java using JavaFX. What I want to do is to set the text of a label to the String value of a variable when switching scene. I have a set method in the second scene's controller but the variables remains null and i don't know why.</p>\n<p>Here is the first scene's controller. The variable ACCOUNT_NUMBER is ok, i do not have any problem. Also I want to point out that validate(conn , ACCOUNT_NUMBER, PIN) is for the database's function and is working.</p>\n<pre><code>public class LogInController extends SQLConnection{\n\n    @FXML\n    private TextField accountNumberTextField;\n\n    @FXML\n    private TextField pinTextField;\n\n    Scene scene;\n    Stage stage;\n\n    public void logIn(ActionEvent e) throws IOException {\n\n        final String ACCOUNT_NUMBER = accountNumberTextField.getText();\n        final int PIN = Integer.parseInt(pinTextField.getText());\n\n        if(accountNumberTextField.getText().isEmpty() || pinTextField.getText().isEmpty()){\n            Dialog&lt;String&gt; dialog = new Dialog&lt;&gt;();\n            dialog.setTitle(&quot;You need to complete all the fields&quot;);\n            dialog.setContentText(&quot;You need to write your account number and pin.&quot;);\n            ButtonType type = new ButtonType(&quot;Ok&quot;);\n            dialog.getDialogPane().getButtonTypes().add(type);\n            dialog.show();\n        }\n\n        if(!validate(conn, ACCOUNT_NUMBER, PIN)){\n\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;dashboard.fxml&quot;));\n            Parent root = loader.load();\n            DashboardController dashboardController = loader.getController();\n            dashboardController.setNUMBER_ACCOUNT(ACCOUNT_NUMBER);\n\n            stage = (Stage)((Node)e.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }\n\n    }\n}\n</code></pre>\n<pre><code>public class DashboardController implements Initializable {\n\n   @FXML\n   private Label numberAccountLabel;\n\n   String NUMBER_ACCOUNT;\n\n   // Here is where I have the problem. the variable NUMBER_ACCOUNT remains null. I know that the     variable should have not been written like this.\n\n    public void setNUMBER_ACCOUNT(String numberAccount){\n        NUMBER_ACCOUNT = numberAccount;\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    numberAccountLabel.setText(NUMBER_ACCOUNT);\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services"],"owner":{"account_id":17228592,"reputation":11,"user_id":12473678,"display_name":"Rajat Dobriyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695148377,"creation_date":1695148377,"question_id":77137114,"body_markdown":"While creating the s3Client object through Java SDK 2.0. Trying to build s3 client object in spring boot program. Please let me know if you can help out to fix this.\r\n```\r\npackage com.dnd.adx.lambda.keymgmnt.config;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\nimport software.amazon.awssdk.services.s3.S3ClientBuilder;\r\nimport software.amazon.awssdk.services.sns.SnsClient;\r\nimport software.amazon.awssdk.services.sns.SnsClientBuilder;\r\n\r\n@Component\r\npublic class GatewayKeyManagementConfig {\r\n\r\n\tprivate ProcessBuilder processBuilder;\r\n\tprivate SnsClient snsClient;\r\n\tprivate S3Client s3Client;\r\n\tprivate AwsCredentialsProvider awsCredentialsProvider;\r\n\tprivate String region;\r\n\r\n\tpublic GatewayKeyManagementConfig() {\r\n\t\tthis.awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\r\n\t}\r\n\r\n\tpublic void setRegion(String region) {\r\n\t\tthis.region = region;\r\n\t}\r\n\r\n\t// ProcessBuilder configuration.\r\n\tpublic synchronized ProcessBuilder getProcessBuilder() {\r\n\t\tif (processBuilder == null) {\r\n\t\t\tprocessBuilder = new ProcessBuilder();\r\n\t\t}\r\n\t\treturn processBuilder;\r\n\t}\r\n\r\n\t// Sns client configuration.\r\n\tpublic synchronized SnsClient getSnsClient() {\r\n\t\tif (snsClient == null) {\r\n\t\t\tSnsClientBuilder builder = SnsClient.builder();\r\n//\t\t\tSnsClientBuilder credentialsProvider = builder.credentialsProvider(awsCredentialsProvider);\r\n\t\t\tSnsClientBuilder region2 = builder.region(Region.of(region));\r\n\t\t\tsnsClient = region2.build();\r\n\t\t}\r\n\r\n\t\treturn snsClient;\r\n\t}\r\n\r\n\t// S3 client configuration.\r\n\tpublic synchronized S3Client getS3Client() {\r\n\t\tif (s3Client == null) {\r\n\t\t\tS3ClientBuilder builder = S3Client.builder();\r\n\t\t\tbuilder = builder.region(Region.of(region));\r\n\t\t\ts3Client = builder.build();\r\n\t\t}\r\n\t\treturn s3Client;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nGetting exception while building the s3Client object at **s3Client = builder.build();**\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchFieldError: DUALSTACK_ENDPOINT_ENABLED\r\n\tat software.amazon.awssdk.services.s3.DefaultS3BaseClientBuilder.finalizeServiceConfiguration(DefaultS3BaseClientBuilder.java:112)\r\n\tat software.amazon.awssdk.awscore.client.builder.AwsDefaultClientBuilder.finalizeChildConfiguration(AwsDefaultClientBuilder.java:132)\r\n\tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:183)\r\n\tat software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:36)\r\n\tat software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:25)\r\n\tat software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:150)\r\n\tat com.dnd.adx.lambda.keymgmnt.config.GatewayKeyManagementConfig.getS3Client(GatewayKeyManagementConfig.java:55)\r\n\tat com.dnd.adx.lambda.keymgmnt.service.impl.FileOperationServiceImpl.uploadFile(FileOperationServiceImpl.java:148)\r\n\tat com.dnd.adx.lambda.keymgmnt.service.impl.CommonServiceImpl.generateKeysReport(CommonServiceImpl.java:215)\r\n\tat com.dnd.adx.lambda.keymgmnt.function.GenerateKeysReportFunction.apply(GenerateKeysReportFunction.java:29)\r\n\tat com.dnd.adx.lambda.keymgmnt.GatewayKeyManagementApplication.main(GatewayKeyManagementApplication.java:26)\r\n\r\n```\r\n\r\nThe same piece of code is working in another project but throwing **DUALSTACK_ENDPOINT_ENABLED**","title":"DUALSTACK_ENDPOINT_ENABLED while s3Client builder","body":"<p>While creating the s3Client object through Java SDK 2.0. Trying to build s3 client object in spring boot program. Please let me know if you can help out to fix this.</p>\n<pre><code>package com.dnd.adx.lambda.keymgmnt.config;\n\nimport org.springframework.stereotype.Component;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.S3ClientBuilder;\nimport software.amazon.awssdk.services.sns.SnsClient;\nimport software.amazon.awssdk.services.sns.SnsClientBuilder;\n\n@Component\npublic class GatewayKeyManagementConfig {\n\n    private ProcessBuilder processBuilder;\n    private SnsClient snsClient;\n    private S3Client s3Client;\n    private AwsCredentialsProvider awsCredentialsProvider;\n    private String region;\n\n    public GatewayKeyManagementConfig() {\n        this.awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\n    }\n\n    public void setRegion(String region) {\n        this.region = region;\n    }\n\n    // ProcessBuilder configuration.\n    public synchronized ProcessBuilder getProcessBuilder() {\n        if (processBuilder == null) {\n            processBuilder = new ProcessBuilder();\n        }\n        return processBuilder;\n    }\n\n    // Sns client configuration.\n    public synchronized SnsClient getSnsClient() {\n        if (snsClient == null) {\n            SnsClientBuilder builder = SnsClient.builder();\n//          SnsClientBuilder credentialsProvider = builder.credentialsProvider(awsCredentialsProvider);\n            SnsClientBuilder region2 = builder.region(Region.of(region));\n            snsClient = region2.build();\n        }\n\n        return snsClient;\n    }\n\n    // S3 client configuration.\n    public synchronized S3Client getS3Client() {\n        if (s3Client == null) {\n            S3ClientBuilder builder = S3Client.builder();\n            builder = builder.region(Region.of(region));\n            s3Client = builder.build();\n        }\n        return s3Client;\n    }\n}\n\n</code></pre>\n<p>Getting exception while building the s3Client object at <strong>s3Client = builder.build();</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: DUALSTACK_ENDPOINT_ENABLED\n    at software.amazon.awssdk.services.s3.DefaultS3BaseClientBuilder.finalizeServiceConfiguration(DefaultS3BaseClientBuilder.java:112)\n    at software.amazon.awssdk.awscore.client.builder.AwsDefaultClientBuilder.finalizeChildConfiguration(AwsDefaultClientBuilder.java:132)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.syncClientConfiguration(SdkDefaultClientBuilder.java:183)\n    at software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:36)\n    at software.amazon.awssdk.services.s3.DefaultS3ClientBuilder.buildClient(DefaultS3ClientBuilder.java:25)\n    at software.amazon.awssdk.core.client.builder.SdkDefaultClientBuilder.build(SdkDefaultClientBuilder.java:150)\n    at com.dnd.adx.lambda.keymgmnt.config.GatewayKeyManagementConfig.getS3Client(GatewayKeyManagementConfig.java:55)\n    at com.dnd.adx.lambda.keymgmnt.service.impl.FileOperationServiceImpl.uploadFile(FileOperationServiceImpl.java:148)\n    at com.dnd.adx.lambda.keymgmnt.service.impl.CommonServiceImpl.generateKeysReport(CommonServiceImpl.java:215)\n    at com.dnd.adx.lambda.keymgmnt.function.GenerateKeysReportFunction.apply(GenerateKeysReportFunction.java:29)\n    at com.dnd.adx.lambda.keymgmnt.GatewayKeyManagementApplication.main(GatewayKeyManagementApplication.java:26)\n\n</code></pre>\n<p>The same piece of code is working in another project but throwing <strong>DUALSTACK_ENDPOINT_ENABLED</strong></p>\n"},{"tags":["java","apache-kafka","log4j"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1642711039,"creation_date":1642711039,"answer_id":70793079,"question_id":70792021,"body_markdown":"You can create your own `src/main/resources/log4j.properties` file and configure whatever levels/packages/formats you wish. \r\n\r\nFor  example, \r\n\r\n```\r\nlog4j.logger.kafka=OFF\r\nlog4j.logger.org.apache.kafka=OFF\r\n```\r\n\r\nDefaults (for the broker and clients) are defined here https://github.com/apache/kafka/blob/trunk/config/log4j.properties","title":"How to disable Kafka internal log?","body":"<p>You can create your own <code>src/main/resources/log4j.properties</code> file and configure whatever levels/packages/formats you wish.</p>\n<p>For  example,</p>\n<pre><code>log4j.logger.kafka=OFF\nlog4j.logger.org.apache.kafka=OFF\n</code></pre>\n<p>Defaults (for the broker and clients) are defined here <a href=\"https://github.com/apache/kafka/blob/trunk/config/log4j.properties\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/trunk/config/log4j.properties</a></p>\n"}],"owner":{"account_id":7473334,"reputation":1161,"user_id":5680504,"accept_rate":98,"display_name":"sclee1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4305,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70793079,"answer_count":1,"score":0,"last_activity_date":1695147811,"creation_date":1642705462,"question_id":70792021,"body_markdown":"I want to disable the Kafka internal log which I didn&#39;t write.\r\nBelow code is my basic kafka producer code.\r\n\r\n\r\n    package me.sclee.kafka.basic.producer;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.Properties;\r\n    import java.util.UUID;\r\n    \r\n    import static me.sclee.kafka.basic.config.BasicKafkaConfig.*;\r\n    \r\n    public class BasicKafkaProducer {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(BasicKafkaProducer.class);\r\n    \r\n        private static KafkaProducer&lt;String, String&gt; getKafkaProducer() {\r\n            Properties props = new Properties();\r\n            props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n            props.put(ProducerConfig.ACKS_CONFIG, ACK);\r\n            props.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, COMPRESSION_TYPE);\r\n            props.put(ProducerConfig.RETRIES_CONFIG, RETIRES);\r\n            props.put(ProducerConfig.BATCH_SIZE_CONFIG, BATCH_SIZE);\r\n            props.put(ProducerConfig.LINGER_MS_CONFIG, LINGER_MS);\r\n            props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, BUFFER_MEMORY);\r\n            props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KEY_SER);\r\n            props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, VALUE_SER);\r\n            return new KafkaProducer&lt;&gt;(props);\r\n        }\r\n    \r\n        public void send() throws Exception {\r\n            logger.info(&quot;Sending kafka message..&quot;);\r\n    \r\n            KafkaProducer&lt;String, String&gt; producer = null;\r\n    \r\n            int line = 3;\r\n            try {\r\n                for (int n = 0; n &lt; line; n++) {\r\n                    producer = getKafkaProducer();\r\n                    String uuid = UUID.randomUUID().toString();\r\n                    ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC_NAME, uuid);\r\n                    producer.send(record, new ProducerCallBack(n));\r\n                    Thread.sleep(1000);\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;There was a problem while sending a message in producer, {}&quot; + e.getMessage());\r\n                throw e;\r\n            } finally {\r\n                if (producer != null) {\r\n                    producer.flush();\r\n                    producer.close();\r\n                }\r\n            }\r\n            logger.info(&quot;Exited the Kafka sending..&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            BasicKafkaProducer basicKafkaProducer = new BasicKafkaProducer();\r\n            basicKafkaProducer.send();\r\n        }\r\n    }\r\n\r\nAs you can see, I put some logs for my trace but when I executed I saw many other logs which is generated by the internal log as below.\r\n\r\nI want to see my log in the code for the better understanding.\r\nHow to achieve it?\r\n\r\nI used the following slf4j libs.\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n  \r\n \r\n\r\n*console*   \r\n\r\n    \tbatch.size = 16384\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tbuffer.memory = 33554432\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = producer-1\r\n    \tcompression.type = snappy\r\n    \tconnections.max.idle.ms = 540000\r\n    \tdelivery.timeout.ms = 120000\r\n    \tenable.idempotence = true\r\n    \tinterceptor.classes = []\r\n    \tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \tlinger.ms = 5\r\n    \tmax.block.ms = 60000\r\n    \tmax.in.flight.requests.per.connection = 5\r\n    \tmax.request.size = 1048576\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetadata.max.idle.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n    \treceive.buffer.bytes = 32768\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretries = 1\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsocket.connection.setup.timeout.max.ms = 30000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \ttransaction.timeout.ms = 60000\r\n    \ttransactional.id = null\r\n    \tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705323290\r\n    [kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\r\n    [kafka-producer-network-thread | producer-1] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705323550, partition : 0, offset : 139, line : 0\r\n    [Timer-0] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \r\n    \tacks = -1\r\n    \tbatch.size = 16384\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tbuffer.memory = 33554432\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = producer-2\r\n    \tcompression.type = snappy\r\n    \tconnections.max.idle.ms = 540000\r\n    \tdelivery.timeout.ms = 120000\r\n    \tenable.idempotence = true\r\n    \tinterceptor.classes = []\r\n    \tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \tlinger.ms = 5\r\n    \tmax.block.ms = 60000\r\n    \tmax.in.flight.requests.per.connection = 5\r\n    \tmax.request.size = 1048576\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetadata.max.idle.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n    \treceive.buffer.bytes = 32768\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretries = 1\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsocket.connection.setup.timeout.max.ms = 30000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \ttransaction.timeout.ms = 60000\r\n    \ttransactional.id = null\r\n    \tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705324831\r\n    [kafka-producer-network-thread | producer-2] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\r\n    [kafka-producer-network-thread | producer-2] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705324834, partition : 0, offset : 140, line : 1\r\n    [Timer-0] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \r\n    \tacks = -1\r\n    \tbatch.size = 16384\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tbuffer.memory = 33554432\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tclient.id = producer-3\r\n    \tcompression.type = snappy\r\n    \tconnections.max.idle.ms = 540000\r\n    \tdelivery.timeout.ms = 120000\r\n    \tenable.idempotence = true\r\n    \tinterceptor.classes = []\r\n    \tkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \tlinger.ms = 5\r\n    \tmax.block.ms = 60000\r\n    \tmax.in.flight.requests.per.connection = 5\r\n    \tmax.request.size = 1048576\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetadata.max.idle.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n    \treceive.buffer.bytes = 32768\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretries = 1\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = null\r\n    \tsasl.jaas.config = null\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = GSSAPI\r\n    \tsecurity.protocol = PLAINTEXT\r\n    \tsecurity.providers = null\r\n    \tsend.buffer.bytes = 131072\r\n    \tsocket.connection.setup.timeout.max.ms = 30000\r\n    \tsocket.connection.setup.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.3\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \ttransaction.timeout.ms = 60000\r\n    \ttransactional.id = null\r\n    \tvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    \r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\r\n    [Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705325844\r\n    [kafka-producer-network-thread | producer-3] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-3] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\r\n    [kafka-producer-network-thread | producer-3] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705325848, partition : 0, offset : 141, line : 2\r\n\r\n","title":"How to disable Kafka internal log?","body":"<p>I want to disable the Kafka internal log which I didn't write.\nBelow code is my basic kafka producer code.</p>\n<pre><code>package me.sclee.kafka.basic.producer;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Properties;\nimport java.util.UUID;\n\nimport static me.sclee.kafka.basic.config.BasicKafkaConfig.*;\n\npublic class BasicKafkaProducer {\n\n    private static final Logger logger = LoggerFactory.getLogger(BasicKafkaProducer.class);\n\n    private static KafkaProducer&lt;String, String&gt; getKafkaProducer() {\n        Properties props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        props.put(ProducerConfig.ACKS_CONFIG, ACK);\n        props.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, COMPRESSION_TYPE);\n        props.put(ProducerConfig.RETRIES_CONFIG, RETIRES);\n        props.put(ProducerConfig.BATCH_SIZE_CONFIG, BATCH_SIZE);\n        props.put(ProducerConfig.LINGER_MS_CONFIG, LINGER_MS);\n        props.put(ProducerConfig.BUFFER_MEMORY_CONFIG, BUFFER_MEMORY);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KEY_SER);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, VALUE_SER);\n        return new KafkaProducer&lt;&gt;(props);\n    }\n\n    public void send() throws Exception {\n        logger.info(&quot;Sending kafka message..&quot;);\n\n        KafkaProducer&lt;String, String&gt; producer = null;\n\n        int line = 3;\n        try {\n            for (int n = 0; n &lt; line; n++) {\n                producer = getKafkaProducer();\n                String uuid = UUID.randomUUID().toString();\n                ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(TOPIC_NAME, uuid);\n                producer.send(record, new ProducerCallBack(n));\n                Thread.sleep(1000);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;There was a problem while sending a message in producer, {}&quot; + e.getMessage());\n            throw e;\n        } finally {\n            if (producer != null) {\n                producer.flush();\n                producer.close();\n            }\n        }\n        logger.info(&quot;Exited the Kafka sending..&quot;);\n    }\n\n    public static void main(String[] args) throws Exception {\n        BasicKafkaProducer basicKafkaProducer = new BasicKafkaProducer();\n        basicKafkaProducer.send();\n    }\n}\n</code></pre>\n<p>As you can see, I put some logs for my trace but when I executed I saw many other logs which is generated by the internal log as below.</p>\n<p>I want to see my log in the code for the better understanding.\nHow to achieve it?</p>\n<p>I used the following slf4j libs.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><em>console</em></p>\n<pre><code>    batch.size = 16384\n    bootstrap.servers = [localhost:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = snappy\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 5\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 1\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705323290\n[kafka-producer-network-thread | producer-1] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-1] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\n[kafka-producer-network-thread | producer-1] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705323550, partition : 0, offset : 139, line : 0\n[Timer-0] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \n    acks = -1\n    batch.size = 16384\n    bootstrap.servers = [localhost:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-2\n    compression.type = snappy\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 5\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 1\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705324831\n[kafka-producer-network-thread | producer-2] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-2] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\n[kafka-producer-network-thread | producer-2] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705324834, partition : 0, offset : 140, line : 1\n[Timer-0] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \n    acks = -1\n    batch.size = 16384\n    bootstrap.servers = [localhost:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-3\n    compression.type = snappy\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n    linger.ms = 5\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 5\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 1\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = GSSAPI\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.0.0\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 8cb0a5e9d3441962\n[Timer-0] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1642705325844\n[kafka-producer-network-thread | producer-3] INFO org.apache.kafka.clients.Metadata - [Producer clientId=producer-3] Cluster ID: oXvU2NlRS8m6jKC3Zh1FcA\n[kafka-producer-network-thread | producer-3] INFO me.sclee.kafka.basic.producer.ProducerCallBack - Producer sends a message. Topic : 1642705325848, partition : 0, offset : 141, line : 2\n</code></pre>\n"},{"tags":["java","user-interface","recursion","optimization","game-development"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":4,"creation_date":1695150932,"post_id":77137033,"comment_id":135984715,"body_markdown":"Without looking at your code: you should not inspect buttons, but keep a separate array with the information. Never use the GUI elements as your basis for keeping state.","body":"Without looking at your code: you should not inspect buttons, but keep a separate array with the information. Never use the GUI elements as your basis for keeping state."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1695151274,"post_id":77137033,"comment_id":135984769,"body_markdown":"You might want to take a look at this Wikipedia [article describing the  MVC pattern](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).","body":"You might want to take a look at this Wikipedia <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">article describing the  MVC pattern</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695151288,"post_id":77137033,"comment_id":135984776,"body_markdown":"Why do you search for the button clicked, instead of giving each its own listener so you just know which one was clicked? Also, in `findZero` there is no check for whether a button is still enabled. Would the same button be able to be &quot;clicked&quot; with `doClick()` multiple times in the same run? On first reading, I don&#39;t see why not. Finally, any long-running process should not be done on the event dispatch thread. And what trincot said.","body":"Why do you search for the button clicked, instead of giving each its own listener so you just know which one was clicked? Also, in <code>findZero</code> there is no check for whether a button is still enabled. Would the same button be able to be &quot;clicked&quot; with <code>doClick()</code> multiple times in the same run? On first reading, I don&#39;t see why not. Finally, any long-running process should not be done on the event dispatch thread. And what trincot said."},{"owner":{"account_id":29484501,"reputation":1,"user_id":22594731,"display_name":"Christopher Chavez"},"score":0,"creation_date":1695164110,"post_id":77137033,"comment_id":135986752,"body_markdown":"Thank you so much I made it a little quicker!","body":"Thank you so much I made it a little quicker!"}],"owner":{"account_id":29484501,"reputation":1,"user_id":22594731,"display_name":"Christopher Chavez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695147460,"creation_date":1695147460,"question_id":77137033,"body_markdown":"I am working on a minesweeper game in Java Swing, it works correctly, however, when I am checking for 0s that are adjacent to other 0s, the program becomes incredibly slow (20 to 23 seconds) I am trying to recursively access each JButton via a depth first search. Is there any way I could do this quicker?  \r\n\r\n[Minesweeper GUI Link](https://stackoverflow.com)\r\nThis link shows the problem. Whenever I click a 0 on the grid, it takes too long for my program to click each adjacent button. I tried using a stack and a queue and they are both just about as slow. My Main class deals with the bomb logic and my GUIArray class deals with creating the GUI and in the findZero method of the GUIArray class is where the recursion takes place (the doClick() method is the recursive call). Is there anyway I could optimize this to make clicking a button with a 0 almost instant? Thank you for any help!\r\n\r\n```\r\n\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class GUIArray {\r\n    private static final int ROWS = 14;\r\n    private static final int COLS = 18;\r\n    private static final int WIDTH = 1000;\r\n    private static final int HEIGHT = 800;\r\n    private static int bombCount = 0;\r\n    private static final JLabel countLabel = new JLabel(Integer.toString(bombCount));\r\n    public int i = 0;\r\n    public int n = 0;\r\n\r\n    public static void main(String[] args) {\r\n        Font f1 = new Font(Font.DIALOG, Font.BOLD, 14);\r\n        //color for when the button has been clicked\r\n        Color color2 = new Color(153, 102, 0);\r\n        Color color3 = new Color(102, 51, 0);\r\n\r\n        JButton[][] button = new JButton[ROWS][COLS];\r\n        JPanel panel = new JPanel(new GridLayout(ROWS, COLS));\r\n        //panel.add(countLabel);\r\n\r\n        for (int i = 0; i &lt; ROWS; i++) {\r\n            for (int n = 0; n &lt; COLS; n++) {\r\n                final int row = i;\r\n                final int col = n;\r\n                button[i][n] = new JButton(Main.finalArr[i][n]);\r\n                panel.add(button[i][n]);\r\n                Color buttonColor;\r\n                if ((i + n) % 2 == 0){\r\n                    buttonColor = Color.GREEN.darker();\r\n                    button[i][n].setBackground(buttonColor);\r\n                }\r\n                else{\r\n                    buttonColor = Color.GREEN.darker().darker();\r\n                    button[i][n].setBackground(buttonColor);\r\n                }\r\n                button[i][n].setForeground(button[i][n].getBackground());\r\n                button[i][n].addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (SwingUtilities.isRightMouseButton(e)){\r\n                            button[row][col].setBackground(Color.RED.brighter());\r\n                            button[row][col].setForeground(Color.RED.brighter());\r\n                        }\r\n                        //bombCount++;\r\n                        //updateCountLabel();\r\n                    }\r\n                });\r\n                ActionListener listener = new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n\r\n                        switch (button[row][col].getLabel()){\r\n                            case (&quot;x&quot;):\r\n                                System.exit(0);\r\n                            case (&quot;0&quot;):\r\n                                button[row][col].setForeground(Color.GREEN);\r\n                                int[] indices = findIndex(button, button[row][col]);\r\n                                findZero(button, indices[0], indices[1]);\r\n                                break;\r\n                            case (&quot;1&quot;):\r\n                                button[row][col].setForeground(Color.RED.brighter());\r\n                                break;\r\n                            case (&quot;2&quot;):\r\n                                button[row][col].setForeground(Color.CYAN);\r\n                                break;\r\n                            case (&quot;3&quot;):\r\n                                button[row][col].setForeground(Color.BLUE);\r\n                                break;\r\n                            case (&quot;4&quot;):\r\n                                button[row][col].setForeground(Color.MAGENTA);\r\n                                break;\r\n                            case (&quot;5&quot;):\r\n                                button[row][col].setForeground(Color.ORANGE);\r\n                                break;\r\n                            case (&quot;6&quot;):\r\n                                button[row][col].setForeground(Color.PINK);\r\n                                break;\r\n                            case (&quot;7&quot;):\r\n                                button[row][col].setForeground(Color.YELLOW.darker().darker());\r\n                                break;\r\n                        }\r\n\r\n                        if (button[row][col].getBackground().equals(Color.GREEN.darker())){\r\n                            button[row][col].setBackground(color2);\r\n                        }                           //this is to change the background color once it has been clicked\r\n                        else {\r\n                            button[row][col].setBackground(color3);\r\n                        }\r\n\r\n\r\n                        if (button[row][col].getLabel().equals(&quot;x&quot;)){\r\n                            System.exit(0);\r\n                        }\r\n\r\n\r\n                    }\r\n                };\r\n                button[i][n].addActionListener(listener);\r\n            }\r\n        }\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.add(panel);\r\n        frame.setSize(WIDTH, HEIGHT);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void updateCountLabel() {\r\n        countLabel.setText(&quot;Bombs: &quot; + bombCount);\r\n    }\r\n\r\n\r\n    public static int[] findIndex(JButton[][] buttons, JButton targetButton) {\r\n        //initialize with indices that aren&#39;t in the array\r\n        int[] indices = {-1, -1};\r\n\r\n\r\n        //loop through the array trying to find the button that matches the target\r\n        for (int i = 0; i &lt; ROWS; i++) {\r\n            for (int j = 0; j &lt; COLS; j++) {\r\n                if (buttons[i][j] == targetButton) {\r\n                    indices[0] = i;\r\n                    indices[1] = j;\r\n                    return indices; // Return the indices and exit the loop\r\n                }\r\n            }\r\n        }\r\n\r\n        return indices; // If the button is not found, return the default invalid indices\r\n    }\r\n\r\n    public static void findZero(JButton[][] buttons, int row, int col){\r\n\r\n        buttons[row][col].setEnabled(false);\r\n        //check up left\r\n        if (isValid(row - 1, col - 1)){\r\n            if (buttons[row - 1][col - 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row - 1][col - 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row - 1][col - 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row - 1][col - 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n                }\r\n            }\r\n        }\r\n        //check up\r\n        if (isValid(row - 1, col)){\r\n            if (buttons[row - 1][col].getText().equals(&quot;0&quot;)){\r\n                buttons[row - 1][col].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row - 1][col].getText().equals(&quot;0&quot;)){\r\n                    buttons[row - 1][col].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n                }\r\n            }\r\n        }\r\n        //check up right\r\n        if (isValid(row - 1, col + 1)){\r\n            if (buttons[row - 1][col + 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row - 1][col + 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row - 1][col + 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row - 1][col + 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n                }\r\n            }\r\n        }\r\n        //check left\r\n        if (isValid(row, col - 1)){\r\n            if (buttons[row][col - 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row][col - 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row][col - 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row][col - 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n\r\n                }\r\n            }\r\n        }\r\n        //check right\r\n        if (isValid(row, col + 1)){\r\n            if (buttons[row][col + 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row][col + 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row][col + 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row][col + 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n\r\n                }\r\n            }\r\n        }\r\n        //check down left\r\n        if (isValid(row + 1, col - 1)){\r\n            if (buttons[row + 1][col - 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row + 1][col - 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row + 1][col - 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row + 1][col - 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n\r\n                }\r\n            }\r\n        }\r\n        //check down\r\n        if (isValid(row + 1, col)){\r\n            if (buttons[row + 1][col].getText().equals(&quot;0&quot;)){\r\n                buttons[row + 1][col].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row + 1][col].getText().equals(&quot;0&quot;)){\r\n                    buttons[row + 1][col].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n\r\n                }\r\n            }\r\n        }\r\n        //check down right\r\n        if (isValid(row + 1, col + 1)){\r\n            if (buttons[row + 1][col + 1].getText().equals(&quot;0&quot;)){\r\n                buttons[row + 1][col + 1].doClick();\r\n            }\r\n            else {\r\n                if (!buttons[row + 1][col + 1].getText().equals(&quot;0&quot;)){\r\n                    buttons[row + 1][col + 1].doClick();\r\n                    buttons[row][col].setEnabled(false);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static boolean isValid(int row, int column) {\r\n        return row &gt;= 0 &amp;&amp; row &lt; 14 &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; 18;\r\n    }\r\n\r\n}\r\n```\r\n","title":"How can i make the recursion in my Minesweeper GUI be quicker?","body":"<p>I am working on a minesweeper game in Java Swing, it works correctly, however, when I am checking for 0s that are adjacent to other 0s, the program becomes incredibly slow (20 to 23 seconds) I am trying to recursively access each JButton via a depth first search. Is there any way I could do this quicker?</p>\n<p><a href=\"https://stackoverflow.com\">Minesweeper GUI Link</a>\nThis link shows the problem. Whenever I click a 0 on the grid, it takes too long for my program to click each adjacent button. I tried using a stack and a queue and they are both just about as slow. My Main class deals with the bomb logic and my GUIArray class deals with creating the GUI and in the findZero method of the GUIArray class is where the recursion takes place (the doClick() method is the recursive call). Is there anyway I could optimize this to make clicking a button with a 0 almost instant? Thank you for any help!</p>\n<pre><code>\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class GUIArray {\n    private static final int ROWS = 14;\n    private static final int COLS = 18;\n    private static final int WIDTH = 1000;\n    private static final int HEIGHT = 800;\n    private static int bombCount = 0;\n    private static final JLabel countLabel = new JLabel(Integer.toString(bombCount));\n    public int i = 0;\n    public int n = 0;\n\n    public static void main(String[] args) {\n        Font f1 = new Font(Font.DIALOG, Font.BOLD, 14);\n        //color for when the button has been clicked\n        Color color2 = new Color(153, 102, 0);\n        Color color3 = new Color(102, 51, 0);\n\n        JButton[][] button = new JButton[ROWS][COLS];\n        JPanel panel = new JPanel(new GridLayout(ROWS, COLS));\n        //panel.add(countLabel);\n\n        for (int i = 0; i &lt; ROWS; i++) {\n            for (int n = 0; n &lt; COLS; n++) {\n                final int row = i;\n                final int col = n;\n                button[i][n] = new JButton(Main.finalArr[i][n]);\n                panel.add(button[i][n]);\n                Color buttonColor;\n                if ((i + n) % 2 == 0){\n                    buttonColor = Color.GREEN.darker();\n                    button[i][n].setBackground(buttonColor);\n                }\n                else{\n                    buttonColor = Color.GREEN.darker().darker();\n                    button[i][n].setBackground(buttonColor);\n                }\n                button[i][n].setForeground(button[i][n].getBackground());\n                button[i][n].addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        if (SwingUtilities.isRightMouseButton(e)){\n                            button[row][col].setBackground(Color.RED.brighter());\n                            button[row][col].setForeground(Color.RED.brighter());\n                        }\n                        //bombCount++;\n                        //updateCountLabel();\n                    }\n                });\n                ActionListener listener = new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n\n                        switch (button[row][col].getLabel()){\n                            case (&quot;x&quot;):\n                                System.exit(0);\n                            case (&quot;0&quot;):\n                                button[row][col].setForeground(Color.GREEN);\n                                int[] indices = findIndex(button, button[row][col]);\n                                findZero(button, indices[0], indices[1]);\n                                break;\n                            case (&quot;1&quot;):\n                                button[row][col].setForeground(Color.RED.brighter());\n                                break;\n                            case (&quot;2&quot;):\n                                button[row][col].setForeground(Color.CYAN);\n                                break;\n                            case (&quot;3&quot;):\n                                button[row][col].setForeground(Color.BLUE);\n                                break;\n                            case (&quot;4&quot;):\n                                button[row][col].setForeground(Color.MAGENTA);\n                                break;\n                            case (&quot;5&quot;):\n                                button[row][col].setForeground(Color.ORANGE);\n                                break;\n                            case (&quot;6&quot;):\n                                button[row][col].setForeground(Color.PINK);\n                                break;\n                            case (&quot;7&quot;):\n                                button[row][col].setForeground(Color.YELLOW.darker().darker());\n                                break;\n                        }\n\n                        if (button[row][col].getBackground().equals(Color.GREEN.darker())){\n                            button[row][col].setBackground(color2);\n                        }                           //this is to change the background color once it has been clicked\n                        else {\n                            button[row][col].setBackground(color3);\n                        }\n\n\n                        if (button[row][col].getLabel().equals(&quot;x&quot;)){\n                            System.exit(0);\n                        }\n\n\n                    }\n                };\n                button[i][n].addActionListener(listener);\n            }\n        }\n\n        JFrame frame = new JFrame();\n        frame.add(panel);\n        frame.setSize(WIDTH, HEIGHT);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    public static void updateCountLabel() {\n        countLabel.setText(&quot;Bombs: &quot; + bombCount);\n    }\n\n\n    public static int[] findIndex(JButton[][] buttons, JButton targetButton) {\n        //initialize with indices that aren't in the array\n        int[] indices = {-1, -1};\n\n\n        //loop through the array trying to find the button that matches the target\n        for (int i = 0; i &lt; ROWS; i++) {\n            for (int j = 0; j &lt; COLS; j++) {\n                if (buttons[i][j] == targetButton) {\n                    indices[0] = i;\n                    indices[1] = j;\n                    return indices; // Return the indices and exit the loop\n                }\n            }\n        }\n\n        return indices; // If the button is not found, return the default invalid indices\n    }\n\n    public static void findZero(JButton[][] buttons, int row, int col){\n\n        buttons[row][col].setEnabled(false);\n        //check up left\n        if (isValid(row - 1, col - 1)){\n            if (buttons[row - 1][col - 1].getText().equals(&quot;0&quot;)){\n                buttons[row - 1][col - 1].doClick();\n            }\n            else {\n                if (!buttons[row - 1][col - 1].getText().equals(&quot;0&quot;)){\n                    buttons[row - 1][col - 1].doClick();\n                    buttons[row][col].setEnabled(false);\n                }\n            }\n        }\n        //check up\n        if (isValid(row - 1, col)){\n            if (buttons[row - 1][col].getText().equals(&quot;0&quot;)){\n                buttons[row - 1][col].doClick();\n            }\n            else {\n                if (!buttons[row - 1][col].getText().equals(&quot;0&quot;)){\n                    buttons[row - 1][col].doClick();\n                    buttons[row][col].setEnabled(false);\n                }\n            }\n        }\n        //check up right\n        if (isValid(row - 1, col + 1)){\n            if (buttons[row - 1][col + 1].getText().equals(&quot;0&quot;)){\n                buttons[row - 1][col + 1].doClick();\n            }\n            else {\n                if (!buttons[row - 1][col + 1].getText().equals(&quot;0&quot;)){\n                    buttons[row - 1][col + 1].doClick();\n                    buttons[row][col].setEnabled(false);\n                }\n            }\n        }\n        //check left\n        if (isValid(row, col - 1)){\n            if (buttons[row][col - 1].getText().equals(&quot;0&quot;)){\n                buttons[row][col - 1].doClick();\n            }\n            else {\n                if (!buttons[row][col - 1].getText().equals(&quot;0&quot;)){\n                    buttons[row][col - 1].doClick();\n                    buttons[row][col].setEnabled(false);\n\n                }\n            }\n        }\n        //check right\n        if (isValid(row, col + 1)){\n            if (buttons[row][col + 1].getText().equals(&quot;0&quot;)){\n                buttons[row][col + 1].doClick();\n            }\n            else {\n                if (!buttons[row][col + 1].getText().equals(&quot;0&quot;)){\n                    buttons[row][col + 1].doClick();\n                    buttons[row][col].setEnabled(false);\n\n                }\n            }\n        }\n        //check down left\n        if (isValid(row + 1, col - 1)){\n            if (buttons[row + 1][col - 1].getText().equals(&quot;0&quot;)){\n                buttons[row + 1][col - 1].doClick();\n            }\n            else {\n                if (!buttons[row + 1][col - 1].getText().equals(&quot;0&quot;)){\n                    buttons[row + 1][col - 1].doClick();\n                    buttons[row][col].setEnabled(false);\n\n                }\n            }\n        }\n        //check down\n        if (isValid(row + 1, col)){\n            if (buttons[row + 1][col].getText().equals(&quot;0&quot;)){\n                buttons[row + 1][col].doClick();\n            }\n            else {\n                if (!buttons[row + 1][col].getText().equals(&quot;0&quot;)){\n                    buttons[row + 1][col].doClick();\n                    buttons[row][col].setEnabled(false);\n\n                }\n            }\n        }\n        //check down right\n        if (isValid(row + 1, col + 1)){\n            if (buttons[row + 1][col + 1].getText().equals(&quot;0&quot;)){\n                buttons[row + 1][col + 1].doClick();\n            }\n            else {\n                if (!buttons[row + 1][col + 1].getText().equals(&quot;0&quot;)){\n                    buttons[row + 1][col + 1].doClick();\n                    buttons[row][col].setEnabled(false);\n\n                }\n            }\n        }\n    }\n    public static boolean isValid(int row, int column) {\n        return row &gt;= 0 &amp;&amp; row &lt; 14 &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; 18;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-fusedlocation","android-thread","locationcallback"],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695146986,"creation_date":1695146986,"question_id":77136980,"body_markdown":"I try to ask the location with fusedLocationClient, the thread is well launching, I can see the Log.d(&quot;TAG&quot;, &quot;Foreground Service is running&quot;); but the problem is that onLocationResult is not fired...\r\n\r\n       public int onStartCommand(Intent intent, int flags, int startId) {\r\n            shouldContinueLocationUpdates = true;\r\n            if (thread == null) {\r\n    \r\n                thread = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        while (shouldContinueLocationUpdates) {\r\n                            Log.d(&quot;TAG&quot;, &quot;Foreground Service is running&quot;);\r\n                            \r\n                            \r\n                            fusedLocationClient3 = LocationServices.getFusedLocationProviderClient(getApplicationContext());\r\n                            locationCallback3 = new LocationCallback() {\r\n                                @Override\r\n                                public void onLocationResult(LocationResult locationResult) {\r\n                                    if (locationResult == null) {\r\n                                        return;\r\n                                    }\r\n                                    Location location = locationResult.getLastLocation();\r\n                                    if (location != null) {\r\n                                        latitude = location.getLatitude();\r\n                                        longitude = location.getLongitude();\r\n    \r\n                                        // Utilisez la latitude et la longitude ici\r\n                                        sendLocationUpdateBroadcast(latitude, longitude);\r\n                                    }\r\n                                }\r\n                            };\r\n    \r\n    \r\n    \r\n                            try {\r\n                                Thread.sleep(2000);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n            }\r\n            final String CHANNEL_ID = &quot;Foreground Service&quot;;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, CHANNEL_ID, NotificationManager.IMPORTANCE_LOW);\r\n            getSystemService(NotificationManager.class).createNotificationChannel(channel);\r\n            Notification.Builder notification = new Notification.Builder(this, CHANNEL_ID)\r\n                    .setContentText(&quot;Foreground Service Running&quot;)\r\n                    .setContentTitle(&quot;This is Title&quot;);\r\n            startForeground(1001, notification.build());\r\n    \r\n            return super.onStartCommand(intent, flags, startId);\r\n    \r\n        }\r\n\r\nHow to get the onLocationResult fired?","title":"Android/Java: How to ask location in background service when the app is not in foreground? onLocationResult is not fired in the FusedLocationClient","body":"<p>I try to ask the location with fusedLocationClient, the thread is well launching, I can see the Log.d(&quot;TAG&quot;, &quot;Foreground Service is running&quot;); but the problem is that onLocationResult is not fired...</p>\n<pre><code>   public int onStartCommand(Intent intent, int flags, int startId) {\n        shouldContinueLocationUpdates = true;\n        if (thread == null) {\n\n            thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n\n                    while (shouldContinueLocationUpdates) {\n                        Log.d(&quot;TAG&quot;, &quot;Foreground Service is running&quot;);\n                        \n                        \n                        fusedLocationClient3 = LocationServices.getFusedLocationProviderClient(getApplicationContext());\n                        locationCallback3 = new LocationCallback() {\n                            @Override\n                            public void onLocationResult(LocationResult locationResult) {\n                                if (locationResult == null) {\n                                    return;\n                                }\n                                Location location = locationResult.getLastLocation();\n                                if (location != null) {\n                                    latitude = location.getLatitude();\n                                    longitude = location.getLongitude();\n\n                                    // Utilisez la latitude et la longitude ici\n                                    sendLocationUpdateBroadcast(latitude, longitude);\n                                }\n                            }\n                        };\n\n\n\n                        try {\n                            Thread.sleep(2000);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            });\n            thread.start();\n        }\n        final String CHANNEL_ID = &quot;Foreground Service&quot;;\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, CHANNEL_ID, NotificationManager.IMPORTANCE_LOW);\n        getSystemService(NotificationManager.class).createNotificationChannel(channel);\n        Notification.Builder notification = new Notification.Builder(this, CHANNEL_ID)\n                .setContentText(&quot;Foreground Service Running&quot;)\n                .setContentTitle(&quot;This is Title&quot;);\n        startForeground(1001, notification.build());\n\n        return super.onStartCommand(intent, flags, startId);\n\n    }\n</code></pre>\n<p>How to get the onLocationResult fired?</p>\n"},{"tags":["java","spring-boot","rest","spring-security","endpoint"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1695147222,"post_id":77133339,"comment_id":135984146,"body_markdown":"I would say your URLs are not well defined. You shouldn&#39;t have an endpoint with ID and a named sub resource. In the rare case that you really need duplicated meanings, you should add a rule. That would also improve the understanding of your configuration.","body":"I would say your URLs are not well defined. You shouldn&#39;t have an endpoint with ID and a named sub resource. In the rare case that you really need duplicated meanings, you should add a rule. That would also improve the understanding of your configuration."}],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695146966,"creation_date":1695115910,"question_id":77133339,"body_markdown":"I have a Spring Boot application, with a property in the `.properties` file. I would like to be able to block/enable some endpoints based on condition.\r\n\r\nI&#39;ve currently created two beans annotated with `@ConditionalOnProperty`, so they enable/disable based on the value.\r\n\r\nThe beans contain the Spring Security configuration.\r\n\r\nLet&#39;s take this configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n         http\r\n             .antMatcher(&quot;/api/test/**&quot;)\r\n             .authorizeRequests()\r\n                 .antMatchers(&quot;/api/test/{ID}&quot;).authenticated()\r\n                 .antMatchers(&quot;/api/test/hello/hello2&quot;).authenticated()\r\n                 .anyRequest().denyAll();\r\n    }\r\n\r\nIf inside my controller I have three endpoints:\r\n\r\n- `/api/test/{ID}`\r\n- `/api/test/hello/hello2`\r\n- `/api/test/bye`\r\n\r\nit happens that by specifying in Spring Security\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    .antMatchers(&quot;/api/test/{ID}&quot;).authenticated()\r\n\r\n`/api/test/bye` is also enabled (should be blocked as `denyAll()` is there), because Spring obviously doesn&#39;t know what {ID} can contain. So I wanted to understand how I could block endpoints by specifying paths. Even not using Spring Security. Maybe if there is an alternative.\r\n\r\nI don&#39;t want to have to specify all the endpoints one by one and apply the rules to each one, I want to specify only the one to be &quot;unblocked&quot; and all the rest blocked automatically.\r\n\r\nFurthermore, I don&#39;t want to use regexes for path variables, because there are cases in which path variables are strings and therefore I would have the same problem.\r\n","title":"How to block endpoints by condition. AntMatchers does not recognize path variables","body":"<p>I have a Spring Boot application, with a property in the <code>.properties</code> file. I would like to be able to block/enable some endpoints based on condition.</p>\n<p>I've currently created two beans annotated with <code>@ConditionalOnProperty</code>, so they enable/disable based on the value.</p>\n<p>The beans contain the Spring Security configuration.</p>\n<p>Let's take this configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n     http\n         .antMatcher(&quot;/api/test/**&quot;)\n         .authorizeRequests()\n             .antMatchers(&quot;/api/test/{ID}&quot;).authenticated()\n             .antMatchers(&quot;/api/test/hello/hello2&quot;).authenticated()\n             .anyRequest().denyAll();\n}\n</code></pre>\n<p>If inside my controller I have three endpoints:</p>\n<ul>\n<li><code>/api/test/{ID}</code></li>\n<li><code>/api/test/hello/hello2</code></li>\n<li><code>/api/test/bye</code></li>\n</ul>\n<p>it happens that by specifying in Spring Security</p>\n<pre class=\"lang-java prettyprint-override\"><code>.antMatchers(&quot;/api/test/{ID}&quot;).authenticated()\n</code></pre>\n<p><code>/api/test/bye</code> is also enabled (should be blocked as <code>denyAll()</code> is there), because Spring obviously doesn't know what {ID} can contain. So I wanted to understand how I could block endpoints by specifying paths. Even not using Spring Security. Maybe if there is an alternative.</p>\n<p>I don't want to have to specify all the endpoints one by one and apply the rules to each one, I want to specify only the one to be &quot;unblocked&quot; and all the rest blocked automatically.</p>\n<p>Furthermore, I don't want to use regexes for path variables, because there are cases in which path variables are strings and therefore I would have the same problem.</p>\n"},{"tags":["java","random","distribution","minesweeper"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1694880891,"post_id":77118571,"comment_id":135950990,"body_markdown":"Look at when you calculate the random row and column.","body":"Look at when you calculate the random row and column."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694882145,"post_id":77118571,"comment_id":135951108,"body_markdown":"Please don&#39;t assume readers are familiar with the minesweeper game. A better question would give some explanation or background.  From reading the code, we can infer that  `args [0]` is number of rows, `args [1]` is number of columns, and `args [3]` is number of mines to distribute. But, rather than relying on us inferring that, a better question would explain that. Explaining what the code *should* do gives us a chance to compare with what the code *actually* does. This can provide a chance to detect misunderstandings.","body":"Please don&#39;t assume readers are familiar with the minesweeper game. A better question would give some explanation or background.  From reading the code, we can infer that  <code>args [0]</code> is number of rows, <code>args [1]</code> is number of columns, and <code>args [3]</code> is number of mines to distribute. But, rather than relying on us inferring that, a better question would explain that. Explaining what the code <i>should</i> do gives us a chance to compare with what the code <i>actually</i> does. This can provide a chance to detect misunderstandings."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694882551,"post_id":77118571,"comment_id":135951147,"body_markdown":"What level of help would you like?  A lot of people here would gladly create complete code for placing mines. Of those, some would do so with an explanation, some without an explanation.  Others would rather provide feedback, find problems with your code without providing complete code.  Considering it appears to be a homework problem,  we might be interested in [How to ask and answer homework](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions) questions.","body":"What level of help would you like?  A lot of people here would gladly create complete code for placing mines. Of those, some would do so with an explanation, some without an explanation.  Others would rather provide feedback, find problems with your code without providing complete code.  Considering it appears to be a homework problem,  we might be interested in <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How to ask and answer homework</a> questions."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694883956,"post_id":77118571,"comment_id":135951278,"body_markdown":"Have you printed out the game fields after mines are laid? Do they &quot;look&quot; random?","body":"Have you printed out the game fields after mines are laid? Do they &quot;look&quot; random?"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1694899492,"post_id":77118571,"comment_id":135952866,"body_markdown":"If you want unbiased random integers in a range, you should be using `java.util.Random.nextInt()`.","body":"If you want unbiased random integers in a range, you should be using <code>java.util.Random.nextInt()</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694959874,"post_id":77118571,"comment_id":135957173,"body_markdown":"How is this being tested? I don&#39;t see an obvious interface between your code and testing code. Is stdout from your code redirected, with the testing code examining the redirected output? Alternatively, I might expect your code to have something like a call to `evaluate (mineField)`, where `mineField` is a 2D array that holds the results. Or, IMO, better, your method is `public char [][] createMineField (int numRows, int numColumns, int numMines)`, and the test code calls your code.","body":"How is this being tested? I don&#39;t see an obvious interface between your code and testing code. Is stdout from your code redirected, with the testing code examining the redirected output? Alternatively, I might expect your code to have something like a call to <code>evaluate (mineField)</code>, where <code>mineField</code> is a 2D array that holds the results. Or, IMO, better, your method is <code>public char [][] createMineField (int numRows, int numColumns, int numMines)</code>, and the test code calls your code."},{"owner":{"account_id":5088711,"reputation":15,"user_id":4082419,"accept_rate":0,"display_name":"Brandon"},"score":0,"creation_date":1694968408,"post_id":77118571,"comment_id":135958141,"body_markdown":"@OldDogProgrammer So I am natively a C++ programmer and I firmly believe this would be better if I wrote in that vs Java.  We are limited to only using lists and basic strings.  We have not learned chars yet, nor have we learned string traversal (completely missed opportunity IMO).  At the time of posting this, I really was hoping someone would be able to gloss through this code and the errors and put their Java knowledge to better use than I can mine.  I have NOT tried to walk through the random rows mine by mine.  That is obviously a very good idea. :)  They appear random when placed.","body":"@OldDogProgrammer So I am natively a C++ programmer and I firmly believe this would be better if I wrote in that vs Java.  We are limited to only using lists and basic strings.  We have not learned chars yet, nor have we learned string traversal (completely missed opportunity IMO).  At the time of posting this, I really was hoping someone would be able to gloss through this code and the errors and put their Java knowledge to better use than I can mine.  I have NOT tried to walk through the random rows mine by mine.  That is obviously a very good idea. :)  They appear random when placed."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694972727,"post_id":77118571,"comment_id":135958681,"body_markdown":"How are those errors generated?  I missing the connection between your code and whatever it is that generates the evaluation  messages.","body":"How are those errors generated?  I missing the connection between your code and whatever it is that generates the evaluation  messages."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1694982330,"post_id":77118571,"comment_id":135959811,"body_markdown":"`Math.random()` is just a front-end for `java.util.Random.nextDouble()`. Using the former to generate integers is both less efficient than `java.util.Random.nextInt(upperLimit)`, and subject to a subtle but real source of bias. Check out https://stackoverflow.com/a/738651/2166798 for a nice explanation. If you&#39;re restricted from using `java.util.Random`, whoever created the restriction is doing you a disservice.","body":"<code>Math.random()</code> is just a front-end for <code>java.util.Random.nextDouble()</code>. Using the former to generate integers is both less efficient than <code>java.util.Random.nextInt(upperLimit)</code>, and subject to a subtle but real source of bias. Check out <a href=\"https://stackoverflow.com/a/738651/2166798\">stackoverflow.com/a/738651/2166798</a> for a nice explanation. If you&#39;re restricted from using <code>java.util.Random</code>, whoever created the restriction is doing you a disservice."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695058186,"post_id":77118571,"comment_id":135970509,"body_markdown":"Suggestions for improving the question **+** Have a brief description of Minesweeper, or provide a (e.g.) [link](https://en.wikipedia.org/wiki/Minesweeper_(video_game)) at the top of the question.  **+** Remove unneeded blank lines in the code sample. (If you like, you can leave them in the code you use. But, in the embedded scroll pane here, they don&#39;t help). **+** Provide a description of how the code shown is supposed to work.","body":"Suggestions for improving the question <b>+</b> Have a brief description of Minesweeper, or provide a (e.g.) <a href=\"https://en.wikipedia.org/wiki/Minesweeper_(video_game)\" rel=\"nofollow noreferrer\">link</a> at the top of the question.  <b>+</b> Remove unneeded blank lines in the code sample. (If you like, you can leave them in the code you use. But, in the embedded scroll pane here, they don&#39;t help). <b>+</b> Provide a description of how the code shown is supposed to work."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695059504,"post_id":77118571,"comment_id":135970764,"body_markdown":"More suggestions for improving the question: **+** Remove the editorial about not liking doing the work on a grid of size `(m+2)*(n+2)`. It isn&#39;t relevant to the problem. You are not necessarily expected to copy code from answers. It is hoped you will learn from them. If an answer uses `(m+2)*(n+2)` grid, adapt that code to use your preference of an m*n grid. **+** Add at least one example input and output.","body":"More suggestions for improving the question: <b>+</b> Remove the editorial about not liking doing the work on a grid of size <code>(m+2)*(n+2)</code>. It isn&#39;t relevant to the problem. You are not necessarily expected to copy code from answers. It is hoped you will learn from them. If an answer uses <code>(m+2)*(n+2)</code> grid, adapt that code to use your preference of an m*n grid. <b>+</b> Add at least one example input and output."},{"owner":{"account_id":5088711,"reputation":15,"user_id":4082419,"accept_rate":0,"display_name":"Brandon"},"score":0,"creation_date":1695124922,"post_id":77118571,"comment_id":135979542,"body_markdown":"@Old Dog Programmer: Ive documented the tests from &#39;Test 9&#39; and down. It appears it runs my program 15000 times or so and based on how it runs is based on statistics built into the autochecker. It keeps failing a &#39;p-value&#39;. No description on what that is.","body":"@Old Dog Programmer: Ive documented the tests from &#39;Test 9&#39; and down. It appears it runs my program 15000 times or so and based on how it runs is based on statistics built into the autochecker. It keeps failing a &#39;p-value&#39;. No description on what that is."},{"owner":{"account_id":5088711,"reputation":15,"user_id":4082419,"accept_rate":0,"display_name":"Brandon"},"score":0,"creation_date":1695125009,"post_id":77118571,"comment_id":135979552,"body_markdown":"@pjs: We can&#39;t use anything not in java.lang yet. This is really an algorithms course to my knowledge. It just happens to be in, and an introduction to, Java.","body":"@pjs: We can&#39;t use anything not in java.lang yet. This is really an algorithms course to my knowledge. It just happens to be in, and an introduction to, Java."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1695133180,"post_id":77118571,"comment_id":135981387,"body_markdown":"I meant show sample input values and the minefield that results. In general, this is part of writing a good question.","body":"I meant show sample input values and the minefield that results. In general, this is part of writing a good question."}],"answers":[{"comments":[{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1695082104,"post_id":77124506,"comment_id":135973766,"body_markdown":"Well done suggesting shuffling as the right way to distribute mines.","body":"Well done suggesting shuffling as the right way to distribute mines."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695150667,"post_id":77124506,"comment_id":135984668,"body_markdown":"I discovered my shuffle code was &quot;na&#239;ve&quot;:  Some permutations were more likely than others. I changed it based on https://blog.codinghorror.com/the-danger-of-naivete/","body":"I discovered my shuffle code was &quot;na&#239;ve&quot;:  Some permutations were more likely than others. I changed it based on <a href=\"https://blog.codinghorror.com/the-danger-of-naivete/\" rel=\"nofollow noreferrer\">blog.codinghorror.com/the-danger-of-naivete</a>"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1695154734,"post_id":77124506,"comment_id":135985342,"body_markdown":"Did you avoid `Collections.shuffle()` because of OP&#39;s restrictions to not use anything except the `java.lang` core?","body":"Did you avoid <code>Collections.shuffle()</code> because of OP&#39;s restrictions to not use anything except the <code>java.lang</code> core?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1695156153,"post_id":77124506,"comment_id":135985591,"body_markdown":"@pjs I remember thinking about using `Collections.shuffle()`, but I don&#39;t remember why I decided to code an array shuffle. In a comment, the O/P did mention using lists and strings is allowed, so I assume `Collections.shuffle()` would be allowed. If the O/P responded the array sort was a problem, I was / am prepared to change it to a `List`. As for using the `nextInt(int n)` method on a `Random` Object, I am confident the O/P can change it to use `Math.random()`.","body":"@pjs I remember thinking about using <code>Collections.shuffle()</code>, but I don&#39;t remember why I decided to code an array shuffle. In a comment, the O/P did mention using lists and strings is allowed, so I assume <code>Collections.shuffle()</code> would be allowed. If the O/P responded the array sort was a problem, I was / am prepared to change it to a <code>List</code>. As for using the <code>nextInt(int n)</code> method on a <code>Random</code> Object, I am confident the O/P can change it to use <code>Math.random()</code>."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695146748,"creation_date":1695010038,"answer_id":77124506,"question_id":77118571,"body_markdown":"Here is how an old dog programmer might write it.\r\n\r\nThis approach differs significantly from the O/P&#39;s. I would have *one* grid. Each cell in the grid would have either an `*` for a mine, or a digit from `0` to `8` for a non-mine. The work of placing mines and counting mines in neighboring cells would operate on that grid.\r\n\r\nFirst, I&#39;d break the job into more methods, each method being smaller.\r\n\r\n    public class MineSweeper {    \r\n       final static char ASTER = &#39;*&#39;;\r\n    \r\n       public static char [][] createMineField\r\n                      (int numRows, int numColumns, int numMines) {\r\n\r\n          char [][] field = new char [numRows][numColumns];\r\n          placeMines (field, numMines);\r\n          setCounts (field);        \r\n          return field;\r\n     }\r\n\r\nThe method `placeMines` places the mines in an empty grid. `setCounts` sets the elements of the non-mine cells to indicate how many adjacent (orthogonal and diagonal) cells contain a mine.\r\n\r\nSuppose we use this method for placing a mine:\r\n\r\n 1. Pick a row at random.  Pick a column at random. \r\n 2. Check to see if there is collision. A collision occurs if there is already a mine at the row and column from step 1.\r\n 3. If there is a collision, go back to step 1.\r\n 4. Place the mine at the location.\r\n 5. Increment the count of mines placed.\r\n 6. If at least one more mine is needed, go to step 1.\r\n 7. Otherwise, we are finished with mine placement.\r\n\r\nSuppose `t` is the total number of cells. That is `t = number of rows multiplied by number of columns`.  Suppose `m` is the number of mines to be placed. When `t` is high, and the ratio `m : t` is high, this method has a potential problem:  As more mines are placed, the more collisions there will be. This can slow the program. The following code always generates `t` random numbers, but avoids the collision problem. It seems wasteful if `t` is small, or the `m : t` ratio is low. But, it is guaranteed to avoid collisions:\r\n\r\n                \r\n    public static void placeMines (char [][] grid, int numMines) {\r\n        int size = grid.length * grid [0].length;\r\n        int [] order = new int [size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            order [i] = i;\r\n        }\r\n        shuffle (order);\r\n        \r\n        int r, c;\r\n        for (int i = 0; i &lt; numMines; i++) {\r\n            r = order [i] / grid[0].length;\r\n            c = order [i] % grid[0].length;\r\n            grid [r][c] = ASTER;\r\n        }\r\n    }\r\n    public static void shuffle (int [] arr) {\r\n        Random rand = new Random ();\r\n        int i, j, temp;\r\n        for (i = arr.length - 1; i &gt; 0; i--) {\r\n            j = rand.nextInt (i + 1);\r\n            temp = arr [j];\r\n            arr [j] = arr [i];\r\n            arr [i] = temp;\r\n        }              \r\n    }\r\n\r\n \r\n\r\nThis generates the sequence `0` to `t - 1` in an array, then shuffles the sequence. The first `m` elements of shuffled array are taken to position `m` mines.\r\n\r\nHere is the code to fill in the rest of the grid:\r\n\r\n         \r\n    public static void setCounts(char[][] grid) {\r\n        int row, col, r, c, count;\r\n\r\n        for (row = 0; row &lt; grid.length; row++) {\r\n            for (col = 0; col &lt; grid[row].length; col++) {\r\n                if (grid [row][col] == ASTER) { \r\n                    continue;\r\n                }\r\n\r\n                count = 0;\r\n                for (r = row - 1; r &lt;= row + 1; r++) {\r\n                    for (c = col - 1; c &lt;= col + 1; c++) {\r\n                        if (    r &gt;= 0           &amp;&amp; c &gt;= 0\r\n                             &amp;&amp; r &lt;  grid.length &amp;&amp; c &lt; grid[row].length\r\n                             &amp;&amp; grid[r][c] == ASTER    ) {\r\n                            count++;\r\n                        }                            \r\n                    }\r\n                }\r\n                grid [row][col] = (char) (&#39;0&#39; + count);                \r\n            }\r\n        }\r\n    }\r\n\r\nThe O/P commented that he / she has not yet had a lesson with the `char`  variable type. A `char` is a 16 bit Integer type, and is one of the primitive types. But, Java assumes these values represent 16 bit Unicode characters.  \r\n\r\nThe line `grid [row][col] = (char) (&#39;0&#39; + count);` converts the `count` value, which contains a value from 0 to 8, to the corresponding Unicode decimal digit.  This is similar to what can be done with ASCII in C, C++, and other characters. \r\n\r\nIf the O/P is not comfortable with using `char`, I suggest an `int` or `short` array instead. A mine might be represented with a &quot;special&quot; value outside that range, such as `-1`, `9`, or `10`.  \r\n\r\n         public static void main(String[] args) {\r\n           System.out.println(&quot;Starting program with &quot; + args.length + &quot; args: &quot;\r\n            + Arrays.toString(args) + &quot;\\n&quot;);  \r\n           char [][] game =  createMineField (15,30, 100);\r\n           for (int k = 0; k &lt; game.length; k++ ) { \r\n               System.out.println (Arrays.toString (game[k]));\r\n           }                \r\n         }    \r\n     }\r\n\r\nI hard coded a single test case. An array might be used to code multiple test cases. \r\n\r\nIn keeping with the original code, the O/P might need to parse `args` from `main` to get the values to use for a single test case each run, as in the O/P code. I also used a method from `java.util.Arrays` to quickly code output. The O/P will want to provide his / her own code to meet the requirements of the autochecker. \r\n\r\nSample output, with 15 rows, 30 columns, and 175 mines:\r\n\r\n````\r\n[3, *, *, 3, 1, 1, *, 3, *, 4, *, 3, 3, *, 4, *, *, 2, 3, *, 5, *, 4, 3, *, *, *, 3, *, 2]\r\n[*, *, *, *, 3, 3, 3, 5, *, 4, *, 4, *, *, 6, *, 5, 3, *, *, *, *, *, *, 4, 4, 3, 4, *, 2]\r\n[4, *, *, *, *, 3, *, *, 2, 3, 2, 5, *, 5, *, *, *, 4, 5, *, 7, 6, 6, 5, *, 2, 2, *, 2, 1]\r\n[*, 6, *, 7, *, 4, 2, 3, 2, 2, *, 5, *, 4, 2, 4, *, *, 3, *, *, *, *, *, 4, *, 4, 3, 2, 0]\r\n[3, *, *, 6, *, 4, 1, 3, *, 3, 2, *, *, 3, 1, 2, 3, 3, 2, 3, *, *, 4, 3, *, 5, *, *, 3, 1]\r\n[*, 4, 4, *, *, 5, *, 5, *, 3, 2, 2, 4, *, 3, 2, *, 1, 0, 2, 4, 4, 3, 3, 4, *, *, *, *, 2]\r\n[2, 3, *, 5, *, 7, *, *, 5, *, 2, 1, 2, *, *, 4, 3, 3, 1, 2, *, *, 3, *, *, 4, 5, *, *, 2]\r\n[*, 4, 2, 3, *, *, *, *, *, 4, *, 1, 1, 3, 4, *, *, 5, *, 5, 5, 6, *, 4, 2, 2, *, 5, 4, 2]\r\n[*, *, 3, 3, 3, 4, *, 4, 3, *, 4, 3, 2, 3, *, 5, *, *, *, *, *, *, *, 2, 0, 1, 3, *, *, 1]\r\n[2, 3, *, *, 3, 2, 2, 3, 3, 3, *, *, 2, *, *, 3, 3, 5, 6, 5, 5, 4, 3, 2, 1, 2, 3, *, 4, 2]\r\n[0, 1, 3, *, *, 1, 1, *, *, 3, 3, 2, 3, 3, 4, 3, 4, *, *, *, 3, *, 2, 2, *, 3, *, 4, 3, *]\r\n[0, 0, 1, 2, 3, 2, 2, 2, 4, *, 4, 2, 2, *, 2, *, *, *, 5, 3, *, 3, 3, *, 3, 4, *, 4, *, 4]\r\n[0, 1, 1, 2, 3, *, 4, 3, 4, *, *, *, 2, 2, 3, 3, 5, *, 4, 3, 4, *, 3, 3, *, 2, 1, 4, *, *]\r\n[0, 1, *, 3, *, *, *, *, *, 4, 5, 4, 3, 2, *, 1, 2, *, 5, *, *, 6, *, 4, 2, 2, 0, 2, *, 3]\r\n[0, 1, 1, 3, *, 4, 3, 3, 3, *, 2, *, *, 2, 1, 1, 1, 2, *, *, *, *, *, 3, *, 1, 0, 1, 1, 1]\r\n````\r\n\r\nI made all the methods static. Another approach would be to make the mine field an instance variable. The method `createMineField` could be replaced by a constructor.  The methods `placeMines` and `setCounts` could be non-static, possibly non-public, instance methods.\r\n\r\nIt would be a good idea to verify the arguments. Check the number of rows and the number of columns fall within the allowed range. Also, put a constraint on the number of mines. Consider throwing and catching  `IllegalArgumentException` for these.\r\n","title":"How to randomly distribute mines for a Minesweeper program","body":"<p>Here is how an old dog programmer might write it.</p>\n<p>This approach differs significantly from the O/P's. I would have <em>one</em> grid. Each cell in the grid would have either an <code>*</code> for a mine, or a digit from <code>0</code> to <code>8</code> for a non-mine. The work of placing mines and counting mines in neighboring cells would operate on that grid.</p>\n<p>First, I'd break the job into more methods, each method being smaller.</p>\n<pre><code>public class MineSweeper {    \n   final static char ASTER = '*';\n\n   public static char [][] createMineField\n                  (int numRows, int numColumns, int numMines) {\n\n      char [][] field = new char [numRows][numColumns];\n      placeMines (field, numMines);\n      setCounts (field);        \n      return field;\n }\n</code></pre>\n<p>The method <code>placeMines</code> places the mines in an empty grid. <code>setCounts</code> sets the elements of the non-mine cells to indicate how many adjacent (orthogonal and diagonal) cells contain a mine.</p>\n<p>Suppose we use this method for placing a mine:</p>\n<ol>\n<li>Pick a row at random.  Pick a column at random.</li>\n<li>Check to see if there is collision. A collision occurs if there is already a mine at the row and column from step 1.</li>\n<li>If there is a collision, go back to step 1.</li>\n<li>Place the mine at the location.</li>\n<li>Increment the count of mines placed.</li>\n<li>If at least one more mine is needed, go to step 1.</li>\n<li>Otherwise, we are finished with mine placement.</li>\n</ol>\n<p>Suppose <code>t</code> is the total number of cells. That is <code>t = number of rows multiplied by number of columns</code>.  Suppose <code>m</code> is the number of mines to be placed. When <code>t</code> is high, and the ratio <code>m : t</code> is high, this method has a potential problem:  As more mines are placed, the more collisions there will be. This can slow the program. The following code always generates <code>t</code> random numbers, but avoids the collision problem. It seems wasteful if <code>t</code> is small, or the <code>m : t</code> ratio is low. But, it is guaranteed to avoid collisions:</p>\n<pre><code>public static void placeMines (char [][] grid, int numMines) {\n    int size = grid.length * grid [0].length;\n    int [] order = new int [size];\n    for (int i = 0; i &lt; size; i++) {\n        order [i] = i;\n    }\n    shuffle (order);\n    \n    int r, c;\n    for (int i = 0; i &lt; numMines; i++) {\n        r = order [i] / grid[0].length;\n        c = order [i] % grid[0].length;\n        grid [r][c] = ASTER;\n    }\n}\npublic static void shuffle (int [] arr) {\n    Random rand = new Random ();\n    int i, j, temp;\n    for (i = arr.length - 1; i &gt; 0; i--) {\n        j = rand.nextInt (i + 1);\n        temp = arr [j];\n        arr [j] = arr [i];\n        arr [i] = temp;\n    }              \n}\n</code></pre>\n<p>This generates the sequence <code>0</code> to <code>t - 1</code> in an array, then shuffles the sequence. The first <code>m</code> elements of shuffled array are taken to position <code>m</code> mines.</p>\n<p>Here is the code to fill in the rest of the grid:</p>\n<pre><code>public static void setCounts(char[][] grid) {\n    int row, col, r, c, count;\n\n    for (row = 0; row &lt; grid.length; row++) {\n        for (col = 0; col &lt; grid[row].length; col++) {\n            if (grid [row][col] == ASTER) { \n                continue;\n            }\n\n            count = 0;\n            for (r = row - 1; r &lt;= row + 1; r++) {\n                for (c = col - 1; c &lt;= col + 1; c++) {\n                    if (    r &gt;= 0           &amp;&amp; c &gt;= 0\n                         &amp;&amp; r &lt;  grid.length &amp;&amp; c &lt; grid[row].length\n                         &amp;&amp; grid[r][c] == ASTER    ) {\n                        count++;\n                    }                            \n                }\n            }\n            grid [row][col] = (char) ('0' + count);                \n        }\n    }\n}\n</code></pre>\n<p>The O/P commented that he / she has not yet had a lesson with the <code>char</code>  variable type. A <code>char</code> is a 16 bit Integer type, and is one of the primitive types. But, Java assumes these values represent 16 bit Unicode characters.</p>\n<p>The line <code>grid [row][col] = (char) ('0' + count);</code> converts the <code>count</code> value, which contains a value from 0 to 8, to the corresponding Unicode decimal digit.  This is similar to what can be done with ASCII in C, C++, and other characters.</p>\n<p>If the O/P is not comfortable with using <code>char</code>, I suggest an <code>int</code> or <code>short</code> array instead. A mine might be represented with a &quot;special&quot; value outside that range, such as <code>-1</code>, <code>9</code>, or <code>10</code>.</p>\n<pre><code>     public static void main(String[] args) {\n       System.out.println(&quot;Starting program with &quot; + args.length + &quot; args: &quot;\n        + Arrays.toString(args) + &quot;\\n&quot;);  \n       char [][] game =  createMineField (15,30, 100);\n       for (int k = 0; k &lt; game.length; k++ ) { \n           System.out.println (Arrays.toString (game[k]));\n       }                \n     }    \n }\n</code></pre>\n<p>I hard coded a single test case. An array might be used to code multiple test cases.</p>\n<p>In keeping with the original code, the O/P might need to parse <code>args</code> from <code>main</code> to get the values to use for a single test case each run, as in the O/P code. I also used a method from <code>java.util.Arrays</code> to quickly code output. The O/P will want to provide his / her own code to meet the requirements of the autochecker.</p>\n<p>Sample output, with 15 rows, 30 columns, and 175 mines:</p>\n<pre><code>[3, *, *, 3, 1, 1, *, 3, *, 4, *, 3, 3, *, 4, *, *, 2, 3, *, 5, *, 4, 3, *, *, *, 3, *, 2]\n[*, *, *, *, 3, 3, 3, 5, *, 4, *, 4, *, *, 6, *, 5, 3, *, *, *, *, *, *, 4, 4, 3, 4, *, 2]\n[4, *, *, *, *, 3, *, *, 2, 3, 2, 5, *, 5, *, *, *, 4, 5, *, 7, 6, 6, 5, *, 2, 2, *, 2, 1]\n[*, 6, *, 7, *, 4, 2, 3, 2, 2, *, 5, *, 4, 2, 4, *, *, 3, *, *, *, *, *, 4, *, 4, 3, 2, 0]\n[3, *, *, 6, *, 4, 1, 3, *, 3, 2, *, *, 3, 1, 2, 3, 3, 2, 3, *, *, 4, 3, *, 5, *, *, 3, 1]\n[*, 4, 4, *, *, 5, *, 5, *, 3, 2, 2, 4, *, 3, 2, *, 1, 0, 2, 4, 4, 3, 3, 4, *, *, *, *, 2]\n[2, 3, *, 5, *, 7, *, *, 5, *, 2, 1, 2, *, *, 4, 3, 3, 1, 2, *, *, 3, *, *, 4, 5, *, *, 2]\n[*, 4, 2, 3, *, *, *, *, *, 4, *, 1, 1, 3, 4, *, *, 5, *, 5, 5, 6, *, 4, 2, 2, *, 5, 4, 2]\n[*, *, 3, 3, 3, 4, *, 4, 3, *, 4, 3, 2, 3, *, 5, *, *, *, *, *, *, *, 2, 0, 1, 3, *, *, 1]\n[2, 3, *, *, 3, 2, 2, 3, 3, 3, *, *, 2, *, *, 3, 3, 5, 6, 5, 5, 4, 3, 2, 1, 2, 3, *, 4, 2]\n[0, 1, 3, *, *, 1, 1, *, *, 3, 3, 2, 3, 3, 4, 3, 4, *, *, *, 3, *, 2, 2, *, 3, *, 4, 3, *]\n[0, 0, 1, 2, 3, 2, 2, 2, 4, *, 4, 2, 2, *, 2, *, *, *, 5, 3, *, 3, 3, *, 3, 4, *, 4, *, 4]\n[0, 1, 1, 2, 3, *, 4, 3, 4, *, *, *, 2, 2, 3, 3, 5, *, 4, 3, 4, *, 3, 3, *, 2, 1, 4, *, *]\n[0, 1, *, 3, *, *, *, *, *, 4, 5, 4, 3, 2, *, 1, 2, *, 5, *, *, 6, *, 4, 2, 2, 0, 2, *, 3]\n[0, 1, 1, 3, *, 4, 3, 3, 3, *, 2, *, *, 2, 1, 1, 1, 2, *, *, *, *, *, 3, *, 1, 0, 1, 1, 1]\n</code></pre>\n<p>I made all the methods static. Another approach would be to make the mine field an instance variable. The method <code>createMineField</code> could be replaced by a constructor.  The methods <code>placeMines</code> and <code>setCounts</code> could be non-static, possibly non-public, instance methods.</p>\n<p>It would be a good idea to verify the arguments. Check the number of rows and the number of columns fall within the allowed range. Also, put a constraint on the number of mines. Consider throwing and catching  <code>IllegalArgumentException</code> for these.</p>\n"}],"owner":{"account_id":5088711,"reputation":15,"user_id":4082419,"accept_rate":0,"display_name":"Brandon"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1695146748,"creation_date":1694880584,"question_id":77118571,"body_markdown":"I&#39;ve gotten up to Test 9/10 of the autochecker and have made my programming now 333 lines of Java code, as per the course requirement (being written in Java, not over XXX amount of lines).  Basically, we need to draw a Minesweeper board with the mines shown as &quot;*&quot;s and the other cells showing a count of mines in the surrounding 1 cell areas around them. Here is my code:\r\n\r\n\r\n```\r\npublic class Minesweeper {\r\n\r\n    public static void main( String[] args ) {\r\n\r\n        int m = Integer.parseInt( args[0] );\r\n        int n = Integer.parseInt( args[1] );\r\n        int k = Integer.parseInt( args[2] );\r\n        int[][] gridArray = new int[m][n];\r\n        int[][] mineArray = new int[m][n];\r\n        int[][] placedMines = new int[k][2];\r\n        int totalCells = m * n;\r\n        int randomRow = (int) (Math.random() * m);\r\n        int randomColumn = (int) (Math.random() * n);\r\n\r\n        //Place mines...\r\n        for (int i = 0; i &lt;= k - 1; i++) {\r\n\r\n            int pos = 0;\r\n\r\n            while (true) {\r\n\r\n                if (pos &lt;= k - 1) {\r\n\r\n                    if ((randomRow == placedMines[pos][0]) &amp;&amp; (randomColumn == placedMines[pos][1])) {\r\n\r\n                        if( ( k == totalCells ) &amp;&amp; ( pos == k - 1 ) ) {\r\n\r\n                            break;\r\n\r\n                        } else {\r\n\r\n                            randomRow = (int) (Math.random() * m);\r\n                            randomColumn = (int) (Math.random() * n);\r\n                            pos = 0;\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        pos++;\r\n\r\n                    }\r\n\r\n                    //System.out.println( &quot;Gotten &quot; + pos + &quot;!&quot; );\r\n\r\n                } else {\r\n\r\n                    break;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            mineArray[randomRow][randomColumn] = 1;\r\n            placedMines[i][0] = randomRow;\r\n            placedMines[i][1] = randomColumn;\r\n\r\n        }\r\n\r\n        //Place Kth mine...\r\n        if( k == totalCells ) {\r\n\r\n            for( int y = 0; y &lt;= m - 1; y++ ) {\r\n\r\n                for( int x = 0; x &lt;= n - 1; x++ ) {\r\n\r\n                    if( mineArray[y][x] == 0 ) {\r\n\r\n                        mineArray[y][x] = 1;\r\n                        placedMines[placedMines.length - 1][0] = y;\r\n                        placedMines[placedMines.length - 1][1] = x;\r\n                        break;\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        //Get numbers...\r\n        for( int y = 0; y &lt;= m - 1; y++ ) {\r\n\r\n            for (int x = 0; x &lt;= n - 1; x++) {\r\n\r\n                if (mineArray[y][x] == 1) {\r\n\r\n                    if ( y == 0 ) {\r\n\r\n                        if (x == 0) {\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x + 1]++;\r\n\r\n                            }\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y + 1][x + 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y + 1][x + 1]++;\r\n                                    gridArray[y + 1][x - 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n                                gridArray[y][x + 1]++;\r\n\r\n                            }\r\n\r\n                        } else if (x == n - 1) {\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n\r\n                            }\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y + 1][x - 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    } else if ((y &gt; 0) &amp;&amp; (y &lt;= m - 2)) {\r\n\r\n                        if (x == 0) {\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y - 1][x]++;\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x + 1]++;\r\n                                    gridArray[y + 1][x + 1]++;\r\n\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x + 1]++;\r\n\r\n                            }\r\n\r\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n                                gridArray[y][x + 1]++;\r\n\r\n                            }\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n\r\n                                gridArray[y - 1][x]++;\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x - 1]++;\r\n                                    gridArray[y - 1][x + 1]++;\r\n                                    gridArray[y + 1][x + 1]++;\r\n                                    gridArray[y + 1][x - 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else if (x == n - 1) {\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n\r\n                            }\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y - 1][x]++;\r\n                                gridArray[y + 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x - 1]++;\r\n                                    gridArray[y + 1][x - 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    } else if (y == m - 1) {\r\n\r\n                        if (x == 0) {\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y - 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x + 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x + 1]++;\r\n\r\n                            }\r\n\r\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y - 1][x]++;\r\n\r\n                            }\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n                                gridArray[y][x + 1]++;\r\n\r\n                                if( m &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x - 1]++;\r\n                                    gridArray[y - 1][x + 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else if (x == n - 1) {\r\n\r\n                            if( n &gt; 1 ) {\r\n\r\n                                gridArray[y][x - 1]++;\r\n\r\n                            }\r\n\r\n                            if( m &gt; 1 ) {\r\n\r\n                                gridArray[y - 1][x]++;\r\n\r\n                                if( n &gt; 1 ) {\r\n\r\n                                    gridArray[y - 1][x - 1]++;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        for( int y = 0; y &lt;= m - 1; y++ ) {\r\n\r\n            for( int x = 0; x &lt;= n - 1; x++ ) {\r\n\r\n                if( mineArray[y][x] == 1 ) {\r\n\r\n                    System.out.print( &quot;*&quot;);\r\n\r\n                } else {\r\n\r\n                    System.out.print( gridArray[y][x] );\r\n\r\n                }\r\n\r\n                if( x != n - 1 ) {\r\n\r\n                    System.out.print( &quot;  &quot; );\r\n\r\n                }\r\n\r\n            }\r\n\r\n            System.out.println();\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nI receive the following errors after submitting:\r\n\r\n`Test 9: check that mines are uniformly random\r\n  * m = 1, n = 2, k = 1 [repeated 15000 times]\r\n            value  observed  expected   2*O*ln(O/E)\r\n        -------------------------------------------\r\n              1-1         0    7500.0          0.00\r\n              1-2     15000    7500.0      20794.42\r\n        -------------------------------------------\r\n                      15000   15000.0      20794.42\r\n    \r\n    G-statistic = 20794.42 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\r\n    Note: a correct solution will fail this test by bad luck 1 time in 10,000.\r\n\r\n  * m = 1, n = 3, k = 1 [repeated 15000 times]\r\n            value  observed  expected   2*O*ln(O/E)\r\n        -------------------------------------------\r\n              1-1         0    5000.0          0.00\r\n              1-2      7624    5000.0       6432.57\r\n              1-3      7376    5000.0       5735.48\r\n        -------------------------------------------\r\n                      15000   15000.0      12168.05\r\n    \r\n    G-statistic = 12168.05 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\r\n    Note: a correct solution will fail this test by bad luck 1 time in 10,000.\r\n\r\n  * m = 2, n = 2, k = 2 [repeated 15000 times]\r\n            value  observed  expected   2*O*ln(O/E)\r\n        -------------------------------------------\r\n              1-1         0    7500.0          0.00\r\n              1-2     10044    7500.0       5867.15\r\n              2-1      9946    7500.0       5614.86\r\n              2-2     10010    7500.0       5779.41\r\n        -------------------------------------------\r\n                      30000   30000.0      17261.42\r\n    \r\n    G-statistic = 17261.42 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\r\n    Note: a correct solution will fail this test by bad luck 1 time in 10,000.\r\n\r\n  * m = 2, n = 4, k = 3 [repeated 15000 times]\r\n            value  observed  expected   2*O*ln(O/E)\r\n        -------------------------------------------\r\n              1-1         0    5625.0          0.00\r\n              1-2      6484    5625.0       1842.97\r\n              1-3      6477    5625.0       1826.99\r\n              1-4      6346    5625.0       1530.70\r\n              2-1      6439    5625.0       1740.49\r\n              2-2      6471    5625.0       1813.30\r\n              2-3      6435    5625.0       1731.41\r\n              2-4      6348    5625.0       1535.19\r\n        -------------------------------------------\r\n                      45000   45000.0      12021.05\r\n    \r\n    G-statistic = 12021.05 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\r\n    Note: a correct solution will fail this test by bad luck 1 time in 10,000.\r\n\r\n  * m = 3, n = 3, k = 6 [repeated 15000 times]\r\n            value  observed  expected   2*O*ln(O/E)\r\n        -------------------------------------------\r\n              1-1         0   10000.0          0.00\r\n              1-2     11257   10000.0       2665.77\r\n              1-3     11278   10000.0       2712.78\r\n              2-1     11313   10000.0       2791.31\r\n              2-2     11228   10000.0       2600.98\r\n              2-3     11289   10000.0       2737.44\r\n              3-1     11171   10000.0       2474.06\r\n              3-2     11180   10000.0       2494.07\r\n              3-3     11284   10000.0       2726.23\r\n        -------------------------------------------\r\n                      90000   90000.0      21202.65\r\n    \r\n    G-statistic = 21202.65 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\r\n    Note: a correct solution will fail this test by bad luck 1 time in 10,000.\r\n\r\n==&gt; FAILED\r\n\r\nTest 10: check statistical independence of mines within an m-by-n grid\r\n  * m = 500, n = 500, k = 125000\r\n  * m = 500, n = 500, k = 25000\r\n  * m = 500, n = 500, k = 225000\r\n\r\n\r\nWARNING: the time limit of 60 seconds was exceeded, so not all tests could be completed.`\r\n\r\nI already accounted for NOT handling above number of cell mines with my variable &quot;totalMines&quot; because I figured &quot;Why not?&quot;  I&#39;m very stumped right now.  I come from a C++ hobbyist approach.  I&#39;ve seen other answers that use a table of m+2/n+2 values which, as a wannabe solo game dev, I would consider a VERY bad practice of doing.  My personal belief is that you should only code what needs to be shown as it needs to be shown.  So, no extra table elements.  If that was done in C++ and compiled under the g++ compiler I would have to believe that, if uninitialized, those extra elements would default to garbage or NULL values and the program would SEGFAULT or interrupt.  I am probably wrong, but I need help fixing my apparent wrong approach to the problem.  Any help is GREATLY appreciated.  I would like to NOT need to simplify this if it can be helped.  I&#39;ve been on this one single problem for almost two weeks and have worked about three/four hours a night for 5 nights a week on this.  Thank you!\r\n\r\nI cannot think of anything else besides simplifying the code, but that is not my intention.\r\n\r\nEDIT 1: We cannot use any other random function besides a uniform distribution between 0 and n - 1 (0 being cell 1 and n being amount of cells) with Math.random(). I have seen answers by using a &quot;grid&quot; (int[][]) with two extra elements.  As a wannabe game dev, I would not accept extra elements as an answer. Try doing that in C++ while not initializing all values to 0 first.  I guess I am just not used to Java yet.","title":"How to randomly distribute mines for a Minesweeper program","body":"<p>I've gotten up to Test 9/10 of the autochecker and have made my programming now 333 lines of Java code, as per the course requirement (being written in Java, not over XXX amount of lines).  Basically, we need to draw a Minesweeper board with the mines shown as &quot;*&quot;s and the other cells showing a count of mines in the surrounding 1 cell areas around them. Here is my code:</p>\n<pre><code>public class Minesweeper {\n\n    public static void main( String[] args ) {\n\n        int m = Integer.parseInt( args[0] );\n        int n = Integer.parseInt( args[1] );\n        int k = Integer.parseInt( args[2] );\n        int[][] gridArray = new int[m][n];\n        int[][] mineArray = new int[m][n];\n        int[][] placedMines = new int[k][2];\n        int totalCells = m * n;\n        int randomRow = (int) (Math.random() * m);\n        int randomColumn = (int) (Math.random() * n);\n\n        //Place mines...\n        for (int i = 0; i &lt;= k - 1; i++) {\n\n            int pos = 0;\n\n            while (true) {\n\n                if (pos &lt;= k - 1) {\n\n                    if ((randomRow == placedMines[pos][0]) &amp;&amp; (randomColumn == placedMines[pos][1])) {\n\n                        if( ( k == totalCells ) &amp;&amp; ( pos == k - 1 ) ) {\n\n                            break;\n\n                        } else {\n\n                            randomRow = (int) (Math.random() * m);\n                            randomColumn = (int) (Math.random() * n);\n                            pos = 0;\n\n                        }\n\n                    } else {\n\n                        pos++;\n\n                    }\n\n                    //System.out.println( &quot;Gotten &quot; + pos + &quot;!&quot; );\n\n                } else {\n\n                    break;\n\n                }\n\n            }\n\n            mineArray[randomRow][randomColumn] = 1;\n            placedMines[i][0] = randomRow;\n            placedMines[i][1] = randomColumn;\n\n        }\n\n        //Place Kth mine...\n        if( k == totalCells ) {\n\n            for( int y = 0; y &lt;= m - 1; y++ ) {\n\n                for( int x = 0; x &lt;= n - 1; x++ ) {\n\n                    if( mineArray[y][x] == 0 ) {\n\n                        mineArray[y][x] = 1;\n                        placedMines[placedMines.length - 1][0] = y;\n                        placedMines[placedMines.length - 1][1] = x;\n                        break;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        //Get numbers...\n        for( int y = 0; y &lt;= m - 1; y++ ) {\n\n            for (int x = 0; x &lt;= n - 1; x++) {\n\n                if (mineArray[y][x] == 1) {\n\n                    if ( y == 0 ) {\n\n                        if (x == 0) {\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x + 1]++;\n\n                            }\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y + 1][x + 1]++;\n\n                                }\n\n                            }\n\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y + 1][x + 1]++;\n                                    gridArray[y + 1][x - 1]++;\n\n                                }\n\n                            }\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n                                gridArray[y][x + 1]++;\n\n                            }\n\n                        } else if (x == n - 1) {\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n\n                            }\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y + 1][x - 1]++;\n\n                                }\n\n                            }\n\n                        }\n\n                    } else if ((y &gt; 0) &amp;&amp; (y &lt;= m - 2)) {\n\n                        if (x == 0) {\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y - 1][x]++;\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y - 1][x + 1]++;\n                                    gridArray[y + 1][x + 1]++;\n\n                                }\n\n\n                            }\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x + 1]++;\n\n                            }\n\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n                                gridArray[y][x + 1]++;\n\n                            }\n\n                            if( m &gt; 1 ) {\n\n\n                                gridArray[y - 1][x]++;\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y - 1][x - 1]++;\n                                    gridArray[y - 1][x + 1]++;\n                                    gridArray[y + 1][x + 1]++;\n                                    gridArray[y + 1][x - 1]++;\n\n                                }\n\n                            }\n\n                        } else if (x == n - 1) {\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n\n                            }\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y - 1][x]++;\n                                gridArray[y + 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y - 1][x - 1]++;\n                                    gridArray[y + 1][x - 1]++;\n\n                                }\n\n                            }\n\n                        }\n\n                    } else if (y == m - 1) {\n\n                        if (x == 0) {\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y - 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y - 1][x + 1]++;\n\n                                }\n\n                            }\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x + 1]++;\n\n                            }\n\n                        } else if ((x &gt; 0) &amp;&amp; (x &lt;= n - 2)) {\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y - 1][x]++;\n\n                            }\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n                                gridArray[y][x + 1]++;\n\n                                if( m &gt; 1 ) {\n\n                                    gridArray[y - 1][x - 1]++;\n                                    gridArray[y - 1][x + 1]++;\n\n                                }\n\n                            }\n\n                        } else if (x == n - 1) {\n\n                            if( n &gt; 1 ) {\n\n                                gridArray[y][x - 1]++;\n\n                            }\n\n                            if( m &gt; 1 ) {\n\n                                gridArray[y - 1][x]++;\n\n                                if( n &gt; 1 ) {\n\n                                    gridArray[y - 1][x - 1]++;\n\n                                }\n\n                            }\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        for( int y = 0; y &lt;= m - 1; y++ ) {\n\n            for( int x = 0; x &lt;= n - 1; x++ ) {\n\n                if( mineArray[y][x] == 1 ) {\n\n                    System.out.print( &quot;*&quot;);\n\n                } else {\n\n                    System.out.print( gridArray[y][x] );\n\n                }\n\n                if( x != n - 1 ) {\n\n                    System.out.print( &quot;  &quot; );\n\n                }\n\n            }\n\n            System.out.println();\n\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>I receive the following errors after submitting:</p>\n<p>`Test 9: check that mines are uniformly random</p>\n<ul>\n<li><p>m = 1, n = 2, k = 1 [repeated 15000 times]\nvalue  observed  expected   2<em>O</em>ln(O/E)\n-------------------------------------------\n1-1         0    7500.0          0.00\n1-2     15000    7500.0      20794.42\n-------------------------------------------\n15000   15000.0      20794.42</p>\n<p>G-statistic = 20794.42 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\nNote: a correct solution will fail this test by bad luck 1 time in 10,000.</p>\n</li>\n<li><p>m = 1, n = 3, k = 1 [repeated 15000 times]\nvalue  observed  expected   2<em>O</em>ln(O/E)\n-------------------------------------------\n1-1         0    5000.0          0.00\n1-2      7624    5000.0       6432.57\n1-3      7376    5000.0       5735.48\n-------------------------------------------\n15000   15000.0      12168.05</p>\n<p>G-statistic = 12168.05 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\nNote: a correct solution will fail this test by bad luck 1 time in 10,000.</p>\n</li>\n<li><p>m = 2, n = 2, k = 2 [repeated 15000 times]\nvalue  observed  expected   2<em>O</em>ln(O/E)\n-------------------------------------------\n1-1         0    7500.0          0.00\n1-2     10044    7500.0       5867.15\n2-1      9946    7500.0       5614.86\n2-2     10010    7500.0       5779.41\n-------------------------------------------\n30000   30000.0      17261.42</p>\n<p>G-statistic = 17261.42 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\nNote: a correct solution will fail this test by bad luck 1 time in 10,000.</p>\n</li>\n<li><p>m = 2, n = 4, k = 3 [repeated 15000 times]\nvalue  observed  expected   2<em>O</em>ln(O/E)\n-------------------------------------------\n1-1         0    5625.0          0.00\n1-2      6484    5625.0       1842.97\n1-3      6477    5625.0       1826.99\n1-4      6346    5625.0       1530.70\n2-1      6439    5625.0       1740.49\n2-2      6471    5625.0       1813.30\n2-3      6435    5625.0       1731.41\n2-4      6348    5625.0       1535.19\n-------------------------------------------\n45000   45000.0      12021.05</p>\n<p>G-statistic = 12021.05 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\nNote: a correct solution will fail this test by bad luck 1 time in 10,000.</p>\n</li>\n<li><p>m = 3, n = 3, k = 6 [repeated 15000 times]\nvalue  observed  expected   2<em>O</em>ln(O/E)\n-------------------------------------------\n1-1         0   10000.0          0.00\n1-2     11257   10000.0       2665.77\n1-3     11278   10000.0       2712.78\n2-1     11313   10000.0       2791.31\n2-2     11228   10000.0       2600.98\n2-3     11289   10000.0       2737.44\n3-1     11171   10000.0       2474.06\n3-2     11180   10000.0       2494.07\n3-3     11284   10000.0       2726.23\n-------------------------------------------\n90000   90000.0      21202.65</p>\n<p>G-statistic = 21202.65 (p-value = 0.000000, reject if p-value &lt;= 0.0001)\nNote: a correct solution will fail this test by bad luck 1 time in 10,000.</p>\n</li>\n</ul>\n<p>==&gt; FAILED</p>\n<p>Test 10: check statistical independence of mines within an m-by-n grid</p>\n<ul>\n<li>m = 500, n = 500, k = 125000</li>\n<li>m = 500, n = 500, k = 25000</li>\n<li>m = 500, n = 500, k = 225000</li>\n</ul>\n<p>WARNING: the time limit of 60 seconds was exceeded, so not all tests could be completed.`</p>\n<p>I already accounted for NOT handling above number of cell mines with my variable &quot;totalMines&quot; because I figured &quot;Why not?&quot;  I'm very stumped right now.  I come from a C++ hobbyist approach.  I've seen other answers that use a table of m+2/n+2 values which, as a wannabe solo game dev, I would consider a VERY bad practice of doing.  My personal belief is that you should only code what needs to be shown as it needs to be shown.  So, no extra table elements.  If that was done in C++ and compiled under the g++ compiler I would have to believe that, if uninitialized, those extra elements would default to garbage or NULL values and the program would SEGFAULT or interrupt.  I am probably wrong, but I need help fixing my apparent wrong approach to the problem.  Any help is GREATLY appreciated.  I would like to NOT need to simplify this if it can be helped.  I've been on this one single problem for almost two weeks and have worked about three/four hours a night for 5 nights a week on this.  Thank you!</p>\n<p>I cannot think of anything else besides simplifying the code, but that is not my intention.</p>\n<p>EDIT 1: We cannot use any other random function besides a uniform distribution between 0 and n - 1 (0 being cell 1 and n being amount of cells) with Math.random(). I have seen answers by using a &quot;grid&quot; (int[][]) with two extra elements.  As a wannabe game dev, I would not accept extra elements as an answer. Try doing that in C++ while not initializing all values to 0 first.  I guess I am just not used to Java yet.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1695146792,"post_id":77136952,"comment_id":135984095,"body_markdown":"How do you know it&#39;s an error and not an ominous info text?","body":"How do you know it&#39;s an error and not an ominous info text?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695147438,"post_id":77136952,"comment_id":135984176,"body_markdown":"What command did you use? What was in the output around that line you highlighted? Where do you see that message? Is the text of the line you shared complete?","body":"What command did you use? What was in the output around that line you highlighted? Where do you see that message? Is the text of the line you shared complete?"},{"owner":{"account_id":16372456,"reputation":343,"user_id":11825427,"display_name":"Java"},"score":0,"creation_date":1695147969,"post_id":77136952,"comment_id":135984262,"body_markdown":"I used gradle build and this was a error message because it hasn&#39;t start building.","body":"I used gradle build and this was a error message because it hasn&#39;t start building."},{"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"score":0,"creation_date":1695188281,"post_id":77136952,"comment_id":135988823,"body_markdown":"What is the full output from Gradle?","body":"What is the full output from Gradle?"},{"owner":{"account_id":4820520,"reputation":79,"user_id":3891328,"accept_rate":100,"display_name":"SG87"},"score":0,"creation_date":1697367066,"post_id":77136952,"comment_id":136268645,"body_markdown":"I&#39;m on a mac, i had the same issue. I solved it by accepting the new xcode license, running: sudo xcodebuild -license","body":"I&#39;m on a mac, i had the same issue. I solved it by accepting the new xcode license, running: sudo xcodebuild -license"}],"owner":{"account_id":16372456,"reputation":343,"user_id":11825427,"display_name":"Java"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695146670,"creation_date":1695146670,"question_id":77136952,"body_markdown":"I am using a Spring Boot Application with Java 21 and Gradle I also tried the nightly gradle build 8.4 and 8.5 but still I got this error.\r\n\r\n&gt; Your build is currently configured to use Java 21 and Gradle 8.3.","title":"Your build is currently configured to use Java 21 and Gradle 8.3","body":"<p>I am using a Spring Boot Application with Java 21 and Gradle I also tried the nightly gradle build 8.4 and 8.5 but still I got this error.</p>\n<blockquote>\n<p>Your build is currently configured to use Java 21 and Gradle 8.3.</p>\n</blockquote>\n"},{"tags":["java","multithreading","performance","lwjgl","event-bus"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1695146782,"post_id":77136948,"comment_id":135984094,"body_markdown":"Not sure how easy this is to answer without knowing anything about the app, how you’re using threads, how the event bus is implemented, …","body":"Not sure how easy this is to answer without knowing anything about the app, how you’re using threads, how the event bus is implemented, …"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695146985,"post_id":77136948,"comment_id":135984120,"body_markdown":"Why would you use reflection to call the onEvent method?","body":"Why would you use reflection to call the onEvent method?"},{"owner":{"account_id":16687011,"reputation":1,"user_id":12060631,"display_name":"ThisGuyAh"},"score":0,"creation_date":1695184849,"post_id":77136948,"comment_id":135988496,"body_markdown":"@DaveNewton the application is single-threaded atm for simplicity and due to OpenGL calls having to be called in the same thread associated with the context (usually the main thread). The question is more of - in the event of adding multi-threading for different components of the engine, what could be the problems that may arise when publishing an event in a different thread?","body":"@DaveNewton the application is single-threaded atm for simplicity and due to OpenGL calls having to be called in the same thread associated with the context (usually the main thread). The question is more of - in the event of adding multi-threading for different components of the engine, what could be the problems that may arise when publishing an event in a different thread?"},{"owner":{"account_id":16687011,"reputation":1,"user_id":12060631,"display_name":"ThisGuyAh"},"score":0,"creation_date":1695185005,"post_id":77136948,"comment_id":135988516,"body_markdown":"@Kayaman When an object is registered with the Event Bus instance, an Invocation object is created containing the above-registered object and its qualified event method as fields. Reflection is used to invoke the method.","body":"@Kayaman When an object is registered with the Event Bus instance, an Invocation object is created containing the above-registered object and its qualified event method as fields. Reflection is used to invoke the method."}],"owner":{"account_id":16687011,"reputation":1,"user_id":12060631,"display_name":"ThisGuyAh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695146615,"creation_date":1695146615,"question_id":77136948,"body_markdown":"I am writing a game engine using LWJGL (Java and OpenGL). I have written an event bus to provide a pub-sub pattern (similar to the Guava Event Bus). I have an application class (which is a singleton) that creates the event bus. When the client would like to be notified about an event, they simply grab the event bus instance from the application class and register their class to the bus. After that, within the registered class, any method annotated with @Event and containing the correct parameter gets called during the corresponding event.\r\n\r\nI am wondering what performance problems could possibly arise using this design, as well as multithreading problems.\r\n\r\nFor example:\r\n\r\n```\r\npublic class Foo {\r\n\r\n    public Foo() {\r\n        Application.getInstance().getEventBus().register(this);\r\n    }\r\n\r\n    @Event\r\n    public void onEvent(ApplicationUpdateEvent event) {\r\n        // Called when the application updates\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis design utilizes reflection to invoke the listening methods, so I&#39;m sure performance is lost there, especially during something like the above example - called in a loop every time the application updates.\r\n\r\nI am kind of unsure what type of multithreading problems could arise. Maybe events dispatched or handled on one thread and not another? ","title":"Possible Problems with Custom Java Event Bus for Multi-Threading and Performance","body":"<p>I am writing a game engine using LWJGL (Java and OpenGL). I have written an event bus to provide a pub-sub pattern (similar to the Guava Event Bus). I have an application class (which is a singleton) that creates the event bus. When the client would like to be notified about an event, they simply grab the event bus instance from the application class and register their class to the bus. After that, within the registered class, any method annotated with @Event and containing the correct parameter gets called during the corresponding event.</p>\n<p>I am wondering what performance problems could possibly arise using this design, as well as multithreading problems.</p>\n<p>For example:</p>\n<pre><code>public class Foo {\n\n    public Foo() {\n        Application.getInstance().getEventBus().register(this);\n    }\n\n    @Event\n    public void onEvent(ApplicationUpdateEvent event) {\n        // Called when the application updates\n    }\n\n}\n</code></pre>\n<p>This design utilizes reflection to invoke the listening methods, so I'm sure performance is lost there, especially during something like the above example - called in a loop every time the application updates.</p>\n<p>I am kind of unsure what type of multithreading problems could arise. Maybe events dispatched or handled on one thread and not another?</p>\n"},{"tags":["java","python-3.x","tabula-py"],"comments":[{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1695146133,"post_id":77135890,"comment_id":135984006,"body_markdown":"why dont you use python `help` or `dis` to see what your tabula-py module DOES have?  also what does java have to do with this?","body":"why dont you use python <code>help</code> or <code>dis</code> to see what your tabula-py module DOES have?  also what does java have to do with this?"},{"owner":{"account_id":14751077,"reputation":556,"user_id":10653163,"display_name":"Bal&#225;zs B&#246;rcs&#246;k"},"score":0,"creation_date":1695213410,"post_id":77135890,"comment_id":135993809,"body_markdown":"A better way to ask the question would that: how to use tabula to read a PDF in Python into a variable. You should first read the relevant tabula documentation: https://tabula-py.readthedocs.io/en/latest/ . Java is a different programming language and environment, please do not mix it with the original problem, they are unrelated.","body":"A better way to ask the question would that: how to use tabula to read a PDF in Python into a variable. You should first read the relevant tabula documentation: <a href=\"https://tabula-py.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">tabula-py.readthedocs.io/en/latest</a> . Java is a different programming language and environment, please do not mix it with the original problem, they are unrelated."},{"owner":{"account_id":11734819,"reputation":1,"user_id":8588990,"display_name":"Michael Kwapisz"},"score":0,"creation_date":1697050385,"post_id":77135890,"comment_id":136232034,"body_markdown":"When I installed tabula, it explicitly said it was dependent on Java.","body":"When I installed tabula, it explicitly said it was dependent on Java."}],"owner":{"account_id":11734819,"reputation":1,"user_id":8588990,"display_name":"Michael Kwapisz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695146089,"creation_date":1695136852,"question_id":77135890,"body_markdown":"I&#39;ve tried to get tabula-py to work, and followed different advised still it doesn&#39;t acknowledge that read_pdf exist, i.e i got the error message &quot;AttributeError: module &#39;tabula&#39; has no attribute &#39;read_pdf&#39;&quot; \r\n\r\nhere is the code snippet: \r\n\r\n```python\r\nimport tabula\r\n\r\ntab = tabula.read_pdf(path)\r\n```\r\n\r\nI have java installed: \r\n\r\njava version &quot;1.8.0_381&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_381-b09)\r\n\r\nI&#39;m running on a mac os. \r\n\r\nI tried to run `pip install tabula`, but as that was wrong apparently I ran `pip uninstall tabula` and then `pip install tabula-py`. \r\n\r\nI installed java using `brew install java`\r\n","title":"AttributeError: module &#39;tabula&#39; has no attribute &#39;read_pdf&#39;","body":"<p>I've tried to get tabula-py to work, and followed different advised still it doesn't acknowledge that read_pdf exist, i.e i got the error message &quot;AttributeError: module 'tabula' has no attribute 'read_pdf'&quot;</p>\n<p>here is the code snippet:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import tabula\n\ntab = tabula.read_pdf(path)\n</code></pre>\n<p>I have java installed:</p>\n<p>java version &quot;1.8.0_381&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_381-b09)</p>\n<p>I'm running on a mac os.</p>\n<p>I tried to run <code>pip install tabula</code>, but as that was wrong apparently I ran <code>pip uninstall tabula</code> and then <code>pip install tabula-py</code>.</p>\n<p>I installed java using <code>brew install java</code></p>\n"},{"tags":["java","spring","spring-boot","spring-data","atomikos"],"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695146056,"creation_date":1694882444,"question_id":77118694,"body_markdown":"**Background :** \r\n\r\nI am upgrading my spring boot project from 2.1 to 2.7+ to avoid security vulnerabilities and existing project used traditional way of creating spring bean object for database and transaction manager. Atomikos was older version and it was working fine with distributed transaction in parallel mode. \r\n\r\nIn 2.7+ we thought to use spring&#39;s suggested approach to configure atomikos and I configured data source configuration like below for all 3 MSSQL connections. \r\n\r\n**build.gradle dependency :**\r\n\r\n```\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n\timplementation group: &#39;com.atomikos&#39;, name: &#39;transactions-spring-boot-starter&#39;, version: &#39;5.0.9&#39;\r\n\timplementation group: &#39;com.atomikos&#39;, name: &#39;transactions-hibernate4&#39;, version: &#39;5.0.9&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    implementation &#39;org.springframework:spring-context&#39;\r\n    implementation &#39;org.springframework:spring-aop&#39;\r\n    implementation &#39;org.springframework:spring-orm&#39;\r\n    implementation &#39;org.springframework:spring-tx&#39;\r\n\r\n```\r\n\r\n**application.properties -** \r\n\r\n```\r\nNote d1 , d2, d3 are different database just a dummy name \r\nspring.jta.atomikos.datasource.d1.xaDataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerXADataSource\r\nspring.jta.atomikos.datasource.d1.uniqueResourceName=d1-database\r\nspring.jta.atomikos.datasource.d1.xaProperties.URL=xxxxxx\r\nspring.jta.atomikos.datasource.d1.xaProperties.user=xxxx\r\nspring.jta.atomikos.datasource.d1.xaProperties.password=xxxx\r\nspring.jta.atomikos.datasource.d1.max-pool-size=10\r\nspring.jta.atomikos.datasource.d1.pool-size=8\r\n\r\nspring.jta.atomikos.datasource.d2.xaDataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerXADataSource\r\nspring.jta.atomikos.datasource.d2.uniqueResourceName=d2-database\r\nspring.jta.atomikos.datasource.d2.xaProperties.URL=xxxxxx\r\nspring.jta.atomikos.datasource.d2.xaProperties.user=xxxx\r\nspring.jta.atomikos.datasource.d2.xaProperties.password=xxxx\r\nspring.jta.atomikos.datasource.d2.max-pool-size=10\r\nspring.jta.atomikos.datasource.d2.pool-size=8\r\n\r\nspring.jta.atomikos.datasource.xa-properties.AtomikosJtaPlatform.transactionManager=atomikosTransactionManager\r\n\r\n```\r\n**jta.properties on classpath**\r\n\r\n```\r\ncom.atomikos.icatch.output_dir=/home/dnom-java/atomikos/ \r\ncom.atomikos.icatch.log_base_dir=/home/dnom-java/atomikos/\r\ncom.atomikos.icatch.log_base_name=log-base-atomikos\r\natomikos.properties.max-timeout=600000\r\ncom.atomikos.icatch.max_timeout=600000\r\n\r\n```\r\n\r\n\r\n\r\nBelow is my java code configuration \r\n\r\n\r\n```\r\npublic class AtomikosJtaPlatform extends AbstractJtaPlatform {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tstatic TransactionManager transactionManager;\r\n\tstatic UserTransaction transaction;\r\n\r\n\t@Override\r\n\tprotected TransactionManager locateTransactionManager() {\r\n\t\treturn transactionManager;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected UserTransaction locateUserTransaction() {\r\n\t\treturn transaction;\r\n\t}\r\n}\r\n```\r\nAtmokiosConfig \r\n\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class AtomikosConfig {\r\n\t\r\n\t@Bean(name = &quot;txService&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;shutdownWait&quot;)\r\n\tpublic UserTransactionService userTransactionService() {\r\n\t\treturn new UserTransactionServiceImp();\r\n\t}\r\n\r\n\t@Bean(name = &quot;userTransaction&quot;)\r\n\tpublic UserTransaction userTransaction() throws Throwable {\r\n\t\tUserTransactionImp userTransactionImp = new UserTransactionImp();\r\n\t\tuserTransactionImp.setTransactionTimeout(600000);\r\n\t\treturn userTransactionImp;\r\n\t}\r\n\r\n\t@Bean(name = &quot;atomikosTransactionManager&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\r\n\tpublic TransactionManager atomikosTransactionManager() {\r\n\t\tUserTransactionManager userTransactionManager = new UserTransactionManager();\r\n\t\tuserTransactionManager.setForceShutdown(false);\r\n\t\tAtomikosJtaPlatform.transactionManager = userTransactionManager;\r\n\t\treturn userTransactionManager;\r\n\t}\r\n\r\n\t@Bean(name = &quot;atomikosTxMgr&quot;)\r\n\t@Primary\r\n\t@DependsOn({ &quot;userTransaction&quot;, &quot;atomikosTransactionManager&quot; })\r\n\tpublic PlatformTransactionManager transactionManager( ) throws Throwable {\r\n\t\tUserTransaction userTransaction = userTransaction();\r\n\t\tAtomikosJtaPlatform.transaction = userTransaction;\r\n\t\tTransactionManager atomikosTransactionManager = atomikosTransactionManager();\r\n\t\treturn new JtaTransactionManager(userTransaction, atomikosTransactionManager);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tPersistenceAnnotationBeanPostProcessor persistenceAnnotationBeanPostProcessor() {\r\n\t\treturn new PersistenceAnnotationBeanPostProcessor();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is my datasource configuration and it is same for d1, d2, d3. They all are similar just different config property \r\n\r\n\r\n```\r\n@Configuration\r\n@DependsOn(&quot;atomikosTxMgr&quot;)\r\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;d1DSFactory&quot;, transactionManagerRef = &quot;atomikosTxMgr&quot;)\r\npublic class D1DataSourceConfig {\r\n\r\n\t// Atomikos not accepting default spring jpa properties. These are work around using same default properties. \r\n\t@Value(&quot;${spring.jpa.show-sql}&quot;)\r\n\tString showSql;\r\n\r\n\t@Value(&quot;${spring.jpa.properties.hibernate.format_sql}&quot;)\r\n\tString formatSql;\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;spring.jta.atomikos.datasource.d1&quot;)\r\n\t@Primary\r\n\tpublic DataSource d1DS() {\r\n\t\treturn new AtomikosDataSourceBean();\r\n\t}\r\n\r\n\t@Bean(name = &quot;d1DSFactory&quot;)\r\n\t@DependsOn(&quot;atomikosTxMgr&quot;)\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean drsDSFactory(DataSource d1DS) {\r\n\t\tLocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n\t\temf.setPersistenceUnitName(&quot;D1&quot;);\r\n\t\temf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n\t\temf.setPackagesToScan(&quot;com.xyz.pqr.entity&quot;);\r\n\t\temf.setJtaDataSource(d1DS);\r\n\t\temf.setJpaPropertyMap(getJpaProperties());\r\n\t\treturn emf;\r\n\t}\r\n\r\n\tprivate Map&lt;String, Object&gt; getJpaProperties() {\r\n\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\r\n\t\tprops.put(&quot;hibernate.current_session_context_class&quot;, &quot;jta&quot;);\r\n\t\tprops.put(&quot;javax.persistence.transactionType&quot;, &quot;jta&quot;);\r\n    \t        props.put(&quot;hibernate.show_sql&quot;, showSql);\r\n\t\tprops.put(&quot;hibernate.format_sql&quot;, formatSql);\r\n\t\tprops.put(&quot;hibernate.transaction.jta.platform&quot;,  AtomikosJtaPlatform.class.getName());\r\n\t\tprops.put(&quot;hibernate.search.autoregister_listeners&quot;, false);\r\n\t\tprops.put(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\r\n\t\treturn props;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n**Service class** \r\n\r\n\t\r\n```\r\n\r\n@Service\r\npublic class CustomEventService { \r\n@PersistenceContext(unitName=&quot;d1-database&quot;)\r\n\tprivate EntityManager d1EntityManager;\r\n@PersistenceContext(unitName=&quot;d2-database&quot;)\r\n\tprivate EntityManager d2EntityManager;\r\n@PersistenceContext(unitName=&quot;d3-database&quot;)\r\n\tprivate EntityManager d3EntityManager;\r\n\r\n@Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\r\npublic void processIssueEvent(CustomEvent event) {\r\nTypedQuery&lt;CustomChangeEvent&gt; query = d1EntityManager.createNamedQuery(&quot;getUnprocessedChangeEvents&quot;,\r\n\t\t\t\tCustomChangeEvent.class);\r\n\t\tquery.setParameter(&quot;company&quot;, company);\r\n\t\tquery.setParameter(&quot;product&quot;, product)\r\n\t\tList&lt;CustomChangeEvent&gt; unprocessedChangeEvents = query.getResultList();\r\n}\r\n}\r\n\t\t// more methods having call to d2, and d3 databse. \r\n\r\n```\r\n\r\n\r\n\r\nwhen I start my application below it property that gets printed on console \r\n\r\n\r\n``` \r\n\r\nUSING: com.atomikos.icatch.tm_unique_name = 127.0.0.1.tm\r\nUSING: com.atomikos.icatch.default_jta_timeout = 10000\r\nUSING: com.atomikos.icatch.serial_jta_transactions = true\r\nUSING: java.naming.factory.initial = com.sun.jndi.rmi.registry.RegistryContextFactory\r\nUSING: com.atomikos.icatch.oltp_retry_interval = 10000\r\nUSING: java.naming.provider.url = rmi://localhost:1099\r\nUSING: com.atomikos.icatch.checkpoint_interval = 500\r\nUSING: com.atomikos.icatch.client_demarcation = false\r\nUSING: com.atomikos.icatch.trust_client_tm = false\r\nUSING: com.atomikos.icatch.force_shutdown_on_vm_exit = false\r\nUSING: com.atomikos.icatch.rmi_export_class = none\r\nUSING: com.atomikos.icatch.enable_logging = true\r\nUSING: atomikos.properties.max-timeout = 600000\r\nUSING: com.atomikos.icatch.max_timeout = 600000\r\nUSING: com.atomikos.icatch.oltp_max_retries = 5\r\nUSING: com.atomikos.icatch.log_base_dir = /home/dnom-java/atomikos/\r\nUSING: com.atomikos.icatch.allow_subtransactions = true\r\nUSING: com.atomikos.icatch.automatic_resource_registration = true\r\nUSING: com.atomikos.icatch.log_base_name = log-base-atomikos\r\nUSING: com.atomikos.icatch.default_max_wait_time_on_shutdown = 9223372036854775807\r\nUSING: com.atomikos.icatch.forget_orphaned_log_entries_delay = 86400000\r\nUSING: com.atomikos.icatch.output_dir = /home/dnom-java/atomikos/\r\nUSING: com.atomikos.icatch.threaded_2pc = false\r\nUSING: com.atomikos.icatch.recovery_delay = 10000\r\nUSING: com.atomikos.icatch.max_actives = 50\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Problem:**  \r\nWhen I run below code into a different service class with `parallel()` then it throws error. However without `parallel()` Everything just works fine. We need to bring `parallel()` processing either using `parallel()` or spring `@Async` at job is taking outs to finish it is is sequential.  \r\nTried multiple approaches but none of them worked. \r\n\r\n\r\n```\r\nunprocessedEvents.stream().parallel().forEach(unprocessedEvent -&gt; customEventService.processIssueEvent(unprocessedEvent )); \r\n```\r\n\r\nError: when I added `@Async` or `parallel()`\r\n\r\n```\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute query\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2871) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat com.pm.policydiaries.jobs.service.dao.impl.InsproDaoImpl.getActivePolicyIssueDentalPolicy(InsproDaoImpl.java:166) ~[main/:na]\r\n\tat com.pm.policydiaries.jobs.service.dao.impl.InsproDaoImpl$$FastClassBySpringCGLIB$$9524048f.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\t... 30 common frames omitted\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The Microsoft Distributed Transaction Coordinator (MS DTC) has cancelled the distributed transaction.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262) ~[mssql-jdbc-8.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerResultSet$FetchBuffer.nextRow(SQLServerResultSet.java:5431) ~[mssql-jdbc-8.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.fetchBufferNext(SQLServerResultSet.java:1770) ~[mssql-jdbc-8.2.0.jre11.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.next(SQLServerResultSet.java:1028) ~[mssql-jdbc-8.2.0.jre11.jar:na]\r\n\tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1043) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried enabling `@Async` and customer thread of 5 thread run the service method of `@Async` on top of it. That also gave me the same error. \r\n\r\nAny help is appreciated. ","title":"Atomikos integration with spring parallel processing throwing error","body":"<p><strong>Background :</strong></p>\n<p>I am upgrading my spring boot project from 2.1 to 2.7+ to avoid security vulnerabilities and existing project used traditional way of creating spring bean object for database and transaction manager. Atomikos was older version and it was working fine with distributed transaction in parallel mode.</p>\n<p>In 2.7+ we thought to use spring's suggested approach to configure atomikos and I configured data source configuration like below for all 3 MSSQL connections.</p>\n<p><strong>build.gradle dependency :</strong></p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-batch'\n    implementation group: 'com.atomikos', name: 'transactions-spring-boot-starter', version: '5.0.9'\n    implementation group: 'com.atomikos', name: 'transactions-hibernate4', version: '5.0.9'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework:spring-context'\n    implementation 'org.springframework:spring-aop'\n    implementation 'org.springframework:spring-orm'\n    implementation 'org.springframework:spring-tx'\n\n</code></pre>\n<p><strong>application.properties -</strong></p>\n<pre><code>Note d1 , d2, d3 are different database just a dummy name \nspring.jta.atomikos.datasource.d1.xaDataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerXADataSource\nspring.jta.atomikos.datasource.d1.uniqueResourceName=d1-database\nspring.jta.atomikos.datasource.d1.xaProperties.URL=xxxxxx\nspring.jta.atomikos.datasource.d1.xaProperties.user=xxxx\nspring.jta.atomikos.datasource.d1.xaProperties.password=xxxx\nspring.jta.atomikos.datasource.d1.max-pool-size=10\nspring.jta.atomikos.datasource.d1.pool-size=8\n\nspring.jta.atomikos.datasource.d2.xaDataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerXADataSource\nspring.jta.atomikos.datasource.d2.uniqueResourceName=d2-database\nspring.jta.atomikos.datasource.d2.xaProperties.URL=xxxxxx\nspring.jta.atomikos.datasource.d2.xaProperties.user=xxxx\nspring.jta.atomikos.datasource.d2.xaProperties.password=xxxx\nspring.jta.atomikos.datasource.d2.max-pool-size=10\nspring.jta.atomikos.datasource.d2.pool-size=8\n\nspring.jta.atomikos.datasource.xa-properties.AtomikosJtaPlatform.transactionManager=atomikosTransactionManager\n\n</code></pre>\n<p><strong>jta.properties on classpath</strong></p>\n<pre><code>com.atomikos.icatch.output_dir=/home/dnom-java/atomikos/ \ncom.atomikos.icatch.log_base_dir=/home/dnom-java/atomikos/\ncom.atomikos.icatch.log_base_name=log-base-atomikos\natomikos.properties.max-timeout=600000\ncom.atomikos.icatch.max_timeout=600000\n\n</code></pre>\n<p>Below is my java code configuration</p>\n<pre><code>public class AtomikosJtaPlatform extends AbstractJtaPlatform {\n\n    private static final long serialVersionUID = 1L;\n\n    static TransactionManager transactionManager;\n    static UserTransaction transaction;\n\n    @Override\n    protected TransactionManager locateTransactionManager() {\n        return transactionManager;\n    }\n\n    @Override\n    protected UserTransaction locateUserTransaction() {\n        return transaction;\n    }\n}\n</code></pre>\n<p>AtmokiosConfig</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class AtomikosConfig {\n    \n    @Bean(name = &quot;txService&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;shutdownWait&quot;)\n    public UserTransactionService userTransactionService() {\n        return new UserTransactionServiceImp();\n    }\n\n    @Bean(name = &quot;userTransaction&quot;)\n    public UserTransaction userTransaction() throws Throwable {\n        UserTransactionImp userTransactionImp = new UserTransactionImp();\n        userTransactionImp.setTransactionTimeout(600000);\n        return userTransactionImp;\n    }\n\n    @Bean(name = &quot;atomikosTransactionManager&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\n    public TransactionManager atomikosTransactionManager() {\n        UserTransactionManager userTransactionManager = new UserTransactionManager();\n        userTransactionManager.setForceShutdown(false);\n        AtomikosJtaPlatform.transactionManager = userTransactionManager;\n        return userTransactionManager;\n    }\n\n    @Bean(name = &quot;atomikosTxMgr&quot;)\n    @Primary\n    @DependsOn({ &quot;userTransaction&quot;, &quot;atomikosTransactionManager&quot; })\n    public PlatformTransactionManager transactionManager( ) throws Throwable {\n        UserTransaction userTransaction = userTransaction();\n        AtomikosJtaPlatform.transaction = userTransaction;\n        TransactionManager atomikosTransactionManager = atomikosTransactionManager();\n        return new JtaTransactionManager(userTransaction, atomikosTransactionManager);\n    }\n    \n    @Bean\n    PersistenceAnnotationBeanPostProcessor persistenceAnnotationBeanPostProcessor() {\n        return new PersistenceAnnotationBeanPostProcessor();\n    }\n\n}\n</code></pre>\n<p>Here is my datasource configuration and it is same for d1, d2, d3. They all are similar just different config property</p>\n<pre><code>@Configuration\n@DependsOn(&quot;atomikosTxMgr&quot;)\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;d1DSFactory&quot;, transactionManagerRef = &quot;atomikosTxMgr&quot;)\npublic class D1DataSourceConfig {\n\n    // Atomikos not accepting default spring jpa properties. These are work around using same default properties. \n    @Value(&quot;${spring.jpa.show-sql}&quot;)\n    String showSql;\n\n    @Value(&quot;${spring.jpa.properties.hibernate.format_sql}&quot;)\n    String formatSql;\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.jta.atomikos.datasource.d1&quot;)\n    @Primary\n    public DataSource d1DS() {\n        return new AtomikosDataSourceBean();\n    }\n\n    @Bean(name = &quot;d1DSFactory&quot;)\n    @DependsOn(&quot;atomikosTxMgr&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean drsDSFactory(DataSource d1DS) {\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n        emf.setPersistenceUnitName(&quot;D1&quot;);\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        emf.setPackagesToScan(&quot;com.xyz.pqr.entity&quot;);\n        emf.setJtaDataSource(d1DS);\n        emf.setJpaPropertyMap(getJpaProperties());\n        return emf;\n    }\n\n    private Map&lt;String, Object&gt; getJpaProperties() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\n        props.put(&quot;hibernate.current_session_context_class&quot;, &quot;jta&quot;);\n        props.put(&quot;javax.persistence.transactionType&quot;, &quot;jta&quot;);\n                props.put(&quot;hibernate.show_sql&quot;, showSql);\n        props.put(&quot;hibernate.format_sql&quot;, formatSql);\n        props.put(&quot;hibernate.transaction.jta.platform&quot;,  AtomikosJtaPlatform.class.getName());\n        props.put(&quot;hibernate.search.autoregister_listeners&quot;, false);\n        props.put(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\n        return props;\n    }\n}\n\n</code></pre>\n<p><strong>Service class</strong></p>\n<pre><code>\n@Service\npublic class CustomEventService { \n@PersistenceContext(unitName=&quot;d1-database&quot;)\n    private EntityManager d1EntityManager;\n@PersistenceContext(unitName=&quot;d2-database&quot;)\n    private EntityManager d2EntityManager;\n@PersistenceContext(unitName=&quot;d3-database&quot;)\n    private EntityManager d3EntityManager;\n\n@Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\npublic void processIssueEvent(CustomEvent event) {\nTypedQuery&lt;CustomChangeEvent&gt; query = d1EntityManager.createNamedQuery(&quot;getUnprocessedChangeEvents&quot;,\n                CustomChangeEvent.class);\n        query.setParameter(&quot;company&quot;, company);\n        query.setParameter(&quot;product&quot;, product)\n        List&lt;CustomChangeEvent&gt; unprocessedChangeEvents = query.getResultList();\n}\n}\n        // more methods having call to d2, and d3 databse. \n\n</code></pre>\n<p>when I start my application below it property that gets printed on console</p>\n<pre><code>\nUSING: com.atomikos.icatch.tm_unique_name = 127.0.0.1.tm\nUSING: com.atomikos.icatch.default_jta_timeout = 10000\nUSING: com.atomikos.icatch.serial_jta_transactions = true\nUSING: java.naming.factory.initial = com.sun.jndi.rmi.registry.RegistryContextFactory\nUSING: com.atomikos.icatch.oltp_retry_interval = 10000\nUSING: java.naming.provider.url = rmi://localhost:1099\nUSING: com.atomikos.icatch.checkpoint_interval = 500\nUSING: com.atomikos.icatch.client_demarcation = false\nUSING: com.atomikos.icatch.trust_client_tm = false\nUSING: com.atomikos.icatch.force_shutdown_on_vm_exit = false\nUSING: com.atomikos.icatch.rmi_export_class = none\nUSING: com.atomikos.icatch.enable_logging = true\nUSING: atomikos.properties.max-timeout = 600000\nUSING: com.atomikos.icatch.max_timeout = 600000\nUSING: com.atomikos.icatch.oltp_max_retries = 5\nUSING: com.atomikos.icatch.log_base_dir = /home/dnom-java/atomikos/\nUSING: com.atomikos.icatch.allow_subtransactions = true\nUSING: com.atomikos.icatch.automatic_resource_registration = true\nUSING: com.atomikos.icatch.log_base_name = log-base-atomikos\nUSING: com.atomikos.icatch.default_max_wait_time_on_shutdown = 9223372036854775807\nUSING: com.atomikos.icatch.forget_orphaned_log_entries_delay = 86400000\nUSING: com.atomikos.icatch.output_dir = /home/dnom-java/atomikos/\nUSING: com.atomikos.icatch.threaded_2pc = false\nUSING: com.atomikos.icatch.recovery_delay = 10000\nUSING: com.atomikos.icatch.max_actives = 50\n\n</code></pre>\n<p><strong>Problem:</strong><br />\nWhen I run below code into a different service class with <code>parallel()</code> then it throws error. However without <code>parallel()</code> Everything just works fine. We need to bring <code>parallel()</code> processing either using <code>parallel()</code> or spring <code>@Async</code> at job is taking outs to finish it is is sequential.<br />\nTried multiple approaches but none of them worked.</p>\n<pre><code>unprocessedEvents.stream().parallel().forEach(unprocessedEvent -&gt; customEventService.processIssueEvent(unprocessedEvent )); \n</code></pre>\n<p>Error: when I added <code>@Async</code> or <code>parallel()</code></p>\n<pre><code>    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute query\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2871) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at com.pm.policydiaries.jobs.service.dao.impl.InsproDaoImpl.getActivePolicyIssueDentalPolicy(InsproDaoImpl.java:166) ~[main/:na]\n    at com.pm.policydiaries.jobs.service.dao.impl.InsproDaoImpl$$FastClassBySpringCGLIB$$9524048f.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\n    ... 30 common frames omitted\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The Microsoft Distributed Transaction Coordinator (MS DTC) has cancelled the distributed transaction.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:262) ~[mssql-jdbc-8.2.0.jre11.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet$FetchBuffer.nextRow(SQLServerResultSet.java:5431) ~[mssql-jdbc-8.2.0.jre11.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.fetchBufferNext(SQLServerResultSet.java:1770) ~[mssql-jdbc-8.2.0.jre11.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.next(SQLServerResultSet.java:1028) ~[mssql-jdbc-8.2.0.jre11.jar:na]\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1043) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n</code></pre>\n<p>I tried enabling <code>@Async</code> and customer thread of 5 thread run the service method of <code>@Async</code> on top of it. That also gave me the same error.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695125009,"post_id":77134373,"comment_id":135979553,"body_markdown":"What happens, if you remove `@ResponseStatus(value = HttpStatus.NO_CONTENT)`?","body":"What happens, if you remove <code>@ResponseStatus(value = HttpStatus.NO_CONTENT)</code>?"},{"owner":{"account_id":28902927,"reputation":1,"user_id":22137466,"display_name":"ham_ben"},"score":0,"creation_date":1695129225,"post_id":77134373,"comment_id":135980426,"body_markdown":"same behaviour, I already tried that :)","body":"same behaviour, I already tried that :)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695129379,"post_id":77134373,"comment_id":135980451,"body_markdown":"Do you have an addition Endpoint `  @DeleteMapping(&quot;/&quot;)` in one of your controller?","body":"Do you have an addition Endpoint `  @DeleteMapping(&quot;/&quot;)` in one of your controller?"},{"owner":{"account_id":28902927,"reputation":1,"user_id":22137466,"display_name":"ham_ben"},"score":0,"creation_date":1695145900,"post_id":77134373,"comment_id":135983973,"body_markdown":"nope, I have 2 endpoints in my controller : @DeleteMapping(&quot;/{userId}&quot;) and @GetMapping(&quot;/{userId}&quot;)","body":"nope, I have 2 endpoints in my controller : @DeleteMapping(&quot;/{userId}&quot;) and @GetMapping(&quot;/{userId}&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":28902927,"reputation":1,"user_id":22137466,"display_name":"ham_ben"},"score":0,"creation_date":1695129505,"post_id":77134488,"comment_id":135980488,"body_markdown":"No, I only have one get endpoint (which has userId path variable.\nI don&#39;t have \n@GetMapping(&quot;/&quot;)   public DTO get1() {\n    ...   }","body":"No, I only have one get endpoint (which has userId path variable. I don&#39;t have  @GetMapping(&quot;/&quot;)   public DTO get1() {     ...   }"}],"tags":[],"owner":{"account_id":10451900,"reputation":153,"user_id":7705239,"display_name":"walidum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695125833,"creation_date":1695125833,"answer_id":77134488,"question_id":77134373,"body_markdown":"I think you have tow endpoints like this  : \r\n\r\n    @GetMapping(&quot;/&quot;)   public DTO get1() {\r\n        ...   }\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)   public DTO get2() String userId) {\r\n        ...   }\r\n\r\nAnd when you call your endpoint @GetMapping(&quot;/{userId}&quot;) without userId, it make the same call for the first endpoint.","title":"Spring Rest Delete endpoint with empty path variable","body":"<p>I think you have tow endpoints like this  :</p>\n<pre><code>@GetMapping(&quot;/&quot;)   public DTO get1() {\n    ...   }\n\n@GetMapping(&quot;/{userId}&quot;)   public DTO get2() String userId) {\n    ...   }\n</code></pre>\n<p>And when you call your endpoint @GetMapping(&quot;/{userId}&quot;) without userId, it make the same call for the first endpoint.</p>\n"}],"owner":{"account_id":28902927,"reputation":1,"user_id":22137466,"display_name":"ham_ben"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695145931,"creation_date":1695124742,"question_id":77134373,"body_markdown":"I have two endpoints in my rest controller : \r\n\r\n      @GetMapping(&quot;/{userId}&quot;)\r\n      public DTO get(@PathVariable @Parameter(description = &quot;user ID&quot;) String userId) {\r\n        ...\r\n      }\r\n    \r\n      @DeleteMapping(&quot;/{userId}&quot;)\r\n      @ResponseStatus(value = HttpStatus.NO_CONTENT)\r\n      public void delete(@PathVariable @Parameter(description = &quot;user ID&quot;) String userId) {\r\n        ...\r\n      }`\r\n\r\nIf I call the GET endpoint with an empty userId, it fails and returns a `BadRequestException` which makes sense.\r\n\r\nBut if I call the DELETE endpoint with an empty userId, it does not raise a `BadRequestException` but rather gets inside the endpoint&#39;s code.\r\n\r\n\r\n\r\n\r\nShould I change anything to have the same behaviour for the two endpoints ?\r\nWhy is there a difference in the way Spring handles the empty path variables ?\r\n\r\nThank you.\r\n","title":"Spring Rest Delete endpoint with empty path variable","body":"<p>I have two endpoints in my rest controller :</p>\n<pre><code>  @GetMapping(&quot;/{userId}&quot;)\n  public DTO get(@PathVariable @Parameter(description = &quot;user ID&quot;) String userId) {\n    ...\n  }\n\n  @DeleteMapping(&quot;/{userId}&quot;)\n  @ResponseStatus(value = HttpStatus.NO_CONTENT)\n  public void delete(@PathVariable @Parameter(description = &quot;user ID&quot;) String userId) {\n    ...\n  }`\n</code></pre>\n<p>If I call the GET endpoint with an empty userId, it fails and returns a <code>BadRequestException</code> which makes sense.</p>\n<p>But if I call the DELETE endpoint with an empty userId, it does not raise a <code>BadRequestException</code> but rather gets inside the endpoint's code.</p>\n<p>Should I change anything to have the same behaviour for the two endpoints ?\nWhy is there a difference in the way Spring handles the empty path variables ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","mysql","spring-boot","performance","data-structures"],"answers":[{"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":1,"creation_date":1695145657,"post_id":77134468,"comment_id":135983941,"body_markdown":"Unless you have a million rows, you will be hard-pressed to measure the speed difference between DISTINCT, SET, and LIST.  So, use the KISS principle -- DISTINCT is a single word.","body":"Unless you have a million rows, you will be hard-pressed to measure the speed difference between DISTINCT, SET, and LIST.  So, use the KISS principle -- DISTINCT is a single word."},{"owner":{"account_id":29481751,"reputation":1,"user_id":22592458,"display_name":"Shark Mouse"},"score":0,"creation_date":1695174539,"post_id":77134468,"comment_id":135987734,"body_markdown":"sounds like good","body":"sounds like good"},{"owner":{"account_id":29481225,"reputation":1,"user_id":22591999,"display_name":"icenerd"},"score":0,"creation_date":1695276185,"post_id":77134468,"comment_id":136003216,"body_markdown":"this makes sense, but I am more interested in knowing how DISTINCT works behind the hood and how Java Creates a set behind the hood and what benchmarks should I look for.","body":"this makes sense, but I am more interested in knowing how DISTINCT works behind the hood and how Java Creates a set behind the hood and what benchmarks should I look for."}],"tags":[],"owner":{"account_id":29481751,"reputation":1,"user_id":22592458,"display_name":"Shark Mouse"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695125658,"creation_date":1695125658,"answer_id":77134468,"question_id":77133984,"body_markdown":"In database queries, the efficiency of using the DISTINCT keyword is often relatively low because it requires sorting and deduplication of the result set. If the data volume is large, this operation may consume more time and resources.\r\n\r\nIn contrast, using Set to receive query results is more efficient because Set has the feature of automatic deduplication. It can perform deduplication operations directly in memory without the need to sort the entire result set.\r\n\r\nSo from an efficiency perspective, using Set to receive query results may be more efficient. However, it should be noted that using Set will lose the order of query results. If you need to preserve the order of query results, please use List. If the data volume is small, using Distinct will not have a significant impact on performance.\r\n\r\nOverall, if you don&#39;t have high requirements for the order of the results and the amount of data is not particularly large, you can try using Set to receive query results for higher efficiency. If there are requirements for the order of the results or if the data volume is large, it is recommended to use a List to receive the results after deduplication.\r\n","title":"Which is more optimised making DISTINCT query in MySQL to get unique results or generate a set?","body":"<p>In database queries, the efficiency of using the DISTINCT keyword is often relatively low because it requires sorting and deduplication of the result set. If the data volume is large, this operation may consume more time and resources.</p>\n<p>In contrast, using Set to receive query results is more efficient because Set has the feature of automatic deduplication. It can perform deduplication operations directly in memory without the need to sort the entire result set.</p>\n<p>So from an efficiency perspective, using Set to receive query results may be more efficient. However, it should be noted that using Set will lose the order of query results. If you need to preserve the order of query results, please use List. If the data volume is small, using Distinct will not have a significant impact on performance.</p>\n<p>Overall, if you don't have high requirements for the order of the results and the amount of data is not particularly large, you can try using Set to receive query results for higher efficiency. If there are requirements for the order of the results or if the data volume is large, it is recommended to use a List to receive the results after deduplication.</p>\n"},{"comments":[{"owner":{"account_id":29481225,"reputation":1,"user_id":22591999,"display_name":"icenerd"},"score":0,"creation_date":1695276829,"post_id":77136788,"comment_id":136003302,"body_markdown":"ORDER BY dateCreated is required as per the defined logic and I do have an index compound index on *aocParsingStatus, dateCreated*","body":"ORDER BY dateCreated is required as per the defined logic and I do have an index compound index on <i>aocParsingStatus, dateCreated</i>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1695317849,"post_id":77136788,"comment_id":136011783,"body_markdown":"Changing that index to the 3-column I suggested would give a slight extra boost by being a &quot;covering&quot; index.","body":"Changing that index to the 3-column I suggested would give a slight extra boost by being a &quot;covering&quot; index."}],"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695145452,"creation_date":1695145084,"answer_id":77136788,"question_id":77133984,"body_markdown":"This composite index should help performance significantly:\r\n\r\n    INDEX(aocParsingStatus, dateCreated, aocDetailId)\r\n\r\nThe two queries you present are not equivalent.\r\n\r\n    SELECT DISTINCT d\r\n\r\npotentially returns a &#39;short&#39; list of different values of `d`.  It is slower because of having to de-dup.\r\n\r\n    SELECT d\r\n\r\nreturn all values, even duplicates.  It is slower because of returning more rows.\r\n\r\nMaybe this is what you want?\r\n\r\n    SELECT  a.aocDetailId\r\n        FROM  aocParsedDetail a\r\n        WHERE  a.dateCreated &gt;= ?1\r\n          AND  a.aocParsingStatus = ?2\r\n        LIMIT 1\r\n\r\nThis will always be as fast or faster than either of the other formulations, but it returns only one value for `aocDetailId` that matches the `WHEREs`.  This is especially useful if expect only one distinct value or want simply &quot;any&quot; value.\r\n\r\nIf you are expecting multiple different values, then simply remove the `ORDER BY` from your first query:\r\n\r\n    SELECT  DISTINCT a.aocDetailId\r\n        FROM  aocParsedDetail a\r\n        WHERE  a.dateCreated &gt;= ?1\r\n          AND  a.aocParsingStatus = ?2\r\n\r\n`ORDER BY dateCreated` is useless.  You might want `ORDER BY aocDetailId`.\r\n\r\nMorale of this discussion:\r\n\r\n1. Focus on getting the desired result\r\n2. `ADD INDEX(...)`, if necessary, for performance\r\n\r\n(My index suggestion works will for all variants discussed above.)\r\n\r\n","title":"Which is more optimised making DISTINCT query in MySQL to get unique results or generate a set?","body":"<p>This composite index should help performance significantly:</p>\n<pre><code>INDEX(aocParsingStatus, dateCreated, aocDetailId)\n</code></pre>\n<p>The two queries you present are not equivalent.</p>\n<pre><code>SELECT DISTINCT d\n</code></pre>\n<p>potentially returns a 'short' list of different values of <code>d</code>.  It is slower because of having to de-dup.</p>\n<pre><code>SELECT d\n</code></pre>\n<p>return all values, even duplicates.  It is slower because of returning more rows.</p>\n<p>Maybe this is what you want?</p>\n<pre><code>SELECT  a.aocDetailId\n    FROM  aocParsedDetail a\n    WHERE  a.dateCreated &gt;= ?1\n      AND  a.aocParsingStatus = ?2\n    LIMIT 1\n</code></pre>\n<p>This will always be as fast or faster than either of the other formulations, but it returns only one value for <code>aocDetailId</code> that matches the <code>WHEREs</code>.  This is especially useful if expect only one distinct value or want simply &quot;any&quot; value.</p>\n<p>If you are expecting multiple different values, then simply remove the <code>ORDER BY</code> from your first query:</p>\n<pre><code>SELECT  DISTINCT a.aocDetailId\n    FROM  aocParsedDetail a\n    WHERE  a.dateCreated &gt;= ?1\n      AND  a.aocParsingStatus = ?2\n</code></pre>\n<p><code>ORDER BY dateCreated</code> is useless.  You might want <code>ORDER BY aocDetailId</code>.</p>\n<p>Morale of this discussion:</p>\n<ol>\n<li>Focus on getting the desired result</li>\n<li><code>ADD INDEX(...)</code>, if necessary, for performance</li>\n</ol>\n<p>(My index suggestion works will for all variants discussed above.)</p>\n"}],"owner":{"account_id":29481225,"reputation":1,"user_id":22591999,"display_name":"icenerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1695145452,"creation_date":1695121385,"question_id":77133984,"body_markdown":"I am trying to fetch unique aocDetailIds in spring boot should I use distinct keyword(Code Block 1)  or should I create a SET of strings(Code Block 2) , which will be more optimised ? \r\n\r\n\r\n\r\n```\r\n@Query(value = &quot;SELECT DISTINCT a.aocDetailId FROM aocParsedDetail a WHERE a.dateCreated &gt;= ?1 AND a.aocParsingStatus = ?2 ORDER BY a.dateCreated&quot;)\r\nList&lt;String&gt; findAocParsedDetailIdsOrderByDateCreated(@NotNull long dateCreated, EventStatus aocParsingStatus);\r\n```\r\n\r\n```\r\n@Query(value = &quot;SELECT a.aocDetailId FROM aocParsedDetail a WHERE a.dateCreated &gt;= ?1 AND a.aocParsingStatus = ?2 ORDER BY a.dateCreated&quot;)\r\nSet&lt;String&gt; findAocParsedDetailIdsOrderByDateCreated(@NotNull long dateCreated, EventStatus aocParsingStatus);\r\n```","title":"Which is more optimised making DISTINCT query in MySQL to get unique results or generate a set?","body":"<p>I am trying to fetch unique aocDetailIds in spring boot should I use distinct keyword(Code Block 1)  or should I create a SET of strings(Code Block 2) , which will be more optimised ?</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT a.aocDetailId FROM aocParsedDetail a WHERE a.dateCreated &gt;= ?1 AND a.aocParsingStatus = ?2 ORDER BY a.dateCreated&quot;)\nList&lt;String&gt; findAocParsedDetailIdsOrderByDateCreated(@NotNull long dateCreated, EventStatus aocParsingStatus);\n</code></pre>\n<pre><code>@Query(value = &quot;SELECT a.aocDetailId FROM aocParsedDetail a WHERE a.dateCreated &gt;= ?1 AND a.aocParsingStatus = ?2 ORDER BY a.dateCreated&quot;)\nSet&lt;String&gt; findAocParsedDetailIdsOrderByDateCreated(@NotNull long dateCreated, EventStatus aocParsingStatus);\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1695144984,"post_id":77136731,"comment_id":135983815,"body_markdown":"`arr` isn&#39;t an instance of the `Arrays` class.  It&#39;s an instance of `int[]`.","body":"<code>arr</code> isn&#39;t an instance of the <code>Arrays</code> class.  It&#39;s an instance of <code>int[]</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695145749,"post_id":77136731,"comment_id":135983957,"body_markdown":"and `int[]` or any other array type (unfortunately) do not override `equals()`","body":"and <code>int[]</code> or any other array type (unfortunately) do not override <code>equals()</code>"}],"owner":{"account_id":29484155,"reputation":1,"user_id":22594454,"display_name":"Ajay Subramaniam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695145269,"answer_count":0,"score":0,"last_activity_date":1695144970,"creation_date":1695144652,"question_id":77136731,"body_markdown":"\r\n```\r\nint[] arr={1,2,3};\r\nint[] arr1={1,2,3};\r\nSystem.out.print(arr.equals(arr1));//false\r\n```\r\n\r\nWhen I use arr.equals(arr1) .equals() of Object.class is called instead of Arrays.class why????\r\nif .equals() of Arrays.class is called it could have checked the content,since they are equal.It returns  true.","title":"why the equals method of object class is called instead of Arrays class while working with arrays","body":"<pre><code>int[] arr={1,2,3};\nint[] arr1={1,2,3};\nSystem.out.print(arr.equals(arr1));//false\n</code></pre>\n<p>When I use arr.equals(arr1) .equals() of Object.class is called instead of Arrays.class why????\nif .equals() of Arrays.class is called it could have checked the content,since they are equal.It returns  true.</p>\n"},{"tags":["java","grpc","netty"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1695145077,"post_id":77136758,"comment_id":135983830,"body_markdown":"It looks like there are limits to what Netty can support that are below `Integer.MAX_VALUE`.  You may have to figure out a way to use smaller messages, e.g. by streaming smaller messages","body":"It looks like there are limits to what Netty can support that are below <code>Integer.MAX_VALUE</code>.  You may have to figure out a way to use smaller messages, e.g. by streaming smaller messages"},{"owner":{"account_id":14079892,"reputation":1616,"user_id":10171211,"display_name":"Seb"},"score":0,"creation_date":1695148691,"post_id":77136758,"comment_id":135984362,"body_markdown":"@LouisWasserman tried with smaller values as well, close to 4MB, but even then it fails with the limit `4194304`.","body":"@LouisWasserman tried with smaller values as well, close to 4MB, but even then it fails with the limit <code>4194304</code>."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1695152584,"post_id":77136758,"comment_id":135984942,"body_markdown":"This doesn&#39;t appear to be a grpc-java error. It looks to be from Swift. https://github.com/grpc/grpc-swift/blob/84bac657e9930d26e9124bac082f26586dc2d209/Sources/GRPC/GRPCError.swift#L100 That doesn&#39;t quite make sense to me. Does it make sense to you? It&#39;d help to have more of the stack trace.","body":"This doesn&#39;t appear to be a grpc-java error. It looks to be from Swift. <a href=\"https://github.com/grpc/grpc-swift/blob/84bac657e9930d26e9124bac082f26586dc2d209/Sources/GRPC/GRPCError.swift#L100\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-swift/blob/&hellip;</a> That doesn&#39;t quite make sense to me. Does it make sense to you? It&#39;d help to have more of the stack trace."}],"owner":{"account_id":14079892,"reputation":1616,"user_id":10171211,"display_name":"Seb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695144831,"creation_date":1695144831,"question_id":77136758,"body_markdown":"Using: \r\n```java\r\nserver = ServerBuilder.forPort(port)\r\n    .addService(new MyGRPC())\r\n    .maxInboundMessageSize(Integer.MAX_VALUE)\r\n    .build()\r\n    .start();\r\n```\r\n\r\nwith gradle and package versions: \r\n```grade\r\ndef grpcVersion = &quot;1.51.0&quot;\r\n\r\ndependencies {\r\n    implementation &quot;io.grpc:grpc-protobuf:${grpcVersion}&quot;\r\n    implementation &quot;io.grpc:grpc-stub:${grpcVersion}&quot;\r\n    ...\r\n}\r\n```\r\n\r\nBut sending payloads fail with: \r\n```\r\n23/09/19 19:28:25 WARN NettyServerHandler: Stream Error\r\nError info: Payload length exceeds limit (40000013 &gt; 4194304)\r\n```","title":"java grpc ignores `maxInboundMessageSize` and fails when payload bigger than 4194304","body":"<p>Using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>server = ServerBuilder.forPort(port)\n    .addService(new MyGRPC())\n    .maxInboundMessageSize(Integer.MAX_VALUE)\n    .build()\n    .start();\n</code></pre>\n<p>with gradle and package versions:</p>\n<pre><code>def grpcVersion = &quot;1.51.0&quot;\n\ndependencies {\n    implementation &quot;io.grpc:grpc-protobuf:${grpcVersion}&quot;\n    implementation &quot;io.grpc:grpc-stub:${grpcVersion}&quot;\n    ...\n}\n</code></pre>\n<p>But sending payloads fail with:</p>\n<pre><code>23/09/19 19:28:25 WARN NettyServerHandler: Stream Error\nError info: Payload length exceeds limit (40000013 &gt; 4194304)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":3,"creation_date":1502194865,"post_id":45568215,"comment_id":78095465,"body_markdown":"Where you increment you loop?","body":"Where you increment you loop?"},{"owner":{"account_id":2642776,"reputation":1456,"user_id":2286108,"accept_rate":76,"display_name":"Thomas B&#246;hm"},"score":0,"creation_date":1502195075,"post_id":45568215,"comment_id":78095658,"body_markdown":"You write about a for-loop that is not in the code you posted. please extend your example.","body":"You write about a for-loop that is not in the code you posted. please extend your example."},{"owner":{"account_id":5796398,"reputation":1310,"user_id":6242828,"accept_rate":100,"display_name":"Johan"},"score":0,"creation_date":1502195130,"post_id":45568215,"comment_id":78095707,"body_markdown":"I don&#39;t understand, is all that code inside a for-loop? Then you should declare the variable numbers outside that loop.","body":"I don&#39;t understand, is all that code inside a for-loop? Then you should declare the variable numbers outside that loop."}],"answers":[{"tags":[],"owner":{"account_id":2894864,"reputation":508,"user_id":2482874,"accept_rate":86,"display_name":"Sarah Aziziyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502195112,"creation_date":1502195112,"answer_id":45568321,"question_id":45568215,"body_markdown":"What I&#39;m seeing in your code is that you set numbers to ZERO right before incrementing it. try putting `int numbers=0` out of your loop if there is any! (you have not written any loop in the code). And of course giving more information would be helpful. ","title":"How to increment number in new file name?","body":"<p>What I'm seeing in your code is that you set numbers to ZERO right before incrementing it. try putting <code>int numbers=0</code> out of your loop if there is any! (you have not written any loop in the code). And of course giving more information would be helpful. </p>\n"},{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502196348,"creation_date":1502196348,"answer_id":45568776,"question_id":45568215,"body_markdown":"your for-loop has no counter which can be increased, because it is a for-each-loop (if that is the loop you mean). also you call `chooserFolder.setSelectedFile(new File(&quot;myFile&quot; + numbers++ + &quot;.xml&quot;));` only once and there is the only occurrence of `numbers++`. To given an proper solution you would need to provide all the code. also this line makes no sense at all ` chooserFolder.setSelectedFile(new File(chooserFolder.getSelectedFile().getAbsolutePath()));`. once you give all the code we can provide a solution\r\n        ","title":"How to increment number in new file name?","body":"<p>your for-loop has no counter which can be increased, because it is a for-each-loop (if that is the loop you mean). also you call <code>chooserFolder.setSelectedFile(new File(\"myFile\" + numbers++ + \".xml\"));</code> only once and there is the only occurrence of <code>numbers++</code>. To given an proper solution you would need to provide all the code. also this line makes no sense at all <code>chooserFolder.setSelectedFile(new File(chooserFolder.getSelectedFile().getAbsolutePath()));</code>. once you give all the code we can provide a solution</p>\n"},{"tags":[],"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502200229,"creation_date":1502200229,"answer_id":45570204,"question_id":45568215,"body_markdown":"Please use the timestamp solution for this problem \r\n\r\n    String fileName = new SimpleDateFormat(&quot;yyyyMMddHHmm&#39;.txt&#39;&quot;).format(new Date());\r\n\r\nHere have a better example below\r\n\r\n    package com.seleniummaster.examplefile;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class CreateFileWithTimeStamp {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n          CreateFileWithTimeStamp(&quot;test&quot;);\r\n        }\r\n    \r\n        //Create a new file\r\n        public static void CreateFileWithTimeStamp(String filename) {\r\n            //get current project path\r\n            String filePath = System.getProperty(&quot;user.dir&quot;);\r\n            //create a new file with Time Stamp\r\n            File file = new File(filePath + &quot;\\\\&quot; + filename+GetCurrentTimeStamp().replace(&quot;:&quot;,&quot;_&quot;).replace(&quot;.&quot;,&quot;_&quot;)+&quot;.txt&quot;);\r\n    \r\n            try {\r\n                if (!file.exists()) {\r\n                    file.createNewFile();\r\n                    System.out.println(&quot;File is created; file name is &quot; + file.getName());\r\n                } else {\r\n                    System.out.println(&quot;File already exist&quot;);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n            // Get current system time\r\n        public static String GetCurrentTimeStamp() {\r\n            SimpleDateFormat sdfDate = new SimpleDateFormat(\r\n                    &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);// dd/MM/yyyy\r\n            Date now = new Date();\r\n            String strDate = sdfDate.format(now);\r\n            return strDate;\r\n        }\r\n        // Get Current Host Name\r\n        public static String GetCurrentTestHostName() throws UnknownHostException {\r\n            InetAddress localMachine = InetAddress.getLocalHost();\r\n            String hostName = localMachine.getHostName();\r\n            return hostName;\r\n        }\r\n    \r\n        // Get Current User Name\r\n        public static String GetCurrentTestUserName() {\r\n            return System.getProperty(&quot;user.name&quot;);\r\n        }\r\n    \r\n    \r\n        }","title":"How to increment number in new file name?","body":"<p>Please use the timestamp solution for this problem </p>\n\n<pre><code>String fileName = new SimpleDateFormat(\"yyyyMMddHHmm'.txt'\").format(new Date());\n</code></pre>\n\n<p>Here have a better example below</p>\n\n<pre><code>package com.seleniummaster.examplefile;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class CreateFileWithTimeStamp {\n\n    public static void main(String[] args)\n    {\n      CreateFileWithTimeStamp(\"test\");\n    }\n\n    //Create a new file\n    public static void CreateFileWithTimeStamp(String filename) {\n        //get current project path\n        String filePath = System.getProperty(\"user.dir\");\n        //create a new file with Time Stamp\n        File file = new File(filePath + \"\\\\\" + filename+GetCurrentTimeStamp().replace(\":\",\"_\").replace(\".\",\"_\")+\".txt\");\n\n        try {\n            if (!file.exists()) {\n                file.createNewFile();\n                System.out.println(\"File is created; file name is \" + file.getName());\n            } else {\n                System.out.println(\"File already exist\");\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n        // Get current system time\n    public static String GetCurrentTimeStamp() {\n        SimpleDateFormat sdfDate = new SimpleDateFormat(\n                \"yyyy-MM-dd HH:mm:ss.SSS\");// dd/MM/yyyy\n        Date now = new Date();\n        String strDate = sdfDate.format(now);\n        return strDate;\n    }\n    // Get Current Host Name\n    public static String GetCurrentTestHostName() throws UnknownHostException {\n        InetAddress localMachine = InetAddress.getLocalHost();\n        String hostName = localMachine.getHostName();\n        return hostName;\n    }\n\n    // Get Current User Name\n    public static String GetCurrentTestUserName() {\n        return System.getProperty(\"user.name\");\n    }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29483593,"reputation":1,"user_id":22594002,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695143790,"creation_date":1695138892,"answer_id":77136148,"question_id":45568215,"body_markdown":"I don&#39;t know how to check IF a file exists, but with a WHILE you must be able to do so:\r\n\r\n    while (f.isFile(&quot;myFile&quot; + numbers + &quot;.xml&quot;) == TRUE) {number++} // end while\r\n\r\n    chooserFolder.setSelectedFile(new File(&quot;myFile&quot; + numbers + &quot;.xml&quot;));\r\n\r\nReference:\r\nhttps://stackoverflow.com/questions/1816673/how-do-i-check-if-a-file-exists-in-java","title":"How to increment number in new file name?","body":"<p>I don't know how to check IF a file exists, but with a WHILE you must be able to do so:</p>\n<pre><code>while (f.isFile(&quot;myFile&quot; + numbers + &quot;.xml&quot;) == TRUE) {number++} // end while\n\nchooserFolder.setSelectedFile(new File(&quot;myFile&quot; + numbers + &quot;.xml&quot;));\n</code></pre>\n<p>Reference:\n<a href=\"https://stackoverflow.com/questions/1816673/how-do-i-check-if-a-file-exists-in-java\">How do I check if a file exists in Java?</a></p>\n"}],"owner":{"account_id":11508533,"reputation":73,"user_id":8434066,"accept_rate":25,"display_name":"Maiwand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1695143810,"creation_date":1502194828,"question_id":45568215,"body_markdown":"I am currently writing a method in Java where I am trying to create new files but I need those files not to be of the same name, but rather of incrementing name values, like so:\r\n\r\n/Users/Myself/Desktop/myFile0.xml\r\n\r\n/Users/Myself/Desktop/myFile1.xml\r\n\r\n/Users/Myself/Desktop/myFile2.xml\r\n\r\n/Users/Myself/Desktop/myFile3.xml\r\n\r\nSo I have tried to do the following in my code, but I do not understand why when I call the file within the for each loop ( to create a new one) the number does not increment?\r\n\r\n    public void pickFolder() throws Exception {\r\n\r\n        chooserFolder.setDialogTitle(&quot;Specify your save location&quot;);\r\n        chooserFolder.setDialogType(JFileChooser.SAVE_DIALOG);\r\n\r\n        int numbers = 0;\r\n        chooserFolder.setSelectedFile(new File(&quot;myFile&quot; + numbers++ + &quot;.xml&quot;));\r\n        chooserFolder.setFileFilter(new FileNameExtensionFilter(&quot;xml file&quot;, &quot;xml&quot;));\r\n\r\n        int userSelection = chooserFolder.showSaveDialog(null);\r\n        if (userSelection == JFileChooser.APPROVE_OPTION) {\r\n\r\n            for (File file : files) {\r\n\r\n                chooserFolder.setSelectedFile(new File(chooserFolder.getSelectedFile().getAbsolutePath()));\r\n\r\n                fileToSave = chooserFolder.getSelectedFile();\r\n                if (fileToSave.createNewFile()) {\r\n                    System.out.println(&quot;File is created!&quot;);\r\n                    fileToSave = chooserFolder.getSelectedFile();\r\n\r\n                } else {\r\n                    JOptionPane.showMessageDialog(null, &quot;File already exists.&quot;);\r\n                }\r\n\r\n                System.out.println(&quot;Save as file: &quot; + fileToSave.getAbsolutePath());\r\n\r\n            }\r\n\r\n","title":"How to increment number in new file name?","body":"<p>I am currently writing a method in Java where I am trying to create new files but I need those files not to be of the same name, but rather of incrementing name values, like so:</p>\n<p>/Users/Myself/Desktop/myFile0.xml</p>\n<p>/Users/Myself/Desktop/myFile1.xml</p>\n<p>/Users/Myself/Desktop/myFile2.xml</p>\n<p>/Users/Myself/Desktop/myFile3.xml</p>\n<p>So I have tried to do the following in my code, but I do not understand why when I call the file within the for each loop ( to create a new one) the number does not increment?</p>\n<pre><code>public void pickFolder() throws Exception {\n\n    chooserFolder.setDialogTitle(&quot;Specify your save location&quot;);\n    chooserFolder.setDialogType(JFileChooser.SAVE_DIALOG);\n\n    int numbers = 0;\n    chooserFolder.setSelectedFile(new File(&quot;myFile&quot; + numbers++ + &quot;.xml&quot;));\n    chooserFolder.setFileFilter(new FileNameExtensionFilter(&quot;xml file&quot;, &quot;xml&quot;));\n\n    int userSelection = chooserFolder.showSaveDialog(null);\n    if (userSelection == JFileChooser.APPROVE_OPTION) {\n\n        for (File file : files) {\n\n            chooserFolder.setSelectedFile(new File(chooserFolder.getSelectedFile().getAbsolutePath()));\n\n            fileToSave = chooserFolder.getSelectedFile();\n            if (fileToSave.createNewFile()) {\n                System.out.println(&quot;File is created!&quot;);\n                fileToSave = chooserFolder.getSelectedFile();\n\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;File already exists.&quot;);\n            }\n\n            System.out.println(&quot;Save as file: &quot; + fileToSave.getAbsolutePath());\n\n        }\n</code></pre>\n"},{"tags":["java","collections","real-time-data"],"owner":{"account_id":2120515,"reputation":39,"user_id":1883855,"accept_rate":29,"display_name":"gocan76"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695143689,"creation_date":1695143689,"question_id":77136644,"body_markdown":"I am using com.fazecast.jSerialComm to connect to a serial port and read data from a sensor connected to the port. \r\n\r\nThe code below is contained in &quot;getSensorData()&quot; and output the data in the console correctly.\r\n\r\n                    while (true)\r\n                    {                        \r\n                        byte[] readBuffer = new byte[200];                    \r\n                        String S = new String(readBuffer, &quot;ASCII&quot;); \r\n                        System.out.println(S);                      \r\n                    }\r\n\r\nI need to plot this data in real time, and to do so I am using XChart.\r\n\r\nI use the code below to update che chart:\r\n\r\n          public void updateData() {\r\n\r\n             // Get some new data\r\n             List&lt;Double&gt; newData = getSensorData();\r\n\r\n             yData.addAll(newData);\r\n\r\n             // Limit the total number of points\r\n             while (yData.size() &gt; 20) {\r\n             yData.remove(0);\r\n          }\r\n\r\nHow can I format the output of the first snippet &quot;getSensorData()&quot; in a List so that can be read and plotted by XChart ? Can anyone point me in the right direction, please ? \r\n\r\nThanks Alb","title":"How to plot real time data (read with jSerialComm) from serial port using to Xchart","body":"<p>I am using com.fazecast.jSerialComm to connect to a serial port and read data from a sensor connected to the port.</p>\n<p>The code below is contained in &quot;getSensorData()&quot; and output the data in the console correctly.</p>\n<pre><code>                while (true)\n                {                        \n                    byte[] readBuffer = new byte[200];                    \n                    String S = new String(readBuffer, &quot;ASCII&quot;); \n                    System.out.println(S);                      \n                }\n</code></pre>\n<p>I need to plot this data in real time, and to do so I am using XChart.</p>\n<p>I use the code below to update che chart:</p>\n<pre><code>      public void updateData() {\n\n         // Get some new data\n         List&lt;Double&gt; newData = getSensorData();\n\n         yData.addAll(newData);\n\n         // Limit the total number of points\n         while (yData.size() &gt; 20) {\n         yData.remove(0);\n      }\n</code></pre>\n<p>How can I format the output of the first snippet &quot;getSensorData()&quot; in a List so that can be read and plotted by XChart ? Can anyone point me in the right direction, please ?</p>\n<p>Thanks Alb</p>\n"},{"tags":["java","wrapper"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":2,"creation_date":1695131357,"post_id":77135125,"comment_id":135980954,"body_markdown":"Can you provide a minimal reproducible example and information on how you run that code?","body":"Can you provide a minimal reproducible example and information on how you run that code?"},{"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"score":0,"creation_date":1695132148,"post_id":77135125,"comment_id":135981155,"body_markdown":"Are you trying to implement a [singleton](https://en.wikipedia.org/wiki/Singleton_pattern)?","body":"Are you trying to implement a <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton</a>?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695134121,"post_id":77135125,"comment_id":135981587,"body_markdown":"@MaksimEliseev You can type `[mre]` to easily make that a link: [mre]","body":"@MaksimEliseev You can type <code>[mre]</code> to easily make that a link: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"display_name":"user3533413"},"score":0,"creation_date":1695136196,"post_id":77135125,"comment_id":135982063,"body_markdown":"@CcmU I&#39;m not trying to implement a singleton.","body":"@CcmU I&#39;m not trying to implement a singleton."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1695136304,"post_id":77135125,"comment_id":135982092,"body_markdown":"The &quot;R&quot; in MRE stands for reproducible. While it may be helpful for you in contrasting between the working example and your not-working code, it&#39;s less helpful for us since all we get is a working piece of code without the problem you describe. Are you using reflection anywhere?","body":"The &quot;R&quot; in MRE stands for reproducible. While it may be helpful for you in contrasting between the working example and your not-working code, it&#39;s less helpful for us since all we get is a working piece of code without the problem you describe. Are you using reflection anywhere?"},{"owner":{"display_name":"user3533413"},"score":0,"creation_date":1695136616,"post_id":77135125,"comment_id":135982170,"body_markdown":"@Rogue I&#39;m unable to provide a reproducible example then. I would have to allow the public to run our proprietary code on their machine which I can&#39;t do. I&#39;m not using reflection.","body":"@Rogue I&#39;m unable to provide a reproducible example then. I would have to allow the public to run our proprietary code on their machine which I can&#39;t do. I&#39;m not using reflection."},{"owner":{"display_name":"user3533413"},"score":0,"creation_date":1695137089,"post_id":77135125,"comment_id":135982301,"body_markdown":"@Maksim Eliseev I attempted to recreate the issue, but it behaves as expected in the project I linked in my post in an edit.","body":"@Maksim Eliseev I attempted to recreate the issue, but it behaves as expected in the project I linked in my post in an edit."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695139379,"post_id":77135125,"comment_id":135982808,"body_markdown":"@SpencerStewart, it&#39;s so weird, I don&#39;t know how to help you","body":"@SpencerStewart, it&#39;s so weird, I don&#39;t know how to help you"},{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":1,"creation_date":1695139808,"post_id":77135125,"comment_id":135982884,"body_markdown":"This could happen, when you try to access a field, when it is not yet created.\nAs long as the ctor of ImportSpecification has not &#39;completed&#39;, the object (TSV) does not exist! So, check your ctor of ImportSpecification. Maybe ctor of ImportSpecification tries to access this (no yet created) field.","body":"This could happen, when you try to access a field, when it is not yet created. As long as the ctor of ImportSpecification has not &#39;completed&#39;, the object (TSV) does not exist! So, check your ctor of ImportSpecification. Maybe ctor of ImportSpecification tries to access this (no yet created) field."},{"owner":{"display_name":"user3533413"},"score":0,"creation_date":1695143389,"post_id":77135125,"comment_id":135983531,"body_markdown":"@Ben Thanks for the suggestion. I added a static initialization block inside ImportSpecificationWrapper and called `Class.forName(&quot;path.to.ImportSpecification&quot;);` and now ImportSpecificationWrapper.TSV is no longer null. Very strange, no clue why this would happen.","body":"@Ben Thanks for the suggestion. I added a static initialization block inside ImportSpecificationWrapper and called <code>Class.forName(&quot;path.to.ImportSpecification&quot;);</code> and now ImportSpecificationWrapper.TSV is no longer null. Very strange, no clue why this would happen."},{"owner":{"display_name":"user3533413"},"score":1,"creation_date":1695145044,"post_id":77135125,"comment_id":135983826,"body_markdown":"@Maksim Eliseev\n\nIt looks like it&#39;s due to ImportSpecificationWrapper being loaded before ImportSpecification, I believe. I&#39;m not familiar with how class loading works. I added a static initialization block inside ImportSpecificationWrapper and called `Class.forName(&quot;path.to.ImportSpecification&quot;);` which fixed the null issue. No clue why there&#39;s this discrepancy between the 2 environments.","body":"@Maksim Eliseev  It looks like it&#39;s due to ImportSpecificationWrapper being loaded before ImportSpecification, I believe. I&#39;m not familiar with how class loading works. I added a static initialization block inside ImportSpecificationWrapper and called <code>Class.forName(&quot;path.to.ImportSpecification&quot;);</code> which fixed the null issue. No clue why there&#39;s this discrepancy between the 2 environments."}],"owner":{"display_name":"user3533413"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695143571,"creation_date":1695131074,"question_id":77135125,"body_markdown":"I&#39;m facing an issue with a static final field in my `ImportSpecificationWrapper` class. The field `TSV` should hold an instance of `ImportSpecification`, but it&#39;s unexpectedly returning null.\r\n\r\nI&#39;m using a wrapper class to extend the types of `ImportSpecification` because I&#39;m unable to modify `ImportSpecification`. The relevant classes:\r\n\r\n```\r\npublic class ImportSpecificationWrapper {\r\n\r\n    private final ImportSpecification importSpecification;\r\n\r\n    public static final ImportSpecification TSV = new ImportSpecification(&quot;TSV&quot;, &quot;TSV&quot;);\r\n\r\n    public ImportSpecificationWrapper(ImportSpecification importSpecification) {\r\n\r\n        this.importSpecification = importSpecification;\r\n    }\r\n\r\n    public String getType() {\r\n\r\n        return importSpecification.getType();\r\n    }\r\n\r\n    public String getFriendlyType() {\r\n\r\n        return importSpecification.getFriendlyType();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n\r\n        return importSpecification.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n\r\n        if (obj instanceof ImportSpecificationWrapper) {\r\n            return importSpecification.equals(((ImportSpecificationWrapper) obj).importSpecification);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static ImportSpecificationWrapper getInstance(String type) {\r\n\r\n        if (TSV.getType().equals(type)) {\r\n            return new ImportSpecificationWrapper(TSV);\r\n        }\r\n        return new ImportSpecificationWrapper(ImportSpecification.getInstance(type));\r\n    }\r\n\r\n    public static Collection&lt;ImportSpecification&gt; getTypes() {\r\n\r\n            return ImportSpecification.getTypes();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ImportSpecification implements Serializable, BroadleafEnumerationType {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private static final LinkedHashMap&lt;String, ImportSpecification&gt; TYPES = new LinkedHashMap&lt;&gt;();\r\n\r\n    public static final ImportSpecification CSV = new ImportSpecification(&quot;CSV&quot;, &quot;CSV&quot;);\r\n    public static final ImportSpecification JSON = new ImportSpecification(&quot;JSON&quot;, &quot;JSON&quot;);\r\n    public static final ImportSpecification ASSET_ARCHIVE = new ImportSpecification(&quot;ASSET_ARCHIVE&quot;, &quot;Asset Archive&quot;);\r\n\r\n    public static ImportSpecification getInstance(final String type) {\r\n        return TYPES.get(type);\r\n    }\r\n\r\n    public static Collection&lt;ImportSpecification&gt; getTypes() {\r\n        return Collections.unmodifiableCollection(TYPES.values());\r\n    }\r\n\r\n    private String type;\r\n    private String friendlyType;\r\n\r\n    public ImportSpecification() {\r\n        //do nothing\r\n    }\r\n\r\n    public ImportSpecification(final String type, final String friendlyType) {\r\n        this.friendlyType = friendlyType;\r\n        setType(type);\r\n    }\r\n\r\n    @Override\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    @Override\r\n    public String getFriendlyType() {\r\n        return friendlyType;\r\n    }\r\n\r\n    private void setType(final String type) {\r\n        this.type = type;\r\n        if (!TYPES.containsKey(type)) {\r\n            TYPES.put(type, this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = prime * result + ((type == null) ? 0 : type.hashCode());\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj != null &amp;&amp; getClass().isAssignableFrom(obj.getClass())) {\r\n            ImportSpecification other = (ImportSpecification) obj;\r\n            return new EqualsBuilder()\r\n                .append(type, other.type)\r\n                .build();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI created a static final field named `TSV` in my `ImportSpecificationWrapper` class, which is holds an instance of ImportSpecification with the type `TSV`. I expected that whenever I reference `ImportSpecificationWrapper.TSV`, it would return this instance.\r\n\r\nWhen I try to access `ImportSpecificationWrapper.TSV`, it unexpectedly returns `null`. The initialization of this field does not throw any exceptions and there are no static initializers that might interfere with its initialization.\r\n\r\nI attempted to created a [minimum reproducible example here][1], but it actually behaves as expected and returns true here. I cannot reproduce the behavior.\r\n\r\n\r\n\r\n\r\nIn my project, you can see below that `ImportSpecificationWrapper.TSV` is null.\r\n\r\n[![Null type for ImportSpecificationWrapper.TSV][2]][2]\r\n\r\n[![Information about the importSpecification object][3]][3]\r\n\r\nI tried adding the following static initialization block inside ImportSpecificationWrapper and `ImportSpecificationWrapper.TSV` no longer returns null:\r\n\r\n    static {\r\n        try {\r\n            Class.forName(&quot;path.to.ImportSpecification&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            log.error(&quot;Could not find class path.to.ImportSpecification&quot;);\r\n        }\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://github.com/spencerjstewart/null-wrapper-type-issue\r\n  [2]: https://i.stack.imgur.com/ZNIVG.jpg\r\n  [3]: https://i.stack.imgur.com/jRB3q.jpg","title":"Static final field in Java wrapper class unexpectedly returns null","body":"<p>I'm facing an issue with a static final field in my <code>ImportSpecificationWrapper</code> class. The field <code>TSV</code> should hold an instance of <code>ImportSpecification</code>, but it's unexpectedly returning null.</p>\n<p>I'm using a wrapper class to extend the types of <code>ImportSpecification</code> because I'm unable to modify <code>ImportSpecification</code>. The relevant classes:</p>\n<pre><code>public class ImportSpecificationWrapper {\n\n    private final ImportSpecification importSpecification;\n\n    public static final ImportSpecification TSV = new ImportSpecification(&quot;TSV&quot;, &quot;TSV&quot;);\n\n    public ImportSpecificationWrapper(ImportSpecification importSpecification) {\n\n        this.importSpecification = importSpecification;\n    }\n\n    public String getType() {\n\n        return importSpecification.getType();\n    }\n\n    public String getFriendlyType() {\n\n        return importSpecification.getFriendlyType();\n    }\n\n    @Override\n    public int hashCode() {\n\n        return importSpecification.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n\n        if (obj instanceof ImportSpecificationWrapper) {\n            return importSpecification.equals(((ImportSpecificationWrapper) obj).importSpecification);\n        }\n        return false;\n    }\n\n    public static ImportSpecificationWrapper getInstance(String type) {\n\n        if (TSV.getType().equals(type)) {\n            return new ImportSpecificationWrapper(TSV);\n        }\n        return new ImportSpecificationWrapper(ImportSpecification.getInstance(type));\n    }\n\n    public static Collection&lt;ImportSpecification&gt; getTypes() {\n\n            return ImportSpecification.getTypes();\n    }\n}\n</code></pre>\n<pre><code>public class ImportSpecification implements Serializable, BroadleafEnumerationType {\n\n    private static final long serialVersionUID = 1L;\n\n    private static final LinkedHashMap&lt;String, ImportSpecification&gt; TYPES = new LinkedHashMap&lt;&gt;();\n\n    public static final ImportSpecification CSV = new ImportSpecification(&quot;CSV&quot;, &quot;CSV&quot;);\n    public static final ImportSpecification JSON = new ImportSpecification(&quot;JSON&quot;, &quot;JSON&quot;);\n    public static final ImportSpecification ASSET_ARCHIVE = new ImportSpecification(&quot;ASSET_ARCHIVE&quot;, &quot;Asset Archive&quot;);\n\n    public static ImportSpecification getInstance(final String type) {\n        return TYPES.get(type);\n    }\n\n    public static Collection&lt;ImportSpecification&gt; getTypes() {\n        return Collections.unmodifiableCollection(TYPES.values());\n    }\n\n    private String type;\n    private String friendlyType;\n\n    public ImportSpecification() {\n        //do nothing\n    }\n\n    public ImportSpecification(final String type, final String friendlyType) {\n        this.friendlyType = friendlyType;\n        setType(type);\n    }\n\n    @Override\n    public String getType() {\n        return type;\n    }\n\n    @Override\n    public String getFriendlyType() {\n        return friendlyType;\n    }\n\n    private void setType(final String type) {\n        this.type = type;\n        if (!TYPES.containsKey(type)) {\n            TYPES.put(type, this);\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((type == null) ? 0 : type.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj != null &amp;&amp; getClass().isAssignableFrom(obj.getClass())) {\n            ImportSpecification other = (ImportSpecification) obj;\n            return new EqualsBuilder()\n                .append(type, other.type)\n                .build();\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I created a static final field named <code>TSV</code> in my <code>ImportSpecificationWrapper</code> class, which is holds an instance of ImportSpecification with the type <code>TSV</code>. I expected that whenever I reference <code>ImportSpecificationWrapper.TSV</code>, it would return this instance.</p>\n<p>When I try to access <code>ImportSpecificationWrapper.TSV</code>, it unexpectedly returns <code>null</code>. The initialization of this field does not throw any exceptions and there are no static initializers that might interfere with its initialization.</p>\n<p>I attempted to created a <a href=\"https://github.com/spencerjstewart/null-wrapper-type-issue\" rel=\"nofollow noreferrer\">minimum reproducible example here</a>, but it actually behaves as expected and returns true here. I cannot reproduce the behavior.</p>\n<p>In my project, you can see below that <code>ImportSpecificationWrapper.TSV</code> is null.</p>\n<p><a href=\"https://i.stack.imgur.com/ZNIVG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZNIVG.jpg\" alt=\"Null type for ImportSpecificationWrapper.TSV\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jRB3q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jRB3q.jpg\" alt=\"Information about the importSpecification object\" /></a></p>\n<p>I tried adding the following static initialization block inside ImportSpecificationWrapper and <code>ImportSpecificationWrapper.TSV</code> no longer returns null:</p>\n<pre><code>static {\n    try {\n        Class.forName(&quot;path.to.ImportSpecification&quot;);\n    } catch (ClassNotFoundException e) {\n        log.error(&quot;Could not find class path.to.ImportSpecification&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"answers":[{"comments":[{"owner":{"account_id":8533397,"reputation":602,"user_id":6396144,"accept_rate":56,"display_name":"VISHVAMBRUTH J T"},"score":0,"creation_date":1473141136,"post_id":39340589,"comment_id":66013560,"body_markdown":"The above code is not working for me. Did it work for you?","body":"The above code is not working for me. Did it work for you?"},{"owner":{"account_id":9136896,"reputation":338,"user_id":6796295,"display_name":"Sandipan Pramanik"},"score":0,"creation_date":1473142197,"post_id":39340589,"comment_id":66014008,"body_markdown":"Yes. I have tested first and then put it here.What is the error you are getting ? please paste here as comment. You can introduce Thread.sleep() or WebDriverWait inbetween steps to introduce some waiting time.","body":"Yes. I have tested first and then put it here.What is the error you are getting ? please paste here as comment. You can introduce Thread.sleep() or WebDriverWait inbetween steps to introduce some waiting time."},{"owner":{"account_id":9136896,"reputation":338,"user_id":6796295,"display_name":"Sandipan Pramanik"},"score":0,"creation_date":1473160351,"post_id":39340589,"comment_id":66024669,"body_markdown":"One query : Why you are using geckodriver.exe ? Is there any specific reason behind that ? I have used &quot;selenium server 2.53&quot; and default firefox browser.","body":"One query : Why you are using geckodriver.exe ? Is there any specific reason behind that ? I have used &quot;selenium server 2.53&quot; and default firefox browser."},{"owner":{"account_id":8533397,"reputation":602,"user_id":6396144,"accept_rate":56,"display_name":"VISHVAMBRUTH J T"},"score":0,"creation_date":1474351813,"post_id":39340589,"comment_id":66483138,"body_markdown":"If you are using Selenium 3 then to work with Firefox browser you need to use separate a driver in this case Firefox Gecko Driver same the way we use for IE and chrome browsers which will interact with Firefox browser. I&#39;m using slenium Version 3.0.0 with Mozilla version 48.0.2.","body":"If you are using Selenium 3 then to work with Firefox browser you need to use separate a driver in this case Firefox Gecko Driver same the way we use for IE and chrome browsers which will interact with Firefox browser. I&#39;m using slenium Version 3.0.0 with Mozilla version 48.0.2."}],"tags":[],"owner":{"account_id":9136896,"reputation":338,"user_id":6796295,"display_name":"Sandipan Pramanik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511347481,"creation_date":1473135524,"answer_id":39340589,"question_id":39338773,"body_markdown":"You can use Actions class for &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;t&lt;/kbd&gt; or &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;TAB&lt;/kbd&gt;. I modified your example as shown below\r\n\r\n    @Test\r\n\tpublic void OpeningNewTab(){\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tdriver.get(&quot;http://www.google.com/&quot;);\r\n\t\tdriver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\tActions act = new Actions(driver);\r\n\t\tact.keyDown(Keys.CONTROL).sendKeys(&quot;t&quot;).keyUp(Keys.CONTROL).build().perform();\r\n\t\tdriver.get(&quot;http://www.bing.com/&quot;);\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\tact.keyDown(Keys.CONTROL).sendKeys(&quot;t&quot;).keyUp(Keys.CONTROL).build().perform();\r\n\t\tdriver.get(&quot;http://www.yahoo.com/&quot;);\r\n\t\tSystem.out.println(driver.getTitle());\r\n        driver.close();\r\n\t\tdriver.quit();\r\n\t\t\r\n\t}","title":"How to press CTRL+T and CTRL+TAB in selenium WebDriver using Java?","body":"<p>You can use Actions class for <kbd>Ctrl</kbd>+<kbd>t</kbd> or <kbd>CTRL</kbd>+<kbd>TAB</kbd>. I modified your example as shown below</p>\n\n<pre><code>@Test\npublic void OpeningNewTab(){\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"http://www.google.com/\");\n    driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n    System.out.println(driver.getTitle());\n    Actions act = new Actions(driver);\n    act.keyDown(Keys.CONTROL).sendKeys(\"t\").keyUp(Keys.CONTROL).build().perform();\n    driver.get(\"http://www.bing.com/\");\n    System.out.println(driver.getTitle());\n    act.keyDown(Keys.CONTROL).sendKeys(\"t\").keyUp(Keys.CONTROL).build().perform();\n    driver.get(\"http://www.yahoo.com/\");\n    System.out.println(driver.getTitle());\n    driver.close();\n    driver.quit();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6861974,"reputation":147,"user_id":6613003,"display_name":"Shailendra Rathore"},"score":0,"creation_date":1473141403,"post_id":39340827,"comment_id":66013668,"body_markdown":"@VishvambruthJT  Put some wait and check again its working fine.","body":"@VishvambruthJT  Put some wait and check again its working fine."},{"owner":{"account_id":8533397,"reputation":602,"user_id":6396144,"accept_rate":56,"display_name":"VISHVAMBRUTH J T"},"score":0,"creation_date":1473145716,"post_id":39340827,"comment_id":66015719,"body_markdown":"I&#39;m able to open the new tab using the below code but unable to open URL on the new tab how to movethe control to new tab: try {\nRobot robot = new Robot();\n// CTRL+T is now pressed \nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_T);            \n            //Release pressed CTRL+T  \n            robot.keyRelease(KeyEvent.VK_T);\n            robot.keyRelease(KeyEvent.VK_CONTROL);      \n\t    }catch (AWTException e) {\n\t    \te.printStackTrace();\n\t    }driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\t    driver.get(&quot;http://www.bing.com/&quot;);","body":"I&#39;m able to open the new tab using the below code but unable to open URL on the new tab how to movethe control to new tab: try { Robot robot = new Robot(); // CTRL+T is now pressed  robot.keyPress(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_T);                         //Release pressed CTRL+T               robot.keyRelease(KeyEvent.VK_T);             robot.keyRelease(KeyEvent.VK_CONTROL);       \t    }catch (AWTException e) { \t    \te.printStackTrace(); \t    }driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS); \t    driver.get(&quot;<a href=\"http://www.bing.com/&quot;\" rel=\"nofollow noreferrer\">bing.com/&quot;</a>);"},{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":1,"creation_date":1490923182,"post_id":39340827,"comment_id":73340020,"body_markdown":"Do not use Robot","body":"Do not use Robot"}],"tags":[],"owner":{"account_id":6861974,"reputation":147,"user_id":6613003,"display_name":"Shailendra Rathore"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473141342,"creation_date":1473137255,"answer_id":39340827,"question_id":39338773,"body_markdown":"You can use Robot class as well simply import\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.event.InputEvent;\r\n    import java.awt.event.KeyEvent;\r\n            \r\n    public class Keyboard {\r\n            \r\n        public static void main(String[] args) {\r\n            \r\n                try {\r\n                        Robot robot = new Robot();\r\n                \r\n           // Simulate a mouse click\r\n                        robot.mousePress(InputEvent.BUTTON1_MASK);\r\n                        robot.mouseRelease(InputEvent.BUTTON1_MASK);\r\n        \r\n          // ctrl + T &amp; ctrl TAB  \r\n        \r\n                    robot.keyPress(KeyEvent.VK_CONTROL);\r\n        \t        robot.keyPress(KeyEvent.VK_T);\r\n        \r\n                    // CTRL+T is now pressed \r\n        \t       \r\n                    robot.keyRelease(KeyEvent.VK_T);\r\n        \t        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n                \r\n                } catch (AWTException e) {\r\n                        e.printStackTrace();\r\n                }\r\n            }\r\n\r\n","title":"How to press CTRL+T and CTRL+TAB in selenium WebDriver using Java?","body":"<p>You can use Robot class as well simply import</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\n\npublic class Keyboard {\n\n    public static void main(String[] args) {\n\n            try {\n                    Robot robot = new Robot();\n\n       // Simulate a mouse click\n                    robot.mousePress(InputEvent.BUTTON1_MASK);\n                    robot.mouseRelease(InputEvent.BUTTON1_MASK);\n\n      // ctrl + T &amp; ctrl TAB  \n\n                robot.keyPress(KeyEvent.VK_CONTROL);\n                robot.keyPress(KeyEvent.VK_T);\n\n                // CTRL+T is now pressed \n\n                robot.keyRelease(KeyEvent.VK_T);\n                robot.keyRelease(KeyEvent.VK_CONTROL);\n\n            } catch (AWTException e) {\n                    e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":8533397,"reputation":602,"user_id":6396144,"accept_rate":56,"display_name":"VISHVAMBRUTH J T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17921,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695143371,"creation_date":1473118261,"question_id":39338773,"body_markdown":"&gt; Hi All,\r\n&gt; \r\n&gt; For one of my project I need to open a new tab and navigate between\r\n&gt; the tabs for the same I need to know how can I press &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; and\r\n&gt; &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;TAB&lt;/kbd&gt; in Selenium Webdriver using Java.\r\n&gt; \r\n&gt; Please let me know how can I do the same.Thank You...!!!\r\n&gt; \r\n&gt; **I&#39;m using the below:**\r\n&gt; \r\n&gt; **Firefox Version:** 48.0.2\r\n&gt; \r\n&gt; **Java Version:** 1.8\r\n&gt; \r\n&gt; **Selenium WebDriver Version:** 3.0.0\r\n&gt; \r\n&gt; **OS:** Windows 10\r\n\r\n**I tried the below code but it doesn&#39;t seems to be working:**\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class Handling_Tabs {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Eclipse\\\\Drivers\\\\geckodriver.exe&quot;);\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \t\tdriver.get(&quot;http://www.google.com/&quot;);\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\tdriver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL+&quot;t&quot;);\r\n    \t\tdriver.get(&quot;http://www.bing.com/&quot;);\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\tdriver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL+&quot;\\t&quot;);\r\n    \t\tSystem.out.println(driver.getTitle());\t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How to press CTRL+T and CTRL+TAB in selenium WebDriver using Java?","body":"<blockquote>\n  <p>Hi All,</p>\n  \n  <p>For one of my project I need to open a new tab and navigate between\n  the tabs for the same I need to know how can I press <kbd>CTRL</kbd>+<kbd>T</kbd> and\n  <kbd>CTRL</kbd>+<kbd>TAB</kbd> in Selenium Webdriver using Java.</p>\n  \n  <p>Please let me know how can I do the same.Thank You...!!!</p>\n  \n  <p><strong>I'm using the below:</strong></p>\n  \n  <p><strong>Firefox Version:</strong> 48.0.2</p>\n  \n  <p><strong>Java Version:</strong> 1.8</p>\n  \n  <p><strong>Selenium WebDriver Version:</strong> 3.0.0</p>\n  \n  <p><strong>OS:</strong> Windows 10</p>\n</blockquote>\n\n<p><strong>I tried the below code but it doesn't seems to be working:</strong></p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Handling_Tabs {\n\n    public static void main(String[] args) {\n        System.setProperty(\"webdriver.gecko.driver\",\"C:\\\\Eclipse\\\\Drivers\\\\geckodriver.exe\");\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"http://www.google.com/\");\n        System.out.println(driver.getTitle());\n        driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL+\"t\");\n        driver.get(\"http://www.bing.com/\");\n        System.out.println(driver.getTitle());\n        driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL+\"\\t\");\n        System.out.println(driver.getTitle());      \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations"],"answers":[{"tags":[],"owner":{"account_id":28420625,"reputation":61,"user_id":21742741,"display_name":"antrollingsid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683239142,"creation_date":1683239142,"answer_id":76177750,"question_id":76177602,"body_markdown":"    private String applicationName;\r\n    \r\n    @Value(&quot;${spring.application.name}&quot;)\r\n    public void setApplicationName(String applicationName) {\r\n        this.applicationName = applicationName;\r\n    }\r\n\r\nannotate the &#39;applicationName&#39; field&#39;s setter method with the @Value keyword rather than the field itself. By doing this, Spring will be able to inject the property&#39;s value without needing to look for a bean that is of type &quot;String&quot;\r\n\r\nhopefully, this would answer your question. ","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"<pre><code>private String applicationName;\n\n@Value(&quot;${spring.application.name}&quot;)\npublic void setApplicationName(String applicationName) {\n    this.applicationName = applicationName;\n}\n</code></pre>\n<p>annotate the 'applicationName' field's setter method with the @Value keyword rather than the field itself. By doing this, Spring will be able to inject the property's value without needing to look for a bean that is of type &quot;String&quot;</p>\n<p>hopefully, this would answer your question.</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683259773,"creation_date":1683259773,"answer_id":76178801,"question_id":76177602,"body_markdown":"You have two options if you would like to proceed with injecting through the class constructor:\r\n\r\n1) Using Lombok, `lombok.config` and `lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value`\r\n\r\nBy adding this property, you will force Lombok to copy the annotation from the field to the constructor parameter.\r\n\r\nYou can find additional details here:\r\n[https://stackoverflow.com/a/67042439/10731216][1]\r\n[https://stackoverflow.com/a/54596991/10731216][2]\r\n\r\n2) Using plain java syntax \r\n```java\r\n    private final String applicationName;\r\n\r\n    public Interceptor(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\r\n        this.applicationName = applicationName;\r\n    }\r\n```\r\n\r\nAnd also you have one more option if you would like to stay with Lombok. Setter using (**note**: in that case you will not be able to make field `final`). But I recommend constructor injection (basing on the best practices).\r\n```\r\n    @Setter(onMethod_={@Value(&quot;${spring.application.name}&quot;)})\r\n    private String applicationName;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67042439/10731216\r\n  [2]: https://stackoverflow.com/a/54596991/10731216","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"<p>You have two options if you would like to proceed with injecting through the class constructor:</p>\n<ol>\n<li>Using Lombok, <code>lombok.config</code> and <code>lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value</code></li>\n</ol>\n<p>By adding this property, you will force Lombok to copy the annotation from the field to the constructor parameter.</p>\n<p>You can find additional details here:\n<a href=\"https://stackoverflow.com/a/67042439/10731216\">https://stackoverflow.com/a/67042439/10731216</a>\n<a href=\"https://stackoverflow.com/a/54596991/10731216\">https://stackoverflow.com/a/54596991/10731216</a></p>\n<ol start=\"2\">\n<li>Using plain java syntax</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    private final String applicationName;\n\n    public Interceptor(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\n        this.applicationName = applicationName;\n    }\n</code></pre>\n<p>And also you have one more option if you would like to stay with Lombok. Setter using (<strong>note</strong>: in that case you will not be able to make field <code>final</code>). But I recommend constructor injection (basing on the best practices).</p>\n<pre><code>    @Setter(onMethod_={@Value(&quot;${spring.application.name}&quot;)})\n    private String applicationName;\n</code></pre>\n"}],"owner":{"account_id":25855930,"reputation":55,"user_id":19589178,"display_name":"Emanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76178801,"answer_count":2,"score":0,"last_activity_date":1695142465,"creation_date":1683237407,"question_id":76177602,"body_markdown":"I have a java class as writtten below:\r\n    \r\n    @RequiredArgsConstructor\r\n    public class Interceptor implements RequestInterceptor {\r\n       \r\n        @Value(&quot;${spring.application.name}&quot;)\r\n        private final String applicationName;\r\n    }\r\nand this class is used by a client:\r\n\r\n    @FeignClient(\r\n        name = &quot;interceptor&quot;,\r\n        url = &quot;${interceptor.url}&quot;,\r\n        configuration = Interceptor.class\r\n    )\r\n    public interface InterceptorApiClient {\r\n    }\r\n\r\nThe problem is, when I try to run the project, I am getting this error:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n    \tat app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 181 more\r\n\r\nI put @Component annotation, give @PropertySource({&quot;classpath:application.yaml&quot;}) but nothing changed.\r\n\r\nNote: The applicationName is in application.yaml file like this:\r\n\r\n    spring:\r\n      application:\r\n        name: interceptor-project\r\n\r\nany idea?","title":"No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"<p>I have a java class as writtten below:</p>\n<pre><code>@RequiredArgsConstructor\npublic class Interceptor implements RequestInterceptor {\n   \n    @Value(&quot;${spring.application.name}&quot;)\n    private final String applicationName;\n}\n</code></pre>\n<p>and this class is used by a client:</p>\n<pre><code>@FeignClient(\n    name = &quot;interceptor&quot;,\n    url = &quot;${interceptor.url}&quot;,\n    configuration = Interceptor.class\n)\npublic interface InterceptorApiClient {\n}\n</code></pre>\n<p>The problem is, when I try to run the project, I am getting this error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n    at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 181 more\n</code></pre>\n<p>I put @Component annotation, give @PropertySource({&quot;classpath:application.yaml&quot;}) but nothing changed.</p>\n<p>Note: The applicationName is in application.yaml file like this:</p>\n<pre><code>spring:\n  application:\n    name: interceptor-project\n</code></pre>\n<p>any idea?</p>\n"},{"tags":["java","eclipse","oop"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1694801554,"post_id":77113405,"comment_id":135943862,"body_markdown":"How was this installed? What was installed?","body":"How was this installed? What was installed?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695143238,"post_id":77113405,"comment_id":135983494,"body_markdown":"does the actual user (the one running Eclipse) have full access on given folder (including the `.metadata` subfolder) ? What happens if creating a new Workspace?","body":"does the actual user (the one running Eclipse) have full access on given folder (including the <code>.metadata</code> subfolder) ? What happens if creating a new Workspace?"},{"owner":{"account_id":29453642,"reputation":1,"user_id":22569925,"display_name":"thegreatcodingwizard7"},"score":0,"creation_date":1695175705,"post_id":77113405,"comment_id":135987823,"body_markdown":"@nitind I installed it from the official eclipse website with the latest version","body":"@nitind I installed it from the official eclipse website with the latest version"},{"owner":{"account_id":29453642,"reputation":1,"user_id":22569925,"display_name":"thegreatcodingwizard7"},"score":0,"creation_date":1695175786,"post_id":77113405,"comment_id":135987832,"body_markdown":"@user85421 i didnt get to create a new workspace yet because it didtn open except for just one random time. i think i have full access, it&#39;s my laptop","body":"@user85421 i didnt get to create a new workspace yet because it didtn open except for just one random time. i think i have full access, it&#39;s my laptop"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695188630,"post_id":77113405,"comment_id":135988868,"body_markdown":"you think?! Well, *I think* Eclipse should open the workspace without problems... it should not have been to hard or time intensive to test both points. I also think that maybe something is wrong with the file system - eclipse cannot read or write on part of the workspace (lock file, settings, ...) or there is some corrupted data in the `.metadata` subfolder, which contains workspace specific settings. Anyway, I never had that error (long time using Eclipse) and I cannot test or reproduce it myself, so I had to ask for you to do it  :-/","body":"you think?! Well, <i>I think</i> Eclipse should open the workspace without problems... it should not have been to hard or time intensive to test both points. I also think that maybe something is wrong with the file system - eclipse cannot read or write on part of the workspace (lock file, settings, ...) or there is some corrupted data in the <code>.metadata</code> subfolder, which contains workspace specific settings. Anyway, I never had that error (long time using Eclipse) and I cannot test or reproduce it myself, so I had to ask for you to do it  :-/"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695189786,"post_id":77113405,"comment_id":135989010,"body_markdown":"I would also suggest checking the log files... (I think it is `.../eclipse-workspace/.metadata/.plugins/org.eclipse.ui.workbench/log`) Also please consider the questions of the very first comment: &quot;How was this installed? What was installed?&quot; (There are MANY packages/versions on the *official website*)","body":"I would also suggest checking the log files... (I think it is <code>...&#47;eclipse-workspace&#47;.metadata&#47;.plugins&#47;org.eclipse.ui.work&zwnj;&#8203;bench&#47;log</code>) Also please consider the questions of the very first comment: &quot;How was this installed? What was installed?&quot; (There are MANY packages/versions on the <i>official website</i>)"},{"owner":{"account_id":29453642,"reputation":1,"user_id":22569925,"display_name":"thegreatcodingwizard7"},"score":0,"creation_date":1695551513,"post_id":77113405,"comment_id":136037152,"body_markdown":"@user85421 thank you i will. i installed https://www.eclipse.org/downloads/packages/release/2022-09/r/eclipse-ide-java-developers the latest 2023-9 version and for Windows x86_64","body":"@user85421 thank you i will. i installed <a href=\"https://www.eclipse.org/downloads/packages/release/2022-09/r/eclipse-ide-java-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2022-09/r/&hellip;</a> the latest 2023-9 version and for Windows x86_64"}],"owner":{"account_id":29453642,"reputation":1,"user_id":22569925,"display_name":"thegreatcodingwizard7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695141940,"creation_date":1694789727,"question_id":77113405,"body_markdown":"When I opened Eclipse, it says that &quot;workspace is closed&quot;, and doesn&#39;t open, every single time. It has problems intializing external folders, and workspace is closed. I posted pictures to see what appears on screen\r\n\r\n\r\n[&quot;Sending build events with disabled autobuild&quot; message &quot;Has encountered a problem, workspace is closed&quot; &quot;Problems occured while trying to save the state of the workbench&quot;](https://i.stack.imgur.com/h7lBY.png)\r\n\r\n[&quot;Multiple problems have occured&quot; &quot;Workspace is closed&quot; &quot;Initialize external folders&quot; &quot;Sending build events with disabled autobuild&quot;](https://i.stack.imgur.com/ISRkz.png)\r\n\r\n[select directory as workspace c:/users/users/eclipse workspace](https://i.stack.imgur.com/vKivR.png)\r\n\r\nI installed Java jdk 17 just a while ago and I don&#39;t know how this works. I&#39;d try to look for it and need it to submit my coursework but I need help from making the package to the src folder? I installed Java including to instructions on the internet such as choose my directory in variable settings, and for Eclipse I just installed the latest version and ran. ","title":"I&#39;m having errors &quot;Workspace is closed&quot; opening my Eclipse for the first time","body":"<p>When I opened Eclipse, it says that &quot;workspace is closed&quot;, and doesn't open, every single time. It has problems intializing external folders, and workspace is closed. I posted pictures to see what appears on screen</p>\n<p><a href=\"https://i.stack.imgur.com/h7lBY.png\" rel=\"nofollow noreferrer\">&quot;Sending build events with disabled autobuild&quot; message &quot;Has encountered a problem, workspace is closed&quot; &quot;Problems occured while trying to save the state of the workbench&quot;</a></p>\n<p><a href=\"https://i.stack.imgur.com/ISRkz.png\" rel=\"nofollow noreferrer\">&quot;Multiple problems have occured&quot; &quot;Workspace is closed&quot; &quot;Initialize external folders&quot; &quot;Sending build events with disabled autobuild&quot;</a></p>\n<p><a href=\"https://i.stack.imgur.com/vKivR.png\" rel=\"nofollow noreferrer\">select directory as workspace c:/users/users/eclipse workspace</a></p>\n<p>I installed Java jdk 17 just a while ago and I don't know how this works. I'd try to look for it and need it to submit my coursework but I need help from making the package to the src folder? I installed Java including to instructions on the internet such as choose my directory in variable settings, and for Eclipse I just installed the latest version and ran.</p>\n"},{"tags":["javascript","java","ajax","richfaces"],"owner":{"account_id":23528447,"reputation":167,"user_id":17574543,"display_name":"Nicolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695140535,"creation_date":1695140535,"question_id":77136327,"body_markdown":"when I choose a value from my dropdown list I have to check if this value exists in a map, if it exists, I have to reset the dropdown list with the old value. How can I do this please.\r\n\r\nThis is my code :\r\n```\r\n&lt;h:selectOneMenu value=&quot;#{item}&quot;\r\nvalueChangeListener=&quot;#{bean.changeType}&quot;&gt;\r\n&lt;a4j:support event=&quot;onchange&quot; ajaxSingle=&quot;true&quot;\r\nreRender=&quot;panelEns_#{suff}&quot; /&gt;\r\n&lt;f:selectItems\r\nvalue=&quot;#{bean.form.listeSelectType}&quot; /&gt;\r\n&lt;/h:selectOneMenu&gt;\r\n```\r\nAnd the method changerType :\r\n```\r\npublic void changeTypeAide(ValueChangeEvent event) throws ServiceException {\r\n\t\tLong idType = (Long) event.getNewValue();\r\n\t\tLong idTypeOld = (Long) event.getOldValue();\r\n\t\t\r\n\t\tLong typeSelected = (Long) ((HtmlDataTable) event.getComponent()\r\n\t\t\t\t.getParent().getParent()).getRowData();\r\n\r\n\t\tint indexItem = form.getListeIdsTypes()\r\n\t\t\t\t.indexOf(typeSelected);\r\n\t\tform.getListeIdsTypes().set(indexItem, idType);\r\n\t\t\r\n\t\tif (form.getMapSelectType.containsKey(idType)) {\r\n\t\t\t\taddMessage(Severity.SEVERITY_ERROR, &quot;Erreur ....&quot;);\r\n\t\t\t\tform.setExistType(true);\r\n\t\t\t\tform.setidTypeOld(idTypeOld);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//code\r\n}\r\n```","title":"How to reset old value on selectOneMenu","body":"<p>when I choose a value from my dropdown list I have to check if this value exists in a map, if it exists, I have to reset the dropdown list with the old value. How can I do this please.</p>\n<p>This is my code :</p>\n<pre><code>&lt;h:selectOneMenu value=&quot;#{item}&quot;\nvalueChangeListener=&quot;#{bean.changeType}&quot;&gt;\n&lt;a4j:support event=&quot;onchange&quot; ajaxSingle=&quot;true&quot;\nreRender=&quot;panelEns_#{suff}&quot; /&gt;\n&lt;f:selectItems\nvalue=&quot;#{bean.form.listeSelectType}&quot; /&gt;\n&lt;/h:selectOneMenu&gt;\n</code></pre>\n<p>And the method changerType :</p>\n<pre><code>public void changeTypeAide(ValueChangeEvent event) throws ServiceException {\n        Long idType = (Long) event.getNewValue();\n        Long idTypeOld = (Long) event.getOldValue();\n        \n        Long typeSelected = (Long) ((HtmlDataTable) event.getComponent()\n                .getParent().getParent()).getRowData();\n\n        int indexItem = form.getListeIdsTypes()\n                .indexOf(typeSelected);\n        form.getListeIdsTypes().set(indexItem, idType);\n        \n        if (form.getMapSelectType.containsKey(idType)) {\n                addMessage(Severity.SEVERITY_ERROR, &quot;Erreur ....&quot;);\n                form.setExistType(true);\n                form.setidTypeOld(idTypeOld);\n                return;\n            }\n            \n            //code\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695140989,"post_id":77136322,"comment_id":135983089,"body_markdown":"I wonder if Spring data supports the generic/dynamic return type like that, i.e. would it actually return the sub-type of GameSession.","body":"I wonder if Spring data supports the generic/dynamic return type like that, i.e. would it actually return the sub-type of GameSession."},{"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"score":0,"creation_date":1695141399,"post_id":77136322,"comment_id":135983163,"body_markdown":"You mean to return the concrete type? I believe it will.","body":"You mean to return the concrete type? I believe it will."}],"tags":[],"owner":{"account_id":5094086,"reputation":963,"user_id":4086095,"accept_rate":100,"display_name":"Tsakiroglou Fotis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695140522,"creation_date":1695140522,"answer_id":77136322,"question_id":77136276,"body_markdown":"You can&#39;t.\r\nIt is not possible to achieve the signature of your GameSessionRepository interface in Spring Data as-is. The reason is that Spring Data JPA does not support dynamic type parameters in queries.\r\n\r\nIt may be possible to :\r\n\r\n    public interface GameSessionRepository extends JpaRepository&lt;GameSession, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT gs FROM GameSession gs WHERE TYPE(gs) = :gameSessionType&quot;)\r\n        &lt;T extends GameSession&gt; Optional&lt;T&gt; findActive(\r\n                @Param(&quot;gameSessionType&quot;) String gameSessionType\r\n        );\r\n    }","title":"Class as parameter in Spring Data&#39;s query method","body":"<p>You can't.\nIt is not possible to achieve the signature of your GameSessionRepository interface in Spring Data as-is. The reason is that Spring Data JPA does not support dynamic type parameters in queries.</p>\n<p>It may be possible to :</p>\n<pre><code>public interface GameSessionRepository extends JpaRepository&lt;GameSession, Long&gt; {\n\n    @Query(&quot;SELECT gs FROM GameSession gs WHERE TYPE(gs) = :gameSessionType&quot;)\n    &lt;T extends GameSession&gt; Optional&lt;T&gt; findActive(\n            @Param(&quot;gameSessionType&quot;) String gameSessionType\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":20788413,"reputation":11,"user_id":15267141,"display_name":"Eryczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695140522,"creation_date":1695140127,"question_id":77136276,"body_markdown":"I&#39;ve got such method in Spring Data&#39;s repository:\r\n\r\n```\r\npublic interface GameSessionRepository extends JpaRepository&lt;GameSession, Long&gt; {\r\n  \r\n  @Query(&quot;SELECT gs FROM GameSession gs WHERE TYPE(gs) = :gameSessionType&quot;)\r\n    &lt;T extends GameSession&gt; Optional&lt;T&gt; findActive(\r\n            @Param(&quot;gameSessionType&quot;) Class&lt;T&gt; gameSessionType\r\n    );\r\n}\r\n```\r\nbut the invocation gives me an exception: `org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: Named parameter not bound : gameSessionType\r\n`.\r\n\r\nFor context, `GameSession` is an abstract entity class with two concrete implementations: `QuizGameSession` and `TranslationGameSession`. \r\n\r\nMy question is: is it possible to achieve this kind of signature in Spring Data?","title":"Class as parameter in Spring Data&#39;s query method","body":"<p>I've got such method in Spring Data's repository:</p>\n<pre><code>public interface GameSessionRepository extends JpaRepository&lt;GameSession, Long&gt; {\n  \n  @Query(&quot;SELECT gs FROM GameSession gs WHERE TYPE(gs) = :gameSessionType&quot;)\n    &lt;T extends GameSession&gt; Optional&lt;T&gt; findActive(\n            @Param(&quot;gameSessionType&quot;) Class&lt;T&gt; gameSessionType\n    );\n}\n</code></pre>\n<p>but the invocation gives me an exception: <code>org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: Named parameter not bound : gameSessionType </code>.</p>\n<p>For context, <code>GameSession</code> is an abstract entity class with two concrete implementations: <code>QuizGameSession</code> and <code>TranslationGameSession</code>.</p>\n<p>My question is: is it possible to achieve this kind of signature in Spring Data?</p>\n"},{"tags":["java","mouseevent","mouselistener"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1695140430,"post_id":77136271,"comment_id":135983001,"body_markdown":"*&quot;The type HomeScreen must implement the inherited abstract method MouseListener.mouseEntered(MouseEvent)&quot;.* There is nothing wrong with the `HomeScreen` class as posted and it will not cause such an error on compilation","body":"<i>&quot;The type HomeScreen must implement the inherited abstract method MouseListener.mouseEntered(MouseEvent)&quot;.</i> There is nothing wrong with the <code>HomeScreen</code> class as posted and it will not cause such an error on compilation"},{"owner":{"account_id":16841522,"reputation":1,"user_id":21259925,"display_name":"P&#233;ter Marschall"},"score":0,"creation_date":1695141907,"post_id":77136271,"comment_id":135983269,"body_markdown":"@g00se It indeed worked after restarting my IDE! I guess it was just some sort of a bug then(?). Thank you for checking tho!","body":"@g00se It indeed worked after restarting my IDE! I guess it was just some sort of a bug then(?). Thank you for checking tho!"}],"owner":{"account_id":16841522,"reputation":1,"user_id":21259925,"display_name":"P&#233;ter Marschall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695140071,"creation_date":1695140071,"question_id":77136271,"body_markdown":"So basically I did an exercise before where we only used a single method of the MouseListener class (see 1st code), and I thought I understood how MouseAdapters work so I tried to implement it in my own project to make a button change color when it is pressed/released (see 2nd code), but apparently it is asking me to &quot;The type HomeScreen must implement the inherited abstract method MouseListener.mouseEntered(MouseEvent)&quot;.\r\n\r\n\r\nFirst code:\r\n\r\n```\r\npackage DragDrop;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JPanel;\r\n\r\npublic class DragPanel extends JPanel{\r\n    ImageIcon image = new ImageIcon(&quot;image.png&quot;);\r\n    final int WIDTH = image.getIconWidth();\r\n    final int HEIGTH = image.getIconHeight();\r\n    Point imageCorner;\r\n    Point prevPt;\r\n    \r\n    DragPanel(){\r\n\r\n        imageCorner = new Point(0,0);\r\n        ClickListener clickListener = new ClickListener();\r\n        DragListener dragListener = new DragListener();\r\n        this.addMouseListener(clickListener);\r\n        this.addMouseMotionListener(dragListener);\r\n\r\n    }\r\n\r\n\r\n    public void paintComponent(Graphics g){\r\n\r\n        super.paintComponent(g);\r\n        image.paintIcon(this, g, (int)imageCorner.getX(), (int)imageCorner.getY()) ;\r\n\r\n    }\r\n\r\n    private class ClickListener extends MouseAdapter{\r\n\r\n        public void mousePressed(MouseEvent e){\r\n            prevPt = e.getPoint();\r\n        }\r\n\r\n    }\r\n\r\n    private class DragListener extends MouseMotionAdapter{\r\n\r\n        public void mouseDragged(MouseEvent e){\r\n            Point currentPt = e.getPoint();\r\n\r\n            imageCorner.translate(\r\n                (int)(currentPt.getX()-prevPt.getX()), \r\n                (int)(currentPt.getY()-prevPt.getY()));\r\n                prevPt = currentPt;\r\n                repaint();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nSecond code:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class HomeScreen extends JPanel {\r\n\r\n    JPanel startButtonPanel = new JPanel();\r\n    JLabel titleLabel = new JLabel(&quot;Izara&#39;s Adventure&quot;);\r\n    Font titleFont = new Font(&quot;Noganas Regular&quot;,Font.PLAIN,90);\r\n    Font textFont = new Font(&quot;Noganas Regular&quot;,Font.PLAIN,50);\r\n    JButton startButton = new JButton(&quot;Start&quot;);\r\n    Color customGreen = new Color(0x35b875);\r\n    Color customPurple = new Color(0x49145a);\r\n    \r\n    HomeScreen(){\r\n        ClickListener clickListener = new ClickListener();\r\n        this.setBounds(0, 100, 1024,150);\r\n        this.setBackground(Color.black);\r\n\r\n        startButtonPanel.setBounds(350, 350, 324, 150);\r\n        startButtonPanel.setBackground(Color.black);\r\n        startButton.setPreferredSize(new Dimension(200, 90));\r\n        startButton.setBackground(Color.BLACK);\r\n        startButton.setFocusable(false);\r\n        startButton.setForeground(customGreen);\r\n        startButton.setFont(textFont);\r\n        startButton.addMouseListener(clickListener);\r\n        startButton.setBorder(BorderFactory.createDashedBorder(customGreen,3,5,3,false));\r\n        startButtonPanel.add(startButton);\r\n\r\n        titleLabel.setFont(titleFont);\r\n        titleLabel.setForeground(customGreen);\r\n        this.add(titleLabel);\r\n    }\r\n    private class ClickListener extends MouseAdapter{\r\n    \r\n            public void mousePressed(MouseEvent e){\r\n                startButton.setBackground(customPurple);\r\n            }\r\n\r\n            public void mouseReleased(MouseEvent e){\r\n                startButton.setBackground(Color.BLACK);\r\n            }\r\n    \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nTo me as a beginner programmer there is no difference in how I used it in my practice project and my current one, so please help me understand what I&#39;m missing!\r\n\r\nAlso I&#39;m aware of a very similar question where the answer was to define my adapter as:\r\n\r\n```\r\nMouseListener mouseLtnr = new MouseAdapter()\r\n{\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n\r\n    }\r\n }\r\n```\r\nBut firstly I think defining it like this is uglier than the way my practice exercise did it and secondly I really want to understand why it worked in the first place, but not now.\r\n\r\n","title":"How to use only one MouseListener function without having to implement all methods?","body":"<p>So basically I did an exercise before where we only used a single method of the MouseListener class (see 1st code), and I thought I understood how MouseAdapters work so I tried to implement it in my own project to make a button change color when it is pressed/released (see 2nd code), but apparently it is asking me to &quot;The type HomeScreen must implement the inherited abstract method MouseListener.mouseEntered(MouseEvent)&quot;.</p>\n<p>First code:</p>\n<pre><code>package DragDrop;\n\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JPanel;\n\npublic class DragPanel extends JPanel{\n    ImageIcon image = new ImageIcon(&quot;image.png&quot;);\n    final int WIDTH = image.getIconWidth();\n    final int HEIGTH = image.getIconHeight();\n    Point imageCorner;\n    Point prevPt;\n    \n    DragPanel(){\n\n        imageCorner = new Point(0,0);\n        ClickListener clickListener = new ClickListener();\n        DragListener dragListener = new DragListener();\n        this.addMouseListener(clickListener);\n        this.addMouseMotionListener(dragListener);\n\n    }\n\n\n    public void paintComponent(Graphics g){\n\n        super.paintComponent(g);\n        image.paintIcon(this, g, (int)imageCorner.getX(), (int)imageCorner.getY()) ;\n\n    }\n\n    private class ClickListener extends MouseAdapter{\n\n        public void mousePressed(MouseEvent e){\n            prevPt = e.getPoint();\n        }\n\n    }\n\n    private class DragListener extends MouseMotionAdapter{\n\n        public void mouseDragged(MouseEvent e){\n            Point currentPt = e.getPoint();\n\n            imageCorner.translate(\n                (int)(currentPt.getX()-prevPt.getX()), \n                (int)(currentPt.getY()-prevPt.getY()));\n                prevPt = currentPt;\n                repaint();\n        }\n    }\n\n}\n\n</code></pre>\n<p>Second code:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class HomeScreen extends JPanel {\n\n    JPanel startButtonPanel = new JPanel();\n    JLabel titleLabel = new JLabel(&quot;Izara's Adventure&quot;);\n    Font titleFont = new Font(&quot;Noganas Regular&quot;,Font.PLAIN,90);\n    Font textFont = new Font(&quot;Noganas Regular&quot;,Font.PLAIN,50);\n    JButton startButton = new JButton(&quot;Start&quot;);\n    Color customGreen = new Color(0x35b875);\n    Color customPurple = new Color(0x49145a);\n    \n    HomeScreen(){\n        ClickListener clickListener = new ClickListener();\n        this.setBounds(0, 100, 1024,150);\n        this.setBackground(Color.black);\n\n        startButtonPanel.setBounds(350, 350, 324, 150);\n        startButtonPanel.setBackground(Color.black);\n        startButton.setPreferredSize(new Dimension(200, 90));\n        startButton.setBackground(Color.BLACK);\n        startButton.setFocusable(false);\n        startButton.setForeground(customGreen);\n        startButton.setFont(textFont);\n        startButton.addMouseListener(clickListener);\n        startButton.setBorder(BorderFactory.createDashedBorder(customGreen,3,5,3,false));\n        startButtonPanel.add(startButton);\n\n        titleLabel.setFont(titleFont);\n        titleLabel.setForeground(customGreen);\n        this.add(titleLabel);\n    }\n    private class ClickListener extends MouseAdapter{\n    \n            public void mousePressed(MouseEvent e){\n                startButton.setBackground(customPurple);\n            }\n\n            public void mouseReleased(MouseEvent e){\n                startButton.setBackground(Color.BLACK);\n            }\n    \n    }\n}\n\n</code></pre>\n<p>To me as a beginner programmer there is no difference in how I used it in my practice project and my current one, so please help me understand what I'm missing!</p>\n<p>Also I'm aware of a very similar question where the answer was to define my adapter as:</p>\n<pre><code>MouseListener mouseLtnr = new MouseAdapter()\n{\n\n    @Override\n    public void mouseClicked(MouseEvent arg0) {\n        // TODO Auto-generated method stub\n\n    }\n }\n</code></pre>\n<p>But firstly I think defining it like this is uglier than the way my practice exercise did it and secondly I really want to understand why it worked in the first place, but not now.</p>\n"},{"tags":["javascript","java","json","httpconnection"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695143761,"post_id":77136238,"comment_id":135983597,"body_markdown":"Probably a duplicate of https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java.  What is the benefit of converting the numeric response code to a String?","body":"Probably a duplicate of <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>.  What is the benefit of converting the numeric response code to a String?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695151176,"post_id":77136238,"comment_id":135984756,"body_markdown":"Don&#39;t use == for comparing Strings. Use the equals method. See [Comparing Strings in Java](https://www.baeldung.com/java-compare-strings)","body":"Don&#39;t use == for comparing Strings. Use the equals method. See <a href=\"https://www.baeldung.com/java-compare-strings\" rel=\"nofollow noreferrer\">Comparing Strings in Java</a>"},{"owner":{"account_id":29483619,"reputation":1,"user_id":22594023,"display_name":"Hector Franck"},"score":0,"creation_date":1695317198,"post_id":77136238,"comment_id":136011678,"body_markdown":"I understand, I will change this, but my problem is: &#39;intResponseCodeGET&#39; I did not receive the response code.","body":"I understand, I will change this, but my problem is: &#39;intResponseCodeGET&#39; I did not receive the response code."}],"owner":{"account_id":29483619,"reputation":1,"user_id":22594023,"display_name":"Hector Franck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695139824,"creation_date":1695139712,"question_id":77136238,"body_markdown":"I have a problem in my code, I&#39;m programming for a platform called FLUIG, in this context I need to make a call to an endpoint, but when I try to use the `getResponseCode()` method my code dies.\r\n```\r\nvar apiC = new java.net.URL(strUrl); \r\n\tvar consumo = apiC.openConnection(); \r\n\tresponseGET = strUrl;\r\n\t\r\n\t\r\n\t//consumo.setDoOutput(!0); \r\n    consumo.setConnectTimeout(18e4); \r\n    consumo.setReadTimeout(18e4); \r\n    consumo.setRequestMethod(&quot;GET&quot;); \r\n    consumo.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + Token); \r\n    consumo.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;); \r\n    consumo.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;); \r\n    consumo.setRequestProperty(&quot;tenant&quot;, l); \r\n    var intResponseCodeGET = consumo.getResponseCode();\r\n    consumo.setDoOutput(true);\r\n    \r\n    \r\n    \r\n    //new  \r\n    var intResponseCodeGET = &quot;&quot;\r\n    \tintResponseCodeGET = (consumo.getResponseCode()).toString();\r\n    \r\n\tresponseGET = intResponseCodeGET;\r\n\tif( intResponseCodeGET == &quot;200&quot; || intResponseCodeGET == &quot;201&quot; )\r\n\t{\t\r\n\t\tresponseGET = &quot;ok&quot;;\r\n\t}\r\n```\r\n\r\nI would like to know why and how to fix this problem","title":"Problem when trying to use (getResponseCode())","body":"<p>I have a problem in my code, I'm programming for a platform called FLUIG, in this context I need to make a call to an endpoint, but when I try to use the <code>getResponseCode()</code> method my code dies.</p>\n<pre><code>var apiC = new java.net.URL(strUrl); \n    var consumo = apiC.openConnection(); \n    responseGET = strUrl;\n    \n    \n    //consumo.setDoOutput(!0); \n    consumo.setConnectTimeout(18e4); \n    consumo.setReadTimeout(18e4); \n    consumo.setRequestMethod(&quot;GET&quot;); \n    consumo.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + Token); \n    consumo.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;); \n    consumo.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;); \n    consumo.setRequestProperty(&quot;tenant&quot;, l); \n    var intResponseCodeGET = consumo.getResponseCode();\n    consumo.setDoOutput(true);\n    \n    \n    \n    //new  \n    var intResponseCodeGET = &quot;&quot;\n        intResponseCodeGET = (consumo.getResponseCode()).toString();\n    \n    responseGET = intResponseCodeGET;\n    if( intResponseCodeGET == &quot;200&quot; || intResponseCodeGET == &quot;201&quot; )\n    {   \n        responseGET = &quot;ok&quot;;\n    }\n</code></pre>\n<p>I would like to know why and how to fix this problem</p>\n"},{"tags":["java","oop","polymorphism","overloading","overriding"],"comments":[{"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"score":0,"creation_date":1570222439,"post_id":154577,"comment_id":102858333,"body_markdown":"Below answers explains very well about polymorphism. But i have strong objection to say overloading is a type of polymorphism, which i tried justify in my  question and answer that actually concentrates on overloading is polymorphism or not. I tried to justify @The Digital Gabeg answer present in this thread. Refer [Elaboration: Method overloading is a static/compile-time binding but not polymorphism. Is it correct to correlate static binding with polymorphism?](https://stackoverflow.com/questions/57734601/elaboration-method-overloading-is-a-static-compile-time-binding-but-not-polymor)","body":"Below answers explains very well about polymorphism. But i have strong objection to say overloading is a type of polymorphism, which i tried justify in my  question and answer that actually concentrates on overloading is polymorphism or not. I tried to justify @The Digital Gabeg answer present in this thread. Refer <a href=\"https://stackoverflow.com/questions/57734601/elaboration-method-overloading-is-a-static-compile-time-binding-but-not-polymor\">Elaboration: Method overloading is a static/compile-time binding but not polymorphism. Is it correct to correlate static binding with polymorphism?</a>"}],"answers":[{"tags":[],"owner":{"account_id":722,"reputation":8065,"user_id":945,"accept_rate":73,"display_name":"Clyde"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1222803192,"creation_date":1222803192,"answer_id":154594,"question_id":154577,"body_markdown":"The term overloading refers to having multiple versions of something with the same name, usually methods with different parameter lists\r\n\r\n    public int DoSomething(int objectId) { ... }\r\n    public int DoSomething(string objectName) { ... }\r\n\r\nSo these functions might do the same thing but you have the option to call it with an ID, or a name.  Has nothing to do with inheritance, abstract classes, etc.\r\n\r\nOverriding usually refers to polymorphism, as you described in your question\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>The term overloading refers to having multiple versions of something with the same name, usually methods with different parameter lists</p>\n\n<pre><code>public int DoSomething(int objectId) { ... }\npublic int DoSomething(string objectName) { ... }\n</code></pre>\n\n<p>So these functions might do the same thing but you have the option to call it with an ID, or a name.  Has nothing to do with inheritance, abstract classes, etc.</p>\n\n<p>Overriding usually refers to polymorphism, as you described in your question</p>\n"},{"comments":[{"owner":{"account_id":6811,"reputation":3200,"user_id":11572,"display_name":"QBziZ"},"score":4,"creation_date":1222805112,"post_id":154601,"comment_id":46562,"body_markdown":"It should not be the behaviour of the object that changes, but his implementation. Same behaviour, different implementation, that&#39;s polymorphism.","body":"It should not be the behaviour of the object that changes, but his implementation. Same behaviour, different implementation, that&#39;s polymorphism."},{"owner":{"account_id":4113451,"reputation":16922,"user_id":3375713,"accept_rate":93,"display_name":"Sнаđошƒаӽ"},"score":0,"creation_date":1468916152,"post_id":154601,"comment_id":64310321,"body_markdown":"@QBziZ You need to define *behaviour*, especially the adjective *same*. If the behaviour is same, why should their implementation be different? It is not that someone is unhappy with a certain implementation, hence requires a different one.","body":"@QBziZ You need to define <i>behaviour</i>, especially the adjective <i>same</i>. If the behaviour is same, why should their implementation be different? It is not that someone is unhappy with a certain implementation, hence requires a different one."}],"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1222804746,"creation_date":1222803305,"answer_id":154601,"question_id":154577,"body_markdown":"You are correct that overloading is not the answer.\r\n\r\nNeither is overriding.  Overriding is the means by which you get polymorphism.   Polymorphism is the ability for an object to vary behavior based on its type.  This is best demonstrated when the caller of an object that exhibits polymorphism is unaware of what specific type the object is.\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>You are correct that overloading is not the answer.</p>\n\n<p>Neither is overriding.  Overriding is the means by which you get polymorphism.   Polymorphism is the ability for an object to vary behavior based on its type.  This is best demonstrated when the caller of an object that exhibits polymorphism is unaware of what specific type the object is.</p>\n"},{"tags":[],"owner":{"account_id":10829,"reputation":2224,"user_id":20630,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222803737,"creation_date":1222803314,"answer_id":154603,"question_id":154577,"body_markdown":"overloading is when you define 2 methods with the same name but different parameters\r\n\r\noverriding is where you change the behavior of the base class via a function with the same name in a subclass.\r\n\r\nSo Polymorphism is related to overriding but not really overloading.\r\n\r\nHowever if someone gave me a simple answer of &quot;overriding&quot; for the question &quot;What is polymorphism?&quot; I would ask for further explanation.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>overloading is when you define 2 methods with the same name but different parameters</p>\n\n<p>overriding is where you change the behavior of the base class via a function with the same name in a subclass.</p>\n\n<p>So Polymorphism is related to overriding but not really overloading.</p>\n\n<p>However if someone gave me a simple answer of \"overriding\" for the question \"What is polymorphism?\" I would ask for further explanation.</p>\n"},{"tags":[],"owner":{"account_id":6593,"reputation":1347,"user_id":11157,"display_name":"mxg"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1222803365,"creation_date":1222803365,"answer_id":154607,"question_id":154577,"body_markdown":"Polymorphism is the ability for an object to appear in multiple forms.  This involves using inheritance and virtual functions to build a family of objects which can be interchanged.  The base class contains the prototypes of the virtual functions, possibly unimplemented or with default implementations as the application dictates, and the various derived classes each implements them differently to affect different behaviors.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism is the ability for an object to appear in multiple forms.  This involves using inheritance and virtual functions to build a family of objects which can be interchanged.  The base class contains the prototypes of the virtual functions, possibly unimplemented or with default implementations as the application dictates, and the various derived classes each implements them differently to affect different behaviors.</p>\n"},{"tags":[],"owner":{"account_id":2311,"reputation":53974,"user_id":3208,"accept_rate":86,"display_name":"Brian G"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1222803478,"creation_date":1222803478,"answer_id":154615,"question_id":154577,"body_markdown":"The classic example, Dogs and cats are animals, animals have the method makeNoise. I can iterate through an array of animals calling makeNoise on them and expect that they would do there respective implementation.\r\n\r\nThe calling code does not have to know what specific animal they are.\r\n\r\nThats what I think of as polymorphism.\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>The classic example, Dogs and cats are animals, animals have the method makeNoise. I can iterate through an array of animals calling makeNoise on them and expect that they would do there respective implementation.</p>\n\n<p>The calling code does not have to know what specific animal they are.</p>\n\n<p>Thats what I think of as polymorphism.</p>\n"},{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1278235011,"post_id":154628,"comment_id":3266556,"body_markdown":"It&#39;s an example of runtime polymorphism. Compile time polymorphism is also possible through method overloading and generic types.","body":"It&#39;s an example of runtime polymorphism. Compile time polymorphism is also possible through method overloading and generic types."},{"owner":{"account_id":25438,"reputation":274811,"user_id":65387,"accept_rate":66,"display_name":"mpen"},"score":0,"creation_date":1284186250,"post_id":154628,"comment_id":3888134,"body_markdown":"Shape -&gt; Parallelogram -&gt; Rectangle -&gt; Square","body":"Shape -&gt; Parallelogram -&gt; Rectangle -&gt; Square"},{"owner":{"account_id":1915042,"reputation":550,"user_id":1727777,"accept_rate":80,"display_name":"Sam003"},"score":0,"creation_date":1436128768,"post_id":154628,"comment_id":50468169,"body_markdown":"@yankee2905  in this case, I think you could use interfaces, since a class could implement multiple interfaces.","body":"@yankee2905  in this case, I think you could use interfaces, since a class could implement multiple interfaces."},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":1,"creation_date":1439061088,"post_id":154628,"comment_id":51710480,"body_markdown":"@Zhisheng Or adding an pee method in abstract parent class? I would use interface to implement something else.","body":"@Zhisheng Or adding an pee method in abstract parent class? I would use interface to implement something else."}],"tags":[],"owner":{"account_id":11939,"reputation":83163,"user_id":1103052,"accept_rate":88,"display_name":"Mark A. Nicolosi"},"comment_count":4,"down_vote_count":3,"up_vote_count":45,"is_accepted":false,"score":42,"last_activity_date":1222803710,"creation_date":1222803710,"answer_id":154628,"question_id":154577,"body_markdown":"Here&#39;s an example of polymorphism in pseudo-C#/Java:\r\n  \r\n    class Animal\r\n    {\r\n        abstract string MakeNoise ();\r\n    }\r\n\r\n    class Cat : Animal {\r\n        string MakeNoise () {\r\n            return &quot;Meow&quot;;\r\n        }\r\n    }\r\n\r\n    class Dog : Animal {\r\n        string MakeNoise () {\r\n            return &quot;Bark&quot;;\r\n        }\r\n    }\r\n\r\n    Main () {\r\n       Animal animal = Zoo.GetAnimal ();\r\n       Console.WriteLine (animal.MakeNoise ());\r\n    }\r\n\r\nThe Main function doesn&#39;t know the type of the animal and depends on a particular implementation&#39;s behavior of the MakeNoise() method.\r\n\r\nEdit: Looks like Brian beat me to the punch. Funny we used the same example. But the above code should help clarify the concepts.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Here's an example of polymorphism in pseudo-C#/Java:</p>\n\n<pre><code>class Animal\n{\n    abstract string MakeNoise ();\n}\n\nclass Cat : Animal {\n    string MakeNoise () {\n        return \"Meow\";\n    }\n}\n\nclass Dog : Animal {\n    string MakeNoise () {\n        return \"Bark\";\n    }\n}\n\nMain () {\n   Animal animal = Zoo.GetAnimal ();\n   Console.WriteLine (animal.MakeNoise ());\n}\n</code></pre>\n\n<p>The Main function doesn't know the type of the animal and depends on a particular implementation's behavior of the MakeNoise() method.</p>\n\n<p>Edit: Looks like Brian beat me to the punch. Funny we used the same example. But the above code should help clarify the concepts.</p>\n"},{"comments":[{"owner":{"account_id":2142,"reputation":11418,"user_id":2954,"accept_rate":93,"display_name":"Sergio Acosta"},"score":0,"creation_date":1222814497,"post_id":154631,"comment_id":46925,"body_markdown":"I suppose it was voted down because historically method overloading is not considered as part of polymorphism in the object oriented paradigm. Method overloading and polymorphism are two ortogonal, independent features of a programming language.","body":"I suppose it was voted down because historically method overloading is not considered as part of polymorphism in the object oriented paradigm. Method overloading and polymorphism are two ortogonal, independent features of a programming language."},{"owner":{"account_id":1403,"reputation":25791,"user_id":1875,"accept_rate":100,"display_name":"Peter Meyer"},"score":7,"creation_date":1222821196,"post_id":154631,"comment_id":47124,"body_markdown":"As I stated in my answer here, I disagree -- the two features are not orthogonal, but are closely related.  Polymorphism != Inheritance.  You have my up-vote.","body":"As I stated in my answer here, I disagree -- the two features are not orthogonal, but are closely related.  Polymorphism != Inheritance.  You have my up-vote."},{"owner":{"account_id":52886,"reputation":11803,"user_id":158074,"accept_rate":100,"display_name":"rsenna"},"score":3,"creation_date":1411050276,"post_id":154631,"comment_id":40565094,"body_markdown":"In other words, type polymorphism vs. ad-hoc polymorphism. I&#39;m upvoting this answer, even if not as complete as it should, because it correctly states that both overloading and overriding are related to polymorphism. Saying that polymorphism in OOP languages can only be achieved by class inheritance is simply wrong - we should remember that there are some other OOP languages besides Java and C++, where one can use concepts like multiple dispatching, ad hoc polymorphism, parametric polymorphism and so on.","body":"In other words, type polymorphism vs. ad-hoc polymorphism. I&#39;m upvoting this answer, even if not as complete as it should, because it correctly states that both overloading and overriding are related to polymorphism. Saying that polymorphism in OOP languages can only be achieved by class inheritance is simply wrong - we should remember that there are some other OOP languages besides Java and C++, where one can use concepts like multiple dispatching, ad hoc polymorphism, parametric polymorphism and so on."},{"owner":{"account_id":171969,"reputation":8973,"user_id":399707,"accept_rate":89,"display_name":"Rad&#39;Val"},"score":2,"creation_date":1434801675,"post_id":154631,"comment_id":49940665,"body_markdown":"@rsenna This might be incomplete but it answers the question much better than the rest IMHO. Also, very nice that you mentioned the ad-hoc and parametric polymorphism.","body":"@rsenna This might be incomplete but it answers the question much better than the rest IMHO. Also, very nice that you mentioned the ad-hoc and parametric polymorphism."}],"tags":[],"owner":{"account_id":349,"reputation":58241,"user_id":437,"accept_rate":87,"display_name":"Patrick McElhaney"},"comment_count":4,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1525093223,"creation_date":1222803757,"answer_id":154631,"question_id":154577,"body_markdown":"Both overriding and overloading are used to achieve polymorphism. \r\n\r\n  You could have a method in a class\r\n    that is **overridden** in one or\r\n    more subclasses. The method does\r\n    different things depending on which\r\n    class was used to instantiate an object.\r\n\r\n        abstract class Beverage {\r\n           boolean isAcceptableTemperature();\r\n        }\r\n\r\n        class Coffee extends Beverage {\r\n           boolean isAcceptableTemperature() { \r\n               return temperature &gt; 70;\r\n           }\r\n        }\r\n\r\n        class Wine extends Beverage {\r\n           boolean isAcceptableTemperature() { \r\n               return temperature &lt; 10;\r\n           }\r\n        }\r\n\r\n\r\n    \r\n\r\n    \r\n  You could also have a method that is\r\n    **overloaded** with two or more sets of arguments. The method does\r\n    different things based on the\r\n    type(s) of argument(s) passed.\r\n\r\n\r\n        class Server {\r\n            public void pour (Coffee liquid) {\r\n                new Cup().fillToTopWith(liquid);\r\n            }\r\n\r\n            public void pour (Wine liquid) {\r\n                new WineGlass().fillHalfwayWith(liquid);\r\n            }\r\n            \r\n            public void pour (Lemonade liquid, boolean ice) {\r\n                Glass glass = new Glass();\r\n                if (ice) {\r\n                    glass.fillToTopWith(new Ice());\r\n                }\r\n                glass.fillToTopWith(liquid);\r\n            }\r\n        }\r\n\r\n ","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Both overriding and overloading are used to achieve polymorphism. </p>\n\n<p>You could have a method in a class\n    that is <strong>overridden</strong> in one or\n    more subclasses. The method does\n    different things depending on which\n    class was used to instantiate an object.</p>\n\n<pre><code>    abstract class Beverage {\n       boolean isAcceptableTemperature();\n    }\n\n    class Coffee extends Beverage {\n       boolean isAcceptableTemperature() { \n           return temperature &gt; 70;\n       }\n    }\n\n    class Wine extends Beverage {\n       boolean isAcceptableTemperature() { \n           return temperature &lt; 10;\n       }\n    }\n</code></pre>\n\n<p>You could also have a method that is\n    <strong>overloaded</strong> with two or more sets of arguments. The method does\n    different things based on the\n    type(s) of argument(s) passed.</p>\n\n<pre><code>    class Server {\n        public void pour (Coffee liquid) {\n            new Cup().fillToTopWith(liquid);\n        }\n\n        public void pour (Wine liquid) {\n            new WineGlass().fillHalfwayWith(liquid);\n        }\n\n        public void pour (Lemonade liquid, boolean ice) {\n            Glass glass = new Glass();\n            if (ice) {\n                glass.fillToTopWith(new Ice());\n            }\n            glass.fillToTopWith(liquid);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9861,"reputation":1783,"user_id":18381,"display_name":"Jason Peacock"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1222803874,"creation_date":1222803874,"answer_id":154646,"question_id":154577,"body_markdown":"Neither:\r\n\r\nOverloading is when you have the same function name that takes different parameters.\r\n\r\nOverriding is when a child class replaces a parent&#39;s method with one of its own (this in iteself does not constitute polymorphism).\r\n\r\nPolymorphism is late binding, e.g. the base class (parent) methods are being called but not until runtime does the application know what the actual object is - it may be a child class whose methods are different.  This is because any child class can be used where a base class is defined.\r\n\r\nIn Java you see polymorphism a lot with the collections library:\r\n\r\n    int countStuff(List stuff) {\r\n      return stuff.size();\r\n    }\r\n\r\nList is the base class, the compiler has no clue if you&#39;re counting a linked list, vector, array, or a custom list implementation, as long as it acts like a List:\r\n\r\n    List myStuff = new MyTotallyAwesomeList();\r\n    int result = countStuff(myStuff);\r\n\r\nIf you were overloading you&#39;d have:\r\n\r\n    int countStuff(LinkedList stuff) {...}\r\n    int countStuff(ArrayList stuff) {...}\r\n    int countStuff(MyTotallyAwesomeList stuff) {...}\r\n    etc...\r\n\r\nand the correct version of countStuff() would be picked by the compiler to match the parameters.\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Neither:</p>\n\n<p>Overloading is when you have the same function name that takes different parameters.</p>\n\n<p>Overriding is when a child class replaces a parent's method with one of its own (this in iteself does not constitute polymorphism).</p>\n\n<p>Polymorphism is late binding, e.g. the base class (parent) methods are being called but not until runtime does the application know what the actual object is - it may be a child class whose methods are different.  This is because any child class can be used where a base class is defined.</p>\n\n<p>In Java you see polymorphism a lot with the collections library:</p>\n\n<pre><code>int countStuff(List stuff) {\n  return stuff.size();\n}\n</code></pre>\n\n<p>List is the base class, the compiler has no clue if you're counting a linked list, vector, array, or a custom list implementation, as long as it acts like a List:</p>\n\n<pre><code>List myStuff = new MyTotallyAwesomeList();\nint result = countStuff(myStuff);\n</code></pre>\n\n<p>If you were overloading you'd have:</p>\n\n<pre><code>int countStuff(LinkedList stuff) {...}\nint countStuff(ArrayList stuff) {...}\nint countStuff(MyTotallyAwesomeList stuff) {...}\netc...\n</code></pre>\n\n<p>and the correct version of countStuff() would be picked by the compiler to match the parameters.</p>\n"},{"comments":[{"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"score":0,"creation_date":1222804259,"post_id":154668,"comment_id":46526,"body_markdown":"some references: http://www.linuxtopia.org/online_books/programming_books/thinking_in_c++/Chapter15_017.html","body":"some references: <a href=\"http://www.linuxtopia.org/online_books/programming_books/thinking_in_c++/Chapter15_017.html\" rel=\"nofollow noreferrer\">linuxtopia.org/online_books/programming_books/thinking_in_c+&zwnj;&#8203;+/&hellip;</a>"},{"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"score":0,"creation_date":1222806914,"post_id":154668,"comment_id":46647,"body_markdown":"animal a = new dog();\na was constructed as a dog, and will print &quot;woff&quot;.\nIf you want it to print thump then you need to upcast it.((animal) a).makeRumor()","body":"animal a = new dog(); a was constructed as a dog, and will print &quot;woff&quot;. If you want it to print thump then you need to upcast it.((animal) a).makeRumor()"},{"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"score":0,"creation_date":1222807279,"post_id":154668,"comment_id":46674,"body_markdown":"That&#39;s reference upcasting, but the object is still a dog.  If you want it to be an animal, you must explicitly upcast the object.","body":"That&#39;s reference upcasting, but the object is still a dog.  If you want it to be an animal, you must explicitly upcast the object."},{"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"score":0,"creation_date":1222807348,"post_id":154668,"comment_id":46679,"body_markdown":"Figured it out.  Question was tagged Java. You answered C++.  You may be correct in C++.  I am definitely correct in Java.","body":"Figured it out.  Question was tagged Java. You answered C++.  You may be correct in C++.  I am definitely correct in Java."},{"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"score":0,"creation_date":1222807907,"post_id":154668,"comment_id":46704,"body_markdown":"should happen every time a copy constructor is involved\n\nhere is a reference http://www.fredosaurus.com/notes-cpp/oop-condestructors/copyconstructors.html\n\ncase three matches; ignore the new operator which is there only to disambiguate creation.","body":"should happen every time a copy constructor is involved  here is a reference <a href=\"http://www.fredosaurus.com/notes-cpp/oop-condestructors/copyconstructors.html\" rel=\"nofollow noreferrer\">fredosaurus.com/notes-cpp/oop-condestructors/&hellip;</a>  case three matches; ignore the new operator which is there only to disambiguate creation."},{"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"score":0,"creation_date":1222808139,"post_id":154668,"comment_id":46718,"body_markdown":"found a comprehensive (and better) explanation, for further reading:\n\nhttp://bytes.com/forum/post2982201-3.html","body":"found a comprehensive (and better) explanation, for further reading:  <a href=\"http://bytes.com/forum/post2982201-3.html\" rel=\"nofollow noreferrer\">bytes.com/forum/post2982201-3.html</a>"},{"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"score":0,"creation_date":1222813191,"post_id":154668,"comment_id":46889,"body_markdown":"sorry for the flames, I was making this example in c++ (as per the post) as java doesn&#39;t truly support polymorphism so it&#39;s difficult to differentiate between the concepts in the question","body":"sorry for the flames, I was making this example in c++ (as per the post) as java doesn&#39;t truly support polymorphism so it&#39;s difficult to differentiate between the concepts in the question"}],"tags":[],"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1337133806,"creation_date":1222804218,"answer_id":154668,"question_id":154577,"body_markdown":"Polymorphism relates to the ability of a language to have different object treated uniformly by using a single interfaces; as such it is related to overriding, so the interface (or the base class) is polymorphic, the implementor is the object which overrides (two faces of the same medal)\r\n\r\nanyway, the difference between the two terms is better explained using other languages, such as c++: a polymorphic object in c++ behaves as the java counterpart if the base function is virtual, but if the method is not virtual the code jump is resolved *statically*, and the true type not checked at runtime so, polymorphism include the ability for an object to behave differently depending on the interface used to access it; let me make an example in pseudocode:\r\n\r\n    class animal {\r\n        public void makeRumor(){\r\n            print(&quot;thump&quot;);\r\n        }\r\n    }\r\n    class dog extends animal {\r\n        public void makeRumor(){\r\n            print(&quot;woff&quot;);\r\n        }\r\n    }\r\n\r\n    animal a = new dog();\r\n    dog b = new dog();\r\n\r\n    a.makeRumor() -&gt; prints thump\r\n    b.makeRumor() -&gt; prints woff\r\n\r\n(supposing that makeRumor is NOT virtual)\r\n\r\njava doesn&#39;t truly offer this level of polymorphism (called also object slicing). \r\n\r\n\r\n animal a = new dog();\r\n    dog b = new dog();\r\n\r\n    a.makeRumor() -&gt; prints thump\r\n    b.makeRumor() -&gt; prints woff\r\non both case it will only print woff..\r\nsince a and b is refering to class dog\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism relates to the ability of a language to have different object treated uniformly by using a single interfaces; as such it is related to overriding, so the interface (or the base class) is polymorphic, the implementor is the object which overrides (two faces of the same medal)</p>\n\n<p>anyway, the difference between the two terms is better explained using other languages, such as c++: a polymorphic object in c++ behaves as the java counterpart if the base function is virtual, but if the method is not virtual the code jump is resolved <em>statically</em>, and the true type not checked at runtime so, polymorphism include the ability for an object to behave differently depending on the interface used to access it; let me make an example in pseudocode:</p>\n\n<pre><code>class animal {\n    public void makeRumor(){\n        print(\"thump\");\n    }\n}\nclass dog extends animal {\n    public void makeRumor(){\n        print(\"woff\");\n    }\n}\n\nanimal a = new dog();\ndog b = new dog();\n\na.makeRumor() -&gt; prints thump\nb.makeRumor() -&gt; prints woff\n</code></pre>\n\n<p>(supposing that makeRumor is NOT virtual)</p>\n\n<p>java doesn't truly offer this level of polymorphism (called also object slicing). </p>\n\n<p>animal a = new dog();\n    dog b = new dog();</p>\n\n<pre><code>a.makeRumor() -&gt; prints thump\nb.makeRumor() -&gt; prints woff\n</code></pre>\n\n<p>on both case it will only print woff..\nsince a and b is refering to class dog</p>\n"},{"comments":[{"owner":{"account_id":313619,"reputation":8223,"user_id":628361,"accept_rate":75,"display_name":"J.N."},"score":9,"creation_date":1298991090,"post_id":154673,"comment_id":5788769,"body_markdown":"This is old but Polymorphism doesn&#39;t imply that the other class must be in the inheritance tree. It does in Java if you consider interfaces to be part of the inheritance tree, but not in Go, where interfaces are implemented implicitly.","body":"This is old but Polymorphism doesn&#39;t imply that the other class must be in the inheritance tree. It does in Java if you consider interfaces to be part of the inheritance tree, but not in Go, where interfaces are implemented implicitly."},{"owner":{"account_id":285755,"reputation":464,"user_id":584616,"display_name":"StCredZero"},"score":6,"creation_date":1359758380,"post_id":154673,"comment_id":20481481,"body_markdown":"Actually, you don&#39;t need classes for polymorphism at all.","body":"Actually, you don&#39;t need classes for polymorphism at all."},{"owner":{"account_id":4752041,"reputation":795,"user_id":3841835,"display_name":"csjacobs24"},"score":4,"creation_date":1427400794,"post_id":154673,"comment_id":46773123,"body_markdown":"I&#39;m a newbie, and correct me if I&#39;m wrong, but I wouldn&#39;t say overloading is unrelated to polymorphism. At least in Java, polymorphism is when the implementation is chosen based on the type of the caller, and overloading is when the implementation is chosen based on the type of the parameters, isn&#39;t it? Seeing the similarity between the two helps me understand it.","body":"I&#39;m a newbie, and correct me if I&#39;m wrong, but I wouldn&#39;t say overloading is unrelated to polymorphism. At least in Java, polymorphism is when the implementation is chosen based on the type of the caller, and overloading is when the implementation is chosen based on the type of the parameters, isn&#39;t it? Seeing the similarity between the two helps me understand it."},{"owner":{"account_id":2433769,"reputation":1393,"user_id":2124148,"accept_rate":100,"display_name":"Jossie Calderon"},"score":14,"creation_date":1466648610,"post_id":154673,"comment_id":63407883,"body_markdown":"Incorrect. `Ad hoc polymorphism` is what you described in your **Overloading** section and *is* a case of polymorphism.","body":"Incorrect. <code>Ad hoc polymorphism</code> is what you described in your <b>Overloading</b> section and <i>is</i> a case of polymorphism."},{"owner":{"account_id":1429360,"reputation":4094,"user_id":1352127,"accept_rate":45,"display_name":"Shailesh Pratapwar"},"score":4,"creation_date":1526434467,"post_id":154673,"comment_id":87739077,"body_markdown":"&quot;It is unrelated to either overriding or polymorphism&quot;. This statement is wrong.","body":"&quot;It is unrelated to either overriding or polymorphism&quot;. This statement is wrong."},{"owner":{"account_id":2674818,"reputation":698,"user_id":2311455,"accept_rate":50,"display_name":"Mohammad Ghanem"},"score":0,"creation_date":1541932548,"post_id":154673,"comment_id":93380585,"body_markdown":"As I understand, static polymorphism same to overloading. can you clarify plz.","body":"As I understand, static polymorphism same to overloading. can you clarify plz."},{"owner":{"account_id":7888499,"reputation":914,"user_id":5959593,"accept_rate":0,"display_name":"Minh Nghĩa"},"score":0,"creation_date":1555068482,"post_id":154673,"comment_id":97989781,"body_markdown":"I think overloading is a case of polymorphism.","body":"I think overloading is a case of polymorphism."},{"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"score":0,"creation_date":1571021517,"post_id":154673,"comment_id":103089013,"body_markdown":"Ad hoc polymorphism is a authors view that came even to wikipedia. But java doc stays away from that and mentions only about polymorphism and if you open javadoc section of method overloading it is nowhere mentioned it is ad hoc polymorphism. It is a common sense for people who has depth understanding of polymorphism and the understanding of polymorphism forces them not to correlate this ad hoc concept to polymorphism.","body":"Ad hoc polymorphism is a authors view that came even to wikipedia. But java doc stays away from that and mentions only about polymorphism and if you open javadoc section of method overloading it is nowhere mentioned it is ad hoc polymorphism. It is a common sense for people who has depth understanding of polymorphism and the understanding of polymorphism forces them not to correlate this ad hoc concept to polymorphism."}],"tags":[],"owner":{"account_id":7368,"reputation":2775,"user_id":12782,"display_name":"The Digital Gabeg"},"comment_count":8,"down_vote_count":8,"up_vote_count":113,"is_accepted":false,"score":105,"last_activity_date":1347529841,"creation_date":1222804278,"answer_id":154673,"question_id":154577,"body_markdown":"**Polymorphism** is the ability of a class instance to behave as if it were an instance of another class in its inheritance tree, most often one of its ancestor classes. For example, in Java all classes inherit from Object. Therefore, you can create a variable of type Object and assign to it an instance of any class.\r\n\r\nAn **override** is a type of function which occurs in a class which inherits from another class. An override function &quot;replaces&quot; a function inherited from the base class, but does so in such a way that it is called even when an instance of its class is pretending to be a different type through polymorphism. Referring to the previous example, you could define your own class and override the toString() function. Because this function is inherited from Object, it will still be available if you copy an instance of this class into an Object-type variable. Normally, if you call toString() on your class while it is pretending to be an Object, the version of toString which will actually fire is the one defined on Object itself. However, because the function is an override, the definition of toString() from your class is used even when the class instance&#39;s true type is hidden behind polymorphism.\r\n\r\n**Overloading** is the action of defining multiple methods with the same name, but with different parameters. It is unrelated to either overriding or polymorphism.","title":"Polymorphism vs Overriding vs Overloading","body":"<p><strong>Polymorphism</strong> is the ability of a class instance to behave as if it were an instance of another class in its inheritance tree, most often one of its ancestor classes. For example, in Java all classes inherit from Object. Therefore, you can create a variable of type Object and assign to it an instance of any class.</p>\n\n<p>An <strong>override</strong> is a type of function which occurs in a class which inherits from another class. An override function \"replaces\" a function inherited from the base class, but does so in such a way that it is called even when an instance of its class is pretending to be a different type through polymorphism. Referring to the previous example, you could define your own class and override the toString() function. Because this function is inherited from Object, it will still be available if you copy an instance of this class into an Object-type variable. Normally, if you call toString() on your class while it is pretending to be an Object, the version of toString which will actually fire is the one defined on Object itself. However, because the function is an override, the definition of toString() from your class is used even when the class instance's true type is hidden behind polymorphism.</p>\n\n<p><strong>Overloading</strong> is the action of defining multiple methods with the same name, but with different parameters. It is unrelated to either overriding or polymorphism.</p>\n"},{"comments":[{"owner":{"account_id":7368,"reputation":2775,"user_id":12782,"display_name":"The Digital Gabeg"},"score":0,"creation_date":1222805119,"post_id":154675,"comment_id":46564,"body_markdown":"You&#39;re right in terms of what the words involved mean in general, but in a programming context, when people say &quot;polymorphism&quot; they always means &quot;inheritance-based polymorphism&quot;. Interesting point, but I think that describing polymorphism this way will confuse people.","body":"You&#39;re right in terms of what the words involved mean in general, but in a programming context, when people say &quot;polymorphism&quot; they always means &quot;inheritance-based polymorphism&quot;. Interesting point, but I think that describing polymorphism this way will confuse people."},{"owner":{"account_id":349,"reputation":58241,"user_id":437,"accept_rate":87,"display_name":"Patrick McElhaney"},"score":0,"creation_date":1222806210,"post_id":154675,"comment_id":46612,"body_markdown":"It may be easier to explain polymorphism in terms of inheritance alone, but the way this particular question was asked I think it&#39;s prudent to describe parametric polymorphism as well.","body":"It may be easier to explain polymorphism in terms of inheritance alone, but the way this particular question was asked I think it&#39;s prudent to describe parametric polymorphism as well."},{"owner":{"account_id":1403,"reputation":25791,"user_id":1875,"accept_rate":100,"display_name":"Peter Meyer"},"score":4,"creation_date":1222820605,"post_id":154675,"comment_id":47110,"body_markdown":"To be clear, I think the different forms should be stated -- which I haven&#39;t even adequately done -- because there are a few answers here that are presented as absolute.  I respectfully disagree that in &quot;programmer context ... &#39;polymorphism&#39; always means &#39;inheritance-based polymorphism&#39;&quot;","body":"To be clear, I think the different forms should be stated -- which I haven&#39;t even adequately done -- because there are a few answers here that are presented as absolute.  I respectfully disagree that in &quot;programmer context ... &#39;polymorphism&#39; always means &#39;inheritance-based polymorphism&#39;&quot;"},{"owner":{"account_id":42514,"reputation":382,"user_id":123868,"accept_rate":40,"display_name":"Manu"},"score":3,"creation_date":1291819796,"post_id":154675,"comment_id":4781946,"body_markdown":"i think overloading is better categorized as Ad-hoc_polymorphism http://en.wikipedia.org/wiki/Parametric_polymorphism#Ad-hoc_polymorphism_with_early_binding","body":"i think overloading is better categorized as Ad-hoc_polymorphism <a href=\"http://en.wikipedia.org/wiki/Parametric_polymorphism#Ad-hoc_polymorphism_with_early_binding\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":42514,"reputation":382,"user_id":123868,"accept_rate":40,"display_name":"Manu"},"score":0,"creation_date":1291820358,"post_id":154675,"comment_id":4782073,"body_markdown":"I tend to agree with &#39;The Digital Gabeg&#39; on following. If you are discussing OOP, polymorphism usually means subtype polymorphism, and if you are discussing about type theory it means any type of polymorphism.but like you say, with &#39;programmer context&#39; it&#39;s too ambiguous to deride.","body":"I tend to agree with &#39;The Digital Gabeg&#39; on following. If you are discussing OOP, polymorphism usually means subtype polymorphism, and if you are discussing about type theory it means any type of polymorphism.but like you say, with &#39;programmer context&#39; it&#39;s too ambiguous to deride."},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1396803079,"post_id":154675,"comment_id":34942558,"body_markdown":"+1 for &quot; Polymorphism is simply the ability of an object to specialize its behavior based on its type.&quot;; that a subclass may override a method that provides more specific behaviour for the subclass and that  the runtime knows which method to invoke based on the type of the object which it has.","body":"+1 for &quot; Polymorphism is simply the ability of an object to specialize its behavior based on its type.&quot;; that a subclass may override a method that provides more specific behaviour for the subclass and that  the runtime knows which method to invoke based on the type of the object which it has."}],"tags":[],"owner":{"account_id":1403,"reputation":25791,"user_id":1875,"accept_rate":100,"display_name":"Peter Meyer"},"comment_count":6,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1222804279,"creation_date":1222804279,"answer_id":154675,"question_id":154577,"body_markdown":"Specifically saying overloading or overriding doesn&#39;t give the full picture.  Polymorphism is simply the ability of an object to specialize its behavior based on its type.  \r\n\r\nI would disagree with some of the answers here in that overloading is a form of polymorphism (parametric polymorphism) in the case that a method with the same name can behave differently give different parameter types.  A good example is operator overloading.  You can define &quot;+&quot; to accept different types of parameters -- say strings or int&#39;s -- and based on those types, &quot;+&quot; will behave differently.\r\n\r\nPolymorphism also includes inheritance and overriding methods, though they can be abstract or virtual in the base type.  In terms of inheritance-based polymorphism, Java only supports single class inheritance limiting it polymorphic behavior to that of a single chain of base types.  Java does support implementation of multiple interfaces which is yet another form of polymorphic behavior.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Specifically saying overloading or overriding doesn't give the full picture.  Polymorphism is simply the ability of an object to specialize its behavior based on its type.  </p>\n\n<p>I would disagree with some of the answers here in that overloading is a form of polymorphism (parametric polymorphism) in the case that a method with the same name can behave differently give different parameter types.  A good example is operator overloading.  You can define \"+\" to accept different types of parameters -- say strings or int's -- and based on those types, \"+\" will behave differently.</p>\n\n<p>Polymorphism also includes inheritance and overriding methods, though they can be abstract or virtual in the base type.  In terms of inheritance-based polymorphism, Java only supports single class inheritance limiting it polymorphic behavior to that of a single chain of base types.  Java does support implementation of multiple interfaces which is yet another form of polymorphic behavior.</p>\n"},{"comments":[{"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"score":46,"creation_date":1290207179,"post_id":154939,"comment_id":4578773,"body_markdown":"@yuudachi.  I came up with this example when teaching a class.  The canonical &quot;Bank Account&quot; class didn&#39;t really express the &quot;abstractness&quot; of the base class.  The other canonical example (Animal, make noise) was too abstract for understanding.  I was looking for a single base with too obvious subclasses.  Actually, goPee() was the only example I came up with that wasn&#39;t sexist or stereotypical. (although in class, I printed &quot;down the hall on the left&quot; instead of stand up or sit down.)","body":"@yuudachi.  I came up with this example when teaching a class.  The canonical &quot;Bank Account&quot; class didn&#39;t really express the &quot;abstractness&quot; of the base class.  The other canonical example (Animal, make noise) was too abstract for understanding.  I was looking for a single base with too obvious subclasses.  Actually, goPee() was the only example I came up with that wasn&#39;t sexist or stereotypical. (although in class, I printed &quot;down the hall on the left&quot; instead of stand up or sit down.)"},{"owner":{"account_id":25197,"reputation":14959,"user_id":64618,"accept_rate":62,"display_name":"Andrew Dalke"},"score":110,"creation_date":1359692774,"post_id":154939,"comment_id":20452316,"body_markdown":"This example also nicely highlights the difficulty of using a hierarchical system to describe biological systems. Some humans, such as the very young, pee in almost any position - and babies can&#39;t easily be told to goPee(). Some humans are intersex, where the biological labels of &quot;male&quot; or &quot;female&quot; become rather ill-defined; the social meanings are even more complex. As a teaching example, it shows how modeling assumptions can have negative results, such as the implication that someone (e.g., a student of OO programming) who is incontinent or intersex is not actually human.","body":"This example also nicely highlights the difficulty of using a hierarchical system to describe biological systems. Some humans, such as the very young, pee in almost any position - and babies can&#39;t easily be told to goPee(). Some humans are intersex, where the biological labels of &quot;male&quot; or &quot;female&quot; become rather ill-defined; the social meanings are even more complex. As a teaching example, it shows how modeling assumptions can have negative results, such as the implication that someone (e.g., a student of OO programming) who is incontinent or intersex is not actually human."},{"owner":{"account_id":74183,"reputation":1231,"user_id":213268,"accept_rate":33,"display_name":"Frank W. Zammetti"},"score":10,"creation_date":1359728159,"post_id":154939,"comment_id":20466474,"body_markdown":"I can think of at least a handful of humans who would disprove your &quot;you cannot create a human that is neither male nor female&quot; thesis, although it&#39;d still be true of your code... bad abstraction I suppose I&#39;m saying? ;)","body":"I can think of at least a handful of humans who would disprove your &quot;you cannot create a human that is neither male nor female&quot; thesis, although it&#39;d still be true of your code... bad abstraction I suppose I&#39;m saying? ;)"},{"owner":{"account_id":81115,"reputation":33441,"user_id":228936,"display_name":"Tor Valamo"},"score":2,"creation_date":1359757485,"post_id":154939,"comment_id":20481133,"body_markdown":"I think it&#39;s important to point out that it&#39;s only polymorphism because which version of goPee() to call can only be determined at runtime. While this example implies that, it is nice to point out why exactly that is polymorphism. Also, it doesn&#39;t require sibling classes. It can be a parent-child relationship as well. Or even completely unrelated classes which coincidentally have the same function. An example of this can be the .toString() function. Which can be called randomly on any object, but the compiler can never know exactly which type of object.","body":"I think it&#39;s important to point out that it&#39;s only polymorphism because which version of goPee() to call can only be determined at runtime. While this example implies that, it is nice to point out why exactly that is polymorphism. Also, it doesn&#39;t require sibling classes. It can be a parent-child relationship as well. Or even completely unrelated classes which coincidentally have the same function. An example of this can be the .toString() function. Which can be called randomly on any object, but the compiler can never know exactly which type of object."},{"owner":{"account_id":81115,"reputation":33441,"user_id":228936,"display_name":"Tor Valamo"},"score":0,"creation_date":1359757992,"post_id":154939,"comment_id":20481333,"body_markdown":"... unless specified, obviously.","body":"... unless specified, obviously."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":26,"creation_date":1359766985,"post_id":154939,"comment_id":20483769,"body_markdown":"@AndrewDalke, +1 for notes on biological complexity.  Also, `goPee` does not take a gravitational field as an input.  This dependency on global state makes unit-testing `CatheterizedIntersexAstronaut` difficult, and show that subclassing may not always be the best method for composition of traits.","body":"@AndrewDalke, +1 for notes on biological complexity.  Also, <code>goPee</code> does not take a gravitational field as an input.  This dependency on global state makes unit-testing <code>CatheterizedIntersexAstronaut</code> difficult, and show that subclassing may not always be the best method for composition of traits."},{"owner":{"display_name":"user180247"},"score":0,"creation_date":1359912270,"post_id":154939,"comment_id":20514509,"body_markdown":"@Tor Valamo - whether polymorphism must be resolved at run-time seems to depend to some degree on context and whose definitions you&#39;re using. For example, early binding (overloading) is also sometimes called &quot;compile-time polymorphism&quot;, and templates in C++ can be considered another compile-time polymorphism mechanism.","body":"@Tor Valamo - whether polymorphism must be resolved at run-time seems to depend to some degree on context and whose definitions you&#39;re using. For example, early binding (overloading) is also sometimes called &quot;compile-time polymorphism&quot;, and templates in C++ can be considered another compile-time polymorphism mechanism."},{"owner":{"account_id":2144311,"reputation":9891,"user_id":1902296,"accept_rate":35,"display_name":"humkins"},"score":2,"creation_date":1474543873,"post_id":154939,"comment_id":66579457,"body_markdown":"@AndrewDalke, what if the OOP principle was explained with Cat and Dog classes which are subclasses of Animal abstract class? Would that mean that mouse is not an animal because of that?","body":"@AndrewDalke, what if the OOP principle was explained with Cat and Dog classes which are subclasses of Animal abstract class? Would that mean that mouse is not an animal because of that?"},{"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"score":1,"creation_date":1527742092,"post_id":154939,"comment_id":88243394,"body_markdown":"Then comes the GDPR stating companies should not remember human pees standing up or down.","body":"Then comes the GDPR stating companies should not remember human pees standing up or down."},{"owner":{"account_id":8869586,"reputation":2125,"user_id":6623650,"accept_rate":38,"display_name":"Amrit"},"score":0,"creation_date":1588185661,"post_id":154939,"comment_id":108806335,"body_markdown":"is there any other example of runtime polymorphism in java except for overriding ?","body":"is there any other example of runtime polymorphism in java except for overriding ?"},{"owner":{"account_id":18231089,"reputation":93,"user_id":13270006,"display_name":"Vignesh Kesavan"},"score":0,"creation_date":1594749628,"post_id":154939,"comment_id":111233727,"body_markdown":"This is literally the best example one could ask for","body":"This is literally the best example one could ask for"},{"owner":{"account_id":10649946,"reputation":468,"user_id":8111280,"accept_rate":75,"display_name":"Ali"},"score":0,"creation_date":1609017935,"post_id":154939,"comment_id":115732044,"body_markdown":"can you mention why annotate with @override? we are not overriding right?we are implementing a definition.","body":"can you mention why annotate with @override? we are not overriding right?we are implementing a definition."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":1,"creation_date":1620829984,"post_id":154939,"comment_id":119317747,"body_markdown":"@Ali The override annotation can be used for not just overriding but also implementing in Java, and it&#39;s advisable to do so. The reason is that if the method in the superclass or interface (regardless of whether it&#39;s a concrete implementation, abstract class or part of an interface definition) has its signature changed or is removed, the compiler will show an error for the annotated methods. And conversely if you put the annotation on a method but made some subtle mistake in its signature (typo, arguments, exceptions) the compiler will notice. It prevents mistakes at compile-time.","body":"@Ali The override annotation can be used for not just overriding but also implementing in Java, and it&#39;s advisable to do so. The reason is that if the method in the superclass or interface (regardless of whether it&#39;s a concrete implementation, abstract class or part of an interface definition) has its signature changed or is removed, the compiler will show an error for the annotated methods. And conversely if you put the annotation on a method but made some subtle mistake in its signature (typo, arguments, exceptions) the compiler will notice. It prevents mistakes at compile-time."},{"owner":{"account_id":14713817,"reputation":498,"user_id":10626374,"display_name":"Air"},"score":0,"creation_date":1631200759,"post_id":154939,"comment_id":122164580,"body_markdown":"I was going to say the explanation is great, but I didn&#39;t think the example itself was. Simply because men don&#39;t have to stand up to pee. We just choose to because it&#39;s quicker, and less effort (or we&#39;re at a urinal). So I don&#39;t think it&#39;s a necessary distinction to make, and therefore not a great example of needing to provide different logic for the subclasses. But then I read your comment where you said your original example used directions to the appropriate bathroom, rather than sit down/stand up. Now I&#39;m like, this a good example &#128077; (I guess I&#39;d suggest using that differentiation though)","body":"I was going to say the explanation is great, but I didn&#39;t think the example itself was. Simply because men don&#39;t have to stand up to pee. We just choose to because it&#39;s quicker, and less effort (or we&#39;re at a urinal). So I don&#39;t think it&#39;s a necessary distinction to make, and therefore not a great example of needing to provide different logic for the subclasses. But then I read your comment where you said your original example used directions to the appropriate bathroom, rather than sit down/stand up. Now I&#39;m like, this a good example 👍 (I guess I&#39;d suggest using that differentiation though)"}],"tags":[],"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"comment_count":14,"down_vote_count":4,"up_vote_count":951,"is_accepted":true,"score":947,"last_activity_date":1441026957,"creation_date":1222806831,"answer_id":154939,"question_id":154577,"body_markdown":"The clearest way to express polymorphism is via an abstract base class (or interface)\r\n\r\n    public abstract class Human{\r\n       ...\r\n       public abstract void goPee();\r\n    }\r\n\r\nThis class is abstract because the `goPee()` method is not definable for Humans.  It is only definable for the subclasses Male and Female.  Also, Human is an abstract concept &amp;mdash; You cannot create a human that is neither Male nor Female.  It’s got to be one or the other.\r\n\r\nSo we defer the implementation by using the abstract class.\r\n\r\n    public class Male extends Human{\r\n    ...\r\n        @Override\r\n        public void goPee(){\r\n            System.out.println(&quot;Stand Up&quot;);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class Female extends Human{\r\n    ...\r\n        @Override\r\n        public void goPee(){\r\n            System.out.println(&quot;Sit Down&quot;);\r\n        }\r\n    }\r\n\r\nNow we can tell an entire room full of Humans to go pee.\r\n\r\n    public static void main(String[] args){\r\n        ArrayList&lt;Human&gt; group = new ArrayList&lt;Human&gt;();\r\n        group.add(new Male());\r\n        group.add(new Female());\r\n        // ... add more...\r\n        \r\n        // tell the class to take a pee break\r\n        for (Human person : group) person.goPee();\r\n    }\r\n\r\nRunning this would yield:\r\n\r\n    Stand Up\r\n    Sit Down\r\n    ...\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>The clearest way to express polymorphism is via an abstract base class (or interface)</p>\n\n<pre><code>public abstract class Human{\n   ...\n   public abstract void goPee();\n}\n</code></pre>\n\n<p>This class is abstract because the <code>goPee()</code> method is not definable for Humans.  It is only definable for the subclasses Male and Female.  Also, Human is an abstract concept &mdash; You cannot create a human that is neither Male nor Female.  It’s got to be one or the other.</p>\n\n<p>So we defer the implementation by using the abstract class.</p>\n\n<pre><code>public class Male extends Human{\n...\n    @Override\n    public void goPee(){\n        System.out.println(\"Stand Up\");\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Female extends Human{\n...\n    @Override\n    public void goPee(){\n        System.out.println(\"Sit Down\");\n    }\n}\n</code></pre>\n\n<p>Now we can tell an entire room full of Humans to go pee.</p>\n\n<pre><code>public static void main(String[] args){\n    ArrayList&lt;Human&gt; group = new ArrayList&lt;Human&gt;();\n    group.add(new Male());\n    group.add(new Female());\n    // ... add more...\n\n    // tell the class to take a pee break\n    for (Human person : group) person.goPee();\n}\n</code></pre>\n\n<p>Running this would yield:</p>\n\n<pre><code>Stand Up\nSit Down\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":48123,"reputation":1006,"user_id":142828,"display_name":"Radu Gasler"},"score":2,"creation_date":1338061774,"post_id":4487013,"comment_id":14001236,"body_markdown":"Definitely the best answer yet. Polymorphism can be applied to all language constructs, be it nouns (classes) or verbs (methods).","body":"Definitely the best answer yet. Polymorphism can be applied to all language constructs, be it nouns (classes) or verbs (methods)."}],"tags":[],"owner":{"account_id":686971,"reputation":71,"user_id":548221,"display_name":"BillC"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1292821352,"creation_date":1292821352,"answer_id":4487013,"question_id":154577,"body_markdown":"Polymorphism simply means &quot;Many Forms&quot;.\r\n\r\nIt does not REQUIRE inheritance to achieve...as interface implementation, which is not inheritance at all, serves polymorphic needs.  Arguably, interface implementation serves polymorphic needs &quot;Better&quot; than inheritance.\r\n\r\nFor example, would you create a super-class to describe all things that can fly?  I should think not.  You would be be best served to create an interface that describes flight and leave it at that.\r\n\r\nSo, since interfaces describe behavior, and method names describe behavior (to the programmer), it is not too far of a stretch to consider method overloading as a lesser form of polymorphism.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism simply means \"Many Forms\".</p>\n\n<p>It does not REQUIRE inheritance to achieve...as interface implementation, which is not inheritance at all, serves polymorphic needs.  Arguably, interface implementation serves polymorphic needs \"Better\" than inheritance.</p>\n\n<p>For example, would you create a super-class to describe all things that can fly?  I should think not.  You would be be best served to create an interface that describes flight and leave it at that.</p>\n\n<p>So, since interfaces describe behavior, and method names describe behavior (to the programmer), it is not too far of a stretch to consider method overloading as a lesser form of polymorphism.</p>\n"},{"tags":[],"owner":{"account_id":1179602,"reputation":101,"user_id":1154840,"display_name":"user1154840"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474689337,"creation_date":1330087950,"answer_id":9431105,"question_id":154577,"body_markdown":" I think guys your are mixing concepts. *Polymorphism* is the ability of an object to behave differently at run time. For achieving this, you need two requisites:\r\n\r\n 1. *Late Binding*\r\n 2. *Inheritance.*\r\n\r\nHaving said that *overloading* means something different to *overriding* depending on the language you are using. For example in Java does not exist *overriding* but *overloading*. *Overloaded* methods with different signature to its base class are available in the subclass. Otherwise they would be *overridden* (please, see that I mean now the fact of there is no way to call your base class method from outside the object).\r\n\r\nHowever in C++ that is not so. Any *overloaded* method, independently whether the signature is the same or  not (diffrrent amount, different type) is as well *overridden*. That is to day, the base class&#39; method is no longer available in the subclass when being called from outside the subclass object, obviously.\r\n\r\nSo the answer is when talking about Java use *overloading*. In any other language may be different as it happens in c++","title":"Polymorphism vs Overriding vs Overloading","body":"<p>I think guys your are mixing concepts. <em>Polymorphism</em> is the ability of an object to behave differently at run time. For achieving this, you need two requisites:</p>\n\n<ol>\n<li><em>Late Binding</em></li>\n<li><em>Inheritance.</em></li>\n</ol>\n\n<p>Having said that <em>overloading</em> means something different to <em>overriding</em> depending on the language you are using. For example in Java does not exist <em>overriding</em> but <em>overloading</em>. <em>Overloaded</em> methods with different signature to its base class are available in the subclass. Otherwise they would be <em>overridden</em> (please, see that I mean now the fact of there is no way to call your base class method from outside the object).</p>\n\n<p>However in C++ that is not so. Any <em>overloaded</em> method, independently whether the signature is the same or  not (diffrrent amount, different type) is as well <em>overridden</em>. That is to day, the base class' method is no longer available in the subclass when being called from outside the subclass object, obviously.</p>\n\n<p>So the answer is when talking about Java use <em>overloading</em>. In any other language may be different as it happens in c++</p>\n"},{"tags":[],"owner":{"account_id":1632424,"reputation":255,"user_id":1506709,"accept_rate":33,"display_name":"Rajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347372284,"creation_date":1347372284,"answer_id":12371564,"question_id":154577,"body_markdown":"Polymorphism is more likely as far as it&#39;s *meaning* is concerned ... to OVERRIDING in java\r\n\r\nIt&#39;s all about different behavior of the SAME object in different situations(In programming way ... you can call different ARGUMENTS) \r\n\r\nI think the example below will help you to understand ... Though it&#39;s not PURE java code ...\r\n\r\n    \r\n         public void See(Friend)\r\n         {\r\n            System.out.println(&quot;Talk&quot;);\r\n         }\r\n\r\n\r\nBut if we change the ARGUMENT ... the BEHAVIOR will be changed ...\r\n\r\n         \r\n         public void See(Enemy)\r\n         {\r\n            System.out.println(&quot;Run&quot;);\r\n         }\r\n\r\nThe Person(here the &quot;Object&quot;) is same ...\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism is more likely as far as it's <em>meaning</em> is concerned ... to OVERRIDING in java</p>\n\n<p>It's all about different behavior of the SAME object in different situations(In programming way ... you can call different ARGUMENTS) </p>\n\n<p>I think the example below will help you to understand ... Though it's not PURE java code ...</p>\n\n<pre><code>     public void See(Friend)\n     {\n        System.out.println(\"Talk\");\n     }\n</code></pre>\n\n<p>But if we change the ARGUMENT ... the BEHAVIOR will be changed ...</p>\n\n<pre><code>     public void See(Enemy)\n     {\n        System.out.println(\"Run\");\n     }\n</code></pre>\n\n<p>The Person(here the \"Object\") is same ...</p>\n"},{"comments":[{"owner":{"account_id":4653206,"reputation":13816,"user_id":3769451,"accept_rate":74,"display_name":"apadana"},"score":6,"creation_date":1436948021,"post_id":12995156,"comment_id":50821348,"body_markdown":"+1 for nice answer. The accepted answer only explains one type of polymorphism. This answer is complete.","body":"+1 for nice answer. The accepted answer only explains one type of polymorphism. This answer is complete."},{"owner":{"account_id":2574167,"reputation":138,"user_id":2232253,"display_name":"Palatis"},"score":3,"creation_date":1501209191,"post_id":12995156,"comment_id":77688823,"body_markdown":"polymorphism is a paradigm (OOP), but overriding &amp; overloading are language facilities.","body":"polymorphism is a paradigm (OOP), but overriding &amp; overloading are language facilities."},{"owner":{"account_id":7888499,"reputation":914,"user_id":5959593,"accept_rate":0,"display_name":"Minh Nghĩa"},"score":0,"creation_date":1555068547,"post_id":12995156,"comment_id":97989827,"body_markdown":"Polymorphism can also be achieved by generic type.","body":"Polymorphism can also be achieved by generic type."}],"tags":[],"owner":{"account_id":1961022,"reputation":657,"user_id":1762604,"display_name":"manoj"},"comment_count":3,"down_vote_count":2,"up_vote_count":66,"is_accepted":false,"score":64,"last_activity_date":1477322027,"creation_date":1350796065,"answer_id":12995156,"question_id":154577,"body_markdown":"Polymorphism means more than one form, same object performing different operations according to the requirement.\r\n\r\nPolymorphism can be achieved by using two ways, those are\r\n\r\n1. Method overriding\r\n2. Method overloading\r\n\r\n*Method overloading* means writing two or more methods in the same class by using same method name, but the passing parameters is different.\r\n\r\n*Method overriding* means we use the method names in the different classes,that means parent class method is used in the child class.\r\n\r\nIn Java to achieve polymorphism a super class reference variable can hold the sub class object.\r\n\r\nTo achieve the polymorphism every developer must use the same method names in the project.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism means more than one form, same object performing different operations according to the requirement.</p>\n\n<p>Polymorphism can be achieved by using two ways, those are</p>\n\n<ol>\n<li>Method overriding</li>\n<li>Method overloading</li>\n</ol>\n\n<p><em>Method overloading</em> means writing two or more methods in the same class by using same method name, but the passing parameters is different.</p>\n\n<p><em>Method overriding</em> means we use the method names in the different classes,that means parent class method is used in the child class.</p>\n\n<p>In Java to achieve polymorphism a super class reference variable can hold the sub class object.</p>\n\n<p>To achieve the polymorphism every developer must use the same method names in the project.</p>\n"},{"tags":[],"owner":{"account_id":952968,"reputation":7485,"user_id":978769,"accept_rate":43,"display_name":"Genjuro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1366977982,"creation_date":1366977982,"answer_id":16236028,"question_id":154577,"body_markdown":"overriding is more like hiding an inherited method by declaring a method with the same name and signature as the upper level method (super method), this  adds a polymorphic behaviour to the  class .\r\nin other words the decision to choose wich level method to be called  will be made at run time not on compile time .\r\nthis leads to  the concept of interface and implementation .\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>overriding is more like hiding an inherited method by declaring a method with the same name and signature as the upper level method (super method), this  adds a polymorphic behaviour to the  class .\nin other words the decision to choose wich level method to be called  will be made at run time not on compile time .\nthis leads to  the concept of interface and implementation .</p>\n"},{"tags":[],"owner":{"account_id":128795,"reputation":22471,"user_id":326904,"accept_rate":74,"display_name":"Desolator"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379284962,"creation_date":1379284633,"answer_id":18818192,"question_id":154577,"body_markdown":"Polymorphism is a multiple implementations of an object or you could say multiple forms of an object. lets say you have class `Animals` as the abstract base class and it has a method called `movement()` which defines the way that the animal moves. Now in reality we have different kinds of animals and they move differently as well some of them with 2 legs, others with 4 and some with no legs, etc.. To define different `movement()` of each animal on earth, we need to apply polymorphism. However, you need to define more classes i.e. class `Dogs` `Cats` `Fish` etc. Then you need to extend those classes from the base class `Animals` and override its method `movement()` with a new movement functionality based on each animal you have. You can also use `Interfaces` to achieve that. The keyword in here is overriding, overloading is different and is not considered as polymorphism. with overloading you can define multiple methods &quot;with same name&quot; but with different parameters on same object or class.","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Polymorphism is a multiple implementations of an object or you could say multiple forms of an object. lets say you have class <code>Animals</code> as the abstract base class and it has a method called <code>movement()</code> which defines the way that the animal moves. Now in reality we have different kinds of animals and they move differently as well some of them with 2 legs, others with 4 and some with no legs, etc.. To define different <code>movement()</code> of each animal on earth, we need to apply polymorphism. However, you need to define more classes i.e. class <code>Dogs</code> <code>Cats</code> <code>Fish</code> etc. Then you need to extend those classes from the base class <code>Animals</code> and override its method <code>movement()</code> with a new movement functionality based on each animal you have. You can also use <code>Interfaces</code> to achieve that. The keyword in here is overriding, overloading is different and is not considered as polymorphism. with overloading you can define multiple methods \"with same name\" but with different parameters on same object or class.</p>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437052284,"creation_date":1437052284,"answer_id":31455175,"question_id":154577,"body_markdown":"    import java.io.IOException;\r\n    \r\n    class Super {\r\n    \t\r\n    \tprotected Super getClassName(Super s) throws IOException {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName() + &quot; - I&#39;m parent&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubOne extends Super {\r\n    \t\r\n    \t@Override\r\n    \tprotected Super getClassName(Super s)  {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName() + &quot; - I&#39;m Perfect Overriding&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubTwo extends Super {\r\n    \t\r\n    \t@Override\r\n    \tprotected Super getClassName(Super s) throws NullPointerException {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName() + &quot; - I&#39;m Overriding and Throwing Runtime Exception&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubThree extends Super {\r\n    \t\r\n    \t@Override\r\n    \tprotected SubThree getClassName(Super s) {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; - I&#39;m Overriding and Returning SubClass Type&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubFour extends Super {\r\n    \t\r\n    \t@Override\r\n    \tprotected Super getClassName(Super s) throws IOException {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; - I&#39;m Overriding and Throwing Narrower Exception &quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubFive extends Super {\r\n    \t\r\n    \t@Override\r\n    \tpublic Super getClassName(Super s) {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; - I&#39;m Overriding and have broader Access &quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubSix extends Super {\r\n    \t\r\n    \tpublic Super getClassName(Super s, String ol) {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; - I&#39;m Perfect Overloading &quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubSeven extends Super {\r\n    \t\r\n    \tpublic Super getClassName(SubSeven s) {\r\n    \t\tSystem.out.println(this.getClass().getSimpleName()+ &quot; - I&#39;m Perfect Overloading because Method signature (Argument) changed.&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class Test{\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Overriding\\n&quot;);\r\n    \t\t\r\n    \t\tSuper s1 = new SubOne(); s1.getClassName(null);\r\n    \t\t\r\n    \t\tSuper s2 = new SubTwo(); s2.getClassName(null);\r\n    \t\t\r\n    \t\tSuper s3 = new SubThree(); s3.getClassName(null);\r\n    \t\t\r\n    \t\tSuper s4 = new SubFour(); s4.getClassName(null);\r\n    \t\t\r\n    \t\tSuper s5 = new SubFive(); s5.getClassName(null);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Overloading\\n&quot;);\r\n    \t\t\r\n    \t\tSubSix s6 = new SubSix(); s6.getClassName(null, null);\r\n    \t\t\r\n    \t\ts6 = new SubSix(); s6.getClassName(null);\r\n    \t\t\r\n    \t\tSubSeven s7 = new SubSeven(); s7.getClassName(s7);\r\n    \t\t\r\n    \t\ts7 = new SubSeven(); s7.getClassName(new Super());\r\n    \t\t\r\n    \t}\r\n    }","title":"Polymorphism vs Overriding vs Overloading","body":"<pre><code>import java.io.IOException;\n\nclass Super {\n\n    protected Super getClassName(Super s) throws IOException {\n        System.out.println(this.getClass().getSimpleName() + \" - I'm parent\");\n        return null;\n    }\n\n}\n\nclass SubOne extends Super {\n\n    @Override\n    protected Super getClassName(Super s)  {\n        System.out.println(this.getClass().getSimpleName() + \" - I'm Perfect Overriding\");\n        return null;\n    }\n\n}\n\nclass SubTwo extends Super {\n\n    @Override\n    protected Super getClassName(Super s) throws NullPointerException {\n        System.out.println(this.getClass().getSimpleName() + \" - I'm Overriding and Throwing Runtime Exception\");\n        return null;\n    }\n\n}\n\nclass SubThree extends Super {\n\n    @Override\n    protected SubThree getClassName(Super s) {\n        System.out.println(this.getClass().getSimpleName()+ \" - I'm Overriding and Returning SubClass Type\");\n        return null;\n    }\n\n}\n\nclass SubFour extends Super {\n\n    @Override\n    protected Super getClassName(Super s) throws IOException {\n        System.out.println(this.getClass().getSimpleName()+ \" - I'm Overriding and Throwing Narrower Exception \");\n        return null;\n    }\n\n}\n\nclass SubFive extends Super {\n\n    @Override\n    public Super getClassName(Super s) {\n        System.out.println(this.getClass().getSimpleName()+ \" - I'm Overriding and have broader Access \");\n        return null;\n    }\n\n}\n\nclass SubSix extends Super {\n\n    public Super getClassName(Super s, String ol) {\n        System.out.println(this.getClass().getSimpleName()+ \" - I'm Perfect Overloading \");\n        return null;\n    }\n\n}\n\nclass SubSeven extends Super {\n\n    public Super getClassName(SubSeven s) {\n        System.out.println(this.getClass().getSimpleName()+ \" - I'm Perfect Overloading because Method signature (Argument) changed.\");\n        return null;\n    }\n\n}\n\npublic class Test{\n\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(\"Overriding\\n\");\n\n        Super s1 = new SubOne(); s1.getClassName(null);\n\n        Super s2 = new SubTwo(); s2.getClassName(null);\n\n        Super s3 = new SubThree(); s3.getClassName(null);\n\n        Super s4 = new SubFour(); s4.getClassName(null);\n\n        Super s5 = new SubFive(); s5.getClassName(null);\n\n        System.out.println(\"Overloading\\n\");\n\n        SubSix s6 = new SubSix(); s6.getClassName(null, null);\n\n        s6 = new SubSix(); s6.getClassName(null);\n\n        SubSeven s7 = new SubSeven(); s7.getClassName(s7);\n\n        s7 = new SubSeven(); s7.getClassName(new Super());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1682416360,"creation_date":1474033029,"answer_id":39532917,"question_id":154577,"body_markdown":"*Q1. What is polymorphism?*\r\n\r\nFrom java [tutorial][1]\r\n\r\n&gt;The dictionary definition of polymorphism refers to a principle in biology in which an organism or species can have many different forms or stages. This principle can also be applied to object-oriented programming and languages like the Java language. ***Subclasses of a class can define their own unique behaviors and yet share some of the same functionality of the parent class.***\r\n\r\nBy considering the examples and definition, ***overriding*** should be accepted answer. \r\n\r\nRegarding your second query:\r\n\r\n*Q2. IF you had a abstract base class that defined a method with no implementation, and you defined that method in the sub class, is that still overridding?*\r\n\r\nIt should be called overriding. \r\n\r\nHave a look at this example to understand different types of overriding. \r\n\r\n1. Base class provides no implementation and sub-class has to override complete method - (abstract)\r\n2. Base class provides default implementation and sub-class can change the behaviour\r\n3. Sub-class adds extension to base class implementation by calling `super.methodName()` as first statement\r\n4. Base class defines structure of the algorithm (Template method) and sub-class will override a part of algorithm\r\n\r\ncode snippet:\r\n\r\n    import java.util.HashMap;\r\n    \r\n    abstract class Game implements Runnable{\r\n    \r\n    \tprotected boolean runGame = true;\r\n    \tprotected Player player1 = null;\r\n    \tprotected Player player2 = null;\r\n    \tprotected Player currentPlayer = null;\r\n    \t\r\n    \tpublic Game(){\r\n    \t\tplayer1 = new Player(&quot;Player 1&quot;);\r\n    \t\tplayer2 = new Player(&quot;Player 2&quot;);\r\n    \t\tcurrentPlayer = player1;\r\n    \t\tinitializeGame();\r\n    \t}\r\n    \r\n    \t/* Type 1: Let subclass define own implementation. Base class defines abstract method to force\r\n    \t\tsub-classes to define implementation\t\r\n    \t*/\r\n    \t\r\n    \tprotected abstract void initializeGame();\r\n    \t\r\n    \t/* Type 2: Sub-class can change the behaviour. If not, base class behaviour is applicable */\r\n    \tprotected void logTimeBetweenMoves(Player player){\r\n    \t\tSystem.out.println(&quot;Base class: Move Duration: player.PlayerActTime - player.MoveShownTime&quot;);\r\n    \t}\r\n    \t\r\n    \t/* Type 3: Base class provides implementation. Sub-class can enhance base class implementation by calling\r\n    \t\tsuper.methodName() in first line of the child class method and specific implementation later */\r\n    \tprotected void logGameStatistics(){\r\n    \t\tSystem.out.println(&quot;Base class: logGameStatistics:&quot;);\r\n    \t}\r\n    \t/* Type 4: Template method: Structure of base class can&#39;t be changed but sub-class can some part of behaviour */\r\n    \tprotected void runGame() throws Exception{\r\n    \t\tSystem.out.println(&quot;Base class: Defining the flow for Game:&quot;);\t\r\n    \t\twhile ( runGame) {\r\n    \t\t\t/*\r\n    \t\t\t1. Set current player\r\n    \t\t\t2. Get Player Move\r\n    \t\t\t*/\r\n    \t\t\tvalidatePlayerMove(currentPlayer);\t\r\n    \t\t\tlogTimeBetweenMoves(currentPlayer);\r\n    \t\t\tThread.sleep(500);\r\n    \t\t\tsetNextPlayer();\r\n    \t\t}\r\n    \t\tlogGameStatistics();\r\n    \t}\r\n    \t/* sub-part of the template method, which define child class behaviour */\r\n    \tprotected abstract void validatePlayerMove(Player p);\r\n    \t\r\n    \tprotected void setRunGame(boolean status){\r\n    \t\tthis.runGame = status;\r\n    \t}\r\n    \tpublic void setCurrentPlayer(Player p){\r\n    \t\tthis.currentPlayer = p;\r\n    \t}\r\n    \tpublic void setNextPlayer(){\r\n    \t\tif ( currentPlayer == player1) {\r\n    \t\t\tcurrentPlayer = player2;\r\n    \t\t}else{\r\n    \t\t\tcurrentPlayer = player1;\r\n    \t\t}\r\n    \t}\r\n    \tpublic void run(){\r\n    \t\ttry{\r\n    \t\t\trunGame();\r\n    \t\t}catch(Exception err){\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Player{\r\n    \tString name;\r\n    \tPlayer(String name){\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getName(){\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n    \r\n    /* Concrete Game implementation  */\r\n    class Chess extends Game{\r\n    \tpublic Chess(){\r\n    \t\tsuper();\r\n    \t}\r\n    \tpublic void initializeGame(){\r\n    \t\tSystem.out.println(&quot;Child class: Initialized Chess game&quot;);\r\n    \t}\r\n    \tprotected void validatePlayerMove(Player p){\r\n    \t\tSystem.out.println(&quot;Child class: Validate Chess move:&quot;+p.getName());\r\n    \t}\r\n    \tprotected void logGameStatistics(){\r\n    \t\tsuper.logGameStatistics();\r\n    \t\tSystem.out.println(&quot;Child class: Add Chess specific logGameStatistics:&quot;);\r\n    \t}\r\n    }\r\n    class TicTacToe extends Game{\r\n    \tpublic TicTacToe(){\r\n    \t\tsuper();\r\n    \t}\r\n    \tpublic void initializeGame(){\r\n    \t\tSystem.out.println(&quot;Child class: Initialized TicTacToe game&quot;);\r\n    \t}\r\n    \tprotected void validatePlayerMove(Player p){\r\n    \t\tSystem.out.println(&quot;Child class: Validate TicTacToe move:&quot;+p.getName());\r\n    \t}\r\n    }\r\n    \r\n    public class Polymorphism{\r\n    \tpublic static void main(String args[]){\r\n    \t\ttry{\r\n    \t\t\r\n    \t\t\tGame game = new Chess();\r\n    \t\t\tThread t1 = new Thread(game);\r\n    \t\t\tt1.start();\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t\tgame.setRunGame(false);\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t\t\t\t\t\r\n    \t\t\tgame = new TicTacToe();\r\n    \t\t\tThread t2 = new Thread(game);\r\n    \t\t\tt2.start();\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t\tgame.setRunGame(false);\r\n    \t\t\r\n    \t\t}catch(Exception err){\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\t\t\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    Child class: Initialized Chess game\r\n    Base class: Defining the flow for Game:\r\n    Child class: Validate Chess move:Player 1\r\n    Base class: Move Duration: player.PlayerActTime - player.MoveShownTime\r\n    Child class: Validate Chess move:Player 2\r\n    Base class: Move Duration: player.PlayerActTime - player.MoveShownTime\r\n    Base class: logGameStatistics:\r\n    Child class: Add Chess specific logGameStatistics:\r\n    Child class: Initialized TicTacToe game\r\n    Base class: Defining the flow for Game:\r\n    Child class: Validate TicTacToe move:Player 1\r\n    Base class: Move Duration: player.PlayerActTime - player.MoveShownTime\r\n    Child class: Validate TicTacToe move:Player 2\r\n    Base class: Move Duration: player.PlayerActTime - player.MoveShownTime\r\n    Base class: logGameStatistics:\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p><em>Q1. What is polymorphism?</em></p>\n<p>From java <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">tutorial</a></p>\n<blockquote>\n<p>The dictionary definition of polymorphism refers to a principle in biology in which an organism or species can have many different forms or stages. This principle can also be applied to object-oriented programming and languages like the Java language. <em><strong>Subclasses of a class can define their own unique behaviors and yet share some of the same functionality of the parent class.</strong></em></p>\n</blockquote>\n<p>By considering the examples and definition, <em><strong>overriding</strong></em> should be accepted answer.</p>\n<p>Regarding your second query:</p>\n<p><em>Q2. IF you had a abstract base class that defined a method with no implementation, and you defined that method in the sub class, is that still overridding?</em></p>\n<p>It should be called overriding.</p>\n<p>Have a look at this example to understand different types of overriding.</p>\n<ol>\n<li>Base class provides no implementation and sub-class has to override complete method - (abstract)</li>\n<li>Base class provides default implementation and sub-class can change the behaviour</li>\n<li>Sub-class adds extension to base class implementation by calling <code>super.methodName()</code> as first statement</li>\n<li>Base class defines structure of the algorithm (Template method) and sub-class will override a part of algorithm</li>\n</ol>\n<p>code snippet:</p>\n<pre><code>import java.util.HashMap;\n\nabstract class Game implements Runnable{\n\n    protected boolean runGame = true;\n    protected Player player1 = null;\n    protected Player player2 = null;\n    protected Player currentPlayer = null;\n    \n    public Game(){\n        player1 = new Player(&quot;Player 1&quot;);\n        player2 = new Player(&quot;Player 2&quot;);\n        currentPlayer = player1;\n        initializeGame();\n    }\n\n    /* Type 1: Let subclass define own implementation. Base class defines abstract method to force\n        sub-classes to define implementation    \n    */\n    \n    protected abstract void initializeGame();\n    \n    /* Type 2: Sub-class can change the behaviour. If not, base class behaviour is applicable */\n    protected void logTimeBetweenMoves(Player player){\n        System.out.println(&quot;Base class: Move Duration: player.PlayerActTime - player.MoveShownTime&quot;);\n    }\n    \n    /* Type 3: Base class provides implementation. Sub-class can enhance base class implementation by calling\n        super.methodName() in first line of the child class method and specific implementation later */\n    protected void logGameStatistics(){\n        System.out.println(&quot;Base class: logGameStatistics:&quot;);\n    }\n    /* Type 4: Template method: Structure of base class can't be changed but sub-class can some part of behaviour */\n    protected void runGame() throws Exception{\n        System.out.println(&quot;Base class: Defining the flow for Game:&quot;);  \n        while ( runGame) {\n            /*\n            1. Set current player\n            2. Get Player Move\n            */\n            validatePlayerMove(currentPlayer);  \n            logTimeBetweenMoves(currentPlayer);\n            Thread.sleep(500);\n            setNextPlayer();\n        }\n        logGameStatistics();\n    }\n    /* sub-part of the template method, which define child class behaviour */\n    protected abstract void validatePlayerMove(Player p);\n    \n    protected void setRunGame(boolean status){\n        this.runGame = status;\n    }\n    public void setCurrentPlayer(Player p){\n        this.currentPlayer = p;\n    }\n    public void setNextPlayer(){\n        if ( currentPlayer == player1) {\n            currentPlayer = player2;\n        }else{\n            currentPlayer = player1;\n        }\n    }\n    public void run(){\n        try{\n            runGame();\n        }catch(Exception err){\n            err.printStackTrace();\n        }\n    }\n}\n\nclass Player{\n    String name;\n    Player(String name){\n        this.name = name;\n    }\n    public String getName(){\n        return name;\n    }\n}\n\n/* Concrete Game implementation  */\nclass Chess extends Game{\n    public Chess(){\n        super();\n    }\n    public void initializeGame(){\n        System.out.println(&quot;Child class: Initialized Chess game&quot;);\n    }\n    protected void validatePlayerMove(Player p){\n        System.out.println(&quot;Child class: Validate Chess move:&quot;+p.getName());\n    }\n    protected void logGameStatistics(){\n        super.logGameStatistics();\n        System.out.println(&quot;Child class: Add Chess specific logGameStatistics:&quot;);\n    }\n}\nclass TicTacToe extends Game{\n    public TicTacToe(){\n        super();\n    }\n    public void initializeGame(){\n        System.out.println(&quot;Child class: Initialized TicTacToe game&quot;);\n    }\n    protected void validatePlayerMove(Player p){\n        System.out.println(&quot;Child class: Validate TicTacToe move:&quot;+p.getName());\n    }\n}\n\npublic class Polymorphism{\n    public static void main(String args[]){\n        try{\n        \n            Game game = new Chess();\n            Thread t1 = new Thread(game);\n            t1.start();\n            Thread.sleep(1000);\n            game.setRunGame(false);\n            Thread.sleep(1000);\n                        \n            game = new TicTacToe();\n            Thread t2 = new Thread(game);\n            t2.start();\n            Thread.sleep(1000);\n            game.setRunGame(false);\n        \n        }catch(Exception err){\n            err.printStackTrace();\n        }       \n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Child class: Initialized Chess game\nBase class: Defining the flow for Game:\nChild class: Validate Chess move:Player 1\nBase class: Move Duration: player.PlayerActTime - player.MoveShownTime\nChild class: Validate Chess move:Player 2\nBase class: Move Duration: player.PlayerActTime - player.MoveShownTime\nBase class: logGameStatistics:\nChild class: Add Chess specific logGameStatistics:\nChild class: Initialized TicTacToe game\nBase class: Defining the flow for Game:\nChild class: Validate TicTacToe move:Player 1\nBase class: Move Duration: player.PlayerActTime - player.MoveShownTime\nChild class: Validate TicTacToe move:Player 2\nBase class: Move Duration: player.PlayerActTime - player.MoveShownTime\nBase class: logGameStatistics:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7152066,"reputation":544,"user_id":5465732,"accept_rate":71,"display_name":"Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1695139364,"creation_date":1525627086,"answer_id":50202481,"question_id":154577,"body_markdown":"Although, Polymorphism is already explained in great details in this post but I would like to put more emphasis on why part of it. \r\n\r\n&gt; Why Polymorphism is so important in any OOP language.\r\n\r\n\r\nLet’s try to build a simple application for a TV with and without Inheritance/Polymorphism. Post each version of the application, we do a small retrospective.\r\n\r\nSupposing, you are a software engineer at a TV company and you are asked to write software for Volume, Brightness and Colour controllers to increase and decrease their values on user command.\r\n\r\nYou start with writing classes for each of these features by adding\r\n\r\n 1. set:- To set a value of a controller.(Supposing this has controller specific code)\r\n 2. get:- To get a value of a controller.(Supposing this has controller specific code)\r\n 3. adjust:- To validate the input and setting a controller.(Generic validations.. independent of controllers)\r\n 4. user input mapping with controllers :- To get user input and invoking controllers accordingly.\r\n\r\n&gt; Application Version 1\r\n\r\n    import java.util.Scanner;    \r\n    class VolumeControllerV1 {\r\n        private int value;\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    class  BrightnessControllerV1 {\r\n        private int value;\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    class ColourControllerV1    {\r\n        private int value;\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    \r\n    /*\r\n     *       There can be n number of controllers\r\n     * */\r\n    public class TvApplicationV1 {\r\n        public static void main(String[] args)  {\r\n            VolumeControllerV1 volumeControllerV1 = new VolumeControllerV1();\r\n            BrightnessControllerV1 brightnessControllerV1 = new BrightnessControllerV1();\r\n            ColourControllerV1 colourControllerV1 = new ColourControllerV1();\r\n    \r\n    \r\n            OUTER: while(true) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\r\n                System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\r\n                System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\r\n                System.out.println(&quot;Press any other Button to shutdown&quot;);\r\n                int button = sc.nextInt();\r\n                switch (button) {\r\n                    case  1:    {\r\n                        volumeControllerV1.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        volumeControllerV1.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  3:    {\r\n                        brightnessControllerV1.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 4: {\r\n                        brightnessControllerV1.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  5:    {\r\n                        colourControllerV1.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 6: {\r\n                    colourControllerV1.adjust(-5);\r\n                    break;\r\n                }\r\n                default:\r\n                    System.out.println(&quot;Shutting down...........&quot;);\r\n                    break OUTER;\r\n            }\r\n\r\n        }\r\n        }\r\n    }\r\n\r\nNow you have our first version of working application ready to be deployed. Time to analyze the work done so far.\r\n\r\n&gt; Issues in TV Application Version 1\r\n\r\n 1. Adjust(int value) code is duplicate in all three classes. You would like to minimize the code duplicity. (But you did not think of common code and moving it to some super class to avoid duplicate code)\r\n\r\nYou decide to live with that as long as your application works as expected.\r\n\r\n&gt; After sometimes, your Boss comes back to you and asks you to add reset functionality to the existing application. Reset would set all 3 three controller to their respective default values.\r\n\r\nYou start writing a new class (ResetFunctionV2) for the new functionality and map the user input mapping code for this new feature.\r\n\r\n&gt; Application Version 2\r\n\r\n    import java.util.Scanner;\r\n    class VolumeControllerV2    {\r\n    \r\n        private int defaultValue = 25;\r\n        private int value;\r\n    \r\n        int getDefaultValue() {\r\n            return defaultValue;\r\n        }\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    class  BrightnessControllerV2   {\r\n    \r\n        private int defaultValue = 50;\r\n        private int value;\r\n        int get()    {\r\n            return value;\r\n        }\r\n        int getDefaultValue() {\r\n            return defaultValue;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    class ColourControllerV2    {\r\n    \r\n        private int defaultValue = 40;\r\n        private int value;\r\n        int get()    {\r\n            return value;\r\n        }\r\n        int getDefaultValue() {\r\n            return defaultValue;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\r\n        }\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    \r\n    class ResetFunctionV2 {\r\n    \r\n        private VolumeControllerV2 volumeControllerV2 ;\r\n        private BrightnessControllerV2 brightnessControllerV2;\r\n        private ColourControllerV2 colourControllerV2;\r\n    \r\n        ResetFunctionV2(VolumeControllerV2 volumeControllerV2, BrightnessControllerV2 brightnessControllerV2, ColourControllerV2 colourControllerV2)  {\r\n            this.volumeControllerV2 = volumeControllerV2;\r\n            this.brightnessControllerV2 = brightnessControllerV2;\r\n            this.colourControllerV2 = colourControllerV2;\r\n        }\r\n        void onReset()    {\r\n            volumeControllerV2.set(volumeControllerV2.getDefaultValue());\r\n            brightnessControllerV2.set(brightnessControllerV2.getDefaultValue());\r\n            colourControllerV2.set(colourControllerV2.getDefaultValue());\r\n        }\r\n    }\r\n    /*\r\n     *       so on\r\n     *       There can be n number of controllers\r\n     *\r\n     * */\r\n    public class TvApplicationV2 {\r\n        public static void main(String[] args)  {\r\n            VolumeControllerV2 volumeControllerV2 = new VolumeControllerV2();\r\n            BrightnessControllerV2 brightnessControllerV2 = new BrightnessControllerV2();\r\n            ColourControllerV2 colourControllerV2 = new ColourControllerV2();\r\n    \r\n            ResetFunctionV2 resetFunctionV2 = new ResetFunctionV2(volumeControllerV2, brightnessControllerV2, colourControllerV2);\r\n    \r\n            OUTER: while(true) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\r\n                System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\r\n                System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\r\n                System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\r\n                int button = sc.nextInt();\r\n                switch (button) {\r\n                    case  1:    {\r\n                        volumeControllerV2.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        volumeControllerV2.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  3:    {\r\n                        brightnessControllerV2.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 4: {\r\n                        brightnessControllerV2.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  5:    {\r\n                        colourControllerV2.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 6: {\r\n                        colourControllerV2.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case 7: {\r\n                        resetFunctionV2.onReset();\r\n                        break;\r\n                    }\r\n                    default:\r\n                        System.out.println(&quot;Shutting down...........&quot;);\r\n                        break OUTER;\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nSo you have your application ready with Reset feature. But, now you start realizing that \r\n\r\n&gt; Issues in TV Application Version 2\r\n\r\n 1. If a new controller is introduced to the product, you have to change Reset feature code.\r\n 2. If the count of the controller grows very high, you would have issue in holding the references of the controllers.\r\n 3. Reset feature code is tightly coupled with all the controllers Class’s code(to get and set default values).\r\n 4. Reset feature class (ResetFunctionV2) can access other method of the Controller class’s (adjust) which is undesirable.\r\n\r\n&gt; At the same time, You hear from you Boss that you might have to add a feature wherein each of controllers, on start-up, needs to check for the latest version of driver from company’s hosted driver repository via internet.\r\n\r\nNow you start thinking that this new feature to be added resembles with Reset feature and Issues of Application (V2) will be multiplied if you don’t re-factor your application.\r\n\r\nYou start thinking of using inheritance so that you can take advantage from polymorphic ability of JAVA and you add a new abstract class (ControllerV3) to\r\n\r\n 1. Declare the signature of get and set method.\r\n 2. Contain adjust method implementation which was earlier replicated among all the controllers.\r\n 3. Declare setDefault method so that reset feature can be easily implemented leveraging Polymorphism.\r\n\r\nWith these improvements, you have version 3 of your TV application ready with you.\r\n\r\n&gt; Application Version 3\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    abstract class ControllerV3 {\r\n        abstract void set(int value);\r\n        abstract int get();\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n        abstract void setDefault();\r\n    }\r\n    class VolumeControllerV3 extends ControllerV3   {\r\n    \r\n        private int defaultValue = 25;\r\n        private int value;\r\n    \r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\r\n        }\r\n    }\r\n    class  BrightnessControllerV3  extends ControllerV3   {\r\n    \r\n        private int defaultValue = 50;\r\n        private int value;\r\n    \r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\r\n        }\r\n    }\r\n    class ColourControllerV3 extends ControllerV3   {\r\n    \r\n        private int defaultValue = 40;\r\n        private int value;\r\n    \r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\r\n        }\r\n    }\r\n    \r\n    class ResetFunctionV3 {\r\n    \r\n        private List&lt;ControllerV3&gt; controllers = null;\r\n    \r\n        ResetFunctionV3(List&lt;ControllerV3&gt; controllers)  {\r\n            this.controllers = controllers;\r\n        }\r\n        void onReset()    {\r\n            for (ControllerV3 controllerV3 :this.controllers)  {\r\n                controllerV3.setDefault();\r\n            }\r\n        }\r\n    }\r\n    /*\r\n     *       so on\r\n     *       There can be n number of controllers\r\n     *\r\n     * */\r\n    public class TvApplicationV3 {\r\n        public static void main(String[] args)  {\r\n            VolumeControllerV3 volumeControllerV3 = new VolumeControllerV3();\r\n            BrightnessControllerV3 brightnessControllerV3 = new BrightnessControllerV3();\r\n            ColourControllerV3 colourControllerV3 = new ColourControllerV3();\r\n    \r\n            List&lt;ControllerV3&gt; controllerV3s = new ArrayList&lt;&gt;();\r\n            controllerV3s.add(volumeControllerV3);\r\n            controllerV3s.add(brightnessControllerV3);\r\n            controllerV3s.add(colourControllerV3);\r\n    \r\n            ResetFunctionV3 resetFunctionV3 = new ResetFunctionV3(controllerV3s);\r\n    \r\n            OUTER: while(true) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\r\n                System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\r\n                System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\r\n                System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\r\n                int button = sc.nextInt();\r\n                switch (button) {\r\n                    case  1:    {\r\n                        volumeControllerV3.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        volumeControllerV3.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  3:    {\r\n                        brightnessControllerV3.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 4: {\r\n                        brightnessControllerV3.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  5:    {\r\n                        colourControllerV3.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 6: {\r\n                        colourControllerV3.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case 7: {\r\n                        resetFunctionV3.onReset();\r\n                        break;\r\n                    }\r\n                    default:\r\n                        System.out.println(&quot;Shutting down...........&quot;);\r\n                        break OUTER;\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nAlthough most of the Issue listed in issue list of V2 were addressed except\r\n\r\n&gt; Issues in TV Application Version 3\r\n\r\n 1. Reset feature class (ResetFunctionV3) can access other method of the Controller class’s (adjust) which is undesirable.\r\n\r\nAgain, you think of solving this problem, as now you have another feature (driver update at startup) to implement as well. If you don’t fix it, it will get replicated to new features as well.\r\n\r\nSo you divide the contract defined in abstract class and write 2 interfaces for\r\n\r\n 1. Reset feature.\r\n 2. Driver Update.\r\n\r\nAnd have your 1st concrete class implement them as below\r\n\r\n&gt; Application Version 4\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    interface OnReset {\r\n        void setDefault();\r\n    }\r\n    interface OnStart {\r\n        void checkForDriverUpdate();\r\n    }\r\n    abstract class ControllerV4 implements OnReset,OnStart {\r\n        abstract void set(int value);\r\n        abstract int get();\r\n        void adjust(int value)  {\r\n            int temp = this.get();\r\n            if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\r\n                System.out.println(&quot;Can not adjust any further&quot;);\r\n                return;\r\n            }\r\n            this.set(temp + value);\r\n        }\r\n    }\r\n    \r\n    class VolumeControllerV4 extends ControllerV4 {\r\n    \r\n        private int defaultValue = 25;\r\n        private int value;\r\n        @Override\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\r\n        }\r\n        @Override\r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n    \r\n        @Override\r\n        public void checkForDriverUpdate()    {\r\n            System.out.println(&quot;Checking driver update for VolumeController .... Done&quot;);\r\n        }\r\n    }\r\n    class  BrightnessControllerV4 extends ControllerV4 {\r\n    \r\n        private int defaultValue = 50;\r\n        private int value;\r\n        @Override\r\n        int get()    {\r\n            return value;\r\n        }\r\n        @Override\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\r\n        }\r\n    \r\n        @Override\r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n    \r\n        @Override\r\n        public void checkForDriverUpdate()    {\r\n            System.out.println(&quot;Checking driver update for BrightnessController .... Done&quot;);\r\n        }\r\n    }\r\n    class ColourControllerV4 extends ControllerV4 {\r\n    \r\n        private int defaultValue = 40;\r\n        private int value;\r\n        @Override\r\n        int get()    {\r\n            return value;\r\n        }\r\n        void set(int value) {\r\n            System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\r\n            this.value = value;\r\n            System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\r\n        }\r\n        @Override\r\n        public void setDefault() {\r\n            set(defaultValue);\r\n        }\r\n    \r\n        @Override\r\n        public void checkForDriverUpdate()    {\r\n            System.out.println(&quot;Checking driver update for ColourController .... Done&quot;);\r\n        }\r\n    }\r\n    class ResetFunctionV4 {\r\n    \r\n        private List&lt;OnReset&gt; controllers = null;\r\n    \r\n        ResetFunctionV4(List&lt;OnReset&gt; controllers)  {\r\n            this.controllers = controllers;\r\n        }\r\n        void onReset()    {\r\n            for (OnReset onreset :this.controllers)  {\r\n                onreset.setDefault();\r\n            }\r\n        }\r\n    }\r\n    class InitializeDeviceV4 {\r\n    \r\n        private List&lt;OnStart&gt; controllers = null;\r\n    \r\n        InitializeDeviceV4(List&lt;OnStart&gt; controllers)  {\r\n            this.controllers = controllers;\r\n        }\r\n        void initialize()    {\r\n            for (OnStart onStart :this.controllers)  {\r\n                onStart.checkForDriverUpdate();\r\n            }\r\n        }\r\n    }\r\n    /*\r\n    *       so on\r\n    *       There can be n number of controllers\r\n    *\r\n    * */\r\n    public class TvApplicationV4 {\r\n        public static void main(String[] args)  {\r\n            VolumeControllerV4 volumeControllerV4 = new VolumeControllerV4();\r\n            BrightnessControllerV4 brightnessControllerV4 = new BrightnessControllerV4();\r\n            ColourControllerV4 colourControllerV4 = new ColourControllerV4();\r\n            List&lt;ControllerV4&gt; controllerV4s = new ArrayList&lt;&gt;();\r\n            controllerV4s.add(brightnessControllerV4);\r\n            controllerV4s.add(volumeControllerV4);\r\n            controllerV4s.add(colourControllerV4);\r\n    \r\n            List&lt;OnStart&gt; controllersToInitialize = new ArrayList&lt;&gt;();\r\n            controllersToInitialize.addAll(controllerV4s);\r\n            InitializeDeviceV4 initializeDeviceV4 = new InitializeDeviceV4(controllersToInitialize);\r\n            initializeDeviceV4.initialize();\r\n    \r\n            List&lt;OnReset&gt; controllersToReset = new ArrayList&lt;&gt;();\r\n            controllersToReset.addAll(controllerV4s);\r\n            ResetFunctionV4 resetFunctionV4 = new ResetFunctionV4(controllersToReset);\r\n    \r\n            OUTER: while(true) {\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\r\n                System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\r\n                System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\r\n                System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\r\n                int button = sc.nextInt();\r\n                switch (button) {\r\n                    case  1:    {\r\n                        volumeControllerV4.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 2: {\r\n                        volumeControllerV4.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  3:    {\r\n                        brightnessControllerV4.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 4: {\r\n                        brightnessControllerV4.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case  5:    {\r\n                        colourControllerV4.adjust(5);\r\n                        break;\r\n                    }\r\n                    case 6: {\r\n                        colourControllerV4.adjust(-5);\r\n                        break;\r\n                    }\r\n                    case 7: {\r\n                        resetFunctionV4.onReset();\r\n                        break;\r\n                    }\r\n                    default:\r\n                        System.out.println(&quot;Shutting down...........&quot;);\r\n                        break OUTER;\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Now all of the issue faced by you got addressed and you realized that with the use of Inheritance and Polymorphism you could\r\n\r\n 1. Keep various part of application loosely coupled.( Reset or Driver Update feature components  don’t need to be made aware of actual controller classes(Volume, Brightness and Colour), any class implementing OnReset or OnStart will be acceptable to Reset or Driver Update feature components respectively).\r\n 2. Application enhancement becomes easier.(New addition of controller wont impact reset or driver update feature component, and it is now really easy for you to add new ones)\r\n 3. Keep layer of abstraction.(Now Reset feature can see only setDefault method of controllers and Reset feature can see only checkForDriverUpdate method of controllers)\r\n\r\nHope, this helps :-)","title":"Polymorphism vs Overriding vs Overloading","body":"<p>Although, Polymorphism is already explained in great details in this post but I would like to put more emphasis on why part of it.</p>\n<blockquote>\n<p>Why Polymorphism is so important in any OOP language.</p>\n</blockquote>\n<p>Let’s try to build a simple application for a TV with and without Inheritance/Polymorphism. Post each version of the application, we do a small retrospective.</p>\n<p>Supposing, you are a software engineer at a TV company and you are asked to write software for Volume, Brightness and Colour controllers to increase and decrease their values on user command.</p>\n<p>You start with writing classes for each of these features by adding</p>\n<ol>\n<li>set:- To set a value of a controller.(Supposing this has controller specific code)</li>\n<li>get:- To get a value of a controller.(Supposing this has controller specific code)</li>\n<li>adjust:- To validate the input and setting a controller.(Generic validations.. independent of controllers)</li>\n<li>user input mapping with controllers :- To get user input and invoking controllers accordingly.</li>\n</ol>\n<blockquote>\n<p>Application Version 1</p>\n</blockquote>\n<pre><code>import java.util.Scanner;    \nclass VolumeControllerV1 {\n    private int value;\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\nclass  BrightnessControllerV1 {\n    private int value;\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\nclass ColourControllerV1    {\n    private int value;\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\n\n/*\n *       There can be n number of controllers\n * */\npublic class TvApplicationV1 {\n    public static void main(String[] args)  {\n        VolumeControllerV1 volumeControllerV1 = new VolumeControllerV1();\n        BrightnessControllerV1 brightnessControllerV1 = new BrightnessControllerV1();\n        ColourControllerV1 colourControllerV1 = new ColourControllerV1();\n\n\n        OUTER: while(true) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\n            System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\n            System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\n            System.out.println(&quot;Press any other Button to shutdown&quot;);\n            int button = sc.nextInt();\n            switch (button) {\n                case  1:    {\n                    volumeControllerV1.adjust(5);\n                    break;\n                }\n                case 2: {\n                    volumeControllerV1.adjust(-5);\n                    break;\n                }\n                case  3:    {\n                    brightnessControllerV1.adjust(5);\n                    break;\n                }\n                case 4: {\n                    brightnessControllerV1.adjust(-5);\n                    break;\n                }\n                case  5:    {\n                    colourControllerV1.adjust(5);\n                    break;\n                }\n                case 6: {\n                colourControllerV1.adjust(-5);\n                break;\n            }\n            default:\n                System.out.println(&quot;Shutting down...........&quot;);\n                break OUTER;\n        }\n\n    }\n    }\n}\n</code></pre>\n<p>Now you have our first version of working application ready to be deployed. Time to analyze the work done so far.</p>\n<blockquote>\n<p>Issues in TV Application Version 1</p>\n</blockquote>\n<ol>\n<li>Adjust(int value) code is duplicate in all three classes. You would like to minimize the code duplicity. (But you did not think of common code and moving it to some super class to avoid duplicate code)</li>\n</ol>\n<p>You decide to live with that as long as your application works as expected.</p>\n<blockquote>\n<p>After sometimes, your Boss comes back to you and asks you to add reset functionality to the existing application. Reset would set all 3 three controller to their respective default values.</p>\n</blockquote>\n<p>You start writing a new class (ResetFunctionV2) for the new functionality and map the user input mapping code for this new feature.</p>\n<blockquote>\n<p>Application Version 2</p>\n</blockquote>\n<pre><code>import java.util.Scanner;\nclass VolumeControllerV2    {\n\n    private int defaultValue = 25;\n    private int value;\n\n    int getDefaultValue() {\n        return defaultValue;\n    }\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\nclass  BrightnessControllerV2   {\n\n    private int defaultValue = 50;\n    private int value;\n    int get()    {\n        return value;\n    }\n    int getDefaultValue() {\n        return defaultValue;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\nclass ColourControllerV2    {\n\n    private int defaultValue = 40;\n    private int value;\n    int get()    {\n        return value;\n    }\n    int getDefaultValue() {\n        return defaultValue;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\n    }\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\n\nclass ResetFunctionV2 {\n\n    private VolumeControllerV2 volumeControllerV2 ;\n    private BrightnessControllerV2 brightnessControllerV2;\n    private ColourControllerV2 colourControllerV2;\n\n    ResetFunctionV2(VolumeControllerV2 volumeControllerV2, BrightnessControllerV2 brightnessControllerV2, ColourControllerV2 colourControllerV2)  {\n        this.volumeControllerV2 = volumeControllerV2;\n        this.brightnessControllerV2 = brightnessControllerV2;\n        this.colourControllerV2 = colourControllerV2;\n    }\n    void onReset()    {\n        volumeControllerV2.set(volumeControllerV2.getDefaultValue());\n        brightnessControllerV2.set(brightnessControllerV2.getDefaultValue());\n        colourControllerV2.set(colourControllerV2.getDefaultValue());\n    }\n}\n/*\n *       so on\n *       There can be n number of controllers\n *\n * */\npublic class TvApplicationV2 {\n    public static void main(String[] args)  {\n        VolumeControllerV2 volumeControllerV2 = new VolumeControllerV2();\n        BrightnessControllerV2 brightnessControllerV2 = new BrightnessControllerV2();\n        ColourControllerV2 colourControllerV2 = new ColourControllerV2();\n\n        ResetFunctionV2 resetFunctionV2 = new ResetFunctionV2(volumeControllerV2, brightnessControllerV2, colourControllerV2);\n\n        OUTER: while(true) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\n            System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\n            System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\n            System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\n            int button = sc.nextInt();\n            switch (button) {\n                case  1:    {\n                    volumeControllerV2.adjust(5);\n                    break;\n                }\n                case 2: {\n                    volumeControllerV2.adjust(-5);\n                    break;\n                }\n                case  3:    {\n                    brightnessControllerV2.adjust(5);\n                    break;\n                }\n                case 4: {\n                    brightnessControllerV2.adjust(-5);\n                    break;\n                }\n                case  5:    {\n                    colourControllerV2.adjust(5);\n                    break;\n                }\n                case 6: {\n                    colourControllerV2.adjust(-5);\n                    break;\n                }\n                case 7: {\n                    resetFunctionV2.onReset();\n                    break;\n                }\n                default:\n                    System.out.println(&quot;Shutting down...........&quot;);\n                    break OUTER;\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>So you have your application ready with Reset feature. But, now you start realizing that</p>\n<blockquote>\n<p>Issues in TV Application Version 2</p>\n</blockquote>\n<ol>\n<li>If a new controller is introduced to the product, you have to change Reset feature code.</li>\n<li>If the count of the controller grows very high, you would have issue in holding the references of the controllers.</li>\n<li>Reset feature code is tightly coupled with all the controllers Class’s code(to get and set default values).</li>\n<li>Reset feature class (ResetFunctionV2) can access other method of the Controller class’s (adjust) which is undesirable.</li>\n</ol>\n<blockquote>\n<p>At the same time, You hear from you Boss that you might have to add a feature wherein each of controllers, on start-up, needs to check for the latest version of driver from company’s hosted driver repository via internet.</p>\n</blockquote>\n<p>Now you start thinking that this new feature to be added resembles with Reset feature and Issues of Application (V2) will be multiplied if you don’t re-factor your application.</p>\n<p>You start thinking of using inheritance so that you can take advantage from polymorphic ability of JAVA and you add a new abstract class (ControllerV3) to</p>\n<ol>\n<li>Declare the signature of get and set method.</li>\n<li>Contain adjust method implementation which was earlier replicated among all the controllers.</li>\n<li>Declare setDefault method so that reset feature can be easily implemented leveraging Polymorphism.</li>\n</ol>\n<p>With these improvements, you have version 3 of your TV application ready with you.</p>\n<blockquote>\n<p>Application Version 3</p>\n</blockquote>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nabstract class ControllerV3 {\n    abstract void set(int value);\n    abstract int get();\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n    abstract void setDefault();\n}\nclass VolumeControllerV3 extends ControllerV3   {\n\n    private int defaultValue = 25;\n    private int value;\n\n    public void setDefault() {\n        set(defaultValue);\n    }\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\n    }\n}\nclass  BrightnessControllerV3  extends ControllerV3   {\n\n    private int defaultValue = 50;\n    private int value;\n\n    public void setDefault() {\n        set(defaultValue);\n    }\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\n    }\n}\nclass ColourControllerV3 extends ControllerV3   {\n\n    private int defaultValue = 40;\n    private int value;\n\n    public void setDefault() {\n        set(defaultValue);\n    }\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\n    }\n}\n\nclass ResetFunctionV3 {\n\n    private List&lt;ControllerV3&gt; controllers = null;\n\n    ResetFunctionV3(List&lt;ControllerV3&gt; controllers)  {\n        this.controllers = controllers;\n    }\n    void onReset()    {\n        for (ControllerV3 controllerV3 :this.controllers)  {\n            controllerV3.setDefault();\n        }\n    }\n}\n/*\n *       so on\n *       There can be n number of controllers\n *\n * */\npublic class TvApplicationV3 {\n    public static void main(String[] args)  {\n        VolumeControllerV3 volumeControllerV3 = new VolumeControllerV3();\n        BrightnessControllerV3 brightnessControllerV3 = new BrightnessControllerV3();\n        ColourControllerV3 colourControllerV3 = new ColourControllerV3();\n\n        List&lt;ControllerV3&gt; controllerV3s = new ArrayList&lt;&gt;();\n        controllerV3s.add(volumeControllerV3);\n        controllerV3s.add(brightnessControllerV3);\n        controllerV3s.add(colourControllerV3);\n\n        ResetFunctionV3 resetFunctionV3 = new ResetFunctionV3(controllerV3s);\n\n        OUTER: while(true) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\n            System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\n            System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\n            System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\n            int button = sc.nextInt();\n            switch (button) {\n                case  1:    {\n                    volumeControllerV3.adjust(5);\n                    break;\n                }\n                case 2: {\n                    volumeControllerV3.adjust(-5);\n                    break;\n                }\n                case  3:    {\n                    brightnessControllerV3.adjust(5);\n                    break;\n                }\n                case 4: {\n                    brightnessControllerV3.adjust(-5);\n                    break;\n                }\n                case  5:    {\n                    colourControllerV3.adjust(5);\n                    break;\n                }\n                case 6: {\n                    colourControllerV3.adjust(-5);\n                    break;\n                }\n                case 7: {\n                    resetFunctionV3.onReset();\n                    break;\n                }\n                default:\n                    System.out.println(&quot;Shutting down...........&quot;);\n                    break OUTER;\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>Although most of the Issue listed in issue list of V2 were addressed except</p>\n<blockquote>\n<p>Issues in TV Application Version 3</p>\n</blockquote>\n<ol>\n<li>Reset feature class (ResetFunctionV3) can access other method of the Controller class’s (adjust) which is undesirable.</li>\n</ol>\n<p>Again, you think of solving this problem, as now you have another feature (driver update at startup) to implement as well. If you don’t fix it, it will get replicated to new features as well.</p>\n<p>So you divide the contract defined in abstract class and write 2 interfaces for</p>\n<ol>\n<li>Reset feature.</li>\n<li>Driver Update.</li>\n</ol>\n<p>And have your 1st concrete class implement them as below</p>\n<blockquote>\n<p>Application Version 4</p>\n</blockquote>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\ninterface OnReset {\n    void setDefault();\n}\ninterface OnStart {\n    void checkForDriverUpdate();\n}\nabstract class ControllerV4 implements OnReset,OnStart {\n    abstract void set(int value);\n    abstract int get();\n    void adjust(int value)  {\n        int temp = this.get();\n        if(((value &gt; 0) &amp;&amp; (temp &gt;= 100)) || ((value &lt; 0) &amp;&amp; (temp &lt;= 0)))    {\n            System.out.println(&quot;Can not adjust any further&quot;);\n            return;\n        }\n        this.set(temp + value);\n    }\n}\n\nclass VolumeControllerV4 extends ControllerV4 {\n\n    private int defaultValue = 25;\n    private int value;\n    @Override\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of VolumeController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of VolumeController \\t&quot;+this.value);\n    }\n    @Override\n    public void setDefault() {\n        set(defaultValue);\n    }\n\n    @Override\n    public void checkForDriverUpdate()    {\n        System.out.println(&quot;Checking driver update for VolumeController .... Done&quot;);\n    }\n}\nclass  BrightnessControllerV4 extends ControllerV4 {\n\n    private int defaultValue = 50;\n    private int value;\n    @Override\n    int get()    {\n        return value;\n    }\n    @Override\n    void set(int value) {\n        System.out.println(&quot;Old value of BrightnessController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of BrightnessController \\t&quot;+this.value);\n    }\n\n    @Override\n    public void setDefault() {\n        set(defaultValue);\n    }\n\n    @Override\n    public void checkForDriverUpdate()    {\n        System.out.println(&quot;Checking driver update for BrightnessController .... Done&quot;);\n    }\n}\nclass ColourControllerV4 extends ControllerV4 {\n\n    private int defaultValue = 40;\n    private int value;\n    @Override\n    int get()    {\n        return value;\n    }\n    void set(int value) {\n        System.out.println(&quot;Old value of ColourController \\t&quot;+this.value);\n        this.value = value;\n        System.out.println(&quot;New value of ColourController \\t&quot;+this.value);\n    }\n    @Override\n    public void setDefault() {\n        set(defaultValue);\n    }\n\n    @Override\n    public void checkForDriverUpdate()    {\n        System.out.println(&quot;Checking driver update for ColourController .... Done&quot;);\n    }\n}\nclass ResetFunctionV4 {\n\n    private List&lt;OnReset&gt; controllers = null;\n\n    ResetFunctionV4(List&lt;OnReset&gt; controllers)  {\n        this.controllers = controllers;\n    }\n    void onReset()    {\n        for (OnReset onreset :this.controllers)  {\n            onreset.setDefault();\n        }\n    }\n}\nclass InitializeDeviceV4 {\n\n    private List&lt;OnStart&gt; controllers = null;\n\n    InitializeDeviceV4(List&lt;OnStart&gt; controllers)  {\n        this.controllers = controllers;\n    }\n    void initialize()    {\n        for (OnStart onStart :this.controllers)  {\n            onStart.checkForDriverUpdate();\n        }\n    }\n}\n/*\n*       so on\n*       There can be n number of controllers\n*\n* */\npublic class TvApplicationV4 {\n    public static void main(String[] args)  {\n        VolumeControllerV4 volumeControllerV4 = new VolumeControllerV4();\n        BrightnessControllerV4 brightnessControllerV4 = new BrightnessControllerV4();\n        ColourControllerV4 colourControllerV4 = new ColourControllerV4();\n        List&lt;ControllerV4&gt; controllerV4s = new ArrayList&lt;&gt;();\n        controllerV4s.add(brightnessControllerV4);\n        controllerV4s.add(volumeControllerV4);\n        controllerV4s.add(colourControllerV4);\n\n        List&lt;OnStart&gt; controllersToInitialize = new ArrayList&lt;&gt;();\n        controllersToInitialize.addAll(controllerV4s);\n        InitializeDeviceV4 initializeDeviceV4 = new InitializeDeviceV4(controllersToInitialize);\n        initializeDeviceV4.initialize();\n\n        List&lt;OnReset&gt; controllersToReset = new ArrayList&lt;&gt;();\n        controllersToReset.addAll(controllerV4s);\n        ResetFunctionV4 resetFunctionV4 = new ResetFunctionV4(controllersToReset);\n\n        OUTER: while(true) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot; Enter your option \\n Press 1 to increase volume \\n Press 2 to decrease volume&quot;);\n            System.out.println(&quot; Press 3 to increase brightness \\n Press 4 to decrease brightness&quot;);\n            System.out.println(&quot; Press 5 to increase color \\n Press 6 to decrease color&quot;);\n            System.out.println(&quot; Press 7 to reset TV \\n Press any other Button to shutdown&quot;);\n            int button = sc.nextInt();\n            switch (button) {\n                case  1:    {\n                    volumeControllerV4.adjust(5);\n                    break;\n                }\n                case 2: {\n                    volumeControllerV4.adjust(-5);\n                    break;\n                }\n                case  3:    {\n                    brightnessControllerV4.adjust(5);\n                    break;\n                }\n                case 4: {\n                    brightnessControllerV4.adjust(-5);\n                    break;\n                }\n                case  5:    {\n                    colourControllerV4.adjust(5);\n                    break;\n                }\n                case 6: {\n                    colourControllerV4.adjust(-5);\n                    break;\n                }\n                case 7: {\n                    resetFunctionV4.onReset();\n                    break;\n                }\n                default:\n                    System.out.println(&quot;Shutting down...........&quot;);\n                    break OUTER;\n            }\n\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Now all of the issue faced by you got addressed and you realized that with the use of Inheritance and Polymorphism you could</p>\n</blockquote>\n<ol>\n<li>Keep various part of application loosely coupled.( Reset or Driver Update feature components  don’t need to be made aware of actual controller classes(Volume, Brightness and Colour), any class implementing OnReset or OnStart will be acceptable to Reset or Driver Update feature components respectively).</li>\n<li>Application enhancement becomes easier.(New addition of controller wont impact reset or driver update feature component, and it is now really easy for you to add new ones)</li>\n<li>Keep layer of abstraction.(Now Reset feature can see only setDefault method of controllers and Reset feature can see only checkForDriverUpdate method of controllers)</li>\n</ol>\n<p>Hope, this helps :-)</p>\n"}],"owner":{"account_id":2311,"reputation":53974,"user_id":3208,"accept_rate":86,"display_name":"Brian G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309424,"favorite_count":0,"down_vote_count":2,"up_vote_count":379,"accepted_answer_id":154939,"answer_count":21,"score":377,"last_activity_date":1695139364,"creation_date":1222802942,"question_id":154577,"body_markdown":"In terms of Java, when someone asks: \r\n\r\n&gt; what is polymorphism?\r\n\r\n Would **overloading** or **overriding** be an acceptable answer?\r\n\r\nI think there is a bit more to it than that. \r\n\r\n*IF you had a abstract base class that defined a method with no implementation, and you defined that method in the sub class, is that still overridding?*\r\n\r\n\r\nI think **overloading** is not the right answer for sure.\r\n\r\n\r\n","title":"Polymorphism vs Overriding vs Overloading","body":"<p>In terms of Java, when someone asks: </p>\n\n<blockquote>\n  <p>what is polymorphism?</p>\n</blockquote>\n\n<p>Would <strong>overloading</strong> or <strong>overriding</strong> be an acceptable answer?</p>\n\n<p>I think there is a bit more to it than that. </p>\n\n<p><em>IF you had a abstract base class that defined a method with no implementation, and you defined that method in the sub class, is that still overridding?</em></p>\n\n<p>I think <strong>overloading</strong> is not the right answer for sure.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1695145964,"post_id":77135198,"comment_id":135983979,"body_markdown":"Terrible, misleading title. Rewrite to summarize your specific technical issue.","body":"Terrible, misleading title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695132423,"creation_date":1695132423,"answer_id":77135281,"question_id":77135198,"body_markdown":"From the way you have defined a `public static DbConnection static getInstance()`method, it looks like you are attempting to implement a singleton pattern. \r\n\r\nFirst, you should note that many (I would say most) programmers consider the singleton to be an anti-pattern  and generally be bad practice. I would strongly recommend against using this approach. (I would certainly not tolerate it from anyone I supervise.) Use some kind of dependency injection instead. See [here](https://stackoverflow.com/questions/137975/what-are-drawbacks-or-disadvantages-of-singleton-pattern), for example, or many other resources.\r\n\r\nThe issue is that you call the static `DbConnection.getConnection()` method which returns the static `connection` object. This is only initialized via `DbConnection.getInstance()`, which you never call, so it is null.\r\n\r\nIf you do insist on using this approach (and for learning purposes it does provide some simplicity), then the `connection` field should not be `static`; it should be an instance field that belongs to the (one and only) `DbConnection` instance.\r\n\r\nSo:\r\n\r\n```\r\npublic class DbConnection {\r\n    private static DbConnection dbConnection;\r\n\r\n    // not static:\r\n    private Connection connection;\r\n\r\n    private DbConnection(){\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Supermarket&quot;, &quot;root&quot;, &quot;Xhq8nc3mcj&quot;);\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            Logger.getLogger(DbConnection.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n    public static DbConnection getInstance(){\r\n        if (dbConnection == null){\r\n            dbConnection = new DbConnection();\r\n        }\r\n        return dbConnection;\r\n    }\r\n\r\n    // not static:\r\n    public Connection getConnection(){\r\n        return connection;\r\n    }\r\n}\r\n```\r\n\r\nand then in your application code you do\r\n\r\n```\r\nConnection connection = DbConnection.getInstance().getConnection();\r\n```\r\n\r\nor\r\n\r\n```\r\nDbConnection dbConnection = DbConnection.getInstance();\r\n\r\n// ...\r\n\r\nConnection connection = dbConnection.getConnection();\r\n```","title":"JavaFx and Jdbc","body":"<p>From the way you have defined a <code>public static DbConnection static getInstance()</code>method, it looks like you are attempting to implement a singleton pattern.</p>\n<p>First, you should note that many (I would say most) programmers consider the singleton to be an anti-pattern  and generally be bad practice. I would strongly recommend against using this approach. (I would certainly not tolerate it from anyone I supervise.) Use some kind of dependency injection instead. See <a href=\"https://stackoverflow.com/questions/137975/what-are-drawbacks-or-disadvantages-of-singleton-pattern\">here</a>, for example, or many other resources.</p>\n<p>The issue is that you call the static <code>DbConnection.getConnection()</code> method which returns the static <code>connection</code> object. This is only initialized via <code>DbConnection.getInstance()</code>, which you never call, so it is null.</p>\n<p>If you do insist on using this approach (and for learning purposes it does provide some simplicity), then the <code>connection</code> field should not be <code>static</code>; it should be an instance field that belongs to the (one and only) <code>DbConnection</code> instance.</p>\n<p>So:</p>\n<pre><code>public class DbConnection {\n    private static DbConnection dbConnection;\n\n    // not static:\n    private Connection connection;\n\n    private DbConnection(){\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Supermarket&quot;, &quot;root&quot;, &quot;Xhq8nc3mcj&quot;);\n        } catch (ClassNotFoundException | SQLException ex) {\n            Logger.getLogger(DbConnection.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public static DbConnection getInstance(){\n        if (dbConnection == null){\n            dbConnection = new DbConnection();\n        }\n        return dbConnection;\n    }\n\n    // not static:\n    public Connection getConnection(){\n        return connection;\n    }\n}\n</code></pre>\n<p>and then in your application code you do</p>\n<pre><code>Connection connection = DbConnection.getInstance().getConnection();\n</code></pre>\n<p>or</p>\n<pre><code>DbConnection dbConnection = DbConnection.getInstance();\n\n// ...\n\nConnection connection = dbConnection.getConnection();\n</code></pre>\n"}],"owner":{"account_id":29133575,"reputation":1,"user_id":22318250,"display_name":"Tharindu Rukshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1695139225,"creation_date":1695131660,"question_id":77135198,"body_markdown":"This is a car rental system. I wrote this using JavaFX and JDBC. I created this with a layered architecture. \r\n\r\n&quot;An error occurred: Cannot invoke &quot;java.sql.Connection.prepareStatment(String)&quot; because &quot;connection&quot; is null. &quot;\r\n\r\nThis is the error I get in my application.\r\n\r\nThis is my DbConnection class.\r\n\r\n```\r\npackage lk.ijse.carrentalsystem.db;\r\n\r\nimport org.jetbrains.annotations.Contract;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class DbConnection {\r\n    private static DbConnection dbConnection;\r\n    private static Connection connection;\r\n\r\n    private DbConnection(){\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Supermarket&quot;, &quot;root&quot;, &quot;Xhq8nc3mcj&quot;);\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            Logger.getLogger(DbConnection.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n    public static DbConnection getInstance(){\r\n        if (dbConnection == null){\r\n            dbConnection = new DbConnection();\r\n        }\r\n        return dbConnection;\r\n    }\r\n\r\n    public static Connection getConnection(){\r\n        return connection;\r\n    }\r\n}\r\n```\r\n\r\nThis is my CustomerDaoImpl class\r\n\r\n```\r\nimport com.mysql.cj.Session;\r\nimport lk.ijse.carrentalsystem.dao.custom.CustomerDao;\r\nimport lk.ijse.carrentalsystem.db.DbConnection;\r\nimport lk.ijse.carrentalsystem.entity.CustomerEntity;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\npublic class CustomerDaoImpl implements CustomerDao {\r\n\r\n    @Override\r\n    public boolean addCustomer(CustomerEntity entity) throws Exception {\r\n        String sql = &quot;INSERT INTO customer (custTitle, custName, custNic, address, mobile) VALUES (?, ?, ?, ?, ?)&quot;;\r\n\r\n        try (Connection connection = DbConnection.getConnection()) {\r\n            try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\r\n\r\n                // Set values in the prepared statement\r\n                preparedStatement.setString(1, entity.getCustTitle());\r\n                preparedStatement.setString(2, entity.getCustName());\r\n                preparedStatement.setString(3, entity.getCustNic());\r\n                preparedStatement.setString(4, entity.getAddress());\r\n                preparedStatement.setString(5, entity.getMobile());\r\n\r\n                // Execute the SQL query\r\n                int rowsAffected = preparedStatement.executeUpdate();\r\n\r\n                // Check if the insertion was successful\r\n                return rowsAffected &gt; 0;\r\n\r\n            } catch (SQLException e) {\r\n                // Handle any SQL exceptions\r\n                e.printStackTrace(); // You can log the exception or handle it in a better way\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nHow do I fix this error?","title":"JavaFx and Jdbc","body":"<p>This is a car rental system. I wrote this using JavaFX and JDBC. I created this with a layered architecture.</p>\n<p>&quot;An error occurred: Cannot invoke &quot;java.sql.Connection.prepareStatment(String)&quot; because &quot;connection&quot; is null. &quot;</p>\n<p>This is the error I get in my application.</p>\n<p>This is my DbConnection class.</p>\n<pre><code>package lk.ijse.carrentalsystem.db;\n\nimport org.jetbrains.annotations.Contract;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class DbConnection {\n    private static DbConnection dbConnection;\n    private static Connection connection;\n\n    private DbConnection(){\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Supermarket&quot;, &quot;root&quot;, &quot;Xhq8nc3mcj&quot;);\n        } catch (ClassNotFoundException | SQLException ex) {\n            Logger.getLogger(DbConnection.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public static DbConnection getInstance(){\n        if (dbConnection == null){\n            dbConnection = new DbConnection();\n        }\n        return dbConnection;\n    }\n\n    public static Connection getConnection(){\n        return connection;\n    }\n}\n</code></pre>\n<p>This is my CustomerDaoImpl class</p>\n<pre><code>import com.mysql.cj.Session;\nimport lk.ijse.carrentalsystem.dao.custom.CustomerDao;\nimport lk.ijse.carrentalsystem.db.DbConnection;\nimport lk.ijse.carrentalsystem.entity.CustomerEntity;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\npublic class CustomerDaoImpl implements CustomerDao {\n\n    @Override\n    public boolean addCustomer(CustomerEntity entity) throws Exception {\n        String sql = &quot;INSERT INTO customer (custTitle, custName, custNic, address, mobile) VALUES (?, ?, ?, ?, ?)&quot;;\n\n        try (Connection connection = DbConnection.getConnection()) {\n            try (PreparedStatement preparedStatement = connection.prepareStatement(sql)) {\n\n                // Set values in the prepared statement\n                preparedStatement.setString(1, entity.getCustTitle());\n                preparedStatement.setString(2, entity.getCustName());\n                preparedStatement.setString(3, entity.getCustNic());\n                preparedStatement.setString(4, entity.getAddress());\n                preparedStatement.setString(5, entity.getMobile());\n\n                // Execute the SQL query\n                int rowsAffected = preparedStatement.executeUpdate();\n\n                // Check if the insertion was successful\n                return rowsAffected &gt; 0;\n\n            } catch (SQLException e) {\n                // Handle any SQL exceptions\n                e.printStackTrace(); // You can log the exception or handle it in a better way\n            }\n\n            return false;\n        }\n\n    }\n}\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","cascade"],"answers":[{"comments":[{"owner":{"account_id":12270189,"reputation":1,"user_id":8955549,"display_name":"hardkraja20"},"score":0,"creation_date":1695123270,"post_id":77132429,"comment_id":135979242,"body_markdown":"Thanks, that works but I wanted to know the solution without doing that. Is there any ?","body":"Thanks, that works but I wanted to know the solution without doing that. Is there any ?"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1695124339,"post_id":77132429,"comment_id":135979436,"body_markdown":"I think by define your roles in userEntity with keyword transient your issue will be done","body":"I think by define your roles in userEntity with keyword transient your issue will be done"}],"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695108068,"creation_date":1695108068,"answer_id":77132429,"question_id":77131536,"body_markdown":"you can first find roles from DB and set that to userEntity and then save that in DB","title":"Can&#39;t save Main Object with giving only ID of Nested Object - giving TransientObjectException Many to many relationship is used","body":"<p>you can first find roles from DB and set that to userEntity and then save that in DB</p>\n"}],"owner":{"account_id":12270189,"reputation":1,"user_id":8955549,"display_name":"hardkraja20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695138442,"creation_date":1695093752,"question_id":77131536,"body_markdown":"Let me first introduce my whole problem,\r\nI have a UserEntity like this\r\n\r\n```\r\n@Entity\r\npublic class UserEntity extends IdDescriptionStateMetaEntity {\r\n\r\n  //.. other members  \r\n\r\n  @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;role_user&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private List&lt;RoleEntity&gt; roles;\r\n\r\n  // getter and setter\r\n}\r\n\r\n```\r\nand also have RoleEntity\r\n\r\n`@Entity\r\npublic class RoleEntity extends IdDescriptionStateMetaEntity { //fields related to role }`\r\n\r\n\r\nnow, I always have role with ID 1 in database.\r\n\r\nI just want to save UserEntity with giving id of role. as role always be there in database.\r\n\r\n \r\n```\r\n@Transactional\r\n    public UserEntity createUser(){\r\n\r\n        UserEntity userEntity = new UserEntity();\r\n        \r\n        List&lt;RoleEntity&gt; roleEntities = new ArrayList&lt;&gt;();\r\n        \r\n        RoleEntity roleEntity = new RoleEntity();\r\n        roleEntity.setId(&quot;1&quot;);\r\n        roleEntities.add(roleEntity);\r\n        userEntity.setRoles(roleEntities);\r\n\r\n        userEntity = userRepository.save(userEntity);\r\n        return userEntity;\r\n    }\r\n```\r\n\r\nWhen the above method calls it gives exception\r\n\r\n`TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.model.RoleEntity`\r\n\r\n\r\n\r\n\r\nI Tried giving Cascade.Merge in manytomany annotation, but still getting the same error.","title":"Can&#39;t save Main Object with giving only ID of Nested Object - giving TransientObjectException Many to many relationship is used","body":"<p>Let me first introduce my whole problem,\nI have a UserEntity like this</p>\n<pre><code>@Entity\npublic class UserEntity extends IdDescriptionStateMetaEntity {\n\n  //.. other members  \n\n  @ManyToMany\n    @JoinTable(\n            name = &quot;role_user&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;RoleEntity&gt; roles;\n\n  // getter and setter\n}\n\n</code></pre>\n<p>and also have RoleEntity</p>\n<p><code>@Entity public class RoleEntity extends IdDescriptionStateMetaEntity { //fields related to role }</code></p>\n<p>now, I always have role with ID 1 in database.</p>\n<p>I just want to save UserEntity with giving id of role. as role always be there in database.</p>\n<pre><code>@Transactional\n    public UserEntity createUser(){\n\n        UserEntity userEntity = new UserEntity();\n        \n        List&lt;RoleEntity&gt; roleEntities = new ArrayList&lt;&gt;();\n        \n        RoleEntity roleEntity = new RoleEntity();\n        roleEntity.setId(&quot;1&quot;);\n        roleEntities.add(roleEntity);\n        userEntity.setRoles(roleEntities);\n\n        userEntity = userRepository.save(userEntity);\n        return userEntity;\n    }\n</code></pre>\n<p>When the above method calls it gives exception</p>\n<p><code>TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.model.RoleEntity</code></p>\n<p>I Tried giving Cascade.Merge in manytomany annotation, but still getting the same error.</p>\n"},{"tags":["java","zapier","tablerow","airtable","formstack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229211,"post_id":77136084,"comment_id":135997693,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26374602,"reputation":1,"user_id":20028759,"display_name":"ShanahFeely"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695138322,"creation_date":1695138322,"question_id":77136084,"body_markdown":"This is an example of my field data:\r\n\r\n```\r\n[{&quot;1A&quot;:&quot;Loose cables hanging&quot;,&quot;1B&quot;:&quot;Objects causing potential eye injury to persons. Objects cause unnecessary trip hazards. Objects causing potential damage to existing assets.&quot;,&quot;1C&quot;:&quot;All operatives&quot;,&quot;1D&quot;:2,&quot;1E&quot;:3,&quot;1F&quot;:6,&quot;1G&quot;:&quot;Leave cable lengths secured and wrapped neatly, secure with cable ties and ensure they are placed in a position where they can cause no harm.&quot;,&quot;1H&quot;:1,&quot;1I&quot;:3,&quot;1J&quot;:3,&quot;1K&quot;:&quot;Low&quot;},{&quot;2A&quot;:&quot;Damaged components&quot;,&quot;2B&quot;:&quot;Falling from height and the associated risks&quot;,&quot;2C&quot;:&quot;All operatives/ members of public&quot;,&quot;2D&quot;:2,&quot;2E&quot;:5,&quot;2F&quot;:10,&quot;2G&quot;:&quot;Scheduled equipment maintenance, safety checks ahead of usage.&quot;,&quot;2H&quot;:1,&quot;2I&quot;:5,&quot;2J&quot;:5,&quot;2K&quot;:&quot;Low&quot;}]\r\n```\r\n\r\nThis is an example of my tags:\r\n\r\n{tablerow from=$RiskMatrix item=risk}{$risk.1A}\t{$risk.1B}\t{$risk.1C}\t{$risk.1D}\t{$risk.1E}\t{$risk.1F}\t{$risk.1G}\t{$risk.1H}\t{$risk.1I}\t{$risk.1J}\t{$risk.1K}{/tablerow}\r\n\r\nThe result in each of my table cells (Formstack doc) is showing \r\n\r\n```\r\n{\r\n```\r\n\r\nin each cell.\r\nI want the value (string) of each key value pair in my array data to show in my table cells.\r\n\r\nAm I doing something wrong with the tags/field data or is this only possible via Zapier/further scripting?","title":"Why won&#39;t my Formstack document tags (word doc) read my field Array (Airtable) with the tablerow loop?","body":"<p>This is an example of my field data:</p>\n<pre><code>[{&quot;1A&quot;:&quot;Loose cables hanging&quot;,&quot;1B&quot;:&quot;Objects causing potential eye injury to persons. Objects cause unnecessary trip hazards. Objects causing potential damage to existing assets.&quot;,&quot;1C&quot;:&quot;All operatives&quot;,&quot;1D&quot;:2,&quot;1E&quot;:3,&quot;1F&quot;:6,&quot;1G&quot;:&quot;Leave cable lengths secured and wrapped neatly, secure with cable ties and ensure they are placed in a position where they can cause no harm.&quot;,&quot;1H&quot;:1,&quot;1I&quot;:3,&quot;1J&quot;:3,&quot;1K&quot;:&quot;Low&quot;},{&quot;2A&quot;:&quot;Damaged components&quot;,&quot;2B&quot;:&quot;Falling from height and the associated risks&quot;,&quot;2C&quot;:&quot;All operatives/ members of public&quot;,&quot;2D&quot;:2,&quot;2E&quot;:5,&quot;2F&quot;:10,&quot;2G&quot;:&quot;Scheduled equipment maintenance, safety checks ahead of usage.&quot;,&quot;2H&quot;:1,&quot;2I&quot;:5,&quot;2J&quot;:5,&quot;2K&quot;:&quot;Low&quot;}]\n</code></pre>\n<p>This is an example of my tags:</p>\n<p>{tablerow from=$RiskMatrix item=risk}{$risk.1A} {$risk.1B}  {$risk.1C}  {$risk.1D}  {$risk.1E}  {$risk.1F}  {$risk.1G}  {$risk.1H}  {$risk.1I}  {$risk.1J}  {$risk.1K}{/tablerow}</p>\n<p>The result in each of my table cells (Formstack doc) is showing</p>\n<pre><code>{\n</code></pre>\n<p>in each cell.\nI want the value (string) of each key value pair in my array data to show in my table cells.</p>\n<p>Am I doing something wrong with the tags/field data or is this only possible via Zapier/further scripting?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1487712837,"post_id":42378334,"comment_id":71905941,"body_markdown":"You&#39;ve posted requirements and code but have asked no *specific* question. Please fix this so that we can know how to answer this. If your question is the broad, &quot;can someone help me&quot;, then please read, [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"You&#39;ve posted requirements and code but have asked no <i>specific</i> question. Please fix this so that we can know how to answer this. If your question is the broad, &quot;can someone help me&quot;, then please read, <a href=\"http://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1487713014,"post_id":42378334,"comment_id":71906046,"body_markdown":"How do you solve the problem &quot;in your head&quot;. What&#39;s your strategy? Why do you think your code solves the problem. For example, if the string is &quot;&gt;&lt;&gt;&lt;&quot;, you have 2 left saluters, 2 right saluters, but the answer is not 2 * 2 * 2 = 8. It&#39;s 6.","body":"How do you solve the problem &quot;in your head&quot;. What&#39;s your strategy? Why do you think your code solves the problem. For example, if the string is &quot;&gt;&lt;&gt;&lt;&quot;, you have 2 left saluters, 2 right saluters, but the answer is not 2 * 2 * 2 = 8. It&#39;s 6."},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487713619,"post_id":42378334,"comment_id":71906409,"body_markdown":"@JBNizet well initially I figured that by isolating the right saluters and left saluters it would be a simple matter of multiplying the length of their respective strings and returning the value however that did not hold up in every case.  The * 2 on the end of the return is actually a mistake I have edited it out","body":"@JBNizet well initially I figured that by isolating the right saluters and left saluters it would be a simple matter of multiplying the length of their respective strings and returning the value however that did not hold up in every case.  The * 2 on the end of the return is actually a mistake I have edited it out"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1487713770,"post_id":42378334,"comment_id":71906482,"body_markdown":"It&#39;s still wrong without the * 2, as my counterexample shows. This formula is just wrong. Read Jason&#39;s answer: that&#39;s how I do it myself when counting the number of salutes &quot;in my head&quot;.","body":"It&#39;s still wrong without the * 2, as my counterexample shows. This formula is just wrong. Read Jason&#39;s answer: that&#39;s how I do it myself when counting the number of salutes &quot;in my head&quot;."},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487713839,"post_id":42378334,"comment_id":71906526,"body_markdown":"Ya something is definitely off, I really appreciate your pointers","body":"Ya something is definitely off, I really appreciate your pointers"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1487717572,"post_id":42378334,"comment_id":71908292,"body_markdown":"*&quot;how do I eliminate the other returns?&quot;* It&#39;s not a &quot;return&quot; but your `System.out.println(saluters);` remove that line and you&#39;re done","body":"<i>&quot;how do I eliminate the other returns?&quot;</i> It&#39;s not a &quot;return&quot; but your <code>System.out.println(saluters);</code> remove that line and you&#39;re done"},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487717922,"post_id":42378334,"comment_id":71908417,"body_markdown":"Hahaha wow im an idiot","body":"Hahaha wow im an idiot"}],"answers":[{"comments":[{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487713774,"post_id":42378506,"comment_id":71906485,"body_markdown":"Right I knew I was missing something.  When ai setup my empBound substring that is the type of effect I was trying to have to account for minions trailing off either end of the string","body":"Right I knew I was missing something.  When ai setup my empBound substring that is the type of effect I was trying to have to account for minions trailing off either end of the string"},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487716760,"post_id":42378506,"comment_id":71907941,"body_markdown":"So I tried implementing the algorithm however it is giving me this output: `8\n16\n11\n22\n2\n4\n3\n6`  See updated question","body":"So I tried implementing the algorithm however it is giving me this output: <code>8 16 11 22 2 4 3 6</code>  See updated question"},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487717156,"post_id":42378506,"comment_id":71908103,"body_markdown":"I can not find where I screwed up","body":"I can not find where I screwed up"},{"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"score":0,"creation_date":1487738628,"post_id":42378506,"comment_id":71914394,"body_markdown":"Edited to include a working implementation of my algorithm.","body":"Edited to include a working implementation of my algorithm."},{"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"score":0,"creation_date":1487738728,"post_id":42378506,"comment_id":71914427,"body_markdown":"Man...I was way off.  Thank you for all of your feedback, I really appreciate it.  I am clearly not prepared for a position at google lol...yet","body":"Man...I was way off.  Thank you for all of your feedback, I really appreciate it.  I am clearly not prepared for a position at google lol...yet"}],"tags":[],"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487738892,"creation_date":1487713141,"answer_id":42378506,"question_id":42378334,"body_markdown":"The key is to recognise that minions only salute other minions that are in front of them and are walking towards them.\r\n\r\nThe algorithm to calculate the number of salutes is:\r\n\r\n    for each &#39;&gt;&#39;\r\n        count the &#39;&lt;&#39; to its right\r\n        add count to the running total\r\n    end for\r\n\r\n    output the running total * 2 (because 2 salutes per meeting)\r\n\r\n**Edit:** Here&#39;s one way to implement my algorithm (not the most efficient code, but a quick-and-dirty first attempt):\r\n\r\n    public static void main(String[] args) {\r\n        //Test input\r\n        System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n        System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n    }\r\n\r\n    public static int answer(String s) {\r\n\r\n        int meetings = 0;\r\n\r\n        for (int index = 0; index &lt; s.length() - 1; index++) {    // stop one short of the end, since if the last minion is heading right, there won&#39;t be anyone in from of him\r\n            if (s.charAt(index) == &#39;&gt;&#39;) {\r\n                meetings += countApproachingMinions(s.substring(index + 1));\r\n            }\r\n        }\r\n\r\n        return meetings * 2;\r\n    }\r\n\r\n    private static int countApproachingMinions(String hallwayAhead) {\r\n        return hallwayAhead.replaceAll(&quot;&gt;&quot;, &quot;&quot;)    // ignore minions heading the same way\r\n                .replaceAll(&quot;-&quot;, &quot;&quot;)               // ignore spaces\r\n                .length();                         // count the approaching minions\r\n    }\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>The key is to recognise that minions only salute other minions that are in front of them and are walking towards them.</p>\n\n<p>The algorithm to calculate the number of salutes is:</p>\n\n<pre><code>for each '&gt;'\n    count the '&lt;' to its right\n    add count to the running total\nend for\n\noutput the running total * 2 (because 2 salutes per meeting)\n</code></pre>\n\n<p><strong>Edit:</strong> Here's one way to implement my algorithm (not the most efficient code, but a quick-and-dirty first attempt):</p>\n\n<pre><code>public static void main(String[] args) {\n    //Test input\n    System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n    System.out.println(answer(\"&gt;----&lt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n}\n\npublic static int answer(String s) {\n\n    int meetings = 0;\n\n    for (int index = 0; index &lt; s.length() - 1; index++) {    // stop one short of the end, since if the last minion is heading right, there won't be anyone in from of him\n        if (s.charAt(index) == '&gt;') {\n            meetings += countApproachingMinions(s.substring(index + 1));\n        }\n    }\n\n    return meetings * 2;\n}\n\nprivate static int countApproachingMinions(String hallwayAhead) {\n    return hallwayAhead.replaceAll(\"&gt;\", \"\")    // ignore minions heading the same way\n            .replaceAll(\"-\", \"\")               // ignore spaces\n            .length();                         // count the approaching minions\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8121635,"reputation":541,"user_id":6118172,"display_name":"shivangg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498317081,"creation_date":1498317081,"answer_id":44737845,"question_id":42378334,"body_markdown":"A better algorithm that requires only once to go through the entire string.\r\n\r\n\r\n    def answer(s):\r\n\t    # your code herecat \r\n\t    multiplier = 0\r\n\t    salute = 0\r\n\t    for x in range(len(s)):\r\n\t\t    if s[x] is &#39;&lt;&#39;:\r\n\t\t\t    multiplier += 1\r\n\r\n    \tfor x in range(len(s)):\r\n\t    \tif s[x] is &#39;&gt;&#39;:\r\n\t\t    \tsalute += multiplier\r\n    \t\telif s[x] is &#39;&lt;&#39;:\r\n\t    \t\tmultiplier -= 1\r\n\r\n    \tans = salute * 2\r\n\r\n\t    return ans","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>A better algorithm that requires only once to go through the entire string.</p>\n\n<pre><code>def answer(s):\n    # your code herecat \n    multiplier = 0\n    salute = 0\n    for x in range(len(s)):\n        if s[x] is '&lt;':\n            multiplier += 1\n\n    for x in range(len(s)):\n        if s[x] is '&gt;':\n            salute += multiplier\n        elif s[x] is '&lt;':\n            multiplier -= 1\n\n    ans = salute * 2\n\n    return ans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8126986,"reputation":23,"user_id":7192818,"display_name":"Geo R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530991982,"creation_date":1530991982,"answer_id":51226373,"question_id":42378334,"body_markdown":"Here&#39;s another way of doing it. If you split left and right moving into to different strings and then represent each as a binary number you can use bit wise and &amp;, and bit shift &gt;&gt; operations to simulate the two lines passing each other. \r\n\r\nHere is a simple python solution. Note python supports arbitrary length ints, so in another language you might have to pull in a &quot;big int&quot; class for this approach to work.\r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    def answer(s):\r\n        hall_length = len(s)\r\n        hall = s.replace(&#39;-&#39;, &#39;0&#39;)\r\n        left = hall.replace(&#39;&lt;&#39;, &#39;1&#39;).replace(&#39;&gt;&#39;, &#39;0&#39;)\r\n        right = hall.replace(&#39;&gt;&#39;, &#39;1&#39;).replace(&#39;&lt;&#39;, &#39;0&#39;)\r\n        #convert binary strings to ints\r\n        left = int(left, 2)\r\n        right = int(right, 2)\r\n        passes = 0\r\n        for i in range(1, hall_length):\r\n            p = left &amp; (right &gt;&gt; i)#An int whos number of high bits represents the number of passes this step\r\n            p = bin(p).count(&quot;1&quot;) #Convert to string and count the 1&#39;s\r\n            passes = passes + p \r\n        return int(passes * 2)","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>Here's another way of doing it. If you split left and right moving into to different strings and then represent each as a binary number you can use bit wise and &amp;, and bit shift >> operations to simulate the two lines passing each other. </p>\n\n<p>Here is a simple python solution. Note python supports arbitrary length ints, so in another language you might have to pull in a \"big int\" class for this approach to work.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def answer(s):\n    hall_length = len(s)\n    hall = s.replace('-', '0')\n    left = hall.replace('&lt;', '1').replace('&gt;', '0')\n    right = hall.replace('&gt;', '1').replace('&lt;', '0')\n    #convert binary strings to ints\n    left = int(left, 2)\n    right = int(right, 2)\n    passes = 0\n    for i in range(1, hall_length):\n        p = left &amp; (right &gt;&gt; i)#An int whos number of high bits represents the number of passes this step\n        p = bin(p).count(\"1\") #Convert to string and count the 1's\n        passes = passes + p \n    return int(passes * 2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14370710,"reputation":41,"user_id":12088879,"display_name":"Alok Upadhya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589823096,"creation_date":1589621439,"answer_id":61834655,"question_id":42378334,"body_markdown":"```python\r\ndef solution(s):\r\n\tpas = 0\r\n\tsalute = 0\r\n\tfor x in range(s.find(&#39;&gt;&#39;),len(s)-s[::-1].find(&#39;&lt;&#39;)):\r\n\t\tif(s[x] == &#39;&gt;&#39;):\r\n\t\t\tpas+=1\r\n\t\tif(s[x] == &#39;&lt;&#39;):\r\n\t\t\tsalute += 2*pas\r\n\treturn salute\r\n```\r\n**Explanation**\r\n\r\nIn the above code solution, it will process the string from left to right\r\nand find the index position of &#39;&gt;&#39; from left and &#39;&lt;&#39; from the right.\r\n\r\n```\r\ns.find(&#39;&gt;&#39;),len(s)-s[::-1].find(&#39;&lt;&#39;)\r\n\r\n&lt; - &gt; - &gt; &lt; - &lt; - &gt;\r\n0 1 2 3 4 5 6 7 8 9\r\n    ^         ^\r\n```\r\nminions at positions 0 and 9 never salute others in the above string example. so that we process only from index 2 to 7 (left to right)\r\n\r\nif the string is &#39;&gt;&#39; at the current position then increments the **pas** value\r\n```\r\nif(s[x] == &#39;&gt;&#39;):\r\n    pas+=1\r\n```\r\n\r\nif the string is &#39;&lt;&#39; at the current position then multiply the **pas** value with 2 and add with a total salute count\r\n```\r\nif(s[x] == &#39;&lt;&#39;):\r\n    salute += 2*pas\r\n```\r\n\r\nAfter the completion of the loop, **salute** value is the total no. of salutes.\r\n\r\n``` python\r\n#Simulation of the code\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n      ^     \r\ncurrent pos = 2\r\npas = 1\r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n        ^   \r\ncurrent pos = 3\r\npas = 1\r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n          ^   \r\ncurrent pos = 4\r\npas = 2 \r\nsalute = 0\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n            ^ \r\ncurrent pos = 5\r\npas = 2 \r\nsalute = 4  (0 += 2*2 / salute = 2*pas)\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n              ^ \r\ncurrent pos = 6\r\npas = 2 \r\nsalute = 4  (0 += 2*2 / salute = 2*pas)\r\n\r\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\r\n0 1 | 2 3 4 5 6 7 | 8 9\r\n                ^ \r\ncurrent pos = 7\r\npas = 2 \r\nsalute = 8  (4 += 2*2 / salute = 2*pas)\r\n\r\n```\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<pre class=\"lang-py prettyprint-override\"><code>def solution(s):\n    pas = 0\n    salute = 0\n    for x in range(s.find('&gt;'),len(s)-s[::-1].find('&lt;')):\n        if(s[x] == '&gt;'):\n            pas+=1\n        if(s[x] == '&lt;'):\n            salute += 2*pas\n    return salute\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>In the above code solution, it will process the string from left to right\nand find the index position of '>' from left and '&lt;' from the right.</p>\n\n<pre><code>s.find('&gt;'),len(s)-s[::-1].find('&lt;')\n\n&lt; - &gt; - &gt; &lt; - &lt; - &gt;\n0 1 2 3 4 5 6 7 8 9\n    ^         ^\n</code></pre>\n\n<p>minions at positions 0 and 9 never salute others in the above string example. so that we process only from index 2 to 7 (left to right)</p>\n\n<p>if the string is '>' at the current position then increments the <strong>pas</strong> value</p>\n\n<pre><code>if(s[x] == '&gt;'):\n    pas+=1\n</code></pre>\n\n<p>if the string is '&lt;' at the current position then multiply the <strong>pas</strong> value with 2 and add with a total salute count</p>\n\n<pre><code>if(s[x] == '&lt;'):\n    salute += 2*pas\n</code></pre>\n\n<p>After the completion of the loop, <strong>salute</strong> value is the total no. of salutes.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#Simulation of the code\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n      ^     \ncurrent pos = 2\npas = 1\nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n        ^   \ncurrent pos = 3\npas = 1\nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n          ^   \ncurrent pos = 4\npas = 2 \nsalute = 0\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n            ^ \ncurrent pos = 5\npas = 2 \nsalute = 4  (0 += 2*2 / salute = 2*pas)\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n              ^ \ncurrent pos = 6\npas = 2 \nsalute = 4  (0 += 2*2 / salute = 2*pas)\n\n&lt; - | &gt; - &gt; &lt; - &lt; | - &gt;\n0 1 | 2 3 4 5 6 7 | 8 9\n                ^ \ncurrent pos = 7\npas = 2 \nsalute = 8  (4 += 2*2 / salute = 2*pas)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490706,"reputation":1,"user_id":2920469,"display_name":"Shanks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695138009,"creation_date":1695137366,"answer_id":77135956,"question_id":42378334,"body_markdown":"I thought this would be simpler to implement but looking at the answers, I am confused. This is what I have so far and I tried running a couple of tests and they are passing. What am I missing? Can someone please point me to use-cases that won&#39;t work.\r\n\r\n    public static int solution(String s) {\r\n        int left = 0;\r\n        int count = 0;\r\n        char[] charArr = s.toCharArray();\r\n        for (int i = 0; i &lt; charArr.length; i++) {\r\n          if (&#39;&gt;&#39; == charArr[i]) {\r\n            left++;\r\n          }\r\n          if (&#39;&lt;&#39; == charArr[i]) {\r\n            count += left;\r\n          }\r\n        }\r\n        return count &lt;&lt; 1;\r\n    }\r\n\r\n","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>I thought this would be simpler to implement but looking at the answers, I am confused. This is what I have so far and I tried running a couple of tests and they are passing. What am I missing? Can someone please point me to use-cases that won't work.</p>\n<pre><code>public static int solution(String s) {\n    int left = 0;\n    int count = 0;\n    char[] charArr = s.toCharArray();\n    for (int i = 0; i &lt; charArr.length; i++) {\n      if ('&gt;' == charArr[i]) {\n        left++;\n      }\n      if ('&lt;' == charArr[i]) {\n        count += left;\n      }\n    }\n    return count &lt;&lt; 1;\n}\n</code></pre>\n"}],"owner":{"account_id":8969596,"reputation":1685,"user_id":6688671,"accept_rate":92,"display_name":"Gabriel_W"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4140,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42378506,"answer_count":5,"score":3,"last_activity_date":1695138009,"creation_date":1487712429,"question_id":42378334,"body_markdown":"I am working on a foo.bar challenge and have become stuck.  here is the description of the problem:\r\n\r\n&gt; En Route Salute\r\n===============\r\n\r\nCommander Lambda loves efficiency and hates anything that wastes time. She&#39;s a busy lamb, after all! She generously rewards henchmen who identify sources of inefficiency and come up with ways to remove them. You&#39;ve spotted one such source, and you think solving it will help you build the reputation you need to get promoted.\r\n\r\nEvery time the Commander&#39;s employees pass each other in the hall, each of them must stop and salute each other - one at a time - before resuming their path. A salute is five seconds long, so each exchange of salutes takes a full ten seconds (Commander Lambda&#39;s salute is a bit, er, involved). You think that by removing the salute requirement, you could save several collective hours of employee time per day. But first, you need to show her how bad the problem really is.\r\n\r\nWrite a program that counts how many salutes are exchanged during a typical walk along a hallway. The hall is represented by a string. For example:\r\n&quot;---&gt;-&gt;&lt;-&gt;&lt;--&gt;-&quot;\r\n\r\nEach hallway string will contain three different types of characters: &#39;&gt;&#39;, an employee walking to the right; &#39;&lt;&#39;, an employee walking to the left; and &#39;-&#39;, an empty space. Every employee walks at the same speed either to right or to the left, according to their direction. Whenever two employees cross, each of them salutes the other. They then continue walking until they reach the end, finally leaving the hallway. In the above example, they salute 10 times.\r\n\r\nWrite a function answer(s) which takes a string representing employees walking along a hallway and returns the number of times the employees will salute. s will contain at least 1 and at most 100 characters, each one of -, &gt;, or &lt;.\r\n\r\nSample output:\r\n\r\n&gt; Test cases\r\n==========\r\n\r\nInputs:\r\n    (string) s = &quot;&gt;----&lt;&quot;\r\nOutput:\r\n    (int) 2\r\n\r\nInputs:\r\n    (string) s = &quot;&lt;&lt;&gt;&gt;&lt;&quot;\r\nOutput:\r\n    (int) 4\r\n\r\nMy Code so far: \r\n\r\n    public class Minion_SalutesV1 {\r\n    public static void main(String[] args){\r\n        //Test input\r\n        System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n        System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n        System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n    }\r\n    public static int answer(String s) {\r\n        //Return a string starting at the first occurrence of &#39;&gt;&#39; and end at the last occurrence of &#39;&lt;+1&#39; \r\n        String empBound = s.substring(s.indexOf(&#39;&gt;&#39;), s.lastIndexOf(&#39;&lt;&#39;)+1).replaceAll(&quot;-&quot;, &quot;&quot;);\r\n        //Isolate the number of employees walking right\r\n        String rightSaluters = empBound.replaceAll(&quot;&lt;&quot;, &quot;&quot;);\r\n        //Isolate the number of employees walking left\r\n        String leftSaluters = empBound.replaceAll(&quot;&gt;&quot;, &quot;&quot;);\r\n        if(empBound.length() == 2){\r\n            return 2;\r\n        }\r\n        else if (empBound.length() == 3){\r\n            return 4;\r\n        }\r\n        else\r\n        return rightSaluters.length() * leftSaluters.length();\r\n        }\r\n    }\r\n\r\nI have been trying lots of different things on this but have not achieved the correct results yet.\r\n\r\nI thought that returning rightSaluters.length() * leftSaluters.length() would give me the desired results.  I feel like I have the right idea by isolating the right and left saluters but I am lost beyond that point.\r\n\r\nHow do I properly calculate the number of salutes that will take place between the saluters?\r\n\r\nShould I make a variable for the number of encounters that will happen then multiply that number by 2?  I realize I am spitballing here but I have been straining my skull over this for days and waited until the last minute to ask for help.\r\n\r\n**UPDATE:**  Tried implementation of Jason&#39;s answer\r\n\r\n    public class Minion_SalutesV1 {\r\n        public static void main(String[] args){\r\n            //Test input\r\n            System.out.println(answer(&quot;&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;&quot;));\r\n            System.out.println(answer(&quot;&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;&quot;));\r\n            System.out.println(answer(&quot;&gt;----&lt;&quot;));\r\n            System.out.println(answer(&quot;&lt;&lt;&gt;&gt;&lt;&quot;));\r\n        }\r\n        public static int answer(String s) {\r\n            //Return a string starting at the first occurrence of &#39;&gt;&#39; and end at the last occurrence of &#39;&lt;+1&#39;\r\n            String empBound = s.substring(s.indexOf(&#39;&gt;&#39;), s.lastIndexOf(&#39;&lt;&#39;)+1).replaceAll(&quot;-&quot;, &quot;&quot;);\r\n            //Isolate the number of employees walking right\r\n            String rightSaluters = empBound.replaceAll(&quot;&lt;&quot;, &quot;&quot;);\r\n            //Isolate the number of employees walking left\r\n            String leftSaluters = empBound.replaceAll(&quot;&gt;&quot;, &quot;&quot;);\r\n            int saluters = rightSaluters.length()+leftSaluters.length();\r\n            System.out.println(saluters);\r\n\r\n            for(char c = &#39;&gt;&#39;; c &lt; rightSaluters.length(); c++){\r\n                int count = leftSaluters.length();\r\n                saluters = count*2;\r\n            }\r\n            return saluters * 2;\r\n        }\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    8  //remove this\r\n    16\r\n    11 //remove this\r\n    22\r\n    2  //remove this\r\n    4\r\n    3  //remove this\r\n    6\r\n\r\nSo it appears the final integer returned for each string is the one I need how do I eliminate the other returns?","title":"Google Foo.Bar Challenge Help Minion Salutes","body":"<p>I am working on a foo.bar challenge and have become stuck.  here is the description of the problem:</p>\n\n<h1>> En Route Salute</h1>\n\n<p>Commander Lambda loves efficiency and hates anything that wastes time. She's a busy lamb, after all! She generously rewards henchmen who identify sources of inefficiency and come up with ways to remove them. You've spotted one such source, and you think solving it will help you build the reputation you need to get promoted.</p>\n\n<p>Every time the Commander's employees pass each other in the hall, each of them must stop and salute each other - one at a time - before resuming their path. A salute is five seconds long, so each exchange of salutes takes a full ten seconds (Commander Lambda's salute is a bit, er, involved). You think that by removing the salute requirement, you could save several collective hours of employee time per day. But first, you need to show her how bad the problem really is.</p>\n\n<p>Write a program that counts how many salutes are exchanged during a typical walk along a hallway. The hall is represented by a string. For example:\n\"--->->&lt;->&lt;-->-\"</p>\n\n<p>Each hallway string will contain three different types of characters: '>', an employee walking to the right; '&lt;', an employee walking to the left; and '-', an empty space. Every employee walks at the same speed either to right or to the left, according to their direction. Whenever two employees cross, each of them salutes the other. They then continue walking until they reach the end, finally leaving the hallway. In the above example, they salute 10 times.</p>\n\n<p>Write a function answer(s) which takes a string representing employees walking along a hallway and returns the number of times the employees will salute. s will contain at least 1 and at most 100 characters, each one of -, >, or &lt;.</p>\n\n<p>Sample output:</p>\n\n<h1>> Test cases</h1>\n\n<p>Inputs:\n    (string) s = \">----&lt;\"\nOutput:\n    (int) 2</p>\n\n<p>Inputs:\n    (string) s = \"&lt;&lt;>>&lt;\"\nOutput:\n    (int) 4</p>\n\n<p>My Code so far: </p>\n\n<pre><code>public class Minion_SalutesV1 {\npublic static void main(String[] args){\n    //Test input\n    System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n    System.out.println(answer(\"&gt;----&lt;\"));\n    System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n}\npublic static int answer(String s) {\n    //Return a string starting at the first occurrence of '&gt;' and end at the last occurrence of '&lt;+1' \n    String empBound = s.substring(s.indexOf('&gt;'), s.lastIndexOf('&lt;')+1).replaceAll(\"-\", \"\");\n    //Isolate the number of employees walking right\n    String rightSaluters = empBound.replaceAll(\"&lt;\", \"\");\n    //Isolate the number of employees walking left\n    String leftSaluters = empBound.replaceAll(\"&gt;\", \"\");\n    if(empBound.length() == 2){\n        return 2;\n    }\n    else if (empBound.length() == 3){\n        return 4;\n    }\n    else\n    return rightSaluters.length() * leftSaluters.length();\n    }\n}\n</code></pre>\n\n<p>I have been trying lots of different things on this but have not achieved the correct results yet.</p>\n\n<p>I thought that returning rightSaluters.length() * leftSaluters.length() would give me the desired results.  I feel like I have the right idea by isolating the right and left saluters but I am lost beyond that point.</p>\n\n<p>How do I properly calculate the number of salutes that will take place between the saluters?</p>\n\n<p>Should I make a variable for the number of encounters that will happen then multiply that number by 2?  I realize I am spitballing here but I have been straining my skull over this for days and waited until the last minute to ask for help.</p>\n\n<p><strong>UPDATE:</strong>  Tried implementation of Jason's answer</p>\n\n<pre><code>public class Minion_SalutesV1 {\n    public static void main(String[] args){\n        //Test input\n        System.out.println(answer(\"&lt;--&gt;-&lt;--&lt;&gt;-&lt;&lt;--&gt;--&lt;--&gt;\"));\n        System.out.println(answer(\"&lt;&lt;&gt;&lt;&gt;&gt;&lt;&gt;&gt;&lt;&lt;&gt;&lt;&gt;&gt;&gt;\"));\n        System.out.println(answer(\"&gt;----&lt;\"));\n        System.out.println(answer(\"&lt;&lt;&gt;&gt;&lt;\"));\n    }\n    public static int answer(String s) {\n        //Return a string starting at the first occurrence of '&gt;' and end at the last occurrence of '&lt;+1'\n        String empBound = s.substring(s.indexOf('&gt;'), s.lastIndexOf('&lt;')+1).replaceAll(\"-\", \"\");\n        //Isolate the number of employees walking right\n        String rightSaluters = empBound.replaceAll(\"&lt;\", \"\");\n        //Isolate the number of employees walking left\n        String leftSaluters = empBound.replaceAll(\"&gt;\", \"\");\n        int saluters = rightSaluters.length()+leftSaluters.length();\n        System.out.println(saluters);\n\n        for(char c = '&gt;'; c &lt; rightSaluters.length(); c++){\n            int count = leftSaluters.length();\n            saluters = count*2;\n        }\n        return saluters * 2;\n    }\n}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code>8  //remove this\n16\n11 //remove this\n22\n2  //remove this\n4\n3  //remove this\n6\n</code></pre>\n\n<p>So it appears the final integer returned for each string is the one I need how do I eliminate the other returns?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695134981,"post_id":77135530,"comment_id":135981792,"body_markdown":"This is not opinion-based: the question is &quot;are there any issues with specifying versions for maven plugins?&quot;","body":"This is not opinion-based: the question is &quot;are there any issues with specifying versions for maven plugins?&quot;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1695135028,"post_id":77135530,"comment_id":135981798,"body_markdown":"I strongly recommend to define all version of all the plugin you are using within your build in pluginManagement and also using the most recent versions of the plugin... independent of your used Maven version.. apart from that I strongly recommend to use the most recent version of Maven as well...","body":"I strongly recommend to define all version of all the plugin you are using within your build in pluginManagement and also using the most recent versions of the plugin... independent of your used Maven version.. apart from that I strongly recommend to use the most recent version of Maven as well..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1695135156,"post_id":77135530,"comment_id":135981821,"body_markdown":"To move that away from an opinion... If you don&#39;t specify the versions and upgrade of Maven could cause issues based on plugin versions. To get a reproducible build define all versions of all plugins...","body":"To move that away from an opinion... If you don&#39;t specify the versions and upgrade of Maven could cause issues based on plugin versions. To get a reproducible build define all versions of all plugins..."},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1695135182,"post_id":77135530,"comment_id":135981826,"body_markdown":"I should have worded my question differently but these are good answers anyway.  Maybe someone could ask again, I dont see this mentioned anywhere.  Only problem I wonder if bad version causes and issue and what version do you pick?","body":"I should have worded my question differently but these are good answers anyway.  Maybe someone could ask again, I dont see this mentioned anywhere.  Only problem I wonder if bad version causes and issue and what version do you pick?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695135634,"post_id":77135530,"comment_id":135981927,"body_markdown":"@BerlinBrown If you picked a version (plugins/maven) which causes issues you should pick the previous version and recheck.. and what would be great to report the issue(https://selfserve.apache.org/jira-account.html) .. and after it&#39;s being fixed upgrade...","body":"@BerlinBrown If you picked a version (plugins/maven) which causes issues you should pick the previous version and recheck.. and what would be great to report the issue(<a href=\"https://selfserve.apache.org/jira-account.html\" rel=\"nofollow noreferrer\">selfserve.apache.org/jira-account.html</a>) .. and after it&#39;s being fixed upgrade..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695135755,"post_id":77135530,"comment_id":135981953,"body_markdown":"BTW: Is there a good reason why not picking up Maven 3.9.X line instead of Maven 3.8.x ?","body":"BTW: Is there a good reason why not picking up Maven 3.9.X line instead of Maven 3.8.x ?"},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":1,"creation_date":1695137235,"post_id":77135530,"comment_id":135982332,"body_markdown":"No reason, I saw java11 was matched more with 3.8x.  I can use 3.9","body":"No reason, I saw java11 was matched more with 3.8x.  I can use 3.9"}],"answers":[{"comments":[{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1695137253,"post_id":77135806,"comment_id":135982335,"body_markdown":"Good answer, sounds good,","body":"Good answer, sounds good,"}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695137891,"creation_date":1695136208,"answer_id":77135806,"question_id":77135530,"body_markdown":"Using the default versions of maven plugins is not recommended and generates a big warning:\r\n\r\n```text\r\n[WARNING] Some problems were encountered while building the effective model for test:test:jar:1.0.0-SNAPSHOT\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-resources-plugin is missing. @ line 22, column 12\r\n[WARNING]\r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING]\r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n```\r\n\r\nYou should always specify the version of each plugin and using the latest version is the typical approach.  The [minimum maven version][1] required by common plugins is very old so you should not have any issue; if any version-compatibility issue arises the build fails so it is evident.\r\n\r\nIf you use `spring-boot-starter-parent` it defines the latest version of common plugins [for you][2] and you can easily override any of its defaults if you want.\r\n\r\n\r\n  [1]: https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using","title":"Are there any issues with specifying the specific version for maven plugins","body":"<p>Using the default versions of maven plugins is not recommended and generates a big warning:</p>\n<pre><code>[WARNING] Some problems were encountered while building the effective model for test:test:jar:1.0.0-SNAPSHOT\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-resources-plugin is missing. @ line 22, column 12\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n</code></pre>\n<p>You should always specify the version of each plugin and using the latest version is the typical approach.  The <a href=\"https://ci-maven.apache.org/job/Maven/job/maven-box/job/maven-dist-tool/job/master/site/dist-tool-prerequisites.html\" rel=\"nofollow noreferrer\">minimum maven version</a> required by common plugins is very old so you should not have any issue; if any version-compatibility issue arises the build fails so it is evident.</p>\n<p>If you use <code>spring-boot-starter-parent</code> it defines the latest version of common plugins <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using\" rel=\"nofollow noreferrer\">for you</a> and you can easily override any of its defaults if you want.</p>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77135806,"answer_count":1,"score":-1,"last_activity_date":1695137891,"creation_date":1695134232,"question_id":77135530,"body_markdown":"I always wondered, are there any issues with specifying versions for maven plugins like surefire or the compiler.\r\n\r\nSo I am using mvn version 3.5 with java8 and will do an upgrade with mvn 3.8.x with java11+.\r\n\r\nI may use the latest plugins with mvn 3.8x but dont know about 3.5.  Is there any issues with doing that.  Doesn&#39;t it make sense to not use the version and have the root maven includes add the right versions that are available?\r\n\r\nFor example.\r\n\r\nThis is 3.5 and plugin 2.x for surefire.\r\n\r\n\t\r\n\r\n\t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.12.4&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n      \t\t\t&lt;skipTests&gt;${skipTests}&lt;/skipTests&gt;\r\n    \t\t&lt;/configuration&gt;\r\n  \t\t&lt;/plugin&gt;","title":"Are there any issues with specifying the specific version for maven plugins","body":"<p>I always wondered, are there any issues with specifying versions for maven plugins like surefire or the compiler.</p>\n<p>So I am using mvn version 3.5 with java8 and will do an upgrade with mvn 3.8.x with java11+.</p>\n<p>I may use the latest plugins with mvn 3.8x but dont know about 3.5.  Is there any issues with doing that.  Doesn't it make sense to not use the version and have the root maven includes add the right versions that are available?</p>\n<p>For example.</p>\n<p>This is 3.5 and plugin 2.x for surefire.</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.4&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;skipTests&gt;${skipTests}&lt;/skipTests&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"score":0,"creation_date":1695138474,"post_id":77136024,"comment_id":135982610,"body_markdown":"I&#39;m disappointed with myself nvm","body":"I&#39;m disappointed with myself nvm"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695138916,"post_id":77136024,"comment_id":135982714,"body_markdown":"A field in an interface is [by definition](https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3) implicitly `public static final`.","body":"A field in an interface is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3\" rel=\"nofollow noreferrer\">by definition</a> implicitly <code>public static final</code>."}],"owner":{"account_id":53770,"reputation":2255,"user_id":160808,"accept_rate":71,"display_name":"Ageis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695137970,"answer_count":0,"score":0,"last_activity_date":1695137860,"creation_date":1695137860,"question_id":77136024,"body_markdown":"I bet my java lecturer will be disappointed in me. \r\n\r\nI think my Java/oop skills are alittle rusty. Why is the variable stateMachine being declared as final . \r\n\r\n\r\n    package com.example.accentag4.MessageType;\r\n    \r\n    import android.view.View;\r\n    \r\n    import com.example.accentag4.Model.StateMachine;\r\n    \r\n    public interface MessageType\r\n    {\r\n        StateMachine stateMachine = null;\r\n        boolean process(String message);\r\n        StateMachine GetState();\r\n        void SetState(StateMachine stateIn);\r\n    }\r\n\r\n\r\n\r\n    public class HeartBeat implements MessageType {\r\n    \r\n        @Override\r\n        public boolean process(String message) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public StateMachine GetState() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void SetState(StateMachine stateIn) {\r\n            stateMachine=stateIn;\r\n        }\r\n\r\n    }","title":"variable declared as final within interface","body":"<p>I bet my java lecturer will be disappointed in me.</p>\n<p>I think my Java/oop skills are alittle rusty. Why is the variable stateMachine being declared as final .</p>\n<pre><code>package com.example.accentag4.MessageType;\n\nimport android.view.View;\n\nimport com.example.accentag4.Model.StateMachine;\n\npublic interface MessageType\n{\n    StateMachine stateMachine = null;\n    boolean process(String message);\n    StateMachine GetState();\n    void SetState(StateMachine stateIn);\n}\n\n\n\npublic class HeartBeat implements MessageType {\n\n    @Override\n    public boolean process(String message) {\n        return false;\n    }\n\n    @Override\n    public StateMachine GetState() {\n        return null;\n    }\n\n    @Override\n    public void SetState(StateMachine stateIn) {\n        stateMachine=stateIn;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","routes","vuejs3","nuxtjs3"],"answers":[{"tags":[],"owner":{"account_id":27946875,"reputation":1613,"user_id":21341655,"display_name":"Reagan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695137856,"creation_date":1695137856,"answer_id":77136023,"question_id":77135909,"body_markdown":"To render the same page on a different routes. You need to use `page:extend` hook inside the `nuxt.config.ts`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export default defineNuxtConfig({\r\n        hooks: {\r\n            &#39;pages:extend&#39;(pages) {\r\n                pages.push({\r\n                    name: &#39;ecosystem&#39;,\r\n                    path: &#39;/ecosystem&#39;,\r\n                    file: &#39;~/pages/index.vue&#39;\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Note:** You don&#39;t need to create the `ecosystem` file inside the pages. The `page.push()` will handle it.\r\n\r\nNow, when you go to `/ecosystem` page. It will output the same page content inside the pages `index.vue` \r\n\r\n[More info about custom routing][1]\r\n\r\n\r\n  [1]: https://nuxt.com/docs/guide/going-further/custom-routing","title":"Render same page on two different route in Nuxtjs 3","body":"<p>To render the same page on a different routes. You need to use <code>page:extend</code> hook inside the <code>nuxt.config.ts</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default defineNuxtConfig({\n    hooks: {\n        'pages:extend'(pages) {\n            pages.push({\n                name: 'ecosystem',\n                path: '/ecosystem',\n                file: '~/pages/index.vue'\n            })\n        }\n    }\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Note:</strong> You don't need to create the <code>ecosystem</code> file inside the pages. The <code>page.push()</code> will handle it.</p>\n<p>Now, when you go to <code>/ecosystem</code> page. It will output the same page content inside the pages <code>index.vue</code></p>\n<p><a href=\"https://nuxt.com/docs/guide/going-further/custom-routing\" rel=\"nofollow noreferrer\">More info about custom routing</a></p>\n"}],"owner":{"account_id":20068158,"reputation":33,"user_id":14713458,"display_name":"Oliver Jacob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77136023,"answer_count":1,"score":1,"last_activity_date":1695137856,"creation_date":1695137032,"question_id":77135909,"body_markdown":"I want to render ecosystem page on both /ecosystem and default / route. I have created page -&gt; ecosystem.vue \r\n\r\nAlso I have layout -&gt; DefaultLayout.vue where Navbar and Footer components are being used.\r\n\r\nIn nuxt.config.js file:\r\n\r\n```\r\n// https://nuxt.com/docs/api/configuration/nuxt-config\r\nexport default defineNuxtConfig({\r\n  devtools: { enabled: true },\r\n  layout: true,\r\n  routes: [\r\n    {\r\n      path: &quot;/&quot;,\r\n      component: &quot;ecosystem.vue&quot;,\r\n      layout: &quot;DefaultLayout&quot;,\r\n    },\r\n    {\r\n      path: &quot;/ecosystem&quot;,\r\n      component: &quot;ecosystem.vue&quot;,\r\n      layout: &quot;DefaultLayout&quot;,\r\n    },\r\n  ],\r\n});\r\n\r\n```\r\nHowever, after this getting 404 page not found error.\r\n\r\nNuxtjs 3","title":"Render same page on two different route in Nuxtjs 3","body":"<p>I want to render ecosystem page on both /ecosystem and default / route. I have created page -&gt; ecosystem.vue</p>\n<p>Also I have layout -&gt; DefaultLayout.vue where Navbar and Footer components are being used.</p>\n<p>In nuxt.config.js file:</p>\n<pre><code>// https://nuxt.com/docs/api/configuration/nuxt-config\nexport default defineNuxtConfig({\n  devtools: { enabled: true },\n  layout: true,\n  routes: [\n    {\n      path: &quot;/&quot;,\n      component: &quot;ecosystem.vue&quot;,\n      layout: &quot;DefaultLayout&quot;,\n    },\n    {\n      path: &quot;/ecosystem&quot;,\n      component: &quot;ecosystem.vue&quot;,\n      layout: &quot;DefaultLayout&quot;,\n    },\n  ],\n});\n\n</code></pre>\n<p>However, after this getting 404 page not found error.</p>\n<p>Nuxtjs 3</p>\n"},{"tags":["java","redis-om-spring","redis-om","redis-stack"],"answers":[{"comments":[{"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"score":0,"creation_date":1695194208,"post_id":77136010,"comment_id":135989767,"body_markdown":"Hi, I hava Redis stack and as I check my modules I have ReJson( Redis Json module) and I can use Json.set at my redis-cli.","body":"Hi, I hava Redis stack and as I check my modules I have ReJson( Redis Json module) and I can use Json.set at my redis-cli."},{"owner":{"account_id":4160855,"reputation":3938,"user_id":5338708,"display_name":"Simon Prickett"},"score":0,"creation_date":1695207971,"post_id":77136010,"comment_id":135992606,"body_markdown":"So is your code pointed at the redis stack instance?","body":"So is your code pointed at the redis stack instance?"}],"tags":[],"owner":{"account_id":4160855,"reputation":3938,"user_id":5338708,"display_name":"Simon Prickett"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695137741,"creation_date":1695137741,"answer_id":77136010,"question_id":77134555,"body_markdown":"I suspect your code is pointed at a local Redis instance that doesn&#39;t have the JSON module installed.  Note you&#39;ll want BOTH of the JSON and Search modules installed to use Redis OM successfully or you can use Redis Stack that has them installed for you.\r\n\r\nTo configure your Redis OM application to point at a different Redis instance.  Do so like this in `application.properties`:\r\n\r\n```\r\nspring.data.redis.host=your.cloud.db.redislabs.com                                                                                                                                                                                                                    \r\nspring.data.redis.port=12345\r\nspring.data.redis.password=xxxxxxxx\r\nspring.data.redis.username=default\r\n```\r\n\r\nSource: https://github.com/redis/redis-om-spring#configuring-your-redis-connection\r\n\r\nRedis Stack (easy way to get the modules): https://redis.io/docs/getting-started/install-stack/","title":"Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;","body":"<p>I suspect your code is pointed at a local Redis instance that doesn't have the JSON module installed.  Note you'll want BOTH of the JSON and Search modules installed to use Redis OM successfully or you can use Redis Stack that has them installed for you.</p>\n<p>To configure your Redis OM application to point at a different Redis instance.  Do so like this in <code>application.properties</code>:</p>\n<pre><code>spring.data.redis.host=your.cloud.db.redislabs.com                                                                                                                                                                                                                    \nspring.data.redis.port=12345\nspring.data.redis.password=xxxxxxxx\nspring.data.redis.username=default\n</code></pre>\n<p>Source: <a href=\"https://github.com/redis/redis-om-spring#configuring-your-redis-connection\" rel=\"nofollow noreferrer\">https://github.com/redis/redis-om-spring#configuring-your-redis-connection</a></p>\n<p>Redis Stack (easy way to get the modules): <a href=\"https://redis.io/docs/getting-started/install-stack/\" rel=\"nofollow noreferrer\">https://redis.io/docs/getting-started/install-stack/</a></p>\n"}],"owner":{"account_id":19205336,"reputation":63,"user_id":14032341,"display_name":"xynb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137741,"creation_date":1695126457,"question_id":77134555,"body_markdown":"I am using redis-om and Java, I get `Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;`\r\n\r\nHere is the code that I am using:\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @EnableRedisDocumentRepositories(basePackages = &quot;jphaugla.redisom.com.romsdocuments.*&quot;)\r\n    public class RomsDocumentsApplication {\r\n    \r\n        @Autowired\r\n        CompanyRepository companyRepo;\r\n    \r\n        @Bean\r\n        CommandLineRunner loadTestData() {\r\n            return args -&gt; {\r\n                Company redis = Company.of(&quot;https://redis.com&quot;, new Point(-122.066540, 37.377690), 526,\r\n                        2011, &quot;Redis&quot;, &quot;Salavatore Sanfilippo&quot;);\r\n                redis.setTags(Set.of(&quot;fast&quot;, &quot;scalable&quot;, &quot;reliable&quot;));\r\n    \r\n                companyRepo.save(redis);\r\n            };\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RomsDocumentsApplication.class, args);\r\n        }\r\n\r\n}\r\n\r\nand It is dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.redis.om&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nand for more information , I add my document here : \r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Data\r\n    @RequiredArgsConstructor(staticName = &quot;of&quot;)\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @Document\r\n    public class Company {\r\n      @Id\r\n      private String id;\r\n      @Indexed\r\n      private Set&lt;String&gt; tags = new HashSet&lt;String&gt;();\r\n      @NonNull\r\n      private String url;\r\n      @NonNull\r\n      @Indexed\r\n      private Point location;\r\n      @NonNull\r\n      @Indexed\r\n      private Integer numberOfEmployees;\r\n      @NonNull\r\n      @Indexed\r\n      private Integer yearFounded;\r\n      @NonNull\r\n      @Searchable\r\n      private String name;\r\n      @Searchable\r\n      @NonNull\r\n      private String founder;\r\n      private boolean publiclyListed;\r\n    }\r\n\r\n**Java** version is **17** ,**spring boot version** is **2.7.5** , **image of Redis** : image: &quot;**redis/redis-stack:7.2.0-v1**&quot;\r\n\r\nP.S:I have checked that I had the ReJson module on my Redis and also I am able to call Json.set on my Redis-Cli.","title":"Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command &#39;JSON.SET&#39;","body":"<p>I am using redis-om and Java, I get <code>Caused by: redis.clients.jedis.exceptions.JedisDataException: ERR unknown command 'JSON.SET'</code></p>\n<p>Here is the code that I am using:</p>\n<pre><code>@SpringBootApplication\n@Configuration\n@EnableRedisDocumentRepositories(basePackages = &quot;jphaugla.redisom.com.romsdocuments.*&quot;)\npublic class RomsDocumentsApplication {\n\n    @Autowired\n    CompanyRepository companyRepo;\n\n    @Bean\n    CommandLineRunner loadTestData() {\n        return args -&gt; {\n            Company redis = Company.of(&quot;https://redis.com&quot;, new Point(-122.066540, 37.377690), 526,\n                    2011, &quot;Redis&quot;, &quot;Salavatore Sanfilippo&quot;);\n            redis.setTags(Set.of(&quot;fast&quot;, &quot;scalable&quot;, &quot;reliable&quot;));\n\n            companyRepo.save(redis);\n        };\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(RomsDocumentsApplication.class, args);\n    }\n</code></pre>\n<p>}</p>\n<p>and It is dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.redis.om&lt;/groupId&gt;\n            &lt;artifactId&gt;redis-om-spring&lt;/artifactId&gt;\n            &lt;version&gt;0.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and for more information , I add my document here :</p>\n<pre><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\n\n@Data\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\n@Document\npublic class Company {\n  @Id\n  private String id;\n  @Indexed\n  private Set&lt;String&gt; tags = new HashSet&lt;String&gt;();\n  @NonNull\n  private String url;\n  @NonNull\n  @Indexed\n  private Point location;\n  @NonNull\n  @Indexed\n  private Integer numberOfEmployees;\n  @NonNull\n  @Indexed\n  private Integer yearFounded;\n  @NonNull\n  @Searchable\n  private String name;\n  @Searchable\n  @NonNull\n  private String founder;\n  private boolean publiclyListed;\n}\n</code></pre>\n<p><strong>Java</strong> version is <strong>17</strong> ,<strong>spring boot version</strong> is <strong>2.7.5</strong> , <strong>image of Redis</strong> : image: &quot;<strong>redis/redis-stack:7.2.0-v1</strong>&quot;</p>\n<p>P.S:I have checked that I had the ReJson module on my Redis and also I am able to call Json.set on my Redis-Cli.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"score":1,"creation_date":1695210479,"post_id":77135312,"comment_id":135993144,"body_markdown":"Hello Sve! I discovered that the problem was between a many-to-many relationship between two entities in my project (Comic and Author). I had it defined as `@ManyToMany(cascade = CascadeType.ALL)`, and this cascade is generating the problem. Thanks for the help and tips!","body":"Hello Sve! I discovered that the problem was between a many-to-many relationship between two entities in my project (Comic and Author). I had it defined as <code>@ManyToMany(cascade = CascadeType.ALL)</code>, and this cascade is generating the problem. Thanks for the help and tips!"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695235396,"post_id":77135312,"comment_id":135998892,"body_markdown":"You are welcome :) Glad you fixed it!","body":"You are welcome :) Glad you fixed it!"}],"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695137194,"creation_date":1695132618,"answer_id":77135312,"question_id":77134681,"body_markdown":"It should work.\r\nBasically, what happens is:\r\n1. You manually create an entity with the existing key and call save() method\r\n2. JPA repo figures that it is existing entity based on the fact that ID is not null, so it tries to merge it\r\n3. During merge it founds out that entity with the same key is already in the session (maybe in the cache after the 1st save, maybe it was loaded with the Comic entity), but the object you passed to the save() method is different (id is the same, but object is different). That is why you get into the method `entityIsDetached()`\r\n4. It tries to get the corresponding entity from the session in order to merge it with the one you have provided. And then it cannot find it in the session for some reason and tries to load it from database. So, maybe it is some bug within hibernate, maybe there is some issue in the code, for example, something is wrong with `user or comic equals/hashcode methods`, you did not provide them to us. And this is a very likely reason why hibernate at some cases finds entity, at some - not. \r\nBecause for me your example is working fine, I tested.\r\n\r\nBut to make it work for sure, if you want to update rate, you need to search for an existing one first, if found - update it, if not found - create a new one.\r\nLike this\r\n\r\n    public void save(Long comicId, RateNewDTO rateDto) {        \r\n    UserSS userAuthenticated = UserService.authenticated(); \r\n        \r\n    User user = userService.findById(userAuthenticated.getId());\r\n        \r\n    Comic comic = comicService.findById(comicId);\r\n    Optional&lt;Rate&gt; existingRate = rateRepository.findById(new RatePK(user, comic));\r\n    if (existingRate.isPresent()) {\r\n      existingRate.setRate(rateDto.getRate());\r\n      // if method is transactional, you may skip calling it: rateRepository.save(existingRate);  \r\n      // exit\r\n      return;\r\n    }   \r\n\r\n    // If rate was not found, create a new one\r\n    Rate rate = new Rate(user, comic, rateDto.getRate());\r\n    rateRepository.save(rate);  \r\n}","title":"Exception when trying to change a composite primary key based JPA entity","body":"<p>It should work.\nBasically, what happens is:</p>\n<ol>\n<li>You manually create an entity with the existing key and call save() method</li>\n<li>JPA repo figures that it is existing entity based on the fact that ID is not null, so it tries to merge it</li>\n<li>During merge it founds out that entity with the same key is already in the session (maybe in the cache after the 1st save, maybe it was loaded with the Comic entity), but the object you passed to the save() method is different (id is the same, but object is different). That is why you get into the method <code>entityIsDetached()</code></li>\n<li>It tries to get the corresponding entity from the session in order to merge it with the one you have provided. And then it cannot find it in the session for some reason and tries to load it from database. So, maybe it is some bug within hibernate, maybe there is some issue in the code, for example, something is wrong with <code>user or comic equals/hashcode methods</code>, you did not provide them to us. And this is a very likely reason why hibernate at some cases finds entity, at some - not.\nBecause for me your example is working fine, I tested.</li>\n</ol>\n<p>But to make it work for sure, if you want to update rate, you need to search for an existing one first, if found - update it, if not found - create a new one.\nLike this</p>\n<pre><code>public void save(Long comicId, RateNewDTO rateDto) {        \nUserSS userAuthenticated = UserService.authenticated(); \n    \nUser user = userService.findById(userAuthenticated.getId());\n    \nComic comic = comicService.findById(comicId);\nOptional&lt;Rate&gt; existingRate = rateRepository.findById(new RatePK(user, comic));\nif (existingRate.isPresent()) {\n  existingRate.setRate(rateDto.getRate());\n  // if method is transactional, you may skip calling it: rateRepository.save(existingRate);  \n  // exit\n  return;\n}   \n\n// If rate was not found, create a new one\nRate rate = new Rate(user, comic, rateDto.getRate());\nrateRepository.save(rate);  \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11603822,"reputation":48,"user_id":11713846,"display_name":"Gustavo Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137194,"creation_date":1695127592,"question_id":77134681,"body_markdown":"I&#39;m trying to develop a REST API with Spring where users can basically register Comics and evaluate the registered Comics.\r\n\r\nOne of the API&#39;s features is precisely the user being able to give a rating to the Comics. To store the notes in the database I created a JPA entity based on a composite primary key (user, comic).\r\n\r\nI also created a service that is used to register and change notes.\r\n\r\nThe problem is that: the first time a user registers a rating for a given comic, everything happens without any problem, but when the user tries to change the rating an exception occurs: &quot;org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified&quot;\r\n\r\nDoes anyone know how to solve this problem?\r\n\r\n**RatePK**\r\n    \r\n    @Embeddable\r\n    public class RatePK implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;comic_id&quot;)\r\n    \tprivate Comic comic;\r\n    \r\n    \tpublic RatePK(User user, Comic comic) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.comic = comic;\r\n    \t}\r\n    \r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic Comic getComic() {\r\n    \t\treturn comic;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \tpublic void setComic(Comic comic) {\r\n    \t\tthis.comic = comic;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((comic == null) ? 0 : comic.hashCode());\r\n    \t\tresult = prime * result + ((user == null) ? 0 : user.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tRatePK other = (RatePK) obj;\r\n    \t\tif (comic == null) {\r\n    \t\t\tif (other.comic != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!comic.equals(other.comic))\r\n    \t\t\treturn false;\r\n    \t\tif (user == null) {\r\n    \t\t\tif (other.user != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!user.equals(other.user))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Rate**\r\n\r\n    @Entity\r\n    @Table(name=&quot;TB_RATE&quot;)\r\n    public class Rate implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate RatePK id = new RatePK();\r\n    \t\r\n    \tprivate Integer rate;\r\n    \r\n    \tpublic Rate(User user, Comic comic, Integer rate) {\r\n    \t\tsuper();\r\n    \t\tthis.id.setUser(user);\r\n    \t\tthis.id.setComic(comic);\r\n    \t\tthis.rate = rate;\r\n    \t}\r\n    \r\n    \tpublic RatePK getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic Integer getRate() {\r\n    \t\treturn rate;\r\n    \t}\r\n    \r\n    \tpublic void setId(RatePK id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic void setRate(Integer rate) {\r\n    \t\tthis.rate = rate;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tRate other = (Rate) obj;\r\n    \t\tif (id == null) {\r\n    \t\t\tif (other.id != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!id.equals(other.id))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n**RateRepository**\r\n\r\n    @Repository\r\n    public interface RateRepository extends JpaRepository&lt;Rate, RatePK&gt; {\r\n    \r\n    }\r\n\r\n**RateService** \r\n\r\n    public void save(Long comicId, RateNewDTO rateDto) {\t\t\r\n        UserSS userAuthenticated = UserService.authenticated();\t\r\n    \t\t\r\n        User user = userService.findById(userAuthenticated.getId());\r\n    \t\t\r\n        Comic comic = comicService.findById(comicId);\r\n    \t\t\r\n        Rate rate = new Rate(user, comic, rateDto.getRate());\r\n    \r\n        rateRepository.save(rate);\t\r\n    }\r\n\r\n**Exception**\r\n\r\n    org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:187) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:118) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:73) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3481) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3471) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:581) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:567) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:536) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:529) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:202) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:282) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:237) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:106) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:194) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:107) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:1024) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:334) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:149) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:142) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy146.merge(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:620) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy166.save(Unknown Source) ~[na:na]\r\n    \tat com.gustavo.comicreviewapi.services.RateService.save(RateService.java:42) ~[classes/:na]\r\n    \tat com.gustavo.comicreviewapi.resources.ComicController.saveRate(ComicController.java:128) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-6.0.11.jar:6.0.11]\r\n    \tat com.gustavo.comicreviewapi.resources.ComicController$$SpringCGLIB$$0.saveRate(&lt;generated&gt;) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat com.gustavo.comicreviewapi.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:58) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n","title":"Exception when trying to change a composite primary key based JPA entity","body":"<p>I'm trying to develop a REST API with Spring where users can basically register Comics and evaluate the registered Comics.</p>\n<p>One of the API's features is precisely the user being able to give a rating to the Comics. To store the notes in the database I created a JPA entity based on a composite primary key (user, comic).</p>\n<p>I also created a service that is used to register and change notes.</p>\n<p>The problem is that: the first time a user registers a rating for a given comic, everything happens without any problem, but when the user tries to change the rating an exception occurs: &quot;org.hibernate.HibernateException: Duplicate row was found and <code>ASSERT</code> was specified&quot;</p>\n<p>Does anyone know how to solve this problem?</p>\n<p><strong>RatePK</strong></p>\n<pre><code>@Embeddable\npublic class RatePK implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;user_id&quot;)\n    private User user;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;comic_id&quot;)\n    private Comic comic;\n\n    public RatePK(User user, Comic comic) {\n        this.user = user;\n        this.comic = comic;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public Comic getComic() {\n        return comic;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public void setComic(Comic comic) {\n        this.comic = comic;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((comic == null) ? 0 : comic.hashCode());\n        result = prime * result + ((user == null) ? 0 : user.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        RatePK other = (RatePK) obj;\n        if (comic == null) {\n            if (other.comic != null)\n                return false;\n        } else if (!comic.equals(other.comic))\n            return false;\n        if (user == null) {\n            if (other.user != null)\n                return false;\n        } else if (!user.equals(other.user))\n            return false;\n        return true;\n    }\n    \n}\n</code></pre>\n<p><strong>Rate</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;TB_RATE&quot;)\npublic class Rate implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @EmbeddedId\n    private RatePK id = new RatePK();\n    \n    private Integer rate;\n\n    public Rate(User user, Comic comic, Integer rate) {\n        super();\n        this.id.setUser(user);\n        this.id.setComic(comic);\n        this.rate = rate;\n    }\n\n    public RatePK getId() {\n        return id;\n    }\n\n    public Integer getRate() {\n        return rate;\n    }\n\n    public void setId(RatePK id) {\n        this.id = id;\n    }\n\n    public void setRate(Integer rate) {\n        this.rate = rate;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Rate other = (Rate) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        return true;\n    }\n    \n}\n</code></pre>\n<p><strong>RateRepository</strong></p>\n<pre><code>@Repository\npublic interface RateRepository extends JpaRepository&lt;Rate, RatePK&gt; {\n\n}\n</code></pre>\n<p><strong>RateService</strong></p>\n<pre><code>public void save(Long comicId, RateNewDTO rateDto) {        \n    UserSS userAuthenticated = UserService.authenticated(); \n        \n    User user = userService.findById(userAuthenticated.getId());\n        \n    Comic comic = comicService.findById(comicId);\n        \n    Rate rate = new Rate(user, comic, rateDto.getRate());\n\n    rateRepository.save(rate);  \n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>org.hibernate.HibernateException: Duplicate row was found and `ASSERT` was specified\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:187) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:146) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:118) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:73) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3481) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3471) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:581) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:567) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:536) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:529) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:202) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:282) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:237) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:106) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:194) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:107) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:160) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.get(SessionImpl.java:1024) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.lambda$entityIsDetached$0(DefaultMergeEventListener.java:334) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.spi.LoadQueryInfluencers.fromInternalFetchProfile(LoadQueryInfluencers.java:79) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:332) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:149) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:142) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.11.jar:6.0.11]\n    at jdk.proxy4/jdk.proxy4.$Proxy146.merge(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:620) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.2.jar:3.1.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]\n    at jdk.proxy4/jdk.proxy4.$Proxy166.save(Unknown Source) ~[na:na]\n    at com.gustavo.comicreviewapi.services.RateService.save(RateService.java:42) ~[classes/:na]\n    at com.gustavo.comicreviewapi.resources.ComicController.saveRate(ComicController.java:128) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-6.0.11.jar:6.0.11]\n    at com.gustavo.comicreviewapi.resources.ComicController$$SpringCGLIB$$0.saveRate(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at com.gustavo.comicreviewapi.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:58) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","gdal","geotools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229659,"post_id":77134204,"comment_id":135997789,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695137092,"creation_date":1695137092,"answer_id":77135915,"question_id":77134204,"body_markdown":"Provided that you have installed the [GDAL datastore][1] correctly you can write a GridCoverage out to it in the same way as any other coverage store.\r\n\r\n\r\n  [1]: https://docs.geotools.org/latest/userguide/library/coverage/imageio.html","title":"Is it possible to convert geotools GridCoverage2D to gdal java bindings Dataset without writing into file system","body":"<p>Provided that you have installed the <a href=\"https://docs.geotools.org/latest/userguide/library/coverage/imageio.html\" rel=\"nofollow noreferrer\">GDAL datastore</a> correctly you can write a GridCoverage out to it in the same way as any other coverage store.</p>\n"}],"owner":{"account_id":17990158,"reputation":1,"user_id":13886331,"display_name":"Vignesh M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695137092,"creation_date":1695123379,"question_id":77134204,"body_markdown":"I am creating a geoserver wps process. The geoserver wps input provides a tiff data in geotools GridCoverage2D format. I want to convert it into gdal java binding&#39;s Dataset. Is there any way I can directly convert it into Dataset without writing into file system?\r\n\r\nCurrently I am writing the coverage into file system and opening with gdal java binding","title":"Is it possible to convert geotools GridCoverage2D to gdal java bindings Dataset without writing into file system","body":"<p>I am creating a geoserver wps process. The geoserver wps input provides a tiff data in geotools GridCoverage2D format. I want to convert it into gdal java binding's Dataset. Is there any way I can directly convert it into Dataset without writing into file system?</p>\n<p>Currently I am writing the coverage into file system and opening with gdal java binding</p>\n"},{"tags":["java","sql","database","hibernate","postgresql"],"answers":[{"comments":[{"owner":{"account_id":4918581,"reputation":546,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"score":0,"creation_date":1430918761,"post_id":30068963,"comment_id":48269677,"body_markdown":"Hey @Vlad, thank you for your answer, but my column in the database is exactly like this already.\n\n\n&gt; admin boolean NOT NULL DEFAULT false","body":"Hey @Vlad, thank you for your answer, but my column in the database is exactly like this already.   &gt; admin boolean NOT NULL DEFAULT false"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1430919125,"post_id":30068963,"comment_id":48270020,"body_markdown":"Well, in that case it works just fine on my current PostgreSQL project. Make sure you use the proper JDBC driver version: `9.1-901-1.jdbc4` and the `org.hibernate.dialect.PostgreSQLDialect` dialect.","body":"Well, in that case it works just fine on my current PostgreSQL project. Make sure you use the proper JDBC driver version: <code>9.1-901-1.jdbc4</code> and the <code>org.hibernate.dialect.PostgreSQLDialect</code> dialect."},{"owner":{"account_id":4918581,"reputation":546,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"score":0,"creation_date":1430920037,"post_id":30068963,"comment_id":48270718,"body_markdown":"I was using the 9.2 version of postgres, now that I see in the pom file, but the database is 9.3, let&#39;s test to see if it works with version 9.3 in the pom...","body":"I was using the 9.2 version of postgres, now that I see in the pom file, but the database is 9.3, let&#39;s test to see if it works with version 9.3 in the pom..."},{"owner":{"account_id":4918581,"reputation":546,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"score":0,"creation_date":1430921008,"post_id":30068963,"comment_id":48271452,"body_markdown":"Vlad, I included in my pom file exactly this version of postgresql jdbc and the error was the same... =/\n\nI included the version 9.3 and error too","body":"Vlad, I included in my pom file exactly this version of postgresql jdbc and the error was the same... =/  I included the version 9.3 and error too"},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1596489072,"post_id":30068963,"comment_id":111822351,"body_markdown":"I have a similar exception but I am pretty sure my primary key is correct. Any chance you could take a look Vlad? https://stackoverflow.com/q/63231507/144578","body":"I have a similar exception but I am pretty sure my primary key is correct. Any chance you could take a look Vlad? <a href=\"https://stackoverflow.com/q/63231507/144578\">stackoverflow.com/q/63231507/144578</a>"},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1596572549,"post_id":30068963,"comment_id":111853214,"body_markdown":"I managed to fix the issue now but good to know that exists! Might come in useful sometime.","body":"I managed to fix the issue now but good to know that exists! Might come in useful sometime."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1596606600,"post_id":30068963,"comment_id":111861478,"body_markdown":"It surely does. When in doubt, go to Vlad Mihalcea Dot Com.","body":"It surely does. When in doubt, go to Vlad Mihalcea Dot Com."},{"owner":{"account_id":17315311,"reputation":673,"user_id":12541916,"display_name":"Catalina"},"score":0,"creation_date":1607078321,"post_id":30068963,"comment_id":115165022,"body_markdown":"@VladMihalcea could you help me out please\n\nhttps://stackoverflow.com/questions/65142030/how-to-map-serial-and-timestamptz-of-graphlql","body":"@VladMihalcea could you help me out please  <a href=\"https://stackoverflow.com/questions/65142030/how-to-map-serial-and-timestamptz-of-graphlql\" title=\"how to map serial and timestamptz of graphlql\">stackoverflow.com/questions/65142030/&hellip;</a>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430893037,"creation_date":1430893037,"answer_id":30068963,"question_id":30060609,"body_markdown":"If you have a separate database schema, just change the column type to `boolean`:\r\n\r\n    ALTER TABLE role ALTER COLUMN admin TYPE boolean default false;\r\n    ALTER TABLE role  MODIFY admin NOT NULL;\r\n\r\nand then the mapping is as simple as this:\r\n\r\n    @Column(name = &quot;admin&quot;, nullable = false)\r\n    private boolean admin = false;","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>If you have a separate database schema, just change the column type to <code>boolean</code>:</p>\n\n<pre><code>ALTER TABLE role ALTER COLUMN admin TYPE boolean default false;\nALTER TABLE role  MODIFY admin NOT NULL;\n</code></pre>\n\n<p>and then the mapping is as simple as this:</p>\n\n<pre><code>@Column(name = \"admin\", nullable = false)\nprivate boolean admin = false;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"score":17,"creation_date":1555067746,"post_id":30083323,"comment_id":97989387,"body_markdown":"I had same error message with missing `@Enumerated(EnumType.STRING)` on `enum` field","body":"I had same error message with missing <code>@Enumerated(EnumType.STRING)</code> on <code>enum</code> field"},{"owner":{"account_id":9058952,"reputation":251,"user_id":6746112,"display_name":"Kusum"},"score":0,"creation_date":1629736821,"post_id":30083323,"comment_id":121760499,"body_markdown":"I am having exactly similar problem, but in my model the type is Enum, and in db it&#39;s varchar. I don&#39;t see int anywhere for that field. Not sure!","body":"I am having exactly similar problem, but in my model the type is Enum, and in db it&#39;s varchar. I don&#39;t see int anywhere for that field. Not sure!"},{"owner":{"account_id":9058952,"reputation":251,"user_id":6746112,"display_name":"Kusum"},"score":0,"creation_date":1629737785,"post_id":30083323,"comment_id":121760818,"body_markdown":"Got it! for us in the same model 2 enum values were there, one was annotated with  @Enumerated(EnumType.STRING), so it was able to take the String enum, while the other field wasn&#39;t. So in the other filed after saving the enum in number format(0 for 1st, 1 for 2nd...) it was getting read properly.","body":"Got it! for us in the same model 2 enum values were there, one was annotated with  @Enumerated(EnumType.STRING), so it was able to take the String enum, while the other field wasn&#39;t. So in the other filed after saving the enum in number format(0 for 1st, 1 for 2nd...) it was getting read properly."},{"owner":{"account_id":4943530,"reputation":350,"user_id":3979607,"display_name":"Beat Jost"},"score":0,"creation_date":1670940684,"post_id":30083323,"comment_id":131985778,"body_markdown":"Had the error also on a missing `@Enumerated(EnumType.STRING)` (even not sure if it was the circumstance that it was only on the setter instead now on instance variable)","body":"Had the error also on a missing <code>@Enumerated(EnumType.STRING)</code> (even not sure if it was the circumstance that it was only on the setter instead now on instance variable)"},{"owner":{"account_id":5610341,"reputation":809,"user_id":4443333,"accept_rate":50,"display_name":"Norbert"},"score":0,"creation_date":1697072170,"post_id":30083323,"comment_id":136234596,"body_markdown":"Noticed that the value after `:` indicates which field is cause the bad query. Hope that helps","body":"Noticed that the value after <code>:</code> indicates which field is cause the bad query. Hope that helps"}],"tags":[],"owner":{"account_id":4918581,"reputation":546,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1461499798,"creation_date":1430932300,"answer_id":30083323,"question_id":30060609,"body_markdown":"Finally I found the error!\r\n\r\nThe error message that Hibernate was returning to me was &quot;bad value for type int: admin&quot;, but that was **not** the problem. This message was completely crazy in relation to the issue. **The real problem was that in the database my primary key (pk_role) is a VARCHAR type, but in my entity I put as an INTEGER type.**\r\n\r\nAfter Vlad try to help me supposing the version of the jdbc driver, I put the configuration exactly equal to other project I have working pretty well and the error was the same, so I knew that the error was in my own code, for sure.\r\n","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>Finally I found the error!</p>\n\n<p>The error message that Hibernate was returning to me was \"bad value for type int: admin\", but that was <strong>not</strong> the problem. This message was completely crazy in relation to the issue. <strong>The real problem was that in the database my primary key (pk_role) is a VARCHAR type, but in my entity I put as an INTEGER type.</strong></p>\n\n<p>After Vlad try to help me supposing the version of the jdbc driver, I put the configuration exactly equal to other project I have working pretty well and the error was the same, so I knew that the error was in my own code, for sure.</p>\n"},{"tags":[],"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695136956,"creation_date":1695136956,"answer_id":77135902,"question_id":30060609,"body_markdown":"For me the problem was while using `enum` inside `Entity` column. Solution was to add `@Enumerated(EnumType.STRING)` in column definition.\r\n``` \r\n@Enumerated(EnumType.STRING)\r\n```","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>For me the problem was while using <code>enum</code> inside <code>Entity</code> column. Solution was to add <code>@Enumerated(EnumType.STRING)</code> in column definition.</p>\n<pre><code>@Enumerated(EnumType.STRING)\n</code></pre>\n"}],"owner":{"account_id":4918581,"reputation":546,"user_id":4820802,"accept_rate":100,"display_name":"Marco A. Braghim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31792,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":30083323,"answer_count":3,"score":13,"last_activity_date":1695136956,"creation_date":1430850536,"question_id":30060609,"body_markdown":"Well I have a desktop application with JAVA and Hibernate **4.3.1**. For now I have just two entities (User and Role).\r\n\r\nUser\r\n--\r\n\t...\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@Fetch(FetchMode.JOIN)\r\n\t@JoinColumn(nullable = false, name = &quot;fk_role&quot;)\r\n\tprivate Role fk_role;\r\n\r\n\t...\r\n\r\nRole\r\n--\r\n\t...\r\n\r\n\t@Column(name = &quot;admin&quot;, nullable = false)\r\n\t@Type(type = &quot;org.hibernate.type.BooleanType&quot;)\r\n\tprivate boolean admin = false;\r\n\t\r\n\t...\r\n\r\nI have tried instead\r\n\r\n\t@Type(type = &quot;org.hibernate.type.BooleanType&quot;)\r\n\r\nthis.\r\n\r\n\t@Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\r\n\r\nand\r\n\r\n\t@Type(type = &quot;org.hibernate.type.YesNoType&quot;)\r\n\r\nand\r\n\r\n\t@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n\r\n\r\nAs shown here: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic\r\n\r\nAnd nothing. =/\r\n\r\nI tried this too: http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate\r\n\r\n=(\r\n    In the database, the type for column admin is boolean and I use Postgres **9.3**.\r\n    When I run this, I got the following:\r\n    --\r\n\r\n    \r\n    org.hibernate.exception.DataException: could not execute query\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:135)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2537)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2362)\r\n    \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n    \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1869)\r\n    \tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n    \tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n    \tat com.print.model.schemaPublic.gateway.UserGateway.list(UserGateway.java:61)\r\n    \tat com.print.model.schemaPublic.UserBusiness.list(UserBusiness.java:22)\r\n    \tat com.print.controller.MenuController.fileNovoAction(MenuController.java:22)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.library.core.ActionListenerDelegate.actionPerformed(ActionListenerDelegate.java:48)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.AbstractButton.doClick(AbstractButton.java:376)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\r\n    \tat javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6516)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3320)\r\n    \tat java.awt.Component.processEvent(Component.java:6281)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4872)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2719)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4698)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\r\n    \tat java.awt.EventQueue.access$200(EventQueue.java:103)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:694)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:692)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:708)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:706)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\n**Caused by: org.postgresql.util.PSQLException: bad value for type int: admin**\r\n","title":"Hibernate. PSQLException: bad value for type int : admin","body":"<p>Well I have a desktop application with JAVA and Hibernate <strong>4.3.1</strong>. For now I have just two entities (User and Role).</p>\n\n<h2>User</h2>\n\n<pre><code>...\n\n@ManyToOne(fetch = FetchType.LAZY)\n@Fetch(FetchMode.JOIN)\n@JoinColumn(nullable = false, name = \"fk_role\")\nprivate Role fk_role;\n\n...\n</code></pre>\n\n<h2>Role</h2>\n\n<pre><code>...\n\n@Column(name = \"admin\", nullable = false)\n@Type(type = \"org.hibernate.type.BooleanType\")\nprivate boolean admin = false;\n\n...\n</code></pre>\n\n<p>I have tried instead</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.BooleanType\")\n</code></pre>\n\n<p>this.</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.NumericBooleanType\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.YesNoType\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Type(type = \"org.hibernate.type.TrueFalseType\")\n</code></pre>\n\n<p>As shown here: <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/types.html#types-value-basic</a></p>\n\n<p>And nothing. =/</p>\n\n<p>I tried this too: <a href=\"http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate\" rel=\"noreferrer\">http://alenovarini.wikidot.com/mapping-a-custom-type-in-hibernate</a></p>\n\n<p>=(\n    In the database, the type for column admin is boolean and I use Postgres <strong>9.3</strong>.\n    When I run this, I got the following:\n    --</p>\n\n<pre><code>org.hibernate.exception.DataException: could not execute query\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:135)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2537)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2367)\n    at org.hibernate.loader.Loader.list(Loader.java:2362)\n    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\n    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1869)\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\n    at com.print.model.schemaPublic.gateway.UserGateway.list(UserGateway.java:61)\n    at com.print.model.schemaPublic.UserBusiness.list(UserBusiness.java:22)\n    at com.print.controller.MenuController.fileNovoAction(MenuController.java:22)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.library.core.ActionListenerDelegate.actionPerformed(ActionListenerDelegate.java:48)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.AbstractButton.doClick(AbstractButton.java:376)\n    at javax.swing.plaf.basic.BasicMenuItemUI.doClick(BasicMenuItemUI.java:833)\n    at javax.swing.plaf.basic.BasicMenuItemUI$Handler.mouseReleased(BasicMenuItemUI.java:877)\n    at java.awt.Component.processMouseEvent(Component.java:6516)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3320)\n    at java.awt.Component.processEvent(Component.java:6281)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4872)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2719)\n    at java.awt.Component.dispatchEvent(Component.java:4698)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:735)\n    at java.awt.EventQueue.access$200(EventQueue.java:103)\n    at java.awt.EventQueue$3.run(EventQueue.java:694)\n    at java.awt.EventQueue$3.run(EventQueue.java:692)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:708)\n    at java.awt.EventQueue$4.run(EventQueue.java:706)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:705)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n</code></pre>\n\n<p><strong>Caused by: org.postgresql.util.PSQLException: bad value for type int: admin</strong></p>\n"},{"tags":["java","android","android-wifi","wifimanager","android-developer-api"],"answers":[{"comments":[{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":0,"creation_date":1620147415,"post_id":67361262,"comment_id":119112877,"body_markdown":"Thank you! I am trying to test out your suggestion and had a quick question. Can I git clone https://cs.android.com/android/platform/superproject? This is so I don&#39;t have to recreate each file in my project, just import. I found a mirror on gitlab but it does not have the tethering code. Thanks again.","body":"Thank you! I am trying to test out your suggestion and had a quick question. Can I git clone <a href=\"https://cs.android.com/android/platform/superproject\" rel=\"nofollow noreferrer\">cs.android.com/android/platform/superproject</a>? This is so I don&#39;t have to recreate each file in my project, just import. I found a mirror on gitlab but it does not have the tethering code. Thanks again."},{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":0,"creation_date":1620148682,"post_id":67361262,"comment_id":119113395,"body_markdown":"I found this: git clone https://android.googlesource.com/kernel/superproject but it does not get me to the tethering code.","body":"I found this: git clone <a href=\"https://android.googlesource.com/kernel/superproject\" rel=\"nofollow noreferrer\">android.googlesource.com/kernel/superproject</a> but it does not get me to the tethering code."},{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":0,"creation_date":1620161159,"post_id":67361262,"comment_id":119118494,"body_markdown":"I get `Service tethering: not found` I am using Android version 9.","body":"I get <code>Service tethering: not found</code> I am using Android version 9."},{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":0,"creation_date":1620609338,"post_id":67361262,"comment_id":119243018,"body_markdown":"Finally had time to test this and it looks like `startTethering` is a private method indicated by `@hide`. So I get this message `Cannot resolve method &#39;startTethering&#39; in &#39;ConnectivityManager&#39;`","body":"Finally had time to test this and it looks like <code>startTethering</code> is a private method indicated by <code>@hide</code>. So I get this message <code>Cannot resolve method &#39;startTethering&#39; in &#39;ConnectivityManager&#39;</code>"},{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":0,"creation_date":1620698239,"post_id":67361262,"comment_id":119271436,"body_markdown":"I have `&lt;uses-permission android:name=&quot;android.Manifest.permission.TETHER_PRIVILEGED&quot; /&gt;` in AndroidManifest but it installs as a regular app. And I don&#39;t have write access to `/etc/permissions`. Does this require me to root my device (Samsung SM-N950U)? That limits the number of people who can use the app but if it&#39;s the only way I will do it.","body":"I have <code>&lt;uses-permission android:name=&quot;android.Manifest.permission.TETHER_PRIVILEGED&quot; &#47;&gt;</code> in AndroidManifest but it installs as a regular app. And I don&#39;t have write access to <code>&#47;etc&#47;permissions</code>. Does this require me to root my device (Samsung SM-N950U)? That limits the number of people who can use the app but if it&#39;s the only way I will do it."},{"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"score":1,"creation_date":1621103565,"post_id":67361262,"comment_id":119396698,"body_markdown":"I have needed this for many different use cases - right now I need it to turn into a hotspot when I get into my car because I run Ubuntu in there (https://github.com/physiii/open-dash) and want it to autoconnect without me having to fiddle with my phone. But even if there wasn&#39;t an obvious use case, I want to explore my devices and have complete control to program as I want. Why limit us? For safety? Come on.","body":"I have needed this for many different use cases - right now I need it to turn into a hotspot when I get into my car because I run Ubuntu in there (<a href=\"https://github.com/physiii/open-dash\" rel=\"nofollow noreferrer\">github.com/physiii/open-dash</a>) and want it to autoconnect without me having to fiddle with my phone. But even if there wasn&#39;t an obvious use case, I want to explore my devices and have complete control to program as I want. Why limit us? For safety? Come on."},{"owner":{"account_id":2844763,"reputation":982,"user_id":2443487,"accept_rate":78,"display_name":"Anders_K"},"score":1,"creation_date":1679646323,"post_id":67361262,"comment_id":133761727,"body_markdown":"Sadly, and weirdly, the official docs example at https://source.android.com/devices/tech/connect/wifi-softap-tethering#source is gone. 404.","body":"Sadly, and weirdly, the official docs example at <a href=\"https://source.android.com/devices/tech/connect/wifi-softap-tethering#source\" rel=\"nofollow noreferrer\">source.android.com/devices/tech/connect/&hellip;</a> is gone. 404."},{"owner":{"account_id":4767299,"reputation":552,"user_id":6901370,"display_name":"Joseph Van Riper"},"score":0,"creation_date":1695115850,"post_id":67361262,"comment_id":135977860,"body_markdown":"Which is why answers with sample code are preferred over links.  I feel like I&#39;m Tantalus, reaching for the grapes or the water.","body":"Which is why answers with sample code are preferred over links.  I feel like I&#39;m Tantalus, reaching for the grapes or the water."},{"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"score":0,"creation_date":1695146998,"post_id":67361262,"comment_id":135984122,"body_markdown":"Thanks for the note. I removed the stale link.","body":"Thanks for the note. I removed the stale link."}],"tags":[],"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"comment_count":9,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1695136617,"creation_date":1619990736,"answer_id":67361262,"question_id":67318738,"body_markdown":"Only privileged apps can can enable/disable hotspots in Android. If you happen to be developing such an app (or have a rooted device), you can use the below APIs.\r\n\r\n**If using Android Version &gt;= 11**\r\n\r\nYou can start a hotspot with `TetheringManager#startTethering` code [here][1].\r\n\r\nSimilarly, there is a `TetheringManager#stopTethering` method with code [here][3]. This will stop a hotspot.\r\n\r\n**If using Android Version &lt; 11**\r\n\r\n`ConnectivityManager#startTethering` can be used with code details [here][4]. Likewise, there is a `ConnectivityManager#stopTethering` method with code [here][5].\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:startTethering\r\n  [2]: https://source.android.com/devices/tech/connect/wifi-softap-tethering#source\r\n  [3]: https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:stopTethering\r\n  [4]: https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2261\r\n  [5]: https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2298","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>Only privileged apps can can enable/disable hotspots in Android. If you happen to be developing such an app (or have a rooted device), you can use the below APIs.</p>\n<p><strong>If using Android Version &gt;= 11</strong></p>\n<p>You can start a hotspot with <code>TetheringManager#startTethering</code> code <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:startTethering\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Similarly, there is a <code>TetheringManager#stopTethering</code> method with code <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/modules/Connectivity/Tethering/common/TetheringLib/src/android/net/TetheringManager.java?q=func:stopTethering\" rel=\"nofollow noreferrer\">here</a>. This will stop a hotspot.</p>\n<p><strong>If using Android Version &lt; 11</strong></p>\n<p><code>ConnectivityManager#startTethering</code> can be used with code details <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2261\" rel=\"nofollow noreferrer\">here</a>. Likewise, there is a <code>ConnectivityManager#stopTethering</code> method with code <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-9.0.0_r3/core/java/android/net/ConnectivityManager.java#2298\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4767299,"reputation":552,"user_id":6901370,"display_name":"Joseph Van Riper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695117988,"creation_date":1695117988,"answer_id":77133618,"question_id":67318738,"body_markdown":"Your app requires the following two privileges (only available to system applications):\r\n\r\n - android.permission.TETHER_PRIVILEGED\r\n - android.permission.WRITE_SETTINGS\r\n\r\nOnce you&#39;ve secured those permissions, though, you can try the following (kotlin):\r\n\r\n    fun startTethering(ctx: Context) {\r\n      val o = ctx.getSystemService(Context.CONNECTIVITY_SERVICE)\r\n      for (m in o.javaClass.methods) {\r\n        if (m.name.equals(&quot;tether&quot;)) {\r\n          try {\r\n            m.invoke(o, &quot;eth0&quot;) // or whatever you know the iface to be\r\n          } catch (e: IllegalArgumentException) {\r\n            e.printStackTrace()\r\n          } catch (e: IllegalAccessException) {\r\n            e.printStackTrace()\r\n          } catch (e: InvocationTargetException) {\r\n            val target = e.targetException\r\n            Log.e(&quot;tethering&quot;, &quot;target: ${target.message}&quot;)\r\n            e.printStackTrace()\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nIf you want code to untether the iface, use the same code as above, but replace &#39;tether&#39; with &#39;untether&#39;.\r\n\r\nI have only tested this code against Android 11.  Your mileage may vary.","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>Your app requires the following two privileges (only available to system applications):</p>\n<ul>\n<li>android.permission.TETHER_PRIVILEGED</li>\n<li>android.permission.WRITE_SETTINGS</li>\n</ul>\n<p>Once you've secured those permissions, though, you can try the following (kotlin):</p>\n<pre><code>fun startTethering(ctx: Context) {\n  val o = ctx.getSystemService(Context.CONNECTIVITY_SERVICE)\n  for (m in o.javaClass.methods) {\n    if (m.name.equals(&quot;tether&quot;)) {\n      try {\n        m.invoke(o, &quot;eth0&quot;) // or whatever you know the iface to be\n      } catch (e: IllegalArgumentException) {\n        e.printStackTrace()\n      } catch (e: IllegalAccessException) {\n        e.printStackTrace()\n      } catch (e: InvocationTargetException) {\n        val target = e.targetException\n        Log.e(&quot;tethering&quot;, &quot;target: ${target.message}&quot;)\n        e.printStackTrace()\n      }\n    }\n  }\n}\n</code></pre>\n<p>If you want code to untether the iface, use the same code as above, but replace 'tether' with 'untether'.</p>\n<p>I have only tested this code against Android 11.  Your mileage may vary.</p>\n"}],"owner":{"account_id":4457272,"reputation":229,"user_id":3627114,"accept_rate":0,"display_name":"physiii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5563,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1695136617,"creation_date":1619704141,"question_id":67318738,"body_markdown":"I see many references on Android&#39;s website to [local Only Hotspot][1]\r\n\r\nHowever I need to manage the cellular hotspot programmatically from a background service as I can do manually from the pulldown menu.\r\n\r\nThis used to be done like:\r\n\r\n    method = wifiManager.getClass().getDeclaredMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, Boolean.TYPE);\r\n    method.invoke(wifiManager, wifiConfiguration, activated);\r\n\r\n However this feature has been deprecated.\r\n\r\nMy wireless provider (AT&amp;T) is trying to charge me differently based on what device is connected and how. The network should be agnostic to devices and just transport my packets to their destination. I hope this is not related, but I am worried we our losing control over our devices.\r\n\r\nDoes Android really not provide simple API calls for managing the hotspot?\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/localonlyhotspot","title":"How do I enable/disable hotspot or tethering mode programmatically on Android?","body":"<p>I see many references on Android's website to <a href=\"https://developer.android.com/guide/topics/connectivity/localonlyhotspot\" rel=\"noreferrer\">local Only Hotspot</a></p>\n<p>However I need to manage the cellular hotspot programmatically from a background service as I can do manually from the pulldown menu.</p>\n<p>This used to be done like:</p>\n<pre><code>method = wifiManager.getClass().getDeclaredMethod(&quot;setWifiApEnabled&quot;, WifiConfiguration.class, Boolean.TYPE);\nmethod.invoke(wifiManager, wifiConfiguration, activated);\n</code></pre>\n<p>However this feature has been deprecated.</p>\n<p>My wireless provider (AT&amp;T) is trying to charge me differently based on what device is connected and how. The network should be agnostic to devices and just transport my packets to their destination. I hope this is not related, but I am worried we our losing control over our devices.</p>\n<p>Does Android really not provide simple API calls for managing the hotspot?</p>\n"},{"tags":["java","spring-boot","dsl"],"answers":[{"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695136042,"creation_date":1695051813,"answer_id":77128618,"question_id":77127099,"body_markdown":"with this `build.gradle` the Query class is generated with the `com.ewerk.gradle.plugins.querydsl` plugin:\r\n\r\n     \r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    \tid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    \tquerydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\r\n    \r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    \timplementation &#39;org.projectlombok:lombok&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \r\n    \timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39; // import javax.persistence.Entity;\r\n    \timplementation &#39;org.hibernate:hibernate-core:6.1.7.Final&#39;\r\n    \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\n    \ttestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    \r\n    //QueryDSL 추가\r\n    \timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    //    annotationProcessor group: &#39;com.querydsl&#39;, name: &#39;querydsl-apt&#39;, version: &#39;5.0.0&#39;\r\n    \timplementation &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    }\r\n    querydsl {\r\n    \tjpa = true\r\n    \tlibrary = &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n    }\r\n    \r\n    compileQuerydsl {\r\n    \toptions.annotationProcessorPath = configurations.querydsl\r\n    }\r\n\r\nadd following line to the configurations in order to allow the annotationprocessor to find the jpa classes from classpath:\r\n   \r\n\r\n     querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\r\n\r\nin the dependendcy section add the jakarta classifier:\r\n\t\r\n\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;  \r\n    \timplementation &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n\r\nand finally add to configure the annotation processor:\r\n\r\n \r\n\r\n      querydsl {\r\n    \tjpa = true\r\n    \tlibrary = &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n       }\r\n    \r\n       compileQuerydsl {\r\n    \toptions.annotationProcessorPath = configurations.querydsl\r\n       }\r\n\r\n\r\n----------\r\nwith this `build.gradle` you can generate the `querydsl` sources without the `com.ewerk.gradle.plugins.querydsl` plugin\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n    \timplementation\t&quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.testcontainers:postgresql&#39;\r\n    \r\n    \tannotationProcessor ( &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;,\r\n    \t\t\t&quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\r\n    \r\n    }\r\n\r\n\r\nusing `annotationProcessor` task and telling gradle where the annotationProcessor is and where other dependecies are located:\r\n\t\r\n\r\n    annotationProcessor ( &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;,\r\n    \t\t\t&quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\r\n\r\nthe generated files can be found in[![build/generated/sources/annotationProcessor/java/main][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Znk6d.png","title":"Issue with Directory Structure Generated by Gradle compileQuerydsl","body":"<p>with this <code>build.gradle</code> the Query class is generated with the <code>com.ewerk.gradle.plugins.querydsl</code> plugin:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.3'\n    id 'io.spring.dependency-management' version '1.1.3'\n    id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\n\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.mariadb.jdbc:mariadb-java-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    testImplementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.projectlombok:lombok'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2' // import javax.persistence.Entity;\n    implementation 'org.hibernate:hibernate-core:6.1.7.Final'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n//QueryDSL 추가\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n//    annotationProcessor group: 'com.querydsl', name: 'querydsl-apt', version: '5.0.0'\n    implementation 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n}\nquerydsl {\n    jpa = true\n    library = 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n</code></pre>\n<p>add following line to the configurations in order to allow the annotationprocessor to find the jpa classes from classpath:</p>\n<pre><code> querydsl.extendsFrom implementation, compileOnly, runtimeOnly, annotationProcessor\n</code></pre>\n<p>in the dependendcy section add the jakarta classifier:</p>\n<pre><code>    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'  \n    implementation 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n</code></pre>\n<p>and finally add to configure the annotation processor:</p>\n<pre><code>  querydsl {\n    jpa = true\n    library = 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n   }\n\n   compileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n   }\n</code></pre>\n<hr />\n<p>with this <code>build.gradle</code> you can generate the <code>querydsl</code> sources without the <code>com.ewerk.gradle.plugins.querydsl</code> plugin</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.3'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    implementation  &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.testcontainers:postgresql'\n\n    annotationProcessor ( 'com.querydsl:querydsl-apt:5.0.0:jakarta',\n            &quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\n\n}\n</code></pre>\n<p>using <code>annotationProcessor</code> task and telling gradle where the annotationProcessor is and where other dependecies are located:</p>\n<pre><code>annotationProcessor ( 'com.querydsl:querydsl-apt:5.0.0:jakarta',\n            &quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;)\n</code></pre>\n<p>the generated files can be found in<a href=\"https://i.stack.imgur.com/Znk6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Znk6d.png\" alt=\"build/generated/sources/annotationProcessor/java/main\" /></a></p>\n"}],"owner":{"account_id":29472722,"reputation":21,"user_id":22585091,"display_name":"고슴도치"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695136042,"creation_date":1695039067,"question_id":77127099,"body_markdown":"I proceeded while watching the online lecture, and now I&#39;m not sure if the version has changed or what, but even if I run compileQuerydsl, only the highest directory is created, not the target model.\r\nMy build.gradle and model are as follows. I would appreciate it if you could tell me the reason.\r\n\r\n\r\n\r\nThis is the build.gradl\r\n```\r\nplugins {\r\nid &#39;java&#39;\r\nid &#39;org.springframework.boot&#39; version &#39;3.1.3&#39;\r\nid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\nid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\nsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\ncompileOnly {\r\nextendsFrom annotationProcessor\r\n}\r\n}\r\n\r\nrepositories {\r\nmavenCentral()\r\n}\r\n\r\ndependencies {\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\nimplementation &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\ntestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\ndevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\nimplementation &#39;org.projectlombok:lombok&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\r\nimplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39; // import javax.persistence.Entity;\r\nimplementation &#39;org.hibernate:hibernate-core:6.1.7.Final&#39;\r\ntestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\ntestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n\r\ncompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\nannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\n//QueryDSL 추가\r\nimplementation &#39;com.querydsl:querydsl-jpa:5.0.0&#39;\r\n//    annotationProcessor group: &#39;com.querydsl&#39;, name: &#39;querydsl-apt&#39;, version: &#39;5.0.0&#39;\r\nimplementation &#39;com.querydsl:querydsl-apt:5.0.0&#39;\r\n}\r\n```\r\n\r\nand this is the ExampleTable.java (model)\r\n\r\n```\r\nimport jakarta.persistence.\\*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class ExampleTable {\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(name = &quot;id&quot;)\r\nprivate Long id;\r\n\r\nprivate String name;\r\n\r\nprivate int age;\r\n\r\npublic ExampleTable(Long id, String name, int age) {\r\nthis.id = id;\r\nthis.name = name;\r\nthis.age = age;\r\n}\r\n\r\npublic ExampleTable() {\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nand this is the result of me running compileQuerydsl.\r\n[enter image description here](https://i.stack.imgur.com/xIkjT.png)","title":"Issue with Directory Structure Generated by Gradle compileQuerydsl","body":"<p>I proceeded while watching the online lecture, and now I'm not sure if the version has changed or what, but even if I run compileQuerydsl, only the highest directory is created, not the target model.\nMy build.gradle and model are as follows. I would appreciate it if you could tell me the reason.</p>\n<p>This is the build.gradl</p>\n<pre><code>plugins {\nid 'java'\nid 'org.springframework.boot' version '3.1.3'\nid 'io.spring.dependency-management' version '1.1.3'\nid &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\nsourceCompatibility = '17'\n}\n\nconfigurations {\ncompileOnly {\nextendsFrom annotationProcessor\n}\n}\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.mariadb.jdbc:mariadb-java-client'\nimplementation 'org.springframework.boot:spring-boot-starter-security'\ntestImplementation 'org.springframework.security:spring-security-test'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-web-services'\nimplementation 'org.springframework.boot:spring-boot-starter-webflux'\nimplementation 'org.projectlombok:lombok'\nimplementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\nimplementation 'org.springframework.boot:spring-boot-starter-jdbc'\n\nimplementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2' // import javax.persistence.Entity;\nimplementation 'org.hibernate:hibernate-core:6.1.7.Final'\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\ntestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n\ncompileOnly 'org.projectlombok:lombok:1.18.22'\nannotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n//QueryDSL 추가\nimplementation 'com.querydsl:querydsl-jpa:5.0.0'\n//    annotationProcessor group: 'com.querydsl', name: 'querydsl-apt', version: '5.0.0'\nimplementation 'com.querydsl:querydsl-apt:5.0.0'\n}\n</code></pre>\n<p>and this is the ExampleTable.java (model)</p>\n<pre><code>import jakarta.persistence.\\*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\npublic class ExampleTable {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\nprivate String name;\n\nprivate int age;\n\npublic ExampleTable(Long id, String name, int age) {\nthis.id = id;\nthis.name = name;\nthis.age = age;\n}\n\npublic ExampleTable() {\n\n}\n}\n\n</code></pre>\n<p>and this is the result of me running compileQuerydsl.\n<a href=\"https://i.stack.imgur.com/xIkjT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cassandra"],"answers":[{"comments":[{"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"score":0,"creation_date":1695133200,"post_id":77135058,"comment_id":135981391,"body_markdown":"This is the logic that I am using today but this is causing problem due to race conditions. If multiple updates are coming at same time and if there is some latency between client and cassandra server then above case is failing.\n\nThere is possibility to have old modified date set as current one due to above scenario.","body":"This is the logic that I am using today but this is causing problem due to race conditions. If multiple updates are coming at same time and if there is some latency between client and cassandra server then above case is failing.  There is possibility to have old modified date set as current one due to above scenario."},{"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"score":0,"creation_date":1695133276,"post_id":77135058,"comment_id":135981416,"body_markdown":"I would like to add modified time to be decided by actual inserted time not the client time.","body":"I would like to add modified time to be decided by actual inserted time not the client time."}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695135363,"creation_date":1695130569,"answer_id":77135058,"question_id":77134377,"body_markdown":"    Date modifiedDate;\r\n\r\nFirst, remember that Cassandra&#39;s `DATE` type maps to `Java.time.LocalDate`.\r\n\r\nSecond, when using a DB repository framework, you end up making a tradeoff of explicit control for the convenience of not having to build a boilerplate DAL.  In this situation, I&#39;ve often set the date at object creation time using `LocalDate.now()`.\r\n\r\n    myDataEntity.setDate(LocalDate.now());\r\n\r\n&gt; current timestamp generated by cassandra node\r\n\r\nThird, this shouldn&#39;t be too much of a concern today. An enterprise&#39;s servers should be configured to the same NTP endpoint, which means that the date/time will be the same regardless of where it is generated.\r\n\r\nI could maybe see if it was a full timestamp and milliseconds mattered. But even without NTP, a precision of *date* shouldn&#39;t vary much between an app and a database server.","title":"How to write current timestamp in cassandra column using entity mapper","body":"<pre><code>Date modifiedDate;\n</code></pre>\n<p>First, remember that Cassandra's <code>DATE</code> type maps to <code>Java.time.LocalDate</code>.</p>\n<p>Second, when using a DB repository framework, you end up making a tradeoff of explicit control for the convenience of not having to build a boilerplate DAL.  In this situation, I've often set the date at object creation time using <code>LocalDate.now()</code>.</p>\n<pre><code>myDataEntity.setDate(LocalDate.now());\n</code></pre>\n<blockquote>\n<p>current timestamp generated by cassandra node</p>\n</blockquote>\n<p>Third, this shouldn't be too much of a concern today. An enterprise's servers should be configured to the same NTP endpoint, which means that the date/time will be the same regardless of where it is generated.</p>\n<p>I could maybe see if it was a full timestamp and milliseconds mattered. But even without NTP, a precision of <em>date</em> shouldn't vary much between an app and a database server.</p>\n"}],"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695135363,"creation_date":1695124786,"question_id":77134377,"body_markdown":"We are using entity mapper to map cassandra table to java object. Ex\r\n```\r\nclass Activity\r\n{\r\n   @PrimaryKey\r\n   int id;\r\n   @Column\r\n   Date modifiedDate;\r\n   @Column\r\n   String activityDesc;\r\n}\r\n```\r\nI want to add **modifiedDate** as the current timestamp generated by cassandra node from function **totimestamp(now())**\r\n\r\nHow can I achieve this with mapper method without using plain CQL insert query. I checked the docs and found **@Computed** supports function but that is just for select queries.","title":"How to write current timestamp in cassandra column using entity mapper","body":"<p>We are using entity mapper to map cassandra table to java object. Ex</p>\n<pre><code>class Activity\n{\n   @PrimaryKey\n   int id;\n   @Column\n   Date modifiedDate;\n   @Column\n   String activityDesc;\n}\n</code></pre>\n<p>I want to add <strong>modifiedDate</strong> as the current timestamp generated by cassandra node from function <strong>totimestamp(now())</strong></p>\n<p>How can I achieve this with mapper method without using plain CQL insert query. I checked the docs and found <strong>@Computed</strong> supports function but that is just for select queries.</p>\n"},{"tags":["java","jsf","tomcat","richfaces"],"comments":[{"owner":{"account_id":86881,"reputation":1598,"user_id":241291,"accept_rate":91,"display_name":"cobaltduck"},"score":0,"creation_date":1396280990,"post_id":22762512,"comment_id":34706899,"body_markdown":"Are you familiar with the site findjar.com?  It allows you to search a full class name, and gives you a list of jars that contain that file.  From what I can see there, it looks like you might need to upgrade commons collections to latest version.","body":"Are you familiar with the site findjar.com?  It allows you to search a full class name, and gives you a list of jars that contain that file.  From what I can see there, it looks like you might need to upgrade commons collections to latest version."},{"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"score":0,"creation_date":1396340021,"post_id":22762512,"comment_id":34731892,"body_markdown":"@cobaltduck This didn&#39;t work either since com.sun.faces.config.ConfigureListener is part of mojarra implementation. Not in commons collections as you said.","body":"@cobaltduck This didn&#39;t work either since com.sun.faces.config.ConfigureListener is part of mojarra implementation. Not in commons collections as you said."},{"owner":{"account_id":86881,"reputation":1598,"user_id":241291,"accept_rate":91,"display_name":"cobaltduck"},"score":0,"creation_date":1396356701,"post_id":22762512,"comment_id":34742838,"body_markdown":"Oh, well.  It was worth a shot.  Sorry I can&#39;t be of more help.","body":"Oh, well.  It was worth a shot.  Sorry I can&#39;t be of more help."},{"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"score":0,"creation_date":1396362932,"post_id":22762512,"comment_id":34747469,"body_markdown":"It&#39;s ok. Thanks anyway for your time and for being responsive to my problem.","body":"It&#39;s ok. Thanks anyway for your time and for being responsive to my problem."},{"owner":{"display_name":"user909694"},"score":0,"creation_date":1416427471,"post_id":22762512,"comment_id":42575178,"body_markdown":"I think the first step here is to start from the basics.. Have you tried deploying your app in a fresh Tomcat? Looking at your list of libs, there are many there that don&#39;t sound like runtime dependencies (obviously this depends on the app&#39;s intended functionality), `ant.jar`, `gradle-all-1.7.5.jar`, etc..? For the record: I&#39;m currently experiencing similar issues in a different environment.","body":"I think the first step here is to start from the basics.. Have you tried deploying your app in a fresh Tomcat? Looking at your list of libs, there are many there that don&#39;t sound like runtime dependencies (obviously this depends on the app&#39;s intended functionality), <code>ant.jar</code>, <code>gradle-all-1.7.5.jar</code>, etc..? For the record: I&#39;m currently experiencing similar issues in a different environment."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695280619,"post_id":77135671,"comment_id":136003900,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77135671/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29483072,"reputation":1,"user_id":22593567,"display_name":"user22593567"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695135223,"creation_date":1695135208,"answer_id":77135671,"question_id":22762512,"body_markdown":"this post is old, but you might check the tomahawk and JSF versions.  I think the version of richfaces chosen supports JSF 2.x.","title":"Migration from richfaces 3.1.6 to 3.3.3 has java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener","body":"<p>this post is old, but you might check the tomahawk and JSF versions.  I think the version of richfaces chosen supports JSF 2.x.</p>\n"}],"owner":{"account_id":3372283,"reputation":343,"user_id":2831242,"display_name":"youness.bout"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695135223,"creation_date":1396271645,"question_id":22762512,"body_markdown":"Good evening guys.\r\nThank you so much in advance for giving up your time to just read my problem, and i&#39;ll appreciate it if someone could help me.\r\n\r\nI&#39;m responsible now for migrating a big project from richefaces 3.1.6 to 3.3.3, but i&#39;m stuck having this issue at the startup of tomcat: java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\r\nThe same issue has been reported in this link: [java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener][1]. But it&#39;s may be way different than the one i&#39;m facing. \r\nI tried many configuration(like changing jsf implementation to mojarra) but with no conclusive result.\r\nNow I&#39;m trying to go with it step by step, and seek your help when I&#39;m stuck.\r\n\r\nHere are the old list of jar libraries of our project .\r\n\r\n - activation.jar\r\n - ant.jar\r\n - commons-beanutils-1.7.0.jar\r\n - commons-codec-1.3.jar\r\n - commons-collections-3.1.jar\r\n - commons-digester-1.6.jar\r\n - commons-el-1.0.jar\r\n - commons-fileupload-1.2.1.jar\r\n - commons-io-1.1.jar\r\n - commons-lang-2.1.jar\r\n - commons-net-3.0.1.jar\r\n - commons-validator-1.3.1.jar\r\n - confection-lib-1.0.jar\r\n - edtftpj.jar\r\n - el-api.jar\r\n - el-ri.jar\r\n - groovy-all-1.7.5.jar\r\n - iText-2.1.7.jar\r\n - jasperreports-3.7.6.jar\r\n - javolution-5.5.1.jar\r\n - jsf-facelets.jar\r\n - jstl-1.1.0.jar\r\n - log4j-1.2.15.jar\r\n - myfaces-api-1.1.5.jar\r\n - myfaces-impl-1.1.5.jar\r\n - ojdbc14.jar\r\n - poi-3.8-20120326.jar\r\n - poi-ooxml-3.8-20120326.jar\r\n - richfaces-api-3.1.6.SR1.jar\r\n - richfaces-impl-3.1.6.SR1.jar\r\n - richfaces-ui-3.1.6.SR1.jar\r\n - standard.jar\r\n - tomahawk-1.1.9.jar\r\n\r\nthese libraries are placed in a shared lib inside tomcat 5.5.36 : C:\\apache-tomcat-5.5.36_\\shared\\lib \r\n\r\n\r\nOur web.xml contains this lines :\r\n    \r\n   `\r\n\r\n    &lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;classic&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;display-name&gt;RichFaces Filter&lt;/display-name&gt;\r\n    \t\t&lt;filter-name&gt;richfaces&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;richfaces&lt;/filter-name&gt;\r\n    \t\t&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    \t\t&lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;\r\n    \t\t\torg.apache.myfaces.webapp.StartupServletContextListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n\r\n`\r\n\r\nThe only thing I change is the 3 jar files for richefaces :\r\n\r\n - richfaces-api-3.1.6.SR1.jar\r\n - richfaces-impl-3.1.6.SR1.jar\r\n - richfaces-ui-3.1.6.SR1.jar\r\n\r\nand I replace them with these :\r\n\r\n - richfaces-api-3.3.3.Final.jar\r\n - richfaces-impl-3.3.3.Final.jar\r\n - richfaces-ui-3.3.3.Final.jar\r\n\r\n\r\nOnce I start tomcat i get this stacktrace : \r\n\r\n    java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)\r\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)\r\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\r\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\r\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\r\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\r\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:448)\r\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us","title":"Migration from richfaces 3.1.6 to 3.3.3 has java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener","body":"<p>Good evening guys.\nThank you so much in advance for giving up your time to just read my problem, and i'll appreciate it if someone could help me.</p>\n\n<p>I'm responsible now for migrating a big project from richefaces 3.1.6 to 3.3.3, but i'm stuck having this issue at the startup of tomcat: java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener</p>\n\n<p>The same issue has been reported in this link: <a href=\"https://stackoverflow.com/questions/11777844/java-lang-classnotfoundexception-com-sun-faces-config-configurelistener-when-us\">java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener</a>. But it's may be way different than the one i'm facing. \nI tried many configuration(like changing jsf implementation to mojarra) but with no conclusive result.\nNow I'm trying to go with it step by step, and seek your help when I'm stuck.</p>\n\n<p>Here are the old list of jar libraries of our project .</p>\n\n<ul>\n<li>activation.jar</li>\n<li>ant.jar</li>\n<li>commons-beanutils-1.7.0.jar</li>\n<li>commons-codec-1.3.jar</li>\n<li>commons-collections-3.1.jar</li>\n<li>commons-digester-1.6.jar</li>\n<li>commons-el-1.0.jar</li>\n<li>commons-fileupload-1.2.1.jar</li>\n<li>commons-io-1.1.jar</li>\n<li>commons-lang-2.1.jar</li>\n<li>commons-net-3.0.1.jar</li>\n<li>commons-validator-1.3.1.jar</li>\n<li>confection-lib-1.0.jar</li>\n<li>edtftpj.jar</li>\n<li>el-api.jar</li>\n<li>el-ri.jar</li>\n<li>groovy-all-1.7.5.jar</li>\n<li>iText-2.1.7.jar</li>\n<li>jasperreports-3.7.6.jar</li>\n<li>javolution-5.5.1.jar</li>\n<li>jsf-facelets.jar</li>\n<li>jstl-1.1.0.jar</li>\n<li>log4j-1.2.15.jar</li>\n<li>myfaces-api-1.1.5.jar</li>\n<li>myfaces-impl-1.1.5.jar</li>\n<li>ojdbc14.jar</li>\n<li>poi-3.8-20120326.jar</li>\n<li>poi-ooxml-3.8-20120326.jar</li>\n<li>richfaces-api-3.1.6.SR1.jar</li>\n<li>richfaces-impl-3.1.6.SR1.jar</li>\n<li>richfaces-ui-3.1.6.SR1.jar</li>\n<li>standard.jar</li>\n<li>tomahawk-1.1.9.jar</li>\n</ul>\n\n<p>these libraries are placed in a shared lib inside tomcat 5.5.36 : C:\\apache-tomcat-5.5.36_\\shared\\lib </p>\n\n<p>Our web.xml contains this lines :</p>\n\n<p>`</p>\n\n<pre><code>&lt;context-param&gt;\n        &lt;param-name&gt;org.richfaces.SKIN&lt;/param-name&gt;\n        &lt;param-value&gt;classic&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;filter&gt;\n        &lt;display-name&gt;RichFaces Filter&lt;/display-name&gt;\n        &lt;filter-name&gt;richfaces&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.ajax4jsf.Filter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;richfaces&lt;/filter-name&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            org.apache.myfaces.webapp.StartupServletContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>The only thing I change is the 3 jar files for richefaces :</p>\n\n<ul>\n<li>richfaces-api-3.1.6.SR1.jar</li>\n<li>richfaces-impl-3.1.6.SR1.jar</li>\n<li>richfaces-ui-3.1.6.SR1.jar</li>\n</ul>\n\n<p>and I replace them with these :</p>\n\n<ul>\n<li>richfaces-api-3.3.3.Final.jar</li>\n<li>richfaces-impl-3.3.3.Final.jar</li>\n<li>richfaces-ui-3.3.3.Final.jar</li>\n</ul>\n\n<p>Once I start tomcat i get this stacktrace : </p>\n\n<pre><code>java.lang.ClassNotFoundException: com.sun.faces.config.ConfigureListener\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1438)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1284)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3743)\nat org.apache.catalina.core.StandardContext.start(StandardContext.java:4252)\nat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\nat org.apache.catalina.core.StandardHost.start(StandardHost.java:736)\nat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)\nat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\nat org.apache.catalina.core.StandardService.start(StandardService.java:448)\nat org.apache.catalina.core.StandardServer.start(StandardServer.java:700)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:552)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)\n</code></pre>\n"},{"tags":["java","java-14"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1695061405,"post_id":77129370,"comment_id":135971099,"body_markdown":"related [Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )](https://stackoverflow.com/q/75220488/85421) ? (but you *must* already know it)","body":"related <a href=\"https://stackoverflow.com/q/75220488/85421\">Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )</a> ? (but you <i>must</i> already know it)"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1695064323,"post_id":77129370,"comment_id":135971564,"body_markdown":"`instanceof` _can&#39;t_, and never has been, able to tell the difference between `List&lt;String&gt;` and `List&lt;Employee&gt;`.  The use of this feature is not really for the case of collections or other generic things.","body":"<code>instanceof</code> <i>can&#39;t</i>, and never has been, able to tell the difference between <code>List&lt;String&gt;</code> and <code>List&lt;Employee&gt;</code>.  The use of this feature is not really for the case of collections or other generic things."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1695113400,"post_id":77129443,"comment_id":135977350,"body_markdown":"Actually, the fact that `obj instanceof List empList` uses a raw type, is responsible for getting a raw type result, not type erasure. Though type erasure is responsible for not allowing to write `obj instanceof List&lt;Employee&gt; empList` here but the OP did not make clear whether this has been tried at all.","body":"Actually, the fact that <code>obj instanceof List empList</code> uses a raw type, is responsible for getting a raw type result, not type erasure. Though type erasure is responsible for not allowing to write <code>obj instanceof List&lt;Employee&gt; empList</code> here but the OP did not make clear whether this has been tried at all."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695068695,"creation_date":1695060024,"answer_id":77129443,"question_id":77129370,"body_markdown":"Because it turns it into a raw `List` due to [type erasure][1] in [Java Generics][2], so you can only get `Object`s out of it.\r\n\r\nSince `instanceof` doesn&#39;t work with generics (runtime vs. compile-time), you can only get the erased version of any generic class, so any `FooClass&lt;T&gt;` becomes a `FooClass` and you need to do an unchecked cast like in your example.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Type_erasure\r\n  [2]: https://en.m.wikipedia.org/wiki/Generics_in_Java","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>Because it turns it into a raw <code>List</code> due to <a href=\"https://en.m.wikipedia.org/wiki/Type_erasure\" rel=\"nofollow noreferrer\">type erasure</a> in <a href=\"https://en.m.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>, so you can only get <code>Object</code>s out of it.</p>\n<p>Since <code>instanceof</code> doesn't work with generics (runtime vs. compile-time), you can only get the erased version of any generic class, so any <code>FooClass&lt;T&gt;</code> becomes a <code>FooClass</code> and you need to do an unchecked cast like in your example.</p>\n"},{"tags":[],"owner":{"account_id":184019,"reputation":1100,"user_id":669772,"accept_rate":43,"display_name":"r-hold"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695135219,"creation_date":1695060179,"answer_id":77129467,"question_id":77129370,"body_markdown":"Internally, the Compiler does something called Type Erasure:\r\n\r\nAfter the compiler has checked the Types, it converts `List&lt;YourType&gt;` to `List&lt;Object&gt;`. As a result, you cannot check the Types of Collections at runtime. (never ever - there is no direct way around this.)\r\n\r\nBut you can check the types of objects inside lists. Or you can create Wrapper Classes.","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>Internally, the Compiler does something called Type Erasure:</p>\n<p>After the compiler has checked the Types, it converts <code>List&lt;YourType&gt;</code> to <code>List&lt;Object&gt;</code>. As a result, you cannot check the Types of Collections at runtime. (never ever - there is no direct way around this.)</p>\n<p>But you can check the types of objects inside lists. Or you can create Wrapper Classes.</p>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695062360,"creation_date":1695062360,"answer_id":77129690,"question_id":77129370,"body_markdown":"You could use a second instanceof pattern match inside the loop:\r\n\r\n    if (obj instanceof List list) {\r\n        for (Object elem : list) {\r\n            if (elem instanceof Employee emp) {\r\n                System.out.println(emp.getId());\r\n                System.out.println(emp.getName());\r\n                System.out.println(emp.getSalary());\r\n            }\r\n        }\r\n    }\r\n\r\nIt may be better to use a wildcard instead of a raw type:\r\n\r\n    if (obj instanceof List&lt;?&gt; list)\r\n","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>You could use a second instanceof pattern match inside the loop:</p>\n<pre><code>if (obj instanceof List list) {\n    for (Object elem : list) {\n        if (elem instanceof Employee emp) {\n            System.out.println(emp.getId());\n            System.out.println(emp.getName());\n            System.out.println(emp.getSalary());\n        }\n    }\n}\n</code></pre>\n<p>It may be better to use a wildcard instead of a raw type:</p>\n<pre><code>if (obj instanceof List&lt;?&gt; list)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695113083,"post_id":77129874,"comment_id":135977275,"body_markdown":"It doesn’t matter whether the cast is “a fairly inexpensive operation”. The cast will happen anyway, regardless of which solution is used. So even if it was a heavily expensive operation, you solution wouldn’t be worse than others, performance-wise.","body":"It doesn’t matter whether the cast is “a fairly inexpensive operation”. The cast will happen anyway, regardless of which solution is used. So even if it was a heavily expensive operation, you solution wouldn’t be worse than others, performance-wise."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695144526,"post_id":77129874,"comment_id":135983723,"body_markdown":"@Holger, I mentioned _cost_ because they said the following, _&quot;... And if we are doing type casting only then use type casting on obj itself like traditional code then ...&quot;_,   possibly implying that there shouldn&#39;t be more than a single cast.","body":"@Holger, I mentioned <i>cost</i> because they said the following, <i>&quot;... And if we are doing type casting only then use type casting on obj itself like traditional code then ...&quot;</i>,   possibly implying that there shouldn&#39;t be more than a single cast."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695199528,"post_id":77129874,"comment_id":135990852,"body_markdown":"That’s very likely the OP’s mindset, but in reality, it doesn’t matter whether you see a single cast or even no cast at all, when `… instanceof List&lt;Employee&gt; empList` worked. Under the hood, there’s still a typecast per element due to type erasure. That’s what I meant with “the cast will happen anyway”. The source code form doesn’t matter. So your code with explicit casts is as efficient as any other variant.","body":"That’s very likely the OP’s mindset, but in reality, it doesn’t matter whether you see a single cast or even no cast at all, when <code>… instanceof List&lt;Employee&gt; empList</code> worked. Under the hood, there’s still a typecast per element due to type erasure. That’s what I meant with “the cast will happen anyway”. The source code form doesn’t matter. So your code with explicit casts is as efficient as any other variant."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695064799,"creation_date":1695064799,"answer_id":77129874,"question_id":77129370,"body_markdown":"&gt; _&quot;... the for loop empList can&#39;t be used without type casting as `for (Employee emp : (List&lt;Employee&gt;)empList)`. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature. ...&quot;_\r\n\r\nThis would be very convenient, I agree.\r\n\r\nIt&#39;s impossible for the compiler to infer the class of the _List_ object&#39;s _T_ type.  \r\nYou should expect to be _casting_ the _[type-parameter](https://docs.oracle.com/javase/tutorial/java/generics/types.html)_ object here.\r\n\r\nThe _instanceof_ keyword is useful for objects, and not any applied _generic-type parameter_.\r\n\r\nI would just _cast_ the object first; it&#39;s a fairly inexpensive operation.\r\n\r\n```java\r\nif (obj instanceof List empList) {\r\n    Employee e;\r\n    for (Object emp : empList) {\r\n        e = (Employee) emp;\r\n        System.out.println(e.getId());\r\n        System.out.println(e.getName());\r\n        System.out.println(e.getSalary());\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1\r\nRam\r\n10000\r\n2\r\nShyam\r\n20000\r\n3\r\nRadha\r\n30000\r\n```\r\n\r\nFor reference, here is a _Java_ documentation on _&quot;instanceof Pattern Matching&quot;_.\\\r\n_[Pattern Matching for the instanceof Operator](https://docs.oracle.com/en/java/javase/20/language/pattern-matching-instanceof-operator.html)_.","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<blockquote>\n<p><em>&quot;... the for loop empList can't be used without type casting as <code>for (Employee emp : (List&lt;Employee&gt;)empList)</code>. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature. ...&quot;</em></p>\n</blockquote>\n<p>This would be very convenient, I agree.</p>\n<p>It's impossible for the compiler to infer the class of the <em>List</em> object's <em>T</em> type.<br />\nYou should expect to be <em>casting</em> the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">type-parameter</a></em> object here.</p>\n<p>The <em>instanceof</em> keyword is useful for objects, and not any applied <em>generic-type parameter</em>.</p>\n<p>I would just <em>cast</em> the object first; it's a fairly inexpensive operation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (obj instanceof List empList) {\n    Employee e;\n    for (Object emp : empList) {\n        e = (Employee) emp;\n        System.out.println(e.getId());\n        System.out.println(e.getName());\n        System.out.println(e.getSalary());\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\nRam\n10000\n2\nShyam\n20000\n3\nRadha\n30000\n</code></pre>\n<p>For reference, here is a <em>Java</em> documentation on <em>&quot;instanceof Pattern Matching&quot;</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">Pattern Matching for the instanceof Operator</a></em>.</p>\n"}],"owner":{"account_id":7645565,"reputation":2443,"user_id":5796365,"display_name":"Ujjwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1695135219,"creation_date":1695059276,"question_id":77129370,"body_markdown":"\r\ninstanceof doesn&#39;t work for List even. for example\r\n\r\n    package org.practice;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class InstanceOfDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tEmployee emp1 = new Employee(1, &quot;Ram&quot;, 10000);\r\n    \t\tEmployee emp2 = new Employee(2, &quot;Shyam&quot;, 20000);\r\n    \t\tEmployee emp3 = new Employee(3, &quot;Radha&quot;, 30000);\r\n    \r\n    \t\tObject obj = List.of(emp1, emp2, emp3);\r\n    \r\n    \t\tif (obj instanceof List empList) {\r\n    \t\t\tfor (Employee emp : empList) { //Type mismatch: cannot convert from element type Object to Employee\r\n    \t\t\t\tSystem.out.println(emp.getId());\r\n    \t\t\t\tSystem.out.println(emp.getName());\r\n    \t\t\t\tSystem.out.println(emp.getSalary());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nin the above code instanceof got true and even declared empList got created but doesn&#39;t gives any advantage to the developer because in the for loop empList can&#39;t be used without type casting as `for (Employee emp : (List&lt;Employee&gt;)empList)`. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature.\r\n\r\n\r\n","title":"why java&#39;s new feature &quot;Pattern Matching for instanceof operator&quot; doesn&#39;t work on List set or Map without typecasting","body":"<p>instanceof doesn't work for List even. for example</p>\n<pre><code>package org.practice;\n\nimport java.util.List;\n\npublic class InstanceOfDemo {\n\n    public static void main(String[] args) {\n\n        Employee emp1 = new Employee(1, &quot;Ram&quot;, 10000);\n        Employee emp2 = new Employee(2, &quot;Shyam&quot;, 20000);\n        Employee emp3 = new Employee(3, &quot;Radha&quot;, 30000);\n\n        Object obj = List.of(emp1, emp2, emp3);\n\n        if (obj instanceof List empList) {\n            for (Employee emp : empList) { //Type mismatch: cannot convert from element type Object to Employee\n                System.out.println(emp.getId());\n                System.out.println(emp.getName());\n                System.out.println(emp.getSalary());\n            }\n        }\n    }\n}\n</code></pre>\n<p>in the above code instanceof got true and even declared empList got created but doesn't gives any advantage to the developer because in the for loop empList can't be used without type casting as <code>for (Employee emp : (List&lt;Employee&gt;)empList)</code>. And if we are doing type casting only then use type casting on obj itself like traditional code then whats the use of this feature.</p>\n"},{"tags":["java","android","admob","ads"],"owner":{"account_id":28076107,"reputation":11,"user_id":21447942,"display_name":"oztac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695135037,"creation_date":1695135037,"question_id":77135643,"body_markdown":"I&#39;m a web developer and I&#39;m using webview android feature to develop android app of my website. Just a few hours back, I received a policy violation message for my Interstitial Ads. The message says that interstitial ad placement is resulting in accidental clicks. I have placed the interstitial ads when the app is opened and that might be the issue for accidental clicks.\r\n\r\nMy question is,\r\n\r\n- Should I delay the interstitial ad by 7 or 10 seconds. The ad should pop up only if the user spends 7 seconds on my app with settimeout method. Should this be called policy violation or is it okay to settimeout on Interstitial open?\r\n\r\n- I&#39;m using banner ads and Interstitial ads with my webview app. Is there any other ad type that I can implement with the webview? I desperately want to implement the native ads but for that I will use Google adsense from my website.\r\n\r\nI have not tried anything because first I want to take advice from the community because Adsense is very strict. I believe I should not do experiments without proper research.","title":"Policy Violation on Interstitial Ads","body":"<p>I'm a web developer and I'm using webview android feature to develop android app of my website. Just a few hours back, I received a policy violation message for my Interstitial Ads. The message says that interstitial ad placement is resulting in accidental clicks. I have placed the interstitial ads when the app is opened and that might be the issue for accidental clicks.</p>\n<p>My question is,</p>\n<ul>\n<li><p>Should I delay the interstitial ad by 7 or 10 seconds. The ad should pop up only if the user spends 7 seconds on my app with settimeout method. Should this be called policy violation or is it okay to settimeout on Interstitial open?</p>\n</li>\n<li><p>I'm using banner ads and Interstitial ads with my webview app. Is there any other ad type that I can implement with the webview? I desperately want to implement the native ads but for that I will use Google adsense from my website.</p>\n</li>\n</ul>\n<p>I have not tried anything because first I want to take advice from the community because Adsense is very strict. I believe I should not do experiments without proper research.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1615116150,"post_id":66515896,"comment_id":117586925,"body_markdown":"What is the expected output ? Because you store only name/avg so that&#39;s the only output you can get for now","body":"What is the expected output ? Because you store only name/avg so that&#39;s the only output you can get for now"}],"answers":[{"comments":[{"owner":{"account_id":19364161,"reputation":1,"user_id":14158843,"display_name":"Antony"},"score":0,"creation_date":1615137280,"post_id":66518094,"comment_id":117592631,"body_markdown":"thanks for the response. I prefer to create a Player class and create a HashMap&lt;String, Player&gt;.  I created the Player class. how to store all ways in Map array. I am getting not able to store","body":"thanks for the response. I prefer to create a Player class and create a HashMap&lt;String, Player&gt;.  I created the Player class. how to store all ways in Map array. I am getting not able to store"}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695134926,"creation_date":1615130523,"answer_id":66518094,"question_id":66515896,"body_markdown":"By priority,\r\n\r\n 1. Prefer to create a `Player` class and create a `HashMap&lt;String, Player&gt;` to hold all player information.\r\n 2. Second best is to create a `HashMap&lt;String, List&lt;String&gt;&gt;`.\r\n 3. If you insist of doing it the way you describe in the question, you need a `HashMap&lt;String, String[]&gt;`.\r\n\r\n## A Player class\r\n\r\nYour `Player` class should have three fields (instance variables), a `String` for the name, a `double` (or a `float`) for the average and a `LocalDate` for the date of birth. You may provide it with a convenience constructor that accepts a line of input, splits it into the three values and throws an exception if the number of values isn’t three, then parses the average into a `double` and the date into a `LocalDate`. Also code a `toString` method so that you objects print in a recognizable way.\r\n\r\nNow store your `Player` object into a `HashMap&lt;String, Player&gt;`. Edit: For example after you have created the player object, do\r\n\r\n        hmap.put(yourPlayer.getName(), yourPlayer);\r\n\r\n(assuming your `Player` class defines a `getName` method that returns the name).\r\n\r\n## HashMap&lt;String, List&lt;String&gt;&gt;\r\n\r\nMixing generic collections like `HashMap&lt;K, V&gt;` with arrays has some liabilities. So I suggest a `HashMap&lt;String, List&lt;String&gt;&gt;`. After splitting your input line into a `String` array, wrap it into a list with `Arrays.asList(line)` and store that list into your map.\r\n\r\n## If you insist: HashMap&lt;String, String[]&gt;\r\n\r\nYou may create a map where the keys are strings (as they are in the map you have got now) and the values string arrays. Then you can store the array that you get from `split()` directly as a value into your map (no need to copy the individual strings first unless you have special requirements you haven’t told us).\r\n\r\nPS A short way to print the map in this case would be using a lambda:\r\n\r\n        hmap.forEach((name, arr) -&gt; System.out.println(name + &#39;=&#39; + Arrays.toString(arr)));\r\n\r\n## What went wrong in your code?\r\n\r\n                 hmap.put(mapping[0], mapping[1]);\r\n\r\nIn this line you are storing a map entry where the name is key and the average is the value. The last entry (column) from the array, the date of birth, is not stored into the map.","title":"Not able to store string array in Hashmap object","body":"<p>By priority,</p>\n<ol>\n<li>Prefer to create a <code>Player</code> class and create a <code>HashMap&lt;String, Player&gt;</code> to hold all player information.</li>\n<li>Second best is to create a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>.</li>\n<li>If you insist of doing it the way you describe in the question, you need a <code>HashMap&lt;String, String[]&gt;</code>.</li>\n</ol>\n<h2>A Player class</h2>\n<p>Your <code>Player</code> class should have three fields (instance variables), a <code>String</code> for the name, a <code>double</code> (or a <code>float</code>) for the average and a <code>LocalDate</code> for the date of birth. You may provide it with a convenience constructor that accepts a line of input, splits it into the three values and throws an exception if the number of values isn’t three, then parses the average into a <code>double</code> and the date into a <code>LocalDate</code>. Also code a <code>toString</code> method so that you objects print in a recognizable way.</p>\n<p>Now store your <code>Player</code> object into a <code>HashMap&lt;String, Player&gt;</code>. Edit: For example after you have created the player object, do</p>\n<pre><code>    hmap.put(yourPlayer.getName(), yourPlayer);\n</code></pre>\n<p>(assuming your <code>Player</code> class defines a <code>getName</code> method that returns the name).</p>\n<h2>HashMap&lt;String, List&gt;</h2>\n<p>Mixing generic collections like <code>HashMap&lt;K, V&gt;</code> with arrays has some liabilities. So I suggest a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>. After splitting your input line into a <code>String</code> array, wrap it into a list with <code>Arrays.asList(line)</code> and store that list into your map.</p>\n<h2>If you insist: HashMap&lt;String, String[]&gt;</h2>\n<p>You may create a map where the keys are strings (as they are in the map you have got now) and the values string arrays. Then you can store the array that you get from <code>split()</code> directly as a value into your map (no need to copy the individual strings first unless you have special requirements you haven’t told us).</p>\n<p>PS A short way to print the map in this case would be using a lambda:</p>\n<pre><code>    hmap.forEach((name, arr) -&gt; System.out.println(name + '=' + Arrays.toString(arr)));\n</code></pre>\n<h2>What went wrong in your code?</h2>\n<pre><code>             hmap.put(mapping[0], mapping[1]);\n</code></pre>\n<p>In this line you are storing a map entry where the name is key and the average is the value. The last entry (column) from the array, the date of birth, is not stored into the map.</p>\n"}],"owner":{"account_id":19364161,"reputation":1,"user_id":14158843,"display_name":"Antony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1615200607,"accepted_answer_id":66518094,"answer_count":1,"score":-2,"last_activity_date":1695134926,"creation_date":1615115964,"question_id":66515896,"body_markdown":"I want to add the string array values to Hashmap. My data has 2 rows and 3 columns. \r\nHere is the code, average and date of birth record is not stored on the hashmap.\r\n```\r\npublic class Practice1 {\r\n\tpublic static void main(String[] args) throws ParseException\r\n\t{\r\n\t\t\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\t System.out.println(&quot;Enter the no. of players&quot;);\r\n\t\t int player=sc.nextInt();\r\n\t\t \r\n\t\t String[][] newArray = new String[player][3];\r\n\t\t System.out.println(&quot;enter the player_name, average,date_of_birth&quot;);\r\n\t\t\r\n\t         for (int i=0; i&lt;newArray.length; i++) {\r\n\t            String[] line = sc.next().trim().split(&quot;,&quot;);\r\n\t            for (int j=0; j&lt;line.length; j++) {\r\n\t            \tnewArray[i][j] = line[j];\r\n\t            }\r\n\t         }\r\n\t\t \r\n\t\t HashMap&lt;String, String&gt; hmap = new HashMap&lt;String,String&gt;();\r\n\t\t for (String[] mapping : newArray) {\r\n\t\t\t hmap.put(mapping[0], mapping[1]);\r\n\t       }\r\n\t \r\n\t       \r\n\t       System.out.println(Arrays.asList(hmap));\r\n\t   }\t  \t\t \r\n}\r\n```\r\n\r\nconsole output:\r\n\r\n```\r\nEnter the no. of players\r\n2\r\nenter the player_name, average,date_of_birth\r\nmax,50.2,1985-11-14\r\nwar,50.2,1986-10-27\r\n[{max=50.2, war=50.2}]\r\n```\r\n\r\n","title":"Not able to store string array in Hashmap object","body":"<p>I want to add the string array values to Hashmap. My data has 2 rows and 3 columns.\nHere is the code, average and date of birth record is not stored on the hashmap.</p>\n<pre><code>public class Practice1 {\n    public static void main(String[] args) throws ParseException\n    {\n        \n        Scanner sc=new Scanner(System.in);\n         System.out.println(&quot;Enter the no. of players&quot;);\n         int player=sc.nextInt();\n         \n         String[][] newArray = new String[player][3];\n         System.out.println(&quot;enter the player_name, average,date_of_birth&quot;);\n        \n             for (int i=0; i&lt;newArray.length; i++) {\n                String[] line = sc.next().trim().split(&quot;,&quot;);\n                for (int j=0; j&lt;line.length; j++) {\n                    newArray[i][j] = line[j];\n                }\n             }\n         \n         HashMap&lt;String, String&gt; hmap = new HashMap&lt;String,String&gt;();\n         for (String[] mapping : newArray) {\n             hmap.put(mapping[0], mapping[1]);\n           }\n     \n           \n           System.out.println(Arrays.asList(hmap));\n       }             \n}\n</code></pre>\n<p>console output:</p>\n<pre><code>Enter the no. of players\n2\nenter the player_name, average,date_of_birth\nmax,50.2,1985-11-14\nwar,50.2,1986-10-27\n[{max=50.2, war=50.2}]\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":28688261,"reputation":33,"user_id":21968069,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695134807,"creation_date":1695134807,"question_id":77135610,"body_markdown":"Deep inside a ViewPager2 I have a HorizontalScrollView that contains a TableLayout. The problem is that the ViewPager2 often doesn&#39;t respond to touches when I scroll to the end of the HorizontalScrollView. I&#39;d have to swipe multiple times in the same direction for the ViewPager2 to finally start detecting the swipes (sometimes it never even does). First here is the ViewPager2:\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/innerViewPager2&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/innerTabLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\nNext here is the HorizontalScrollView:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.main.ThreatMonitoring&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;4dp&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/cardBackgroundColor&quot;\r\n            app:cardCornerRadius=&quot;4dp&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/frontLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@color/cardBackgroundColor&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/loadingTableTextView&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_marginVertical=&quot;80sp&quot;\r\n                        android:text=&quot;@string/loading_table_data&quot; /&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:id=&quot;@+id/layoutContainingTable&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;\r\n                        android:visibility=&quot;gone&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;@string/most_recent_offenses&quot;\r\n                            android:paddingHorizontal=&quot;15dp&quot;\r\n                            android:layout_marginTop=&quot;15dp&quot;\r\n                            android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;\r\n                            android:textFontWeight=&quot;600&quot; /&gt;\r\n    \r\n                        &lt;HorizontalScrollView\r\n                            android:id=&quot;@+id/horizontalScrollView&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;0dp&quot;\r\n                            android:layout_weight=&quot;1&quot;&gt;\r\n    \r\n                            &lt;TableLayout\r\n                                android:id=&quot;@+id/topLogSourcesTableLayout&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:paddingHorizontal=&quot;15dp&quot;\r\n                                android:paddingBottom=&quot;15dp&quot;\r\n                                android:stretchColumns=&quot;0&quot;&gt;\r\n    \r\n                            &lt;/TableLayout&gt;\r\n    \r\n                        &lt;/HorizontalScrollView&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    \r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\nSo here&#39;s how it goes: *ViewPager2 (horizontal) &gt; NestedScrollView (vertical) &gt; Lots of Layouts &gt; HorizontalScrollView*","title":"How to make a HorizontalScrollView work properly when it&#39;s inside a ViewPager2?","body":"<p>Deep inside a ViewPager2 I have a HorizontalScrollView that contains a TableLayout. The problem is that the ViewPager2 often doesn't respond to touches when I scroll to the end of the HorizontalScrollView. I'd have to swipe multiple times in the same direction for the ViewPager2 to finally start detecting the swipes (sometimes it never even does). First here is the ViewPager2:</p>\n<pre><code>&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/innerViewPager2&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/innerTabLayout&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Next here is the HorizontalScrollView:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.main.ThreatMonitoring&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;4dp&quot;\n        android:elevation=&quot;4dp&quot;\n        app:cardBackgroundColor=&quot;@color/cardBackgroundColor&quot;\n        app:cardCornerRadius=&quot;4dp&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/frontLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@color/cardBackgroundColor&quot;\n                android:gravity=&quot;center&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/loadingTableTextView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_marginVertical=&quot;80sp&quot;\n                    android:text=&quot;@string/loading_table_data&quot; /&gt;\n\n                &lt;LinearLayout\n                    android:id=&quot;@+id/layoutContainingTable&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:visibility=&quot;gone&quot;&gt;\n\n                    &lt;TextView\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;@string/most_recent_offenses&quot;\n                        android:paddingHorizontal=&quot;15dp&quot;\n                        android:layout_marginTop=&quot;15dp&quot;\n                        android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;\n                        android:textFontWeight=&quot;600&quot; /&gt;\n\n                    &lt;HorizontalScrollView\n                        android:id=&quot;@+id/horizontalScrollView&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;0dp&quot;\n                        android:layout_weight=&quot;1&quot;&gt;\n\n                        &lt;TableLayout\n                            android:id=&quot;@+id/topLogSourcesTableLayout&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:paddingHorizontal=&quot;15dp&quot;\n                            android:paddingBottom=&quot;15dp&quot;\n                            android:stretchColumns=&quot;0&quot;&gt;\n\n                        &lt;/TableLayout&gt;\n\n                    &lt;/HorizontalScrollView&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>So here's how it goes: <em>ViewPager2 (horizontal) &gt; NestedScrollView (vertical) &gt; Lots of Layouts &gt; HorizontalScrollView</em></p>\n"},{"tags":["java","maven","compiler-specific"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1695133973,"post_id":77135488,"comment_id":135981555,"body_markdown":"It uses the compiler from a locally installed JDK","body":"It uses the compiler from a locally installed JDK"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1695133976,"post_id":77135488,"comment_id":135981556,"body_markdown":"Maven uses a Java compiler.  It is not a Java compiler.  It&#39;s a lifecycle and dependency management tool.","body":"Maven uses a Java compiler.  It is not a Java compiler.  It&#39;s a lifecycle and dependency management tool."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695134216,"creation_date":1695134216,"answer_id":77135529,"question_id":77135488,"body_markdown":"Maven does not have an embedded compiler. Maven requires that you set the `JAVA_HOME` environment variable which points to a JDK installation.","title":"Does Maven have a Java Compiler","body":"<p>Maven does not have an embedded compiler. Maven requires that you set the <code>JAVA_HOME</code> environment variable which points to a JDK installation.</p>\n"}],"owner":{"account_id":2099155,"reputation":515,"user_id":1867246,"accept_rate":25,"display_name":"Nora McDougall-Collins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77135529,"answer_count":1,"score":-1,"last_activity_date":1695134216,"creation_date":1695133879,"question_id":77135488,"body_markdown":"In the articles I&#39;ve read about Maven, I can&#39;t tell for sure whether Maven itself has a Java compiler or whether it relies on the compiler in JDK or both.","title":"Does Maven have a Java Compiler","body":"<p>In the articles I've read about Maven, I can't tell for sure whether Maven itself has a Java compiler or whether it relies on the compiler in JDK or both.</p>\n"},{"tags":["java","android","kotlin","sonarqube","sonarscanner"],"owner":{"account_id":14877831,"reputation":135,"user_id":10743408,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695134129,"creation_date":1695134129,"question_id":77135514,"body_markdown":"I am trying to run the sonar scanner but I am facing the Failure message as below with the exception as &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29&quot;\r\n\r\n        19:58:44.321 ERROR: Error during SonarScanner execution\r\n    java.lang.IllegalStateException: Unable to load component class org.sonar.plugins.javascript.JavaScriptSensor\r\n            at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:65)\r\n            at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:632)\r\n            at org.picocontainer.parameters.BasicComponentParameter$1.resolveInstance(BasicComponentParameter.java:118)\r\n            at org.picocontainer.parameters.ComponentParameter$1.resolveInstance(ComponentParameter.java:136)\r\n            at org.picocontainer.injectors.SingleMemberInjector.getParameter(SingleMemberInjector.java:78)\r\n            at org.picocontainer.injectors.ConstructorInjector$CtorAndAdapters.getParameterArguments(ConstructorInjector.java:309)\r\n            at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:335)\r\n            at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\r\n            at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\r\n            at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\r\n            at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\r\n            at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\r\n            at org.picocontainer.DefaultPicoContainer.getLocalInstance(DefaultPicoContainer.java:606)\r\n            at org.picocontainer.DefaultPicoContainer.getComponents(DefaultPicoContainer.java:587)\r\n            at org.sonar.core.platform.ComponentContainer.getComponentsByType(ComponentContainer.java:290)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.completeScannerExtensions(AbstractExtensionDictionnary.java:82)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getExtensions(AbstractExtensionDictionnary.java:77)\r\n            at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getFilteredExtensions(AbstractExtensionDictionnary.java:67)\r\n            at org.sonar.scanner.sensor.ModuleSensorExtensionDictionnary.selectSensors(ModuleSensorExtensionDictionnary.java:40)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$0(ModuleSensorsExecutor.java:52)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\r\n            at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:52)\r\n            at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:386)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:382)\r\n            at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:351)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\r\n            at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\r\n            at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\r\n            at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n            at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n            at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n            at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n            at jdk.proxy1/jdk.proxy1.$Proxy0.execute(Unknown Source)\r\n            at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n            at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n            at org.sonarsource.scanner.cli.Main.execute(Main.java:126)\r\n            at org.sonarsource.scanner.cli.Main.execute(Main.java:81)\r\n            at org.sonarsource.scanner.cli.Main.main(Main.java:62)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n            at com.sonar.sslr.api.typed.ActionParser.&lt;init&gt;(ActionParser.java:59)\r\n            at org.sonar.javascript.parser.JavaScriptParser.&lt;init&gt;(JavaScriptParser.java:33)\r\n            at org.sonar.javascript.parser.JavaScriptParserBuilder.createParser(JavaScriptParserBuilder.java:31)\r\n            at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:115)\r\n            at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:85)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n            at org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\r\n            at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\r\n            at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\r\n            at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\r\n            at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\r\n            at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\r\n            at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\r\n            at org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\r\n            at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\r\n            at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:63)\r\n            ... 46 more\r\n    Caused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\r\n            at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n            at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\r\n            at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n            at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n            at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n            at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n            at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\r\n            at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\r\n            at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n            at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n            at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n            at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n            ... 66 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.checkCanSetAccessible(Unknown Source)\r\n            at java.base/java.lang.reflect.Method.setAccessible(Unknown Source)\r\n            at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n            at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n            at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n            at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n            at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n            at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\r\n\r\nI am using the java version as JDK 17 and latest sonarquber version, i cant figure the issue , kindly help me on the issue \r\n","title":"Exception on sonar Qube run","body":"<p>I am trying to run the sonar scanner but I am facing the Failure message as below with the exception as &quot;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29&quot;</p>\n<pre><code>    19:58:44.321 ERROR: Error during SonarScanner execution\njava.lang.IllegalStateException: Unable to load component class org.sonar.plugins.javascript.JavaScriptSensor\n        at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:65)\n        at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:632)\n        at org.picocontainer.parameters.BasicComponentParameter$1.resolveInstance(BasicComponentParameter.java:118)\n        at org.picocontainer.parameters.ComponentParameter$1.resolveInstance(ComponentParameter.java:136)\n        at org.picocontainer.injectors.SingleMemberInjector.getParameter(SingleMemberInjector.java:78)\n        at org.picocontainer.injectors.ConstructorInjector$CtorAndAdapters.getParameterArguments(ConstructorInjector.java:309)\n        at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:335)\n        at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\n        at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\n        at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\n        at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\n        at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\n        at org.picocontainer.DefaultPicoContainer.getLocalInstance(DefaultPicoContainer.java:606)\n        at org.picocontainer.DefaultPicoContainer.getComponents(DefaultPicoContainer.java:587)\n        at org.sonar.core.platform.ComponentContainer.getComponentsByType(ComponentContainer.java:290)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.completeScannerExtensions(AbstractExtensionDictionnary.java:82)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getExtensions(AbstractExtensionDictionnary.java:77)\n        at org.sonar.scanner.bootstrap.AbstractExtensionDictionnary.getFilteredExtensions(AbstractExtensionDictionnary.java:67)\n        at org.sonar.scanner.sensor.ModuleSensorExtensionDictionnary.selectSensors(ModuleSensorExtensionDictionnary.java:40)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$0(ModuleSensorsExecutor.java:52)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\n        at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:52)\n        at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:386)\n        at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:382)\n        at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:351)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:141)\n        at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:136)\n        at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:122)\n        at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n        at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n        at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n        at jdk.proxy1/jdk.proxy1.$Proxy0.execute(Unknown Source)\n        at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n        at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n        at org.sonarsource.scanner.cli.Main.execute(Main.java:126)\n        at org.sonarsource.scanner.cli.Main.execute(Main.java:81)\n        at org.sonarsource.scanner.cli.Main.main(Main.java:62)\nCaused by: java.lang.ExceptionInInitializerError\n        at com.sonar.sslr.api.typed.ActionParser.&lt;init&gt;(ActionParser.java:59)\n        at org.sonar.javascript.parser.JavaScriptParser.&lt;init&gt;(JavaScriptParser.java:33)\n        at org.sonar.javascript.parser.JavaScriptParserBuilder.createParser(JavaScriptParserBuilder.java:31)\n        at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:115)\n        at org.sonar.plugins.javascript.JavaScriptSensor.&lt;init&gt;(JavaScriptSensor.java:85)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\n        at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\n        at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\n        at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\n        at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\n        at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\n        at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\n        at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\n        at org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\n        at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\n        at org.sonar.core.platform.ComponentContainer$ExtendedDefaultPicoContainer.getComponent(ComponentContainer.java:63)\n        ... 46 more\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\n        at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n        at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91)\n        at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n        at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n        at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n        at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n        at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116)\n        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291)\n        at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n        at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n        at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n        at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n        ... 66 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4f668f29\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Unknown Source)\n        at java.base/java.lang.reflect.Method.setAccessible(Unknown Source)\n        at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n        at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n        at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n        at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n        at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n        at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:329)\n</code></pre>\n<p>I am using the java version as JDK 17 and latest sonarquber version, i cant figure the issue , kindly help me on the issue</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694727199,"post_id":77107039,"comment_id":135933245,"body_markdown":"Maven does not default to put your dependencies in the JAR. Please try again with shade or assembly maven plugins, not the default JAR plugin.","body":"Maven does not default to put your dependencies in the JAR. Please try again with shade or assembly maven plugins, not the default JAR plugin."}],"answers":[{"tags":[],"owner":{"account_id":5448964,"reputation":95,"user_id":4334448,"display_name":"Flaviu Cicio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695133899,"creation_date":1695133899,"answer_id":77135493,"question_id":77107039,"body_markdown":"I analyzed your pom.xml file and noticed that the scope of multiple dependencies is set to `provided`. This means that you&#39;re expected to load them manually.\r\n\r\nBy removing the scope or by changing it to `compile` it will retrieve the dependencies and load them automatically.\r\n\r\nMake sure you run `mvn clean install` before attempting to run `StrokeRiskAlarm`.","title":"Flink Job ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource","body":"<p>I analyzed your pom.xml file and noticed that the scope of multiple dependencies is set to <code>provided</code>. This means that you're expected to load them manually.</p>\n<p>By removing the scope or by changing it to <code>compile</code> it will retrieve the dependencies and load them automatically.</p>\n<p>Make sure you run <code>mvn clean install</code> before attempting to run <code>StrokeRiskAlarm</code>.</p>\n"}],"owner":{"account_id":24386325,"reputation":329,"user_id":18317047,"display_name":"Ishaan Adarsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695133899,"creation_date":1694710713,"question_id":77107039,"body_markdown":"\r\nI&#39;m trying to run a Flink job using Apache Flink version 1.16.2, and I&#39;m encountering the following error when executing my job using `./bin/flink run /Users/spartacus/icu-alarm/target/flink-kafka-stroke-risk-1.0-SNAPSHOT.jar`:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/flink/connector/kafka/source/KafkaSource\r\n\tat hes.cs63.CEPMonitor.StrokeRiskAlarm.main(StrokeRiskAlarm.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355)\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222)\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98)\r\n\tat org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:843)\r\n\tat org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:240)\r\n\tat org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1087)\r\n\tat org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1165)\r\n\tat org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\r\n\tat org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1165)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:67)\r\n\tat org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:65)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:51)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n```\r\n\r\nI believe this error is related to missing dependencies or a classpath issue. Here&#39;s the relevant part of my code that sets up Kafka as a source:\r\n\r\n```java\r\n// KafkaSource setup\r\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n    .setBootstrapServers(&quot;localhost:9092&quot;)\r\n    .setGroupId(&quot;stroke-risk-group&quot;)\r\n    .setTopics(Arrays.asList(&quot;patient-data-topic&quot;))\r\n    .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\r\n    .setValueOnlyDeserializer(new SimpleStringSchema())\r\n    .build();\r\n\r\nDataStreamSource&lt;String&gt; patientData = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\r\n```\r\n\r\nI have already included the necessary Flink dependencies in my project, and I&#39;m using Maven to build it. However, I&#39;m still encountering this issue. What could be causing this error, and how can I resolve it?\r\n\r\nCode -&gt; https://github.com/IshaanAdarsh/icu-alarm\r\n\r\n**Additional Information:**\r\n- Flink version: 1.16.2\r\n- Java version: 11\r\n- IDE used: IntelliJ IDEA","title":"Flink Job ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource","body":"<p>I'm trying to run a Flink job using Apache Flink version 1.16.2, and I'm encountering the following error when executing my job using <code>./bin/flink run /Users/spartacus/icu-alarm/target/flink-kafka-stroke-risk-1.0-SNAPSHOT.jar</code>:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/flink/connector/kafka/source/KafkaSource\n    at hes.cs63.CEPMonitor.StrokeRiskAlarm.main(StrokeRiskAlarm.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98)\n    at org.apache.flink.client.cli.CliFrontend.executeProgram(CliFrontend.java:843)\n    at org.apache.flink.client.cli.CliFrontend.run(CliFrontend.java:240)\n    at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1087)\n    at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1165)\n    at org.apache.flink.runtime.security.contexts.NoOpSecurityContext.runSecured(NoOpSecurityContext.java:28)\n    at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1165)\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.connector.kafka.source.KafkaSource\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:67)\n    at org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:65)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:51)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 14 more\n</code></pre>\n<p>I believe this error is related to missing dependencies or a classpath issue. Here's the relevant part of my code that sets up Kafka as a source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// KafkaSource setup\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n    .setBootstrapServers(&quot;localhost:9092&quot;)\n    .setGroupId(&quot;stroke-risk-group&quot;)\n    .setTopics(Arrays.asList(&quot;patient-data-topic&quot;))\n    .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\n    .setValueOnlyDeserializer(new SimpleStringSchema())\n    .build();\n\nDataStreamSource&lt;String&gt; patientData = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\n</code></pre>\n<p>I have already included the necessary Flink dependencies in my project, and I'm using Maven to build it. However, I'm still encountering this issue. What could be causing this error, and how can I resolve it?</p>\n<p>Code -&gt; <a href=\"https://github.com/IshaanAdarsh/icu-alarm\" rel=\"nofollow noreferrer\">https://github.com/IshaanAdarsh/icu-alarm</a></p>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li>Flink version: 1.16.2</li>\n<li>Java version: 11</li>\n<li>IDE used: IntelliJ IDEA</li>\n</ul>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1574395157,"post_id":58987074,"comment_id":104226523,"body_markdown":"This could be because of some other process is using that jar.","body":"This could be because of some other process is using that jar."}],"answers":[{"comments":[{"owner":{"account_id":16639096,"reputation":1,"user_id":12025089,"display_name":"Chuan Super"},"score":0,"creation_date":1574394975,"post_id":58987091,"comment_id":104226478,"body_markdown":"Thanks , but it can not work well. may I should use linux","body":"Thanks , but it can not work well. may I should use linux"},{"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"score":0,"creation_date":1574396789,"post_id":58987091,"comment_id":104226862,"body_markdown":"mvn command has nothing to do with linux, it will work in both operating systems. When you say it can not work well, what does it mean ?","body":"mvn command has nothing to do with linux, it will work in both operating systems. When you say it can not work well, what does it mean ?"},{"owner":{"account_id":16639096,"reputation":1,"user_id":12025089,"display_name":"Chuan Super"},"score":0,"creation_date":1574397931,"post_id":58987091,"comment_id":104227140,"body_markdown":"Still the problem I said before,  `Unable to rename` the jar package","body":"Still the problem I said before,  <code>Unable to rename</code> the jar package"},{"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"score":0,"creation_date":1574398656,"post_id":58987091,"comment_id":104227311,"body_markdown":"seems like you have setup problem, try cleaning the workspace","body":"seems like you have setup problem, try cleaning the workspace"}],"tags":[],"owner":{"account_id":5035030,"reputation":281,"user_id":5342852,"display_name":"Shankar Saran Singh"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574393603,"creation_date":1574393603,"answer_id":58987091,"question_id":58987074,"body_markdown":"Try using \r\n\r\n&gt; mvn clean package\r\n\r\n or \r\n\r\n&gt; mvn clean install\r\n\r\n\r\nUsing clean along with package or install will clear the target directory so the same jar won&#39;t overlap at the destination.\r\n\r\npackage will compile your code and also package it. For example, if your pom says the project is a jar, it will create a jar for you when you package it and put it somewhere in the target directory (by default).\r\n\r\ninstall will compile and package, but it will also put the package in your local repository. This will make it so other projects can refer to it and grab it from your local repository.","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>Try using </p>\n\n<blockquote>\n  <p>mvn clean package</p>\n</blockquote>\n\n<p>or </p>\n\n<blockquote>\n  <p>mvn clean install</p>\n</blockquote>\n\n<p>Using clean along with package or install will clear the target directory so the same jar won't overlap at the destination.</p>\n\n<p>package will compile your code and also package it. For example, if your pom says the project is a jar, it will create a jar for you when you package it and put it somewhere in the target directory (by default).</p>\n\n<p>install will compile and package, but it will also put the package in your local repository. This will make it so other projects can refer to it and grab it from your local repository.</p>\n"},{"tags":[],"owner":{"account_id":20745576,"reputation":11,"user_id":15234241,"display_name":"Ketan Dad"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620217064,"creation_date":1620217064,"answer_id":67401142,"question_id":58987074,"body_markdown":"I my case cmd was open with target folder\r\n","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I my case cmd was open with target folder</p>\n"},{"tags":[],"owner":{"account_id":25897925,"reputation":1,"user_id":19624261,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695133890,"creation_date":1695133890,"answer_id":77135490,"question_id":58987074,"body_markdown":"I had this issue recently. Easy fix.\r\n\r\nIn my case, I was trying to run `mvn package` and didn&#39;t realise that the application I was trying to package was already running in debug mode. Just figure out which application is using the .jar file and cut it.","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I had this issue recently. Easy fix.</p>\n<p>In my case, I was trying to run <code>mvn package</code> and didn't realise that the application I was trying to package was already running in debug mode. Just figure out which application is using the .jar file and cut it.</p>\n"}],"owner":{"account_id":16639096,"reputation":1,"user_id":12025089,"display_name":"Chuan Super"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695133890,"creation_date":1574393459,"question_id":58987074,"body_markdown":"I use command:  `mvn package` to package my project, and the pom.xml as follows:\r\n```\r\n&lt;build&gt;\r\n        &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass/&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nbut it&#39;s faild because of ` Execution default of goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename &#39;D:\\Code\\analysis\\server\\target\\access_server-2.0.0.RELEASE.jar&#39; to &#39;\r\nD:\\Code\\nalysis\\server\\target\\access_server-2.0.0.RELEASE.jar.original&#39;\r\n`\r\n\r\nthis exception occurs on windows 10, but it&#39;s ok on centos 7.\r\n\r\n**counld any one help me solve this problem**","title":"spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename","body":"<p>I use command:  <code>mvn package</code> to package my project, and the pom.xml as follows:</p>\n\n<pre><code>&lt;build&gt;\n        &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass/&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>but it's faild because of <code>Execution default of goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.RELEASE:repackage failed: Unable to rename 'D:\\Code\\analysis\\server\\target\\access_server-2.0.0.RELEASE.jar' to '\nD:\\Code\\nalysis\\server\\target\\access_server-2.0.0.RELEASE.jar.original'\n</code></p>\n\n<p>this exception occurs on windows 10, but it's ok on centos 7.</p>\n\n<p><strong>counld any one help me solve this problem</strong></p>\n"},{"tags":["java","charts","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1695103453,"post_id":77131316,"comment_id":135975481,"body_markdown":"The `CreatePowerPointXDDFChart.pptx` created by code above opens properly using up to `Microsoft Office 2021`. Will check what problem `Microsoft Office 365` actual has.","body":"The <code>CreatePowerPointXDDFChart.pptx</code> created by code above opens properly using up to <code>Microsoft Office 2021</code>. Will check what problem <code>Microsoft Office 365</code> actual has."},{"owner":{"account_id":11199129,"reputation":33,"user_id":8216824,"display_name":"praavi"},"score":0,"creation_date":1695107752,"post_id":77131316,"comment_id":135976205,"body_markdown":"Okay, thank you","body":"Okay, thank you"}],"answers":[{"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1699447698,"post_id":77135432,"comment_id":136532019,"body_markdown":"I put a change in POI code that will be part of POI 5.2.5 (should be released in a few weeks) - the main change is https://svn.apache.org/viewvc?view=rev&amp;rev=1913672","body":"I put a change in POI code that will be part of POI 5.2.5 (should be released in a few weeks) - the main change is <a href=\"https://svn.apache.org/viewvc?view=rev&amp;rev=1913672\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc?view=rev&amp;rev=1913672</a>"},{"owner":{"account_id":5916283,"reputation":61,"user_id":4655006,"display_name":"Manjula Piyumal"},"score":0,"creation_date":1700709968,"post_id":77135432,"comment_id":136688704,"body_markdown":"@PJFanning as per your above fix, it seems like the work around suggested by Alex Richter will still work with your fix as well. Could you please confirm on this? Since POI 5.2.5 is not available yet, I&#39;m planning to use the workaround now (don&#39;t want it to break after POI upgrade to 5.2.5 down the line)","body":"@PJFanning as per your above fix, it seems like the work around suggested by Alex Richter will still work with your fix as well. Could you please confirm on this? Since POI 5.2.5 is not available yet, I&#39;m planning to use the workaround now (don&#39;t want it to break after POI upgrade to 5.2.5 down the line)"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1700814725,"post_id":77135432,"comment_id":136701681,"body_markdown":"setting the numberFormat explicitly will still work","body":"setting the numberFormat explicitly will still work"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1695133874,"creation_date":1695133445,"answer_id":77135432,"question_id":77131316,"body_markdown":"Found the problem.\r\n\r\nThe `CreatePowerPointXDDFChart.pptx` created by code above opens properly using up to Microsoft Office 2021. And it opens properly using Microsoft Office 365 when created using Apache POI up to version 4.1.0.\r\n\r\nThe problem is that Apache POI from version 4.1.2 decided to set number format settings to the category axis per default. But it sets an empty string as the number format code. Microsoft Office up to version 2021 is tolerant enough to ignore that empty string number format. Microsoft Office 365 is not as tolerant.\r\n\r\nNot clear why, of all things, the category axis has that setting by default. The value axis has not.\r\n\r\nBut to make it work again, one must repair that incorrect number format setting.\r\n\r\nIn code above `bottomAxis` is the category axis. That is text and not numbers. So the number format should be `@`, which is text. The `leftAxis` is a value axis. This could have number format `#,##0.00` if set.\r\n\r\nSo changes to code above:\r\n\r\n    ...\r\n       //repair axes number format settings\r\n       if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\r\n       if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\r\n    ...\r\n\r\n","title":"create a chart in a powerpoint using APACHE POI and Java from scratch","body":"<p>Found the problem.</p>\n<p>The <code>CreatePowerPointXDDFChart.pptx</code> created by code above opens properly using up to Microsoft Office 2021. And it opens properly using Microsoft Office 365 when created using Apache POI up to version 4.1.0.</p>\n<p>The problem is that Apache POI from version 4.1.2 decided to set number format settings to the category axis per default. But it sets an empty string as the number format code. Microsoft Office up to version 2021 is tolerant enough to ignore that empty string number format. Microsoft Office 365 is not as tolerant.</p>\n<p>Not clear why, of all things, the category axis has that setting by default. The value axis has not.</p>\n<p>But to make it work again, one must repair that incorrect number format setting.</p>\n<p>In code above <code>bottomAxis</code> is the category axis. That is text and not numbers. So the number format should be <code>@</code>, which is text. The <code>leftAxis</code> is a value axis. This could have number format <code>#,##0.00</code> if set.</p>\n<p>So changes to code above:</p>\n<pre><code>...\n   //repair axes number format settings\n   if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\n   if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\n...\n</code></pre>\n"}],"owner":{"account_id":11199129,"reputation":33,"user_id":8216824,"display_name":"praavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77135432,"answer_count":1,"score":1,"last_activity_date":1695133874,"creation_date":1695089368,"question_id":77131316,"body_markdown":"I tried to create a chart using the code from the following post. \r\n[https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi](https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi)\r\n\r\nThe PPT file is created, but when I access it, I receive a window requesting me to repair it.\r\nCan somebody help me understand what&#39;s going on here?\r\n\r\nbelow is the code for reference:\r\n\r\n```\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.xslf.usermodel.*;\r\nimport org.apache.poi.util.Units;\r\nimport org.apache.poi.xddf.usermodel.*;\r\nimport org.apache.poi.xddf.usermodel.chart.*;\r\n\r\nimport java.awt.Rectangle;\r\n\r\npublic class CreatePowerPointXDDFChart {\r\n    \r\n public static void main(String[] args) throws Exception {\r\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\r\n   \r\n   // create a new empty slide\r\n   XSLFSlide slide = slideShow.createSlide();\r\n   \r\n   // create chart\r\n   XSLFChart chart = slideShow.createChart();\r\n   chart.setTitleText(&quot;Test Chart&quot;);\r\n   \r\n   // set axis\r\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n\r\n   // define chart data for bar chart\r\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n\r\n   // add chart categories (x-axis data)\r\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\r\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\r\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\r\n\r\n   // add chart values (y-axis data)\r\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\r\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\r\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\r\n   XDDFBarChartData bar = (XDDFBarChartData) data;\r\n   bar.setBarDirection(BarDirection.BAR);\r\n\r\n   // add series\r\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\r\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\r\n   \r\n   // plot chart\r\n   chart.plot(data);\r\n\r\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\r\n   Rectangle chartDimensions = new Rectangle(\r\n    100*Units.EMU_PER_POINT, \r\n    50*Units.EMU_PER_POINT, \r\n    400*Units.EMU_PER_POINT, \r\n    400*Units.EMU_PER_POINT);\r\n   // add chart to slide\r\n   slide.addChart(chart, chartDimensions);\r\n\r\n   // Write the output to a file\r\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\r\n    slideShow.write(fileOut);\r\n   }\r\n  }\r\n }\r\n\r\n}\r\n```\r\n\r\n\r\nI am not sure what to do here. @Axel Richter can you please help on this.","title":"create a chart in a powerpoint using APACHE POI and Java from scratch","body":"<p>I tried to create a chart using the code from the following post.\n<a href=\"https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi\">java create a chart in a powerpoint using APACHE POI</a></p>\n<p>The PPT file is created, but when I access it, I receive a window requesting me to repair it.\nCan somebody help me understand what's going on here?</p>\n<p>below is the code for reference:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\n\nimport java.awt.Rectangle;\n\npublic class CreatePowerPointXDDFChart {\n    \n public static void main(String[] args) throws Exception {\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\n   \n   // create a new empty slide\n   XSLFSlide slide = slideShow.createSlide();\n   \n   // create chart\n   XSLFChart chart = slideShow.createChart();\n   chart.setTitleText(&quot;Test Chart&quot;);\n   \n   // set axis\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n   // define chart data for bar chart\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n\n   // add chart categories (x-axis data)\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\n\n   // add chart values (y-axis data)\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\n   XDDFBarChartData bar = (XDDFBarChartData) data;\n   bar.setBarDirection(BarDirection.BAR);\n\n   // add series\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\n   \n   // plot chart\n   chart.plot(data);\n\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\n   Rectangle chartDimensions = new Rectangle(\n    100*Units.EMU_PER_POINT, \n    50*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT);\n   // add chart to slide\n   slide.addChart(chart, chartDimensions);\n\n   // Write the output to a file\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\n    slideShow.write(fileOut);\n   }\n  }\n }\n\n}\n</code></pre>\n<p>I am not sure what to do here. @Axel Richter can you please help on this.</p>\n"},{"tags":["java","charts","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":3927597,"reputation":215,"user_id":3247376,"accept_rate":50,"display_name":"user3247376"},"score":0,"creation_date":1501496406,"post_id":45374730,"comment_id":77786787,"body_markdown":"Thanks a ton!!. This does work and allows you to create a chart from scratch. No forum had a working code like this. Also can you let me know if its possible to embed a pdf in a slide similary. Any reference you have for the same?\nThankyou once again\nAlso any documentation that helpos us to understand the low level structure of pptx?","body":"Thanks a ton!!. This does work and allows you to create a chart from scratch. No forum had a working code like this. Also can you let me know if its possible to embed a pdf in a slide similary. Any reference you have for the same? Thankyou once again Also any documentation that helpos us to understand the low level structure of pptx?"},{"owner":{"account_id":3927597,"reputation":215,"user_id":3247376,"accept_rate":50,"display_name":"user3247376"},"score":0,"creation_date":1501583280,"post_id":45374730,"comment_id":77831326,"body_markdown":"For the above code for the generated charts I am not able to link/edit the excel to it when I double click it. @Axel Richter any pointers on how to we see the attach the excel to the chart data","body":"For the above code for the generated charts I am not able to link/edit the excel to it when I double click it. @Axel Richter any pointers on how to we see the attach the excel to the chart data"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1501594218,"post_id":45374730,"comment_id":77839408,"body_markdown":"@user3247376: The code provides only the cached values for the chart. But `PowerPoint 2016` as well as `Libreoffice Impress` is able to create a data table if `Edit Data` is clicked. But of course `PowerPoint 2007` will not do this. But providing a embedded `XSSFWorkbook` as data table is also possible. See my supplement.","body":"@user3247376: The code provides only the cached values for the chart. But <code>PowerPoint 2016</code> as well as <code>Libreoffice Impress</code> is able to create a data table if <code>Edit Data</code> is clicked. But of course <code>PowerPoint 2007</code> will not do this. But providing a embedded <code>XSSFWorkbook</code> as data table is also possible. See my supplement."},{"owner":{"account_id":3927597,"reputation":215,"user_id":3247376,"accept_rate":50,"display_name":"user3247376"},"score":0,"creation_date":1501652865,"post_id":45374730,"comment_id":77865684,"body_markdown":"Thanks Axel, I will look into the code and try it out. Meanwhile can you let me know if its possible to embed a pdf inside a slide while generating it?","body":"Thanks Axel, I will look into the code and try it out. Meanwhile can you let me know if its possible to embed a pdf inside a slide while generating it?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1501654105,"post_id":45374730,"comment_id":77866278,"body_markdown":"@user3247376: Embedding a `PDF` will be done using [OLE](https://en.wikipedia.org/wiki/Object_Linking_and_Embedding). For this in Office OpenXML there in the \\ppt\\embeddings\\ will be a `oleObject1.bin` which contains both, the data of the `PDF` and the system call to open the `PDF`. I don&#39;t know how to create this binary file. So no, I don&#39;t know how to embed a `PDF`.","body":"@user3247376: Embedding a <code>PDF</code> will be done using <a href=\"https://en.wikipedia.org/wiki/Object_Linking_and_Embedding\" rel=\"nofollow noreferrer\">OLE</a>. For this in Office OpenXML there in the \\ppt\\embeddings\\ will be a <code>oleObject1.bin</code> which contains both, the data of the <code>PDF</code> and the system call to open the <code>PDF</code>. I don&#39;t know how to create this binary file. So no, I don&#39;t know how to embed a <code>PDF</code>."},{"owner":{"account_id":1016874,"reputation":121,"user_id":1028254,"display_name":"dipan66"},"score":0,"creation_date":1508849529,"post_id":45374730,"comment_id":80768831,"body_markdown":"Perfect solution. So happy to see that the work we did to create bar-line combination charts in XL can be ported as-is to PPT ! Great solution Axel","body":"Perfect solution. So happy to see that the work we did to create bar-line combination charts in XL can be ported as-is to PPT ! Great solution Axel"},{"owner":{"account_id":1328868,"reputation":4290,"user_id":1273161,"accept_rate":33,"display_name":"BMH"},"score":0,"creation_date":1548753233,"post_id":45374730,"comment_id":95644694,"body_markdown":"Which version of poi are you using for this example?","body":"Which version of poi are you using for this example?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1548753631,"post_id":45374730,"comment_id":95644933,"body_markdown":"@BMH: Must had been version 3.16 according to the date of the answer. Will try this evening (Germany) whether it runs in current version 4.0.1 too and probably update my answer if not.","body":"@BMH: Must had been version 3.16 according to the date of the answer. Will try this evening (Germany) whether it runs in current version 4.0.1 too and probably update my answer if not."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1548779728,"post_id":45374730,"comment_id":95661481,"body_markdown":"@BMH: done. Changing the imports a little bit makes it work using current `apache poi 4.0.1`.","body":"@BMH: done. Changing the imports a little bit makes it work using current <code>apache poi 4.0.1</code>."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":9,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1695133834,"creation_date":1501248318,"answer_id":45374730,"question_id":45373942,"body_markdown":"There is nothing like a `XSLFChartShape` usable in a powerpoint slide in `apache poi` until now.  \r\n\r\nBut of course if one knows the internal structure of the `*.pptx` `ZIP` archive and the `XML` therein, then it is possible creating this from scratch using the `apache poi` `OPCPackage` classes and the low level `CT*` classes from `org.openxmlformats.schemas.drawingml.x2006.*` and `org.openxmlformats.schemas.presentationml.x2006.*`.\r\n\r\nFollowing code is doing this and creates a slide having a pie chart and a bar chart.\r\n\r\nThis is a draft only to show the approach.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.*;\r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.util.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.*;\r\n    import org.openxmlformats.schemas.drawingml.x2006.main.*;\r\n    import org.openxmlformats.schemas.presentationml.x2006.main.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.util.regex.Pattern;\r\n    \r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePPTXCharts {\r\n    \r\n     public CreatePPTXCharts() throws Exception {\r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n      XSLFSlide slide = slideShow.createSlide();\r\n    \r\n      MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\r\n    \r\n      drawPieChart(myXSLFChartShape);\r\n    \r\n      myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\r\n    \r\n      drawBarChart(myXSLFChartShape);\r\n    \r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreatePPTXCharts.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    \r\n     //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\r\n     //and creating a MyXSLFChartShape as slide shape  \r\n     public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\r\n    \r\n      OPCPackage oPCPackage = slide.getSlideShow().getPackage();\r\n      int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\r\n    \r\n      MyXSLFChart myXSLFChart = new MyXSLFChart(part);\r\n      MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\r\n    \r\n      return myXSLFChartShape;\r\n    \r\n     }\r\n    \r\n     public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\r\n      cTPieChart.addNewVaryColors().setVal(true);\r\n      CTPieSer cTPieSer = cTPieChart.addNewSer();\r\n      cTPieSer.addNewIdx().setVal(0);\r\n      CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\r\n      cTStrRef.setF(&quot;Label 0&quot;);\r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n      CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n      cTStrVal.setIdx(0);\r\n      cTStrVal.setV(&quot;Val&quot;);\r\n    \r\n      cTStrRef = cTPieSer.addNewCat().addNewStrRef();\r\n      cTStrRef.setF(&quot;Categories&quot;);\r\n      \r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(r-1);\r\n       cTStrVal.setV(&quot;Cat&quot; + r);\r\n      }\r\n    \r\n      CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\r\n      cTNumRef.setF(&quot;0&quot;);\r\n    \r\n      cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n       cTNumVal.setIdx(r-1);\r\n       cTNumVal.setV(&quot;&quot; + (10*r));\r\n      }\r\n    \r\n     }\r\n    \r\n     public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTChart cTChart = chartSpace.addNewChart();\r\n      CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\r\n      CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\r\n      cTBarChart.addNewVaryColors().setVal(true);\r\n      cTBarChart.addNewBarDir().setVal(STBarDir.COL);\r\n    \r\n      for (int r = 1; r &lt; 5; r++) {\r\n       CTBarSer cTBarSer = cTBarChart.addNewSer();\r\n       CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\r\n       cTStrRef.setF(&quot;Label &quot; + r);\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n       CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(0);\r\n       cTStrVal.setV(&quot;Val&quot; + r);\r\n    \r\n       cTBarSer.addNewIdx().setVal(r-1);  \r\n       cTStrRef = cTBarSer.addNewCat().addNewStrRef();\r\n       cTStrRef.setF(&quot;Categories&quot;);\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n        cTStrVal.setIdx(c-1);\r\n        cTStrVal.setV(&quot;Cat&quot; + c);\r\n       }\r\n    \r\n       CTNumRef cTNumRef = cTBarSer.addNewVal().addNewNumRef();\r\n       cTNumRef.setF(&quot;&quot; + r);\r\n       cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n        cTNumVal.setIdx(c-1);\r\n        cTNumVal.setV(&quot;&quot; + ((10+r)*c));\r\n       }\r\n      } \r\n    \r\n      //telling the BarChart that it has axes and giving them Ids\r\n      cTBarChart.addNewAxId().setVal(123456);\r\n      cTBarChart.addNewAxId().setVal(123457);\r\n    \r\n      //cat axis\r\n      CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \r\n      cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\r\n      CTScaling cTScaling = cTCatAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTCatAx.addNewDelete().setVal(false);\r\n      cTCatAx.addNewAxPos().setVal(STAxPos.B);\r\n      cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\r\n      cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //val axis\r\n      CTValAx cTValAx = cTPlotArea.addNewValAx(); \r\n      cTValAx.addNewAxId().setVal(123457); //id of the val axis\r\n      cTScaling = cTValAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTValAx.addNewDelete().setVal(false);\r\n      cTValAx.addNewAxPos().setVal(STAxPos.L);\r\n      cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\r\n      cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //legend\r\n      CTLegend cTLegend = cTChart.addNewLegend();\r\n      cTLegend.addNewLegendPos().setVal(STLegendPos.B);\r\n      cTLegend.addNewOverlay().setVal(false);\r\n    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      CreatePPTXCharts createPPTXCharts = new CreatePPTXCharts();\r\n     }\r\n    \r\n    //________________________________________________________________________\r\n    \r\n    \r\n     //a class for providing a MyXSLFChartShape\r\n     private class MyXSLFChartShape {\r\n      private CTGraphicalObjectFrame _graphicalObjectFrame;\r\n      private XSLFSlide slide;\r\n      private MyXSLFChart myXSLFChart;\r\n    \r\n      MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\r\n    \r\n       String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\r\n       slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\r\n    \r\n       long cNvPrId = 1;\r\n       String cNvPrName = &quot;MyChart&quot;;\r\n       int cNvPrNameCount = 1;\r\n       for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\r\n        if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\r\n         if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\r\n          cNvPrId++;\r\n          if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\r\n           cNvPrNameCount++;\r\n          }\r\n         }\r\n        }\r\n       }\r\n    \r\n       CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\r\n       CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewNvPr();\r\n    \r\n       CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\r\n       cTNonVisualDrawingProps.setId(cNvPrId);\r\n       cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\r\n    \r\n       CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\r\n       CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\r\n         &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\r\n        +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\r\n        +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\r\n       );\r\n       graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\r\n       graphicalObject.setGraphicData(graphicalObjectData);\r\n    \r\n       _graphicalObjectFrame = graphicalObjectFrame;\r\n       this.slide = slide;\r\n       this.myXSLFChart = myXSLFChart;\r\n    \r\n       this.setAnchor(new Rectangle());\r\n      }\r\n    \r\n      private void setAnchor(Rectangle2D anchor) {\r\n       CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\r\n       CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\r\n       long x = Units.toEMU(anchor.getX());\r\n       long y = Units.toEMU(anchor.getY());\r\n       off.setX(x);\r\n       off.setY(y);\r\n       CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\r\n       long cx = Units.toEMU(anchor.getWidth());\r\n       long cy = Units.toEMU(anchor.getHeight());\r\n       ext.setCx(cx);\r\n       ext.setCy(cy);\r\n      }\r\n    \r\n      private MyXSLFChart getMyXSLFChart() {\r\n       return myXSLFChart;\r\n      }\r\n    \r\n     }\r\n    \r\n     //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \r\n     private class MyXSLFChart extends POIXMLDocumentPart {\r\n    \r\n      private CTChartSpace chartSpace;\r\n    \r\n      private MyXSLFChart(PackagePart part) throws Exception {\r\n       super(part);\r\n       chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\r\n      }\r\n    \r\n      private CTChartSpace getChartSpace() {\r\n       return chartSpace;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       chartSpace.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n    \r\n    }\r\n\r\n\r\nCode which is producing the same but having `XSSFWorkbook`s as data tables.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.*;\r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.util.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.openxmlformats.schemas.drawingml.x2006.chart.*;\r\n    import org.openxmlformats.schemas.drawingml.x2006.main.*;\r\n    import org.openxmlformats.schemas.presentationml.x2006.main.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePPTXChartsXSSFWb {\r\n    \r\n     public CreatePPTXChartsXSSFWb() throws Exception {\r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n      XSLFSlide slide = slideShow.createSlide();\r\n    \r\n      MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\r\n    \r\n      drawPieChart(myXSLFChartShape);\r\n    \r\n      myXSLFChartShape = createXSLFChart(slide);\r\n      myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\r\n    \r\n      drawBarChart(myXSLFChartShape);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreatePPTXChartsXSSFWb.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    \r\n     //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\r\n     //and creating a MyXSLFChartShape as slide shape  \r\n     public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\r\n    \r\n      OPCPackage oPCPackage = slide.getSlideShow().getPackage();\r\n      int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\r\n    \r\n      MyXSLFChart myXSLFChart = new MyXSLFChart(part);\r\n      MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\r\n    \r\n      return myXSLFChartShape;\r\n     }\r\n    \r\n     public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\r\n      XSSFSheet sheet = workbook.getSheetAt(0);\r\n      sheet.createRow(0).createCell(0).setCellValue(&quot;Cat&quot;);\r\n      sheet.getRow(0).createCell(1).setCellValue(&quot;Val&quot;);\r\n      for (int r = 1; r &lt; 4; r++) {\r\n       sheet.createRow(r).createCell(0).setCellValue(&quot;Cat&quot; + r);\r\n       sheet.getRow(r).createCell(1).setCellValue(10*r);\r\n      }\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\r\n      cTPieChart.addNewVaryColors().setVal(true);\r\n      CTPieSer cTPieSer = cTPieChart.addNewSer();\r\n      cTPieSer.addNewIdx().setVal(0);\r\n      CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\r\n      cTStrRef.setF(&quot;Sheet0!$B$1&quot;);\r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n      CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n      cTStrVal.setIdx(0);\r\n      cTStrVal.setV(&quot;Val&quot;);\r\n    \r\n      cTStrRef = cTPieSer.addNewCat().addNewStrRef();\r\n      cTStrRef.setF(&quot;Sheet0!$A$2:$A$4&quot;);\r\n      \r\n      cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(r-1);\r\n       cTStrVal.setV(&quot;Cat&quot; + r);\r\n      }\r\n    \r\n      CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\r\n      cTNumRef.setF(&quot;Sheet0!$B$2:$B$4&quot;);\r\n    \r\n      cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n      for (int r = 1; r &lt; 4; r++) { \r\n       CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n       cTNumVal.setIdx(r-1);\r\n       cTNumVal.setV(&quot;&quot; + (10*r));\r\n      }\r\n     }\r\n    \r\n     public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\r\n    \r\n      XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\r\n      XSSFSheet sheet = workbook.getSheetAt(0);\r\n      sheet.createRow(0);\r\n      for (int c = 1; c &lt; 4; c++) { \r\n       sheet.getRow(0).createCell(c).setCellValue(&quot;Cat&quot; + c);\r\n      }\r\n      for (int r = 1; r &lt; 5; r++) {\r\n       sheet.createRow(r).createCell(0).setCellValue(&quot;Val&quot; + r);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        sheet.getRow(r).createCell(c).setCellValue((10+r)*c);\r\n       }\r\n      }\r\n    \r\n      CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\r\n      CTChart cTChart = chartSpace.addNewChart();\r\n      CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\r\n      CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\r\n      cTBarChart.addNewVaryColors().setVal(true);\r\n      cTBarChart.addNewBarDir().setVal(STBarDir.COL);\r\n    \r\n      for (int r = 1; r &lt; 5; r++) {\r\n       CTBarSer cTBarSer = cTBarChart.addNewSer();\r\n       CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\r\n       cTStrRef.setF(&quot;Sheet0!$A$&quot; + (r+1));\r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\r\n       CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n       cTStrVal.setIdx(0);\r\n       cTStrVal.setV(&quot;Val&quot; + r);\r\n       cTBarSer.addNewIdx().setVal(r-1);\r\n    \r\n       CTAxDataSource cttAxDataSource = cTBarSer.addNewCat();\r\n       cTStrRef = cttAxDataSource.addNewStrRef();\r\n       cTStrRef.setF(&quot;Sheet0!$B$1:$D$1&quot;);   \r\n       cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        cTStrVal = cTStrRef.getStrCache().addNewPt();\r\n        cTStrVal.setIdx(c-1);\r\n        cTStrVal.setV(&quot;Cat&quot; + c);\r\n       }\r\n    \r\n       CTNumDataSource ctNumDataSource = cTBarSer.addNewVal();\r\n       CTNumRef cTNumRef = ctNumDataSource.addNewNumRef();\r\n       cTNumRef.setF(&quot;Sheet0!$B$&quot; + (r+1) + &quot;:$D$&quot; + (r+1));\r\n       cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\r\n       for (int c = 1; c &lt; 4; c++) { \r\n        CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\r\n        cTNumVal.setIdx(c-1);\r\n        cTNumVal.setV(&quot;&quot; + ((10+r)*c));\r\n       }\r\n      } \r\n    \r\n      //telling the BarChart that it has axes and giving them Ids\r\n      cTBarChart.addNewAxId().setVal(123456);\r\n      cTBarChart.addNewAxId().setVal(123457);\r\n    \r\n      //cat axis\r\n      CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \r\n      cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\r\n      CTScaling cTScaling = cTCatAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTCatAx.addNewDelete().setVal(false);\r\n      cTCatAx.addNewAxPos().setVal(STAxPos.B);\r\n      cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\r\n      cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //val axis\r\n      CTValAx cTValAx = cTPlotArea.addNewValAx(); \r\n      cTValAx.addNewAxId().setVal(123457); //id of the val axis\r\n      cTScaling = cTValAx.addNewScaling();\r\n      cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\r\n      cTValAx.addNewDelete().setVal(false);\r\n      cTValAx.addNewAxPos().setVal(STAxPos.L);\r\n      cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\r\n      cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\r\n    \r\n      //legend\r\n      CTLegend cTLegend = cTChart.addNewLegend();\r\n      cTLegend.addNewLegendPos().setVal(STLegendPos.B);\r\n      cTLegend.addNewOverlay().setVal(false);\r\n    \r\n     }\r\n    \r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      CreatePPTXChartsXSSFWb createPPTXCharts = new CreatePPTXChartsXSSFWb();\r\n     }\r\n    \r\n     //a class for providing a MyXSLFChartShape\r\n     private class MyXSLFChartShape {\r\n      private CTGraphicalObjectFrame _graphicalObjectFrame;\r\n      private XSLFSlide slide;\r\n      private MyXSLFChart myXSLFChart;\r\n    \r\n      MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\r\n    \r\n       String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\r\n       slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\r\n    \r\n       long cNvPrId = 1;\r\n       String cNvPrName = &quot;MyChart&quot;;\r\n       int cNvPrNameCount = 1;\r\n       for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\r\n        if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\r\n         if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\r\n          cNvPrId++;\r\n          if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\r\n           cNvPrNameCount++;\r\n          }\r\n         }\r\n        }\r\n       }\r\n    \r\n       CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\r\n       CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\r\n       cTGraphicalObjectFrameNonVisual.addNewNvPr();\r\n    \r\n       CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\r\n       cTNonVisualDrawingProps.setId(cNvPrId);\r\n       cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\r\n    \r\n       CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\r\n       CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\r\n         &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\r\n        +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\r\n        +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\r\n       );\r\n       graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\r\n       graphicalObject.setGraphicData(graphicalObjectData);\r\n    \r\n       _graphicalObjectFrame = graphicalObjectFrame;\r\n       this.slide = slide;\r\n       this.myXSLFChart = myXSLFChart;\r\n    \r\n       this.setAnchor(new Rectangle());\r\n      }\r\n    \r\n      private void setAnchor(Rectangle2D anchor) {\r\n       CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\r\n       CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\r\n       long x = Units.toEMU(anchor.getX());\r\n       long y = Units.toEMU(anchor.getY());\r\n       off.setX(x);\r\n       off.setY(y);\r\n       CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\r\n       long cx = Units.toEMU(anchor.getWidth());\r\n       long cy = Units.toEMU(anchor.getHeight());\r\n       ext.setCx(cx);\r\n       ext.setCy(cy);\r\n      }\r\n    \r\n      private MyXSLFChart getMyXSLFChart() {\r\n       return myXSLFChart;\r\n      }\r\n     }\r\n    \r\n     //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \r\n     private class MyXSLFChart extends POIXMLDocumentPart {\r\n    \r\n      private CTChartSpace chartSpace;\r\n      private MyXSLFXSSFWorkbook myXSLFXSSFWorkbook;\r\n    \r\n      private MyXSLFChart(PackagePart part) throws Exception {\r\n       super(part);\r\n    \r\n       OPCPackage oPCPackage = part.getPackage();\r\n       int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/embeddings/.*.xlsx&quot;)).size() + 1;\r\n       PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/embeddings/Microsoft_Excel_Worksheet&quot; + chartCount + &quot;.xlsx&quot;);\r\n       PackagePart xlsxpart = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    \r\n       myXSLFXSSFWorkbook = new MyXSLFXSSFWorkbook(xlsxpart);\r\n     \r\n       String rId = &quot;rId&quot; + (this.getRelationParts().size()+1);\r\n       XSLFXSSFRelation xSLFXSSFRelationPACKAGE = new XSLFXSSFRelation(\r\n        &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/package&quot;);\r\n    \r\n       this.addRelation(rId, xSLFXSSFRelationPACKAGE, myXSLFXSSFWorkbook);\r\n    \r\n       chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\r\n       CTExternalData cTExternalData = chartSpace.addNewExternalData();\r\n       cTExternalData.setId(rId);\r\n       //cTExternalData.addNewAutoUpdate().setVal(true);\r\n      }\r\n    \r\n      private CTChartSpace getChartSpace() {\r\n       return chartSpace;\r\n      }\r\n    \r\n      private MyXSLFXSSFWorkbook getXSLFXSSFWorkbook() {\r\n       return myXSLFXSSFWorkbook;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       chartSpace.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n    \r\n     //a wrapper class for the XSSFWorkbook /ppt/embeddings/Microsoft_Excel_Worksheet*.xlsx in the *.pptx ZIP archive  \r\n     private class MyXSLFXSSFWorkbook extends POIXMLDocumentPart {\r\n    \r\n      private XSSFWorkbook workbook;\r\n    \r\n      private MyXSLFXSSFWorkbook(PackagePart part) throws Exception {\r\n       super(part);\r\n       workbook = new XSSFWorkbook();\r\n       XSSFSheet sheet = workbook.createSheet();\r\n      }\r\n    \r\n      private XSSFWorkbook getXSSFWorkbook() {\r\n       return workbook;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       workbook.write(out);\r\n       workbook.close();\r\n       out.close();\r\n      }\r\n     }\r\n    \r\n     //a class to note the relations\r\n     private class XSLFXSSFRelation extends POIXMLRelation {\r\n      private XSLFXSSFRelation(String rel) {\r\n       super(null, rel, null);\r\n      }\r\n     }\r\n    } \r\n\r\n________________\r\n\r\nEdit January 29 2019:\r\n\r\nAbove code was working using `apache poi 3.16` up to `apache poi 3.17`.\r\nTo make it work using current `apache poi 4.0.1` the only need is changing the `import`s a little bit:\r\n\r\n    ...\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    //import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    import static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    import org.apache.poi.ooxml.*;\r\n    \r\n    import org.apache.xmlbeans.*;\r\n    ...\r\n\r\nThis is because the Office Open XML stuff now is in `org.apache.poi.ooxml.*`and not more in `org.apache.poi.*`.\r\n\r\n_______________________________________________________\r\n\r\nEdit August 2023:\r\n\r\nCurrent Apache POI versions (since Apache POI 4.1.0) provide `XDDF` for charts. Using this it is much simpler to create charts for PowerPoint.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.util.Units;\r\n    import org.apache.poi.xddf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    \r\n    import java.awt.Rectangle;\r\n    \r\n    public class CreatePowerPointXDDFChart {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n      try (XMLSlideShow slideShow = new XMLSlideShow()) {\r\n       \r\n       // create a new empty slide\r\n       XSLFSlide slide = slideShow.createSlide();\r\n       \r\n       // create chart\r\n       XSLFChart chart = slideShow.createChart();\r\n       chart.setTitleText(&quot;Test Chart&quot;);\r\n       \r\n       // set axis\r\n       XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n       XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n       leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n       leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n       // define chart data for bar chart\r\n       XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n    \r\n       // add chart categories (x-axis data)\r\n       String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\r\n       String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\r\n       XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\r\n    \r\n       // add chart values (y-axis data)\r\n       Double[] values = new Double[] { 10.0, 20.0, 15.0 };\r\n       String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\r\n       XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\r\n       XDDFBarChartData bar = (XDDFBarChartData) data;\r\n       bar.setBarDirection(BarDirection.BAR);\r\n    \r\n       // add series\r\n       XDDFChartData.Series series = data.addSeries(categoryData, valueData);\r\n       series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\r\n       \r\n       // plot chart\r\n       chart.plot(data);\r\n    \r\n       // set chart dimensions !!Units are EMU (English Metric Units)!!\r\n       Rectangle chartDimensions = new Rectangle(\r\n        100*Units.EMU_PER_POINT, \r\n        50*Units.EMU_PER_POINT, \r\n        400*Units.EMU_PER_POINT, \r\n        400*Units.EMU_PER_POINT);\r\n       // add chart to slide\r\n       slide.addChart(chart, chartDimensions);\r\n    \r\n       // Write the output to a file\r\n       try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\r\n        slideShow.write(fileOut);\r\n       }\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\n______________________________________\r\n\r\nEdit September 2023:\r\n\r\nTo make it work using Apache POI 4.1.2 and higher, one must repair incorrect number format settings.\r\n\r\n    ...\r\n       //repair axes number format settings\r\n       if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\r\n       if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\r\n    ...\r\n\r\n","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>There is nothing like a <code>XSLFChartShape</code> usable in a powerpoint slide in <code>apache poi</code> until now.</p>\n<p>But of course if one knows the internal structure of the <code>*.pptx</code> <code>ZIP</code> archive and the <code>XML</code> therein, then it is possible creating this from scratch using the <code>apache poi</code> <code>OPCPackage</code> classes and the low level <code>CT*</code> classes from <code>org.openxmlformats.schemas.drawingml.x2006.*</code> and <code>org.openxmlformats.schemas.presentationml.x2006.*</code>.</p>\n<p>Following code is doing this and creates a slide having a pie chart and a bar chart.</p>\n<p>This is a draft only to show the approach.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.*;\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.apache.xmlbeans.*;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.*;\nimport org.openxmlformats.schemas.drawingml.x2006.main.*;\nimport org.openxmlformats.schemas.presentationml.x2006.main.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.util.regex.Pattern;\n\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Rectangle;\n\npublic class CreatePPTXCharts {\n\n public CreatePPTXCharts() throws Exception {\n  XMLSlideShow slideShow = new XMLSlideShow();\n  XSLFSlide slide = slideShow.createSlide();\n\n  MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\n\n  drawPieChart(myXSLFChartShape);\n\n  myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\n\n  drawBarChart(myXSLFChartShape);\n\n\n  FileOutputStream out = new FileOutputStream(&quot;CreatePPTXCharts.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n\n //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\n //and creating a MyXSLFChartShape as slide shape  \n public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\n\n  OPCPackage oPCPackage = slide.getSlideShow().getPackage();\n  int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\n\n  MyXSLFChart myXSLFChart = new MyXSLFChart(part);\n  MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\n\n  return myXSLFChartShape;\n\n }\n\n public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\n  cTPieChart.addNewVaryColors().setVal(true);\n  CTPieSer cTPieSer = cTPieChart.addNewSer();\n  cTPieSer.addNewIdx().setVal(0);\n  CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\n  cTStrRef.setF(&quot;Label 0&quot;);\n  cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n  CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n  cTStrVal.setIdx(0);\n  cTStrVal.setV(&quot;Val&quot;);\n\n  cTStrRef = cTPieSer.addNewCat().addNewStrRef();\n  cTStrRef.setF(&quot;Categories&quot;);\n  \n  cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(r-1);\n   cTStrVal.setV(&quot;Cat&quot; + r);\n  }\n\n  CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\n  cTNumRef.setF(&quot;0&quot;);\n\n  cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n   cTNumVal.setIdx(r-1);\n   cTNumVal.setV(&quot;&quot; + (10*r));\n  }\n\n }\n\n public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTChart cTChart = chartSpace.addNewChart();\n  CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\n  CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\n  cTBarChart.addNewVaryColors().setVal(true);\n  cTBarChart.addNewBarDir().setVal(STBarDir.COL);\n\n  for (int r = 1; r &lt; 5; r++) {\n   CTBarSer cTBarSer = cTBarChart.addNewSer();\n   CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\n   cTStrRef.setF(&quot;Label &quot; + r);\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n   CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(0);\n   cTStrVal.setV(&quot;Val&quot; + r);\n\n   cTBarSer.addNewIdx().setVal(r-1);  \n   cTStrRef = cTBarSer.addNewCat().addNewStrRef();\n   cTStrRef.setF(&quot;Categories&quot;);\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    cTStrVal = cTStrRef.getStrCache().addNewPt();\n    cTStrVal.setIdx(c-1);\n    cTStrVal.setV(&quot;Cat&quot; + c);\n   }\n\n   CTNumRef cTNumRef = cTBarSer.addNewVal().addNewNumRef();\n   cTNumRef.setF(&quot;&quot; + r);\n   cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n    cTNumVal.setIdx(c-1);\n    cTNumVal.setV(&quot;&quot; + ((10+r)*c));\n   }\n  } \n\n  //telling the BarChart that it has axes and giving them Ids\n  cTBarChart.addNewAxId().setVal(123456);\n  cTBarChart.addNewAxId().setVal(123457);\n\n  //cat axis\n  CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \n  cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\n  CTScaling cTScaling = cTCatAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTCatAx.addNewDelete().setVal(false);\n  cTCatAx.addNewAxPos().setVal(STAxPos.B);\n  cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\n  cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //val axis\n  CTValAx cTValAx = cTPlotArea.addNewValAx(); \n  cTValAx.addNewAxId().setVal(123457); //id of the val axis\n  cTScaling = cTValAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTValAx.addNewDelete().setVal(false);\n  cTValAx.addNewAxPos().setVal(STAxPos.L);\n  cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\n  cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //legend\n  CTLegend cTLegend = cTChart.addNewLegend();\n  cTLegend.addNewLegendPos().setVal(STLegendPos.B);\n  cTLegend.addNewOverlay().setVal(false);\n\n }\n\n public static void main(String[] args) throws Exception {\n  CreatePPTXCharts createPPTXCharts = new CreatePPTXCharts();\n }\n\n//________________________________________________________________________\n\n\n //a class for providing a MyXSLFChartShape\n private class MyXSLFChartShape {\n  private CTGraphicalObjectFrame _graphicalObjectFrame;\n  private XSLFSlide slide;\n  private MyXSLFChart myXSLFChart;\n\n  MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\n\n   String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\n   slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\n\n   long cNvPrId = 1;\n   String cNvPrName = &quot;MyChart&quot;;\n   int cNvPrNameCount = 1;\n   for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\n    if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\n     if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\n      cNvPrId++;\n      if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\n       cNvPrNameCount++;\n      }\n     }\n    }\n   }\n\n   CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\n   CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewNvPr();\n\n   CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\n   cTNonVisualDrawingProps.setId(cNvPrId);\n   cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\n\n   CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\n   CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\n     &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\n    +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\n    +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\n   );\n   graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\n   graphicalObject.setGraphicData(graphicalObjectData);\n\n   _graphicalObjectFrame = graphicalObjectFrame;\n   this.slide = slide;\n   this.myXSLFChart = myXSLFChart;\n\n   this.setAnchor(new Rectangle());\n  }\n\n  private void setAnchor(Rectangle2D anchor) {\n   CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\n   CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\n   long x = Units.toEMU(anchor.getX());\n   long y = Units.toEMU(anchor.getY());\n   off.setX(x);\n   off.setY(y);\n   CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\n   long cx = Units.toEMU(anchor.getWidth());\n   long cy = Units.toEMU(anchor.getHeight());\n   ext.setCx(cx);\n   ext.setCy(cy);\n  }\n\n  private MyXSLFChart getMyXSLFChart() {\n   return myXSLFChart;\n  }\n\n }\n\n //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \n private class MyXSLFChart extends POIXMLDocumentPart {\n\n  private CTChartSpace chartSpace;\n\n  private MyXSLFChart(PackagePart part) throws Exception {\n   super(part);\n   chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\n  }\n\n  private CTChartSpace getChartSpace() {\n   return chartSpace;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   chartSpace.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n\n}\n</code></pre>\n<p>Code which is producing the same but having <code>XSSFWorkbook</code>s as data tables.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.*;\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.util.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.apache.xmlbeans.*;\n\nimport org.openxmlformats.schemas.drawingml.x2006.chart.*;\nimport org.openxmlformats.schemas.drawingml.x2006.main.*;\nimport org.openxmlformats.schemas.presentationml.x2006.main.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.List;\nimport java.util.regex.Pattern;\n\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Rectangle;\n\npublic class CreatePPTXChartsXSSFWb {\n\n public CreatePPTXChartsXSSFWb() throws Exception {\n  XMLSlideShow slideShow = new XMLSlideShow();\n  XSLFSlide slide = slideShow.createSlide();\n\n  MyXSLFChartShape myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(50,100,300,300));\n\n  drawPieChart(myXSLFChartShape);\n\n  myXSLFChartShape = createXSLFChart(slide);\n  myXSLFChartShape.setAnchor(new Rectangle(370,100,300,300));\n\n  drawBarChart(myXSLFChartShape);\n\n  FileOutputStream out = new FileOutputStream(&quot;CreatePPTXChartsXSSFWb.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n\n //a method for creating the chart XML document /ppt/charts/chart*.xml in the *.pptx ZIP archive\n //and creating a MyXSLFChartShape as slide shape  \n public MyXSLFChartShape createXSLFChart(XSLFSlide slide) throws Exception {\n\n  OPCPackage oPCPackage = slide.getSlideShow().getPackage();\n  int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/charts/chart.*&quot;)).size() + 1;\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/charts/chart&quot; + chartCount + &quot;.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;);\n\n  MyXSLFChart myXSLFChart = new MyXSLFChart(part);\n  MyXSLFChartShape myXSLFChartShape = new MyXSLFChartShape(slide, myXSLFChart);\n\n  return myXSLFChartShape;\n }\n\n public void drawPieChart(MyXSLFChartShape myXSLFChartShape) {\n\n  XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\n  XSSFSheet sheet = workbook.getSheetAt(0);\n  sheet.createRow(0).createCell(0).setCellValue(&quot;Cat&quot;);\n  sheet.getRow(0).createCell(1).setCellValue(&quot;Val&quot;);\n  for (int r = 1; r &lt; 4; r++) {\n   sheet.createRow(r).createCell(0).setCellValue(&quot;Cat&quot; + r);\n   sheet.getRow(r).createCell(1).setCellValue(10*r);\n  }\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTPieChart cTPieChart = chartSpace.addNewChart().addNewPlotArea().addNewPieChart();\n  cTPieChart.addNewVaryColors().setVal(true);\n  CTPieSer cTPieSer = cTPieChart.addNewSer();\n  cTPieSer.addNewIdx().setVal(0);\n  CTStrRef cTStrRef = cTPieSer.addNewTx().addNewStrRef();\n  cTStrRef.setF(&quot;Sheet0!$B$1&quot;);\n  cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n  CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n  cTStrVal.setIdx(0);\n  cTStrVal.setV(&quot;Val&quot;);\n\n  cTStrRef = cTPieSer.addNewCat().addNewStrRef();\n  cTStrRef.setF(&quot;Sheet0!$A$2:$A$4&quot;);\n  \n  cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(r-1);\n   cTStrVal.setV(&quot;Cat&quot; + r);\n  }\n\n  CTNumRef cTNumRef = cTPieSer.addNewVal().addNewNumRef();\n  cTNumRef.setF(&quot;Sheet0!$B$2:$B$4&quot;);\n\n  cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n  for (int r = 1; r &lt; 4; r++) { \n   CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n   cTNumVal.setIdx(r-1);\n   cTNumVal.setV(&quot;&quot; + (10*r));\n  }\n }\n\n public void drawBarChart(MyXSLFChartShape myXSLFChartShape) {\n\n  XSSFWorkbook workbook = myXSLFChartShape.getMyXSLFChart().getXSLFXSSFWorkbook().getXSSFWorkbook();\n  XSSFSheet sheet = workbook.getSheetAt(0);\n  sheet.createRow(0);\n  for (int c = 1; c &lt; 4; c++) { \n   sheet.getRow(0).createCell(c).setCellValue(&quot;Cat&quot; + c);\n  }\n  for (int r = 1; r &lt; 5; r++) {\n   sheet.createRow(r).createCell(0).setCellValue(&quot;Val&quot; + r);\n   for (int c = 1; c &lt; 4; c++) { \n    sheet.getRow(r).createCell(c).setCellValue((10+r)*c);\n   }\n  }\n\n  CTChartSpace chartSpace = myXSLFChartShape.getMyXSLFChart().getChartSpace();\n  CTChart cTChart = chartSpace.addNewChart();\n  CTPlotArea cTPlotArea = cTChart.addNewPlotArea();\n  CTBarChart cTBarChart = cTPlotArea.addNewBarChart();\n  cTBarChart.addNewVaryColors().setVal(true);\n  cTBarChart.addNewBarDir().setVal(STBarDir.COL);\n\n  for (int r = 1; r &lt; 5; r++) {\n   CTBarSer cTBarSer = cTBarChart.addNewSer();\n   CTStrRef cTStrRef = cTBarSer.addNewTx().addNewStrRef();\n   cTStrRef.setF(&quot;Sheet0!$A$&quot; + (r+1));\n   cTStrRef.addNewStrCache().addNewPtCount().setVal(1);\n   CTStrVal cTStrVal = cTStrRef.getStrCache().addNewPt();\n   cTStrVal.setIdx(0);\n   cTStrVal.setV(&quot;Val&quot; + r);\n   cTBarSer.addNewIdx().setVal(r-1);\n\n   CTAxDataSource cttAxDataSource = cTBarSer.addNewCat();\n   cTStrRef = cttAxDataSource.addNewStrRef();\n   cTStrRef.setF(&quot;Sheet0!$B$1:$D$1&quot;);   \n   cTStrRef.addNewStrCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    cTStrVal = cTStrRef.getStrCache().addNewPt();\n    cTStrVal.setIdx(c-1);\n    cTStrVal.setV(&quot;Cat&quot; + c);\n   }\n\n   CTNumDataSource ctNumDataSource = cTBarSer.addNewVal();\n   CTNumRef cTNumRef = ctNumDataSource.addNewNumRef();\n   cTNumRef.setF(&quot;Sheet0!$B$&quot; + (r+1) + &quot;:$D$&quot; + (r+1));\n   cTNumRef.addNewNumCache().addNewPtCount().setVal(3);\n   for (int c = 1; c &lt; 4; c++) { \n    CTNumVal cTNumVal = cTNumRef.getNumCache().addNewPt();\n    cTNumVal.setIdx(c-1);\n    cTNumVal.setV(&quot;&quot; + ((10+r)*c));\n   }\n  } \n\n  //telling the BarChart that it has axes and giving them Ids\n  cTBarChart.addNewAxId().setVal(123456);\n  cTBarChart.addNewAxId().setVal(123457);\n\n  //cat axis\n  CTCatAx cTCatAx = cTPlotArea.addNewCatAx(); \n  cTCatAx.addNewAxId().setVal(123456); //id of the cat axis\n  CTScaling cTScaling = cTCatAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTCatAx.addNewDelete().setVal(false);\n  cTCatAx.addNewAxPos().setVal(STAxPos.B);\n  cTCatAx.addNewCrossAx().setVal(123457); //id of the val axis\n  cTCatAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //val axis\n  CTValAx cTValAx = cTPlotArea.addNewValAx(); \n  cTValAx.addNewAxId().setVal(123457); //id of the val axis\n  cTScaling = cTValAx.addNewScaling();\n  cTScaling.addNewOrientation().setVal(STOrientation.MIN_MAX);\n  cTValAx.addNewDelete().setVal(false);\n  cTValAx.addNewAxPos().setVal(STAxPos.L);\n  cTValAx.addNewCrossAx().setVal(123456); //id of the cat axis\n  cTValAx.addNewTickLblPos().setVal(STTickLblPos.NEXT_TO);\n\n  //legend\n  CTLegend cTLegend = cTChart.addNewLegend();\n  cTLegend.addNewLegendPos().setVal(STLegendPos.B);\n  cTLegend.addNewOverlay().setVal(false);\n\n }\n\n\n public static void main(String[] args) throws Exception {\n  CreatePPTXChartsXSSFWb createPPTXCharts = new CreatePPTXChartsXSSFWb();\n }\n\n //a class for providing a MyXSLFChartShape\n private class MyXSLFChartShape {\n  private CTGraphicalObjectFrame _graphicalObjectFrame;\n  private XSLFSlide slide;\n  private MyXSLFChart myXSLFChart;\n\n  MyXSLFChartShape(XSLFSlide slide, MyXSLFChart myXSLFChart) throws Exception {\n\n   String rId = &quot;rId&quot; + (slide.getRelationParts().size()+1);\n   slide.addRelation(rId, XSLFRelation.CHART, myXSLFChart);\n\n   long cNvPrId = 1;\n   String cNvPrName = &quot;MyChart&quot;;\n   int cNvPrNameCount = 1;\n   for (CTGraphicalObjectFrame currGraphicalObjectFrame : slide.getXmlObject().getCSld().getSpTree().getGraphicFrameList()) {\n    if (currGraphicalObjectFrame.getNvGraphicFramePr() != null) {\n     if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr() != null) {\n      cNvPrId++;\n      if (currGraphicalObjectFrame.getNvGraphicFramePr().getCNvPr().getName().startsWith(cNvPrName)) {\n       cNvPrNameCount++;\n      }\n     }\n    }\n   }\n\n   CTGraphicalObjectFrame graphicalObjectFrame = slide.getXmlObject().getCSld().getSpTree().addNewGraphicFrame();\n   CTGraphicalObjectFrameNonVisual cTGraphicalObjectFrameNonVisual = graphicalObjectFrame.addNewNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewCNvGraphicFramePr();\n   cTGraphicalObjectFrameNonVisual.addNewNvPr();\n\n   CTNonVisualDrawingProps cTNonVisualDrawingProps = cTGraphicalObjectFrameNonVisual.addNewCNvPr();\n   cTNonVisualDrawingProps.setId(cNvPrId);\n   cTNonVisualDrawingProps.setName(&quot;MyChart&quot; + cNvPrNameCount);\n\n   CTGraphicalObject graphicalObject = graphicalObjectFrame.addNewGraphic();\n   CTGraphicalObjectData graphicalObjectData = CTGraphicalObjectData.Factory.parse(\n     &quot;&lt;c:chart xmlns:c=\\&quot;http://schemas.openxmlformats.org/drawingml/2006/chart\\&quot; &quot;\n    +&quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\n    +&quot;r:id=\\&quot;&quot; + rId + &quot;\\&quot;/&gt;&quot;\n   );\n   graphicalObjectData.setUri(&quot;http://schemas.openxmlformats.org/drawingml/2006/chart&quot;);\n   graphicalObject.setGraphicData(graphicalObjectData);\n\n   _graphicalObjectFrame = graphicalObjectFrame;\n   this.slide = slide;\n   this.myXSLFChart = myXSLFChart;\n\n   this.setAnchor(new Rectangle());\n  }\n\n  private void setAnchor(Rectangle2D anchor) {\n   CTTransform2D xfrm = (_graphicalObjectFrame.getXfrm() != null) ? _graphicalObjectFrame.getXfrm() : _graphicalObjectFrame.addNewXfrm();\n   CTPoint2D off = xfrm.isSetOff() ? xfrm.getOff() : xfrm.addNewOff();\n   long x = Units.toEMU(anchor.getX());\n   long y = Units.toEMU(anchor.getY());\n   off.setX(x);\n   off.setY(y);\n   CTPositiveSize2D ext = xfrm.isSetExt() ? xfrm.getExt() : xfrm.addNewExt();\n   long cx = Units.toEMU(anchor.getWidth());\n   long cy = Units.toEMU(anchor.getHeight());\n   ext.setCx(cx);\n   ext.setCy(cy);\n  }\n\n  private MyXSLFChart getMyXSLFChart() {\n   return myXSLFChart;\n  }\n }\n\n //a wrapper class for the ChartSpaceDocument /ppt/charts/chart*.xml in the *.pptx ZIP archive  \n private class MyXSLFChart extends POIXMLDocumentPart {\n\n  private CTChartSpace chartSpace;\n  private MyXSLFXSSFWorkbook myXSLFXSSFWorkbook;\n\n  private MyXSLFChart(PackagePart part) throws Exception {\n   super(part);\n\n   OPCPackage oPCPackage = part.getPackage();\n   int chartCount = oPCPackage.getPartsByName(Pattern.compile(&quot;/ppt/embeddings/.*.xlsx&quot;)).size() + 1;\n   PackagePartName partName = PackagingURIHelper.createPartName(&quot;/ppt/embeddings/Microsoft_Excel_Worksheet&quot; + chartCount + &quot;.xlsx&quot;);\n   PackagePart xlsxpart = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n\n   myXSLFXSSFWorkbook = new MyXSLFXSSFWorkbook(xlsxpart);\n \n   String rId = &quot;rId&quot; + (this.getRelationParts().size()+1);\n   XSLFXSSFRelation xSLFXSSFRelationPACKAGE = new XSLFXSSFRelation(\n    &quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/package&quot;);\n\n   this.addRelation(rId, xSLFXSSFRelationPACKAGE, myXSLFXSSFWorkbook);\n\n   chartSpace = ChartSpaceDocument.Factory.newInstance().addNewChartSpace();\n   CTExternalData cTExternalData = chartSpace.addNewExternalData();\n   cTExternalData.setId(rId);\n   //cTExternalData.addNewAutoUpdate().setVal(true);\n  }\n\n  private CTChartSpace getChartSpace() {\n   return chartSpace;\n  }\n\n  private MyXSLFXSSFWorkbook getXSLFXSSFWorkbook() {\n   return myXSLFXSSFWorkbook;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTChartSpace.type.getName().getNamespaceURI(), &quot;chartSpace&quot;, &quot;c&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   chartSpace.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n\n //a wrapper class for the XSSFWorkbook /ppt/embeddings/Microsoft_Excel_Worksheet*.xlsx in the *.pptx ZIP archive  \n private class MyXSLFXSSFWorkbook extends POIXMLDocumentPart {\n\n  private XSSFWorkbook workbook;\n\n  private MyXSLFXSSFWorkbook(PackagePart part) throws Exception {\n   super(part);\n   workbook = new XSSFWorkbook();\n   XSSFSheet sheet = workbook.createSheet();\n  }\n\n  private XSSFWorkbook getXSSFWorkbook() {\n   return workbook;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   workbook.write(out);\n   workbook.close();\n   out.close();\n  }\n }\n\n //a class to note the relations\n private class XSLFXSSFRelation extends POIXMLRelation {\n  private XSLFXSSFRelation(String rel) {\n   super(null, rel, null);\n  }\n }\n} \n</code></pre>\n<hr />\n<p>Edit January 29 2019:</p>\n<p>Above code was working using <code>apache poi 3.16</code> up to <code>apache poi 3.17</code>.\nTo make it work using current <code>apache poi 4.0.1</code> the only need is changing the <code>import</code>s a little bit:</p>\n<pre><code>...\nimport org.apache.poi.openxml4j.opc.*;\n//import static org.apache.poi.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\nimport static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\nimport org.apache.poi.ooxml.*;\n\nimport org.apache.xmlbeans.*;\n...\n</code></pre>\n<p>This is because the Office Open XML stuff now is in <code>org.apache.poi.ooxml.*</code>and not more in <code>org.apache.poi.*</code>.</p>\n<hr />\n<p>Edit August 2023:</p>\n<p>Current Apache POI versions (since Apache POI 4.1.0) provide <code>XDDF</code> for charts. Using this it is much simpler to create charts for PowerPoint.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\n\nimport java.awt.Rectangle;\n\npublic class CreatePowerPointXDDFChart {\n    \n public static void main(String[] args) throws Exception {\n  try (XMLSlideShow slideShow = new XMLSlideShow()) {\n   \n   // create a new empty slide\n   XSLFSlide slide = slideShow.createSlide();\n   \n   // create chart\n   XSLFChart chart = slideShow.createChart();\n   chart.setTitleText(&quot;Test Chart&quot;);\n   \n   // set axis\n   XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n   XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n   leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n   leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n   // define chart data for bar chart\n   XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n\n   // add chart categories (x-axis data)\n   String[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\n   String categoryDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, categories.length, 0, 0));\n   XDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories, categoryDataRange, 0);\n\n   // add chart values (y-axis data)\n   Double[] values = new Double[] { 10.0, 20.0, 15.0 };\n   String valuesDataRange = chart.formatRange(new org.apache.poi.ss.util.CellRangeAddress(1, values.length, 1, 1));\n   XDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values, valuesDataRange, 1);\n   XDDFBarChartData bar = (XDDFBarChartData) data;\n   bar.setBarDirection(BarDirection.BAR);\n\n   // add series\n   XDDFChartData.Series series = data.addSeries(categoryData, valueData);\n   series.setTitle(&quot;Series 1&quot;, chart.setSheetTitle(&quot;Series 1&quot;, 1));\n   \n   // plot chart\n   chart.plot(data);\n\n   // set chart dimensions !!Units are EMU (English Metric Units)!!\n   Rectangle chartDimensions = new Rectangle(\n    100*Units.EMU_PER_POINT, \n    50*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT, \n    400*Units.EMU_PER_POINT);\n   // add chart to slide\n   slide.addChart(chart, chartDimensions);\n\n   // Write the output to a file\n   try (FileOutputStream fileOut = new FileOutputStream(&quot;./CreatePowerPointXDDFChart.pptx&quot;)) {\n    slideShow.write(fileOut);\n   }\n  }\n }\n\n}\n</code></pre>\n<hr />\n<p>Edit September 2023:</p>\n<p>To make it work using Apache POI 4.1.2 and higher, one must repair incorrect number format settings.</p>\n<pre><code>...\n   //repair axes number format settings\n   if (bottomAxis.hasNumberFormat()) bottomAxis.setNumberFormat(&quot;@&quot;);\n   if (leftAxis.hasNumberFormat()) leftAxis.setNumberFormat(&quot;#,##0.00&quot;);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10138353,"reputation":597,"user_id":7488940,"accept_rate":60,"display_name":"Mahaveer Jangir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596795105,"creation_date":1596795105,"answer_id":63299681,"question_id":45373942,"body_markdown":"What about the `org.apache.poi.xslf.usermodel.XSLFChart` Object ? I am unable to find a direct createChart method in this Object. \r\n\r\nBut I am sure there must be something with this Object. Not much content available on stackoverflow on this.\r\n\r\nHas anyone created a chart using `org.apache.poi.xslf.usermodel.XSLFChart` in a pptx ? Grateful for the response.","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>What about the <code>org.apache.poi.xslf.usermodel.XSLFChart</code> Object ? I am unable to find a direct createChart method in this Object.</p>\n<p>But I am sure there must be something with this Object. Not much content available on stackoverflow on this.</p>\n<p>Has anyone created a chart using <code>org.apache.poi.xslf.usermodel.XSLFChart</code> in a pptx ? Grateful for the response.</p>\n"}],"owner":{"account_id":3927597,"reputation":215,"user_id":3247376,"accept_rate":50,"display_name":"user3247376"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7267,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45374730,"answer_count":2,"score":5,"last_activity_date":1695133834,"creation_date":1501246010,"question_id":45373942,"body_markdown":"How do we create a chart in a ppt in java using apache poi.\r\nWhich POI API do we use.\r\nBelow is code I am using to create a text box\r\n \r\n    XSLFSlide slide = pptx.createSlide();\r\n    XSLFTextShape textShape = slide.createTextBox();\r\n    textShape.setText(data);\r\n\r\nThe slide object doesnt contain any api for creating a chart.\r\n\r\nAny solution to this?\r\n\r\nThanks in advance","title":"java create a chart in a powerpoint using APACHE POI","body":"<p>How do we create a chart in a ppt in java using apache poi.\nWhich POI API do we use.\nBelow is code I am using to create a text box</p>\n\n<pre><code>XSLFSlide slide = pptx.createSlide();\nXSLFTextShape textShape = slide.createTextBox();\ntextShape.setText(data);\n</code></pre>\n\n<p>The slide object doesnt contain any api for creating a chart.</p>\n\n<p>Any solution to this?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"comments":[{"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"score":0,"creation_date":1386166743,"post_id":20352216,"comment_id":30424099,"body_markdown":"Are you using an XWPFRun to create your document?  Or are you doing it another way/","body":"Are you using an XWPFRun to create your document?  Or are you doing it another way/"},{"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"score":0,"creation_date":1386230418,"post_id":20352216,"comment_id":30453299,"body_markdown":"@MaheshVarma I have added a small edit to my answer, I could not find a way to insert a tab so I simulated the effect instead.  It worked for me, so please see if it works for you","body":"@MaheshVarma I have added a small edit to my answer, I could not find a way to insert a tab so I simulated the effect instead.  It worked for me, so please see if it works for you"}],"tags":[],"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386230344,"creation_date":1386076495,"answer_id":20352216,"question_id":20351810,"body_markdown":"Are you able to use a character run to insert a \\t character?  I haven&#39;t tested this but it should work as follows:\r\n\r\n          XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\r\n\t\t  XWPFParagraph para = newDoc.createParagraph(); //Paragraph\r\n   \t\t  XWPFRun run = para.createRun();  //Where the text will be written from\r\n          run.setText(&quot;\\t&quot;);\r\n\r\n**EDIT** \r\n\r\n   The alternative is to &#39;simulate&#39; the tab yourself, I have tested this bit and it does work:\r\n\r\n    run.setText(&quot;     &quot;);","title":"Creating tab spaces in word document using Apache POI","body":"<p>Are you able to use a character run to insert a \\t character?  I haven't tested this but it should work as follows:</p>\n\n<pre><code>      XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\n      XWPFParagraph para = newDoc.createParagraph(); //Paragraph\n      XWPFRun run = para.createRun();  //Where the text will be written from\n      run.setText(\"\\t\");\n</code></pre>\n\n<p><strong>EDIT</strong> </p>\n\n<p>The alternative is to 'simulate' the tab yourself, I have tested this bit and it does work:</p>\n\n<pre><code>run.setText(\"     \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4210572,"reputation":1,"user_id":3448398,"display_name":"Professor Hyperion"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1539867233,"creation_date":1401737631,"answer_id":24001890,"question_id":20351810,"body_markdown":"You have to add the first part of the text to your `run`, then call `run.addTab();` and finally add the text which comes after the tab.","title":"Creating tab spaces in word document using Apache POI","body":"<p>You have to add the first part of the text to your <code>run</code>, then call <code>run.addTab();</code> and finally add the text which comes after the tab.</p>\n"},{"tags":[],"owner":{"account_id":3224329,"reputation":101,"user_id":2721026,"display_name":"mashiguang"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404810200,"creation_date":1404810200,"answer_id":24627759,"question_id":20351810,"body_markdown":"    CTR ctr = run.getCTR();\r\n    ctr.addNewTab();\r\n    run.setText(&quot;abcd&quot;);\r\ni tested.","title":"Creating tab spaces in word document using Apache POI","body":"<pre><code>CTR ctr = run.getCTR();\nctr.addNewTab();\nrun.setText(\"abcd\");\n</code></pre>\n\n<p>i tested.</p>\n"},{"tags":[],"owner":{"account_id":7172787,"reputation":363,"user_id":5479762,"accept_rate":67,"display_name":"Morticia A. Addams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539867156,"creation_date":1473753703,"answer_id":39464983,"question_id":20351810,"body_markdown":"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab() \r\n\r\n    XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\r\n    XWPFParagraph para = newDoc.createParagraph(); //Paragraph\r\n    XWPFRun run = para.createRun();  //Where the text will be written from\r\n    run.addTab()//Add tab and after that you can set text.\r\n    run.setText(&quot;Your text here...&quot;);\r\n\r\nIf you want to have [*text **tab** text*] just create two runs then add `addTab()` after `setText()` first or before `setText()` second","title":"Creating tab spaces in word document using Apache POI","body":"<p><a href=\"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab()\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#addTab()</a> </p>\n\n<pre><code>XWPFDocument newDoc = new XWPFDocument(); //Doc to write new doc to\nXWPFParagraph para = newDoc.createParagraph(); //Paragraph\nXWPFRun run = para.createRun();  //Where the text will be written from\nrun.addTab()//Add tab and after that you can set text.\nrun.setText(\"Your text here...\");\n</code></pre>\n\n<p>If you want to have [<em>text <strong>tab</strong> text</em>] just create two runs then add <code>addTab()</code> after <code>setText()</code> first or before <code>setText()</code> second</p>\n"}],"owner":{"account_id":2795866,"reputation":2091,"user_id":2416228,"accept_rate":85,"display_name":"MaheshVarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20352216,"answer_count":4,"score":2,"last_activity_date":1695133532,"creation_date":1386075289,"question_id":20351810,"body_markdown":"I am using Apche POI to create MS Word documents(.docx format). I am able to create custom spaces among lines of text. Is there any class that is used to **create tab spaces in word** documents?","title":"Creating tab spaces in word document using Apache POI","body":"<p>I am using Apche POI to create MS Word documents(.docx format). I am able to create custom spaces among lines of text. Is there any class that is used to <strong>create tab spaces in word</strong> documents?</p>\n"},{"tags":["java","http","io","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1694667463,"post_id":77101309,"comment_id":135921930,"body_markdown":"First of all, you should almost certainly **not** be returning a `Uni&lt;Response&gt;` but instead just use `Response` (or `RestResponse` which supports generics). \n\nSecond, you should be able to just use the `InputStream` you got from Minio in `.ok()` and return that","body":"First of all, you should almost certainly <b>not</b> be returning a <code>Uni&lt;Response&gt;</code> but instead just use <code>Response</code> (or <code>RestResponse</code> which supports generics).   Second, you should be able to just use the <code>InputStream</code> you got from Minio in <code>.ok()</code> and return that"},{"owner":{"account_id":29436476,"reputation":3,"user_id":22555215,"display_name":"commonBoy"},"score":0,"creation_date":1695107549,"post_id":77101309,"comment_id":135976165,"body_markdown":"I tried, but it returned an empty file.","body":"I tried, but it returned an empty file."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695133292,"creation_date":1695132919,"answer_id":77135360,"question_id":77101309,"body_markdown":"Do something like this:\r\n\r\n    @GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response download1(@RestQuery String fileName, @Context Closer closer) {\r\n        var stat = minioService.statObject(fileName);\r\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                .bucket(&quot;test1&quot;)\r\n                .object(fileName)\r\n                .build();\r\n\r\n        InputStream inputStream;\r\n        try {\r\n            inputStream =  minioClient.getObject(getObjectArgs);\r\n            closer.add(inputStream);\r\n            Response.ResponseBuilder builder = Response.ok(inputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            if (inputStream != null) {\r\n               try {\r\n                  inputStream.close();\r\n               } catch (Exception ignored) {}\r\n            }\r\n            LOGGER.error(&quot;exception&quot;, e);\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n\r\nThe reason is that you don&#39;t want to close the InputStream in the JAX-RS method","title":"how to avoid oom when direct return InputStream using quarkus","body":"<p>Do something like this:</p>\n<pre><code>@GET\n@Path(&quot;/download&quot;)\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\npublic Response download1(@RestQuery String fileName, @Context Closer closer) {\n    var stat = minioService.statObject(fileName);\n    GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n            .bucket(&quot;test1&quot;)\n            .object(fileName)\n            .build();\n\n    InputStream inputStream;\n    try {\n        inputStream =  minioClient.getObject(getObjectArgs);\n        closer.add(inputStream);\n        Response.ResponseBuilder builder = Response.ok(inputStream);\n        builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n        builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n        return builder.build();\n    } catch (Exception e) {\n        if (inputStream != null) {\n           try {\n              inputStream.close();\n           } catch (Exception ignored) {}\n        }\n        LOGGER.error(&quot;exception&quot;, e);\n        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n<p>The reason is that you don't want to close the InputStream in the JAX-RS method</p>\n"}],"owner":{"account_id":29436476,"reputation":3,"user_id":22555215,"display_name":"commonBoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77135360,"answer_count":1,"score":0,"last_activity_date":1695133292,"creation_date":1694655400,"question_id":77101309,"body_markdown":"First, I obtained the target file to be downloaded through Minio like this.\r\n\r\n```java\r\npublic GetObjectResponse getFile(String bucket, String object) {\r\n        validateEnableMinio();\r\n        try {\r\n            GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                    .bucket(bucket)\r\n                    .object(object)\r\n                    .build();\r\n            return minioClient.getObject(getObjectArgs);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;minio exception&quot;, e);\r\n            throw new RuntimeException(&quot;get file error&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nGetObjectResponse is extends FilterInputStream. So I thought of using the Response class to return a BufferedInputStream class to avoid load all bytes in memory.\r\n\r\n```java\r\n @GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\r\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return Uni.createFrom().item(builder.build());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error&quot;, e);\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\r\n        }\r\n    }\r\n```\r\n\r\nbut i download a empty file with 0 bytes.\r\n\r\n[enter image description here][1]\r\n\r\ni can download full file with code like this: but use readAllBytes() method\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\r\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream.readAllBytes());\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return Uni.createFrom().item(builder.build());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error&quot;, e);\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\r\n        }\r\n    }\r\n```\r\n\r\nSo, I changed my approach and tried to download a local file directly instead of the file stream returned through HTTP.\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download1&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Uni&lt;Response&gt; downloadFile() {\r\n        String filePath = &quot;D:\\\\xxx\\\\settings.xml&quot;; // 替换为实际文件路径\r\n\r\n        File file = new File(filePath);\r\n\r\n        if (!file.exists() || !file.isFile()) {\r\n            return Uni.createFrom().item(Response.status(Response.Status.NOT_FOUND).build());\r\n        }\r\n\r\n        try {\r\n            InputStream is = new BufferedInputStream(new FileInputStream(file));\r\n\r\n            return Uni.createFrom().item(Response.ok(is)\r\n                    .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName())\r\n                    .build());\r\n        } catch (IOException e) {\r\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;error&quot;).build());\r\n        }\r\n    }\r\n```\r\n\r\nIt works perfectly.\r\n\r\nThe first solution that came to my mind was to write the InputStream returned by HTTP to a local file, and then return the stream of the local file.\r\n\r\nHowever, how can I directly return the InputStream to the front-end without using file transfer as an intermediary?\r\n\r\n## follow-up\r\nI try return Response.ok with inputstream,but it still not work.it still return 0 bytes file\r\n\r\n```java\r\n@GET\r\n    @Path(&quot;/download&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response download1(@RestQuery String fileName) {\r\n        var stat = minioService.statObject(fileName);\r\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\r\n                .bucket(&quot;test1&quot;)\r\n                .object(fileName)\r\n                .build();\r\n        try (InputStream inputStream =  minioClient.getObject(getObjectArgs)) {\r\n            Response.ResponseBuilder builder = Response.ok(inputStream);\r\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\r\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\r\n            return builder.build();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;exception&quot;, e);\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UH8sy.png","title":"how to avoid oom when direct return InputStream using quarkus","body":"<p>First, I obtained the target file to be downloaded through Minio like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GetObjectResponse getFile(String bucket, String object) {\n        validateEnableMinio();\n        try {\n            GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n                    .bucket(bucket)\n                    .object(object)\n                    .build();\n            return minioClient.getObject(getObjectArgs);\n        } catch (Exception e) {\n            LOGGER.error(&quot;minio exception&quot;, e);\n            throw new RuntimeException(&quot;get file error&quot;);\n        }\n    }\n</code></pre>\n<p>GetObjectResponse is extends FilterInputStream. So I thought of using the Response class to return a BufferedInputStream class to avoid load all bytes in memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream);\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return Uni.createFrom().item(builder.build());\n        } catch (Exception e) {\n            LOGGER.error(&quot;error&quot;, e);\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\n        }\n    }\n</code></pre>\n<p>but i download a empty file with 0 bytes.</p>\n<p><a href=\"https://i.stack.imgur.com/UH8sy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i can download full file with code like this: but use readAllBytes() method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        try (GetObjectResponse getObjectResponse =  minioService.getFile(fileName)) {\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(getObjectResponse);\n            Response.ResponseBuilder builder = Response.ok(bufferedInputStream.readAllBytes());\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return Uni.createFrom().item(builder.build());\n        } catch (Exception e) {\n            LOGGER.error(&quot;error&quot;, e);\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()) ;\n        }\n    }\n</code></pre>\n<p>So, I changed my approach and tried to download a local file directly instead of the file stream returned through HTTP.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download1&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Uni&lt;Response&gt; downloadFile() {\n        String filePath = &quot;D:\\\\xxx\\\\settings.xml&quot;; // 替换为实际文件路径\n\n        File file = new File(filePath);\n\n        if (!file.exists() || !file.isFile()) {\n            return Uni.createFrom().item(Response.status(Response.Status.NOT_FOUND).build());\n        }\n\n        try {\n            InputStream is = new BufferedInputStream(new FileInputStream(file));\n\n            return Uni.createFrom().item(Response.ok(is)\n                    .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName())\n                    .build());\n        } catch (IOException e) {\n            return Uni.createFrom().item(Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;error&quot;).build());\n        }\n    }\n</code></pre>\n<p>It works perfectly.</p>\n<p>The first solution that came to my mind was to write the InputStream returned by HTTP to a local file, and then return the stream of the local file.</p>\n<p>However, how can I directly return the InputStream to the front-end without using file transfer as an intermediary?</p>\n<h2>follow-up</h2>\n<p>I try return Response.ok with inputstream,but it still not work.it still return 0 bytes file</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n    @Path(&quot;/download&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Response download1(@RestQuery String fileName) {\n        var stat = minioService.statObject(fileName);\n        GetObjectArgs getObjectArgs = GetObjectArgs.builder()\n                .bucket(&quot;test1&quot;)\n                .object(fileName)\n                .build();\n        try (InputStream inputStream =  minioClient.getObject(getObjectArgs)) {\n            Response.ResponseBuilder builder = Response.ok(inputStream);\n            builder.type(MediaType.APPLICATION_OCTET_STREAM_TYPE);\n            builder.header(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + stat.object());\n            return builder.build();\n        } catch (Exception e) {\n            LOGGER.error(&quot;exception&quot;, e);\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).build();\n        }\n    }\n</code></pre>\n"},{"tags":["java","postman","encoder"],"comments":[{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1611265290,"post_id":65834997,"comment_id":116403103,"body_markdown":"the code is from postman or your api?","body":"the code is from postman or your api?"},{"owner":{"account_id":17852666,"reputation":21,"user_id":12968073,"display_name":"Sand"},"score":0,"creation_date":1611297742,"post_id":65834997,"comment_id":116410599,"body_markdown":"Code - my api on java","body":"Code - my api on java"},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1611300346,"post_id":65834997,"comment_id":116411428,"body_markdown":"could you add relevant postman and chrome screen shot to show the different the file name shown is actual url encoded value of русский.docx ,","body":"could you add relevant postman and chrome screen shot to show the different the file name shown is actual url encoded value of русский.docx ,"},{"owner":{"account_id":3510378,"reputation":1249,"user_id":2934838,"accept_rate":88,"display_name":"Edward"},"score":0,"creation_date":1698057956,"post_id":65834997,"comment_id":136352609,"body_markdown":"hello, do you solve this problem,i occur this too.","body":"hello, do you solve this problem,i occur this too."}],"owner":{"account_id":17852666,"reputation":21,"user_id":12968073,"display_name":"Sand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695133098,"creation_date":1611259585,"question_id":65834997,"body_markdown":"My API have file download controller, file name on cyrillic. In Postman Send and Download give me file name like: \r\n\r\n%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9.docx \r\n\r\nWhen i send request in chrome i get right file name on cyrillic like:\r\n\r\nрусский.docx \r\n\r\nCorresponding line of my api java code:\r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + URLEncoder.encode(fileName, StandardCharsets.UTF_8));\r\n\r\nHow get right file name on cyrillic in Postman?\r\n\r\nIn Crome i have\r\n\r\n[![enter image description here][1]][1]\r\n\r\nafter request file automatically downloaded\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIn Postman\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ku5WB.jpg\r\n  [2]: https://i.stack.imgur.com/wfyt4.jpg\r\n  [3]: https://i.stack.imgur.com/YVLFH.png","title":"get encoder file name in postman","body":"<p>My API have file download controller, file name on cyrillic. In Postman Send and Download give me file name like:</p>\n<p>%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9.docx</p>\n<p>When i send request in chrome i get right file name on cyrillic like:</p>\n<p>русский.docx</p>\n<p>Corresponding line of my api java code:</p>\n<pre><code>response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + URLEncoder.encode(fileName, StandardCharsets.UTF_8));\n</code></pre>\n<p>How get right file name on cyrillic in Postman?</p>\n<p>In Crome i have</p>\n<p><a href=\"https://i.stack.imgur.com/ku5WB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ku5WB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>after request file automatically downloaded</p>\n<p><a href=\"https://i.stack.imgur.com/wfyt4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wfyt4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In Postman\n<a href=\"https://i.stack.imgur.com/YVLFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVLFH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","java-11","testcontainers","testcontainers-junit5"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1620833199,"post_id":67506190,"comment_id":119319439,"body_markdown":"There should be some other previous log messages before that stacktrace, please check them, the reason should be there.","body":"There should be some other previous log messages before that stacktrace, please check them, the reason should be there."},{"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"score":0,"creation_date":1620833625,"post_id":67506190,"comment_id":119319644,"body_markdown":"Hi Vitaly, thanks for your comment. I edited the post, added the logs previous to the error.","body":"Hi Vitaly, thanks for your comment. I edited the post, added the logs previous to the error."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1620843908,"post_id":67506190,"comment_id":119324246,"body_markdown":"`org.testcontainers.dockerclient.DockerClientProviderStrategy - UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder`","body":"<code>org.testcontainers.dockerclient.DockerClientProviderStrategy - UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.Default&zwnj;&#8203;ObjectMapperHolder</code>"}],"answers":[{"tags":[],"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620900018,"creation_date":1620900018,"answer_id":67517293,"question_id":67506190,"body_markdown":"I added the following dependency to the pom.xml:\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n&gt;      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n&gt;      &lt;version&gt;2.10.5&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\nThis package has the missing class:\r\n\r\n&gt; DefaultObjectMapperHolder","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I added the following dependency to the pom.xml:</p>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n &lt;version&gt;2.10.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>This package has the missing class:</p>\n<blockquote>\n<p>DefaultObjectMapperHolder</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645695652,"creation_date":1645695652,"answer_id":71249943,"question_id":67506190,"body_markdown":"I got a similar exception when using rancher desktop. To check if docker was running okay I ran\r\n\r\n    $ docker compose ls\r\n    Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\r\n\r\nWith this information, I concluded that there was an issue with the rancher desktop docker environment.\r\nOn restarting rancher desktop, the error went away.\r\n\r\n","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I got a similar exception when using rancher desktop. To check if docker was running okay I ran</p>\n<pre><code>$ docker compose ls\nCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n</code></pre>\n<p>With this information, I concluded that there was an issue with the rancher desktop docker environment.\nOn restarting rancher desktop, the error went away.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675608098,"post_id":75332782,"comment_id":132961595,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75332782/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26629536,"reputation":21,"user_id":20246928,"display_name":"Nikita Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675410102,"creation_date":1675410102,"answer_id":75332782,"question_id":67506190,"body_markdown":"I got the same issue. Start the docker desktop application in background.","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I got the same issue. Start the docker desktop application in background.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695291564,"post_id":77135359,"comment_id":136006237,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77135359/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695132898,"creation_date":1695132898,"answer_id":77135359,"question_id":67506190,"body_markdown":"For MacOs, I downloaded docker desktop and ran it. https://docs.docker.com/desktop/install/mac-install/\r\n\r\nWhen I ran the test, it worked fine.","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>For MacOs, I downloaded docker desktop and ran it. <a href=\"https://docs.docker.com/desktop/install/mac-install/\" rel=\"nofollow noreferrer\">https://docs.docker.com/desktop/install/mac-install/</a></p>\n<p>When I ran the test, it worked fine.</p>\n"}],"owner":{"account_id":20713103,"reputation":356,"user_id":15209268,"display_name":"Oded"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22759,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1695132898,"creation_date":1620831723,"question_id":67506190,"body_markdown":"I have a docker image called myImageName:latest, which I use in my application.\r\nI want to write an integration test for my application, therefore I want to use the TestContainer package. When I run the following simple test:\r\n\r\n    @Testcontainers\r\n    public class myIntegrationTest{\r\n\r\n        @Container\r\n        private GenericContainer container =\r\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;myImageName:latest&quot;))\r\n        .withExposedPorts(8080);\r\n\r\n        \r\n        @Test\r\n        public void myIntegrationTestName() throws Exception{\r\n            assertTrue(container.isRunning());\r\n        }\r\n\r\n    }\r\n\r\nI get the following error (full stacktrace):\r\n\r\n&gt; 18:30:58.741 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\r\n2\r\n18:30:58.746 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder)\r\n18:30:58.747 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - As no valid configuration was found, execution cannot continue\r\n\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n\tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n\tat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n\tat org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.start(TestcontainersExtension.java:242)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.access$200(TestcontainersExtension.java:229)\r\n\tat org.testcontainers.junit.jupiter.TestcontainersExtension.lambda$null$4(TestcontainersExtension.java:82)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3605)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\r\n\tat org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\r\n\tat org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.cleanUp(JupiterTestDescriptor.java:222)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:148)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n \r\n\r\n- docker v20.10.5 \r\n - junit v5.7\r\n - TestContainer v1.15.3\r\n - jdk v11.0.10\r\n\r\n\r\nThank you in advance!\r\n","title":"java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I have a docker image called myImageName:latest, which I use in my application.\nI want to write an integration test for my application, therefore I want to use the TestContainer package. When I run the following simple test:</p>\n<pre><code>@Testcontainers\npublic class myIntegrationTest{\n\n    @Container\n    private GenericContainer container =\n    new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;myImageName:latest&quot;))\n    .withExposedPorts(8080);\n\n    \n    @Test\n    public void myIntegrationTestName() throws Exception{\n        assertTrue(container.isRunning());\n    }\n\n}\n</code></pre>\n<p>I get the following error (full stacktrace):</p>\n<blockquote>\n<p>18:30:58.741 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\n2\n18:30:58.746 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy -     UnixSocketClientProviderStrategy: failed with exception NoClassDefFoundError (Could not initialize class org.testcontainers.shaded.com.github.dockerjava.core.DefaultObjectMapperHolder)\n18:30:58.747 [main] ERROR org.testcontainers.dockerclient.DockerClientProviderStrategy - As no valid configuration was found, execution cannot continue</p>\n</blockquote>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\nat java.base/java.util.Optional.orElseThrow(Optional.java:408)\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\nat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\nat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\nat org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\nat org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\nat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\nat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.start(TestcontainersExtension.java:242)\nat org.testcontainers.junit.jupiter.TestcontainersExtension$StoreAdapter.access$200(TestcontainersExtension.java:229)\nat org.testcontainers.junit.jupiter.TestcontainersExtension.lambda$null$4(TestcontainersExtension.java:82)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:205)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:182)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$closeAllStoredCloseableValues$1(ExtensionValuesStore.java:65)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\nat java.base/java.util.concurrent.ConcurrentHashMap$ValueSpliterator.forEachRemaining(ConcurrentHashMap.java:3605)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\nat org.junit.jupiter.engine.execution.ExtensionValuesStore.closeAllStoredCloseableValues(ExtensionValuesStore.java:68)\nat org.junit.jupiter.engine.descriptor.AbstractExtensionContext.close(AbstractExtensionContext.java:74)\nat org.junit.jupiter.engine.execution.JupiterEngineExecutionContext.close(JupiterEngineExecutionContext.java:53)\nat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.cleanUp(JupiterTestDescriptor.java:222)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:148)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)</p>\n</blockquote>\n<ul>\n<li>docker v20.10.5</li>\n<li>junit v5.7</li>\n<li>TestContainer v1.15.3</li>\n<li>jdk v11.0.10</li>\n</ul>\n<p>Thank you in advance!</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1692500549,"post_id":46072947,"comment_id":135631047,"body_markdown":"Better related answers here - https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom","body":"Better related answers here - <a href=\"https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom\" title=\"opencsv how to create csv file from pojo with custom column headers and custom\">stackoverflow.com/questions/45203867/&hellip;</a>"},{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":0,"creation_date":1692500574,"post_id":46072947,"comment_id":135631051,"body_markdown":"Does this answer your question? [OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?](https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45203867/opencsv-how-to-create-csv-file-from-pojo-with-custom-column-headers-and-custom\">OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"score":0,"creation_date":1504757686,"post_id":46073537,"comment_id":79137200,"body_markdown":"Thanks for your answer. This worked. But Is there any way to change the column order? As you can see columns are ordered in alphabetical. I need to customize the order like `&quot;PRODUCTCODE&quot;, &quot;EXD&quot;,&quot;MFD&quot;`","body":"Thanks for your answer. This worked. But Is there any way to change the column order? As you can see columns are ordered in alphabetical. I need to customize the order like <code>&quot;PRODUCTCODE&quot;, &quot;EXD&quot;,&quot;MFD&quot;</code>"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":1,"creation_date":1504773491,"post_id":46073537,"comment_id":79144976,"body_markdown":"@Bishan you can add to each member the annotation @CsvBindByPosition(position = 0), position is zero based.","body":"@Bishan you can add to each member the annotation @CsvBindByPosition(position = 0), position is zero based."},{"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"score":3,"creation_date":1504780018,"post_id":46073537,"comment_id":79149506,"body_markdown":"Can&#39;t I use both `@CsvBindByPosition` and `@CsvBindByName`? I have added `@CsvBindByPosition`. Now column order is ok. But column names are missing in output file.","body":"Can&#39;t I use both <code>@CsvBindByPosition</code> and <code>@CsvBindByName</code>? I have added <code>@CsvBindByPosition</code>. Now column order is ok. But column names are missing in output file."},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":1,"creation_date":1504783668,"post_id":46073537,"comment_id":79151941,"body_markdown":"it seems like you are right, i&#39;ve been traveling all around the source code, consider open a ticket at https://sourceforge.net/p/opencsv/feature-requests/","body":"it seems like you are right, i&#39;ve been traveling all around the source code, consider open a ticket at <a href=\"https://sourceforge.net/p/opencsv/feature-requests/\" rel=\"nofollow noreferrer\">sourceforge.net/p/opencsv/feature-requests</a>"},{"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"score":0,"creation_date":1504783738,"post_id":46073537,"comment_id":79151998,"body_markdown":"Thanks for your cooperation","body":"Thanks for your cooperation"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":1,"creation_date":1504783787,"post_id":46073537,"comment_id":79152045,"body_markdown":"no problem, if annotations CsvBindByPosition or CsvCustomBindByPosition are present, ColumnPositionMappingStrategy is chosen, which does not generate headers, ColumnPositionMappingStrategy#generateHeader returns empty array","body":"no problem, if annotations CsvBindByPosition or CsvCustomBindByPosition are present, ColumnPositionMappingStrategy is chosen, which does not generate headers, ColumnPositionMappingStrategy#generateHeader returns empty array"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1504787558,"post_id":46073537,"comment_id":79154539,"body_markdown":"@Bishan it will be nice if you accept my answer as a solution, there are many and might be more suitable CSV libraries for your product, take a look https://github.com/search?l=Java&amp;o=desc&amp;q=CSV+library&amp;s=stars&amp;type=Repositories","body":"@Bishan it will be nice if you accept my answer as a solution, there are many and might be more suitable CSV libraries for your product, take a look <a href=\"https://github.com/search?l=Java&amp;o=desc&amp;q=CSV+library&amp;s=stars&amp;type=Repositories\" rel=\"nofollow noreferrer\">github.com/&hellip;</a>"},{"owner":{"account_id":57427,"reputation":1752,"user_id":1381662,"accept_rate":64,"display_name":"sebast26"},"score":0,"creation_date":1505251041,"post_id":46073537,"comment_id":79333742,"body_markdown":"@Bishan Please have a look at [my answer to similar question](https://stackoverflow.com/questions/45203867/how-to-write-from-bean-to-csv-using-opencsv-by-specfying-custom-column-headers/46185186#46185186). It shows how to write CSV and have both custom header column names and ordering","body":"@Bishan Please have a look at <a href=\"https://stackoverflow.com/questions/45203867/how-to-write-from-bean-to-csv-using-opencsv-by-specfying-custom-column-headers/46185186#46185186\">my answer to similar question</a>. It shows how to write CSV and have both custom header column names and ordering"},{"owner":{"account_id":4528861,"reputation":608,"user_id":3679952,"accept_rate":40,"display_name":"Udi"},"score":1,"creation_date":1549871772,"post_id":46073537,"comment_id":96044308,"body_markdown":"Is there anyway to get the exact name in the CsvBindByName annotation? and not the UPPERCASE of it?","body":"Is there anyway to get the exact name in the CsvBindByName annotation? and not the UPPERCASE of it?"},{"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"score":0,"creation_date":1556614973,"post_id":46073537,"comment_id":98489006,"body_markdown":"@Iddo how can i remove the double quotes from the output value ?","body":"@Iddo how can i remove the double quotes from the output value ?"},{"owner":{"account_id":9753017,"reputation":429,"user_id":7230670,"display_name":"Vladyslav Vynnyk"},"score":0,"creation_date":1573046685,"post_id":46073537,"comment_id":103752840,"body_markdown":"Some solution how to control custom naming and ordering: https://stackoverflow.com/a/58731084/7230670","body":"Some solution how to control custom naming and ordering: <a href=\"https://stackoverflow.com/a/58731084/7230670\">stackoverflow.com/a/58731084/7230670</a>"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":1,"creation_date":1651182888,"post_id":46073537,"comment_id":127310087,"body_markdown":"this didn&#39;t work for me, without the mapper strategy even with @CsvBindByName the header columns are still missing","body":"this didn&#39;t work for me, without the mapper strategy even with @CsvBindByName the header columns are still missing"}],"tags":[],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"comment_count":12,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1504705368,"creation_date":1504695775,"answer_id":46073537,"question_id":46072947,"body_markdown":"ColumnPositionMappingStrategy#generateHeader returns empty array\n\n\n    /**\n     * This method returns an empty array.\n     * The column position mapping strategy assumes that there is no header, and\n     * thus it also does not write one, accordingly.\n     * @return An empty array\n     */\n    @Override\n    public String[] generateHeader() {\n        return new String[0];\n    }\n\n\nIf you remove MappingStrategy from BeanToCsv builder\n\n    \n\n    // replace \n    StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n    // with\n    StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build(); \n    \n\nIt will write Product&#39;s class members as CSV header\n\nIf your Product class members names are \n\n    &quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot;\n\nThis should be the right solution\n\nElse, add @CsvBindByName annotation\n\n\n\n    import com.opencsv.bean.CsvBindByName;\n    import com.opencsv.bean.StatefulBeanToCsv;\n    import com.opencsv.bean.StatefulBeanToCsvBuilder;\n    \n    import java.io.FileWriter;\n    import java.io.Writer;\n    import java.util.ArrayList;\n    import java.util.List;\n    \n    public class CsvTest {\n    \n        public static void main(String[] args) throws Exception {\n            Writer writer = new FileWriter(fileName);\n    \n            StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n            StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build();\n    \n            List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n            products.add(new Product(&quot;1&quot;, &quot;11&quot;, &quot;111&quot;));\n            products.add(new Product(&quot;2&quot;, &quot;22&quot;, &quot;222&quot;));\n            products.add(new Product(&quot;3&quot;, &quot;33&quot;, &quot;333&quot;));\n            beanWriter.write(products);\n            writer.close();\n        }\n    \n        public static class Product {\n            @CsvBindByName(column = &quot;productCode&quot;)\n            String id;\n            @CsvBindByName(column = &quot;MFD&quot;)\n            String member2;\n            @CsvBindByName(column = &quot;EXD&quot;)\n            String member3;\n    \n            Product(String id, String member2, String member3) {\n                this.id = id;\n                this.member2 = member2;\n                this.member3 = member3;\n            }\n    \n            public String getId() {\n                return id;\n            }\n    \n            public void setId(String id) {\n                this.id = id;\n            }\n    \n            public String getMember2() {\n                return member2;\n            }\n    \n            public void setMember2(String member2) {\n                this.member2 = member2;\n            }\n    \n            public String getMember3() {\n                return member3;\n            }\n    \n            public void setMember3(String member3) {\n                this.member3 = member3;\n            }\n        }\n    \n    }\n\n\nOutput:\n\n&gt; &quot;EXD&quot;,&quot;MFD&quot;,&quot;PRODUCTCODE&quot; \n&gt;\n&gt; &quot;111&quot;,&quot;11&quot;,&quot;1&quot; \n&gt;\n&gt; &quot;222&quot;,&quot;22&quot;,&quot;2&quot; \n&gt;\n&gt; &quot;333&quot;,&quot;33&quot;,&quot;3&quot;\n\n\nPay attention; class, getters &amp; setters needs to be public due to the use of Reflection by OpenCSV library","title":"StatefulBeanToCsv with Column headers","body":"<p>ColumnPositionMappingStrategy#generateHeader returns empty array</p>\n<pre><code>/**\n * This method returns an empty array.\n * The column position mapping strategy assumes that there is no header, and\n * thus it also does not write one, accordingly.\n * @return An empty array\n */\n@Override\npublic String[] generateHeader() {\n    return new String[0];\n}\n</code></pre>\n<p>If you remove MappingStrategy from BeanToCsv builder</p>\n<pre><code>// replace \nStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n// with\nStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build(); \n</code></pre>\n<p>It will write Product's class members as CSV header</p>\n<p>If your Product class members names are</p>\n<pre><code>&quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot;\n</code></pre>\n<p>This should be the right solution</p>\n<p>Else, add @CsvBindByName annotation</p>\n<pre><code>import com.opencsv.bean.CsvBindByName;\nimport com.opencsv.bean.StatefulBeanToCsv;\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\n\nimport java.io.FileWriter;\nimport java.io.Writer;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CsvTest {\n\n    public static void main(String[] args) throws Exception {\n        Writer writer = new FileWriter(fileName);\n\n        StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n        StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.build();\n\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n        products.add(new Product(&quot;1&quot;, &quot;11&quot;, &quot;111&quot;));\n        products.add(new Product(&quot;2&quot;, &quot;22&quot;, &quot;222&quot;));\n        products.add(new Product(&quot;3&quot;, &quot;33&quot;, &quot;333&quot;));\n        beanWriter.write(products);\n        writer.close();\n    }\n\n    public static class Product {\n        @CsvBindByName(column = &quot;productCode&quot;)\n        String id;\n        @CsvBindByName(column = &quot;MFD&quot;)\n        String member2;\n        @CsvBindByName(column = &quot;EXD&quot;)\n        String member3;\n\n        Product(String id, String member2, String member3) {\n            this.id = id;\n            this.member2 = member2;\n            this.member3 = member3;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getMember2() {\n            return member2;\n        }\n\n        public void setMember2(String member2) {\n            this.member2 = member2;\n        }\n\n        public String getMember3() {\n            return member3;\n        }\n\n        public void setMember3(String member3) {\n            this.member3 = member3;\n        }\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>&quot;EXD&quot;,&quot;MFD&quot;,&quot;PRODUCTCODE&quot;</p>\n<p>&quot;111&quot;,&quot;11&quot;,&quot;1&quot;</p>\n<p>&quot;222&quot;,&quot;22&quot;,&quot;2&quot;</p>\n<p>&quot;333&quot;,&quot;33&quot;,&quot;3&quot;</p>\n</blockquote>\n<p>Pay attention; class, getters &amp; setters needs to be public due to the use of Reflection by OpenCSV library</p>\n"},{"comments":[{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1675444667,"post_id":50797520,"comment_id":132937551,"body_markdown":"If you refactor your POJO you&#39;ll have to remember to change that line too.","body":"If you refactor your POJO you&#39;ll have to remember to change that line too."}],"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1528719351,"creation_date":1528719351,"answer_id":50797520,"question_id":46072947,"body_markdown":"I may have missed something obvious here but couldn&#39;t you just append your header String to the writer object?\r\n\r\n\r\n    Writer writer = new FileWriter(filePath);\r\n    writer.append(&quot;header1, header2, header3, ...etc \\n&quot;);\r\n    \r\n    // This will be followed by your code with BeanToCsvBuilder \r\n    // Note: the terminating \\n might differ pending env.\r\n\r\n","title":"StatefulBeanToCsv with Column headers","body":"<p>I may have missed something obvious here but couldn't you just append your header String to the writer object?</p>\n\n<pre><code>Writer writer = new FileWriter(filePath);\nwriter.append(\"header1, header2, header3, ...etc \\n\");\n\n// This will be followed by your code with BeanToCsvBuilder \n// Note: the terminating \\n might differ pending env.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22650,"reputation":2999,"user_id":56074,"accept_rate":100,"display_name":"sympatric greg"},"score":0,"creation_date":1587014771,"post_id":61061381,"comment_id":108343427,"body_markdown":"Elegant use of stream.  This seems the best implementation.","body":"Elegant use of stream.  This seems the best implementation."},{"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"score":0,"creation_date":1646033829,"post_id":61061381,"comment_id":126015915,"body_markdown":"This is the best solution - better than using a CustomMappingStrategy","body":"This is the best solution - better than using a CustomMappingStrategy"}],"tags":[],"owner":{"account_id":12061872,"reputation":101,"user_id":8820582,"display_name":"Bruno Muehlbauer de Souza"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587124849,"creation_date":1586181054,"answer_id":61061381,"question_id":46072947,"body_markdown":"You can append by annotation\r\n\r\n    public void export(List&lt;YourObject&gt; list, PrintWriter writer) throws Exception {\r\n    \t\twriter.append( buildHeader( YourObject.class ) );\r\n    \t\tStatefulBeanToCsvBuilder&lt;YourObject&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;( writer );\r\n    \t\tStatefulBeanToCsv&lt;YourObject&gt; beanWriter = builder.build();\r\n    \t\tbeanWriter.write( mapper.map( list ) );\r\n    \t\twriter.close();\r\n    \t}\r\n    \r\n    \tprivate String buildHeader(Class&lt;YourObject&gt; clazz) {\r\n    \t\treturn Arrays.stream( clazz.getDeclaredFields() )\r\n    \t\t\t\t.filter( f -&gt; f.getAnnotation( CsvBindByPosition.class ) != null\r\n    \t\t\t\t\t\t&amp;&amp; f.getAnnotation( CsvBindByName.class ) != null )\r\n    \t\t\t\t.sorted( Comparator.comparing( f -&gt; f.getAnnotation( CsvBindByPosition.class ).position() ) )\r\n    \t\t\t\t.map( f -&gt; f.getAnnotation( CsvBindByName.class ).column() )\r\n    \t\t\t\t.collect( Collectors.joining( &quot;,&quot; ) ) + &quot;\\n&quot;;\r\n    \t}\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class YourObject {\r\n    \r\n    \t@CsvBindByPosition(position = 0)\r\n    \t@CsvBindByName(column = &quot;A&quot;)\r\n    \tprivate Long a;\r\n    \r\n    \t@CsvBindByPosition(position = 1)\r\n    \t@CsvBindByName(column = &quot;B&quot;)\r\n    \tprivate String b;\r\n    \r\n    \t@CsvBindByPosition(position = 2)\r\n    \t@CsvBindByName(column = &quot;C&quot;)\r\n    \tprivate String c;\r\n    \r\n    }","title":"StatefulBeanToCsv with Column headers","body":"<p>You can append by annotation</p>\n\n<pre><code>public void export(List&lt;YourObject&gt; list, PrintWriter writer) throws Exception {\n        writer.append( buildHeader( YourObject.class ) );\n        StatefulBeanToCsvBuilder&lt;YourObject&gt; builder = new StatefulBeanToCsvBuilder&lt;&gt;( writer );\n        StatefulBeanToCsv&lt;YourObject&gt; beanWriter = builder.build();\n        beanWriter.write( mapper.map( list ) );\n        writer.close();\n    }\n\n    private String buildHeader(Class&lt;YourObject&gt; clazz) {\n        return Arrays.stream( clazz.getDeclaredFields() )\n                .filter( f -&gt; f.getAnnotation( CsvBindByPosition.class ) != null\n                        &amp;&amp; f.getAnnotation( CsvBindByName.class ) != null )\n                .sorted( Comparator.comparing( f -&gt; f.getAnnotation( CsvBindByPosition.class ).position() ) )\n                .map( f -&gt; f.getAnnotation( CsvBindByName.class ).column() )\n                .collect( Collectors.joining( \",\" ) ) + \"\\n\";\n    }\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class YourObject {\n\n    @CsvBindByPosition(position = 0)\n    @CsvBindByName(column = \"A\")\n    private Long a;\n\n    @CsvBindByPosition(position = 1)\n    @CsvBindByName(column = \"B\")\n    private String b;\n\n    @CsvBindByPosition(position = 2)\n    @CsvBindByName(column = \"C\")\n    private String c;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2762235,"reputation":9,"user_id":2378891,"display_name":"Saravanakumar V"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611694438,"creation_date":1611694438,"answer_id":65909135,"question_id":46072947,"body_markdown":"You could also override the generateHeaders method and return the column mapping that is set, which will have header row in csv\r\n\r\n    ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;() {\r\n            \t@Override\r\n            \tpublic String[] generateHeader(Product bean) throws CsvRequiredFieldEmptyException {\r\n            \t\treturn this.getColumnMapping();\r\n            \t}\r\n            };","title":"StatefulBeanToCsv with Column headers","body":"<p>You could also override the generateHeaders method and return the column mapping that is set, which will have header row in csv</p>\n<pre><code>ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;() {\n            @Override\n            public String[] generateHeader(Product bean) throws CsvRequiredFieldEmptyException {\n                return this.getColumnMapping();\n            }\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617178874,"creation_date":1617178874,"answer_id":66884098,"question_id":46072947,"body_markdown":"Use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.\r\n\r\nFrom the javadoc of `StatefulBeanToCsvBuilder.withMappingStrategy`:\r\n\r\n&gt; It is perfectly legitimate to read a CSV source, take the mapping strategy from the read operation, and pass it in to this method for a write operation. This conserves some processing time, but, more importantly, preserves header ordering.\r\n\r\nThis way you will get a CSV including headers, with columns in the same order as the original CSV.\r\n\r\nWorked for me using OpenCSV 5.4.","title":"StatefulBeanToCsv with Column headers","body":"<p>Use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.</p>\n<p>From the javadoc of <code>StatefulBeanToCsvBuilder.withMappingStrategy</code>:</p>\n<blockquote>\n<p>It is perfectly legitimate to read a CSV source, take the mapping strategy from the read operation, and pass it in to this method for a write operation. This conserves some processing time, but, more importantly, preserves header ordering.</p>\n</blockquote>\n<p>This way you will get a CSV including headers, with columns in the same order as the original CSV.</p>\n<p>Worked for me using OpenCSV 5.4.</p>\n"},{"comments":[{"owner":{"account_id":4711119,"reputation":1624,"user_id":3811599,"accept_rate":75,"display_name":"Marcel"},"score":0,"creation_date":1695131155,"post_id":73115551,"comment_id":135980918,"body_markdown":"Doesn&#39;t work for me","body":"Doesn&#39;t work for me"}],"tags":[],"owner":{"account_id":25563328,"reputation":1,"user_id":19345596,"display_name":"Stan Sokolov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658784654,"creation_date":1658784614,"answer_id":73115551,"question_id":46072947,"body_markdown":"Use a custom strategy\r\n\r\n        static class CustomStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n        public String[] generateHeader() {\r\n            return this.getColumnMapping();\r\n        }\r\n    }\r\n\r\nand on CSV object that you write do not forget to provide both \r\n\r\n    @CsvBindByName(column=&quot;UID&quot;)\r\n    @CsvBindByPosition(position = 3)","title":"StatefulBeanToCsv with Column headers","body":"<p>Use a custom strategy</p>\n<pre><code>    static class CustomStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    public String[] generateHeader() {\n        return this.getColumnMapping();\n    }\n}\n</code></pre>\n<p>and on CSV object that you write do not forget to provide both</p>\n<pre><code>@CsvBindByName(column=&quot;UID&quot;)\n@CsvBindByPosition(position = 3)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3169068,"reputation":316,"user_id":2678458,"display_name":"everis"},"score":0,"creation_date":1698253159,"post_id":77135348,"comment_id":136382849,"body_markdown":"Thanks, you saved my day!\nThis should be included to opencsv by default.","body":"Thanks, you saved my day! This should be included to opencsv by default."}],"tags":[],"owner":{"account_id":4711119,"reputation":1624,"user_id":3811599,"accept_rate":75,"display_name":"Marcel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695132831,"creation_date":1695132831,"answer_id":77135348,"question_id":46072947,"body_markdown":"For those who want to use HeaderName and Position together without reading a csv file first.\r\n\r\nIt&#39;s quite easy to achieve using a custom Mapping Strategy.\r\n\r\n```java\r\nstatic class NameAndPositionMappingStrategy&lt;T&gt; extends HeaderNameBaseMappingStrategy&lt;T&gt; {\r\n        public NameAndPositionMappingStrategy(Class&lt;T&gt; clazz) {\r\n            setType(clazz);\r\n            setColumnOrderOnWrite(new Comparator&lt;String&gt;() {\r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                    CsvBindByPosition pos1 = getFieldMap().get(o1).getField().getAnnotation(CsvBindByPosition.class);\r\n                    CsvBindByPosition pos2 = getFieldMap().get(o2).getField().getAnnotation(CsvBindByPosition.class);\r\n                    return Integer.compare(\r\n                       pos1 != null ? pos1.position() : 0,\r\n                       pos2 != null ? pos2.position() : 0\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nAnd in your bean you can now define both annotations\r\n\r\n```java\r\n public static class Product {\r\n        @CsvBindByPosition(position = 0)\r\n        @CsvBindByName(column = &quot;ID&quot;)\r\n        String id;\r\n\r\n        @CsvBindByPosition(position = 1)\r\n        @CsvBindByName(column = &quot;FIELD2&quot;)\r\n        String member2;\r\n\r\n        @CsvBindByPosition(position = 2)\r\n        @CsvBindByName(column = &quot;FIELD3&quot;)\r\n        String member3;\r\n    \r\n\r\n}\r\n```\r\n\r\nAnd the Writer should look like this:\r\n\r\n```java\r\n\r\nbuilder.withMappingStrategy(new NameAndPositionMappingStrategy&lt;Product&gt;(Product.class).build()\r\n```\r\n\r\n\r\nThis will use the CsvBindByName and CsvBindByPosition together. \r\n\r\n(Alternatively you can also just use the HeaderNameBaseMappingStrategy and set the ColumnOrderOnWrite without using inheritance)\r\n\r\n","title":"StatefulBeanToCsv with Column headers","body":"<p>For those who want to use HeaderName and Position together without reading a csv file first.</p>\n<p>It's quite easy to achieve using a custom Mapping Strategy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class NameAndPositionMappingStrategy&lt;T&gt; extends HeaderNameBaseMappingStrategy&lt;T&gt; {\n        public NameAndPositionMappingStrategy(Class&lt;T&gt; clazz) {\n            setType(clazz);\n            setColumnOrderOnWrite(new Comparator&lt;String&gt;() {\n                @Override\n                public int compare(String o1, String o2) {\n                    CsvBindByPosition pos1 = getFieldMap().get(o1).getField().getAnnotation(CsvBindByPosition.class);\n                    CsvBindByPosition pos2 = getFieldMap().get(o2).getField().getAnnotation(CsvBindByPosition.class);\n                    return Integer.compare(\n                       pos1 != null ? pos1.position() : 0,\n                       pos2 != null ? pos2.position() : 0\n                    );\n                }\n            });\n        }\n    }\n</code></pre>\n<p>And in your bean you can now define both annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static class Product {\n        @CsvBindByPosition(position = 0)\n        @CsvBindByName(column = &quot;ID&quot;)\n        String id;\n\n        @CsvBindByPosition(position = 1)\n        @CsvBindByName(column = &quot;FIELD2&quot;)\n        String member2;\n\n        @CsvBindByPosition(position = 2)\n        @CsvBindByName(column = &quot;FIELD3&quot;)\n        String member3;\n    \n\n}\n</code></pre>\n<p>And the Writer should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nbuilder.withMappingStrategy(new NameAndPositionMappingStrategy&lt;Product&gt;(Product.class).build()\n</code></pre>\n<p>This will use the CsvBindByName and CsvBindByPosition together.</p>\n<p>(Alternatively you can also just use the HeaderNameBaseMappingStrategy and set the ColumnOrderOnWrite without using inheritance)</p>\n"}],"owner":{"account_id":1017978,"reputation":15346,"user_id":1029088,"accept_rate":60,"display_name":"Bishan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48170,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46073537,"answer_count":7,"score":21,"last_activity_date":1695132831,"creation_date":1504693881,"question_id":46072947,"body_markdown":"I am using `opencsv-4.0` to write a csv file and I need to add column headers in output file.\r\n\r\nHere is my code.\r\n\r\n\tpublic static void buildProductCsv(final List&lt;Product&gt; product,\r\n\t\t\tfinal String filePath) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tWriter writer = new FileWriter(filePath);\r\n\r\n\t\t\t// mapping of columns with their positions\r\n\t\t\tColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;();\r\n\t\t\t// Set mappingStrategy type to Product Type\r\n\t\t\tmappingStrategy.setType(Product.class);\r\n\t\t\t// Fields in Product Bean\r\n\t\t\tString[] columns = new String[] { &quot;productCode&quot;, &quot;MFD&quot;, &quot;EXD&quot; };\r\n\t\t\t// Setting the colums for mappingStrategy\r\n\t\t\tmappingStrategy.setColumnMapping(columns);\r\n\r\n\t\t\tStatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;Product&gt;(writer);\r\n\r\n\t\t\tStatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\r\n\t\t\t// Writing data to csv file\r\n\t\t\tbeanWriter.write(product);\r\n\t\t\twriter.close();\r\n\r\n\t\t\tlog.info(&quot;Your csv file has been generated!&quot;);\r\n\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.warning(&quot;Exception: &quot; + ex.getMessage());\r\n\t\t}\r\n\r\n\t}\r\n\r\nAbove code create a csv file with data. But it not include column headers in that file.\r\n\r\nHow could I add column headers to output csv?","title":"StatefulBeanToCsv with Column headers","body":"<p>I am using <code>opencsv-4.0</code> to write a csv file and I need to add column headers in output file.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public static void buildProductCsv(final List&lt;Product&gt; product,\n        final String filePath) {\n\n    try {\n\n        Writer writer = new FileWriter(filePath);\n\n        // mapping of columns with their positions\n        ColumnPositionMappingStrategy&lt;Product&gt; mappingStrategy = new ColumnPositionMappingStrategy&lt;Product&gt;();\n        // Set mappingStrategy type to Product Type\n        mappingStrategy.setType(Product.class);\n        // Fields in Product Bean\n        String[] columns = new String[] { \"productCode\", \"MFD\", \"EXD\" };\n        // Setting the colums for mappingStrategy\n        mappingStrategy.setColumnMapping(columns);\n\n        StatefulBeanToCsvBuilder&lt;Product&gt; builder = new StatefulBeanToCsvBuilder&lt;Product&gt;(writer);\n\n        StatefulBeanToCsv&lt;Product&gt; beanWriter = builder.withMappingStrategy(mappingStrategy).build();\n        // Writing data to csv file\n        beanWriter.write(product);\n        writer.close();\n\n        log.info(\"Your csv file has been generated!\");\n\n    } catch (Exception ex) {\n        log.warning(\"Exception: \" + ex.getMessage());\n    }\n\n}\n</code></pre>\n\n<p>Above code create a csv file with data. But it not include column headers in that file.</p>\n\n<p>How could I add column headers to output csv?</p>\n"},{"tags":["java","xml","apache-camel","dsl"],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695132623,"creation_date":1695132623,"question_id":77135314,"body_markdown":"If I were to express what I want to do very simply: I want to extract the contents of a `abc.zip` file to another path, rename the zip file to `abc.zip.Extracted` and delete the `abc.zip` file.\r\nBut I can&#39;t do this because Apache Camel has already locked the file. The lock is unlocked after the route is completed, and then I do not have the information about the files.\r\n**XML Code:**\r\n\r\n    \t\t&lt;route id=&quot;extractFile&quot;&gt;\r\n\t\t\t&lt;from ref=&quot;filesToExtractEP&quot; /&gt;\r\n\t\t\t&lt;choice&gt;\r\n\t\t\t\t&lt;when&gt;\r\n\t\t\t\t\t&lt;simple&gt;${body} != null&lt;/simple&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Processing file ${header.CamelFileName}...&quot; /&gt;\r\n\t\t\t\t\t&lt;setHeader headerName=&quot;CamelFileName&quot;&gt;\r\n\t\t\t\t\t\t&lt;simple&gt;${bean:extractorProcessor?method=renameZipFileAfterExtractProcess(header.CamelFileName)}&lt;/simple&gt;\r\n\t\t\t\t\t&lt;/setHeader&gt;\r\n\t\t\t\t\t&lt;to ref=&quot;filesToExtractEP&quot;/&gt;\r\n\t\t\t\t\t&lt;unmarshal&gt;&lt;zipFile usingIterator=&quot;true&quot;/&gt;&lt;/unmarshal&gt;\r\n\t\t\t\t\t&lt;split streaming=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t&lt;simple&gt;${body}&lt;/simple&gt;\r\n\t\t\t\t\t\t&lt;log message=&quot;Starting to extract.&quot; /&gt;\r\n\t\t\t\t\t\t&lt;to ref=&quot;extractedFilesEP&quot; /&gt;\r\n\t\t\t\t\t&lt;/split&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Extraction completed.&quot; /&gt;\r\n\t\t\t\t\t&lt;process ref=&quot;zipFileDeleter&quot;/&gt;\r\n\t\t\t\t\t\t&lt;to uri=&quot;direct://completed&quot;/&gt;\r\n\t\t\t\t&lt;/when&gt;\r\n\t\t\t\t&lt;otherwise&gt;\r\n\t\t\t\t\t&lt;log message=&quot;Nothing found to extract.&quot; /&gt;\r\n\t\t\t\t\t&lt;transform&gt;\r\n\t\t            \t&lt;simple&gt;&#39;No files found to process&#39;&lt;/simple&gt;\r\n\t\t        \t&lt;/transform&gt;\r\n\t\t\t\t\t&lt;bean ref=&quot;routeStatusEmailer&quot; method=&quot;sendMail(*,*,true,${body},1)&quot;/&gt;\t\t\t\t\t\r\n\t\t\t\t&lt;/otherwise&gt;\r\n\t\t\t&lt;/choice&gt;\r\n\t\t&lt;/route&gt;\r\n\r\n**Java Class:**\r\n\r\n    public class ZipFileDeleter implements Processor {\r\n        @Override\r\n        public void process(Exchange exchange) throws Exception {\r\n            String filePath = exchange.getIn().getHeader(Exchange.FILE_PATH, String.class);\r\n            new ZipFile(filePath).close();\r\n            try {\r\n                Files.delete(Paths.get(filePath));\r\n            } catch (IOException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Apache Camel Renaming A Zip File And Deleting After Extraction","body":"<p>If I were to express what I want to do very simply: I want to extract the contents of a <code>abc.zip</code> file to another path, rename the zip file to <code>abc.zip.Extracted</code> and delete the <code>abc.zip</code> file.\nBut I can't do this because Apache Camel has already locked the file. The lock is unlocked after the route is completed, and then I do not have the information about the files.\n<strong>XML Code:</strong></p>\n<pre><code>        &lt;route id=&quot;extractFile&quot;&gt;\n        &lt;from ref=&quot;filesToExtractEP&quot; /&gt;\n        &lt;choice&gt;\n            &lt;when&gt;\n                &lt;simple&gt;${body} != null&lt;/simple&gt;\n                &lt;log message=&quot;Processing file ${header.CamelFileName}...&quot; /&gt;\n                &lt;setHeader headerName=&quot;CamelFileName&quot;&gt;\n                    &lt;simple&gt;${bean:extractorProcessor?method=renameZipFileAfterExtractProcess(header.CamelFileName)}&lt;/simple&gt;\n                &lt;/setHeader&gt;\n                &lt;to ref=&quot;filesToExtractEP&quot;/&gt;\n                &lt;unmarshal&gt;&lt;zipFile usingIterator=&quot;true&quot;/&gt;&lt;/unmarshal&gt;\n                &lt;split streaming=&quot;true&quot;&gt;\n                    &lt;simple&gt;${body}&lt;/simple&gt;\n                    &lt;log message=&quot;Starting to extract.&quot; /&gt;\n                    &lt;to ref=&quot;extractedFilesEP&quot; /&gt;\n                &lt;/split&gt;\n                &lt;log message=&quot;Extraction completed.&quot; /&gt;\n                &lt;process ref=&quot;zipFileDeleter&quot;/&gt;\n                    &lt;to uri=&quot;direct://completed&quot;/&gt;\n            &lt;/when&gt;\n            &lt;otherwise&gt;\n                &lt;log message=&quot;Nothing found to extract.&quot; /&gt;\n                &lt;transform&gt;\n                    &lt;simple&gt;'No files found to process'&lt;/simple&gt;\n                &lt;/transform&gt;\n                &lt;bean ref=&quot;routeStatusEmailer&quot; method=&quot;sendMail(*,*,true,${body},1)&quot;/&gt;                  \n            &lt;/otherwise&gt;\n        &lt;/choice&gt;\n    &lt;/route&gt;\n</code></pre>\n<p><strong>Java Class:</strong></p>\n<pre><code>public class ZipFileDeleter implements Processor {\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        String filePath = exchange.getIn().getHeader(Exchange.FILE_PATH, String.class);\n        new ZipFile(filePath).close();\n        try {\n            Files.delete(Paths.get(filePath));\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695228190,"post_id":77135201,"comment_id":135997495,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":17330816,"reputation":1,"user_id":12553965,"display_name":"serhii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695132248,"creation_date":1695131695,"question_id":77135201,"body_markdown":"I need to implement Apache Spark in existed backend application.\r\nFor storing objects in our application we use BlockingQueue&lt;OurEntity&gt; and we put objects in this queue during app runs. It means, that all objects which will put to queue after executing commant javaSparkContext.parallelize(myOwnList) wont be available in Spark Topology.\r\n\r\nSo, for implementing Spark I have to find solutions for next 2 points:\r\n1. How I can create JavaRDD from this queue? We can create JavaRDD from file, List..., but not from queue. Should I use List instead?\r\n2. How to provide to Spark new objects which were put to Collection after executing javaSparkContext.parallelize(myOwnList). Should I use patter Observer to run Spark Topology when objects were put to List?  \r\n\r\n1 question - I can use List, but I need to try to save usage for BlockingQueue\r\n2 question - It&#39;s difficult to implement pattern Observer in our source code.","title":"Can JavaSparkContext create JavaRDD from Queue(Collection API)","body":"<p>I need to implement Apache Spark in existed backend application.\nFor storing objects in our application we use BlockingQueue and we put objects in this queue during app runs. It means, that all objects which will put to queue after executing commant javaSparkContext.parallelize(myOwnList) wont be available in Spark Topology.</p>\n<p>So, for implementing Spark I have to find solutions for next 2 points:</p>\n<ol>\n<li>How I can create JavaRDD from this queue? We can create JavaRDD from file, List..., but not from queue. Should I use List instead?</li>\n<li>How to provide to Spark new objects which were put to Collection after executing javaSparkContext.parallelize(myOwnList). Should I use patter Observer to run Spark Topology when objects were put to List?</li>\n</ol>\n<p>1 question - I can use List, but I need to try to save usage for BlockingQueue\n2 question - It's difficult to implement pattern Observer in our source code.</p>\n"},{"tags":["java","tomcat","jersey","jax-rs","jakarta-migration"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1694724274,"post_id":77092777,"comment_id":135932848,"body_markdown":"Have you upgraded Jersey, too?","body":"Have you upgraded Jersey, too?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1694786044,"post_id":77092777,"comment_id":135940943,"body_markdown":"@jan.supol  yes,  all jersey Jars are on 3.0.2.  I updated the main question with their info.","body":"@jan.supol  yes,  all jersey Jars are on 3.0.2.  I updated the main question with their info."}],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695132013,"creation_date":1695132013,"answer_id":77135233,"question_id":77092777,"body_markdown":"I fixed this by targeting all my jars based on my Tomcat version.  I found that my tomcat version used Jakarta ee 9, and I target all my third party jars around that. \r\n\r\nSpecifically in my case it was the version of the hk2 jars that were the culprit. ","title":"java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope","body":"<p>I fixed this by targeting all my jars based on my Tomcat version.  I found that my tomcat version used Jakarta ee 9, and I target all my third party jars around that.</p>\n<p>Specifically in my case it was the version of the hk2 jars that were the culprit.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77135233,"answer_count":1,"score":0,"last_activity_date":1695132013,"creation_date":1694553994,"question_id":77092777,"body_markdown":"I am upgrading a Tomcat web applications from Tomcat 9.0.78 to 10.0.14 and moved all my imports from the javax.servelet name space to jakarta.servelt name space and have also upgraded hibernate.  \r\n\r\nWhile I have been able to resolve most of the issues I am stuck with the following error I see in /tomcat/logs/localhost.2023-09-12.log\r\n\r\nI have tried removing jars from tomcat/lib such as jakarta.inject-2.6.1.jar and jakarta.inject-api-2.0.0.jar but these cause class not found exceptions. \r\n\r\nI assumed the error means that two separate places are trying to instantiate org.glassfish.jersey.inject.hk2.RequestContext but I cannot figure out where. \r\n\r\nEDIT:\r\n\r\nHaving looked at the source code, it is not an issue that org.glassfish.jersey.inject.hk2.RequestContext is being created twice but that it does not implement jakarta.singleton space.  \r\n\r\n\r\nas per jan.supol&#39;s comment all jersey jars are on version 3.0.2, one of which contains the offending class. \r\n\r\n\r\n```\r\njersey-hk2-3.0.2.jar:\r\n      877  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder$1.class\r\n     1170  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder.class\r\n     4459  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext.class\r\n\r\n\r\n-rwxrwxr-x 1 root tomcat   31856 Sep  6 11:11 jersey-container-servlet-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat 1170111 Sep  6 11:11 jersey-common-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat   75633 Sep  6 11:11 jersey-hk2-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat   72355 Sep  6 11:11 jersey-container-servlet-core-3.0.2.jar\r\n-rwxrwxr-x 1 root tomcat  934996 Sep  6 11:11 jersey-server-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      94880 Sep 14 12:17 jersey-media-jaxb-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      79408 Sep 14 12:17 jersey-media-sse-3.0.2.jar\r\n-rw-rw-r-- 1 vcr  vcr      26118 Sep 14 12:17 jersey-media-json-binding-3.0.2.jar\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n023 12:14:49.238 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [jersey-serlvet] in web application [/ngen] threw load() exception\r\n        java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\r\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1700)\r\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2095)\r\n                at org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\r\n                at org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\r\n                at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\r\n                at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\r\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\r\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\r\n                at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\r\n                at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\r\n                at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\r\n                at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\r\n                at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\r\n                at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\r\n                at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\r\n                at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4906)\r\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\r\n                at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1188)\r\n                at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2023)\r\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n                at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1098)\r\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:480)\r\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1708)\r\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:320)\r\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\n```\r\nThe following are my dependencies for glass fish: \r\n```\r\n\r\n\t\t&lt;h2k.version&gt;3.0.2&lt;/h2k.version&gt; \r\n\t\t&lt;h2k.locator.version&gt;3.0.1&lt;/h2k.locator.version&gt;\r\n\t\t&lt;jakarta.inject.version&gt;2.6.1&lt;/jakarta.inject.version&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-locator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.locator.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${h2k.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n","title":"java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope","body":"<p>I am upgrading a Tomcat web applications from Tomcat 9.0.78 to 10.0.14 and moved all my imports from the javax.servelet name space to jakarta.servelt name space and have also upgraded hibernate.</p>\n<p>While I have been able to resolve most of the issues I am stuck with the following error I see in /tomcat/logs/localhost.2023-09-12.log</p>\n<p>I have tried removing jars from tomcat/lib such as jakarta.inject-2.6.1.jar and jakarta.inject-api-2.0.0.jar but these cause class not found exceptions.</p>\n<p>I assumed the error means that two separate places are trying to instantiate org.glassfish.jersey.inject.hk2.RequestContext but I cannot figure out where.</p>\n<p>EDIT:</p>\n<p>Having looked at the source code, it is not an issue that org.glassfish.jersey.inject.hk2.RequestContext is being created twice but that it does not implement jakarta.singleton space.</p>\n<p>as per jan.supol's comment all jersey jars are on version 3.0.2, one of which contains the offending class.</p>\n<pre><code>jersey-hk2-3.0.2.jar:\n      877  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder$1.class\n     1170  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext$Binder.class\n     4459  01-01-1980 00:00   org/glassfish/jersey/inject/hk2/RequestContext.class\n\n\n-rwxrwxr-x 1 root tomcat   31856 Sep  6 11:11 jersey-container-servlet-3.0.2.jar\n-rwxrwxr-x 1 root tomcat 1170111 Sep  6 11:11 jersey-common-3.0.2.jar\n-rwxrwxr-x 1 root tomcat   75633 Sep  6 11:11 jersey-hk2-3.0.2.jar\n-rwxrwxr-x 1 root tomcat   72355 Sep  6 11:11 jersey-container-servlet-core-3.0.2.jar\n-rwxrwxr-x 1 root tomcat  934996 Sep  6 11:11 jersey-server-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      94880 Sep 14 12:17 jersey-media-jaxb-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      79408 Sep 14 12:17 jersey-media-sse-3.0.2.jar\n-rw-rw-r-- 1 vcr  vcr      26118 Sep 14 12:17 jersey-media-json-binding-3.0.2.jar\n</code></pre>\n<pre><code>023 12:14:49.238 SEVERE [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [jersey-serlvet] in web application [/ngen] threw load() exception\n        java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1700)\n                at org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2095)\n                at org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\n                at org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\n                at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\n                at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\n                at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\n                at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\n                at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\n                at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n                at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:347)\n                at jakarta.servlet.GenericServlet.init(GenericServlet.java:158)\n                at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1165)\n                at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1118)\n                at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1011)\n                at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4906)\n                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:747)\n                at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1188)\n                at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:2023)\n                at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n                at org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:1098)\n                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:480)\n                at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1708)\n                at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:320)\n                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n                at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n                at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n                at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n                at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n                at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n                at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n                at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n                at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n\n</code></pre>\n<p>The following are my dependencies for glass fish:</p>\n<pre><code>\n        &lt;h2k.version&gt;3.0.2&lt;/h2k.version&gt; \n        &lt;h2k.locator.version&gt;3.0.1&lt;/h2k.locator.version&gt;\n        &lt;jakarta.inject.version&gt;2.6.1&lt;/jakarta.inject.version&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-api&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-locator&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.locator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-utils&lt;/artifactId&gt;\n            &lt;version&gt;${h2k.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","kotlin","jarsigner","jar-signing","jpackage"],"answers":[{"comments":[{"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"score":0,"creation_date":1680280028,"post_id":75900683,"comment_id":133877083,"body_markdown":"I&#39;m not concerned with ensuring the person running the application hasn&#39;t changed it. I&#39;m concerned with ensuring that a bad actor hasn&#39;t modified the application.\n\nI&#39;m using jpackage to create a desktop application. This application is basically a shell, and will then download other jar files (the actual application) and run them.\n\nBecause of how MacOS and Windows MSIX packages work, I&#39;m forced to store these downloaded Jar files where the OS doesn&#39;t protect them in any way, and any application can modify them.\n\nHow can I ensure that nothing has modified these Jars?","body":"I&#39;m not concerned with ensuring the person running the application hasn&#39;t changed it. I&#39;m concerned with ensuring that a bad actor hasn&#39;t modified the application.  I&#39;m using jpackage to create a desktop application. This application is basically a shell, and will then download other jar files (the actual application) and run them.  Because of how MacOS and Windows MSIX packages work, I&#39;m forced to store these downloaded Jar files where the OS doesn&#39;t protect them in any way, and any application can modify them.  How can I ensure that nothing has modified these Jars?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1680305311,"post_id":75900683,"comment_id":133881740,"body_markdown":"You check that it&#39;s still signed by the party you expect it to be signed by.","body":"You check that it&#39;s still signed by the party you expect it to be signed by."},{"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"score":0,"creation_date":1680366017,"post_id":75900683,"comment_id":133887910,"body_markdown":"@ArfurNarf How do you do that programatically?","body":"@ArfurNarf How do you do that programatically?"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1680279309,"creation_date":1680279309,"answer_id":75900683,"question_id":75900617,"body_markdown":"JAR signing is about verification by the one running the application that it hasn&#39;t been modified since it was signed. In addition, based on the certificate, you can check *who* signed it.\r\n\r\nIt does not protect against modification by the one running the application: they can strip out the signature, or they can sign it themselves, and if you have code in your application to verify the signature, they can also replace that code to perform no verification or verify against their certificate.\r\n\r\nIn other words, yes, you&#39;re right, it doesn&#39;t protect you from the scenario you have in mind. It is also not intended for that scenario (as in, it is not a form of DRM).\r\n\r\nWhether or not you consider it safe for desktop use is, again, up to the person/company *running* the application. They can configure their security policy in such way to accept only certain signing certificates.\r\n\r\nYou may also want to read the Java tutorial [Signing and Verifying JAR Files][1], especially the chapter [Understanding Signing and Verification][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/signindex.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/intro.html","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>JAR signing is about verification by the one running the application that it hasn't been modified since it was signed. In addition, based on the certificate, you can check <em>who</em> signed it.</p>\n<p>It does not protect against modification by the one running the application: they can strip out the signature, or they can sign it themselves, and if you have code in your application to verify the signature, they can also replace that code to perform no verification or verify against their certificate.</p>\n<p>In other words, yes, you're right, it doesn't protect you from the scenario you have in mind. It is also not intended for that scenario (as in, it is not a form of DRM).</p>\n<p>Whether or not you consider it safe for desktop use is, again, up to the person/company <em>running</em> the application. They can configure their security policy in such way to accept only certain signing certificates.</p>\n<p>You may also want to read the Java tutorial <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/signindex.html\" rel=\"nofollow noreferrer\">Signing and Verifying JAR Files</a>, especially the chapter <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/intro.html\" rel=\"nofollow noreferrer\">Understanding Signing and Verification</a>.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694849261,"post_id":77115844,"comment_id":135947810,"body_markdown":"This reads as an advertisement, and not an answer to the question asked.","body":"This reads as an advertisement, and not an answer to the question asked."},{"owner":{"account_id":6380665,"reputation":39,"user_id":4950224,"display_name":"Snaps-a-Lot"},"score":0,"creation_date":1695127889,"post_id":77115844,"comment_id":135980180,"body_markdown":"Thanks for the feedback,  @MarkRotteveel t.   I re-wrote my reply.  Do you think it reads more like an answer now?","body":"Thanks for the feedback,  @MarkRotteveel t.   I re-wrote my reply.  Do you think it reads more like an answer now?"}],"tags":[],"owner":{"account_id":6380665,"reputation":39,"user_id":4950224,"display_name":"Snaps-a-Lot"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695131922,"creation_date":1694822006,"answer_id":77115844,"question_id":75900617,"body_markdown":"Updating your Java client applications to use [Java Network Launch protocol (JNLP)][1], as implemented with the &quot;Java Web Start&quot; framework, would address you concerns.  JNLP, originally implemented in Java 1.8, is not included in the OpenJDK.  But you can use it with OpenJDK 11 and higher by incorporating the open source package [OpenWebStart][2]. \r\n\r\nFor each application, you would author an [XML file with a JNLP extension][5] which your users would run instead of executing jars directly.  JNLP will then download the jars and executes them securely on the user&#39;s behalf.\r\n\r\nTo ensure that your jar files are not tampered with, you will need to sign them with a code signing certificate using Java&#39;s jarsigner utility as described on this SO posting:\r\n\r\n[Signing a jar file with trusted certificate for JWS deployment][3]\r\n\r\nTo establish trust of your code signing certificate, OpenWedStart provides a way to import your code signing certificate PFX file to a trusted certificate store:\r\n\r\n[Importing certificates for use with OpenWebStart][4]\r\n\r\nAt runtime, JNLP executes only jars that it downloads to its local cache and ensures they are signed with a trusted code signing signature.  And that will protect your jars from tampering.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Web_Start#:~:text=Java%20Network%20Launching%20Protocol%20(JNLP),-Programmers%20often%20speak&amp;text=JNLP%20consists%20of%20a%20set,other%20parameters%20for%20the%20program.\r\n  [2]: https://github.com/karakun/OpenWebStart/\r\n  [3]: https://stackoverflow.com/questions/19458676\r\n  [4]: https://openwebstart.com/docs/OWSGuide.html#_certificates\r\n  [5]: https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>Updating your Java client applications to use <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start#:%7E:text=Java%20Network%20Launching%20Protocol%20(JNLP),-Programmers%20often%20speak&amp;text=JNLP%20consists%20of%20a%20set,other%20parameters%20for%20the%20program.\" rel=\"nofollow noreferrer\">Java Network Launch protocol (JNLP)</a>, as implemented with the &quot;Java Web Start&quot; framework, would address you concerns.  JNLP, originally implemented in Java 1.8, is not included in the OpenJDK.  But you can use it with OpenJDK 11 and higher by incorporating the open source package <a href=\"https://github.com/karakun/OpenWebStart/\" rel=\"nofollow noreferrer\">OpenWebStart</a>.</p>\n<p>For each application, you would author an <a href=\"https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html\" rel=\"nofollow noreferrer\">XML file with a JNLP extension</a> which your users would run instead of executing jars directly.  JNLP will then download the jars and executes them securely on the user's behalf.</p>\n<p>To ensure that your jar files are not tampered with, you will need to sign them with a code signing certificate using Java's jarsigner utility as described on this SO posting:</p>\n<p><a href=\"https://stackoverflow.com/questions/19458676\">Signing a jar file with trusted certificate for JWS deployment</a></p>\n<p>To establish trust of your code signing certificate, OpenWedStart provides a way to import your code signing certificate PFX file to a trusted certificate store:</p>\n<p><a href=\"https://openwebstart.com/docs/OWSGuide.html#_certificates\" rel=\"nofollow noreferrer\">Importing certificates for use with OpenWebStart</a></p>\n<p>At runtime, JNLP executes only jars that it downloads to its local cache and ensures they are signed with a trusted code signing signature.  And that will protect your jars from tampering.</p>\n"}],"owner":{"account_id":216468,"reputation":15127,"user_id":471744,"accept_rate":68,"display_name":"spierce7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":75900683,"answer_count":2,"score":1,"last_activity_date":1695131922,"creation_date":1680278808,"question_id":75900617,"body_markdown":"I have a Java desktop application. I&#39;m downloading and dynamically running JAR files. JAR signing protects me from someone modifying the JAR file that I&#39;ve downloaded. How would I verify that my application only runs JARs that I&#39;ve signed though?\r\n\r\nWithout ensuring that all JARs I&#39;m running are signed by me, then isn&#39;t JAR signing still insecure for desktop use?","title":"JAR signing stops someone from modifying a JAR, but what stops someone from swapping the JAR with their own that they&#39;ve signed, or is unsigned?","body":"<p>I have a Java desktop application. I'm downloading and dynamically running JAR files. JAR signing protects me from someone modifying the JAR file that I've downloaded. How would I verify that my application only runs JARs that I've signed though?</p>\n<p>Without ensuring that all JARs I'm running are signed by me, then isn't JAR signing still insecure for desktop use?</p>\n"},{"tags":["java","char","read.csv"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695132227,"post_id":77135220,"comment_id":135981178,"body_markdown":"It worked for me...","body":"It worked for me..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695132277,"post_id":77135220,"comment_id":135981189,"body_markdown":"Make sure your input file is not saved with a Byte Order Marker (BOM). Java `Reader`s don&#39;t process them as special","body":"Make sure your input file is not saved with a Byte Order Marker (BOM). Java <code>Reader</code>s don&#39;t process them as special"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695132959,"post_id":77135220,"comment_id":135981328,"body_markdown":"`System.out.printf(&quot;%04x%n&quot;, (int)row[0].charAt(0));` might be interesting","body":"<code>System.out.printf(&quot;%04x%n&quot;, (int)row[0].charAt(0));</code> might be interesting"},{"owner":{"account_id":17446190,"reputation":13,"user_id":12647190,"display_name":"Jimmy "},"score":0,"creation_date":1695134648,"post_id":77135220,"comment_id":135981715,"body_markdown":"@g00se Hum... so strange, it suddenly work after I open the csv with &quot;text edit&quot; app and save again (I used excel before, I think that&#39;s the cause because I tried with duplication of the file and the error occur again). But I tried your code, before it worked, for the missing &quot;A&quot;, I get &quot;feff&quot; which is different from other I got number such as 0042 ......","body":"@g00se Hum... so strange, it suddenly work after I open the csv with &quot;text edit&quot; app and save again (I used excel before, I think that&#39;s the cause because I tried with duplication of the file and the error occur again). But I tried your code, before it worked, for the missing &quot;A&quot;, I get &quot;feff&quot; which is different from other I got number such as 0042 ......"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695137660,"post_id":77135220,"comment_id":135982423,"body_markdown":"*I get &quot;feff&quot;* That&#39;s the BOM","body":"<i>I get &quot;feff&quot;</i> That&#39;s the BOM"}],"owner":{"account_id":17446190,"reputation":13,"user_id":12647190,"display_name":"Jimmy "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695131917,"creation_date":1695131917,"question_id":77135220,"body_markdown":"I have a csv file:\r\n\r\n```\r\nA,1\r\nB,2\r\nC,3\r\n```\r\n\r\nWhenever I try to get the character of the first column of the first row using .charAt(0), it return nothing.\r\n\r\nI tried to read the csv row by row and print the whole row and the element in the first column, the expected result to get this:\r\n\r\n```\r\n[A,1]\r\nA\r\n[B,2]\r\nB\r\n[C,3]\r\nC\r\n```\r\n\r\nHowever, I got this as output, first element in first row went missing:\r\n\r\n```\r\n[A,1]\r\n\r\n[B,2]\r\nB\r\n[C,3]\r\nC\r\n```\r\n\r\nThis is my code:\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\n\r\npublic class trail {\r\n\r\n public static void main(String[] args) {\r\n  \r\n  String file = &quot;src/Book4.csv&quot;;\r\n  BufferedReader reader = null;\r\n  String line = &quot;&quot;;\r\n  \r\n\r\n\r\n  \r\n  try {\r\n      reader = new BufferedReader(new FileReader(file));\r\n      while ((line = reader.readLine()) != null) {\r\n          String[] row = line.split(&quot;,&quot;);           \r\n          System.out.println(Arrays.toString(row));\r\n          System.out.println(row[0].charAt(0));\r\n          \r\n                         \r\n      }\r\n  } catch (Exception e) {\r\n      e.printStackTrace();\r\n  } finally {\r\n      try {\r\n          reader.close();\r\n      } catch (IOException e) {\r\n          e.printStackTrace();\r\n      }\r\n  }\r\n  \r\n    \r\n }\r\n \r\n \r\n \r\n}\r\n```\r\n\r\nBut if i change the `System.out.println(row[0].charAt(0));`  to `System.out.println(row[0]);` , it output correctly, but I need the element as char later.","title":"Element missing in the first column of the first row when reading CSV in java","body":"<p>I have a csv file:</p>\n<pre><code>A,1\nB,2\nC,3\n</code></pre>\n<p>Whenever I try to get the character of the first column of the first row using .charAt(0), it return nothing.</p>\n<p>I tried to read the csv row by row and print the whole row and the element in the first column, the expected result to get this:</p>\n<pre><code>[A,1]\nA\n[B,2]\nB\n[C,3]\nC\n</code></pre>\n<p>However, I got this as output, first element in first row went missing:</p>\n<pre><code>[A,1]\n\n[B,2]\nB\n[C,3]\nC\n</code></pre>\n<p>This is my code:</p>\n<pre><code>package application;\n\nimport java.io.*;\nimport java.util.Arrays;\n\npublic class trail {\n\n public static void main(String[] args) {\n  \n  String file = &quot;src/Book4.csv&quot;;\n  BufferedReader reader = null;\n  String line = &quot;&quot;;\n  \n\n\n  \n  try {\n      reader = new BufferedReader(new FileReader(file));\n      while ((line = reader.readLine()) != null) {\n          String[] row = line.split(&quot;,&quot;);           \n          System.out.println(Arrays.toString(row));\n          System.out.println(row[0].charAt(0));\n          \n                         \n      }\n  } catch (Exception e) {\n      e.printStackTrace();\n  } finally {\n      try {\n          reader.close();\n      } catch (IOException e) {\n          e.printStackTrace();\n      }\n  }\n  \n    \n }\n \n \n \n}\n</code></pre>\n<p>But if i change the <code>System.out.println(row[0].charAt(0));</code>  to <code>System.out.println(row[0]);</code> , it output correctly, but I need the element as char later.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694618,"post_id":75662432,"comment_id":133576225,"body_markdown":"This could be a bug. Please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"This could be a bug. Please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"answers":[{"tags":[],"owner":{"account_id":10384070,"reputation":71,"user_id":7657805,"display_name":"RasAlGhul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695131832,"creation_date":1695131832,"answer_id":77135212,"question_id":75662432,"body_markdown":"For now, I didn&#39;t try to update my hibernate or Spring Boot versions, but it might have been fixed:\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847 ","title":"Hibernate entity with @Any attribute throws a nullpointer exception when updating","body":"<p>For now, I didn't try to update my hibernate or Spring Boot versions, but it might have been fixed:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2935#event-9915627847</a></p>\n"}],"owner":{"account_id":10384070,"reputation":71,"user_id":7657805,"display_name":"RasAlGhul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695131832,"creation_date":1678194759,"question_id":75662432,"body_markdown":"I&#39;m trying to use @Any annotation for a polymorphic relationship.\r\n\r\nFor demo purpose, I&#39;ve created 3 classes:\r\n\r\n- PcPlayer which implements Player interface\r\n- ConsolePlayer which implements Player interface\r\n- GameScore which contains a Player with @Any.\r\n\r\nI can create a GameScore with a player without any trouble, but when I try to update it, a nullpointer exception occurs:\r\n\r\n&gt; Cannot invoke &quot;org.hibernate.metamodel.mapping.AttributeMapping.getAttributeMetadataAccess()&quot; because the return value of &quot;org.hibernate.sql.results.graph.Fetchable.asAttributeMapping()&quot; is null. \r\n\r\nHere&#39;s my code\r\n\r\n**PcPlayer**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\npublic class PcPlayer implements Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    private String username;\r\n\r\n}\r\n```\r\n\r\n**ConsolePlayer**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\npublic class ConsolePlayer implements Player {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    private String username;\r\n\r\n}\r\n```\r\n\r\n**GameScore**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.Any;\r\nimport org.hibernate.annotations.AnyDiscriminator;\r\nimport org.hibernate.annotations.AnyDiscriminatorValue;\r\nimport org.hibernate.annotations.AnyKeyJavaClass;\r\n\r\n@Entity\r\npublic class GameScore  {\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Player getPlayer() {\r\n        return player;\r\n    }\r\n\r\n    public void setPlayer(Player player) {\r\n        this.player = player;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Any\r\n    @AnyDiscriminator(DiscriminatorType.STRING)\r\n    @AnyDiscriminatorValue(discriminator = &quot;P&quot;, entity = PcPlayer.class)\r\n    @AnyDiscriminatorValue(discriminator = &quot;C&quot;, entity = ConsolePlayer.class)\r\n    @AnyKeyJavaClass(Long.class)\r\n    @Column(name =&quot;player_type&quot;)\r\n    @JoinColumn(name = &quot;property_id&quot;)\r\n    private Player player;  \r\n\r\n}\r\n```\r\n\r\n**A service**\r\n\r\n```\r\n    PcPlayer pcPlayer = new PcPlayer();\r\n    pcPlayer.setUsername(&quot;Mike&quot;);\r\n\r\n    pcPlayerRepo.save(pcPlayer);\r\n\r\n    GameScore game = new GameScore();\r\n    game.setPlayer(pcPlayer);\r\n\r\n    gameScoreRepository.save(game);\r\n\r\n    // update some game&#39;s attributes\r\n\r\n    gameScoreRepository.save(game); // Exception thrown...\r\n```","title":"Hibernate entity with @Any attribute throws a nullpointer exception when updating","body":"<p>I'm trying to use @Any annotation for a polymorphic relationship.</p>\n<p>For demo purpose, I've created 3 classes:</p>\n<ul>\n<li>PcPlayer which implements Player interface</li>\n<li>ConsolePlayer which implements Player interface</li>\n<li>GameScore which contains a Player with @Any.</li>\n</ul>\n<p>I can create a GameScore with a player without any trouble, but when I try to update it, a nullpointer exception occurs:</p>\n<blockquote>\n<p>Cannot invoke &quot;org.hibernate.metamodel.mapping.AttributeMapping.getAttributeMetadataAccess()&quot; because the return value of &quot;org.hibernate.sql.results.graph.Fetchable.asAttributeMapping()&quot; is null.</p>\n</blockquote>\n<p>Here's my code</p>\n<p><strong>PcPlayer</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\npublic class PcPlayer implements Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    private String username;\n\n}\n</code></pre>\n<p><strong>ConsolePlayer</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\npublic class ConsolePlayer implements Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    private String username;\n\n}\n</code></pre>\n<p><strong>GameScore</strong></p>\n<pre><code>package com.example.demo;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.annotations.Any;\nimport org.hibernate.annotations.AnyDiscriminator;\nimport org.hibernate.annotations.AnyDiscriminatorValue;\nimport org.hibernate.annotations.AnyKeyJavaClass;\n\n@Entity\npublic class GameScore  {\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Player getPlayer() {\n        return player;\n    }\n\n    public void setPlayer(Player player) {\n        this.player = player;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Any\n    @AnyDiscriminator(DiscriminatorType.STRING)\n    @AnyDiscriminatorValue(discriminator = &quot;P&quot;, entity = PcPlayer.class)\n    @AnyDiscriminatorValue(discriminator = &quot;C&quot;, entity = ConsolePlayer.class)\n    @AnyKeyJavaClass(Long.class)\n    @Column(name =&quot;player_type&quot;)\n    @JoinColumn(name = &quot;property_id&quot;)\n    private Player player;  \n\n}\n</code></pre>\n<p><strong>A service</strong></p>\n<pre><code>    PcPlayer pcPlayer = new PcPlayer();\n    pcPlayer.setUsername(&quot;Mike&quot;);\n\n    pcPlayerRepo.save(pcPlayer);\n\n    GameScore game = new GameScore();\n    game.setPlayer(pcPlayer);\n\n    gameScoreRepository.save(game);\n\n    // update some game's attributes\n\n    gameScoreRepository.save(game); // Exception thrown...\n</code></pre>\n"},{"tags":["java","cryptography","rsa","private-key","public-key"],"answers":[{"comments":[{"owner":{"account_id":1667625,"reputation":7233,"user_id":1534725,"display_name":"Syon"},"score":4,"creation_date":1405422764,"post_id":24756421,"comment_id":38410807,"body_markdown":"The public key exponent for RSA is not fixed at 65537, this is simply the most common value for it. Because the private key exponent is dependent on the public key exponent, this solution will not work for all situations.","body":"The public key exponent for RSA is not fixed at 65537, this is simply the most common value for it. Because the private key exponent is dependent on the public key exponent, this solution will not work for all situations."},{"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"score":0,"creation_date":1405422948,"post_id":24756421,"comment_id":38410921,"body_markdown":"@Syon you are right on this one, I corrected this, but using e≠65537 would reduce compatibility with existing hardware or software, and break conformance to some standards or prescriptions of security authorities therefore you wont find this normally. More informations here:\nhttp://crypto.stackexchange.com/questions/3110/impacts-of-not-using-rsa-exponent-of-65537","body":"@Syon you are right on this one, I corrected this, but using e≠65537 would reduce compatibility with existing hardware or software, and break conformance to some standards or prescriptions of security authorities therefore you wont find this normally. More informations here: <a href=\"http://crypto.stackexchange.com/questions/3110/impacts-of-not-using-rsa-exponent-of-65537\" title=\"impacts of not using rsa exponent of 65537\">crypto.stackexchange.com/questions/3110/&hellip;</a>"},{"owner":{"account_id":1667625,"reputation":7233,"user_id":1534725,"display_name":"Syon"},"score":1,"creation_date":1405423493,"post_id":24756421,"comment_id":38411243,"body_markdown":"I agree with the post you cite iff you are creating a new public/private key-pair. Your question though is about deriving a public key from an existing private key. The only way you can do this is if you use the public key exponent that was used to create the original key-pair. Using 65537 in all situations will not work because that may not be the public key exponent. Compatibility with existing hardware or software has nothing to do with it.","body":"I agree with the post you cite iff you are creating a new public/private key-pair. Your question though is about deriving a public key from an existing private key. The only way you can do this is if you use the public key exponent that was used to create the original key-pair. Using 65537 in all situations will not work because that may not be the public key exponent. Compatibility with existing hardware or software has nothing to do with it."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1405472260,"post_id":24756421,"comment_id":38437114,"body_markdown":"What&#39;s wrong with just casting to `RSAPrivateKey` (after validating that it *is* an `RSAPrivateKey` of course)?","body":"What&#39;s wrong with just casting to <code>RSAPrivateKey</code> (after validating that it <i>is</i> an <code>RSAPrivateKey</code> of course)?"}],"tags":[],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1405423066,"creation_date":1405421846,"answer_id":24756421,"question_id":24756420,"body_markdown":"Java is able to create a public key by using the modulus and exponent:\r\n\r\n    RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, exponent);\r\n    kf.generatePublic(keySpec);\r\n\r\nSo we need to extract these values out of the private key:\r\n\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    RSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\r\n\r\nThe `RSAPrivateKeySpec`-Object now contains the modulus we need, but the exponent is not the one we need for the public key. \r\n\r\nFor the public key the exponent is commonly at 65537:\r\nhttp://en.wikipedia.org/wiki/65537_(number)\r\n\r\nTherefore we can now create the public key:\r\n\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    RSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\r\n\r\n    RSAPublicKeySpec keySpec = new RSAPublicKeySpec(priv.getModulus(), BigInteger.valueOf(65537));\r\n\r\n    PublicKey publicKey = kf.generatePublic(keySpec);","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>Java is able to create a public key by using the modulus and exponent:</p>\n\n<pre><code>RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus, exponent);\nkf.generatePublic(keySpec);\n</code></pre>\n\n<p>So we need to extract these values out of the private key:</p>\n\n<pre><code>KeyFactory kf = KeyFactory.getInstance(\"RSA\");\nRSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\n</code></pre>\n\n<p>The <code>RSAPrivateKeySpec</code>-Object now contains the modulus we need, but the exponent is not the one we need for the public key. </p>\n\n<p>For the public key the exponent is commonly at 65537:\n<a href=\"http://en.wikipedia.org/wiki/65537_(number)\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/65537_(number)</a></p>\n\n<p>Therefore we can now create the public key:</p>\n\n<pre><code>KeyFactory kf = KeyFactory.getInstance(\"RSA\");\nRSAPrivateKeySpec priv = kf.getKeySpec(privateKey, RSAPrivateKeySpec.class);\n\nRSAPublicKeySpec keySpec = new RSAPublicKeySpec(priv.getModulus(), BigInteger.valueOf(65537));\n\nPublicKey publicKey = kf.generatePublic(keySpec);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1695126085,"post_id":24768779,"comment_id":135979790,"body_markdown":"The RSAPublicKey then comes from a KeyFactory as KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(spec);","body":"The RSAPublicKey then comes from a KeyFactory as KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(spec);"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1695127435,"post_id":24768779,"comment_id":135980068,"body_markdown":"think your answer was wise by not digging into details of that relation :) which is done here https://crypto.stackexchange.com/a/91987","body":"think your answer was wise by not digging into details of that relation :) which is done here <a href=\"https://crypto.stackexchange.com/a/91987\">crypto.stackexchange.com/a/91987</a>"}],"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1695131585,"creation_date":1405460903,"answer_id":24768779,"question_id":24756420,"body_markdown":"You need to cast the private key into an RsaPrivateCrtKey. If the cast succeeds, you can extract the public key. If the cast fails, strictly speaking you don&#39;t have enough information. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static RSAPublicKey getPublicKeySpec(PrivateKey priv) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        RSAPrivateCrtKey rsaCrtKey = (RSAPrivateCrtKey) priv; // May throw a ClassCastException\r\n        RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(rsaCrtKey.getModulus(), rsaCrtKey.getPublicExponent());\r\n        return (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(rsaPublicKeySpec);\r\n    }\r\n\r\nIf the cast fails, you can attempt to guess the public exponent and check your guess by using the standard RSA relation (x&lt;sup&gt;e&lt;/sup&gt;)&lt;sup&gt;d&lt;/sup&gt; = x mod N for all x. For your guess of e, try a few random x values in the equation and see if the relation always holds. This technique can only yield a probabilistic answer. For more details on finding the public exponent when it&#39;s not known, see [this answer on crypto](https://crypto.stackexchange.com/a/91987/676).\r\n\r\nThanks to @SamGinrich for helpful suggestions.","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>You need to cast the private key into an RsaPrivateCrtKey. If the cast succeeds, you can extract the public key. If the cast fails, strictly speaking you don't have enough information.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static RSAPublicKey getPublicKeySpec(PrivateKey priv) throws NoSuchAlgorithmException, InvalidKeySpecException {\n    RSAPrivateCrtKey rsaCrtKey = (RSAPrivateCrtKey) priv; // May throw a ClassCastException\n    RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(rsaCrtKey.getModulus(), rsaCrtKey.getPublicExponent());\n    return (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(rsaPublicKeySpec);\n}\n</code></pre>\n<p>If the cast fails, you can attempt to guess the public exponent and check your guess by using the standard RSA relation (x<sup>e</sup>)<sup>d</sup> = x mod N for all x. For your guess of e, try a few random x values in the equation and see if the relation always holds. This technique can only yield a probabilistic answer. For more details on finding the public exponent when it's not known, see <a href=\"https://crypto.stackexchange.com/a/91987/676\">this answer on crypto</a>.</p>\n<p>Thanks to @SamGinrich for helpful suggestions.</p>\n"}],"owner":{"account_id":3000917,"reputation":3739,"user_id":2546444,"accept_rate":88,"display_name":"Dennis Kriechel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7333,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24756421,"answer_count":2,"score":3,"last_activity_date":1695131585,"creation_date":1405421846,"question_id":24756420,"body_markdown":"How to get the related public-key object `java.security.PublicKey` out of a private-key Object `java.security.PrivateKey` in the RSA cryptosystem.\r\n\r\n","title":"How to get the RSA public-key from private-key Object in Java","body":"<p>How to get the related public-key object <code>java.security.PublicKey</code> out of a private-key Object <code>java.security.PrivateKey</code> in the RSA cryptosystem.</p>\n"},{"tags":["java","logging","logback"],"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":0,"creation_date":1461931228,"post_id":36935230,"comment_id":61434724,"body_markdown":"Is the file getting created on the directory you mentioned? if not check the permission of the user under which your application is running has access to the directory where the log file needs to be written.","body":"Is the file getting created on the directory you mentioned? if not check the permission of the user under which your application is running has access to the directory where the log file needs to be written."},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461933213,"post_id":36935230,"comment_id":61435973,"body_markdown":"I&#39;m wokring with root user, so I should not have any problem of permission,","body":"I&#39;m wokring with root user, so I should not have any problem of permission,"}],"answers":[{"comments":[{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461926994,"post_id":36935574,"comment_id":61431863,"body_markdown":"I tried to use your configuration, but stil not working :/","body":"I tried to use your configuration, but stil not working :/"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1461927126,"post_id":36935574,"comment_id":61431958,"body_markdown":"@h.zak I have update my answer. Please check and let me know","body":"@h.zak I have update my answer. Please check and let me know"},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461927659,"post_id":36935574,"comment_id":61432313,"body_markdown":"I tried your solution ,but still not wokring. I tried even log4j but no result :/. i  always log to console, but i can&#39;t log to file","body":"I tried your solution ,but still not wokring. I tried even log4j but no result :/. i  always log to console, but i can&#39;t log to file"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1461928972,"post_id":36935574,"comment_id":61433202,"body_markdown":"@h.zak just replace your logback.xml with my provided.","body":"@h.zak just replace your logback.xml with my provided."},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461929299,"post_id":36935574,"comment_id":61433389,"body_markdown":"I did, I changed only the package name and location file (because Im working with centos system). and still the same result","body":"I did, I changed only the package name and location file (because Im working with centos system). and still the same result"},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461933149,"post_id":36935574,"comment_id":61435935,"body_markdown":"I removed logback.xml, and I still see log content in my console, I think that my application uses the logbak configuration of apache storm. but I am not sure, because this is not normal","body":"I removed logback.xml, and I still see log content in my console, I think that my application uses the logbak configuration of apache storm. but I am not sure, because this is not normal"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1461933405,"post_id":36935574,"comment_id":61436088,"body_markdown":"@h.zak console log will always come. you just check that if your console log is exists on debug.log which is told in logback.xml. If it comes, then OK.","body":"@h.zak console log will always come. you just check that if your console log is exists on debug.log which is told in logback.xml. If it comes, then OK."},{"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"score":0,"creation_date":1461933881,"post_id":36935574,"comment_id":61436395,"body_markdown":"SkyWalker ,  debug.log is not generated, i can see only console log","body":"SkyWalker ,  debug.log is not generated, i can see only console log"}],"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461928912,"creation_date":1461924713,"answer_id":36935574,"question_id":36935230,"body_markdown":"Add this portion\r\n\r\n    &lt;logger name=&quot;com.my.package&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- By default, the level of the root level is set to DEBUG --&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\ninstead of \r\n\r\n      &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n      &lt;/root&gt;\r\n\r\nWrite your project package name instead of `com.my.package`\r\n\r\nHope it will solve your issue.\r\n\r\n---\r\n\r\nUpdate:\r\n---\r\n**Send logs to File**\r\n\r\nAll logging will be redirected to a file `c:/logs/debug.log`. Furthermore, this log file will be archived daily or the file size is larger than 10MB.\r\n\r\nlogback.xml\r\n---\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n    \t&lt;property name=&quot;DEV_HOME&quot; value=&quot;c:/logs&quot; /&gt;\r\n    \r\n    \t&lt;appender name=&quot;FILE-AUDIT&quot;\r\n    \t\tclass=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;file&gt;${DEV_HOME}/debug.log&lt;/file&gt;\r\n    \t\t&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n    \t\t\t&lt;Pattern&gt;\r\n    \t\t\t\t%d{yyyy-MM-dd HH:mm:ss} - %msg%n\r\n    \t\t\t&lt;/Pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \r\n    \t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t\t\t&lt;!-- rollover daily --&gt;\r\n    \t\t\t&lt;fileNamePattern&gt;${DEV_HOME}/archived/debug.%d{yyyy-MM-dd}.%i.log\r\n                            &lt;/fileNamePattern&gt;\r\n    \t\t\t&lt;timeBasedFileNamingAndTriggeringPolicy\r\n    \t\t\t\tclass=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n    \t\t\t\t&lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n    \t\t\t&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n    \t\t&lt;/rollingPolicy&gt;\r\n    \r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;logger name=&quot;com.mkyong.web&quot; level=&quot;debug&quot;\r\n    \t\tadditivity=&quot;false&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;FILE-AUDIT&quot; /&gt;\r\n    \t&lt;/logger&gt;\r\n    \r\n    \t&lt;root level=&quot;error&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;FILE-AUDIT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nResource link:\r\n---\r\n\r\n 1. [logback.xml Example][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/logging/logback-xml-example/","title":"logback : does not creates log file","body":"<p>Add this portion</p>\n\n<pre><code>&lt;logger name=\"com.my.package\" level=\"DEBUG\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/logger&gt;\n\n&lt;!-- By default, the level of the root level is set to DEBUG --&gt;\n&lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>  &lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n  &lt;/root&gt;\n</code></pre>\n\n<p>Write your project package name instead of <code>com.my.package</code></p>\n\n<p>Hope it will solve your issue.</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p><strong>Send logs to File</strong></p>\n\n<p>All logging will be redirected to a file <code>c:/logs/debug.log</code>. Furthermore, this log file will be archived daily or the file size is larger than 10MB.</p>\n\n<h2>logback.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n\n    &lt;property name=\"DEV_HOME\" value=\"c:/logs\" /&gt;\n\n    &lt;appender name=\"FILE-AUDIT\"\n        class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${DEV_HOME}/debug.log&lt;/file&gt;\n        &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;Pattern&gt;\n                %d{yyyy-MM-dd HH:mm:ss} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n            &lt;!-- rollover daily --&gt;\n            &lt;fileNamePattern&gt;${DEV_HOME}/archived/debug.%d{yyyy-MM-dd}.%i.log\n                        &lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n\n    &lt;/appender&gt;\n\n    &lt;logger name=\"com.mkyong.web\" level=\"debug\"\n        additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"FILE-AUDIT\" /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=\"error\"&gt;\n        &lt;appender-ref ref=\"FILE-AUDIT\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<h2>Resource link:</h2>\n\n<ol>\n<li><a href=\"http://www.mkyong.com/logging/logback-xml-example/\" rel=\"noreferrer\">logback.xml Example</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5113734,"reputation":50640,"user_id":4099593,"accept_rate":100,"display_name":"Bhargav Rao"},"score":1,"creation_date":1479212834,"post_id":40609809,"comment_id":68453934,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."}],"tags":[],"owner":{"account_id":1589813,"reputation":129,"user_id":1473402,"display_name":"gbii"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1479217312,"creation_date":1479212718,"answer_id":40609809,"question_id":36935230,"body_markdown":"Maybe the following link will help you.\r\n\r\nhttps://dzone.com/articles/do-not-use-relative-path\r\n\r\n**EDIT**: This link says that &quot;*don&#39;t use relative path with logback*&quot;. But I found an opportunity to test it. And I found some strange outputs.\r\n\r\nMy test platform is an web application and this app is running under Apache Tomcat on Windows. \r\n**Configuration and outputs:**\r\n\r\n\r\n----------\r\n\r\n\r\n`&lt;file&gt;/logs/output.log&lt;/file&gt;` --------------&gt; Creates log file in C:\\logs folder\r\n`&lt;file&gt;C:/logs/output.log&lt;/file&gt;` -----------&gt; Creates log file in C:\\logs folder\r\n`&lt;file&gt;../logs/output.log&lt;/file&gt;` -----------&gt; Creates log file in tomcat logs folder\r\n`&lt;file&gt;logs/output.log&lt;/file&gt;` ---------------&gt; Creates log file in tomcat bin\\logs folder\r\n\r\nSometimes the log file is not created, I think, the main reason of it is lack of create file permission of user/application.","title":"logback : does not creates log file","body":"<p>Maybe the following link will help you.</p>\n\n<p><a href=\"https://dzone.com/articles/do-not-use-relative-path\" rel=\"noreferrer\">https://dzone.com/articles/do-not-use-relative-path</a></p>\n\n<p><strong>EDIT</strong>: This link says that \"<em>don't use relative path with logback</em>\". But I found an opportunity to test it. And I found some strange outputs.</p>\n\n<p>My test platform is an web application and this app is running under Apache Tomcat on Windows. \n<strong>Configuration and outputs:</strong></p>\n\n<hr>\n\n<p><code>&lt;file&gt;/logs/output.log&lt;/file&gt;</code> --------------> Creates log file in C:\\logs folder\n<code>&lt;file&gt;C:/logs/output.log&lt;/file&gt;</code> -----------> Creates log file in C:\\logs folder\n<code>&lt;file&gt;../logs/output.log&lt;/file&gt;</code> -----------> Creates log file in tomcat logs folder\n<code>&lt;file&gt;logs/output.log&lt;/file&gt;</code> ---------------> Creates log file in tomcat bin\\logs folder</p>\n\n<p>Sometimes the log file is not created, I think, the main reason of it is lack of create file permission of user/application.</p>\n"},{"tags":[],"owner":{"account_id":7776383,"reputation":356,"user_id":5884374,"display_name":"sanjiv saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494520334,"creation_date":1494520334,"answer_id":43921100,"question_id":36935230,"body_markdown":"I also faced the same problem. In my case I was using the eclipse with tomcat.\r\n\r\nIf(absolute path)\r\n   then there is no problem, log files get created in the path specified.\r\n\r\nelse if (Relative path &amp;&amp; working in eclipse)\r\n   then your log files is created inside the path relative to the eclipse installation directory.\r\n\r\nelse if (Relative path &amp;&amp; deployed in tomcat)\r\n   then the log files gets created inside the path relative to bin folder of tomcat\r\n","title":"logback : does not creates log file","body":"<p>I also faced the same problem. In my case I was using the eclipse with tomcat.</p>\n\n<p>If(absolute path)\n   then there is no problem, log files get created in the path specified.</p>\n\n<p>else if (Relative path &amp;&amp; working in eclipse)\n   then your log files is created inside the path relative to the eclipse installation directory.</p>\n\n<p>else if (Relative path &amp;&amp; deployed in tomcat)\n   then the log files gets created inside the path relative to bin folder of tomcat</p>\n"},{"tags":[],"owner":{"account_id":1613278,"reputation":351,"user_id":1491662,"display_name":"uudaddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557692394,"creation_date":1557691379,"answer_id":56103008,"question_id":36935230,"body_markdown":"In my case, it was actually someting I added in the pom.xml that ignores xml property file. After I added \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;include&gt;**/*.xml&lt;/include&gt;  \r\n\r\nthere, it worked\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;**/*.json&lt;/include&gt;          \r\n          &lt;include&gt;**/*.properties&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;","title":"logback : does not creates log file","body":"<p>In my case, it was actually someting I added in the pom.xml that ignores xml property file. After I added </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include&gt;**/*.xml&lt;/include&gt;  \n</code></pre>\n\n<p>there, it worked</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resource&gt;\n    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n    &lt;includes&gt;\n      &lt;include&gt;**/*.json&lt;/include&gt;          \n      &lt;include&gt;**/*.properties&lt;/include&gt;\n    &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6734605,"reputation":21,"user_id":5189819,"display_name":"Dani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570793344,"creation_date":1570793344,"answer_id":58340341,"question_id":36935230,"body_markdown":"When I had this problem, I had to add the folder where the logback.log file was as a source folder.\r\nIn eclipse just do right click on the folder -&gt; Build Path-&gt; Use as Source Folder.","title":"logback : does not creates log file","body":"<p>When I had this problem, I had to add the folder where the logback.log file was as a source folder.\nIn eclipse just do right click on the folder -> Build Path-> Use as Source Folder.</p>\n"},{"tags":[],"owner":{"account_id":19171046,"reputation":11,"user_id":14004791,"display_name":"Kavinraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596790001,"creation_date":1596790001,"answer_id":63298381,"question_id":36935230,"body_markdown":"create a repository and include it as a source folder and put the logback.xml file in it.\r\nTo include the repository into source folder, click on the repository-&gt; Build Path -&gt; Use as Source Folder","title":"logback : does not creates log file","body":"<p>create a repository and include it as a source folder and put the logback.xml file in it.\nTo include the repository into source folder, click on the repository-&gt; Build Path -&gt; Use as Source Folder</p>\n"},{"tags":[],"owner":{"account_id":20450710,"reputation":1,"user_id":15005540,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610628956,"creation_date":1610628956,"answer_id":65719382,"question_id":36935230,"body_markdown":"I was missing the dependency ch.qos.logback logback-classic","title":"logback : does not creates log file","body":"<p>I was missing the dependency ch.qos.logback logback-classic</p>\n"},{"tags":[],"owner":{"account_id":2907380,"reputation":731,"user_id":2492340,"accept_rate":52,"display_name":"opfau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678970720,"creation_date":1678891631,"answer_id":75746339,"question_id":36935230,"body_markdown":"In my case the file was not created for a new appender because the value/pattern of \r\n   \r\n\r\n    &lt;fileNamePattern&gt;\r\n\r\nunder\r\n\r\n    &lt;rollingPolicy&gt;\r\n\r\ntag was not unique. Then the log file for the new appender wasn&#39;t created.","title":"logback : does not creates log file","body":"<p>In my case the file was not created for a new appender because the value/pattern of</p>\n<pre><code>&lt;fileNamePattern&gt;\n</code></pre>\n<p>under</p>\n<pre><code>&lt;rollingPolicy&gt;\n</code></pre>\n<p>tag was not unique. Then the log file for the new appender wasn't created.</p>\n"},{"tags":[],"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682271668,"creation_date":1682271668,"answer_id":76086328,"question_id":36935230,"body_markdown":"Don&#39;t forget to add this property to the `application.properties` file.\r\n\r\n`logging.config=/opt/mychat/conf/logback.xml`\r\n\r\nMy example configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;/log/mychat&quot; /&gt;\r\n    &lt;appender name=&quot;Console&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;RollingFile&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/mychat.log&lt;/file&gt;\r\n        &lt;encoder\r\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;Pattern&gt;%d %p %C{1} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy\r\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${LOGS}/archived/mychat-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;com.fsgc&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;","title":"logback : does not creates log file","body":"<p>Don't forget to add this property to the <code>application.properties</code> file.</p>\n<p><code>logging.config=/opt/mychat/conf/logback.xml</code></p>\n<p>My example configuration file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;property name=&quot;LOGS&quot; value=&quot;/log/mychat&quot; /&gt;\n&lt;appender name=&quot;Console&quot;\n          class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1}): %msg%n%throwable\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;RollingFile&quot;\n          class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;${LOGS}/mychat.log&lt;/file&gt;\n    &lt;encoder\n            class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;Pattern&gt;%d %p %C{1} [%t] %m%n&lt;/Pattern&gt;\n    &lt;/encoder&gt;\n\n    &lt;rollingPolicy\n            class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;${LOGS}/archived/mychat-%d{yyyy-MM-dd}.%i.log\n        &lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n\n&lt;logger name=&quot;com.fsgc&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;RollingFile&quot; /&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":2459229,"reputation":441,"user_id":2143734,"accept_rate":75,"display_name":"Zzirconium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695130685,"creation_date":1695130685,"answer_id":77135074,"question_id":36935230,"body_markdown":"look at the stdout when your app starts : logback gives you hints about what&#39;s happening. your console appender can be created successfully (letting your think that your logback.xml is correct) while file appender being in error. Look at the ERROR and WARN you see, most of the time you&#39;ll see something.\r\n\r\nFYI relative path works quite well, there is no reason why you should put absolute path. ","title":"logback : does not creates log file","body":"<p>look at the stdout when your app starts : logback gives you hints about what's happening. your console appender can be created successfully (letting your think that your logback.xml is correct) while file appender being in error. Look at the ERROR and WARN you see, most of the time you'll see something.</p>\n<p>FYI relative path works quite well, there is no reason why you should put absolute path.</p>\n"}],"owner":{"account_id":8207754,"reputation":1477,"user_id":6176933,"accept_rate":68,"display_name":"h.zak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39654,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":10,"score":10,"last_activity_date":1695130685,"creation_date":1461923756,"question_id":36935230,"body_markdown":"First of all, I tried every solution that exist, but nothing is working, so I don&#39;t want from anyone to say this question is duplicated.\r\n\r\nI cannot log to the file using _logback_, but I can log to console without problems.\r\n\r\nMy `logback.xml` file content:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;!-- encoders are assigned the type\r\n                  ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;!--See http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\r\n    &lt;!--and http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy--&gt;\r\n    &lt;!--for further documentation--&gt;\r\n    &lt;append&gt;true&lt;/append&gt;\r\n    &lt;File&gt;/root/connector/logs/connector.log&lt;/File&gt;\r\n    &lt;encoder&gt;\r\n        &lt;!-- was: %d{yyyy-MM-dd HH:mm:ss}%5p [%t] (%F:%L) - %msg%n --&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] \\(%class{25}:%line\\) - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n      &lt;!-- By setting the name to .gz here, we get free compression. --&gt;\r\n      &lt;fileNamePattern&gt;/root/connector/logs/connector.log.%d{yyyy-MM-dd}.gz&lt;/fileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;DEBUG&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI even tried to give all users the permission to write in the folder, but this doesn&#39;t work.\r\n\r\n&gt; drwxrwxrwx. 2 nobody nobody  4096 Apr 29 08:24 logs\r\n\r\nI repeat again, I tried every solution that exists, but nothing is working.","title":"logback : does not creates log file","body":"<p>First of all, I tried every solution that exist, but nothing is working, so I don't want from anyone to say this question is duplicated.</p>\n<p>I cannot log to the file using <em>logback</em>, but I can log to console without problems.</p>\n<p>My <code>logback.xml</code> file content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;!-- encoders are assigned the type\n                  ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;!--See http://logback.qos.ch/manual/appenders.html#RollingFileAppender--&gt;\n    &lt;!--and http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy--&gt;\n    &lt;!--for further documentation--&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;File&gt;/root/connector/logs/connector.log&lt;/File&gt;\n    &lt;encoder&gt;\n        &lt;!-- was: %d{yyyy-MM-dd HH:mm:ss}%5p [%t] (%F:%L) - %msg%n --&gt;\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] \\(%class{25}:%line\\) - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;!-- By setting the name to .gz here, we get free compression. --&gt;\n      &lt;fileNamePattern&gt;/root/connector/logs/connector.log.%d{yyyy-MM-dd}.gz&lt;/fileNamePattern&gt;\n    &lt;/rollingPolicy&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I even tried to give all users the permission to write in the folder, but this doesn't work.</p>\n<blockquote>\n<p>drwxrwxrwx. 2 nobody nobody  4096 Apr 29 08:24 logs</p>\n</blockquote>\n<p>I repeat again, I tried every solution that exists, but nothing is working.</p>\n"},{"tags":["java","android","android-vibration","samsung"],"answers":[{"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":1,"creation_date":1695131854,"post_id":77135003,"comment_id":135981087,"body_markdown":"Hi @Hatem Darwish, thank you for your comment, for the permission, I&#39;m sure it&#39;s exist in the manifest, for the `createOneShot`, I will give it a try, thank you.","body":"Hi @Hatem Darwish, thank you for your comment, for the permission, I&#39;m sure it&#39;s exist in the manifest, for the <code>createOneShot</code>, I will give it a try, thank you."},{"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"score":0,"creation_date":1695132352,"post_id":77135003,"comment_id":135981203,"body_markdown":"if it&#39;s a solution please tell me, or if found a solution please share the knowledge.","body":"if it&#39;s a solution please tell me, or if found a solution please share the knowledge."}],"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695130196,"creation_date":1695130196,"answer_id":77135003,"question_id":77134816,"body_markdown":"Ensure that your app has the necessary permissions to vibrate the device. You need to include the \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt; \r\n\r\npermission in your app&#39;s AndroidManifest.xml file.\r\n\r\nDouble-check your code to make sure you&#39;re creating and applying the VibrationEffect correctly. Here&#39;s an example of how to create and use a VibrationEffect:\r\ntry use **createOneShot**\r\n\r\n    Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n    if (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            VibrationEffect vibrationEffect = VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE);\r\n            vibrator.vibrate(vibrationEffect);\r\n        } else {\r\n            // For devices before Android Oreo (API level 26)\r\n            vibrator.vibrate(1000);\r\n        }\r\n    }\r\n\r\n","title":"Why the VibrationEffect is not working on Samsung devices only","body":"<p>Ensure that your app has the necessary permissions to vibrate the device. You need to include the</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt; \n</code></pre>\n<p>permission in your app's AndroidManifest.xml file.</p>\n<p>Double-check your code to make sure you're creating and applying the VibrationEffect correctly. Here's an example of how to create and use a VibrationEffect:\ntry use <strong>createOneShot</strong></p>\n<pre><code>Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\nif (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        VibrationEffect vibrationEffect = VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE);\n        vibrator.vibrate(vibrationEffect);\n    } else {\n        // For devices before Android Oreo (API level 26)\n        vibrator.vibrate(1000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695130196,"creation_date":1695128717,"question_id":77134816,"body_markdown":"I&#39;m trying to make a vibration effect using the below code : \r\n\r\n    public static void vibrate(Context context) {\r\n            if (context != null) {\r\n                if (SPUtils.getInstance().getBoolean(&quot;isVibrationOn&quot;, true)) {\r\n                    Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n                    if (vibrator.hasVibrator()) {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\r\n                                VibrationEffect vibrationEffect = VibrationEffect.createPredefined(VibrationEffect.EFFECT_CLICK);\r\n                                vibrator.vibrate(vibrationEffect);\r\n                            } else\r\n                                vibrator.vibrate(VibrationEffect.createOneShot(15, VibrationEffect.CONTENTS_FILE_DESCRIPTOR));\r\n                        } else vibrator.vibrate(15);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nFor some reason, the vibration is not working on all tested Samsung devices, such as:\r\n\r\n - Samsung Galaxy A13\r\n - Samsung Galaxy A32\r\n - Samsung Galaxy A20\r\n\r\nI wonder if the Samsung device needs some additional code to make the vibration work.","title":"Why the VibrationEffect is not working on Samsung devices only","body":"<p>I'm trying to make a vibration effect using the below code :</p>\n<pre><code>public static void vibrate(Context context) {\n        if (context != null) {\n            if (SPUtils.getInstance().getBoolean(&quot;isVibrationOn&quot;, true)) {\n                Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n                if (vibrator.hasVibrator()) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.Q) {\n                            VibrationEffect vibrationEffect = VibrationEffect.createPredefined(VibrationEffect.EFFECT_CLICK);\n                            vibrator.vibrate(vibrationEffect);\n                        } else\n                            vibrator.vibrate(VibrationEffect.createOneShot(15, VibrationEffect.CONTENTS_FILE_DESCRIPTOR));\n                    } else vibrator.vibrate(15);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>For some reason, the vibration is not working on all tested Samsung devices, such as:</p>\n<ul>\n<li>Samsung Galaxy A13</li>\n<li>Samsung Galaxy A32</li>\n<li>Samsung Galaxy A20</li>\n</ul>\n<p>I wonder if the Samsung device needs some additional code to make the vibration work.</p>\n"},{"tags":["java","spring","oauth-2.0","postman","spotify"],"owner":{"account_id":29481874,"reputation":11,"user_id":22592567,"display_name":"Mikołaj Kawczyński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695129178,"creation_date":1695129044,"question_id":77134857,"body_markdown":"I&#39;m building a Spring Boot service using Spotify Web API and wanted to test my controller methods. Using a browser, I could check the GET request and everything worked fine - I received the expected responses. The problem occurred when I wanted to check POST requests using Postman. Despite configuring authorization via OAuth 2.0 in Postman and receiving access tokens, every time I tried to make a request, the source code of the Spotify login page was returned, regardless of whether it was a POST or GET request.\r\n\r\nThis is how my spotify configuration in application.properties file looks like:\r\n\r\n```\r\nspring.security.oauth2.client.registration.spotify.client-id=${SPOTIFY_CLIENT_ID}\r\nspring.security.oauth2.client.registration.spotify.client-secret=${SPOTIFY_CLIENT_SECRET}\r\nspring.security.oauth2.client.registration.spotify.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.spotify.redirect-uri=http://localhost:8080/login/oauth2/code/spotify\r\nspring.security.oauth2.client.registration.spotify.scope=user-read-email,user-read-private\r\nspring.security.oauth2.client.provider.spotify.authorization-uri=https://accounts.spotify.com/authorize\r\nspring.security.oauth2.client.provider.spotify.token-uri=https://accounts.spotify.com/api/token\r\n\r\nspring.security.oauth2.client.registration.spotify.provider=spotify\r\nspring.security.oauth2.client.provider.spotify.user-info-uri=https://api.spotify.com/v1/me\r\nspring.security.oauth2.client.provider.spotify.user-name-attribute=id\r\n```\r\nI have the same Redirect URI set in the app settings on the Spotify website.\r\n\r\nThe service where there is an example method that I wanted to test looks like this:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class SpotifyService {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final String BASE_URL = &quot;https://api.spotify.com/v1/&quot;;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public &lt;T&gt; T fetchData(String id, String endpoint, String accessToken, Class&lt;T&gt; responseType) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setBearerAuth(accessToken);\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers);\r\n\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                BASE_URL + endpoint + &quot;/&quot; + id,\r\n                HttpMethod.GET,\r\n                entity,\r\n                String.class\r\n        );\r\n\r\n        try {\r\n            return objectMapper.readValue(response.getBody(), responseType);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public ArtistDto getArtist(String artistId, String accessToken) {\r\n\r\n        return fetchData(\r\n                artistId,\r\n                &quot;artists&quot;,\r\n                accessToken,\r\n                ArtistDto.class\r\n        );\r\n    }\r\n}\r\n\r\n```\r\nAnd the controller for that:\r\n\r\n```\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/api/spotify&quot;)\r\npublic class SpotifyController {\r\n\r\n    private final SpotifyService spotifyService;\r\n    private final TokenService tokenService;\r\n\r\n    @GetMapping(&quot;/artists/{id}&quot;)\r\n    public ResponseEntity&lt;ArtistDto&gt; getArtist(@PathVariable String id) {\r\n        String accessToken = tokenService.getAccessToken();\r\n        ArtistDto artistDto = spotifyService.getArtist(id, accessToken);\r\n\r\n        return ResponseEntity.ok(artistDto);\r\n    }\r\n}\r\n```\r\nI also have this token service which provides me the access token:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class TokenService {\r\n    private final OAuth2AuthorizedClientService authorizedClientService;\r\n\r\n    public String getAccessToken() {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        OAuth2AuthenticationToken oauthToken = (OAuth2AuthenticationToken) authentication;\r\n        OAuth2AuthorizedClient client = authorizedClientService.loadAuthorizedClient(\r\n                oauthToken.getAuthorizedClientRegistrationId(),\r\n                oauthToken.getName()\r\n        );\r\n\r\n        return client.getAccessToken().getTokenValue();\r\n    }\r\n}\r\n```\r\n\r\nLike I said, when I checked the operation of this method in the browser, it returns me the correct data in JSON format, but when I do it in Postman, I receive the source code of the Spotify login page.\r\n\r\nThis is how my OAuth 2.0 configuration looks like in Postman:\r\n[Postman OAuth 2.0 config](https://i.stack.imgur.com/oexHl.png)\r\n\r\nI don&#39;t use scopes because I want to get to public data. I also tried changing Grant Type to Client Credentials, but the result is the same - the token is generated correctly and included in the headers, but the response is still the login page.\r\n\r\nI also tried to create an endpoint that returns the current access token via the browser and paste this token into Postman using Bearer Token authorization, but still to no avail.\r\n\r\nI really hope someone can help me solve this problem.\r\n\r\n","title":"Problem with authorizing my requests to Spotify API via postman","body":"<p>I'm building a Spring Boot service using Spotify Web API and wanted to test my controller methods. Using a browser, I could check the GET request and everything worked fine - I received the expected responses. The problem occurred when I wanted to check POST requests using Postman. Despite configuring authorization via OAuth 2.0 in Postman and receiving access tokens, every time I tried to make a request, the source code of the Spotify login page was returned, regardless of whether it was a POST or GET request.</p>\n<p>This is how my spotify configuration in application.properties file looks like:</p>\n<pre><code>spring.security.oauth2.client.registration.spotify.client-id=${SPOTIFY_CLIENT_ID}\nspring.security.oauth2.client.registration.spotify.client-secret=${SPOTIFY_CLIENT_SECRET}\nspring.security.oauth2.client.registration.spotify.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.spotify.redirect-uri=http://localhost:8080/login/oauth2/code/spotify\nspring.security.oauth2.client.registration.spotify.scope=user-read-email,user-read-private\nspring.security.oauth2.client.provider.spotify.authorization-uri=https://accounts.spotify.com/authorize\nspring.security.oauth2.client.provider.spotify.token-uri=https://accounts.spotify.com/api/token\n\nspring.security.oauth2.client.registration.spotify.provider=spotify\nspring.security.oauth2.client.provider.spotify.user-info-uri=https://api.spotify.com/v1/me\nspring.security.oauth2.client.provider.spotify.user-name-attribute=id\n</code></pre>\n<p>I have the same Redirect URI set in the app settings on the Spotify website.</p>\n<p>The service where there is an example method that I wanted to test looks like this:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SpotifyService {\n\n    private final RestTemplate restTemplate;\n    private final String BASE_URL = &quot;https://api.spotify.com/v1/&quot;;\n\n    private final ObjectMapper objectMapper;\n\n    public &lt;T&gt; T fetchData(String id, String endpoint, String accessToken, Class&lt;T&gt; responseType) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setBearerAuth(accessToken);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers);\n\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                BASE_URL + endpoint + &quot;/&quot; + id,\n                HttpMethod.GET,\n                entity,\n                String.class\n        );\n\n        try {\n            return objectMapper.readValue(response.getBody(), responseType);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public ArtistDto getArtist(String artistId, String accessToken) {\n\n        return fetchData(\n                artistId,\n                &quot;artists&quot;,\n                accessToken,\n                ArtistDto.class\n        );\n    }\n}\n\n</code></pre>\n<p>And the controller for that:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/spotify&quot;)\npublic class SpotifyController {\n\n    private final SpotifyService spotifyService;\n    private final TokenService tokenService;\n\n    @GetMapping(&quot;/artists/{id}&quot;)\n    public ResponseEntity&lt;ArtistDto&gt; getArtist(@PathVariable String id) {\n        String accessToken = tokenService.getAccessToken();\n        ArtistDto artistDto = spotifyService.getArtist(id, accessToken);\n\n        return ResponseEntity.ok(artistDto);\n    }\n}\n</code></pre>\n<p>I also have this token service which provides me the access token:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class TokenService {\n    private final OAuth2AuthorizedClientService authorizedClientService;\n\n    public String getAccessToken() {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        OAuth2AuthenticationToken oauthToken = (OAuth2AuthenticationToken) authentication;\n        OAuth2AuthorizedClient client = authorizedClientService.loadAuthorizedClient(\n                oauthToken.getAuthorizedClientRegistrationId(),\n                oauthToken.getName()\n        );\n\n        return client.getAccessToken().getTokenValue();\n    }\n}\n</code></pre>\n<p>Like I said, when I checked the operation of this method in the browser, it returns me the correct data in JSON format, but when I do it in Postman, I receive the source code of the Spotify login page.</p>\n<p>This is how my OAuth 2.0 configuration looks like in Postman:\n<a href=\"https://i.stack.imgur.com/oexHl.png\" rel=\"nofollow noreferrer\">Postman OAuth 2.0 config</a></p>\n<p>I don't use scopes because I want to get to public data. I also tried changing Grant Type to Client Credentials, but the result is the same - the token is generated correctly and included in the headers, but the response is still the login page.</p>\n<p>I also tried to create an endpoint that returns the current access token via the browser and paste this token into Postman using Bearer Token authorization, but still to no avail.</p>\n<p>I really hope someone can help me solve this problem.</p>\n"},{"tags":["java","jetty","http2"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1695130223,"post_id":77134820,"comment_id":135980683,"body_markdown":"What version of Jetty? and what version of Java?","body":"What version of Jetty? and what version of Java?"},{"owner":{"account_id":27307540,"reputation":1,"user_id":20823253,"display_name":"Naveen Punia"},"score":0,"creation_date":1695205688,"post_id":77134820,"comment_id":135992143,"body_markdown":"Jetty version : 11.0.16\njava version : 20","body":"Jetty version : 11.0.16 java version : 20"},{"owner":{"account_id":1255537,"reputation":17242,"user_id":1215076,"display_name":"sbordet"},"score":0,"creation_date":1695237195,"post_id":77134820,"comment_id":135999226,"body_markdown":"There is too little information to help. StackOverflow is not the right place for troubleshooting questions like this one. I suggest that you open an issue at https://github.com/eclipse/jetty.project/issues and discuss the issue there, where you would be able to provide the missing information.","body":"There is too little information to help. StackOverflow is not the right place for troubleshooting questions like this one. I suggest that you open an issue at <a href=\"https://github.com/eclipse/jetty.project/issues\" rel=\"nofollow noreferrer\">github.com/eclipse/jetty.project/issues</a> and discuss the issue there, where you would be able to provide the missing information."}],"owner":{"account_id":27307540,"reputation":1,"user_id":20823253,"display_name":"Naveen Punia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695129086,"creation_date":1695128745,"question_id":77134820,"body_markdown":"i have implemented a http2(clear text) server in jetty, its working as expected with http1_1, but i don&#39;t know what is wrong with http/2.\r\nis there something to do with handler?\r\n\r\nthe server is up on localhost:8080\r\n```\r\n//server\r\npackage server;\r\n\r\nimport org.eclipse.jetty.http2.server.HTTP2CServerConnectionFactory;\r\nimport org.eclipse.jetty.server.*;\r\nimport org.eclipse.jetty.server.handler.ContextHandler;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Server server = new Server();\r\n\r\n        HttpConfiguration httpConfig = new HttpConfiguration();\r\n\r\n        HttpConnectionFactory http11 = new HttpConnectionFactory(httpConfig);\r\n\r\n        HTTP2CServerConnectionFactory h2c = new HTTP2CServerConnectionFactory(httpConfig);\r\n\r\n        ServerConnector http = new ServerConnector(server,http11, h2c);\r\n        http.setPort(8080);\r\n\r\n        // Set the connector\r\n        server.addConnector(http);\r\n\r\n        // set servlet handler\r\n        ContextHandler context = new ContextHandler();\r\n        context.setContextPath(&quot;/&quot;);\r\n        context.setHandler(new RequestHandler());\r\n        server.setHandler(context);\r\n\r\n        server.start();\r\n    }\r\n}\r\n\r\n// request handler\r\n\r\npackage server;\r\n\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.eclipse.jetty.server.Request;\r\nimport org.eclipse.jetty.server.handler.AbstractHandler;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class RequestHandler extends AbstractHandler {\r\n    @Override\r\n    public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n//        baseRequest.setHandled(true);\r\n        System.out.println(baseRequest.getRequestURI());\r\n        String method = baseRequest.getMethod();\r\n        if(Objects.equals(method, &quot;POST&quot;)) {\r\n            BufferedReader reader = request.getReader();\r\n            StringBuilder requestBody = new StringBuilder();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                requestBody.append(line);\r\n            }\r\n\r\n            System.out.println(&quot;REQUEST BODY IS : &quot; + requestBody.toString());\r\n            response.setContentType(&quot;application/json&quot;);\r\n\r\n            response.setStatus(202);\r\n            response.getWriter().println(&quot;POST REQUEST&quot;);\r\n\r\n        }\r\n        else {\r\n            System.out.println(&quot;GET REQUEST &quot;);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.setStatus(200);\r\n            System.out.println(&quot;Sending response&quot;);\r\n            response.getWriter().println(&quot;{\\&quot;http-version\\&quot; : 2}&quot;);\r\n            System.out.println(&quot;Sending response &gt;&gt; &quot;);\r\n\r\n        }\r\n        baseRequest.setHandled(true);\r\n    }\r\n}\r\n```\r\n\r\nsending http1_1 request \r\n\r\n[resonse](https://i.stack.imgur.com/soxwy.png)\r\n\r\non http/2 request:\r\n[response](https://i.stack.imgur.com/vAEmh.png)\r\n\r\n\r\n\r\non http/2 request the client is showing the error : \r\n\r\nlogs:\r\n```\r\n&gt; System.Net.Http.HttpRequestException: An error occurred while sending the request.\r\n&gt; System.IO.IOException: The request was aborted.\r\n&gt; System.IO.IOException: The response ended prematurely while waiting for the next frame from the server.\r\n&gt; at System.Net.Http.Http2Connection.&lt;ReadFrameAsync&gt;g__ThrowMissingFrame|69_1()\r\n&gt; at System.Net.Http.Http2Connection.ReadFrameAsync(Boolean initialFrame)\r\n&gt; at System.Net.Http.Http2Connection.ProcessIncomingFramesAsync()\r\n&gt; End of inner exception stack trace ---\r\n&gt; at System.Net.Http.Http2Connection.ThrowRequestAborted(Exception innerException)\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.CheckResponseBodyState()\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.TryEnsureHeaders()\r\n&gt; at System.Net.Http.Http2Connection.Http2Stream.ReadResponseHeadersAsync(CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; End of inner exception stack trace ---\r\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.DecompressionHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n&gt; at System.Net.Http.HttpClient.&lt;SendAsync&gt;g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\r\n&gt; at Pororoca.Infrastructure.Features.Requester.PororocaRequester.RequestAsync(IPororocaVariableResolver variableResolver, PororocaHttpRequest req, Boolean disableSslVerification, CancellationToken cancellationToken) in D:\\a\\Pororoca\\Pororoca\\src\\Pororoca.Infrastructure\\Features\\Requester\\PororocaRequester.cs:line 51\r\n```\r\n","title":"jetty server not responding to HTTP/2 requests","body":"<p>i have implemented a http2(clear text) server in jetty, its working as expected with http1_1, but i don't know what is wrong with http/2.\nis there something to do with handler?</p>\n<p>the server is up on localhost:8080</p>\n<pre><code>//server\npackage server;\n\nimport org.eclipse.jetty.http2.server.HTTP2CServerConnectionFactory;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.server.handler.ContextHandler;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        Server server = new Server();\n\n        HttpConfiguration httpConfig = new HttpConfiguration();\n\n        HttpConnectionFactory http11 = new HttpConnectionFactory(httpConfig);\n\n        HTTP2CServerConnectionFactory h2c = new HTTP2CServerConnectionFactory(httpConfig);\n\n        ServerConnector http = new ServerConnector(server,http11, h2c);\n        http.setPort(8080);\n\n        // Set the connector\n        server.addConnector(http);\n\n        // set servlet handler\n        ContextHandler context = new ContextHandler();\n        context.setContextPath(&quot;/&quot;);\n        context.setHandler(new RequestHandler());\n        server.setHandler(context);\n\n        server.start();\n    }\n}\n\n// request handler\n\npackage server;\n\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.eclipse.jetty.server.Request;\nimport org.eclipse.jetty.server.handler.AbstractHandler;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class RequestHandler extends AbstractHandler {\n    @Override\n    public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response) throws IOException {\n//        baseRequest.setHandled(true);\n        System.out.println(baseRequest.getRequestURI());\n        String method = baseRequest.getMethod();\n        if(Objects.equals(method, &quot;POST&quot;)) {\n            BufferedReader reader = request.getReader();\n            StringBuilder requestBody = new StringBuilder();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                requestBody.append(line);\n            }\n\n            System.out.println(&quot;REQUEST BODY IS : &quot; + requestBody.toString());\n            response.setContentType(&quot;application/json&quot;);\n\n            response.setStatus(202);\n            response.getWriter().println(&quot;POST REQUEST&quot;);\n\n        }\n        else {\n            System.out.println(&quot;GET REQUEST &quot;);\n            response.setContentType(&quot;application/json&quot;);\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\n            response.setStatus(200);\n            System.out.println(&quot;Sending response&quot;);\n            response.getWriter().println(&quot;{\\&quot;http-version\\&quot; : 2}&quot;);\n            System.out.println(&quot;Sending response &gt;&gt; &quot;);\n\n        }\n        baseRequest.setHandled(true);\n    }\n}\n</code></pre>\n<p>sending http1_1 request</p>\n<p><a href=\"https://i.stack.imgur.com/soxwy.png\" rel=\"nofollow noreferrer\">resonse</a></p>\n<p>on http/2 request:\n<a href=\"https://i.stack.imgur.com/vAEmh.png\" rel=\"nofollow noreferrer\">response</a></p>\n<p>on http/2 request the client is showing the error :</p>\n<p>logs:</p>\n<pre><code>&gt; System.Net.Http.HttpRequestException: An error occurred while sending the request.\n&gt; System.IO.IOException: The request was aborted.\n&gt; System.IO.IOException: The response ended prematurely while waiting for the next frame from the server.\n&gt; at System.Net.Http.Http2Connection.&lt;ReadFrameAsync&gt;g__ThrowMissingFrame|69_1()\n&gt; at System.Net.Http.Http2Connection.ReadFrameAsync(Boolean initialFrame)\n&gt; at System.Net.Http.Http2Connection.ProcessIncomingFramesAsync()\n&gt; End of inner exception stack trace ---\n&gt; at System.Net.Http.Http2Connection.ThrowRequestAborted(Exception innerException)\n&gt; at System.Net.Http.Http2Connection.Http2Stream.CheckResponseBodyState()\n&gt; at System.Net.Http.Http2Connection.Http2Stream.TryEnsureHeaders()\n&gt; at System.Net.Http.Http2Connection.Http2Stream.ReadResponseHeadersAsync(CancellationToken cancellationToken)\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; End of inner exception stack trace ---\n&gt; at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n&gt; at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.DecompressionHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n&gt; at System.Net.Http.HttpClient.&lt;SendAsync&gt;g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n&gt; at Pororoca.Infrastructure.Features.Requester.PororocaRequester.RequestAsync(IPororocaVariableResolver variableResolver, PororocaHttpRequest req, Boolean disableSslVerification, CancellationToken cancellationToken) in D:\\a\\Pororoca\\Pororoca\\src\\Pororoca.Infrastructure\\Features\\Requester\\PororocaRequester.cs:line 51\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695128540,"creation_date":1695128498,"answer_id":77134793,"question_id":77134771,"body_markdown":"Hibernate Naming Strategy: Hibernate by default converts the camel-case field names in the entity class to underscore-separated column names in the database (https://stackoverflow.com/questions/38948289/java-sql-sqlsyntaxerrorexception-unknown-column-in-field-list). This means that &#39;ProductId&#39; in the entity class would be mapped to &#39;product_id&#39; in the database, which might be causing the issue. You can change Hibernate&#39;s naming strategy to avoid this automatic conversion.\r\n\r\n`spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n`\r\nThis should be added to your **application.properties** file to change the naming strategy (https://stackoverflow.com/questions/63413656/what-am-i-mapping-incorrectly-unknown-column-in-the-field-list).\r\n\r\n\r\n","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>Hibernate Naming Strategy: Hibernate by default converts the camel-case field names in the entity class to underscore-separated column names in the database (<a href=\"https://stackoverflow.com/questions/38948289/java-sql-sqlsyntaxerrorexception-unknown-column-in-field-list\">java.sql.SQLSyntaxErrorException: Unknown column in &#39;field list&#39;</a>). This means that 'ProductId' in the entity class would be mapped to 'product_id' in the database, which might be causing the issue. You can change Hibernate's naming strategy to avoid this automatic conversion.</p>\n<p><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl </code>\nThis should be added to your <strong>application.properties</strong> file to change the naming strategy (<a href=\"https://stackoverflow.com/questions/63413656/what-am-i-mapping-incorrectly-unknown-column-in-the-field-list\">What am I mapping incorrectly? Unknown column in the &#39;field list&#39;</a>).</p>\n"},{"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695128707,"creation_date":1695128707,"answer_id":77134815,"question_id":77134771,"body_markdown":"Mysql is case insensitive. If you use case sensitive column name then it will convert the camel case to the snake case.","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>Mysql is case insensitive. If you use case sensitive column name then it will convert the camel case to the snake case.</p>\n"}],"owner":{"account_id":16004817,"reputation":11,"user_id":11550584,"display_name":"Donniie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695128506,"accepted_answer_id":77134815,"answer_count":2,"score":1,"last_activity_date":1695128707,"creation_date":1695128374,"question_id":77134771,"body_markdown":"I&#39;m working on a Spring Boot application using Hibernate and Lombok. I have an entity class Product mapped to a product table in my database. Here&#39;s the relevant part of the code:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ProductId&quot;)\r\n    private int id;\r\n    // Other fields...\r\n}\r\n\r\n```\r\nWhen I run my application, I get the following error:\r\n\r\n`ERROR o.h.engine.jdbc.spi.SqlExceptionHelper : Unknown column &#39;p1_0.product_id&#39; in &#39;field list&#39;\r\n`\r\n\r\n\r\n\r\nIt seems like Hibernate is converting the camel-case field name &#39;ProductId&#39; in my entity class to the underscore-separated column name &#39;product_id&#39; in the database, causing a mismatch.\r\n\r\nI tried changing the @Column annotation to match the actual column name in the database, but it didn&#39;t solve the issue. I also checked my database schema and it does have a &#39;ProductId&#39; column.\r\n\r\nIs there a way to change the Hibernate naming strategy so that it doesn&#39;t automatically convert the field names? I want the names in my entity class to directly map to the column names in the database without any modifications.","title":"Hibernate naming strategy causing &quot;Unknown column&quot; error in Java Spring Boot application","body":"<p>I'm working on a Spring Boot application using Hibernate and Lombok. I have an entity class Product mapped to a product table in my database. Here's the relevant part of the code:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ProductId&quot;)\n    private int id;\n    // Other fields...\n}\n\n</code></pre>\n<p>When I run my application, I get the following error:</p>\n<p><code>ERROR o.h.engine.jdbc.spi.SqlExceptionHelper : Unknown column 'p1_0.product_id' in 'field list' </code></p>\n<p>It seems like Hibernate is converting the camel-case field name 'ProductId' in my entity class to the underscore-separated column name 'product_id' in the database, causing a mismatch.</p>\n<p>I tried changing the @Column annotation to match the actual column name in the database, but it didn't solve the issue. I also checked my database schema and it does have a 'ProductId' column.</p>\n<p>Is there a way to change the Hibernate naming strategy so that it doesn't automatically convert the field names? I want the names in my entity class to directly map to the column names in the database without any modifications.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9958,"page":176,"page_size":100}
