{"items":[{"tags":["java","selenium-webdriver","cucumber-junit","selenium4"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1676382746,"post_id":75448351,"comment_id":133122705,"body_markdown":"Post the code you&#39;ve tried so far.","body":"Post the code you&#39;ve tried so far."},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1676384596,"post_id":75448351,"comment_id":133123328,"body_markdown":"Can you show us your `ConfigTestData` class ?","body":"Can you show us your <code>ConfigTestData</code> class ?"},{"owner":{"account_id":20620030,"reputation":31,"user_id":15137264,"display_name":"Sumit Soni"},"score":0,"creation_date":1676459556,"post_id":75448351,"comment_id":133139560,"body_markdown":"Hi, I have uploaded **ConfigTestData** code","body":"Hi, I have uploaded <b>ConfigTestData</b> code"}],"owner":{"account_id":20620030,"reputation":31,"user_id":15137264,"display_name":"Sumit Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459562,"creation_date":1676380324,"question_id":75448351,"body_markdown":"There is a requirement where I have to add extension in browser before running scripts.\r\nFor that I decided to use Browser Options (EdgeOptions).Browser option is introduced in selenium 4.\r\n\r\nAll required dependencies I have already imported but now I am getting exception in PageFactory.initElements.\r\n\r\n- selenium-api-4.1.1\r\n- selenium-chrome-driver-4.1.1\r\n- selenium-chromium-driver-4.1.1\r\n- selenium-edge-driver-4.1.1\r\n- selenium-java-4.1.1\r\n- selenium-remote-driver-4.1.1\r\n- selenium-support-4.1.1\r\n\r\n**Do I have to add some other dependencies also?** \r\n\r\n\r\n    Message: cucumber.runtime.CucumberException: Failed to instantiate class com.proj.stepdefinitions.common.ConfigTestData\r\n\tat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:40)\r\n\tat cucumber.runtime.java.DefaultJavaObjectFactory.getInstance(DefaultJavaObjectFactory.java:26)\r\n\tat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\r\n\tat cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:222)\r\n\tat cucumber.runtime.Runtime.runHooks(Runtime.java:210)\r\n\tat cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:200)\r\n\tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\tat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:91)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:93)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:37)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.api.junit.Cucumber.run(Cucumber.java:98)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:34)\r\n    \t... 31 more\r\n        Caused by: java.lang.NoSuchMethodError: org.openqa.selenium.support.PageFactory.initElements(Lorg/openqa/selenium/WebDriver;Ljava/lang/Class;)Ljava/lang/Object;\r\n        \tat com.proj.stepdefinitions.common.ConfigTestData.&lt;init&gt;(ConfigTestData.java:115)\r\n        \t... 36 more\r\n\r\n\r\n**ConfigTestData code below :**\r\n```\r\nimport org.junit.Assert;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport cucumber.api.Scenario;\r\nimport cucumber.api.java.After;\r\nimport cucumber.api.java.Before;\r\nimport cucumber.api.java.en.Given;\r\n\r\nimport com.step.AfterScenarioScript; //project class\r\n\r\n\r\npublic class ConfigTestData {\r\n\t\r\n\t//some constants\r\n\t\r\n\tpublic static WebDriver driver = null;\r\n\r\n    //exception here\t\r\n    CommonMethods cm = PageFactory.initElements(driver, \r\n    CommonMethods.class);\r\n\r\n\tAfterScenarioScript afterScenarioScript = PageFactory.initElements(driver, AfterScenarioScript.class); \r\n\t\r\n\tprivate CreateFile file = PageFactory.initElements(driver, CreateFile.class);\r\n    \r\n\t@Before\r\n\tpublic void init(Scenario scenario) throws IOException {\r\n\t\tprop = Login.readPropertiesFile();\r\n\t\t\r\n\t\t\r\n\t\t//some code\r\n\t}\r\n\r\n\t \r\n\r\n\t@After\r\n\tpublic void afterScenario(Scenario scenario) throws Throwable {\r\n\t\t//some code\r\n\t}\r\n\t\r\n\t//some utility methods\r\n\t\r\n}\r\n```","title":"java.lang.NoSuchMethodError org.openqa.selenium.support.PageFactory.initElements - Selenium 4","body":"<p>There is a requirement where I have to add extension in browser before running scripts.\nFor that I decided to use Browser Options (EdgeOptions).Browser option is introduced in selenium 4.</p>\n<p>All required dependencies I have already imported but now I am getting exception in PageFactory.initElements.</p>\n<ul>\n<li>selenium-api-4.1.1</li>\n<li>selenium-chrome-driver-4.1.1</li>\n<li>selenium-chromium-driver-4.1.1</li>\n<li>selenium-edge-driver-4.1.1</li>\n<li>selenium-java-4.1.1</li>\n<li>selenium-remote-driver-4.1.1</li>\n<li>selenium-support-4.1.1</li>\n</ul>\n<p><strong>Do I have to add some other dependencies also?</strong></p>\n<pre><code>Message: cucumber.runtime.CucumberException: Failed to instantiate class com.proj.stepdefinitions.common.ConfigTestData\nat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:40)\nat cucumber.runtime.java.DefaultJavaObjectFactory.getInstance(DefaultJavaObjectFactory.java:26)\nat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\nat cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:222)\nat cucumber.runtime.Runtime.runHooks(Runtime.java:210)\nat cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:200)\nat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\nat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:91)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:93)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:37)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.api.junit.Cucumber.run(Cucumber.java:98)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:34)\n    ... 31 more\n    Caused by: java.lang.NoSuchMethodError: org.openqa.selenium.support.PageFactory.initElements(Lorg/openqa/selenium/WebDriver;Ljava/lang/Class;)Ljava/lang/Object;\n        at com.proj.stepdefinitions.common.ConfigTestData.&lt;init&gt;(ConfigTestData.java:115)\n        ... 36 more\n</code></pre>\n<p><strong>ConfigTestData code below :</strong></p>\n<pre><code>import org.junit.Assert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport cucumber.api.Scenario;\nimport cucumber.api.java.After;\nimport cucumber.api.java.Before;\nimport cucumber.api.java.en.Given;\n\nimport com.step.AfterScenarioScript; //project class\n\n\npublic class ConfigTestData {\n    \n    //some constants\n    \n    public static WebDriver driver = null;\n\n    //exception here    \n    CommonMethods cm = PageFactory.initElements(driver, \n    CommonMethods.class);\n\n    AfterScenarioScript afterScenarioScript = PageFactory.initElements(driver, AfterScenarioScript.class); \n    \n    private CreateFile file = PageFactory.initElements(driver, CreateFile.class);\n    \n    @Before\n    public void init(Scenario scenario) throws IOException {\n        prop = Login.readPropertiesFile();\n        \n        \n        //some code\n    }\n\n     \n\n    @After\n    public void afterScenario(Scenario scenario) throws Throwable {\n        //some code\n    }\n    \n    //some utility methods\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":3,"creation_date":1676456560,"post_id":75458073,"comment_id":133138752,"body_markdown":"Why are you replacing flatMap with map ? Your queryData() method returns a publisher (Mono). `map` is not adapted to this. With map, you create a Flux that contains assembled publishers. Assembling a publisher does not execute it. To execute it, you must subscribe to it. That&#39;s what flatMap (or concatMap) are designed for.","body":"Why are you replacing flatMap with map ? Your queryData() method returns a publisher (Mono). <code>map</code> is not adapted to this. With map, you create a Flux that contains assembled publishers. Assembling a publisher does not execute it. To execute it, you must subscribe to it. That&#39;s what flatMap (or concatMap) are designed for."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676463242,"post_id":75458073,"comment_id":133140563,"body_markdown":"So easy explained, in this case `flatMap` returns a `Mono&lt;T&gt;` while the  `map` function will return a `Mono&lt;Mono&lt;T&gt;&gt;` and the `block` will only unwrap one mono.","body":"So easy explained, in this case <code>flatMap</code> returns a <code>Mono&lt;T&gt;</code> while the  <code>map</code> function will return a <code>Mono&lt;Mono&lt;T&gt;&gt;</code> and the <code>block</code> will only unwrap one mono."}],"answers":[{"comments":[{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1676459987,"post_id":75458919,"comment_id":133139660,"body_markdown":"Thanks you very much for your comprehensive response! Not subscribing to inner observables makes sense. Could you also have a look into https://stackoverflow.com/questions/75445977/is-webclient-builder-codecs-ignored-in-spring-boot-2-7?","body":"Thanks you very much for your comprehensive response! Not subscribing to inner observables makes sense. Could you also have a look into <a href=\"https://stackoverflow.com/questions/75445977/is-webclient-builder-codecs-ignored-in-spring-boot-2-7\" title=\"is webclient builder codecs ignored in spring boot 2 7\">stackoverflow.com/questions/75445977/&hellip;</a>?"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676459502,"creation_date":1676459502,"answer_id":75458919,"question_id":75458073,"body_markdown":"Reactive publishers like `Mono` and `Flux` are lazy. This means that they&#39;re not executed unless you subscribe to them. In both your `requestsAreSent()` and `requestsAreNotSent()` methods, you&#39;re only **subscribing to the outer publisher** by using the `block()` method.\r\n\r\nThe reason why your requests are sent within the `requestsAreSent()` method is because you use `flatMap()`. This operation flattens the inner publisher from `client.queryData()` into the outer publisher. This means that if you subscribe to the outer observable, you&#39;re also subscribed to the inner observables.\r\n\r\nIn your `requestsAreNotSent()` method on the other hand, the publishers aren&#39;t flattened, and because you only subscribe to the outer observable, the logic within `client.queryData()` isn&#39;t executed.\r\n\r\nFor example, if you subscribe to all those inner observables, the logic will be executed:\r\n\r\n```java\r\nList&lt;Mono&lt;List&lt;ResponseDto&gt;&gt;&gt; list = Flux.fromIterable(partition)\r\n    .map(client::queryData)\r\n    .collectList()\r\n    .block();\r\nlist.forEach(Mono::block); // Subscribing to the inner observables\r\n```\r\n\r\nHowever, this is a bad practice and you should keep using `flatMap()`.\r\n","title":"Migration from Flux.flatMap() to Flux.map() breaks execution","body":"<p>Reactive publishers like <code>Mono</code> and <code>Flux</code> are lazy. This means that they're not executed unless you subscribe to them. In both your <code>requestsAreSent()</code> and <code>requestsAreNotSent()</code> methods, you're only <strong>subscribing to the outer publisher</strong> by using the <code>block()</code> method.</p>\n<p>The reason why your requests are sent within the <code>requestsAreSent()</code> method is because you use <code>flatMap()</code>. This operation flattens the inner publisher from <code>client.queryData()</code> into the outer publisher. This means that if you subscribe to the outer observable, you're also subscribed to the inner observables.</p>\n<p>In your <code>requestsAreNotSent()</code> method on the other hand, the publishers aren't flattened, and because you only subscribe to the outer observable, the logic within <code>client.queryData()</code> isn't executed.</p>\n<p>For example, if you subscribe to all those inner observables, the logic will be executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Mono&lt;List&lt;ResponseDto&gt;&gt;&gt; list = Flux.fromIterable(partition)\n    .map(client::queryData)\n    .collectList()\n    .block();\nlist.forEach(Mono::block); // Subscribing to the inner observables\n</code></pre>\n<p>However, this is a bad practice and you should keep using <code>flatMap()</code>.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458919,"answer_count":1,"score":0,"last_activity_date":1676459502,"creation_date":1676455040,"question_id":75458073,"body_markdown":"I&#39;m starting to integrate Spring WebFlux into our project and have recently run into an issue regarding `Flux.flatMap()`. The following code summarizes it:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Client {\r\n\r\n    private final ParameterizedTypeReference&lt;List&lt;ResponseDto&gt;&gt; TYPE = new ParameterizedTypeReference&lt;&gt;() {\r\n    };\r\n\r\n    private final WebClient webClient;\r\n\r\n    public Mono&lt;List&lt;ResponseDto&gt;&gt; queryData(List&lt;RequestDto&gt; request) {\r\n        return webClient.post()\r\n                .uri(&quot;/api/query-data&quot;)\r\n                .bodyValue(request)\r\n                .retrieve()\r\n                .bodyToMono(TYPE);\r\n    }\r\n}\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\nclass DemoApplicationTest {\r\n    static final int COUNT = 1000_000;\r\n\r\n    @Autowired\r\n    private Client client;\r\n\r\n\r\n    @Test\r\n    void requestsAreSent() {\r\n        List&lt;RequestDto&gt; requests = getRequests();\r\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\r\n        Flux.fromIterable(partition)\r\n                .flatMap(client::queryData)\r\n                .collectList()\r\n                .block();\r\n    }\r\n\r\n    @Test\r\n    void requestsAreNotSent() {\r\n        List&lt;RequestDto&gt; requests = getRequests();\r\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\r\n        Flux.fromIterable(partition)\r\n                .map(client::queryData)\r\n                .collectList()\r\n                .block();\r\n    }\r\n\r\n    private static List&lt;RequestDto&gt; getRequests() {\r\n        return IntStream.range(0, COUNT)\r\n                .boxed()\r\n                .map(operand -&gt; RequestDto.builder().build())\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nIf I use `Flux.flatMap()` I see that my test sends requests to webserver, but if instead I use `Flux.map()` no request are sent.\r\n\r\nCould one explain this behavior? Is it something inherent or I misconfigured anything?","title":"Migration from Flux.flatMap() to Flux.map() breaks execution","body":"<p>I'm starting to integrate Spring WebFlux into our project and have recently run into an issue regarding <code>Flux.flatMap()</code>. The following code summarizes it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class Client {\n\n    private final ParameterizedTypeReference&lt;List&lt;ResponseDto&gt;&gt; TYPE = new ParameterizedTypeReference&lt;&gt;() {\n    };\n\n    private final WebClient webClient;\n\n    public Mono&lt;List&lt;ResponseDto&gt;&gt; queryData(List&lt;RequestDto&gt; request) {\n        return webClient.post()\n                .uri(&quot;/api/query-data&quot;)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(TYPE);\n    }\n}\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\nclass DemoApplicationTest {\n    static final int COUNT = 1000_000;\n\n    @Autowired\n    private Client client;\n\n\n    @Test\n    void requestsAreSent() {\n        List&lt;RequestDto&gt; requests = getRequests();\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\n        Flux.fromIterable(partition)\n                .flatMap(client::queryData)\n                .collectList()\n                .block();\n    }\n\n    @Test\n    void requestsAreNotSent() {\n        List&lt;RequestDto&gt; requests = getRequests();\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\n        Flux.fromIterable(partition)\n                .map(client::queryData)\n                .collectList()\n                .block();\n    }\n\n    private static List&lt;RequestDto&gt; getRequests() {\n        return IntStream.range(0, COUNT)\n                .boxed()\n                .map(operand -&gt; RequestDto.builder().build())\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>If I use <code>Flux.flatMap()</code> I see that my test sends requests to webserver, but if instead I use <code>Flux.map()</code> no request are sent.</p>\n<p>Could one explain this behavior? Is it something inherent or I misconfigured anything?</p>\n"},{"tags":["java","spring","api"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676457945,"post_id":75458583,"comment_id":133139110,"body_markdown":"It&#39;s a contract. You say, &quot;do this and you can add a student&quot; &quot;do this and you can update a student&quot; etc. Then when you or somebody else writes a client. They can look at your API and know what they need to do.","body":"It&#39;s a contract. You say, &quot;do this and you can add a student&quot; &quot;do this and you can update a student&quot; etc. Then when you or somebody else writes a client. They can look at your API and know what they need to do."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1676458168,"post_id":75458583,"comment_id":133139155,"body_markdown":"Here in a class if I write something like\n\n@PostMapping(&quot;/users&quot;)\n\tpublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user)\n\t{\n\t\tUser savedUser=userDaoService.saveTheUser(user);\n\t\tURI location=ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(savedUser.getId()).toUri();\n\t\t\n\t\treturn ResponseEntity.created(location).build();\n\t}\nThen is it an api?","body":"Here in a class if I write something like  @PostMapping(&quot;/users&quot;) \tpublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) \t{ \t\tUser savedUser=userDaoService.saveTheUser(user); \t\tURI location=ServletUriComponentsBuilder.fromCurrentRequest().pa&zwnj;&#8203;th(&quot;/{id}&quot;).buildAnd&zwnj;&#8203;Expand(savedUser.get&zwnj;&#8203;Id()).toUri(); \t\t \t\treturn ResponseEntity.created(location).build(); \t} Then is it an api?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458508,"post_id":75458583,"comment_id":133139249,"body_markdown":"It could be considered a pretty bad API, but sure. You&#39;ve created an endpoint that somebody can access by using a post method. An API should be descriptive to the user/consumer. eg &quot;Create users by making a POST request with the following attributes.&quot; the term refers to the collection of actions you can do. Like the java API, you know you can write java code and expect a certain action to happen. The javadocs define the API. You don&#39;t need to know what happens behind the scenes.","body":"It could be considered a pretty bad API, but sure. You&#39;ve created an endpoint that somebody can access by using a post method. An API should be descriptive to the user/consumer. eg &quot;Create users by making a POST request with the following attributes.&quot; the term refers to the collection of actions you can do. Like the java API, you know you can write java code and expect a certain action to happen. The javadocs define the API. You don&#39;t need to know what happens behind the scenes."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458757,"post_id":75458583,"comment_id":133139321,"body_markdown":"Like the online shopping. Paypal has an API, you read their documentation to learn how you can access their webservices to perform actions. &quot;How can I accept money to pay for my service.&quot;. Then you find the tools that Paypal has made available. &quot;Action: Send a post request here with these attributes to setup a payment. Response: You get a transaction code for when the user returns to your site.&quot;","body":"Like the online shopping. Paypal has an API, you read their documentation to learn how you can access their webservices to perform actions. &quot;How can I accept money to pay for my service.&quot;. Then you find the tools that Paypal has made available. &quot;Action: Send a post request here with these attributes to setup a payment. Response: You get a transaction code for when the user returns to your site.&quot;"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676458848,"post_id":75458583,"comment_id":133139340,"body_markdown":"*I tried going through- What exactly is the meaning of an API?* Yes, and what are you then still missing? It seems to me that there are good explanations there. And also examples.","body":"<i>I tried going through- What exactly is the meaning of an API?</i> Yes, and what are you then still missing? It seems to me that there are good explanations there. And also examples."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458954,"post_id":75458583,"comment_id":133139370,"body_markdown":"To continue paypal example. You might say, &quot;Why am I writing http requests in java, this is cumbersom?&quot; So you would then ask, &quot;Does paypal have a java api&quot; so you can just write code in java without worrying about get/post etc.","body":"To continue paypal example. You might say, &quot;Why am I writing http requests in java, this is cumbersom?&quot; So you would then ask, &quot;Does paypal have a java api&quot; so you can just write code in java without worrying about get/post etc."}],"answers":[{"tags":[],"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676458873,"creation_date":1676458873,"answer_id":75458809,"question_id":75458583,"body_markdown":"API stands for Application Programming Interface. Let&#39;s understand it in layman terms.\r\n\r\nInterface tells us how to establish the connection (think in terms of request parameters, URI etc). Application in API stands for the application this API will allow communication with and Programming means that you need to use computer programs.\r\n\r\nIt is like an address with instructions. URI is the address and HTTP verb, request parameters etc. are the instructions.\r\n\r\nNow to your other question. What does it mean when there&#39;s only one application involved. Well it means that you can connect to that application using this API, if ever you have to. It doesn&#39;t mandate you to connect to it. After all, there&#39;s no point in creating an application with no endpoints for the users to connect to that application and use it.\r\n\r\n","title":"What is an Api?","body":"<p>API stands for Application Programming Interface. Let's understand it in layman terms.</p>\n<p>Interface tells us how to establish the connection (think in terms of request parameters, URI etc). Application in API stands for the application this API will allow communication with and Programming means that you need to use computer programs.</p>\n<p>It is like an address with instructions. URI is the address and HTTP verb, request parameters etc. are the instructions.</p>\n<p>Now to your other question. What does it mean when there's only one application involved. Well it means that you can connect to that application using this API, if ever you have to. It doesn't mandate you to connect to it. After all, there's no point in creating an application with no endpoints for the users to connect to that application and use it.</p>\n"},{"comments":[{"owner":{"account_id":1750581,"reputation":3712,"user_id":1599751,"accept_rate":100,"display_name":"PeterJ"},"score":0,"creation_date":1676461131,"post_id":75458915,"comment_id":133139938,"body_markdown":"The first sentence of this is obviously wrong, as an example the Win32 API doesn&#39;t involve the web in any way.","body":"The first sentence of this is obviously wrong, as an example the Win32 API doesn&#39;t involve the web in any way."}],"tags":[],"owner":{"account_id":10377027,"reputation":104,"user_id":7652949,"display_name":"mbyou"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676459461,"creation_date":1676459461,"answer_id":75458915,"question_id":75458583,"body_markdown":"API is a Web Service.\r\n\r\nExample : Here is an API that gives you the list of cities in France by Zip code (in my example it is 79000, you can switch to see other results)\r\n\r\nhttps://geo.api.gouv.fr/communes?codePostal=79000\r\n\r\nTo fully understand API, look this image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6u2XQ.jpg","title":"What is an Api?","body":"<p>API is a Web Service.</p>\n<p>Example : Here is an API that gives you the list of cities in France by Zip code (in my example it is 79000, you can switch to see other results)</p>\n<p><a href=\"https://geo.api.gouv.fr/communes?codePostal=79000\" rel=\"nofollow noreferrer\">https://geo.api.gouv.fr/communes?codePostal=79000</a></p>\n<p>To fully understand API, look this image</p>\n<p><a href=\"https://i.stack.imgur.com/6u2XQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6u2XQ.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676465482,"answer_count":2,"score":-4,"last_activity_date":1676459461,"creation_date":1676457804,"question_id":75458583,"body_markdown":"What is an Api - here can you give an example. I heard that an api is used to communicate between two Applications. But ifwe have only one application then?\r\n\r\n\r\nWhen I referred to stackoverflow for what is an Api?- I got an information that an api helps a program to communicate with another program. There was an example - In online shopping website we provide credit card details and thus Online shopping is communicating with Credit card company using an API.\r\n\r\nI understood this example. But whenever someone speaks about an API in a single App I confuse. Confusion is if app is single then to whom will it communicate to ?(In online shopping app it was communicating to a credit card app).\r\nLet&#39;s say I have a basic CRUD application(where we can Add student, update, retrieve and delete the student). Will it be an API? If yes then where?\r\n\r\nI tried going through- https://stackoverflow.com/questions/7440379/what-exactly-is-the-meaning-of-an-api\r\n","title":"What is an Api?","body":"<p>What is an Api - here can you give an example. I heard that an api is used to communicate between two Applications. But ifwe have only one application then?</p>\n<p>When I referred to stackoverflow for what is an Api?- I got an information that an api helps a program to communicate with another program. There was an example - In online shopping website we provide credit card details and thus Online shopping is communicating with Credit card company using an API.</p>\n<p>I understood this example. But whenever someone speaks about an API in a single App I confuse. Confusion is if app is single then to whom will it communicate to ?(In online shopping app it was communicating to a credit card app).\nLet's say I have a basic CRUD application(where we can Add student, update, retrieve and delete the student). Will it be an API? If yes then where?</p>\n<p>I tried going through- <a href=\"https://stackoverflow.com/questions/7440379/what-exactly-is-the-meaning-of-an-api\">What exactly is the meaning of an API?</a></p>\n"},{"tags":["java","android-studio","runtime-error"],"owner":{"account_id":21153752,"reputation":1,"user_id":15553481,"display_name":"Zerosay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459430,"creation_date":1676459430,"question_id":75458907,"body_markdown":"My App Crashes and i cant find the error, logcat telling me the error is in imageview class, i cant use debugger/breakpoints because then the error doesent occure. It must be a timing problem but i dont know how to find out which line causes the error. \r\nThe same code runnes perfectly fine for some time doing the same things over and over again and then at a random ammount of time is crashes with this error.  \r\n\r\nThe Error: \r\n```\r\n2023-02-15 11:55:27.465 19180-19180/com.example.ultraschall_sensor E/raschall_senso: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\n    \r\n    --------- beginning of crash\r\n2023-02-15 11:55:27.479 19180-19180/com.example.ultraschall_sensor E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.ultraschall_sensor, PID: 19180\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.graphics.drawable.Drawable.draw(android.graphics.Canvas)&#39; on a null object reference\r\n        at android.widget.ImageView.onDraw(ImageView.java:1459)\r\n        at android.view.View.draw(View.java:20483)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:19294)\r\n```\r\n\r\nThe relevant Code: \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private BluetoothDevice mDevice;\r\n    private BluetoothSocket mSocket;\r\n    private InputStream mInputStream;\r\n    private OutputStream mOutputStream;\r\n    private TextView mTextView;\r\n    private ImageView imageView;\r\n    private Button mButton;\r\n    private Button mButton2;\r\n    private EditText editText;\r\n    Bitmap dotmap;\r\n\r\n    String[] wordArray = new String[4000];\r\n    String incomingMessage = &quot;&quot;;\r\n    String newIncomingMessage= &quot;&quot;;\r\n    int counter=0;\r\n    int wordCounter=0;\r\n    int[] winkel=new int [200];\r\n    int[][] punktPosition=new int[400][2];\r\n    boolean[] blackdots=new boolean[400];\r\n    int winkelCounter0=0;\r\n    int winkelCounter1=0;\r\n    int winkelCounter2=0;\r\n    int punktPositionCounter1=0;\r\n    int punktPositionCounter2=179;\r\n    double maximaleReichweite;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextView = findViewById(R.id.textView);\r\n        imageView = findViewById(R.id.imageView);\r\n        mButton = findViewById(R.id.button);\r\n        mButton2 = findViewById(R.id.button2);\r\n        editText = findViewById(R.id.number_input);\r\n        checkBluetoothConnectPermission();\r\n        checkBluetoothScanPermission();\r\n        checkAccessCoarsePermission();\r\n        getBondedDevice();\r\n        try {\r\n            connectToDevice();\r\n        } catch (IOException e) {\r\n            e.getStackTrace()[0].getLineNumber();\r\n\r\n        }\r\n\r\n        Bitmap bitmap = Bitmap.createBitmap(380,380 , Bitmap.Config.ARGB_8888);\r\n        imageView.setImageBitmap(bitmap);\r\n        dotmap =  ((BitmapDrawable)imageView.getDrawable()).getBitmap();\r\n\r\n\r\n        // Send data button click listener\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                maximaleReichweite=Integer.parseInt(editText.getText().toString());\r\n                String data = &quot;Start Scan&quot;;\r\n                sendData(data);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Receive data thread\r\n        new Thread(new Runnable() {\r\n            public void run() {\r\n                while (true) {\r\n\r\n                        prozessData();\r\n\r\n                }\r\n            }\r\n        }).start();\r\n\r\n\r\n\r\n    private void drawScanLines ( int winkel) {\r\n\r\n        winkel = -winkel - 2;\r\n        int XstartPos = 190;\r\n        int YstartPos = 190;\r\n\r\n        Bitmap drawmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\r\n        if (drawmap != null) {\r\n            Canvas canvas = new Canvas(drawmap);\r\n\r\n            Paint paintYellow = new Paint();\r\n            paintYellow.setStrokeWidth(1);\r\n            paintYellow.setColor(Color.YELLOW);\r\n\r\n            Paint paintWhite = new Paint();\r\n            paintWhite.setStrokeWidth(1);\r\n            paintWhite.setColor(Color.WHITE);\r\n\r\n            Paint paintBlue = new Paint();\r\n            paintBlue.setStrokeWidth(1);\r\n            paintBlue.setColor(Color.BLUE);\r\n\r\n            winkel = winkel - 90;\r\n            int XEndPos = 1;\r\n            int YEndPos = 1;\r\n\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\r\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\r\n            }\r\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\r\n\r\n\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            distance = 1;\r\n            if (winkelCounter0 != 0) {\r\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                    distance++;\r\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\r\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\r\n                }\r\n\r\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\r\n            }\r\n\r\n\r\n            winkel = winkel - 180;\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\r\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\r\n            }\r\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\r\n\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            if (winkelCounter0 != 0) {\r\n                distance = 1;\r\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                    distance++;\r\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\r\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\r\n                }\r\n\r\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\r\n            }\r\n\r\n            canvas.drawCircle(XstartPos, YstartPos, 3, paintBlue);\r\n\r\n            imageView.setImageBitmap(drawmap);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    private int[] drawDotsSensor2 ( int winkel, int abstand)\r\n    {\r\n        winkel=-winkel-90;\r\n        int XstartPos=190;\r\n        int YstartPos=190;\r\n        int XEndPos;\r\n        int YEndPos;\r\n\r\n        Canvas canvas = new Canvas(dotmap);\r\n\r\n        Paint paintBlack = new Paint();\r\n        paintBlack.setStrokeWidth(3);\r\n        paintBlack.setColor(Color.BLACK);\r\n\r\n        Paint paintRed = new Paint();\r\n        paintRed.setStrokeWidth(3);\r\n        paintRed.setColor(Color.RED);\r\n\r\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\r\n\r\n        {\r\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            XEndPos=XstartPos+a;\r\n            YEndPos=YstartPos+b;\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\r\n\r\n\r\n        }\r\n        else {\r\n            XEndPos=1;\r\n            YEndPos=1;\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                XEndPos=XstartPos+a;\r\n                YEndPos=YstartPos+b;\r\n            }\r\n\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\r\n\r\n        }\r\n\r\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\r\n        int[] dotsPosition=new int[2];\r\n        dotsPosition[0]=XEndPos;\r\n        dotsPosition[1]=YEndPos;\r\n\r\n        return dotsPosition;\r\n\r\n\r\n    }\r\n\r\n    private int[] drawDotsSensor1 ( int winkel, int abstand)\r\n    {\r\n        winkel=-winkel-270;\r\n        int XstartPos=190;\r\n        int YstartPos=190;\r\n        int XEndPos;\r\n        int YEndPos;\r\n\r\n\r\n\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\r\n        Canvas canvas = new Canvas(dotmap);\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\r\n\r\n        Paint paintBlack = new Paint();\r\n        paintBlack.setStrokeWidth(3);\r\n        paintBlack.setColor(Color.BLACK);\r\n\r\n        Paint paintRed = new Paint();\r\n        paintRed.setStrokeWidth(3);\r\n        paintRed.setColor(Color.RED);\r\n\r\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\r\n\r\n        {\r\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            XEndPos=XstartPos+a;\r\n            YEndPos=YstartPos+b;\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 3:&quot;);\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 4:&quot;);\r\n\r\n\r\n        }\r\n        else {\r\n            XEndPos=1;\r\n            YEndPos=1;\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                XEndPos=XstartPos+a;\r\n                YEndPos=YstartPos+b;\r\n            }\r\n\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 5:&quot;);\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 6:&quot;);\r\n\r\n        }\r\n\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 7:&quot;);\r\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 8:&quot;);\r\n        int[] dotsPosition=new int[2];\r\n        dotsPosition[0]=XEndPos;\r\n        dotsPosition[1]=YEndPos;\r\n\r\n        return dotsPosition;\r\n\r\n\r\n    }\r\n\r\n    public void prozessData()\r\n    {\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Winkel:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;kein Sensor:&quot;);\r\n\r\n            drawScanLines(Integer.valueOf(wordArray[wordCounter+1]));\r\n            winkel[winkelCounter0]=Integer.valueOf(wordArray[wordCounter+1]);\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter0++;\r\n        }}\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Sensor_Eins:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\r\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\r\n            punktPosition[punktPositionCounter1]=drawDotsSensor1(winkel[winkelCounter1],Integer.valueOf(wordArray[wordCounter+1]));\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter1++;\r\n            punktPositionCounter1++;\r\n            Log.d(&quot;TAG&quot;, &quot;aaaaaa&quot;);\r\n        }}\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Sensor_Zwei:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\r\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\r\n            punktPosition[punktPositionCounter2]=drawDotsSensor2(winkel[winkelCounter2],Integer.valueOf(wordArray[wordCounter+1]));\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter2++;\r\n            punktPositionCounter2++;\r\n        }}\r\n    }\r\n\r\n    private Bitmap overlay(Bitmap bmp1, Bitmap bmp2) {\r\n        // Tempr&#228;re Bitmap wird aus Ma&#223;e der ersten &#252;bergeben Bitmap erstellt\r\n        Bitmap bmOverlay = Bitmap.createBitmap(bmp1.getWidth(), bmp1.getHeight(), bmp1.getConfig());\r\n        // Neuer Kontainer wird aus tempor&#228;rer Bitmap erstellt\r\n        Canvas canvas = new Canvas(bmOverlay);\r\n        // Erste Bitmap wird in den Kontainer geschrieben\r\n        canvas.drawBitmap(bmp1, new Matrix(), null);\r\n        // Zweite Bitmap wird in den Kontainer geschrieben\r\n        canvas.drawBitmap(bmp2, new Matrix(), null);\r\n        return bmOverlay;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI tried: \r\n\r\nDubugger/Breakpoints -&gt; Error stops occuring\r\n\r\nPrint to Log -&gt; Error occures at random point in code and at a random time  ","title":"Android Studio App crashes without telling me the line of error in my Code; Error in Imageview class","body":"<p>My App Crashes and i cant find the error, logcat telling me the error is in imageview class, i cant use debugger/breakpoints because then the error doesent occure. It must be a timing problem but i dont know how to find out which line causes the error.\nThe same code runnes perfectly fine for some time doing the same things over and over again and then at a random ammount of time is crashes with this error.</p>\n<p>The Error:</p>\n<pre><code>2023-02-15 11:55:27.465 19180-19180/com.example.ultraschall_sensor E/raschall_senso: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\n    \n    --------- beginning of crash\n2023-02-15 11:55:27.479 19180-19180/com.example.ultraschall_sensor E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.ultraschall_sensor, PID: 19180\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.graphics.drawable.Drawable.draw(android.graphics.Canvas)' on a null object reference\n        at android.widget.ImageView.onDraw(ImageView.java:1459)\n        at android.view.View.draw(View.java:20483)\n        at android.view.View.updateDisplayListIfDirty(View.java:19294)\n</code></pre>\n<p>The relevant Code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private BluetoothDevice mDevice;\n    private BluetoothSocket mSocket;\n    private InputStream mInputStream;\n    private OutputStream mOutputStream;\n    private TextView mTextView;\n    private ImageView imageView;\n    private Button mButton;\n    private Button mButton2;\n    private EditText editText;\n    Bitmap dotmap;\n\n    String[] wordArray = new String[4000];\n    String incomingMessage = &quot;&quot;;\n    String newIncomingMessage= &quot;&quot;;\n    int counter=0;\n    int wordCounter=0;\n    int[] winkel=new int [200];\n    int[][] punktPosition=new int[400][2];\n    boolean[] blackdots=new boolean[400];\n    int winkelCounter0=0;\n    int winkelCounter1=0;\n    int winkelCounter2=0;\n    int punktPositionCounter1=0;\n    int punktPositionCounter2=179;\n    double maximaleReichweite;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTextView = findViewById(R.id.textView);\n        imageView = findViewById(R.id.imageView);\n        mButton = findViewById(R.id.button);\n        mButton2 = findViewById(R.id.button2);\n        editText = findViewById(R.id.number_input);\n        checkBluetoothConnectPermission();\n        checkBluetoothScanPermission();\n        checkAccessCoarsePermission();\n        getBondedDevice();\n        try {\n            connectToDevice();\n        } catch (IOException e) {\n            e.getStackTrace()[0].getLineNumber();\n\n        }\n\n        Bitmap bitmap = Bitmap.createBitmap(380,380 , Bitmap.Config.ARGB_8888);\n        imageView.setImageBitmap(bitmap);\n        dotmap =  ((BitmapDrawable)imageView.getDrawable()).getBitmap();\n\n\n        // Send data button click listener\n        mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                maximaleReichweite=Integer.parseInt(editText.getText().toString());\n                String data = &quot;Start Scan&quot;;\n                sendData(data);\n\n            }\n        });\n\n\n        // Receive data thread\n        new Thread(new Runnable() {\n            public void run() {\n                while (true) {\n\n                        prozessData();\n\n                }\n            }\n        }).start();\n\n\n\n    private void drawScanLines ( int winkel) {\n\n        winkel = -winkel - 2;\n        int XstartPos = 190;\n        int YstartPos = 190;\n\n        Bitmap drawmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\n        if (drawmap != null) {\n            Canvas canvas = new Canvas(drawmap);\n\n            Paint paintYellow = new Paint();\n            paintYellow.setStrokeWidth(1);\n            paintYellow.setColor(Color.YELLOW);\n\n            Paint paintWhite = new Paint();\n            paintWhite.setStrokeWidth(1);\n            paintWhite.setColor(Color.WHITE);\n\n            Paint paintBlue = new Paint();\n            paintBlue.setStrokeWidth(1);\n            paintBlue.setColor(Color.BLUE);\n\n            winkel = winkel - 90;\n            int XEndPos = 1;\n            int YEndPos = 1;\n\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\n            }\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\n\n\n            XEndPos = 1;\n            YEndPos = 1;\n\n            distance = 1;\n            if (winkelCounter0 != 0) {\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                    distance++;\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\n                }\n\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\n            }\n\n\n            winkel = winkel - 180;\n            XEndPos = 1;\n            YEndPos = 1;\n\n            distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\n            }\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\n\n            XEndPos = 1;\n            YEndPos = 1;\n\n            if (winkelCounter0 != 0) {\n                distance = 1;\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                    distance++;\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\n                }\n\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\n            }\n\n            canvas.drawCircle(XstartPos, YstartPos, 3, paintBlue);\n\n            imageView.setImageBitmap(drawmap);\n\n\n        }\n    }\n\n    private int[] drawDotsSensor2 ( int winkel, int abstand)\n    {\n        winkel=-winkel-90;\n        int XstartPos=190;\n        int YstartPos=190;\n        int XEndPos;\n        int YEndPos;\n\n        Canvas canvas = new Canvas(dotmap);\n\n        Paint paintBlack = new Paint();\n        paintBlack.setStrokeWidth(3);\n        paintBlack.setColor(Color.BLACK);\n\n        Paint paintRed = new Paint();\n        paintRed.setStrokeWidth(3);\n        paintRed.setColor(Color.RED);\n\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\n\n        {\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            XEndPos=XstartPos+a;\n            YEndPos=YstartPos+b;\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\n\n\n        }\n        else {\n            XEndPos=1;\n            YEndPos=1;\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                XEndPos=XstartPos+a;\n                YEndPos=YstartPos+b;\n            }\n\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\n\n        }\n\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\n        int[] dotsPosition=new int[2];\n        dotsPosition[0]=XEndPos;\n        dotsPosition[1]=YEndPos;\n\n        return dotsPosition;\n\n\n    }\n\n    private int[] drawDotsSensor1 ( int winkel, int abstand)\n    {\n        winkel=-winkel-270;\n        int XstartPos=190;\n        int YstartPos=190;\n        int XEndPos;\n        int YEndPos;\n\n\n\n        Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\n        Canvas canvas = new Canvas(dotmap);\n        Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\n\n        Paint paintBlack = new Paint();\n        paintBlack.setStrokeWidth(3);\n        paintBlack.setColor(Color.BLACK);\n\n        Paint paintRed = new Paint();\n        paintRed.setStrokeWidth(3);\n        paintRed.setColor(Color.RED);\n\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\n\n        {\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            XEndPos=XstartPos+a;\n            YEndPos=YstartPos+b;\n            Log.d(&quot;TAG&quot;, &quot;Sensor 3:&quot;);\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\n            Log.d(&quot;TAG&quot;, &quot;Sensor 4:&quot;);\n\n\n        }\n        else {\n            XEndPos=1;\n            YEndPos=1;\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                XEndPos=XstartPos+a;\n                YEndPos=YstartPos+b;\n            }\n\n            Log.d(&quot;TAG&quot;, &quot;Sensor 5:&quot;);\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\n            Log.d(&quot;TAG&quot;, &quot;Sensor 6:&quot;);\n\n        }\n\n        Log.d(&quot;TAG&quot;, &quot;Sensor 7:&quot;);\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\n        Log.d(&quot;TAG&quot;, &quot;Sensor 8:&quot;);\n        int[] dotsPosition=new int[2];\n        dotsPosition[0]=XEndPos;\n        dotsPosition[1]=YEndPos;\n\n        return dotsPosition;\n\n\n    }\n\n    public void prozessData()\n    {\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Winkel:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;kein Sensor:&quot;);\n\n            drawScanLines(Integer.valueOf(wordArray[wordCounter+1]));\n            winkel[winkelCounter0]=Integer.valueOf(wordArray[wordCounter+1]);\n            wordCounter++;\n            wordCounter++;\n            winkelCounter0++;\n        }}\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Sensor_Eins:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\n            punktPosition[punktPositionCounter1]=drawDotsSensor1(winkel[winkelCounter1],Integer.valueOf(wordArray[wordCounter+1]));\n            wordCounter++;\n            wordCounter++;\n            winkelCounter1++;\n            punktPositionCounter1++;\n            Log.d(&quot;TAG&quot;, &quot;aaaaaa&quot;);\n        }}\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Sensor_Zwei:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\n            punktPosition[punktPositionCounter2]=drawDotsSensor2(winkel[winkelCounter2],Integer.valueOf(wordArray[wordCounter+1]));\n            wordCounter++;\n            wordCounter++;\n            winkelCounter2++;\n            punktPositionCounter2++;\n        }}\n    }\n\n    private Bitmap overlay(Bitmap bmp1, Bitmap bmp2) {\n        // Temprre Bitmap wird aus Mae der ersten bergeben Bitmap erstellt\n        Bitmap bmOverlay = Bitmap.createBitmap(bmp1.getWidth(), bmp1.getHeight(), bmp1.getConfig());\n        // Neuer Kontainer wird aus temporrer Bitmap erstellt\n        Canvas canvas = new Canvas(bmOverlay);\n        // Erste Bitmap wird in den Kontainer geschrieben\n        canvas.drawBitmap(bmp1, new Matrix(), null);\n        // Zweite Bitmap wird in den Kontainer geschrieben\n        canvas.drawBitmap(bmp2, new Matrix(), null);\n        return bmOverlay;\n    }\n\n\n</code></pre>\n<p>I tried:</p>\n<p>Dubugger/Breakpoints -&gt; Error stops occuring</p>\n<p>Print to Log -&gt; Error occures at random point in code and at a random time</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1676035841,"post_id":75409593,"comment_id":133061437,"body_markdown":"Maybe it&#39;s suffient if you use `default` in your data.sql","body":"Maybe it&#39;s suffient if you use <code>default</code> in your data.sql"},{"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"score":0,"creation_date":1676265495,"post_id":75409593,"comment_id":133095547,"body_markdown":"Using `default` and `@GeneratedValue(strategy = GenerationType.IDENTITY)` on my ID indeed make the test pass. But I would like set custom ID because I want predicable IDs in my fixture","body":"Using <code>default</code> and <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> on my ID indeed make the test pass. But I would like set custom ID because I want predicable IDs in my fixture"}],"answers":[{"comments":[{"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"score":0,"creation_date":1676025875,"post_id":75409918,"comment_id":133058563,"body_markdown":"When I try with `GenerationType.AUTO` the test fails: the id assigned to the inserted entity is 1. It should be 4 as there is already 3 rows inserted by the fixtures with manually assigned ID","body":"When I try with <code>GenerationType.AUTO</code> the test fails: the id assigned to the inserted entity is 1. It should be 4 as there is already 3 rows inserted by the fixtures with manually assigned ID"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1676026239,"post_id":75409918,"comment_id":133058665,"body_markdown":"Make sure your hibernate.hbm2ddl.auto property is set to update","body":"Make sure your hibernate.hbm2ddl.auto property is set to update"},{"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"score":0,"creation_date":1676026657,"post_id":75409918,"comment_id":133058802,"body_markdown":"Sadly I have the same issue, id returned is still 1","body":"Sadly I have the same issue, id returned is still 1"}],"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025434,"creation_date":1676025434,"answer_id":75409918,"question_id":75409593,"body_markdown":"**GenerationType.IDENTITY**\r\n\r\nThis GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn&#39;t support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn&#39;t support IDENTITY column.\r\n\r\nYou should consider changing your ID persistance type to GenerationType.AUTO or another one","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p><strong>GenerationType.IDENTITY</strong></p>\n<p>This GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn't support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn't support IDENTITY column.</p>\n<p>You should consider changing your ID persistance type to GenerationType.AUTO or another one</p>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676035044,"creation_date":1676035044,"answer_id":75411676,"question_id":75409593,"body_markdown":"How the Ids are generated depends on framework and database. Usualy it&#39;s done by Sequences, and the Sequnce doesn&#39;t know your inserts, so it starts with 1.\r\nYou can annotate the class Customer, which sequence to use and use this sequence for creation in the data.sql to avoid this error.","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>How the Ids are generated depends on framework and database. Usualy it's done by Sequences, and the Sequnce doesn't know your inserts, so it starts with 1.\nYou can annotate the class Customer, which sequence to use and use this sequence for creation in the data.sql to avoid this error.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676459143,"creation_date":1676459143,"answer_id":75458862,"question_id":75409593,"body_markdown":"You insert data using `data.sql` with fixed id values. When you next insert data with JPA the identity column will create the same ids and you&#39;ll get a Unique Key Violation.\r\n\r\nThis happens because the id generation internally uses a sequence and does not consider the values in the table.\r\n\r\nYou have the following options to fix this:\r\n\r\n* Use either ids that won&#39;t get generated by the id column, e.g. negative values, or huge values that you will never reach.\r\n\r\n* Don&#39;t specify the ids in `data.sql` and let the database generate them.\r\n\r\n* Configure the database sequence to start with a higher value when creating the table. The [`GENERATED` syntax][1] for identity columns allows to [specify sequence options][2] for this purpose.\r\nTherefore something like this should do the trick:\r\n```sql\r\ncreate table customers (\r\n    id integer generated by default as identity (start with 4),\r\n    name varchar(255) not null,\r\n    region varchar(255),\r\n    primary key (id)\r\n)\r\n```\r\n\r\n  [1]: http://h2database.com/html/grammar.html#column_definition\r\n  [2]: http://h2database.com/html/grammar.html#sequence_option","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>You insert data using <code>data.sql</code> with fixed id values. When you next insert data with JPA the identity column will create the same ids and you'll get a Unique Key Violation.</p>\n<p>This happens because the id generation internally uses a sequence and does not consider the values in the table.</p>\n<p>You have the following options to fix this:</p>\n<ul>\n<li><p>Use either ids that won't get generated by the id column, e.g. negative values, or huge values that you will never reach.</p>\n</li>\n<li><p>Don't specify the ids in <code>data.sql</code> and let the database generate them.</p>\n</li>\n<li><p>Configure the database sequence to start with a higher value when creating the table. The <a href=\"http://h2database.com/html/grammar.html#column_definition\" rel=\"nofollow noreferrer\"><code>GENERATED</code> syntax</a> for identity columns allows to <a href=\"http://h2database.com/html/grammar.html#sequence_option\" rel=\"nofollow noreferrer\">specify sequence options</a> for this purpose.\nTherefore something like this should do the trick:</p>\n</li>\n</ul>\n<pre class=\"lang-sql prettyprint-override\"><code>create table customers (\n    id integer generated by default as identity (start with 4),\n    name varchar(255) not null,\n    region varchar(255),\n    primary key (id)\n)\n</code></pre>\n"}],"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676459143,"creation_date":1676023717,"question_id":75409593,"body_markdown":"Using Java 17.0.2 and Spring Boot 3.0.2 (same issue with Spring Boot 2.7.x)\r\n\r\n(There is a sample project here: https://github.com/fistons/issue-spring-data-test)\r\n\r\nI have an entity and its repository:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;customers&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class Customer {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  @Column(name = &quot;name&quot;, unique = true, nullable = false, length = 255)\r\n  private String name;\r\n\r\n  @Column(name = &quot;region&quot;)\r\n  @Enumerated(EnumType.STRING)\r\n  private Region region;\r\n\r\n  public enum Region {\r\n    US,\r\n    EU\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\r\n```\r\n\r\nI created a simple service to insert a new entity in it\r\n```java\r\n@Service\r\npublic class CustomerService {\r\n\r\n  private final CustomerRepository customerRepository;\r\n\r\n  public CustomerService(CustomerRepository customerRepository) {\r\n    this.customerRepository = customerRepository;\r\n  }\r\n\r\n  @Transactional\r\n  public Customer createCustomer(String name, Customer.Region region) {\r\n\r\n    Customer customer = new Customer();\r\n    customer.setName(name);\r\n    customer.setRegion(region);\r\n\r\n    return customerRepository.save(customer);\r\n  }\r\n}\r\n```\r\nI created this test (run using in memory H2 database):\r\n```java\r\n@SpringBootTest\r\n@Transactional\r\nclass CustomerServiceTest {\r\n\r\n  @Autowired\r\n  private CustomerService customerService;\r\n\r\n  @Test\r\n  public void test_createCustomer() {\r\n    Customer createdCustomer = customerService.createCustomer(&quot;The Crusher&quot;, Customer.Region.EU);\r\n\r\n    Assertions.assertEquals(4, createdCustomer.getId(), &quot;Id should match&quot;);\r\n    Assertions.assertEquals(&quot;The Crusher&quot;, createdCustomer.getName(), &quot;Name should match&quot;);\r\n    Assertions.assertEquals(Customer.Region.EU, createdCustomer.getRegion(), &quot;Region should match&quot;);\r\n  }\r\n}\r\n```\r\nwith this data.sql fixture:\r\n```sql\r\nINSERT INTO customers (id, name, region) VALUES (1, &#39;Dr. Carmack&#39;, &#39;EU&#39;), (2, &#39;Pinky&#39;, &#39;EU&#39;), (3, &#39;Revenant&#39;, &#39;EU&#39;);\r\n```\r\n\r\nI explicitly set `spring.jpa.defer-datasource-initialization: true` in my test application.yml\r\n\r\nWhen I run this test, I&#39;ve got an exception, and I can&#39;t figure why:\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.CUSTOMERS(ID) ( /* key:1 */ 1, &#39;Dr. Carmack&#39;, &#39;EU&#39;)&quot;; SQL statement:\r\ninsert into customers (id, name, region) values (default, ?, ?) [23505-214]]\r\n```\r\n\r\n\r\nWhen I look at the tests logs, I can see that hibernate create the table with the following request:\r\n```sql\r\n    create table customers (\r\n       id integer generated by default as identity,\r\n        name varchar(255) not null,\r\n        region varchar(255),\r\n        primary key (id)\r\n    )\r\n```\r\n\r\nIt seems that when there is an insertion in service, the ID should be 4 as there is already 3 inserted rows in my fixture.\r\n\r\nWhy does it try to assign id `1` ? Did I miss something here?","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>Using Java 17.0.2 and Spring Boot 3.0.2 (same issue with Spring Boot 2.7.x)</p>\n<p>(There is a sample project here: <a href=\"https://github.com/fistons/issue-spring-data-test\" rel=\"nofollow noreferrer\">https://github.com/fistons/issue-spring-data-test</a>)</p>\n<p>I have an entity and its repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;customers&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class Customer {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  @Column(name = &quot;name&quot;, unique = true, nullable = false, length = 255)\n  private String name;\n\n  @Column(name = &quot;region&quot;)\n  @Enumerated(EnumType.STRING)\n  private Region region;\n\n  public enum Region {\n    US,\n    EU\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\n</code></pre>\n<p>I created a simple service to insert a new entity in it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomerService {\n\n  private final CustomerRepository customerRepository;\n\n  public CustomerService(CustomerRepository customerRepository) {\n    this.customerRepository = customerRepository;\n  }\n\n  @Transactional\n  public Customer createCustomer(String name, Customer.Region region) {\n\n    Customer customer = new Customer();\n    customer.setName(name);\n    customer.setRegion(region);\n\n    return customerRepository.save(customer);\n  }\n}\n</code></pre>\n<p>I created this test (run using in memory H2 database):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Transactional\nclass CustomerServiceTest {\n\n  @Autowired\n  private CustomerService customerService;\n\n  @Test\n  public void test_createCustomer() {\n    Customer createdCustomer = customerService.createCustomer(&quot;The Crusher&quot;, Customer.Region.EU);\n\n    Assertions.assertEquals(4, createdCustomer.getId(), &quot;Id should match&quot;);\n    Assertions.assertEquals(&quot;The Crusher&quot;, createdCustomer.getName(), &quot;Name should match&quot;);\n    Assertions.assertEquals(Customer.Region.EU, createdCustomer.getRegion(), &quot;Region should match&quot;);\n  }\n}\n</code></pre>\n<p>with this data.sql fixture:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO customers (id, name, region) VALUES (1, 'Dr. Carmack', 'EU'), (2, 'Pinky', 'EU'), (3, 'Revenant', 'EU');\n</code></pre>\n<p>I explicitly set <code>spring.jpa.defer-datasource-initialization: true</code> in my test application.yml</p>\n<p>When I run this test, I've got an exception, and I can't figure why:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.CUSTOMERS(ID) ( /* key:1 */ 1, 'Dr. Carmack', 'EU')&quot;; SQL statement:\ninsert into customers (id, name, region) values (default, ?, ?) [23505-214]]\n</code></pre>\n<p>When I look at the tests logs, I can see that hibernate create the table with the following request:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table customers (\n       id integer generated by default as identity,\n        name varchar(255) not null,\n        region varchar(255),\n        primary key (id)\n    )\n</code></pre>\n<p>It seems that when there is an insertion in service, the ID should be 4 as there is already 3 inserted rows in my fixture.</p>\n<p>Why does it try to assign id <code>1</code> ? Did I miss something here?</p>\n"},{"tags":["java","spring-boot","proguard","proguard-maven-plugin"],"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459142,"creation_date":1676459142,"question_id":75458860,"body_markdown":"I have an application with over 100 endpoints, all of which were working perfectly before obfuscation. However, after obfuscation, none of the endpoints are working. All of them return a 404 error.\r\n\r\nHere is the obfuscation configuration I used:\r\n\r\n```\r\n-target 11 ##Specify the java version number\r\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\r\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\r\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\r\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName(&#39;className&#39;)\r\n-adaptresourcefilecontents **.properties,META-INF/MANIFEST.MF\r\n-dontnote\r\n-repackageclasses foo.main\r\n#-dontpreverify\r\n-ignorewarnings ## warnings are ignored\r\n#-dontwarn\r\n#-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\r\n-keep class java.lang.invoke.StringConcatFactory { *; }\r\n-applymapping mapping.txt\r\n-keepdirectories ## Keep the package structure\r\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\r\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired *;\r\n     @org.springframework.beans.factory.annotation.Qualifier *;\r\n     @org.springframework.beans.factory.annotation.Value *;\r\n     @org.springframework.beans.factory.annotation.Required *;\r\n     @org.springframework.context.annotation.Bean *;\r\n     @org.springframework.context.annotation.Primary *;\r\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\r\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\r\n     @javax.inject.Inject *;\r\n     @javax.annotation.PostConstruct *;\r\n     @javax.annotation.PreDestroy *;\r\n}\r\n-keep @org.springframework.cache.annotation.EnableCaching class *\r\n-keep @org.springframework.context.annotation.Configuration class *\r\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\r\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\r\n-allowaccessmodification\r\n-keepattributes *Annotation*\r\n-keepdirectories com.time.ac.userinterface.service\r\n-keepdirectories org.springframework.boot.autoconfigure\r\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\r\n-keepclassmembers class * {\r\n    *** get*();\r\n    void set*(***);\r\n}\r\n-keepclassmembernames class * {\r\n     java.lang.Class class$(java.lang.String);\r\n     java.lang.Class class$(java.lang.String, boolean);\r\n}\r\n-keepclassmembers enum * {\r\n     public static **[] values();\r\n     public static ** valueOf(java.lang.String);\r\n     public static ** fromValue(java.lang.String);\r\n}\r\n-keepnames class * implements java.io.Serializable\r\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\r\n-keepclassmembers class * implements java.io.Serializable {\r\n     static final long serialVersionUID;\r\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n     !static !transient &lt;fields&gt;;\r\n     !private &lt;fields&gt;;\r\n     !private &lt;methods&gt;;\r\n     private void writeObject(java.io.ObjectOutputStream);\r\n     private void readObject(java.io.ObjectInputStream);\r\n     java.lang.Object writeReplace();\r\n     java.lang.Object readResolve();\r\n}\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\r\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\r\n}\r\n#-keep class org.springframework.** { *;}\r\n```\r\n\r\n[project structure after obfuscation](https://i.stack.imgur.com/einaq.png)\r\n\r\n\r\n\r\nCan someone help me understand what might be causing this issue?\r\n\r\n\r\nI tried running the unobfuscated jar and it worked fine. I suspect that there might be some issue with the obfuscation process that I used.","title":"All API endpoints of spring boot returns 404 NOT FOUND error after obfuscation using Proguard","body":"<p>I have an application with over 100 endpoints, all of which were working perfectly before obfuscation. However, after obfuscation, none of the endpoints are working. All of them return a 404 error.</p>\n<p>Here is the obfuscation configuration I used:</p>\n<pre><code>-target 11 ##Specify the java version number\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName('className')\n-adaptresourcefilecontents **.properties,META-INF/MANIFEST.MF\n-dontnote\n-repackageclasses foo.main\n#-dontpreverify\n-ignorewarnings ## warnings are ignored\n#-dontwarn\n#-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\n-keep class java.lang.invoke.StringConcatFactory { *; }\n-applymapping mapping.txt\n-keepdirectories ## Keep the package structure\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired *;\n     @org.springframework.beans.factory.annotation.Qualifier *;\n     @org.springframework.beans.factory.annotation.Value *;\n     @org.springframework.beans.factory.annotation.Required *;\n     @org.springframework.context.annotation.Bean *;\n     @org.springframework.context.annotation.Primary *;\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\n     @javax.inject.Inject *;\n     @javax.annotation.PostConstruct *;\n     @javax.annotation.PreDestroy *;\n}\n-keep @org.springframework.cache.annotation.EnableCaching class *\n-keep @org.springframework.context.annotation.Configuration class *\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\n-allowaccessmodification\n-keepattributes *Annotation*\n-keepdirectories com.time.ac.userinterface.service\n-keepdirectories org.springframework.boot.autoconfigure\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\n-keepclassmembers class * {\n    *** get*();\n    void set*(***);\n}\n-keepclassmembernames class * {\n     java.lang.Class class$(java.lang.String);\n     java.lang.Class class$(java.lang.String, boolean);\n}\n-keepclassmembers enum * {\n     public static **[] values();\n     public static ** valueOf(java.lang.String);\n     public static ** fromValue(java.lang.String);\n}\n-keepnames class * implements java.io.Serializable\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\n-keepclassmembers class * implements java.io.Serializable {\n     static final long serialVersionUID;\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\n     !static !transient &lt;fields&gt;;\n     !private &lt;fields&gt;;\n     !private &lt;methods&gt;;\n     private void writeObject(java.io.ObjectOutputStream);\n     private void readObject(java.io.ObjectInputStream);\n     java.lang.Object writeReplace();\n     java.lang.Object readResolve();\n}\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\n}\n#-keep class org.springframework.** { *;}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/einaq.png\" rel=\"nofollow noreferrer\">project structure after obfuscation</a></p>\n<p>Can someone help me understand what might be causing this issue?</p>\n<p>I tried running the unobfuscated jar and it worked fine. I suspect that there might be some issue with the obfuscation process that I used.</p>\n"},{"tags":["java","process","null"],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459141,"creation_date":1676459141,"question_id":75458859,"body_markdown":"I have a class which is run in its own process via ProcessBuilder. It just reads input &amp; writes it back and exits if we send it EXIT\r\n\r\n    \r\n    public class SubProcess \r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      try(BufferedReader reader=new BufferedReader(new InputStreamReader(System.in)))\r\n      {\r\n       String line;\r\n       while((line=reader.readLine())!=null)\r\n       {\r\n        if(line.equalsIgnoreCase(&quot;EXIT&quot;))\r\n        {\r\n         System.out.println(&quot;Process Exiting&quot;);\r\n         break;\r\n        }\r\n        else{System.out.println(&quot;Echoing:&quot;+line);}\r\n       }\r\n      } \r\n     }\r\n    }\r\n\r\nThis is located in D:/Process an empty directory in my system\r\n\r\nThen in my netbeans IDE i run it as an process by first compiling this file and then running it\r\n\r\n    public class ParentProcess\r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      ProcessBuilder builder=new ProcessBuilder(&quot;javac&quot;,&quot;SubProcess.java&quot;);\r\n      builder.directory(new File(&quot;D:/Process&quot;));\r\n      \r\n      //compile the program\r\n      Process process=builder.start();\r\n      InputStream error=process.getErrorStream();\r\n      if(error!=null)\r\n      {\r\n       try(error)\r\n       {\r\n        byte[] data=new byte[1024];\r\n        int len;\r\n        while((len=error.read(data))&gt;0){System.err.println(new String(data,0,len));}\r\n       }\r\n      }\r\n      \r\n      //start the program\r\n      builder.command(&quot;java&quot;,&quot;SubProcess&quot;);\r\n      builder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n      process=builder.start();\r\n      try(BufferedReader input=process.inputReader();\r\n          OutputStream output=process.getOutputStream();\r\n          BufferedReader consoleInput=new BufferedReader(new InputStreamReader(System.in)))\r\n      {\r\n       System.out.println(&quot;Begin&quot;);\r\n       \r\n       String line;\r\n       while((line=consoleInput.readLine())!=null)\r\n       {\r\n        System.out.println(&quot;Writing Output&quot;);\r\n        output.write((line+&quot;\\n&quot;).getBytes(&quot;UTF-8&quot;));\r\n        output.flush();\r\n        \r\n        System.out.println(&quot;Reading Input&quot;);\r\n        String response=input.readLine();\r\n        System.out.println(response);\r\n        \r\n        if(response!=null &amp;&amp; response.equalsIgnoreCase(&quot;Process Exiting&quot;))\r\n        {\r\n         System.out.println(&quot;Exiting&quot;);\r\n         break;\r\n        }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\nI face 2 problems\r\n\r\n1. I first get a null value then the response from the process\r\n```\r\n    Hello   \r\n    Writing Output\r\n    Reading Input \r\n    null    \r\n    Echoing:Hello   \r\n    World  \r\n    Writing Output    \r\n    Reading Input    \r\n    null    \r\n    Echoing:World\r\n```\r\n\r\n2. Parent Process doesnt exit even if i write EXIT to the process. The child process exits normally but the `response.equalsIngoreCase(&quot;Process Exiting&quot;)` is never executed\r\n\r\n    ```  \r\n    Begin    \r\n    EXIT    \r\n    Writing Output\r\n    Reading Input   \r\n    null    \r\n    Process Exiting\r\n    ```\r\n\r\nIt never prints Exiting\r\n\r\nHow do i fix this?","title":"Java ProcessBuilder inconsistent values when reading from another java program","body":"<p>I have a class which is run in its own process via ProcessBuilder. It just reads input &amp; writes it back and exits if we send it EXIT</p>\n<pre><code>public class SubProcess \n{\n public static void main(String[] args)throws Exception\n {\n  try(BufferedReader reader=new BufferedReader(new InputStreamReader(System.in)))\n  {\n   String line;\n   while((line=reader.readLine())!=null)\n   {\n    if(line.equalsIgnoreCase(&quot;EXIT&quot;))\n    {\n     System.out.println(&quot;Process Exiting&quot;);\n     break;\n    }\n    else{System.out.println(&quot;Echoing:&quot;+line);}\n   }\n  } \n }\n}\n</code></pre>\n<p>This is located in D:/Process an empty directory in my system</p>\n<p>Then in my netbeans IDE i run it as an process by first compiling this file and then running it</p>\n<pre><code>public class ParentProcess\n{\n public static void main(String[] args)throws Exception\n {\n  ProcessBuilder builder=new ProcessBuilder(&quot;javac&quot;,&quot;SubProcess.java&quot;);\n  builder.directory(new File(&quot;D:/Process&quot;));\n  \n  //compile the program\n  Process process=builder.start();\n  InputStream error=process.getErrorStream();\n  if(error!=null)\n  {\n   try(error)\n   {\n    byte[] data=new byte[1024];\n    int len;\n    while((len=error.read(data))&gt;0){System.err.println(new String(data,0,len));}\n   }\n  }\n  \n  //start the program\n  builder.command(&quot;java&quot;,&quot;SubProcess&quot;);\n  builder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n  process=builder.start();\n  try(BufferedReader input=process.inputReader();\n      OutputStream output=process.getOutputStream();\n      BufferedReader consoleInput=new BufferedReader(new InputStreamReader(System.in)))\n  {\n   System.out.println(&quot;Begin&quot;);\n   \n   String line;\n   while((line=consoleInput.readLine())!=null)\n   {\n    System.out.println(&quot;Writing Output&quot;);\n    output.write((line+&quot;\\n&quot;).getBytes(&quot;UTF-8&quot;));\n    output.flush();\n    \n    System.out.println(&quot;Reading Input&quot;);\n    String response=input.readLine();\n    System.out.println(response);\n    \n    if(response!=null &amp;&amp; response.equalsIgnoreCase(&quot;Process Exiting&quot;))\n    {\n     System.out.println(&quot;Exiting&quot;);\n     break;\n    }\n   }\n  }\n }\n}\n</code></pre>\n<p>I face 2 problems</p>\n<ol>\n<li>I first get a null value then the response from the process</li>\n</ol>\n<pre><code>    Hello   \n    Writing Output\n    Reading Input \n    null    \n    Echoing:Hello   \n    World  \n    Writing Output    \n    Reading Input    \n    null    \n    Echoing:World\n</code></pre>\n<ol start=\"2\">\n<li><p>Parent Process doesnt exit even if i write EXIT to the process. The child process exits normally but the <code>response.equalsIngoreCase(&quot;Process Exiting&quot;)</code> is never executed</p>\n<pre><code>Begin    \nEXIT    \nWriting Output\nReading Input   \nnull    \nProcess Exiting\n</code></pre>\n</li>\n</ol>\n<p>It never prints Exiting</p>\n<p>How do i fix this?</p>\n"},{"tags":["java","null","nullpointerexception"],"comments":[{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":6,"creation_date":1281531588,"post_id":3458451,"comment_id":3606049,"body_markdown":"If only you followed the law of Demeter.","body":"If only you followed the law of Demeter."},{"owner":{"display_name":"user321068"},"score":35,"creation_date":1281531994,"post_id":3458451,"comment_id":3606132,"body_markdown":"Just because I started working on an existing project, I can&#39;t redesign it according to my or any Greek deity&#39;s law.","body":"Just because I started working on an existing project, I can&#39;t redesign it according to my or any Greek deity&#39;s law."},{"owner":{"account_id":435625,"reputation":89,"user_id":822314,"display_name":"Prathab K"},"score":0,"creation_date":1501054191,"post_id":3458451,"comment_id":77602338,"body_markdown":"We can use Java8 Functional Interface approach. Check this answer: https://stackoverflow.com/a/45319845/822314","body":"We can use Java8 Functional Interface approach. Check this answer: <a href=\"https://stackoverflow.com/a/45319845/822314\">stackoverflow.com/a/45319845/822314</a>"},{"owner":{"account_id":2298360,"reputation":597,"user_id":2019259,"accept_rate":57,"display_name":"James Daily"},"score":1,"creation_date":1636725575,"post_id":3458451,"comment_id":123640004,"body_markdown":"For anyone else wondering: &quot;In particular, an object should avoid invoking methods of an object returned by another method. ...the law can be stated simply as &#39;use only one dot&#39;&quot; https://en.wikipedia.org/wiki/Law_of_Demeter","body":"For anyone else wondering: &quot;In particular, an object should avoid invoking methods of an object returned by another method. ...the law can be stated simply as &#39;use only one dot&#39;&quot; <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Law_of_Demeter</a>"},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":2,"creation_date":1658922503,"post_id":3458451,"comment_id":129171173,"body_markdown":"The Law of Demeter is a terrible idea (which is why, thankfully, nobody uses it!). Leads to error-prone gobbledegook code. It&#39;s also anti-intuitive: if every instinct is telling you not to write classes like that, you probably shouldn&#39;t. But I really don&#39;t see how it would help null safe chaining anyway. It just pushes the multiple null checks into the method House::getDoorknob(Floor floor, CompassPoint wall, DoorType doorType). And the un-useability of that monstrous method says it all.","body":"The Law of Demeter is a terrible idea (which is why, thankfully, nobody uses it!). Leads to error-prone gobbledegook code. It&#39;s also anti-intuitive: if every instinct is telling you not to write classes like that, you probably shouldn&#39;t. But I really don&#39;t see how it would help null safe chaining anyway. It just pushes the multiple null checks into the method House::getDoorknob(Floor floor, CompassPoint wall, DoorType doorType). And the un-useability of that monstrous method says it all."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1668084374,"post_id":3458451,"comment_id":131323964,"body_markdown":"@barneypitt I think the LoD is not so much about pushing chained method calls into convenience methods, but about designing your classes in a way that reduces the need for this type of remote data grabbing.","body":"@barneypitt I think the LoD is not so much about pushing chained method calls into convenience methods, but about designing your classes in a way that reduces the need for this type of remote data grabbing."},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1668172369,"post_id":3458451,"comment_id":131347309,"body_markdown":"My point being, it&#39;s a _bad_ way to design classes. The intuitive design is pretty much always the best design. The design which presents the data to you in the way you expect data to be presented to you is the best design. The design which matches the way humans think about entities and their properties (that they are chained) is the best design. The LoD is the opposite of good design.","body":"My point being, it&#39;s a <i>bad</i> way to design classes. The intuitive design is pretty much always the best design. The design which presents the data to you in the way you expect data to be presented to you is the best design. The design which matches the way humans think about entities and their properties (that they are chained) is the best design. The LoD is the opposite of good design."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1668762969,"post_id":3458451,"comment_id":131490031,"body_markdown":"@barneypitt What  you say implies that trying to achieve loose coupling is bad design. That is simply not true, as evidenced by the many legacy systems that have become so tightly coupled that nobody dares to change anything in fear of breaking something elsewhere unexpectedly.","body":"@barneypitt What  you say implies that trying to achieve loose coupling is bad design. That is simply not true, as evidenced by the many legacy systems that have become so tightly coupled that nobody dares to change anything in fear of breaking something elsewhere unexpectedly."},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1677013160,"post_id":3458451,"comment_id":133252666,"body_markdown":"Of course I&#39;m not saying loose coupling is a bad idea! I said the LoD is a bad idea. The LoD is one (anti-)pattern which promotes loose coupling, amongst dozens (maybe hundreds) of patterns which promote loose coupling. I assert that this *particular* (anti-)pattern&#39;s disadvantages (generating unintuitive spaghetti code) massively outweigh its advantages, which I explained in detail.","body":"Of course I&#39;m not saying loose coupling is a bad idea! I said the LoD is a bad idea. The LoD is one (anti-)pattern which promotes loose coupling, amongst dozens (maybe hundreds) of patterns which promote loose coupling. I assert that this <i>particular</i> (anti-)pattern&#39;s disadvantages (generating unintuitive spaghetti code) massively outweigh its advantages, which I explained in detail."},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":0,"creation_date":1680485585,"post_id":3458451,"comment_id":133901485,"body_markdown":"Use Optional - see answer https://stackoverflow.com/a/41145698/211614","body":"Use Optional - see answer <a href=\"https://stackoverflow.com/a/41145698/211614\">stackoverflow.com/a/41145698/211614</a>"}],"answers":[{"comments":[{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":1,"creation_date":1281533007,"post_id":3458475,"comment_id":3606325,"body_markdown":"But if a wall doesn&#39;t have a door, then returning null is the logical thing to do.  Otherwise you will require methods like hasDoor() to know that there is no actual door, since you are just going to get a fake one when you ask for it.","body":"But if a wall doesn&#39;t have a door, then returning null is the logical thing to do.  Otherwise you will require methods like hasDoor() to know that there is no actual door, since you are just going to get a fake one when you ask for it."},{"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"score":0,"creation_date":1281533725,"post_id":3458475,"comment_id":3606476,"body_markdown":"@Robin, it&#39;s not *exactly* a &quot;fake&quot; wall.  It&#39;s the wall that isn&#39;t, that doesn&#39;t exist.  And (unlike null) it behaves like a real wall, so it&#39;s useful in ways that null can&#39;t be.","body":"@Robin, it&#39;s not <i>exactly</i> a &quot;fake&quot; wall.  It&#39;s the wall that isn&#39;t, that doesn&#39;t exist.  And (unlike null) it behaves like a real wall, so it&#39;s useful in ways that null can&#39;t be."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1281534107,"post_id":3458475,"comment_id":3606558,"body_markdown":"Using the Null Object pattern is a good option if you don&#39;t care whether in the end something will happen or not (+1 for that)","body":"Using the Null Object pattern is a good option if you don&#39;t care whether in the end something will happen or not (+1 for that)"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":6,"creation_date":1281535045,"post_id":3458475,"comment_id":3606751,"body_markdown":"So basically, you convert a &quot;fail fast&quot; NPE into a &quot;maybe fail at an unspecified later time and place&quot;? There are some cases where null objects make sense (empty collections, most prominently), but IMO they&#39;re totally unfit as a general replacement for null.","body":"So basically, you convert a &quot;fail fast&quot; NPE into a &quot;maybe fail at an unspecified later time and place&quot;? There are some cases where null objects make sense (empty collections, most prominently), but IMO they&#39;re totally unfit as a general replacement for null."},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":0,"creation_date":1281535372,"post_id":3458475,"comment_id":3606815,"body_markdown":"No, I expect there to be a wall, but not necessarily a door (to get picky).  I was describing the problem with this approach in the particular example since not all walls will contain doors and the ability to determine if there is a door is made more complicated with the Null Object pattern.  @Michael Borgwardt describes the issue in the general sense in his comment.  My experience has been that this pattern is rather limited in the applications to which it can be applied.","body":"No, I expect there to be a wall, but not necessarily a door (to get picky).  I was describing the problem with this approach in the particular example since not all walls will contain doors and the ability to determine if there is a door is made more complicated with the Null Object pattern.  @Michael Borgwardt describes the issue in the general sense in his comment.  My experience has been that this pattern is rather limited in the applications to which it can be applied."}],"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"comment_count":5,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1561981557,"creation_date":1281531510,"answer_id":3458475,"question_id":3458451,"body_markdown":"You could of course simply wrap the whole expression up in a try-catch block, but that&#39;s a bad idea.  Something cleaner is the [Null object pattern][1]. With that, if your house doesn&#39;t have floor 0, it just returns a Floor that acts like a regular Floor, but has no real content; Floors, when asked for Walls they don&#39;t have, return similar &quot;Null&quot; Walls, etc, down the line.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Null_Object_pattern","title":"Check chains of &quot;get&quot; calls for null","body":"<p>You could of course simply wrap the whole expression up in a try-catch block, but that's a bad idea.  Something cleaner is the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"noreferrer\">Null object pattern</a>. With that, if your house doesn't have floor 0, it just returns a Floor that acts like a regular Floor, but has no real content; Floors, when asked for Walls they don't have, return similar \"Null\" Walls, etc, down the line.</p>\n"},{"comments":[{"owner":{"account_id":11185106,"reputation":604,"user_id":8207754,"display_name":"K--"},"score":56,"creation_date":1601897369,"post_id":3458520,"comment_id":113539126,"body_markdown":"This answer gives no guidance on how to avoid the chain, and assumes that OP has the time/permission to redesign the existing code.","body":"This answer gives no guidance on how to avoid the chain, and assumes that OP has the time/permission to redesign the existing code."}],"tags":[],"owner":{"account_id":156311,"reputation":4833,"user_id":373521,"accept_rate":88,"display_name":"Jerod Houghtelling"},"comment_count":1,"down_vote_count":15,"up_vote_count":29,"is_accepted":true,"score":14,"last_activity_date":1281531746,"creation_date":1281531746,"answer_id":3458520,"question_id":3458451,"body_markdown":"The best way would be to **avoid** the chain. If you aren&#39;t familiar with the Law of Demeter (LoD), in my opinion you should. You&#39;ve given a perfect example of a message chain that is overly intimate with classes that it has no business knowing anything about.\r\n\r\nLaw of Demeter: [http://en.wikipedia.org/wiki/Law_of_Demeter][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Law_of_Demeter","title":"Check chains of &quot;get&quot; calls for null","body":"<p>The best way would be to <strong>avoid</strong> the chain. If you aren't familiar with the Law of Demeter (LoD), in my opinion you should. You've given a perfect example of a message chain that is overly intimate with classes that it has no business knowing anything about.</p>\n\n<p>Law of Demeter: <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Law_of_Demeter</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1281534224,"creation_date":1281531849,"answer_id":3458534,"question_id":3458451,"body_markdown":"Make sure things that can&#39;t logically be `null` are not. For example - a house always has a West wall. In order to avoid such exceptions in state, you can have methods to check whether the state you expect is present:\r\n\r\n    if (wall.hasDoor()) {\r\n       wall.getDoor().etc();\r\n    }\r\n\r\nThis is essentially a null-check, but might not always be. \r\n\r\nThe point is that you should do something in case you have a `null`. For example - `return` or throw an `IllegalStateException`\r\n\r\nAnd what you shouldn&#39;t do - don&#39;t catch `NullPointerException`. Runtime exceptions are not for catching - it is not expected that you can recover from them, nor it is a good practice to rely on exceptions for the logic flow. Imagine that you actually don&#39;t expect something to be `null`, and you catch (and log) a `NullPointerException`. This will not be very useful information, since many things can be `null` at that point.","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Make sure things that can't logically be <code>null</code> are not. For example - a house always has a West wall. In order to avoid such exceptions in state, you can have methods to check whether the state you expect is present:</p>\n\n<pre><code>if (wall.hasDoor()) {\n   wall.getDoor().etc();\n}\n</code></pre>\n\n<p>This is essentially a null-check, but might not always be. </p>\n\n<p>The point is that you should do something in case you have a <code>null</code>. For example - <code>return</code> or throw an <code>IllegalStateException</code></p>\n\n<p>And what you shouldn't do - don't catch <code>NullPointerException</code>. Runtime exceptions are not for catching - it is not expected that you can recover from them, nor it is a good practice to rely on exceptions for the logic flow. Imagine that you actually don't expect something to be <code>null</code>, and you catch (and log) a <code>NullPointerException</code>. This will not be very useful information, since many things can be <code>null</code> at that point.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1281531940,"creation_date":1281531940,"answer_id":3458552,"question_id":3458451,"body_markdown":"There is no `checkForNull` method that you can write that will facilitate this (that&#39;s simply not how method invokation and argument evaluation works in Java).\r\n\r\nYou can break down the chained statements into multiple statements, checking at every step. However, perhaps a better solution is to not have these methods return `null` in the first place. There is something called the [Null Object Pattern](http://en.wikipedia.org/wiki/Null_Object_pattern) that you may want to use instead.\r\n\r\n### Related questions\r\n\r\n* [How to avoid `!= null` statements in Java?](https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java)","title":"Check chains of &quot;get&quot; calls for null","body":"<p>There is no <code>checkForNull</code> method that you can write that will facilitate this (that's simply not how method invokation and argument evaluation works in Java).</p>\n\n<p>You can break down the chained statements into multiple statements, checking at every step. However, perhaps a better solution is to not have these methods return <code>null</code> in the first place. There is something called the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\">Null Object Pattern</a> that you may want to use instead.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java\">How to avoid <code>!= null</code> statements in Java?</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":431079,"reputation":3788,"user_id":814907,"accept_rate":93,"display_name":"nom-mon-ir"},"score":3,"creation_date":1562549390,"post_id":41145698,"comment_id":100396205,"body_markdown":"Neat trick! like a builder of optionals, any link missing in the chain will cause the chain to stop and make the Optional contain null.","body":"Neat trick! like a builder of optionals, any link missing in the chain will cause the chain to stop and make the Optional contain null."},{"owner":{"account_id":124650,"reputation":2637,"user_id":319876,"display_name":"Ahmed Hamdy"},"score":5,"creation_date":1613673813,"post_id":41145698,"comment_id":117155292,"body_markdown":"This should be the correct answer, to be honest, and not the current one! Thanks for the great explanation.","body":"This should be the correct answer, to be honest, and not the current one! Thanks for the great explanation."},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":0,"creation_date":1680485288,"post_id":41145698,"comment_id":133901446,"body_markdown":"This is the correct way to do it if you have Java 8+ available.\nAt the end of the Optional chain you can still do .orElse(null); if you need to pass or otherwise handle a non-Optional type. There is really no downside to chaining ofNullable/map and this should be the accepted answer.","body":"This is the correct way to do it if you have Java 8+ available. At the end of the Optional chain you can still do .orElse(null); if you need to pass or otherwise handle a non-Optional type. There is really no downside to chaining ofNullable/map and this should be the accepted answer."},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1684488737,"post_id":41145698,"comment_id":134527980,"body_markdown":"Alien magic !!!","body":"Alien magic !!!"}],"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"comment_count":4,"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1551581007,"creation_date":1481727606,"answer_id":41145698,"question_id":3458451,"body_markdown":"In case you **can&#39;t** avoid breaking Law of Demeter (LoD) as stated in the chosen answer, and with [Java 8][1] introducing [Optional][2], it would be probably the best practice to handle nulls in chains of gets such as yours.\r\n\r\nThe `Optional` type will enable you to pipe multiple map operations (which contain get calls) in a row. Null checks are automatically handled under the hood.\r\n\r\nFor example, when the objects aren&#39;t initialized, no print() will be made and no Exceptions will be thrown. It all we be handled gently under the hood. When objects are initialized, a print will be made.\r\n\r\n    System.out.println(&quot;----- Not Initialized! -----&quot;);\r\n\r\n    Optional.ofNullable(new Outer())\r\n            .map(out -&gt; out.getNested())\r\n            .map(nest -&gt; nest.getInner())\r\n            .map(in -&gt; in.getFoo())\r\n            .ifPresent(foo -&gt; System.out.println(&quot;foo: &quot; + foo)); //no print\r\n\r\n    System.out.println(&quot;----- Let&#39;s Initialize! -----&quot;);\r\n\r\n    Optional.ofNullable(new OuterInit())\r\n            .map(out -&gt; out.getNestedInit())\r\n            .map(nest -&gt; nest.getInnerInit())\r\n            .map(in -&gt; in.getFoo())\r\n            .ifPresent(foo -&gt; System.out.println(&quot;foo: &quot; + foo)); //will print!\r\n\r\n    class Outer {\r\n        Nested nested;\r\n        Nested getNested() {\r\n            return nested;\r\n        }\r\n    }\r\n    class Nested {\r\n        Inner inner;\r\n        Inner getInner() {\r\n            return inner;\r\n        }\r\n    }\r\n    class Inner {\r\n        String foo = &quot;yeah!&quot;;\r\n        String getFoo() {\r\n            return foo;\r\n        }\r\n    }\r\n\r\n    class OuterInit {\r\n        NestedInit nested = new NestedInit();\r\n        NestedInit getNestedInit() {\r\n            return nested;\r\n        }\r\n    }\r\n    class NestedInit {\r\n        InnerInit inner = new InnerInit();\r\n        InnerInit getInnerInit() {\r\n            return inner;\r\n        }\r\n    }\r\n    class InnerInit {\r\n        String foo = &quot;yeah!&quot;;\r\n        String getFoo() {\r\n            return foo;\r\n        }\r\n    }\r\n\r\nSo, **with your getters chain** it will look like this:\r\n\r\n    Optional.ofNullable(house)\r\n            .map(house -&gt; house.getFloor(0))\r\n            .map(floorZero -&gt; floorZero.getWall(WEST))\r\n            .map(wallWest -&gt; wallWest.getDoor())\r\n            .map(door -&gt; wallWest.getDoor())\r\n\r\nThe return of it will be something like `Optional&lt;Door&gt;` which will allow you much safer work without worrying of null exceptions.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/overview/java8-2100321.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\n\r\n\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>In case you <strong>can't</strong> avoid breaking Law of Demeter (LoD) as stated in the chosen answer, and with <a href=\"http://www.oracle.com/technetwork/java/javase/overview/java8-2100321.html\" rel=\"noreferrer\">Java 8</a> introducing <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a>, it would be probably the best practice to handle nulls in chains of gets such as yours.</p>\n\n<p>The <code>Optional</code> type will enable you to pipe multiple map operations (which contain get calls) in a row. Null checks are automatically handled under the hood.</p>\n\n<p>For example, when the objects aren't initialized, no print() will be made and no Exceptions will be thrown. It all we be handled gently under the hood. When objects are initialized, a print will be made.</p>\n\n<pre><code>System.out.println(\"----- Not Initialized! -----\");\n\nOptional.ofNullable(new Outer())\n        .map(out -&gt; out.getNested())\n        .map(nest -&gt; nest.getInner())\n        .map(in -&gt; in.getFoo())\n        .ifPresent(foo -&gt; System.out.println(\"foo: \" + foo)); //no print\n\nSystem.out.println(\"----- Let's Initialize! -----\");\n\nOptional.ofNullable(new OuterInit())\n        .map(out -&gt; out.getNestedInit())\n        .map(nest -&gt; nest.getInnerInit())\n        .map(in -&gt; in.getFoo())\n        .ifPresent(foo -&gt; System.out.println(\"foo: \" + foo)); //will print!\n\nclass Outer {\n    Nested nested;\n    Nested getNested() {\n        return nested;\n    }\n}\nclass Nested {\n    Inner inner;\n    Inner getInner() {\n        return inner;\n    }\n}\nclass Inner {\n    String foo = \"yeah!\";\n    String getFoo() {\n        return foo;\n    }\n}\n\nclass OuterInit {\n    NestedInit nested = new NestedInit();\n    NestedInit getNestedInit() {\n        return nested;\n    }\n}\nclass NestedInit {\n    InnerInit inner = new InnerInit();\n    InnerInit getInnerInit() {\n        return inner;\n    }\n}\nclass InnerInit {\n    String foo = \"yeah!\";\n    String getFoo() {\n        return foo;\n    }\n}\n</code></pre>\n\n<p>So, <strong>with your getters chain</strong> it will look like this:</p>\n\n<pre><code>Optional.ofNullable(house)\n        .map(house -&gt; house.getFloor(0))\n        .map(floorZero -&gt; floorZero.getWall(WEST))\n        .map(wallWest -&gt; wallWest.getDoor())\n        .map(door -&gt; wallWest.getDoor())\n</code></pre>\n\n<p>The return of it will be something like <code>Optional&lt;Door&gt;</code> which will allow you much safer work without worrying of null exceptions.</p>\n"},{"comments":[{"owner":{"account_id":1529046,"reputation":20344,"user_id":1426743,"accept_rate":73,"display_name":"MD. Sahib Bin Mahboob"},"score":6,"creation_date":1594283734,"post_id":45572220,"comment_id":111073668,"body_markdown":"No doubt that it is a really tricky way to handle this case but it is a very bad practice to handle null pointer exception as you might end up handling something unintended. You can read the relevant parts of effective java to get a better understanding.","body":"No doubt that it is a really tricky way to handle this case but it is a very bad practice to handle null pointer exception as you might end up handling something unintended. You can read the relevant parts of effective java to get a better understanding."},{"owner":{"account_id":3652727,"reputation":115,"user_id":3044440,"accept_rate":56,"display_name":"user3044440"},"score":7,"creation_date":1607721716,"post_id":45572220,"comment_id":115371506,"body_markdown":"Isn&#39;t NullpointerException expensive than a null check ?","body":"Isn&#39;t NullpointerException expensive than a null check ?"},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":1,"creation_date":1680485466,"post_id":45572220,"comment_id":133901467,"body_markdown":"Don&#39;t resort to this unless you are using a really old version of Java (&lt;8 where Optional isn&#39;t available). See the answer involving Optional.ofNullable()/.map()","body":"Don&#39;t resort to this unless you are using a really old version of Java (&lt;8 where Optional isn&#39;t available). See the answer involving Optional.ofNullable()/.map()"},{"owner":{"account_id":976919,"reputation":870,"user_id":997776,"accept_rate":80,"display_name":"sanya"},"score":0,"creation_date":1692967109,"post_id":45572220,"comment_id":135700528,"body_markdown":"This approach is effective when you have a complex data structure, where the majority of the data is optional. Like accessing nested JAXB xml elements.\n\n2 things though: Using `.getFloor(0)`, I&#39;d also handle `IndexOutOfBoundsException` the same way. Returning with an `Optional&lt;T&gt;` would be more elegant.","body":"This approach is effective when you have a complex data structure, where the majority of the data is optional. Like accessing nested JAXB xml elements.  2 things though: Using <code>.getFloor(0)</code>, I&#39;d also handle <code>IndexOutOfBoundsException</code> the same way. Returning with an <code>Optional&lt;T&gt;</code> would be more elegant."}],"tags":[],"owner":{"account_id":4002450,"reputation":440,"user_id":3298121,"display_name":"Roman Seleznov"},"comment_count":4,"down_vote_count":7,"up_vote_count":31,"is_accepted":false,"score":24,"last_activity_date":1551626168,"creation_date":1502205661,"answer_id":45572220,"question_id":3458451,"body_markdown":"In order to check a chain of gets for &lt;i&gt;null&lt;/i&gt; you may need to call your code from a *closure*. The closure call code will look like this:\r\n\r\n    public static &lt;T&gt; T opt(Supplier&lt;T&gt; statement) {       \r\n        try {\r\n            return statement.get();\r\n        } catch (NullPointerException exc) {\r\n            return null;\r\n        }   \r\n    }\r\n\r\nAnd you call it using the following syntax:\r\n\r\n    Doorknob knob = opt(() -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\r\n\r\nThis code is also type safe and in general works as intended: \r\n\r\n1. Returns an actual value of the specified type if all the objects in the chain are not &lt;i&gt;null&lt;/i&gt;. \r\n2. Returns &lt;i&gt;null&lt;/i&gt; if any of the objects in the chain are &lt;i&gt;null&lt;/i&gt;.\r\n\r\nYou may place &lt;i&gt;opt&lt;/i&gt; method into shared util class and use it everywhere in your application.\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>In order to check a chain of gets for <i>null</i> you may need to call your code from a <em>closure</em>. The closure call code will look like this:</p>\n\n<pre><code>public static &lt;T&gt; T opt(Supplier&lt;T&gt; statement) {       \n    try {\n        return statement.get();\n    } catch (NullPointerException exc) {\n        return null;\n    }   \n}\n</code></pre>\n\n<p>And you call it using the following syntax:</p>\n\n<pre><code>Doorknob knob = opt(() -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\n</code></pre>\n\n<p>This code is also type safe and in general works as intended: </p>\n\n<ol>\n<li>Returns an actual value of the specified type if all the objects in the chain are not <i>null</i>. </li>\n<li>Returns <i>null</i> if any of the objects in the chain are <i>null</i>.</li>\n</ol>\n\n<p>You may place <i>opt</i> method into shared util class and use it everywhere in your application.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1668764476,"creation_date":1537194388,"answer_id":52370017,"question_id":3458451,"body_markdown":"Very old question, but still adding my suggestion:\r\n\r\nI would suggest instead of getting the DoorKnob from deep within the House in one method call chain, you should try to let the DoorKnob be provided to this class from the calling code, or by creating a central lookup facility specifically for this purpose (e.g. a DoorKnob service)\r\n\r\nSimplified example of design with loose coupling:\r\n\r\n    class Architect {\r\n\r\n        FloorContractor floorContractor;\r\n\r\n        void build(House house) {\r\n            for(Floor floor: house.getFloors()) {\r\n                floorContractor.build(floor);\r\n            }\r\n        }    \r\n    }\r\n\r\n    class FloorContractor {\r\n\r\n        DoorMaker doorMaker;\r\n\r\n        void build(Floor floor) {\r\n            for(Wall wall: floor.getWalls()) {\r\n                if (wall.hasDoor()) {\r\n                    doorMaker.build(wall.getDoor());\r\n                }\r\n            }\r\n        } \r\n    }\r\n\r\n    class DoorMaker {\r\n\r\n        Tool tool;\r\n\r\n        void build(Door door) {\r\n            tool.build(door.getFrame());\r\n            tool.build(door.getHinges());\r\n            tool.build(door.getDoorKnob());\r\n        }        \r\n    }","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Very old question, but still adding my suggestion:</p>\n<p>I would suggest instead of getting the DoorKnob from deep within the House in one method call chain, you should try to let the DoorKnob be provided to this class from the calling code, or by creating a central lookup facility specifically for this purpose (e.g. a DoorKnob service)</p>\n<p>Simplified example of design with loose coupling:</p>\n<pre><code>class Architect {\n\n    FloorContractor floorContractor;\n\n    void build(House house) {\n        for(Floor floor: house.getFloors()) {\n            floorContractor.build(floor);\n        }\n    }    \n}\n\nclass FloorContractor {\n\n    DoorMaker doorMaker;\n\n    void build(Floor floor) {\n        for(Wall wall: floor.getWalls()) {\n            if (wall.hasDoor()) {\n                doorMaker.build(wall.getDoor());\n            }\n        }\n    } \n}\n\nclass DoorMaker {\n\n    Tool tool;\n\n    void build(Door door) {\n        tool.build(door.getFrame());\n        tool.build(door.getHinges());\n        tool.build(door.getDoorKnob());\n    }        \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16241392,"reputation":23,"user_id":11727627,"display_name":"Omar Ruiz"},"score":0,"creation_date":1562050581,"post_id":56846627,"comment_id":100244545,"body_markdown":"I forgot... T defaultValue for send a default value when calling it, or remove to return directly null","body":"I forgot... T defaultValue for send a default value when calling it, or remove to return directly null"},{"owner":{"account_id":5358661,"reputation":531,"user_id":4270660,"display_name":"ChuckB"},"score":4,"creation_date":1584108388,"post_id":56846627,"comment_id":107343110,"body_markdown":"how is this different than Seleznov&#39;s answer above?","body":"how is this different than Seleznov&#39;s answer above?"}],"tags":[],"owner":{"account_id":16241392,"reputation":23,"user_id":11727627,"display_name":"Omar Ruiz"},"comment_count":2,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1562049370,"creation_date":1562049370,"answer_id":56846627,"question_id":3458451,"body_markdown":"implementing nullPointer try/catch with a Supplier&lt;T&gt; you can send it all chain of get\r\n\r\n    public static &lt;T&gt; T getValue(Supplier&lt;T&gt; getFunction, T defaultValue) {\r\n        try {\r\n            return getFunction.get();\r\n        } catch (NullPointerException ex) {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\nand then call it in this way.\r\n\r\n    ObjectHelper.getValue(() -&gt; object1.getObject2().getObject3().getObject4()));\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>implementing nullPointer try/catch with a Supplier you can send it all chain of get</p>\n\n<pre><code>public static &lt;T&gt; T getValue(Supplier&lt;T&gt; getFunction, T defaultValue) {\n    try {\n        return getFunction.get();\n    } catch (NullPointerException ex) {\n        return defaultValue;\n    }\n}\n</code></pre>\n\n<p>and then call it in this way.</p>\n\n<pre><code>ObjectHelper.getValue(() -&gt; object1.getObject2().getObject3().getObject4()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5641068,"reputation":431,"user_id":4464927,"display_name":"Swarathesh Addanki"},"score":1,"creation_date":1639175131,"post_id":65848023,"comment_id":124290307,"body_markdown":"please add explanation it would be helpful.","body":"please add explanation it would be helpful."},{"owner":{"account_id":5641068,"reputation":431,"user_id":4464927,"display_name":"Swarathesh Addanki"},"score":0,"creation_date":1639175229,"post_id":65848023,"comment_id":124290329,"body_markdown":"it will throw an NullPointer i.e:  A::getB","body":"it will throw an NullPointer i.e:  A::getB"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1649748977,"post_id":65848023,"comment_id":126948425,"body_markdown":"And why all this casting? This just looks like a very broken attempt to avoid creating a few intermediate objects.","body":"And why all this casting? This just looks like a very broken attempt to avoid creating a few intermediate objects."}],"tags":[],"owner":{"account_id":14785435,"reputation":173,"user_id":10677761,"display_name":"Yuebing Cao"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1611330318,"creation_date":1611329358,"answer_id":65848023,"question_id":3458451,"body_markdown":"    // Example\r\n    LazyObject.from(curr).apply(A.class, A::getB).apply(B.class, B::getC).apply(C.class, C::getD).to(String.class);\r\n\r\n    // LazyObject.java\r\n    public class LazyObject {\r\n\r\n    private Object value;\r\n\r\n    private LazyObject(Object object) {\r\n        this.value = object;\r\n    }\r\n\r\n    public &lt;F, T&gt; LazyObject apply(Class&lt;F&gt; type, Function&lt;F, T&gt; func) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            value = func.apply(type.cast(v));\r\n        } else {\r\n            value = null; // dead here\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public &lt;T&gt; void accept(Class&lt;T&gt; type, Consumer&lt;T&gt; consumer) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            consumer.accept(type.cast(v));\r\n        }\r\n    }\r\n\r\n    public &lt;T&gt; T to(Class&lt;T&gt; type) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            return type.cast(v);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static LazyObject from(Object object) {\r\n        return new LazyObject(object);\r\n    }\r\n\r\n    }\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<pre><code>// Example\nLazyObject.from(curr).apply(A.class, A::getB).apply(B.class, B::getC).apply(C.class, C::getD).to(String.class);\n\n// LazyObject.java\npublic class LazyObject {\n\nprivate Object value;\n\nprivate LazyObject(Object object) {\n    this.value = object;\n}\n\npublic &lt;F, T&gt; LazyObject apply(Class&lt;F&gt; type, Function&lt;F, T&gt; func) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        value = func.apply(type.cast(v));\n    } else {\n        value = null; // dead here\n    }\n    return this;\n}\n\npublic &lt;T&gt; void accept(Class&lt;T&gt; type, Consumer&lt;T&gt; consumer) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        consumer.accept(type.cast(v));\n    }\n}\n\npublic &lt;T&gt; T to(Class&lt;T&gt; type) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        return type.cast(v);\n    }\n    return null;\n}\n\npublic static LazyObject from(Object object) {\n    return new LazyObject(object);\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":0,"creation_date":1680485555,"post_id":67403121,"comment_id":133901481,"body_markdown":"Yes, this is covered well in answer https://stackoverflow.com/a/41145698/211614","body":"Yes, this is covered well in answer <a href=\"https://stackoverflow.com/a/41145698/211614\">stackoverflow.com/a/41145698/211614</a>"}],"tags":[],"owner":{"account_id":2007324,"reputation":506,"user_id":1796826,"display_name":"Laloi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620224224,"creation_date":1620224224,"answer_id":67403121,"question_id":3458451,"body_markdown":"Better solution for me is to use java.util.Optional.map(..) to chain these checks : https://stackoverflow.com/a/67216752/1796826","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Better solution for me is to use java.util.Optional.map(..) to chain these checks : <a href=\"https://stackoverflow.com/a/67216752/1796826\">https://stackoverflow.com/a/67216752/1796826</a></p>\n"},{"tags":[],"owner":{"account_id":11217663,"reputation":1,"user_id":8229716,"display_name":"Ronit Pradhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676459024,"creation_date":1676459024,"answer_id":75458842,"question_id":3458451,"body_markdown":"You could potentially have a generic method like below:\r\n\r\n    public static &lt;T&gt; void ifPresentThen(final Supplier&lt;T&gt; supplier, final Consumer&lt;T&gt; consumer) {\r\n        T value;\r\n        try {\r\n            value = supplier.get();\r\n        } catch (NullPointerException e) {\r\n            // Don&#39;t consume &quot;then&quot;\r\n            return;\r\n        }\r\n        consumer.accept(value);\r\n    }\r\n\r\nSo now you would be able to do \r\n\r\n    ifPresentThen(\r\n        () -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob(),\r\n        doorKnob -&gt; doSomething());","title":"Check chains of &quot;get&quot; calls for null","body":"<p>You could potentially have a generic method like below:</p>\n<pre><code>public static &lt;T&gt; void ifPresentThen(final Supplier&lt;T&gt; supplier, final Consumer&lt;T&gt; consumer) {\n    T value;\n    try {\n        value = supplier.get();\n    } catch (NullPointerException e) {\n        // Don't consume &quot;then&quot;\n        return;\n    }\n    consumer.accept(value);\n}\n</code></pre>\n<p>So now you would be able to do</p>\n<pre><code>ifPresentThen(\n    () -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob(),\n    doorKnob -&gt; doSomething());\n</code></pre>\n"}],"owner":{"display_name":"user321068"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49610,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":3458520,"answer_count":11,"score":95,"last_activity_date":1676459024,"creation_date":1281531338,"question_id":3458451,"body_markdown":"Let&#39;s say I&#39;d like to perform the following command:\r\n\r\n    house.getFloor(0).getWall(WEST).getDoor().getDoorknob();\r\n\r\nTo avoid a NullPointerException, I&#39;d have to do the following if:\r\n\r\n    if (house != null &amp;&amp; house.getFloor(0) &amp;&amp; house.getFloor(0).getWall(WEST) != null\r\n      &amp;&amp; house.getFloor(0).getWall(WEST).getDoor() != null) ...\r\n\r\nIs there a way or an already existing Utils class that does this more elegantly, let&#39;s say something like the following?\r\n\r\n    checkForNull(house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Let's say I'd like to perform the following command:</p>\n\n<pre><code>house.getFloor(0).getWall(WEST).getDoor().getDoorknob();\n</code></pre>\n\n<p>To avoid a NullPointerException, I'd have to do the following if:</p>\n\n<pre><code>if (house != null &amp;&amp; house.getFloor(0) &amp;&amp; house.getFloor(0).getWall(WEST) != null\n  &amp;&amp; house.getFloor(0).getWall(WEST).getDoor() != null) ...\n</code></pre>\n\n<p>Is there a way or an already existing Utils class that does this more elegantly, let's say something like the following?</p>\n\n<pre><code>checkForNull(house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\n</code></pre>\n"},{"tags":["java","rest","runtime","code-coverage","jacoco"],"answers":[{"tags":[],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676458688,"creation_date":1676454485,"answer_id":75457962,"question_id":75447804,"body_markdown":"So basically I got the solution just reset the exec dump at my middleware after the request has been made in this order I am able to get the coverage analysis per request.\r\n\r\n```\r\n ExecDumpClient execDumpClient = new ExecDumpClient();\r\n        execDumpClient.setReset(true);\r\n        execDumpClient.dump(&quot;localhost&quot;, 36320);\r\n```","title":"How can I get Jacoco coverage Report per Request","body":"<p>So basically I got the solution just reset the exec dump at my middleware after the request has been made in this order I am able to get the coverage analysis per request.</p>\n<pre><code> ExecDumpClient execDumpClient = new ExecDumpClient();\n        execDumpClient.setReset(true);\n        execDumpClient.dump(&quot;localhost&quot;, 36320);\n</code></pre>\n"}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75457962,"answer_count":1,"score":0,"last_activity_date":1676458688,"creation_date":1676377533,"question_id":75447804,"body_markdown":"I am using `jacoco` agent to generate my [coverage reports][1] in the form of `xml` files by running the command:\r\n```\r\njava -jar &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/src/main/resources/lib/jacococli.jar report &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/jacoco-it.exec --classfiles &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/classes/com --sourcefiles src/main/java/ --xml &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/report.xml\r\n```\r\nThis basically writes to `jacoco-it.exec` file and it saves previous coverage data as well. \r\nBut I want coverage analysis per request made, is there any way I can erase previous data collected by jacoco agent.\r\n\r\n\r\n\r\n\r\n  [1]: https://dzone.com/articles/code-coverage-report-generator-for-java-projects-a\r\n\r\n","title":"How can I get Jacoco coverage Report per Request","body":"<p>I am using <code>jacoco</code> agent to generate my <a href=\"https://dzone.com/articles/code-coverage-report-generator-for-java-projects-a\" rel=\"nofollow noreferrer\">coverage reports</a> in the form of <code>xml</code> files by running the command:</p>\n<pre><code>java -jar &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/src/main/resources/lib/jacococli.jar report &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/jacoco-it.exec --classfiles &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/classes/com --sourcefiles src/main/java/ --xml &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/report.xml\n</code></pre>\n<p>This basically writes to <code>jacoco-it.exec</code> file and it saves previous coverage data as well.\nBut I want coverage analysis per request made, is there any way I can erase previous data collected by jacoco agent.</p>\n"},{"tags":["java","redis","agent","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":1,"creation_date":1676464324,"post_id":75458761,"comment_id":133140885,"body_markdown":"A link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)","body":"A link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. <a href=\"/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"}],"tags":[],"owner":{"account_id":27732825,"reputation":1,"user_id":21171001,"display_name":"Charan Kamarapu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1676458594,"creation_date":1676458594,"answer_id":75458761,"question_id":75383095,"body_markdown":"I have reached out to the byte-buddy git hub issues and it was solved. Attaching reference .\r\n\r\n[https://github.com/raphw/byte-buddy/issues/1403][1]\r\n\r\n\r\n  [1]: https://github.com/raphw/byte-buddy/issues/1403","title":"Change parent of the class using instrumentation","body":"<p>I have reached out to the byte-buddy git hub issues and it was solved. Attaching reference .</p>\n<p><a href=\"https://github.com/raphw/byte-buddy/issues/1403\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/issues/1403</a></p>\n"}],"owner":{"account_id":27732825,"reputation":1,"user_id":21171001,"display_name":"Charan Kamarapu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458761,"answer_count":1,"score":0,"last_activity_date":1676458594,"creation_date":1675845236,"question_id":75383095,"body_markdown":"I have a class called Client, it is extending Connection class, I want to make a class called KConnection which extends Connection class, and I want that the parent of the Client should not be Connection but it should be KConnection using bytebuddy agent in the premain using AgentBuilder(). something like this\r\n```\r\nnew AgentBuilder.Default()\r\n        .type(ElementMatchers.named(&quot;Client&quot;))\r\n        .transform(new AgentBuilder.Transformer() {\r\n          @Override\r\n          public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader) {\r\n            return builder.superclass(KConnection.class);\r\n          }\r\n        })\r\n        .installOn(inst);\r\n```\r\nCan anyone guide me over here..?","title":"Change parent of the class using instrumentation","body":"<p>I have a class called Client, it is extending Connection class, I want to make a class called KConnection which extends Connection class, and I want that the parent of the Client should not be Connection but it should be KConnection using bytebuddy agent in the premain using AgentBuilder(). something like this</p>\n<pre><code>new AgentBuilder.Default()\n        .type(ElementMatchers.named(&quot;Client&quot;))\n        .transform(new AgentBuilder.Transformer() {\n          @Override\n          public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader) {\n            return builder.superclass(KConnection.class);\n          }\n        })\n        .installOn(inst);\n</code></pre>\n<p>Can anyone guide me over here..?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"score":2,"creation_date":1676458061,"post_id":75458627,"comment_id":133139134,"body_markdown":"please share the actual code","body":"please share the actual code"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1676458329,"post_id":75458627,"comment_id":133139197,"body_markdown":"You might need to change `IMyInterface` to `IMyInterface&lt;T&gt;` and just use `List&lt;T&gt; filter(List&lt;T&gt; list)`, then define the type of `T` in the classes, e.g. `Class1 implements IMyInterface&lt;Type1&gt;` etc.","body":"You might need to change <code>IMyInterface</code> to <code>IMyInterface&lt;T&gt;</code> and just use <code>List&lt;T&gt; filter(List&lt;T&gt; list)</code>, then define the type of <code>T</code> in the classes, e.g. <code>Class1 implements IMyInterface&lt;Type1&gt;</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676458439,"creation_date":1676458439,"answer_id":75458731,"question_id":75458627,"body_markdown":"`&lt;T&gt;` in the method signature of an interface like that means both implementations must accept all types. They each only accept a single specific type.\r\n\r\nYou might be able to resolve by moving the type parameter to the interface-level.\r\n\r\n    interface Filterable&lt;T&gt; {\r\n        List&lt;T&gt; filter(List&lt;T&gt; list);\r\n    }\r\n\r\nThen your classes can specify that they&#39;re a certain kind of filterable:\r\n\r\n    class Class1 implements Filterable&lt;List1&gt; {\r\n        public List&lt;Type1&gt; filter(List&lt;Type1&gt; list) { ... }\r\n    }","title":"Java generics error for two methods with different return types and param type","body":"<p><code>&lt;T&gt;</code> in the method signature of an interface like that means both implementations must accept all types. They each only accept a single specific type.</p>\n<p>You might be able to resolve by moving the type parameter to the interface-level.</p>\n<pre><code>interface Filterable&lt;T&gt; {\n    List&lt;T&gt; filter(List&lt;T&gt; list);\n}\n</code></pre>\n<p>Then your classes can specify that they're a certain kind of filterable:</p>\n<pre><code>class Class1 implements Filterable&lt;List1&gt; {\n    public List&lt;Type1&gt; filter(List&lt;Type1&gt; list) { ... }\n}\n</code></pre>\n"}],"owner":{"account_id":10463177,"reputation":67,"user_id":7741626,"display_name":"htopalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676531169,"accepted_answer_id":75458731,"answer_count":1,"score":0,"last_activity_date":1676458439,"creation_date":1676457964,"question_id":75458627,"body_markdown":"I&#39;m new to Java and I&#39;m trying to do a generic method in an interface which is implemented by two classes, but I can&#39;t figure out what is the mistake that I&#39;m doing.\r\nSo we have 2 classes Class1 and Class2 which both implement interface IMyInterface.\r\n1. In Class1 I have a method with the following signature:\r\n\r\n```java\r\npublic List&lt;Type1&gt; filter(List&lt;Type1&gt; list)\r\n```\r\n\r\n2. In Class2 I have a method with the following signature:\r\n\r\n```java\r\npublic List&lt;Type2&gt; filter(List&lt;Type2&gt; list)\r\n```\r\n\r\n3. IMyInterface has method signature: \r\n   \r\n```java\r\n&lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; list)\r\n```\r\n\r\nResult: \r\n1. IntelliJ is saying that the class does not implement the interface when doing the above, meaning that the signature of the method in the interface is not the same as the one in the classes.\r\n2. both methods have same erasure, yet neither overrides the other\r\nMy goal is to use the same method with 2 different types by implementing IMyInterface instead of writing the same method twice-for each class.\r\nWhere is my mistake and how can I fix it to achieve the above mentioned?\r\n ","title":"Java generics error for two methods with different return types and param type","body":"<p>I'm new to Java and I'm trying to do a generic method in an interface which is implemented by two classes, but I can't figure out what is the mistake that I'm doing.\nSo we have 2 classes Class1 and Class2 which both implement interface IMyInterface.</p>\n<ol>\n<li>In Class1 I have a method with the following signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type1&gt; filter(List&lt;Type1&gt; list)\n</code></pre>\n<ol start=\"2\">\n<li>In Class2 I have a method with the following signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type2&gt; filter(List&lt;Type2&gt; list)\n</code></pre>\n<ol start=\"3\">\n<li>IMyInterface has method signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; list)\n</code></pre>\n<p>Result:</p>\n<ol>\n<li>IntelliJ is saying that the class does not implement the interface when doing the above, meaning that the signature of the method in the interface is not the same as the one in the classes.</li>\n<li>both methods have same erasure, yet neither overrides the other\nMy goal is to use the same method with 2 different types by implementing IMyInterface instead of writing the same method twice-for each class.\nWhere is my mistake and how can I fix it to achieve the above mentioned?</li>\n</ol>\n"},{"tags":["java","c#","oop","law-of-demeter"],"comments":[{"owner":{"account_id":115345,"reputation":31815,"user_id":302918,"accept_rate":78,"display_name":"juharr"},"score":2,"creation_date":1457638169,"post_id":35925357,"comment_id":59509385,"body_markdown":"Rule 4 is if `ClassOne` has a private field (component) of type `ClassTwo`, then you can call methods on that field from your method in `ClassOne`.","body":"Rule 4 is if <code>ClassOne</code> has a private field (component) of type <code>ClassTwo</code>, then you can call methods on that field from your method in <code>ClassOne</code>."},{"owner":{"account_id":300068,"reputation":2069,"user_id":1211920,"accept_rate":56,"display_name":"Igor"},"score":0,"creation_date":1486402217,"post_id":35925357,"comment_id":71318797,"body_markdown":"I knwo this is Java question, but all rules (including rule 5) can be defined in Kotlin https://gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc","body":"I knwo this is Java question, but all rules (including rule 5) can be defined in Kotlin <a href=\"https://gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc\" rel=\"nofollow noreferrer\">gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc</a>"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670843503,"creation_date":1457639913,"answer_id":35926057,"question_id":35925357,"body_markdown":"&quot;Tell don&#39;t ask&quot; is a bit different. \r\n\r\nDemeter: don&#39;t get something to get something from that to do something on the final thing.\r\n\r\nTDA: don&#39;t retrieve &quot;information&quot; from another object to then make a decision on that. Simple example:\r\n\r\n```java\r\nif (someList.size() == 0) { bla\r\n```\r\n\r\nvs.\r\n\r\n```java\r\nif (someList.isEmpty()) { bla\r\n```\r\n\r\nIn both cases you are calling a method on some other object; but there is a key difference: the first call exposes &quot;internal&quot; state of that other object to you; on which you then make some decision. Whereas, in the &quot;TDA&quot; improved second version; you leave that &quot;status evaluation&quot; within that other object; thereby somehow reducing coupling.\r\n\r\nBut just for the record: that second example *still* makes a decision based on the state of that list. From that point of view, it is just a *slightly* better version than option 1. Ideally, you wouldn&#39;t need such checks. ","title":"What is Law of Demeter?","body":"<p>&quot;Tell don't ask&quot; is a bit different.</p>\n<p>Demeter: don't get something to get something from that to do something on the final thing.</p>\n<p>TDA: don't retrieve &quot;information&quot; from another object to then make a decision on that. Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (someList.size() == 0) { bla\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (someList.isEmpty()) { bla\n</code></pre>\n<p>In both cases you are calling a method on some other object; but there is a key difference: the first call exposes &quot;internal&quot; state of that other object to you; on which you then make some decision. Whereas, in the &quot;TDA&quot; improved second version; you leave that &quot;status evaluation&quot; within that other object; thereby somehow reducing coupling.</p>\n<p>But just for the record: that second example <em>still</em> makes a decision based on the state of that list. From that point of view, it is just a <em>slightly</em> better version than option 1. Ideally, you wouldn't need such checks.</p>\n"},{"comments":[{"owner":{"account_id":7578406,"reputation":363,"user_id":5749901,"display_name":"Anonymous"},"score":0,"creation_date":1457726412,"post_id":35926143,"comment_id":59554193,"body_markdown":"So shouldn&#39;t the &quot;MyConfigurationValue&quot; field be public?","body":"So shouldn&#39;t the &quot;MyConfigurationValue&quot; field be public?"},{"owner":{"account_id":7724324,"reputation":2143,"user_id":5849470,"display_name":"Matt Jordan"},"score":0,"creation_date":1457809168,"post_id":35926143,"comment_id":59578842,"body_markdown":"@Robiow Not in this example, because this shows how to provide configuration information in a global way, but we don&#39;t want other classes to be able to change it, either by accident or on purpose.  Generally, when you allow both reading and modifying of properties, making a field public is necessary (for those who favor the the &quot;property&quot; approach, I&#39;d point out that properties are mostly just a sneaky way to be able to say that all member variables are private, even though they act as though they are public, through methods that add overhead behind the scenes to make them public).","body":"@Robiow Not in this example, because this shows how to provide configuration information in a global way, but we don&#39;t want other classes to be able to change it, either by accident or on purpose.  Generally, when you allow both reading and modifying of properties, making a field public is necessary (for those who favor the the &quot;property&quot; approach, I&#39;d point out that properties are mostly just a sneaky way to be able to say that all member variables are private, even though they act as though they are public, through methods that add overhead behind the scenes to make them public)."}],"tags":[],"owner":{"account_id":7724324,"reputation":2143,"user_id":5849470,"display_name":"Matt Jordan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457640209,"creation_date":1457640209,"answer_id":35926143,"question_id":35925357,"body_markdown":"The 5th is difficult to represent in C# or Java, since they don&#39;t technically support global variables.  However, in a design pattern that is similar in principle, you could have e.g. a configuration class that just contains globally-accessible static configuration values, such as (C#):\r\n\r\n    internal class MyConfiguration\r\n    {\r\n        private static String MyConfigurationValue; // set in constructor\r\n        MyConfiguration(){ MyConfigurationValue = DoSomethingToLoadValue(); }\r\n        public static String GetMyConfigurationValue(){ return MyConfigurationValue; }\r\n    }\r\n\r\nIn this case (assuming the design pattern was acceptable in all other ways), the Law of Demeter would allow this, since it is globally accessible and intended to be that way.","title":"What is Law of Demeter?","body":"<p>The 5th is difficult to represent in C# or Java, since they don't technically support global variables.  However, in a design pattern that is similar in principle, you could have e.g. a configuration class that just contains globally-accessible static configuration values, such as (C#):</p>\n\n<pre><code>internal class MyConfiguration\n{\n    private static String MyConfigurationValue; // set in constructor\n    MyConfiguration(){ MyConfigurationValue = DoSomethingToLoadValue(); }\n    public static String GetMyConfigurationValue(){ return MyConfigurationValue; }\n}\n</code></pre>\n\n<p>In this case (assuming the design pattern was acceptable in all other ways), the Law of Demeter would allow this, since it is globally accessible and intended to be that way.</p>\n"},{"tags":[],"owner":{"account_id":7602785,"reputation":7564,"user_id":5766732,"display_name":"Robert Br&#228;utigam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494501697,"creation_date":1494501697,"answer_id":43913969,"question_id":35925357,"body_markdown":"An example for Rule 5 would be:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class ClassOne {\r\n        public void method1() {\r\n            classTwo.STATIC_INSTANCE.method2();\r\n        }\r\n    }\r\n\r\n    class ClassTwo {\r\n        public static final ClassTwo STATIC_INSTANCE = ...;\r\n\r\n        public void method2() {\r\n        }\r\n    }\r\n\r\nEnums basically work this way, and it&#39;s ok to access enums.\r\n\r\n----------\r\n\r\nYour example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    user.getName().getLastName();\r\n\r\nobviously contradicts the laws, since the object you get from &quot;getName()&quot; will not fall into any of the categories listed. Note: this is wrong even if you are not using chain-calls:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Name name = user.getName();\r\n    name.getLastName(); // &lt;- this is still wrong\r\n\r\nsince the object &quot;name&quot; still does not fall into any of the listed categories.\r\n\r\nHowever things like this are ok:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    reportBuilder.withMargin(5).withFooter(10)\r\n        .withBorder(Color.black).build();\r\n\r\nWhy is this allowed? Because you either get the same object (the reportBuilder) back each time, or maybe a new object each time if the builder is implemented as immutable. Either way, it falls into law 2 or 3, so it&#39;s ok either way.\r\n\r\n----------\r\n\r\nYour third question is &quot;how to obey&quot;. Well, this is a complex question, but just to start, think about what kind of methods are actually forbidden by the laws!\r\n\r\nJust put the laws into negative: We shouldn&#39;t call methods on objects that are already there (because new objects are exempt), and are not my object, or fields of my object, or my parameters. So that leaves objects that are in the fields of *other* objects!\r\n\r\nSo basically that means you shouldn&#39;t be able to &quot;get&quot; access to objects that are not you, not in your fields, and not direct parameters. Which I would summarize as &quot;no getters&quot;!\r\n\r\n","title":"What is Law of Demeter?","body":"<p>An example for Rule 5 would be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassOne {\n    public void method1() {\n        classTwo.STATIC_INSTANCE.method2();\n    }\n}\n\nclass ClassTwo {\n    public static final ClassTwo STATIC_INSTANCE = ...;\n\n    public void method2() {\n    }\n}\n</code></pre>\n\n<p>Enums basically work this way, and it's ok to access enums.</p>\n\n<hr>\n\n<p>Your example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>user.getName().getLastName();\n</code></pre>\n\n<p>obviously contradicts the laws, since the object you get from \"getName()\" will not fall into any of the categories listed. Note: this is wrong even if you are not using chain-calls:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Name name = user.getName();\nname.getLastName(); // &lt;- this is still wrong\n</code></pre>\n\n<p>since the object \"name\" still does not fall into any of the listed categories.</p>\n\n<p>However things like this are ok:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>reportBuilder.withMargin(5).withFooter(10)\n    .withBorder(Color.black).build();\n</code></pre>\n\n<p>Why is this allowed? Because you either get the same object (the reportBuilder) back each time, or maybe a new object each time if the builder is implemented as immutable. Either way, it falls into law 2 or 3, so it's ok either way.</p>\n\n<hr>\n\n<p>Your third question is \"how to obey\". Well, this is a complex question, but just to start, think about what kind of methods are actually forbidden by the laws!</p>\n\n<p>Just put the laws into negative: We shouldn't call methods on objects that are already there (because new objects are exempt), and are not my object, or fields of my object, or my parameters. So that leaves objects that are in the fields of <em>other</em> objects!</p>\n\n<p>So basically that means you shouldn't be able to \"get\" access to objects that are not you, not in your fields, and not direct parameters. Which I would summarize as \"no getters\"!</p>\n"}],"owner":{"account_id":7578406,"reputation":363,"user_id":5749901,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5367,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"accepted_answer_id":35926057,"answer_count":3,"score":13,"last_activity_date":1676458395,"creation_date":1457637605,"question_id":35925357,"body_markdown":"Let&#39;s start with Wikipedia:\r\n\r\n&gt;More formally, the Law of Demeter for functions requires that a method **m** of an object **O** may only invoke the methods of the following kinds of objects:\r\n&gt; \r\n&gt; 1. O itself\r\n&gt; 2. m&#39;s parameters\r\n&gt; 3. Any objects created/instantiated within m\r\n&gt; 4. O&#39;s direct component objects\r\n&gt; 5. A global variable, accessible by O, in the scope of m\r\n\r\nRule 1:\r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1() {\r\n\t\t    method2();\r\n\t    }\r\n\r\n\t    public void method2() {\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nRule 2:\r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1(ClassTwo classTwo) {\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 3:  \r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1() {\r\n            ClassTwo classTwo = new ClassTwo();\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 4 (thanks @juharr):\r\n\r\n    public class ClassOne {\r\n\r\n        private ClassTwo classTwo;\r\n\t\r\n\t    public void method1() {\r\n            classTwo = new ClassTwo();\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 5:\r\n\r\n    ?\r\n\r\nCan anyone help me with Rule 5?\r\n\r\n---\r\n\r\nAnd doesn&#39;t Law of Demeter imply that chaining is bad?\r\n\r\n    User.getName().getLastName();\r\n\r\nThis leads to high coupling.\r\n\r\n---\r\n\r\nIsn&#39;t &quot;Tell, don&#39;t ask&quot; a similar principle? \r\n\r\nSo is this everything? Am I wrong about something? How can you obey Law of Demeter? \r\n","title":"What is Law of Demeter?","body":"<p>Let's start with Wikipedia:</p>\n\n<blockquote>\n  <p>More formally, the Law of Demeter for functions requires that a method <strong>m</strong> of an object <strong>O</strong> may only invoke the methods of the following kinds of objects:</p>\n  \n  <ol>\n  <li>O itself</li>\n  <li>m's parameters</li>\n  <li>Any objects created/instantiated within m</li>\n  <li>O's direct component objects</li>\n  <li>A global variable, accessible by O, in the scope of m</li>\n  </ol>\n</blockquote>\n\n<p>Rule 1:</p>\n\n<pre><code>public class ClassOne {\n\n    public void method1() {\n        method2();\n    }\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 2:</p>\n\n<pre><code>public class ClassOne {\n\n    public void method1(ClassTwo classTwo) {\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 3:  </p>\n\n<pre><code>public class ClassOne {\n\n    public void method1() {\n        ClassTwo classTwo = new ClassTwo();\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 4 (thanks @juharr):</p>\n\n<pre><code>public class ClassOne {\n\n    private ClassTwo classTwo;\n\n    public void method1() {\n        classTwo = new ClassTwo();\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 5:</p>\n\n<pre><code>?\n</code></pre>\n\n<p>Can anyone help me with Rule 5?</p>\n\n<hr>\n\n<p>And doesn't Law of Demeter imply that chaining is bad?</p>\n\n<pre><code>User.getName().getLastName();\n</code></pre>\n\n<p>This leads to high coupling.</p>\n\n<hr>\n\n<p>Isn't \"Tell, don't ask\" a similar principle? </p>\n\n<p>So is this everything? Am I wrong about something? How can you obey Law of Demeter? </p>\n"},{"tags":["java","spring","inria-spoon"],"owner":{"account_id":23460192,"reputation":105,"user_id":17515149,"display_name":"Piyush Bali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676458239,"creation_date":1676458239,"question_id":75458688,"body_markdown":"I am trying to modify my models and remove deprecated annotations. Explained below.\r\n\r\nCurrent Class\r\n```\r\nClass User{\r\n@Column(name=&quot;Name&quot;,percision = 3,constraint = &quot;constraint&quot;)\r\nprivate String name;\r\n}\r\n```\r\n\r\nAfter modification\r\n```Class User{\r\n@Column(name=&quot;Name&quot;,percision = 3)\r\nprivate String name;\r\n}\r\n```\r\n\r\n\r\nAs constraint field in deprecated in annotations I want to remove it keeping rest of the things same.\r\nI am not able to figure out how to do that in spoon. \r\n\r\nIf any one could help me please share snippets or examples if you have.\r\n\r\nTried editing below code but was not able to retrieve existing annotation and edit.\r\n\r\n\r\n```\r\npublic class AddNullable {\r\n\tpublic static void main(String[] args) {\r\n\t\tLauncher spoon = new Launcher();\r\n\t\tspoon.addInputResource(&quot;field/HasField.java&quot;);\r\n\t\tspoon.getEnvironment().setAutoImports(true);\r\n\t\tspoon.setSourceOutputDirectory(new File(&quot;output&quot;));\r\n\t\tCtModel model = spoon.buildModel();\r\n\r\n\t\tFactory factory = spoon.getFactory();\r\n\r\n\r\n\t\tCtAnnotationType nullableAnnotation = (CtAnnotationType) factory.Type().get(Nullable.class);\r\n\r\n\t\tCtType hasField = model.getRootPackage().getType(&quot;HasField&quot;);\r\n\t\tList&lt;CtField&gt; fields = hasField.getFields();\r\n\t\tSystem.out.println(fields.size());\r\n\r\n\t\tfor (CtField field : fields) {\r\n\t\t\tif (!field.hasAnnotation(Nullable.class) &amp;&amp; !field.getType().isPrimitive()) {\r\n\t\t\t\tSystem.out.println(field.getSimpleName() + &quot; does not has annotation.&quot;);\r\n\t\t\t\tCtAnnotation an = factory.createAnnotation(nullableAnnotation.getReference());\r\n\t\t\t\tfield.addAnnotation(an);\r\n\t\t\t}\r\n\t\t}\r\n\t\tspoon.prettyprint();\r\n\t}\r\n}\r\n```\r\n","title":"How to modify existing annotation through spoon in java","body":"<p>I am trying to modify my models and remove deprecated annotations. Explained below.</p>\n<p>Current Class</p>\n<pre><code>Class User{\n@Column(name=&quot;Name&quot;,percision = 3,constraint = &quot;constraint&quot;)\nprivate String name;\n}\n</code></pre>\n<p>After modification</p>\n<pre><code>@Column(name=&quot;Name&quot;,percision = 3)\nprivate String name;\n}\n</code></pre>\n<p>As constraint field in deprecated in annotations I want to remove it keeping rest of the things same.\nI am not able to figure out how to do that in spoon.</p>\n<p>If any one could help me please share snippets or examples if you have.</p>\n<p>Tried editing below code but was not able to retrieve existing annotation and edit.</p>\n<pre><code>public class AddNullable {\n    public static void main(String[] args) {\n        Launcher spoon = new Launcher();\n        spoon.addInputResource(&quot;field/HasField.java&quot;);\n        spoon.getEnvironment().setAutoImports(true);\n        spoon.setSourceOutputDirectory(new File(&quot;output&quot;));\n        CtModel model = spoon.buildModel();\n\n        Factory factory = spoon.getFactory();\n\n\n        CtAnnotationType nullableAnnotation = (CtAnnotationType) factory.Type().get(Nullable.class);\n\n        CtType hasField = model.getRootPackage().getType(&quot;HasField&quot;);\n        List&lt;CtField&gt; fields = hasField.getFields();\n        System.out.println(fields.size());\n\n        for (CtField field : fields) {\n            if (!field.hasAnnotation(Nullable.class) &amp;&amp; !field.getType().isPrimitive()) {\n                System.out.println(field.getSimpleName() + &quot; does not has annotation.&quot;);\n                CtAnnotation an = factory.createAnnotation(nullableAnnotation.getReference());\n                field.addAnnotation(an);\n            }\n        }\n        spoon.prettyprint();\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","web-applications"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1676480651,"post_id":75457234,"comment_id":133146749,"body_markdown":"Connections to a DB? Where is the bottleneck should be determined first. Do apps share the same DB?","body":"Connections to a DB? Where is the bottleneck should be determined first. Do apps share the same DB?"}],"owner":{"account_id":23938427,"reputation":3,"user_id":17931900,"display_name":"DengerZone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676458188,"creation_date":1676450479,"question_id":75457234,"body_markdown":"Currently we have a system that uses tomcat and it runs 3 wars that share number of connections. Problem that occurs is on high load in a single web app it affect the performance on other apps.\r\n\r\nWhat i want to know is the following:\r\n\r\nIs it better to run more tomcat instances where we separate web applications that are of &quot;high priority&quot;\r\n\r\nOr is it possible to &quot;spit&quot; connections for each web app so lets say : 300 connections to app1, 50 to app2, 200 to app3 so they do not share connections.\r\n\r\n\r\n\r\n\r\nSince i didn&#39;t tackle this i want to know what is the best solution performance wise.\r\n","title":"Number of connections and JAVA wars [Tomcat]","body":"<p>Currently we have a system that uses tomcat and it runs 3 wars that share number of connections. Problem that occurs is on high load in a single web app it affect the performance on other apps.</p>\n<p>What i want to know is the following:</p>\n<p>Is it better to run more tomcat instances where we separate web applications that are of &quot;high priority&quot;</p>\n<p>Or is it possible to &quot;spit&quot; connections for each web app so lets say : 300 connections to app1, 50 to app2, 200 to app3 so they do not share connections.</p>\n<p>Since i didn't tackle this i want to know what is the best solution performance wise.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2211770,"reputation":838,"user_id":1953421,"display_name":"CasualBen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676458126,"creation_date":1676458126,"answer_id":75458660,"question_id":74955570,"body_markdown":"I had a similiar problem. The error Message is caused by the following line (and similiar ones):\r\n\r\n    left join fetch csa.id as x2\r\n\r\nLooks like Subqueries are not allowed to have &quot;fetch&quot;. Just removed it:\r\n\r\n    left join csa.id as x2\r\n\r\nAnd everything works. I&#39;m thinking that subqueries are always eager, so &quot;fetch&quot; is not necessary here.","title":"Hibernate Query Exception : Fetch not allowed in subquery from elements","body":"<p>I had a similiar problem. The error Message is caused by the following line (and similiar ones):</p>\n<pre><code>left join fetch csa.id as x2\n</code></pre>\n<p>Looks like Subqueries are not allowed to have &quot;fetch&quot;. Just removed it:</p>\n<pre><code>left join csa.id as x2\n</code></pre>\n<p>And everything works. I'm thinking that subqueries are always eager, so &quot;fetch&quot; is not necessary here.</p>\n"}],"owner":{"account_id":22222288,"reputation":3,"user_id":16459724,"display_name":"Saber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676458126,"creation_date":1672344192,"question_id":74955570,"body_markdown":"Below is a query that pulls out questions for specific users. I am getting an console error stated below: \r\n\r\n `org.hibernate.QueryException: fetch not allowed in subquery from-elements`\r\n\r\nI am unsure of how to go about fixing it or even interpreting what the error is from. Any solution/guidance is appreciated. \r\n\r\n```Session session = getSession();\r\n\t\tString qw =&quot;from StdQuestion as x&quot;+\r\n\t\t\t\t&quot; join fetch x.stdTaxQstns as x1&quot; +\r\n\t\t\t\t&quot; left join fetch x1.stdTax as x3&quot;+\r\n\t\t        &quot; where x1.id.taxCde in (select z.taxCde from StdTax as z &quot;+\r\n\t\t        &quot;join z.stdNaicsTaxes as z1 &quot;+\r\n\t\t        &quot;join z1.naicsMaster as z2 &quot;+\r\n\t\t        &quot;join z2.stdBusActivityNaicsMaps as z3 &quot;+\r\n\t\t        &quot;join z3.stdBusinessActivity as z4 &quot;+\r\n\t\t        &quot;where z4.businessActivityId in (:sbaId) &quot;+\r\n\t\t        &quot;and z4.exprnDt is null &quot;+\r\n\t\t        &quot;and z3.exprnDt is null) &quot; +\r\n\t\t        &quot; and x.exprnDt is null&quot; +\r\n\t\t        &quot; and x1.targetTableNm is null&quot; + \r\n\t\t        &quot; and upper(x.rspnType) != upper(&#39;SUP&#39;) &quot; +\r\n\t\t        &quot; and x.custTypeCde in (:custypeCode)&quot; +\r\n\t\t        &quot; and x.qstnCategoryCde = :qstncode &quot; +\r\n\t\t        &quot;and x1.id.taxCde not in (select st.taxCde&quot;\r\n\t\t        + &quot;    from CustSiteAcct as csa &quot;\r\n\t\t        + &quot;    left join fetch csa.id as x2 &quot;\r\n\t\t        + &quot;    left join fetch csa.customer as c &quot;\r\n\t\t        + &quot;    left join fetch csa.applicableTax as at &quot;\r\n\t\t        + &quot;    left join fetch stf.stdTax as st &quot;\r\n\t\t        + &quot;    left join fetch at.stdTaxForm as stf&quot;\r\n\t\t        + &quot;    where csa.id.cusAcctNbr = at.acctNbr&quot;\r\n\t\t        + &quot;    and x2.cusAcctNbr = :acctNbr&quot;\r\n\t\t        + &quot;    and at.CustSiteAcct.id = x2&quot;\r\n\t\t        + &quot;    and at.acctNbr = c.acctNbr&quot;\r\n\t\t        + &quot;    and at.siteNbr = csa.id.siteNbr&quot;\r\n\t\t        + &quot;    and at.exprnDt is null&quot;\r\n\t\t        + &quot;    and c.custAcctEndDt is null&quot;\r\n\t\t        + &quot;    and csa.id.cusAcctNbr = :acctNbr)&quot;\r\n\t\t        + &quot;order by x1.sortSeqNbr&quot;\r\n\t\t        ;\r\n\t\tQuery q = session.createQuery(qw);\r\n\t\tq.setParameterList(&quot;sbaId&quot;, sbaIds);\r\n\t\tq.setParameterList(&quot;custypeCode&quot;, companyType  != null ? new Object[] { &quot;ALL&quot;, companyType } : new Object[] { &quot;ALL&quot;} );\r\n\t\tq.setParameter(&quot;qstncode&quot;, &quot;T&quot;);\r\n\t\tq.setParameter(&quot;acctNbr&quot;, acctNbr);\r\n\t    return q.list();\r\n\t}\r\n```\r\n","title":"Hibernate Query Exception : Fetch not allowed in subquery from elements","body":"<p>Below is a query that pulls out questions for specific users. I am getting an console error stated below:</p>\n<p><code>org.hibernate.QueryException: fetch not allowed in subquery from-elements</code></p>\n<p>I am unsure of how to go about fixing it or even interpreting what the error is from. Any solution/guidance is appreciated.</p>\n<pre><code>        String qw =&quot;from StdQuestion as x&quot;+\n                &quot; join fetch x.stdTaxQstns as x1&quot; +\n                &quot; left join fetch x1.stdTax as x3&quot;+\n                &quot; where x1.id.taxCde in (select z.taxCde from StdTax as z &quot;+\n                &quot;join z.stdNaicsTaxes as z1 &quot;+\n                &quot;join z1.naicsMaster as z2 &quot;+\n                &quot;join z2.stdBusActivityNaicsMaps as z3 &quot;+\n                &quot;join z3.stdBusinessActivity as z4 &quot;+\n                &quot;where z4.businessActivityId in (:sbaId) &quot;+\n                &quot;and z4.exprnDt is null &quot;+\n                &quot;and z3.exprnDt is null) &quot; +\n                &quot; and x.exprnDt is null&quot; +\n                &quot; and x1.targetTableNm is null&quot; + \n                &quot; and upper(x.rspnType) != upper('SUP') &quot; +\n                &quot; and x.custTypeCde in (:custypeCode)&quot; +\n                &quot; and x.qstnCategoryCde = :qstncode &quot; +\n                &quot;and x1.id.taxCde not in (select st.taxCde&quot;\n                + &quot;    from CustSiteAcct as csa &quot;\n                + &quot;    left join fetch csa.id as x2 &quot;\n                + &quot;    left join fetch csa.customer as c &quot;\n                + &quot;    left join fetch csa.applicableTax as at &quot;\n                + &quot;    left join fetch stf.stdTax as st &quot;\n                + &quot;    left join fetch at.stdTaxForm as stf&quot;\n                + &quot;    where csa.id.cusAcctNbr = at.acctNbr&quot;\n                + &quot;    and x2.cusAcctNbr = :acctNbr&quot;\n                + &quot;    and at.CustSiteAcct.id = x2&quot;\n                + &quot;    and at.acctNbr = c.acctNbr&quot;\n                + &quot;    and at.siteNbr = csa.id.siteNbr&quot;\n                + &quot;    and at.exprnDt is null&quot;\n                + &quot;    and c.custAcctEndDt is null&quot;\n                + &quot;    and csa.id.cusAcctNbr = :acctNbr)&quot;\n                + &quot;order by x1.sortSeqNbr&quot;\n                ;\n        Query q = session.createQuery(qw);\n        q.setParameterList(&quot;sbaId&quot;, sbaIds);\n        q.setParameterList(&quot;custypeCode&quot;, companyType  != null ? new Object[] { &quot;ALL&quot;, companyType } : new Object[] { &quot;ALL&quot;} );\n        q.setParameter(&quot;qstncode&quot;, &quot;T&quot;);\n        q.setParameter(&quot;acctNbr&quot;, acctNbr);\n        return q.list();\n    }\n</code></pre>\n"},{"tags":["java","google-cloud-spanner"],"answers":[{"comments":[{"owner":{"account_id":17624993,"reputation":41,"user_id":12790200,"display_name":"Rahul Verma"},"score":0,"creation_date":1580119480,"post_id":59928468,"comment_id":105979732,"body_markdown":"Thanks. i have this import but it is not able to resolve setLimit() . import org.springframework.cloud.gcp.data.spanner.core.SpannerQueryOptions;","body":"Thanks. i have this import but it is not able to resolve setLimit() . import org.springframework.cloud.gcp.data.spanner.core.SpannerQuery&zwnj;&#8203;Options;"},{"owner":{"account_id":1614995,"reputation":5757,"user_id":1492947,"accept_rate":10,"display_name":"Lukas Eichler"},"score":0,"creation_date":1580122818,"post_id":59928468,"comment_id":105981522,"body_markdown":"Take a look at the [Documentation](https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.M3/api/org/springframework/cloud/gcp/data/spanner/core/SpannerQueryOptions.html#setLimit-long-) and make sure to use long numbers instead of integers.","body":"Take a look at the <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.M3/api/org/springframework/cloud/gcp/data/spanner/core/SpannerQueryOptions.html#setLimit-long-\" rel=\"nofollow noreferrer\">Documentation</a> and make sure to use long numbers instead of integers."}],"tags":[],"owner":{"account_id":1614995,"reputation":5757,"user_id":1492947,"accept_rate":10,"display_name":"Lukas Eichler"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580122770,"creation_date":1580118178,"answer_id":59928468,"question_id":59928270,"body_markdown":"To implement queries for pagination you need to configure `SpannerQueryOptions` with a `limit` and an `offset` to then pass it to the query. \r\n\r\n```\r\nSpannerQueryOptions spannerQueryOptions = new SpannerQueryOptions().setLimit(25L).setOffset(page * 25L);\r\n\r\nStatement.Builder buildStatement = Statement.newBuilder(sql);\r\nList&lt;EmployeeSpanner&gt; spannerList= this.spannerTemplate.query(EmployeeSpanner.class, buildStatement.build(), spannerQueryOptions);\r\n```","title":"How to implement Pagination in Spanner when working with Java","body":"<p>To implement queries for pagination you need to configure <code>SpannerQueryOptions</code> with a <code>limit</code> and an <code>offset</code> to then pass it to the query. </p>\n\n<pre><code>SpannerQueryOptions spannerQueryOptions = new SpannerQueryOptions().setLimit(25L).setOffset(page * 25L);\n\nStatement.Builder buildStatement = Statement.newBuilder(sql);\nList&lt;EmployeeSpanner&gt; spannerList= this.spannerTemplate.query(EmployeeSpanner.class, buildStatement.build(), spannerQueryOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6353233,"reputation":11,"user_id":4931520,"display_name":"Arpan Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676458088,"creation_date":1676458088,"answer_id":75458653,"question_id":59928270,"body_markdown":"`SpannerPageableQueryOptions` has the `setLimit()` and `setOffset()` methods.\r\n\r\n* Reference - https://googleapis.dev/java/spring-cloud-gcp/latest/com/google/cloud/spring/data/spanner/core/SpannerPageableQueryOptions.html\r\n\r\nNote that if there is requirement of sorting of results then we will require to use `setSort()` method to support with a sorting implementation.\r\n","title":"How to implement Pagination in Spanner when working with Java","body":"<p><code>SpannerPageableQueryOptions</code> has the <code>setLimit()</code> and <code>setOffset()</code> methods.</p>\n<ul>\n<li>Reference - <a href=\"https://googleapis.dev/java/spring-cloud-gcp/latest/com/google/cloud/spring/data/spanner/core/SpannerPageableQueryOptions.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/spring-cloud-gcp/latest/com/google/cloud/spring/data/spanner/core/SpannerPageableQueryOptions.html</a></li>\n</ul>\n<p>Note that if there is requirement of sorting of results then we will require to use <code>setSort()</code> method to support with a sorting implementation.</p>\n"}],"owner":{"account_id":17624993,"reputation":41,"user_id":12790200,"display_name":"Rahul Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676458088,"creation_date":1580117468,"question_id":59928270,"body_markdown":"I have below code for which there are 200 record. i need to implement pagination in this.\r\n\r\n      Statement.Builder buildStatement = Statement.newBuilder(sql);\r\n      List&lt;EmployeeSpanner&gt; spannerList= this.spannerTemplate\r\n                    .query(EmployeeSpanner.class, buildStatement.build(), null);\r\n\r\nThe SQL is created based on multiple logic and condition hence  i cannot use anything like `findAll`.\r\n\r\nThis is returning me 200 record and we need to send this to UI with pagination so that on first page only 25 record show and on second 25 and so on.\r\n\r\nWhen done this for OLTP below is what we use to do but for Google spanner i need something similar.\r\n\r\n     int countset= (int) (pageable.getOffset() &gt; countOfRecord? 0 : pageable.getOffset());\r\n            query.setFirstResult(countset);\r\n            query.setMaxResults(pageable.getPageSize());\r\n        \r\n        return new PageImpl&lt;&gt;(query.getResultList(), pageable, countOfRecord);\r\n\r\n","title":"How to implement Pagination in Spanner when working with Java","body":"<p>I have below code for which there are 200 record. i need to implement pagination in this.</p>\n\n<pre><code>  Statement.Builder buildStatement = Statement.newBuilder(sql);\n  List&lt;EmployeeSpanner&gt; spannerList= this.spannerTemplate\n                .query(EmployeeSpanner.class, buildStatement.build(), null);\n</code></pre>\n\n<p>The SQL is created based on multiple logic and condition hence  i cannot use anything like <code>findAll</code>.</p>\n\n<p>This is returning me 200 record and we need to send this to UI with pagination so that on first page only 25 record show and on second 25 and so on.</p>\n\n<p>When done this for OLTP below is what we use to do but for Google spanner i need something similar.</p>\n\n<pre><code> int countset= (int) (pageable.getOffset() &gt; countOfRecord? 0 : pageable.getOffset());\n        query.setFirstResult(countset);\n        query.setMaxResults(pageable.getPageSize());\n\n    return new PageImpl&lt;&gt;(query.getResultList(), pageable, countOfRecord);\n</code></pre>\n"},{"tags":["java","oracle","oracle12c","jdeveloper","oracle12.2"],"comments":[{"owner":{"account_id":26186343,"reputation":70,"user_id":19868833,"display_name":"Oussama Abouzid"},"score":0,"creation_date":1663575044,"post_id":73770292,"comment_id":130263465,"body_markdown":"please try to write the log instead of taking pictures","body":"please try to write the log instead of taking pictures"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1663575346,"post_id":73770292,"comment_id":130263564,"body_markdown":"The error message refers to a logfile. Did you look in that logfile? Maybe there are clues about what&#39;s wrong in there.","body":"The error message refers to a logfile. Did you look in that logfile? Maybe there are clues about what&#39;s wrong in there."}],"answers":[{"tags":[],"owner":{"account_id":17552708,"reputation":1,"user_id":12732814,"display_name":"KatAlive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676457774,"creation_date":1676457774,"answer_id":75458577,"question_id":73770292,"body_markdown":"Steps :\r\nDownload V998594-01.zip and V998593-01.exe\r\nRename the V998594-01.zip to V998593-01-2.zip\r\nRun V998593-01.exe as Administrator","title":"Error while installing JDeveloper 12c 12.2.1.4","body":"<p>Steps :\nDownload V998594-01.zip and V998593-01.exe\nRename the V998594-01.zip to V998593-01-2.zip\nRun V998593-01.exe as Administrator</p>\n"}],"owner":{"account_id":26377864,"reputation":1,"user_id":20031546,"display_name":"Mohammad Rahat Akand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676457774,"creation_date":1663574922,"question_id":73770292,"body_markdown":"I want to install Oracle JDeveloper 12c (12.2.1.4.0) Studio Edition. But I am facing some problem. I can&#39;t install the software. I have tried the Generic Version, windows 64bit as well as 32bit. But all the time same issue. \r\nBut when I install the Oracle JDeveloper 12c (12.2.1.3.0) Studio Edition, there is no problem at all. But my company use 12.2.1.4.0 . \r\n\r\nI download the file from : https://www.oracle.com/in/tools/downloads/jdeveloper-12c-downloads.html#\r\n\r\nthen I create a folder in C:\\Extra_Oracle_Softwares\\JDeveloper122140 \r\nextract the file. \r\nAnd run the exe file &quot;Run as Administrator&quot;\r\n\r\nIn the same way I have tried the older version. It worked. But specifically this version showing me error. \r\n\r\nLauncher log file is C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\OraInstall2022-09-19_02-12-10PM\\launcher2022-09-19_02-12-10PM.log.\r\n\r\nExtracting the installer . . . . Done\r\n\r\nSelf extraction to C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\sfx8FE0.tmp failed.\r\n\r\nThe log is located here: C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\OraInstall2022-09-19_02-12-10PM\\launcher2022-09-19_02-12-10PM.log.\r\n\r\nPress Enter to exit\r\n\r\n\r\n\r\n\r\nHow can I solve this problem ? I am trying this for the last 7 days. ","title":"Error while installing JDeveloper 12c 12.2.1.4","body":"<p>I want to install Oracle JDeveloper 12c (12.2.1.4.0) Studio Edition. But I am facing some problem. I can't install the software. I have tried the Generic Version, windows 64bit as well as 32bit. But all the time same issue.\nBut when I install the Oracle JDeveloper 12c (12.2.1.3.0) Studio Edition, there is no problem at all. But my company use 12.2.1.4.0 .</p>\n<p>I download the file from : <a href=\"https://www.oracle.com/in/tools/downloads/jdeveloper-12c-downloads.html#\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/tools/downloads/jdeveloper-12c-downloads.html#</a></p>\n<p>then I create a folder in C:\\Extra_Oracle_Softwares\\JDeveloper122140\nextract the file.\nAnd run the exe file &quot;Run as Administrator&quot;</p>\n<p>In the same way I have tried the older version. It worked. But specifically this version showing me error.</p>\n<p>Launcher log file is C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\OraInstall2022-09-19_02-12-10PM\\launcher2022-09-19_02-12-10PM.log.</p>\n<p>Extracting the installer . . . . Done</p>\n<p>Self extraction to C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\sfx8FE0.tmp failed.</p>\n<p>The log is located here: C:\\Users\\Rahat10101\\AppData\\Local\\Temp\\OraInstall2022-09-19_02-12-10PM\\launcher2022-09-19_02-12-10PM.log.</p>\n<p>Press Enter to exit</p>\n<p>How can I solve this problem ? I am trying this for the last 7 days.</p>\n"},{"tags":["java","android","genymotion"],"comments":[{"owner":{"account_id":10727029,"reputation":1149,"user_id":7894239,"display_name":"Ankita"},"score":1,"creation_date":1505713772,"post_id":46272053,"comment_id":79507084,"body_markdown":"follow this link https://xjaphx.wordpress.com/2011/06/26/create-and-use-emulated-sd-card/","body":"follow this link <a href=\"https://xjaphx.wordpress.com/2011/06/26/create-and-use-emulated-sd-card/\" rel=\"nofollow noreferrer\">xjaphx.wordpress.com/2011/06/26/create-and-use-emulated-sd-c&zwnj;&#8203;ard</a>"},{"owner":{"account_id":10732174,"reputation":385,"user_id":7897936,"display_name":"joaolell"},"score":0,"creation_date":1505715511,"post_id":46272053,"comment_id":79507795,"body_markdown":"I managed to create the SDCard but how can I use it now? The tutorial is for Eclipse and I&#39;m using Android Studio","body":"I managed to create the SDCard but how can I use it now? The tutorial is for Eclipse and I&#39;m using Android Studio"}],"answers":[{"comments":[{"owner":{"account_id":10732174,"reputation":385,"user_id":7897936,"display_name":"joaolell"},"score":0,"creation_date":1505712551,"post_id":46272112,"comment_id":79506632,"body_markdown":"Sorry but it didn&#39;t help, as I said I&#39;m a beginner and I need further explanation on how to do what you just said","body":"Sorry but it didn&#39;t help, as I said I&#39;m a beginner and I need further explanation on how to do what you just said"}],"tags":[],"owner":{"account_id":6073270,"reputation":1334,"user_id":4741360,"display_name":"chandrakant sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1529487784,"creation_date":1505712231,"answer_id":46272112,"question_id":46272053,"body_markdown":"Use the mksdcard tool to create a FAT32 disk image that you can load into emulators running different Android Virtual Devices (AVDs) to simulate the presence of the same SD card in multiple devices. If you do not need a disk image that can be shared among multiple virtual devices, you do not need to use the mksdcard command. By default the emulator uses the default image that is generated by and stored with the active AVD instead.\r\n\r\nExample\r\nCreate the `mySdCardFile.img` disk image:\r\n\r\n    mksdcard -l mySdCard 1024M mySdCardFile.img\r\n\r\nStart two emulators with different AVDs.\r\n Use the `-sdcard` flag to specify the name and path of the disk image you created.\r\n\r\n    emulator -avd Pixel_API_25 -sdcard mySdCardFile.img\r\n    emulator -avd NEXUS_6_API_25 -sdcard mySdCardFile.img\r\n\r\nReference :\r\n\r\nhttps://developer.android.com/studio/command-line/mksdcard.html","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>Use the mksdcard tool to create a FAT32 disk image that you can load into emulators running different Android Virtual Devices (AVDs) to simulate the presence of the same SD card in multiple devices. If you do not need a disk image that can be shared among multiple virtual devices, you do not need to use the mksdcard command. By default the emulator uses the default image that is generated by and stored with the active AVD instead.</p>\n\n<p>Example\nCreate the <code>mySdCardFile.img</code> disk image:</p>\n\n<pre><code>mksdcard -l mySdCard 1024M mySdCardFile.img\n</code></pre>\n\n<p>Start two emulators with different AVDs.\n Use the <code>-sdcard</code> flag to specify the name and path of the disk image you created.</p>\n\n<pre><code>emulator -avd Pixel_API_25 -sdcard mySdCardFile.img\nemulator -avd NEXUS_6_API_25 -sdcard mySdCardFile.img\n</code></pre>\n\n<p>Reference :</p>\n\n<p><a href=\"https://developer.android.com/studio/command-line/mksdcard.html\" rel=\"noreferrer\">https://developer.android.com/studio/command-line/mksdcard.html</a></p>\n"},{"comments":[{"owner":{"account_id":3579230,"reputation":1128,"user_id":2987828,"display_name":"user2987828"},"score":0,"creation_date":1667465552,"post_id":46272193,"comment_id":131174411,"body_markdown":"Sounds like an Ad: contains Genymotion three time, without any hindsight about how it works, what are alternatives way (e.g., load an apk, ...) to access shared folders, how much it costs, ...","body":"Sounds like an Ad: contains Genymotion three time, without any hindsight about how it works, what are alternatives way (e.g., load an apk, ...) to access shared folders, how much it costs, ..."}],"tags":[],"owner":{"account_id":1223725,"reputation":5602,"user_id":1189800,"display_name":"Chetan Joshi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1505712723,"creation_date":1505712723,"answer_id":46272193,"question_id":46272053,"body_markdown":"I suggest you use Genymotion for this its working awesome. \r\n\r\n    \r\n\r\n&gt; Here is the brief:\r\n&gt; \r\n&gt; Go to your VirtualBox VM setting / Shared folder tab.\r\n&gt; \r\n&gt; Add a shared folder with the folder you want to share, and check the\r\n&gt; &quot;auto mount&quot; option.\r\n&gt; \r\n&gt; Start your VM as usual from the Genymotion software.\r\n&gt; \r\n&gt; Your shared folder is available in the /mnt/shared directory (multiple\r\n&gt; shared folders are supported)\r\n\r\n[Accessing files from Genymotion sd card][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18530114/accessing-files-from-genymotion-sd-card","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>I suggest you use Genymotion for this its working awesome. </p>\n\n<blockquote>\n  <p>Here is the brief:</p>\n  \n  <p>Go to your VirtualBox VM setting / Shared folder tab.</p>\n  \n  <p>Add a shared folder with the folder you want to share, and check the\n  \"auto mount\" option.</p>\n  \n  <p>Start your VM as usual from the Genymotion software.</p>\n  \n  <p>Your shared folder is available in the /mnt/shared directory (multiple\n  shared folders are supported)</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/18530114/accessing-files-from-genymotion-sd-card\">Accessing files from Genymotion sd card</a></p>\n"},{"comments":[{"owner":{"account_id":10732174,"reputation":385,"user_id":7897936,"display_name":"joaolell"},"score":0,"creation_date":1505716355,"post_id":46272681,"comment_id":79508162,"body_markdown":"how can i push files to it now?","body":"how can i push files to it now?"},{"owner":{"account_id":8198646,"reputation":581,"user_id":6170625,"accept_rate":100,"display_name":"Pranav Ashok"},"score":1,"creation_date":1505716496,"post_id":46272681,"comment_id":79508222,"body_markdown":"just drag and drop your file into the emulator","body":"just drag and drop your file into the emulator"},{"owner":{"account_id":10732174,"reputation":385,"user_id":7897936,"display_name":"joaolell"},"score":0,"creation_date":1505716839,"post_id":46272681,"comment_id":79508402,"body_markdown":"thanks for the help, made really good progress, any tips on how to get the path of the file now to use it in my application (mp3 player)?","body":"thanks for the help, made really good progress, any tips on how to get the path of the file now to use it in my application (mp3 player)?"},{"owner":{"account_id":8198646,"reputation":581,"user_id":6170625,"accept_rate":100,"display_name":"Pranav Ashok"},"score":0,"creation_date":1505725009,"post_id":46272681,"comment_id":79513172,"body_markdown":"if you find my answer helpful plz accept my answer @joaolell","body":"if you find my answer helpful plz accept my answer @joaolell"},{"owner":{"account_id":146489,"reputation":774,"user_id":356965,"display_name":"Pikachu"},"score":1,"creation_date":1587716214,"post_id":46272681,"comment_id":108624227,"body_markdown":"Keep in mind you can only edit this if you cloned a device. https://superuser.com/questions/1431473/cant-add-external-file-as-sd-card-in-avd-emulator/1433069","body":"Keep in mind you can only edit this if you cloned a device. <a href=\"https://superuser.com/questions/1431473/cant-add-external-file-as-sd-card-in-avd-emulator/1433069\" title=\"cant add external file as sd card in avd emulator\">superuser.com/questions/1431473/&hellip;</a>"}],"tags":[],"owner":{"account_id":8198646,"reputation":581,"user_id":6170625,"accept_rate":100,"display_name":"Pranav Ashok"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505715312,"creation_date":1505715312,"answer_id":46272681,"question_id":46272053,"body_markdown":"first take your Android &quot;Virtual Device Manager&quot;(AVD Manager on the top with a phone icon) and click on the &quot;pencil icon&quot;(edit) for editing your emulator then click &quot;Show Advanced Settings option&quot; there you can see a radio button for SD Card select &quot; External file&quot; insted of Studio-managed and provide your path and click on finish. \r\n\r\n(AVD Manager&gt;edit(pencil icon)&gt;Show Advanced Settings option&gt;External file)","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>first take your Android \"Virtual Device Manager\"(AVD Manager on the top with a phone icon) and click on the \"pencil icon\"(edit) for editing your emulator then click \"Show Advanced Settings option\" there you can see a radio button for SD Card select \" External file\" insted of Studio-managed and provide your path and click on finish. </p>\n\n<p>(AVD Manager>edit(pencil icon)>Show Advanced Settings option>External file)</p>\n"},{"tags":[],"owner":{"account_id":12660366,"reputation":121,"user_id":9201477,"display_name":"lifavor"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1524665088,"creation_date":1524662810,"answer_id":50023607,"question_id":46272053,"body_markdown":"Android Studio 3.1.1\r\n\r\n1.Create a emulator : **Tools &gt; AVD Manager** , And run it \r\n\r\n2.Open file system explorer **:View &gt; Tool Windows &gt; Device File Explorer** \r\n\r\n3.In **Device File Explorer** : Click right button , u will see **Upload** and **Save as**\r\n\r\nStep1:                   \r\n\r\n[![enter image description here][1]][1]\r\n\r\nStep2:                         \r\n\r\n[![enter image description here][2]][2]\r\nStep3:                        \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mbDCT.png\r\n  [2]: https://i.stack.imgur.com/GZXzY.png\r\n  [3]: https://i.stack.imgur.com/dUmWu.png","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>Android Studio 3.1.1</p>\n\n<p>1.Create a emulator : <strong>Tools > AVD Manager</strong> , And run it </p>\n\n<p>2.Open file system explorer <strong>:View > Tool Windows > Device File Explorer</strong> </p>\n\n<p>3.In <strong>Device File Explorer</strong> : Click right button , u will see <strong>Upload</strong> and <strong>Save as</strong></p>\n\n<p>Step1:                   </p>\n\n<p><a href=\"https://i.stack.imgur.com/mbDCT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mbDCT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step2:                         </p>\n\n<p><a href=\"https://i.stack.imgur.com/GZXzY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GZXzY.png\" alt=\"enter image description here\"></a>\nStep3:                        </p>\n\n<p><a href=\"https://i.stack.imgur.com/dUmWu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dUmWu.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6579365,"reputation":486,"user_id":5084088,"accept_rate":25,"display_name":"Jenison Gracious"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549609186,"creation_date":1549609186,"answer_id":54587431,"question_id":46272053,"body_markdown":"I did the following steps to create an external sdcard Image\r\n\r\nStep 1:\r\n      Navigate to your android sdk directory and to the following directory inside it.\r\n\r\n&gt; /{your_androidSdk_location}/Android/sdk/emulator\r\n\r\nStep 2:\r\n      Ensure that there is a executable file named **mksdcard**.\r\n\r\nStep 3:\r\nCreate another directory to store the image file(.img file) that is going to be created in the next step. Lets call this directory as **image_dir**\r\n\r\nStep4: Execute the following command\r\n\r\n    ./mksdcard -l mylabel 1024M image_dir/sdcard.img\r\nNow the .img file would have been created.\r\n\r\nStep 5: Now edit your emulator in the AVD manager and select **Advanced Settings** , under the **Memory and Storage** section select external file radio button for **Sd Card** and choose the .img file that was created in step 4.\r\n\r\nHappy emulated Storage\r\n","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>I did the following steps to create an external sdcard Image</p>\n\n<p>Step 1:\n      Navigate to your android sdk directory and to the following directory inside it.</p>\n\n<blockquote>\n  <p>/{your_androidSdk_location}/Android/sdk/emulator</p>\n</blockquote>\n\n<p>Step 2:\n      Ensure that there is a executable file named <strong>mksdcard</strong>.</p>\n\n<p>Step 3:\nCreate another directory to store the image file(.img file) that is going to be created in the next step. Lets call this directory as <strong>image_dir</strong></p>\n\n<p>Step4: Execute the following command</p>\n\n<pre><code>./mksdcard -l mylabel 1024M image_dir/sdcard.img\n</code></pre>\n\n<p>Now the .img file would have been created.</p>\n\n<p>Step 5: Now edit your emulator in the AVD manager and select <strong>Advanced Settings</strong> , under the <strong>Memory and Storage</strong> section select external file radio button for <strong>Sd Card</strong> and choose the .img file that was created in step 4.</p>\n\n<p>Happy emulated Storage</p>\n"},{"tags":[],"owner":{"account_id":11911163,"reputation":875,"user_id":8716371,"display_name":"Radost"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629725162,"creation_date":1573466450,"answer_id":58799203,"question_id":46272053,"body_markdown":"I had the same problem. I needed a lot of space for saving images in the emulator. My solution was creating an image sdcard and attach it to emulator. I followed these steps:\r\n\r\n\r\n\r\n1 ) Create an image of external sdcard:\r\n\r\n\t~/Library/Android/sdk/tools/mksdcard -l mySdCard 20G path/mySdCard.img\r\n\r\n\r\n\r\n2 ) Create an emulator with the external sdcard:\r\n\r\n\t~/Libarary/Android/sdk/tools/bin/avdmanager create avd -n EMULATOR_NAME -k system-images;android-24;default;x86 -f -c path/mySdCard.img\r\n\r\n\r\n\r\n3 ) I searched for the external storage path with adb shell because the path to push the files is not very intuitive.\r\n\r\n\tMy sdcard path is in storage/15F5-0C07/\r\n\r\n\r\n\r\n4 ) Push the files into external storage path\r\n\r\n\t~/Library/Android/sdk/platform-tools/adb push localPath  /storage/15F5-0C07\r\n\r\n\r\n\r\nI wrote all of the steps because I searched a lot for pushing the files into external storage and not into internal storage","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>I had the same problem. I needed a lot of space for saving images in the emulator. My solution was creating an image sdcard and attach it to emulator. I followed these steps:</p>\n<p>1 ) Create an image of external sdcard:</p>\n<pre><code>~/Library/Android/sdk/tools/mksdcard -l mySdCard 20G path/mySdCard.img\n</code></pre>\n<p>2 ) Create an emulator with the external sdcard:</p>\n<pre><code>~/Libarary/Android/sdk/tools/bin/avdmanager create avd -n EMULATOR_NAME -k system-images;android-24;default;x86 -f -c path/mySdCard.img\n</code></pre>\n<p>3 ) I searched for the external storage path with adb shell because the path to push the files is not very intuitive.</p>\n<pre><code>My sdcard path is in storage/15F5-0C07/\n</code></pre>\n<p>4 ) Push the files into external storage path</p>\n<pre><code>~/Library/Android/sdk/platform-tools/adb push localPath  /storage/15F5-0C07\n</code></pre>\n<p>I wrote all of the steps because I searched a lot for pushing the files into external storage and not into internal storage</p>\n"}],"owner":{"account_id":10732174,"reputation":385,"user_id":7897936,"display_name":"joaolell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31299,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":6,"score":13,"last_activity_date":1676457739,"creation_date":1505711918,"question_id":46272053,"body_markdown":"I need to download mp3 files to an SD card in Android Studio and then read them, firstly, how can I create an SD card for my emulator? Secondly, how can I add files to it? I&#39;m a beginner so a step by step explanation would be welcome.","title":"How to create SD card to use in Android Studio&#39;s emulator?","body":"<p>I need to download mp3 files to an SD card in Android Studio and then read them, firstly, how can I create an SD card for my emulator? Secondly, how can I add files to it? I'm a beginner so a step by step explanation would be welcome.</p>\n"},{"tags":["java","spring","spring-mvc","servlets","requestdispatcher"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676458557,"post_id":75458525,"comment_id":133139264,"body_markdown":"Spring Framework 6.0 goes GA (https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga) , **Spring Framework 6.0 comes with a Java 17+ baseline** , JDK 17 not JDK 8.  **This provides access to the latest web containers such as Tomcat 10.1**, Tomcat 10.x not Tomcat 9.x","body":"Spring Framework 6.0 goes GA (<a href=\"https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga\" rel=\"nofollow noreferrer\">spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga</a>) , <b>Spring Framework 6.0 comes with a Java 17+ baseline</b> , JDK 17 not JDK 8.  <b>This provides access to the latest web containers such as Tomcat 10.1</b>, Tomcat 10.x not Tomcat 9.x"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676459333,"post_id":75458525,"comment_id":133139489,"body_markdown":"If you are following a course **follow the coursre, including its dependencies**. You are following a course and decided to change some dependencies leading to this. In short you also need Tomcat 10. Also if this is a course that tells you to add plugins as dependencies, I would go look for a different course...","body":"If you are following a course <b>follow the coursre, including its dependencies</b>. You are following a course and decided to change some dependencies leading to this. In short you also need Tomcat 10. Also if this is a course that tells you to add plugins as dependencies, I would go look for a different course..."},{"owner":{"account_id":27792196,"reputation":11,"user_id":21218431,"display_name":"Fabrizio Foglia"},"score":0,"creation_date":1676460403,"post_id":75458525,"comment_id":133139777,"body_markdown":"@M.Deinum you are right.. i try to change my dependencies with the same of the course (that are older) and always work.. maybe I try to change course.. I find that course because I was searching somebody that help me to study Spring Theory before to write code.. However Thank You :)","body":"@M.Deinum you are right.. i try to change my dependencies with the same of the course (that are older) and always work.. maybe I try to change course.. I find that course because I was searching somebody that help me to study Spring Theory before to write code.. However Thank You :)"}],"owner":{"account_id":27792196,"reputation":11,"user_id":21218431,"display_name":"Fabrizio Foglia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676457458,"creation_date":1676457458,"question_id":75458525,"body_markdown":"I&#39;m following an Udemy Course of Spring and Spring Boot and we&#39;re building an Application Web App. We build these classes:\r\n- WebConfig.java\r\n\r\n```\r\npackage it.fogliafabrizio.corso.web;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages = &quot;it.fogliafabrizio.corso.web.controller&quot;) // Rilevamento automatico dei controller e li gestisce come bean\r\npublic class WebConfig {\r\n\r\n}\r\n\r\n```\r\n- AppInitializer.java\r\n\r\n```\r\npackage it.fogliafabrizio.corso.web;\r\n\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.web.servlet.DispatcherServlet;\r\nimport org.springframework.web.servlet.FrameworkServlet;\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\t/* Qual &#232; la classe che deve utilizzare per accedere a tutte le configurazioni dell&#39;app\r\n\t\t * web\r\n\t\t */\r\n\t\treturn new Class&lt;?&gt;[] {WebConfig.class}; //Torna un array di Class Generico della Classe Config \r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\t/* Qual&#39;&#232; il path che deve intercettare la DispatcherServlet \r\n\t\t * nella nostra applicazione\r\n\t\t */\r\n\t\t\r\n\t\treturn new String[]{&quot;/&quot;}; // tutto quello che arriva all&#39;appl. deve essere gestito\r\n\t}\r\n\r\n\t@Override\r\n\t/* Right-click &gt; Source &gt; Override/Implements Method\r\n\t * AbstractDispatcherInitializer -&gt; trovi metodo che prende in ingresso WebApplicationContext\r\n\t */\r\n\tprotected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\r\n\t\t/* Creiamo un oggetto di tipo DispatcherServlet che prende in ingresso\r\n\t\t * AppContext\r\n\t\t * Impostiamo il metodo setTrow... true in modo che la WebApp gener&#224; eccezione\r\n\t\t * al posto dell&#39;errore 404\r\n\t\t * e torniamo l&#39;oggeto metodo\r\n\t\t */\r\n\t\tDispatcherServlet ds = new DispatcherServlet(servletAppContext);\r\n\t\tds.setThrowExceptionIfNoHandlerFound(true);\r\n\t\treturn ds;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n- Exemple of Controller\r\n\r\n```\r\npackage it.fogliafabrizio.corso.web.controller;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/rest&quot;)\r\npublic class WelcomeRestController {\r\n\t\r\n\t@RequestMapping(&quot;/welcome&quot;)\r\n\tpublic String welcome() {\r\n\t\treturn &quot;{message: Welcome}&quot;; //ESEMPIO JSON\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nUsing Tomcat 9.0 and Spring Boot Suite, I can see that server downloads and deploy correctly the web application (`INFORMAZIONI: Deploying web application directory [C:\\Users\\Fabrizio\\Documents\\Spring\\Udemy - Guida Completa\\apache-tomcat-9.0.71\\webapps\\ROOT]`) and, if I try to search `http://localhost:8080`, I can see the Home Page of TomCat.\r\n\r\nIf I search `http://localhost:8080/rest/welcome`, I have an 404 Error.\r\n\r\nIn the course I can see that, in him console, he have `Initializing Spring DispatcherServlet &#39;dispatcher` that I don&#39;t have in mine.. I can imagine that this is the problem of why Controller can see the request and do them method..\r\n\r\nCan anybody try to help me please? \r\n\r\nThank you.\r\n\r\n\r\n\r\nI try to delete and restart the server but nothing change.. I have the same problems..\r\n\r\nI list here my &#39;pom.xml&#39;:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;it.fogliafabrizio.corso.web&lt;/groupId&gt;\r\n  &lt;artifactId&gt;corsospringweb&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;name&gt;corsospringweb&lt;/name&gt;\r\n  \r\n  \r\n  &lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t &lt;/dependency&gt;\r\n\t \r\n\t &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;!-- Core --&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t\t&lt;!-- Beans --&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;6.0.0&lt;/version&gt;\r\n\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.10.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n\t  &lt;plugins&gt;\r\n\t\t &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t &lt;/plugin&gt; \r\n\t\t \r\n\t\t &lt;plugin&gt;\r\n\t\t\t &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t    &lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t &lt;/plugin&gt;\r\n\t  &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Initializing Dispatcher Servlet - don&#39;t work","body":"<p>I'm following an Udemy Course of Spring and Spring Boot and we're building an Application Web App. We build these classes:</p>\n<ul>\n<li>WebConfig.java</li>\n</ul>\n<pre><code>package it.fogliafabrizio.corso.web;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = &quot;it.fogliafabrizio.corso.web.controller&quot;) // Rilevamento automatico dei controller e li gestisce come bean\npublic class WebConfig {\n\n}\n\n</code></pre>\n<ul>\n<li>AppInitializer.java</li>\n</ul>\n<pre><code>package it.fogliafabrizio.corso.web;\n\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\nimport org.springframework.web.servlet.FrameworkServlet;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        /* Qual  la classe che deve utilizzare per accedere a tutte le configurazioni dell'app\n         * web\n         */\n        return new Class&lt;?&gt;[] {WebConfig.class}; //Torna un array di Class Generico della Classe Config \n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        /* Qual' il path che deve intercettare la DispatcherServlet \n         * nella nostra applicazione\n         */\n        \n        return new String[]{&quot;/&quot;}; // tutto quello che arriva all'appl. deve essere gestito\n    }\n\n    @Override\n    /* Right-click &gt; Source &gt; Override/Implements Method\n     * AbstractDispatcherInitializer -&gt; trovi metodo che prende in ingresso WebApplicationContext\n     */\n    protected FrameworkServlet createDispatcherServlet(WebApplicationContext servletAppContext) {\n        /* Creiamo un oggetto di tipo DispatcherServlet che prende in ingresso\n         * AppContext\n         * Impostiamo il metodo setTrow... true in modo che la WebApp gener eccezione\n         * al posto dell'errore 404\n         * e torniamo l'oggeto metodo\n         */\n        DispatcherServlet ds = new DispatcherServlet(servletAppContext);\n        ds.setThrowExceptionIfNoHandlerFound(true);\n        return ds;\n    }\n    \n    \n\n}\n\n</code></pre>\n<ul>\n<li>Exemple of Controller</li>\n</ul>\n<pre><code>package it.fogliafabrizio.corso.web.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/rest&quot;)\npublic class WelcomeRestController {\n    \n    @RequestMapping(&quot;/welcome&quot;)\n    public String welcome() {\n        return &quot;{message: Welcome}&quot;; //ESEMPIO JSON\n    }\n\n}\n\n</code></pre>\n<p>Using Tomcat 9.0 and Spring Boot Suite, I can see that server downloads and deploy correctly the web application (<code>INFORMAZIONI: Deploying web application directory [C:\\Users\\Fabrizio\\Documents\\Spring\\Udemy - Guida Completa\\apache-tomcat-9.0.71\\webapps\\ROOT]</code>) and, if I try to search <code>http://localhost:8080</code>, I can see the Home Page of TomCat.</p>\n<p>If I search <code>http://localhost:8080/rest/welcome</code>, I have an 404 Error.</p>\n<p>In the course I can see that, in him console, he have <code>Initializing Spring DispatcherServlet 'dispatcher</code> that I don't have in mine.. I can imagine that this is the problem of why Controller can see the request and do them method..</p>\n<p>Can anybody try to help me please?</p>\n<p>Thank you.</p>\n<p>I try to delete and restart the server but nothing change.. I have the same problems..</p>\n<p>I list here my 'pom.xml':</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;it.fogliafabrizio.corso.web&lt;/groupId&gt;\n  &lt;artifactId&gt;corsospringweb&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;corsospringweb&lt;/name&gt;\n  \n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n     &lt;/dependency&gt;\n     \n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;!-- Core --&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;!-- Beans --&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;6.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n  &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt; \n         \n         &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":0,"creation_date":1676468670,"post_id":75458503,"comment_id":133142300,"body_markdown":"Try this.\n`List&lt;DataCar&gt; dataCarsDifference = dataCarsBeforeLast.stream().filter(dataCar -&gt; !dataCarsLast.contains(dataCar)).collect(Collectors.toList());`","body":"Try this. <code>List&lt;DataCar&gt; dataCarsDifference = dataCarsBeforeLast.stream().filter(dataCar -&gt; !dataCarsLast.contains(dataCar)).collect(Collectors.toList()&zwnj;&#8203;);</code>"}],"owner":{"account_id":6542164,"reputation":651,"user_id":5567970,"accept_rate":58,"display_name":"Abderrahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676457357,"creation_date":1676457357,"question_id":75458503,"body_markdown":"I have stored documents in my database MondoDB cloud, I am using Spring boot too.\r\nThis is the last document which has only one `data.search.data.car`:\r\n\r\n    {\r\n    &quot;_id&quot;:{&quot;$id&quot;:&quot;xxxxxxxxxxx&quot;},\r\n    &quot;data&quot;:{&quot;search&quot;:{&quot;data&quot;:[{&quot;car&quot;:\r\n    {&quot;brand&quot;:&quot;SEAT&quot;,\r\n    &quot;category&quot;:&quot;category.medium_sedan&quot;,\r\n    &quot;connect&quot;:false,\r\n    &quot;country_code&quot;:&quot;FR&quot;,\r\n    &quot;doors&quot;:&quot;5&quot;,\r\n    &quot;energy&quot;:&quot;GO&quot;,\r\n    ...\r\n    }}]}}}\r\n\r\nthis is my before last document which has two `data.search.data.car`:\r\n\r\n    {\r\n    &quot;_id&quot;:{&quot;$id&quot;:&quot;xxxxxxxxxz&quot;},\r\n    &quot;data&quot;:{&quot;search&quot;:{&quot;data&quot;:[{&quot;car&quot;:\r\n    {&quot;brand&quot;:&quot;SEAT&quot;,\r\n    &quot;category&quot;:&quot;category.medium_sedan&quot;,\r\n    &quot;connect&quot;:false,\r\n    &quot;country_code&quot;:&quot;FR&quot;,\r\n    &quot;doors&quot;:&quot;5&quot;,\r\n    &quot;energy&quot;:&quot;GO&quot;,\r\n    ...\r\n    }\r\n    {&quot;brand&quot;:&quot;NISSAN&quot;,\r\n    &quot;category&quot;:&quot;category.four_wheel_drive&quot;,\r\n    &quot;connect&quot;:false,\r\n    &quot;country_code&quot;:&quot;FR&quot;,\r\n    &quot;doors&quot;:&quot;5&quot;,\r\n    &quot;energy&quot;:&quot;ES&quot;,\r\n    ...\r\n    }}]}}}\r\n\r\n\r\n\r\nI would like to calculate the difference of data.search.data.car between the last document and the before last document\r\n\r\nThis is my repository:\r\n\r\n    @RepositoryRestResource\r\n    public interface CarRepository extends MongoRepository&lt;CarItem, String&gt; {\r\n    }\r\n\r\nThis my entites :\r\n\r\n1- :\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Datasearch {\r\n        private Search search;\r\n    \r\n    }\r\n\r\n2- :\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Search {\r\n    \r\n        @JsonProperty(&quot;data&quot;)\r\n        private List&lt;DataCar&gt; data;\r\n    \r\n    }\r\n\r\n3- :\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DataCar {\r\n        @JsonProperty(&quot;car&quot;)\r\n        private Car car;\r\n    }\r\n\r\n4- :\r\n\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Car {\r\n    \r\n        private String brand;\r\n        private String category;\r\n        private boolean connect;\r\n        private String countryCode;\r\n        private int doors;\r\n        private String energy;\r\n        ...\r\n    }\r\n\r\nThis my method printDifference that calculate the difference between the last document and the before last document:\r\n\r\n    public void printDifference() {\r\n    \r\n    \t\tList&lt;CarItem&gt; carItems = mongoTemplate.findAll(CarItem.class);\r\n    \t\tList&lt;DataCar&gt; dataCarsLast = carItems.get(carItems.size() - 1).getData().getSearch().getData();\r\n    \t\tList&lt;DataCar&gt; dataCarsBeforeLast = carItems.get(carItems.size() - 2).getData().getSearch().getData();\r\n    \t\tList&lt;DataCar&gt; dataCarsDifference = dataCarsLast.stream().filter(dataCar -&gt; !dataCarsBeforeLast.contains(dataCar)).collect(Collectors.toList());\r\n    \r\n    \t\tSystem.out.println(&quot;_id of the last document: &quot; + carItems.get(carItems.size() - 1).get_id());\r\n    \t\tSystem.out.println(&quot;_id of the before last document: &quot; + carItems.get(carItems.size() - 2).get_id());\r\n    \r\n    \t\tSystem.out.println(&quot;DataCars Difference count: &quot; + dataCarsDifference.size());\r\n    \t\tSystem.out.println(&quot;DataCars Difference: &quot; + dataCarsDifference);\r\n    \t\tfor (DataCar dataCar : dataCarsDifference) {\r\n    \t\t\t//System.out.println(dataCar.getCar());\r\n    \t\t}\r\n    \t}\r\n\r\nI have something wrong as you see in my console :\r\n\r\n    _id :63ec13ad6ec57aa4aecf5285\r\n    datacars :2\r\n    _id :63ec145028ca143058c5c895\r\n    datacars :1\r\n    _id of the last document: xxxxxxxxxxx\r\n    _id of the before last document: xxxxxxxxxz\r\n    DataCars Difference count: 0\r\n    DataCars Difference: []\r\n\r\nSo there is an error because difference is `2-1=1` and not `0`, how can I fix this error ?\r\n\r\n","title":"calculate the difference of car between the last document and the before last document","body":"<p>I have stored documents in my database MondoDB cloud, I am using Spring boot too.\nThis is the last document which has only one <code>data.search.data.car</code>:</p>\n<pre><code>{\n&quot;_id&quot;:{&quot;$id&quot;:&quot;xxxxxxxxxxx&quot;},\n&quot;data&quot;:{&quot;search&quot;:{&quot;data&quot;:[{&quot;car&quot;:\n{&quot;brand&quot;:&quot;SEAT&quot;,\n&quot;category&quot;:&quot;category.medium_sedan&quot;,\n&quot;connect&quot;:false,\n&quot;country_code&quot;:&quot;FR&quot;,\n&quot;doors&quot;:&quot;5&quot;,\n&quot;energy&quot;:&quot;GO&quot;,\n...\n}}]}}}\n</code></pre>\n<p>this is my before last document which has two <code>data.search.data.car</code>:</p>\n<pre><code>{\n&quot;_id&quot;:{&quot;$id&quot;:&quot;xxxxxxxxxz&quot;},\n&quot;data&quot;:{&quot;search&quot;:{&quot;data&quot;:[{&quot;car&quot;:\n{&quot;brand&quot;:&quot;SEAT&quot;,\n&quot;category&quot;:&quot;category.medium_sedan&quot;,\n&quot;connect&quot;:false,\n&quot;country_code&quot;:&quot;FR&quot;,\n&quot;doors&quot;:&quot;5&quot;,\n&quot;energy&quot;:&quot;GO&quot;,\n...\n}\n{&quot;brand&quot;:&quot;NISSAN&quot;,\n&quot;category&quot;:&quot;category.four_wheel_drive&quot;,\n&quot;connect&quot;:false,\n&quot;country_code&quot;:&quot;FR&quot;,\n&quot;doors&quot;:&quot;5&quot;,\n&quot;energy&quot;:&quot;ES&quot;,\n...\n}}]}}}\n</code></pre>\n<p>I would like to calculate the difference of data.search.data.car between the last document and the before last document</p>\n<p>This is my repository:</p>\n<pre><code>@RepositoryRestResource\npublic interface CarRepository extends MongoRepository&lt;CarItem, String&gt; {\n}\n</code></pre>\n<p>This my entites :</p>\n<p>1- :</p>\n<pre><code>@Data\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Datasearch {\n    private Search search;\n\n}\n</code></pre>\n<p>2- :</p>\n<pre><code>@Data\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Search {\n\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;DataCar&gt; data;\n\n}\n</code></pre>\n<p>3- :</p>\n<pre><code>@Data\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DataCar {\n    @JsonProperty(&quot;car&quot;)\n    private Car car;\n}\n</code></pre>\n<p>4- :</p>\n<pre><code>@Data\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Car {\n\n    private String brand;\n    private String category;\n    private boolean connect;\n    private String countryCode;\n    private int doors;\n    private String energy;\n    ...\n}\n</code></pre>\n<p>This my method printDifference that calculate the difference between the last document and the before last document:</p>\n<pre><code>public void printDifference() {\n\n        List&lt;CarItem&gt; carItems = mongoTemplate.findAll(CarItem.class);\n        List&lt;DataCar&gt; dataCarsLast = carItems.get(carItems.size() - 1).getData().getSearch().getData();\n        List&lt;DataCar&gt; dataCarsBeforeLast = carItems.get(carItems.size() - 2).getData().getSearch().getData();\n        List&lt;DataCar&gt; dataCarsDifference = dataCarsLast.stream().filter(dataCar -&gt; !dataCarsBeforeLast.contains(dataCar)).collect(Collectors.toList());\n\n        System.out.println(&quot;_id of the last document: &quot; + carItems.get(carItems.size() - 1).get_id());\n        System.out.println(&quot;_id of the before last document: &quot; + carItems.get(carItems.size() - 2).get_id());\n\n        System.out.println(&quot;DataCars Difference count: &quot; + dataCarsDifference.size());\n        System.out.println(&quot;DataCars Difference: &quot; + dataCarsDifference);\n        for (DataCar dataCar : dataCarsDifference) {\n            //System.out.println(dataCar.getCar());\n        }\n    }\n</code></pre>\n<p>I have something wrong as you see in my console :</p>\n<pre><code>_id :63ec13ad6ec57aa4aecf5285\ndatacars :2\n_id :63ec145028ca143058c5c895\ndatacars :1\n_id of the last document: xxxxxxxxxxx\n_id of the before last document: xxxxxxxxxz\nDataCars Difference count: 0\nDataCars Difference: []\n</code></pre>\n<p>So there is an error because difference is <code>2-1=1</code> and not <code>0</code>, how can I fix this error ?</p>\n"},{"tags":["java","antlr"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676457004,"creation_date":1676457004,"answer_id":75458450,"question_id":75457841,"body_markdown":"Note that from `3 &gt; 3 ? 3 : 45 : 45` only `3 &gt; 3 ? 3 : 45` is recognized as the expression (which is correct). If you&#39;d test the parser with the extra rule:\r\n\r\n```\r\nsingle_expression\r\n : expression EOF\r\n ;\r\n```\r\n\r\nthen the input `3 &gt; 3 ? 3 : 45 : 45` will not be valid.\r\n\r\nAs for `2 &gt; 3 &gt; 4`: it _is_ syntactically correct. To validate if it is semantically correct (which is not the work for a parser!), you&#39;ll need to implement type checking yourself. ANTLR&#39;s listener- and visitor classes can help, but the bulk of the work will have to be done by yourself. Also see https://stackoverflow.com/questions/68185961/how-to-implement-type-checking-in-a-listener","title":"How do I detect illegal expressions in antlr?","body":"<p>Note that from <code>3 &gt; 3 ? 3 : 45 : 45</code> only <code>3 &gt; 3 ? 3 : 45</code> is recognized as the expression (which is correct). If you'd test the parser with the extra rule:</p>\n<pre><code>single_expression\n : expression EOF\n ;\n</code></pre>\n<p>then the input <code>3 &gt; 3 ? 3 : 45 : 45</code> will not be valid.</p>\n<p>As for <code>2 &gt; 3 &gt; 4</code>: it <em>is</em> syntactically correct. To validate if it is semantically correct (which is not the work for a parser!), you'll need to implement type checking yourself. ANTLR's listener- and visitor classes can help, but the bulk of the work will have to be done by yourself. Also see <a href=\"https://stackoverflow.com/questions/68185961/how-to-implement-type-checking-in-a-listener\">How to implement type checking in a Listener</a></p>\n"}],"owner":{"account_id":8792042,"reputation":143,"user_id":6627823,"display_name":"Zheng Xiaodong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458450,"answer_count":1,"score":0,"last_activity_date":1676457004,"creation_date":1676453795,"question_id":75457841,"body_markdown":"I use antlr [JavaParser](https://github.com/antlr/grammars-v4/blob/master/java/java/JavaParser.g4).\r\n```antlr\r\nexpression\r\n    : primary\r\n    | expression bop=&#39;.&#39;\r\n      (\r\n         identifier\r\n       | methodCall\r\n       | THIS\r\n       | NEW nonWildcardTypeArguments? innerCreator\r\n       | SUPER superSuffix\r\n       | explicitGenericInvocation\r\n      )\r\n    | expression &#39;[&#39; expression &#39;]&#39;\r\n    | methodCall\r\n    | NEW creator\r\n    | &#39;(&#39; annotation* typeType (&#39;&amp;&#39; typeType)* &#39;)&#39; expression\r\n    | expression postfix=(&#39;++&#39; | &#39;--&#39;)\r\n    | prefix=(&#39;+&#39;|&#39;-&#39;|&#39;++&#39;|&#39;--&#39;) expression\r\n    | prefix=(&#39;~&#39;|&#39;!&#39;) expression\r\n    | expression bop=(&#39;*&#39;|&#39;/&#39;|&#39;%&#39;) expression\r\n    | expression bop=(&#39;+&#39;|&#39;-&#39;) expression\r\n    | expression (&#39;&lt;&#39; &#39;&lt;&#39; | &#39;&gt;&#39; &#39;&gt;&#39; &#39;&gt;&#39; | &#39;&gt;&#39; &#39;&gt;&#39;) expression\r\n    | expression bop=(&#39;&lt;=&#39; | &#39;&gt;=&#39; | &#39;&gt;&#39; | &#39;&lt;&#39;) expression\r\n    | expression bop=INSTANCEOF (typeType | pattern)\r\n    | expression bop=(&#39;==&#39; | &#39;!=&#39;) expression\r\n    | expression bop=&#39;&amp;&#39; expression\r\n    | expression bop=&#39;^&#39; expression\r\n    | expression bop=&#39;|&#39; expression\r\n    | expression bop=&#39;&amp;&amp;&#39; expression\r\n    | expression bop=&#39;||&#39; expression\r\n    | &lt;assoc=right&gt; expression bop=&#39;?&#39; expression &#39;:&#39; expression\r\n    | &lt;assoc=right&gt; expression\r\n      bop=(&#39;=&#39; | &#39;+=&#39; | &#39;-=&#39; | &#39;*=&#39; | &#39;/=&#39; | &#39;&amp;=&#39; | &#39;|=&#39; | &#39;^=&#39; | &#39;&gt;&gt;=&#39; | &#39;&gt;&gt;&gt;=&#39; | &#39;&lt;&lt;=&#39; | &#39;%=&#39;)\r\n      expression\r\n```\r\n\r\nBut some illegal expressions cannot be detected directly.\r\n\r\nSuch as `3 &gt; 3 ? 3 : 45 : 45`, `2 &gt; 3 &gt; 4`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IdxVa.png\r\n\r\nI wonder how the java syntax detects such illegal expressions, it&#39;s extra coding work, or the ability to use antlr itself.\r\n\r\nIf it&#39;s extra coding work, how to do it?","title":"How do I detect illegal expressions in antlr?","body":"<p>I use antlr <a href=\"https://github.com/antlr/grammars-v4/blob/master/java/java/JavaParser.g4\" rel=\"nofollow noreferrer\">JavaParser</a>.</p>\n<pre><code>expression\n    : primary\n    | expression bop='.'\n      (\n         identifier\n       | methodCall\n       | THIS\n       | NEW nonWildcardTypeArguments? innerCreator\n       | SUPER superSuffix\n       | explicitGenericInvocation\n      )\n    | expression '[' expression ']'\n    | methodCall\n    | NEW creator\n    | '(' annotation* typeType ('&amp;' typeType)* ')' expression\n    | expression postfix=('++' | '--')\n    | prefix=('+'|'-'|'++'|'--') expression\n    | prefix=('~'|'!') expression\n    | expression bop=('*'|'/'|'%') expression\n    | expression bop=('+'|'-') expression\n    | expression ('&lt;' '&lt;' | '&gt;' '&gt;' '&gt;' | '&gt;' '&gt;') expression\n    | expression bop=('&lt;=' | '&gt;=' | '&gt;' | '&lt;') expression\n    | expression bop=INSTANCEOF (typeType | pattern)\n    | expression bop=('==' | '!=') expression\n    | expression bop='&amp;' expression\n    | expression bop='^' expression\n    | expression bop='|' expression\n    | expression bop='&amp;&amp;' expression\n    | expression bop='||' expression\n    | &lt;assoc=right&gt; expression bop='?' expression ':' expression\n    | &lt;assoc=right&gt; expression\n      bop=('=' | '+=' | '-=' | '*=' | '/=' | '&amp;=' | '|=' | '^=' | '&gt;&gt;=' | '&gt;&gt;&gt;=' | '&lt;&lt;=' | '%=')\n      expression\n</code></pre>\n<p>But some illegal expressions cannot be detected directly.</p>\n<p>Such as <code>3 &gt; 3 ? 3 : 45 : 45</code>, <code>2 &gt; 3 &gt; 4</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/IdxVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdxVa.png\" alt=\"enter image description here\" /></a></p>\n<p>I wonder how the java syntax detects such illegal expressions, it's extra coding work, or the ability to use antlr itself.</p>\n<p>If it's extra coding work, how to do it?</p>\n"},{"tags":["java","android","file-io","android-13"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676455598,"post_id":75457252,"comment_id":133138454,"body_markdown":"Use not only File.exists() but also File.canRead() before trying to read the file.","body":"Use not only File.exists() but also File.canRead() before trying to read the file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676455644,"post_id":75457252,"comment_id":133138467,"body_markdown":"And tell us who and how your custom file was put there. Your code will fail on all Android 11+ devices.","body":"And tell us who and how your custom file was put there. Your code will fail on all Android 11+ devices."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676455798,"post_id":75457252,"comment_id":133138527,"body_markdown":"`I have a file at /sdcard/myfolder/filename.txt` Who gave you that path? If you try to get that path programmatically it would have been `/storage/emulated/0/myfolder/...`","body":"<code>I have a file at &#47;sdcard&#47;myfolder&#47;filename.txt</code> Who gave you that path? If you try to get that path programmatically it would have been <code>&#47;storage&#47;emulated&#47;0&#47;myfolder&#47;...</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676455886,"post_id":75457252,"comment_id":133138562,"body_markdown":"`In MainActivity.java I have also done this:` Well you should not ask READ and WRITE access if your app runs on an Android 13+ device.","body":"<code>In MainActivity.java I have also done this:</code> Well you should not ask READ and WRITE access if your app runs on an Android 13+ device."},{"owner":{"account_id":390256,"reputation":2674,"user_id":750200,"accept_rate":94,"display_name":"MOTIVECODEX"},"score":0,"creation_date":1676456045,"post_id":75457252,"comment_id":133138605,"body_markdown":"I had similar issue and fixed it; check my post https://stackoverflow.com/questions/75080617/api-33-android-13-non-media-files-not-found","body":"I had similar issue and fixed it; check my post <a href=\"https://stackoverflow.com/questions/75080617/api-33-android-13-non-media-files-not-found\" title=\"api 33 android 13 non media files not found\">stackoverflow.com/questions/75080617/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1676456322,"post_id":75458287,"comment_id":133138682,"body_markdown":"Does this go in MainActivity.java? When is checkForExternalPermission() called?","body":"Does this go in MainActivity.java? When is checkForExternalPermission() called?"},{"owner":{"account_id":390256,"reputation":2674,"user_id":750200,"accept_rate":94,"display_name":"MOTIVECODEX"},"score":0,"creation_date":1676456608,"post_id":75458287,"comment_id":133138767,"body_markdown":"I had the first method of the example in MainActivity and the second in PermissionActivity, but you can also add both in MainActivity to make it easier. The class also has to implement `implements ActivityCompat.OnRequestPermissionsResultCallback` and you have to import the needed classes etc.","body":"I had the first method of the example in MainActivity and the second in PermissionActivity, but you can also add both in MainActivity to make it easier. The class also has to implement <code>implements ActivityCompat.OnRequestPermissionsResultCallback</code> and you have to import the needed classes etc."},{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1676456670,"post_id":75458287,"comment_id":133138778,"body_markdown":"I need to make a separate PermissionActivity.java file?","body":"I need to make a separate PermissionActivity.java file?"},{"owner":{"account_id":390256,"reputation":2674,"user_id":750200,"accept_rate":94,"display_name":"MOTIVECODEX"},"score":0,"creation_date":1676456709,"post_id":75458287,"comment_id":133138785,"body_markdown":"That&#39;s not required, but that way I keep my MainActivity cleaner. It&#39;s basically more like a PermissionUtil.java, I named it PermissionActivity","body":"That&#39;s not required, but that way I keep my MainActivity cleaner. It&#39;s basically more like a PermissionUtil.java, I named it PermissionActivity"},{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1676456872,"post_id":75458287,"comment_id":133138829,"body_markdown":"For now it seems to do what I want if I just downgrade targetSdkVersion to 29 in app build.gradle, but I&#39;ll check this code out as well","body":"For now it seems to do what I want if I just downgrade targetSdkVersion to 29 in app build.gradle, but I&#39;ll check this code out as well"},{"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"score":0,"creation_date":1676456908,"post_id":75458287,"comment_id":133138839,"body_markdown":"Is checkForExternalPermission() supposed to be called in onCreate()?","body":"Is checkForExternalPermission() supposed to be called in onCreate()?"},{"owner":{"account_id":390256,"reputation":2674,"user_id":750200,"accept_rate":94,"display_name":"MOTIVECODEX"},"score":0,"creation_date":1676457347,"post_id":75458287,"comment_id":133138961,"body_markdown":"Yes, checkForExteralPermission is called in onCreate","body":"Yes, checkForExteralPermission is called in onCreate"}],"tags":[],"owner":{"account_id":390256,"reputation":2674,"user_id":750200,"accept_rate":94,"display_name":"MOTIVECODEX"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676456820,"creation_date":1676456213,"answer_id":75458287,"question_id":75457252,"body_markdown":"For Android 13 the request all files permissions has to be shown at runtime. The following code is of course not the full thing, but the main thing needed is to request the request all files permission in the onCreate\r\n\r\nIn MainActivity:\r\n\r\n    public static final int STORAGE_PERMISSION = 0,\r\n                ALL_FILES_PERMISSION = 2;\r\n\r\n    private void checkForExternalPermission() {\r\n      if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.R) {\r\n        requestAllFilesAccess(this);\r\n      }\r\n    }\r\n    \r\n    public void requestAllFilesAccess(@NonNull final OnPermissionGranted onPermissionGranted) {\r\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R &amp;&amp; !Environment.isExternalStorageManager()) {\r\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\r\n        alertDialogBuilder.setTitle(&quot;Grant all files permissions!&quot;);\r\n        alertDialogBuilder.setMessage(&quot;You need to grant all files permission&quot;);\r\n        alertDialogBuilder.setCancelable(false);\r\n    \r\n        alertDialogBuilder.setPositiveButton(&quot;Grant&quot;, (dialog, id) -&gt; {\r\n    \r\n            permissionCallbacks[ALL_FILES_PERMISSION] = onPermissionGranted;\r\n            try {\r\n              Intent intent =\r\n                new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION)\r\n                .setData(Uri.parse(&quot;package:&quot; + getPackageName()));\r\n              startActivity(intent);\r\n            } catch (Exception e) {\r\n              Log.e(&quot;MainActivity&quot;, &quot;Failed to initial activity to grant all files access&quot;, e);\r\n              Toast.makeText(this, &quot;Failed to grant permissions&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            this.finish();\r\n          })\r\n    \r\n          .setNegativeButton(&quot;Cancel&quot;, (dialog, id) -&gt; dialog.cancel());\r\n    \r\n        AlertDialog alertDialog = alertDialogBuilder.create();\r\n        alertDialog.show();\r\n      }\r\n    }","title":"Cannot access file in a subfolder on sdcard/ in Android 13 (samsung galaxy s22)","body":"<p>For Android 13 the request all files permissions has to be shown at runtime. The following code is of course not the full thing, but the main thing needed is to request the request all files permission in the onCreate</p>\n<p>In MainActivity:</p>\n<pre><code>public static final int STORAGE_PERMISSION = 0,\n            ALL_FILES_PERMISSION = 2;\n\nprivate void checkForExternalPermission() {\n  if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.R) {\n    requestAllFilesAccess(this);\n  }\n}\n\npublic void requestAllFilesAccess(@NonNull final OnPermissionGranted onPermissionGranted) {\n  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R &amp;&amp; !Environment.isExternalStorageManager()) {\n    AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\n    alertDialogBuilder.setTitle(&quot;Grant all files permissions!&quot;);\n    alertDialogBuilder.setMessage(&quot;You need to grant all files permission&quot;);\n    alertDialogBuilder.setCancelable(false);\n\n    alertDialogBuilder.setPositiveButton(&quot;Grant&quot;, (dialog, id) -&gt; {\n\n        permissionCallbacks[ALL_FILES_PERMISSION] = onPermissionGranted;\n        try {\n          Intent intent =\n            new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION)\n            .setData(Uri.parse(&quot;package:&quot; + getPackageName()));\n          startActivity(intent);\n        } catch (Exception e) {\n          Log.e(&quot;MainActivity&quot;, &quot;Failed to initial activity to grant all files access&quot;, e);\n          Toast.makeText(this, &quot;Failed to grant permissions&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        this.finish();\n      })\n\n      .setNegativeButton(&quot;Cancel&quot;, (dialog, id) -&gt; dialog.cancel());\n\n    AlertDialog alertDialog = alertDialogBuilder.create();\n    alertDialog.show();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":360092,"reputation":6947,"user_id":1693203,"accept_rate":56,"display_name":"user13267"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676456820,"creation_date":1676450599,"question_id":75457252,"body_markdown":"I have a file at /sdcard/myfolder/filename.txt   \r\n\r\nI access this file in my source code as follows:  \r\n\r\n    File fileMyTextFile = new File(&quot;/sdcard/myfolder/file.txt&quot;);  \r\n\r\nAt one point I check to see if the file exists before opening it to read it&#39;s data:  \r\n\r\n            try {\r\n                if (fileMyTextFile.exists()) {\r\n                  ...\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                Log.d(&quot;MyApp&quot;, &quot;file not found&quot;);\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nI keep getting the FileNotFoundException when my code reaches this point. This same code works without any changes in my other phones which have a lower version of android so I think this has to be something to do with app permissions.  \r\n\r\nI have declared these in AndroidManifest.xml  \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;  \r\n\r\nI also have   \r\n  \r\n    &lt;application\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        tools:ignore=&quot;AllowBackup,GoogleAppIndexingWarning&quot;&gt;\r\n        ....\r\n\r\nIn MainActivity.java I have also done this:  \r\n\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE }, MY_PERMISSIONS_REQUEST );\r\n\r\nHow do I access my custom files in android 13?","title":"Cannot access file in a subfolder on sdcard/ in Android 13 (samsung galaxy s22)","body":"<p>I have a file at /sdcard/myfolder/filename.txt</p>\n<p>I access this file in my source code as follows:</p>\n<pre><code>File fileMyTextFile = new File(&quot;/sdcard/myfolder/file.txt&quot;);  \n</code></pre>\n<p>At one point I check to see if the file exists before opening it to read it's data:</p>\n<pre><code>        try {\n            if (fileMyTextFile.exists()) {\n              ...\n            }\n        } catch (FileNotFoundException e) {\n            Log.d(&quot;MyApp&quot;, &quot;file not found&quot;);\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I keep getting the FileNotFoundException when my code reaches this point. This same code works without any changes in my other phones which have a lower version of android so I think this has to be something to do with app permissions.</p>\n<p>I have declared these in AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;  \n</code></pre>\n<p>I also have</p>\n<pre><code>&lt;application\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    tools:ignore=&quot;AllowBackup,GoogleAppIndexingWarning&quot;&gt;\n    ....\n</code></pre>\n<p>In MainActivity.java I have also done this:</p>\n<pre><code>    ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE }, MY_PERMISSIONS_REQUEST );\n</code></pre>\n<p>How do I access my custom files in android 13?</p>\n"},{"tags":["java","spring-mvc","validation","user-input"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1478527687,"post_id":12146298,"comment_id":68178454,"body_markdown":"https://spring.io/guides/gs/validating-form-input/","body":"<a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/validating-form-input</a>"}],"answers":[{"comments":[{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":0,"creation_date":1346096141,"post_id":12148322,"comment_id":16253590,"body_markdown":"when using Spring&#39;s Validator do i have to set the pojo from the controller and then validate it?","body":"when using Spring&#39;s Validator do i have to set the pojo from the controller and then validate it?"},{"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"score":0,"creation_date":1346096794,"post_id":12148322,"comment_id":16253875,"body_markdown":"I&#39;m not sure I understand your question. If you see the controller code snippet, Spring is automatically binding the submitted form to the `Foo` parameter in the handler method. Can you clarify?","body":"I&#39;m not sure I understand your question. If you see the controller code snippet, Spring is automatically binding the submitted form to the <code>Foo</code> parameter in the handler method. Can you clarify?"},{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":0,"creation_date":1346097874,"post_id":12148322,"comment_id":16254290,"body_markdown":"ok what i am saying is when the user submits the user inputs the Controller get the http request, from there what happens is it that you use the request.getParameter() to get all the user parameters then set the values in the POJO then pass the class to the validation object. The validation class will send the errors back to the view with the errors if any found. Is this the way it happens?","body":"ok what i am saying is when the user submits the user inputs the Controller get the http request, from there what happens is it that you use the request.getParameter() to get all the user parameters then set the values in the POJO then pass the class to the validation object. The validation class will send the errors back to the view with the errors if any found. Is this the way it happens?"},{"owner":{"account_id":172480,"reputation":10147,"user_id":400545,"accept_rate":89,"display_name":"Jerome Dalbert"},"score":1,"creation_date":1346100418,"post_id":12148322,"comment_id":16255238,"body_markdown":"It would happen like this but there is a simpler way... If you use JSP and a &lt;form:form commandName=&quot;user&quot;&gt; submission, the data are automatically put in the @ModelAttribute(&quot;user&quot;) user in the controller method. See the doc : http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/view.html","body":"It would happen like this but there is a simpler way... If you use JSP and a &lt;form:form commandName=&quot;user&quot;&gt; submission, the data are automatically put in the @ModelAttribute(&quot;user&quot;) user in the controller method. See the doc : <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/view.html\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/&hellip;</a>"},{"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"score":0,"creation_date":1398172097,"post_id":12148322,"comment_id":35522918,"body_markdown":"+1 because that&#39;s the first example I found which uses @ModelAttribute; without it none of the tutorial I found works.","body":"+1 because that&#39;s the first example I found which uses @ModelAttribute; without it none of the tutorial I found works."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1472461279,"post_id":12148322,"comment_id":65743886,"body_markdown":"Why but why doing a `new CustomValidator()`?\nBest is to reference a bean of our and inject it with spring context `@Autowired CustomValidator customValidator;` so these way you are able to get the best of IoC container.","body":"Why but why doing a <code>new CustomValidator()</code>? Best is to reference a bean of our and inject it with spring context <code>@Autowired CustomValidator customValidator;</code> so these way you are able to get the best of IoC container."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":0,"creation_date":1519682948,"post_id":12148322,"comment_id":85001273,"body_markdown":"Article link is DOA: _&quot;Error establishing a database connection&quot;_","body":"Article link is DOA: <i>&quot;Error establishing a database connection&quot;</i>"},{"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"score":0,"creation_date":1519767219,"post_id":12148322,"comment_id":85041710,"body_markdown":"@Madbreaks thanks. I just took my old site down recently. Removed the link.","body":"@Madbreaks thanks. I just took my old site down recently. Removed the link."}],"tags":[],"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"comment_count":8,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1519767189,"creation_date":1346095700,"answer_id":12148322,"question_id":12146298,"body_markdown":"There are two ways to validate user input: annotations and by inheriting Spring&#39;s Validator class. For simple cases, the annotations are nice. If you need complex validations (like cross-field validation, eg. &quot;verify email address&quot; field), or if your model is validated in multiple places in your application with different rules, or if you don&#39;t have the ability to modify your model object by placing annotations on it, Spring&#39;s inheritance-based Validator is the way to go. I&#39;ll show examples of both.\r\n\r\nThe actual validation part is the same regardless of which type of validation you&#39;re using:\r\n\r\n    RequestMapping(value=&quot;fooPage&quot;, method = RequestMethod.POST)\r\n    public String processSubmit(@Valid @ModelAttribute(&quot;foo&quot;) Foo foo, BindingResult result, ModelMap m) {\r\n        if(result.hasErrors()) {\r\n            return &quot;fooPage&quot;;\r\n        }\r\n        ...\r\n        return &quot;successPage&quot;;\r\n    }\r\n\r\nIf you are using annotations, your `Foo` class might look like:\r\n\r\n    public class Foo {\r\n        \r\n        @NotNull\r\n        @Size(min = 1, max = 20)\r\n        private String name;\r\n\r\n        @NotNull\r\n        @Min(1)\r\n        @Max(110)\r\n        private Integer age;\r\n    \r\n        // getters, setters\r\n    }\r\n\r\nAnnotations above are `javax.validation.constraints` annotations. You can also use Hibernate&#39;s\r\n`org.hibernate.validator.constraints`, but it doesn&#39;t look like you are using Hibernate. \r\n\r\nAlternatively, if you implement Spring&#39;s Validator, you would create a class as follows:\r\n\r\n\r\n    public class FooValidator implements Validator {\r\n\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; clazz) {\r\n            return Foo.class.equals(clazz);\r\n        }\r\n\t\t\r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n\r\n            Foo foo = (Foo) target;\r\n\r\n            if(foo.getName() == null) {\r\n                errors.rejectValue(&quot;name&quot;, &quot;name[emptyMessage]&quot;);\r\n            }\r\n            else if(foo.getName().length() &lt; 1 || foo.getName().length() &gt; 20){\r\n                errors.rejectValue(&quot;name&quot;, &quot;name[invalidLength]&quot;);\r\n            }\r\n\r\n            if(foo.getAge() == null) {\r\n                errors.rejectValue(&quot;age&quot;, &quot;age[emptyMessage]&quot;);\r\n            }\r\n            else if(foo.getAge() &lt; 1 || foo.getAge() &gt; 110){\r\n                errors.rejectValue(&quot;age&quot;, &quot;age[invalidAge]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIf using the above validator, you also have to bind the validator to the Spring controller (not necessary if using annotations):\r\n\r\n    @InitBinder(&quot;foo&quot;)\r\n    protected void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(new FooValidator());\r\n    }\r\n\r\nAlso see [Spring docs](http://static.springsource.org/spring/docs/current/spring-framework-reference/htmlsingle/spring-framework-reference.html#validation-mvc-triggering).\r\n\r\nHope that helps.","title":"Spring MVC: How to perform validation?","body":"<p>There are two ways to validate user input: annotations and by inheriting Spring's Validator class. For simple cases, the annotations are nice. If you need complex validations (like cross-field validation, eg. \"verify email address\" field), or if your model is validated in multiple places in your application with different rules, or if you don't have the ability to modify your model object by placing annotations on it, Spring's inheritance-based Validator is the way to go. I'll show examples of both.</p>\n\n<p>The actual validation part is the same regardless of which type of validation you're using:</p>\n\n<pre><code>RequestMapping(value=\"fooPage\", method = RequestMethod.POST)\npublic String processSubmit(@Valid @ModelAttribute(\"foo\") Foo foo, BindingResult result, ModelMap m) {\n    if(result.hasErrors()) {\n        return \"fooPage\";\n    }\n    ...\n    return \"successPage\";\n}\n</code></pre>\n\n<p>If you are using annotations, your <code>Foo</code> class might look like:</p>\n\n<pre><code>public class Foo {\n\n    @NotNull\n    @Size(min = 1, max = 20)\n    private String name;\n\n    @NotNull\n    @Min(1)\n    @Max(110)\n    private Integer age;\n\n    // getters, setters\n}\n</code></pre>\n\n<p>Annotations above are <code>javax.validation.constraints</code> annotations. You can also use Hibernate's\n<code>org.hibernate.validator.constraints</code>, but it doesn't look like you are using Hibernate. </p>\n\n<p>Alternatively, if you implement Spring's Validator, you would create a class as follows:</p>\n\n<pre><code>public class FooValidator implements Validator {\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return Foo.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n\n        Foo foo = (Foo) target;\n\n        if(foo.getName() == null) {\n            errors.rejectValue(\"name\", \"name[emptyMessage]\");\n        }\n        else if(foo.getName().length() &lt; 1 || foo.getName().length() &gt; 20){\n            errors.rejectValue(\"name\", \"name[invalidLength]\");\n        }\n\n        if(foo.getAge() == null) {\n            errors.rejectValue(\"age\", \"age[emptyMessage]\");\n        }\n        else if(foo.getAge() &lt; 1 || foo.getAge() &gt; 110){\n            errors.rejectValue(\"age\", \"age[invalidAge]\");\n        }\n    }\n}\n</code></pre>\n\n<p>If using the above validator, you also have to bind the validator to the Spring controller (not necessary if using annotations):</p>\n\n<pre><code>@InitBinder(\"foo\")\nprotected void initBinder(WebDataBinder binder) {\n    binder.setValidator(new FooValidator());\n}\n</code></pre>\n\n<p>Also see <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/htmlsingle/spring-framework-reference.html#validation-mvc-triggering\" rel=\"noreferrer\">Spring docs</a>.</p>\n\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":0,"creation_date":1346453891,"post_id":12149331,"comment_id":16377826,"body_markdown":"can you tell me what should my servlet.xml should have for this configuration. I want to pass the errors back to the view","body":"can you tell me what should my servlet.xml should have for this configuration. I want to pass the errors back to the view"},{"owner":{"account_id":172480,"reputation":10147,"user_id":400545,"accept_rate":89,"display_name":"Jerome Dalbert"},"score":0,"creation_date":1346491597,"post_id":12149331,"comment_id":16382767,"body_markdown":"@dev_darin You mean config for JSR-303 validation ?","body":"@dev_darin You mean config for JSR-303 validation ?"},{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":0,"creation_date":1346519056,"post_id":12149331,"comment_id":16387952,"body_markdown":"yes JSR-303 validation i re-accepted it sorry i now realized you can only accept one answer.steve.hanson answer was great as well, was just trying to be fair to two knowledgeable people","body":"yes JSR-303 validation i re-accepted it sorry i now realized you can only accept one answer.steve.hanson answer was great as well, was just trying to be fair to two knowledgeable people"},{"owner":{"account_id":172480,"reputation":10147,"user_id":400545,"accept_rate":89,"display_name":"Jerome Dalbert"},"score":2,"creation_date":1346582533,"post_id":12149331,"comment_id":16397153,"body_markdown":"@dev_marin For validation, in Spring 3.x+, there is nothing special in &quot;servlet.xml&quot; or &quot;[servlet-name]-servlet.xml. You just need hibernate-validator jar in your project libraries (or via Maven). That&#39;s all, it should work then. Warning if you use Method 3 : by default, each controller have access to a JSR-303 validator, so be careful not to override it with &quot;setValidator&quot;. If you want to add a custom validator on top, just instantiate it and use it, or inject it (if it is a Spring component). If you still have problems after checking google and Spring doc, you should post a new question.","body":"@dev_marin For validation, in Spring 3.x+, there is nothing special in &quot;servlet.xml&quot; or &quot;[servlet-name]-servlet.xml. You just need hibernate-validator jar in your project libraries (or via Maven). That&#39;s all, it should work then. Warning if you use Method 3 : by default, each controller have access to a JSR-303 validator, so be careful not to override it with &quot;setValidator&quot;. If you want to add a custom validator on top, just instantiate it and use it, or inject it (if it is a Spring component). If you still have problems after checking google and Spring doc, you should post a new question."},{"owner":{"account_id":113925,"reputation":1625,"user_id":299825,"accept_rate":57,"display_name":"jasonfungsing"},"score":2,"creation_date":1415140221,"post_id":12149331,"comment_id":42077821,"body_markdown":"For the mix use of method 1 &amp; 2, there is a way to use @InitBinder. Instead of &quot;binder.setValidator(...)&quot;, can use &quot; binder.addValidators(...)&quot;","body":"For the mix use of method 1 &amp; 2, there is a way to use @InitBinder. Instead of &quot;binder.setValidator(...)&quot;, can use &quot; binder.addValidators(...)&quot;"},{"owner":{"account_id":3262012,"reputation":1505,"user_id":2747410,"accept_rate":78,"display_name":"SebastianRiemer"},"score":1,"creation_date":1440060123,"post_id":12149331,"comment_id":52119933,"body_markdown":"Correct me if I&#39;m wrong, but you can mix validation via JSR-303 annotations (Method 1) and custom validation (Method 2) when using @InitBinder annotation. Simply use binder.addValidators(userValidator) instead of binder.setValidator(userValidator) and both Validation methods will take effect.","body":"Correct me if I&#39;m wrong, but you can mix validation via JSR-303 annotations (Method 1) and custom validation (Method 2) when using @InitBinder annotation. Simply use binder.addValidators(userValidator) instead of binder.setValidator(userValidator) and both Validation methods will take effect."},{"owner":{"account_id":174652,"reputation":2168,"user_id":404145,"accept_rate":62,"display_name":"DiveInto"},"score":0,"creation_date":1465969044,"post_id":12149331,"comment_id":63116605,"body_markdown":"is Bean Validation only available for controller methods(annotated with @RequestMapping)? I use this with a plain method, it doesn&#39;t work.","body":"is Bean Validation only available for controller methods(annotated with @RequestMapping)? I use this with a plain method, it doesn&#39;t work."},{"owner":{"account_id":369313,"reputation":120,"user_id":716622,"display_name":"ChengWhyNot"},"score":0,"creation_date":1537339594,"post_id":12149331,"comment_id":91743405,"body_markdown":"Thanks for clarify there&#39;s &#39;no clean and best&#39; way to do complex business rules, it saves me time for googling that business validation bible,lol","body":"Thanks for clarify there&#39;s &#39;no clean and best&#39; way to do complex business rules, it saves me time for googling that business validation bible,lol"}],"tags":[],"owner":{"account_id":172480,"reputation":10147,"user_id":400545,"accept_rate":89,"display_name":"Jerome Dalbert"},"comment_count":8,"down_vote_count":0,"up_vote_count":338,"is_accepted":true,"score":338,"last_activity_date":1552405856,"creation_date":1346100146,"answer_id":12149331,"question_id":12146298,"body_markdown":"With Spring MVC, there are 3 different ways to perform validation : using annotation, manually, or a mix of both. There is not a unique &quot;cleanest and best way&quot; to validate, but there is probably one that fits your project/problem/context better.\r\n\r\nLet&#39;s have a User :\r\n\r\n    public class User {\r\n    \r\n        private String name;\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n**Method 1 :** If you have Spring 3.x+ and simple validation to do, use `javax.validation.constraints` annotations (also known as JSR-303 annotations).\r\n\r\n    public class User {\r\n    \r\n        @NotNull\r\n        private String name;\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\nYou will need a JSR-303 provider in your libraries, like [Hibernate Validator][1] who is the reference implementation (this library has nothing to do with databases and relational mapping, it just does validation :-).\r\n\r\nThen in your controller you would have something like :\r\n\r\n    @RequestMapping(value=&quot;/user&quot;, method=RequestMethod.POST)\r\n    public createUser(Model model, @Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult result){\r\n        if (result.hasErrors()){\r\n          // do something\r\n        }\r\n        else {\r\n          // do something else\r\n        }\r\n    }\r\n\r\nNotice the @Valid : if the user happens to have a null name, result.hasErrors() will be true.\r\n\r\n**Method 2 :** If you have complex validation (like big business validation logic, conditional validation across multiple fields, etc.), or for some reason you cannot use method 1, use manual validation. It is a good practice to separate the controllers code from the validation logic. Don&#39;t create your validation class(es) from scratch, Spring provides a handy `org.springframework.validation.Validator` interface (since Spring 2).\r\n\r\nSo let&#39;s say you have\r\n    \r\n    public class User {\r\n        \r\n        private String name;\r\n\r\n        private Integer birthYear;\r\n        private User responsibleUser;\r\n        ...\r\n    \r\n    }\r\nand you want to do some &quot;complex&quot; validation like : if the user&#39;s age is under 18, responsibleUser must not be null and responsibleUser&#39;s age must be over 21.\r\n\r\n\r\nYou will do something like this\r\n\r\n    public class UserValidator implements Validator {\r\n\r\n        @Override\r\n        public boolean supports(Class clazz) {\r\n          return User.class.equals(clazz);\r\n        }\r\n\r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n          User user = (User) target;\r\n\r\n          if(user.getName() == null) {\r\n              errors.rejectValue(&quot;name&quot;, &quot;your_error_code&quot;);\r\n          }\r\n\r\n          // do &quot;complex&quot; validation here\r\n\r\n        }\r\n\r\n    }\r\n\r\nThen in your controller you would have :\r\n\r\n    @RequestMapping(value=&quot;/user&quot;, method=RequestMethod.POST)\r\n        public createUser(Model model, @ModelAttribute(&quot;user&quot;) User user, BindingResult result){\r\n            UserValidator userValidator = new UserValidator();\r\n            userValidator.validate(user, result);\r\n\r\n            if (result.hasErrors()){\r\n              // do something\r\n            }\r\n            else {\r\n              // do something else\r\n            }\r\n    }\r\n\r\nIf there are validation errors, result.hasErrors() will be true.\r\n\r\nNote : You can also set the validator in a @InitBinder method of the controller, with &quot;binder.setValidator(...)&quot; (in which case a mix use of method 1 and 2 would not be possible, because you replace the default validator). Or you could instantiate it in the default constructor of the controller. Or have a @Component/@Service UserValidator that you inject (@Autowired) in your controller : very useful, because most validators are singletons +  unit test mocking becomes easier + your validator could call other Spring components.\r\n\r\n**Method 3 :**\r\nWhy not using a combination of both methods? Validate the simple stuff, like the &quot;name&quot; attribute, with annotations (it is quick to do, concise and more readable). Keep the heavy validations for validators (when it would take hours to code custom complex validation annotations, or just when it is not possible to use annotations). I did this on a former project, it worked like a charm, quick &amp; easy.\r\n\r\n**Warning :** you must not mistake **validation handling** for **exception handling**. [Read this post][2] to know when to use them.\r\n\r\nReferences :\r\n\r\n - [A very interesting blog post about bean validation][6] ([Original link][3] is dead)\r\n - [Another good blog post about validation][4] (Original link is dead)\r\n - [Latest Spring documentation about validation][5]\r\n\r\n\r\n  [1]: http://www.hibernate.org/subprojects/validator.html\r\n  [2]: https://stackoverflow.com/a/12661291/400545\r\n  [3]: http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring/\r\n  [4]: http://web.archive.org/web/20140825121040/http://alasdoo.com/2011/07/data-validation-conversion-basics-custom-error-messages-in-spring-mvc/\r\n  [5]: http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\r\n  [6]: http://web.archive.org/web/20120508030459/http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring","title":"Spring MVC: How to perform validation?","body":"<p>With Spring MVC, there are 3 different ways to perform validation : using annotation, manually, or a mix of both. There is not a unique \"cleanest and best way\" to validate, but there is probably one that fits your project/problem/context better.</p>\n\n<p>Let's have a User :</p>\n\n<pre><code>public class User {\n\n    private String name;\n\n    ...\n\n}\n</code></pre>\n\n<p><strong>Method 1 :</strong> If you have Spring 3.x+ and simple validation to do, use <code>javax.validation.constraints</code> annotations (also known as JSR-303 annotations).</p>\n\n<pre><code>public class User {\n\n    @NotNull\n    private String name;\n\n    ...\n\n}\n</code></pre>\n\n<p>You will need a JSR-303 provider in your libraries, like <a href=\"http://www.hibernate.org/subprojects/validator.html\" rel=\"noreferrer\">Hibernate Validator</a> who is the reference implementation (this library has nothing to do with databases and relational mapping, it just does validation :-).</p>\n\n<p>Then in your controller you would have something like :</p>\n\n<pre><code>@RequestMapping(value=\"/user\", method=RequestMethod.POST)\npublic createUser(Model model, @Valid @ModelAttribute(\"user\") User user, BindingResult result){\n    if (result.hasErrors()){\n      // do something\n    }\n    else {\n      // do something else\n    }\n}\n</code></pre>\n\n<p>Notice the @Valid : if the user happens to have a null name, result.hasErrors() will be true.</p>\n\n<p><strong>Method 2 :</strong> If you have complex validation (like big business validation logic, conditional validation across multiple fields, etc.), or for some reason you cannot use method 1, use manual validation. It is a good practice to separate the controllers code from the validation logic. Don't create your validation class(es) from scratch, Spring provides a handy <code>org.springframework.validation.Validator</code> interface (since Spring 2).</p>\n\n<p>So let's say you have</p>\n\n<pre><code>public class User {\n\n    private String name;\n\n    private Integer birthYear;\n    private User responsibleUser;\n    ...\n\n}\n</code></pre>\n\n<p>and you want to do some \"complex\" validation like : if the user's age is under 18, responsibleUser must not be null and responsibleUser's age must be over 21.</p>\n\n<p>You will do something like this</p>\n\n<pre><code>public class UserValidator implements Validator {\n\n    @Override\n    public boolean supports(Class clazz) {\n      return User.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n      User user = (User) target;\n\n      if(user.getName() == null) {\n          errors.rejectValue(\"name\", \"your_error_code\");\n      }\n\n      // do \"complex\" validation here\n\n    }\n\n}\n</code></pre>\n\n<p>Then in your controller you would have :</p>\n\n<pre><code>@RequestMapping(value=\"/user\", method=RequestMethod.POST)\n    public createUser(Model model, @ModelAttribute(\"user\") User user, BindingResult result){\n        UserValidator userValidator = new UserValidator();\n        userValidator.validate(user, result);\n\n        if (result.hasErrors()){\n          // do something\n        }\n        else {\n          // do something else\n        }\n}\n</code></pre>\n\n<p>If there are validation errors, result.hasErrors() will be true.</p>\n\n<p>Note : You can also set the validator in a @InitBinder method of the controller, with \"binder.setValidator(...)\" (in which case a mix use of method 1 and 2 would not be possible, because you replace the default validator). Or you could instantiate it in the default constructor of the controller. Or have a @Component/@Service UserValidator that you inject (@Autowired) in your controller : very useful, because most validators are singletons +  unit test mocking becomes easier + your validator could call other Spring components.</p>\n\n<p><strong>Method 3 :</strong>\nWhy not using a combination of both methods? Validate the simple stuff, like the \"name\" attribute, with annotations (it is quick to do, concise and more readable). Keep the heavy validations for validators (when it would take hours to code custom complex validation annotations, or just when it is not possible to use annotations). I did this on a former project, it worked like a charm, quick &amp; easy.</p>\n\n<p><strong>Warning :</strong> you must not mistake <strong>validation handling</strong> for <strong>exception handling</strong>. <a href=\"https://stackoverflow.com/a/12661291/400545\">Read this post</a> to know when to use them.</p>\n\n<p>References :</p>\n\n<ul>\n<li><a href=\"http://web.archive.org/web/20120508030459/http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring\" rel=\"noreferrer\">A very interesting blog post about bean validation</a> (<a href=\"http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring/\" rel=\"noreferrer\">Original link</a> is dead)</li>\n<li><a href=\"http://web.archive.org/web/20140825121040/http://alasdoo.com/2011/07/data-validation-conversion-basics-custom-error-messages-in-spring-mvc/\" rel=\"noreferrer\">Another good blog post about validation</a> (Original link is dead)</li>\n<li><a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\" rel=\"noreferrer\">Latest Spring documentation about validation</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":1,"creation_date":1368199192,"post_id":16480820,"comment_id":23657963,"body_markdown":"I was also wondering a controller usually has one validator and i saw where you can have multiple validators however if you have a set of validation defined for one object however the operation you want to preform on the object is different e.g. a save / update for a save a certain set of validation is required and an update a different set of validation is required. Is there a way to configure the validator class to hold all the validation based on the operation or will you required to use multiple validators?","body":"I was also wondering a controller usually has one validator and i saw where you can have multiple validators however if you have a set of validation defined for one object however the operation you want to preform on the object is different e.g. a save / update for a save a certain set of validation is required and an update a different set of validation is required. Is there a way to configure the validator class to hold all the validation based on the operation or will you required to use multiple validators?"},{"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"score":1,"creation_date":1368208477,"post_id":16480820,"comment_id":23662654,"body_markdown":"You can also have a annotation validation on method. So you can create your own &quot;domain validation&quot; if I understand your question. For this you must specify `ElementType.METHOD` in `@Target`.","body":"You can also have a annotation validation on method. So you can create your own &quot;domain validation&quot; if I understand your question. For this you must specify <code>ElementType.METHOD</code> in <code>@Target</code>."},{"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"score":0,"creation_date":1368378748,"post_id":16480820,"comment_id":23701876,"body_markdown":"i understand what youre saying can you also point me to an example for a more clear picture.","body":"i understand what youre saying can you also point me to an example for a more clear picture."}],"tags":[],"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1377529474,"creation_date":1368183764,"answer_id":16480820,"question_id":12146298,"body_markdown":"I would like to extend nice answer of Jerome Dalbert. I found very easy to write your own annotation validators in JSR-303 way. You are not limited to have &quot;one field&quot; validation. You can create your own annotation on type level and have complex validation (see examples below). I prefer this way because I don&#39;t need mix different types of validation (Spring and JSR-303) like Jerome do. Also this validators are &quot;Spring aware&quot; so you can use @Inject/@Autowire out of box.\r\n\r\n**Example of custom object validation:**\r\n\r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = { YourCustomObjectValidator.class })\r\n    public @interface YourCustomObjectValid {\r\n\r\n        String message() default &quot;{YourCustomObjectValid.message}&quot;;\r\n\r\n        Class&lt;?&gt;[] groups() default {};\r\n\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n    public class YourCustomObjectValidator implements ConstraintValidator&lt;YourCustomObjectValid, YourCustomObject&gt; {\r\n\r\n        @Override\r\n        public void initialize(YourCustomObjectValid constraintAnnotation) { }\r\n\r\n        @Override\r\n        public boolean isValid(YourCustomObject value, ConstraintValidatorContext context) {\r\n\t\t\r\n            // Validate your complex logic \r\n\t\t\r\n            // Mark field with error\r\n            ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\r\n            cvb.addNode(someField).addConstraintViolation();\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @YourCustomObjectValid\r\n    public YourCustomObject {\r\n    }\r\n\r\n**Example of generic fields equality:**\r\n\r\n    import static java.lang.annotation.ElementType.ANNOTATION_TYPE;\r\n    import static java.lang.annotation.ElementType.TYPE;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import javax.validation.Constraint;\r\n    import javax.validation.Payload;\r\n    \r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = { FieldsEqualityValidator.class })\r\n    public @interface FieldsEquality {\r\n    \r\n    \tString message() default &quot;{FieldsEquality.message}&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n    \t/**\r\n    \t * Name of the first field that will be compared.\r\n    \t * \r\n    \t * @return name\r\n    \t */\r\n    \tString firstFieldName();\r\n    \r\n    \t/**\r\n    \t * Name of the second field that will be compared.\r\n    \t * \r\n    \t * @return name\r\n    \t */\r\n    \tString secondFieldName();\r\n    \t\r\n    \t@Target({ TYPE, ANNOTATION_TYPE })\r\n    \t@Retention(RUNTIME)\r\n    \tpublic @interface List {\r\n    \t\tFieldsEquality[] value();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.util.ReflectionUtils;\r\n    \r\n    public class FieldsEqualityValidator implements ConstraintValidator&lt;FieldsEquality, Object&gt; {\r\n    \r\n    \tprivate static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\r\n    \t\r\n    \tprivate String firstFieldName;\r\n    \tprivate String secondFieldName;\r\n    \t\r\n    \t@Override\r\n    \tpublic void initialize(FieldsEquality constraintAnnotation) {\r\n    \t\tfirstFieldName = constraintAnnotation.firstFieldName();\r\n    \t\tsecondFieldName = constraintAnnotation.secondFieldName();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(Object value, ConstraintValidatorContext context) {\r\n    \t\tif (value == null)\r\n    \t\t\treturn true;\r\n    \r\n    \t\ttry {\r\n    \t\t\tClass&lt;?&gt; clazz = value.getClass();\r\n    \t\t\t\r\n    \t\t\tField firstField = ReflectionUtils.findField(clazz, firstFieldName);\r\n    \t\t\tfirstField.setAccessible(true);\r\n    \t\t\tObject first = firstField.get(value);\r\n    \r\n    \t\t\tField secondField = ReflectionUtils.findField(clazz, secondFieldName);\r\n    \t\t\tsecondField.setAccessible(true);\r\n    \t\t\tObject second = secondField.get(value);\r\n    \t\t\t\r\n    \t\t\tif (first != null &amp;&amp; second != null &amp;&amp; !first.equals(second)) {\r\n    \t\t\t\t\tConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\r\n              cvb.addNode(firstFieldName).addConstraintViolation();\r\n    \t\t\r\n              ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\r\n              cvb.addNode(someField).addConstraintViolation(secondFieldName);\r\n    \r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Cannot validate fileds equality in &#39;&quot; + value + &quot;&#39;!&quot;, e);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n    \r\n    @FieldsEquality(firstFieldName = &quot;password&quot;, secondFieldName = &quot;confirmPassword&quot;)\r\n    public class NewUserForm {\r\n    \r\n    \tprivate String password;\r\n    \t\r\n    \tprivate String confirmPassword;\r\n    \t\r\n    }\r\n\r\n  [1]: http://bval.apache.org/","title":"Spring MVC: How to perform validation?","body":"<p>I would like to extend nice answer of Jerome Dalbert. I found very easy to write your own annotation validators in JSR-303 way. You are not limited to have \"one field\" validation. You can create your own annotation on type level and have complex validation (see examples below). I prefer this way because I don't need mix different types of validation (Spring and JSR-303) like Jerome do. Also this validators are \"Spring aware\" so you can use @Inject/@Autowire out of box.</p>\n\n<p><strong>Example of custom object validation:</strong></p>\n\n<pre><code>@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { YourCustomObjectValidator.class })\npublic @interface YourCustomObjectValid {\n\n    String message() default \"{YourCustomObjectValid.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class YourCustomObjectValidator implements ConstraintValidator&lt;YourCustomObjectValid, YourCustomObject&gt; {\n\n    @Override\n    public void initialize(YourCustomObjectValid constraintAnnotation) { }\n\n    @Override\n    public boolean isValid(YourCustomObject value, ConstraintValidatorContext context) {\n\n        // Validate your complex logic \n\n        // Mark field with error\n        ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n        cvb.addNode(someField).addConstraintViolation();\n\n        return true;\n    }\n}\n\n@YourCustomObjectValid\npublic YourCustomObject {\n}\n</code></pre>\n\n<p><strong>Example of generic fields equality:</strong></p>\n\n<pre><code>import static java.lang.annotation.ElementType.ANNOTATION_TYPE;\nimport static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { FieldsEqualityValidator.class })\npublic @interface FieldsEquality {\n\n    String message() default \"{FieldsEquality.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    /**\n     * Name of the first field that will be compared.\n     * \n     * @return name\n     */\n    String firstFieldName();\n\n    /**\n     * Name of the second field that will be compared.\n     * \n     * @return name\n     */\n    String secondFieldName();\n\n    @Target({ TYPE, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    public @interface List {\n        FieldsEquality[] value();\n    }\n}\n\n\n\n\nimport java.lang.reflect.Field;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.ReflectionUtils;\n\npublic class FieldsEqualityValidator implements ConstraintValidator&lt;FieldsEquality, Object&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\n\n    private String firstFieldName;\n    private String secondFieldName;\n\n    @Override\n    public void initialize(FieldsEquality constraintAnnotation) {\n        firstFieldName = constraintAnnotation.firstFieldName();\n        secondFieldName = constraintAnnotation.secondFieldName();\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null)\n            return true;\n\n        try {\n            Class&lt;?&gt; clazz = value.getClass();\n\n            Field firstField = ReflectionUtils.findField(clazz, firstFieldName);\n            firstField.setAccessible(true);\n            Object first = firstField.get(value);\n\n            Field secondField = ReflectionUtils.findField(clazz, secondFieldName);\n            secondField.setAccessible(true);\n            Object second = secondField.get(value);\n\n            if (first != null &amp;&amp; second != null &amp;&amp; !first.equals(second)) {\n                    ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n          cvb.addNode(firstFieldName).addConstraintViolation();\n\n          ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n          cvb.addNode(someField).addConstraintViolation(secondFieldName);\n\n                return false;\n            }\n        } catch (Exception e) {\n            log.error(\"Cannot validate fileds equality in '\" + value + \"'!\", e);\n            return false;\n        }\n\n        return true;\n    }\n}\n\n@FieldsEquality(firstFieldName = \"password\", secondFieldName = \"confirmPassword\")\npublic class NewUserForm {\n\n    private String password;\n\n    private String confirmPassword;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63354,"reputation":9525,"user_id":187570,"accept_rate":61,"display_name":"Vicky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384551120,"creation_date":1384365123,"answer_id":19960890,"question_id":12146298,"body_markdown":"Find complete example of Spring Mvc Validation\r\n\r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.ValidationUtils;\r\n    import org.springframework.validation.Validator;\r\n    import com.technicalkeeda.bean.Login;\r\n    \r\n    public class LoginValidator implements Validator {\r\n    \tpublic boolean supports(Class aClass) {\r\n    \t\treturn Login.class.equals(aClass);\r\n    \t}\r\n    \r\n    \tpublic void validate(Object obj, Errors errors) {\r\n    \t\tLogin login = (Login) obj;\r\n    \t\tValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;userName&quot;,\r\n    \t\t\t\t&quot;username.required&quot;, &quot;Required field&quot;);\r\n    \t\tValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;userPassword&quot;,\r\n    \t\t\t\t&quot;userpassword.required&quot;, &quot;Required field&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n    public class LoginController extends SimpleFormController {\r\n    \tprivate LoginService loginService;\r\n    \r\n    \tpublic LoginController() {\r\n    \t\tsetCommandClass(Login.class);\r\n    \t\tsetCommandName(&quot;login&quot;);\r\n    \t}\r\n    \r\n    \tpublic void setLoginService(LoginService loginService) {\r\n    \t\tthis.loginService = loginService;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected ModelAndView onSubmit(Object command) throws Exception {\r\n    \t\tLogin login = (Login) command;\r\n    \t\tloginService.add(login);\r\n    \t\treturn new ModelAndView(&quot;loginsucess&quot;, &quot;login&quot;, login);\r\n    \t}\r\n    }\r\n","title":"Spring MVC: How to perform validation?","body":"<p>Find complete example of Spring Mvc Validation</p>\n\n<pre><code>import org.springframework.validation.Errors;\nimport org.springframework.validation.ValidationUtils;\nimport org.springframework.validation.Validator;\nimport com.technicalkeeda.bean.Login;\n\npublic class LoginValidator implements Validator {\n    public boolean supports(Class aClass) {\n        return Login.class.equals(aClass);\n    }\n\n    public void validate(Object obj, Errors errors) {\n        Login login = (Login) obj;\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, \"userName\",\n                \"username.required\", \"Required field\");\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, \"userPassword\",\n                \"userpassword.required\", \"Required field\");\n    }\n}\n\n\npublic class LoginController extends SimpleFormController {\n    private LoginService loginService;\n\n    public LoginController() {\n        setCommandClass(Login.class);\n        setCommandName(\"login\");\n    }\n\n    public void setLoginService(LoginService loginService) {\n        this.loginService = loginService;\n    }\n\n    @Override\n    protected ModelAndView onSubmit(Object command) throws Exception {\n        Login login = (Login) command;\n        loginService.add(login);\n        return new ModelAndView(\"loginsucess\", \"login\", login);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461250377,"creation_date":1461249748,"answer_id":36772985,"question_id":12146298,"body_markdown":"If you have same error handling logic for different method handlers, then you would end up with lots of handlers with following code pattern:\r\n\r\n    if (validation.hasErrors()) {\r\n      // do error handling\r\n    }\r\n    else {\r\n      // do the actual business logic\r\n    }\r\nSuppose you&#39;re creating RESTful services and want to return `400 Bad Request` along with error messages for every validation error case. Then, the error handling part would be same for every single REST endpoint that requires validation. Repeating that very same logic in every single handler is not so **DRY**ish!\r\n\r\nOne way to solve this problem is to drop the immediate `BindingResult` after each *To-Be-Validated* bean. Now, your handler would be like this:\r\n\r\n    @RequestMapping(...)\r\n    public Something doStuff(@Valid Somebean bean) { \r\n        // do the actual business logic\r\n        // Just the else part!\r\n    }\r\n\r\nThis way, if the bound bean was not valid, a `MethodArgumentNotValidException` will be thrown by Spring. You can define a `ControllerAdvice` that handles this exception with that same error handling logic:\r\n\r\n    @ControllerAdvice\r\n    public class ErrorHandlingControllerAdvice {\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        public SomeErrorBean handleValidationError(MethodArgumentNotValidException ex) {\r\n            // do error handling\r\n            // Just the if part!\r\n        }\r\n    }\r\nYou still can examine the underlying `BindingResult` using `getBindingResult` method of `MethodArgumentNotValidException`.","title":"Spring MVC: How to perform validation?","body":"<p>If you have same error handling logic for different method handlers, then you would end up with lots of handlers with following code pattern:</p>\n\n<pre><code>if (validation.hasErrors()) {\n  // do error handling\n}\nelse {\n  // do the actual business logic\n}\n</code></pre>\n\n<p>Suppose you're creating RESTful services and want to return <code>400 Bad Request</code> along with error messages for every validation error case. Then, the error handling part would be same for every single REST endpoint that requires validation. Repeating that very same logic in every single handler is not so <strong>DRY</strong>ish!</p>\n\n<p>One way to solve this problem is to drop the immediate <code>BindingResult</code> after each <em>To-Be-Validated</em> bean. Now, your handler would be like this:</p>\n\n<pre><code>@RequestMapping(...)\npublic Something doStuff(@Valid Somebean bean) { \n    // do the actual business logic\n    // Just the else part!\n}\n</code></pre>\n\n<p>This way, if the bound bean was not valid, a <code>MethodArgumentNotValidException</code> will be thrown by Spring. You can define a <code>ControllerAdvice</code> that handles this exception with that same error handling logic:</p>\n\n<pre><code>@ControllerAdvice\npublic class ErrorHandlingControllerAdvice {\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public SomeErrorBean handleValidationError(MethodArgumentNotValidException ex) {\n        // do error handling\n        // Just the if part!\n    }\n}\n</code></pre>\n\n<p>You still can examine the underlying <code>BindingResult</code> using <code>getBindingResult</code> method of <code>MethodArgumentNotValidException</code>.</p>\n"},{"tags":[],"owner":{"account_id":2264381,"reputation":778,"user_id":1993534,"accept_rate":85,"display_name":"praveen jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518703356,"creation_date":1518703356,"answer_id":48809116,"question_id":12146298,"body_markdown":"\r\nPut this bean in your configuration class. \r\n\r\n     @Bean\r\n      public Validator localValidatorFactoryBean() {\r\n        return new LocalValidatorFactoryBean();\r\n      }\r\n\r\nand then You can use \r\n\r\n     &lt;T&gt; BindingResult validate(T t) {\r\n        DataBinder binder = new DataBinder(t);\r\n        binder.setValidator(validator);\r\n        binder.validate();\r\n        return binder.getBindingResult();\r\n    }\r\n\r\nfor validating a bean manually. Then You will get all result in BindingResult and you can retrieve from there. \r\n","title":"Spring MVC: How to perform validation?","body":"<p>Put this bean in your configuration class. </p>\n\n<pre><code> @Bean\n  public Validator localValidatorFactoryBean() {\n    return new LocalValidatorFactoryBean();\n  }\n</code></pre>\n\n<p>and then You can use </p>\n\n<pre><code> &lt;T&gt; BindingResult validate(T t) {\n    DataBinder binder = new DataBinder(t);\n    binder.setValidator(validator);\n    binder.validate();\n    return binder.getBindingResult();\n}\n</code></pre>\n\n<p>for validating a bean manually. Then You will get all result in BindingResult and you can retrieve from there. </p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676456788,"creation_date":1676456466,"answer_id":75458335,"question_id":12146298,"body_markdown":"# Validation groups\r\n\r\nAlso it is worth to mention validation for some more complex cases, when you have some &quot;multi steps&quot; within your business logic. In such cases we need &quot;validation groups&quot;. \r\n\r\n`@Validated` annotation was added to support &quot;validation groups&quot; in validated bean. This can be used in multi step forms where in the first step you need, for example, validate name and email, and in the second step you need to validate, for example, phone number.\r\n\r\nWith `@Validated` you first need to declare groups. Groups are declared with your custom marker interfaces. \r\n\r\n------------\r\n\r\n# @Validated example\r\n\r\nLet&#39;s say we have a scenario when we have a form for user sign up. On this form we want user to provide a name and email. And after user is signed up we have another form where we suggest the user to add his some extra information, for example, email. We don&#39;t want email be provided on the first step. But it is required to provide it on the second step.\r\n\r\nFor this case, we&#39;ll declare two groups. First group would be `OnCreate`, and the second group would be `OnUpdate` :\r\n\r\n&lt;!-- language: java --&gt;\r\n**OnCreate**:\r\n\r\n    public interface OnCreate {}\r\n\r\n**OnUpdate**:\r\n\r\n    public interface OnUpdate {}\r\n\r\nOur user **UserAccount** class:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public class UserAccount {\r\n\r\n        // we will return this field after User is created\r\n        // and we want this field to be provided only on update\r\n        // so we can determine which user needs to be updated\r\n        @NotBlank(groups = OnUpdate.class)\r\n        private String id;\r\n\r\n        @NotBlank(groups = OnCreate.class)\r\n        private String name;\r\n       \r\n        @NotBlank(groups = OnCreate.class)\r\n        private String email;\r\n     \r\n        @NotBlank(groups = OnUpdate.class)\r\n        private String phone;\r\n        \r\n        // standard constructors / setters / getters / toString   \r\n        \r\n    }\r\n\r\nWe mark the validation annotations with our groups interfaces depending on which group those validations are supposed to be related.\r\n\r\nAnd finally our **Controller** methods:\r\n\r\n    @PostMapping(value = &quot;/create&quot;)\r\n    public UserAccount createAccount(@Validated(OnCreate.class) @RequestBody UserAccount userAccount) {\r\n        ...\r\n    }\r\n    \r\n    @PatchMapping(value = &quot;/update&quot;)\r\n    public UserAccount updateAccount(@Validated(OnUpdate.class) @RequestBody UserAccount userAccount) {\r\n        ...\r\n    }\r\n\r\nHere we specify `@Validated(...)` instead of `@Valid` and specify the validation group which should be used in different cases.\r\n\r\nNow depending on validation group we&#39;ll perform the validations for the particular fields within different steps.\r\n\r\n","title":"Spring MVC: How to perform validation?","body":"<h1>Validation groups</h1>\n<p>Also it is worth to mention validation for some more complex cases, when you have some &quot;multi steps&quot; within your business logic. In such cases we need &quot;validation groups&quot;.</p>\n<p><code>@Validated</code> annotation was added to support &quot;validation groups&quot; in validated bean. This can be used in multi step forms where in the first step you need, for example, validate name and email, and in the second step you need to validate, for example, phone number.</p>\n<p>With <code>@Validated</code> you first need to declare groups. Groups are declared with your custom marker interfaces.</p>\n<hr />\n<h1>@Validated example</h1>\n<p>Let's say we have a scenario when we have a form for user sign up. On this form we want user to provide a name and email. And after user is signed up we have another form where we suggest the user to add his some extra information, for example, email. We don't want email be provided on the first step. But it is required to provide it on the second step.</p>\n<p>For this case, we'll declare two groups. First group would be <code>OnCreate</code>, and the second group would be <code>OnUpdate</code> :</p>\n<p><strong>OnCreate</strong>:</p>\n<pre><code>public interface OnCreate {}\n</code></pre>\n<p><strong>OnUpdate</strong>:</p>\n<pre><code>public interface OnUpdate {}\n</code></pre>\n<p>Our user <strong>UserAccount</strong> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserAccount {\n\n    // we will return this field after User is created\n    // and we want this field to be provided only on update\n    // so we can determine which user needs to be updated\n    @NotBlank(groups = OnUpdate.class)\n    private String id;\n\n    @NotBlank(groups = OnCreate.class)\n    private String name;\n   \n    @NotBlank(groups = OnCreate.class)\n    private String email;\n \n    @NotBlank(groups = OnUpdate.class)\n    private String phone;\n    \n    // standard constructors / setters / getters / toString   \n    \n}\n</code></pre>\n<p>We mark the validation annotations with our groups interfaces depending on which group those validations are supposed to be related.</p>\n<p>And finally our <strong>Controller</strong> methods:</p>\n<pre><code>@PostMapping(value = &quot;/create&quot;)\npublic UserAccount createAccount(@Validated(OnCreate.class) @RequestBody UserAccount userAccount) {\n    ...\n}\n\n@PatchMapping(value = &quot;/update&quot;)\npublic UserAccount updateAccount(@Validated(OnUpdate.class) @RequestBody UserAccount userAccount) {\n    ...\n}\n</code></pre>\n<p>Here we specify <code>@Validated(...)</code> instead of <code>@Valid</code> and specify the validation group which should be used in different cases.</p>\n<p>Now depending on validation group we'll perform the validations for the particular fields within different steps.</p>\n"}],"owner":{"account_id":287105,"reputation":5584,"user_id":586731,"accept_rate":89,"display_name":"devdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207453,"favorite_count":0,"down_vote_count":1,"up_vote_count":165,"accepted_answer_id":12149331,"answer_count":7,"score":164,"last_activity_date":1676456788,"creation_date":1346087093,"question_id":12146298,"body_markdown":"I would like to know what is the cleanest and best way to perform form validation of user inputs. I have seen some developers implement [`org.springframework.validation.Validator`][1]. A question about that: I saw it validates a class. Does the class have to be filled manually with the values from the user input, and then passed to the validator?\r\n\r\nI am confused about the cleanest and best way to validate the user input. I know about the traditional method of using `request.getParameter()` and then manually checking for `nulls`, but I don&#39;t want to do all the validation in my `Controller`. Some good advice on this area will be greatly appreciated. I am not using Hibernate in this application.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/validation/Validator.html","title":"Spring MVC: How to perform validation?","body":"<p>I would like to know what is the cleanest and best way to perform form validation of user inputs. I have seen some developers implement <a href=\"http://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/validation/Validator.html\" rel=\"noreferrer\"><code>org.springframework.validation.Validator</code></a>. A question about that: I saw it validates a class. Does the class have to be filled manually with the values from the user input, and then passed to the validator?</p>\n\n<p>I am confused about the cleanest and best way to validate the user input. I know about the traditional method of using <code>request.getParameter()</code> and then manually checking for <code>nulls</code>, but I don't want to do all the validation in my <code>Controller</code>. Some good advice on this area will be greatly appreciated. I am not using Hibernate in this application.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1676415923,"post_id":75454033,"comment_id":133131982,"body_markdown":"Most-likely your  `fileName` in `File report = new File(fileName);` is incorrect, somehow invalid, or `null` (although, if it was `null`, you&#39;d be getting a `NullPointerException`). Try doing a `System.out.println(new File(fileName).getAbsolutePath());` and see if the path is really valid.","body":"Most-likely your  <code>fileName</code> in <code>File report = new File(fileName);</code> is incorrect, somehow invalid, or <code>null</code> (although, if it was <code>null</code>, you&#39;d be getting a <code>NullPointerException</code>). Try doing a <code>System.out.println(new File(fileName).getAbsolutePath());</code> and see if the path is really valid."},{"owner":{"account_id":27263833,"reputation":23,"user_id":20786226,"display_name":"Dhirish Parthasarathy"},"score":0,"creation_date":1676416028,"post_id":75454033,"comment_id":133132011,"body_markdown":"Okay but will the code create the directory there? Can I not mock that piece of code or say skip it?","body":"Okay but will the code create the directory there? Can I not mock that piece of code or say skip it?"}],"owner":{"account_id":27263833,"reputation":23,"user_id":20786226,"display_name":"Dhirish Parthasarathy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676456573,"creation_date":1676415672,"question_id":75454033,"body_markdown":"I am trying a JUNIT class, which uses calls an interface in which a method &#39;`generateexcelreport`&#39; , builds an excel reprot based on a list of values.But when I used mockito to mock the implementation, I am getting an exception with creating a file, no w I tried using the `Mockito.doNothing()` on this method , but still Mockito calls the method and am getting the exception again.\r\n\r\n\r\nException:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;java.io.File.mkdir()&quot; because the return value of &quot;java.io.File.getParentFile()&quot; is null\r\n\r\nMy Method:\r\n\r\n    public void generateExcelReport(HashMap&lt;String, List&lt;Object&gt;&gt; hydrated) throws IOException, InvalidFormatException{\r\n    \r\n            Workbook workbook = new XSSFWorkbook();\r\n            hydrated.entrySet().stream().forEach(key -&gt; {\r\n                List&lt;Object&gt; bodyNode = (List&lt;Object&gt;) key.getValue().get(0);\r\n    \r\n                Sheet sheet = workbook.createSheet(key.getKey().toString());\r\n    \r\n                try {\r\n                    buildExcel(bodyNode,workbook,sheet);\r\n                } catch (IOException | InvalidFormatException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n    \r\n            try {\r\n    \r\n                File report= new File(fileName);\r\n                FileOutputStream fileOut = null;\r\n                if (hydrationReport.getParentFile().mkdir()) {\r\n                    fileOut = new FileOutputStream(hydrationReport);\r\n                    workbook.write(fileOut);\r\n                }else if(Files.exists(Path.of(hydrationReport.getParent()))){\r\n                    fileOut = new FileOutputStream(hydrationReport);\r\n                    workbook.write(fileOut);\r\n                }else {\r\n                    throw new IOException(&quot;Failed to create directory &quot; + hydrationReport.getParent());\r\n                }\r\n                fileOut.close();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\nAnd this is myy mock class, I am stuck creating it, Could someone please help\r\n\r\n    public class ExecutorImplTest {\r\n    \r\n        @InjectMocks\r\n        ExecutorImpl impl;\r\n    \r\n          \r\n    \r\n        @Test\r\n        public void vlaidateHydrationTest() throws TimeoutException, IOException, InvalidFormatException {\r\n            ///when\r\n    \r\n            HashMap&lt;String, List&lt;Object&gt;&gt; map =   impl.validateHydration(request);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"JUnit for Excel Files creation","body":"<p>I am trying a JUNIT class, which uses calls an interface in which a method '<code>generateexcelreport</code>' , builds an excel reprot based on a list of values.But when I used mockito to mock the implementation, I am getting an exception with creating a file, no w I tried using the <code>Mockito.doNothing()</code> on this method , but still Mockito calls the method and am getting the exception again.</p>\n<p>Exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.io.File.mkdir()&quot; because the return value of &quot;java.io.File.getParentFile()&quot; is null\n</code></pre>\n<p>My Method:</p>\n<pre><code>public void generateExcelReport(HashMap&lt;String, List&lt;Object&gt;&gt; hydrated) throws IOException, InvalidFormatException{\n\n        Workbook workbook = new XSSFWorkbook();\n        hydrated.entrySet().stream().forEach(key -&gt; {\n            List&lt;Object&gt; bodyNode = (List&lt;Object&gt;) key.getValue().get(0);\n\n            Sheet sheet = workbook.createSheet(key.getKey().toString());\n\n            try {\n                buildExcel(bodyNode,workbook,sheet);\n            } catch (IOException | InvalidFormatException e) {\n                e.printStackTrace();\n            }\n        });\n\n\n        try {\n\n            File report= new File(fileName);\n            FileOutputStream fileOut = null;\n            if (hydrationReport.getParentFile().mkdir()) {\n                fileOut = new FileOutputStream(hydrationReport);\n                workbook.write(fileOut);\n            }else if(Files.exists(Path.of(hydrationReport.getParent()))){\n                fileOut = new FileOutputStream(hydrationReport);\n                workbook.write(fileOut);\n            }else {\n                throw new IOException(&quot;Failed to create directory &quot; + hydrationReport.getParent());\n            }\n            fileOut.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And this is myy mock class, I am stuck creating it, Could someone please help</p>\n<pre><code>public class ExecutorImplTest {\n\n    @InjectMocks\n    ExecutorImpl impl;\n\n      \n\n    @Test\n    public void vlaidateHydrationTest() throws TimeoutException, IOException, InvalidFormatException {\n        ///when\n\n        HashMap&lt;String, List&lt;Object&gt;&gt; map =   impl.validateHydration(request);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","appium","ui-automation"],"comments":[{"owner":{"account_id":9495768,"reputation":64,"user_id":7058858,"display_name":"cport93"},"score":0,"creation_date":1676476162,"post_id":75458294,"comment_id":133145125,"body_markdown":"Can you upload your pom? Just to make sure you are setting the Java Version correctly.","body":"Can you upload your pom? Just to make sure you are setting the Java Version correctly."}],"owner":{"account_id":24035587,"reputation":1,"user_id":18015903,"display_name":"Raz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676456561,"creation_date":1676456255,"question_id":75458294,"body_markdown":"I&#39;m trying to run an Appium test with selenium, *PageFactory.initElements* \r\nthis Code works only on JDK Amazon corretto-1.8\r\ngetting an error on all higher JDKs. (11,15,19)  \r\n  \r\n**My actual Goal is to upgrade my Java project  level to JDK 11 or higher.**\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy8.proxyClassLookup()\r\n\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:84)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.getFilledValue(AppiumByBuilder.java:91)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.createBy(AppiumByBuilder.java:147)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.getBys(DefaultElementByBuilder.java:133)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.buildMobileNativeBy(DefaultElementByBuilder.java:175)\r\n\tat io.appium.java_client.pagefactory.DefaultElementByBuilder.buildBy(DefaultElementByBuilder.java:204)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:66)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:53)\r\n\tat io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:1)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:56)\r\n\tat io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:154)\r\n\tat org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\r\n\tat org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\r\n\tat stable.NewTest.setUp(NewTest.java:24)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy8.proxyClassLookup()\r\n\tat java.base/java.lang.Class.getMethod(Class.java:2277)\r\n\tat io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:82)\r\n\t... 35 more\r\n```\r\nHere is My Code\r\n\r\n\r\n```\r\npackage stable;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport io.appium.java_client.MobileElement;\r\nimport io.appium.java_client.pagefactory.AndroidFindBy;\r\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\r\nimport io.appium.java_client.pagefactory.iOSXCUITFindBy;\r\nimport model.util.AppiumDriverBuilder;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\npublic class NewTest {\r\n    private AppiumDriver driver;\r\n    public Po page;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        driver = new AppiumDriverBuilder().build(false, &quot;testName.getMethodName()&quot;);\r\n        page = new Po();\r\n\r\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\r\n    }\r\n\r\n    @Test\r\n    public void first() {\r\n        page.skip_button.click();\r\n    }\r\n\r\n    class Po {\r\n        @iOSXCUITFindBy(accessibility = &quot;Skip&quot;)\r\n        @AndroidFindBy(id = &quot;onboarding_skip_button&quot;)\r\n        public MobileElement skip_button;\r\n    }\r\n}\r\n```\r\n\r\nFails here: PageFactory.initElements(new AppiumFieldDecorator(driver), page);  \r\n  \r\nI&#39;m using   \r\nAppium java client 7.4  \r\nmaven-surefire-plugin 3.0.05M  \r\nJunit  5.4.2 ","title":"Appium PageFactory.initElements throws java.lang.NoSuchMethodException: jdk.proxy2.$Proxy8.proxyClassLookup() , on JDK Higher than 8","body":"<p>I'm trying to run an Appium test with selenium, <em>PageFactory.initElements</em>\nthis Code works only on JDK Amazon corretto-1.8\ngetting an error on all higher JDKs. (11,15,19)</p>\n<p><strong>My actual Goal is to upgrade my Java project  level to JDK 11 or higher.</strong></p>\n<pre><code>java.lang.RuntimeException: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy8.proxyClassLookup()\n\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:84)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.getFilledValue(AppiumByBuilder.java:91)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.createBy(AppiumByBuilder.java:147)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.getBys(DefaultElementByBuilder.java:133)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.buildMobileNativeBy(DefaultElementByBuilder.java:175)\n    at io.appium.java_client.pagefactory.DefaultElementByBuilder.buildBy(DefaultElementByBuilder.java:204)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:66)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:53)\n    at io.appium.java_client.pagefactory.AppiumElementLocatorFactory.createLocator(AppiumElementLocatorFactory.java:1)\n    at org.openqa.selenium.support.pagefactory.DefaultFieldDecorator.decorate(DefaultFieldDecorator.java:56)\n    at io.appium.java_client.pagefactory.AppiumFieldDecorator.decorate(AppiumFieldDecorator.java:154)\n    at org.openqa.selenium.support.PageFactory.proxyFields(PageFactory.java:113)\n    at org.openqa.selenium.support.PageFactory.initElements(PageFactory.java:105)\n    at stable.NewTest.setUp(NewTest.java:24)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.NoSuchMethodException: jdk.proxy2.$Proxy8.proxyClassLookup()\n    at java.base/java.lang.Class.getMethod(Class.java:2277)\n    at io.appium.java_client.pagefactory.bys.builder.AppiumByBuilder.prepareAnnotationMethods(AppiumByBuilder.java:82)\n    ... 35 more\n</code></pre>\n<p>Here is My Code</p>\n<pre><code>package stable;\n\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.pagefactory.AndroidFindBy;\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\nimport io.appium.java_client.pagefactory.iOSXCUITFindBy;\nimport model.util.AppiumDriverBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.support.PageFactory;\n\npublic class NewTest {\n    private AppiumDriver driver;\n    public Po page;\n\n    @Before\n    public void setUp() throws Exception {\n        driver = new AppiumDriverBuilder().build(false, &quot;testName.getMethodName()&quot;);\n        page = new Po();\n\n        PageFactory.initElements(new AppiumFieldDecorator(driver), page);\n    }\n\n    @Test\n    public void first() {\n        page.skip_button.click();\n    }\n\n    class Po {\n        @iOSXCUITFindBy(accessibility = &quot;Skip&quot;)\n        @AndroidFindBy(id = &quot;onboarding_skip_button&quot;)\n        public MobileElement skip_button;\n    }\n}\n</code></pre>\n<p>Fails here: PageFactory.initElements(new AppiumFieldDecorator(driver), page);</p>\n<p>I'm using<br />\nAppium java client 7.4<br />\nmaven-surefire-plugin 3.0.05M<br />\nJunit  5.4.2</p>\n"},{"tags":["java","jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1676456374,"creation_date":1599240501,"answer_id":63745624,"question_id":63743774,"body_markdown":"[`CriteriaBuilder#createQuery(Class&lt;T&gt; resultClass)`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#createQuery-java.lang.Class-) creates [`CriteriaQuery&lt;T&gt;`](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html),\r\n&lt;br&gt;and&lt;br&gt;\r\n[`EntityManager#createQuery(CriteriaQuery&lt;T&gt; criteriaQuery)`](https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#createQuery-javax.persistence.criteria.CriteriaQuery-) creates [`TypedQuery&lt;T&gt;`](https://docs.oracle.com/javaee/7/api/javax/persistence/TypedQuery.html).\r\n\r\nTL;DR:\r\n-\r\nThese two types are not necessarily alternatives of each other, they rather serve a little different purposes:\r\n\r\n`TypedQuery&lt;T&gt;` is used to avoid casting to the target type and `CriteriaQuery&lt;T&gt;` is used to define queries programmatically (instead of writing them manually). You can even use both in conjunction and I will show you - how.\r\n\r\n---\r\n\r\nNow, let&#39;s see this in a bit more details.\r\n\r\n`TypedQuery&lt;T&gt;`\r\n--\r\nJPA represents queries with either `Query`, `TypedQuery&lt;T&gt;` or `StoredProcedureQuery` instances (all from `javax.persistence` package, and latter two extend `Query`).\r\n\r\nA simple example of using `Query` would look like this:\r\n```java\r\n//you write/create query\r\nQuery query = em.createQuery(&quot;your select query..&quot;);\r\n\r\n//you get Object instance, so cast to target type is needed\r\nSomeType result = (SomeType) query.getSingleResult();\r\n\r\n//you get raw List instance, again - cast to target type is needed\r\nList&lt;SomeType&gt; resultList = (List&lt;SomeType&gt;) query.getResultList();\r\n```\r\nNote, that `Query` API methods return either `Object` or a raw type (without specialized type) `List` instances, which you have to cast to your expected/target type.\r\n\r\n`TypedQuery&lt;T&gt;`, on the other hand, differs from `Query` in a way, that you provide the class of your expected/target return value (i.e. generic type argument) when creating the query, and you thereby skip the casting part, like this:\r\n\r\n```java\r\n//you still write query, but here you create typed-query object\r\nTypedQuery&lt;SomeType&gt; typedQuery = em.createQuery(&quot;your select query..&quot;);\r\n\r\n//no cast needed\r\nSomeType result = typedQuery.getSingleResult();\r\n\r\n//no cast needed\r\nList&lt;SomeType&gt; result = typedQuery.getResultList();\r\n```\r\n**Important** point here is, that in all these cases, *you have to write HQL or JPQL query manually* in order to construct corresponding `Query` instance, on which, you will, afterwards, invoke corresponding method(s).\r\n\r\n`CriteriaQuery&lt;T&gt;`\r\n--\r\n`CriteriaQuery&lt;T&gt;` is also query, so it is _conceptually_ same thing as `Query` (*you build the Query against database, and you want to use that query in order to get data from/to database*), but its main purpose is to provide a *programmatic* and *type-safe* way for defining a platform-independent queries.\r\n\r\nJPA Specification 2.2 [states](https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf), that:\r\n&gt; The JPA Criteria API is used to define queries through the construction of object-based query definition objects, rather than use of the string-based approach of the Java Persistence query language.\r\n\r\n\r\nSo, instead of manually writing HQL/JPQL queries, you construct the query programmatically, like this:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;SomeType&gt; cq = cb.createQuery(SomeType.class);\r\n    Root&lt;SomeType&gt; root = cq.from(SomeType.class);\r\n\r\n    //programmatically adding criterias and/or some filter clauses to your query\r\n    cq.select(root);\r\n    cq.orderBy(cb.desc(root.get(&quot;id&quot;)));\r\n\r\n    //passing cq to entityManager or session object\r\n    TypedQuery&lt;SomeType&gt; typedQuery = entityManager.createQuery(cq);\r\n    List&lt;SomeType&gt; list =  typedQuery.getResultList();\r\n\r\n---\r\n\r\nAnswering your final question - **which methods hits the database?**:\r\n\r\nIn all above cases, actual query hits the database when you invoke methods of `Query` (or its child) objects. In our examples, these are:\r\n\r\n    query.getSingleResult();\r\n    query.getResultList();\r\n    typedQuery.getSingleResult();\r\n    typedQuery.getResultList();\r\n\r\nRemember two steps:\r\n\r\n1. You define/construct the query object (either with `HQL`, `JPQL` or `CriteriaQuery&lt;T&gt;`);\r\n2. You invoke the API methods on that object, which actually query the database.","title":"What is the difference between CriteriaBuilder.createQuery and EntityManager.createQuery?","body":"<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#createQuery-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder#createQuery(Class&lt;T&gt; resultClass)</code></a> creates <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html\" rel=\"nofollow noreferrer\"><code>CriteriaQuery&lt;T&gt;</code></a>,\n<br>and<br>\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#createQuery-javax.persistence.criteria.CriteriaQuery-\" rel=\"nofollow noreferrer\"><code>EntityManager#createQuery(CriteriaQuery&lt;T&gt; criteriaQuery)</code></a> creates <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/TypedQuery.html\" rel=\"nofollow noreferrer\"><code>TypedQuery&lt;T&gt;</code></a>.</p>\n<h2>TL;DR:</h2>\n<p>These two types are not necessarily alternatives of each other, they rather serve a little different purposes:</p>\n<p><code>TypedQuery&lt;T&gt;</code> is used to avoid casting to the target type and <code>CriteriaQuery&lt;T&gt;</code> is used to define queries programmatically (instead of writing them manually). You can even use both in conjunction and I will show you - how.</p>\n<hr />\n<p>Now, let's see this in a bit more details.</p>\n<h2><code>TypedQuery&lt;T&gt;</code></h2>\n<p>JPA represents queries with either <code>Query</code>, <code>TypedQuery&lt;T&gt;</code> or <code>StoredProcedureQuery</code> instances (all from <code>javax.persistence</code> package, and latter two extend <code>Query</code>).</p>\n<p>A simple example of using <code>Query</code> would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//you write/create query\nQuery query = em.createQuery(&quot;your select query..&quot;);\n\n//you get Object instance, so cast to target type is needed\nSomeType result = (SomeType) query.getSingleResult();\n\n//you get raw List instance, again - cast to target type is needed\nList&lt;SomeType&gt; resultList = (List&lt;SomeType&gt;) query.getResultList();\n</code></pre>\n<p>Note, that <code>Query</code> API methods return either <code>Object</code> or a raw type (without specialized type) <code>List</code> instances, which you have to cast to your expected/target type.</p>\n<p><code>TypedQuery&lt;T&gt;</code>, on the other hand, differs from <code>Query</code> in a way, that you provide the class of your expected/target return value (i.e. generic type argument) when creating the query, and you thereby skip the casting part, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//you still write query, but here you create typed-query object\nTypedQuery&lt;SomeType&gt; typedQuery = em.createQuery(&quot;your select query..&quot;);\n\n//no cast needed\nSomeType result = typedQuery.getSingleResult();\n\n//no cast needed\nList&lt;SomeType&gt; result = typedQuery.getResultList();\n</code></pre>\n<p><strong>Important</strong> point here is, that in all these cases, <em>you have to write HQL or JPQL query manually</em> in order to construct corresponding <code>Query</code> instance, on which, you will, afterwards, invoke corresponding method(s).</p>\n<h2><code>CriteriaQuery&lt;T&gt;</code></h2>\n<p><code>CriteriaQuery&lt;T&gt;</code> is also query, so it is <em>conceptually</em> same thing as <code>Query</code> (<em>you build the Query against database, and you want to use that query in order to get data from/to database</em>), but its main purpose is to provide a <em>programmatic</em> and <em>type-safe</em> way for defining a platform-independent queries.</p>\n<p>JPA Specification 2.2 <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-spec/JavaPersistence.pdf\" rel=\"nofollow noreferrer\">states</a>, that:</p>\n<blockquote>\n<p>The JPA Criteria API is used to define queries through the construction of object-based query definition objects, rather than use of the string-based approach of the Java Persistence query language.</p>\n</blockquote>\n<p>So, instead of manually writing HQL/JPQL queries, you construct the query programmatically, like this:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;SomeType&gt; cq = cb.createQuery(SomeType.class);\nRoot&lt;SomeType&gt; root = cq.from(SomeType.class);\n\n//programmatically adding criterias and/or some filter clauses to your query\ncq.select(root);\ncq.orderBy(cb.desc(root.get(&quot;id&quot;)));\n\n//passing cq to entityManager or session object\nTypedQuery&lt;SomeType&gt; typedQuery = entityManager.createQuery(cq);\nList&lt;SomeType&gt; list =  typedQuery.getResultList();\n</code></pre>\n<hr />\n<p>Answering your final question - <strong>which methods hits the database?</strong>:</p>\n<p>In all above cases, actual query hits the database when you invoke methods of <code>Query</code> (or its child) objects. In our examples, these are:</p>\n<pre><code>query.getSingleResult();\nquery.getResultList();\ntypedQuery.getSingleResult();\ntypedQuery.getResultList();\n</code></pre>\n<p>Remember two steps:</p>\n<ol>\n<li>You define/construct the query object (either with <code>HQL</code>, <code>JPQL</code> or <code>CriteriaQuery&lt;T&gt;</code>);</li>\n<li>You invoke the API methods on that object, which actually query the database.</li>\n</ol>\n"}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5909,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63745624,"answer_count":1,"score":3,"last_activity_date":1676456374,"creation_date":1599232211,"question_id":63743774,"body_markdown":"Let&#39;s say I have the code, like:\r\n\r\n    EntityManager em = ...;\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Pet&gt; cq = cb.createQuery(Pet.class);\r\n    Root&lt;Pet&gt; pet = cq.from(Pet.class);\r\n    cq.select(pet);\r\n    TypedQuery&lt;Pet&gt; q = em.createQuery(cq);\r\n    List&lt;Pet&gt; allPets = q.getResultList();\r\n\r\nCan some please explain why we are using two `createQuery()` methods and what is the difference between them?","title":"What is the difference between CriteriaBuilder.createQuery and EntityManager.createQuery?","body":"<p>Let's say I have the code, like:</p>\n<pre><code>EntityManager em = ...;\nCriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Pet&gt; cq = cb.createQuery(Pet.class);\nRoot&lt;Pet&gt; pet = cq.from(Pet.class);\ncq.select(pet);\nTypedQuery&lt;Pet&gt; q = em.createQuery(cq);\nList&lt;Pet&gt; allPets = q.getResultList();\n</code></pre>\n<p>Can some please explain why we are using two <code>createQuery()</code> methods and what is the difference between them?</p>\n"},{"tags":["java","crash","apache-poi","jvm-crash"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1676450908,"post_id":75457277,"comment_id":133137183,"body_markdown":"You should report it at http://bugreport.java.com/bugreport/crash.jsp as the message mentioned","body":"You should report it at <a href=\"http://bugreport.java.com/bugreport/crash.jsp\" rel=\"nofollow noreferrer\">bugreport.java.com/bugreport/crash.jsp</a> as the message mentioned"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676452260,"post_id":75457277,"comment_id":133137549,"body_markdown":"Actually ... it will most likely be closed as a duplicate or &quot;won&#39;t fix&quot;.","body":"Actually ... it will most likely be closed as a duplicate or &quot;won&#39;t fix&quot;."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1676454474,"post_id":75457277,"comment_id":133138144,"body_markdown":"[Apache POI 3.12 was released in 2015](https://poi.apache.org/devel/history/changes-3x.html#3.12), Java 8 in 2014 and is EOL. What happens if you upgrade to something vaguely recent and still supported?","body":"<a href=\"https://poi.apache.org/devel/history/changes-3x.html#3.12\" rel=\"nofollow noreferrer\">Apache POI 3.12 was released in 2015</a>, Java 8 in 2014 and is EOL. What happens if you upgrade to something vaguely recent and still supported?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676455581,"creation_date":1676452216,"answer_id":75457538,"question_id":75457277,"body_markdown":"I don&#39;t know if there is any solution in Java 8 other the one you have already mentioned; i.e. disabling memory mapping.\r\n\r\nHowever if you look at the various JDK bug reports for native code crashes in `getEntry`, they are marked as &quot;resolved in Java 9&quot;.  So upgrading to Java 11 is a possible solution.\r\n\r\nIn Java 9 they have replaced the native implementation of `ZipFile` with a pure Java implementation.\r\n\r\nFor reference, here are some of related Java bug reports against Java 8 and earlier versions:\r\n\r\n  - https://bugs.openjdk.org/browse/JDK-8142508\r\n  - https://bugs.openjdk.org/browse/JDK-8144958\r\n  - https://bugs.openjdk.org/browse/JDK-8145260\r\n  - https://bugs.openjdk.org/browse/JDK-7142247\r\n\r\n","title":"JVM crashing while writing to Excel file(POI) with Java 8","body":"<p>I don't know if there is any solution in Java 8 other the one you have already mentioned; i.e. disabling memory mapping.</p>\n<p>However if you look at the various JDK bug reports for native code crashes in <code>getEntry</code>, they are marked as &quot;resolved in Java 9&quot;.  So upgrading to Java 11 is a possible solution.</p>\n<p>In Java 9 they have replaced the native implementation of <code>ZipFile</code> with a pure Java implementation.</p>\n<p>For reference, here are some of related Java bug reports against Java 8 and earlier versions:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8142508\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8142508</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8144958\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8144958</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8145260\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8145260</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-7142247\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-7142247</a></li>\n</ul>\n"}],"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676455581,"creation_date":1676450772,"question_id":75457277,"body_markdown":"I am getting JVM crash issue frequently while trying to write to the Excel file.I am using Apache POI 3.12 and Java 8 and Tomcat Server.\r\nI get the following hs_err_pid error:\r\n\r\n        #\r\n        # A fatal error has been detected by the Java Runtime Environment:\r\n        #\r\n        #  SIGBUS (0x7) at pc=0x00007f16e02d1ec0, pid=1135, tid=0x00007f1595ef8700\r\n        #\r\n        # JRE version: OpenJDK Runtime Environment (8.0_352-b08) (build 1.8.0_352-8u352-ga-1~18.04-b08)\r\n        # Java VM: OpenJDK 64-Bit Server VM (25.352-b08 mixed mode linux-amd64 compressed oops)\r\n        # Problematic frame:\r\n        # C  [libzip.so+0x4ec0]\r\n        #\r\n        # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n        #\r\n        # If you would like to submit a bug report, please visit:\r\n        #   http://bugreport.java.com/bugreport/crash.jsp\r\n        # The crash happened outside the Java Virtual Machine in native code.\r\n        # See problematic frame for where to report the bug.\r\n    \r\n    ------\r\n    Stack: [0x00007f1595df8000,0x00007f1595ef9000],  sp=0x00007f1595ef5900,  free space=1014k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  [libzip.so+0x4ec0]\r\n    C  [libzip.so+0x5b6e]\r\n    C  [libzip.so+0x3b25]  Java_java_util_zip_ZipFile_getEntry+0x85\r\n    J 91  java.util.zip.ZipFile.getEntry(J[BZ)J (0 bytes) @ 0x00007f16cd13ea8e [0x00007f16cd13e9c0+0xce]\r\n    J 123871 C2 java.util.zip.ZipFile.getInputStream(Ljava/util/zip/ZipEntry;)Ljava/io/InputStream; (304 bytes) @ 0x00007f16d6716944 [0x00007f16d67165c0+0x384]\r\n    J 124037 C2 org.apache.poi.openxml4j.opc.PackagePart.getInputStream()Ljava/io/InputStream; (44 bytes) @ 0x00007f16cda4bd00 [0x00007f16cda4bc60+0xa0]\r\n    J 103326 C1 org.apache.poi.POIXMLProperties.&lt;init&gt;(Lorg/apache/poi/openxml4j/opc/OPCPackage;)V (212 bytes) @ 0x00007f16d6af7374 [0x00007f16d6af6300+0x1074]\r\n    J 100022 C1 org.apache.poi.POIXMLDocument.getProperties()Lorg/apache/poi/POIXMLProperties; (40 bytes) @ 0x00007f16cd79ddfc [0x00007f16cd79dce0+0x11c]\r\n    J 67174 C1 org.apache.poi.POIXMLDocument.write(Ljava/io/OutputStream;)V (35 bytes) @ 0x00007f16cd89404c [0x00007f16cd893a80+0x5cc]\r\n    J 65014 C1 com.bulk.helper.ExcelUtility.saveWorkBook(Lorg/apache/poi/ss/usermodel/Workbook;Ljava/lang/String;Ljava/lang/String;)V (89 bytes) @ 0x00007f16cd543754 [0x00007f16cd542ea0+0x8b4]\r\n    J 71211 C1 com.bulk.helper.ExcelAccess.save_userfile(Ljava/lang/String;Ljava/lang/String;)V (14 bytes) @ 0x00007f16ce6e46ec [0x00007f16ce6e4640+0xac]\r\n    J 93237 C1\r\n\r\nThe following is the code:\r\n\r\n    Calling class:\r\n    accessFile.save_newFile(---);\r\n    \r\n    Common Method Class:\r\n    \r\n    \t@Override\r\n\t    public void save_userfile(String filePath , String fileName) {\r\n\t\t   utility.saveWorkBook(userWorkbook,filePath,fileName);\r\n\t    }\r\n    \r\n    \tpublic void saveWorkBook(Workbook workbook ,String filePath, String fileName){\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFile directory = new File(filePath);\r\n    \t\t\tif (!directory.exists()) {\r\n    \t\t\t\tdirectory.mkdir();\r\n    \t\t\t}\r\n    \t\t\tFile file = new File(directory,fileName);\r\n    \t\t\tOutputStream out = new FileOutputStream(file);\r\n    \t\t\tworkbook.write(out);\r\n    \t\t\tout.flush();\r\n    \t\t\tout.close();\r\n    \t\t\tworkbook.close();\r\n    \t\t\t\r\n    \t\t}catch(Exception e){\r\n    \t\t\tLOG.error(Constants.ERROR_STRING,e);\r\n    \t\t}\r\n    \t}\r\n\r\nI am aware of the solution of putting &quot;-Dsun.zip.disableMemoryMapping=true&quot; parameter. \r\n\r\nEnabling this option will impact performance because the VM will have to conduct some additional disk IO every time it reads an entry from a JAR file (to interrogate the central directory structure).\r\n\r\nWant to solve this issue programmatically in java 8 itself.\r\n\r\nAny help will be appreciated,Thanks in advance..\r\n\r\n\r\n","title":"JVM crashing while writing to Excel file(POI) with Java 8","body":"<p>I am getting JVM crash issue frequently while trying to write to the Excel file.I am using Apache POI 3.12 and Java 8 and Tomcat Server.\nI get the following hs_err_pid error:</p>\n<pre><code>    #\n    # A fatal error has been detected by the Java Runtime Environment:\n    #\n    #  SIGBUS (0x7) at pc=0x00007f16e02d1ec0, pid=1135, tid=0x00007f1595ef8700\n    #\n    # JRE version: OpenJDK Runtime Environment (8.0_352-b08) (build 1.8.0_352-8u352-ga-1~18.04-b08)\n    # Java VM: OpenJDK 64-Bit Server VM (25.352-b08 mixed mode linux-amd64 compressed oops)\n    # Problematic frame:\n    # C  [libzip.so+0x4ec0]\n    #\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n    #\n    # If you would like to submit a bug report, please visit:\n    #   http://bugreport.java.com/bugreport/crash.jsp\n    # The crash happened outside the Java Virtual Machine in native code.\n    # See problematic frame for where to report the bug.\n\n------\nStack: [0x00007f1595df8000,0x00007f1595ef9000],  sp=0x00007f1595ef5900,  free space=1014k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libzip.so+0x4ec0]\nC  [libzip.so+0x5b6e]\nC  [libzip.so+0x3b25]  Java_java_util_zip_ZipFile_getEntry+0x85\nJ 91  java.util.zip.ZipFile.getEntry(J[BZ)J (0 bytes) @ 0x00007f16cd13ea8e [0x00007f16cd13e9c0+0xce]\nJ 123871 C2 java.util.zip.ZipFile.getInputStream(Ljava/util/zip/ZipEntry;)Ljava/io/InputStream; (304 bytes) @ 0x00007f16d6716944 [0x00007f16d67165c0+0x384]\nJ 124037 C2 org.apache.poi.openxml4j.opc.PackagePart.getInputStream()Ljava/io/InputStream; (44 bytes) @ 0x00007f16cda4bd00 [0x00007f16cda4bc60+0xa0]\nJ 103326 C1 org.apache.poi.POIXMLProperties.&lt;init&gt;(Lorg/apache/poi/openxml4j/opc/OPCPackage;)V (212 bytes) @ 0x00007f16d6af7374 [0x00007f16d6af6300+0x1074]\nJ 100022 C1 org.apache.poi.POIXMLDocument.getProperties()Lorg/apache/poi/POIXMLProperties; (40 bytes) @ 0x00007f16cd79ddfc [0x00007f16cd79dce0+0x11c]\nJ 67174 C1 org.apache.poi.POIXMLDocument.write(Ljava/io/OutputStream;)V (35 bytes) @ 0x00007f16cd89404c [0x00007f16cd893a80+0x5cc]\nJ 65014 C1 com.bulk.helper.ExcelUtility.saveWorkBook(Lorg/apache/poi/ss/usermodel/Workbook;Ljava/lang/String;Ljava/lang/String;)V (89 bytes) @ 0x00007f16cd543754 [0x00007f16cd542ea0+0x8b4]\nJ 71211 C1 com.bulk.helper.ExcelAccess.save_userfile(Ljava/lang/String;Ljava/lang/String;)V (14 bytes) @ 0x00007f16ce6e46ec [0x00007f16ce6e4640+0xac]\nJ 93237 C1\n</code></pre>\n<p>The following is the code:</p>\n<pre><code>Calling class:\naccessFile.save_newFile(---);\n\nCommon Method Class:\n\n    @Override\n    public void save_userfile(String filePath , String fileName) {\n       utility.saveWorkBook(userWorkbook,filePath,fileName);\n    }\n\n    public void saveWorkBook(Workbook workbook ,String filePath, String fileName){\n        try\n        {\n            File directory = new File(filePath);\n            if (!directory.exists()) {\n                directory.mkdir();\n            }\n            File file = new File(directory,fileName);\n            OutputStream out = new FileOutputStream(file);\n            workbook.write(out);\n            out.flush();\n            out.close();\n            workbook.close();\n            \n        }catch(Exception e){\n            LOG.error(Constants.ERROR_STRING,e);\n        }\n    }\n</code></pre>\n<p>I am aware of the solution of putting &quot;-Dsun.zip.disableMemoryMapping=true&quot; parameter.</p>\n<p>Enabling this option will impact performance because the VM will have to conduct some additional disk IO every time it reads an entry from a JAR file (to interrogate the central directory structure).</p>\n<p>Want to solve this issue programmatically in java 8 itself.</p>\n<p>Any help will be appreciated,Thanks in advance..</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":15,"creation_date":1348397461,"post_id":12551674,"comment_id":16904305,"body_markdown":"How about reading the next sentence in the link you gave: &quot;The declaration Collection&lt;String&gt; denotes a parameterized type, which is an instantiation of the generic type Collection ,  where the place holder E has been replaced by the concrete type String&quot;?","body":"How about reading the next sentence in the link you gave: &quot;The declaration Collection&lt;String&gt; denotes a parameterized type, which is an instantiation of the generic type Collection ,  where the place holder E has been replaced by the concrete type String&quot;?"},{"owner":{"account_id":241880,"reputation":6756,"user_id":512994,"accept_rate":96,"display_name":"wulfgarpro"},"score":0,"creation_date":1348397531,"post_id":12551674,"comment_id":16904322,"body_markdown":"@JBNizet, Yes, my confusion stems from the instantiation type `LinkedList&lt;String&gt;`. Your comment below clarifies it for me.","body":"@JBNizet, Yes, my confusion stems from the instantiation type <code>LinkedList&lt;String&gt;</code>. Your comment below clarifies it for me."}],"answers":[{"comments":[{"owner":{"account_id":3286247,"reputation":747,"user_id":2765703,"accept_rate":44,"display_name":"Kallaste"},"score":0,"creation_date":1554695969,"post_id":12551716,"comment_id":97831338,"body_markdown":"I think the name derives from the fact that they are types which have been *given* concrete parameters, i.e., type definitions. These parameters are what distinguish them from *generic* types.","body":"I think the name derives from the fact that they are types which have been <i>given</i> concrete parameters, i.e., type definitions. These parameters are what distinguish them from <i>generic</i> types."}],"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1348398493,"creation_date":1348397543,"answer_id":12551716,"question_id":12551674,"body_markdown":"They are both parameterized types: types that take other types as parameters.\r\n\r\nThe fact that you have different types on the two sides of the expression is irrelevant, and has to do with polymorphic behavior i.e. because `LinkedList` is a subtype of `Collection`.","title":"What is meant by parameterized type?","body":"<p>They are both parameterized types: types that take other types as parameters.</p>\n\n<p>The fact that you have different types on the two sides of the expression is irrelevant, and has to do with polymorphic behavior i.e. because <code>LinkedList</code> is a subtype of <code>Collection</code>.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348397574,"creation_date":1348397574,"answer_id":12551719,"question_id":12551674,"body_markdown":"Both uses of collection\r\n\r\n    Collection&lt;String&gt; \r\n    LinkedList&lt;String&gt;\r\n\r\nare parameterized types here with `String` being the type used.","title":"What is meant by parameterized type?","body":"<p>Both uses of collection</p>\n\n<pre><code>Collection&lt;String&gt; \nLinkedList&lt;String&gt;\n</code></pre>\n\n<p>are parameterized types here with <code>String</code> being the type used.</p>\n"},{"comments":[{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1477541405,"post_id":12551723,"comment_id":67810985,"body_markdown":"if you have a &lt;T&gt; where T is String, then you can pass all subclasses of T, correct?","body":"if you have a &lt;T&gt; where T is String, then you can pass all subclasses of T, correct?"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1477548199,"post_id":12551723,"comment_id":67813181,"body_markdown":"Almost correct. Except the fact that String is final class and cannot be extended.","body":"Almost correct. Except the fact that String is final class and cannot be extended."},{"owner":{"account_id":7988138,"reputation":734,"user_id":6026863,"accept_rate":55,"display_name":"Harvey Lin"},"score":0,"creation_date":1480448895,"post_id":12551723,"comment_id":68964150,"body_markdown":"So basically any generic types are Parameterized types, right?","body":"So basically any generic types are Parameterized types, right?"},{"owner":{"account_id":12864158,"reputation":611,"user_id":9304999,"display_name":"rosshjb"},"score":0,"creation_date":1639075450,"post_id":12551723,"comment_id":124262487,"body_markdown":"The generic type is a type that takes other type arguments into type parameters. Generic class itself is a generic type, but generic type isnt complete in that we cannot declare a variable generic type. Parameterized type is built from generic type when we give type arguments to generic type. So they are different. Note: raw types are also parameterized type, which is instantiated with Object type type arguments.","body":"The generic type is a type that takes other type arguments into type parameters. Generic class itself is a generic type, but generic type isnt complete in that we cannot declare a variable generic type. Parameterized type is built from generic type when we give type arguments to generic type. So they are different. Note: raw types are also parameterized type, which is instantiated with Object type type arguments."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":4,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1466136882,"creation_date":1348397609,"answer_id":12551723,"question_id":12551674,"body_markdown":"Parameterized type generally is a class that deals with other object without interesting what type is it. The type may be defined using symbolic &quot;name&quot; and then passed when instance of class is created.\r\n\r\nFor example:\r\n\r\n    class MyClass&lt;T&gt; {\r\n        private T obj;\r\n        public MyClass&lt;T&gt;(T obj) {\r\n            this.obj = obj;\r\n        }\r\n        public int getId() {\r\n            return obj.hashCode();\r\n        }\r\n    }\r\n\r\n\r\nIn example above `MyClass` wraps object of any type and executes its method `hashCode()` using the fact that this method always exists.\r\n\r\nHere is how this class is used:\r\n\r\n`int sid = new MyClass&lt;String&gt;(&quot;aaaa&quot;).hashCode();`\r\n\r\nPlease pay attention that you cannot say  `new MyClass&lt;String&gt;(123)`: the fact that object is created with parameter `String` dictates the type of constructor argument.\r\n\r\nComing back to your example `Collection&lt;String&gt;` means &quot;collection of strings&quot;. This means that you cannot add object of other type to this collection. \r\n\r\n\r\n","title":"What is meant by parameterized type?","body":"<p>Parameterized type generally is a class that deals with other object without interesting what type is it. The type may be defined using symbolic \"name\" and then passed when instance of class is created.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyClass&lt;T&gt; {\n    private T obj;\n    public MyClass&lt;T&gt;(T obj) {\n        this.obj = obj;\n    }\n    public int getId() {\n        return obj.hashCode();\n    }\n}\n</code></pre>\n\n<p>In example above <code>MyClass</code> wraps object of any type and executes its method <code>hashCode()</code> using the fact that this method always exists.</p>\n\n<p>Here is how this class is used:</p>\n\n<p><code>int sid = new MyClass&lt;String&gt;(\"aaaa\").hashCode();</code></p>\n\n<p>Please pay attention that you cannot say  <code>new MyClass&lt;String&gt;(123)</code>: the fact that object is created with parameter <code>String</code> dictates the type of constructor argument.</p>\n\n<p>Coming back to your example <code>Collection&lt;String&gt;</code> means \"collection of strings\". This means that you cannot add object of other type to this collection. </p>\n"},{"tags":[],"owner":{"account_id":8144265,"reputation":7,"user_id":6133372,"display_name":"sujit shelar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461829876,"creation_date":1461829876,"answer_id":36908490,"question_id":12551674,"body_markdown":"ParameterizedType represents a parameterized type such as Collection&lt;String&gt;.\r\n\r\nA parameterized type is created the first time it is needed by a reflective method, as specified in this package. When a parameterized type p is created, the generic type declaration that p instantiates is resolved, and all type arguments of p are created recursively. See TypeVariable for details on the creation process for type variables. Repeated creation of a parameterized type has no effect.\r\n\r\nInstances of classes that implement this interface must implement an equals() method that equates any two instances that share the same generic type declaration and have equal type parameters.","title":"What is meant by parameterized type?","body":"<p>ParameterizedType represents a parameterized type such as Collection.</p>\n\n<p>A parameterized type is created the first time it is needed by a reflective method, as specified in this package. When a parameterized type p is created, the generic type declaration that p instantiates is resolved, and all type arguments of p are created recursively. See TypeVariable for details on the creation process for type variables. Repeated creation of a parameterized type has no effect.</p>\n\n<p>Instances of classes that implement this interface must implement an equals() method that equates any two instances that share the same generic type declaration and have equal type parameters.</p>\n"},{"comments":[{"owner":{"account_id":12864158,"reputation":611,"user_id":9304999,"display_name":"rosshjb"},"score":1,"creation_date":1639075732,"post_id":40230992,"comment_id":124262586,"body_markdown":"They are different. Generic types and parameterized types are not same: *A parameterized type is a class or interface type of the form C&lt;T1,...,Tn&gt;, where C is the name of a generic type and &lt;T1,...,Tn&gt; is a list of type arguments that denote a particular parameterization of the generic type.*","body":"They are different. Generic types and parameterized types are not same: <i>A parameterized type is a class or interface type of the form C&lt;T1,...,Tn&gt;, where C is the name of a generic type and &lt;T1,...,Tn&gt; is a list of type arguments that denote a particular parameterization of the generic type.</i>"},{"owner":{"account_id":9508774,"reputation":107,"user_id":7067337,"display_name":"Roy Alilin"},"score":1,"creation_date":1639236387,"post_id":40230992,"comment_id":124299468,"body_markdown":"@rosshjb yes you&#39;re right they&#39;re different. But the term definitions are correct. A generic type is a class or interface that declares type parameter/s in their definition while a parameterized type is the usage of a generic type (type parameter/s are replaced with actual type argument/s, though an actual type argument type can be a type parameter).","body":"@rosshjb yes you&#39;re right they&#39;re different. But the term definitions are correct. A generic type is a class or interface that declares type parameter/s in their definition while a parameterized type is the usage of a generic type (type parameter/s are replaced with actual type argument/s, though an actual type argument type can be a type parameter)."},{"owner":{"account_id":9508774,"reputation":107,"user_id":7067337,"display_name":"Roy Alilin"},"score":0,"creation_date":1640840943,"post_id":40230992,"comment_id":124672008,"body_markdown":"I wrote an article about Java generic rules. It may help deepen understanding of Java generics. This is the link: https://medium.com/@royalilin/java-generics-rules-1d05de86e9cb","body":"I wrote an article about Java generic rules. It may help deepen understanding of Java generics. This is the link: <a href=\"https://medium.com/@royalilin/java-generics-rules-1d05de86e9cb\" rel=\"nofollow noreferrer\">medium.com/@royalilin/java-generics-rules-1d05de86e9cb</a>"}],"tags":[],"owner":{"account_id":9508774,"reputation":107,"user_id":7067337,"display_name":"Roy Alilin"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1477370092,"creation_date":1477366840,"answer_id":40230992,"question_id":12551674,"body_markdown":"It seems generic type and parameterized type are synonymous.  But it seems not right to call for example `Box&lt;Integer&gt;` a generic type since in the sense of the word not generic anymore. So probably:\r\n\r\nA generic type is the declaration with formal type parameter/s\r\n\r\n    class Box&lt;T&gt; { .. }\r\n\r\n`Box&lt;T&gt;` is a generic type\r\n\r\n\r\nA parameterized type is the declaration with actual type argument/s\r\n\r\n    Box&lt;Integer&gt; b;        \r\n`Box&lt;Integer&gt;` is a parameterized type\r\n\r\nA raw type is the declaration of a generic type with no actual type argument/s.\r\n\r\n    class Box&lt;T&gt; { .. }\r\n    Box b;\r\n`Box` is a raw type","title":"What is meant by parameterized type?","body":"<p>It seems generic type and parameterized type are synonymous.  But it seems not right to call for example <code>Box&lt;Integer&gt;</code> a generic type since in the sense of the word not generic anymore. So probably:</p>\n\n<p>A generic type is the declaration with formal type parameter/s</p>\n\n<pre><code>class Box&lt;T&gt; { .. }\n</code></pre>\n\n<p><code>Box&lt;T&gt;</code> is a generic type</p>\n\n<p>A parameterized type is the declaration with actual type argument/s</p>\n\n<pre><code>Box&lt;Integer&gt; b;        \n</code></pre>\n\n<p><code>Box&lt;Integer&gt;</code> is a parameterized type</p>\n\n<p>A raw type is the declaration of a generic type with no actual type argument/s.</p>\n\n<pre><code>class Box&lt;T&gt; { .. }\nBox b;\n</code></pre>\n\n<p><code>Box</code> is a raw type</p>\n"},{"tags":[],"owner":{"account_id":3199351,"reputation":89,"user_id":2701740,"display_name":"Al W"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608307304,"creation_date":1608305131,"answer_id":65359643,"question_id":12551674,"body_markdown":"Here&#39;s a quick breakdown of the nomenclature...\r\n - Type parameter: Simply the placeholder, i.e., `&quot;&lt;T&gt;&quot;`\r\n - Type argument: Is passed to the type parameter when declaring, i.e., `&quot;&lt;String&gt;&quot;`\r\n - Parameterized type (generic): Type with formal type parameter(s), i.e., `&quot;List&lt;T&gt;&quot;`\r\n - Parameterized type (concrete): Type with declared type arguments(s) as parameters, i.e., `&quot;List&lt;String&gt;&quot;`","title":"What is meant by parameterized type?","body":"<p>Here's a quick breakdown of the nomenclature...</p>\n<ul>\n<li>Type parameter: Simply the placeholder, i.e., <code>&quot;&lt;T&gt;&quot;</code></li>\n<li>Type argument: Is passed to the type parameter when declaring, i.e., <code>&quot;&lt;String&gt;&quot;</code></li>\n<li>Parameterized type (generic): Type with formal type parameter(s), i.e., <code>&quot;List&lt;T&gt;&quot;</code></li>\n<li>Parameterized type (concrete): Type with declared type arguments(s) as parameters, i.e., <code>&quot;List&lt;String&gt;&quot;</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676455431,"creation_date":1676455431,"answer_id":75458151,"question_id":12551674,"body_markdown":"Even if this is a fairly old question, I still think I can add something - especially clarification to the difference between terms &quot;generic type&quot; and &quot;parameterized type&quot;, which, in the beginning, confused me to some extent.\r\n\r\nFrom the [Java Docs Tutorial](https://docs.oracle.com/javase/tutorial/java/generics/types.html):\r\n\r\nWe call *generic type* to type definition, e.g.: `SomeType&lt;T&gt;`, and we call parameterized type to type invocation, e.g.: `SomeType&lt;SpecificType&gt;` (when we provide specific class as an argument to the type parameter).\r\n\r\nE.g. `List&lt;T&gt;` is a generic type and `List&lt;String&gt;` is a parameterized type.","title":"What is meant by parameterized type?","body":"<p>Even if this is a fairly old question, I still think I can add something - especially clarification to the difference between terms &quot;generic type&quot; and &quot;parameterized type&quot;, which, in the beginning, confused me to some extent.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">Java Docs Tutorial</a>:</p>\n<p>We call <em>generic type</em> to type definition, e.g.: <code>SomeType&lt;T&gt;</code>, and we call parameterized type to type invocation, e.g.: <code>SomeType&lt;SpecificType&gt;</code> (when we provide specific class as an argument to the type parameter).</p>\n<p>E.g. <code>List&lt;T&gt;</code> is a generic type and <code>List&lt;String&gt;</code> is a parameterized type.</p>\n"}],"owner":{"account_id":241880,"reputation":6756,"user_id":512994,"accept_rate":96,"display_name":"wulfgarpro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65398,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":12551716,"answer_count":7,"score":41,"last_activity_date":1676455431,"creation_date":1348397170,"question_id":12551674,"body_markdown":"[This](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ001) link states the following:\r\n\r\n&gt; The instantiation of a generic type with actual type arguments is called a parameterized type . \r\nExample (of a parameterized type): \r\n\r\n&gt; `Collection&lt;String&gt; coll = new LinkedList&lt;String&gt;();`\r\n\r\nSo what is the parameterized type? \r\n\r\n* `Collection&lt;String&gt;` or\r\n* `LinkedList&lt;String&gt;`","title":"What is meant by parameterized type?","body":"<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ001\" rel=\"noreferrer\">This</a> link states the following:</p>\n\n<blockquote>\n  <p>The instantiation of a generic type with actual type arguments is called a parameterized type . \n  Example (of a parameterized type): </p>\n  \n  <p><code>Collection&lt;String&gt; coll = new LinkedList&lt;String&gt;();</code></p>\n</blockquote>\n\n<p>So what is the parameterized type? </p>\n\n<ul>\n<li><code>Collection&lt;String&gt;</code> or</li>\n<li><code>LinkedList&lt;String&gt;</code></li>\n</ul>\n"},{"tags":["java","sockets","grpc","java-11"],"comments":[{"owner":{"account_id":19569874,"reputation":54,"user_id":14321268,"display_name":"Philipp"},"score":1,"creation_date":1661939969,"post_id":73554080,"comment_id":129889393,"body_markdown":"Please take a look at this post: https://stackoverflow.com/a/73170621/14321268","body":"Please take a look at this post: <a href=\"https://stackoverflow.com/a/73170621/14321268\">stackoverflow.com/a/73170621/14321268</a>"},{"owner":{"account_id":23069558,"reputation":79,"user_id":17183543,"display_name":"ajs"},"score":0,"creation_date":1661957529,"post_id":73554080,"comment_id":129895885,"body_markdown":"Thanks, the answer on that post also solved it for me!","body":"Thanks, the answer on that post also solved it for me!"}],"answers":[{"tags":[],"owner":{"account_id":15649265,"reputation":13,"user_id":11290953,"display_name":"Gary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676455218,"creation_date":1676010758,"answer_id":75407641,"question_id":73554080,"body_markdown":"For those using maven shade plugin:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;transformers&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n        &lt;/transformers&gt;\r\n    &lt;configuration&gt;\r\n\r\nReference to fix: https://github.com/grpc/grpc-java/issues/9387\r\n","title":"Unable to connect to gRPC server when build as jar","body":"<p>For those using maven shade plugin:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;transformers&gt;\n        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n    &lt;/transformers&gt;\n&lt;configuration&gt;\n</code></pre>\n<p>Reference to fix: <a href=\"https://github.com/grpc/grpc-java/issues/9387\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/issues/9387</a></p>\n"}],"owner":{"account_id":23069558,"reputation":79,"user_id":17183543,"display_name":"ajs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676455218,"creation_date":1661939637,"question_id":73554080,"body_markdown":"I am trying gRPC and I having some issues. I have build a gRPC server and a client. Did almost the same as the java example of gRPC (https://grpc.io/docs/languages/java/basics/) so nothing special. Now when I create a jar of the server it runs well but when I create a jar of my client it throws the following exception:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\nat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\nat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\nat com.example.grpc.server.classifier.classifierGrpc$classifierBlockingStub.classify(classifierGrpc.java:210)\r\nat com.example.grpc.client.Main.sendMessage(Main.java:35)\r\nat com.example.grpc.client.Main.main(Main.java:29)\r\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /172.16.3.14:530\r\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\r\nat io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:144)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\r\nat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\nat io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\nat io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\nat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nThis does not happen when I run the client in Intellij.\r\n\r\nAfter searching for a while I found some posts that suggest using flag `java.net.preferIPv4Stack=true` to force ipv4 usage but that did not work.\r\n\r\n\r\nSome versions of protobuf &amp; gRPC\r\n\r\n```\r\n    implementation &#39;com.google.protobuf:protobuf-java:3.21.5&#39;\r\n    implementation &#39;io.grpc:grpc-netty-shaded:1.49.0&#39;\r\n    implementation &#39;io.grpc:grpc-protobuf:1.49.0&#39;\r\n    implementation &#39;io.grpc:grpc-stub:1.49.0&#39;\r\n```\r\n\r\n\r\nSo to be clear, the client works when it is run in Intellij but not when build as a jar.","title":"Unable to connect to gRPC server when build as jar","body":"<p>I am trying gRPC and I having some issues. I have build a gRPC server and a client. Did almost the same as the java example of gRPC (<a href=\"https://grpc.io/docs/languages/java/basics/\" rel=\"nofollow noreferrer\">https://grpc.io/docs/languages/java/basics/</a>) so nothing special. Now when I create a jar of the server it runs well but when I create a jar of my client it throws the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\nat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\nat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\nat com.example.grpc.server.classifier.classifierGrpc$classifierBlockingStub.classify(classifierGrpc.java:210)\nat com.example.grpc.client.Main.sendMessage(Main.java:35)\nat com.example.grpc.client.Main.main(Main.java:29)\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /172.16.3.14:530\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\nat io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\nat io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:144)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\nat io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\nat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\nat io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\nat io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\nat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\nat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\nat io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:394)\nat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\nat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>This does not happen when I run the client in Intellij.</p>\n<p>After searching for a while I found some posts that suggest using flag <code>java.net.preferIPv4Stack=true</code> to force ipv4 usage but that did not work.</p>\n<p>Some versions of protobuf &amp; gRPC</p>\n<pre><code>    implementation 'com.google.protobuf:protobuf-java:3.21.5'\n    implementation 'io.grpc:grpc-netty-shaded:1.49.0'\n    implementation 'io.grpc:grpc-protobuf:1.49.0'\n    implementation 'io.grpc:grpc-stub:1.49.0'\n</code></pre>\n<p>So to be clear, the client works when it is run in Intellij but not when build as a jar.</p>\n"},{"tags":["java","kotlin","stream"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676453959,"post_id":75457727,"comment_id":133138008,"body_markdown":"Does this answer your question? [Java - Find Element in Array using Condition and Lambda](https://stackoverflow.com/questions/32262059/java-find-element-in-array-using-condition-and-lambda)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32262059/java-find-element-in-array-using-condition-and-lambda\">Java - Find Element in Array using Condition and Lambda</a>"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1676458396,"post_id":75457727,"comment_id":133139212,"body_markdown":"Ouch, this reminds me of school, where we wrote code in French. I found it ugly, but I didn&#39;t realize how much harder this makes reading the code for people who don&#39;t understand the language. For some reason it&#39;s harder to read this than reading abstract `a`, `b`, `c` as identifiers (at least for me)","body":"Ouch, this reminds me of school, where we wrote code in French. I found it ugly, but I didn&#39;t realize how much harder this makes reading the code for people who don&#39;t understand the language. For some reason it&#39;s harder to read this than reading abstract <code>a</code>, <code>b</code>, <code>c</code> as identifiers (at least for me)"}],"answers":[{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676454636,"creation_date":1676454321,"answer_id":75457932,"question_id":75457727,"body_markdown":"I am writing here to find string from the list what I have understand.\r\n```\r\nList&lt;String&gt; result = list.stream()\r\n  .filter(x -&gt; x.contains(&quot;string&quot;)\r\n  .collect(Collectors.toList());\r\n```\r\nLets keep posted if you need more help","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>I am writing here to find string from the list what I have understand.</p>\n<pre><code>List&lt;String&gt; result = list.stream()\n  .filter(x -&gt; x.contains(&quot;string&quot;)\n  .collect(Collectors.toList());\n</code></pre>\n<p>Lets keep posted if you need more help</p>\n"},{"comments":[{"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"score":0,"creation_date":1676458791,"post_id":75458055,"comment_id":133139331,"body_markdown":"Thanks :-) How about if I want to put the stream inside an assertThat()? That is, assert that there is a match in on of the strings in the list?","body":"Thanks :-) How about if I want to put the stream inside an assertThat()? That is, assert that there is a match in on of the strings in the list?"},{"owner":{"account_id":8606880,"reputation":94,"user_id":6446742,"display_name":"Hafizur Rahman Arfin"},"score":1,"creation_date":1676483144,"post_id":75458055,"comment_id":133147481,"body_markdown":"Yes, you can use the anyMatch method of the Stream class to check if there is a match in one of the strings in the list, and then use it inside an assertThat statement to check if the condition is true.\n\nassertThat(tidslinjehendelser.stream().anyMatch { hendelse -&gt; hendelse.innhold().contains(melding) }).isTrue()","body":"Yes, you can use the anyMatch method of the Stream class to check if there is a match in one of the strings in the list, and then use it inside an assertThat statement to check if the condition is true.  assertThat(tidslinjehendelser.stream().anyMatch { hendelse -&gt; hendelse.innhold().contains(melding) }).isTrue()"}],"tags":[],"owner":{"account_id":8606880,"reputation":94,"user_id":6446742,"display_name":"Hafizur Rahman Arfin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676454964,"creation_date":1676454964,"answer_id":75458055,"question_id":75457727,"body_markdown":"You can use streams to filter the **tidslinjehendelser** list to get only the elements whose **innhold**() method returns a string containing a certain text string. Here&#39;s an example:\r\n\r\n    tidslinjehendelser.stream()\r\n    .filter { hendelse -&gt; hendelse.innhold().contains(melding) }\r\n    .forEach { hendelse -&gt; println(&quot;yay!&quot;) }\r\n\r\nThis code uses the **stream**() method to convert the **tidslinjehendelser** list to a stream. Then, it uses the **filter**() method to filter the stream and keep only the elements whose **innhold**() method returns a string containing the melding text. Finally, it uses the **forEach**() method to loop over the filtered stream and print &quot;yay!&quot; for each matching element.\r\n\r\nYou can replace the **println(&quot;yay!&quot;)** statement with any other code you want to execute for the matching elements. Also note that this code will stop iterating over the stream once it finds the first matching element. If you want to find all the matching elements, you can use the **collect**() method instead of **forEach**() to collect the matching elements into a new list or other collection.","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>You can use streams to filter the <strong>tidslinjehendelser</strong> list to get only the elements whose <strong>innhold</strong>() method returns a string containing a certain text string. Here's an example:</p>\n<pre><code>tidslinjehendelser.stream()\n.filter { hendelse -&gt; hendelse.innhold().contains(melding) }\n.forEach { hendelse -&gt; println(&quot;yay!&quot;) }\n</code></pre>\n<p>This code uses the <strong>stream</strong>() method to convert the <strong>tidslinjehendelser</strong> list to a stream. Then, it uses the <strong>filter</strong>() method to filter the stream and keep only the elements whose <strong>innhold</strong>() method returns a string containing the melding text. Finally, it uses the <strong>forEach</strong>() method to loop over the filtered stream and print &quot;yay!&quot; for each matching element.</p>\n<p>You can replace the <strong>println(&quot;yay!&quot;)</strong> statement with any other code you want to execute for the matching elements. Also note that this code will stop iterating over the stream once it finds the first matching element. If you want to find all the matching elements, you can use the <strong>collect</strong>() method instead of <strong>forEach</strong>() to collect the matching elements into a new list or other collection.</p>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458055,"answer_count":2,"score":0,"last_activity_date":1676454964,"creation_date":1676453140,"question_id":75457727,"body_markdown":"I have the following list:\r\n\r\n    val tidslinjehendelser = kontaktPage.tidslinjeCard().getTidslinjehendelser()\r\n    \r\n    fun getTidslinjehendelser(): MutableList&lt;TidslinjehendelseElement&gt; {\r\n        return Getters.getElementsInElement(element, By.tagName(&quot;tidslinje-hendelse&quot;)).stream()\r\n            .map { el: WebElement? -&gt; TidslinjehendelseElement(el) }.collect(Collectors.toList())\r\n    }\r\n\r\nWhich is created from this class:\r\n\r\n    class TidslinjehendelseElement(private val element: WebElement?) {\r\n        fun dato(): String {\r\n        return getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=tidslinje-hendelse-dato]&quot;)).text\r\n        }\r\n        \r\n        fun navn(): String { return getElementInElement(element, By.className(&quot;hendelse-navn&quot;)).text }\r\n        \r\n        fun innhold(): String { return getElementInElement(element, By.className(&quot;hendelse-body&quot;)).text }\r\n    }\r\n\r\nWhat I want to do, is to search for an element where the innhold() text contains a certain text string.\r\n\r\n\r\nRight now, I&#39;m doing it with a loop:\r\n\r\n    for (hendelse in tidslinjehendelser) {\r\n        if (hendelse.innhold().contains(melding)) {\r\n            print(&quot;yay!&quot;)\r\n        }\r\n    }\r\n\r\nBut since I&#39;ve just started looking at streams, I&#39;d like to explore using that method instead of the looping method.","title":"Kotlin or Java: Using stream() to find element in list","body":"<p>I have the following list:</p>\n<pre><code>val tidslinjehendelser = kontaktPage.tidslinjeCard().getTidslinjehendelser()\n\nfun getTidslinjehendelser(): MutableList&lt;TidslinjehendelseElement&gt; {\n    return Getters.getElementsInElement(element, By.tagName(&quot;tidslinje-hendelse&quot;)).stream()\n        .map { el: WebElement? -&gt; TidslinjehendelseElement(el) }.collect(Collectors.toList())\n}\n</code></pre>\n<p>Which is created from this class:</p>\n<pre><code>class TidslinjehendelseElement(private val element: WebElement?) {\n    fun dato(): String {\n    return getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=tidslinje-hendelse-dato]&quot;)).text\n    }\n    \n    fun navn(): String { return getElementInElement(element, By.className(&quot;hendelse-navn&quot;)).text }\n    \n    fun innhold(): String { return getElementInElement(element, By.className(&quot;hendelse-body&quot;)).text }\n}\n</code></pre>\n<p>What I want to do, is to search for an element where the innhold() text contains a certain text string.</p>\n<p>Right now, I'm doing it with a loop:</p>\n<pre><code>for (hendelse in tidslinjehendelser) {\n    if (hendelse.innhold().contains(melding)) {\n        print(&quot;yay!&quot;)\n    }\n}\n</code></pre>\n<p>But since I've just started looking at streams, I'd like to explore using that method instead of the looping method.</p>\n"},{"tags":["java","ubuntu","selenium-webdriver","selenium-chromedriver","robotframework"],"answers":[{"comments":[{"owner":{"account_id":5647530,"reputation":354,"user_id":4469122,"accept_rate":55,"display_name":"RISHI KHANNA"},"score":0,"creation_date":1676455976,"post_id":75457993,"comment_id":133138586,"body_markdown":"I am using docker approach with browser image running on my ubuntu VM. How to make it work with firefox container?","body":"I am using docker approach with browser image running on my ubuntu VM. How to make it work with firefox container?"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1676474028,"post_id":75457993,"comment_id":133144283,"body_markdown":"Sorry my knowledge in docker is limited. You will have to work your way out to use Firefox by doing exactly how you have done with chrome.","body":"Sorry my knowledge in docker is limited. You will have to work your way out to use Firefox by doing exactly how you have done with chrome."},{"owner":{"account_id":5647530,"reputation":354,"user_id":4469122,"accept_rate":55,"display_name":"RISHI KHANNA"},"score":0,"creation_date":1676554332,"post_id":75457993,"comment_id":133162882,"body_markdown":"No issues Shawn. Thanks","body":"No issues Shawn. Thanks"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676454673,"creation_date":1676454673,"answer_id":75457993,"question_id":75456265,"body_markdown":"Robot class is generally inconsistent as it blindly performs keyboard or mouse actions. I have figured out a solution to select the browser certificate without Robot class. This works only on Firefox though. If you are happy to switch from Chrome to Firefox, try the below code:\r\n\r\n````\r\nFirefoxOptions options = new FirefoxOptions();\r\noptions.addArguments(&quot;-profile&quot;);\r\noptions.addArguments(&quot;C:/Users/username/AppData/Roaming/Mozilla/Firefox/Profiles/zyz.default&quot;);\r\nWebDriver driver = new FirefoxDriver(options);\r\n````\r\n\r\nIn the above code, driver instance is loaded with the default Firefox browser profile. This profile will contain the certificate which will be accepted automatically and pop-up will not even be triggered. Try this and see if you can get away from using Robot class.","title":"How to handle keyboard operation on selenium chrome browser running on virtual ubuntu 22","body":"<p>Robot class is generally inconsistent as it blindly performs keyboard or mouse actions. I have figured out a solution to select the browser certificate without Robot class. This works only on Firefox though. If you are happy to switch from Chrome to Firefox, try the below code:</p>\n<pre><code>FirefoxOptions options = new FirefoxOptions();\noptions.addArguments(&quot;-profile&quot;);\noptions.addArguments(&quot;C:/Users/username/AppData/Roaming/Mozilla/Firefox/Profiles/zyz.default&quot;);\nWebDriver driver = new FirefoxDriver(options);\n</code></pre>\n<p>In the above code, driver instance is loaded with the default Firefox browser profile. This profile will contain the certificate which will be accepted automatically and pop-up will not even be triggered. Try this and see if you can get away from using Robot class.</p>\n"}],"owner":{"account_id":5647530,"reputation":354,"user_id":4469122,"accept_rate":55,"display_name":"RISHI KHANNA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676454673,"creation_date":1676443089,"question_id":75456265,"body_markdown":"I am trying to select &quot;OK&quot; button against my browser certificate pop-up using robot class. The same piece of code works well on windows but failing on ubuntu.\r\n\r\nCode:\r\n\r\n    public void load() {\r\n        setUrl();\r\n        Thread threadNavigation = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                driver.navigate().to(url);\r\n\r\n            }\r\n        };\r\n\r\n        Thread threadCertificateHandler = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(3000);\r\n                    Robot robot = new Robot();\r\n                    robot.keyPress(KeyEvent.VK_ENTER);\r\n                    robot.delay(2000);\r\n                    robot.keyRelease(KeyEvent.VK_ENTER);\r\n                    Thread.sleep(3000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n\r\n        // Start the threads.\r\n        threadNavigation.start();\r\n        threadCertificateHandler.start();\r\n\r\n        // Wait for them both to finish\r\n        try {\r\n            threadNavigation.join();\r\n            threadCertificateHandler.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n**Code Explanation:** As soon as url is navigated using selenium, a certificate pop-up is displayed before page is loaded. The approach I have used here - 1 thread used here to get application url and another thread is used to handle the pop-up.\r\n\r\nAttaching screenshot of the pop-up.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lYap8.png\r\n\r\n**ChromeDriver Init Code:**\r\n\r\n    public void getStandaloneHubNodeServerDriver(String browserType,String platformType, String url) throws MalformedURLException  {\r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        logger.log(Level.INFO, () -&gt; &quot;Setting browser address @: &quot; + url);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\r\n        options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\r\n        options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\r\n        options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n        options.setAcceptInsecureCerts(true);\r\n        options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour.ACCEPT);\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;));\r\n        //threadLocalDriver.set(new RemoteWebDriver(new URL(url),options));\r\n        driver = new RemoteWebDriver(new URL(url),options);\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\nThe same code works like a charm on local windows but when executed on remote VM running on linux, it does not perform the &quot;Enter&quot; event. Is there&#39;s any alternative to Robot class that can be used for linux?","title":"How to handle keyboard operation on selenium chrome browser running on virtual ubuntu 22","body":"<p>I am trying to select &quot;OK&quot; button against my browser certificate pop-up using robot class. The same piece of code works well on windows but failing on ubuntu.</p>\n<p>Code:</p>\n<pre><code>public void load() {\n    setUrl();\n    Thread threadNavigation = new Thread() {\n        @Override\n        public void run() {\n            driver.navigate().to(url);\n\n        }\n    };\n\n    Thread threadCertificateHandler = new Thread() {\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(3000);\n                Robot robot = new Robot();\n                robot.keyPress(KeyEvent.VK_ENTER);\n                robot.delay(2000);\n                robot.keyRelease(KeyEvent.VK_ENTER);\n                Thread.sleep(3000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n\n    // Start the threads.\n    threadNavigation.start();\n    threadCertificateHandler.start();\n\n    // Wait for them both to finish\n    try {\n        threadNavigation.join();\n        threadCertificateHandler.join();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>Code Explanation:</strong> As soon as url is navigated using selenium, a certificate pop-up is displayed before page is loaded. The approach I have used here - 1 thread used here to get application url and another thread is used to handle the pop-up.</p>\n<p>Attaching screenshot of the pop-up.\n<a href=\"https://i.stack.imgur.com/lYap8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYap8.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>ChromeDriver Init Code:</strong></p>\n<pre><code>public void getStandaloneHubNodeServerDriver(String browserType,String platformType, String url) throws MalformedURLException  {\n    DesiredCapabilities caps = new DesiredCapabilities();\n    logger.log(Level.INFO, () -&gt; &quot;Setting browser address @: &quot; + url);\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\n    options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\n    options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource problems\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\n    options.setAcceptInsecureCerts(true);\n    options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour.ACCEPT);\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;));\n    //threadLocalDriver.set(new RemoteWebDriver(new URL(url),options));\n    driver = new RemoteWebDriver(new URL(url),options);\n    driver.manage().window().maximize();\n}\n</code></pre>\n<p>The same code works like a charm on local windows but when executed on remote VM running on linux, it does not perform the &quot;Enter&quot; event. Is there's any alternative to Robot class that can be used for linux?</p>\n"},{"tags":["java","jvm","java-8","java-7","jdk1.7"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1454416657,"post_id":35153270,"comment_id":58025607,"body_markdown":"http://stackoverflow.com/questions/17619638/eclipse-kepler-java-8","body":"<a href=\"http://stackoverflow.com/questions/17619638/eclipse-kepler-java-8\" title=\"eclipse kepler java 8\">stackoverflow.com/questions/17619638/eclipse-kepler-java-8</a>"}],"answers":[{"tags":[],"owner":{"account_id":7751369,"reputation":41,"user_id":5867185,"display_name":"Christian Constantinescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676454498,"creation_date":1454415833,"answer_id":35153462,"question_id":35153270,"body_markdown":"Create a script that changes the JAVA_HOME environment accordingly, for example:\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_11\r\n    echo setting PATH\r\n    set PATH=C:\\Program Files\\Java\\jdk1.6.0_11\\bin;%PATH%\r\n    echo Display java version\r\n    java -version\r\n\r\nSource:\r\n[https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150705070000/https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v","title":"install and switch between java 7 and java 8 in windows","body":"<p>Create a script that changes the JAVA_HOME environment accordingly, for example:</p>\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_11\necho setting PATH\nset PATH=C:\\Program Files\\Java\\jdk1.6.0_11\\bin;%PATH%\necho Display java version\njava -version\n</code></pre>\n<p>Source:\n<a href=\"https://web.archive.org/web/20150705070000/https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/pranav/entry/switch_between_different_jdk_v</a></p>\n"},{"comments":[{"owner":{"account_id":7114567,"reputation":115,"user_id":5441334,"accept_rate":60,"display_name":"gascon95"},"score":0,"creation_date":1454417472,"post_id":35153596,"comment_id":58026206,"body_markdown":"Well, first of all you have to install Java 8. Then, you&#39;ll have the option to select the 1.8 version.\n\nYou can also set the jre on `Run -&gt; Run configurations&#180; on the JRE tab.","body":"Well, first of all you have to install Java 8. Then, you&#39;ll have the option to select the 1.8 version.  You can also set the jre on `Run -&gt; Run configurations&#180; on the JRE tab."}],"tags":[],"owner":{"account_id":7114567,"reputation":115,"user_id":5441334,"accept_rate":60,"display_name":"gascon95"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454416193,"creation_date":1454416193,"answer_id":35153596,"question_id":35153270,"body_markdown":"If you are using Eclipse, you can set the compiler preferences with the Java version you want to use for every project.\r\n\r\nGo to `Window -&gt; Preferences -&gt; Java -&gt; Compiler` and there you can change the Java version.\r\n\r\nThis way, you can update your PC to Java 8 and you&#39;ll have no problem with the older projects.","title":"install and switch between java 7 and java 8 in windows","body":"<p>If you are using Eclipse, you can set the compiler preferences with the Java version you want to use for every project.</p>\n\n<p>Go to <code>Window -&gt; Preferences -&gt; Java -&gt; Compiler</code> and there you can change the Java version.</p>\n\n<p>This way, you can update your PC to Java 8 and you'll have no problem with the older projects.</p>\n"},{"tags":[],"owner":{"account_id":7231669,"reputation":309,"user_id":5518262,"accept_rate":50,"display_name":"Kunal_89"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454417404,"creation_date":1454417404,"answer_id":35154018,"question_id":35153270,"body_markdown":"Install both JDKs in your system and for any project if you want to use jdk 1.8. Do this\r\n\r\n    Right click on that project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8","title":"install and switch between java 7 and java 8 in windows","body":"<p>Install both JDKs in your system and for any project if you want to use jdk 1.8. Do this</p>\n\n<pre><code>Right click on that project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9886143,"reputation":143,"user_id":7320609,"display_name":"Shiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1482300642,"creation_date":1482300326,"answer_id":41256185,"question_id":35153270,"body_markdown":"Well after installing both JDK 7 &amp; JDK 8,\r\nThere are two scenarios.\r\n\r\n1) If you are using Eclipse to run your program\r\n\r\nIn Eclipse just go to project-&gt;Properties-&gt;java complier-&gt;set compliance level to 1.8 or 1.7 accordingly\r\n\r\n2) If you are running your program using Command Prompt\r\n\r\nIn this case, you have to enter following commands before compiling your program\r\n\r\n      set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\r\n      set PATH=C:\\Program Files\\Java\\jdk1.8.0_102\\bin;%PATH%\r\n      java -version\r\n\r\nyou can also make a batch file of the same. just copy and paste to notepad and save it with the .bat extension \r\n","title":"install and switch between java 7 and java 8 in windows","body":"<p>Well after installing both JDK 7 &amp; JDK 8,\nThere are two scenarios.</p>\n\n<p>1) If you are using Eclipse to run your program</p>\n\n<p>In Eclipse just go to project->Properties->java complier->set compliance level to 1.8 or 1.7 accordingly</p>\n\n<p>2) If you are running your program using Command Prompt</p>\n\n<p>In this case, you have to enter following commands before compiling your program</p>\n\n<pre><code>  set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\n  set PATH=C:\\Program Files\\Java\\jdk1.8.0_102\\bin;%PATH%\n  java -version\n</code></pre>\n\n<p>you can also make a batch file of the same. just copy and paste to notepad and save it with the .bat extension </p>\n"}],"owner":{"account_id":1900708,"reputation":95,"user_id":1716625,"accept_rate":60,"display_name":"Aman Agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18792,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":35154018,"answer_count":4,"score":3,"last_activity_date":1676454498,"creation_date":1454415360,"question_id":35153270,"body_markdown":"I am on widows and also using eclipse. Currently I am using java 7. Now I want to use java 8. but i cannot uninstall java 7 as some of my old projects are working in java 7. \r\n\r\nSo how can I install both java version at same time and switch between these versions.\r\n\r\n\r\nI want only some particular projects will use java 8.","title":"install and switch between java 7 and java 8 in windows","body":"<p>I am on widows and also using eclipse. Currently I am using java 7. Now I want to use java 8. but i cannot uninstall java 7 as some of my old projects are working in java 7. </p>\n\n<p>So how can I install both java version at same time and switch between these versions.</p>\n\n<p>I want only some particular projects will use java 8.</p>\n"},{"tags":["java","c++","windows"],"comments":[{"owner":{"account_id":5482007,"reputation":1536,"user_id":4358137,"accept_rate":86,"display_name":"Seth Kitchen"},"score":2,"creation_date":1442326305,"post_id":32586883,"comment_id":53030248,"body_markdown":"http://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\r\n\r\n?","body":"<a href=\"http://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\" title=\"how to get windows display settings\">stackoverflow.com/questions/5977445/&hellip;</a>    ?"},{"owner":{"account_id":67561,"reputation":7959,"user_id":197657,"accept_rate":85,"display_name":"dutt"},"score":0,"creation_date":1442330484,"post_id":32586883,"comment_id":53033415,"body_markdown":"thanks :) didn&#39;t find that when searching.","body":"thanks :) didn&#39;t find that when searching."}],"answers":[{"comments":[{"owner":{"account_id":5482007,"reputation":1536,"user_id":4358137,"accept_rate":86,"display_name":"Seth Kitchen"},"score":1,"creation_date":1442326701,"post_id":32588375,"comment_id":53030543,"body_markdown":"I did in comment, just thought it&#39;d be easier to not click on another link.","body":"I did in comment, just thought it&#39;d be easier to not click on another link."},{"owner":{"account_id":2377056,"reputation":3975,"user_id":2080104,"accept_rate":60,"display_name":"CamHart"},"score":0,"creation_date":1538867304,"post_id":32588375,"comment_id":92296071,"body_markdown":"Thats c#, this question wants the answer in Java.","body":"Thats c#, this question wants the answer in Java."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1564600973,"post_id":32588375,"comment_id":101089282,"body_markdown":"This has been translated to Java in another answer. :D","body":"This has been translated to Java in another answer. :D"}],"tags":[],"owner":{"account_id":5482007,"reputation":1536,"user_id":4358137,"accept_rate":86,"display_name":"Seth Kitchen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1442327564,"creation_date":1442326449,"answer_id":32588375,"question_id":32586883,"body_markdown":"Maybe this [answer](https://stackoverflow.com/a/21450169/2436655) from [here](https://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings) might help you:\r\n\r\n    [DllImport(&quot;gdi32.dll&quot;)]\r\n    static extern int GetDeviceCaps(IntPtr hdc, int nIndex);\r\n    public enum DeviceCap\r\n    {\r\n        VERTRES = 10,\r\n        DESKTOPVERTRES = 117,\r\n\r\n        // http://pinvoke.net/default.aspx/gdi32/GetDeviceCaps.html\r\n    }  \r\n\r\n\r\n    private float getScalingFactor()\r\n    {\r\n        Graphics g = Graphics.FromHwnd(IntPtr.Zero);\r\n        IntPtr desktop = g.GetHdc();\r\n        int LogicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.VERTRES);\r\n        int PhysicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.DESKTOPVERTRES); \r\n\r\n        float ScreenScalingFactor = (float)PhysicalScreenHeight / (float)LogicalScreenHeight;\r\n\r\n        return ScreenScalingFactor; // 1.25 = 125%\r\n    }","title":"Windows scaling","body":"<p>Maybe this <a href=\"https://stackoverflow.com/a/21450169/2436655\">answer</a> from <a href=\"https://stackoverflow.com/questions/5977445/how-to-get-windows-display-settings\">here</a> might help you:</p>\n\n<pre><code>[DllImport(\"gdi32.dll\")]\nstatic extern int GetDeviceCaps(IntPtr hdc, int nIndex);\npublic enum DeviceCap\n{\n    VERTRES = 10,\n    DESKTOPVERTRES = 117,\n\n    // http://pinvoke.net/default.aspx/gdi32/GetDeviceCaps.html\n}  \n\n\nprivate float getScalingFactor()\n{\n    Graphics g = Graphics.FromHwnd(IntPtr.Zero);\n    IntPtr desktop = g.GetHdc();\n    int LogicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.VERTRES);\n    int PhysicalScreenHeight = GetDeviceCaps(desktop, (int)DeviceCap.DESKTOPVERTRES); \n\n    float ScreenScalingFactor = (float)PhysicalScreenHeight / (float)LogicalScreenHeight;\n\n    return ScreenScalingFactor; // 1.25 = 125%\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1543361976,"post_id":52758883,"comment_id":93889636,"body_markdown":"This is the only real solution, thank you indeed. All other solutions request JavaFX which is even more buggy.","body":"This is the only real solution, thank you indeed. All other solutions request JavaFX which is even more buggy."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":3,"creation_date":1564593162,"post_id":52758883,"comment_id":101085948,"body_markdown":"Warning, this solution seems to always return `96dpi` on Java 8, regardless of the zoom factor.","body":"Warning, this solution seems to always return <code>96dpi</code> on Java 8, regardless of the zoom factor."},{"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"score":0,"creation_date":1564747214,"post_id":52758883,"comment_id":101141959,"body_markdown":"@tresf Is this statement based on your experience or is it somewhere documented. For me it works with Java 8 (on Windows) tested since version u121. However I havn&#39;t tested the latest version u221 yet.","body":"@tresf Is this statement based on your experience or is it somewhere documented. For me it works with Java 8 (on Windows) tested since version u121. However I havn&#39;t tested the latest version u221 yet."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1565102745,"post_id":52758883,"comment_id":101241844,"body_markdown":"@ChristianLutz, 1.8.0 u211.  `JNA found: 2.0; Toolkit found: 1.0`. Code is here: https://gist.github.com/tresf/00a8ed7c9860e3bd73cebf764a49789f.  This may be environmental . I&#39;m running the unit test under on Win10 Pro x64 u1903, but in a Parallels VM (Retina host allows the scaling in the guest).  Strangely enough, running the same exact code from Java 11 returns `JNA found: 1.0; Toolkit found: 2.0`, so something is definitely off.","body":"@ChristianLutz, 1.8.0 u211.  <code>JNA found: 2.0; Toolkit found: 1.0</code>. Code is here: <a href=\"https://gist.github.com/tresf/00a8ed7c9860e3bd73cebf764a49789f\" rel=\"nofollow noreferrer\">gist.github.com/tresf/00a8ed7c9860e3bd73cebf764a49789f</a>.  This may be environmental . I&#39;m running the unit test under on Win10 Pro x64 u1903, but in a Parallels VM (Retina host allows the scaling in the guest).  Strangely enough, running the same exact code from Java 11 returns <code>JNA found: 1.0; Toolkit found: 2.0</code>, so something is definitely off."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1565104036,"post_id":52758883,"comment_id":101242587,"body_markdown":"Just tested on physical hardware (Dell Spectre with 4K LCD, Win10 Pro x64) with identical results.  1.8.0 8u221.  **JDK8**: `JNA found: 3.0, Toolkit found: 1.01`. **JDK11**: `JNA found: 1.0, Toolkit found: 3.0`.  Edited my answer to warn about JDK11.","body":"Just tested on physical hardware (Dell Spectre with 4K LCD, Win10 Pro x64) with identical results.  1.8.0 8u221.  <b>JDK8</b>: <code>JNA found: 3.0, Toolkit found: 1.01</code>. <b>JDK11</b>: <code>JNA found: 1.0, Toolkit found: 3.0</code>.  Edited my answer to warn about JDK11."},{"owner":{"account_id":7326250,"reputation":234,"user_id":5580567,"display_name":"Stanislav Orlov"},"score":2,"creation_date":1614948222,"post_id":52758883,"comment_id":117547806,"body_markdown":"Just don&#39;t forget to cast res to double to prevent int/int approximation :-) `int res = java.awt.Toolkit.getDefaultToolkit().getScreenResolution();  \ndouble scale = (double)res/96;`","body":"Just don&#39;t forget to cast res to double to prevent int/int approximation :-) <code>int res = java.awt.Toolkit.getDefaultToolkit().getScreenResolution();   double scale = (double)res&#47;96;</code>"}],"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539257151,"creation_date":1539257151,"answer_id":52758883,"question_id":32586883,"body_markdown":"`java.awt.Toolkit.getDefaultToolkit().getScreenResolution()` see [API][1]\r\n\r\n&gt; Returns the screen resolution in dots-per-inch.\r\n\r\nAssumen your 100% is 96pixel you&#39;re able to calculate your scaling factor.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--","title":"Windows scaling","body":"<p><code>java.awt.Toolkit.getDefaultToolkit().getScreenResolution()</code> see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getScreenResolution--\" rel=\"noreferrer\">API</a></p>\n\n<blockquote>\n  <p>Returns the screen resolution in dots-per-inch.</p>\n</blockquote>\n\n<p>Assumen your 100% is 96pixel you're able to calculate your scaling factor.</p>\n"},{"comments":[{"owner":{"account_id":2459948,"reputation":451,"user_id":2144327,"display_name":"MaeseDude"},"score":1,"creation_date":1659812059,"post_id":57297599,"comment_id":129385675,"body_markdown":"This code doesn&#39;t work properly because it casts everything to int. The values should all be float. In my case, the fallback solution worked, but only after I changed the return value to float, and cast both &quot;Toolkit.getDefaultToolkit.getScreenResolution()&quot; and &quot;96.0&quot; to float - then I get 1.25 as the result (my Windows is at 125% scaling). With all values as &quot;int&quot;, the result is always 1.0.","body":"This code doesn&#39;t work properly because it casts everything to int. The values should all be float. In my case, the fallback solution worked, but only after I changed the return value to float, and cast both &quot;Toolkit.getDefaultToolkit.getScreenResolution()&quot; and &quot;96.0&quot; to float - then I get 1.25 as the result (my Windows is at 125% scaling). With all values as &quot;int&quot;, the result is always 1.0."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1659972045,"post_id":57297599,"comment_id":129416287,"body_markdown":"@MaeseDude thank you!  Although your comment comes 3 years later, my code was still plagued by this rounding issue, only observable when fractional scaling was enabled (e.g. 250% instead of 200%).  The example has been updated to use double instead.","body":"@MaeseDude thank you!  Although your comment comes 3 years later, my code was still plagued by this rounding issue, only observable when fractional scaling was enabled (e.g. 250% instead of 200%).  The example has been updated to use double instead."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1659973245,"post_id":57297599,"comment_id":129416873,"body_markdown":"Note, in the case of this example, `double` is likely overkill (since we&#39;re dealing with a scale factor 1.0x, 2.0x, 2.5x, 3.0x, 10.0x) but chosen to _better_ match the eventual `double` precision of `Point()`, which is often what the calculation is being cast to, without worry of accidental loss of precision.  In practice, however, it&#39;s unlikely anything more precise than even a `float` will be needed for the foreseeable future, since even TEN conjoined 8K screens would not overflow an integer value in the mouse/windowing coordinate system.","body":"Note, in the case of this example, <code>double</code> is likely overkill (since we&#39;re dealing with a scale factor 1.0x, 2.0x, 2.5x, 3.0x, 10.0x) but chosen to <i>better</i> match the eventual <code>double</code> precision of <code>Point()</code>, which is often what the calculation is being cast to, without worry of accidental loss of precision.  In practice, however, it&#39;s unlikely anything more precise than even a <code>float</code> will be needed for the foreseeable future, since even TEN conjoined 8K screens would not overflow an integer value in the mouse/windowing coordinate system."}],"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659972081,"creation_date":1564600820,"answer_id":57297599,"question_id":32586883,"body_markdown":"Adopting @seth-kitchen&#39;s example using JNA, this is possible, even on older JDKs like Java 8.\r\n\r\n**Note:** The JNA portion of this technique doesn&#39;t work well on JDK11.  A comment in the code explains how it will fallback to the `Toolkit` technique.\r\n\r\n    public static double getScaleFactor() {\r\n        WinDef.HDC hdc = GDI32.INSTANCE.CreateCompatibleDC(null);\r\n        if (hdc != null) {\r\n            int actual = GDI32.INSTANCE.GetDeviceCaps(hdc, 10 /* VERTRES */);\r\n            int logical = GDI32.INSTANCE.GetDeviceCaps(hdc, 117 /* DESKTOPVERTRES */);\r\n            GDI32.INSTANCE.DeleteDC(hdc);\r\n            // JDK11 seems to always return 1, use fallback below\r\n            if (logical != 0 &amp;&amp; logical/actual &gt; 1) {\r\n                return (double)logical/actual;\r\n            }\r\n        }\r\n        return Toolkit.getDefaultToolkit().getScreenResolution() / 96.0d;\r\n    }\r\n\r\n\r\nThis above solution grabs the default display for simplicity purposes.  You can enhance it to get the display of the current Window by finding the current Window handle (through `Native.getComponentPointer(Component)` or by title using `User32.INSTANCE.FindWindow(...)`) and then using `CreateaCompatibleDC(GetDC(window))`.\r\n\r\n","title":"Windows scaling","body":"<p>Adopting @seth-kitchen's example using JNA, this is possible, even on older JDKs like Java 8.</p>\n<p><strong>Note:</strong> The JNA portion of this technique doesn't work well on JDK11.  A comment in the code explains how it will fallback to the <code>Toolkit</code> technique.</p>\n<pre><code>public static double getScaleFactor() {\n    WinDef.HDC hdc = GDI32.INSTANCE.CreateCompatibleDC(null);\n    if (hdc != null) {\n        int actual = GDI32.INSTANCE.GetDeviceCaps(hdc, 10 /* VERTRES */);\n        int logical = GDI32.INSTANCE.GetDeviceCaps(hdc, 117 /* DESKTOPVERTRES */);\n        GDI32.INSTANCE.DeleteDC(hdc);\n        // JDK11 seems to always return 1, use fallback below\n        if (logical != 0 &amp;&amp; logical/actual &gt; 1) {\n            return (double)logical/actual;\n        }\n    }\n    return Toolkit.getDefaultToolkit().getScreenResolution() / 96.0d;\n}\n</code></pre>\n<p>This above solution grabs the default display for simplicity purposes.  You can enhance it to get the display of the current Window by finding the current Window handle (through <code>Native.getComponentPointer(Component)</code> or by title using <code>User32.INSTANCE.FindWindow(...)</code>) and then using <code>CreateaCompatibleDC(GetDC(window))</code>.</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565107946,"creation_date":1565107519,"answer_id":57380042,"question_id":32586883,"body_markdown":"Although the question asks about Windows scaling, the accepted solution(s), do not work properly with Linux running JDK11.\r\n\r\nThe below technique uses JNA to detect the screen scale factor on Linux, which is compatible with Linux desktops exposing the Gtk (Gimp Toolkit) libraries.\r\n\r\nThe snippet contains several Gtk version-dependent workarounds as the Gtk API exposing scaling information has changed several times.  Furthermore, information may be inaccurate for specific use-cases (mixed standard and HiDPI monitors on the same desktop) as scaling is monitor-specific.\r\n\r\n**Warning**:  If Java fixes this behavior -- or equally if Gtk changes their API -- in a future version, this solution will need to be updated.  Furthermore, this solution requires Linux-only components: reflection is required (included) for cross-compilation to succeed.\r\n\r\nUsage: `GtkUtilities.getScaleFactor()`\r\n\r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n\r\n    import java.lang.reflect.Method;\r\n\r\n    public class GtkUtilities {\r\n        /**\r\n        * Initializes Gtk2/3 and returns the desktop scaling factor, usually 1.0 or 2.0\r\n        */\r\n        public static double getScaleFactor() {\r\n            GTK gtkHandle = getGtkInstance();\r\n            if (gtkHandle != null &amp;&amp; gtkHandle.gtk_init_check(0, null)) {\r\n                System.out.println(&quot;Initialized Gtk&quot;);\r\n\r\n                if (gtkHandle instanceof GTK2) {\r\n                    return getGtk2ScaleFactor((GTK2)gtkHandle);\r\n                } else {\r\n                    return getGtk3ScaleFactor((GTK3)gtkHandle);\r\n                }\r\n            } else {\r\n                System.err.println(&quot;An error occurred initializing the Gtk library&quot;);\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        private static GTK getGtkInstance() {\r\n            System.out.println(&quot;Finding preferred Gtk version...&quot;);\r\n            switch(getGtkMajorVersion()) {\r\n                case 2:\r\n                    return GTK2.INSTANCE;\r\n                case 3:\r\n                    return GTK3.INSTANCE;\r\n                default:\r\n                    System.err.println(&quot;Not a compatible Gtk version&quot;);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        /**\r\n        * Get the major version of Gtk (e.g. 2, 3)\r\n        * UNIXToolkit is unavailable on Windows or Mac; reflection is required.\r\n        * @return Major version if found, zero if not.\r\n        */\r\n        private static int getGtkMajorVersion() {\r\n            try {\r\n                Class toolkitClass = Class.forName(&quot;sun.awt.UNIXToolkit&quot;);\r\n                Method versionMethod = toolkitClass.getDeclaredMethod(&quot;getGtkVersion&quot;);\r\n                Enum versionInfo = (Enum)versionMethod.invoke(toolkitClass);\r\n                Method numberMethod = versionInfo.getClass().getDeclaredMethod(&quot;getNumber&quot;);\r\n                int version = ((Integer)numberMethod.invoke(versionInfo)).intValue();\r\n                System.out.println(&quot;Found Gtk &quot; + version);\r\n                return version;\r\n            } catch(Throwable t) {\r\n                System.err.println(&quot;Could not obtain GtkVersion information from UNIXToolkit: {}&quot;, t.getMessage());\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        private static double getGtk2ScaleFactor(GTK2 gtk2) {\r\n            Pointer display = gtk2.gdk_display_get_default();\r\n            System.out.println(&quot;Gtk 2.10+ detected, calling \\&quot;gdk_screen_get_resolution\\&quot;&quot;);\r\n            Pointer screen = gtk2.gdk_display_get_default_screen(display);\r\n            return gtk2.gdk_screen_get_resolution(screen) / 96.0d;\r\n        }\r\n\r\n        private static double getGtk3ScaleFactor(GTK3 gtk3) {\r\n            Pointer display = gtk3.gdk_display_get_default();\r\n            int gtkMinorVersion = gtk3.gtk_get_minor_version();\r\n            if (gtkMinorVersion &lt; 10) {\r\n                System.err.println(&quot;Gtk 3.10+ is required to detect scaling factor, skipping.&quot;);\r\n            } else if (gtkMinorVersion &gt;= 22) {\r\n                System.out.println(&quot;Gtk 3.22+ detected, calling \\&quot;gdk_monitor_get_scale_factor\\&quot;&quot;);\r\n                Pointer monitor = gtk3.gdk_display_get_primary_monitor(display);\r\n                return gtk3.gdk_monitor_get_scale_factor(monitor);\r\n            } else if (gtkMinorVersion &gt;= 10) {\r\n                System.out.println(&quot;Gtk 3.10+ detected, calling \\&quot;gdk_screen_get_monitor_scale_factor\\&quot;&quot;);\r\n                Pointer screen = gtk3.gdk_display_get_default_screen(display);\r\n                return gtk3.gdk_screen_get_monitor_scale_factor(screen, 0);\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        /**\r\n        * Gtk2/Gtk3 wrapper\r\n        */\r\n        private interface GTK extends Library {\r\n            // Gtk2.0+\r\n            boolean gtk_init_check(int argc, String[] argv);\r\n            Pointer gdk_display_get_default();\r\n            Pointer gdk_display_get_default_screen (Pointer display);\r\n        }\r\n\r\n        private interface GTK3 extends GTK {\r\n            GTK3 INSTANCE = Native.loadLibrary(&quot;gtk-3&quot;, GTK3.class);\r\n\r\n            // Gtk 3.0+\r\n            int gtk_get_minor_version ();\r\n\r\n            // Gtk 3.10-3.21\r\n            int gdk_screen_get_monitor_scale_factor (Pointer screen, int monitor_num);\r\n\r\n            // Gtk 3.22+\r\n            Pointer gdk_display_get_primary_monitor (Pointer display);\r\n            int gdk_monitor_get_scale_factor (Pointer monitor);\r\n        }\r\n\r\n        private interface GTK2 extends GTK {\r\n            GTK2 INSTANCE = Native.loadLibrary(&quot;gtk-x11-2.0&quot;, GTK2.class);\r\n\r\n            // Gtk 2.1-3.0\r\n            double gdk_screen_get_resolution(Pointer screen);\r\n        }\r\n    }\r\n","title":"Windows scaling","body":"<p>Although the question asks about Windows scaling, the accepted solution(s), do not work properly with Linux running JDK11.</p>\n\n<p>The below technique uses JNA to detect the screen scale factor on Linux, which is compatible with Linux desktops exposing the Gtk (Gimp Toolkit) libraries.</p>\n\n<p>The snippet contains several Gtk version-dependent workarounds as the Gtk API exposing scaling information has changed several times.  Furthermore, information may be inaccurate for specific use-cases (mixed standard and HiDPI monitors on the same desktop) as scaling is monitor-specific.</p>\n\n<p><strong>Warning</strong>:  If Java fixes this behavior -- or equally if Gtk changes their API -- in a future version, this solution will need to be updated.  Furthermore, this solution requires Linux-only components: reflection is required (included) for cross-compilation to succeed.</p>\n\n<p>Usage: <code>GtkUtilities.getScaleFactor()</code></p>\n\n<pre><code>import com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\n\nimport java.lang.reflect.Method;\n\npublic class GtkUtilities {\n    /**\n    * Initializes Gtk2/3 and returns the desktop scaling factor, usually 1.0 or 2.0\n    */\n    public static double getScaleFactor() {\n        GTK gtkHandle = getGtkInstance();\n        if (gtkHandle != null &amp;&amp; gtkHandle.gtk_init_check(0, null)) {\n            System.out.println(\"Initialized Gtk\");\n\n            if (gtkHandle instanceof GTK2) {\n                return getGtk2ScaleFactor((GTK2)gtkHandle);\n            } else {\n                return getGtk3ScaleFactor((GTK3)gtkHandle);\n            }\n        } else {\n            System.err.println(\"An error occurred initializing the Gtk library\");\n        }\n        return 0;\n    }\n\n    private static GTK getGtkInstance() {\n        System.out.println(\"Finding preferred Gtk version...\");\n        switch(getGtkMajorVersion()) {\n            case 2:\n                return GTK2.INSTANCE;\n            case 3:\n                return GTK3.INSTANCE;\n            default:\n                System.err.println(\"Not a compatible Gtk version\");\n        }\n        return null;\n    }\n\n    /**\n    * Get the major version of Gtk (e.g. 2, 3)\n    * UNIXToolkit is unavailable on Windows or Mac; reflection is required.\n    * @return Major version if found, zero if not.\n    */\n    private static int getGtkMajorVersion() {\n        try {\n            Class toolkitClass = Class.forName(\"sun.awt.UNIXToolkit\");\n            Method versionMethod = toolkitClass.getDeclaredMethod(\"getGtkVersion\");\n            Enum versionInfo = (Enum)versionMethod.invoke(toolkitClass);\n            Method numberMethod = versionInfo.getClass().getDeclaredMethod(\"getNumber\");\n            int version = ((Integer)numberMethod.invoke(versionInfo)).intValue();\n            System.out.println(\"Found Gtk \" + version);\n            return version;\n        } catch(Throwable t) {\n            System.err.println(\"Could not obtain GtkVersion information from UNIXToolkit: {}\", t.getMessage());\n        }\n        return 0;\n    }\n\n    private static double getGtk2ScaleFactor(GTK2 gtk2) {\n        Pointer display = gtk2.gdk_display_get_default();\n        System.out.println(\"Gtk 2.10+ detected, calling \\\"gdk_screen_get_resolution\\\"\");\n        Pointer screen = gtk2.gdk_display_get_default_screen(display);\n        return gtk2.gdk_screen_get_resolution(screen) / 96.0d;\n    }\n\n    private static double getGtk3ScaleFactor(GTK3 gtk3) {\n        Pointer display = gtk3.gdk_display_get_default();\n        int gtkMinorVersion = gtk3.gtk_get_minor_version();\n        if (gtkMinorVersion &lt; 10) {\n            System.err.println(\"Gtk 3.10+ is required to detect scaling factor, skipping.\");\n        } else if (gtkMinorVersion &gt;= 22) {\n            System.out.println(\"Gtk 3.22+ detected, calling \\\"gdk_monitor_get_scale_factor\\\"\");\n            Pointer monitor = gtk3.gdk_display_get_primary_monitor(display);\n            return gtk3.gdk_monitor_get_scale_factor(monitor);\n        } else if (gtkMinorVersion &gt;= 10) {\n            System.out.println(\"Gtk 3.10+ detected, calling \\\"gdk_screen_get_monitor_scale_factor\\\"\");\n            Pointer screen = gtk3.gdk_display_get_default_screen(display);\n            return gtk3.gdk_screen_get_monitor_scale_factor(screen, 0);\n        }\n        return 0;\n    }\n\n    /**\n    * Gtk2/Gtk3 wrapper\n    */\n    private interface GTK extends Library {\n        // Gtk2.0+\n        boolean gtk_init_check(int argc, String[] argv);\n        Pointer gdk_display_get_default();\n        Pointer gdk_display_get_default_screen (Pointer display);\n    }\n\n    private interface GTK3 extends GTK {\n        GTK3 INSTANCE = Native.loadLibrary(\"gtk-3\", GTK3.class);\n\n        // Gtk 3.0+\n        int gtk_get_minor_version ();\n\n        // Gtk 3.10-3.21\n        int gdk_screen_get_monitor_scale_factor (Pointer screen, int monitor_num);\n\n        // Gtk 3.22+\n        Pointer gdk_display_get_primary_monitor (Pointer display);\n        int gdk_monitor_get_scale_factor (Pointer monitor);\n    }\n\n    private interface GTK2 extends GTK {\n        GTK2 INSTANCE = Native.loadLibrary(\"gtk-x11-2.0\", GTK2.class);\n\n        // Gtk 2.1-3.0\n        double gdk_screen_get_resolution(Pointer screen);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":0,"creation_date":1637882113,"post_id":58244790,"comment_id":123949415,"body_markdown":"This seems to give `2.0` when running under windows when set to 200% scaling and `0.5` when running at 200% scaling.","body":"This seems to give <code>2.0</code> when running under windows when set to 200% scaling and <code>0.5</code> when running at 200% scaling."},{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1695338900,"post_id":58244790,"comment_id":136014858,"body_markdown":"Does this work in Java 8?","body":"Does this work in Java 8?"}],"tags":[],"owner":{"account_id":6483508,"reputation":111,"user_id":5019820,"display_name":"Alexander Zuban"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570240818,"creation_date":1570240818,"answer_id":58244790,"question_id":32586883,"body_markdown":"The following works for me. You need to get window actual device(for multi-monitor enviroment) and calc it&#39;s bound dimension agains display mode dimension.\r\n\r\n    public static double getWindowScale(Window window) {\r\n\t\tGraphicsDevice device = getWindowDevice(window);\r\n\t\treturn device.getDisplayMode().getWidth() / (double) device.getDefaultConfiguration().getBounds().width;\r\n\t}\r\n\r\n\tpublic static GraphicsDevice getWindowDevice(Window window) {\r\n\t\tRectangle bounds = window.getBounds();\r\n\t\treturn asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()).stream()\r\n\r\n\t\t\t\t// pick devices where window located\r\n\t\t\t\t.filter(d -&gt; d.getDefaultConfiguration().getBounds().intersects(bounds))\r\n\r\n\t\t\t\t// sort by biggest intersection square\r\n\t\t\t\t.sorted((f, s) -&gt; Long.compare(//\r\n\t\t\t\t\t\tsquare(f.getDefaultConfiguration().getBounds().intersection(bounds)),\r\n\t\t\t\t\t\tsquare(s.getDefaultConfiguration().getBounds().intersection(bounds))))\r\n\r\n\t\t\t\t// use one with the biggest part of the window\r\n\t\t\t\t.reduce((f, s) -&gt; s) //\r\n\r\n\t\t\t\t// fallback to default device\r\n\t\t\t\t.orElse(window.getGraphicsConfiguration().getDevice());\r\n\t}\r\n\r\n\tpublic static long square(Rectangle rec) {\r\n\t\treturn Math.abs(rec.width * rec.height);\r\n\t}","title":"Windows scaling","body":"<p>The following works for me. You need to get window actual device(for multi-monitor enviroment) and calc it's bound dimension agains display mode dimension.</p>\n\n<pre><code>public static double getWindowScale(Window window) {\n    GraphicsDevice device = getWindowDevice(window);\n    return device.getDisplayMode().getWidth() / (double) device.getDefaultConfiguration().getBounds().width;\n}\n\npublic static GraphicsDevice getWindowDevice(Window window) {\n    Rectangle bounds = window.getBounds();\n    return asList(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()).stream()\n\n            // pick devices where window located\n            .filter(d -&gt; d.getDefaultConfiguration().getBounds().intersects(bounds))\n\n            // sort by biggest intersection square\n            .sorted((f, s) -&gt; Long.compare(//\n                    square(f.getDefaultConfiguration().getBounds().intersection(bounds)),\n                    square(s.getDefaultConfiguration().getBounds().intersection(bounds))))\n\n            // use one with the biggest part of the window\n            .reduce((f, s) -&gt; s) //\n\n            // fallback to default device\n            .orElse(window.getGraphicsConfiguration().getDevice());\n}\n\npublic static long square(Rectangle rec) {\n    return Math.abs(rec.width * rec.height);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4842943,"reputation":275,"user_id":3907491,"display_name":"user3907491"},"score":0,"creation_date":1638112572,"post_id":70119734,"comment_id":123995430,"body_markdown":"Hey Charlie,\nwhere is the variable &quot;window&quot; coming from? AWT? How did you get that in Java 17?","body":"Hey Charlie, where is the variable &quot;window&quot; coming from? AWT? How did you get that in Java 17?"}],"tags":[],"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638131445,"creation_date":1637902503,"answer_id":70119734,"question_id":32586883,"body_markdown":"This works on macOS and Windows with Java 17\r\n```\r\npublic static Window getWindow(Component component) {\r\n    return component instanceof Window ? (Window) component : getWindow(component.getParent());\r\n}\r\n\r\n@Override\r\npublic synchronized void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n\r\n    float displayScaling = (float) getWindow(this).getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n}\r\n```","title":"Windows scaling","body":"<p>This works on macOS and Windows with Java 17</p>\n<pre><code>public static Window getWindow(Component component) {\n    return component instanceof Window ? (Window) component : getWindow(component.getParent());\n}\n\n@Override\npublic synchronized void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    float displayScaling = (float) getWindow(this).getGraphicsConfiguration().getDefaultTransform().getScaleX();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1695337359,"post_id":75457960,"comment_id":136014710,"body_markdown":"I was looking for a way to check the scaling of the Display in the Windows Desktop, and this was not it. Though it does give me a nice 1.0 for my trouble","body":"I was looking for a way to check the scaling of the Display in the Windows Desktop, and this was not it. Though it does give me a nice 1.0 for my trouble"},{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1695338933,"post_id":75457960,"comment_id":136014862,"body_markdown":"Using java 8, for the record, which other comments have said doesn&#39;t work for some of these solutions...","body":"Using java 8, for the record, which other comments have said doesn&#39;t work for some of these solutions..."}],"tags":[],"owner":{"account_id":3117228,"reputation":31,"user_id":2637743,"display_name":"MsxCowboy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676454478,"creation_date":1676454478,"answer_id":75457960,"question_id":32586883,"body_markdown":"Here&#39;s a &quot;one liner&quot; that should give you the scaling factor:\r\n\r\n```java\r\ndouble scale = java.awt.GraphicsEnvironment\r\n    .getLocalGraphicsEnvironment()\r\n    .getDefaultScreenDevice() // or cycle your getScreenDevices()\r\n    .getDefaultConfiguration()\r\n    .getDefaultTransform()\r\n    .getScaleX();\r\n```\r\n\r\nIf you already have a java.awt.Component, you can use this instead:\r\n\r\n```java\r\ndouble scale = myComponent.getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n```\r\n\r\n(based on [this article][1])\r\n\r\n\r\n  [1]: https://kynosarges.org/GuiDpiScaling.html#Factor","title":"Windows scaling","body":"<p>Here's a &quot;one liner&quot; that should give you the scaling factor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scale = java.awt.GraphicsEnvironment\n    .getLocalGraphicsEnvironment()\n    .getDefaultScreenDevice() // or cycle your getScreenDevices()\n    .getDefaultConfiguration()\n    .getDefaultTransform()\n    .getScaleX();\n</code></pre>\n<p>If you already have a java.awt.Component, you can use this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double scale = myComponent.getGraphicsConfiguration().getDefaultTransform().getScaleX();\n</code></pre>\n<p>(based on <a href=\"https://kynosarges.org/GuiDpiScaling.html#Factor\" rel=\"nofollow noreferrer\">this article</a>)</p>\n"}],"owner":{"account_id":67561,"reputation":7959,"user_id":197657,"accept_rate":85,"display_name":"dutt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8788,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":32588375,"answer_count":7,"score":11,"last_activity_date":1676454478,"creation_date":1442322299,"question_id":32586883,"body_markdown":"Windows 8/10 has started to include a slider for how much GUI elements should scale, right click on desktop -&gt; display. For a colleague with a laptop 4k-screen it&#39;s 250% while another colleague using the same resolution on a 4k 28&quot; screen it&#39;s 150%.\r\n\r\nHow do I read that value programmatically? I need to adjust some graphics so it looks the same on all screens.\r\n\r\nI&#39;m working in Java on a Eclipse RCP application, but a way that uses C or C++ through JNI works too. I&#39;ve been looking around but can&#39;t find anything.","title":"Windows scaling","body":"<p>Windows 8/10 has started to include a slider for how much GUI elements should scale, right click on desktop -> display. For a colleague with a laptop 4k-screen it's 250% while another colleague using the same resolution on a 4k 28\" screen it's 150%.</p>\n\n<p>How do I read that value programmatically? I need to adjust some graphics so it looks the same on all screens.</p>\n\n<p>I'm working in Java on a Eclipse RCP application, but a way that uses C or C++ through JNI works too. I've been looking around but can't find anything.</p>\n"},{"tags":["javascript","java","node.js","authentication","passport.js"],"answers":[{"tags":[],"owner":{"account_id":12257466,"reputation":2150,"user_id":9662626,"display_name":"Algo7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587378177,"creation_date":1587378177,"answer_id":61320152,"question_id":61276545,"body_markdown":"It should be\n \n\n    passport.use(new LocalStrategy ...\n\ninstead of your \n\n    passport.use(new Strategy(.....","title":"Nodejs Passport Failure message not working","body":"<p>It should be</p>\n\n<pre><code>passport.use(new LocalStrategy ...\n</code></pre>\n\n<p>instead of your </p>\n\n<pre><code>passport.use(new Strategy(.....\n</code></pre>\n"}],"owner":{"account_id":7833413,"reputation":73,"user_id":5922492,"accept_rate":36,"display_name":"Coco12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676454280,"creation_date":1587141763,"question_id":61276545,"body_markdown":"I have Passport Local working on my app.\r\n\r\nSuccess brings authenticates and failure does not.\r\nHowever im trying to make it fail better through fail messages and escaping the action.\r\n\r\nTried following the passport documentation.\r\n\r\nThe error messages are not appearing for some reason, would appreciate some assistance!\r\n\r\nhere is the local startegy\r\n```\r\n// Configure the local strategy for use by Passport.\r\npassport.use(new Strategy(\r\n  function(username, password, cb) {\r\n    db.users.findByUsername(username, function(err, user) {\r\n      if (err) { return cb(err); }\r\n      if (!user) { return cb(null, false,req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;)); }\r\n      if (user.password != password) { return cb(null, false,req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;)); }\r\n      return cb(null, user);\r\n    });\r\n  }));\r\n```\r\n\r\nThe authentication\r\n```\r\n//Home\r\napp.post(&#39;/home.ejs&#39;,\r\n  passport.authenticate(&#39;local&#39;),\r\n  function(req, res) {\r\n    res.redirect(&#39;/&#39;);\r\n  });\r\n```\r\nI also have another attempt at authentication if this is more accurate but also had no luck\r\n```\r\n  //Home\r\n  app.post(&#39;/home.ejs&#39;, function( req, res, next) { passport.authenticate(&#39;local&#39;, function(err, user, info) {\r\n\r\n            if (err) { return next(err);  req.flash(&#39;message&#39;,&#39;Invalid username or password&#39;) }\r\n\r\n            if (!user) { return res.redirect(&#39;/&#39;);  failureFlash: &#39;Invalid username or password&#39; }\r\n\r\n            req.logIn(user, function(err) {\r\n            if (err) { return next(err); }\r\n              return res.redirect(&#39;/&#39;);\r\n\r\n        });\r\n      })(req, res, next);\r\n    });*/\r\n\r\n```\r\n\r\n","title":"Nodejs Passport Failure message not working","body":"<p>I have Passport Local working on my app.</p>\n\n<p>Success brings authenticates and failure does not.\nHowever im trying to make it fail better through fail messages and escaping the action.</p>\n\n<p>Tried following the passport documentation.</p>\n\n<p>The error messages are not appearing for some reason, would appreciate some assistance!</p>\n\n<p>here is the local startegy</p>\n\n<pre><code>// Configure the local strategy for use by Passport.\npassport.use(new Strategy(\n  function(username, password, cb) {\n    db.users.findByUsername(username, function(err, user) {\n      if (err) { return cb(err); }\n      if (!user) { return cb(null, false,req.flash('message','Invalid username or password')); }\n      if (user.password != password) { return cb(null, false,req.flash('message','Invalid username or password')); }\n      return cb(null, user);\n    });\n  }));\n</code></pre>\n\n<p>The authentication</p>\n\n<pre><code>//Home\napp.post('/home.ejs',\n  passport.authenticate('local'),\n  function(req, res) {\n    res.redirect('/');\n  });\n</code></pre>\n\n<p>I also have another attempt at authentication if this is more accurate but also had no luck</p>\n\n<pre><code>  //Home\n  app.post('/home.ejs', function( req, res, next) { passport.authenticate('local', function(err, user, info) {\n\n            if (err) { return next(err);  req.flash('message','Invalid username or password') }\n\n            if (!user) { return res.redirect('/');  failureFlash: 'Invalid username or password' }\n\n            req.logIn(user, function(err) {\n            if (err) { return next(err); }\n              return res.redirect('/');\n\n        });\n      })(req, res, next);\n    });*/\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676454171,"creation_date":1676445963,"answer_id":75456613,"question_id":75455450,"body_markdown":"&gt; I think the `set()` method is a good choice, but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nYes, it&#39;s a good choice but as long as you call [DocumentReference#set(@NonNull Object data, @NonNull SetOptions options)][1] which:\r\n\r\n&gt; Writes to the document referred to by this DocumentReference. If the document does not yet exist, it will be created. If you pass SetOptions, the provided data can be **merged** into an existing document.\r\n\r\nSo in code, it should look like this:\r\n\r\n    Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n    update.put(&quot;field&quot;, &quot;data&quot;);\r\n    db.collection(&quot;screens&quot;).document(&quot;docId&quot;).set(data, SetOptions.merge());\r\n    //                                                      &#128070;        &#128070;\r\n\r\n**Edit:**\r\n\r\nIf you don&#39;t want the `creation date` and `name` fields to be overwritten, then **never** add into the `update` object the `creation date&#39; and &#39;name&#39; as keys. So use any other keys you want, but not those ones. In that way, you always have those two fields exactly as they were when they were created.\r\n\r\n&gt; but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nAs long as you never add those keys, you don&#39;t have to worry about it.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object,com.google.firebase.firestore.SetOptions)","title":"How to use Firestore set() method to update user fields without affecting required fields?","body":"<blockquote>\n<p>I think the <code>set()</code> method is a good choice, but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n</blockquote>\n<p>Yes, it's a good choice but as long as you call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object,com.google.firebase.firestore.SetOptions)\" rel=\"nofollow noreferrer\">DocumentReference#set(@NonNull Object data, @NonNull SetOptions options)</a> which:</p>\n<blockquote>\n<p>Writes to the document referred to by this DocumentReference. If the document does not yet exist, it will be created. If you pass SetOptions, the provided data can be <strong>merged</strong> into an existing document.</p>\n</blockquote>\n<p>So in code, it should look like this:</p>\n<pre><code>Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\nupdate.put(&quot;field&quot;, &quot;data&quot;);\ndb.collection(&quot;screens&quot;).document(&quot;docId&quot;).set(data, SetOptions.merge());\n//                                                              \n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>If you don't want the <code>creation date</code> and <code>name</code> fields to be overwritten, then <strong>never</strong> add into the <code>update</code> object the `creation date' and 'name' as keys. So use any other keys you want, but not those ones. In that way, you always have those two fields exactly as they were when they were created.</p>\n<blockquote>\n<p>but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n</blockquote>\n<p>As long as you never add those keys, you don't have to worry about it.</p>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456613,"answer_count":1,"score":0,"last_activity_date":1676454171,"creation_date":1676434747,"question_id":75455450,"body_markdown":"In Firestore, inside the &#39;screens&#39; collection, every document must have two required fields - &#39;creation date&#39; and &#39;name&#39; - and optional fields according to each user.\r\n\r\nI want to delete all fields inside the document and rewrite new fields when they click on the save button. However, I don&#39;t want to delete the &#39;creation date&#39; and &#39;name&#39; fields since they are created when the screen is first created.\r\n\r\nSince every user has different fields, I don&#39;t know what the fields will be, but every document should contain the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nPlease don&#39;t suggest using the &#39;update&#39; method since I need to remove all fields manually before rewriting new fields.\r\n\r\nI think the `set()` method is a good choice, but I want to ensure that this method doesn&#39;t touch the &#39;creation date&#39; and &#39;name&#39; fields.\r\n\r\nThere is no code currently, but I&#39;m asking if is there any easy way to do that or not.","title":"How to use Firestore set() method to update user fields without affecting required fields?","body":"<p>In Firestore, inside the 'screens' collection, every document must have two required fields - 'creation date' and 'name' - and optional fields according to each user.</p>\n<p>I want to delete all fields inside the document and rewrite new fields when they click on the save button. However, I don't want to delete the 'creation date' and 'name' fields since they are created when the screen is first created.</p>\n<p>Since every user has different fields, I don't know what the fields will be, but every document should contain the 'creation date' and 'name' fields.</p>\n<p>Please don't suggest using the 'update' method since I need to remove all fields manually before rewriting new fields.</p>\n<p>I think the <code>set()</code> method is a good choice, but I want to ensure that this method doesn't touch the 'creation date' and 'name' fields.</p>\n<p>There is no code currently, but I'm asking if is there any easy way to do that or not.</p>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":27784591,"reputation":11,"user_id":21212316,"display_name":"Krunal Lunagariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676453716,"creation_date":1676453716,"answer_id":75457829,"question_id":75457439,"body_markdown":"Check your java version , if your **Java** version is **18,19** or **20** delete your latest version and try to use **Java-8** or **Java-11**. \r\n\r\n-&gt; I tried Java **version 11** , My error was solve ","title":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26","body":"<p>Check your java version , if your <strong>Java</strong> version is <strong>18,19</strong> or <strong>20</strong> delete your latest version and try to use <strong>Java-8</strong> or <strong>Java-11</strong>.</p>\n<p>-&gt; I tried Java <strong>version 11</strong> , My error was solve</p>\n"}],"owner":{"account_id":27784591,"reputation":11,"user_id":21212316,"display_name":"Krunal Lunagariya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676453716,"creation_date":1676451676,"question_id":75457439,"body_markdown":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26 * What went wrong: A problem occurred evaluating root project &#39;android&#39;. &gt; A problem occurred configuring project &#39;:app&#39;. &gt; Could not open proj generic class cache for build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\app\\build.gradle&#39; (C:\\Users\\dell\\.gradle\\caches\\7.4\\scripts\\6kf7hlj2razsy2gytva6h994n). &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63 * Try: &gt; Run with --stacktrace option to get the stack trace. &gt; Run with --info or --debug option to get more log output. &gt; Run with --scan to get full insights.[![Open this image for output](https://i.stack.imgur.com/IGA7K.png)](https://i.stack.imgur.com/IGA7K.png)\r\n\r\nI tried to remove invalidate caches , after that i restart my computer , after that i unistall my flutter app in my device but, nothig happen.","title":"FAILURE: Build failed with an exception. * Where: Build file &#39;C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle&#39; line: 26","body":"<p>FAILURE: Build failed with an exception. * Where: Build file 'C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\build.gradle' line: 26 * What went wrong: A problem occurred evaluating root project 'android'. &gt; A problem occurred configuring project ':app'. &gt; Could not open proj generic class cache for build file 'C:\\Users\\dell\\AndroidStudioProjects\\attendance_manager\\android\\app\\build.gradle' (C:\\Users\\dell.gradle\\caches\\7.4\\scripts\\6kf7hlj2razsy2gytva6h994n). &gt; BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63 * Try: &gt; Run with --stacktrace option to get the stack trace. &gt; Run with --info or --debug option to get more log output. &gt; Run with --scan to get full insights.<a href=\"https://i.stack.imgur.com/IGA7K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IGA7K.png\" alt=\"Open this image for output\" /></a></p>\n<p>I tried to remove invalidate caches , after that i restart my computer , after that i unistall my flutter app in my device but, nothig happen.</p>\n"},{"tags":["java","spring-boot","servlets"],"answers":[{"comments":[{"owner":{"account_id":2841056,"reputation":1104,"user_id":2440669,"accept_rate":44,"display_name":"AForsberg"},"score":0,"creation_date":1575559742,"post_id":57972749,"comment_id":104614695,"body_markdown":"I also encountered this issue for a custom security filter after upgrading from Spring boot 1 series to the 2 series. I noticed in the logs that the filter seemed to be firing twice, and implementing OncePerRequestFilter did fix the issue, but I&#39;m curious as to why the HeaderWriterFilter calls my filter a second time and why that causes the response body to be stripped. Can you expand upon your answer?","body":"I also encountered this issue for a custom security filter after upgrading from Spring boot 1 series to the 2 series. I noticed in the logs that the filter seemed to be firing twice, and implementing OncePerRequestFilter did fix the issue, but I&#39;m curious as to why the HeaderWriterFilter calls my filter a second time and why that causes the response body to be stripped. Can you expand upon your answer?"}],"tags":[],"owner":{"account_id":16661749,"reputation":31,"user_id":12041531,"display_name":"Garage Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568717642,"creation_date":1568717642,"answer_id":57972749,"question_id":55466852,"body_markdown":"I started having the same problem when I upgraded to spring boot 2.1 from 1.5.8.\r\n\r\nBefore the upgrade, the filter HeaderWriterFilter was not in the filter chain, it seems to be added by spring automatically. This filter is also calling your filter when sendError is called.\r\n\r\nYou did not mention if you are implementing Filter or extending a specific filter, but if you can extend OncePerRequestFilter it should fix the issue.","title":"Why sendError returns empty response body","body":"<p>I started having the same problem when I upgraded to spring boot 2.1 from 1.5.8.</p>\n\n<p>Before the upgrade, the filter HeaderWriterFilter was not in the filter chain, it seems to be added by spring automatically. This filter is also calling your filter when sendError is called.</p>\n\n<p>You did not mention if you are implementing Filter or extending a specific filter, but if you can extend OncePerRequestFilter it should fix the issue.</p>\n"},{"comments":[{"owner":{"account_id":6025678,"reputation":615,"user_id":4785103,"accept_rate":56,"display_name":"C&#233;sar Castro Aroche"},"score":0,"creation_date":1682604419,"post_id":75457817,"comment_id":134244755,"body_markdown":"I did exactly that and it is still not working. I&#39;m on spring boot 3.0.","body":"I did exactly that and it is still not working. I&#39;m on spring boot 3.0."},{"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"score":0,"creation_date":1682668137,"post_id":75457817,"comment_id":134254948,"body_markdown":"Even in Spring boot 3.0, the same property is present in the [docs](https://docs.spring.io/spring-boot/docs/3.0.0/reference/htmlsingle/#appendix.application-properties.server:~:text=When%20to%20include%20%22message%22%20attribute.). \nTo confirm, you can test the same in both spring boot 2.3 and 3.0, and notice for any differences.","body":"Even in Spring boot 3.0, the same property is present in the <a href=\"https://docs.spring.io/spring-boot/docs/3.0.0/reference/htmlsingle/#appendix.application-properties.server:~:text=When%20to%20include%20%22message%22%20attribute.\" rel=\"nofollow noreferrer\">docs</a>.  To confirm, you can test the same in both spring boot 2.3 and 3.0, and notice for any differences."}],"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676453662,"creation_date":1676453662,"answer_id":75457817,"question_id":55466852,"body_markdown":"For Spring Boot 2.3 and above, **Add below property**\r\n\r\nin `application.yaml`\r\n```\r\nserver:\r\n  error:\r\n    include-message: always\r\n```\r\nor in `application.properties`\r\n```\r\nserver.error.include-message=always\r\n```\r\n\r\n**Note**:\r\nThis increases the risk of leaking information to a client.\r\n\r\n**From Spring Boot 2.3 Release Notes**:\r\n\r\n&gt; The error message and any binding errors are no longer included in the\r\n&gt; default error page by default. This reduces the risk of leaking\r\n&gt; information to a client. server.error.include-message and\r\n&gt; server.error.include-binding-errors can be used to control the\r\n&gt; inclusion of the message and binding errors respectively. Supported\r\n&gt; values are always, on-param, and never.\r\n\r\n\r\n\r\n**References**:\r\n- https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\r\n- https://stackoverflow.com/a/62069243/5384491\r\n- https://stackoverflow.com/a/63732087/5384491\r\n- https://stackoverflow.com/a/67582855/5384491","title":"Why sendError returns empty response body","body":"<p>For Spring Boot 2.3 and above, <strong>Add below property</strong></p>\n<p>in <code>application.yaml</code></p>\n<pre><code>server:\n  error:\n    include-message: always\n</code></pre>\n<p>or in <code>application.properties</code></p>\n<pre><code>server.error.include-message=always\n</code></pre>\n<p><strong>Note</strong>:\nThis increases the risk of leaking information to a client.</p>\n<p><strong>From Spring Boot 2.3 Release Notes</strong>:</p>\n<blockquote>\n<p>The error message and any binding errors are no longer included in the\ndefault error page by default. This reduces the risk of leaking\ninformation to a client. server.error.include-message and\nserver.error.include-binding-errors can be used to control the\ninclusion of the message and binding errors respectively. Supported\nvalues are always, on-param, and never.</p>\n</blockquote>\n<p><strong>References</strong>:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content</a></li>\n<li><a href=\"https://stackoverflow.com/a/62069243/5384491\">https://stackoverflow.com/a/62069243/5384491</a></li>\n<li><a href=\"https://stackoverflow.com/a/63732087/5384491\">https://stackoverflow.com/a/63732087/5384491</a></li>\n<li><a href=\"https://stackoverflow.com/a/67582855/5384491\">https://stackoverflow.com/a/67582855/5384491</a></li>\n</ul>\n"}],"owner":{"account_id":6210451,"reputation":71,"user_id":4836892,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2454,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1676453662,"creation_date":1554178367,"question_id":55466852,"body_markdown":"I am trying to use sendError method from HttpServletResponse, but always get back an empty body response.\r\n\r\n```java\r\n@Override\r\nprotected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, \r\n                                @NonNull HttpServletResponse httpServletResponse,\r\n                                @NonNull FilterChain filterChain)\r\n                                    throws ServletException, IOException {\r\n        \r\n        String token = jwtTokenProvider.resolveToken(httpServletRequest);\r\n        try {\r\n            if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\r\n                Authentication auth = jwtTokenProvider.getAuthentication(token);\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        } catch (CustomException ex) {\r\n            SecurityContextHolder.clearContext();\r\n            httpServletResponse.sendError(ex.getHttpStatus().value(), ex.getMessage());\r\n            return;\r\n        }\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n}\r\n```\r\n\r\nSince it didn&#39;t work, I tried constructing my own response and return it to client (this is an API call).\r\n\r\n```java\r\nString error = &quot;Expired or invalid JWT token&quot;;\r\nApiError errorResponse = new ApiError(new Date(),500, HttpStatus.INTERNAL_SERVER_ERROR, error, ex.getLocalizedMessage(), httpServletRequest.getRequestURL().toString());\r\nhttpServletResponse.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\nhttpServletResponse.getWriter().write(convertObjectToJson(errorResponse));\r\n```\r\n\r\n```java\r\nprivate String convertObjectToJson(Object object) throws JsonProcessingException {\r\n        if (object == null) {\r\n            return null;\r\n        }\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(object);\r\n}\r\n```\r\n\r\nThis works, but I had to construct it using string and then convert it to JSON. I want to just use the sendError method. Can someone help me figure out why the response body is always empty? The status code of the empty body response (when using sendError) is 403.","title":"Why sendError returns empty response body","body":"<p>I am trying to use sendError method from HttpServletResponse, but always get back an empty body response.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doFilterInternal(@NonNull HttpServletRequest httpServletRequest, \n                                @NonNull HttpServletResponse httpServletResponse,\n                                @NonNull FilterChain filterChain)\n                                    throws ServletException, IOException {\n\n        String token = jwtTokenProvider.resolveToken(httpServletRequest);\n        try {\n            if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n                Authentication auth = jwtTokenProvider.getAuthentication(token);\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            }\n        } catch (CustomException ex) {\n            SecurityContextHolder.clearContext();\n            httpServletResponse.sendError(ex.getHttpStatus().value(), ex.getMessage());\n            return;\n        }\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n}\n</code></pre>\n\n<p>Since it didn't work, I tried constructing my own response and return it to client (this is an API call).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String error = \"Expired or invalid JWT token\";\nApiError errorResponse = new ApiError(new Date(),500, HttpStatus.INTERNAL_SERVER_ERROR, error, ex.getLocalizedMessage(), httpServletRequest.getRequestURL().toString());\nhttpServletResponse.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\nhttpServletResponse.getWriter().write(convertObjectToJson(errorResponse));\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>private String convertObjectToJson(Object object) throws JsonProcessingException {\n        if (object == null) {\n            return null;\n        }\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(object);\n}\n</code></pre>\n\n<p>This works, but I had to construct it using string and then convert it to JSON. I want to just use the sendError method. Can someone help me figure out why the response body is always empty? The status code of the empty body response (when using sendError) is 403.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1605188011,"post_id":64804837,"comment_id":114578102,"body_markdown":"Reread the error message. Where is your Errors parameter declared? Does it satisfy what the error message says?","body":"Reread the error message. Where is your Errors parameter declared? Does it satisfy what the error message says?"},{"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"score":0,"creation_date":1605188293,"post_id":64804837,"comment_id":114578225,"body_markdown":"@SotiriosDelimanolis My Errors parameter is declared within the input parameters from the allocate() function. I don&#39;t know what you mean, I used a very similar logic in building all my other controllers and they worked fine.","body":"@SotiriosDelimanolis My Errors parameter is declared within the input parameters from the allocate() function. I don&#39;t know what you mean, I used a very similar logic in building all my other controllers and they worked fine."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1605188416,"post_id":64804837,"comment_id":114578284,"body_markdown":"Im talking about your transfer method.  Is the Errors parameter declared immediately after the model attribute, the `@RequestBody` or the `@RequestPart` arguments?","body":"Im talking about your transfer method.  Is the Errors parameter declared immediately after the model attribute, the <code>@RequestBody</code> or the <code>@RequestPart</code> arguments?"},{"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"score":0,"creation_date":1605189160,"post_id":64804837,"comment_id":114578653,"body_markdown":"I got it now, thank you. But now I&#39;m getting another type of error, it&#39;s saying that the &quot;code&quot; parameter is missing, I think from the servlet side.","body":"I got it now, thank you. But now I&#39;m getting another type of error, it&#39;s saying that the &quot;code&quot; parameter is missing, I think from the servlet side."}],"owner":{"account_id":18001860,"reputation":293,"user_id":13499542,"display_name":"Gabriel Pulga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676453080,"creation_date":1605187838,"question_id":64804837,"body_markdown":"Below is code from a controller that I&#39;m aiming to make sure it&#39;s receiving two input parameters (name and code) from a front-end interface.\r\n\r\nIt&#39;s a page that takes two parameters within a submit form, &quot;name&quot; and &quot;code&quot;.\r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n        public String transfer(@RequestParam(name = &quot;name&quot;) String name,\r\n                             @RequestParam(name = &quot;code&quot;) String code,\r\n                             Errors errors, RedirectAttributes redirectAttributes) {\r\n            if (errors.hasErrors()) {\r\n                return &quot;htmlPageOne&quot;;\r\n            }\r\n    \r\n            try {\r\n                User userToBeTransferred = usersRepository.findByName(name);\r\n                userToBeTransferred.setTransferred(true);\r\n    \r\n                Region regionOfTransference = regionsRepository.findByCode(code);\r\n                regionOfTransference.setPopulationNumber(regionOfTransference.getPopulationNumber() + 1);\r\n    \r\n                userToBeTransferred.setRegion(regionOfTransference);\r\n    \r\n                usersRepository.save(userToBeTransferred);\r\n                regionsRepository.save(regionOfTransference);\r\n    \r\n                return &quot;redirect:/section/users/new&quot;;\r\n            } catch (IllegalArgumentException e) {\r\n                return &quot;htmlPageOne&quot;;\r\n            }\r\n        }\r\n\r\nThe front-page form :\r\n\r\n    &lt;form class=&quot;form-horizontal&quot; method=&quot;POST&quot; action=&quot;/section/users/new&quot; th:object=&quot;${user}&quot;&gt;\r\n    \r\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n                    &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label for=&quot;name&quot; class=&quot;col-form-label&quot;&gt;User name&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;*{name}&quot; name=&quot;name&quot;/&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;form-group row&quot;&gt;\r\n                    &lt;label for=&quot;code&quot; class=&quot;col-form-label&quot;&gt;Code&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;code&quot; th:field=&quot;*{region.code}&quot; name=&quot;code&quot;/&gt;&lt;/div&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary col-sm-6 &quot;&gt;Save&lt;/button&gt;\r\n            &lt;/form&gt;\r\n\r\nFor some reason, I&#39;m getting the following error after I click to submit the form :\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An Errors/BindingResult argument is expected to be declared immediately after the model attribute, the @RequestBody or the @RequestPart arguments to which they apply: public java.lang.String\r\n\r\nI&#39;m not sure if I&#39;m using the requestparams correctly, so maybe it&#39;s got something to do with this? I don&#39;t know, I&#39;ve been stuck on this for a few hours now, so would appreciate if someone could help me.","title":"BindingResult error from submitting a form with two request parameters","body":"<p>Below is code from a controller that I'm aiming to make sure it's receiving two input parameters (name and code) from a front-end interface.</p>\n<p>It's a page that takes two parameters within a submit form, &quot;name&quot; and &quot;code&quot;.</p>\n<pre><code>@RequestMapping(method = RequestMethod.POST)\n    public String transfer(@RequestParam(name = &quot;name&quot;) String name,\n                         @RequestParam(name = &quot;code&quot;) String code,\n                         Errors errors, RedirectAttributes redirectAttributes) {\n        if (errors.hasErrors()) {\n            return &quot;htmlPageOne&quot;;\n        }\n\n        try {\n            User userToBeTransferred = usersRepository.findByName(name);\n            userToBeTransferred.setTransferred(true);\n\n            Region regionOfTransference = regionsRepository.findByCode(code);\n            regionOfTransference.setPopulationNumber(regionOfTransference.getPopulationNumber() + 1);\n\n            userToBeTransferred.setRegion(regionOfTransference);\n\n            usersRepository.save(userToBeTransferred);\n            regionsRepository.save(regionOfTransference);\n\n            return &quot;redirect:/section/users/new&quot;;\n        } catch (IllegalArgumentException e) {\n            return &quot;htmlPageOne&quot;;\n        }\n    }\n</code></pre>\n<p>The front-page form :</p>\n<pre><code>&lt;form class=&quot;form-horizontal&quot; method=&quot;POST&quot; action=&quot;/section/users/new&quot; th:object=&quot;${user}&quot;&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label for=&quot;name&quot; class=&quot;col-form-label&quot;&gt;User name&lt;/label&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; th:field=&quot;*{name}&quot; name=&quot;name&quot;/&gt;&lt;/div&gt;\n            &lt;div class=&quot;form-group row&quot;&gt;\n                &lt;label for=&quot;code&quot; class=&quot;col-form-label&quot;&gt;Code&lt;/label&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;code&quot; th:field=&quot;*{region.code}&quot; name=&quot;code&quot;/&gt;&lt;/div&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary col-sm-6 &quot;&gt;Save&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>For some reason, I'm getting the following error after I click to submit the form :</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn Errors/BindingResult argument is expected to be declared immediately after the model attribute, the @RequestBody or the @RequestPart arguments to which they apply: public java.lang.String\n</code></pre>\n<p>I'm not sure if I'm using the requestparams correctly, so maybe it's got something to do with this? I don't know, I've been stuck on this for a few hours now, so would appreciate if someone could help me.</p>\n"},{"tags":["java","testing","lambda","junit"],"answers":[{"tags":[],"owner":{"account_id":13312895,"reputation":33,"user_id":9610377,"display_name":"Asel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676452769,"creation_date":1676452769,"answer_id":75457657,"question_id":75457230,"body_markdown":"Since you want to test the behavior of the listFiles method when it is passed a lambda expression as a parameter, you can create a mock object of the File class and set it up to return the expected array of files when the listFiles method is called with a lambda expression that matches the condition you want to test.\r\n\r\nPlease refer to the example test case using Mockito :\r\n\r\n    @Test\r\n        public void testListFiles() {\r\n            File[] expectedFiles = {new File(&quot;FILE_50020230215.txt&quot;), new File(&quot;FILE_50020230215.csv&quot;)};\r\n            File directory = mock(File.class);\r\n            when(directory.listFiles(any())).thenReturn(expectedFiles);\r\n            \r\n            File[] actualFiles = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_50020230215&quot;));\r\n            \r\n            assertEquals(expectedFiles.length, actualFiles.length);\r\n            for (int i = 0; i &lt; expectedFiles.length; i++) {\r\n                assertEquals(expectedFiles[i], actualFiles[i]);\r\n            }\r\n        }\r\n\r\n","title":"JUnit lambda expression","body":"<p>Since you want to test the behavior of the listFiles method when it is passed a lambda expression as a parameter, you can create a mock object of the File class and set it up to return the expected array of files when the listFiles method is called with a lambda expression that matches the condition you want to test.</p>\n<p>Please refer to the example test case using Mockito :</p>\n<pre><code>@Test\n    public void testListFiles() {\n        File[] expectedFiles = {new File(&quot;FILE_50020230215.txt&quot;), new File(&quot;FILE_50020230215.csv&quot;)};\n        File directory = mock(File.class);\n        when(directory.listFiles(any())).thenReturn(expectedFiles);\n        \n        File[] actualFiles = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_50020230215&quot;));\n        \n        assertEquals(expectedFiles.length, actualFiles.length);\n        for (int i = 0; i &lt; expectedFiles.length; i++) {\n            assertEquals(expectedFiles[i], actualFiles[i]);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676452769,"creation_date":1676450461,"question_id":75457230,"body_markdown":"Good morning,\r\nI need to make a test for a class which use the following method:\r\n\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_500&quot;+date));\r\n\r\nTo test this part of code I have the following code:\r\n\r\n    when(directory.listFiles((dir,name)-&gt;name.startsWith(&quot;FILE_500&quot;))).thenReturn(files);\r\nBut IDE says &quot;Unnecessary stubbings detected&quot; because name.startsWith is never call on test.\r\n\r\nHow can I test this part of code?\r\n\r\nKind regards","title":"JUnit lambda expression","body":"<p>Good morning,\nI need to make a test for a class which use the following method:</p>\n<pre><code>File[] files = directory.listFiles((dir, name) -&gt; name.startsWith(&quot;FILE_500&quot;+date));\n</code></pre>\n<p>To test this part of code I have the following code:</p>\n<pre><code>when(directory.listFiles((dir,name)-&gt;name.startsWith(&quot;FILE_500&quot;))).thenReturn(files);\n</code></pre>\n<p>But IDE says &quot;Unnecessary stubbings detected&quot; because name.startsWith is never call on test.</p>\n<p>How can I test this part of code?</p>\n<p>Kind regards</p>\n"},{"tags":["java","spring-boot","junit"],"answers":[{"tags":[],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676452438,"creation_date":1676452438,"answer_id":75457578,"question_id":75457528,"body_markdown":"Make sure that the DocumentRepository is being scanned by Spring component scanning. This can be done by adding the @ComponentScan annotation to your @SpringBootTest class.\r\nExample:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @ComponentScan(basePackages = &quot;com.example.repository&quot;)\r\n    public class DocumentServiceTest {\r\n    \r\n        @Autowired\r\n        protected DocumentRepositoryTest documentRepositoryTest;\r\n    \r\n        @Test\r\n        void testQuery() {\r\n            Object o = documentRepositoryTest.runQuery(2);\r\n        }\r\n    }","title":"Junit basic test for native query not working properly","body":"<p>Make sure that the DocumentRepository is being scanned by Spring component scanning. This can be done by adding the @ComponentScan annotation to your @SpringBootTest class.\nExample:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ComponentScan(basePackages = &quot;com.example.repository&quot;)\npublic class DocumentServiceTest {\n\n    @Autowired\n    protected DocumentRepositoryTest documentRepositoryTest;\n\n    @Test\n    void testQuery() {\n        Object o = documentRepositoryTest.runQuery(2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75457578,"answer_count":1,"score":0,"last_activity_date":1676452438,"creation_date":1676452162,"question_id":75457528,"body_markdown":"I&#39;m trying to test in SpringBoot application using JUnit some query and I&#39;m getting this error:\r\n\r\n    NoSuchBeanDefinitionException: No qualifying bean of type DocumentRepositoryTest\r\n\r\n```java\r\n@Repository\r\npublic interface DocumentRepositoryTest extends DocumentRepository {\r\n\r\n\t@Query(&quot;SELECT * &quot; +\r\n\t\t\t&quot;FROM document d&quot; +\r\n\t\t\t&quot;WHERE d.id = :id&quot;)\r\n\tObject runQuery(@NonNull Integer id);\r\n}\r\n\r\n@SpringBootTest\r\npublic class DocumentServiceTest {\r\n\r\n\t@Autowired\r\n\tprotected DocumentRepositoryTest documentRepositoryTest;\r\n\r\n\t@Test\r\n\tvoid testQuery() {\r\n\t\tObject o = documentRepositoryTest.runQuery(2);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI cant understand why I have this issue ?","title":"Junit basic test for native query not working properly","body":"<p>I'm trying to test in SpringBoot application using JUnit some query and I'm getting this error:</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type DocumentRepositoryTest\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface DocumentRepositoryTest extends DocumentRepository {\n\n    @Query(&quot;SELECT * &quot; +\n            &quot;FROM document d&quot; +\n            &quot;WHERE d.id = :id&quot;)\n    Object runQuery(@NonNull Integer id);\n}\n\n@SpringBootTest\npublic class DocumentServiceTest {\n\n    @Autowired\n    protected DocumentRepositoryTest documentRepositoryTest;\n\n    @Test\n    void testQuery() {\n        Object o = documentRepositoryTest.runQuery(2);\n    }\n}\n\n</code></pre>\n<p>I cant understand why I have this issue ?</p>\n"},{"tags":["java","spring","soap","wsdl","spring-ws"],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676452417,"creation_date":1676452417,"question_id":75457570,"body_markdown":"I am trying to rewrite existing service from Axis 1 to Spring WS. I have been looking at a lot of examples and simple tutorials but none of them uses multiple parts in input message of SOAP operation.\r\n\r\nDoes Spring WS allow binding multiple `wsdl:part`s to a function parameters in `@Endpoint` class? If it does, how?\r\n\r\nMy input message looks like this:\r\n\r\n\t&lt;wsdl:message name=&quot;getMetricDataRequest&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;agent&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;metric&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;startTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t\t&lt;wsdl:part name=&quot;endTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t&lt;/wsdl:message&gt;","title":"Multiple wsdl:part elements in input message of SOAP operation","body":"<p>I am trying to rewrite existing service from Axis 1 to Spring WS. I have been looking at a lot of examples and simple tutorials but none of them uses multiple parts in input message of SOAP operation.</p>\n<p>Does Spring WS allow binding multiple <code>wsdl:part</code>s to a function parameters in <code>@Endpoint</code> class? If it does, how?</p>\n<p>My input message looks like this:</p>\n<pre><code>&lt;wsdl:message name=&quot;getMetricDataRequest&quot;&gt;\n    &lt;wsdl:part name=&quot;agent&quot; type=&quot;xsd:string&quot;/&gt;\n    &lt;wsdl:part name=&quot;metric&quot; type=&quot;xsd:string&quot;/&gt;\n    &lt;wsdl:part name=&quot;startTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\n    &lt;wsdl:part name=&quot;endTime&quot; type=&quot;xsd:dateTime&quot;/&gt;\n&lt;/wsdl:message&gt;\n</code></pre>\n"},{"tags":["java","jpa","junit","query-by-example"],"owner":{"account_id":16221088,"reputation":45,"user_id":11712609,"display_name":"momo1108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676451625,"creation_date":1676355777,"question_id":75444141,"body_markdown":"I&#39;m testing my jpa codes with junit, which using ExampleMatcher.\r\n\r\nThis code should **filter users with email by matching end of it.**\r\n\r\n#### Here&#39;s my code about domain object(User)\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Entity\r\n@Table(name = &quot;myuser&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @NonNull\r\n    private String name;\r\n\r\n    @NonNull\r\n    private String email;\r\n\r\n    private LocalDateTime createdAt;\r\n\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\n#### And I tested filtering with my code below.\r\n```java\r\n@Test\r\nvoid crud7(){\r\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\r\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\r\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\r\n    ExampleMatcher matcher = ExampleMatcher.matching()\r\n            .withIgnorePaths(&quot;name&quot;)\r\n            .withMatcher(&quot;email&quot;, endsWith());\r\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\r\n\r\n    userRepository.findAll(example).forEach(System.out::println);\r\n}\r\n```\r\n\r\nI thought this code would work fine, but no matching data was found.\r\n\r\nI&#39;ve also made sure that three user data are properly been saved.\r\n\r\n#### Also, I found that Hibernate log contains code about matching primary key in query.\r\n\r\n```mysql\r\nHibernate: \r\n    select\r\n        u1_0.id,\r\n        u1_0.created_at,\r\n        u1_0.email,\r\n        u1_0.name,\r\n        u1_0.updated_at \r\n    from\r\n        myuser u1_0 \r\n    where\r\n        u1_0.id=? \r\n        and u1_0.email like ? escape &#39;\\&#39;\r\n```\r\n\r\n---\r\n\r\n##### I don&#39;t know why that happened, but when I fix my filtering code like below, it works fine as I want.\r\nI added code to ignore primary key (`.withIgnorePaths(&quot;id&quot;)`)\r\n```java\r\n@Test\r\nvoid crud7(){\r\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\r\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\r\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\r\n    ExampleMatcher matcher = ExampleMatcher.matching()\r\n            .withIgnorePaths(&quot;name&quot;)\r\n            .withIgnorePaths(&quot;id&quot;)\r\n            .withMatcher(&quot;email&quot;, endsWith());\r\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\r\n\r\n    userRepository.findAll(example).forEach(System.out::println);\r\n}\r\n```\r\n\r\nSo, does ExampleMatcher works with primary key by default, or am I missing something?\r\n\r\nFYI) Release Version\r\n```gradle\r\nid &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\ncom.h2database:h2:2.1.214\r\n```\r\n","title":"Does ExampleMatcher match primarykey by default?","body":"<p>I'm testing my jpa codes with junit, which using ExampleMatcher.</p>\n<p>This code should <strong>filter users with email by matching end of it.</strong></p>\n<h4>Here's my code about domain object(User)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;myuser&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @NonNull\n    private String name;\n\n    @NonNull\n    private String email;\n\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<h4>And I tested filtering with my code below.</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid crud7(){\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\n    ExampleMatcher matcher = ExampleMatcher.matching()\n            .withIgnorePaths(&quot;name&quot;)\n            .withMatcher(&quot;email&quot;, endsWith());\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\n\n    userRepository.findAll(example).forEach(System.out::println);\n}\n</code></pre>\n<p>I thought this code would work fine, but no matching data was found.</p>\n<p>I've also made sure that three user data are properly been saved.</p>\n<h4>Also, I found that Hibernate log contains code about matching primary key in query.</h4>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.created_at,\n        u1_0.email,\n        u1_0.name,\n        u1_0.updated_at \n    from\n        myuser u1_0 \n    where\n        u1_0.id=? \n        and u1_0.email like ? escape '\\'\n</code></pre>\n<hr />\n<h5>I don't know why that happened, but when I fix my filtering code like below, it works fine as I want.</h5>\n<p>I added code to ignore primary key (<code>.withIgnorePaths(&quot;id&quot;)</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid crud7(){\n    userRepository.save(new User(&quot;hyechan&quot;, &quot;hyechan1108@google.com&quot;));\n    userRepository.save(new User(&quot;steve&quot;, &quot;steve4234@google.com&quot;));\n    userRepository.save(new User(&quot;roger&quot;, &quot;roger11@naver.com&quot;));\n    ExampleMatcher matcher = ExampleMatcher.matching()\n            .withIgnorePaths(&quot;name&quot;)\n            .withIgnorePaths(&quot;id&quot;)\n            .withMatcher(&quot;email&quot;, endsWith());\n    Example&lt;User&gt; example = Example.of(new User(&quot;ma&quot;, &quot;google.com&quot;), matcher);\n\n    userRepository.findAll(example).forEach(System.out::println);\n}\n</code></pre>\n<p>So, does ExampleMatcher works with primary key by default, or am I missing something?</p>\n<p>FYI) Release Version</p>\n<pre><code>id 'org.springframework.boot' version '3.0.2'\ncom.h2database:h2:2.1.214\n</code></pre>\n"},{"tags":["java","spring-boot","service","annotations","repository"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1676415985,"post_id":75453427,"comment_id":133132000,"body_markdown":"Can you provide the reference of &#39;---myprojectpath---&#39; ?\nLooks like there is reference of ---myprojectpath--- somewhere in your MyRepository","body":"Can you provide the reference of &#39;---myprojectpath---&#39; ? Looks like there is reference of ---myprojectpath--- somewhere in your MyRepository"}],"answers":[{"comments":[{"owner":{"account_id":23609072,"reputation":21,"user_id":17644344,"display_name":"pietro99"},"score":0,"creation_date":1676448759,"post_id":75455678,"comment_id":133136661,"body_markdown":"thank you for your answer, but even changing the object&#39;s names i still see the same error log, maybe there is something wrong in the pom.xml?","body":"thank you for your answer, but even changing the object&#39;s names i still see the same error log, maybe there is something wrong in the pom.xml?"}],"tags":[],"owner":{"account_id":11173409,"reputation":1641,"user_id":8199738,"display_name":"Arun Kumar N"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676437547,"creation_date":1676437547,"answer_id":75455678,"question_id":75453427,"body_markdown":"No major mistakes in your code. Just use the naming standards(camelCase) properly for your objects. Here is the working code with the proper naming of variables.\r\n\r\n**MyServiceImpl.java**\r\n\r\n    @Service\r\n    @Transactional(readOnly = false)\r\n    public class MyServiceImpl implements MyService{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\r\n    \r\n        @Autowired\r\n        private MyRepository myRepository ;\r\n    \r\n        public List&lt;Data&gt; getDatasBean() throws Exception {\r\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\r\n            try {\r\n                return myRepository.getAllDatas();\r\n            } catch (NoResultException e) {\r\n                return null;\r\n            } catch (IllegalStateException | IllegalArgumentException e) {\r\n                throw new Exception(e);\r\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\r\n            }\r\n        }\r\n    }\r\n\r\n**Mycontroller.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/Mycontroller&quot;)\r\n    public class Mycontroller{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        @Autowired\r\n        private MyService myService ;\r\n    \r\n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\r\n        public ResponseEntity getDatas() {\r\n            try {\r\n                List responseEntity = new ArrayList();\r\n                List&lt;Data&gt; datas= myService.getDatasBean();\r\n    \r\n            } catch (Exception e) {\r\n            }\r\n            ..........\r\n        }\r\n    }","title":"My springBoot project can&#39;t autowire his services with the repositories","body":"<p>No major mistakes in your code. Just use the naming standards(camelCase) properly for your objects. Here is the working code with the proper naming of variables.</p>\n<p><strong>MyServiceImpl.java</strong></p>\n<pre><code>@Service\n@Transactional(readOnly = false)\npublic class MyServiceImpl implements MyService{\n    private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\n\n    @Autowired\n    private MyRepository myRepository ;\n\n    public List&lt;Data&gt; getDatasBean() throws Exception {\n        LOGGER.info(String.format(&quot;looking for datas&quot;));\n        try {\n            return myRepository.getAllDatas();\n        } catch (NoResultException e) {\n            return null;\n        } catch (IllegalStateException | IllegalArgumentException e) {\n            throw new Exception(e);\n            //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\n        }\n    }\n}\n</code></pre>\n<p><strong>Mycontroller.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/Mycontroller&quot;)\npublic class Mycontroller{\n    private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\n    ObjectMapper mapper = new ObjectMapper();\n    @Autowired\n    private MyService myService ;\n\n    @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity getDatas() {\n        try {\n            List responseEntity = new ArrayList();\n            List&lt;Data&gt; datas= myService.getDatasBean();\n\n        } catch (Exception e) {\n        }\n        ..........\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23609072,"reputation":21,"user_id":17644344,"display_name":"pietro99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676451617,"creation_date":1676409999,"question_id":75453427,"body_markdown":"As i said in the title i have a springboot project and i&#39;m trying to run it, but when i try to start a clean install using maven i get an error during the test :\r\n\r\n&gt; `Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.805 s &lt;&lt;&lt; FAILURE! - in ---myprojectpath---`\r\n&gt; `contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!`\r\n&gt; `java.lang.IllegalStateException: Failed to load ApplicationContext`\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myController&#39;: Unsatisfied dependency expressed through field &#39;myService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;myRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;myRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n&gt; `Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;---myprojectpath---&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\nif i ignore this error during the build of mav`your text`en i still get a different error when i try tu run my app, i hope that resolving this error ill&#39; be finally able to solve everything.\r\n\r\nAnyways here is a part of  my controller:\r\n\r\n```\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/Mycontroller&quot;)\r\n    public class Mycontroller{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        @Autowired\r\n        private MyService MyService ;\r\n    \r\n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\r\n        public ResponseEntity getDatas() {\r\n            try {\r\n                DataList responseEntity = new DataList ();\r\n                List&lt;Data&gt; datas= MyService.getDatasBean();\r\n                ..........\r\n    \r\n            } catch (Exception e) {\r\n                ..........\r\n            }\r\n    \r\n        }\r\n    }\r\n```\r\n\r\nhere is my service:\r\n\r\n```\r\n\r\n    public interface MyService {\r\n    \r\n        List&lt;Data&gt; getDatasBean() throws Exception;\r\n    }\r\n```\r\n\r\nhere is the implementation of my service\r\n\r\n```\r\n    import org.slf4j.Logger;import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import javax.persistence.NoResultException;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @Transactional(readOnly = false)\r\n    public class MyServiceImpl implements MyService{\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\r\n    \r\n        @Autowired\r\n        private MyRepository MyRepository ;\r\n    \r\n        public List&lt;Data&gt; getDatasBean() throws Exception {\r\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\r\n            try {\r\n                return MyRepository.getAllDatas();\r\n            } catch (NoResultException e) {\r\n                return null;\r\n            } catch (IllegalStateException | IllegalArgumentException e) {\r\n                throw new Exception(e);\r\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nhere is the repository:\r\n\r\n```\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface MyRepository extends CrudRepository&lt;Data, Long&gt; {\r\n        @Query(&quot;SELECT a &quot; +&quot;FROM Data a &quot;)\r\n        List&lt;Data&gt; getAllDatas();\r\n    }\r\n```\r\n\r\nas you can read in the log the error is when i bind Myserviceimpl with MyRepository... but i don&#39;t understand what i did wrong.... here is my pom.xml:\r\n\r\n```\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven 4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.1&lt;/version&gt;\r\n                &lt;relativePath/&gt;\r\n                &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n        \r\n            &lt;artifactId&gt;Myproject-jpa&lt;/artifactId&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;name&gt;Myproject-jpa&lt;/name&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.12.4&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.14&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n        \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.6.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;11&lt;/source&gt;\r\n                            &lt;target&gt;11&lt;/target&gt;\r\n                            &lt;annotationProcessorPaths&gt;\r\n                                &lt;path&gt;\r\n                                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                                &lt;/path&gt;\r\n                            &lt;/annotationProcessorPaths&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/project&gt;\r\n```\r\n\r\nany help is appreciated, thanks :)\r\n\r\nI tried to run the various maven steps (clean,validate,compile,test,package,verify,install) but i got the error that i already pasted, and i tryed to run anyway my application but i get a different error(i think that this last error can be resolvedjust resolving the error that comes up during the test).\r\ni tryed to change the dependencies in the pom.xml but honestly i still don&#39;t understand it at all.","title":"My springBoot project can&#39;t autowire his services with the repositories","body":"<p>As i said in the title i have a springboot project and i'm trying to run it, but when i try to start a clean install using maven i get an error during the test :</p>\n<blockquote>\n<p><code>Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.805 s &lt;&lt;&lt; FAILURE! - in ---myprojectpath---</code>\n<code>contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!</code>\n<code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>\n<code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myController': Unsatisfied dependency expressed through field 'myService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'myRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code>\n<code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myServiceImpl': Unsatisfied dependency expressed through field 'myRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code>\n<code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '---myprojectpath---' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n</blockquote>\n<p>if i ignore this error during the build of mav<code>your text</code>en i still get a different error when i try tu run my app, i hope that resolving this error ill' be finally able to solve everything.</p>\n<p>Anyways here is a part of  my controller:</p>\n<pre><code>    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    import org.springframework.http.ResponseEntity;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n    \n    import java.util.List;\n    \n    @RestController\n    @RequestMapping(&quot;/Mycontroller&quot;)\n    public class Mycontroller{\n        private static final Logger LOGGER = LoggerFactory.getLogger(Mycontroller.class);\n        ObjectMapper mapper = new ObjectMapper();\n        @Autowired\n        private MyService MyService ;\n    \n        @GetMapping(value = &quot;/getDatas&quot;, produces = &quot;application/json&quot;)\n        public ResponseEntity getDatas() {\n            try {\n                DataList responseEntity = new DataList ();\n                List&lt;Data&gt; datas= MyService.getDatasBean();\n                ..........\n    \n            } catch (Exception e) {\n                ..........\n            }\n    \n        }\n    }\n</code></pre>\n<p>here is my service:</p>\n<pre><code>\n    public interface MyService {\n    \n        List&lt;Data&gt; getDatasBean() throws Exception;\n    }\n</code></pre>\n<p>here is the implementation of my service</p>\n<pre><code>    import org.slf4j.Logger;import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n    import org.springframework.transaction.annotation.Transactional;\n    import javax.persistence.NoResultException;\n    import java.util.List;\n    \n    @Service\n    @Transactional(readOnly = false)\n    public class MyServiceImpl implements MyService{\n        private static final Logger LOGGER = LoggerFactory.getLogger(MyServiceImpl.class);\n    \n        @Autowired\n        private MyRepository MyRepository ;\n    \n        public List&lt;Data&gt; getDatasBean() throws Exception {\n            LOGGER.info(String.format(&quot;looking for datas&quot;));\n            try {\n                return MyRepository.getAllDatas();\n            } catch (NoResultException e) {\n                return null;\n            } catch (IllegalStateException | IllegalArgumentException e) {\n                throw new Exception(e);\n                //throw new BackOfficeEntityException(String.format(&quot;error&quot;), e);\n            }\n        }\n    }\n</code></pre>\n<p>here is the repository:</p>\n<pre><code>    import org.springframework.data.jpa.repository.Query;\n    import org.springframework.data.repository.CrudRepository;\n    import org.springframework.data.repository.query.Param;\n    import org.springframework.stereotype.Repository;\n    \n    import java.util.List;\n    \n    @Repository\n    public interface MyRepository extends CrudRepository&lt;Data, Long&gt; {\n        @Query(&quot;SELECT a &quot; +&quot;FROM Data a &quot;)\n        List&lt;Data&gt; getAllDatas();\n    }\n</code></pre>\n<p>as you can read in the log the error is when i bind Myserviceimpl with MyRepository... but i don't understand what i did wrong.... here is my pom.xml:</p>\n<pre><code>        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven 4.0.0.xsd&quot;&gt;\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        \n            &lt;parent&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;2.7.1&lt;/version&gt;\n                &lt;relativePath/&gt;\n                &lt;!-- lookup parent from repository --&gt;\n            &lt;/parent&gt;\n        \n            &lt;artifactId&gt;Myproject-jpa&lt;/artifactId&gt;\n            &lt;packaging&gt;jar&lt;/packaging&gt;\n            &lt;name&gt;Myproject-jpa&lt;/name&gt;\n        \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n                    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                    &lt;version&gt;2.12.4&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/dependency&gt;\n        \n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n                    &lt;version&gt;5.3.14&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                    &lt;version&gt;2.2.3&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        \n            &lt;build&gt;\n                &lt;plugins&gt;\n        \n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.6.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;11&lt;/source&gt;\n                            &lt;target&gt;11&lt;/target&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;path&gt;\n                                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                                &lt;/path&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/project&gt;\n</code></pre>\n<p>any help is appreciated, thanks :)</p>\n<p>I tried to run the various maven steps (clean,validate,compile,test,package,verify,install) but i got the error that i already pasted, and i tryed to run anyway my application but i get a different error(i think that this last error can be resolvedjust resolving the error that comes up during the test).\ni tryed to change the dependencies in the pom.xml but honestly i still don't understand it at all.</p>\n"},{"tags":["java","spring","exception","iterator","azure-cosmosdb"],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676451357,"creation_date":1676397638,"question_id":75451586,"body_markdown":"I have a requirement of using a java model which will have couple of attributes but some of them will have values and some of them will not have and this is not fixed. For example if it has 4 attribute 3 may have values while passing it to the controller method or it may so happen 2 of them will have values but then rest of the attributes will be null. So to handle this i choose to use Query by example of spring , but i am getting \r\n\r\n    java.lang.IllegalArgumentException : &quot;Should not reach the end of iterator&quot;\r\n\r\nI am trying to fetch data from a Azure CosmosDB. Below is the code i have used \r\n\r\n    ExampleMatcher macther = ExampleMatcher.matching().withIgnoreNullValues();\r\n    Example&lt;RequestModel&gt; exampleQ = Example.of(new RequestModel(\r\n    req.getEmp(), // these are the attributes which can have alternatively values or can be empty \r\n    req.getBase(),\r\n    req.getSeat(),\r\n    req.getRent()\r\n    ),matcher);\r\n\r\n    sampleRepo.findByEmpOrBaseOrSeatOrRent(exampleQ ); // here i am getting the exception\r\n\r\nThe Repository\r\n   \r\n    public interface SampleRepo extends CosmosRepository&lt;TableA,String&gt;,BaseContainerRepo{\r\n    } \r\n\r\nThe container\r\n      \r\n     @Container(containerName= &quot;${container-tableA}&quot;)\r\n      public class TableA extends BaseContainer{\r\n      }\r\n\r\nBase model class \r\n\r\n    public class BaseContainer{\r\n     @Id\r\n     private String id;\r\n     private Inetger emp;\r\n     @PartitionKey\r\n     private String key;\r\n     private String base;\r\n     private String eqp;\r\n    }\r\n\r\n\r\n  The base container repo\r\n\r\n    public interface BaseContainerRepo{\r\n    List&lt;BaseContainer&gt; findByEmpOrBaseOrSeatOrRent(Example&lt;RequestModel&gt; exampleQ);\r\n    }\r\n\r\nCan anyone please let me know where i am doing it wrong .\r\n","title":"How to resolve &quot;Should not reach the end of iterator&quot; while trying to use Query by example of Spring for Cosmos DB","body":"<p>I have a requirement of using a java model which will have couple of attributes but some of them will have values and some of them will not have and this is not fixed. For example if it has 4 attribute 3 may have values while passing it to the controller method or it may so happen 2 of them will have values but then rest of the attributes will be null. So to handle this i choose to use Query by example of spring , but i am getting</p>\n<pre><code>java.lang.IllegalArgumentException : &quot;Should not reach the end of iterator&quot;\n</code></pre>\n<p>I am trying to fetch data from a Azure CosmosDB. Below is the code i have used</p>\n<pre><code>ExampleMatcher macther = ExampleMatcher.matching().withIgnoreNullValues();\nExample&lt;RequestModel&gt; exampleQ = Example.of(new RequestModel(\nreq.getEmp(), // these are the attributes which can have alternatively values or can be empty \nreq.getBase(),\nreq.getSeat(),\nreq.getRent()\n),matcher);\n\nsampleRepo.findByEmpOrBaseOrSeatOrRent(exampleQ ); // here i am getting the exception\n</code></pre>\n<p>The Repository</p>\n<pre><code>public interface SampleRepo extends CosmosRepository&lt;TableA,String&gt;,BaseContainerRepo{\n} \n</code></pre>\n<p>The container</p>\n<pre><code> @Container(containerName= &quot;${container-tableA}&quot;)\n  public class TableA extends BaseContainer{\n  }\n</code></pre>\n<p>Base model class</p>\n<pre><code>public class BaseContainer{\n @Id\n private String id;\n private Inetger emp;\n @PartitionKey\n private String key;\n private String base;\n private String eqp;\n}\n</code></pre>\n<p>The base container repo</p>\n<pre><code>public interface BaseContainerRepo{\nList&lt;BaseContainer&gt; findByEmpOrBaseOrSeatOrRent(Example&lt;RequestModel&gt; exampleQ);\n}\n</code></pre>\n<p>Can anyone please let me know where i am doing it wrong .</p>\n"},{"tags":["java","android","button"],"answers":[{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676451201,"creation_date":1676451201,"answer_id":75457354,"question_id":75451139,"body_markdown":"You are missing `else` branch in `sendSMSMessage`, so you are not sending SMS if `SEND_SMS` permission is already granted. You are also not doing anything if you need to show permission rationale, which results in a broken experience.\r\n\r\nOverall I would suggest to read carefully the [docs on requesting permissions][1]. It explains both your approach with `onRequestPermissionsResult` as well as the new recommended way of using `ActivityResultContracts`.\r\n\r\nWithout rewriting your code to the contracts I would fix it like this:\r\n```\r\nprotected void sendSMSMessage() {\r\n    if (ContextCompat.checkSelfPermission(this,\r\n            Manifest.permission.SEND_SMS)\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                Manifest.permission.SEND_SMS)) {\r\n            // fixme: show explanation \r\n            // before requesting the permission again\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.SEND_SMS},\r\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n        } else {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.SEND_SMS},\r\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n        }\r\n    } else {\r\n        sendSmsImpl();\r\n    }\r\n}\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n    switch (requestCode) {\r\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n            if (grantResults.length &gt; 0\r\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                sendSmsImpl();\r\n            } else {\r\n                // fixme: explain that it can&#39;t send SMS without the permission\r\n                Toast.makeText(getApplicationContext(),\r\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            // !!! NOTE: you still need break inside switch/case\r\n            // even with curly braces\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nprivate void sendSmsImpl() {\r\n    SmsManager smsManager = SmsManager.getDefault();\r\n    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\r\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\r\n    Toast.makeText(getApplicationContext(),\r\n        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#request-permission","title":"Why my button work juste one time ? - Android studio","body":"<p>You are missing <code>else</code> branch in <code>sendSMSMessage</code>, so you are not sending SMS if <code>SEND_SMS</code> permission is already granted. You are also not doing anything if you need to show permission rationale, which results in a broken experience.</p>\n<p>Overall I would suggest to read carefully the <a href=\"https://developer.android.com/training/permissions/requesting#request-permission\" rel=\"nofollow noreferrer\">docs on requesting permissions</a>. It explains both your approach with <code>onRequestPermissionsResult</code> as well as the new recommended way of using <code>ActivityResultContracts</code>.</p>\n<p>Without rewriting your code to the contracts I would fix it like this:</p>\n<pre><code>protected void sendSMSMessage() {\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n            // fixme: show explanation \n            // before requesting the permission again\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    } else {\n        sendSmsImpl();\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                sendSmsImpl();\n            } else {\n                // fixme: explain that it can't send SMS without the permission\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n            // !!! NOTE: you still need break inside switch/case\n            // even with curly braces\n            break;\n        }\n    }\n}\n\nprivate void sendSmsImpl() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\n    Toast.makeText(getApplicationContext(),\n        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"}],"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676451201,"creation_date":1676394701,"question_id":75451139,"body_markdown":"I am trying tp send sms by clicking a button bt this button is working juste one time.\r\nAnd i don&#39;t know how I can get it so the button can be pressed an infinite amount of time.\r\nCan you please help me to fix that.\r\nthis is my code :\r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n    protected void sendSMSMessage() {\r\n\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    SmsManager smsManager = SmsManager.getDefault();\r\n                    smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Why my button work juste one time ? - Android studio","body":"<p>I am trying tp send sms by clicking a button bt this button is working juste one time.\nAnd i don't know how I can get it so the button can be pressed an infinite amount of time.\nCan you please help me to fix that.\nthis is my code :</p>\n<pre><code>Button sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\nprotected void sendSMSMessage() {\n\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                SmsManager smsManager = SmsManager.getDefault();\n                smsManager.sendTextMessage(&quot;+212xxxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://goo.gl/maps/xamxKW62p34wWpBU8&quot;, null, null);\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jetty","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1471335842,"creation_date":1471162669,"answer_id":38940413,"question_id":38940330,"body_markdown":"When you do  `jettyServer.destroy()` , you request to Destroy \r\n\r\n&gt; the managed Destroyable beans in the reverse order they were added\r\n\r\nAnd this code is performed as soon as the server has finished his start :\r\n\r\n     jettyServer.join();\r\n\r\n\r\nSo, you should remove the block :\r\n\r\n     finally {\r\n          jettyServer.destroy();\r\n        }\r\nbecause I imagine that you want that your server goes on working after its startup.\r\n\r\nI guess from the message \r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: !STOPPED\r\n\r\nthat you should use`jettyServer.destroy()` only after stopping it and I suppose in two cases :\r\n\r\n- if any exception occurs during the server startup. \r\n- if you deliberately stopped the server.\r\n\r\nIf any exception occurs during the server startup, you could try something like that :\r\n\r\n      try {\r\n          jettyServer.start();\r\n          jettyServer.join();\r\n        } catch (Exception e){\r\n            logger.errror(&quot;error during server starting&quot;,e)\r\n            jettyServer.stop();\r\n            jettyServer.destroy();\r\n        }","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>When you do  <code>jettyServer.destroy()</code> , you request to Destroy </p>\n\n<blockquote>\n  <p>the managed Destroyable beans in the reverse order they were added</p>\n</blockquote>\n\n<p>And this code is performed as soon as the server has finished his start :</p>\n\n<pre><code> jettyServer.join();\n</code></pre>\n\n<p>So, you should remove the block :</p>\n\n<pre><code> finally {\n      jettyServer.destroy();\n    }\n</code></pre>\n\n<p>because I imagine that you want that your server goes on working after its startup.</p>\n\n<p>I guess from the message </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalStateException: !STOPPED</p>\n</blockquote>\n\n<p>that you should use<code>jettyServer.destroy()</code> only after stopping it and I suppose in two cases :</p>\n\n<ul>\n<li>if any exception occurs during the server startup. </li>\n<li>if you deliberately stopped the server.</li>\n</ul>\n\n<p>If any exception occurs during the server startup, you could try something like that :</p>\n\n<pre><code>  try {\n      jettyServer.start();\n      jettyServer.join();\n    } catch (Exception e){\n        logger.errror(\"error during server starting\",e)\n        jettyServer.stop();\n        jettyServer.destroy();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117925,"reputation":4564,"user_id":308578,"accept_rate":88,"display_name":"saber tabatabaee yazdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676450930,"creation_date":1676450930,"answer_id":75457300,"question_id":38940330,"body_markdown":"in my case. jersey error solved by these steps:\r\n\r\n 1. mvn clean install \r\n 2. mvn build \r\n 3. cd ./target\r\n 4. java -jar  YOURPROJECT.jarfile\r\n\r\n \r\n \r\n\r\n\r\neverything ok after those steps","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>in my case. jersey error solved by these steps:</p>\n<ol>\n<li>mvn clean install</li>\n<li>mvn build</li>\n<li>cd ./target</li>\n<li>java -jar  YOURPROJECT.jarfile</li>\n</ol>\n<p>everything ok after those steps</p>\n"}],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5565,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38940413,"answer_count":2,"score":4,"last_activity_date":1676450930,"creation_date":1471161870,"question_id":38940330,"body_markdown":"I trying to make simple servlet in embedded jetty container.\r\nThis is my jetty configuration:\r\n\r\n    public class Application {\r\n      public static void main(String[] args) throws Exception {\r\n        //-Dport=8188\r\n        int port = 8188;\r\n        if(System.getProperty(&quot;port&quot;) != null) {\r\n          port = Integer.valueOf(System.getProperty(&quot;port&quot;));\r\n        }\r\n    \r\n        //-Dhost=&quot;127.0.0.1&quot;\r\n        String host = System.getProperty(&quot;host&quot;);\r\n        if(host == null || host.isEmpty()) {\r\n          host = &quot;127.0.0.1&quot;;\r\n        }\r\n    \r\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n        context.setContextPath(&quot;/&quot;);\r\n    \r\n        InetAddress address = InetAddress.getByName(host);\r\n        InetSocketAddress socketAddress = new InetSocketAddress(address, port);\r\n    \r\n        Server jettyServer = new Server(socketAddress);\r\n        jettyServer.setHandler(context);\r\n    \r\n        ServletHolder jerseyServlet = context.addServlet(org.glassfish.jersey.servlet.ServletContainer.class, &quot;/*&quot;);\r\n        jerseyServlet.setInitOrder(0);\r\n    \r\n        // Initializing servlet\r\n        jerseyServlet.setInitParameter(\r\n          &quot;jersey.config.server.provider.classnames&quot;,\r\n          Proxy.class.getCanonicalName()\r\n        );\r\n    \r\n        try {\r\n          jettyServer.start();\r\n          jettyServer.join();\r\n        } finally {\r\n          jettyServer.destroy();\r\n        }\r\n      }\r\n    }\r\n\r\nI add a simplest servlet, that does nothing. Just wrote some string to response:\r\n\r\n    public class Proxy extends HttpServlet {\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n            doRequest(request, response);\r\n        }\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n            doRequest(request, response);\r\n        }\r\n    \r\n        private void doRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n           PrintWriter writer = response.getWriter();\r\n            writer.println(&quot;GOT IT!&quot;);\r\n        }\r\n    }\r\n\r\nWhen I start it, I get an error:\r\n\r\n    2016-08-14 10:53:42.338:INFO::main: Logging initialized @110ms\r\n    2016-08-14 10:53:47.404:INFO:oejs.Server:main: jetty-9.3.z-SNAPSHOT\r\n    2016-08-14 10:53:47.923:INFO:oejsh.ContextHandler:main: Started o.e.j.s.ServletContextHandler@8458f04{/,null,AVAILABLE}\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: !STOPPED\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.destroy(HandlerWrapper.java:135)\r\n    \tat ru.gridr.Application.main(Application.java:50)\r\n\r\nWhere is the mistake?\r\nMay be someone can show some simple example?\r\n","title":"Embedded jetty. java.lang.IllegalStateException: !STOPPED","body":"<p>I trying to make simple servlet in embedded jetty container.\nThis is my jetty configuration:</p>\n\n<pre><code>public class Application {\n  public static void main(String[] args) throws Exception {\n    //-Dport=8188\n    int port = 8188;\n    if(System.getProperty(\"port\") != null) {\n      port = Integer.valueOf(System.getProperty(\"port\"));\n    }\n\n    //-Dhost=\"127.0.0.1\"\n    String host = System.getProperty(\"host\");\n    if(host == null || host.isEmpty()) {\n      host = \"127.0.0.1\";\n    }\n\n    ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n    context.setContextPath(\"/\");\n\n    InetAddress address = InetAddress.getByName(host);\n    InetSocketAddress socketAddress = new InetSocketAddress(address, port);\n\n    Server jettyServer = new Server(socketAddress);\n    jettyServer.setHandler(context);\n\n    ServletHolder jerseyServlet = context.addServlet(org.glassfish.jersey.servlet.ServletContainer.class, \"/*\");\n    jerseyServlet.setInitOrder(0);\n\n    // Initializing servlet\n    jerseyServlet.setInitParameter(\n      \"jersey.config.server.provider.classnames\",\n      Proxy.class.getCanonicalName()\n    );\n\n    try {\n      jettyServer.start();\n      jettyServer.join();\n    } finally {\n      jettyServer.destroy();\n    }\n  }\n}\n</code></pre>\n\n<p>I add a simplest servlet, that does nothing. Just wrote some string to response:</p>\n\n<pre><code>public class Proxy extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        doRequest(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        doRequest(request, response);\n    }\n\n    private void doRequest(HttpServletRequest request, HttpServletResponse response) throws IOException {\n       PrintWriter writer = response.getWriter();\n        writer.println(\"GOT IT!\");\n    }\n}\n</code></pre>\n\n<p>When I start it, I get an error:</p>\n\n<pre><code>2016-08-14 10:53:42.338:INFO::main: Logging initialized @110ms\n2016-08-14 10:53:47.404:INFO:oejs.Server:main: jetty-9.3.z-SNAPSHOT\n2016-08-14 10:53:47.923:INFO:oejsh.ContextHandler:main: Started o.e.j.s.ServletContextHandler@8458f04{/,null,AVAILABLE}\nException in thread \"main\" java.lang.IllegalStateException: !STOPPED\n    at org.eclipse.jetty.server.handler.HandlerWrapper.destroy(HandlerWrapper.java:135)\n    at ru.gridr.Application.main(Application.java:50)\n</code></pre>\n\n<p>Where is the mistake?\nMay be someone can show some simple example?</p>\n"},{"tags":["java","android","kotlin","android-widget"],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676450529,"creation_date":1676416108,"question_id":75454077,"body_markdown":"If the user drags a widget normally to the home screen, then the configuration activity is started (if set). If the activity returns a result code of ``RESULT_CANCELED``, then the widget creation is cancelled. \r\nThis is documented [here][1]. \r\n\r\nAlternativly, to add a widget from an activity, one can use ``AppWidgetManager.requestPinAppWidget()``.\r\nBut then the configuration activity is not started, and the program should explicitly start it, as documented [here][2].\r\n\r\nThis is my code that does it:\r\n```kotlin\r\nobject StartWidgetConfigureReceiver : BroadcastReceiver() {\r\n        const val ACTION_NEW_WIDGET = &quot;ACTION_NEW_WIDGET&quot;\r\n\r\n        override fun onReceive(context: Context?, intent: Intent?) {\r\n\r\n            Intent(context, MyWidgetConfigureActivity::class.java).apply {\r\n                action = ACTION_APPWIDGET_CONFIGURE\r\n                putExtras(intent)\r\n                context?.startActivity(this)\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n```kotlin\r\n   val appWidgetManager = AppWidgetManager.getInstance(context)\r\n   val myProvider = ComponentName(applicationContext, MyWidgetProvider::class.java)\r\n   val successIntent = PendingIntent.getBroadcast(applicationContext, 0, \r\n             Intent(StartWidgetConfigureReceiver.ACTION_NEW_WIDGET),\r\n             PendingIntent.FLAG_MUTABLE)\r\n   appWidgetManager.requestPinAppWidget(myProvider,null, successIntent)\r\n```\r\n\r\nBut how to cancel the widget if needed?\r\n\r\nAdding ``resultCode = Activity.RESULT_CANCELED`` in ``onReceive`` does not seem to do it.\r\n\r\n(I would need to wait for the result from the configuration activity, but that is not the question. Unless the way of starting the activity is relevant.)\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/appwidgets/configuration#update\r\n  [2]: https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)","title":"How to cancel a widget when creating by AppWidgetManager.requestPinAppWidget()?","body":"<p>If the user drags a widget normally to the home screen, then the configuration activity is started (if set). If the activity returns a result code of <code>RESULT_CANCELED</code>, then the widget creation is cancelled.\nThis is documented <a href=\"https://developer.android.com/develop/ui/views/appwidgets/configuration#update\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Alternativly, to add a widget from an activity, one can use <code>AppWidgetManager.requestPinAppWidget()</code>.\nBut then the configuration activity is not started, and the program should explicitly start it, as documented <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This is my code that does it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object StartWidgetConfigureReceiver : BroadcastReceiver() {\n        const val ACTION_NEW_WIDGET = &quot;ACTION_NEW_WIDGET&quot;\n\n        override fun onReceive(context: Context?, intent: Intent?) {\n\n            Intent(context, MyWidgetConfigureActivity::class.java).apply {\n                action = ACTION_APPWIDGET_CONFIGURE\n                putExtras(intent)\n                context?.startActivity(this)\n            }\n\n        }\n    }\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>   val appWidgetManager = AppWidgetManager.getInstance(context)\n   val myProvider = ComponentName(applicationContext, MyWidgetProvider::class.java)\n   val successIntent = PendingIntent.getBroadcast(applicationContext, 0, \n             Intent(StartWidgetConfigureReceiver.ACTION_NEW_WIDGET),\n             PendingIntent.FLAG_MUTABLE)\n   appWidgetManager.requestPinAppWidget(myProvider,null, successIntent)\n</code></pre>\n<p>But how to cancel the widget if needed?</p>\n<p>Adding <code>resultCode = Activity.RESULT_CANCELED</code> in <code>onReceive</code> does not seem to do it.</p>\n<p>(I would need to wait for the result from the configuration activity, but that is not the question. Unless the way of starting the activity is relevant.)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676482965,"post_id":75457225,"comment_id":133147423,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27790965,"reputation":1,"user_id":21217415,"display_name":"Banny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676450446,"creation_date":1676450446,"question_id":75457225,"body_markdown":"On the phone, wifi and data transfer (mobile Internet) are enabled at the same time. When connected to a websocket, it knocks on the mobile Internet. It is necessary that when connecting to a websocket from knocking on wifi\r\n\r\nI did not find such information","title":"how to send message to websocket via wifi connection with data transfer enabled(mobile internet) android java","body":"<p>On the phone, wifi and data transfer (mobile Internet) are enabled at the same time. When connected to a websocket, it knocks on the mobile Internet. It is necessary that when connecting to a websocket from knocking on wifi</p>\n<p>I did not find such information</p>\n"},{"tags":["java","rest","spotify"],"answers":[{"comments":[{"owner":{"account_id":3337625,"reputation":2422,"user_id":2804722,"display_name":"Marc Sances"},"score":0,"creation_date":1579612858,"post_id":59837309,"comment_id":105818018,"body_markdown":"That may be an authentication issue. Check if your Client ID is valid","body":"That may be an authentication issue. Check if your Client ID is valid"},{"owner":{"account_id":284494,"reputation":1553,"user_id":582643,"accept_rate":74,"display_name":"sefiroths"},"score":0,"creation_date":1579615891,"post_id":59837309,"comment_id":105819790,"body_markdown":"if I copy/paste what is displayed by: System.out.println(url_auth); in the browser, a webpage is displayed with the request as here: https://developer.spotify.com/assets/oauth.png\nbut on the java app gave me that error, so the clientid is correct","body":"if I copy/paste what is displayed by: System.out.println(url_auth); in the browser, a webpage is displayed with the request as here: <a href=\"https://developer.spotify.com/assets/oauth.png\" rel=\"nofollow noreferrer\">developer.spotify.com/assets/oauth.png</a> but on the java app gave me that error, so the clientid is correct"},{"owner":{"account_id":284494,"reputation":1553,"user_id":582643,"accept_rate":74,"display_name":"sefiroths"},"score":0,"creation_date":1579764393,"post_id":59837309,"comment_id":105877265,"body_markdown":"if I copy/paste the example from spotify: Example whitelisting his redirect url-&gt;\n\nA typical request is the GET request of the /authorize endpoint, followed by the query:\n\nGET https://accounts.spotify.com/authorize?client_id=5fe01282e44241328a84e7c5cc169165&amp;response_type=code&amp;redirect_uri=https%3A%2F%2Fexample.com%2Fcallback&amp;scope=user-read-private%20user-read-email&amp;state=34fFs29kd09\nin the browser works, but if I put that address in my code give me the same error","body":"if I copy/paste the example from spotify: Example whitelisting his redirect url-&gt;  A typical request is the GET request of the /authorize endpoint, followed by the query:  GET <a href=\"https://accounts.spotify.com/authorize?client_id=5fe01282e44241328a84e7c5cc169165&amp;response_type=code&amp;redirect_uri=https%3A%2F%2Fexample.com%2Fcallback&amp;scope=user-read-private%20user-read-email&amp;state=34fFs29kd09\" rel=\"nofollow noreferrer\">accounts.spotify.com/&hellip;</a> in the browser works, but if I put that address in my code give me the same error"}],"tags":[],"owner":{"account_id":3337625,"reputation":2422,"user_id":2804722,"display_name":"Marc Sances"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579596850,"creation_date":1579596850,"answer_id":59837309,"question_id":59837044,"body_markdown":"Try removing this line:\r\n\r\n```\r\nconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n````\r\n\r\nHTTP 406 Error is &quot;Not Acceptable&quot; meaning the server has generated a reply that it can&#39;t return as the requested Accept content type.","title":"spotify web api with java","body":"<p>Try removing this line:</p>\n\n<pre><code>conn.setRequestProperty(\"Accept\", \"application/json\");\n</code></pre>\n\n<p>HTTP 406 Error is \"Not Acceptable\" meaning the server has generated a reply that it can't return as the requested Accept content type.</p>\n"},{"tags":[],"owner":{"account_id":27791076,"reputation":1,"user_id":21217498,"display_name":"RishChopper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676450414,"creation_date":1676450414,"answer_id":75457217,"question_id":59837044,"body_markdown":"You are trying to open a webpage (HTML) via code and you set \r\n\r\n    conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\nThis will not work for auth. You should open the link in the browser, let the user sign in and take the code from the redirect url.","title":"spotify web api with java","body":"<p>You are trying to open a webpage (HTML) via code and you set</p>\n<pre><code>conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>This will not work for auth. You should open the link in the browser, let the user sign in and take the code from the redirect url.</p>\n"}],"owner":{"account_id":284494,"reputation":1553,"user_id":582643,"accept_rate":74,"display_name":"sefiroths"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676450414,"creation_date":1579595828,"question_id":59837044,"body_markdown":"I want to make some searches in spotify database only for learning purpose of rest app.\r\nI&#39;m stuck on the first point of \r\nhttps://developer.spotify.com/documentation/general/guides/authorization-guide/ \r\nAuthorization Code Flow \r\nto login in spotify with java app:\r\n```\r\npackage spotify;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n/*\r\n\t1) https://developer.spotify.com/dashboard/applications\r\n*/\r\n\r\npublic class SpotifyMain {\r\n\t\r\n\tstatic final String CLIENTID = &quot;blablablablablablablabla&quot;;\r\n\tstatic final String CLIENTSECRET = &quot;blablablablablablablabla&quot;;\r\n\tstatic final String REDIRECTURL = &quot;https://github.com/blablablablablablablabla&quot;; //whiltelisted set inside spotify\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tString url_auth = \r\n\t\t\t&quot;https://accounts.spotify.com/authorize?&quot;\r\n\t\t\t+ &quot;client_id=&quot;+CLIENTID+&quot;&amp;&quot;\r\n\t\t\t+ &quot;response_type=code&amp;&quot;\r\n\t\t\t+ &quot;redirect_uri=&quot;+REDIRECTURL+&quot;&amp;&quot;\r\n\t\t\t+ &quot;scope=user-read-private%20user-read-email&amp;&quot;\r\n\t\t\t+ &quot;state=34fFs29kd09&quot;;\r\n\t\t\t\r\n\t\t\tSystem.out.println(url_auth);\r\n\t\t\t\r\n            URL url = new URL(url_auth);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n            if (conn.getResponseCode() != 200) {\r\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot; + conn.getResponseCode());\r\n            }\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\r\n\r\n            String output;\r\n            System.out.println(&quot;Output from Server .... \\n&quot;);\r\n            while ((output = br.readLine()) != null) {\r\n                System.out.println(output);\r\n            }\r\n            conn.disconnect();\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI get error 406.\r\nThe url I think is correct because if I put that url inside a browser it displays correctly that the app want to access some resources.\r\nIf I put that url inside postman the error changes in 400 bad request...\r\nAm I missing something?\r\nthanks","title":"spotify web api with java","body":"<p>I want to make some searches in spotify database only for learning purpose of rest app.\nI'm stuck on the first point of \n<a href=\"https://developer.spotify.com/documentation/general/guides/authorization-guide/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/documentation/general/guides/authorization-guide/</a> \nAuthorization Code Flow \nto login in spotify with java app:</p>\n\n<pre><code>package spotify;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n/*\n    1) https://developer.spotify.com/dashboard/applications\n*/\n\npublic class SpotifyMain {\n\n    static final String CLIENTID = \"blablablablablablablabla\";\n    static final String CLIENTSECRET = \"blablablablablablablabla\";\n    static final String REDIRECTURL = \"https://github.com/blablablablablablablabla\"; //whiltelisted set inside spotify\n\n    public static void main(String[] args) {\n        try {\n            String url_auth = \n            \"https://accounts.spotify.com/authorize?\"\n            + \"client_id=\"+CLIENTID+\"&amp;\"\n            + \"response_type=code&amp;\"\n            + \"redirect_uri=\"+REDIRECTURL+\"&amp;\"\n            + \"scope=user-read-private%20user-read-email&amp;\"\n            + \"state=34fFs29kd09\";\n\n            System.out.println(url_auth);\n\n            URL url = new URL(url_auth);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(\"GET\");\n            conn.setRequestProperty(\"Accept\", \"application/json\");\n\n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(\"Failed : HTTP error code : \" + conn.getResponseCode());\n            }\n\n            BufferedReader br = new BufferedReader(new InputStreamReader((conn.getInputStream())));\n\n            String output;\n            System.out.println(\"Output from Server .... \\n\");\n            while ((output = br.readLine()) != null) {\n                System.out.println(output);\n            }\n            conn.disconnect();\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n\n<p>I get error 406.\nThe url I think is correct because if I put that url inside a browser it displays correctly that the app want to access some resources.\nIf I put that url inside postman the error changes in 400 bad request...\nAm I missing something?\nthanks</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":6512038,"reputation":41,"user_id":5038946,"accept_rate":0,"display_name":"Deepa"},"score":0,"creation_date":1676454051,"post_id":75457215,"comment_id":133138028,"body_markdown":"Thanks for the detailed answer @AselMeemeduma. As the multiselect is selecting statusCode and lastUpdatedBy from STATUS table, and at the end we are collecting the data in a list of ORDERs. As order does not have any fields like statusCode/lastUpdatedBy how will it capture the column response?","body":"Thanks for the detailed answer @AselMeemeduma. As the multiselect is selecting statusCode and lastUpdatedBy from STATUS table, and at the end we are collecting the data in a list of ORDERs. As order does not have any fields like statusCode/lastUpdatedBy how will it capture the column response?"},{"owner":{"account_id":6512038,"reputation":41,"user_id":5038946,"accept_rate":0,"display_name":"Deepa"},"score":0,"creation_date":1676455601,"post_id":75457215,"comment_id":133138455,"body_markdown":"Should I create a pojo which has all fields of ORDER(as i need them all) and have statusCode and lastUpdatedBy in it?","body":"Should I create a pojo which has all fields of ORDER(as i need them all) and have statusCode and lastUpdatedBy in it?"},{"owner":{"account_id":6512038,"reputation":41,"user_id":5038946,"accept_rate":0,"display_name":"Deepa"},"score":0,"creation_date":1676455731,"post_id":75457215,"comment_id":133138500,"body_markdown":"where are we getting the max column from subQuery in the above criteria and how to put join columns?","body":"where are we getting the max column from subQuery in the above criteria and how to put join columns?"}],"tags":[],"owner":{"account_id":13312895,"reputation":33,"user_id":9610377,"display_name":"Asel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676450408,"creation_date":1676450408,"answer_id":75457215,"question_id":75456874,"body_markdown":"Based on the information, it seems like you have a one-to-many relationship between ORDER and STATUS tables, where an ORDER can have multiple STATUS records.\r\n\r\nTo design your entities, you can create two classes: Order and Status. The Order class will have a collection of Status objects as a member variable to represent the one-to-many relationship. The Order class will also have attributes for OrderId and product, and the Status class will have attributes for statusCode, lastUpdatedBy, and lastUpdatedDateTime. You can then use JPA annotations to map these classes to the corresponding tables in the database.\r\n\r\nWhen you want to fetch order details with the latest status, you can use a query that joins the ORDER and STATUS tables and selects the top record from the STATUS table for each ORDER record.Check below example query \r\n\r\n        SELECT o.OrderId, o.product, s.statusCode, s.lastUpdatedBy\r\n    FROM ORDER o\r\n    LEFT JOIN STATUS s ON o.OrderId = s.OrderId\r\n    AND s.lastUpdatedDateTime = (\r\n        SELECT MAX(s2.lastUpdatedDateTime)\r\n        FROM STATUS s2\r\n        WHERE s2.OrderId = o.OrderId\r\n    )\r\n\r\nThis query joins the ORDER and STATUS tables on the OrderId column and uses a subquery to select the latest STATUS record for each ORDER record. The LEFT JOIN ensures that all ORDER records are included in the result, even if there are no corresponding STATUS records.\r\n\r\nTo use this query with dynamic where clause requirements, you can create a JPA CriteriaQuery object and add predicates to it based on the search criteria.Here&#39;s an example\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\r\n    Root&lt;Order&gt; orderRoot = query.from(Order.class);\r\n    Join&lt;Order, Status&gt; statusJoin = orderRoot.join(&quot;statuses&quot;, JoinType.LEFT);\r\n    query.multiselect(\r\n        orderRoot.get(&quot;OrderId&quot;),\r\n        orderRoot.get(&quot;product&quot;),\r\n        statusJoin.get(&quot;statusCode&quot;),\r\n        statusJoin.get(&quot;lastUpdatedBy&quot;)\r\n    );\r\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    predicates.add(cb.equal(statusJoin.get(&quot;statusCode&quot;), &quot;IP&quot;));\r\n    query.where(predicates.toArray(new Predicate[0]));\r\n    query.orderBy(cb.desc(statusJoin.get(&quot;lastUpdatedDateTime&quot;)));\r\n    \r\n    List&lt;Order&gt; result = em.createQuery(query).getResultList();\r\n\r\n","title":"Spring JPA: Association requirement when joining tables","body":"<p>Based on the information, it seems like you have a one-to-many relationship between ORDER and STATUS tables, where an ORDER can have multiple STATUS records.</p>\n<p>To design your entities, you can create two classes: Order and Status. The Order class will have a collection of Status objects as a member variable to represent the one-to-many relationship. The Order class will also have attributes for OrderId and product, and the Status class will have attributes for statusCode, lastUpdatedBy, and lastUpdatedDateTime. You can then use JPA annotations to map these classes to the corresponding tables in the database.</p>\n<p>When you want to fetch order details with the latest status, you can use a query that joins the ORDER and STATUS tables and selects the top record from the STATUS table for each ORDER record.Check below example query</p>\n<pre><code>    SELECT o.OrderId, o.product, s.statusCode, s.lastUpdatedBy\nFROM ORDER o\nLEFT JOIN STATUS s ON o.OrderId = s.OrderId\nAND s.lastUpdatedDateTime = (\n    SELECT MAX(s2.lastUpdatedDateTime)\n    FROM STATUS s2\n    WHERE s2.OrderId = o.OrderId\n)\n</code></pre>\n<p>This query joins the ORDER and STATUS tables on the OrderId column and uses a subquery to select the latest STATUS record for each ORDER record. The LEFT JOIN ensures that all ORDER records are included in the result, even if there are no corresponding STATUS records.</p>\n<p>To use this query with dynamic where clause requirements, you can create a JPA CriteriaQuery object and add predicates to it based on the search criteria.Here's an example</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Order&gt; query = cb.createQuery(Order.class);\nRoot&lt;Order&gt; orderRoot = query.from(Order.class);\nJoin&lt;Order, Status&gt; statusJoin = orderRoot.join(&quot;statuses&quot;, JoinType.LEFT);\nquery.multiselect(\n    orderRoot.get(&quot;OrderId&quot;),\n    orderRoot.get(&quot;product&quot;),\n    statusJoin.get(&quot;statusCode&quot;),\n    statusJoin.get(&quot;lastUpdatedBy&quot;)\n);\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(cb.equal(statusJoin.get(&quot;statusCode&quot;), &quot;IP&quot;));\nquery.where(predicates.toArray(new Predicate[0]));\nquery.orderBy(cb.desc(statusJoin.get(&quot;lastUpdatedDateTime&quot;)));\n\nList&lt;Order&gt; result = em.createQuery(query).getResultList();\n</code></pre>\n"}],"owner":{"account_id":6512038,"reputation":41,"user_id":5038946,"accept_rate":0,"display_name":"Deepa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676450408,"creation_date":1676447724,"question_id":75456874,"body_markdown":"We have two tables, ORDER and STATUS.\r\nFor every change in the orders in ORDER table, we enter the audit into STATUS table with lastUpdatedDateTime.\r\n\r\nSometimes, I just need to fetch order detail and sometimes I need latest status along with order details.\r\n\r\nHow should I design my entity and how should I join tables when needed?\r\nDo I need to add associations to join table(using criteria builder)?\r\nIf I add associations, status data from STATUS table will be pulled even when not needed (e.g. when doing findBy on ORDER where we just need order details)?\r\n\r\nAlso when I display to the User the orders, they should look like below. Need status and lastUpdatedBy in the Order object\r\n```\r\n[\r\n    {\r\n        &quot;OrderId&quot;: &quot;1&quot;,\r\n        &quot;product&quot;: &quot;pen&quot;,\r\n        &quot;status&quot;: &quot;IP&quot;,\r\n        &quot;lastUpdatedBy&quot;: &quot;user1&quot;\r\n    },\r\n    {\r\n        &quot;OrderId&quot;: &quot;1&quot;,\r\n        &quot;product&quot;: &quot;book&quot;,\r\n        &quot;status&quot;: &quot;CP&quot;,\r\n        &quot;lastUpdatedBy&quot;: &quot;user2&quot;\r\n    }\r\n]\r\n```\r\n\r\nI have tried using association and criteria builder to join tables.\r\n\r\nQuestions:\r\n1. A right way to design my entites\r\n2. how to join tables to fetch the top record from status table for a given order.\r\n(P.S i need to use predicates as I have dynamic where clause requirement)\r\n\r\nSample SQL\r\n\r\n```\r\nSelect f, o.statusCode, o.lastUpdatedBy\r\nfrom FX_ORDER f left join ORDER o\r\nON f.ORDER_ID = o.ORDER_ID\r\nand f.SEQUENCE= o.SEQUENCE\r\nwhere o.statusCode = &#39;IP&#39;\r\nand o.lastUpdatedDateTime in (select max(s.lastUpdatedDateTime)\r\n   from ORDER s where\r\n    s.ORDER_ID = o.ORDER_ID\r\n    and s.SEQUENCE= o.SEQUENCE);\r\n```","title":"Spring JPA: Association requirement when joining tables","body":"<p>We have two tables, ORDER and STATUS.\nFor every change in the orders in ORDER table, we enter the audit into STATUS table with lastUpdatedDateTime.</p>\n<p>Sometimes, I just need to fetch order detail and sometimes I need latest status along with order details.</p>\n<p>How should I design my entity and how should I join tables when needed?\nDo I need to add associations to join table(using criteria builder)?\nIf I add associations, status data from STATUS table will be pulled even when not needed (e.g. when doing findBy on ORDER where we just need order details)?</p>\n<p>Also when I display to the User the orders, they should look like below. Need status and lastUpdatedBy in the Order object</p>\n<pre><code>[\n    {\n        &quot;OrderId&quot;: &quot;1&quot;,\n        &quot;product&quot;: &quot;pen&quot;,\n        &quot;status&quot;: &quot;IP&quot;,\n        &quot;lastUpdatedBy&quot;: &quot;user1&quot;\n    },\n    {\n        &quot;OrderId&quot;: &quot;1&quot;,\n        &quot;product&quot;: &quot;book&quot;,\n        &quot;status&quot;: &quot;CP&quot;,\n        &quot;lastUpdatedBy&quot;: &quot;user2&quot;\n    }\n]\n</code></pre>\n<p>I have tried using association and criteria builder to join tables.</p>\n<p>Questions:</p>\n<ol>\n<li>A right way to design my entites</li>\n<li>how to join tables to fetch the top record from status table for a given order.\n(P.S i need to use predicates as I have dynamic where clause requirement)</li>\n</ol>\n<p>Sample SQL</p>\n<pre><code>Select f, o.statusCode, o.lastUpdatedBy\nfrom FX_ORDER f left join ORDER o\nON f.ORDER_ID = o.ORDER_ID\nand f.SEQUENCE= o.SEQUENCE\nwhere o.statusCode = 'IP'\nand o.lastUpdatedDateTime in (select max(s.lastUpdatedDateTime)\n   from ORDER s where\n    s.ORDER_ID = o.ORDER_ID\n    and s.SEQUENCE= o.SEQUENCE);\n</code></pre>\n"},{"tags":["java","arraylist","interface"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":4,"creation_date":1676431634,"post_id":75455227,"comment_id":133134009,"body_markdown":"Remove the quotes. `flyingThings.add(myPlane);`","body":"Remove the quotes. <code>flyingThings.add(myPlane);</code>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":2,"creation_date":1676432298,"post_id":75455227,"comment_id":133134057,"body_markdown":"The objects you add need to be of the `ArrayList`&#39;s type parameter, which is `Flyable`. &quot;myPlane&quot; is of type String. Hence the error.","body":"The objects you add need to be of the <code>ArrayList</code>&#39;s type parameter, which is <code>Flyable</code>. &quot;myPlane&quot; is of type String. Hence the error."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1676432719,"post_id":75455227,"comment_id":133134109,"body_markdown":"Do not change your question after you&#39;ve already received an answer.","body":"Do not change your question after you&#39;ve already received an answer."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676487268,"post_id":75455227,"comment_id":133148647,"body_markdown":"The answer fixed the problem as asked. But, changing the question so the answer given is no longer applicable is not fair to the person providing the answer. I suggest you consult with your teacher / professor, teacher&#39;s aid, or other students taking the course. Unfortunately, Stack Overflow is not tutorial service. It&#39;s not set up so someone can get one problem addressed, and then another, and possibly another, and so on, all for the same code. For something like that, a conversation is needed. But, needing a conversation / tutorial makes the issue inappropriate for Stack Overflow.","body":"The answer fixed the problem as asked. But, changing the question so the answer given is no longer applicable is not fair to the person providing the answer. I suggest you consult with your teacher / professor, teacher&#39;s aid, or other students taking the course. Unfortunately, Stack Overflow is not tutorial service. It&#39;s not set up so someone can get one problem addressed, and then another, and possibly another, and so on, all for the same code. For something like that, a conversation is needed. But, needing a conversation / tutorial makes the issue inappropriate for Stack Overflow."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676487368,"post_id":75455227,"comment_id":133148679,"body_markdown":"I wrote my previous comment because the O/P&#39;s response to the answer, plus the attempt to instantiate an interface mentioned in the question shows some misunderstanding of interfaces in Java.","body":"I wrote my previous comment because the O/P&#39;s response to the answer, plus the attempt to instantiate an interface mentioned in the question shows some misunderstanding of interfaces in Java."}],"answers":[{"comments":[{"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"score":0,"creation_date":1676432465,"post_id":75455268,"comment_id":133134077,"body_markdown":"I removed the quotations and I still have the same error:  The method add(Flyable) in the type ArrayList&lt;Flyable&gt; is not applicable for the arguments (Plane)","body":"I removed the quotations and I still have the same error:  The method add(Flyable) in the type ArrayList&lt;Flyable&gt; is not applicable for the arguments (Plane)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1676451066,"post_id":75455268,"comment_id":133137229,"body_markdown":"@HalfokayCS When you declare your class is it `class Plane implements Flyable` or something similar? You might need to include the class definition for one or two of `Plane` `Hangglider` and `Bird` for somebody to fix it.","body":"@HalfokayCS When you declare your class is it <code>class Plane implements Flyable</code> or something similar? You might need to include the class definition for one or two of <code>Plane</code> <code>Hangglider</code> and <code>Bird</code> for somebody to fix it."}],"tags":[],"owner":{"account_id":18624972,"reputation":69,"user_id":13574306,"display_name":"Bi Ka Sh Shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676449936,"creation_date":1676432278,"answer_id":75455268,"question_id":75455227,"body_markdown":"    ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\r\n\r\nHere you have created an array list which should have datatype of Flyable object.\r\n\r\n    flyingThings.add(&quot;myPlane&quot;);\r\n    flyingThings.add(&quot;myHangglider&quot;);\r\n    flyingThings.add(&quot;myBird&quot;);\r\n\r\nYour are trying to add objects of strings i.e &quot;myPlane&quot;,.. are strings so that strings could not be added. The solution is to remove those double-quote marks. \r\n\r\n     flyingThings.add(myPlane);\r\n     flyingThings.add(myHangglider);\r\n     flyingThings.add(myBird);\r\n\r\n\r\n\r\n\r\n","title":"Why can I not add these objects to an array list","body":"<pre><code>ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\n</code></pre>\n<p>Here you have created an array list which should have datatype of Flyable object.</p>\n<pre><code>flyingThings.add(&quot;myPlane&quot;);\nflyingThings.add(&quot;myHangglider&quot;);\nflyingThings.add(&quot;myBird&quot;);\n</code></pre>\n<p>Your are trying to add objects of strings i.e &quot;myPlane&quot;,.. are strings so that strings could not be added. The solution is to remove those double-quote marks.</p>\n<pre><code> flyingThings.add(myPlane);\n flyingThings.add(myHangglider);\n flyingThings.add(myBird);\n</code></pre>\n"}],"owner":{"account_id":25587729,"reputation":3,"user_id":19365184,"display_name":"HalfokayCS"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1676433621,"answer_count":1,"score":-2,"last_activity_date":1676449936,"creation_date":1676431496,"question_id":75455227,"body_markdown":"I am trying to add the three flying objects to an array list of type flyable which is an abstract interface I have created in my package, this is my code.\r\n```\r\npackage labInterface;\r\nimport java.util.ArrayList;\r\npublic class App \r\n{\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tPlane myPlane = new Plane(4, &quot;Boing 747&quot;);\r\n\t\tSystem.out.printf(&quot;myPlane: %s%n&quot;, myPlane);\r\n\r\n\t\tHangglider myHangglider = new Hangglider(true);\r\n\t\tSystem.out.printf(&quot;myHangglider: %s%n&quot;, myHangglider);\r\n\r\n\t\tBird myBird = new Bird(&quot;Swallow&quot;);\r\n\t\tSystem.out.printf(&quot;myBird: %s%n&quot;, myBird);\r\n\t\t\r\n\t\t\r\n\t\tArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\r\n\t\tflyingThings.add(&quot;myPlane&quot;);\r\n\t\tflyingThings.add(&quot;myHangglider&quot;);\r\n\t\tflyingThings.add(&quot;myBird&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI get the error &quot;The method add(Flyable) in the type ArrayList&lt;Flyable&gt; is not applicable for the arguments (String)&quot;. \r\nAny help would be greatly appreciated, thank you.\r\n\r\n\r\nI have tried using `flyingThings.add(new Flyable(&quot;myPlane&quot;));` but I get the error, &quot;cannot instantiate the Type Flyable&quot;.","title":"Why can I not add these objects to an array list","body":"<p>I am trying to add the three flying objects to an array list of type flyable which is an abstract interface I have created in my package, this is my code.</p>\n<pre><code>package labInterface;\nimport java.util.ArrayList;\npublic class App \n{\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args)\n    {\n        Plane myPlane = new Plane(4, &quot;Boing 747&quot;);\n        System.out.printf(&quot;myPlane: %s%n&quot;, myPlane);\n\n        Hangglider myHangglider = new Hangglider(true);\n        System.out.printf(&quot;myHangglider: %s%n&quot;, myHangglider);\n\n        Bird myBird = new Bird(&quot;Swallow&quot;);\n        System.out.printf(&quot;myBird: %s%n&quot;, myBird);\n        \n        \n        ArrayList&lt;Flyable&gt; flyingThings = new ArrayList&lt;Flyable&gt;();\n        flyingThings.add(&quot;myPlane&quot;);\n        flyingThings.add(&quot;myHangglider&quot;);\n        flyingThings.add(&quot;myBird&quot;);\n        \n    }\n\n}\n\n</code></pre>\n<p>I get the error &quot;The method add(Flyable) in the type ArrayList is not applicable for the arguments (String)&quot;.\nAny help would be greatly appreciated, thank you.</p>\n<p>I have tried using <code>flyingThings.add(new Flyable(&quot;myPlane&quot;));</code> but I get the error, &quot;cannot instantiate the Type Flyable&quot;.</p>\n"},{"tags":["java","postgresql","scala","jdbc","playframework"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1676402364,"post_id":75450027,"comment_id":133128896,"body_markdown":"Can you share the code of `MyController`? I believe you&#39;re injecting `Datasource` instead of `Database`.","body":"Can you share the code of <code>MyController</code>? I believe you&#39;re injecting <code>Datasource</code> instead of <code>Database</code>."},{"owner":{"account_id":12696795,"reputation":11,"user_id":9224986,"display_name":"sukesh u"},"score":0,"creation_date":1676449555,"post_id":75450027,"comment_id":133136873,"body_markdown":"package controllers;\nimport java.sql.*;\n\nimport play.mvc.Controller;\nimport play.mvc.Result;\n\nimport javax.inject.*;\nimport javax.sql.*;\n\npublic class MyController extends Controller {\n\t\n\t private DataSource dataSource;\n\n\t  @Inject\n\t  public MyController(DataSource dataSource) {\n\t    this.dataSource = dataSource;\n\t  }\n\t  \n  public Result index() {\n    try (Connection conn = dataSource.getConnection()) {\n     return &quot;connected database&quot;\n    } catch (SQLException e) {\n      return internalServerError(&quot;Database error: &quot; + e.getMessage());\n    }\n  }\n\n}","body":"package controllers; import java.sql.*;  import play.mvc.Controller; import play.mvc.Result;  import javax.inject.*; import javax.sql.*;  public class MyController extends Controller { \t \t private DataSource dataSource;  \t  @Inject \t  public MyController(DataSource dataSource) { \t    this.dataSource = dataSource; \t  } \t     public Result index() {     try (Connection conn = dataSource.getConnection()) {      return &quot;connected database&quot;     } catch (SQLException e) {       return internalServerError(&quot;Database error: &quot; + e.getMessage());     }   }  }"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1676453282,"post_id":75450027,"comment_id":133137806,"body_markdown":"Check out documentation: https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Accessing-the-JDBC-datasource, you need to inject `Database`.","body":"Check out documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/AccessingAnSQLDatabase#Accessing-the-JDBC-datasource\" rel=\"nofollow noreferrer\">playframework.com/documentation/2.8.x/&hellip;</a>, you need to inject <code>Database</code>."}],"owner":{"account_id":12696795,"reputation":11,"user_id":9224986,"display_name":"sukesh u"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676449856,"creation_date":1676388622,"question_id":75450027,"body_markdown":"I am trying to connect PostgreSQL from play 2.8 project using java (not scala). But unable to do. I am using JDK 11, Play 2.8.x version.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FyDh6.png)](https://i.stack.imgur.com/FyDh6.png)\r\n\r\nSBT dependencies:\r\n```scala\r\n     libraryDependencies ++= Seq(\r\n    \t&quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.3.1&quot;,\r\n    \tjdbc,\r\n  \t\t&quot;org.playframework.anorm&quot; %% &quot;anorm&quot; % &quot;2.7.0&quot;,\r\n  \t\tjavaJpa,\r\n    \t&quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.32.Final&quot;,\r\n    \t&quot;com.typesafe.play&quot; %% &quot;play-java-jpa&quot; % &quot;2.8.8&quot;,\r\n\t\t&quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\r\n\t\tguice,\r\n\t\t&quot;io.dropwizard.metrics&quot; % &quot;metrics-core&quot; % &quot;4.1.1&quot;,\r\n\t\t&quot;com.palominolabs.http&quot; % &quot;url-builder&quot; % &quot;1.1.0&quot;,\r\n\t\t&quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\r\n        ),\r\n```\r\n\r\nConfig file:\r\n```\r\ndb.default {\r\n  \tdriver=org.postgresql.Driver\r\n\turl=&quot;jdbc:postgresql://localhost/mydatabase&quot;\r\n \tuser=&quot;postgres&quot;\r\n \tpassword=&quot;root@123&quot;\r\n}\r\n```\r\n\r\nMyController\r\n\r\n    public class MyController extends Controller {\r\n    \t\r\n    \t private DataSource dataSource;\r\n    \r\n    \t  @Inject\r\n    \t  public MyController(DataSource dataSource) {\r\n    \t    this.dataSource = dataSource;\r\n    \t  }\r\n    \t  \r\n      public Result index() {\r\n        try (Connection conn = dataSource.getConnection()) {\r\n         return &quot;connected database&quot;\r\n        } catch (SQLException e) {\r\n          return internalServerError(&quot;Database error: &quot; + e.getMessage());\r\n        }\r\n      }\r\n    \r\n    }","title":"How to connect postgresSQL using play 2.8 java","body":"<p>I am trying to connect PostgreSQL from play 2.8 project using java (not scala). But unable to do. I am using JDK 11, Play 2.8.x version.</p>\n<p><a href=\"https://i.stack.imgur.com/FyDh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyDh6.png\" alt=\"enter image description here\" /></a></p>\n<p>SBT dependencies:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>     libraryDependencies ++= Seq(\n        &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.3.1&quot;,\n        jdbc,\n        &quot;org.playframework.anorm&quot; %% &quot;anorm&quot; % &quot;2.7.0&quot;,\n        javaJpa,\n        &quot;org.hibernate&quot; % &quot;hibernate-core&quot; % &quot;5.4.32.Final&quot;,\n        &quot;com.typesafe.play&quot; %% &quot;play-java-jpa&quot; % &quot;2.8.8&quot;,\n        &quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\n        guice,\n        &quot;io.dropwizard.metrics&quot; % &quot;metrics-core&quot; % &quot;4.1.1&quot;,\n        &quot;com.palominolabs.http&quot; % &quot;url-builder&quot; % &quot;1.1.0&quot;,\n        &quot;net.jodah&quot; % &quot;failsafe&quot; % &quot;2.3.1&quot;,\n        ),\n</code></pre>\n<p>Config file:</p>\n<pre><code>db.default {\n    driver=org.postgresql.Driver\n    url=&quot;jdbc:postgresql://localhost/mydatabase&quot;\n    user=&quot;postgres&quot;\n    password=&quot;root@123&quot;\n}\n</code></pre>\n<p>MyController</p>\n<pre><code>public class MyController extends Controller {\n    \n     private DataSource dataSource;\n\n      @Inject\n      public MyController(DataSource dataSource) {\n        this.dataSource = dataSource;\n      }\n      \n  public Result index() {\n    try (Connection conn = dataSource.getConnection()) {\n     return &quot;connected database&quot;\n    } catch (SQLException e) {\n      return internalServerError(&quot;Database error: &quot; + e.getMessage());\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","spring-data-jpa","entity"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1676399832,"post_id":75451934,"comment_id":133128145,"body_markdown":"Ask yourself the question, what a _blank_ float would look like ...","body":"Ask yourself the question, what a <i>blank</i> float would look like ..."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676399880,"post_id":75451934,"comment_id":133128157,"body_markdown":"How it should be?","body":"How it should be?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676399922,"post_id":75451934,"comment_id":133128169,"body_markdown":"The JavaDoc for `@NotBlank` specifically says, &quot;Accpts `CharSequence`.&quot; `Float` is not a `CharSequence`.","body":"The JavaDoc for <code>@NotBlank</code> specifically says, &quot;Accpts <code>CharSequence</code>.&quot; <code>Float</code> is not a <code>CharSequence</code>."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1676400056,"post_id":75451934,"comment_id":133128226,"body_markdown":"Ehhmm ... I told you to ask _yourself_ that question. While thinking about it, you might come to the conclusion that a float cannot be blank.","body":"Ehhmm ... I told you to ask <i>yourself</i> that question. While thinking about it, you might come to the conclusion that a float cannot be blank."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676400410,"post_id":75451934,"comment_id":133128316,"body_markdown":"So what would be the best way to validate a float?","body":"So what would be the best way to validate a float?"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1676400594,"post_id":75451934,"comment_id":133128363,"body_markdown":"What validation do you want to have on your float? As it is, you can check nullness (because it is a `Float` - with a capital F), and you can also check the value. What do you want?","body":"What validation do you want to have on your float? As it is, you can check nullness (because it is a <code>Float</code> - with a capital F), and you can also check the value. What do you want?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676400852,"post_id":75451934,"comment_id":133128455,"body_markdown":"I erasing my &quot;price&quot; from dto do I have to declare it in my controlle then? right? Since my model is being built based on my dto (as I showed in the updated code)","body":"I erasing my &quot;price&quot; from dto do I have to declare it in my controlle then? right? Since my model is being built based on my dto (as I showed in the updated code)"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676401387,"post_id":75451934,"comment_id":133128609,"body_markdown":"Would you know how I can pass the request body inside my setPrice in controller?","body":"Would you know how I can pass the request body inside my setPrice in controller?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676401426,"post_id":75451934,"comment_id":133128623,"body_markdown":"like:         orderModel.setPrice(I would like to know how to pass the request body here\n);","body":"like:         orderModel.setPrice(I would like to know how to pass the request body here );"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676405800,"post_id":75451934,"comment_id":133129817,"body_markdown":"You&#39;re trying to validate that a `Float` is &quot;not blank&quot;, but that just doesn&#39;t make any sense at all. It&#39;s like validating that a circle has only 3 sides - the concept of &quot;sides&quot; doesn&#39;t apply to a circle. Similarly, the concept of &quot;blankness&quot; doesn&#39;t apply to a `Float`.","body":"You&#39;re trying to validate that a <code>Float</code> is &quot;not blank&quot;, but that just doesn&#39;t make any sense at all. It&#39;s like validating that a circle has only 3 sides - the concept of &quot;sides&quot; doesn&#39;t apply to a circle. Similarly, the concept of &quot;blankness&quot; doesn&#39;t apply to a <code>Float</code>."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676405834,"post_id":75451934,"comment_id":133129825,"body_markdown":"Perhaps you just need `@NotNull`?","body":"Perhaps you just need <code>@NotNull</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676449448,"creation_date":1676449448,"answer_id":75457106,"question_id":75451934,"body_markdown":"You need to use `@NotNull` for `Float`. The [documentation for `@NotBlank`][1] states:\r\n&gt; The annotated element must not be null and must contain at least one non-whitespace character. Accepts CharSequence.\r\n\r\nSo, as long as you don&#39;t use `@NotBlank` on a `String` or `Char` it won&#39;t work.\r\n\r\nIf you need additional validations on the value of the float, you can use `@Min`, `@Max`, `@Positive` and more.\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/validation/constraints/NotBlank.html","title":"NotBlank validation error in float java (spring boot)","body":"<p>You need to use <code>@NotNull</code> for <code>Float</code>. The <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/validation/constraints/NotBlank.html\" rel=\"nofollow noreferrer\">documentation for <code>@NotBlank</code></a> states:</p>\n<blockquote>\n<p>The annotated element must not be null and must contain at least one non-whitespace character. Accepts CharSequence.</p>\n</blockquote>\n<p>So, as long as you don't use <code>@NotBlank</code> on a <code>String</code> or <code>Char</code> it won't work.</p>\n<p>If you need additional validations on the value of the float, you can use <code>@Min</code>, <code>@Max</code>, <code>@Positive</code> and more.</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676449448,"creation_date":1676399646,"question_id":75451934,"body_markdown":"I&#39;m trying to develop an API with an order model and one of the requirements in my model is &quot;price&quot; which takes a float instead of a string\r\n\r\nthis is the model\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;TB_ORDER&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(nullable = true, length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String order;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\nthis is the dto package\r\n\r\n```\r\npackage com.api.order_control.dtos;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\npublic class OrderDto {\r\n    @NotBlank\r\n    private String customerName;\r\n    @NotBlank\r\n    private String phoneNumber;\r\n    @NotBlank\r\n    private String address;\r\n    @NotBlank\r\n    private String doorNumber;\r\n    @NotBlank\r\n    private String block;\r\n    @NotBlank\r\n    private String order;\r\n    @NotBlank\r\n    private Float price;\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String doorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void doorNumber(String doorName) {\r\n        this.doorNumber = doorName;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI created my post method in my controller, but when I test it in my postman I get this error in the terminal:\r\n\r\n```\r\njakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;jakarta.validation.constraints.NotBlank&#39; validating type &#39;java.lang.Float&#39;. Check configuration for &#39;price&#39;\r\n\r\n```\r\n\r\nI understand that the problem is in float, but I can&#39;t understand what&#39;s wrong with this code.\r\n\r\n\r\nupdate: controller\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```","title":"NotBlank validation error in float java (spring boot)","body":"<p>I'm trying to develop an API with an order model and one of the requirements in my model is &quot;price&quot; which takes a float instead of a string</p>\n<p>this is the model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;TB_ORDER&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(nullable = true, length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String order;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>this is the dto package</p>\n<pre><code>package com.api.order_control.dtos;\n\nimport jakarta.validation.constraints.NotBlank;\n\npublic class OrderDto {\n    @NotBlank\n    private String customerName;\n    @NotBlank\n    private String phoneNumber;\n    @NotBlank\n    private String address;\n    @NotBlank\n    private String doorNumber;\n    @NotBlank\n    private String block;\n    @NotBlank\n    private String order;\n    @NotBlank\n    private Float price;\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String doorNumber() {\n        return doorNumber;\n    }\n\n    public void doorNumber(String doorName) {\n        this.doorNumber = doorName;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n}\n\n</code></pre>\n<p>I created my post method in my controller, but when I test it in my postman I get this error in the terminal:</p>\n<pre><code>jakarta.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'jakarta.validation.constraints.NotBlank' validating type 'java.lang.Float'. Check configuration for 'price'\n\n</code></pre>\n<p>I understand that the problem is in float, but I can't understand what's wrong with this code.</p>\n<p>update: controller</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","process","boot"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1676259015,"post_id":75431479,"comment_id":133094880,"body_markdown":"(This comment from a linux user, but I think Windows behaves similarly).  When you type in the command interactively, you&#39;re typing it to cmd.exe,  for which &#39;&lt;&#39; is meaningful; cmd will run java for you with redirected input.  When you exec java, there is no cmd.exe involvement, so there&#39;s nothing to interpret &#39;&lt;&#39;.   Change your command to exec cmd, with the java command as argument to cmd.","body":"(This comment from a linux user, but I think Windows behaves similarly).  When you type in the command interactively, you&#39;re typing it to cmd.exe,  for which &#39;&lt;&#39; is meaningful; cmd will run java for you with redirected input.  When you exec java, there is no cmd.exe involvement, so there&#39;s nothing to interpret &#39;&lt;&#39;.   Change your command to exec cmd, with the java command as argument to cmd."},{"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"score":0,"creation_date":1676260928,"post_id":75431479,"comment_id":133095072,"body_markdown":"Can you please explain, using an example, Thanks for your response!","body":"Can you please explain, using an example, Thanks for your response!"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676291511,"post_id":75431479,"comment_id":133101422,"body_markdown":"`command = &quot;cmd /c java D:/code.java &lt; D:/input.txt&quot;`","body":"<code>command = &quot;cmd &#47;c java D:&#47;code.java &lt; D:&#47;input.txt&quot;</code>"},{"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"score":0,"creation_date":1676713699,"post_id":75431479,"comment_id":133195895,"body_markdown":"this is working in only windows, when I tried to execute the same code in Linux environment, the error is thrown, &quot; io exception: &quot;cmd&quot; no such file or directory found&quot;","body":"this is working in only windows, when I tried to execute the same code in Linux environment, the error is thrown, &quot; io exception: &quot;cmd&quot; no such file or directory found&quot;"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676727256,"post_id":75431479,"comment_id":133197590,"body_markdown":"Of course you can&#39;t execute Windows commands in Linux.  As soon as you write code to run particular commands, you&#39;re in OS-specific territory. Under Linux, you&#39;d need to run some shell to get &#39;&lt;&#39; support. For what it&#39;s worth, you can&#39;t use the Windows-style drive letters shown in your command string, either.","body":"Of course you can&#39;t execute Windows commands in Linux.  As soon as you write code to run particular commands, you&#39;re in OS-specific territory. Under Linux, you&#39;d need to run some shell to get &#39;&lt;&#39; support. For what it&#39;s worth, you can&#39;t use the Windows-style drive letters shown in your command string, either."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676727505,"post_id":75431479,"comment_id":133197637,"body_markdown":"You can avoid the whole &#39;&lt;&#39; issue by using ProcessBuilder rather than Runtime.exec, and running java directly rather than via a command interpreter.  ProcessBuilder allows you to specify the source of standard input.","body":"You can avoid the whole &#39;&lt;&#39; issue by using ProcessBuilder rather than Runtime.exec, and running java directly rather than via a command interpreter.  ProcessBuilder allows you to specify the source of standard input."}],"owner":{"account_id":15997753,"reputation":73,"user_id":11545272,"display_name":"Gaurav kedia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676449447,"creation_date":1676255493,"question_id":75431479,"body_markdown":"```\r\nString command = &quot;java D:/code.java &lt; D:/input.txt&quot;;\r\nProcess process = Runtime.getRuntime().exec(command);\r\n```\r\nWhen this part of the code is triggered, the thread keeps on waiting for the input, it is not able to take input from the &#39;input.txt&#39; file.\r\nBut when running an explicit command in the cmd terminal, the same command works perfectly fine.","title":"I am trying to execute a separate java file, using cmd commands, in spring boot","body":"<pre><code>String command = &quot;java D:/code.java &lt; D:/input.txt&quot;;\nProcess process = Runtime.getRuntime().exec(command);\n</code></pre>\n<p>When this part of the code is triggered, the thread keeps on waiting for the input, it is not able to take input from the 'input.txt' file.\nBut when running an explicit command in the cmd terminal, the same command works perfectly fine.</p>\n"},{"tags":["java","spring","spring-boot","properties","configuration"],"comments":[{"owner":{"account_id":229930,"reputation":1278,"user_id":493216,"accept_rate":50,"display_name":"BigGinDaHouse"},"score":1,"creation_date":1521021614,"post_id":49274032,"comment_id":85551700,"body_markdown":"what about creating @Configuration class which will have one global variable with @Value(&quot;$APP_ID&quot;) and reuse that var in the other clasess ?","body":"what about creating @Configuration class which will have one global variable with @Value(&quot;$APP_ID&quot;) and reuse that var in the other clasess ?"},{"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"score":0,"creation_date":1521027887,"post_id":49274032,"comment_id":85556132,"body_markdown":"Seems like a possible workaround/solution. You wouldn&#39;t be able to make that global variable `final`, would you?","body":"Seems like a possible workaround/solution. You wouldn&#39;t be able to make that global variable <code>final</code>, would you?"}],"answers":[{"tags":[],"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1521113488,"creation_date":1521113488,"answer_id":49298326,"question_id":49274032,"body_markdown":"One way to do it (as suggested by [wilkinsoa][1] in [this thread][2]) is to &quot;bind a single random value into a `@ConfigurationProperties` annotated bean and then use that bean to configure anything else that needed the same value.&quot;\r\n\r\nThis results in an `application.properties` file:\r\n\r\n    app.id=${random.uuid}\r\n\r\nThe configuration properties file is:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    public class AppProperties {\r\n\r\n      private String id;\r\n\r\n      public String getId() {\r\n        return this.id;\r\n      }\r\n\r\n      public void setId(String id) {\r\n        this.id = id;\r\n      }\r\n    }\r\n\r\nThe class using the id:\r\n\r\n    @Component\r\n    public class DoStuff {\r\n\r\n      private AppProperties appProperties;\r\n\r\n      @Autowired\r\n      public DoStuff(AppProperties appProperties) {\r\n        this.appProperties = appProperties;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/wilkinsona\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/7009","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>One way to do it (as suggested by <a href=\"https://github.com/wilkinsona\" rel=\"noreferrer\">wilkinsoa</a> in <a href=\"https://github.com/spring-projects/spring-boot/issues/7009\" rel=\"noreferrer\">this thread</a>) is to \"bind a single random value into a <code>@ConfigurationProperties</code> annotated bean and then use that bean to configure anything else that needed the same value.\"</p>\n\n<p>This results in an <code>application.properties</code> file:</p>\n\n<pre><code>app.id=${random.uuid}\n</code></pre>\n\n<p>The configuration properties file is:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"app\")\npublic class AppProperties {\n\n  private String id;\n\n  public String getId() {\n    return this.id;\n  }\n\n  public void setId(String id) {\n    this.id = id;\n  }\n}\n</code></pre>\n\n<p>The class using the id:</p>\n\n<pre><code>@Component\npublic class DoStuff {\n\n  private AppProperties appProperties;\n\n  @Autowired\n  public DoStuff(AppProperties appProperties) {\n    this.appProperties = appProperties;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13896008,"reputation":103,"user_id":10032858,"display_name":"Dmytro Verbivskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548856990,"creation_date":1548856990,"answer_id":54442388,"question_id":49274032,"body_markdown":"You can generate random value as constant for your test.\r\n\r\n    package com.yourdomain.config;\r\n\r\n    import org.apache.commons.lang3.RandomUtils;\r\n    \r\n    public class TestConfig {\r\n\r\n        public static final long RANDOM_LONG = RandomUtils.nextLong();\r\n    }\r\n\r\nand then reference it like:\r\n\r\n    integration.test.random.seed=#{T(com.yourdomain.config.TestConfig).RANDOM_LONG}\r\n    rabbitmq.queue=queueName_${integration.test.random.seed}","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can generate random value as constant for your test.</p>\n\n<pre><code>package com.yourdomain.config;\n\nimport org.apache.commons.lang3.RandomUtils;\n\npublic class TestConfig {\n\n    public static final long RANDOM_LONG = RandomUtils.nextLong();\n}\n</code></pre>\n\n<p>and then reference it like:</p>\n\n<pre><code>integration.test.random.seed=#{T(com.yourdomain.config.TestConfig).RANDOM_LONG}\nrabbitmq.queue=queueName_${integration.test.random.seed}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"score":0,"creation_date":1570111341,"post_id":54835800,"comment_id":102817407,"body_markdown":"Interesting solution! I agree with your reasoning. Unfortunately it has, as you stated, still some disadvantages.","body":"Interesting solution! I agree with your reasoning. Unfortunately it has, as you stated, still some disadvantages."}],"tags":[],"owner":{"account_id":9874622,"reputation":166,"user_id":7312879,"display_name":"Bal&#225;zs Eszes"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550872918,"creation_date":1550872918,"answer_id":54835800,"question_id":49274032,"body_markdown":"I think I&#39;ve found the most simple but harder to document solution.\r\n\r\nThe issue with using a class to store the value and autowiring is that you still lose the stateful-ness of the environmental variable. If someone makes a mistake and tries to reference it again you could easily run into some errors.\r\n\r\n    @Configuration\r\n    public class FileSharingConfiguration {\r\n\t\r\n\t    private final static UUID app_id = UUID.randomUUID();\r\n\t\r\n\t    @PostConstruct\r\n\t    private void init() {\r\n\t\t    System.setProperty(&quot;app.instance-id&quot;, app_id.toString());\r\n\t    }\r\n    }\r\nI wouldn&#39;t rely on #{random.uuid} because it makes references stateless, so I generate my own in the program. Then in a post construction sequence you push that value into environmental variables.\r\n\r\nThis solution is better when you are forced to reference the same property multiple times (e.g: Thymeleaf templates) and they are read at runtime.\r\n\r\nA slight disadvantage is that the property won&#39;t show up in the config files, unless you initialize them with a default value. So you have to find other ways of documenting it.\r\n\r\nThe major disadvantage still is that there&#39;s no guarantee that @Value(&quot;...&quot;) will initialize after you&#39;ve set the environmental property. The Autowiring solution overcomes this problem by forcing the initialization order. But with this one you only need\r\n\r\n    @Autowired \r\n    private AppConfig config;\r\n\r\n \r\nto cause them to be initialized after, you could also use @DependsOn and you don&#39;t need to use a getter.\r\n\r\nIn my opinion there needs to be a better way to do this, random properties being stateless makes them impractical for anything other than testing. But they certainly don&#39;t want doing it considering they have created so many workarounds for assigning and reading back random port numbers.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>I think I've found the most simple but harder to document solution.</p>\n\n<p>The issue with using a class to store the value and autowiring is that you still lose the stateful-ness of the environmental variable. If someone makes a mistake and tries to reference it again you could easily run into some errors.</p>\n\n<pre><code>@Configuration\npublic class FileSharingConfiguration {\n\n    private final static UUID app_id = UUID.randomUUID();\n\n    @PostConstruct\n    private void init() {\n        System.setProperty(\"app.instance-id\", app_id.toString());\n    }\n}\n</code></pre>\n\n<p>I wouldn't rely on #{random.uuid} because it makes references stateless, so I generate my own in the program. Then in a post construction sequence you push that value into environmental variables.</p>\n\n<p>This solution is better when you are forced to reference the same property multiple times (e.g: Thymeleaf templates) and they are read at runtime.</p>\n\n<p>A slight disadvantage is that the property won't show up in the config files, unless you initialize them with a default value. So you have to find other ways of documenting it.</p>\n\n<p>The major disadvantage still is that there's no guarantee that @Value(\"...\") will initialize after you've set the environmental property. The Autowiring solution overcomes this problem by forcing the initialization order. But with this one you only need</p>\n\n<pre><code>@Autowired \nprivate AppConfig config;\n</code></pre>\n\n<p>to cause them to be initialized after, you could also use @DependsOn and you don't need to use a getter.</p>\n\n<p>In my opinion there needs to be a better way to do this, random properties being stateless makes them impractical for anything other than testing. But they certainly don't want doing it considering they have created so many workarounds for assigning and reading back random port numbers.</p>\n"},{"tags":[],"owner":{"account_id":12287605,"reputation":81,"user_id":8966288,"display_name":"City Snail"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590141892,"creation_date":1590139575,"answer_id":61951822,"question_id":49274032,"body_markdown":"You can put system property directly in properties file if it is not set.\r\nThe following code:\r\n\r\n 1. Checks for `APP_UUID` system prop.\r\n 2. If `APP_UUID` is not set, sets random `UUID` to `APP_UUID` system prop, and sets the same value to `APP_ID` spring prop.\r\n 3. If `APP_UUID` is set, uses this value for `APP_ID` spring prop.\r\n\r\nCode (for YAML format. For .properties format &quot;&quot; marks should be omitted):\r\n\r\n    APP_ID: &quot;#{systemProperties[&#39;APP_UUID&#39;] = (systemProperties[&#39;APP_UUID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n\r\nNote: System prop can have same name as spring prop, so:\r\n\r\n    APP_ID: &quot;#{systemProperties[&#39;APP_ID&#39;] = (systemProperties[&#39;APP_ID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n ","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can put system property directly in properties file if it is not set.\nThe following code:</p>\n\n<ol>\n<li>Checks for <code>APP_UUID</code> system prop.</li>\n<li>If <code>APP_UUID</code> is not set, sets random <code>UUID</code> to <code>APP_UUID</code> system prop, and sets the same value to <code>APP_ID</code> spring prop.</li>\n<li>If <code>APP_UUID</code> is set, uses this value for <code>APP_ID</code> spring prop.</li>\n</ol>\n\n<p>Code (for YAML format. For .properties format \"\" marks should be omitted):</p>\n\n<pre><code>APP_ID: \"#{systemProperties['APP_UUID'] = (systemProperties['APP_UUID'] ?: '${random.uuid}') }\"\n</code></pre>\n\n<p>Note: System prop can have same name as spring prop, so:</p>\n\n<pre><code>APP_ID: \"#{systemProperties['APP_ID'] = (systemProperties['APP_ID'] ?: '${random.uuid}') }\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2968631,"reputation":1476,"user_id":2521250,"accept_rate":82,"display_name":"Kemal Duran"},"score":0,"creation_date":1690444312,"post_id":65934216,"comment_id":135355443,"body_markdown":"doesnt gives same value in different components","body":"doesnt gives same value in different components"}],"tags":[],"owner":{"account_id":3123026,"reputation":489,"user_id":2642447,"display_name":"pasquale"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645336977,"creation_date":1611825620,"answer_id":65934216,"question_id":49274032,"body_markdown":"You can inject directly a UUID to your .properties file:\r\n\r\n    service.uuid=#{T(java.util.UUID).randomUUID().toString()}\r\n\r\nThis technique can be used on environments without Spring Boot.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>You can inject directly a UUID to your .properties file:</p>\n<pre><code>service.uuid=#{T(java.util.UUID).randomUUID().toString()}\n</code></pre>\n<p>This technique can be used on environments without Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":2264406,"reputation":339,"user_id":1993555,"display_name":"helios"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619431607,"creation_date":1619431607,"answer_id":67264663,"question_id":49274032,"body_markdown":"After trying different Methods this was the one working in all cases.\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;APP_UUID&quot;, UUID.randomUUID().toString());\r\n        SpringApplication app = new SpringApplication(Restdemo1Application.class);\r\n    }\r\nThen reference it in the config\r\n\r\n    info:\r\n      app:\r\n        uuid: ${APP_UUID}\r\n    \r\n    spring:\r\n      cloud:\r\n        stream:\r\n          binders:\r\n            solace-broker:\r\n              environment:\r\n                solace:\r\n                  java:\r\n                    client-name: ${info.app.name:-}/${spring.profiles.active}/${info.app.uuid}\r\n\r\nThe approach with: \r\n\r\n    #{T(com.yourdomain.config.TestConfig).RANDOM_LONG} \r\n\r\nand \r\n\r\n    &quot;#{systemProperties[&#39;APP_UUID&#39;] = (systemProperties[&#39;APP_UUID&#39;] ?: &#39;${random.uuid}&#39;) }&quot;\r\n\r\ndid not work for be because some frameworks (for example spring cloud stream with solace) do not evaluate the custom expressions.","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>After trying different Methods this was the one working in all cases.</p>\n<pre><code>public static void main(String[] args) {\n    System.setProperty(&quot;APP_UUID&quot;, UUID.randomUUID().toString());\n    SpringApplication app = new SpringApplication(Restdemo1Application.class);\n}\n</code></pre>\n<p>Then reference it in the config</p>\n<pre><code>info:\n  app:\n    uuid: ${APP_UUID}\n\nspring:\n  cloud:\n    stream:\n      binders:\n        solace-broker:\n          environment:\n            solace:\n              java:\n                client-name: ${info.app.name:-}/${spring.profiles.active}/${info.app.uuid}\n</code></pre>\n<p>The approach with:</p>\n<pre><code>#{T(com.yourdomain.config.TestConfig).RANDOM_LONG} \n</code></pre>\n<p>and</p>\n<pre><code>&quot;#{systemProperties['APP_UUID'] = (systemProperties['APP_UUID'] ?: '${random.uuid}') }&quot;\n</code></pre>\n<p>did not work for be because some frameworks (for example spring cloud stream with solace) do not evaluate the custom expressions.</p>\n"}],"owner":{"account_id":4734193,"reputation":399,"user_id":3829029,"display_name":"mister.elastic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9792,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":6,"score":12,"last_activity_date":1676449223,"creation_date":1521019930,"question_id":49274032,"body_markdown":"I have the application property `APP_ID` that should be randomly generated (UUID) and that should have the same value for the entire Spring Boot application.\r\n\r\nWhat I did was the following: I defined in the `application.properties` file the `APP_ID=${random.uuid}`.\r\n\r\nThe UUID gets created successfully, however for every property reference `@Value(&quot;${APP_ID}&quot;)` I will get a different UUID.\r\n\r\nExample: In class `Foo` I want to use the `appId`:\r\n\r\n    @Value(&quot;${APP_ID}&quot;)\r\n    private String appId;\r\nIn class `Bar` I want to use the `appId`, too:\r\n\r\n    @Value(&quot;${APP_ID}&quot;)\r\n    private String appId;\r\nHowever, the `appId` in `Bar` is always different to the `appId` in `Foo`.\r\n\r\nI have read in this [thread][1] that this behavior is the correct one.\r\n\r\nWhat would be proper implementation to always get the same `APP_ID`? \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/7009","title":"Spring boot configuration: how to return always same random value when referenced?","body":"<p>I have the application property <code>APP_ID</code> that should be randomly generated (UUID) and that should have the same value for the entire Spring Boot application.</p>\n\n<p>What I did was the following: I defined in the <code>application.properties</code> file the <code>APP_ID=${random.uuid}</code>.</p>\n\n<p>The UUID gets created successfully, however for every property reference <code>@Value(\"${APP_ID}\")</code> I will get a different UUID.</p>\n\n<p>Example: In class <code>Foo</code> I want to use the <code>appId</code>:</p>\n\n<pre><code>@Value(\"${APP_ID}\")\nprivate String appId;\n</code></pre>\n\n<p>In class <code>Bar</code> I want to use the <code>appId</code>, too:</p>\n\n<pre><code>@Value(\"${APP_ID}\")\nprivate String appId;\n</code></pre>\n\n<p>However, the <code>appId</code> in <code>Bar</code> is always different to the <code>appId</code> in <code>Foo</code>.</p>\n\n<p>I have read in this <a href=\"https://github.com/spring-projects/spring-boot/issues/7009\" rel=\"noreferrer\">thread</a> that this behavior is the correct one.</p>\n\n<p>What would be proper implementation to always get the same <code>APP_ID</code>? </p>\n"},{"tags":["java","spring-boot","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1676665532,"post_id":75457069,"comment_id":133190441,"body_markdown":"I compiled the code in my local did not get that error check https://gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d","body":"I compiled the code in my local did not get that error check <a href=\"https://gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d\" rel=\"nofollow noreferrer\">gist.github.com/ozkanpakdil/814d0e25baecb84cc5513885f6af113d</a>"},{"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"score":1,"creation_date":1676881540,"post_id":75457069,"comment_id":133219659,"body_markdown":"thanks a lot! This was actually fixed by the last release of graalvm (it was not working with graalvm64-17.0.5 but WORKS with graalvm64-17.0.6)","body":"thanks a lot! This was actually fixed by the last release of graalvm (it was not working with graalvm64-17.0.5 but WORKS with graalvm64-17.0.6)"}],"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676449119,"creation_date":1676449119,"question_id":75457069,"body_markdown":"I must say that I am pretty new with graalvm (like most people nowadays).\r\nI have been following [this guide](https://github.com/spring-tips/spring-boot-3-aot) created by [@joshLong](https://stackoverflow.com/users/607357/josh-long) to create a spring boot native application.\r\nIn the guide it explains that we can use the java agent while executing tests in order to create the `reflect-config.json` and other files that are &quot;given as an input to the graalVm compiler&quot;. This is also explained in the spring boot documentation [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent) and also [here](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent.launch)\r\n\r\nI created a repo (Which is a clone of the one from the guide), and just made one commit in order to &quot;activate the java agent while executing the test&quot; (in the history of the branch just look at the last commit).\r\n\r\nplease get it like this:\r\n`git clone https://github.com/clembo590/issues.git --branch issue_with_agent`\r\n\r\n\r\nwhen executing: `mvn clean -P native native:compile` I get this error\r\n\r\n```\r\nCaused by: com.oracle.svm.core.util.VMError$HostedError: New Method or Constructor found as reachable after static analysis: public java.lang.String com.example.aot.properties.DemoProperties.name()\r\n```\r\n\r\nI looked on the web if I could find something about this issue:\r\nI found [one issue on github about that](https://github.com/oracle/graal/discussions/4670) , but I do not know how to fix it in the case of a spring boot app. \r\n\r\nThank you for your help.\r\n","title":"spring boot 3 native fail with javaAgent configured","body":"<p>I must say that I am pretty new with graalvm (like most people nowadays).\nI have been following <a href=\"https://github.com/spring-tips/spring-boot-3-aot\" rel=\"nofollow noreferrer\">this guide</a> created by <a href=\"https://stackoverflow.com/users/607357/josh-long\">@joshLong</a> to create a spring boot native application.\nIn the guide it explains that we can use the java agent while executing tests in order to create the <code>reflect-config.json</code> and other files that are &quot;given as an input to the graalVm compiler&quot;. This is also explained in the spring boot documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent\" rel=\"nofollow noreferrer\">here</a> and also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image.advanced.using-the-tracing-agent.launch\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I created a repo (Which is a clone of the one from the guide), and just made one commit in order to &quot;activate the java agent while executing the test&quot; (in the history of the branch just look at the last commit).</p>\n<p>please get it like this:\n<code>git clone https://github.com/clembo590/issues.git --branch issue_with_agent</code></p>\n<p>when executing: <code>mvn clean -P native native:compile</code> I get this error</p>\n<pre><code>Caused by: com.oracle.svm.core.util.VMError$HostedError: New Method or Constructor found as reachable after static analysis: public java.lang.String com.example.aot.properties.DemoProperties.name()\n</code></pre>\n<p>I looked on the web if I could find something about this issue:\nI found <a href=\"https://github.com/oracle/graal/discussions/4670\" rel=\"nofollow noreferrer\">one issue on github about that</a> , but I do not know how to fix it in the case of a spring boot app.</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","metaprogramming","repeat"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":4,"creation_date":1676448048,"post_id":75456896,"comment_id":133136493,"body_markdown":"For this reason in Java we have Collections. I.e. Lists, Arrays, Maps etc. You can put all values in a list and all Integers in another list.\nThis should also help : https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value","body":"For this reason in Java we have Collections. I.e. Lists, Arrays, Maps etc. You can put all values in a list and all Integers in another list. This should also help : <a href=\"https://stackoverflow.com/questions/8631935/creating-a-variable-name-using-a-string-value\" title=\"creating a variable name using a string value\">stackoverflow.com/questions/8631935/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676448987,"post_id":75456896,"comment_id":133136713,"body_markdown":"In programming, if you ever find yourself wanting to create many variables of the same type, then you should immediately consider using an array, list, set, map, or other data structure that represents a collection of items. With a naming pattern like `valueX`, where `X` is replaced by incrementing numbers, then an array or list is the ideal choice. It&#39;s the same idea as how if you find yourself writing fundamentally the same code over and over, you should immediately consider using a loop or creating a method, depending on the context.","body":"In programming, if you ever find yourself wanting to create many variables of the same type, then you should immediately consider using an array, list, set, map, or other data structure that represents a collection of items. With a naming pattern like <code>valueX</code>, where <code>X</code> is replaced by incrementing numbers, then an array or list is the ideal choice. It&#39;s the same idea as how if you find yourself writing fundamentally the same code over and over, you should immediately consider using a loop or creating a method, depending on the context."}],"answers":[{"comments":[{"owner":{"account_id":27790975,"reputation":3,"user_id":21217422,"display_name":"JLDoucet"},"score":1,"creation_date":1676449506,"post_id":75456951,"comment_id":133136860,"body_markdown":"What about in a case where I want 100 individually named variables (for some arbitrary reason) instead of an array? Also, thank you for not treating me like an infant. I appreciate the time you&#39;ve taken to help me.","body":"What about in a case where I want 100 individually named variables (for some arbitrary reason) instead of an array? Also, thank you for not treating me like an infant. I appreciate the time you&#39;ve taken to help me."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676456440,"post_id":75456951,"comment_id":133138719,"body_markdown":"@JLDoucet It&#39;s difficult to imagine a plausible scenario where you would need to do such a thing where an array/list or map (also known as a dictionary) could not be used instead, likely with a loop or some other dynamic approach to create the objects. That said, Java doesn&#39;t provide anything in the language to generate variables whose names are also generated from some kind of pattern. You could of course write a script (in another language, some IDE feature, or even another Java program) that writes your code for you.","body":"@JLDoucet It&#39;s difficult to imagine a plausible scenario where you would need to do such a thing where an array/list or map (also known as a dictionary) could not be used instead, likely with a loop or some other dynamic approach to create the objects. That said, Java doesn&#39;t provide anything in the language to generate variables whose names are also generated from some kind of pattern. You could of course write a script (in another language, some IDE feature, or even another Java program) that writes your code for you."}],"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676448856,"creation_date":1676448268,"answer_id":75456951,"question_id":75456896,"body_markdown":"It was a little strange question and I don&#39;t know if I understood your meaning correctly or not.\r\nBut in this particular case, instead of repeating the code, you can use a data structure like an array. See [Oracle tutorial][1]. \r\n\r\n    int[] numvar = new int[arr.length];\r\n    for (int i = 0; i &lt; args.length; i++) {\r\n        int someNumber = Integer.parseInt(args[i]);\r\n        numvar[i] = someNumber;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Is there a way to do many similar tasks in Java?","body":"<p>It was a little strange question and I don't know if I understood your meaning correctly or not.\nBut in this particular case, instead of repeating the code, you can use a data structure like an array. See <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a>.</p>\n<pre><code>int[] numvar = new int[arr.length];\nfor (int i = 0; i &lt; args.length; i++) {\n    int someNumber = Integer.parseInt(args[i]);\n    numvar[i] = someNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":27790975,"reputation":3,"user_id":21217422,"display_name":"JLDoucet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676449178,"accepted_answer_id":75456951,"answer_count":1,"score":-3,"last_activity_date":1676448856,"creation_date":1676447851,"question_id":75456896,"body_markdown":"Say for instance I want to repeat the line of code \r\n```\r\nInteger int1 = new Integer(value1);\r\n```\r\nfor many variables, such as int1 to int100. I am not asking about this exact task in particular - I am asking about any such situation where the code would be identical save for replacing small details like int1 and value1 with int2, value2. Is there a way to have the JVM complete this for me?\r\n\r\n\r\nI am not even sure what approach to take on this or what term to search for more information. The only thing I can think to try is instead of typing &quot;int1&quot;, having a loop that changes a string containing the name and attempting to pass the string as a symbol to the JVM but this of course does not work.","title":"Is there a way to do many similar tasks in Java?","body":"<p>Say for instance I want to repeat the line of code</p>\n<pre><code>Integer int1 = new Integer(value1);\n</code></pre>\n<p>for many variables, such as int1 to int100. I am not asking about this exact task in particular - I am asking about any such situation where the code would be identical save for replacing small details like int1 and value1 with int2, value2. Is there a way to have the JVM complete this for me?</p>\n<p>I am not even sure what approach to take on this or what term to search for more information. The only thing I can think to try is instead of typing &quot;int1&quot;, having a loop that changes a string containing the name and attempting to pass the string as a symbol to the JVM but this of course does not work.</p>\n"},{"tags":["java","spring","jpa","reflection","mybatis"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1675826021,"post_id":75380973,"comment_id":133010289,"body_markdown":"That&#39;s not how fields on an entity class should work -- you should have a gender field with a getter and setter, and then a getDescription method, with no setter for description.","body":"That&#39;s not how fields on an entity class should work -- you should have a gender field with a getter and setter, and then a getDescription method, with no setter for description."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675826699,"post_id":75380973,"comment_id":133010351,"body_markdown":"@tgdavies No, describe can be completely replaced by gender, I will modify it right away, you will understand what I mean","body":"@tgdavies No, describe can be completely replaced by gender, I will modify it right away, you will understand what I mean"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675827677,"post_id":75380973,"comment_id":133010456,"body_markdown":"What gets stored into the gender column in the DB? What happens when a `Human` object is created from a row of DB data. And what happens when `setAge` is called with a different value?","body":"What gets stored into the gender column in the DB? What happens when a <code>Human</code> object is created from a row of DB data. And what happens when <code>setAge</code> is called with a different value?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675827964,"post_id":75380973,"comment_id":133010489,"body_markdown":"And I don&#39;t think your table is in 3NF.","body":"And I don&#39;t think your table is in 3NF."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675827994,"post_id":75380973,"comment_id":133010492,"body_markdown":"@tgdavies I understand what you mean. This entity class Human cannot be stored in the database, and the original data will be destroyed, but I don&#39;t need it to be stored. It has no writing method. \nOr, you can think that it is not read from the database, its initialization data only comes from xml, yml, configuration center","body":"@tgdavies I understand what you mean. This entity class Human cannot be stored in the database, and the original data will be destroyed, but I don&#39;t need it to be stored. It has no writing method.  Or, you can think that it is not read from the database, its initialization data only comes from xml, yml, configuration center"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675828093,"post_id":75380973,"comment_id":133010506,"body_markdown":"@tgdavies Thanks for your answer, yes this is not 3NF compliant, I&#39;m just giving an example of fetching data, what I want to know is how to control the order of setter calls","body":"@tgdavies Thanks for your answer, yes this is not 3NF compliant, I&#39;m just giving an example of fetching data, what I want to know is how to control the order of setter calls"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675829128,"post_id":75380973,"comment_id":133010599,"body_markdown":"If your instances are being created by Spring, then use constructor injection and don&#39;t have any setters at all.","body":"If your instances are being created by Spring, then use constructor injection and don&#39;t have any setters at all."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1675855106,"post_id":75380973,"comment_id":133016405,"body_markdown":"If you have a calculated property (such as `description` here), you either calculate the value in its getter, or if you cache it (as you do it here) then you need to recalculate it if any property it depends on changes. This means that `setAge` is missing a bunch of code.","body":"If you have a calculated property (such as <code>description</code> here), you either calculate the value in its getter, or if you cache it (as you do it here) then you need to recalculate it if any property it depends on changes. This means that <code>setAge</code> is missing a bunch of code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676036998,"post_id":75380973,"comment_id":133061846,"body_markdown":"This new class is pointless. Why does it calculate a string in the `setGender` method that is not used anywhere?","body":"This new class is pointless. Why does it calculate a string in the <code>setGender</code> method that is not used anywhere?"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1676276817,"post_id":75380973,"comment_id":133097458,"body_markdown":"Setters and Getters are primarily aimed at controlling the read / modification of a single field. Its RESPONSIBILITY also is scoped for that.","body":"Setters and Getters are primarily aimed at controlling the read / modification of a single field. Its RESPONSIBILITY also is scoped for that."}],"answers":[{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676276952,"creation_date":1676276569,"answer_id":75433410,"question_id":75380973,"body_markdown":"If you have a table in the database containing age and gender you could use something like this:\r\n\r\n    @Entity\r\n    public class Human {\r\n        @Id\r\n        private String id;\r\n        private Integer age;\r\n        private String gender;\r\n        @Transient\r\n        private String describe;\r\n\r\n        public void setId(String id){\r\n            this.id = id;\r\n        }\r\n\r\n        public void setAge(Integer age){\r\n            this.age = age;\r\n        }\r\n\r\n        public void setGender(String gender){\r\n            this.gender = gender;\r\n        }\r\n\r\n        @PostLoad\r\n        public void initDescribe(){\r\n            if (this.age &lt; 30) {\r\n                this.describe = &quot;young &quot; + this.gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                this.describe = &quot;middle-aged &quot; + this.gender;\r\n            } else {\r\n                this.describe = &quot;old &quot; + this.gender;\r\n            }\r\n        }\r\n    }\r\n\r\nSince the describe field is not in the database table it can be annotated with @Transient and the @PostLoad annotation will ensure that the initDescribe() method is called after age and gender fields are set.","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>If you have a table in the database containing age and gender you could use something like this:</p>\n<pre><code>@Entity\npublic class Human {\n    @Id\n    private String id;\n    private Integer age;\n    private String gender;\n    @Transient\n    private String describe;\n\n    public void setId(String id){\n        this.id = id;\n    }\n\n    public void setAge(Integer age){\n        this.age = age;\n    }\n\n    public void setGender(String gender){\n        this.gender = gender;\n    }\n\n    @PostLoad\n    public void initDescribe(){\n        if (this.age &lt; 30) {\n            this.describe = &quot;young &quot; + this.gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            this.describe = &quot;middle-aged &quot; + this.gender;\n        } else {\n            this.describe = &quot;old &quot; + this.gender;\n        }\n    }\n}\n</code></pre>\n<p>Since the describe field is not in the database table it can be annotated with @Transient and the @PostLoad annotation will ensure that the initDescribe() method is called after age and gender fields are set.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676448812,"creation_date":1676444175,"answer_id":75456402,"question_id":75380973,"body_markdown":"Test with:\r\n- spring-core-5.2.12.RELEASE.jar\r\n- spring-beans-5.2.12.RELEASE.jar\r\n- java version &quot;1.8.0_121&quot;\r\n\r\nLooking forward to a better solution.\r\n\r\nHere is my code for testing and debugging:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    public class RepositoryBean {\r\n        public static void main(String[] args) {\r\n            ApplicationContext AcContext = new AnnotationConfigApplicationContext(User.class, Configs.class);\r\n            System.out.println(AcContext.getBean(&quot;user&quot;, User.class));\r\n        }\r\n    }\r\n    \r\n    @Configuration\r\n    class Configs {\r\n        @Bean\r\n        public String name() { return &quot;the name&quot;; }\r\n        @Bean\r\n        public int age() { return 100; }\r\n    }\r\n    \r\n    @Component\r\n    class User {\r\n        private int age;\r\n        private String name;\r\n    \r\n        public User() { }\r\n    \r\n        @Autowired\r\n        public void setName(String name) { this.name = name; }\r\n    \r\n        public User(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public int getAge() { return age; }\r\n        public String getName() { return name; }\r\n    \r\n        @Autowired\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n    //        text =  Objects.requireNonNull(this.name) + age;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n------\r\nI am full of curiosity about this question. I have tried to find the answer from the source code these days (only for spring, other middleware, I have no energy to do it)\r\n\r\nFirst of all, the conclusion is that when spring initializes beans, it cannot control the order in which the setter methods are called(According to the results of my investigation of the source code, there may be omissions. If there is an error in my conclusion, I hope everyone can help point out).\r\n\r\nNow, please take a look at the documentation of [Class#getDeclaredMethods][1]:\r\n&gt; The elements in the returned array are not sorted and are not in any particular order.\r\n\r\nThrough reflection, when using getDeclaredMethods to get the Method array, there is no &quot;order&quot;. No &quot;order&quot; means that it is not sorted according to any rules, but the returned order seems to be regular every time it is called, i use the following code to test:\r\n\r\n    class User {\r\n        private int age;\r\n        private String name;\r\n        public void setName(String name) { this.name = name; }\r\n        public int getAge() { return age; }\r\n        public void setAge(int age) { this.age = age; }\r\n        public String getName() { return name; }\r\n    }\r\n    public static void main(String[] args) {\r\n        Class&lt;User&gt; c = User.class;\r\n        Method[] m = c.getDeclaredMethods();\r\n        Arrays.stream(m).forEach(System.out::println);\r\n    }\r\n\r\nNo matter how many times I run it(run about 20 times in a row, and run once in a while later), no matter what the setter method and attribute order in the User class are, the final output result, setAge is before setName:\r\n\r\n    public int com.anno.User.getAge()\r\n    public void com.anno.User.setAge(int)\r\n    public java.lang.String com.anno.User.getName()\r\n    public void com.anno.User.setName(java.lang.String)\r\nor:\r\n\r\n    public void com.anno.User.setAge(int)\r\n    public int com.anno.User.getAge()\r\n    public java.lang.String com.anno.User.getName()\r\n    public void com.anno.User.setName(java.lang.String)\r\n\r\n\r\nTherefore, in spring, when obtaining the method list through reflection, it is impossible to specify the order, and track the entire operation chain, and finally to the execution of the setter method, the method list still maintains the order in which it was obtained.\r\n\r\nDuring the entire initialization process, the processing of sorting the data in the method data is not seen.\r\n\r\nThe method `org.springframework.util.ReflectionUtils#getDeclaredMethods(Class&lt;?&gt;, boolean)` use `Class#getDeclaredMethods` to gets the array of all methods in User:\r\n\r\n\tprivate static Method[] getDeclaredMethods(Class&lt;?&gt; clazz, boolean defensive) {\r\n\t\tAssert.notNull(clazz, &quot;Class must not be null&quot;);\r\n\t\tMethod[] result = declaredMethodsCache.get(clazz);\r\n\t\tif (result == null) {\r\n\t\t\ttry {\r\n\t\t\t\tMethod[] declaredMethods = clazz.getDeclaredMethods();\r\n\t\t\t\tList&lt;Method&gt; defaultMethods = findConcreteMethodsOnInterfaces(clazz);\r\n\t\t\t\tif (defaultMethods != null) {\r\n\t\t\t\t\tresult = new Method[declaredMethods.length + defaultMethods.size()];\r\n\t\t\t\t\tSystem.arraycopy(declaredMethods, 0, result, 0, declaredMethods.length);\r\n\t\t\t\t\tint index = declaredMethods.length;\r\n\t\t\t\t\tfor (Method defaultMethod : defaultMethods) {\r\n\t\t\t\t\t\tresult[index] = defaultMethod;\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tresult = declaredMethods;\r\n\t\t\t\t}\r\n\t\t\t\tdeclaredMethodsCache.put(clazz, (result.length == 0 ? EMPTY_METHOD_ARRAY : result));\r\n\t\t\t}\r\n\t\t\tcatch (Throwable ex) {\r\n\t\t\t\tthrow new IllegalStateException(&quot;Failed to introspect Class [&quot; + clazz.getName() +\r\n\t\t\t\t\t\t&quot;] from ClassLoader [&quot; + clazz.getClassLoader() + &quot;]&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (result.length == 0 || !defensive) ? result : result.clone();\r\n\t}\r\n\r\nOther related methods are as follows, please check by yourself:\r\n\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#postProcessProperties`\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#findAutowiringMetadata`\r\n - `org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#buildAutowiringMetadata`\r\n - `org.springframework.util.ReflectionUtils#doWithLocalMethods`\r\n\r\nThe final conclusion is that no matter how the setter methods and attributes are arranged in the User entity, setAge will be called first when the bean is initialized.\r\n\r\n**In other words, the final setter method will only be called in the order of the methods in the method array returned by Class#getDeclaredMethods()**\r\n\r\nI&#39;m not sure if other libraries provide the ability to specify the order in which the setter methods are called during reflection, so I can only assume that the order in which the setter methods are called cannot be guaranteed.\r\n\r\nsome advices\r\n------\r\nI think I understand your question, you seem to want to encapsulate the changing part into the setter method, so that even in your application, there are many places referencing this entity (say there are 100 places referencing it), you can just pass \r\nModify the setter method once to make the function effective for all referenced places.\r\n\r\nI think there is really no way to control its calling order. Apart from spring, we can&#39;t figure out all the implementations of other libraries.\r\n\r\nBut we can do conversion during the development process, you can look at the concepts of PO (persistant object)\r\n, BO(business object), DTO(data transfer object), VO(value object).\r\n\r\nYou can use PO, get the data from the xmlymlconfiguration center or other data sources:\r\n\r\n    class HumanPO {\r\n        private Integer age;\r\n        private String gender;\r\n\r\n        public Integer getAge() { return age; }\r\n        public void setAge(Integer age) { this.age = age; }\r\n        public String getGender() { return gender; }\r\n        public void setGender(String gender) { this.gender = gender; }\r\n    }\r\n\r\nThen, convert it to a business object &#39;BO&#39; where you can encapsulate logic:\r\n\r\n    class HumanBO {\r\n        private Integer age;\r\n        private String gender;\r\n        private String describe;\r\n    \r\n    \r\n        public static HumanBO PoConvertToBo(HumanPO humanPo) {\r\n            HumanBO rt = new HumanBO();\r\n            rt.setAge(humanPo.getAge());\r\n            rt.setGender(humanPo.getGender());\r\n            rt.setDescribe(humanPo.getGender());\r\n            return rt;\r\n        }\r\n    \r\n        public Integer getAge() { return age; }\r\n        public void setAge(Integer age) { this.age = age; }\r\n        public String getGender() { return gender; }\r\n        public void setGender(String gender) { this.gender = gender; }\r\n        public String getDescribe() { return describe; }\r\n        public void setDescribe(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged &quot; + gender;\r\n            } else {\r\n                describe = &quot;old &quot; + gender;\r\n            }\r\n            this.describe = describe;\r\n        }\r\n    }\r\n\r\nNow, you can implement your changing needs by modifying HumanBO.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--\r\n","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>Test with:</p>\n<ul>\n<li>spring-core-5.2.12.RELEASE.jar</li>\n<li>spring-beans-5.2.12.RELEASE.jar</li>\n<li>java version &quot;1.8.0_121&quot;</li>\n</ul>\n<p>Looking forward to a better solution.</p>\n<p>Here is my code for testing and debugging:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\npublic class RepositoryBean {\n    public static void main(String[] args) {\n        ApplicationContext AcContext = new AnnotationConfigApplicationContext(User.class, Configs.class);\n        System.out.println(AcContext.getBean(&quot;user&quot;, User.class));\n    }\n}\n\n@Configuration\nclass Configs {\n    @Bean\n    public String name() { return &quot;the name&quot;; }\n    @Bean\n    public int age() { return 100; }\n}\n\n@Component\nclass User {\n    private int age;\n    private String name;\n\n    public User() { }\n\n    @Autowired\n    public void setName(String name) { this.name = name; }\n\n    public User(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public int getAge() { return age; }\n    public String getName() { return name; }\n\n    @Autowired\n    public void setAge(int age) {\n        this.age = age;\n//        text =  Objects.requireNonNull(this.name) + age;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<hr />\n<p>I am full of curiosity about this question. I have tried to find the answer from the source code these days (only for spring, other middleware, I have no energy to do it)</p>\n<p>First of all, the conclusion is that when spring initializes beans, it cannot control the order in which the setter methods are called(According to the results of my investigation of the source code, there may be omissions. If there is an error in my conclusion, I hope everyone can help point out).</p>\n<p>Now, please take a look at the documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethods--\" rel=\"nofollow noreferrer\">Class#getDeclaredMethods</a>:</p>\n<blockquote>\n<p>The elements in the returned array are not sorted and are not in any particular order.</p>\n</blockquote>\n<p>Through reflection, when using getDeclaredMethods to get the Method array, there is no &quot;order&quot;. No &quot;order&quot; means that it is not sorted according to any rules, but the returned order seems to be regular every time it is called, i use the following code to test:</p>\n<pre><code>class User {\n    private int age;\n    private String name;\n    public void setName(String name) { this.name = name; }\n    public int getAge() { return age; }\n    public void setAge(int age) { this.age = age; }\n    public String getName() { return name; }\n}\npublic static void main(String[] args) {\n    Class&lt;User&gt; c = User.class;\n    Method[] m = c.getDeclaredMethods();\n    Arrays.stream(m).forEach(System.out::println);\n}\n</code></pre>\n<p>No matter how many times I run it(run about 20 times in a row, and run once in a while later), no matter what the setter method and attribute order in the User class are, the final output result, setAge is before setName:</p>\n<pre><code>public int com.anno.User.getAge()\npublic void com.anno.User.setAge(int)\npublic java.lang.String com.anno.User.getName()\npublic void com.anno.User.setName(java.lang.String)\n</code></pre>\n<p>or:</p>\n<pre><code>public void com.anno.User.setAge(int)\npublic int com.anno.User.getAge()\npublic java.lang.String com.anno.User.getName()\npublic void com.anno.User.setName(java.lang.String)\n</code></pre>\n<p>Therefore, in spring, when obtaining the method list through reflection, it is impossible to specify the order, and track the entire operation chain, and finally to the execution of the setter method, the method list still maintains the order in which it was obtained.</p>\n<p>During the entire initialization process, the processing of sorting the data in the method data is not seen.</p>\n<p>The method <code>org.springframework.util.ReflectionUtils#getDeclaredMethods(Class&lt;?&gt;, boolean)</code> use <code>Class#getDeclaredMethods</code> to gets the array of all methods in User:</p>\n<pre><code>private static Method[] getDeclaredMethods(Class&lt;?&gt; clazz, boolean defensive) {\n    Assert.notNull(clazz, &quot;Class must not be null&quot;);\n    Method[] result = declaredMethodsCache.get(clazz);\n    if (result == null) {\n        try {\n            Method[] declaredMethods = clazz.getDeclaredMethods();\n            List&lt;Method&gt; defaultMethods = findConcreteMethodsOnInterfaces(clazz);\n            if (defaultMethods != null) {\n                result = new Method[declaredMethods.length + defaultMethods.size()];\n                System.arraycopy(declaredMethods, 0, result, 0, declaredMethods.length);\n                int index = declaredMethods.length;\n                for (Method defaultMethod : defaultMethods) {\n                    result[index] = defaultMethod;\n                    index++;\n                }\n            }\n            else {\n                result = declaredMethods;\n            }\n            declaredMethodsCache.put(clazz, (result.length == 0 ? EMPTY_METHOD_ARRAY : result));\n        }\n        catch (Throwable ex) {\n            throw new IllegalStateException(&quot;Failed to introspect Class [&quot; + clazz.getName() +\n                    &quot;] from ClassLoader [&quot; + clazz.getClassLoader() + &quot;]&quot;, ex);\n        }\n    }\n    return (result.length == 0 || !defensive) ? result : result.clone();\n}\n</code></pre>\n<p>Other related methods are as follows, please check by yourself:</p>\n<ul>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#postProcessProperties</code></li>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#findAutowiringMetadata</code></li>\n<li><code>org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor#buildAutowiringMetadata</code></li>\n<li><code>org.springframework.util.ReflectionUtils#doWithLocalMethods</code></li>\n</ul>\n<p>The final conclusion is that no matter how the setter methods and attributes are arranged in the User entity, setAge will be called first when the bean is initialized.</p>\n<p><strong>In other words, the final setter method will only be called in the order of the methods in the method array returned by Class#getDeclaredMethods()</strong></p>\n<p>I'm not sure if other libraries provide the ability to specify the order in which the setter methods are called during reflection, so I can only assume that the order in which the setter methods are called cannot be guaranteed.</p>\n<h2>some advices</h2>\n<p>I think I understand your question, you seem to want to encapsulate the changing part into the setter method, so that even in your application, there are many places referencing this entity (say there are 100 places referencing it), you can just pass\nModify the setter method once to make the function effective for all referenced places.</p>\n<p>I think there is really no way to control its calling order. Apart from spring, we can't figure out all the implementations of other libraries.</p>\n<p>But we can do conversion during the development process, you can look at the concepts of PO (persistant object)\n, BO(business object), DTO(data transfer object), VO(value object).</p>\n<p>You can use PO, get the data from the xmlymlconfiguration center or other data sources:</p>\n<pre><code>class HumanPO {\n    private Integer age;\n    private String gender;\n\n    public Integer getAge() { return age; }\n    public void setAge(Integer age) { this.age = age; }\n    public String getGender() { return gender; }\n    public void setGender(String gender) { this.gender = gender; }\n}\n</code></pre>\n<p>Then, convert it to a business object 'BO' where you can encapsulate logic:</p>\n<pre><code>class HumanBO {\n    private Integer age;\n    private String gender;\n    private String describe;\n\n\n    public static HumanBO PoConvertToBo(HumanPO humanPo) {\n        HumanBO rt = new HumanBO();\n        rt.setAge(humanPo.getAge());\n        rt.setGender(humanPo.getGender());\n        rt.setDescribe(humanPo.getGender());\n        return rt;\n    }\n\n    public Integer getAge() { return age; }\n    public void setAge(Integer age) { this.age = age; }\n    public String getGender() { return gender; }\n    public void setGender(String gender) { this.gender = gender; }\n    public String getDescribe() { return describe; }\n    public void setDescribe(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged &quot; + gender;\n        } else {\n            describe = &quot;old &quot; + gender;\n        }\n        this.describe = describe;\n    }\n}\n</code></pre>\n<p>Now, you can implement your changing needs by modifying HumanBO.</p>\n"}],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75456402,"answer_count":2,"score":3,"last_activity_date":1676448812,"creation_date":1675824840,"question_id":75380973,"body_markdown":"I have encountered a rather difficult problem, Suppose there is an entity class, the code is as follows:\r\n\r\n    class Human {\r\n        private Integer age; // age of the human\r\n        private String describe; // description of the human based on their age\r\n    \r\n        /**\r\n         * Setter method for the age of the human\r\n         *\r\n         * @param age the age of the human\r\n         */\r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        /**\r\n         * Setter method for the description of the human\r\n         * The description is determined based on their age\r\n         *\r\n         * @param gender the gender of the human\r\n         */\r\n        public void setDescribe(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged &quot; + gender;\r\n            } else {\r\n                describe = &quot;old &quot; + gender;\r\n            }\r\n            this.describe = describe;\r\n        }\r\n    }\r\n\r\nAs shown in the code (just an example, the attribute or class may be arbitrary), if I use spring and use spring to generate beans, I must ensure that method `setAge` is called first. How can I ensure this?\r\n\r\nIf there is a table in the database that stores age and gender, how can I ensure that setAge is called first when I use jpa, mybatis or other libraries to reflect entities?\r\n\r\nI tried to search, but I didn&#39;t find the answer. The following are the keywords I searched and some related answers, but it doesn&#39;t seem to solve my doubts\r\n\r\n***Spring init bean, how to ensure that a setter method is executed first*** \r\n\r\n***Spring reflection entity class, how to ensure that a setter method is executed first***\r\n\r\n***spring call setter after other setter***\r\n\r\n***When jpa reflects entity classes  setter methods call order***\r\n\r\n[Spring setter method order][1]\r\n\r\n[Spring - why initialization is called after setter method][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5139301/spring-setter-method-order\r\n  [2]: https://stackoverflow.com/questions/15261760/spring-why-initialization-is-called-after-setter-method\r\n\r\n---------\r\nFor tgdavies commentif the demand of the product is to expand the gender description function and add the age descriptionthe class like this\r\n\r\n    class Human {\r\n        private Integer age;\r\n        private String gender;\r\n    \r\n        public void setAge(Integer age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            String describe = &quot;&quot;;\r\n            if (this.age &lt; 30) {\r\n                describe = &quot;young &quot; + gender;\r\n            } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\r\n                describe = &quot;middle-aged&quot; + gender;\r\n            } else {\r\n                describe = &quot;old&quot; + gender;\r\n            }\r\n            this.gender = describe;\r\n        }\r\n    }\r\n\r\n","title":"In spring, when the entity class is reflected into a bean, how to specify the calling order of the setter method?","body":"<p>I have encountered a rather difficult problem, Suppose there is an entity class, the code is as follows:</p>\n<pre><code>class Human {\n    private Integer age; // age of the human\n    private String describe; // description of the human based on their age\n\n    /**\n     * Setter method for the age of the human\n     *\n     * @param age the age of the human\n     */\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    /**\n     * Setter method for the description of the human\n     * The description is determined based on their age\n     *\n     * @param gender the gender of the human\n     */\n    public void setDescribe(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged &quot; + gender;\n        } else {\n            describe = &quot;old &quot; + gender;\n        }\n        this.describe = describe;\n    }\n}\n</code></pre>\n<p>As shown in the code (just an example, the attribute or class may be arbitrary), if I use spring and use spring to generate beans, I must ensure that method <code>setAge</code> is called first. How can I ensure this?</p>\n<p>If there is a table in the database that stores age and gender, how can I ensure that setAge is called first when I use jpa, mybatis or other libraries to reflect entities?</p>\n<p>I tried to search, but I didn't find the answer. The following are the keywords I searched and some related answers, but it doesn't seem to solve my doubts</p>\n<p><em><strong>Spring init bean, how to ensure that a setter method is executed first</strong></em></p>\n<p><em><strong>Spring reflection entity class, how to ensure that a setter method is executed first</strong></em></p>\n<p><em><strong>spring call setter after other setter</strong></em></p>\n<p><em><strong>When jpa reflects entity classes  setter methods call order</strong></em></p>\n<p><a href=\"https://stackoverflow.com/questions/5139301/spring-setter-method-order\">Spring setter method order</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15261760/spring-why-initialization-is-called-after-setter-method\">Spring - why initialization is called after setter method</a></p>\n<hr />\n<p>For tgdavies commentif the demand of the product is to expand the gender description function and add the age descriptionthe class like this</p>\n<pre><code>class Human {\n    private Integer age;\n    private String gender;\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public void setGender(String gender) {\n        String describe = &quot;&quot;;\n        if (this.age &lt; 30) {\n            describe = &quot;young &quot; + gender;\n        } else if ( this.age &lt;= 55 &amp;&amp; this.age &gt;= 30) {\n            describe = &quot;middle-aged&quot; + gender;\n        } else {\n            describe = &quot;old&quot; + gender;\n        }\n        this.gender = describe;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":2870380,"reputation":1093,"user_id":2463875,"accept_rate":100,"display_name":"Aviv Ben Shabat"},"score":2,"creation_date":1527024003,"post_id":41562994,"comment_id":87966739,"body_markdown":"Only from API 26+","body":"Only from API 26+"}],"tags":[],"owner":{"account_id":3670781,"reputation":2885,"user_id":3058050,"accept_rate":38,"display_name":"Rahul Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484031830,"creation_date":1484031830,"answer_id":41562994,"question_id":41562905,"body_markdown":"From the reference of [calculate age][1], use period class as following:\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\r\n     \r\n    Period p = Period.between(birthday, today);\r\n     \r\n    //Now access the values as below\r\n    System.out.println(period.getDays());\r\n    System.out.println(period.getMonths());\r\n    System.out.println(period.getYears());\r\n \r\nhope it will solve your concern.\r\n\r\n\r\n  [1]: http://howtodoinjava.com/for-fun-only/java-code-to-calculate-age-from-date-of-birth/","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>From the reference of <a href=\"http://howtodoinjava.com/for-fun-only/java-code-to-calculate-age-from-date-of-birth/\" rel=\"nofollow noreferrer\">calculate age</a>, use period class as following:</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate birthday = LocalDate.of(1960, Month.JANUARY, 1);\n\nPeriod p = Period.between(birthday, today);\n\n//Now access the values as below\nSystem.out.println(period.getDays());\nSystem.out.println(period.getMonths());\nSystem.out.println(period.getYears());\n</code></pre>\n\n<p>hope it will solve your concern.</p>\n"},{"tags":[],"owner":{"account_id":9052913,"reputation":417,"user_id":6742238,"accept_rate":73,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484036526,"creation_date":1484036526,"answer_id":41564224,"question_id":41562905,"body_markdown":"try this...\r\n\r\n    private String getAge(int year, int month, int day) {\r\n        //calculating age from dob\r\n        Calendar dob = Calendar.getInstance();\r\n        Calendar today = Calendar.getInstance();\r\n        dob.set(year, month, day);\r\n        int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n        if (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) {\r\n            age--;\r\n        }\r\n        return age;\r\n    }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>try this...</p>\n\n<pre><code>private String getAge(int year, int month, int day) {\n    //calculating age from dob\n    Calendar dob = Calendar.getInstance();\n    Calendar today = Calendar.getInstance();\n    dob.set(year, month, day);\n    int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n    if (today.get(Calendar.DAY_OF_YEAR) &lt; dob.get(Calendar.DAY_OF_YEAR)) {\n        age--;\n    }\n    return age;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541151,"reputation":771,"user_id":2206934,"display_name":"Devram Kandhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484039606,"creation_date":1484039606,"answer_id":41565095,"question_id":41562905,"body_markdown":"Use following code snippet to calculate the age:\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class AgeCalculator {\r\n    \r\n    \tpublic static int calculateAge(Date birthdate) {\r\n    \t\tCalendar birth = Calendar.getInstance();\r\n    \t\tbirth.setTime(birthdate);\r\n    \t\tCalendar today = Calendar.getInstance();\r\n    \r\n    \t\tint yearDifference = today.get(Calendar.YEAR)\r\n    \t\t\t\t- birth.get(Calendar.YEAR);\r\n    \r\n    \t\tif (today.get(Calendar.MONTH) &lt; birth.get(Calendar.MONTH)) {\r\n    \t\t\tyearDifference--;\r\n    \t\t} else {\r\n    \t\t\tif (today.get(Calendar.MONTH) == birth.get(Calendar.MONTH)\r\n    \t\t\t\t\t&amp;&amp; today.get(Calendar.DAY_OF_MONTH) &lt; birth\r\n    \t\t\t\t\t\t\t.get(Calendar.DAY_OF_MONTH)) {\r\n    \t\t\t\tyearDifference--;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn yearDifference;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\t// date format dd-mm-yyyy\r\n    \t\tString birthdateStr = &quot;11-01-1991&quot;;\r\n    \t\tSimpleDateFormat df = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);\r\n    \t\tDate birthdate = df.parse(birthdateStr);\r\n    \t\tSystem.out.println(AgeCalculator.calculateAge(birthdate));\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Use following code snippet to calculate the age:</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class AgeCalculator {\n\n    public static int calculateAge(Date birthdate) {\n        Calendar birth = Calendar.getInstance();\n        birth.setTime(birthdate);\n        Calendar today = Calendar.getInstance();\n\n        int yearDifference = today.get(Calendar.YEAR)\n                - birth.get(Calendar.YEAR);\n\n        if (today.get(Calendar.MONTH) &lt; birth.get(Calendar.MONTH)) {\n            yearDifference--;\n        } else {\n            if (today.get(Calendar.MONTH) == birth.get(Calendar.MONTH)\n                    &amp;&amp; today.get(Calendar.DAY_OF_MONTH) &lt; birth\n                            .get(Calendar.DAY_OF_MONTH)) {\n                yearDifference--;\n            }\n\n        }\n\n        return yearDifference;\n    }\n\n    public static void main(String[] args) throws ParseException {\n        // date format dd-mm-yyyy\n        String birthdateStr = \"11-01-1991\";\n        SimpleDateFormat df = new SimpleDateFormat(\"dd-mm-yyyy\");\n        Date birthdate = df.parse(birthdateStr);\n        System.out.println(AgeCalculator.calculateAge(birthdate));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13391357,"reputation":11,"user_id":9663637,"display_name":"Gopal_Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559025313,"creation_date":1559024319,"answer_id":56336071,"question_id":41562905,"body_markdown":"  This will be the suitable method for each condition of calculating Age from given Date --\r\n    \r\n    public static String getAge(int year, int month, int day) \r\n    {\r\n    \r\n     Calendar dob = Calendar.getInstance();\r\n    \r\n     Calendar today = Calendar.getInstance();\r\n    \r\n    dob.set(year, month, day);\r\n    \r\n    int today_m = today.get(Calendar.MONTH);\r\n    \r\n    int dob_m = dob.get(Calendar.MONTH);\r\n    \r\n    int age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\r\n    \r\n    if (dob_m &gt; today_m) \r\n    {\r\n    \r\n    age--;\r\n    } \r\n    else if (dob_m == today_m) \r\n    {\r\n    \r\n    int day_today = today.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    int day_dob = dob.get(Calendar.DAY_OF_MONTH);\r\n    if (day_dob &gt; day_today) {\r\n    age--;}\r\n   \r\n    }\r\n    return age+&quot;&quot;;\r\n    }\r\n    \r\nIn MainActivity\r\n\r\n\r\n    public SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(sdf2.parse(&quot;2000-03-21&quot;));\r\n    \r\n    String age=Util.getAge(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DATE));\r\n    \r\n    \r\nI am setting the given date in a calendar and sending the year,date and month to getAge() method.\r\n    you can change the date format as per you requirement.\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>This will be the suitable method for each condition of calculating Age from given Date --</p>\n\n<pre><code>public static String getAge(int year, int month, int day) \n{\n\n Calendar dob = Calendar.getInstance();\n\n Calendar today = Calendar.getInstance();\n\ndob.set(year, month, day);\n\nint today_m = today.get(Calendar.MONTH);\n\nint dob_m = dob.get(Calendar.MONTH);\n\nint age = today.get(Calendar.YEAR) - dob.get(Calendar.YEAR);\n\nif (dob_m &gt; today_m) \n{\n\nage--;\n} \nelse if (dob_m == today_m) \n{\n\nint day_today = today.get(Calendar.DAY_OF_MONTH);\n\nint day_dob = dob.get(Calendar.DAY_OF_MONTH);\nif (day_dob &gt; day_today) {\nage--;}\n\n}\nreturn age+\"\";\n}\n</code></pre>\n\n<p>In MainActivity</p>\n\n<pre><code>public SimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(sdf2.parse(\"2000-03-21\"));\n\nString age=Util.getAge(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DATE));\n</code></pre>\n\n<p>I am setting the given date in a calendar and sending the year,date and month to getAge() method.\n    you can change the date format as per you requirement.</p>\n"},{"tags":[],"owner":{"account_id":10031172,"reputation":308,"user_id":7863940,"display_name":"ThiagoYou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576599242,"creation_date":1576597507,"answer_id":59377675,"question_id":41562905,"body_markdown":"I know it&#39;s already an old question, but date calculation is something that always back to the discussion. \r\n\r\nThis is the method im actually using to get the exact year between two dates:\r\n\r\n        public static String getYear(Date value) {\r\n            Calendar date = Calendar.getInstance();\r\n            Calendar today = Calendar.getInstance();\r\n    \r\n            date.setTime(value);\r\n    \r\n            /* get raw year between dates */\r\n            int year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\r\n    \r\n            /* calculate exact year */\r\n            if (\r\n                    (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\r\n                    (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\r\n            ) {\r\n                year--;\r\n            }\r\n    \r\n            return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n        }\r\n\r\n**-- EDIT**\r\n\r\nWith JDK 8 is easier to get the year difference between dates:\r\n\r\n([As explained in this other answer][1])\r\n\r\n    public static String getYear(Date value) {\r\n        LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n        int year = Period.between(date, LocalDate.now()).getYears();\r\n\r\n        return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n    }\r\n\r\n\r\nBut into Android (JAVA) this only work on API 26+, so it&#39;s better to use both methods based on SDK version:\r\n\r\n    public static String getYear(Date value) {\r\n        int year;\r\n    \r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n            year = Period.between(date, LocalDate.now()).getYears();\r\n        } else {\r\n            Calendar date = Calendar.getInstance();\r\n            Calendar today = Calendar.getInstance();\r\n    \r\n            date.setTime(value);\r\n    \r\n            /* get raw year between dates */\r\n            year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\r\n    \r\n            /* calculate exact year */\r\n            if (\r\n                    (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\r\n                    (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\r\n            ) {\r\n                year--;\r\n            }\r\n        }\r\n    \r\n        return year &gt; 0 ? Integer.toString(year) : &quot;0&quot;;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/1116138/7863940","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>I know it's already an old question, but date calculation is something that always back to the discussion. </p>\n\n<p>This is the method im actually using to get the exact year between two dates:</p>\n\n<pre><code>    public static String getYear(Date value) {\n        Calendar date = Calendar.getInstance();\n        Calendar today = Calendar.getInstance();\n\n        date.setTime(value);\n\n        /* get raw year between dates */\n        int year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\n\n        /* calculate exact year */\n        if (\n                (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\n                (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\n        ) {\n            year--;\n        }\n\n        return year &gt; 0 ? Integer.toString(year) : \"0\";\n    }\n</code></pre>\n\n<p><strong>-- EDIT</strong></p>\n\n<p>With JDK 8 is easier to get the year difference between dates:</p>\n\n<p>(<a href=\"https://stackoverflow.com/a/1116138/7863940\">As explained in this other answer</a>)</p>\n\n<pre><code>public static String getYear(Date value) {\n    LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n    int year = Period.between(date, LocalDate.now()).getYears();\n\n    return year &gt; 0 ? Integer.toString(year) : \"0\";\n}\n</code></pre>\n\n<p>But into Android (JAVA) this only work on API 26+, so it's better to use both methods based on SDK version:</p>\n\n<pre><code>public static String getYear(Date value) {\n    int year;\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        LocalDate date = value.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        year = Period.between(date, LocalDate.now()).getYears();\n    } else {\n        Calendar date = Calendar.getInstance();\n        Calendar today = Calendar.getInstance();\n\n        date.setTime(value);\n\n        /* get raw year between dates */\n        year = today.get(Calendar.YEAR) - date.get(Calendar.YEAR);\n\n        /* calculate exact year */\n        if (\n                (date.get(Calendar.MONTH) &gt; today.get(Calendar.MONTH)) ||\n                (date.get(Calendar.MONTH) == today.get(Calendar.MONTH) &amp;&amp; date.get(Calendar.DATE) &gt; today.get(Calendar.DATE))\n        ) {\n            year--;\n        }\n    }\n\n    return year &gt; 0 ? Integer.toString(year) : \"0\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7410856,"reputation":1553,"user_id":5638220,"display_name":"Ashish Chaugule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585502861,"creation_date":1578401049,"answer_id":59628679,"question_id":41562905,"body_markdown":"Check this for android in Kotlin : \r\n\r\n    fun calculateAgeFromDob(birthDate: String,dateFormat:String): Int {\r\n          \r\n            val sdf = SimpleDateFormat(dateFormat)\r\n            val dob = Calendar.getInstance()\r\n            dob.time = sdf.parse(birthDate)\r\n\r\n            val today = Calendar.getInstance()\r\n\r\n            val curYear = today.get(Calendar.YEAR)\r\n            val dobYear = dob.get(Calendar.YEAR)\r\n\r\n            var age = curYear - dobYear\r\n\r\n            try {\r\n                // if dob is month or day is behind today&#39;s month or day\r\n                // reduce age by 1\r\n                val curMonth = today.get(Calendar.MONTH+1)\r\n                val dobMonth = dob.get(Calendar.MONTH+1)\r\n                if (dobMonth &gt;curMonth) { // this year can&#39;t be counted!\r\n                    age--\r\n                } else if (dobMonth == curMonth) { // same month? check for day\r\n                    val curDay = today.get(Calendar.DAY_OF_MONTH)\r\n                    val dobDay = dob.get(Calendar.DAY_OF_MONTH)\r\n                    if (dobDay &gt; curDay) { // this year can&#39;t be counted!\r\n                        age--\r\n                    }\r\n                }\r\n            } catch (ex: Exception) {\r\n                ex.printStackTrace()\r\n            }\r\n\r\n            return age\r\n        }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Check this for android in Kotlin : </p>\n\n<pre><code>fun calculateAgeFromDob(birthDate: String,dateFormat:String): Int {\n\n        val sdf = SimpleDateFormat(dateFormat)\n        val dob = Calendar.getInstance()\n        dob.time = sdf.parse(birthDate)\n\n        val today = Calendar.getInstance()\n\n        val curYear = today.get(Calendar.YEAR)\n        val dobYear = dob.get(Calendar.YEAR)\n\n        var age = curYear - dobYear\n\n        try {\n            // if dob is month or day is behind today's month or day\n            // reduce age by 1\n            val curMonth = today.get(Calendar.MONTH+1)\n            val dobMonth = dob.get(Calendar.MONTH+1)\n            if (dobMonth &gt;curMonth) { // this year can't be counted!\n                age--\n            } else if (dobMonth == curMonth) { // same month? check for day\n                val curDay = today.get(Calendar.DAY_OF_MONTH)\n                val dobDay = dob.get(Calendar.DAY_OF_MONTH)\n                if (dobDay &gt; curDay) { // this year can't be counted!\n                    age--\n                }\n            }\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n\n        return age\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590039827,"creation_date":1590039827,"answer_id":61928014,"question_id":41562905,"body_markdown":"Here i have calculated the age as year/month/day ,which works accurately to solve your problem.\r\n\r\n1. **Inputs are taken from datepicker.**\r\n\r\n2. **Look at this code [here](https://github.com/PrathameshJadhav33/Age_Calculator.git)!**\r\n\r\n            public void onClick(View v) {\r\n                int sday=d1.getDayOfMonth();\r\n                int smonth=d1.getMonth();\r\n                int syear=d1.getYear();\r\n\r\n                int eday=d2.getDayOfMonth();\r\n                int emonth=d2.getMonth();\r\n                int eyear=d2.getYear();\r\n\r\n                    //calculating year\r\n                    resyear = eyear - syear;\r\n\r\n                    //calculating month\r\n                    if (emonth &gt;= smonth) {\r\n                        resmonth = emonth - smonth;\r\n                    } else {\r\n                        resmonth = emonth - smonth;\r\n                        resmonth = 12 + resmonth;\r\n                        resyear--;\r\n                    }\r\n\r\n                    //calculating date\r\n                    if (eday &gt;= sday) {\r\n                        resday = eday - sday;\r\n                    } else {\r\n                        resday = eday - sday;\r\n                        resday = 31 + resday;\r\n                        if (resmonth == 0) {\r\n                            resmonth = 11;\r\n                            resyear--;\r\n                        } else {\r\n                            resmonth--;\r\n                        }\r\n                    }\r\n\r\n                    //displaying error if calculated age is negative\r\n                    if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Current Date must be greater than Date of Birth&quot;, Toast.LENGTH_LONG).show();\r\n                        t1.setText(&quot;Current Date must be greater than Date of Birth&quot;);\r\n                    }\r\n                    else {\r\n                        t1.setText(&quot;Age: &quot; + resyear + &quot; years /&quot; + resmonth + &quot; months/&quot; + resday + &quot; days&quot;);\r\n                    }\r\n                }\r\n     \r\n\r\n\r\n      ","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Here i have calculated the age as year/month/day ,which works accurately to solve your problem.</p>\n\n<ol>\n<li><p><strong>Inputs are taken from datepicker.</strong></p></li>\n<li><p><strong>Look at this code <a href=\"https://github.com/PrathameshJadhav33/Age_Calculator.git\" rel=\"nofollow noreferrer\">here</a>!</strong></p>\n\n<pre><code>    public void onClick(View v) {\n        int sday=d1.getDayOfMonth();\n        int smonth=d1.getMonth();\n        int syear=d1.getYear();\n\n        int eday=d2.getDayOfMonth();\n        int emonth=d2.getMonth();\n        int eyear=d2.getYear();\n\n            //calculating year\n            resyear = eyear - syear;\n\n            //calculating month\n            if (emonth &gt;= smonth) {\n                resmonth = emonth - smonth;\n            } else {\n                resmonth = emonth - smonth;\n                resmonth = 12 + resmonth;\n                resyear--;\n            }\n\n            //calculating date\n            if (eday &gt;= sday) {\n                resday = eday - sday;\n            } else {\n                resday = eday - sday;\n                resday = 31 + resday;\n                if (resmonth == 0) {\n                    resmonth = 11;\n                    resyear--;\n                } else {\n                    resmonth--;\n                }\n            }\n\n            //displaying error if calculated age is negative\n            if (resday &lt;0 || resmonth&lt;0 || resyear&lt;0) {\n                Toast.makeText(getApplicationContext(), \"Current Date must be greater than Date of Birth\", Toast.LENGTH_LONG).show();\n                t1.setText(\"Current Date must be greater than Date of Birth\");\n            }\n            else {\n                t1.setText(\"Age: \" + resyear + \" years /\" + resmonth + \" months/\" + resday + \" days\");\n            }\n        }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13535741,"reputation":1832,"user_id":9764941,"display_name":"Ali Azaz Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592467420,"creation_date":1592467420,"answer_id":62445235,"question_id":41562905,"body_markdown":"Use of JakeWharton library [ThreeTenABP][1]. As it&#39;s easy to use and provides awesome functionality.\r\n\r\n**Implementation**\r\n\r\nFirst, implement the Age Model class:\r\n\r\n    data class AgeModel(val day: Int, val month: Int, val year: Int)\r\n\r\nSecondly, Some functionality stuff:\r\n\r\n&gt; This function will validate the date like not greater than today&#39;s date but you could also do pass date in (***currentDate***) argument if you want to change the max range. Secondly, it&#39;ll also check these dates: 30-February, 31-June and return null.. And so on...\r\n\r\n    private fun getDate(year: Int, month: Int, day: Int): LocalDate? {\r\n            return try {\r\n                run { LocalDate.of(year, month, day) }\r\n            } catch (e: DateTimeException) {\r\n                null\r\n            }\r\n        }\r\n\r\n    fun getCalculatedAge(currentDate: LocalDate = LocalDate.now(), year: Int, month: Int, day: Int): AgeModel? {\r\n\r\n            var curdate = currentDate.dayOfMonth\r\n            var curmonth = currentDate.monthValue\r\n            var curyear = currentDate.year\r\n\r\n            val calculateDate = getDate(year, month, if (day == 0) curdate else day)\r\n                    ?: return null\r\n\r\n            if (calculateDate &gt; currentDate) return null\r\n\r\n            if (day &gt; curdate) {\r\n                curmonth -= 1\r\n                curdate += calculateDate.lengthOfMonth()\r\n            }\r\n\r\n            if (month &gt; curmonth) {\r\n                curyear -= 1\r\n                curmonth += 12\r\n            }\r\n            return AgeModel(curdate - day, curmonth - month, curyear - year)\r\n        }\r\n\r\n  [1]: https://github.com/JakeWharton/ThreeTenABP","title":"how to calculate the exact age of a person from date of birth in android","body":"<p>Use of JakeWharton library <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>. As it's easy to use and provides awesome functionality.</p>\n\n<p><strong>Implementation</strong></p>\n\n<p>First, implement the Age Model class:</p>\n\n<pre><code>data class AgeModel(val day: Int, val month: Int, val year: Int)\n</code></pre>\n\n<p>Secondly, Some functionality stuff:</p>\n\n<blockquote>\n  <p>This function will validate the date like not greater than today's date but you could also do pass date in (<strong><em>currentDate</em></strong>) argument if you want to change the max range. Secondly, it'll also check these dates: 30-February, 31-June and return null.. And so on...</p>\n</blockquote>\n\n<pre><code>private fun getDate(year: Int, month: Int, day: Int): LocalDate? {\n        return try {\n            run { LocalDate.of(year, month, day) }\n        } catch (e: DateTimeException) {\n            null\n        }\n    }\n\nfun getCalculatedAge(currentDate: LocalDate = LocalDate.now(), year: Int, month: Int, day: Int): AgeModel? {\n\n        var curdate = currentDate.dayOfMonth\n        var curmonth = currentDate.monthValue\n        var curyear = currentDate.year\n\n        val calculateDate = getDate(year, month, if (day == 0) curdate else day)\n                ?: return null\n\n        if (calculateDate &gt; currentDate) return null\n\n        if (day &gt; curdate) {\n            curmonth -= 1\n            curdate += calculateDate.lengthOfMonth()\n        }\n\n        if (month &gt; curmonth) {\n            curyear -= 1\n            curmonth += 12\n        }\n        return AgeModel(curdate - day, curmonth - month, curyear - year)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676448324,"creation_date":1676448324,"answer_id":75456958,"question_id":41562905,"body_markdown":"**Perfect age calculate to used every side**\r\n*used this code in Utils folder*\r\n\r\n    public static int getPerfectAge(int year, int month, int date) {\r\n\r\n        Calendar dobCalendar = Calendar.getInstance();\r\n\r\n        dobCalendar.set(Calendar.YEAR, year);\r\n        dobCalendar.set(Calendar.MONTH, month);\r\n        dobCalendar.set(Calendar.DATE, date);\r\n\r\n        int ageInteger = 0;\r\n\r\n        Calendar today = Calendar.getInstance();\r\n\r\n        ageInteger = today.get(Calendar.YEAR) - dobCalendar.get(Calendar.YEAR);\r\n\r\n        if (today.get(Calendar.MONTH) == dobCalendar.get(Calendar.MONTH)) {\r\n\r\n            if (today.get(Calendar.DAY_OF_MONTH) &lt; dobCalendar.get(Calendar.DAY_OF_MONTH)) {\r\n\r\n                ageInteger = ageInteger - 1;\r\n            }\r\n\r\n        } else if (today.get(Calendar.MONTH) &lt; dobCalendar.get(Calendar.MONTH)) {\r\n\r\n            ageInteger = ageInteger - 1;\r\n\r\n        }\r\n\r\n        return ageInteger;\r\n    }","title":"how to calculate the exact age of a person from date of birth in android","body":"<p><strong>Perfect age calculate to used every side</strong>\n<em>used this code in Utils folder</em></p>\n<pre><code>public static int getPerfectAge(int year, int month, int date) {\n\n    Calendar dobCalendar = Calendar.getInstance();\n\n    dobCalendar.set(Calendar.YEAR, year);\n    dobCalendar.set(Calendar.MONTH, month);\n    dobCalendar.set(Calendar.DATE, date);\n\n    int ageInteger = 0;\n\n    Calendar today = Calendar.getInstance();\n\n    ageInteger = today.get(Calendar.YEAR) - dobCalendar.get(Calendar.YEAR);\n\n    if (today.get(Calendar.MONTH) == dobCalendar.get(Calendar.MONTH)) {\n\n        if (today.get(Calendar.DAY_OF_MONTH) &lt; dobCalendar.get(Calendar.DAY_OF_MONTH)) {\n\n            ageInteger = ageInteger - 1;\n        }\n\n    } else if (today.get(Calendar.MONTH) &lt; dobCalendar.get(Calendar.MONTH)) {\n\n        ageInteger = ageInteger - 1;\n\n    }\n\n    return ageInteger;\n}\n</code></pre>\n"}],"owner":{"account_id":9351776,"reputation":11,"user_id":7397901,"display_name":"suraj karnati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34008,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":9,"score":0,"last_activity_date":1676448324,"creation_date":1484031522,"question_id":41562905,"body_markdown":"      First example: birthdate :10-01-1991(ddmmyyyy) \r\n                     CurrentDate :10-01-2017 \r\n if above is the condition then I want to print 26 as  current age. \r\n      Second example: birthdate :25-07-1991(ddmmyyyy)           \r\n                      CurrentDate :10-01-2017 \r\n if above is the condition then I want to print 25 as current age.\r\n\r\n   please help me ....!!!!!!\r\n\r\nBelow is the code that i have tried.      \r\n   \r\n\r\n    private int calculateage(Integer day1, Integer month1, Integer year1)\r\n    {\r\n\tCalendar birthCal = new GregorianCalendar(1991, 01, 10);\r\n\r\n\tCalendar nowCal = new GregorianCalendar();\r\n\r\n\tage = nowCal.get(Calendar.YEAR) - birthCal.get(Calendar.YEAR);\r\n\tboolean isMonthGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal\r\n\t\t\t.get(Calendar.MONTH);\r\n\r\n\tboolean isMonthSameButDayGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal.get(Calendar.MONTH)\r\n\t\t\t&amp;&amp; birthCal.get(Calendar.DAY_OF_MONTH) &gt;= nowCal\r\n\t\t\t\t\t.get(Calendar.DAY_OF_MONTH);\r\n\r\n\tif (age &lt; 18) {\r\n\t\tAge = age;\r\n\t}\r\n\telse if (isMonthGreater || isMonthSameButDayGreater) {\r\n\t\tAge = age - 1;\r\n\t}\r\n\treturn Age;\r\n}\r\n\r\n\r\n","title":"how to calculate the exact age of a person from date of birth in android","body":"<pre><code>  First example: birthdate :10-01-1991(ddmmyyyy) \n                 CurrentDate :10-01-2017 \n</code></pre>\n\n<p>if above is the condition then I want to print 26 as  current age. \n      Second example: birthdate :25-07-1991(ddmmyyyy)<br>\n                      CurrentDate :10-01-2017 \n if above is the condition then I want to print 25 as current age.</p>\n\n<p>please help me ....!!!!!!</p>\n\n<p>Below is the code that i have tried.      </p>\n\n<pre><code>private int calculateage(Integer day1, Integer month1, Integer year1)\n{\nCalendar birthCal = new GregorianCalendar(1991, 01, 10);\n\nCalendar nowCal = new GregorianCalendar();\n\nage = nowCal.get(Calendar.YEAR) - birthCal.get(Calendar.YEAR);\nboolean isMonthGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal\n        .get(Calendar.MONTH);\n\nboolean isMonthSameButDayGreater = birthCal.get(Calendar.MONTH) &gt;= nowCal.get(Calendar.MONTH)\n        &amp;&amp; birthCal.get(Calendar.DAY_OF_MONTH) &gt;= nowCal\n                .get(Calendar.DAY_OF_MONTH);\n\nif (age &lt; 18) {\n    Age = age;\n}\nelse if (isMonthGreater || isMonthSameButDayGreater) {\n    Age = age - 1;\n}\nreturn Age;\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","jackson","spring-batch","lombok"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676447748,"creation_date":1676447748,"answer_id":75456881,"question_id":75454143,"body_markdown":"Data transformation is a typical use case for an item processor.\r\n\r\nThe way I would implement this with Spring Batch is configure a chunk-oriented step defined as follows:\r\n\r\n* A `JsonItemReader` to read the input file\r\n* An item processor that adds the business information\r\n* A `JsonItemWriter` to write the output file","title":"How do I create a nested JSON using Jackson?","body":"<p>Data transformation is a typical use case for an item processor.</p>\n<p>The way I would implement this with Spring Batch is configure a chunk-oriented step defined as follows:</p>\n<ul>\n<li>A <code>JsonItemReader</code> to read the input file</li>\n<li>An item processor that adds the business information</li>\n<li>A <code>JsonItemWriter</code> to write the output file</li>\n</ul>\n"}],"owner":{"account_id":20692100,"reputation":21,"user_id":15193247,"display_name":"jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676447748,"creation_date":1676416851,"question_id":75454143,"body_markdown":"I am trying to add the BusinessInformation data in my existing JSON.\r\n\r\n```\r\n{\r\n    &quot;Original&quot;: &quot;Web Form&quot;,\r\n    &quot;SubmitterNetworkName&quot;: &quot;null&quot;,\r\n    &quot;SourceName&quot;: &quot;Contact Request Form&quot;,\r\n    &quot;SourceKind&quot;: &quot;Web Form&quot;,\r\n\r\n**    &quot;BusinessInformation&quot;: {\r\n        &quot;BusinessContactName&quot;: null,\r\n        AccountNumber:null,\r\n    },**\r\n\r\n    &quot;EmployeeName&quot;: null,\r\n    &quot;EmployeeDOB&quot;: null,\r\n}\r\n```\r\n\r\nSo I have a Spring Batch app that exports data from a database to another DB and during that run some JSON needs to be created mapping multiple columns. I am using lombok and jackson mainly for the creation of JSON.\r\n\r\n\r\nThe model sample that I have. I also tried creating BusinessInformation class.\r\n\r\n```\r\npackage model\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ColumnNameForTheDBImImportingTo implements Serializable {\r\n\r\n    @JsonProperty(&quot;Origin&quot;)\r\n    private String Origin;\r\n\r\n    and so on..\r\n\r\n}\r\n```\r\n\r\nAnd then I have the Service for it.\r\n\r\n```\r\nimport org.codehaus.jackson.map.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport twc.batch.extcbk.model.*;\r\nimport java.io.IOException;\r\n\r\n@Component\r\n@Slf4j\r\npublic class ColumnNameForTheDBImImportingToService {\r\n\t\t\r\n\tprivate ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo (some codes) {\r\n      \r\n        ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo = ColumnNameForTheDBImImportingTo .builder().build();\r\n\r\n        columnNameForTheDBImImportingTo.setOrigin(&quot;Web Form&quot;);\r\n}\r\n\r\n**Then I have a method for the object mapper.**\r\n\r\n\tprivate String getColumnNameForTheDBImImportingTo (ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo ) {\r\n\t\tString columnNameForTheDBImImportingToStr = null;\r\n\r\n\t\ttry {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tcolumnNameForTheDBImImportingToStr = mapper.writeValueAsString(columnNameForTheDBImImportingTo );\r\n\r\n\t\t\tlog.debug(&quot;columnNameForTheDBImImportingToStr {}&quot;, columnNameForTheDBImImportingToStr );\r\n\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;getColumnNameForTheDBImImportingTo &quot; + e.getMessage());\r\n\r\n\t\t}\r\n\t\treturn columnNameForTheDBImImportingToStr ;\r\n\t}\r\n\r\n**Then another class builds the db columns and sets the values.**\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried following the Baeldung but I don&#39;t quite understand it.\r\n\r\nI tried creating a new class for the business information and i was thinking of inserting it in the ColumnNameForTheDBImImportingTo.\r\n\r\nPlease refer me to any useful information I can follow for this problem.\r\n\r\nThanks!","title":"How do I create a nested JSON using Jackson?","body":"<p>I am trying to add the BusinessInformation data in my existing JSON.</p>\n<pre><code>{\n    &quot;Original&quot;: &quot;Web Form&quot;,\n    &quot;SubmitterNetworkName&quot;: &quot;null&quot;,\n    &quot;SourceName&quot;: &quot;Contact Request Form&quot;,\n    &quot;SourceKind&quot;: &quot;Web Form&quot;,\n\n**    &quot;BusinessInformation&quot;: {\n        &quot;BusinessContactName&quot;: null,\n        AccountNumber:null,\n    },**\n\n    &quot;EmployeeName&quot;: null,\n    &quot;EmployeeDOB&quot;: null,\n}\n</code></pre>\n<p>So I have a Spring Batch app that exports data from a database to another DB and during that run some JSON needs to be created mapping multiple columns. I am using lombok and jackson mainly for the creation of JSON.</p>\n<p>The model sample that I have. I also tried creating BusinessInformation class.</p>\n<pre><code>package model\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ColumnNameForTheDBImImportingTo implements Serializable {\n\n    @JsonProperty(&quot;Origin&quot;)\n    private String Origin;\n\n    and so on..\n\n}\n</code></pre>\n<p>And then I have the Service for it.</p>\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport lombok.extern.slf4j.Slf4j;\nimport twc.batch.extcbk.model.*;\nimport java.io.IOException;\n\n@Component\n@Slf4j\npublic class ColumnNameForTheDBImImportingToService {\n        \n    private ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo (some codes) {\n      \n        ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo = ColumnNameForTheDBImImportingTo .builder().build();\n\n        columnNameForTheDBImImportingTo.setOrigin(&quot;Web Form&quot;);\n}\n\n**Then I have a method for the object mapper.**\n\n    private String getColumnNameForTheDBImImportingTo (ColumnNameForTheDBImImportingTo columnNameForTheDBImImportingTo ) {\n        String columnNameForTheDBImImportingToStr = null;\n\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            columnNameForTheDBImImportingToStr = mapper.writeValueAsString(columnNameForTheDBImImportingTo );\n\n            log.debug(&quot;columnNameForTheDBImImportingToStr {}&quot;, columnNameForTheDBImImportingToStr );\n\n\n        } catch (IOException e) {\n            log.error(&quot;getColumnNameForTheDBImImportingTo &quot; + e.getMessage());\n\n        }\n        return columnNameForTheDBImImportingToStr ;\n    }\n\n**Then another class builds the db columns and sets the values.**\n\n</code></pre>\n<p>I've tried following the Baeldung but I don't quite understand it.</p>\n<p>I tried creating a new class for the business information and i was thinking of inserting it in the ColumnNameForTheDBImImportingTo.</p>\n<p>Please refer me to any useful information I can follow for this problem.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","c++","tensorflow","android-ndk"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676281283,"post_id":75433618,"comment_id":133098647,"body_markdown":"You probably compiled a shared library for Android which had its own dependencies (libm.so) which aren&#39;t there in CMakeLists.txt.","body":"You probably compiled a shared library for Android which had its own dependencies (libm.so) which aren&#39;t there in CMakeLists.txt."},{"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"score":0,"creation_date":1676282795,"post_id":75433618,"comment_id":133099084,"body_markdown":"@kiner_shah I&#39;ve searched the library a bit which seems to be `math.h`, which apparently can be included with `-lm` flag but adding it changed nothing...","body":"@kiner_shah I&#39;ve searched the library a bit which seems to be <code>math.h</code>, which apparently can be included with <code>-lm</code> flag but adding it changed nothing..."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676282940,"post_id":75433618,"comment_id":133099135,"body_markdown":"Make sure to clean and rebuild your project after making changes to CMakeLists.txt","body":"Make sure to clean and rebuild your project after making changes to CMakeLists.txt"},{"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"score":0,"creation_date":1676286909,"post_id":75433618,"comment_id":133100177,"body_markdown":"@kiner_shah no change","body":"@kiner_shah no change"}],"answers":[{"comments":[{"owner":{"account_id":13829997,"reputation":360,"user_id":9983172,"display_name":"J B"},"score":0,"creation_date":1679768751,"post_id":75456792,"comment_id":133781452,"body_markdown":"I am in the middle of a similar project, and getting a similar error message at runtime when I  built the tflite library with cmake. I also tried bazel but haven&#39;t tested that build at the runtime yet.... but I had the additional flag ```--fat_apk_cpu=arm64-v8a``` for the bazel command. maybe check that is that already in your bazel.rc or put it in the command line?","body":"I am in the middle of a similar project, and getting a similar error message at runtime when I  built the tflite library with cmake. I also tried bazel but haven&#39;t tested that build at the runtime yet.... but I had the additional flag <code>--fat_apk_cpu=arm64-v8a</code> for the bazel command. maybe check that is that already in your bazel.rc or put it in the command line?"}],"tags":[],"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676447191,"creation_date":1676447191,"answer_id":75456792,"question_id":75433618,"body_markdown":"The reason was I ran with the `--config=elinux_aarch64` flag not `--config=android_arm64`. Using the android version of the command caused a bunch of more problems but I think it&#39;s the right way to go. The new problems are mainly caused by me trying to cross-compile an aarch64 code on a linux amd machine and it is not fully supported by tensorflow yet as far as I&#39;m concerned. Although I&#39;m not quite sure how someone can compile *on* an aarch64 machine...\r\n\r\n If someone has a pre-compiled aarch64 c++ tensorflow lite library links I would appreciate it.","title":"UnsatisfiedLinkError when running android project with tflite","body":"<p>The reason was I ran with the <code>--config=elinux_aarch64</code> flag not <code>--config=android_arm64</code>. Using the android version of the command caused a bunch of more problems but I think it's the right way to go. The new problems are mainly caused by me trying to cross-compile an aarch64 code on a linux amd machine and it is not fully supported by tensorflow yet as far as I'm concerned. Although I'm not quite sure how someone can compile <em>on</em> an aarch64 machine...</p>\n<p>If someone has a pre-compiled aarch64 c++ tensorflow lite library links I would appreciate it.</p>\n"}],"owner":{"account_id":25234187,"reputation":659,"user_id":19574336,"display_name":"Turgut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456792,"answer_count":1,"score":0,"last_activity_date":1676447191,"creation_date":1676277868,"question_id":75433618,"body_markdown":"I&#39;m trying to use `libtensorflow.so` in my c++ project so I can use it in my android wrapper. My project is a c++ project at it&#39;s core but uses different UI binders mainly android NDK. I&#39;ve checked the [official build docs][1] and ran this command: `bazel build --config=elinux_aarch64 -c opt //tensorflow/lite/c:libtensorflowlite_c.so` which built with no proplems. Then I got the necessary include directories mainly `tensorflow` and `flatbuffers` from the tensorflow source directory I got from github (Where I ran bazel).\r\n\r\nThen I&#39;ve added it to my android cmake like so:\r\n\r\n```cmake\r\n\r\ninclude_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/include/tflite)\r\n\r\nadd_library(libtensorflowlite \r\n            SHARED \r\n            IMPORTED)\r\n\r\nset_target_properties(\r\n        libtensorflowlite \r\n        PROPERTIES \r\n        IMPORTED_LOCATION \r\n        ${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/libs/tflite/arm64-v8a/libtensorflowlite.so\r\n)\r\n...\r\ntarget_link_libraries(\r\n...\r\n#tflite\r\nlibtensorflowlite\r\n...\r\n)\r\n``` \r\n\r\nWhen I run my project I get this output on logcat:\r\n\r\n```\r\n2023-02-13 11:37:01.222  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\n2023-02-13 11:37:01.223  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\n2023-02-13 11:37:01.229  3987-3987  AndroidRuntime          com.example.my_proj                D  Shutting down VM\r\n2023-02-13 11:37:01.231  3987-3987  AndroidRuntime          com.example.my_proj                E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.my_proj, PID: 3987\r\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libm.so.6&quot; not found: needed by /data/app/~~0XEVJKwYyglTdlVABYHPjw==/com.example.my_proj-8OVBEONU7K3bv0RuyroYKA==/base.apk!/lib/arm64-v8a/libtensorflowlite.so in namespace classloader-namespace\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n                                                                                                    \tat java.lang.System.loadLibrary(System.java:1656)\r\n                                                                                                    \tat com.example.my_proj.My_proj.&lt;clinit&gt;(My_proj.java:40)\r\n                                                                                                    \tat com.example.my_proj.MainActivity.onCreate(MainActivity.java:76)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8326)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8306)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1347)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4212)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4403)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:104)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2498)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8855)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n2023-02-13 11:37:01.246  3987-3987  Process                 com.example.My_proj                I  Sending signal. PID: 3987 SIG: 9\r\n---------------------------- PROCESS ENDED (3987) for package com.example.my_proj ----------------------------\r\n2023-02-13 11:37:01.268  1161-2253  WindowManager           system_server                        E  win=Window{a2940e9 u0 Splash Screen com.example.my_proj EXITING} destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true win.mRemoveOnExit=true win.mViewVisibility=0 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6283 com.android.server.wm.ActivityRecord.destroySurfaces:6264 com.android.server.wm.WindowState.onExitAnimationDone:6089 com.android.server.wm.ActivityRecord$$ExternalSyntheticLambda14.accept:2 java.util.ArrayList.forEach:1262 com.android.server.wm.ActivityRecord.onAnimationFinished:8340 com.android.server.wm.ActivityRecord.postApplyAnimation:6016 \r\n\r\n```\r\n\r\n\r\n  [1]: https://www.tensorflow.org/lite/guide/build_arm","title":"UnsatisfiedLinkError when running android project with tflite","body":"<p>I'm trying to use <code>libtensorflow.so</code> in my c++ project so I can use it in my android wrapper. My project is a c++ project at it's core but uses different UI binders mainly android NDK. I've checked the <a href=\"https://www.tensorflow.org/lite/guide/build_arm\" rel=\"nofollow noreferrer\">official build docs</a> and ran this command: <code>bazel build --config=elinux_aarch64 -c opt //tensorflow/lite/c:libtensorflowlite_c.so</code> which built with no proplems. Then I got the necessary include directories mainly <code>tensorflow</code> and <code>flatbuffers</code> from the tensorflow source directory I got from github (Where I ran bazel).</p>\n<p>Then I've added it to my android cmake like so:</p>\n<pre><code>\ninclude_directories(${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/include/tflite)\n\nadd_library(libtensorflowlite \n            SHARED \n            IMPORTED)\n\nset_target_properties(\n        libtensorflowlite \n        PROPERTIES \n        IMPORTED_LOCATION \n        ${CMAKE_CURRENT_SOURCE_DIR}/../../third-party/libs/tflite/arm64-v8a/libtensorflowlite.so\n)\n...\ntarget_link_libraries(\n...\n#tflite\nlibtensorflowlite\n...\n)\n</code></pre>\n<p>When I run my project I get this output on logcat:</p>\n<pre><code>2023-02-13 11:37:01.222  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\n2023-02-13 11:37:01.223  3987-3987  ample.nerveblo          com.example.my_proj                W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\n2023-02-13 11:37:01.229  3987-3987  AndroidRuntime          com.example.my_proj                D  Shutting down VM\n2023-02-13 11:37:01.231  3987-3987  AndroidRuntime          com.example.my_proj                E  FATAL EXCEPTION: main\n                                                                                                    Process: com.example.my_proj, PID: 3987\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libm.so.6&quot; not found: needed by /data/app/~~0XEVJKwYyglTdlVABYHPjw==/com.example.my_proj-8OVBEONU7K3bv0RuyroYKA==/base.apk!/lib/arm64-v8a/libtensorflowlite.so in namespace classloader-namespace\n                                                                                                        at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\n                                                                                                        at java.lang.Runtime.loadLibrary0(Runtime.java:998)\n                                                                                                        at java.lang.System.loadLibrary(System.java:1656)\n                                                                                                        at com.example.my_proj.My_proj.&lt;clinit&gt;(My_proj.java:40)\n                                                                                                        at com.example.my_proj.MainActivity.onCreate(MainActivity.java:76)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8326)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8306)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1347)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4212)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4403)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:104)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2498)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:226)\n                                                                                                        at android.os.Looper.loop(Looper.java:313)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8855)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n2023-02-13 11:37:01.246  3987-3987  Process                 com.example.My_proj                I  Sending signal. PID: 3987 SIG: 9\n---------------------------- PROCESS ENDED (3987) for package com.example.my_proj ----------------------------\n2023-02-13 11:37:01.268  1161-2253  WindowManager           system_server                        E  win=Window{a2940e9 u0 Splash Screen com.example.my_proj EXITING} destroySurfaces: appStopped=false win.mWindowRemovalAllowed=true win.mRemoveOnExit=true win.mViewVisibility=0 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6283 com.android.server.wm.ActivityRecord.destroySurfaces:6264 com.android.server.wm.WindowState.onExitAnimationDone:6089 com.android.server.wm.ActivityRecord$$ExternalSyntheticLambda14.accept:2 java.util.ArrayList.forEach:1262 com.android.server.wm.ActivityRecord.onAnimationFinished:8340 com.android.server.wm.ActivityRecord.postApplyAnimation:6016 \n\n</code></pre>\n"},{"tags":["java","parsing","antlr","antlr4"],"answers":[{"comments":[{"owner":{"account_id":9489385,"reputation":395,"user_id":7054753,"display_name":"Foreign"},"score":0,"creation_date":1676479113,"post_id":75456758,"comment_id":133146178,"body_markdown":"Cool. This is the same solution I ended up with. The only &quot;gotcha&quot; is that you also need to instantiate Child1Lexer, Child1Parser, parse it and only then you can invoke ParseTreeWalker with Child1Listener. This is necessary because of `enterRule()` in `MainLangFileParser` having `if (listener instanceof MainListener) ((MainListener)listener).enterParse(this);`","body":"Cool. This is the same solution I ended up with. The only &quot;gotcha&quot; is that you also need to instantiate Child1Lexer, Child1Parser, parse it and only then you can invoke ParseTreeWalker with Child1Listener. This is necessary because of <code>enterRule()</code> in <code>MainLangFileParser</code> having <code>if (listener instanceof MainListener) ((MainListener)listener).enterParse(this);</code>"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676446978,"creation_date":1676446978,"answer_id":75456758,"question_id":75416884,"body_markdown":"There is no way to tell up front which parser rule(s) are going to be invoked for a given input source. \r\n\r\nSince a visitor will not cause the entire parse tree to be visited (you determine that by overriding only the method you wish to visit), you could start off by writing a visitor that can be used up until the rule that contains the `(child1 | child2)` and inside that `visit...` method, invoke the specific listener. \r\n\r\nThat could look something like this:\r\n\r\n```java\r\nclass MainVisitor extends MainLangFileBaseVisitor&lt;Object&gt; {\r\n\r\n    @Override\r\n    public Object visitParse(MainLangFileParser.ParseContext ctx) {\r\n\r\n        if (ctx.child1() != null) {\r\n            ParseTreeWalker.DEFAULT.walk(new Child1Listener(), ctx);\r\n        }\r\n        else {\r\n            ParseTreeWalker.DEFAULT.walk(new Child2Listener(), ctx);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nclass Child1Listener extends Child1LangFileBaseListener {\r\n    // ...\r\n}\r\n\r\nclass Child2Listener extends Child2LangFileBaseListener {\r\n    // ...\r\n}\r\n```","title":"ANTLR How to specify which listener (or lexer/parser) I want to be used based on input on my multi-grammar structure?","body":"<p>There is no way to tell up front which parser rule(s) are going to be invoked for a given input source.</p>\n<p>Since a visitor will not cause the entire parse tree to be visited (you determine that by overriding only the method you wish to visit), you could start off by writing a visitor that can be used up until the rule that contains the <code>(child1 | child2)</code> and inside that <code>visit...</code> method, invoke the specific listener.</p>\n<p>That could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MainVisitor extends MainLangFileBaseVisitor&lt;Object&gt; {\n\n    @Override\n    public Object visitParse(MainLangFileParser.ParseContext ctx) {\n\n        if (ctx.child1() != null) {\n            ParseTreeWalker.DEFAULT.walk(new Child1Listener(), ctx);\n        }\n        else {\n            ParseTreeWalker.DEFAULT.walk(new Child2Listener(), ctx);\n        }\n\n        return null;\n    }\n}\n\nclass Child1Listener extends Child1LangFileBaseListener {\n    // ...\n}\n\nclass Child2Listener extends Child2LangFileBaseListener {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":9489385,"reputation":395,"user_id":7054753,"display_name":"Foreign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75456758,"answer_count":1,"score":2,"last_activity_date":1676446978,"creation_date":1676069961,"question_id":75416884,"body_markdown":"**MainLangFile.g4**\r\n```\r\ngrammar MainLangFile;\r\n\r\nimport Child1LangFile, Child2LangFile;\r\n\r\nparse:\r\n    A (child1 | child2) EOF\r\n;\r\n\r\nA: &#39;A&#39;;\r\nB: &#39;B&#39;;\r\nC: &#39;C&#39;;\r\n```\r\n\r\n**Child1LangFile.g4**\r\n```\r\ngrammar Child1LangFile;\r\n\r\nchild1:\r\n    CHILD1\r\n;\r\n\r\nCHILD1: &#39;CHILD1&#39;;\r\n```\r\n\r\n**Child2LangFile.g4**\r\n```\r\ngrammar Child2LangFile;\r\n\r\nchild2:\r\n    CHILD2\r\n;\r\n\r\nCHILD2: &#39;CHILD2&#39;;\r\n```\r\n\r\n**My Java application:**\r\n\r\n```\r\npublic static class MyApp {\r\n\r\n    public void execute(String query) {\r\n\r\n        MainLangFileLexer lexer = new MainLangFileLexer(CharStreams.fromString(query));\r\n        MainLangFileParser parser = new MainLangFileParser(new CommonTokenStream(lexer));\r\n        MainLangFileParser.ParseContext parse = parser.parse();\r\n\r\n        ParseTreeWalker walker = new ParseTreeWalker();\r\n        walker.walk(new Child1Listener(), parse);\r\n        walker.walk(new Child2Listener(), parse);\r\n    }\r\n\r\n    static class Child1Listener extends MainLangFileBaseListener {\r\n\r\n        @Override\r\n        public void enterChild1(MainLangFileParser.Child1Context ctx) {\r\n        }\r\n    }\r\n\r\n\r\n    static class Child2Listener extends MainLangFileBaseListener {\r\n\r\n        @Override\r\n        public void enterChild2(MainLangFileParser.Child2Context ctx) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to have a multi-grammar structure. The solution I&#39;ve above works perfectly in the sense that each `ChildXListener` is properly invoked based on the query. It would be the same as just having a single listener and implementing both methods.\r\n\r\nThe issue begins where there is a `enterCommon()` method invoked, it is invoked for both listeners even though I &quot;forked&quot; the language and went only on one specific direction.\r\n\r\nI need a clever way of selecting which listener should be used by `ParseTreeWalker`. \r\n\r\nAlso, I&#39;d rather have each listener, extending their respective grammars, i.e.: `Child1Listener` should extends `Child1LangFileBaseListener`, by doing so I have a clear scope of what methods I can safely override as only `Child1LangFile.g4` rules will be available. \r\n\r\nI couldn&#39;t figure out a way of doing this without initializing `Child1Lexer`, `Child1Parser` and parsing everything again, either way, this brings me back to the previous issue, how do I know which lexer/parser to use?\r\n\r\nAny thoughts? Thanks in advance.\r\n\r\n\r\n","title":"ANTLR How to specify which listener (or lexer/parser) I want to be used based on input on my multi-grammar structure?","body":"<p><strong>MainLangFile.g4</strong></p>\n<pre><code>grammar MainLangFile;\n\nimport Child1LangFile, Child2LangFile;\n\nparse:\n    A (child1 | child2) EOF\n;\n\nA: 'A';\nB: 'B';\nC: 'C';\n</code></pre>\n<p><strong>Child1LangFile.g4</strong></p>\n<pre><code>grammar Child1LangFile;\n\nchild1:\n    CHILD1\n;\n\nCHILD1: 'CHILD1';\n</code></pre>\n<p><strong>Child2LangFile.g4</strong></p>\n<pre><code>grammar Child2LangFile;\n\nchild2:\n    CHILD2\n;\n\nCHILD2: 'CHILD2';\n</code></pre>\n<p><strong>My Java application:</strong></p>\n<pre><code>public static class MyApp {\n\n    public void execute(String query) {\n\n        MainLangFileLexer lexer = new MainLangFileLexer(CharStreams.fromString(query));\n        MainLangFileParser parser = new MainLangFileParser(new CommonTokenStream(lexer));\n        MainLangFileParser.ParseContext parse = parser.parse();\n\n        ParseTreeWalker walker = new ParseTreeWalker();\n        walker.walk(new Child1Listener(), parse);\n        walker.walk(new Child2Listener(), parse);\n    }\n\n    static class Child1Listener extends MainLangFileBaseListener {\n\n        @Override\n        public void enterChild1(MainLangFileParser.Child1Context ctx) {\n        }\n    }\n\n\n    static class Child2Listener extends MainLangFileBaseListener {\n\n        @Override\n        public void enterChild2(MainLangFileParser.Child2Context ctx) {\n        }\n    }\n}\n</code></pre>\n<p>I'm trying to have a multi-grammar structure. The solution I've above works perfectly in the sense that each <code>ChildXListener</code> is properly invoked based on the query. It would be the same as just having a single listener and implementing both methods.</p>\n<p>The issue begins where there is a <code>enterCommon()</code> method invoked, it is invoked for both listeners even though I &quot;forked&quot; the language and went only on one specific direction.</p>\n<p>I need a clever way of selecting which listener should be used by <code>ParseTreeWalker</code>.</p>\n<p>Also, I'd rather have each listener, extending their respective grammars, i.e.: <code>Child1Listener</code> should extends <code>Child1LangFileBaseListener</code>, by doing so I have a clear scope of what methods I can safely override as only <code>Child1LangFile.g4</code> rules will be available.</p>\n<p>I couldn't figure out a way of doing this without initializing <code>Child1Lexer</code>, <code>Child1Parser</code> and parsing everything again, either way, this brings me back to the previous issue, how do I know which lexer/parser to use?</p>\n<p>Any thoughts? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1647709875,"post_id":71529569,"comment_id":126441220,"body_markdown":"seem like you use spring security? have you protected some page?","body":"seem like you use spring security? have you protected some page?"},{"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"score":0,"creation_date":1647723591,"post_id":71529569,"comment_id":126444146,"body_markdown":"Yes, I&#39; m using spring security but the page i&#39;m requesting is marked as permitAll. (See endpoint /basis/customers/3 in WebSecurityConfig)","body":"Yes, I&#39; m using spring security but the page i&#39;m requesting is marked as permitAll. (See endpoint /basis/customers/3 in WebSecurityConfig)"}],"answers":[{"tags":[],"owner":{"account_id":27790852,"reputation":1,"user_id":21217318,"display_name":"jm09as"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676446829,"creation_date":1676446739,"answer_id":75456721,"question_id":71529569,"body_markdown":"Check your public.js directory name. You want to reach public/js/test.js and is not exist! I am not sure that is a main problem but it can help.","title":"Can&#39;t load static resource with Thymeleaf","body":"<p>Check your public.js directory name. You want to reach public/js/test.js and is not exist! I am not sure that is a main problem but it can help.</p>\n"}],"owner":{"account_id":3846624,"reputation":307,"user_id":3187960,"accept_rate":83,"display_name":"user3187960"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676446829,"creation_date":1647618025,"question_id":71529569,"body_markdown":"In my multi-module spring boot project I have included thymeleaf in the *bo_ui* module to show html pages.\r\n\r\nBelow what has been done so far.\r\n\r\nMVC configuration class:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan({ &quot;com.cmw.bo.console&quot; })\r\n    /**\r\n     * Java configuration file that is used for Spring MVC and Thymeleaf\r\n     * configurations\r\n     */\r\n    public class WebMVCConfig implements WebMvcConfigurer,  ApplicationContextAware {\r\n    \r\n        private ApplicationContext applicationContext;\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.addPathPrefix(&quot;/ui&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.ui&quot;))\r\n    //                  .addPathPrefix(&quot;/basis&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.basis&quot;))\r\n                      .addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.api&quot;));\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver htmlViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(htmlTemplateResolver()));\r\n            resolver.setContentType(&quot;text/html&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.html&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver javascriptViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(javascriptTemplateResolver()));\r\n            resolver.setContentType(&quot;application/javascript&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.js&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver plainViewResolver() {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine(plainTemplateResolver()));\r\n            resolver.setContentType(&quot;text/plain&quot;);\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            resolver.setViewNames(ArrayUtil.array(&quot;*.txt&quot;));\r\n            return resolver;\r\n        }\r\n    \r\n        private ISpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\r\n            SpringTemplateEngine engine = new SpringTemplateEngine();\r\n            engine.addDialect(new LayoutDialect(new GroupingStrategy()));\r\n            engine.addDialect(new Java8TimeDialect());\r\n            engine.setTemplateResolver(templateResolver);\r\n            engine.setTemplateEngineMessageSource(messageSource());\r\n            return engine;\r\n        }\r\n    \r\n        @Bean\r\n        public ITemplateResolver htmlTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n            resolver.setCacheable(false);\r\n            resolver.setOrder(0);\r\n            resolver.setTemplateMode(TemplateMode.HTML);\r\n            return resolver;\r\n        }\r\n    \r\n        private ITemplateResolver javascriptTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/public/js/&quot;);\r\n            resolver.setOrder(1);\r\n            resolver.setCacheable(false);\r\n            resolver.setTemplateMode(TemplateMode.JAVASCRIPT);\r\n            return resolver;\r\n        }\r\n    \r\n        private ITemplateResolver plainTemplateResolver() {\r\n            SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n            resolver.setApplicationContext(applicationContext);\r\n            resolver.setPrefix(&quot;classpath:/templates/txt/&quot;);\r\n            resolver.setCacheable(false);\r\n            resolver.setTemplateMode(TemplateMode.TEXT);\r\n            return resolver;\r\n        }\r\n    \r\n        @Bean\r\n        @Description(&quot;Spring Message Resolver&quot;)\r\n        public ResourceBundleMessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;messages&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n        @Bean\r\n        public LocaleResolver localeResolver() {\r\n            SessionLocaleResolver localeResolver = new SessionLocaleResolver();\r\n            localeResolver.setDefaultLocale(new Locale(&quot;it&quot;));\r\n            return localeResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public LocaleChangeInterceptor localeChangeInterceptor() {\r\n            LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();\r\n            localeChangeInterceptor.setParamName(&quot;lang&quot;);\r\n            return localeChangeInterceptor;\r\n        }\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(localeChangeInterceptor());\r\n        }\r\n    \r\n        @Override\r\n        public void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    \r\n        @Override\r\n        @Description(&quot;Custom Conversion Service&quot;)\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addFormatter(new NameFormatter());\r\n        }\r\n        \r\n    }\r\n\r\n\r\nThymeleaf dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ntestPage.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;my test&lt;/title&gt;\r\n        &lt;script th:src=&quot;@{/public/js/test.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;this is a test page&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nresources folder of the project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YuSaq.png\r\n\r\nWhen I try to reach the testPage.html through my endpoint, the page loads correctly, but inspecting the elements I see a 404 error on test.js.\r\n\r\nI tried on both the *public* folder and the *static* folder.\r\n\r\nLooking at the springboot logs I see:\r\n\r\n\r\n    2022-03-18 16:10:27.372 DEBUG 8940 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /public/js/test.js\r\n    2022-03-18 16:10:27.375  WARN 8940 --- [nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /public/js/test.js\r\n\r\nSo I suppose there is also a problem at the springsecurity level. Here is the configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private static final String REMEMBER_ME_INTERNAL_SHARED_KEY = &quot;f1406c2dfghdfghf-26e3-dfgh45ed-8dfgh19c-dfgh4131cadaa431&quot;;\r\n    \r\n        private static final String REMEMBER_ME_COOKIE_NAME = &quot;cmw-session-id&quot;;\r\n        private static final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\r\n    \r\n        @Autowired\r\n        private OperatorsAuthenticationService authenticationService;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;basisDataSource&quot;)\r\n        private DataSource dataSource;\r\n    \r\n    \r\n        @Bean\r\n        public static RoleHierarchyImpl roleHierarchy() {\r\n    \r\n            RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\r\n            hierarchy.setHierarchy(\r\n    \r\n                    &quot;ROLE_ADMIN &gt; ROLE_MANAGER\\n&quot; +\r\n                            &quot;ROLE_MANAGER &gt; ROLE_HELPDESK\\n&quot; +\r\n                            &quot;ROLE_HELPDESK &gt; ROLE_MARKETING\\n&quot; +\r\n                            &quot;ROLE_MARKETING &gt; ROLE_OPERATOR\\n&quot; +\r\n                            &quot;ROLE_OPERATOR &gt; ROLE_USER&quot;\r\n            );\r\n    \r\n            return hierarchy;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n    \r\n            web\r\n                    .ignoring()\r\n                    .antMatchers(&quot;/resources/**&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/resources**&quot;).permitAll()\r\n                    .antMatchers(&quot;/static**&quot;).permitAll()\r\n                    .antMatchers(&quot;/public**&quot;).permitAll()\r\n                    .antMatchers(&quot;/login**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/otp/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/customers/1&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/customers/3&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/profiles/**/chpass/otp/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/basis/operators/chpass/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/admin**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .anyRequest().hasAnyRole(&quot;ADMIN&quot;, &quot;MANAGER&quot;, &quot;HELPDESK&quot;, &quot;MARKETING&quot;, &quot;OPERATOR&quot;)\r\n    //                .anyRequest().authenticated()\r\n                    .accessDecisionManager(accessDecisionManager())\r\n                    .and()\r\n                    .formLogin().loginPage(&quot;/login&quot;).permitAll()\r\n                    .failureHandler(authenticationFailureHandler())\r\n                    .and()\r\n                    .httpBasic()\r\n                    .and()\r\n                    .rememberMe()\r\n                    .rememberMeServices(rememberMeServices())\r\n                    .key(REMEMBER_ME_INTERNAL_SHARED_KEY)\r\n                    .and()\r\n                    .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(REMEMBER_ME_COOKIE_NAME, SESSION_COOKIE_NAME)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .invalidSessionUrl(&quot;/login&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n    \r\n            return new AuthenticationProviderImpl();\r\n        }\r\n    \r\n    //    @Bean\r\n    //    public AuthenticationProvider googleAuthenticationProvider() {\r\n    //\r\n    //        return new GoogleAuthenticationProviderImpl();\r\n    //    }\r\n    \r\n        @Bean\r\n        public RememberMeServices rememberMeServices() {\r\n    \r\n            PersistentTokenBasedRememberMeServices services = new PersistentTokenBasedRememberMeServices(REMEMBER_ME_INTERNAL_SHARED_KEY,\r\n                    authenticationService, tokenRepository());\r\n            services.setAlwaysRemember(true);\r\n            services.setTokenValiditySeconds(432000);\r\n            services.setCookieName(REMEMBER_ME_COOKIE_NAME);\r\n            services.setParameter(&quot;remember-me&quot;);\r\n    \r\n            return services;\r\n        }\r\n    \r\n        @Bean\r\n        public PersistentTokenRepository tokenRepository() {\r\n    \r\n            JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\r\n            tokenRepository.setDataSource(dataSource);\r\n            tokenRepository.setCreateTableOnStartup(false); // Set to false in production\r\n    \r\n            return tokenRepository;\r\n        }\r\n    \r\n        @Bean\r\n        public DefaultWebSecurityExpressionHandler webSecurityExpressionHandler() {\r\n    \r\n            DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\r\n            expressionHandler.setRoleHierarchy(roleHierarchy());\r\n    \r\n            return expressionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public WebExpressionVoter webExpressionVoter() {\r\n    \r\n            WebExpressionVoter webExpressionVoter = new WebExpressionVoter();\r\n            webExpressionVoter.setExpressionHandler(webSecurityExpressionHandler());\r\n    \r\n            return webExpressionVoter;\r\n        }\r\n    \r\n        @Bean\r\n        public RoleHierarchyVoter roleHierarchyVoter() {\r\n    \r\n            return new RoleHierarchyVoter(roleHierarchy());\r\n        }\r\n    \r\n        @Bean\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public AffirmativeBased accessDecisionManager() {\r\n    \r\n            List&lt;AccessDecisionVoter&lt;?&gt;&gt; voters = new ArrayList&lt;&gt;();\r\n            voters.add(roleHierarchyVoter());\r\n            voters.add(webExpressionVoter());\r\n    \r\n            return new AffirmativeBased(voters);\r\n        }\r\n    \r\n        @Bean\r\n        protected AuthenticationFailureHandler authenticationFailureHandler() {\r\n    \r\n            Map&lt;String, String&gt; exceptionMappings = new HashMap&lt;&gt;();\r\n    \r\n            exceptionMappings.put(InternalAuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\r\n            exceptionMappings.put(AuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\r\n            exceptionMappings.put(BadCredentialsException.class.getCanonicalName(), &quot;/login?error=authfailed&quot;);\r\n            exceptionMappings.put(DisabledException.class.getCanonicalName(), &quot;/login?error=disabled&quot;);\r\n            exceptionMappings.put(UsernameNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n            exceptionMappings.put(CredentialsExpiredException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n            exceptionMappings.put(AuthenticationCredentialsNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\r\n    \r\n            exceptionMappings.put(UsernameCredentialsExpiredException.class.getCanonicalName(), &quot;/basis/operators/chpass&quot;);\r\n    \r\n            final UsernameCachingExceptionMappingAuthenticationFailureHandler result = new UsernameCachingExceptionMappingAuthenticationFailureHandler();\r\n            result.setExceptionMappings(exceptionMappings);\r\n            result.setDefaultFailureUrl(&quot;/login?error=default&quot;);\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nI have tried several configurations but without success.\r\n\r\nAnyone have an idea what could be wrong?\r\n\r\nThanks in advance","title":"Can&#39;t load static resource with Thymeleaf","body":"<p>In my multi-module spring boot project I have included thymeleaf in the <em>bo_ui</em> module to show html pages.</p>\n<p>Below what has been done so far.</p>\n<p>MVC configuration class:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan({ &quot;com.cmw.bo.console&quot; })\n/**\n * Java configuration file that is used for Spring MVC and Thymeleaf\n * configurations\n */\npublic class WebMVCConfig implements WebMvcConfigurer,  ApplicationContextAware {\n\n    private ApplicationContext applicationContext;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.addPathPrefix(&quot;/ui&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.ui&quot;))\n//                  .addPathPrefix(&quot;/basis&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.basis&quot;))\n                  .addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forBasePackage(&quot;com.cmw.api&quot;));\n    }\n\n    @Bean\n    public ViewResolver htmlViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(htmlTemplateResolver()));\n        resolver.setContentType(&quot;text/html&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.html&quot;));\n        return resolver;\n    }\n\n    @Bean\n    public ViewResolver javascriptViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(javascriptTemplateResolver()));\n        resolver.setContentType(&quot;application/javascript&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.js&quot;));\n        return resolver;\n    }\n\n    @Bean\n    public ViewResolver plainViewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine(plainTemplateResolver()));\n        resolver.setContentType(&quot;text/plain&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setViewNames(ArrayUtil.array(&quot;*.txt&quot;));\n        return resolver;\n    }\n\n    private ISpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.addDialect(new LayoutDialect(new GroupingStrategy()));\n        engine.addDialect(new Java8TimeDialect());\n        engine.setTemplateResolver(templateResolver);\n        engine.setTemplateEngineMessageSource(messageSource());\n        return engine;\n    }\n\n    @Bean\n    public ITemplateResolver htmlTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\n        resolver.setCacheable(false);\n        resolver.setOrder(0);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n\n    private ITemplateResolver javascriptTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/public/js/&quot;);\n        resolver.setOrder(1);\n        resolver.setCacheable(false);\n        resolver.setTemplateMode(TemplateMode.JAVASCRIPT);\n        return resolver;\n    }\n\n    private ITemplateResolver plainTemplateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(applicationContext);\n        resolver.setPrefix(&quot;classpath:/templates/txt/&quot;);\n        resolver.setCacheable(false);\n        resolver.setTemplateMode(TemplateMode.TEXT);\n        return resolver;\n    }\n\n    @Bean\n    @Description(&quot;Spring Message Resolver&quot;)\n    public ResourceBundleMessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(&quot;messages&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public LocaleResolver localeResolver() {\n        SessionLocaleResolver localeResolver = new SessionLocaleResolver();\n        localeResolver.setDefaultLocale(new Locale(&quot;it&quot;));\n        return localeResolver;\n    }\n\n    @Bean\n    public LocaleChangeInterceptor localeChangeInterceptor() {\n        LocaleChangeInterceptor localeChangeInterceptor = new LocaleChangeInterceptor();\n        localeChangeInterceptor.setParamName(&quot;lang&quot;);\n        return localeChangeInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(localeChangeInterceptor());\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n    }\n\n    @Override\n    @Description(&quot;Custom Conversion Service&quot;)\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addFormatter(new NameFormatter());\n    }\n    \n}\n</code></pre>\n<p>Thymeleaf dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n    &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>testPage.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;my test&lt;/title&gt;\n    &lt;script th:src=&quot;@{/public/js/test.js}&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;this is a test page&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>resources folder of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/YuSaq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuSaq.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to reach the testPage.html through my endpoint, the page loads correctly, but inspecting the elements I see a 404 error on test.js.</p>\n<p>I tried on both the <em>public</em> folder and the <em>static</em> folder.</p>\n<p>Looking at the springboot logs I see:</p>\n<pre><code>2022-03-18 16:10:27.372 DEBUG 8940 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /public/js/test.js\n2022-03-18 16:10:27.375  WARN 8940 --- [nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /public/js/test.js\n</code></pre>\n<p>So I suppose there is also a problem at the springsecurity level. Here is the configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String REMEMBER_ME_INTERNAL_SHARED_KEY = &quot;f1406c2dfghdfghf-26e3-dfgh45ed-8dfgh19c-dfgh4131cadaa431&quot;;\n\n    private static final String REMEMBER_ME_COOKIE_NAME = &quot;cmw-session-id&quot;;\n    private static final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\n\n    @Autowired\n    private OperatorsAuthenticationService authenticationService;\n\n    @Autowired\n    @Qualifier(&quot;basisDataSource&quot;)\n    private DataSource dataSource;\n\n\n    @Bean\n    public static RoleHierarchyImpl roleHierarchy() {\n\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\n        hierarchy.setHierarchy(\n\n                &quot;ROLE_ADMIN &gt; ROLE_MANAGER\\n&quot; +\n                        &quot;ROLE_MANAGER &gt; ROLE_HELPDESK\\n&quot; +\n                        &quot;ROLE_HELPDESK &gt; ROLE_MARKETING\\n&quot; +\n                        &quot;ROLE_MARKETING &gt; ROLE_OPERATOR\\n&quot; +\n                        &quot;ROLE_OPERATOR &gt; ROLE_USER&quot;\n        );\n\n        return hierarchy;\n    }\n\n\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n\n        web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/resources**&quot;).permitAll()\n                .antMatchers(&quot;/static**&quot;).permitAll()\n                .antMatchers(&quot;/public**&quot;).permitAll()\n                .antMatchers(&quot;/login**&quot;).permitAll()\n                .antMatchers(&quot;/basis/otp/**&quot;).permitAll()\n                .antMatchers(&quot;/basis/customers/1&quot;).permitAll()\n                .antMatchers(&quot;/basis/customers/3&quot;).permitAll()\n                .antMatchers(&quot;/basis/profiles/**/chpass/otp/**&quot;).permitAll()\n                .antMatchers(&quot;/basis/operators/chpass/**&quot;).permitAll()\n                .antMatchers(&quot;/admin**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().hasAnyRole(&quot;ADMIN&quot;, &quot;MANAGER&quot;, &quot;HELPDESK&quot;, &quot;MARKETING&quot;, &quot;OPERATOR&quot;)\n//                .anyRequest().authenticated()\n                .accessDecisionManager(accessDecisionManager())\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll()\n                .failureHandler(authenticationFailureHandler())\n                .and()\n                .httpBasic()\n                .and()\n                .rememberMe()\n                .rememberMeServices(rememberMeServices())\n                .key(REMEMBER_ME_INTERNAL_SHARED_KEY)\n                .and()\n                .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(REMEMBER_ME_COOKIE_NAME, SESSION_COOKIE_NAME)\n                .and()\n                .sessionManagement()\n                .invalidSessionUrl(&quot;/login&quot;);\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n\n        return new AuthenticationProviderImpl();\n    }\n\n//    @Bean\n//    public AuthenticationProvider googleAuthenticationProvider() {\n//\n//        return new GoogleAuthenticationProviderImpl();\n//    }\n\n    @Bean\n    public RememberMeServices rememberMeServices() {\n\n        PersistentTokenBasedRememberMeServices services = new PersistentTokenBasedRememberMeServices(REMEMBER_ME_INTERNAL_SHARED_KEY,\n                authenticationService, tokenRepository());\n        services.setAlwaysRemember(true);\n        services.setTokenValiditySeconds(432000);\n        services.setCookieName(REMEMBER_ME_COOKIE_NAME);\n        services.setParameter(&quot;remember-me&quot;);\n\n        return services;\n    }\n\n    @Bean\n    public PersistentTokenRepository tokenRepository() {\n\n        JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();\n        tokenRepository.setDataSource(dataSource);\n        tokenRepository.setCreateTableOnStartup(false); // Set to false in production\n\n        return tokenRepository;\n    }\n\n    @Bean\n    public DefaultWebSecurityExpressionHandler webSecurityExpressionHandler() {\n\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy());\n\n        return expressionHandler;\n    }\n\n    @Bean\n    public WebExpressionVoter webExpressionVoter() {\n\n        WebExpressionVoter webExpressionVoter = new WebExpressionVoter();\n        webExpressionVoter.setExpressionHandler(webSecurityExpressionHandler());\n\n        return webExpressionVoter;\n    }\n\n    @Bean\n    public RoleHierarchyVoter roleHierarchyVoter() {\n\n        return new RoleHierarchyVoter(roleHierarchy());\n    }\n\n    @Bean\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AffirmativeBased accessDecisionManager() {\n\n        List&lt;AccessDecisionVoter&lt;?&gt;&gt; voters = new ArrayList&lt;&gt;();\n        voters.add(roleHierarchyVoter());\n        voters.add(webExpressionVoter());\n\n        return new AffirmativeBased(voters);\n    }\n\n    @Bean\n    protected AuthenticationFailureHandler authenticationFailureHandler() {\n\n        Map&lt;String, String&gt; exceptionMappings = new HashMap&lt;&gt;();\n\n        exceptionMappings.put(InternalAuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\n        exceptionMappings.put(AuthenticationServiceException.class.getCanonicalName(), &quot;/login?error=serverError&quot;);\n        exceptionMappings.put(BadCredentialsException.class.getCanonicalName(), &quot;/login?error=authfailed&quot;);\n        exceptionMappings.put(DisabledException.class.getCanonicalName(), &quot;/login?error=disabled&quot;);\n        exceptionMappings.put(UsernameNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n        exceptionMappings.put(CredentialsExpiredException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n        exceptionMappings.put(AuthenticationCredentialsNotFoundException.class.getCanonicalName(), &quot;/login?error=usernameNotFound&quot;);\n\n        exceptionMappings.put(UsernameCredentialsExpiredException.class.getCanonicalName(), &quot;/basis/operators/chpass&quot;);\n\n        final UsernameCachingExceptionMappingAuthenticationFailureHandler result = new UsernameCachingExceptionMappingAuthenticationFailureHandler();\n        result.setExceptionMappings(exceptionMappings);\n        result.setDefaultFailureUrl(&quot;/login?error=default&quot;);\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>I have tried several configurations but without success.</p>\n<p>Anyone have an idea what could be wrong?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","arrays","loops","recursion"],"comments":[{"owner":{"account_id":10528572,"reputation":734,"user_id":7758765,"display_name":"Welgriv"},"score":0,"creation_date":1595514185,"post_id":63056442,"comment_id":111507008,"body_markdown":"Several issues : There is no question. You do not provide the output of your trying. StakOverflow is not a place where you ask other people do your homework.","body":"Several issues : There is no question. You do not provide the output of your trying. StakOverflow is not a place where you ask other people do your homework."},{"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"score":0,"creation_date":1595514346,"post_id":63056442,"comment_id":111507082,"body_markdown":"Ask your self: Do your code meet the requirement that _&quot;The driver can switch paths only once between arrays.&quot;_?","body":"Ask your self: Do your code meet the requirement that <i>&quot;The driver can switch paths only once between arrays.&quot;</i>?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1595514353,"post_id":63056442,"comment_id":111507086,"body_markdown":"Debug your application and see why it&#39;s not behaving as you want it.","body":"Debug your application and see why it&#39;s not behaving as you want it."},{"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"score":1,"creation_date":1595514380,"post_id":63056442,"comment_id":111507102,"body_markdown":"Also please read [ask] and take the [tour].","body":"Also please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1595516061,"post_id":63056442,"comment_id":111508096,"body_markdown":"You ask *My question is how do I make the recursion stop after switching to the other array?* The answer: Dont use recursion. This can be solved using only 1 pass over the arrays. Its your job to figure out how.","body":"You ask <i>My question is how do I make the recursion stop after switching to the other array?</i> The answer: Dont use recursion. This can be solved using only 1 pass over the arrays. Its your job to figure out how."}],"answers":[{"tags":[],"owner":{"account_id":4185179,"reputation":1214,"user_id":3429103,"display_name":"ibra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595522308,"creation_date":1595521629,"answer_id":63058891,"question_id":63056442,"body_markdown":"Let the following schema to illustrate your problem  \r\n [![enter image description here][1]][1]\r\n\r\nWe have two paths, and each path contain many nodes (values) , we can switch from one path to another just one time. Find the best combination of nodes (values) that minimise the score.  \r\nWe can distinguish 4 cases:  \r\n1- the sum of the values of the first path without switching.  \r\n2-the sum of the values of the second path without switching.  \r\n3-the sum of the values from the first path until a node i, then switch to path second path from node i+1 (sum from node+1 til the end)  \r\n4-the inverse of the point 3.  \r\n\r\n    static int shortestRoad(int road1[], int road2[])\r\n    {\r\n    \t// case 1\r\n    \tint bestValue = sumValues(road1,0);\r\n    \r\n    \t// case 2\r\n    \tint sumValuesRoad2 = sumValues(road2,0);\r\n    \tif ( sumValuesRoad2 &lt; bestValue)\r\n    \t\tbestValue = sumValuesRoad2;\r\n    \r\n    \t// case 3: best values of all combination from road 1 to road 2\r\n    \tint bestValuesSwitchFromRoad1ToRoad2 = shortestRoad_Switch_RoadFrom_RoadTo(road1, road2);\r\n    \tif ( bestValuesSwitchFromRoad1ToRoad2 &lt; bestValue)\r\n    \t\tbestValue = bestValuesSwitchFromRoad1ToRoad2;\r\n    \r\n    \t// case 4: best values of all combination from road 2 to road 1\r\n    \tint bestValuesSwitchFromRoad2ToRoad1 =  shortestRoad_Switch_RoadFrom_RoadTo(road2, road1);\r\n    \r\n    \tif ( bestValuesSwitchFromRoad2ToRoad1 &lt; bestValue)\r\n    \t\tbestValue = bestValuesSwitchFromRoad2ToRoad1;\r\n    \r\n    \treturn bestValue;\r\n    }\r\n\r\nsum the values of a given array from idx til the end: \r\n\r\n    static int sumValues(int array[], int idx_from)\r\n    {\r\n    \tint sum = 0;\r\n    \tfor (int i = idx_from; i&lt;array.length; ++i)\r\n    \t\tsum += array[i];\r\n    \r\n    \treturn sum;\r\n    }\r\n\r\ncase 3 and 4:\r\n\r\n    static int shortestRoad_Switch_RoadFrom_RoadTo(int[] road_from, int[] road_to)\r\n    {\r\n    \tint sumValues_RoadFrom_til_idx = 0;\r\n    \tint sumValues_RoadFrom_idx_switch_RoadTo = 0;\r\n    \tint bestValue = Integer.MAX_VALUE;\r\n    \r\n    \tfor (int i = 0; i&lt;road_from.length-1; ++i)\r\n    \t{\r\n    \t\tsumValues_RoadFrom_til_idx += road_from[i];\r\n    \r\n    \t\tsumValues_RoadFrom_idx_switch_RoadTo = sumValues_RoadFrom_til_idx+sumValues(road_to,i+1);\r\n    \r\n    \t\tif(sumValues_RoadFrom_idx_switch_RoadTo &lt; bestValue )\r\n    \t\t\tbestValue = sumValues_RoadFrom_idx_switch_RoadTo;\r\n    \t}\r\n    \r\n    \treturn bestValue;\r\n    }\r\n\r\nDriver code:\r\n\r\n\r\n\r\n    public static void main(String[] args) \r\n    {\r\n    \t\r\n    \tint road1[] = { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n    \tint road2[] = { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n    \r\n    \tint road_a[] = { 1, 1, 1, 1, 1, 9, 9, 9,9,9 };\r\n    \tint road_b[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\r\n    \r\n    \tint road_c[] = { 1, 1, 1, 1, 1, 2 };\r\n    \tint road_d[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\r\n    \r\n    \tSystem.out.println(&quot;best road1, road2 = &quot;+shortestRoad(road1,road2));\r\n    \tSystem.out.println(&quot;best road_a, road_b = &quot;+shortestRoad(road_a,road_b));\r\n    \tSystem.out.println(&quot;best road_c, road_d = &quot;+shortestRoad(road_c,road_d));\r\n    \r\n    \treturn 0;\r\n    }\r\n\r\nResults:\r\n\r\n    best road1, road2 = 49\r\n    best road_a, road_b = 10\r\n    best road_c, road_d = 7 \r\n\r\nps:\r\nthe best path in your example is begin from road2 and then switch to road 1 at i=5 (i begin from 0)\r\n\r\n    {    5, 4, 5, 8, 12, 9,  --&gt;9, 3 }  \r\n    { --&gt;7, 3, 3, 12, 10, 2 /, 10, 7 }\r\n\r\n[1]: https://i.stack.imgur.com/qA74k.png\r\n\r\n\r\n","title":"Small exercise for Java given two arrays which represents a path","body":"<p>Let the following schema to illustrate your problem<br />\n<a href=\"https://i.stack.imgur.com/qA74k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qA74k.png\" alt=\"enter image description here\" /></a></p>\n<p>We have two paths, and each path contain many nodes (values) , we can switch from one path to another just one time. Find the best combination of nodes (values) that minimise the score.<br />\nWe can distinguish 4 cases:<br />\n1- the sum of the values of the first path without switching.<br />\n2-the sum of the values of the second path without switching.<br />\n3-the sum of the values from the first path until a node i, then switch to path second path from node i+1 (sum from node+1 til the end)<br />\n4-the inverse of the point 3.</p>\n<pre><code>static int shortestRoad(int road1[], int road2[])\n{\n    // case 1\n    int bestValue = sumValues(road1,0);\n\n    // case 2\n    int sumValuesRoad2 = sumValues(road2,0);\n    if ( sumValuesRoad2 &lt; bestValue)\n        bestValue = sumValuesRoad2;\n\n    // case 3: best values of all combination from road 1 to road 2\n    int bestValuesSwitchFromRoad1ToRoad2 = shortestRoad_Switch_RoadFrom_RoadTo(road1, road2);\n    if ( bestValuesSwitchFromRoad1ToRoad2 &lt; bestValue)\n        bestValue = bestValuesSwitchFromRoad1ToRoad2;\n\n    // case 4: best values of all combination from road 2 to road 1\n    int bestValuesSwitchFromRoad2ToRoad1 =  shortestRoad_Switch_RoadFrom_RoadTo(road2, road1);\n\n    if ( bestValuesSwitchFromRoad2ToRoad1 &lt; bestValue)\n        bestValue = bestValuesSwitchFromRoad2ToRoad1;\n\n    return bestValue;\n}\n</code></pre>\n<p>sum the values of a given array from idx til the end:</p>\n<pre><code>static int sumValues(int array[], int idx_from)\n{\n    int sum = 0;\n    for (int i = idx_from; i&lt;array.length; ++i)\n        sum += array[i];\n\n    return sum;\n}\n</code></pre>\n<p>case 3 and 4:</p>\n<pre><code>static int shortestRoad_Switch_RoadFrom_RoadTo(int[] road_from, int[] road_to)\n{\n    int sumValues_RoadFrom_til_idx = 0;\n    int sumValues_RoadFrom_idx_switch_RoadTo = 0;\n    int bestValue = Integer.MAX_VALUE;\n\n    for (int i = 0; i&lt;road_from.length-1; ++i)\n    {\n        sumValues_RoadFrom_til_idx += road_from[i];\n\n        sumValues_RoadFrom_idx_switch_RoadTo = sumValues_RoadFrom_til_idx+sumValues(road_to,i+1);\n\n        if(sumValues_RoadFrom_idx_switch_RoadTo &lt; bestValue )\n            bestValue = sumValues_RoadFrom_idx_switch_RoadTo;\n    }\n\n    return bestValue;\n}\n</code></pre>\n<p>Driver code:</p>\n<pre><code>public static void main(String[] args) \n{\n    \n    int road1[] = { 5, 4, 5, 8, 12, 9, 9, 3 };\n    int road2[] = { 7, 3, 3, 12, 10, 2, 10, 7 };\n\n    int road_a[] = { 1, 1, 1, 1, 1, 9, 9, 9,9,9 };\n    int road_b[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\n\n    int road_c[] = { 1, 1, 1, 1, 1, 2 };\n    int road_d[] = { 9, 9, 9, 9, 9, 1, 1, 1,1,1 };\n\n    System.out.println(&quot;best road1, road2 = &quot;+shortestRoad(road1,road2));\n    System.out.println(&quot;best road_a, road_b = &quot;+shortestRoad(road_a,road_b));\n    System.out.println(&quot;best road_c, road_d = &quot;+shortestRoad(road_c,road_d));\n\n    return 0;\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>best road1, road2 = 49\nbest road_a, road_b = 10\nbest road_c, road_d = 7 \n</code></pre>\n<p>ps:\nthe best path in your example is begin from road2 and then switch to road 1 at i=5 (i begin from 0)</p>\n<pre><code>{    5, 4, 5, 8, 12, 9,  --&gt;9, 3 }  \n{ --&gt;7, 3, 3, 12, 10, 2 /, 10, 7 }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26767590,"reputation":11,"user_id":20926237,"display_name":"Rami Mamadov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676446810,"creation_date":1675775713,"answer_id":75373896,"question_id":63056442,"body_markdown":"    public static int shortestRoad(int[]road1, int[]road2)\r\n    {\r\n      int sumRoad1Only = 0;\r\n      int sumRoad2Only = 0;\r\n      for(int i=0; i&lt;road1.length; i++)\r\n      {\r\n        sumRoad1Only += road1[i];\r\n        sumRoad2Only += road2[i];\r\n      }\r\n\r\nThose sums are for the option that the driver chooses one lane, and doesn&#39;t change it until the end. Now, we can find the switch index, for options like starting at one road, and switching to the other. In this specific question I realized that the best point of switch between the arrays - is where the difference between the two collected sums until a certain index is the largest. In your example, it is index 6. That doesn&#39;t say that switching a lane is always giving a smaller sum.\r\n\r\n    int roadIndex1 = road1.length-1;\r\n    int roadIndex2 = road2.length-1;\r\n    int totalSumRoad1 = sumRoad1Only;\r\n    int totalSumRoad2 = sumRoad2Only;\r\n\r\n    int max = 0;\r\n    int indexOfSwitch = 0;\r\n    int diff = 0;\r\n\r\n    while(roadIndex1 &gt;=0 &amp;&amp; roadIndex2 &gt;=0)\r\n    {\r\n      diff = Math.abs(totalSumRoad2 - totalSumRoad1);\r\n      if(diff &gt; max)\r\n      {\r\n        max = diff;\r\n        indexOfSwitch = roadIndex1;\r\n      }\r\n      totalSumRoad1 -= road1[roadIndex1];\r\n      totalSumRoad2 -= road2[roadIndex2];\r\n      roadIndex1--;\r\n      roadIndex2--;\r\n    }\r\n\r\nIf the index of switch is at last index, we shall move it one left, so there be a transition between the arrays.\r\n\r\n    if(indexOfSwitch == road1.length-1)\r\n    {\r\n      indexOfSwitch--;\r\n    }\r\n\r\nnow we found the indexOfSwitch, we can calculate the options of starting at road1, and switching exactly once to road2, and vice versa:\r\n\r\n    int begin1 = 0;\r\n    int begin2 = 0;\r\n    for(int k = 0; k&lt;=indexOfSwitch; k++)\r\n    {\r\n      begin1 += road1[k];\r\n      begin2 += road2[k];\r\n    }\r\n\r\n    int end1 = sumRoad1Only - begin1;\r\n    int end2 = sumRoad2Only - begin2;\r\n    \r\n    int begin1End2 = begin1 + end2;\r\n    int begin2End1 = begin2 + end1;\r\n\r\nand when we find all the options, we can return the minimum.\r\n\r\n    return Math.min(Math.min(sumRoad1Only, sumRoad2Only), Math.min(begin1End2, begin2End1));\r\n\r\n\r\n\r\n   \r\n\r\n   \r\n\r\n","title":"Small exercise for Java given two arrays which represents a path","body":"<pre><code>public static int shortestRoad(int[]road1, int[]road2)\n{\n  int sumRoad1Only = 0;\n  int sumRoad2Only = 0;\n  for(int i=0; i&lt;road1.length; i++)\n  {\n    sumRoad1Only += road1[i];\n    sumRoad2Only += road2[i];\n  }\n</code></pre>\n<p>Those sums are for the option that the driver chooses one lane, and doesn't change it until the end. Now, we can find the switch index, for options like starting at one road, and switching to the other. In this specific question I realized that the best point of switch between the arrays - is where the difference between the two collected sums until a certain index is the largest. In your example, it is index 6. That doesn't say that switching a lane is always giving a smaller sum.</p>\n<pre><code>int roadIndex1 = road1.length-1;\nint roadIndex2 = road2.length-1;\nint totalSumRoad1 = sumRoad1Only;\nint totalSumRoad2 = sumRoad2Only;\n\nint max = 0;\nint indexOfSwitch = 0;\nint diff = 0;\n\nwhile(roadIndex1 &gt;=0 &amp;&amp; roadIndex2 &gt;=0)\n{\n  diff = Math.abs(totalSumRoad2 - totalSumRoad1);\n  if(diff &gt; max)\n  {\n    max = diff;\n    indexOfSwitch = roadIndex1;\n  }\n  totalSumRoad1 -= road1[roadIndex1];\n  totalSumRoad2 -= road2[roadIndex2];\n  roadIndex1--;\n  roadIndex2--;\n}\n</code></pre>\n<p>If the index of switch is at last index, we shall move it one left, so there be a transition between the arrays.</p>\n<pre><code>if(indexOfSwitch == road1.length-1)\n{\n  indexOfSwitch--;\n}\n</code></pre>\n<p>now we found the indexOfSwitch, we can calculate the options of starting at road1, and switching exactly once to road2, and vice versa:</p>\n<pre><code>int begin1 = 0;\nint begin2 = 0;\nfor(int k = 0; k&lt;=indexOfSwitch; k++)\n{\n  begin1 += road1[k];\n  begin2 += road2[k];\n}\n\nint end1 = sumRoad1Only - begin1;\nint end2 = sumRoad2Only - begin2;\n\nint begin1End2 = begin1 + end2;\nint begin2End1 = begin2 + end1;\n</code></pre>\n<p>and when we find all the options, we can return the minimum.</p>\n<pre><code>return Math.min(Math.min(sumRoad1Only, sumRoad2Only), Math.min(begin1End2, begin2End1));\n</code></pre>\n"}],"owner":{"account_id":19132090,"reputation":43,"user_id":13973750,"display_name":"Daniel Hollander"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":63058891,"answer_count":2,"score":-2,"last_activity_date":1676446810,"creation_date":1595513900,"question_id":63056442,"body_markdown":"Given two arrays which represents a path and each element in the array represent the time it takes the driver to travel, write a method that chooses the fastest path he can take. The driver can switch paths only once between arrays.\r\nFor example the following arrays:\r\n\r\n    int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n    int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n\r\nthe output should be 49 since the driver will start at road2 and switch at index 6 to the second Array.\r\n\r\nEdit:\r\nMy question is how do I make the recursion stop after switching to the other array? I tried to put a counter marker but it didn&#39;t work and I reverted back to my original output. Am I missing something about how recursion works?\r\n\r\nMy code prints 53 where it should print 49. \r\n\r\nMy code:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    public static int shortestRoad(int[] road1, int[] road2) {\r\n        return shortestRoadNumbers(road1, road2, 0);\r\n    }\r\n\r\n    private static int shortestRoadNumbers(int[] road1, int[] road2, int index) {\r\n        if (index == road1.length || index == road2.length) {\r\n            return 0;\r\n        }\r\n        if (road1[index] &gt;= road2[index] &amp;&amp; road1[index + 2] &gt;= road2[index + 2]) {\r\n            return (road2[index] + shortestRoadNumbers(road1, road2, index + 1));\r\n        } else {\r\n            return (road1[index] + shortestRoadNumbers(road1, road2, index + 1));\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\r\n        int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\r\n        MyClass.shortestRoad(road1, road2);\r\n        int result = MyClass.shortestRoad(road1, road2);\r\n        System.out.println(result);\r\n    }\r\n}","title":"Small exercise for Java given two arrays which represents a path","body":"<p>Given two arrays which represents a path and each element in the array represent the time it takes the driver to travel, write a method that chooses the fastest path he can take. The driver can switch paths only once between arrays.\nFor example the following arrays:</p>\n<pre><code>int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\nint[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\n</code></pre>\n<p>the output should be 49 since the driver will start at road2 and switch at index 6 to the second Array.</p>\n<p>Edit:\nMy question is how do I make the recursion stop after switching to the other array? I tried to put a counter marker but it didn't work and I reverted back to my original output. Am I missing something about how recursion works?</p>\n<p>My code prints 53 where it should print 49.</p>\n<p>My code:</p>\n<pre><code>public class MyClass {\n\n    public static int shortestRoad(int[] road1, int[] road2) {\n        return shortestRoadNumbers(road1, road2, 0);\n    }\n\n    private static int shortestRoadNumbers(int[] road1, int[] road2, int index) {\n        if (index == road1.length || index == road2.length) {\n            return 0;\n        }\n        if (road1[index] &gt;= road2[index] &amp;&amp; road1[index + 2] &gt;= road2[index + 2]) {\n            return (road2[index] + shortestRoadNumbers(road1, road2, index + 1));\n        } else {\n            return (road1[index] + shortestRoadNumbers(road1, road2, index + 1));\n        }\n\n    }\n\n    public static void main(String args[]) {\n        int[] road1 = new int[] { 5, 4, 5, 8, 12, 9, 9, 3 };\n        int[] road2 = new int[] { 7, 3, 3, 12, 10, 2, 10, 7 };\n        MyClass.shortestRoad(road1, road2);\n        int result = MyClass.shortestRoad(road1, road2);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","sockets","spring-integration"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676395001,"post_id":75451116,"comment_id":133126874,"body_markdown":"If the `SocketUtils` method is working for you, why do you need to change it? A deprecation warning isn&#39;t a prohibition against using it; as long as you understand the consequences, it&#39;s not unreasonable to continue using a deprecated class/method as long as it is the best tool for your need.","body":"If the <code>SocketUtils</code> method is working for you, why do you need to change it? A deprecation warning isn&#39;t a prohibition against using it; as long as you understand the consequences, it&#39;s not unreasonable to continue using a deprecated class/method as long as it is the best tool for your need."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1676396551,"post_id":75451116,"comment_id":133127322,"body_markdown":"That technique to find an available port is not reliable; it is best to set the port to 0 and let the OS choose the port; then use the port that the OS selected.","body":"That technique to find an available port is not reliable; it is best to set the port to 0 and let the OS choose the port; then use the port that the OS selected."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676446451,"post_id":75451116,"comment_id":133136110,"body_markdown":"@GaryRussell well but due to legacy reasons I have to stick to that port.","body":"@GaryRussell well but due to legacy reasons I have to stick to that port."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676446468,"post_id":75451116,"comment_id":133136117,"body_markdown":"@E-Riz the class is removed in Spring 6, so I&#39;m forced to migrate.","body":"@E-Riz the class is removed in Spring 6, so I&#39;m forced to migrate."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695020973,"post_id":75451116,"comment_id":135963001,"body_markdown":"If you have a fixed port....why do you use a utility method for finding available ports? Why don&#39;t you just use the fixed port and ditch `SocketUtils` completely?","body":"If you have a fixed port....why do you use a utility method for finding available ports? Why don&#39;t you just use the fixed port and ditch <code>SocketUtils</code> completely?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695021155,"post_id":75451116,"comment_id":135963031,"body_markdown":"Also this sounds like a hacky workaround to a different problem, because if you&#39;re running on a fixed port, why wouldn&#39;t it be free? Because the last instance didn&#39;t shutdown properly?","body":"Also this sounds like a hacky workaround to a different problem, because if you&#39;re running on a fixed port, why wouldn&#39;t it be free? Because the last instance didn&#39;t shutdown properly?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1695032095,"post_id":75451116,"comment_id":135965093,"body_markdown":"@Kayaman because instance-2 should warm up except for the socket port, while instance-1 is still running. Then when instance-1 is shut down, the port will be free.","body":"@Kayaman because instance-2 should warm up except for the socket port, while instance-1 is still running. Then when instance-1 is shut down, the port will be free."}],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676460837,"post_id":75451485,"comment_id":133139870,"body_markdown":"The problem is that `TestSocketUtils` is not available in a non-test context, so in normal code. And I&#39;m bound to use that fixed port due to legacy reasons...","body":"The problem is that <code>TestSocketUtils</code> is not available in a non-test context, so in normal code. And I&#39;m bound to use that fixed port due to legacy reasons..."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1676469770,"post_id":75451485,"comment_id":133142690,"body_markdown":"That&#39;s exactly my point: no one uses a random port for the server in production code.","body":"That&#39;s exactly my point: no one uses a random port for the server in production code."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1676470598,"post_id":75451485,"comment_id":133143007,"body_markdown":"Except if you have a legacy application (non-java) that connects to a fixed port, and forces me to launch the sever on that fixed port... unfortunately.","body":"Except if you have a legacy application (non-java) that connects to a fixed port, and forces me to launch the sever on that fixed port... unfortunately."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676396905,"creation_date":1676396905,"answer_id":75451485,"question_id":75451116,"body_markdown":"There is a `org.springframework.test.util.TestSocketUtils` instead. But as Gary said it is better to rely on operation system choice via `0` for port option. Although why would one select a random port in a production code...\r\n\r\nTo get a real selected port you can listen for a `TcpConnectionServerListeningEvent` which will bring for you that actual value.","title":"Replacement for SocketUtils.findAvailableTcpPort()?","body":"<p>There is a <code>org.springframework.test.util.TestSocketUtils</code> instead. But as Gary said it is better to rely on operation system choice via <code>0</code> for port option. Although why would one select a random port in a production code...</p>\n<p>To get a real selected port you can listen for a <code>TcpConnectionServerListeningEvent</code> which will bring for you that actual value.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2442,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1676446509,"creation_date":1676394600,"question_id":75451116,"body_markdown":"The following initializes as socket with `spring-integration` on a dedicated port.\r\n\r\nGoal is to give the application 2 minutes of time to run on that port, or fail is not successful. But the application start should *not* fail *directly* of that port is not free on startup!\r\n\r\n    @Configuration\r\n    @EnableIntegration\r\n    public class SocketConfiguration {    \r\n            @Value(&quot;${app.port}&quot;)\r\n            private String port;\r\n        \r\n        \t@Bean\r\n        \tpublic TcpConnectionFactoryFactoryBean tcpFactory() {\r\n                CompletableFuture.runAsync(() -&gt; SocketUtils.findAvailableTcpPort(port, port)).get(2, TimeUnit.MINUTES);\r\n            }\r\n    }\r\n\r\nProblem: `SocketUtils` is `@Deprecated` since Spring Framework 6.\r\nWhat is a proper replacement for it?\r\n\r\nThe docs only state as an alternative:\r\n\r\n&gt; Instead of using SocketUtils to find an available local port for a server, it is recommended that you rely on a server&#39;s ability to start on a random port\r\n\r\nWell, that&#39;s not what I want, neither can I use if, because I&#39;m historically bound to that specific port!","title":"Replacement for SocketUtils.findAvailableTcpPort()?","body":"<p>The following initializes as socket with <code>spring-integration</code> on a dedicated port.</p>\n<p>Goal is to give the application 2 minutes of time to run on that port, or fail is not successful. But the application start should <em>not</em> fail <em>directly</em> of that port is not free on startup!</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class SocketConfiguration {    \n        @Value(&quot;${app.port}&quot;)\n        private String port;\n    \n        @Bean\n        public TcpConnectionFactoryFactoryBean tcpFactory() {\n            CompletableFuture.runAsync(() -&gt; SocketUtils.findAvailableTcpPort(port, port)).get(2, TimeUnit.MINUTES);\n        }\n}\n</code></pre>\n<p>Problem: <code>SocketUtils</code> is <code>@Deprecated</code> since Spring Framework 6.\nWhat is a proper replacement for it?</p>\n<p>The docs only state as an alternative:</p>\n<blockquote>\n<p>Instead of using SocketUtils to find an available local port for a server, it is recommended that you rely on a server's ability to start on a random port</p>\n</blockquote>\n<p>Well, that's not what I want, neither can I use if, because I'm historically bound to that specific port!</p>\n"},{"tags":["java","reflection","java-annotations"],"answers":[{"comments":[{"owner":{"account_id":27789685,"reputation":1,"user_id":21216371,"display_name":"Oliver"},"score":0,"creation_date":1676517233,"post_id":75456125,"comment_id":133154184,"body_markdown":"You can try this for standard java:\nClass  clazz =YourAnnotation.class;\nSystem.out.println(clazz.isAnnotation());","body":"You can try this for standard java: Class  clazz =YourAnnotation.class; System.out.println(clazz.isAnnotation());"},{"owner":{"account_id":27789685,"reputation":1,"user_id":21216371,"display_name":"Oliver"},"score":0,"creation_date":1676541865,"post_id":75456125,"comment_id":133159129,"body_markdown":"org.springframework.core.MethodParameter","body":"org.springframework.core.MethodParameter"}],"tags":[],"owner":{"account_id":27789685,"reputation":1,"user_id":21216371,"display_name":"Oliver"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676441954,"creation_date":1676441954,"answer_id":75456125,"question_id":75456060,"body_markdown":"Maybe you can like this:\r\n\r\n    if(class.hasMethodAnnotation(Annotation.class)){}\r\n\r\n","title":"How do you know if a class is an annotation","body":"<p>Maybe you can like this:</p>\n<pre><code>if(class.hasMethodAnnotation(Annotation.class)){}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676671762,"post_id":75456417,"comment_id":133191681,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75456417/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676444282,"creation_date":1676444282,"answer_id":75456417,"question_id":75456060,"body_markdown":"Maybe you can do like this;\r\n\r\n    if (MyExampleClass.class.isAnnotationPresent(MyExampleAnnotation.class)) {\r\n    }\r\n","title":"How do you know if a class is an annotation","body":"<p>Maybe you can do like this;</p>\n<pre><code>if (MyExampleClass.class.isAnnotationPresent(MyExampleAnnotation.class)) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676445898,"creation_date":1676445898,"answer_id":75456604,"question_id":75456060,"body_markdown":"If you have the source code: an annotation is declard as\r\n\r\n    @interface MyAnnotation { /* ... */ }\r\n\r\nIf you have some class object:\r\n\r\n    // Class&lt;?&gt; myClass = MyAnnotation.class;\r\n    if (myClass.isAnnotation()) { /* ... */ }\r\n","title":"How do you know if a class is an annotation","body":"<p>If you have the source code: an annotation is declard as</p>\n<pre><code>@interface MyAnnotation { /* ... */ }\n</code></pre>\n<p>If you have some class object:</p>\n<pre><code>// Class&lt;?&gt; myClass = MyAnnotation.class;\nif (myClass.isAnnotation()) { /* ... */ }\n</code></pre>\n"}],"owner":{"account_id":26725490,"reputation":1,"user_id":20328672,"display_name":"yqingyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1676445898,"creation_date":1676441399,"question_id":75456060,"body_markdown":"how to juge a class is an annotation,\r\n\r\n- How do you know if a class is an annotation\r\n\r\nIs there a good Samaritan out there,,,,,,,\r\nhow to juge a class is an annotation","title":"How do you know if a class is an annotation","body":"<p>how to juge a class is an annotation,</p>\n<ul>\n<li>How do you know if a class is an annotation</li>\n</ul>\n<p>Is there a good Samaritan out there,,,,,,,\nhow to juge a class is an annotation</p>\n"},{"tags":["java","loops","if-statement"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676437713,"post_id":75455661,"comment_id":133134744,"body_markdown":"You need to show the `if` statements you tried.","body":"You need to show the <code>if</code> statements you tried."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676438530,"post_id":75455661,"comment_id":133134841,"body_markdown":"What do you think the `,` in your if statement does?","body":"What do you think the <code>,</code> in your if statement does?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1676438890,"post_id":75455661,"comment_id":133134877,"body_markdown":"If the random number to match is an `int` type, why are you using `double` as the type for the user guess? Similarly, why is your &quot;lives&quot; variable using a `double`? What would it mean to have, for instance, `3.1415926` lives?...","body":"If the random number to match is an <code>int</code> type, why are you using <code>double</code> as the type for the user guess? Similarly, why is your &quot;lives&quot; variable using a <code>double</code>? What would it mean to have, for instance, <code>3.1415926</code> lives?..."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1676440601,"post_id":75455661,"comment_id":133135080,"body_markdown":"Have you actually tried to Search in **StackOverflow** for [Java Number Guessing Game](https://stackoverflow.com/search?q=Java+Number+Guessing+Game)? You can also go here for a [Runnable Example](https://controlc.com/682fd3b5).","body":"Have you actually tried to Search in <b>StackOverflow</b> for <a href=\"https://stackoverflow.com/search?q=Java+Number+Guessing+Game\">Java Number Guessing Game</a>? You can also go here for a <a href=\"https://controlc.com/682fd3b5\" rel=\"nofollow noreferrer\">Runnable Example</a>."}],"answers":[{"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1676439117,"post_id":75455734,"comment_id":133134901,"body_markdown":"...and what if the guess is not too high, AND not too low? It must be the guess, right? Add a last `else` block to tell them they correctly guessed and also provide a clean way to exit the `while` loop as the game is over!","body":"...and what if the guess is not too high, AND not too low? It must be the guess, right? Add a last <code>else</code> block to tell them they correctly guessed and also provide a clean way to exit the <code>while</code> loop as the game is over!"},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":0,"creation_date":1676439322,"post_id":75455734,"comment_id":133134926,"body_markdown":"@Idle_Mind Indeed. I, somehow, omitted the fact that he&#39;s not checking for correct input. I&#39;ve edited my answer.","body":"@Idle_Mind Indeed. I, somehow, omitted the fact that he&#39;s not checking for correct input. I&#39;ve edited my answer."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1676440160,"post_id":75455734,"comment_id":133135027,"body_markdown":"That&#39;ll work, though many would argue that exiting the loop with `break` is not &quot;clean&quot;.","body":"That&#39;ll work, though many would argue that exiting the loop with <code>break</code> is not &quot;clean&quot;."}],"tags":[],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676439284,"creation_date":1676438310,"answer_id":75455734,"question_id":75455661,"body_markdown":"Starting with the `lives` variable, I&#39;d recommend you setting it to `int`, instead of `double`. Not that it would change the flow of your code at this moment, but it is not worth storing counters in anything other than `int`.\r\n\r\nSo, instead of this:\r\n\r\n```\r\ndouble lives = input.nextDouble();\r\n```\r\nUse this:\r\n```\r\nint lives = input.nextInt();\r\n```\r\n\r\nI&#39;d recommend doing the same for `userGuess` and `number1` (which are going to be compared). Your randomly generated number is of type `int`, but you are asking the user to provide a `double`. Either change `number1` to `double`, or `userGuess` to `int`, in order to have matching types.\r\n\r\n`tooHigh` and `tooLow` are not needed when using if statements. I&#39;m pretty sure you&#39;re not limited by memory, but instead of declaring new `boolean` variables, for readability purposes, just write the relational expressions in the `if` statements. In your case:\r\n```\r\nwhile (count &lt; lives ) {\r\n    System.out.println(&quot; So... what number am I thinking of?&quot;);\r\n    int userGuess = input.nextInt();\r\n\r\n    if (userGuess &gt; number1) {\r\n        System.out.println(&quot;Guess lower!&quot;);\r\n    }\r\n    else if (userGuess &lt; number1) {\r\n        System.out.println(&quot;Guess higher!&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;You guessed correctly!&quot;);\r\n        break; // Exit while loop. Stop asking for input.\r\n    }\r\n    \r\n    count++;\r\n}\r\n```\r\n\r\nI saw that you&#39;d want your user to decide if to allow hints or not, so I&#39;d recommend you declaring a variable of type `boolean`:\r\n```\r\nboolean allowHints;\r\n\r\nSystem.out.print(&quot;Want to enable lower/higher hints? Type \\&quot;N\\&quot; or \\&quot;Y\\&quot;.&quot;);\r\nchar c = input.next().charAt(0);\r\nif (c == &#39;Y&#39;) {\r\n    allowHints = true;\r\n}\r\nelse {\r\n    allowHints = false;\r\n}\r\n```\r\n\r\nNow, you&#39;re waiting for user input and storing his reponse in `allowHints`, but you&#39;re still displaying the hints, no matter what. In your `if` statements from the while loop, also check if hints are allowed, before checking if the guessed value is higher or lower.\r\n\r\n```\r\n// Check if the guess is right first. You won&#39;t need to display any hints if the user types in the correct answer\r\nif (userGuess == number1) {\r\n    System.out.println(&quot;You guessed correctly!&quot;);\r\n    break;\r\n}\r\nelse if (allowHints == true) {\r\n    if (userGuess &gt; number1) {\r\n        System.out.println(&quot;Guess lower!&quot;);\r\n    else if (userGuess &lt; number1) {\r\n        System.out.println(&quot;Guess higher!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOr, simply add `allowHints` to your existing `if` statements:\r\n```\r\nif (userGuess == number1) // ...\r\nelse if (allowHints == true &amp;&amp; userGuess &gt; number1) // ...\r\nelse if (allowHints == true &amp;&amp; userGuess &lt; number1) // ...\r\n```\r\n\r\n\r\n","title":"How to code &quot;incorrect&quot; and &quot;correct&quot; answers with optional hints?","body":"<p>Starting with the <code>lives</code> variable, I'd recommend you setting it to <code>int</code>, instead of <code>double</code>. Not that it would change the flow of your code at this moment, but it is not worth storing counters in anything other than <code>int</code>.</p>\n<p>So, instead of this:</p>\n<pre><code>double lives = input.nextDouble();\n</code></pre>\n<p>Use this:</p>\n<pre><code>int lives = input.nextInt();\n</code></pre>\n<p>I'd recommend doing the same for <code>userGuess</code> and <code>number1</code> (which are going to be compared). Your randomly generated number is of type <code>int</code>, but you are asking the user to provide a <code>double</code>. Either change <code>number1</code> to <code>double</code>, or <code>userGuess</code> to <code>int</code>, in order to have matching types.</p>\n<p><code>tooHigh</code> and <code>tooLow</code> are not needed when using if statements. I'm pretty sure you're not limited by memory, but instead of declaring new <code>boolean</code> variables, for readability purposes, just write the relational expressions in the <code>if</code> statements. In your case:</p>\n<pre><code>while (count &lt; lives ) {\n    System.out.println(&quot; So... what number am I thinking of?&quot;);\n    int userGuess = input.nextInt();\n\n    if (userGuess &gt; number1) {\n        System.out.println(&quot;Guess lower!&quot;);\n    }\n    else if (userGuess &lt; number1) {\n        System.out.println(&quot;Guess higher!&quot;);\n    }\n    else {\n        System.out.println(&quot;You guessed correctly!&quot;);\n        break; // Exit while loop. Stop asking for input.\n    }\n    \n    count++;\n}\n</code></pre>\n<p>I saw that you'd want your user to decide if to allow hints or not, so I'd recommend you declaring a variable of type <code>boolean</code>:</p>\n<pre><code>boolean allowHints;\n\nSystem.out.print(&quot;Want to enable lower/higher hints? Type \\&quot;N\\&quot; or \\&quot;Y\\&quot;.&quot;);\nchar c = input.next().charAt(0);\nif (c == 'Y') {\n    allowHints = true;\n}\nelse {\n    allowHints = false;\n}\n</code></pre>\n<p>Now, you're waiting for user input and storing his reponse in <code>allowHints</code>, but you're still displaying the hints, no matter what. In your <code>if</code> statements from the while loop, also check if hints are allowed, before checking if the guessed value is higher or lower.</p>\n<pre><code>// Check if the guess is right first. You won't need to display any hints if the user types in the correct answer\nif (userGuess == number1) {\n    System.out.println(&quot;You guessed correctly!&quot;);\n    break;\n}\nelse if (allowHints == true) {\n    if (userGuess &gt; number1) {\n        System.out.println(&quot;Guess lower!&quot;);\n    else if (userGuess &lt; number1) {\n        System.out.println(&quot;Guess higher!&quot;);\n    }\n}\n</code></pre>\n<p>Or, simply add <code>allowHints</code> to your existing <code>if</code> statements:</p>\n<pre><code>if (userGuess == number1) // ...\nelse if (allowHints == true &amp;&amp; userGuess &gt; number1) // ...\nelse if (allowHints == true &amp;&amp; userGuess &lt; number1) // ...\n</code></pre>\n"}],"owner":{"account_id":27789629,"reputation":11,"user_id":21216319,"display_name":"kefirsloth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676440630,"answer_count":1,"score":1,"last_activity_date":1676445795,"creation_date":1676437369,"question_id":75455661,"body_markdown":"\r\n\r\n```\r\n    import java.util.Scanner;\r\n\r\n  public class GuessingGame {\r\n    public static void main(String[] args) {\r\n        int number1 = (int)(Math.random() * 20);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n      // prompting user to enter their desired amount of lives\r\n        System.out.println(&quot;Welcome to the Guessing Game! I&#39;ll think of a number, and you guess what it is! How many lives do you want to have?&quot;);\r\n        double lives = input.nextDouble();\r\n\r\n        System.out.print(&quot;Great! You have &quot; + lives + &quot; attempts to guess correctly.&quot;); //reminder of lives\r\n      \r\n        System.out.print(&quot;&quot;Want to enable lower/higher hints? Type &quot;N&quot; or &quot;Y&quot;.&quot;&quot;);\r\n        // ???\r\n\r\n        System.out.print(&quot; Let&#39;s begin!&quot;);\r\n       // game begin\r\n        int count = 0;     \r\n        while (count &lt;  lives ) {\r\n          System.out.println(&quot; So... what number am I thinking of?&quot;);\r\n          double userGuess = input.nextDouble();\r\n          boolean tooHigh = userGuess &gt; number1; // tell user to guess lower\r\n          boolean tooLow = userGuess &lt; number1; // tell user to guess higher\r\n\r\n          count++;\r\n   \r\n   \r\n        }\r\n     }\r\n  }    \r\n\r\n```\r\n\r\n\r\nI tried using if statements to get solid feedback, but I might have been typing them incorrectly. I tried to code: if userGuess is higher than the randomly generated number1, tell user to guess lower. I also am trying to figure out the hint option: if the user types Y for yes on hints, I use system print to say &quot;guess lower/higher&quot;? Also, the last loop gets stuck in eternity repeatedly asking &quot;So what number am I thinking of?&quot; which is funny, but I need it to say something like &quot;try again!&quot; with no hints and &quot;try again, guess lower&quot; *with* hints.\r\n\r\nHere is how I coded my if statements:\r\n\r\n    if (userGuess &gt; number1, userGuess &lt; number1) {\r\n            System.out.print(&quot;Try again! You have &quot; + lives + &quot; lives left.&quot;)\r\n          }\r\n          else {\r\n            System.out.print(&quot;Good job!&quot;)\r\n          }","title":"How to code &quot;incorrect&quot; and &quot;correct&quot; answers with optional hints?","body":"<pre><code>    import java.util.Scanner;\n\n  public class GuessingGame {\n    public static void main(String[] args) {\n        int number1 = (int)(Math.random() * 20);\n\n        Scanner input = new Scanner(System.in);\n\n      // prompting user to enter their desired amount of lives\n        System.out.println(&quot;Welcome to the Guessing Game! I'll think of a number, and you guess what it is! How many lives do you want to have?&quot;);\n        double lives = input.nextDouble();\n\n        System.out.print(&quot;Great! You have &quot; + lives + &quot; attempts to guess correctly.&quot;); //reminder of lives\n      \n        System.out.print(&quot;&quot;Want to enable lower/higher hints? Type &quot;N&quot; or &quot;Y&quot;.&quot;&quot;);\n        // ???\n\n        System.out.print(&quot; Let's begin!&quot;);\n       // game begin\n        int count = 0;     \n        while (count &lt;  lives ) {\n          System.out.println(&quot; So... what number am I thinking of?&quot;);\n          double userGuess = input.nextDouble();\n          boolean tooHigh = userGuess &gt; number1; // tell user to guess lower\n          boolean tooLow = userGuess &lt; number1; // tell user to guess higher\n\n          count++;\n   \n   \n        }\n     }\n  }    \n\n</code></pre>\n<p>I tried using if statements to get solid feedback, but I might have been typing them incorrectly. I tried to code: if userGuess is higher than the randomly generated number1, tell user to guess lower. I also am trying to figure out the hint option: if the user types Y for yes on hints, I use system print to say &quot;guess lower/higher&quot;? Also, the last loop gets stuck in eternity repeatedly asking &quot;So what number am I thinking of?&quot; which is funny, but I need it to say something like &quot;try again!&quot; with no hints and &quot;try again, guess lower&quot; <em>with</em> hints.</p>\n<p>Here is how I coded my if statements:</p>\n<pre><code>if (userGuess &gt; number1, userGuess &lt; number1) {\n        System.out.print(&quot;Try again! You have &quot; + lives + &quot; lives left.&quot;)\n      }\n      else {\n        System.out.print(&quot;Good job!&quot;)\n      }\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":21009739,"reputation":1,"user_id":15438627,"display_name":"dedman2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676445453,"creation_date":1676114242,"question_id":75419791,"body_markdown":"I am trying to use `findViewById` to be able to define a view and a layout in my class. As suggested online I made an activity context yet it still returns the object as null. I am still a beginner in coding so please do bear with me \r\n\r\nHere my class:\r\n\r\n    public class team{\r\n        //defining activity class to use\r\n        Activity activity;\r\n        Context context;\r\n\r\n        //definging text box\r\n        LinearLayout lay = activity.findViewById(R.id.Scontainer);\r\n        View Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\r\n\r\n        //mebers Deffing\r\n        String teamname;\r\n        String teacher;\r\n        ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\r\n\r\n        public team(Context context, Activity activity, String teamname,String teacher) {\r\n            //to be able to use activity\r\n            this.context=context;\r\n            this.activity=activity;\r\n\r\n            //normal things to define\r\n            this.teamname = teamname;\r\n            this.teacher= teacher;\r\n        }\r\n    //mainactivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.sports_screen);\r\n \r\n            Activity act= this;\r\n\r\n\r\n            //creating the list that is on screen\r\n            FloatingActionButton addClass = findViewById(R.id.Add_class_button);\r\n\r\n\r\n\r\n            // input\r\n            addClass.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    team sportsteam = new team(MainActivity.this,act,&quot;&quot;,&quot;&quot;);\r\n                    sportsteam.addtext();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n`\r\n","title":"How to use Activity function in another class","body":"<p>I am trying to use <code>findViewById</code> to be able to define a view and a layout in my class. As suggested online I made an activity context yet it still returns the object as null. I am still a beginner in coding so please do bear with me</p>\n<p>Here my class:</p>\n<pre><code>public class team{\n    //defining activity class to use\n    Activity activity;\n    Context context;\n\n    //definging text box\n    LinearLayout lay = activity.findViewById(R.id.Scontainer);\n    View Tbox = activity.getLayoutInflater().inflate(R.layout.text_box_output, null);\n\n    //mebers Deffing\n    String teamname;\n    String teacher;\n    ArrayList&lt;Players&gt; members = new ArrayList&lt;Players&gt;();\n\n    public team(Context context, Activity activity, String teamname,String teacher) {\n        //to be able to use activity\n        this.context=context;\n        this.activity=activity;\n\n        //normal things to define\n        this.teamname = teamname;\n        this.teacher= teacher;\n    }\n//mainactivity\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sports_screen);\n\n        Activity act= this;\n\n\n        //creating the list that is on screen\n        FloatingActionButton addClass = findViewById(R.id.Add_class_button);\n\n\n\n        // input\n        addClass.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                team sportsteam = new team(MainActivity.this,act,&quot;&quot;,&quot;&quot;);\n                sportsteam.addtext();\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android"],"owner":{"account_id":27237860,"reputation":33,"user_id":20764502,"display_name":"Shubham Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676445121,"creation_date":1676445121,"question_id":75456520,"body_markdown":"In my food delivery app, as the user selects the items to order the CartList gets updated. But whenever user closes the app the existing cart items remain same. I want to change it such that whenever the user closes the app, the existing cartList gets deleted and user gets refreshed cart. Can someone help me out with it!\r\n\r\n\r\n```\r\n`\r\n\r\npublic class CartList extends AppCompatActivity {\r\n\r\n    private RecyclerView.Adapter adapter;\r\n    private RecyclerView recyclerViewList;\r\n    private ManagementCart managementCart;\r\n    TextView totalItemFee, discountText, taxText, deliveryChargesText,totalText,emptyTxt;\r\n    private double tax;\r\n    private ScrollView scrollView3;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart_list);\r\n\r\n\r\n        managementCart = new ManagementCart(this);\r\n\r\n        initView();\r\n        initList();\r\n        calculateCart();\r\n    }\r\n\r\n\r\n    private void initView() {\r\n\r\n        recyclerViewList = findViewById(R.id.recycleViewList2);\r\n        totalItemFee = findViewById(R.id.totalItemFee);\r\n        taxText = findViewById(R.id.taxText);\r\n        discountText = findViewById(R.id.discountText);\r\n        deliveryChargesText = findViewById(R.id.deliveryChargesText);\r\n        totalText = findViewById(R.id.totalText);\r\n        scrollView3 = findViewById(R.id.scrollView3);\r\n        emptyTxt = findViewById(R.id.emptyTxt);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private void initList(){\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false);\r\n        recyclerViewList.setLayoutManager(linearLayoutManager);\r\n        adapter = new CartListAdapator(managementCart.getListCart(),  this, new ChangeNumberItemListener() {\r\n            @Override\r\n            public void changed() {\r\n                calculateCart();\r\n            }\r\n        });\r\n\r\n        recyclerViewList.setAdapter(adapter);\r\n        if(managementCart.getListCart().isEmpty()){\r\n            emptyTxt.setVisibility(View.VISIBLE);\r\n            scrollView3.setVisibility(View.GONE);\r\n        }else{\r\n            emptyTxt.setVisibility(View.GONE);\r\n            scrollView3.setVisibility(View.VISIBLE);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // to calculate the total amount of the cart\r\n\r\n    private void calculateCart(){\r\n        double percentTax= 0.02;\r\n        double delivery = 10;\r\n\r\n        tax = Math.round(managementCart.getTotalFee()*percentTax*100)/100;\r\n        double total = Math.round((managementCart.getTotalFee()+ tax + delivery)*100)/100;\r\n        double itemTotal = Math.round(managementCart.getTotalFee()*100)/100;\r\n\r\n\r\n        totalItemFee.setText(&quot;$&quot;+ itemTotal);\r\n        taxText.setText(&quot;$&quot;+ tax);\r\n        deliveryChargesText.setText(&quot;$&quot;+ delivery);\r\n        totalText.setText(&quot;$&quot;+total);\r\n\r\n    }\r\n\r\n}`\r\n```\r\n\r\n\r\nManagementCart Code: \r\n\r\n\r\n```\r\n\r\n\r\npublic class ManagementCart {\r\n\r\n    private Context context;\r\n    private TinyDB tinyDB;\r\n\r\n    public ManagementCart(Context context){\r\n        this.context = context;\r\n        this.tinyDB = new TinyDB(context);\r\n    }\r\n\r\n    public void insertFood(FoodDomain item){\r\n\r\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\r\n        boolean alreadyExists= false;\r\n\r\n        int n=0;\r\n        for(int i = 0; i&lt;listFood.size();i++){\r\n            if(listFood.get(i).getTitle().equals(item.getTitle())){\r\n                alreadyExists = true;\r\n                n = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(alreadyExists){\r\n            listFood.get(n).setNumberInCart(item.getNumberInCart());\r\n        }\r\n        else{\r\n            listFood.add(item);\r\n        }\r\n        tinyDB.putListObject(&quot;CartList&quot;,listFood);\r\n        Toast.makeText(context, &quot;Item added to your cart&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    public ArrayList&lt;FoodDomain&gt; getListCart() {\r\n\r\n        return tinyDB.getListObject(&quot;CartList&quot;);\r\n\r\n    }\r\n\r\n    public void plusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\r\n        listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart() + 1);\r\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\r\n        changeNumberItemListener.changed();\r\n\r\n\r\n    }\r\n\r\n    public void minusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\r\n        if(listFood.get(position).getNumberInCart() == 1){\r\n            listFood.remove(position);\r\n        }\r\n        else{\r\n            listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart()-1);\r\n\r\n        }\r\n\r\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\r\n        changeNumberItemListener.changed();\r\n    }\r\n\r\n    public Double getTotalFee(){\r\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\r\n        double fee = 0;\r\n        for(int i = 0; i &lt; listFood.size(); i++ ){\r\n            fee = fee+(listFood.get(i).getFee() *listFood.get(i).getNumberInCart());\r\n\r\n        }\r\n        return fee;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nTried with finish() at the end of initView() and initList()","title":"How can I destroy the elements in the existing cart as soon as the user closes the app &amp; gets the new cart everytime user opens the app?","body":"<p>In my food delivery app, as the user selects the items to order the CartList gets updated. But whenever user closes the app the existing cart items remain same. I want to change it such that whenever the user closes the app, the existing cartList gets deleted and user gets refreshed cart. Can someone help me out with it!</p>\n<pre><code>`\n\npublic class CartList extends AppCompatActivity {\n\n    private RecyclerView.Adapter adapter;\n    private RecyclerView recyclerViewList;\n    private ManagementCart managementCart;\n    TextView totalItemFee, discountText, taxText, deliveryChargesText,totalText,emptyTxt;\n    private double tax;\n    private ScrollView scrollView3;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart_list);\n\n\n        managementCart = new ManagementCart(this);\n\n        initView();\n        initList();\n        calculateCart();\n    }\n\n\n    private void initView() {\n\n        recyclerViewList = findViewById(R.id.recycleViewList2);\n        totalItemFee = findViewById(R.id.totalItemFee);\n        taxText = findViewById(R.id.taxText);\n        discountText = findViewById(R.id.discountText);\n        deliveryChargesText = findViewById(R.id.deliveryChargesText);\n        totalText = findViewById(R.id.totalText);\n        scrollView3 = findViewById(R.id.scrollView3);\n        emptyTxt = findViewById(R.id.emptyTxt);\n\n\n\n\n    }\n\n\n    private void initList(){\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false);\n        recyclerViewList.setLayoutManager(linearLayoutManager);\n        adapter = new CartListAdapator(managementCart.getListCart(),  this, new ChangeNumberItemListener() {\n            @Override\n            public void changed() {\n                calculateCart();\n            }\n        });\n\n        recyclerViewList.setAdapter(adapter);\n        if(managementCart.getListCart().isEmpty()){\n            emptyTxt.setVisibility(View.VISIBLE);\n            scrollView3.setVisibility(View.GONE);\n        }else{\n            emptyTxt.setVisibility(View.GONE);\n            scrollView3.setVisibility(View.VISIBLE);\n\n        }\n\n    }\n\n\n    // to calculate the total amount of the cart\n\n    private void calculateCart(){\n        double percentTax= 0.02;\n        double delivery = 10;\n\n        tax = Math.round(managementCart.getTotalFee()*percentTax*100)/100;\n        double total = Math.round((managementCart.getTotalFee()+ tax + delivery)*100)/100;\n        double itemTotal = Math.round(managementCart.getTotalFee()*100)/100;\n\n\n        totalItemFee.setText(&quot;$&quot;+ itemTotal);\n        taxText.setText(&quot;$&quot;+ tax);\n        deliveryChargesText.setText(&quot;$&quot;+ delivery);\n        totalText.setText(&quot;$&quot;+total);\n\n    }\n\n}`\n</code></pre>\n<p>ManagementCart Code:</p>\n<pre><code>\n\npublic class ManagementCart {\n\n    private Context context;\n    private TinyDB tinyDB;\n\n    public ManagementCart(Context context){\n        this.context = context;\n        this.tinyDB = new TinyDB(context);\n    }\n\n    public void insertFood(FoodDomain item){\n\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\n        boolean alreadyExists= false;\n\n        int n=0;\n        for(int i = 0; i&lt;listFood.size();i++){\n            if(listFood.get(i).getTitle().equals(item.getTitle())){\n                alreadyExists = true;\n                n = i;\n                break;\n            }\n        }\n\n        if(alreadyExists){\n            listFood.get(n).setNumberInCart(item.getNumberInCart());\n        }\n        else{\n            listFood.add(item);\n        }\n        tinyDB.putListObject(&quot;CartList&quot;,listFood);\n        Toast.makeText(context, &quot;Item added to your cart&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    public ArrayList&lt;FoodDomain&gt; getListCart() {\n\n        return tinyDB.getListObject(&quot;CartList&quot;);\n\n    }\n\n    public void plusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\n        listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart() + 1);\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\n        changeNumberItemListener.changed();\n\n\n    }\n\n    public void minusNumberFood(ArrayList&lt;FoodDomain&gt; listFood, int position, ChangeNumberItemListener changeNumberItemListener){\n        if(listFood.get(position).getNumberInCart() == 1){\n            listFood.remove(position);\n        }\n        else{\n            listFood.get(position).setNumberInCart(listFood.get(position).getNumberInCart()-1);\n\n        }\n\n        tinyDB.putListObject(&quot;CartList&quot;, listFood);\n        changeNumberItemListener.changed();\n    }\n\n    public Double getTotalFee(){\n        ArrayList&lt;FoodDomain&gt; listFood = getListCart();\n        double fee = 0;\n        for(int i = 0; i &lt; listFood.size(); i++ ){\n            fee = fee+(listFood.get(i).getFee() *listFood.get(i).getNumberInCart());\n\n        }\n        return fee;\n    }\n\n\n\n}\n\n</code></pre>\n<p>Tried with finish() at the end of initView() and initList()</p>\n"},{"tags":["java","spring-data-jpa","javers"],"comments":[{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562129523,"post_id":56852206,"comment_id":100275296,"body_markdown":"Debug whats going on in `JaversSchemaManager.ensureTable()`","body":"Debug whats going on in <code>JaversSchemaManager.ensureTable()</code>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562137255,"post_id":56852206,"comment_id":100278096,"body_markdown":"@BartekWalacik - `if (schemaInspector.relationExists(tableName)) {\n            return;\n        }` This method should return true, because table already present on the schema, due to which its failing. I&#39;m not clear why?","body":"@BartekWalacik - <code>if (schemaInspector.relationExists(tableName)) {             return;         }</code> This method should return true, because table already present on the schema, due to which its failing. I&#39;m not clear why?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562157363,"post_id":56852206,"comment_id":100289174,"body_markdown":"use your debugger and step into `schemaInspector.relationExists(tableName)` and find out what&#39;s wrong","body":"use your debugger and step into <code>schemaInspector.relationExists(tableName)</code> and find out what&#39;s wrong"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562159870,"post_id":56852206,"comment_id":100290845,"body_markdown":"I checked `ResultSet resultSet = metadata.getTables(catalog, schemaName, convertCase(name), new String[]{&quot;TABLE&quot;});` schemaName itself coming and null and resultset is also null and thus getting error.","body":"I checked <code>ResultSet resultSet = metadata.getTables(catalog, schemaName, convertCase(name), new String[]{&quot;TABLE&quot;});</code> schemaName itself coming and null and resultset is also null and thus getting error."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562217335,"post_id":56852206,"comment_id":100309996,"body_markdown":"on which version of Postgres?","body":"on which version of Postgres?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562217634,"post_id":56852206,"comment_id":100310071,"body_markdown":"see https://github.com/javers/javers/issues/826, think about contributing a failing test case","body":"see <a href=\"https://github.com/javers/javers/issues/826\" rel=\"nofollow noreferrer\">github.com/javers/javers/issues/826</a>, think about contributing a failing test case"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562304145,"post_id":56852206,"comment_id":100339601,"body_markdown":"@BartekWalacik - I&#39;m using Postgres 11 version, However if you simple try to run the code you should be able to reproduced this error.","body":"@BartekWalacik - I&#39;m using Postgres 11 version, However if you simple try to run the code you should be able to reproduced this error."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562322024,"post_id":56852206,"comment_id":100347349,"body_markdown":"watch this issue https://github.com/javers/javers/issues/826","body":"watch this issue <a href=\"https://github.com/javers/javers/issues/826\" rel=\"nofollow noreferrer\">github.com/javers/javers/issues/826</a>"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1562424423,"post_id":56852206,"comment_id":100373008,"body_markdown":"@BartekWalacik - Thanks ! Look like this has been mark as bug &amp; fixed. In which version of Javers, this fixed can be seen ?","body":"@BartekWalacik - Thanks ! Look like this has been mark as bug &amp; fixed. In which version of Javers, this fixed can be seen ?"},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1562433005,"post_id":56852206,"comment_id":100375002,"body_markdown":"fixed in Javers 5.6.2","body":"fixed in Javers 5.6.2"}],"answers":[{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563375405,"creation_date":1563375405,"answer_id":57078826,"question_id":56852206,"body_markdown":"This issue is fixed in Javers 5.6.2","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>This issue is fixed in Javers 5.6.2</p>\n"},{"tags":[],"owner":{"account_id":461527,"reputation":21,"user_id":863263,"display_name":"Chetan D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676444304,"creation_date":1676444304,"answer_id":75456419,"question_id":56852206,"body_markdown":"This issue is not yet fixed and can be easily seen in version 6.9.1 as well. ","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>This issue is not yet fixed and can be easily seen in version 6.9.1 as well.</p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57078826,"answer_count":2,"score":0,"last_activity_date":1676444304,"creation_date":1562069563,"question_id":56852206,"body_markdown":"I am using **Spring Data JPA and Javers** example. With the clean DB, when I run the project first time and then it works, when I run second time with hibernate:ddl-auto: create, it fails with below error. \r\n\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jpaJaversApplication&#39;: Unsatisfied dependency expressed through field &#39;javers&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JaversFromStarter&#39; defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\r\n    \tat com.example.JpaJaversApplication.main(JpaJaversApplication.java:26) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JaversFromStarter&#39; defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \t... 18 common frames omitted\r\n    Caused by: org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\r\n    CREATE TABLE jv_commit (\r\n    commit_pk BIGINT NOT NULL,\r\n    author VARCHAR(200),\r\n    commit_date TIMESTAMP,\r\n    commit_date_instant VARCHAR(30),\r\n    commit_id NUMERIC(22,2),\r\n    CONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\r\n    ) \r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:91) ~[polyjdbc-0.7.6.jar:na]\r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.create(SchemaManagerImpl.java:52) ~[polyjdbc-0.7.6.jar:na]\r\n    \tat org.javers.repository.sql.schema.JaversSchemaManager.ensureTable(JaversSchemaManager.java:223) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.repository.sql.schema.JaversSchemaManager.ensureSchema(JaversSchemaManager.java:47) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.repository.sql.JaversSqlRepository.ensureSchema(JaversSqlRepository.java:186) ~[javers-persistence-sql-5.6.1.jar:na]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator$1.doInTransactionWithoutResult(JaversTransactionalDecorator.java:186) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator.ensureSchema(JaversTransactionalDecorator.java:183) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.javers.spring.jpa.JaversTransactionalDecorator.afterPropertiesSet(JaversTransactionalDecorator.java:177) ~[javers-spring-jpa-5.6.1.jar:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n    \t... 28 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.2.0.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.2.0.jar:na]\r\n    \tat org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:88) ~[polyjdbc-0.7.6.jar:na]\r\n    \t... 39 common frames omitted\r\n\r\n**Book.java**\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @Entity\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String author;\r\n    \r\n    \tprivate String title;\r\n    \t\r\n    \tprivate String email;\r\n    }\r\n\r\nBookRepository.java\r\n\r\n    @JaversSpringDataAuditable\r\n    public interface BookRepository extends JpaRepository&lt;Book, Long&gt;{\r\n        Stream&lt;Book&gt; findAllByAuthor(String author);\r\n    }\r\n\r\n","title":"Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;jv_commit&quot; already exists","body":"<p>I am using <strong>Spring Data JPA and Javers</strong> example. With the clean DB, when I run the project first time and then it works, when I run second time with hibernate:ddl-auto: create, it fails with below error. </p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jpaJaversApplication': Unsatisfied dependency expressed through field 'javers'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'JaversFromStarter' defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]\n    at com.example.JpaJaversApplication.main(JpaJaversApplication.java:26) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'JaversFromStarter' defined in class path resource [org/javers/spring/boot/sql/JaversSqlAutoConfiguration.class]: Invocation of init method failed; nested exception is org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    ... 18 common frames omitted\nCaused by: org.polyjdbc.core.exception.SchemaManagerException: [DDL_ERROR] Failed to run DDL:\nCREATE TABLE jv_commit (\ncommit_pk BIGINT NOT NULL,\nauthor VARCHAR(200),\ncommit_date TIMESTAMP,\ncommit_date_instant VARCHAR(30),\ncommit_id NUMERIC(22,2),\nCONSTRAINT jv_commit_pk PRIMARY KEY(commit_pk)\n) \n    at org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:91) ~[polyjdbc-0.7.6.jar:na]\n    at org.polyjdbc.core.schema.SchemaManagerImpl.create(SchemaManagerImpl.java:52) ~[polyjdbc-0.7.6.jar:na]\n    at org.javers.repository.sql.schema.JaversSchemaManager.ensureTable(JaversSchemaManager.java:223) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.repository.sql.schema.JaversSchemaManager.ensureSchema(JaversSchemaManager.java:47) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.repository.sql.JaversSqlRepository.ensureSchema(JaversSqlRepository.java:186) ~[javers-persistence-sql-5.6.1.jar:na]\n    at org.javers.spring.jpa.JaversTransactionalDecorator$1.doInTransactionWithoutResult(JaversTransactionalDecorator.java:186) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.javers.spring.jpa.JaversTransactionalDecorator.ensureSchema(JaversTransactionalDecorator.java:183) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.javers.spring.jpa.JaversTransactionalDecorator.afterPropertiesSet(JaversTransactionalDecorator.java:177) ~[javers-spring-jpa-5.6.1.jar:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n    ... 28 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \"jv_commit\" already exists\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:307) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:293) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:270) ~[postgresql-42.2.5.jar:42.2.5]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:266) ~[postgresql-42.2.5.jar:42.2.5]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.2.0.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.2.0.jar:na]\n    at org.polyjdbc.core.schema.SchemaManagerImpl.ddl(SchemaManagerImpl.java:88) ~[polyjdbc-0.7.6.jar:na]\n    ... 39 common frames omitted\n</code></pre>\n\n<p><strong>Book.java</strong></p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@Entity\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String author;\n\n    private String title;\n\n    private String email;\n}\n</code></pre>\n\n<p>BookRepository.java</p>\n\n<pre><code>@JaversSpringDataAuditable\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt;{\n    Stream&lt;Book&gt; findAllByAuthor(String author);\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","volatile","java-memory-model"],"comments":[{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676416437,"post_id":75453944,"comment_id":133132088,"body_markdown":"I&#39;ve added some examples, maybe it can clarify what i am talking about, so u can provide some more precise answer. But anyway thank you for the answer )","body":"I&#39;ve added some examples, maybe it can clarify what i am talking about, so u can provide some more precise answer. But anyway thank you for the answer )"},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676416872,"post_id":75453944,"comment_id":133132151,"body_markdown":"&#39;xxx&#39; is not boolean value, it is just any object that was changes or set in the Thread1, and i am interested if writing to the same volatile variable will provide access to this data for another Thread2. In case of reading it is 100%, but nothing about subsequent writes :(","body":"&#39;xxx&#39; is not boolean value, it is just any object that was changes or set in the Thread1, and i am interested if writing to the same volatile variable will provide access to this data for another Thread2. In case of reading it is 100%, but nothing about subsequent writes :("},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676417474,"post_id":75453944,"comment_id":133132238,"body_markdown":"you are not correct, when you are reading volatile field all the data that was accessible to the writer thread becomes accessible to the reader thread: http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html","body":"you are not correct, when you are reading volatile field all the data that was accessible to the writer thread becomes accessible to the reader thread: <a href=\"http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html\" rel=\"nofollow noreferrer\">jeremymanson.blogspot.com/2008/11/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676419532,"post_id":75453944,"comment_id":133132562,"body_markdown":"*&quot;[I] can&#39;t find anything about it in the official docs.&quot;* -  It is all specified in Chapter 17 of the JLS.  Yes, it is not easy to read ... but if you are going to write code that depends on `volatile` for synchronization, then you need to understand this stuff.  And conversely, if you can&#39;t understand what the JLS says you shouldn&#39;t be attempting to do your synchronization this way.  (Use the higher level concurrency primitives.  In the vast majority of use-cases, &quot;lock free&quot; synchronization is unnecessary.)","body":"<i>&quot;[I] can&#39;t find anything about it in the official docs.&quot;</i> -  It is all specified in Chapter 17 of the JLS.  Yes, it is not easy to read ... but if you are going to write code that depends on <code>volatile</code> for synchronization, then you need to understand this stuff.  And conversely, if you can&#39;t understand what the JLS says you shouldn&#39;t be attempting to do your synchronization this way.  (Use the higher level concurrency primitives.  In the vast majority of use-cases, &quot;lock free&quot; synchronization is unnecessary.)"},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676422509,"post_id":75453944,"comment_id":133132941,"body_markdown":"Thank you for your comment. Ive read it once more and found same blocks of text. A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). And this: A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field. So no info about subsequent writes... maybe i m just blind(","body":"Thank you for your comment. Ive read it once more and found same blocks of text. A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). And this: A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field. So no info about subsequent writes... maybe i m just blind("},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676423209,"post_id":75453944,"comment_id":133133041,"body_markdown":"Well ... it doesn&#39;t mention subsequent writes by thread A because subsequent writes  have no associated guarantees.  The JMM spec is all about what &gt;is&lt; guaranteed.  It doesn&#39;t (and doesn&#39;t need to) enumerate the infinite set of things that are not guaranteed. If something is not *stated* as guaranteed then it is not guaranteed.","body":"Well ... it doesn&#39;t mention subsequent writes by thread A because subsequent writes  have no associated guarantees.  The JMM spec is all about what &gt;is&lt; guaranteed.  It doesn&#39;t (and doesn&#39;t need to) enumerate the infinite set of things that are not guaranteed. If something is not <i>stated</i> as guaranteed then it is not guaranteed."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676423321,"post_id":75453944,"comment_id":133133050,"body_markdown":"Like I said, the spec is not easy to read ... but all of the information is there.  And if *reasoning* about what is stated (and not stated) in the spec is too difficult for you, you shouldn&#39;t be attempting to do clever things with `volatile`.   IMO.","body":"Like I said, the spec is not easy to read ... but all of the information is there.  And if <i>reasoning</i> about what is stated (and not stated) in the spec is too difficult for you, you shouldn&#39;t be attempting to do clever things with <code>volatile</code>.   IMO."},{"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"score":0,"creation_date":1676423929,"post_id":75453944,"comment_id":133133139,"body_markdown":"Maybe you are right. And I am still not ready for such things. But anyway thanks a lot for clarifying the correct answer to my question!","body":"Maybe you are right. And I am still not ready for such things. But anyway thanks a lot for clarifying the correct answer to my question!"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676443739,"creation_date":1676426207,"answer_id":75454851,"question_id":75453944,"body_markdown":"To give a bit more comprehensive answer by building up the happens-before relation out of its basic orders:\r\n\r\n1) synchronization order: this is the total order of all synchronization actions. Since a volatile write is a synchronization action, the 2 volatile writes to the same or different variables are part of the synchronization order. The synchronization order will even order e.g. the lock of A and the volatile read of B because it is a total order. \r\n\r\n2) synchronizes-with order. This is a partial order that only orders certain synchronization actions. For example, the release of a lock with all subsequent acquires of that same lock and the write of a volatile variable and all subsequent reads of that variable. So 2 volatile writes to different or the same variables are not ordered by the synchronizes-with order.\r\n\r\n3) program order: in simple terms, it is the order as specified by the program code. In your case, the 2 volatiles writes are not ordered by program order since they are issued by different threads.\r\n\r\nNow we get to the last step: the happens-before relation which is an order. It is the transitive closure of the union of the program order and the synchronizes-with order.\r\n\r\nSo even though the 2 volatile writes are part of the synchronization order, they are not part of the synchronizes-with order, and as a consequence, they are not part of the happens-before order. So they don&#39;t induce any happens-before edges.\r\n","title":"Volatile happens-before clarification/misunderstanding?","body":"<p>To give a bit more comprehensive answer by building up the happens-before relation out of its basic orders:</p>\n<ol>\n<li><p>synchronization order: this is the total order of all synchronization actions. Since a volatile write is a synchronization action, the 2 volatile writes to the same or different variables are part of the synchronization order. The synchronization order will even order e.g. the lock of A and the volatile read of B because it is a total order.</p>\n</li>\n<li><p>synchronizes-with order. This is a partial order that only orders certain synchronization actions. For example, the release of a lock with all subsequent acquires of that same lock and the write of a volatile variable and all subsequent reads of that variable. So 2 volatile writes to different or the same variables are not ordered by the synchronizes-with order.</p>\n</li>\n<li><p>program order: in simple terms, it is the order as specified by the program code. In your case, the 2 volatiles writes are not ordered by program order since they are issued by different threads.</p>\n</li>\n</ol>\n<p>Now we get to the last step: the happens-before relation which is an order. It is the transitive closure of the union of the program order and the synchronizes-with order.</p>\n<p>So even though the 2 volatile writes are part of the synchronization order, they are not part of the synchronizes-with order, and as a consequence, they are not part of the happens-before order. So they don't induce any happens-before edges.</p>\n"}],"owner":{"account_id":27405143,"reputation":33,"user_id":20905944,"display_name":"Layosh M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75454851,"answer_count":1,"score":2,"last_activity_date":1676443739,"creation_date":1676414814,"question_id":75453944,"body_markdown":"&quot;A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.&quot;\r\n\r\nSo I know that volatile field can be used as synchronization in order to guarantee that that all the information that thread 1 has before writing to volatile field is going to be visible to thread 2 after reading that volatile.\r\n\r\nBut what about subsequent writes? Is the behavior the same?\r\nAny help appreciated, can&#39;t find anything about it in the official docs.\r\n\r\nExamples:\r\n\r\n    ### Write -&gt; Read\r\n\r\n    #Thread1 (Write)\r\n    xxx = &quot;anyValue&quot; - any variable with value before volatile\r\n    boolean volatile b = true\r\n   \r\n    #Thread2 (Read)\r\n    if (b) { -&gt; here we read volatile value\r\n     print(xxx) -&gt; guaranteed visibility of &#39;xxx&#39; 100%, will print 100% &quot;anyValue&quot;\r\n    }\r\n\r\n    ### Write -&gt; Write\r\n\r\n    #Thread1 (Write)\r\n    xxx = &quot;anyValue&quot; - any variable with value before volatile\r\n    boolean volatile b = true;\r\n   \r\n    #Thread2 (Write)\r\n    b = false; -&gt; here we write to volatile value\r\n    print(xxx); -&gt; guaranteed visibility of &#39;xxx&#39;???, what will be printed?\r\n   ","title":"Volatile happens-before clarification/misunderstanding?","body":"<p>&quot;A write to a volatile field (8.3.1.4) happens-before every subsequent read of that field.&quot;</p>\n<p>So I know that volatile field can be used as synchronization in order to guarantee that that all the information that thread 1 has before writing to volatile field is going to be visible to thread 2 after reading that volatile.</p>\n<p>But what about subsequent writes? Is the behavior the same?\nAny help appreciated, can't find anything about it in the official docs.</p>\n<p>Examples:</p>\n<pre><code>### Write -&gt; Read\n\n#Thread1 (Write)\nxxx = &quot;anyValue&quot; - any variable with value before volatile\nboolean volatile b = true\n\n#Thread2 (Read)\nif (b) { -&gt; here we read volatile value\n print(xxx) -&gt; guaranteed visibility of 'xxx' 100%, will print 100% &quot;anyValue&quot;\n}\n\n### Write -&gt; Write\n\n#Thread1 (Write)\nxxx = &quot;anyValue&quot; - any variable with value before volatile\nboolean volatile b = true;\n\n#Thread2 (Write)\nb = false; -&gt; here we write to volatile value\nprint(xxx); -&gt; guaranteed visibility of 'xxx'???, what will be printed?\n</code></pre>\n"},{"tags":["java","svn","intellij-idea"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1309918365,"post_id":6590842,"comment_id":7774951,"body_markdown":"are you sure you committed all the files from the first computer? what does svn log show?","body":"are you sure you committed all the files from the first computer? what does svn log show?"},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309918791,"post_id":6590842,"comment_id":7775011,"body_markdown":"@matt I think so... I click commit on the desktop and it says there are no changes, and all the files are there on the laptop. I think it&#39;s this .iml file as shown in the screenshot, which contains the wrong content url. But I don&#39;t want to change it because when I commit it&#39;ll be copied to my desktop then presumably the project won&#39;t work there","body":"@matt I think so... I click commit on the desktop and it says there are no changes, and all the files are there on the laptop. I think it&#39;s this .iml file as shown in the screenshot, which contains the wrong content url. But I don&#39;t want to change it because when I commit it&#39;ll be copied to my desktop then presumably the project won&#39;t work there"},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":0,"creation_date":1309923274,"post_id":6590842,"comment_id":7775566,"body_markdown":"You can check if you have commited everything using an external svn client like tortoise SVN (in windows) it will colorize all the files under version control","body":"You can check if you have commited everything using an external svn client like tortoise SVN (in windows) it will colorize all the files under version control"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1309941899,"post_id":6590842,"comment_id":7778707,"body_markdown":"After performing the initial import you need to do a checkout in order to use version control in IDEA.","body":"After performing the initial import you need to do a checkout in order to use version control in IDEA."},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309964186,"post_id":6590842,"comment_id":7785251,"body_markdown":"@CrazyCoder OK, nice to know. I may be wrong but I thought I&#39;d imported into Subversion with other projects in the past and didn&#39;t have to explicitly check out.","body":"@CrazyCoder OK, nice to know. I may be wrong but I thought I&#39;d imported into Subversion with other projects in the past and didn&#39;t have to explicitly check out."}],"answers":[{"comments":[{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309919288,"post_id":6590893,"comment_id":7775070,"body_markdown":"I already did. Unfortunately this document says next to nothing.","body":"I already did. Unfortunately this document says next to nothing."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1309919693,"post_id":6590893,"comment_id":7775125,"body_markdown":"So, you&#39;ve committed .idea directory and all the .iml files?","body":"So, you&#39;ve committed .idea directory and all the .iml files?"},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309924895,"post_id":6590893,"comment_id":7775735,"body_markdown":"See update above. I can&#39;t commit from with IntelliJ for some reason.","body":"See update above. I can&#39;t commit from with IntelliJ for some reason."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1309941837,"post_id":6590893,"comment_id":7778690,"body_markdown":"Make an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default &lt;Project Root&gt; placeholder and your project files are not under the checkout root, it could be the case.","body":"Make an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default &lt;Project Root&gt; placeholder and your project files are not under the checkout root, it could be the case."},{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":0,"creation_date":1309964013,"post_id":6590893,"comment_id":7785189,"body_markdown":"Thanks - that did the trick (after then creating a new repository and checking it out into a different folder)","body":"Thanks - that did the trick (after then creating a new repository and checking it out into a different folder)"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1309964248,"creation_date":1309918701,"answer_id":6590893,"question_id":6590842,"body_markdown":"Please [refer to the FAQ][1].\r\n\r\nAs for the content root, make sure that it&#39;s located under the project root or module root, in this case the path will be stored relatively to the project/modile root inside the iml file. If the fixed system specific path is used in the iml, such module will not work on other systems.\r\n\r\n**UPDATE**:\r\nMake an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default &lt;Project Root&gt; placeholder and your project files are not under the checkout root, it could be the case.\r\n\r\nAfter performing the initial import you need to do a checkout in order to use version control in IDEA.\r\n\r\n  [1]: http://devnet.jetbrains.net/docs/DOC-1186","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>Please <a href=\"http://devnet.jetbrains.net/docs/DOC-1186\" rel=\"noreferrer\">refer to the FAQ</a>.</p>\n\n<p>As for the content root, make sure that it's located under the project root or module root, in this case the path will be stored relatively to the project/modile root inside the iml file. If the fixed system specific path is used in the iml, such module will not work on other systems.</p>\n\n<p><strong>UPDATE</strong>:\nMake an explicit mapping between the actual working directory and Subversion in Settings | Version Control dialog. If you are using the default  placeholder and your project files are not under the checkout root, it could be the case.</p>\n\n<p>After performing the initial import you need to do a checkout in order to use version control in IDEA.</p>\n"},{"comments":[{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":1,"creation_date":1402698248,"post_id":24214490,"comment_id":37390285,"body_markdown":"I just gave up with Subversion and started using git instead!","body":"I just gave up with Subversion and started using git instead!"},{"owner":{"account_id":107249,"reputation":5148,"user_id":285283,"accept_rate":75,"display_name":"pixelastic"},"score":0,"creation_date":1408626337,"post_id":24214490,"comment_id":39667166,"body_markdown":"I had the same issue with the git plugin after switching from WebStorm to IntelliJ. Fiddling with the settings (without changing anything) and restarting IntelliJ did the trick.","body":"I had the same issue with the git plugin after switching from WebStorm to IntelliJ. Fiddling with the settings (without changing anything) and restarting IntelliJ did the trick."}],"tags":[],"owner":{"account_id":376226,"reputation":515,"user_id":727541,"display_name":"Max P Magee"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402697698,"creation_date":1402697698,"answer_id":24214490,"question_id":6590842,"body_markdown":"I just ran into this today- checked out an existing project and had to update the SVN scheme from 1.6 (I think) to 1.8. That seemed to make Subversion not recognize that it was wrong it its belief- even though I could DIFF and see changes relative to the latest repository version- that &quot;No Changes Detected.&quot;\r\n\r\nI got so fed up that I shut down Intellij...on a whim I reopened it, and the file in question appeared blue...hmmm...yep, now it detected the changes.\r\n\r\n![Thanks, Roy!][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FBljO.gif","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I just ran into this today- checked out an existing project and had to update the SVN scheme from 1.6 (I think) to 1.8. That seemed to make Subversion not recognize that it was wrong it its belief- even though I could DIFF and see changes relative to the latest repository version- that \"No Changes Detected.\"</p>\n\n<p>I got so fed up that I shut down Intellij...on a whim I reopened it, and the file in question appeared blue...hmmm...yep, now it detected the changes.</p>\n\n<p><img src=\"https://i.stack.imgur.com/FBljO.gif\" alt=\"Thanks, Roy!\"></p>\n"},{"tags":[],"owner":{"account_id":45537,"reputation":2744,"user_id":134276,"accept_rate":50,"display_name":"Stoffe"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1412781251,"creation_date":1412781251,"answer_id":26260454,"question_id":6590842,"body_markdown":"VCS -&gt; Refresh File Status solved this for me, when Intellij suddenly stopped noticing changes.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>VCS -> Refresh File Status solved this for me, when Intellij suddenly stopped noticing changes.</p>\n"},{"tags":[],"owner":{"account_id":7015233,"reputation":16344,"user_id":5376813,"accept_rate":55,"display_name":"TetraDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467754288,"creation_date":1467754288,"answer_id":38213109,"question_id":6590842,"body_markdown":"Sometimes doing `VCS -&gt; Refresh File Status` works for me.\r\n\r\nOther times, it does nothing.\r\n\r\nA solution is to \r\n\r\n 1. COPY all your file contents to clipboard / external notepad (for backup)\r\n 2. Choose Rollback on the file which needs updating. Now it is up-to-date with the server and does not contain your new changes.\r\n 3. Edit file again (checkout), and PASTE your original file contents. \r\n 4. Attempt to commit changes. It should detect them now.\r\n","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>Sometimes doing <code>VCS -&gt; Refresh File Status</code> works for me.</p>\n\n<p>Other times, it does nothing.</p>\n\n<p>A solution is to </p>\n\n<ol>\n<li>COPY all your file contents to clipboard / external notepad (for backup)</li>\n<li>Choose Rollback on the file which needs updating. Now it is up-to-date with the server and does not contain your new changes.</li>\n<li>Edit file again (checkout), and PASTE your original file contents. </li>\n<li>Attempt to commit changes. It should detect them now.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519832279,"creation_date":1507662237,"answer_id":46674114,"question_id":6590842,"body_markdown":"I got into the similar issue today and I tried `VCS -&gt; Refresh File Status`, but it didn&#39;t help me. When i looked at `Version Control-&gt;Subversion Working Copies Information`, i found an svn error `The working copy at /home/project is too old to work with svn client 1.9.4`. First i ran `svn upgrade` and then doing `VCS -&gt; Refresh File Status` resolved my issue and i was able to commit my changes.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I got into the similar issue today and I tried <code>VCS -&gt; Refresh File Status</code>, but it didn't help me. When i looked at <code>Version Control-&gt;Subversion Working Copies Information</code>, i found an svn error <code>The working copy at /home/project is too old to work with svn client 1.9.4</code>. First i ran <code>svn upgrade</code> and then doing <code>VCS -&gt; Refresh File Status</code> resolved my issue and i was able to commit my changes.</p>\n"},{"tags":[],"owner":{"account_id":1801760,"reputation":2211,"user_id":1639918,"accept_rate":86,"display_name":"Panu Logic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516219389,"creation_date":1516219045,"answer_id":48309033,"question_id":6590842,"body_markdown":"I had the same issue it seems it may have been caused by having a file with the same name in two different GIT-repositories. \r\n\r\nI was able to fix it by opening File -&gt; Settings -&gt; Version Control and then un-assigning and re-assigning GIT as the VCS of the two directories which both had the file. First the directory in which there was no changes in the file then the other active one which did have changes (but which did not detect them before).\r\n\r\n\r\n","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I had the same issue it seems it may have been caused by having a file with the same name in two different GIT-repositories. </p>\n\n<p>I was able to fix it by opening File -> Settings -> Version Control and then un-assigning and re-assigning GIT as the VCS of the two directories which both had the file. First the directory in which there was no changes in the file then the other active one which did have changes (but which did not detect them before).</p>\n"},{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676443698,"creation_date":1676443698,"answer_id":75456332,"question_id":6590842,"body_markdown":"None of the other solutions here helped me.\r\n\r\nEnded up checking out the entire repository again, copied all the sub folders over to the newly checked out folder and submitted the changes.\r\n\r\nDeleted the old folder and renamed the new folder to the old folders name.","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>None of the other solutions here helped me.</p>\n<p>Ended up checking out the entire repository again, copied all the sub folders over to the newly checked out folder and submitted the changes.</p>\n<p>Deleted the old folder and renamed the new folder to the old folders name.</p>\n"}],"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28230,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":6590893,"answer_count":7,"score":11,"last_activity_date":1676443698,"creation_date":1309918105,"question_id":6590842,"body_markdown":"I&#39;m trying to share a project between my desktop and laptop using Subversion. The project has 3 modules. I&#39;ve imported the project folder into a repository in a shared folder that my laptop can access over the network. \r\n\r\nI checked the project out on my laptop and then tried to open the project. None of the modules are visible, only the project&#39;s .iml file, as in the screenshot below.\r\n\r\nI notice that the .iml file has a line for &quot;content url&quot;, which refers to a location on my desktop. Maybe this is the problem. What can I do about it? Do I have to create a new project on the laptop and import the modules - so there would be 2 different top level .iml files, one for the desktop and one for the laptop? Am I going about this the wrong way?\r\n\r\n![intelliJ][1]\r\n\r\n**UPDATE**: The problem seems to be with committing. When I make a change in a file, save, and hit Commit Changes, I get a popup saying &quot;No changes detected&quot;. This is the same on both laptop and desktop, and meant that I downloaded the wrong version onto my laptop before. I deleted the repository and created a new one, and my project works on my laptop now, but I can&#39;t commit changes from within IntelliJ (only with TortoiseSVN via file manager). Also, when I imported my project into version control from my desktop computer, the working copy wasn&#39;t put under version control. So I can&#39;t update from my desktop unless I check it out to a different folder.\r\n\r\nI think there is something wrong with the SVN plugin with this version of IntelliJ (10.5.1). Does anyone else have problems with committing changes?\r\n\r\n**RESOLUTION** I needed to\r\n1) Update Settings | Version Control  to map Subversion to the working directory\r\n2) Import into Version Control\r\n3) Check it out again\r\n\r\nIt may possibly have been caused by the fact that the modules were originally standalone projects which were in separate repositories. Whatever the cause, IntelliJ&#39;s &quot;No changes detected&quot; dialog isn&#39;t the most helpful.\r\n\r\n  [1]: http://i.stack.imgur.com/1thMc.png","title":"IntelliJ and SVN: &quot;no changes detected&quot; upon commit","body":"<p>I'm trying to share a project between my desktop and laptop using Subversion. The project has 3 modules. I've imported the project folder into a repository in a shared folder that my laptop can access over the network. </p>\n\n<p>I checked the project out on my laptop and then tried to open the project. None of the modules are visible, only the project's .iml file, as in the screenshot below.</p>\n\n<p>I notice that the .iml file has a line for \"content url\", which refers to a location on my desktop. Maybe this is the problem. What can I do about it? Do I have to create a new project on the laptop and import the modules - so there would be 2 different top level .iml files, one for the desktop and one for the laptop? Am I going about this the wrong way?</p>\n\n<p><img src=\"https://i.stack.imgur.com/1thMc.png\" alt=\"intelliJ\"></p>\n\n<p><strong>UPDATE</strong>: The problem seems to be with committing. When I make a change in a file, save, and hit Commit Changes, I get a popup saying \"No changes detected\". This is the same on both laptop and desktop, and meant that I downloaded the wrong version onto my laptop before. I deleted the repository and created a new one, and my project works on my laptop now, but I can't commit changes from within IntelliJ (only with TortoiseSVN via file manager). Also, when I imported my project into version control from my desktop computer, the working copy wasn't put under version control. So I can't update from my desktop unless I check it out to a different folder.</p>\n\n<p>I think there is something wrong with the SVN plugin with this version of IntelliJ (10.5.1). Does anyone else have problems with committing changes?</p>\n\n<p><strong>RESOLUTION</strong> I needed to\n1) Update Settings | Version Control  to map Subversion to the working directory\n2) Import into Version Control\n3) Check it out again</p>\n\n<p>It may possibly have been caused by the fact that the modules were originally standalone projects which were in separate repositories. Whatever the cause, IntelliJ's \"No changes detected\" dialog isn't the most helpful.</p>\n"},{"tags":["java","jmeter","java-me","jmeter-plugins","blazemeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676443659,"creation_date":1676443659,"answer_id":75456325,"question_id":75455954,"body_markdown":"&quot;Not recorded properly&quot; shouldn&#39;t be the case, the request is either recorded or not. If JMeter fails to capture the request body fully it shouldn&#39;t create the relevant [HTTP Request][1] sampler. And also JMeter should print some information on the problem to [jmeter.log file][2]. \r\n\r\nSo my expectation is that you&#39;re introducing the &quot;problem&quot; when you&#39;re &quot;trying to modify the ids&quot;\r\n\r\nIf it&#39;s really a JMeter problem you should [raise an issue][3] so developers and maintainers could fix it. In the meantime you can use the following workarounds:\r\n\r\n 1. Use your [browser developer tools][4] or 3rd-party sniffer tool like [Fiddler][5] or [Wireshark][6] to capture particular this request (or the whole test scenario)\r\n 2. You can use i.e. [BlazeMeter Converter][7] to transform captured requests into .jmx script. \r\n\r\n 3. Try upgrading to the latest stable version of JMeter which is [JMeter 5.5][8] as of now because it&#39;s [recommended to use the latest version][9]. \r\n\r\n\r\n     \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [3]: https://jmeter.apache.org/issues.html\r\n  [4]: https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Tools_and_setup/What_are_browser_developer_tools\r\n  [5]: https://www.telerik.com/fiddler\r\n  [6]: https://www.wireshark.org/\r\n  [7]: https://converter.blazemeter.com/\r\n  [8]: https://lists.apache.org/thread/k575c2oqnr0pv52fckcg399o4nkqt8c6\r\n  [9]: https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version","title":"How to increase a body data size while recording the script using JMeter?","body":"<p>&quot;Not recorded properly&quot; shouldn't be the case, the request is either recorded or not. If JMeter fails to capture the request body fully it shouldn't create the relevant <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> sampler. And also JMeter should print some information on the problem to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>.</p>\n<p>So my expectation is that you're introducing the &quot;problem&quot; when you're &quot;trying to modify the ids&quot;</p>\n<p>If it's really a JMeter problem you should <a href=\"https://jmeter.apache.org/issues.html\" rel=\"nofollow noreferrer\">raise an issue</a> so developers and maintainers could fix it. In the meantime you can use the following workarounds:</p>\n<ol>\n<li><p>Use your <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Common_questions/Tools_and_setup/What_are_browser_developer_tools\" rel=\"nofollow noreferrer\">browser developer tools</a> or 3rd-party sniffer tool like <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> or <a href=\"https://www.wireshark.org/\" rel=\"nofollow noreferrer\">Wireshark</a> to capture particular this request (or the whole test scenario)</p>\n</li>\n<li><p>You can use i.e. <a href=\"https://converter.blazemeter.com/\" rel=\"nofollow noreferrer\">BlazeMeter Converter</a> to transform captured requests into .jmx script.</p>\n</li>\n<li><p>Try upgrading to the latest stable version of JMeter which is <a href=\"https://lists.apache.org/thread/k575c2oqnr0pv52fckcg399o4nkqt8c6\" rel=\"nofollow noreferrer\">JMeter 5.5</a> as of now because it's <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\" rel=\"nofollow noreferrer\">recommended to use the latest version</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1922777,"reputation":25,"user_id":1733869,"display_name":"ankit dasani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676443659,"creation_date":1676440427,"question_id":75455954,"body_markdown":"I am using Jmeter 5.2.1. While recording the script due to the heavy response, body data is not recorded properly and due to this when I tried to modify the ids at that time its request failed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn addition, I also tried the same with the **BlazeMeter chrome extension** but the result is the same.\r\n\r\nIs it possible to increase the size of the body data or any other possible way to manage these types of requests at recording time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFHlW.png","title":"How to increase a body data size while recording the script using JMeter?","body":"<p>I am using Jmeter 5.2.1. While recording the script due to the heavy response, body data is not recorded properly and due to this when I tried to modify the ids at that time its request failed.</p>\n<p><a href=\"https://i.stack.imgur.com/ZFHlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFHlW.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, I also tried the same with the <strong>BlazeMeter chrome extension</strong> but the result is the same.</p>\n<p>Is it possible to increase the size of the body data or any other possible way to manage these types of requests at recording time?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1676442450,"post_id":75455991,"comment_id":133135387,"body_markdown":"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters - the example in documentation uses ant patterns, not class names.","body":"<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/&hellip;</a> - the example in documentation uses ant patterns, not class names."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676443676,"post_id":75455991,"comment_id":133135588,"body_markdown":"@AndreyB.Panfilov That has not worked as well for me","body":"@AndreyB.Panfilov That has not worked as well for me"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676450192,"post_id":75455991,"comment_id":133137015,"body_markdown":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead....","body":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead...."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676504815,"post_id":75455991,"comment_id":133152661,"body_markdown":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it.","body":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676547038,"post_id":75455991,"comment_id":133160707,"body_markdown":"`My pom.xml has one dependency which has shaded classes conflicting with other dependencies` That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???","body":"<code>My pom.xml has one dependency which has shaded classes conflicting with other dependencies</code> That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1676850749,"post_id":75455991,"comment_id":133215344,"body_markdown":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory","body":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory"},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676869660,"post_id":75455991,"comment_id":133217514,"body_markdown":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes.","body":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes."}],"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676443658,"creation_date":1676440753,"question_id":75455991,"body_markdown":"The classes added to exclude in maven shade plugin don&#39;t get excluded.\r\n\r\nMy pom.xml has one dependency which has shaded classes conflicting with other dependencies. \r\n\r\nSo I added the path to those classes in maven shade plugin to exclude them.\r\n \r\nI have this for maven shade plugin.\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n\r\n                &lt;execution&gt;\r\n\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\r\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\r\n\r\n                            &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\r\n                            &lt;layout&gt;JAR&lt;/layout&gt;\r\n                        &lt;/configuration&gt;\r\n\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAfter compiling it still shows those classes not being removed.\r\n\r\nAny help is appreciated. \r\n","title":"Excluding Classes using Maven Shade Plugin not working","body":"<p>The classes added to exclude in maven shade plugin don't get excluded.</p>\n<p>My pom.xml has one dependency which has shaded classes conflicting with other dependencies.</p>\n<p>So I added the path to those classes in maven shade plugin to exclude them.</p>\n<p>I have this for maven shade plugin.</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;executions&gt;\n\n                &lt;execution&gt;\n\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                            &lt;filter&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\n\n                            &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\n                            &lt;layout&gt;JAR&lt;/layout&gt;\n                        &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After compiling it still shows those classes not being removed.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","tomcat","servlets","jersey"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1647261587,"post_id":71375427,"comment_id":126319171,"body_markdown":"[setStatus](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-) is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet.","body":"<a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-\" rel=\"nofollow noreferrer\">setStatus</a> is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet."}],"answers":[{"tags":[],"owner":{"account_id":27790249,"reputation":31,"user_id":21216828,"display_name":"krasky"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676442446,"creation_date":1676442446,"answer_id":75456191,"question_id":71375427,"body_markdown":"As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\r\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen [here.][1] \r\n\r\nThis is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) [see link][2]. Usually there arent such big version changes within the same major version ie 10.x\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey/download.html\r\n  [2]: https://tomcat.apache.org/whichversion.html","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen <a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>This is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">see link</a>. Usually there arent such big version changes within the same major version ie 10.x</p>\n"}],"owner":{"account_id":15086617,"reputation":1,"user_id":10887660,"display_name":"nanashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676442446,"creation_date":1646614563,"question_id":71375427,"body_markdown":"I&#39;m learning Java web technologies and I&#39;m trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:\r\n\r\n    SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;] with root cause\r\n    java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;\r\n\r\nMy java class resource:\r\n\r\n    package com.dbmw.mkstick;\r\n    \r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class Resource {\r\n    \t\r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        public String getText() {\r\n        \t return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy web xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.dbmw&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mkstick&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1&lt;/version&gt;\r\n    \t&lt;name&gt;mkstick&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t\t&lt;finalName&gt;mkstick&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;/project&gt;\r\n\r\nFrom what I can grasp it seems to be an issue with versions and I&#39;ve tried to get every dependency up to date but it has not helped at all.","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>I'm learning Java web technologies and I'm trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:</p>\n<pre><code>SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'] with root cause\njava.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'\n</code></pre>\n<p>My java class resource:</p>\n<pre><code>package com.dbmw.mkstick;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class Resource {\n    \n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String getText() {\n         return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\n    }\n\n}\n</code></pre>\n<p>My web xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dbmw&lt;/groupId&gt;\n    &lt;artifactId&gt;mkstick&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;name&gt;mkstick&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;finalName&gt;mkstick&lt;/finalName&gt;\n    &lt;/build&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n<p>From what I can grasp it seems to be an issue with versions and I've tried to get every dependency up to date but it has not helped at all.</p>\n"},{"tags":["java","multithreading","parallel-processing","synchronization","data-consistency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676259600,"post_id":75431201,"comment_id":133094943,"body_markdown":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently.","body":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently."}],"answers":[{"comments":[{"owner":{"account_id":15553016,"reputation":67,"user_id":11220219,"display_name":"Siva Sai kiran"},"score":0,"creation_date":1676300854,"post_id":75431385,"comment_id":133104464,"body_markdown":"thank you,my concern is not about the restcalls but updating the database,can i use some kind of synchronization to let only one thread update the db at a time.","body":"thank you,my concern is not about the restcalls but updating the database,can i use some kind of synchronization to let only one thread update the db at a time."}],"tags":[],"owner":{"account_id":311725,"reputation":809,"user_id":4894473,"display_name":"Lam Le"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676338587,"creation_date":1676254115,"answer_id":75431385,"question_id":75431201,"body_markdown":"To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:\r\n\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    List&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\r\n\r\n    todo.add(Executors.callable(new TaskCallRest1())); \r\n    todo.add(Executors.callable(new TaskCallRest2())); \r\n\r\n    List&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\r\n\r\nFor database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like: \r\n\r\n    update A set B = b, version = 2 where version = 1; \r\n\r\nOnly one thread can execute successful this query due to database ACID.\r\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning","title":"How to avoid thread interference while updating database in multithreading","body":"<p>To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nList&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\n\ntodo.add(Executors.callable(new TaskCallRest1())); \ntodo.add(Executors.callable(new TaskCallRest2())); \n\nList&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\n</code></pre>\n<p>For database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like:</p>\n<pre><code>update A set B = b, version = 2 where version = 1; \n</code></pre>\n<p>Only one thread can execute successful this query due to database ACID.\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning</p>\n"},{"tags":[],"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676442169,"creation_date":1676442169,"answer_id":75456150,"question_id":75431201,"body_markdown":"It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications. \r\n\r\nThe solution depends on the level of contention(the number of threads trying to update the same database table).\r\n\r\nIf there is high contention, use pessimistic locking. Refer [pessimistic locking][1]\r\n\r\n\r\nIf there is low contention, use optimistic locking. Refer [optimistic locking][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-pessimistic-locking\r\n  [2]: https://www.baeldung.com/jpa-optimistic-locking","title":"How to avoid thread interference while updating database in multithreading","body":"<p>It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications.</p>\n<p>The solution depends on the level of contention(the number of threads trying to update the same database table).</p>\n<p>If there is high contention, use pessimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">pessimistic locking</a></p>\n<p>If there is low contention, use optimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">optimistic locking</a></p>\n"}],"owner":{"account_id":15553016,"reputation":67,"user_id":11220219,"display_name":"Siva Sai kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676442169,"creation_date":1676251029,"question_id":75431201,"body_markdown":"I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i&#39;m updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.","title":"How to avoid thread interference while updating database in multithreading","body":"<p>I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i'm updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.</p>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"answers":[{"comments":[{"owner":{"display_name":"user21213468"},"score":0,"creation_date":1676441654,"post_id":75451810,"comment_id":133135254,"body_markdown":"Yes, I changed the port to 3306 and my URL is now calling at **jdbc:mysql://mysqldb:3306/bank_app?useSSL=false**","body":"Yes, I changed the port to 3306 and my URL is now calling at <b>jdbc:mysql://mysqldb:3306/bank_app?useSSL=false</b>"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676398897,"creation_date":1676398897,"answer_id":75451810,"question_id":75451714,"body_markdown":"Your port mapping for `mysqldb` is maybe not needed? That is unless you really want to expose MySQL&#39;s server to the outside world (`outside:inside`). In your case on port 3307.\r\n\r\n    ports:\r\n      - 3307:3306\r\n\r\nI&#39;m not sure if you really mean to expose your server, but inside of your container you should be using the real port, `localhost:3306`.","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>Your port mapping for <code>mysqldb</code> is maybe not needed? That is unless you really want to expose MySQL's server to the outside world (<code>outside:inside</code>). In your case on port 3307.</p>\n<pre><code>ports:\n  - 3307:3306\n</code></pre>\n<p>I'm not sure if you really mean to expose your server, but inside of your container you should be using the real port, <code>localhost:3306</code>.</p>\n"}],"owner":{"display_name":"user21213468"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451810,"answer_count":1,"score":0,"last_activity_date":1676441504,"creation_date":1676398439,"question_id":75451714,"body_markdown":"I am trying to create a application using Spring boot and MySQL.\r\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.\r\n\r\nBelow are my project config\r\nSpring boot version: 3.0.1\r\nJava version: 17\r\nMySQL version: 8\r\n\r\n**application properties**\r\n```\r\nserver.port=3005\r\nspring.application.name=user-service\r\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\n```\r\n\r\n**docker-compose.yml**\r\n\r\n```\r\nversion: &quot;3.8&quot;\r\nservices:\r\n  mysqldb:\r\n    image: mysql:latest\r\n    container_name: mysqldb\r\n    restart: unless-stopped\r\n    env_file: ./.env\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=123456\r\n      - MYSQL_DATABASE=bank_app\r\n      - MYSQL_USER=root\r\n      - MYSQL_PASSWORD=123456\r\n    ports:\r\n      - 3307:3306\r\n    volumes:\r\n      - db:/var/lib/mysql\r\n    networks:\r\n      - main-network\r\n  user-service:\r\n    build:\r\n      context: ../code/user-service\r\n      dockerfile: Dockerfile\r\n    image: user-service\r\n    container_name: user-service\r\n    restart: on-failure\r\n    depends_on:\r\n      - mysqldb\r\n    ports:\r\n      - 3005:3005\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=prod\r\n      - SPRING_APPLICATION_NAME=user-service\r\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\r\n    networks:\r\n      - main-network\r\nnetworks:\r\n  main-network:\r\n    external:\r\n      name: main-network\r\nvolumes:\r\n  db:\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n   &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI tried by replacing the **localhost** with container name **mysqldb** in the datasource URL but still I&#39;m facing same error\r\n\r\n**Issue**\r\n```\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\r\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n```\r\n","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>I am trying to create a application using Spring boot and MySQL.\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.</p>\n<p>Below are my project config\nSpring boot version: 3.0.1\nJava version: 17\nMySQL version: 8</p>\n<p><strong>application properties</strong></p>\n<pre><code>server.port=3005\nspring.application.name=user-service\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: &quot;3.8&quot;\nservices:\n  mysqldb:\n    image: mysql:latest\n    container_name: mysqldb\n    restart: unless-stopped\n    env_file: ./.env\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456\n      - MYSQL_DATABASE=bank_app\n      - MYSQL_USER=root\n      - MYSQL_PASSWORD=123456\n    ports:\n      - 3307:3306\n    volumes:\n      - db:/var/lib/mysql\n    networks:\n      - main-network\n  user-service:\n    build:\n      context: ../code/user-service\n      dockerfile: Dockerfile\n    image: user-service\n    container_name: user-service\n    restart: on-failure\n    depends_on:\n      - mysqldb\n    ports:\n      - 3005:3005\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - SPRING_APPLICATION_NAME=user-service\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\n    networks:\n      - main-network\nnetworks:\n  main-network:\n    external:\n      name: main-network\nvolumes:\n  db:\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\n   &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried by replacing the <strong>localhost</strong> with container name <strong>mysqldb</strong> in the datasource URL but still I'm facing same error</p>\n<p><strong>Issue</strong></p>\n<pre><code>2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3695702,"reputation":12521,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1498099091,"post_id":44641878,"comment_id":76362151,"body_markdown":"Also posted at http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html","body":"Also posted at <a href=\"http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html\" rel=\"nofollow noreferrer\">javaprogrammingforums.com/whats-wrong-my-code/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5959961,"reputation":7014,"user_id":4685428,"accept_rate":100,"display_name":"Aleks Andreev"},"score":0,"creation_date":1508950805,"post_id":46937582,"comment_id":80823333,"body_markdown":"So you saying that solution is to delete lock files? If so please strip an extra info from your answer (like &quot;I had this problem to&quot; etc)","body":"So you saying that solution is to delete lock files? If so please strip an extra info from your answer (like &quot;I had this problem to&quot; etc)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1527031767,"post_id":46937582,"comment_id":87969154,"body_markdown":"This is for Java 9, for **Java 10** see [this answer](https://stackoverflow.com/a/49887937/589259) below.","body":"This is for Java 9, for <b>Java 10</b> see <a href=\"https://stackoverflow.com/a/49887937/589259\">this answer</a> below."},{"owner":{"account_id":938589,"reputation":560,"user_id":967077,"display_name":"CarLuva"},"score":4,"creation_date":1529361395,"post_id":46937582,"comment_id":88836753,"body_markdown":"In my case (for Java 10), I had an additional lock file at %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG. Only after deleting all three lock files could I run the installer successfully.","body":"In my case (for Java 10), I had an additional lock file at %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG&zwnj;&#8203;. Only after deleting all three lock files could I run the installer successfully."},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":1,"creation_date":1532238957,"post_id":46937582,"comment_id":89893812,"body_markdown":"Didn&#39;t help in my case for java10, tried deleting the lock files, deleted the sun and oracle directories under AppData/LocalLow, still didn&#39;t help. What I ended up doing is extracting the files from the install and copying them over to c:/Program Files/java/jdk10.0.2 then using java control panel-&gt;java-&gt;view-&gt;find  to add it. Then add the jdk to intellij. Not recommended but works if you tried everything else and are still stuck","body":"Didn&#39;t help in my case for java10, tried deleting the lock files, deleted the sun and oracle directories under AppData/LocalLow, still didn&#39;t help. What I ended up doing is extracting the files from the install and copying them over to c:/Program Files/java/jdk10.0.2 then using java control panel-&gt;java-&gt;view-&gt;find  to add it. Then add the jdk to intellij. Not recommended but works if you tried everything else and are still stuck"},{"owner":{"account_id":3358666,"reputation":91,"user_id":2821015,"display_name":"Jeff C."},"score":0,"creation_date":1621439406,"post_id":46937582,"comment_id":119497674,"body_markdown":"This worked flawlessly for me.  I guess that I had aborted an install a while back.  Deleting the oracle JAVA_INSTALL_FLAG allowed me to proceed.  Many thanks.","body":"This worked flawlessly for me.  I guess that I had aborted an install a while back.  Deleting the oracle JAVA_INSTALL_FLAG allowed me to proceed.  Many thanks."},{"owner":{"account_id":2156572,"reputation":3896,"user_id":1911652,"accept_rate":73,"display_name":"Atul"},"score":0,"creation_date":1639199217,"post_id":46937582,"comment_id":124293222,"body_markdown":"Many thanks, you saved my day. Seriously why these big companies haven&#39;t taken care of such little issues don&#39;t know.","body":"Many thanks, you saved my day. Seriously why these big companies haven&#39;t taken care of such little issues don&#39;t know."},{"owner":{"account_id":14439666,"reputation":301,"user_id":10430706,"display_name":"stackoverflow_unicorn"},"score":0,"creation_date":1668546343,"post_id":46937582,"comment_id":131430921,"body_markdown":"This worked for me to remove Java 8. I had to go through Administrator to find one of these files. Once removed, I was able to install Java 17.","body":"This worked for me to remove Java 8. I had to go through Administrator to find one of these files. Once removed, I was able to install Java 17."},{"owner":{"account_id":4459563,"reputation":77,"user_id":3628865,"display_name":"Rusiru Adithya Samarasinghe"},"score":0,"creation_date":1678948788,"post_id":46937582,"comment_id":133632469,"body_markdown":"Also cleaning %temp% folder might be helpful","body":"Also cleaning %temp% folder might be helpful"}],"tags":[],"owner":{"account_id":2428893,"reputation":753,"user_id":2120259,"display_name":"BlackSheeep"},"comment_count":8,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1551390148,"creation_date":1508948865,"answer_id":46937582,"question_id":44641878,"body_markdown":"On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: &quot;Another Java installation is in progress (...)&quot;.\r\n\r\nIf Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. \r\n\r\nSolution:\r\n\r\nDeleting the lock files, unlocks the Installer and Java can be installed again.\r\n\r\nThe lock files are located at:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: \"Another Java installation is in progress (...)\".</p>\n\n<p>If Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. </p>\n\n<p>Solution:</p>\n\n<p>Deleting the lock files, unlocks the Installer and Java can be installed again.</p>\n\n<p>The lock files are located at:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1527032594,"post_id":49630731,"comment_id":87969347,"body_markdown":"I think you cannot run **any** Windows installers in parallel, so it would not just block Java installs, but **all** software installations.","body":"I think you cannot run <b>any</b> Windows installers in parallel, so it would not just block Java installs, but <b>all</b> software installations."},{"owner":{"account_id":1427957,"reputation":138,"user_id":1351016,"display_name":"Lex van Buiten"},"score":0,"creation_date":1527145191,"post_id":49630731,"comment_id":88018106,"body_markdown":"You are correct. In my case, for some reason the first installation started but got stuck for some reason. Starting a second one isn&#39;t possible as you mentioned.","body":"You are correct. In my case, for some reason the first installation started but got stuck for some reason. Starting a second one isn&#39;t possible as you mentioned."}],"tags":[],"owner":{"account_id":1427957,"reputation":138,"user_id":1351016,"display_name":"Lex van Buiten"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527032533,"creation_date":1522760354,"answer_id":49630731,"question_id":44641878,"body_markdown":"Kill any remaining Windows&#174; installer `msiexec.exe` processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.\r\n\r\nMy problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution [that BlackSheeep posted](https://stackoverflow.com/a/46937582/589259), but without any luck.\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Kill any remaining Windows installer <code>msiexec.exe</code> processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.</p>\n\n<p>My problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution <a href=\"https://stackoverflow.com/a/46937582/589259\">that BlackSheeep posted</a>, but without any luck.</p>\n"},{"tags":[],"owner":{"account_id":222161,"reputation":1242,"user_id":480583,"display_name":"AhmedBM"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524001460,"creation_date":1524001460,"answer_id":49887937,"question_id":44641878,"body_markdown":"Although this was written for *JDK9*, *JDK10* will suffer from the same issue BUT the lock location is different. The new lock file is located in  `%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG`.\r\n\r\nSimply deleting this file should allow you to proceed with the install.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Although this was written for <em>JDK9</em>, <em>JDK10</em> will suffer from the same issue BUT the lock location is different. The new lock file is located in  <code>%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG</code>.</p>\n\n<p>Simply deleting this file should allow you to proceed with the install.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1527031486,"post_id":50381835,"comment_id":87969067,"body_markdown":"This answer is a month late to [this answer](https://stackoverflow.com/a/49887937/589259) and contains the same solution, but with less info.","body":"This answer is a month late to <a href=\"https://stackoverflow.com/a/49887937/589259\">this answer</a> and contains the same solution, but with less info."}],"tags":[],"owner":{"account_id":4695574,"reputation":52,"user_id":3800535,"display_name":"martin_"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1526519401,"creation_date":1526518279,"answer_id":50381835,"question_id":44641878,"body_markdown":"Try locating the lock file here:\r\n\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nDeleting it allowed my Java 10 installation to start.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Try locating the lock file here:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Deleting it allowed my Java 10 installation to start.</p>\n"},{"tags":[],"owner":{"account_id":14074857,"reputation":61,"user_id":10167437,"display_name":"NurSultan"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1533152812,"creation_date":1533148468,"answer_id":51640133,"question_id":44641878,"body_markdown":"This helped me:\r\n\r\nDELETE:\r\n    \r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    and\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>This helped me:</p>\n\n<p>DELETE:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\nand\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14185397,"reputation":530,"user_id":10247526,"display_name":"heyt0pe"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1536736791,"creation_date":1536736791,"answer_id":52289563,"question_id":44641878,"body_markdown":"I had this problem also and i came to this page but i couldn&#39;t solve it at first because i thought my system didn&#39;t have &#39;ProgramData&#39; in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the &#39;JAVA_INSTALL_FLAG&#39; files in all these directories\r\n\r\n    %ProgramData%\\Oracle\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Sun\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Oracle\\Java\r\nThen Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I had this problem also and i came to this page but i couldn't solve it at first because i thought my system didn't have 'ProgramData' in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the 'JAVA_INSTALL_FLAG' files in all these directories</p>\n\n<pre><code>%ProgramData%\\Oracle\\Java\n%UserProile%\\AppData\\LocalLow\\Sun\\Java\n%UserProile%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Then Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.</p>\n"},{"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575469109,"creation_date":1575414078,"answer_id":59166682,"question_id":44641878,"body_markdown":"I don&#39;t mean to be cheap but `Control Panel` &gt; `Uninstall a program` &gt; `Java 9` is your friend","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I don't mean to be cheap but <code>Control Panel</code> > <code>Uninstall a program</code> > <code>Java 9</code> is your friend</p>\n"},{"tags":[],"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589639172,"creation_date":1589639172,"answer_id":61838307,"question_id":44641878,"body_markdown":"on windows 10, delete below directories,\r\n\r\nC:\\Program Files\\Java\r\nC:\\ProgramData\\Oracle\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nand try again.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>on windows 10, delete below directories,</p>\n\n<p>C:\\Program Files\\Java\nC:\\ProgramData\\Oracle\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java</p>\n\n<p>and try again.</p>\n"},{"comments":[{"owner":{"account_id":14777793,"reputation":75,"user_id":11111547,"display_name":"Olavo Alexandrino"},"score":0,"creation_date":1695610667,"post_id":74325656,"comment_id":136042664,"body_markdown":"it was the only thing that also worked to me!","body":"it was the only thing that also worked to me!"}],"tags":[],"owner":{"account_id":1483642,"reputation":31,"user_id":1392369,"display_name":"Patrick Samples"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667630249,"creation_date":1667630249,"answer_id":74325656,"question_id":44641878,"body_markdown":"I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;\r\n\r\nI fixed it by cleaning out my %temp%\\ folder.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;</p>\n<p>I fixed it by cleaning out my %temp%\\ folder.</p>\n"},{"tags":[],"owner":{"account_id":6130840,"reputation":677,"user_id":7793652,"display_name":"Pritam Pawade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673080768,"creation_date":1673080768,"answer_id":75039048,"question_id":44641878,"body_markdown":"For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.\r\n\r\n    1. Press Windows +R\r\n    2. Type temp -&gt;delete all files\r\n    3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.</p>\n<pre><code>1. Press Windows +R\n2. Type temp -&gt;delete all files\n3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200329,"reputation":2634,"user_id":3440582,"accept_rate":54,"display_name":"BlackPearl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676441003,"creation_date":1676441003,"answer_id":75456021,"question_id":44641878,"body_markdown":"On Windows\r\n\r\nDelete the file `JAVA_MSIUI_FLAG`\r\n\r\nIt can be found in \r\n`C:\\Users\\{Computer Name}\\AppData\\Local\\Temp`","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows</p>\n<p>Delete the file <code>JAVA_MSIUI_FLAG</code></p>\n<p>It can be found in\n<code>C:\\Users\\{Computer Name}\\AppData\\Local\\Temp</code></p>\n"}],"owner":{"account_id":10817078,"reputation":885,"user_id":7955643,"display_name":"Clancy Merrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47076,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":11,"score":28,"last_activity_date":1676441003,"creation_date":1497918429,"question_id":44641878,"body_markdown":"I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.\r\n\r\nIt fails with a message box saying &quot;Another Java installation is in progress. You must complete that installation before you can run this installer&quot;.\r\n\r\nIt seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).\r\n\r\nSearches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.\r\n\r\nCan anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.</p>\n\n<p>It fails with a message box saying \"Another Java installation is in progress. You must complete that installation before you can run this installer\".</p>\n\n<p>It seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).</p>\n\n<p>Searches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.</p>\n\n<p>Can anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?</p>\n"},{"tags":["java","wav","avaya","audioformat","java-audio"],"owner":{"account_id":16767093,"reputation":216,"user_id":12120494,"display_name":"Mr Freak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676440955,"creation_date":1676440955,"question_id":75456016,"body_markdown":"I want to convert audio **InputStream** to **wav** file format in java.\r\n\r\nRequire format is : mu-law 8000 Hz 64 kbps Mono\r\n\r\nI am using the following method for the conversion but generated audio file is corrupted.\r\n\r\n\r\n    public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\r\n    \ttry {\r\n    \r\n    \t\tbyte[] decodedData = IOUtils.toByteArray(audioStream);\r\n    \r\n    \t\tFile outFile = new File(filePath);\r\n    \t\t\r\n    \t\tAudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\r\n    \t\t\t\t    \r\n    \t\tAudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\r\n    \t\t\t\tAudioFileFormat.Type.WAVE, outFile);\r\n    \t\t\r\n    \t} catch (IOException ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nI am using this audio file to play in my IVR flow and it strictly allow only the given format.\r\n","title":"Audio Input Stream To IVR supported WAV file [JAVA]","body":"<p>I want to convert audio <strong>InputStream</strong> to <strong>wav</strong> file format in java.</p>\n<p>Require format is : mu-law 8000 Hz 64 kbps Mono</p>\n<p>I am using the following method for the conversion but generated audio file is corrupted.</p>\n<pre><code>public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\n    try {\n\n        byte[] decodedData = IOUtils.toByteArray(audioStream);\n\n        File outFile = new File(filePath);\n        \n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\n                    \n        AudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\n                AudioFileFormat.Type.WAVE, outFile);\n        \n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am using this audio file to play in my IVR flow and it strictly allow only the given format.</p>\n"},{"tags":["java","tomcat","jdbc","java-8","oracle19c"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1676453678,"post_id":75455921,"comment_id":133137922,"body_markdown":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I *think* the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?","body":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I <i>think</i> the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?"}],"owner":{"account_id":25122235,"reputation":1,"user_id":18970421,"display_name":"Promit Banik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676459124,"answer_count":0,"score":0,"last_activity_date":1676440125,"creation_date":1676440125,"question_id":75455921,"body_markdown":"Recently we have done an environment setup upgradation/migration as mentioned below for our application:\r\nJDK 1.7 ---&gt; JDK 1.8\r\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\r\nojdbc7.jar ---&gt; ojdbc8.jar\r\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)\r\n\r\nWe have been facing a JDBC autocommit issue since then in this new environment setup:\r\n\r\nIssue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.\r\n\r\nDuring debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\r\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\r\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true\r\n\r\npublic T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\r\n    ...........\r\n    ...........\r\n    ...........\r\n    while (p == null) {\r\n        create = false;\r\n        p = idleObjects.pollFirst();\r\n        if (p == null) {\r\n            p = create();\r\n            if (p != null) {\r\n                create = true;\r\n            }\r\n        }\r\n    }\r\n    .........\r\n    .........\r\n    .........\r\n}\r\n\r\nOur initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.\r\n\r\n***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.\r\n\r\nIn Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).","title":"Autocommit issue with JDK 1.8, Tomcat 9.0.60, ojdbc8.jar and Oracle DB 19c (19.14.0.0.)","body":"<p>Recently we have done an environment setup upgradation/migration as mentioned below for our application:\nJDK 1.7 ---&gt; JDK 1.8\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\nojdbc7.jar ---&gt; ojdbc8.jar\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)</p>\n<p>We have been facing a JDBC autocommit issue since then in this new environment setup:</p>\n<p>Issue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.</p>\n<p>During debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true</p>\n<p>public T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\n...........\n...........\n...........\nwhile (p == null) {\ncreate = false;\np = idleObjects.pollFirst();\nif (p == null) {\np = create();\nif (p != null) {\ncreate = true;\n}\n}\n}\n.........\n.........\n.........\n}</p>\n<p>Our initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.</p>\n<p>***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.</p>\n<p>In Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":4513919,"reputation":647,"user_id":3669309,"accept_rate":83,"display_name":"Tupac"},"score":0,"creation_date":1452229212,"post_id":34669708,"comment_id":57085194,"body_markdown":"Do you have the administration permission? Maybe is just that. Because it is in a user folder","body":"Do you have the administration permission? Maybe is just that. Because it is in a user folder"},{"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"score":0,"creation_date":1452230791,"post_id":34669708,"comment_id":57085700,"body_markdown":"@Tupac yes, i am checking with admin only.","body":"@Tupac yes, i am checking with admin only."}],"answers":[{"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452244917,"creation_date":1452244917,"answer_id":34673383,"question_id":34669708,"body_markdown":"It seems like a bug in Undertow ([UNDERTOW-542](https://issues.jboss.org/browse/UNDERTOW-542)) discussed [here][1] in Spring Boot context. To quote the [analysis of Andy Wilkinson][2]:\n\n&gt; The good news is that the exception&#39;s benign and you can safely ignore it. All it&#39;s telling you, albeit very noisily, is that the file couldn&#39;t be deleted as it&#39;s already been deleted. The reason is that there&#39;s a race condition in Undertow that means that two threads end up trying to delete the file at the same time.\n&gt;\n&gt; *[...]*\n&gt;\n&gt; This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we&#39;re good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we&#39;ll just have to live with the benign warning there.\n\n\n  [1]: https://github.com/spring-projects/spring-boot/issues/3966\n  [2]: https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>It seems like a bug in Undertow (<a href=\"https://issues.jboss.org/browse/UNDERTOW-542\" rel=\"nofollow noreferrer\">UNDERTOW-542</a>) discussed <a href=\"https://github.com/spring-projects/spring-boot/issues/3966\" rel=\"nofollow noreferrer\">here</a> in Spring Boot context. To quote the <a href=\"https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820\" rel=\"nofollow noreferrer\">analysis of Andy Wilkinson</a>:</p>\n<blockquote>\n<p>The good news is that the exception's benign and you can safely ignore it. All it's telling you, albeit very noisily, is that the file couldn't be deleted as it's already been deleted. The reason is that there's a race condition in Undertow that means that two threads end up trying to delete the file at the same time.</p>\n<p><em>[...]</em></p>\n<p>This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we're good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we'll just have to live with the benign warning there.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676711944,"post_id":75455903,"comment_id":133195687,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75455903/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7151432,"reputation":1,"user_id":5465330,"display_name":"Alok Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676439899,"creation_date":1676439899,"answer_id":75455903,"question_id":34669708,"body_markdown":"This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE. ","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE.</p>\n"}],"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34673383,"answer_count":2,"score":1,"last_activity_date":1676439899,"creation_date":1452228502,"question_id":34669708,"body_markdown":"I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n    \tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n    \tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    \tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nand my coding is,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; action=&quot;http://localhost:8080/surf/upload&quot;&gt;\r\n    File to upload: &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br /&gt; Name: &lt;input\r\n    \t\t\ttype=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=&quot;submit&quot;\r\n    \t\t\tvalue=&quot;Upload&quot;&gt; Press here to upload the file!\r\n    &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand my java class\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     @RequestMapping(value=&quot;/upload&quot;, method=RequestMethod.POST)\r\n     public @ResponseBody String handleFileUpload(@RequestParam(&quot;name&quot;) String name,\r\n    \t        @RequestParam(&quot;file&quot;) MultipartFile file){\r\n    \t        if (!file.isEmpty()) {\r\n    \t            try {\r\n    \t                byte[] bytes = file.getBytes();\r\n    \t                BufferedOutputStream stream =\r\n    \t                        new BufferedOutputStream(new FileOutputStream(new File(&quot;D:/Test/surfImg/&quot;)));\r\n    \t                stream.write(bytes);\r\n    \t                stream.close();\r\n    \t                return &quot;You successfully uploaded &quot; + name + &quot;!&quot;;\r\n    \t            } catch (Exception e) {\r\n    \t                return &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n    \t            }\r\n    \t        } else {\r\n    \t            return &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n    \t        }\r\n    \t    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n\tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n\tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n\tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my coding is,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"POST\" enctype=\"multipart/form-data\" action=\"http://localhost:8080/surf/upload\"&gt;\r\nFile to upload: &lt;input type=\"file\" name=\"file\"&gt;&lt;br /&gt; Name: &lt;input\r\n\t\t\ttype=\"text\" name=\"name\"&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=\"submit\"\r\n\t\t\tvalue=\"Upload\"&gt; Press here to upload the file!\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my java class</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> @RequestMapping(value=\"/upload\", method=RequestMethod.POST)\r\n public @ResponseBody String handleFileUpload(@RequestParam(\"name\") String name,\r\n\t        @RequestParam(\"file\") MultipartFile file){\r\n\t        if (!file.isEmpty()) {\r\n\t            try {\r\n\t                byte[] bytes = file.getBytes();\r\n\t                BufferedOutputStream stream =\r\n\t                        new BufferedOutputStream(new FileOutputStream(new File(\"D:/Test/surfImg/\")));\r\n\t                stream.write(bytes);\r\n\t                stream.close();\r\n\t                return \"You successfully uploaded \" + name + \"!\";\r\n\t            } catch (Exception e) {\r\n\t                return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\r\n\t            }\r\n\t        } else {\r\n\t            return \"You failed to upload \" + name + \" because the file was empty.\";\r\n\t        }\r\n\t    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676439678,"post_id":75455847,"comment_id":133134962,"body_markdown":"See https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql","body":"See <a href=\"https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql\" title=\"spring data jpa native query with null parameter postgresql\">stackoverflow.com/questions/64992940/&hellip;</a>"}],"owner":{"account_id":17051052,"reputation":17,"user_id":12336678,"display_name":"Micro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676439458,"creation_date":1676439342,"question_id":75455847,"body_markdown":"Getting the query in Statement Inspector after the parameters are binded.\r\n\r\nI am following the below links for statement inspector, can the query be modified after the parameters are binded.\r\n[https://vladmihalcea.com/hibernate-statementinspector/](https://www.stackoverflow.com/)\r\n[https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate](https://www.stackoverflow.com/)\r\nFor eg:\r\n\r\n```\r\nQuery q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\r\nq.setParameter(1, address2_idval);\r\n```\r\n\r\nFor the above scenario if i log the query using inspector it&#39;s printing \r\n`Select * from employees where address2_id = ?`\r\n\r\nthe reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it&#39;s generating `Select * from employees where address2_id = &#39;&#39;` where address2_id is a numeric datatype in Db(POSTGRES).\r\nI am getting the following error invalid `input syntax for type numeric &quot;&quot;`.\r\n\r\nWhat i am planning on implementing in inspector is if i can get `Select * from employees where address2_id = &#39;&#39;` like this in inspector block i can check with regex and replace = &#39;&#39; with is null.\r\n\r\nCan anyone pls suggest if this is possible?\r\n\r\nNOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario","title":"Can we modify the query using Statement Inspector after binding the parameters to query","body":"<p>Getting the query in Statement Inspector after the parameters are binded.</p>\n<p>I am following the below links for statement inspector, can the query be modified after the parameters are binded.\n<a href=\"https://www.stackoverflow.com/\">https://vladmihalcea.com/hibernate-statementinspector/</a>\n<a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate</a>\nFor eg:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\nq.setParameter(1, address2_idval);\n</code></pre>\n<p>For the above scenario if i log the query using inspector it's printing\n<code>Select * from employees where address2_id = ?</code></p>\n<p>the reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it's generating <code>Select * from employees where address2_id = ''</code> where address2_id is a numeric datatype in Db(POSTGRES).\nI am getting the following error invalid <code>input syntax for type numeric &quot;&quot;</code>.</p>\n<p>What i am planning on implementing in inspector is if i can get <code>Select * from employees where address2_id = ''</code> like this in inspector block i can check with regex and replace = '' with is null.</p>\n<p>Can anyone pls suggest if this is possible?</p>\n<p>NOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676441888,"post_id":75455848,"comment_id":133135290,"body_markdown":"How is the `Authorization` header defined in your code? It must be defined as a [security scheme](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations), not a header parameter.","body":"How is the <code>Authorization</code> header defined in your code? It must be defined as a <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\">security scheme</a>, not a header parameter."},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1676443512,"post_id":75455848,"comment_id":133135563,"body_markdown":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working.","body":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working."}],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676439359,"creation_date":1676439359,"question_id":75455848,"body_markdown":"iam trying to test api using swagger UI. but **Authorization** request header is not getting added to request headers. But correlationId is getting added. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W97lv.png\r\n  [2]: https://i.stack.imgur.com/AbPTN.png","title":"openapi swagger ui not passing Authorization in request headers","body":"<p>iam trying to test api using swagger UI. but <strong>Authorization</strong> request header is not getting added to request headers. But correlationId is getting added.</p>\n<p><a href=\"https://i.stack.imgur.com/W97lv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W97lv.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AbPTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AbPTN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","jira","python-jira"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":1,"creation_date":1669039900,"post_id":74519435,"comment_id":131545858,"body_markdown":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration","body":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. <a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration\" rel=\"nofollow noreferrer\">aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/&hellip;</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669040545,"post_id":74519435,"comment_id":131546121,"body_markdown":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira.","body":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669040974,"post_id":74519435,"comment_id":131546281,"body_markdown":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/","body":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669041126,"post_id":74519435,"comment_id":131546343,"body_markdown":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command.","body":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669041661,"post_id":74519435,"comment_id":131546526,"body_markdown":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;","body":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;"}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676438127,"creation_date":1676438127,"answer_id":75455719,"question_id":74519435,"body_markdown":"AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:\r\n\r\n1. Generate an AIO Tests API Key[ \\[Ref\\]][1].  This would authenticate you to AIO Tests in Jira.\r\n\r\n2. You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the [AIO Tests Jenkins][2] plugin as a post build step to report results.\r\n\r\n2. If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ [AIO Tests Swagger documentation.][3]\r\n\r\n\r\n\r\n  [1]: https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\r\n  [2]: https://plugins.jenkins.io/aio-tests/\r\n  [3]: https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:</p>\n<ol>\n<li><p>Generate an AIO Tests API Key<a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\" rel=\"nofollow noreferrer\"> [Ref]</a>.  This would authenticate you to AIO Tests in Jira.</p>\n</li>\n<li><p>You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the <a href=\"https://plugins.jenkins.io/aio-tests/\" rel=\"nofollow noreferrer\">AIO Tests Jenkins</a> plugin as a post build step to report results.</p>\n</li>\n<li><p>If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ <a href=\"https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/\" rel=\"nofollow noreferrer\">AIO Tests Swagger documentation.</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676438127,"creation_date":1669035947,"question_id":74519435,"body_markdown":"I am searching and i don&#39;t know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ScD6g.png\r\n\r\n\r\nI have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.\r\n\r\nIs there any way to achieve that? Have you ever done something like that?\r\n\r\n","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>I am searching and i don't know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:</p>\n<p><a href=\"https://i.stack.imgur.com/ScD6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ScD6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.</p>\n<p>Is there any way to achieve that? Have you ever done something like that?</p>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform"],"comments":[{"owner":{"account_id":4399745,"reputation":73438,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667169,"post_id":75455697,"comment_id":133190786,"body_markdown":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(`actual typealias URL = java.net.URL`) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions.","body":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(<code>actual typealias URL = java.net.URL</code>) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions."},{"owner":{"account_id":4399745,"reputation":73438,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667258,"post_id":75455697,"comment_id":133190803,"body_markdown":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself.","body":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself."}],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676437805,"creation_date":1676437805,"question_id":75455697,"body_markdown":"I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?","title":"If a kotlin script in KMM uses Java classes, will it work for multiple platforms?","body":"<p>I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676435856,"post_id":75455517,"comment_id":133134477,"body_markdown":"I think the `mDataList` value is getting updated based on the last call of `addValueEventListener`","body":"I think the <code>mDataList</code> value is getting updated based on the last call of <code>addValueEventListener</code>"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676436097,"post_id":75455517,"comment_id":133134517,"body_markdown":"but what to do to read at once both data in recyclerview....any idea ????","body":"but what to do to read at once both data in recyclerview....any idea ????"},{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676437188,"post_id":75455517,"comment_id":133134669,"body_markdown":"You can try declaring `dataModel` right below `mDataList.clear();`.  \n\nRight now your `dataModel` is declared twice in both `addValueEventListener` which is leading to this issue. \nWhat you can try is declaring `question_profile_read_data dataModel` below `mDataList.clear();` and in `addValueEventListener` use `dataModel=childSnapshot.getValue(question_profile_read_data.class)`;\n\nI hope this helps!!!","body":"You can try declaring <code>dataModel</code> right below <code>mDataList.clear();</code>.    Right now your <code>dataModel</code> is declared twice in both <code>addValueEventListener</code> which is leading to this issue.  What you can try is declaring <code>question_profile_read_data dataModel</code> below <code>mDataList.clear();</code> and in <code>addValueEventListener</code> use <code>dataModel=childSnapshot.getValue(question_profile_read_data.&zwnj;&#8203;class)</code>;  I hope this helps!!!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676445378,"post_id":75455517,"comment_id":133135895,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data) and indicate the exact data you want to read.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a> and indicate the exact data you want to read."},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676445801,"post_id":75455517,"comment_id":133135979,"body_markdown":"i tried but it didn&#39;t work.","body":"i tried but it didn&#39;t work."}],"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676436695,"creation_date":1676435387,"question_id":75455517,"body_markdown":"How to read data from two different firebase database parent node in a recyclerview.\r\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.\r\n\r\n\r\n```\r\n// Load data from Firebase into mDataList\r\nprivate void loadDataFromFirebase() {\r\n\r\n    mDataList.clear();\r\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\r\n//                System.out.println(id);\r\n\r\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n\r\n    System.out.println(scholarid);\r\n\r\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n\r\n                System.out.println(scholarid);\r\n//            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.\r\n\r\n","title":"How to read data from two parent nodes in firebase in recyclerview android","body":"<p>How to read data from two different firebase database parent node in a recyclerview.\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.</p>\n<pre><code>// Load data from Firebase into mDataList\nprivate void loadDataFromFirebase() {\n\n    mDataList.clear();\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\n//                System.out.println(id);\n\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n\n    System.out.println(scholarid);\n\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n\n                System.out.println(scholarid);\n//            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n}\n</code></pre>\n<p>I used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676476530,"post_id":75455591,"comment_id":133145280,"body_markdown":"I did that and the error stopped appearing in the console, but I still get a bad request in my postman","body":"I did that and the error stopped appearing in the console, but I still get a bad request in my postman"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676483991,"post_id":75455591,"comment_id":133147697,"body_markdown":"If you receive 400, but no stack trace in std out, then your exception handled by http servlet container. Put the break point on the second line of your `saveOrder` method an use &#39;step into&#39; feature in your IDE to see the trace of calls and notice the line where execution proceeds to exception handler","body":"If you receive 400, but no stack trace in std out, then your exception handled by http servlet container. Put the break point on the second line of your <code>saveOrder</code> method an use &#39;step into&#39; feature in your IDE to see the trace of calls and notice the line where execution proceeds to exception handler"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676484392,"post_id":75455591,"comment_id":133147795,"body_markdown":"A question that maybe you can help me with... If you see my post method in a controller, you&#39;ll notice  &quot;orderModel.setPrice(70.8f);&quot;. I am sending an already established price for this column in my database, but I would like to send this directly from the body sent by my user without the dto. Can you tell me how I can do this in this syntax?","body":"A question that maybe you can help me with... If you see my post method in a controller, you&#39;ll notice  &quot;orderModel.setPrice(70.8f);&quot;. I am sending an already established price for this column in my database, but I would like to send this directly from the body sent by my user without the dto. Can you tell me how I can do this in this syntax?"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676484848,"post_id":75455591,"comment_id":133147928,"body_markdown":"Doesn&#39;t `BeanUtils.copyProperties` do this?","body":"Doesn&#39;t <code>BeanUtils.copyProperties</code> do this?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676485521,"post_id":75455591,"comment_id":133148123,"body_markdown":"BeanUtils.copyProperties does this with blanks that are in dto, my price is not, so I would like to set this directly in my controlle as I am doing, but instead of sending a value, I receive the user&#39;s value","body":"BeanUtils.copyProperties does this with blanks that are in dto, my price is not, so I would like to set this directly in my controlle as I am doing, but instead of sending a value, I receive the user&#39;s value"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676488713,"post_id":75455591,"comment_id":133149085,"body_markdown":"If you want to get the price from client side and don&#39;t want for some reason put it inside request body, another viable option would be to use @RequestParam","body":"If you want to get the price from client side and don&#39;t want for some reason put it inside request body, another viable option would be to use @RequestParam"}],"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676436382,"creation_date":1676436382,"answer_id":75455591,"question_id":75454633,"body_markdown":"Stack trace says that you have a problem in generated sql script at pos. 169. `order` is a keyword in sql, don&#39;t use it as a property name. Meanwhile, your table can have name `orders` without any problem","title":"Error executing DDL postgres Java spring boot API","body":"<p>Stack trace says that you have a problem in generated sql script at pos. 169. <code>order</code> is a keyword in sql, don't use it as a property name. Meanwhile, your table can have name <code>orders</code> without any problem</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455591,"answer_count":1,"score":0,"last_activity_date":1676436382,"creation_date":1676423021,"question_id":75454633,"body_markdown":"I&#39;m developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\r\n  Position: 169\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\t... 36 common frames omitted\r\n\r\n```\r\n\r\nI saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem\r\n\r\n\r\nmodel\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;restaurant_orders&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(nullable = true, length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String order;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\ncontroller\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        orderModel.setPrice(70.8f);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```","title":"Error executing DDL postgres Java spring boot API","body":"<p>I'm developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\n  Position: 169\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    ... 36 common frames omitted\n\n</code></pre>\n<p>I saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem</p>\n<p>model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;restaurant_orders&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(nullable = true, length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String order;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        orderModel.setPrice(70.8f);\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rbac"],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676436322,"creation_date":1676436322,"question_id":75455588,"body_markdown":"Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my `application.yml` like this which I store in cloud config server\r\n\r\n```json\r\nrbac:\r\n  - endpoint: /api/v1/user\r\n    permissions: read-user, write-user\r\n  - endpoint: /api/v1/admin\r\n    permissions: read-admin, write-admin\r\n```\r\n\r\nIn my `SecurityConfig` class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated. \r\n\r\nBut now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?\r\n","title":"Spring boot dynamically updated the RBAC config for specific methods","body":"<p>Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my <code>application.yml</code> like this which I store in cloud config server</p>\n<pre class=\"lang-json prettyprint-override\"><code>rbac:\n  - endpoint: /api/v1/user\n    permissions: read-user, write-user\n  - endpoint: /api/v1/admin\n    permissions: read-admin, write-admin\n</code></pre>\n<p>In my <code>SecurityConfig</code> class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated.</p>\n<p>But now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?</p>\n"},{"tags":["java","multipartform-data","java-11","multipartfile"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762066,"post_id":75371278,"comment_id":132993378,"body_markdown":"Does [this](https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot) help?","body":"Does <a href=\"https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot\">this</a> help?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762258,"post_id":75371278,"comment_id":132993438,"body_markdown":"No, its using spring but we don&#39;t want to use any framework.","body":"No, its using spring but we don&#39;t want to use any framework."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762525,"post_id":75371278,"comment_id":132993528,"body_markdown":"Could you improve your question? The &quot;using java11 **with** spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;.","body":"Could you improve your question? The &quot;using java11 <b>with</b> spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;."},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762798,"post_id":75371278,"comment_id":132993607,"body_markdown":"Thank you, just edited. I want the ans wothout spring.","body":"Thank you, just edited. I want the ans wothout spring."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762863,"post_id":75371278,"comment_id":132993624,"body_markdown":"Thanks for the edit. So you want to create a Java-App, which **accepts** `multipart/form-data`? Are you using jakarta/javax by any chance?","body":"Thanks for the edit. So you want to create a Java-App, which <b>accepts</b> <code>multipart&#47;form-data</code>? Are you using jakarta/javax by any chance?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763105,"post_id":75371278,"comment_id":132993711,"body_markdown":"javax yes we are using","body":"javax yes we are using"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763212,"post_id":75371278,"comment_id":132993749,"body_markdown":"not the upload part just how to grab the multipart file from the restapi","body":"not the upload part just how to grab the multipart file from the restapi"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763320,"post_id":75371278,"comment_id":132993790,"body_markdown":"Are you developing an application with servlets?","body":"Are you developing an application with servlets?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763565,"post_id":75371278,"comment_id":132993881,"body_markdown":"application is serverless. using aws lambda","body":"application is serverless. using aws lambda"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763583,"post_id":75371278,"comment_id":132993885,"body_markdown":"Can you show the relevant code?","body":"Can you show the relevant code?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763861,"post_id":75371278,"comment_id":132993982,"body_markdown":"You might want to take a look at [this](https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java) and [that](https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java).","body":"You might want to take a look at <a href=\"https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java\">that</a>."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1675764030,"post_id":75371278,"comment_id":132994030,"body_markdown":"@Shivam so you ARE using libraries, you said you don&#39;t want to...","body":"@Shivam so you ARE using libraries, you said you don&#39;t want to..."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675764237,"post_id":75371278,"comment_id":132994110,"body_markdown":"Are you allowed to use jax-rs and jersey (glassfish) libraries?","body":"Are you allowed to use jax-rs and jersey (glassfish) libraries?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675764294,"post_id":75371278,"comment_id":132994123,"body_markdown":"Can use library but not from spring.","body":"Can use library but not from spring."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675764399,"post_id":75371278,"comment_id":132994148,"body_markdown":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?","body":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675794857,"post_id":75371278,"comment_id":133004279,"body_markdown":"The JavaMail library, part of standard Java EE, includes a [MimeMultipart](https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html) class.","body":"The JavaMail library, part of standard Java EE, includes a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html\" rel=\"nofollow noreferrer\">MimeMultipart</a> class."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675860658,"post_id":75371278,"comment_id":133018019,"body_markdown":"Can you possibly add serverless to the title somewhere?","body":"Can you possibly add serverless to the title somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763986,"creation_date":1675763986,"answer_id":75371708,"question_id":75371278,"body_markdown":"So you don&#39;t want to use ANY libraries?\r\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.\r\n\r\nI seriously doubt you want to do that (though it&#39;s an interesting exercise if you have the time and skill).\r\n\r\nBut if you insist, the HTTP RFC is where you want to start.","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>So you don't want to use ANY libraries?\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.</p>\n<p>I seriously doubt you want to do that (though it's an interesting exercise if you have the time and skill).</p>\n<p>But if you insist, the HTTP RFC is where you want to start.</p>\n"},{"comments":[{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1676367611,"post_id":75385369,"comment_id":133118130,"body_markdown":"Thank you very much. It worked for me. It take some time to figure out how to do it in my code.","body":"Thank you very much. It worked for me. It take some time to figure out how to do it in my code."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676368671,"post_id":75385369,"comment_id":133118456,"body_markdown":"My pleasure. Can you please put serverless in the question title somewhere.","body":"My pleasure. Can you please put serverless in the question title somewhere."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675860497,"creation_date":1675856857,"answer_id":75385369,"question_id":75371278,"body_markdown":"Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.\r\n\r\nTo get this to work for multipart form you need to [define multipart/form-data as a binary media type for your API][1] and proxy the payload directly to a Lambda function.\r\n\r\nThis is how you [implement the Lambda in Java][2] to consume the resulting payload.\r\n\r\nNo Spring in sight. Just apache commons and aws stuff.\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\r\n  [2]: https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.</p>\n<p>To get this to work for multipart form you need to <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\" rel=\"nofollow noreferrer\">define multipart/form-data as a binary media type for your API</a> and proxy the payload directly to a Lambda function.</p>\n<p>This is how you <a href=\"https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e\" rel=\"nofollow noreferrer\">implement the Lambda in Java</a> to consume the resulting payload.</p>\n<p>No Spring in sight. Just apache commons and aws stuff.</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75385369,"answer_count":2,"score":1,"last_activity_date":1676435646,"creation_date":1675761984,"question_id":75371278,"body_markdown":"I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. &lt;br/&gt;\r\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.\r\n","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. <br/>\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.</p>\n"},{"tags":["java","maven","unit-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1471415070,"post_id":38989221,"comment_id":65331013,"body_markdown":"Do you tried to remove the executions part?","body":"Do you tried to remove the executions part?"},{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1471416268,"post_id":38989221,"comment_id":65331612,"body_markdown":"Please add (trimmed) the output of `mvn clean install`, especially the lines starting with `[INFO] --- maven-surefire-plugin` - that should help track when and how many times the plugin is executed.","body":"Please add (trimmed) the output of <code>mvn clean install</code>, especially the lines starting with <code>[INFO] --- maven-surefire-plugin</code> - that should help track when and how many times the plugin is executed."},{"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":0,"creation_date":1471417165,"post_id":38989221,"comment_id":65332105,"body_markdown":"It only runs once, do you have other plugins?","body":"It only runs once, do you have other plugins?"},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466013,"post_id":38989221,"comment_id":65363239,"body_markdown":"@Zelldon Yes I tried removing the execution part, still calling it twice.","body":"@Zelldon Yes I tried removing the execution part, still calling it twice."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466169,"post_id":38989221,"comment_id":65363307,"body_markdown":"@ravthiru The only other plugin is `maven-surefire-report-plugin`. You can see the full maven &lt;build&gt; above.","body":"@ravthiru The only other plugin is <code>maven-surefire-report-plugin</code>. You can see the full maven &lt;build&gt; above."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466646,"post_id":38989221,"comment_id":65363520,"body_markdown":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks.","body":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks."},{"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"score":0,"creation_date":1471482861,"post_id":38989221,"comment_id":65368704,"body_markdown":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked","body":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked"}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1471420031,"post_id":38990295,"comment_id":65333709,"body_markdown":"This is correct, cause maven-surefire-plugin is by default already bound to the life cycle. Best is to give configuration via pluginManagement instead of in build..","body":"This is correct, cause maven-surefire-plugin is by default already bound to the life cycle. Best is to give configuration via pluginManagement instead of in build.."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466111,"post_id":38990295,"comment_id":65363278,"body_markdown":"@Rocherlee Tried that, didn&#39;t work either. Still calling TESTS twice.","body":"@Rocherlee Tried that, didn&#39;t work either. Still calling TESTS twice."},{"owner":{"account_id":7943244,"reputation":448,"user_id":5996527,"display_name":"mbruns42"},"score":3,"creation_date":1534925505,"post_id":38990295,"comment_id":90875049,"body_markdown":"@DhafirNz Did you ever find the solution?","body":"@DhafirNz Did you ever find the solution?"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":2,"creation_date":1545304818,"post_id":38990295,"comment_id":94582406,"body_markdown":"A good way of finding out what is going on is to use: mvn help:effective-pom","body":"A good way of finding out what is going on is to use: mvn help:effective-pom"}],"tags":[],"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471419301,"creation_date":1471418012,"answer_id":38990295,"question_id":38989221,"body_markdown":"I think the `&lt;execution&gt;` in your `pom.xml` causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.\r\n\r\nSince `maven-surefire-plugin` is a plugin used by default in Maven for test phase, you only need to provide the `&lt;configuration&gt;` part outside of `&lt;execution&gt;`. Modify your `pom.xml` as below\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;parallel&gt;classes&lt;/parallel&gt;\r\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I think the <code>&lt;execution&gt;</code> in your <code>pom.xml</code> causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.</p>\n\n<p>Since <code>maven-surefire-plugin</code> is a plugin used by default in Maven for test phase, you only need to provide the <code>&lt;configuration&gt;</code> part outside of <code>&lt;execution&gt;</code>. Modify your <code>pom.xml</code> as below</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;parallel&gt;classes&lt;/parallel&gt;\n        &lt;threadCount&gt;3&lt;/threadCount&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386748,"reputation":23,"user_id":4290381,"display_name":"Ankit Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607473073,"creation_date":1607473073,"answer_id":65208886,"question_id":38989221,"body_markdown":"If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:\r\n        \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850083,"creation_date":1654850083,"answer_id":72571338,"question_id":38989221,"body_markdown":"In my case, I found that:  \r\nbecause of using `rerunFailingTestsCount` of `maven-surefire-plugin`, so in case of there is a failed test, it will be run again.\r\n\r\nBy the way:  \r\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            ...\r\n            &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\r\n            &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>In my case, I found that:<br />\nbecause of using <code>rerunFailingTestsCount</code> of <code>maven-surefire-plugin</code>, so in case of there is a failed test, it will be run again.</p>\n<p>By the way:<br />\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        ...\n        &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\n        &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27789515,"reputation":1,"user_id":21216230,"display_name":"Jek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676435584,"creation_date":1676435584,"answer_id":75455531,"question_id":38989221,"body_markdown":"I was able to do it by only running mvn surefire-report:report -DskipTests.\r\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.\r\n","title":"How can I stop maven from running TEST twice?","body":"<p>I was able to do it by only running mvn surefire-report:report -DskipTests.\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.</p>\n"}],"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13466,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1676435584,"creation_date":1471414207,"question_id":38989221,"body_markdown":"I have a big project with around 5000 test cases. When running `mvn clean install` it will run the `test` goal twice (one as part of the install and the second time as part of the `surefire` plugin).\r\n\r\nWhy it needs to run the `test` for the second time? And is there away to force `surefire` to use the `test` goal results instead of re-invoking it&#39;s own?\r\nI see it as a waste of time and machine resource, especially recently the second round of running the `test` caused a `PermGen` build error and no matter how much heap I pump into maven runner it still dies in the second testing round.\r\n\r\nThis is my surefire pluging configuration:\r\n\r\n     &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n             &lt;id&gt;default-test&lt;/id&gt;\r\n             &lt;phase&gt;test&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                 &lt;goal&gt;test&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n             &lt;configuration&gt;\r\n                &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs there a way to tweak the plugin to better handle machine resources?\r\n\r\nHere is the full default maven profile &lt;build&gt; which gets executed:\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t&lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\r\n    \t\t\t\t\t\t&lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\r\n    \t\t\t\t\t\t&lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\r\n    \t\t\t\t\t\t&lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\r\n    \t\t\t\t\t\t&lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\r\n    \t\t\t\t\t\t&lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\r\n    \t\t\t\t\t\t&lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\r\n    \t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;warName&gt;pss&lt;/warName&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;lint&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\r\n    \t\t\t\t&lt;directories&gt;\r\n    \t\t\t\t\t&lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\r\n    \t\t\t\t&lt;/directories&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.lesscss&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;bingleless&lt;/id&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\r\n    \t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t&lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t&lt;compress&gt;true&lt;/compress&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compress&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/generated/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;nosuffix&gt;true&lt;/nosuffix&gt;\r\n    \t\t\t\t&lt;jswarn&gt;false&lt;/jswarn&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n    \t\t\t\t&lt;threadCount&gt;3&lt;/threadCount&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;report-only&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I have a big project with around 5000 test cases. When running <code>mvn clean install</code> it will run the <code>test</code> goal twice (one as part of the install and the second time as part of the <code>surefire</code> plugin).</p>\n\n<p>Why it needs to run the <code>test</code> for the second time? And is there away to force <code>surefire</code> to use the <code>test</code> goal results instead of re-invoking it's own?\nI see it as a waste of time and machine resource, especially recently the second round of running the <code>test</code> caused a <code>PermGen</code> build error and no matter how much heap I pump into maven runner it still dies in the second testing round.</p>\n\n<p>This is my surefire pluging configuration:</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n         &lt;id&gt;default-test&lt;/id&gt;\n         &lt;phase&gt;test&lt;/phase&gt;\n         &lt;goals&gt;\n             &lt;goal&gt;test&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;parallel&gt;classes&lt;/parallel&gt;\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is there a way to tweak the plugin to better handle machine resources?</p>\n\n<p>Here is the full default maven profile  which gets executed:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\n                        &lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\n                        &lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\n                        &lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\n                        &lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\n                        &lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\n                        &lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;warName&gt;pss&lt;/warName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;lint&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\n                &lt;directories&gt;\n                    &lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\n                &lt;/directories&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.lesscss&lt;/groupId&gt;\n            &lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;bingleless&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;compress&gt;true&lt;/compress&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compress&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\n                    &lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/generated/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;nosuffix&gt;true&lt;/nosuffix&gt;\n                &lt;jswarn&gt;false&lt;/jswarn&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;parallel&gt;classes&lt;/parallel&gt;\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","mvvm","android-xml","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":22415217,"reputation":185,"user_id":16623378,"display_name":"Quc H&#249;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676433904,"creation_date":1676433904,"answer_id":75455378,"question_id":37127567,"body_markdown":"For me, I solve the updating items of `RecyclerView` using `@BindingAdapter`:\r\n\r\nBuild base adapter:\r\n```kotlin\r\nabstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\r\n    abstract fun setItems(items: List&lt;Item&gt;)\r\n}\r\n\r\n\r\n@BindingAdapter(&quot;items&quot;)\r\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\r\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\r\n}\r\n```\r\n\r\nCall on binding:\r\n```xml\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layoutManager=&quot;@{layoutManager}&quot;\r\n            android:adapter=&quot;@{adapter}&quot;\r\n            items=&quot;@{viewModel.items}&quot;/&gt;\r\n```","title":"How do I use Android data binding to populate a list?","body":"<p>For me, I solve the updating items of <code>RecyclerView</code> using <code>@BindingAdapter</code>:</p>\n<p>Build base adapter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\n    abstract fun setItems(items: List&lt;Item&gt;)\n}\n\n\n@BindingAdapter(&quot;items&quot;)\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\n}\n</code></pre>\n<p>Call on binding:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layoutManager=&quot;@{layoutManager}&quot;\n            android:adapter=&quot;@{adapter}&quot;\n            items=&quot;@{viewModel.items}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":1512052,"reputation":907,"user_id":1413900,"accept_rate":61,"display_name":"Travis Well"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1676433904,"creation_date":1462841099,"question_id":37127567,"body_markdown":"I can get POJOs out of my ORM (Cupboard), but I can&#39;t figure out how to write the xml to bind to such a list. All the examples are singular except for [a very brief mention of using them inside a ListView or RecyclerView][1]. So I&#39;ve tried having a singular binding in an xml file that I &quot;inflate&quot; again for each item. That code follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void listThings() {\r\n  \r\n      LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\r\n      gList.removeAllViews();\r\n  \r\n      SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\r\n      DatabaseCompartment dbc = cupboard().withDatabase(db);\r\n  \r\n      QueryResultIterable&lt;Thing&gt; itr = null;\r\n      try {\r\n        itr = dbc.query(Thing.class).query();\r\n  \r\n        for (Thing thing : itr) {\r\n          // use data binding to create a UI widget for each\r\n          LayoutInflater inflater = (LayoutInflater) getBaseContext()\r\n              .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n          ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\r\n              R.layout.thing_document_label, gList, false);\r\n          binding.setThing(thing);\r\n          // \r\n          gList.addView(binding.getRoot());\r\n        }\r\n      } finally {\r\n        // close the cursor\r\n        if (itr != null)\r\n          itr.close();\r\n      }\r\n    }\r\n\r\nI am aware that this uses a LinearLayout not a ListView or RecyclerView. What&#39;s the difference? I couldn&#39;t get anything at all to show up in a ListView. ListView also doesn&#39;t seem to support clearing the list with removeAllViews.\r\nAnd here is the XML for the file thing_document_label.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n      &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;thing&quot;\r\n            type=&quot;com.example.Thing&quot;/&gt;\r\n      &lt;/data&gt;\r\n    \r\n      &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:paddingBottom=&quot;20dp&quot;\r\n                android:paddingTop=&quot;20dp&quot;\r\n                android:text=&quot;@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}&quot;\r\n          &gt;\r\n    \r\n      &lt;/TextView&gt;\r\n    &lt;/layout&gt;\r\n\r\nWhat I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I&#39;m in the beginning stages of this app and I want to standardize on data-binding if possible.\r\n\r\n\r\n  [1]: https://developer.android.com/tools/data-binding/guide.html#binding_data","title":"How do I use Android data binding to populate a list?","body":"<p>I can get POJOs out of my ORM (Cupboard), but I can't figure out how to write the xml to bind to such a list. All the examples are singular except for <a href=\"https://developer.android.com/tools/data-binding/guide.html#binding_data\" rel=\"nofollow\">a very brief mention of using them inside a ListView or RecyclerView</a>. So I've tried having a singular binding in an xml file that I \"inflate\" again for each item. That code follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void listThings() {\n\n  LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\n  gList.removeAllViews();\n\n  SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\n  DatabaseCompartment dbc = cupboard().withDatabase(db);\n\n  QueryResultIterable&lt;Thing&gt; itr = null;\n  try {\n    itr = dbc.query(Thing.class).query();\n\n    for (Thing thing : itr) {\n      // use data binding to create a UI widget for each\n      LayoutInflater inflater = (LayoutInflater) getBaseContext()\n          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n      ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\n          R.layout.thing_document_label, gList, false);\n      binding.setThing(thing);\n      // \n      gList.addView(binding.getRoot());\n    }\n  } finally {\n    // close the cursor\n    if (itr != null)\n      itr.close();\n  }\n}\n</code></pre>\n\n<p>I am aware that this uses a LinearLayout not a ListView or RecyclerView. What's the difference? I couldn't get anything at all to show up in a ListView. ListView also doesn't seem to support clearing the list with removeAllViews.\nAnd here is the XML for the file thing_document_label.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;data&gt;\n    &lt;variable\n        name=\"thing\"\n        type=\"com.example.Thing\"/&gt;\n  &lt;/data&gt;\n\n  &lt;TextView android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:paddingBottom=\"20dp\"\n            android:paddingTop=\"20dp\"\n            android:text=\"@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}\"\n      &gt;\n\n  &lt;/TextView&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>What I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I'm in the beginning stages of this app and I want to standardize on data-binding if possible.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676433271,"creation_date":1676433271,"question_id":75455340,"body_markdown":"I am trying to map a JsonNode to a 3rd-party object using Jackson&#39;s ObjectMapper. The target class is `HikariConfig.class` and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).\r\n\r\nThe JsonNode is flat structured and looks like this:\r\n```json\r\n{\r\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\r\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\r\n  &quot;username&quot;: &quot;sa&quot;,\r\n}\r\n```\r\n\r\nSince unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\nprivate static abstract class HikariConfigMixin {\r\n\r\n    @JsonIgnore private static char[] ID_CHARACTERS;\r\n    @JsonIgnore private DataSource dataSource;\r\n    @JsonIgnore private Properties dataSourceProperties;\r\n    @JsonIgnore private ThreadFactory threadFactory;\r\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\r\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\r\n    @JsonIgnore private Object metricRegistry;\r\n    @JsonIgnore private Object healthCheckRegistry;\r\n    @JsonIgnore private Properties healthCheckProperties;\r\n}\r\n\r\n```\r\n\r\nAnd here now the usage of the ObjectMapper:\r\n```java\r\nHikariConfig config = new ObjectMapper()\r\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\r\n        .readerFor(HikariConfig.class)\r\n        .readValue(jsonNode);\r\n```\r\n\r\nUnfortunately this will throw the following error:\r\n```error\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n```\r\n\r\nHere the complete stack strace:\r\n```error\r\n2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:162)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\r\n\tat org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\r\n\tat org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n\tat com.example.Application.main(Application.java:16)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\t... 23 more\r\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\r\n\tat com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\r\n\t... 35 more\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\r\n\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\r\n\t... 36 more\r\n```\r\nBy the way, the exact same error is thrown even if no Mixin is applied.\r\n\r\n&lt;h2&gt;My question:&lt;/h2&gt;\r\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\r\n\r\n&lt;p&gt;&lt;br/&gt;\r\n&lt;b&gt;Many thanks for any help&lt;/b&gt;\r\n","title":"How to resolve Jackson Databind InvalidDefinitionException: Invalid type definition for type (Illegal type to deserialize)?","body":"<p>I am trying to map a JsonNode to a 3rd-party object using Jackson's ObjectMapper. The target class is <code>HikariConfig.class</code> and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).</p>\n<p>The JsonNode is flat structured and looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\n  &quot;username&quot;: &quot;sa&quot;,\n}\n</code></pre>\n<p>Since unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\nprivate static abstract class HikariConfigMixin {\n\n    @JsonIgnore private static char[] ID_CHARACTERS;\n    @JsonIgnore private DataSource dataSource;\n    @JsonIgnore private Properties dataSourceProperties;\n    @JsonIgnore private ThreadFactory threadFactory;\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\n    @JsonIgnore private Object metricRegistry;\n    @JsonIgnore private Object healthCheckRegistry;\n    @JsonIgnore private Properties healthCheckProperties;\n}\n\n</code></pre>\n<p>And here now the usage of the ObjectMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new ObjectMapper()\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\n        .readerFor(HikariConfig.class)\n        .readValue(jsonNode);\n</code></pre>\n<p>Unfortunately this will throw the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n</code></pre>\n<p>Here the complete stack strace:</p>\n<pre><code>2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:162)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\n    at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\n    at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.example.Application.main(Application.java:16)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    ... 23 more\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\n    at com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\n    ... 35 more\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\n    at com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\n    at com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\n    ... 36 more\n</code></pre>\n<p>By the way, the exact same error is thrown even if no Mixin is applied.</p>\n<h2>My question:</h2>\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\n<p><br/>\n<b>Many thanks for any help</b>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676432989,"creation_date":1676432989,"answer_id":75455317,"question_id":75435470,"body_markdown":"My problem is solved. In response to this problem, I was inspired by the following link:[Gradle Plugins Offline Resolution][1]\r\n\r\n\r\nIn this answer from the gradle community, I learned how gradle parses plugins: `${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}`.\r\nSo I changed the plugins in the plugins directory to the corresponding format.\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nBut then I ran into a new problem when I executed`gradlew --offline bootJar` with the error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\norg/springframework/boot/loader/tools/MainClassFinder\r\n&gt; org.springframework.boot.loader.tools.MainClassFinder\r\n```\r\nSo I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the `buildscript {...} block`\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nNow it works on my Mac.\r\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the `.m2` file from my mac, and finally built and ran successfully.\r\n\r\nSo to summarize, there are two problems: \r\n1. plugins directory plug-in name and gradle for the resolution of the plug-in name does not match\r\n2. in addition to the plugins specified in buildscript{}, the plugins&#39; related dependencies (there may be many) also need to be found in the environment.\r\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>My problem is solved. In response to this problem, I was inspired by the following link:<a href=\"https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161\" rel=\"nofollow noreferrer\">Gradle Plugins Offline Resolution</a></p>\n<p>In this answer from the gradle community, I learned how gradle parses plugins: <code>${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}</code>.\nSo I changed the plugins in the plugins directory to the corresponding format.</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>But then I ran into a new problem when I executed<code>gradlew --offline bootJar</code> with the error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\norg/springframework/boot/loader/tools/MainClassFinder\n&gt; org.springframework.boot.loader.tools.MainClassFinder\n</code></pre>\n<p>So I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the <code>buildscript {...} block</code></p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>Now it works on my Mac.\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the <code>.m2</code> file from my mac, and finally built and ran successfully.</p>\n<p>So to summarize, there are two problems:</p>\n<ol>\n<li>plugins directory plug-in name and gradle for the resolution of the plug-in name does not match</li>\n<li>in addition to the plugins specified in buildscript{}, the plugins' related dependencies (there may be many) also need to be found in the environment.\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...</li>\n</ol>\n"}],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676432989,"creation_date":1676288869,"question_id":75435470,"body_markdown":"I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project&#39;s But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.\r\n\r\nThe project directory is as follows:\r\n\r\n    projectRoot\r\n     build.gradle\r\n     gradle\r\n    &#160;&#160;  wrapper\r\n     gradlew\r\n     gradlew.bat\r\n     libs\r\n    &#160;&#160;  xxx.jar\r\n     plugins\r\n    &#160;&#160;  dependency-management-plugin-1.0.11.RELEASE.jar\r\n    &#160;&#160;  spring-boot-gradle-plugin-2.2.0.RELEASE.jar\r\n     resource\r\n     settings.gradle\r\n     src\r\n         main\r\n         test\r\n\r\n\r\nAnd the settings.gradle file is as follows:\r\n```\r\npluginManagement {\r\n    repositories {\r\n        mavenLocal()\r\n        flatDir { dirs &#39;plugins&#39; }\r\n    }\r\n\r\n}\r\nrootProject.name = &#39;example&#39;\r\n```\r\n\r\nAnd the build.gradle file is as follows:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.2.0.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;1.0.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n}\r\n\r\ndependencies {\r\n    implementation files(&#39;libs/xxx.jar&#39;,&#39;libs/others_of_libs.jar&#39;)\r\n}\r\n```\r\n\r\nBut when I execute it via offline mode:`./gradlew build --offline `,I get the following error:\r\n```\r\nPlugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.2.0.RELEASE&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&#39;)\r\n  Searched in the following repositories:\r\n    maven(file:/User/myName/example/plugins/)\r\n```\r\nHow exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?\r\n\r\n\r\nI have found many ways to compile specified plugins offline on the web, including this:\r\n\r\n```\r\n    buildscript {\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url(&#39;plugins&#39;) }\r\n    }\r\n\r\n    dependencies {\r\n        classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;plugins&#39;)\r\n        classpath files(&#39;plugins/dependency-management-plugin-1.0.11.RELEASE.jar&#39;)\r\n        classpath files(&#39;plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar&#39;)\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI still get the same error.","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project's But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.</p>\n<p>The project directory is as follows:</p>\n<pre><code>projectRoot\n build.gradle\n gradle\n  wrapper\n gradlew\n gradlew.bat\n libs\n  xxx.jar\n plugins\n  dependency-management-plugin-1.0.11.RELEASE.jar\n  spring-boot-gradle-plugin-2.2.0.RELEASE.jar\n resource\n settings.gradle\n src\n     main\n     test\n</code></pre>\n<p>And the settings.gradle file is as follows:</p>\n<pre><code>pluginManagement {\n    repositories {\n        mavenLocal()\n        flatDir { dirs 'plugins' }\n    }\n\n}\nrootProject.name = 'example'\n</code></pre>\n<p>And the build.gradle file is as follows:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.0.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '1.0.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenLocal()\n}\n\ndependencies {\n    implementation files('libs/xxx.jar','libs/others_of_libs.jar')\n}\n</code></pre>\n<p>But when I execute it via offline mode:<code>./gradlew build --offline </code>,I get the following error:</p>\n<pre><code>Plugin [id: 'org.springframework.boot', version: '2.2.0.RELEASE'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE')\n  Searched in the following repositories:\n    maven(file:/User/myName/example/plugins/)\n</code></pre>\n<p>How exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?</p>\n<p>I have found many ways to compile specified plugins offline on the web, including this:</p>\n<pre><code>    buildscript {\n\n    repositories {\n        mavenLocal()\n        maven { url('plugins') }\n    }\n\n    dependencies {\n        classpath fileTree(include: ['*.jar'], dir: 'plugins')\n        classpath files('plugins/dependency-management-plugin-1.0.11.RELEASE.jar')\n        classpath files('plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar')\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\n    }\n\n}\n</code></pre>\n<p>I still get the same error.</p>\n"},{"tags":["java","properties","ant","task","build.xml"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1676430111,"post_id":75455117,"comment_id":133133832,"body_markdown":"This is not clear.  `resultproperty` doesn&#39;t appear anywhere in the code you shared.","body":"This is not clear.  <code>resultproperty</code> doesn&#39;t appear anywhere in the code you shared."},{"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"score":0,"creation_date":1676452207,"post_id":75455117,"comment_id":133137528,"body_markdown":"@JimGarrison I mean `resultproperty` can get only 1 value so I don&#39;t use it in my code.","body":"@JimGarrison I mean <code>resultproperty</code> can get only 1 value so I don&#39;t use it in my code."}],"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431647,"creation_date":1676429730,"question_id":75455117,"body_markdown":"exampleClass.java\r\n```\r\nString key1 = &quot;my.test.key1&quot;;\r\nString value1 = &quot;my.test.value1&quot;;\r\nString key2 = &quot;my.test.key2&quot;;\r\nString value2 = &quot;my.test.value2&quot;;\r\n\r\nProperties systemProperties = System.getProperties();\r\nsystemProperties.put(key1, value1);\r\nsystemProperties.put(key2, value2);\r\nSystem.setProperties(systemProperties);\r\n```\r\n\r\nbuild.xml\r\n```\r\n  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\r\n    &lt;sequential&gt;\r\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\r\n        &lt;classpath&gt;\r\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\r\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\r\n        &lt;/classpath&gt;\r\n      &lt;/java&gt;\r\n    &lt;/sequential&gt;\r\n  &lt;/macrodef&gt;\r\n\r\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\r\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\r\n```\r\n\r\nHow can I get the value of both keys above?\r\nThe attribute &#39;resultproperty&#39; can get only 1 value at a time.","title":"How can get multi value from java class and use it as property in ant task (build.xml)","body":"<p>exampleClass.java</p>\n<pre><code>String key1 = &quot;my.test.key1&quot;;\nString value1 = &quot;my.test.value1&quot;;\nString key2 = &quot;my.test.key2&quot;;\nString value2 = &quot;my.test.value2&quot;;\n\nProperties systemProperties = System.getProperties();\nsystemProperties.put(key1, value1);\nsystemProperties.put(key2, value2);\nSystem.setProperties(systemProperties);\n</code></pre>\n<p>build.xml</p>\n<pre><code>  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\n    &lt;sequential&gt;\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\n        &lt;classpath&gt;\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\n          &lt;/fileset&gt;\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\n        &lt;/classpath&gt;\n      &lt;/java&gt;\n    &lt;/sequential&gt;\n  &lt;/macrodef&gt;\n\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\n</code></pre>\n<p>How can I get the value of both keys above?\nThe attribute 'resultproperty' can get only 1 value at a time.</p>\n"},{"tags":["java","selenium","testing","testng","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676431220,"creation_date":1676431220,"answer_id":75455210,"question_id":75404521,"body_markdown":"If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps. \r\n\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class StackTest {\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Object[][] returnData(){\r\n    \t\treturn new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;returnData&quot;)\r\n    \tpublic void iterativeTest(String val) {\r\n    \t\tSystem.out.println(&quot;This is from returned Data : &quot;+ val);\r\n    \t\tdp1(val);\r\n    \t\tdp2(val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp1(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp1 : &quot;+ val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp2(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp2 : &quot;+ val);\r\n    \t\tAssert.assertEquals(true, true);\r\n    \t}\r\n    }","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps.</p>\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\npublic class StackTest {\n    \n    @DataProvider\n    public Object[][] returnData(){\n        return new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\n    }\n    \n    @Test(dataProvider=&quot;returnData&quot;)\n    public void iterativeTest(String val) {\n        System.out.println(&quot;This is from returned Data : &quot;+ val);\n        dp1(val);\n        dp2(val);\n    }\n    \n    public void dp1(String val) {\n        System.out.println(&quot;Value from dp1 : &quot;+ val);\n    }\n    \n    public void dp2(String val) {\n        System.out.println(&quot;Value from dp2 : &quot;+ val);\n        Assert.assertEquals(true, true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24826914,"reputation":21,"user_id":18706576,"display_name":"Ben Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455210,"answer_count":1,"score":0,"last_activity_date":1676431220,"creation_date":1675977637,"question_id":75404521,"body_markdown":"I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example: \r\n\r\n&gt; URL 1 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\nURL 2 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\n&gt; \r\nInstead of how it is currently:\r\n&gt; URL 1:  \r\nTest 1: Pass   \r\nURL 2:  \r\nTest 1: Pass  \r\nURL 1:  \r\nTest 2: Fail  \r\nURL 2:  \r\nTest 2: Fail \r\netc.\r\n&gt; \r\nI&#39;m pulling the URLs from an excel sheet in my DataProvider like so: \r\n\r\n    @DataProvider\r\n    public Object[][] urlDataProvider() throws Exception {\r\n        File file = new File(&quot;ExampleClients.xlsx&quot;);\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n        XSSFSheet sheet = workbook.getSheet(&quot;URL&#39;s&quot;);\r\n\r\n        int rowCount = sheet.getLastRowNum();\r\n        Object[][] urlData = new Object[rowCount+1][1];\r\n\r\n        for (int i = 0; i &lt;= rowCount; i++) {\r\n            XSSFRow row = sheet.getRow(i);\r\n            XSSFCell cell = row.getCell(0);\r\n            String URL = cell.getStringCellValue();\r\n            urlData[i][0] = URL;\r\n        }\r\n        return urlData;\r\n    }\r\nI&#39;ve tried using a @Factory but am new to the whole QA/TestNG and am confused by it:\r\n\r\n    @Factory(dataProvider=&quot;urlDataProvider&quot;)\r\n    public CareFirstTests(String url) {\r\n        this.url = url;\r\n    }\r\nAll of my test methods, @Factory and @DataProvider are in the same java test file.\r\nWhen I try using the Factory I get this error\r\n\r\n&gt; Couldn&#39;t find a constructor in class\r\n&gt;\r\nI&#39;m also open to hearing any other ways how to accomplish something like this.\r\n ","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example:</p>\n<blockquote>\n<p>URL 1 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass<br />\nURL 2 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass</p>\n</blockquote>\n<p>Instead of how it is currently:</p>\n<blockquote>\n<p>URL 1:<br />\nTest 1: Pass<br />\nURL 2:<br />\nTest 1: Pass<br />\nURL 1:<br />\nTest 2: Fail<br />\nURL 2:<br />\nTest 2: Fail\netc.</p>\n</blockquote>\n<p>I'm pulling the URLs from an excel sheet in my DataProvider like so:</p>\n<pre><code>@DataProvider\npublic Object[][] urlDataProvider() throws Exception {\n    File file = new File(&quot;ExampleClients.xlsx&quot;);\n    FileInputStream inputStream = new FileInputStream(file);\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n    XSSFSheet sheet = workbook.getSheet(&quot;URL's&quot;);\n\n    int rowCount = sheet.getLastRowNum();\n    Object[][] urlData = new Object[rowCount+1][1];\n\n    for (int i = 0; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n        XSSFCell cell = row.getCell(0);\n        String URL = cell.getStringCellValue();\n        urlData[i][0] = URL;\n    }\n    return urlData;\n}\n</code></pre>\n<p>I've tried using a @Factory but am new to the whole QA/TestNG and am confused by it:</p>\n<pre><code>@Factory(dataProvider=&quot;urlDataProvider&quot;)\npublic CareFirstTests(String url) {\n    this.url = url;\n}\n</code></pre>\n<p>All of my test methods, @Factory and @DataProvider are in the same java test file.\nWhen I try using the Factory I get this error</p>\n<blockquote>\n<p>Couldn't find a constructor in class</p>\n</blockquote>\n<p>I'm also open to hearing any other ways how to accomplish something like this.</p>\n"},{"tags":["java","artifactory","artifactory-query-lang"],"owner":{"account_id":27789269,"reputation":1,"user_id":21216035,"display_name":"Meghdoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431156,"creation_date":1676431156,"question_id":75455204,"body_markdown":"I am trying to convert this query to java equivalent using AqlQueryBuilder().\r\n\r\nQuery to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/*&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;*.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}\r\n\r\nI am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement\r\n**********************\r\n\r\n```\r\n@Test\r\npublic void addNestedFilters() {\r\n  final String result = new AqlQueryBuilder()\r\n    .and(\r\n      or(\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\r\n      ),\r\n      or(\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\r\n      )\r\n    ).build();\r\n```\r\n\r\n    \r\n************************\r\n\r\ncan anyone help me with these nested condition in java, thanks in advance\r\n","title":"How to use nested (and) (or) in java equivalent artifactory query language","body":"<p>I am trying to convert this query to java equivalent using AqlQueryBuilder().</p>\n<p>Query to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/<em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/</em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/<em>&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;</em>.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}</p>\n<p>I am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement</p>\n<hr />\n<pre><code>@Test\npublic void addNestedFilters() {\n  final String result = new AqlQueryBuilder()\n    .and(\n      or(\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\n      ),\n      or(\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\n      )\n    ).build();\n</code></pre>\n<hr />\n<p>can anyone help me with these nested condition in java, thanks in advance</p>\n"},{"tags":["java","android","android-studio","androidx"],"owner":{"account_id":27298687,"reputation":1,"user_id":20815889,"display_name":"thelearn-tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676430301,"creation_date":1676430301,"question_id":75455150,"body_markdown":"I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.\r\n\r\n\r\nCompiledSdk 33\r\n\r\nbuoldTools 33.0.0\r\n\r\nMinSdkVersion 21\r\nmaxSdkVersion 33\r\n\r\nandroidX.appcompat:appcompat:1.5.1\r\n\r\n\r\njunit 4.12\r\nandroidX.test 1.1.4\r\nandroidX.test.espresso 3.5.0\r\n\r\n\r\nAndroid studio 4\r\nBuild 193.6911.18.40.6514223 May 20, 2020\r\n\r\n\r\nI have tried the latest version of Android studio for Linux but same result. Any help","title":"Android app crashes with out error with AndroidX library","body":"<p>I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.</p>\n<p>CompiledSdk 33</p>\n<p>buoldTools 33.0.0</p>\n<p>MinSdkVersion 21\nmaxSdkVersion 33</p>\n<p>androidX.appcompat:appcompat:1.5.1</p>\n<p>junit 4.12\nandroidX.test 1.1.4\nandroidX.test.espresso 3.5.0</p>\n<p>Android studio 4\nBuild 193.6911.18.40.6514223 May 20, 2020</p>\n<p>I have tried the latest version of Android studio for Linux but same result. Any help</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"owner":{"account_id":8640436,"reputation":73,"user_id":6469276,"display_name":"Yasiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676430244,"creation_date":1676362876,"question_id":75445039,"body_markdown":"My design Architecture\r\n\r\nWebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka\r\n\r\n\r\nI have to design this API Manager Component using Spring Boot. The main function of the component is as follows.\r\n\r\n 1. Connect with WebSocket Clients (Not an issue)\r\n 2. When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.\r\n\r\nHow can I use Spring Boot to achieve this point 2?\r\n\r\n","title":"How to connect Kafka consumer channels dynamically using Spring Boot at run time?","body":"<p>My design Architecture</p>\n<p>WebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka</p>\n<p>I have to design this API Manager Component using Spring Boot. The main function of the component is as follows.</p>\n<ol>\n<li>Connect with WebSocket Clients (Not an issue)</li>\n<li>When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.</li>\n</ol>\n<p>How can I use Spring Boot to achieve this point 2?</p>\n"},{"tags":["java","url","discord","webhooks"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1653301276,"post_id":72345264,"comment_id":127809732,"body_markdown":"Use a webhook library like this https://github.com/MinnDevelopment/discord-webhooks","body":"Use a webhook library like this <a href=\"https://github.com/MinnDevelopment/discord-webhooks\" rel=\"nofollow noreferrer\">github.com/MinnDevelopment/discord-webhooks</a>"}],"answers":[{"tags":[],"owner":{"account_id":27789046,"reputation":11,"user_id":21215844,"display_name":"Andeson de Jesus de Menezes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676428132,"creation_date":1676428132,"answer_id":75454988,"question_id":72345264,"body_markdown":"add \r\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;); ","title":"How to send discord webhook message in Java?","body":"<p>add\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676428132,"creation_date":1653293679,"question_id":72345264,"body_markdown":"I&#39;m trying to send a discord webhook message from Java.&lt;br&gt;\r\nI found a way in this [website.][1]\r\nBut when i tried, it didn&#39;t work.\r\n```java\r\npackage com.company;\r\n\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Discord {\r\n    public static void main(String[] args) throws Exception {\r\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setDoOutput(true);\r\n        String jsonInputString = &quot;{&quot; +\r\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\r\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\r\n                &quot;}&quot;;\r\n        try(OutputStream os = con.getOutputStream()) {\r\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m just using this for a one way message so, i guess this should work.&lt;br&gt;\r\nBut why doesn&#39;t it?\r\n\r\n  [1]: https://www.baeldung.com/httpurlconnection-post","title":"How to send discord webhook message in Java?","body":"<p>I'm trying to send a discord webhook message from Java.<br>\nI found a way in this <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">website.</a>\nBut when i tried, it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class Discord {\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setDoOutput(true);\n        String jsonInputString = &quot;{&quot; +\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\n                &quot;}&quot;;\n        try(OutputStream os = con.getOutputStream()) {\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\n            os.write(input, 0, input.length);\n        }\n\n    }\n}\n\n</code></pre>\n<p>I'm just using this for a one way message so, i guess this should work.<br>\nBut why doesn't it?</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676347395,"post_id":75443172,"comment_id":133114412,"body_markdown":"(a) are you asking the [`spring.management.port`](https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html) for those actuator URLs? (b) are you using the same `spring.profiles.active` in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead [edit your question](https://stackoverflow.com/posts/75443172/edit) and provide more details","body":"(a) are you asking the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html\" rel=\"nofollow noreferrer\"><code>spring.management.port</code></a> for those actuator URLs? (b) are you using the same <code>spring.profiles.active</code> in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead <a href=\"https://stackoverflow.com/posts/75443172/edit\">edit your question</a> and provide more details"},{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676350470,"post_id":75443172,"comment_id":133114730,"body_markdown":"The `spring.management.port` and `spring.profiles.active` is right. I can enable probes using the `management.endpoint.health.probes.enabled` configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?","body":"The <code>spring.management.port</code> and <code>spring.profiles.active</code> is right. I can enable probes using the <code>management.endpoint.health.probes.enabled</code> configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?"},{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676392012,"post_id":75443172,"comment_id":133125924,"body_markdown":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?","body":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?"},{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676427606,"post_id":75443172,"comment_id":133133558,"body_markdown":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?","body":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?"}],"answers":[{"comments":[{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676359786,"post_id":75444291,"comment_id":133116165,"body_markdown":"I run application on Kubernetes. But it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?","body":"I run application on Kubernetes. But it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?"},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1676361189,"post_id":75444291,"comment_id":133116429,"body_markdown":"Refer to this [SO](https://stackoverflow.com/questions/68941419/spring-dependency-mess-conflict-with-spring-boot-2-5-4-and-spring-cloud-3-0-3), which may help to resolve your issue.","body":"Refer to this <a href=\"https://stackoverflow.com/questions/68941419/spring-dependency-mess-conflict-with-spring-boot-2-5-4-and-spring-cloud-3-0-3\">SO</a>, which may help to resolve your issue."},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1676956893,"post_id":75444291,"comment_id":133236302,"body_markdown":"Hello @Holinc, if you think that my answer helped you, please consider accepting () or up voting it for greater visibility for community members.","body":"Hello @Holinc, if you think that my answer helped you, please consider accepting () or up voting it for greater visibility for community members."}],"tags":[],"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676357101,"creation_date":1676357101,"answer_id":75444291,"question_id":75443172,"body_markdown":"**AFAIK Health groups are automatically enabled only if the application met below 2 conditions:**\r\n\r\n1)Runs in a Kubernetes deployment environment \r\n\r\nSpring Boot auto-detects Kubernetes deployment environments by checking the environment for `&quot;*_SERVICE_HOST&quot;` and `&quot;*_SERVICE_PORT&quot;` variables. You can override this detection with the `spring.main.cloud-platform` configuration property. Spring Boot helps you to manage the state of your application and export it with [HTTP Kubernetes Probes using Actuator][2].\r\n\r\n\r\n2)The `management.health.probes.enabled` property is set to `true`\r\n\r\nIf the application meets either of the above conditions, then auto-configuration registers.\r\n\r\n\r\nRefer to Baeldung, [Liveness and Readiness Probes in Spring Boot][3], Auto-Configurations by Mona Mohamadinia, for more information.\r\n\r\n\r\nAlso refer to github link, [Kubernetes readiness probe endpoint returning 404 #22562][4] for more information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.application-availability\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\r\n  [3]: https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/22562","title":"Liveness and readiness probe return 404","body":"<p><strong>AFAIK Health groups are automatically enabled only if the application met below 2 conditions:</strong></p>\n<p>1)Runs in a Kubernetes deployment environment</p>\n<p>Spring Boot auto-detects Kubernetes deployment environments by checking the environment for <code>&quot;*_SERVICE_HOST&quot;</code> and <code>&quot;*_SERVICE_PORT&quot;</code> variables. You can override this detection with the <code>spring.main.cloud-platform</code> configuration property. Spring Boot helps you to manage the state of your application and export it with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">HTTP Kubernetes Probes using Actuator</a>.</p>\n<p>2)The <code>management.health.probes.enabled</code> property is set to <code>true</code></p>\n<p>If the application meets either of the above conditions, then auto-configuration registers.</p>\n<p>Refer to Baeldung, <a href=\"https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\" rel=\"nofollow noreferrer\">Liveness and Readiness Probes in Spring Boot</a>, Auto-Configurations by Mona Mohamadinia, for more information.</p>\n<p>Also refer to github link, <a href=\"https://github.com/spring-projects/spring-boot/issues/22562\" rel=\"nofollow noreferrer\">Kubernetes readiness probe endpoint returning 404 #22562</a> for more information.</p>\n"}],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676427092,"creation_date":1676345219,"question_id":75443172,"body_markdown":"My Spring-Boot Application is running on Kubernetes.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.12&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nAccording to Spring-Boot reference, `livenessProbe` and `readinessProbe` would be enabled automatically.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\r\n\r\n&gt; These health groups are only enabled automatically if the application is running in a Kubernetes environment. \r\n\r\n&gt; They will also be exposed as separate HTTP Probes using Health Groups: `/actuator/health/liveness` and `/actuator/health/readiness`.\r\n\r\nBut the endpoints (`/actuator/health/liveness` and `/actuator/health/readiness`) in My Spring-Boot Application returns 404, what&#39;s wrong here?\r\n\r\nThe component of `livenessState` and `readinessState` is enabled, but the health group is not.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9sto4.png\r\n\r\n\r\nI debug the code and find that the method `org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization` doesn&#39;t work. Because there&#39;s no bean instanceof HealthEndpointGroups, Why?\r\n\r\n    /**\r\n\t * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\r\n\t * beans.\r\n\t */\r\n\tstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\r\n\r\n\t\tprivate final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\r\n\r\n\t\tHealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\r\n\t\t\tthis.postProcessors = postProcessors;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n\r\n            // there&#39;s no bean instanceof HealthEndpointGroups here, Why?\r\n\r\n\t\t\tif (bean instanceof HealthEndpointGroups) {\r\n\t\t\t\treturn applyPostProcessors((HealthEndpointGroups) bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\tprivate Object applyPostProcessors(HealthEndpointGroups bean) {\r\n\t\t\tfor (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\r\n\t\t\t\t\t.toArray(HealthEndpointGroupsPostProcessor[]::new)) {\r\n\t\t\t\tbean = postProcessor.postProcessHealthEndpointGroups(bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI try to run the application locally with adding `KUBERNETES_SERVICE_HOST` and `KUBERNETES_SERVICE_HOST` environment variables, to enable probes. But it didn&#39;t work as well.\r\n\r\n\r\n    /**\r\n\t * {@link SpringBootCondition} to enable or disable probes.\r\n\t * &lt;p&gt;\r\n\t * Probes are enabled if the dedicated configuration property is enabled or if the\r\n\t * Kubernetes cloud environment is detected/enforced.\r\n\t */\r\n\tstatic class ProbesCondition extends SpringBootCondition {\r\n\r\n\t\tprivate static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\r\n\r\n\t\tprivate static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\tEnvironment environment = context.getEnvironment();\r\n\t\t\tConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\r\n\t\t\tConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\toutcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\tif (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\r\n\t\t\t\treturn ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\r\n\t\t\t}\r\n\t\t\treturn ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\r\n\t\t}\r\n\r\n\t\tprivate ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\r\n\t\t\t\tString propertyName) {\r\n\t\t\tString enabled = environment.getProperty(propertyName);\r\n\t\t\tif (enabled != null) {\r\n\t\t\t\tboolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\r\n\t\t\t\treturn new ConditionOutcome(match, message.because(&quot;&#39;&quot; + propertyName + &quot;&#39; set to &#39;&quot; + enabled + &quot;&#39;&quot;));\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI run application on Kubernetes, but it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?\r\n\r\nRemoving the follow dependency\r\n\r\n        &lt;!--traceId --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nyaml:\r\n\r\n    management:\r\n      server:\r\n        port: 9235\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\r\n\r\nk8s:\r\n\r\n      readinessProbe:\r\n        httpGet:\r\n          path: /actuator/health/readiness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 150\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n      livenessProbe:\r\n        httpGet:\r\n          path: /actuator/health/liveness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 180\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n\r\n","title":"Liveness and readiness probe return 404","body":"<p>My Spring-Boot Application is running on Kubernetes.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.12&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>According to Spring-Boot reference, <code>livenessProbe</code> and <code>readinessProbe</code> would be enabled automatically.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes</a></p>\n<blockquote>\n<p>These health groups are only enabled automatically if the application is running in a Kubernetes environment.</p>\n</blockquote>\n<blockquote>\n<p>They will also be exposed as separate HTTP Probes using Health Groups: <code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>.</p>\n</blockquote>\n<p>But the endpoints (<code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>) in My Spring-Boot Application returns 404, what's wrong here?</p>\n<p>The component of <code>livenessState</code> and <code>readinessState</code> is enabled, but the health group is not.\n<a href=\"https://i.stack.imgur.com/9sto4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sto4.png\" alt=\"enter image description here\" /></a></p>\n<p>I debug the code and find that the method <code>org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization</code> doesn't work. Because there's no bean instanceof HealthEndpointGroups, Why?</p>\n<pre><code>/**\n * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\n * beans.\n */\nstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\n\n    private final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\n\n    HealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\n        this.postProcessors = postProcessors;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n\n        // there's no bean instanceof HealthEndpointGroups here, Why?\n\n        if (bean instanceof HealthEndpointGroups) {\n            return applyPostProcessors((HealthEndpointGroups) bean);\n        }\n        return bean;\n    }\n\n    private Object applyPostProcessors(HealthEndpointGroups bean) {\n        for (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\n                .toArray(HealthEndpointGroupsPostProcessor[]::new)) {\n            bean = postProcessor.postProcessHealthEndpointGroups(bean);\n        }\n        return bean;\n    }\n\n}\n</code></pre>\n<p>I try to run the application locally with adding <code>KUBERNETES_SERVICE_HOST</code> and <code>KUBERNETES_SERVICE_HOST</code> environment variables, to enable probes. But it didn't work as well.</p>\n<pre><code>/**\n * {@link SpringBootCondition} to enable or disable probes.\n * &lt;p&gt;\n * Probes are enabled if the dedicated configuration property is enabled or if the\n * Kubernetes cloud environment is detected/enforced.\n */\nstatic class ProbesCondition extends SpringBootCondition {\n\n    private static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\n\n    private static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\n\n    @Override\n    public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        Environment environment = context.getEnvironment();\n        ConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\n        ConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        outcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        if (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\n            return ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\n        }\n        return ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\n    }\n\n    private ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\n            String propertyName) {\n        String enabled = environment.getProperty(propertyName);\n        if (enabled != null) {\n            boolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\n            return new ConditionOutcome(match, message.because(&quot;'&quot; + propertyName + &quot;' set to '&quot; + enabled + &quot;'&quot;));\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>I run application on Kubernetes, but it doesn't work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?</p>\n<p>Removing the follow dependency</p>\n<pre><code>    &lt;!--traceId --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>yaml:</p>\n<pre><code>management:\n  server:\n    port: 9235\n  endpoints:\n    web:\n      exposure:\n        include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\n</code></pre>\n<p>k8s:</p>\n<pre><code>  readinessProbe:\n    httpGet:\n      path: /actuator/health/readiness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 150\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n  livenessProbe:\n    httpGet:\n      path: /actuator/health/liveness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 180\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9575,"page":648,"page_size":100}
