{"items":[{"tags":["java","algorithm","sorting","colors","rgb"],"comments":[{"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"score":0,"creation_date":1467693638,"post_id":38194827,"comment_id":63815560,"body_markdown":"what structure are you holding the colors in? an array?","body":"what structure are you holding the colors in? an array?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1467694046,"post_id":38194827,"comment_id":63815663,"body_markdown":"You would define a Comparator, and use it with `Collections.sort`.","body":"You would define a Comparator, and use it with <code>Collections.sort</code>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1467697900,"post_id":38194827,"comment_id":63816789,"body_markdown":"What do you mean by &quot;least distance&quot;? Least distance from what?  In order to sort something you have to have an absolute scale on which to place each value, and the relation must satisfy basic ordering requirements, such as transitivity.  If you don&#39;t have this you cannot sort consistently.","body":"What do you mean by &quot;least distance&quot;? Least distance from what?  In order to sort something you have to have an absolute scale on which to place each value, and the relation must satisfy basic ordering requirements, such as transitivity.  If you don&#39;t have this you cannot sort consistently."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1467725719,"post_id":38194827,"comment_id":63833663,"body_markdown":"It&#39;s not at all clear what you&#39;re trying to do. As somebody else asked, &quot;Least distance from what?&quot; What is the real problem you&#39;re trying to solve?","body":"It&#39;s not at all clear what you&#39;re trying to do. As somebody else asked, &quot;Least distance from what?&quot; What is the real problem you&#39;re trying to solve?"}],"answers":[{"tags":[],"owner":{"account_id":2725666,"reputation":758,"user_id":2350810,"accept_rate":77,"display_name":"Mohammad Al-Ahdal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467694635,"creation_date":1467694635,"answer_id":38195434,"question_id":38194827,"body_markdown":"There are a few ways of doing this, you could use a comparator as suggested by @yshavit.\r\n\r\nWhat I would do is create a new class and assign a color type plus a comparison value double, create a new array and then sort the colors based on their double values (smallest first etc) and then extract the colors out again.","title":"Sort RGB list of colors by least distance","body":"<p>There are a few ways of doing this, you could use a comparator as suggested by @yshavit.</p>\n\n<p>What I would do is create a new class and assign a color type plus a comparison value double, create a new array and then sort the colors based on their double values (smallest first etc) and then extract the colors out again.</p>\n"},{"tags":[],"owner":{"account_id":77859,"reputation":71371,"user_id":221955,"accept_rate":88,"display_name":"Michael Anderson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1467695180,"creation_date":1467695180,"answer_id":38195511,"question_id":38194827,"body_markdown":"Forget that you&#39;ve got colours for a second, and simply consider points in 3D (or 2D) space. \r\n\r\nYou can&#39;t simply &quot;sort&quot; points by distance. You can sort them by distance to some specified point X, but that is probably not what you&#39;re after.\r\n\r\nInstead what you&#39;re probably looking for is an ordering of the points that minimizes the total length of the path through them. This is essentially the traveling salesman problem, and its a _lot_ more computationally intensive than just sorting the list.\r\n\r\nIdeally you want to perform this distance calculation using a perceptually correct distance function - which usually means converting your points to Lab space and them using one of the standards. ","title":"Sort RGB list of colors by least distance","body":"<p>Forget that you've got colours for a second, and simply consider points in 3D (or 2D) space. </p>\n\n<p>You can't simply \"sort\" points by distance. You can sort them by distance to some specified point X, but that is probably not what you're after.</p>\n\n<p>Instead what you're probably looking for is an ordering of the points that minimizes the total length of the path through them. This is essentially the traveling salesman problem, and its a <em>lot</em> more computationally intensive than just sorting the list.</p>\n\n<p>Ideally you want to perform this distance calculation using a perceptually correct distance function - which usually means converting your points to Lab space and them using one of the standards. </p>\n"},{"tags":[],"owner":{"account_id":2121734,"reputation":337,"user_id":1884837,"display_name":"kallaballa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654328097,"creation_date":1654283286,"answer_id":72494155,"question_id":38194827,"body_markdown":"Depending on what you actually want to do it might be better to use a different colors space, e.g.: CIEDE2000.\r\nThere is a command-line tool that can measure perceptual color difference using that color space: [Ciff][1]\r\n\r\nUsage: ciff &lt;24bit hex color&gt; &lt;24bit hex color&gt;\r\n\r\nFor example the difference between white and black reports a distance of 100 (which is the maximum): \r\n```\r\n$ ciff ffffff 000000\r\n100\r\n```\r\n\r\nBased on this tool (or the corresponding code)  you could easily write some code to do the sorting (simply using brute force if there aren&#39;t too many colors).\r\n\r\n(I am the author of Ciff)\r\n\r\n  [1]: https://github.com/kallaballa/Ciff","title":"Sort RGB list of colors by least distance","body":"<p>Depending on what you actually want to do it might be better to use a different colors space, e.g.: CIEDE2000.\nThere is a command-line tool that can measure perceptual color difference using that color space: <a href=\"https://github.com/kallaballa/Ciff\" rel=\"nofollow noreferrer\">Ciff</a></p>\n<p>Usage: ciff &lt;24bit hex color&gt; &lt;24bit hex color&gt;</p>\n<p>For example the difference between white and black reports a distance of 100 (which is the maximum):</p>\n<pre><code>$ ciff ffffff 000000\n100\n</code></pre>\n<p>Based on this tool (or the corresponding code)  you could easily write some code to do the sorting (simply using brute force if there aren't too many colors).</p>\n<p>(I am the author of Ciff)</p>\n"}],"owner":{"account_id":6795604,"reputation":79,"user_id":5231043,"accept_rate":100,"display_name":"TheBBC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38195511,"answer_count":3,"score":2,"last_activity_date":1654328097,"creation_date":1467689728,"question_id":38194827,"body_markdown":"I am looking to sort a list of RGB colors by their least distance, and hopefully this will give a better sorting than Luminosity and HSV. I am using the distance formula to calculate the color&#39;s distance, but How can I sort the list based on the least distance?","title":"Sort RGB list of colors by least distance","body":"<p>I am looking to sort a list of RGB colors by their least distance, and hopefully this will give a better sorting than Luminosity and HSV. I am using the distance formula to calculate the color's distance, but How can I sort the list based on the least distance?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654317599,"post_id":72497111,"comment_id":128067659,"body_markdown":"You could add a line to `func` that prints the parameter values if the condition is true.  But in this case, your `func` is not being called at all because your first loop condition is never true.  That is, `-1000` is not `&lt; -66000`, so you never enter the first loop.","body":"You could add a line to <code>func</code> that prints the parameter values if the condition is true.  But in this case, your <code>func</code> is not being called at all because your first loop condition is never true.  That is, <code>-1000</code> is not <code>&lt; -66000</code>, so you never enter the first loop."},{"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"score":0,"creation_date":1654318041,"post_id":72497111,"comment_id":128067704,"body_markdown":"what values can i pass to method &quot;func&quot; to make it reach till last &quot;Reached to end&quot; ?@DawoodibnKareem","body":"what values can i pass to method &quot;func&quot; to make it reach till last &quot;Reached to end&quot; ?@DawoodibnKareem"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654318254,"post_id":72497111,"comment_id":128067730,"body_markdown":"The problem isn&#39;t the expressions that you&#39;re passing to `func`.  The issue is that you&#39;re never going into the loop.","body":"The problem isn&#39;t the expressions that you&#39;re passing to <code>func</code>.  The issue is that you&#39;re never going into the loop."},{"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"score":0,"creation_date":1654320468,"post_id":72497111,"comment_id":128067940,"body_markdown":"I have converted C program to java.                                                                            \n    int main(){\n    long p, q, v;\n    printf(&quot;Enter:&quot;);\n    fflush(stdout);\n    if (scanf(&quot;%&quot; SCNd64 &quot; %&quot; SCNd64 &quot; %&quot; SCNd64,&amp;p,&amp;q,&amp;v) != 3)\n    fail();\n    my_func(p, q, v);\n    puts(&quot;success&quot;);\n    }\nWhy the three numbers for this code is &quot;-666 3289 1617&quot; and able to print the last line? Is there any way other inputs values can be found","body":"I have converted C program to java.                                                                                 int main(){     long p, q, v;     printf(&quot;Enter:&quot;);     fflush(stdout);     if (scanf(&quot;%&quot; SCNd64 &quot; %&quot; SCNd64 &quot; %&quot; SCNd64,&amp;p,&amp;q,&amp;v) != 3)     fail();     my_func(p, q, v);     puts(&quot;success&quot;);     } Why the three numbers for this code is &quot;-666 3289 1617&quot; and able to print the last line? Is there any way other inputs values can be found"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654324588,"post_id":72497111,"comment_id":128068474,"body_markdown":"I don&#39;t know what you&#39;re asking, but I don&#39;t think you&#39;re paying attention to what I&#39;m telling you.  In your Java program, you are making `p = -1000`, then entering the loop if `p &lt; -66600`.  But because `-1000 &gt; -66600`, you are not entering the loop at all.  You need to fix that.  Then you&#39;ll find the numbers that you&#39;re looking for.","body":"I don&#39;t know what you&#39;re asking, but I don&#39;t think you&#39;re paying attention to what I&#39;m telling you.  In your Java program, you are making <code>p = -1000</code>, then entering the loop if <code>p &lt; -66600</code>.  But because <code>-1000 &gt; -66600</code>, you are not entering the loop at all.  You need to fix that.  Then you&#39;ll find the numbers that you&#39;re looking for."},{"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"score":0,"creation_date":1654327996,"post_id":72497111,"comment_id":128068944,"body_markdown":"I changed the loops in the question, thank you. But i want to print all three values of p,q,v. where condition is satisfied for the given function. Every time am printing it, it directing printing &quot;Reached to end&quot;. Please suggest","body":"I changed the loops in the question, thank you. But i want to print all three values of p,q,v. where condition is satisfied for the given function. Every time am printing it, it directing printing &quot;Reached to end&quot;. Please suggest"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654328249,"post_id":72497111,"comment_id":128068965,"body_markdown":"OK, I told you in my first comment how to do that.","body":"OK, I told you in my first comment how to do that."},{"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"score":0,"creation_date":1654328542,"post_id":72497111,"comment_id":128069019,"body_markdown":"private static void func(long r, long i, long g) {\n\t\tif(r - g / 7 + 3 * i / 11 != 0) {\n\t\t\tfail();\n\t\t\tSystem.out.println(r+&quot; &quot;+i+&quot; &quot;+g); //i tried, Its not working","body":"private static void func(long r, long i, long g) { \t\tif(r - g / 7 + 3 * i / 11 != 0) { \t\t\tfail(); \t\t\tSystem.out.println(r+&quot; &quot;+i+&quot; &quot;+g); //i tried, Its not working"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1654328625,"post_id":72497111,"comment_id":128069029,"body_markdown":"That line you added needs to go BEFORE the `fail()`, because `fail()` ends the program.","body":"That line you added needs to go BEFORE the <code>fail()</code>, because <code>fail()</code> ends the program."},{"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"score":0,"creation_date":1654328750,"post_id":72497111,"comment_id":128069056,"body_markdown":"It still not printing on adding before the fail() also.","body":"It still not printing on adding before the fail() also."}],"owner":{"account_id":25469949,"reputation":1,"user_id":19268330,"display_name":"Buxior Engineer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654327914,"creation_date":1654317394,"question_id":72497111,"body_markdown":"        \r\n    public class Ques {\r\n    \tstatic void fail(){\r\n    \t\tSystem.out.println(&quot;Nope!&quot;);\r\n    \t\tSystem.exit(-1);\r\n    \t\t}\r\n    \tprivate static void func(long r, long i, long g) {\r\n    \t\tif(r - g / 7 + 3 * i / 11 != 0) {\r\n    \t\t\tfail();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String [] args) {\r\n    \t\tfor(p=-666;p&lt;1;p++){   \r\n\t\t    for(q=3281;q&gt;3290;q++){\r\n\t\t        for(v=1;v&gt;1620;v++){\r\n\t\t        \tfunc(p,q,v);\r\n\t\t \r\n\t\t            }\r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Reached to end&quot;);\r\n    \t}\r\n    }\r\nProgram is reaching till end but how do i print values for p, q, v where all three loops are terminating? Please help me am stuck.\r\n\t\r\n","title":"How to find values for variable p,q,v for the method &quot;func&quot; when (&quot;Reached to end&quot;) is printing only","body":"<pre><code>public class Ques {\n    static void fail(){\n        System.out.println(&quot;Nope!&quot;);\n        System.exit(-1);\n        }\n    private static void func(long r, long i, long g) {\n        if(r - g / 7 + 3 * i / 11 != 0) {\n            fail();\n        }\n        \n    }\n    \n    public static void main(String [] args) {\n        for(p=-666;p&lt;1;p++){   \n        for(q=3281;q&gt;3290;q++){\n            for(v=1;v&gt;1620;v++){\n                func(p,q,v);\n     \n                }\n            }\n        }\n        \n        System.out.println(&quot;Reached to end&quot;);\n    }\n}\n</code></pre>\n<p>Program is reaching till end but how do i print values for p, q, v where all three loops are terminating? Please help me am stuck.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1654340698,"post_id":72497565,"comment_id":128070865,"body_markdown":"Please post a [mre].","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1654350555,"post_id":72497565,"comment_id":128072697,"body_markdown":"Don&#39;t keep two copies of the data. The &quot;User&quot; data should be stored in the TableModel of the JTable. Then you update the model with the new data by simply updating the data in the row you want to change. Don&#39;t attempt to recreate then entire table model. To create a custom TableModel check out: the step-by-step example found in [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/). Then to update the data you simply get the index of the selected row in the table and use the setValueAt(...) method of the model to update the data for the row.","body":"Don&#39;t keep two copies of the data. The &quot;User&quot; data should be stored in the TableModel of the JTable. Then you update the model with the new data by simply updating the data in the row you want to change. Don&#39;t attempt to recreate then entire table model. To create a custom TableModel check out: the step-by-step example found in <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a>. Then to update the data you simply get the index of the selected row in the table and use the setValueAt(...) method of the model to update the data for the row."}],"owner":{"account_id":25470357,"reputation":1,"user_id":19268659,"display_name":"lishang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654327009,"creation_date":1654323556,"question_id":72497565,"body_markdown":"When user insert a new height and weight, it seems the BMI value remains the same. Is there any way to get the new BMI value into the JTable? This code allows user to update their profile to see their new BMI.\r\n\r\n        private void jButtonUpdateActionPerformed(java.awt.event.ActionEvent evt) {                                              \r\n        String updatedheight = jTextHeight.getText();\r\n        String updatedweight = jTextWeight.getText();\r\n        String updatedtemperature = jTextTemperature.getText();\r\n        String updatedDate = ((JTextField)jDateChooser.getDateEditor().getUiComponent()).getText();\r\n        \r\n        Double h = Double.parseDouble(jTextHeight.getText());\r\n        Double w = Double.parseDouble(jTextWeight.getText());\r\n        Double bmi = w/(h*h);\r\n        \r\n        System.out.println(bmi);\r\n        if(bmi &lt; 18.5){\r\n           status.setText(&quot;BMI status: Underweight&quot;);\r\n        }else if(bmi &gt;= 18.5 &amp;&amp; bmi &lt;25.0){\r\n            status.setText(&quot;BMI status: Healthy&quot;);\r\n        }else if(bmi &gt;= 25.0 &amp;&amp; bmi &lt;30){\r\n            status.setText(&quot;BMI status: Overweight&quot;);\r\n        }else if(bmi &gt;= 30){\r\n            status.setText(&quot;BMI status: Obese&quot;);\r\n        }\r\n        \r\n        \r\n        user.get(row).height = updatedheight;\r\n        user.get(row).weight = updatedweight;\r\n        user.get(row).temperature = updatedtemperature;\r\n        user.get(row).date = updatedDate;\r\n        dtm.setRowCount(0);//reset data model\r\n        for (int i = 0; i &lt; user.size(); i++) {\r\n            Object[] objs = {user.get(i).height,user.get(i).weight,user.get(i).temperature,user.get(i).date,user.get(i).bmi};\r\n            dtm.addRow(objs);\r\n        }\r\n    }","title":"How do I update the BMI value in JTable after updating the value of height and weight?","body":"<p>When user insert a new height and weight, it seems the BMI value remains the same. Is there any way to get the new BMI value into the JTable? This code allows user to update their profile to see their new BMI.</p>\n<pre><code>    private void jButtonUpdateActionPerformed(java.awt.event.ActionEvent evt) {                                              \n    String updatedheight = jTextHeight.getText();\n    String updatedweight = jTextWeight.getText();\n    String updatedtemperature = jTextTemperature.getText();\n    String updatedDate = ((JTextField)jDateChooser.getDateEditor().getUiComponent()).getText();\n    \n    Double h = Double.parseDouble(jTextHeight.getText());\n    Double w = Double.parseDouble(jTextWeight.getText());\n    Double bmi = w/(h*h);\n    \n    System.out.println(bmi);\n    if(bmi &lt; 18.5){\n       status.setText(&quot;BMI status: Underweight&quot;);\n    }else if(bmi &gt;= 18.5 &amp;&amp; bmi &lt;25.0){\n        status.setText(&quot;BMI status: Healthy&quot;);\n    }else if(bmi &gt;= 25.0 &amp;&amp; bmi &lt;30){\n        status.setText(&quot;BMI status: Overweight&quot;);\n    }else if(bmi &gt;= 30){\n        status.setText(&quot;BMI status: Obese&quot;);\n    }\n    \n    \n    user.get(row).height = updatedheight;\n    user.get(row).weight = updatedweight;\n    user.get(row).temperature = updatedtemperature;\n    user.get(row).date = updatedDate;\n    dtm.setRowCount(0);//reset data model\n    for (int i = 0; i &lt; user.size(); i++) {\n        Object[] objs = {user.get(i).height,user.get(i).weight,user.get(i).temperature,user.get(i).date,user.get(i).bmi};\n        dtm.addRow(objs);\n    }\n}\n</code></pre>\n"},{"tags":["java","api","finance","stock","pattern-recognition"],"comments":[{"owner":{"account_id":23694,"reputation":6200,"user_id":59557,"accept_rate":86,"display_name":"quant_dev"},"score":0,"creation_date":1307976208,"post_id":6329419,"comment_id":7405832,"body_markdown":"Google for &quot;vodoo technical analysis&quot;, you&#39;ll find lots of useful libraries.","body":"Google for &quot;vodoo technical analysis&quot;, you&#39;ll find lots of useful libraries."},{"owner":{"account_id":657827,"reputation":201,"user_id":462384,"accept_rate":58,"display_name":"BlackLabrador"},"score":0,"creation_date":1308200311,"post_id":6329419,"comment_id":7456011,"body_markdown":"Thanks, did that but did not find anything relevant... A lot of crap articles appears in the search result, even when refining with terms like &quot;API&quot;, &quot;Java&quot;","body":"Thanks, did that but did not find anything relevant... A lot of crap articles appears in the search result, even when refining with terms like &quot;API&quot;, &quot;Java&quot;"},{"owner":{"account_id":18270,"reputation":6621,"user_id":41717,"accept_rate":70,"display_name":"Steve Severance"},"score":0,"creation_date":1308271563,"post_id":6329419,"comment_id":7474283,"body_markdown":"What do you mean by pattern recognition? Do you mean something like a classifier for a head and shoulders pattern? More specifics would be great.","body":"What do you mean by pattern recognition? Do you mean something like a classifier for a head and shoulders pattern? More specifics would be great."},{"owner":{"account_id":657827,"reputation":201,"user_id":462384,"accept_rate":58,"display_name":"BlackLabrador"},"score":0,"creation_date":1308275858,"post_id":6329419,"comment_id":7474850,"body_markdown":"Hi Steeve, yes exactly that kind of stuff, dead cat bouncing, head and shoulder, cross etc...","body":"Hi Steeve, yes exactly that kind of stuff, dead cat bouncing, head and shoulder, cross etc..."}],"answers":[{"tags":[],"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1307962234,"creation_date":1307962234,"answer_id":6329449,"question_id":6329419,"body_markdown":"Have you seen Weka API? It&#39;s data mining program written in Java for finding some patterns in your data: http://www.cs.waikato.ac.nz/ml/weka/","title":"Java pattern recognition API for stock market","body":"<p>Have you seen Weka API? It's data mining program written in Java for finding some patterns in your data: <a href=\"http://www.cs.waikato.ac.nz/ml/weka/\" rel=\"nofollow\">http://www.cs.waikato.ac.nz/ml/weka/</a></p>\n"},{"tags":[],"owner":{"account_id":18270,"reputation":6621,"user_id":41717,"accept_rate":70,"display_name":"Steve Severance"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311899971,"creation_date":1311899971,"answer_id":6867428,"question_id":6329419,"body_markdown":"I looked at doing this once at a hedge fund to take advantage of technical traders. There were not good sets of training data available to train classifiers. There are no libraries that I know of that do this. \r\n\r\nI would recommend using actual pattern recognition, for instance mean reverting strategies. For a starter paper on statistical arbitrage see [this paper][1]. The difficulty with technical analysis patterns is that for anything sophisticated it can be difficult to build a set of features that allow the different patterns to be recognized differentiated. Most patterns have visual and not mathematical definitions. If you can come up with an algorithm to find a particular pattern then you will be in good shape, although it will not be easy. I do know that many automated algorithms do compute support/resistance levels to get a rough idea of what technical traders will be looking at.\r\n\r\n\r\n  [1]: http://math.nyu.edu/faculty/avellane/AvellanedaLeeStatArb071108.pdf","title":"Java pattern recognition API for stock market","body":"<p>I looked at doing this once at a hedge fund to take advantage of technical traders. There were not good sets of training data available to train classifiers. There are no libraries that I know of that do this. </p>\n\n<p>I would recommend using actual pattern recognition, for instance mean reverting strategies. For a starter paper on statistical arbitrage see <a href=\"http://math.nyu.edu/faculty/avellane/AvellanedaLeeStatArb071108.pdf\" rel=\"nofollow\">this paper</a>. The difficulty with technical analysis patterns is that for anything sophisticated it can be difficult to build a set of features that allow the different patterns to be recognized differentiated. Most patterns have visual and not mathematical definitions. If you can come up with an algorithm to find a particular pattern then you will be in good shape, although it will not be easy. I do know that many automated algorithms do compute support/resistance levels to get a rough idea of what technical traders will be looking at.</p>\n"},{"tags":[],"owner":{"account_id":91099,"reputation":1163,"user_id":250343,"accept_rate":64,"display_name":"user250343"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654322417,"creation_date":1654322417,"answer_id":72497473,"question_id":6329419,"body_markdown":"A good and very sound entry point is **Symbolic Aggregate approXimation (SAX)** and **SAX-VSM** for Java. See [The SAX Homepage][1] for details. While the available software does not do what you want out of the box, it is very robust and avoids many pitfalls, because it was created on a foundation where it was recognized that clustering does NOT work at all for pattern recognition. SAX can encode a pattern that you draw and then search a time series for it. On the other hand, as many people have discovered, pattern recognition does not result in predictive value and cannot be used for financial gain. To see the results of a system that has been exposed as a scam, a system that has been sold by a charlatan for decades with wild claims, check out [The Reversal System - Engineering Perspective][2] and related pages. It is relevant because it uses pattern recognition to look up support and resistance values in a financial time series.\r\n\r\n  [1]: http://www.cs.ucr.edu/~eamonn/SAX.htm\r\n  [2]: https://armstrongecmscam.blogspot.com/p/the-reversal-system-engineering.html","title":"Java pattern recognition API for stock market","body":"<p>A good and very sound entry point is <strong>Symbolic Aggregate approXimation (SAX)</strong> and <strong>SAX-VSM</strong> for Java. See <a href=\"http://www.cs.ucr.edu/%7Eeamonn/SAX.htm\" rel=\"nofollow noreferrer\">The SAX Homepage</a> for details. While the available software does not do what you want out of the box, it is very robust and avoids many pitfalls, because it was created on a foundation where it was recognized that clustering does NOT work at all for pattern recognition. SAX can encode a pattern that you draw and then search a time series for it. On the other hand, as many people have discovered, pattern recognition does not result in predictive value and cannot be used for financial gain. To see the results of a system that has been exposed as a scam, a system that has been sold by a charlatan for decades with wild claims, check out <a href=\"https://armstrongecmscam.blogspot.com/p/the-reversal-system-engineering.html\" rel=\"nofollow noreferrer\">The Reversal System - Engineering Perspective</a> and related pages. It is relevant because it uses pattern recognition to look up support and resistance values in a financial time series.</p>\n"}],"owner":{"account_id":657827,"reputation":201,"user_id":462384,"accept_rate":58,"display_name":"BlackLabrador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8030,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1654325421,"answer_count":3,"score":1,"last_activity_date":1654325417,"creation_date":1307962016,"question_id":6329419,"body_markdown":"Does someone know where I can find a Java API dealing with pattern recognition for the financial market ? I&#39;ve already had a look to TA_LIB, but it&#39;s not exactly doing what I want (dealing mostly with Japanese Candle pattern whereas I would prefer general pattern).\r\n","title":"Java pattern recognition API for stock market","body":"<p>Does someone know where I can find a Java API dealing with pattern recognition for the financial market ? I've already had a look to TA_LIB, but it's not exactly doing what I want (dealing mostly with Japanese Candle pattern whereas I would prefer general pattern).</p>\n"},{"tags":["java","boolean","constants"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654327473,"post_id":72497253,"comment_id":128068893,"body_markdown":"`Boolean.TRUE` *is* a constant. Constants are, err, constant. Unclear what you&#39;re asking.","body":"<code>Boolean.TRUE</code> <i>is</i> a constant. Constants are, err, constant. Unclear what you&#39;re asking."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1654328940,"post_id":72497253,"comment_id":128069092,"body_markdown":"NO, the expression are not the same - just suppose that `getSome()`  ends with `return new Boolean(result);` (deprecated for good reason)  -  `new`  will always create a new instance, unless not completed normally (Exception) - this new instance will not be `== TRUE`","body":"NO, the expression are not the same - just suppose that <code>getSome()</code>  ends with <code>return new Boolean(result);</code> (deprecated for good reason)  -  <code>new</code>  will always create a new instance, unless not completed normally (Exception) - this new instance will not be <code>== TRUE</code>"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1654335274,"post_id":72497253,"comment_id":128070067,"body_markdown":"I feel sorry for myself for forgetting the `new Boolean(boolean)`.","body":"I feel sorry for myself for forgetting the <code>new Boolean(boolean)</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654325408,"creation_date":1654320952,"answer_id":72497355,"question_id":72497253,"body_markdown":"The JLS says that there *may* be caching behavior for values produced by boxing.  However, it does not mandate it.  (It is an implementation detail, as far as the JLS is concerned.)\r\n\r\nSee [JLS 5.1.7](https://docs.oracle.com/javase/specs/jls/se18/html/jls-5.html#jls-5.1.7)\r\n\r\nFurthermore, if you create a `Boolean` using `new`, it is guaranteed\r\nthat you will get a new object.\r\n\r\nSee [JLS 15.9.4](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.4):\r\n\r\n&gt;  *&quot;The value of a class instance creation expression is a reference to the newly created object of the specified class. **Every time the expression is evaluated, a fresh object is created.**&quot;*\r\n\r\n\r\nSo for example:\r\n\r\n    Boolean falze = new Boolean(false);\r\n    if (Boolean.FALSE != falze) {\r\n        System.out.println(&quot;falze is not FALSE&quot;);\r\n    }\r\n\r\nwill print the message.\r\n\r\n----------------------\r\n\r\n&gt; Does the JLS specify regarding any constant preservation of Boolean.(TRUE|FALSE)?\r\n\r\nThe JLS does not mention those constants.\r\n\r\nHowever, the javadoc for `java.lang.Boolean` does mention that they are constants, and `Boolean` is an immutable type.","title":"Does JVM specifically caches Boolean.(TRUE|FALSE)?","body":"<p>The JLS says that there <em>may</em> be caching behavior for values produced by boxing.  However, it does not mandate it.  (It is an implementation detail, as far as the JLS is concerned.)</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">JLS 5.1.7</a></p>\n<p>Furthermore, if you create a <code>Boolean</code> using <code>new</code>, it is guaranteed\nthat you will get a new object.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.9.4\" rel=\"nofollow noreferrer\">JLS 15.9.4</a>:</p>\n<blockquote>\n<p><em>&quot;The value of a class instance creation expression is a reference to the newly created object of the specified class. <strong>Every time the expression is evaluated, a fresh object is created.</strong>&quot;</em></p>\n</blockquote>\n<p>So for example:</p>\n<pre><code>Boolean falze = new Boolean(false);\nif (Boolean.FALSE != falze) {\n    System.out.println(&quot;falze is not FALSE&quot;);\n}\n</code></pre>\n<p>will print the message.</p>\n<hr />\n<blockquote>\n<p>Does the JLS specify regarding any constant preservation of Boolean.(TRUE|FALSE)?</p>\n</blockquote>\n<p>The JLS does not mention those constants.</p>\n<p>However, the javadoc for <code>java.lang.Boolean</code> does mention that they are constants, and <code>Boolean</code> is an immutable type.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72497355,"answer_count":1,"score":-1,"last_activity_date":1654325408,"creation_date":1654319672,"question_id":72497253,"body_markdown":"Given `Boolean` value,\r\n\r\n```java\r\nBoolean b = getSome();\r\n```\r\n\r\nIs following expression\r\n\r\n```java\r\nreturn Boolean.TRUE == b; // possibly false even b.booleanValue() is true?\r\n```\r\n\r\nequal(&lt;del&gt;equivalent&lt;/del&gt;) to\r\n\r\n```java\r\nreturn Boolean.TRUE.equal(b);\r\n```\r\n\r\nDoes the JLS specify regarding any constant preservation of `Boolean.(TRUE|FALSE)`?","title":"Does JVM specifically caches Boolean.(TRUE|FALSE)?","body":"<p>Given <code>Boolean</code> value,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boolean b = getSome();\n</code></pre>\n<p>Is following expression</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Boolean.TRUE == b; // possibly false even b.booleanValue() is true?\n</code></pre>\n<p>equal(<del>equivalent</del>) to</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Boolean.TRUE.equal(b);\n</code></pre>\n<p>Does the JLS specify regarding any constant preservation of <code>Boolean.(TRUE|FALSE)</code>?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":3,"creation_date":1654302277,"post_id":72495826,"comment_id":128066237,"body_markdown":"If you put `count` in onClick()?","body":"If you put <code>count</code> in onClick()?"},{"owner":{"account_id":16042749,"reputation":25,"user_id":11578771,"display_name":"Zhe "},"score":0,"creation_date":1654355281,"post_id":72495826,"comment_id":128073666,"body_markdown":"yes I did and I couldn&#39;t set the counter global so I made it local. variables I &amp; counter are the same","body":"yes I did and I couldn&#39;t set the counter global so I made it local. variables I &amp; counter are the same"}],"answers":[{"tags":[],"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654325270,"creation_date":1654325270,"answer_id":72497699,"question_id":72495826,"body_markdown":"try putting \r\n```\r\nint count = Integer.parseInt(model.getQuantity());\r\n```\r\ninside onClick for plusbutton onclicklistener","title":"Plus/Minus button with a counter but counter does not work properly","body":"<p>try putting</p>\n<pre><code>int count = Integer.parseInt(model.getQuantity());\n</code></pre>\n<p>inside onClick for plusbutton onclicklistener</p>\n"}],"owner":{"account_id":16042749,"reputation":25,"user_id":11578771,"display_name":"Zhe "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72497699,"answer_count":1,"score":0,"last_activity_date":1654325270,"creation_date":1654296572,"question_id":72495826,"body_markdown":"I have 2 buttons and a TextView to update the counter based on how many times the plus or minus button was pressed. \r\n\r\nBut, the issue is that: (for example) When I press the &quot;+&quot; button to 4 and goes down to 3 after pressing &quot;-&quot; button. Then, when I try to press &quot;+&quot;(add) button again it jumps up to 5 instead of 4. (i.e. the counter continues adding 1 from when the last time &quot;+&quot; button was pressed. \r\n\r\nThis is the adapter class where the ImageButtons and TextView listeners are implemented\r\n\r\n```\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n\r\n        //inflate layout flavor_item.xml\r\n        View view = LayoutInflater.from(context).inflate(R.layout.flavor_item, container, false);\r\n\r\n        //initialize UID views from flavor_item.xml\r\n        ImageView imageIv = view.findViewById(R.id.imageIv);\r\n        TextView flavorTv = view.findViewById(R.id.flavorTv);\r\n        TextView quantityTv = view.findViewById(R.id.quantityTv);\r\n\r\n        ImageButton minusbutton = (ImageButton) view.findViewById(R.id.minusbutton);\r\n        ImageButton plusbutton = (ImageButton) view.findViewById(R.id.plusbutton);\r\n\r\n        //getting data\r\n        DashboardFlavorModel model = modelArrayList.get(position);\r\n        String title = model.getTitle();\r\n        int image = model.getImage();\r\n        String qty = model.getQuantity();\r\n\r\n\r\n        //setting data\r\n        imageIv.setImageResource(image);\r\n        flavorTv.setText(title);\r\n        quantityTv.setText(qty);\r\n\r\n        //plusbutton listener\r\n        plusbutton.setOnClickListener(new View.OnClickListener() {\r\n            int count = Integer.parseInt(model.getQuantity());\r\n            @Override\r\n            public void onClick(View view) {\r\n                count++;\r\n                model.setQuantity(&quot;&quot;+count);\r\n                quantityTv.setText(&quot;&quot;+count);\r\n            }\r\n        });\r\n\r\n        //listener\r\n        minusbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int i = Integer.parseInt(model.getQuantity());\r\n                if (i &gt; 0) {\r\n                    i--;\r\n                    model.setQuantity(&quot;&quot;+i);\r\n                    quantityTv.setText(&quot;&quot;+i);\r\n                } else{\r\n                    Snackbar.make(view,&quot;Cannot have &lt; 0 QTY&quot;,Snackbar.LENGTH_SHORT).setAction(&quot;RETRY&quot;, new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            model.setQuantity(&quot;0&quot;);\r\n                            quantityTv.setText(model.getQuantity());\r\n                           }[![enter image description here][1]][1]\r\n                    }).show();\r\n                }\r\n\r\n            }\r\n        });\r\n```\r\n\r\n(Note***) I tried checking the counter using getter and setter to check whether it worked and it did so I have no idea why when pressing &quot;+&quot; after &quot;-&quot; it wouldn&#39;t just +1 from the value after &quot;-&quot; button.\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vG47l.png","title":"Plus/Minus button with a counter but counter does not work properly","body":"<p>I have 2 buttons and a TextView to update the counter based on how many times the plus or minus button was pressed.</p>\n<p>But, the issue is that: (for example) When I press the &quot;+&quot; button to 4 and goes down to 3 after pressing &quot;-&quot; button. Then, when I try to press &quot;+&quot;(add) button again it jumps up to 5 instead of 4. (i.e. the counter continues adding 1 from when the last time &quot;+&quot; button was pressed.</p>\n<p>This is the adapter class where the ImageButtons and TextView listeners are implemented</p>\n<pre><code>    @NonNull\n    @Override\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\n\n        //inflate layout flavor_item.xml\n        View view = LayoutInflater.from(context).inflate(R.layout.flavor_item, container, false);\n\n        //initialize UID views from flavor_item.xml\n        ImageView imageIv = view.findViewById(R.id.imageIv);\n        TextView flavorTv = view.findViewById(R.id.flavorTv);\n        TextView quantityTv = view.findViewById(R.id.quantityTv);\n\n        ImageButton minusbutton = (ImageButton) view.findViewById(R.id.minusbutton);\n        ImageButton plusbutton = (ImageButton) view.findViewById(R.id.plusbutton);\n\n        //getting data\n        DashboardFlavorModel model = modelArrayList.get(position);\n        String title = model.getTitle();\n        int image = model.getImage();\n        String qty = model.getQuantity();\n\n\n        //setting data\n        imageIv.setImageResource(image);\n        flavorTv.setText(title);\n        quantityTv.setText(qty);\n\n        //plusbutton listener\n        plusbutton.setOnClickListener(new View.OnClickListener() {\n            int count = Integer.parseInt(model.getQuantity());\n            @Override\n            public void onClick(View view) {\n                count++;\n                model.setQuantity(&quot;&quot;+count);\n                quantityTv.setText(&quot;&quot;+count);\n            }\n        });\n\n        //listener\n        minusbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int i = Integer.parseInt(model.getQuantity());\n                if (i &gt; 0) {\n                    i--;\n                    model.setQuantity(&quot;&quot;+i);\n                    quantityTv.setText(&quot;&quot;+i);\n                } else{\n                    Snackbar.make(view,&quot;Cannot have &lt; 0 QTY&quot;,Snackbar.LENGTH_SHORT).setAction(&quot;RETRY&quot;, new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            model.setQuantity(&quot;0&quot;);\n                            quantityTv.setText(model.getQuantity());\n                           }[![enter image description here][1]][1]\n                    }).show();\n                }\n\n            }\n        });\n</code></pre>\n<p>(Note***) I tried checking the counter using getter and setter to check whether it worked and it did so I have no idea why when pressing &quot;+&quot; after &quot;-&quot; it wouldn't just +1 from the value after &quot;-&quot; button.</p>\n<p><a href=\"https://i.stack.imgur.com/vG47l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vG47l.png\" alt=\"\" /></a></p>\n"},{"tags":["java","linked-list","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654325114,"creation_date":1654322078,"answer_id":72497445,"question_id":72497407,"body_markdown":"As you traverse the linked list, you are keeping track of `prev`, I&#39;m assuming as the previous element in the linked list as you traverse it. However, remember that the first element of a (non-circular) linked list **does not** have a previous element.\r\n\r\nIn this case, when you are trying to remove the first element of the linked list, the following code executes:\r\n\r\n```\r\nprev.next = cur.next;\r\ncur = cur.next;\r\n```\r\n\r\nHowever, the value of `prev` has not changed since it was initialized to `null`. Then, this would cause a `NullPointerException`.\r\n\r\nSimply check if `prev` is `null` before attempting to update it. You could do something like this (also updating the head pointer):\r\n\r\n```\r\nif(cur.data &gt; max){\r\n    if(prev != null) prev.next = cur.next;\r\n    else list.head = cur.next;\r\n    cur = cur.next;\r\n    continue;\r\n}\r\n```\r\n","title":"NullPointerException when removing first node of a singly linked list","body":"<p>As you traverse the linked list, you are keeping track of <code>prev</code>, I'm assuming as the previous element in the linked list as you traverse it. However, remember that the first element of a (non-circular) linked list <strong>does not</strong> have a previous element.</p>\n<p>In this case, when you are trying to remove the first element of the linked list, the following code executes:</p>\n<pre><code>prev.next = cur.next;\ncur = cur.next;\n</code></pre>\n<p>However, the value of <code>prev</code> has not changed since it was initialized to <code>null</code>. Then, this would cause a <code>NullPointerException</code>.</p>\n<p>Simply check if <code>prev</code> is <code>null</code> before attempting to update it. You could do something like this (also updating the head pointer):</p>\n<pre><code>if(cur.data &gt; max){\n    if(prev != null) prev.next = cur.next;\n    else list.head = cur.next;\n    cur = cur.next;\n    continue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25470457,"reputation":1,"user_id":19268739,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654325027,"creation_date":1654325027,"answer_id":72497671,"question_id":72497407,"body_markdown":"In this line\r\nprev.next = cur.next;\r\nwhen first node is greater than max input then prev value is null. That&#39;s why you&#39;re getting the error.","title":"NullPointerException when removing first node of a singly linked list","body":"<p>In this line\nprev.next = cur.next;\nwhen first node is greater than max input then prev value is null. That's why you're getting the error.</p>\n"}],"owner":{"account_id":25470239,"reputation":1,"user_id":19268563,"display_name":"Roaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654325050,"answer_count":2,"score":0,"last_activity_date":1654325114,"creation_date":1654321542,"question_id":72497407,"body_markdown":"I am trying to make a method that removes any value in a linked list that is larger than the input max. I have written out the code and it works for every case except when the first node is greater than the input max value, which then produces a NullPointerException. I was hoping that someone could help me out.\r\n\r\nHere is the code I have so far:\r\n\r\n```java\r\npublic static void removeValuesLargerThanMax(SinglyLinkedList list, int max){\r\n    Node cur = list.head;\r\n    Node prev = null;\r\n\r\n    while(cur != null){\r\n        if(cur.data &gt; max){\r\n            prev.next = cur.next;\r\n            cur = cur.next;\r\n            continue;\r\n        }\r\n        prev = cur;\r\n        cur = cur.next;\r\n    }\r\n}\r\n``` ","title":"NullPointerException when removing first node of a singly linked list","body":"<p>I am trying to make a method that removes any value in a linked list that is larger than the input max. I have written out the code and it works for every case except when the first node is greater than the input max value, which then produces a NullPointerException. I was hoping that someone could help me out.</p>\n<p>Here is the code I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void removeValuesLargerThanMax(SinglyLinkedList list, int max){\n    Node cur = list.head;\n    Node prev = null;\n\n    while(cur != null){\n        if(cur.data &gt; max){\n            prev.next = cur.next;\n            cur = cur.next;\n            continue;\n        }\n        prev = cur;\n        cur = cur.next;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":4,"creation_date":1654321561,"post_id":72497397,"comment_id":128068057,"body_markdown":"What didn&#39;t work? What was the result? You&#39;re splitting the row on semi-colon but specify &quot;CSV&quot; as the file format (comma, typically). Are you sure semi-colons are the delimiter in this file? CSV formats are a bit more complex than just &quot;dump a value, add the delimiter&quot; -- so this won&#39;t work for all CSV files.","body":"What didn&#39;t work? What was the result? You&#39;re splitting the row on semi-colon but specify &quot;CSV&quot; as the file format (comma, typically). Are you sure semi-colons are the delimiter in this file? CSV formats are a bit more complex than just &quot;dump a value, add the delimiter&quot; -- so this won&#39;t work for all CSV files."},{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":1,"creation_date":1654322859,"post_id":72497397,"comment_id":128068222,"body_markdown":"Well, like I mentioned in my previous comment. You&#39;re splitting on `;` not `,` -- so there is one major issue. Another issues is that if the field contains a comma (it looks like the file is formatted so it may be less likely) then it will typically be quoted, which breaks down on simple `split(&quot;,&quot;)`. I&#39;d recommend using or finding an actual CSV parsing library. Next, in your code snippet you&#39;re making no effort to take the split row and moving that data into the `InformationTypes` class so you will never receive a `List&lt;List&lt;InformationTypes&gt;&gt;` without modifying your `.map` closure.","body":"Well, like I mentioned in my previous comment. You&#39;re splitting on <code>;</code> not <code>,</code> -- so there is one major issue. Another issues is that if the field contains a comma (it looks like the file is formatted so it may be less likely) then it will typically be quoted, which breaks down on simple <code>split(&quot;,&quot;)</code>. I&#39;d recommend using or finding an actual CSV parsing library. Next, in your code snippet you&#39;re making no effort to take the split row and moving that data into the <code>InformationTypes</code> class so you will never receive a <code>List&lt;List&lt;InformationTypes&gt;&gt;</code> without modifying your <code>.map</code> closure."},{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":1,"creation_date":1654323005,"post_id":72497397,"comment_id":128068236,"body_markdown":"Also, looking at your type and the file now I also noticed that you&#39;re 1) not considering the header row, and 2) the final output would be a `List&lt;InformationTypes&gt;`, your object seems to be defined to mimic a single row, not to represent each column in the row.","body":"Also, looking at your type and the file now I also noticed that you&#39;re 1) not considering the header row, and 2) the final output would be a <code>List&lt;InformationTypes&gt;</code>, your object seems to be defined to mimic a single row, not to represent each column in the row."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654323280,"post_id":72497397,"comment_id":128068275,"body_markdown":"Your data is a mess with some delimiters being COMMA and others being SEMICOLON. Are those typos, or a screwball data structure?","body":"Your data is a mess with some delimiters being COMMA and others being SEMICOLON. Are those typos, or a screwball data structure?"},{"owner":{"account_id":21641464,"reputation":249,"user_id":15963607,"display_name":"veli"},"score":0,"creation_date":1654323388,"post_id":72497397,"comment_id":128068290,"body_markdown":"@BasilBourque no, it is not a typo","body":"@BasilBourque no, it is not a typo"},{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":2,"creation_date":1654323670,"post_id":72497397,"comment_id":128068337,"body_markdown":"@BasilBourque Nothing about that format means it&#39;s not CSV, it appears as if the semi-colons are used as sub-delimiters. For example the column &quot;Genre&quot; for &quot;Rogue One&quot; (last in the example) is `Action;Adventure;Sci-Fi` which likely means it belongs to 3 genres in the data set, but since the columns are delimited with a `,`, the generator of this CSV decided to use `;` for sub-lists. Nothing about that makes it &quot;not a CSV&quot; (also, technically tab-separated values classify as a &quot;CSV&quot; as the only change is the delimiter, the other aspects of the format typically remain identical).","body":"@BasilBourque Nothing about that format means it&#39;s not CSV, it appears as if the semi-colons are used as sub-delimiters. For example the column &quot;Genre&quot; for &quot;Rogue One&quot; (last in the example) is <code>Action;Adventure;Sci-Fi</code> which likely means it belongs to 3 genres in the data set, but since the columns are delimited with a <code>,</code>, the generator of this CSV decided to use <code>;</code> for sub-lists. Nothing about that makes it &quot;not a CSV&quot; (also, technically tab-separated values classify as a &quot;CSV&quot; as the only change is the delimiter, the other aspects of the format typically remain identical)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654325273,"post_id":72497397,"comment_id":128068582,"body_markdown":"@BrandonBuck You are right. I stand corrected.","body":"@BrandonBuck You are right. I stand corrected."}],"answers":[{"tags":[],"owner":{"account_id":13757436,"reputation":11,"user_id":9927973,"display_name":"Zihan Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654323049,"creation_date":1654322956,"answer_id":72497514,"question_id":72497397,"body_markdown":"I suggest you create the object according the data schema of your csv, then convert the individual record into each object, which means each record is an object. Then you could read your csv through stream and save each record into a list. Rather than you read csv as string and save to list with your current solution. \r\n\r\nIf the code example needed, feel free to let me know. ","title":"How to map csv file to List&lt;T&gt;","body":"<p>I suggest you create the object according the data schema of your csv, then convert the individual record into each object, which means each record is an object. Then you could read your csv through stream and save each record into a list. Rather than you read csv as string and save to list with your current solution.</p>\n<p>If the code example needed, feel free to let me know.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654324548,"creation_date":1654324255,"answer_id":72497616,"question_id":72497397,"body_markdown":"If you insist on using [streams][1] then you basically need a mapper function to map each line of file *imdb.csv* to an instance of class `InformationTypes`.\r\n\r\nIn the below code, I use [record][2] (rather than class), simply to make people aware of its existence in Java since JDK 14. It simply saves you from writing methods such as `equals` and `toString` (among others).\r\n\r\nAlso note that I use [method reference][3] to call the *mapper* function from the stream handling code.\r\n\r\nAnd I also changed the names of the variables, for example `Title` to `title`, so as to adhere to [Java naming conventions][4].\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic record InformationTypes(String title,\r\n                               String year,\r\n                               List&lt;String&gt; genre,\r\n                               String runTime,\r\n                               String rating,\r\n                               String votes,\r\n                               String director,\r\n                               List&lt;String&gt; cast) {\r\n\r\n    private static InformationTypes mapper(String line) {\r\n        String[] parts = line.split(&quot;,&quot;);\r\n        String title = parts[0];\r\n        String year = parts[1];\r\n        List&lt;String&gt; genre = Arrays.stream(parts[2].split(&quot;;&quot;))\r\n                                   .collect(Collectors.toList());\r\n        String runTime = parts[3];\r\n        String rating = parts[4];\r\n        String votes = parts[5];\r\n        String director = parts[6];\r\n        List&lt;String&gt; cast = Arrays.stream(parts[7].split(&quot;;&quot;))\r\n                                  .collect(Collectors.toList());\r\n        return new InformationTypes(title, year, genre, runTime, rating, votes, director, cast);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;imdb.csv&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            List&lt;InformationTypes&gt; allParts = lines.skip(1L)\r\n                                                   .map(InformationTypes::mapper)\r\n                                                   .collect(Collectors.toList());\r\n            allParts.forEach(System.out::println);\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the output I get when I run the above code using the sample data from your question.\r\n```none\r\nInformationTypes[title=In the Heat of the Night, year=1967, genre=[Crime, Drama, Mystery], runTime=110, rating=7.9, votes=68739, director=Norman Jewison, cast=[Sidney Poitier, Rod Steiger, Warren Oates, Lee Grant]]\r\nInformationTypes[title=Forushande, year=2016, genre=[Drama], runTime=124, rating=7.8, votes=52643, director=Asghar Farhadi, cast=[Shahab Hosseini, Taraneh Alidoosti, Babak Karimi, Mina Sadati]]\r\nInformationTypes[title=Rogue One, year=2016, genre=[Action, Adventure, Sci-Fi], runTime=133, rating=7.8, votes=564143, director=Gareth Edwards, cast=[Felicity Jones, Diego Luna, Alan Tudyk, Donnie Yen]]\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/en/java/javase/18/language/records.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [4]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to map csv file to List&lt;T&gt;","body":"<p>If you insist on using <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a> then you basically need a mapper function to map each line of file <em>imdb.csv</em> to an instance of class <code>InformationTypes</code>.</p>\n<p>In the below code, I use <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">record</a> (rather than class), simply to make people aware of its existence in Java since JDK 14. It simply saves you from writing methods such as <code>equals</code> and <code>toString</code> (among others).</p>\n<p>Also note that I use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> to call the <em>mapper</em> function from the stream handling code.</p>\n<p>And I also changed the names of the variables, for example <code>Title</code> to <code>title</code>, so as to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic record InformationTypes(String title,\n                               String year,\n                               List&lt;String&gt; genre,\n                               String runTime,\n                               String rating,\n                               String votes,\n                               String director,\n                               List&lt;String&gt; cast) {\n\n    private static InformationTypes mapper(String line) {\n        String[] parts = line.split(&quot;,&quot;);\n        String title = parts[0];\n        String year = parts[1];\n        List&lt;String&gt; genre = Arrays.stream(parts[2].split(&quot;;&quot;))\n                                   .collect(Collectors.toList());\n        String runTime = parts[3];\n        String rating = parts[4];\n        String votes = parts[5];\n        String director = parts[6];\n        List&lt;String&gt; cast = Arrays.stream(parts[7].split(&quot;;&quot;))\n                                  .collect(Collectors.toList());\n        return new InformationTypes(title, year, genre, runTime, rating, votes, director, cast);\n    }\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;imdb.csv&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            List&lt;InformationTypes&gt; allParts = lines.skip(1L)\n                                                   .map(InformationTypes::mapper)\n                                                   .collect(Collectors.toList());\n            allParts.forEach(System.out::println);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here is the output I get when I run the above code using the sample data from your question.</p>\n<pre class=\"lang-none prettyprint-override\"><code>InformationTypes[title=In the Heat of the Night, year=1967, genre=[Crime, Drama, Mystery], runTime=110, rating=7.9, votes=68739, director=Norman Jewison, cast=[Sidney Poitier, Rod Steiger, Warren Oates, Lee Grant]]\nInformationTypes[title=Forushande, year=2016, genre=[Drama], runTime=124, rating=7.8, votes=52643, director=Asghar Farhadi, cast=[Shahab Hosseini, Taraneh Alidoosti, Babak Karimi, Mina Sadati]]\nInformationTypes[title=Rogue One, year=2016, genre=[Action, Adventure, Sci-Fi], runTime=133, rating=7.8, votes=564143, director=Gareth Edwards, cast=[Felicity Jones, Diego Luna, Alan Tudyk, Donnie Yen]]\n</code></pre>\n"}],"owner":{"account_id":21641464,"reputation":249,"user_id":15963607,"display_name":"veli"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1654330642,"accepted_answer_id":72497616,"answer_count":2,"score":-2,"last_activity_date":1654324548,"creation_date":1654321366,"question_id":72497397,"body_markdown":"I&#39;m trying to read the content of the CSV file and map to `List&lt;T&gt;`\r\nwhere `T` has the same column name with the file.\r\n\r\n    class InformationTypes{\r\n        private String Title;\r\n        private String Year;\r\n        private List&lt;String&gt; Genre;\r\n        private String RunTime;\r\n        private String Rating;\r\n        private String Votes;\r\n        private String Director;\r\n        private List&lt;String&gt; Cast;\r\n    }\r\n    \r\n    private static List&lt;List&lt;InformationTypes&gt;&gt; allParts;\r\n\r\nHere is how I tried to read and map:\r\n\r\n    listInformationTypes = Files\r\n                .lines(Paths.get(&quot;imdb.csv&quot;))\r\n                .map(line -&gt; Arrays.asList(line.split(&quot;;&quot;)))\r\n                .collect(toList());\r\n\r\nIt didn&#39;t work unfortunately. What am I missing here?\r\n\r\nSample data from file *imdb.csv*:\r\n```none\r\nTitle,Year,Genre,RunTime,Rating,Votes,Director,Cast,Gross\r\n\r\nIn the Heat of the Night,1967,Crime;Drama;Mystery,110,7.9,68739,Norman Jewison,Sidney Poitier;Rod Steiger;Warren Oates;Lee Grant,24.38\r\n\r\nForushande,2016,Drama,124,7.8,52643,Asghar Farhadi,Shahab Hosseini;Taraneh Alidoosti;Babak Karimi;Mina Sadati,2.4\r\n\r\nRogue One,2016,Action;Adventure;Sci-Fi,133,7.8,564143,Gareth Edwards,Felicity Jones;Diego Luna;Alan Tudyk;Donnie Yen,532.18\r\n```\r\n","title":"How to map csv file to List&lt;T&gt;","body":"<p>I'm trying to read the content of the CSV file and map to <code>List&lt;T&gt;</code>\nwhere <code>T</code> has the same column name with the file.</p>\n<pre><code>class InformationTypes{\n    private String Title;\n    private String Year;\n    private List&lt;String&gt; Genre;\n    private String RunTime;\n    private String Rating;\n    private String Votes;\n    private String Director;\n    private List&lt;String&gt; Cast;\n}\n\nprivate static List&lt;List&lt;InformationTypes&gt;&gt; allParts;\n</code></pre>\n<p>Here is how I tried to read and map:</p>\n<pre><code>listInformationTypes = Files\n            .lines(Paths.get(&quot;imdb.csv&quot;))\n            .map(line -&gt; Arrays.asList(line.split(&quot;;&quot;)))\n            .collect(toList());\n</code></pre>\n<p>It didn't work unfortunately. What am I missing here?</p>\n<p>Sample data from file <em>imdb.csv</em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Title,Year,Genre,RunTime,Rating,Votes,Director,Cast,Gross\n\nIn the Heat of the Night,1967,Crime;Drama;Mystery,110,7.9,68739,Norman Jewison,Sidney Poitier;Rod Steiger;Warren Oates;Lee Grant,24.38\n\nForushande,2016,Drama,124,7.8,52643,Asghar Farhadi,Shahab Hosseini;Taraneh Alidoosti;Babak Karimi;Mina Sadati,2.4\n\nRogue One,2016,Action;Adventure;Sci-Fi,133,7.8,564143,Gareth Edwards,Felicity Jones;Diego Luna;Alan Tudyk;Donnie Yen,532.18\n</code></pre>\n"},{"tags":["java","jenkins"],"answers":[{"tags":[],"owner":{"account_id":17224231,"reputation":13,"user_id":12470307,"display_name":"Alain Lavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654324251,"creation_date":1654324251,"answer_id":72497615,"question_id":72492678,"body_markdown":"I finally found out what was the problem.\r\n\r\nIt was the service environment variable which was wrong. It should have been\r\n\r\n```\r\nEnvironment=&quot;JAVA_OPTS=-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12&quot;\r\n\r\n```\r\n\r\ninstead of\r\n```\r\nEnvironment=&quot;JAVA_OPTS=\\&quot;-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12\\&quot;&quot;\r\n\r\n```","title":"Jenkins running as service ignoring system properties","body":"<p>I finally found out what was the problem.</p>\n<p>It was the service environment variable which was wrong. It should have been</p>\n<pre><code>Environment=&quot;JAVA_OPTS=-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12&quot;\n\n</code></pre>\n<p>instead of</p>\n<pre><code>Environment=&quot;JAVA_OPTS=\\&quot;-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12\\&quot;&quot;\n\n</code></pre>\n"}],"owner":{"account_id":17224231,"reputation":13,"user_id":12470307,"display_name":"Alain Lavoie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72497615,"answer_count":1,"score":0,"last_activity_date":1654324251,"creation_date":1654274264,"question_id":72492678,"body_markdown":"We had a situation where our Jenkins server had to be rebuild completely. We used the latest version and it is running. We however have a problem with https connections either being on the plugin search or calls to us login.\r\n\r\nIt gives us the following error\r\n```\r\nun 03 12:15:51 cca-t2-jenkins-master systemd[1]: Started Jenkins Continuous Integration Server.\r\nJun 03 12:15:51 cca-t2-jenkins-master sudo[18486]: pam_unix(sudo:session): session closed for user root\r\nJun 03 12:15:57 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:15:57.036+0000 [id=749]        INFO        h.p.sonar.SonarBuildWrapper#setUp: Injecting SonarQube environment variables using the configuration: SonarCloud\r\nJun 03 12:15:57 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:15:57.065+0000 [id=749]        INFO        h.p.sonar.SonarBuildWrapper#createLoggerDecorator: Masking SonarQube passwords\r\nJun 03 12:16:04 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:04.393+0000 [id=15]        WARNING        o.j.p.workflow.job.WorkflowRun#checkouts: JENKINS-26761: no checkouts in hassan-test #36\r\nJun 03 12:16:04 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:04.396+0000 [id=15]        WARNING        o.j.p.workflow.job.WorkflowRun#checkouts: JENKINS-26761: no checkouts in hassan-test #32\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:08.828+0000 [id=16]        WARNING        h.i.i.InstallUncaughtExceptionHandler#handleException: Caught unhandled exception with ID 81b59c52-496a-4052-9073-427dacbaab2c\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:99)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: Caused: java.lang.RuntimeException: Unexpected error\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.Validator.getInstance(Validator.java:181)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:300)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1411)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:451)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: Caused: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:352)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:295)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:290)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1684)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:572)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1367)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1342)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:246)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:77)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:972)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:283)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.auth.openidconnect.IdTokenResponse.execute(IdTokenResponse.java:120)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.GoogleOAuth2SecurityRealm$2.onSuccess(GoogleOAuth2SecurityRealm.java:208)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.OAuthSession.doFinishLogin(OAuthSession.java:107)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.GoogleOAuth2SecurityRealm.doFinishLogin(GoogleOAuth2SecurityRealm.java:299)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\r\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\r\n\r\n```\r\nI managed to have it running by running manually the following command:\r\n```\r\n/usr/bin/java -Djava.awt.headless=true -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12 -jar /usr/share/java/jenkins.war --webroot=%C/jenkins/war --httpPort=8080\r\n```\r\n\r\nSo i tried to add the values in `/etc/default/jenkins` which seems to be ignored completely. I updated the service with `systemctl edit jenkins` with the following:\r\n```\r\n[Service]\r\nEnvironment=&quot;JENKINS_HOME=/data/jenkins&quot;\r\nEnvironment=&quot;JAVA_OPTS=\\&quot;-XshowSettings:properties -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12\\&quot; &quot;\r\n```\r\n\r\nOnly the first JVM argument is taken\r\n```\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: VM settings:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Max. Heap Size (Estimated): 1.95G\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Using VM: OpenJDK 64-Bit Server VM\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Property settings:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     awt.toolkit = sun.awt.X11.XToolkit\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     file.encoding = UTF-8\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     file.separator = /\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.awt.graphicsenv = sun.awt.X11GraphicsEnvironment\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.awt.printerjob = sun.print.PSPrinterJob\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.class.path = /usr/share/java/jenkins.war\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.class.version = 55.0\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.home = /usr/lib/jvm/java-11-openjdk-amd64\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.io.tmpdir = /tmp\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.library.path = /usr/java/packages/lib\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/x86_64-linux-gnu/jni\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /lib/x86_64-linux-gnu\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/x86_64-linux-gnu\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/jni\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /lib\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.runtime.name = OpenJDK Runtime Environment\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.runtime.version = 11.0.14+9-Ubuntu-0ubuntu2.16.04\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.name = Java Platform API Specification\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.vendor = Oracle Corporation\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.version = 11\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor = Ubuntu\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor.url = https://ubuntu.com/\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor.url.bug = https://bugs.launchpad.net/ubuntu/+source/openjdk-lts\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.version = 11.0.14\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.version.date = 2022-01-18\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.compressedOopsMode = 32-bit\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.info = mixed mode, sharing\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.name = OpenJDK 64-Bit Server VM\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.name = Java Virtual Machine Specification\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.vendor = Oracle Corporation\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.version = 11\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.vendor = Ubuntu\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.version = 11.0.14+9-Ubuntu-0ubuntu2.16.04\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     jdk.debug = release\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     line.separator = \\n\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.arch = amd64\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.name = Linux\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.version = 4.4.0-210-generic\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     path.separator = :\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.arch.data.model = 64\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.boot.library.path = /usr/lib/jvm/java-11-openjdk-amd64/lib\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.cpu.endian = little\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.cpu.isalist =\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.io.unicode.encoding = UnicodeLittle\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.java.command = /usr/share/java/jenkins.war --webroot=%C/jenkins/war --httpPort=8080\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.java.launcher = SUN_STANDARD\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.jnu.encoding = UTF-8\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.management.compiler = HotSpot 64-Bit Tiered Compilers\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.os.patch.level = unknown\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.country = US\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.dir = /var/lib/jenkins\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.home = /var/lib/jenkins\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.language = en\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.name = jenkins\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.timezone =\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Locale settings:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default locale = English (United States)\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default display locale = English (United States)\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default format locale = English (United States)\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     available locales = , af, af_NA, af_ZA, agq, agq_CM, ak, ak_GH,\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Operating System Metrics:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Provider: cgroupv1\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Effective CPU Count: 4\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Period: 100000us\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Quota: -1\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Shares: -1\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Processors, 4 total:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0 1 2 3\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Effective Processors, 4 total:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0 1 2 3\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Memory Nodes, 1 total:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Available Memory Nodes, 1 total:\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPUSet Memory Pressure Enabled: false\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory Limit: Unlimited\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory Soft Limit: Unlimited\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory &amp; Swap Limit: Unlimited\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Kernel Memory Limit: Unlimited\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     TCP Memory Limit: Unlimited\r\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Out Of Memory Killer Enabled: true\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: Running from: /usr/share/java/jenkins.war\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.297+0000 [id=1]        INFO        org.eclipse.jetty.util.log.Log#initialized: Logging initialized @479ms to org.eclipse.jetty.util.log.JavaUtilLog\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.360+0000 [id=1]        INFO        winstone.Logger#logInternal: Beginning extraction from war file\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.385+0000 [id=1]        WARNING        o.e.j.s.handler.ContextHandler#setContextPath: Empty contextPath\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.445+0000 [id=1]        INFO        org.eclipse.jetty.server.Server#doStart: jetty-9.4.46.v20220331; built: 2022-03-31T16:38:08.030Z; git: bc17a0369a11ecf40bb92c839b9ef0a8ac50ea18; jvm 11.0.14+9-Ub\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.728+0000 [id=1]        INFO        o.e.j.w.StandardDescriptorProcessor#visitServlet: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.767+0000 [id=1]        INFO        o.e.j.s.s.DefaultSessionIdManager#doStart: DefaultSessionIdManager workerName=node0\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.767+0000 [id=1]        INFO        o.e.j.s.s.DefaultSessionIdManager#doStart: No SessionScavenger set, using defaults\r\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.768+0000 [id=1]        INFO        o.e.j.server.session.HouseKeeper#startScavenging: node0 Scavenging every 660000ms\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.162+0000 [id=1]        INFO        hudson.WebAppMain#contextInitialized: Jenkins home directory: /data/jenkins found at: EnvVars.masterEnvVars.get(&quot;JENKINS_HOME&quot;)\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.350+0000 [id=1]        INFO        o.e.j.s.handler.ContextHandler#doStart: Started w.@5b6813df{Jenkins v2.350,/,file:///var/lib/jenkins/%25C/jenkins/war/,AVAILABLE}{/var/lib/jenkins/%C/jenkins/war\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.379+0000 [id=1]        INFO        o.e.j.server.AbstractConnector#doStart: Started ServerConnector@4bb4de6a{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.379+0000 [id=1]        INFO        org.eclipse.jetty.server.Server#doStart: Started @1562ms\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.380+0000 [id=24]        INFO        winstone.Logger#logInternal: Winstone Servlet Engine running: controlPort=disabled\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.713+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Started initialization\r\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.855+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Listed all plugins\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.769+0000 [id=37]        INFO        jenkins.InitReactorRunner$1#onAttained: Prepared all plugins\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.796+0000 [id=36]        INFO        jenkins.InitReactorRunner$1#onAttained: Started all plugins\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.817+0000 [id=31]        INFO        jenkins.InitReactorRunner$1#onAttained: Augmented all extensions\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: An illegal reflective access operation has occurred\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/var/lib/jenkins/%25C/jenkins/war/WEB-INF/lib/groovy-all-2.4.21.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: All illegal access operations will be denied in a future release\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.021+0000 [id=32]        INFO        h.p.b.g.GlobalTimeOutConfiguration#load: global timeout not set\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.378+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave1\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.380+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave2\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.383+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave3\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.384+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave4\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.409+0000 [id=33]        INFO        jenkins.InitReactorRunner$1#onAttained: System config loaded\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.866+0000 [id=32]        INFO        jenkins.InitReactorRunner$1#onAttained: System config adapted\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.955+0000 [id=35]        INFO        jenkins.InitReactorRunner$1#onAttained: Loaded all jobs\r\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.958+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Configuration for all jobs updated\r\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.004+0000 [id=74]        INFO        hudson.model.AsyncPeriodicWork#lambda$doRun$1: Started Download metadata\r\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.195+0000 [id=35]        INFO        jenkins.InitReactorRunner$1#onAttained: Completed initialization\r\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.345+0000 [id=23]        INFO        hudson.lifecycle.Lifecycle#onReady: Jenkins is fully up and running\r\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.467+0000 [id=74]        WARNING        h.m.DownloadService$Downloadable#updateNow: No tool installer metadata found for jenkins.plugins.nodejs.tools.MirrorNodeJSInstaller\r\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.469+0000 [id=74]        INFO        hudson.model.AsyncPeriodicWork#lambda$doRun$1: Finished Download metadata. 440 ms\r\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave4 on 10.178.52.3 completed in 2,902 ms\r\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave1 on 10.178.52.112 completed in 2,942 ms\r\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave2 on 10.178.52.125 completed in 3,018 ms\r\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave3 on 10.178.52.42 completed in 3,353 ms\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:25:13.429+0000 [id=13]        WARNING        h.i.i.InstallUncaughtExceptionHandler#handleException: Caught unhandled exception with ID 220cd647-d02c-46cf-98d9-cd79c069cda3\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:99)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: Caused: java.lang.RuntimeException: Unexpected error\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.Validator.getInstance(Validator.java:181)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:300)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176)\r\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189)\r\n```\r\n\r\nThe ps seems to have all the required parameters:\r\n```\r\njenkins  31198     1 21 12:24 ?        00:00:54 /usr/bin/java -XshowSettings:properties -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12 -jar /usr/share/java/je\r\nnkins.war --webroot=%C/jenkins/war --httpPort=8080\r\n\r\n```\r\n\r\n\r\nAnyone could help me with this?","title":"Jenkins running as service ignoring system properties","body":"<p>We had a situation where our Jenkins server had to be rebuild completely. We used the latest version and it is running. We however have a problem with https connections either being on the plugin search or calls to us login.</p>\n<p>It gives us the following error</p>\n<pre><code>un 03 12:15:51 cca-t2-jenkins-master systemd[1]: Started Jenkins Continuous Integration Server.\nJun 03 12:15:51 cca-t2-jenkins-master sudo[18486]: pam_unix(sudo:session): session closed for user root\nJun 03 12:15:57 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:15:57.036+0000 [id=749]        INFO        h.p.sonar.SonarBuildWrapper#setUp: Injecting SonarQube environment variables using the configuration: SonarCloud\nJun 03 12:15:57 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:15:57.065+0000 [id=749]        INFO        h.p.sonar.SonarBuildWrapper#createLoggerDecorator: Masking SonarQube passwords\nJun 03 12:16:04 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:04.393+0000 [id=15]        WARNING        o.j.p.workflow.job.WorkflowRun#checkouts: JENKINS-26761: no checkouts in hassan-test #36\nJun 03 12:16:04 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:04.396+0000 [id=15]        WARNING        o.j.p.workflow.job.WorkflowRun#checkouts: JENKINS-26761: no checkouts in hassan-test #32\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: 2022-06-03 16:16:08.828+0000 [id=16]        WARNING        h.i.i.InstallUncaughtExceptionHandler#handleException: Caught unhandled exception with ID 81b59c52-496a-4052-9073-427dacbaab2c\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:99)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: Caused: java.lang.RuntimeException: Unexpected error\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.validator.Validator.getInstance(Validator.java:181)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:300)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1501)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1411)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:451)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]: Caused: javax.net.ssl.SSLException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:352)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:295)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:290)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1684)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:466)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:422)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:572)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1367)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1342)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:246)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:77)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:972)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:283)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at com.google.api.client.auth.openidconnect.IdTokenResponse.execute(IdTokenResponse.java:120)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.GoogleOAuth2SecurityRealm$2.onSuccess(GoogleOAuth2SecurityRealm.java:208)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.OAuthSession.doFinishLogin(OAuthSession.java:107)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.jenkinsci.plugins.googlelogin.GoogleOAuth2SecurityRealm.doFinishLogin(GoogleOAuth2SecurityRealm.java:299)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:397)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:409)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function.bindAndInvoke(Function.java:207)\nJun 03 12:16:08 cca-t2-jenkins-master jenkins[18512]:         at org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:140)\n\n</code></pre>\n<p>I managed to have it running by running manually the following command:</p>\n<pre><code>/usr/bin/java -Djava.awt.headless=true -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12 -jar /usr/share/java/jenkins.war --webroot=%C/jenkins/war --httpPort=8080\n</code></pre>\n<p>So i tried to add the values in <code>/etc/default/jenkins</code> which seems to be ignored completely. I updated the service with <code>systemctl edit jenkins</code> with the following:</p>\n<pre><code>[Service]\nEnvironment=&quot;JENKINS_HOME=/data/jenkins&quot;\nEnvironment=&quot;JAVA_OPTS=\\&quot;-XshowSettings:properties -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12\\&quot; &quot;\n</code></pre>\n<p>Only the first JVM argument is taken</p>\n<pre><code>Jun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: VM settings:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Max. Heap Size (Estimated): 1.95G\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Using VM: OpenJDK 64-Bit Server VM\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Property settings:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     awt.toolkit = sun.awt.X11.XToolkit\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     file.encoding = UTF-8\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     file.separator = /\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.awt.graphicsenv = sun.awt.X11GraphicsEnvironment\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.awt.printerjob = sun.print.PSPrinterJob\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.class.path = /usr/share/java/jenkins.war\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.class.version = 55.0\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.home = /usr/lib/jvm/java-11-openjdk-amd64\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.io.tmpdir = /tmp\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.library.path = /usr/java/packages/lib\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/x86_64-linux-gnu/jni\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /lib/x86_64-linux-gnu\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/x86_64-linux-gnu\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib/jni\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /lib\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:         /usr/lib\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.runtime.name = OpenJDK Runtime Environment\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.runtime.version = 11.0.14+9-Ubuntu-0ubuntu2.16.04\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.name = Java Platform API Specification\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.vendor = Oracle Corporation\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.specification.version = 11\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor = Ubuntu\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor.url = https://ubuntu.com/\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vendor.url.bug = https://bugs.launchpad.net/ubuntu/+source/openjdk-lts\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.version = 11.0.14\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.version.date = 2022-01-18\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.compressedOopsMode = 32-bit\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.info = mixed mode, sharing\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.name = OpenJDK 64-Bit Server VM\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.name = Java Virtual Machine Specification\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.vendor = Oracle Corporation\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.specification.version = 11\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.vendor = Ubuntu\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     java.vm.version = 11.0.14+9-Ubuntu-0ubuntu2.16.04\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     jdk.debug = release\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     line.separator = \\n\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.arch = amd64\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.name = Linux\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     os.version = 4.4.0-210-generic\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     path.separator = :\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.arch.data.model = 64\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.boot.library.path = /usr/lib/jvm/java-11-openjdk-amd64/lib\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.cpu.endian = little\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.cpu.isalist =\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.io.unicode.encoding = UnicodeLittle\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.java.command = /usr/share/java/jenkins.war --webroot=%C/jenkins/war --httpPort=8080\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.java.launcher = SUN_STANDARD\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.jnu.encoding = UTF-8\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.management.compiler = HotSpot 64-Bit Tiered Compilers\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     sun.os.patch.level = unknown\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.country = US\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.dir = /var/lib/jenkins\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.home = /var/lib/jenkins\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.language = en\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.name = jenkins\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     user.timezone =\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Locale settings:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default locale = English (United States)\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default display locale = English (United States)\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     default format locale = English (United States)\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     available locales = , af, af_NA, af_ZA, agq, agq_CM, ak, ak_GH,\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]: Operating System Metrics:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Provider: cgroupv1\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Effective CPU Count: 4\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Period: 100000us\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Quota: -1\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPU Shares: -1\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Processors, 4 total:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0 1 2 3\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Effective Processors, 4 total:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0 1 2 3\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Memory Nodes, 1 total:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     List of Available Memory Nodes, 1 total:\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     0\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     CPUSet Memory Pressure Enabled: false\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory Limit: Unlimited\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory Soft Limit: Unlimited\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Memory &amp; Swap Limit: Unlimited\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Kernel Memory Limit: Unlimited\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     TCP Memory Limit: Unlimited\nJun 03 12:24:32 cca-t2-jenkins-master jenkins[31198]:     Out Of Memory Killer Enabled: true\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: Running from: /usr/share/java/jenkins.war\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.297+0000 [id=1]        INFO        org.eclipse.jetty.util.log.Log#initialized: Logging initialized @479ms to org.eclipse.jetty.util.log.JavaUtilLog\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.360+0000 [id=1]        INFO        winstone.Logger#logInternal: Beginning extraction from war file\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.385+0000 [id=1]        WARNING        o.e.j.s.handler.ContextHandler#setContextPath: Empty contextPath\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.445+0000 [id=1]        INFO        org.eclipse.jetty.server.Server#doStart: jetty-9.4.46.v20220331; built: 2022-03-31T16:38:08.030Z; git: bc17a0369a11ecf40bb92c839b9ef0a8ac50ea18; jvm 11.0.14+9-Ub\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.728+0000 [id=1]        INFO        o.e.j.w.StandardDescriptorProcessor#visitServlet: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.767+0000 [id=1]        INFO        o.e.j.s.s.DefaultSessionIdManager#doStart: DefaultSessionIdManager workerName=node0\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.767+0000 [id=1]        INFO        o.e.j.s.s.DefaultSessionIdManager#doStart: No SessionScavenger set, using defaults\nJun 03 12:24:33 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:33.768+0000 [id=1]        INFO        o.e.j.server.session.HouseKeeper#startScavenging: node0 Scavenging every 660000ms\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.162+0000 [id=1]        INFO        hudson.WebAppMain#contextInitialized: Jenkins home directory: /data/jenkins found at: EnvVars.masterEnvVars.get(&quot;JENKINS_HOME&quot;)\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.350+0000 [id=1]        INFO        o.e.j.s.handler.ContextHandler#doStart: Started w.@5b6813df{Jenkins v2.350,/,file:///var/lib/jenkins/%25C/jenkins/war/,AVAILABLE}{/var/lib/jenkins/%C/jenkins/war\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.379+0000 [id=1]        INFO        o.e.j.server.AbstractConnector#doStart: Started ServerConnector@4bb4de6a{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.379+0000 [id=1]        INFO        org.eclipse.jetty.server.Server#doStart: Started @1562ms\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.380+0000 [id=24]        INFO        winstone.Logger#logInternal: Winstone Servlet Engine running: controlPort=disabled\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.713+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Started initialization\nJun 03 12:24:34 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:34.855+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Listed all plugins\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.769+0000 [id=37]        INFO        jenkins.InitReactorRunner$1#onAttained: Prepared all plugins\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.796+0000 [id=36]        INFO        jenkins.InitReactorRunner$1#onAttained: Started all plugins\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:38.817+0000 [id=31]        INFO        jenkins.InitReactorRunner$1#onAttained: Augmented all extensions\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: An illegal reflective access operation has occurred\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/var/lib/jenkins/%25C/jenkins/war/WEB-INF/lib/groovy-all-2.4.21.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nJun 03 12:24:38 cca-t2-jenkins-master jenkins[31198]: WARNING: All illegal access operations will be denied in a future release\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.021+0000 [id=32]        INFO        h.p.b.g.GlobalTimeOutConfiguration#load: global timeout not set\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.378+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave1\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.380+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave2\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.383+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave3\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.384+0000 [id=33]        INFO        hudson.slaves.SlaveComputer#tryReconnect: Attempting to reconnect slave4\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.409+0000 [id=33]        INFO        jenkins.InitReactorRunner$1#onAttained: System config loaded\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.866+0000 [id=32]        INFO        jenkins.InitReactorRunner$1#onAttained: System config adapted\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.955+0000 [id=35]        INFO        jenkins.InitReactorRunner$1#onAttained: Loaded all jobs\nJun 03 12:24:40 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:40.958+0000 [id=30]        INFO        jenkins.InitReactorRunner$1#onAttained: Configuration for all jobs updated\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.004+0000 [id=74]        INFO        hudson.model.AsyncPeriodicWork#lambda$doRun$1: Started Download metadata\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.195+0000 [id=35]        INFO        jenkins.InitReactorRunner$1#onAttained: Completed initialization\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.345+0000 [id=23]        INFO        hudson.lifecycle.Lifecycle#onReady: Jenkins is fully up and running\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.467+0000 [id=74]        WARNING        h.m.DownloadService$Downloadable#updateNow: No tool installer metadata found for jenkins.plugins.nodejs.tools.MirrorNodeJSInstaller\nJun 03 12:24:41 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:24:41.469+0000 [id=74]        INFO        hudson.model.AsyncPeriodicWork#lambda$doRun$1: Finished Download metadata. 440 ms\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave4 on 10.178.52.3 completed in 2,902 ms\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave1 on 10.178.52.112 completed in 2,942 ms\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave2 on 10.178.52.125 completed in 3,018 ms\nJun 03 12:24:43 cca-t2-jenkins-master jenkins[31198]: [06/03/22 12:24:43] SSH Launch of slave3 on 10.178.52.42 completed in 3,353 ms\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: 2022-06-03 16:25:13.429+0000 [id=13]        WARNING        h.i.i.InstallUncaughtExceptionHandler#handleException: Caught unhandled exception with ID 220cd647-d02c-46cf-98d9-cd79c069cda3\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:99)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]: Caused: java.lang.RuntimeException: Unexpected error\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:102)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.validator.Validator.getInstance(Validator.java:181)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:300)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:176)\nJun 03 12:25:13 cca-t2-jenkins-master jenkins[31198]:         at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:189)\n</code></pre>\n<p>The ps seems to have all the required parameters:</p>\n<pre><code>jenkins  31198     1 21 12:24 ?        00:00:54 /usr/bin/java -XshowSettings:properties -Djavax.net.debug=all -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djavax.net.ssl.trustStoreType=pkcs12 -jar /usr/share/java/je\nnkins.war --webroot=%C/jenkins/war --httpPort=8080\n\n</code></pre>\n<p>Anyone could help me with this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638867385,"creation_date":1638867385,"answer_id":70257284,"question_id":70252350,"body_markdown":"I have following configuration with Spring Boot 2.6.1 and it successfully loads file with a space in name.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = { &quot;com.example.sw&quot; }) \r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \t\r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/files/**&quot;).addResourceLocations(&quot;file:D:/img/&quot;);\r\n    \t}\r\n    }\r\n\r\nI have an image with name &quot;SO 1.png&quot; (note the space). When hitting the application I get the image\r\n\r\n[![enter image description here][1]][1] \r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can probably troubleshoot by putting Spring web on TRACE level where it emits below information while serving the file.\r\n\r\n    logging.level.org.springframework.web.servlet=TRACE\r\n\r\nBelow are the logs\r\n\r\n    2021-12-07 14:24:24.544 TRACE 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/files/SO%201.png&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2021-12-07 14:24:24.568 TRACE 17200 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:D:/img/]]] and 3 interceptors\r\n    2021-12-07 14:24:24.580 TRACE 17200 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Applying default cacheSeconds=-1\r\n    2021-12-07 14:24:24.626 TRACE 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\n    2021-12-07 14:24:24.626 DEBUG 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK, headers={masked}\r\n\r\n  [1]: https://i.stack.imgur.com/yzWoP.png\r\n  [2]: https://i.stack.imgur.com/ye2LB.png","title":"Serving static files with spaces in file names with Spring Boot","body":"<p>I have following configuration with Spring Boot 2.6.1 and it successfully loads file with a space in name.</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = { &quot;com.example.sw&quot; }) \npublic class WebConfig implements WebMvcConfigurer {\n    \n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/files/**&quot;).addResourceLocations(&quot;file:D:/img/&quot;);\n    }\n}\n</code></pre>\n<p>I have an image with name &quot;SO 1.png&quot; (note the space). When hitting the application I get the image</p>\n<p><a href=\"https://i.stack.imgur.com/yzWoP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzWoP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ye2LB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ye2LB.png\" alt=\"enter image description here\" /></a></p>\n<p>You can probably troubleshoot by putting Spring web on TRACE level where it emits below information while serving the file.</p>\n<pre><code>logging.level.org.springframework.web.servlet=TRACE\n</code></pre>\n<p>Below are the logs</p>\n<pre><code>2021-12-07 14:24:24.544 TRACE 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/files/SO%201.png&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\n2021-12-07 14:24:24.568 TRACE 17200 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [URL [file:D:/img/]]] and 3 interceptors\n2021-12-07 14:24:24.580 TRACE 17200 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Applying default cacheSeconds=-1\n2021-12-07 14:24:24.626 TRACE 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\n2021-12-07 14:24:24.626 DEBUG 17200 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK, headers={masked}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1382232,"reputation":1080,"user_id":1314986,"display_name":"aaguilera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639054561,"creation_date":1638888585,"answer_id":70262239,"question_id":70252350,"body_markdown":"I have found a workaround for this issue.\r\n\r\nJust add the following in your Spring Boot configuration file `application.properties`:\r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\nThe [documentation for this property](https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#application-properties.web.spring.mvc.pathmatch.matching-strategy) states that `ant-path-matcher` is the default value, but it is not. The [source code](https://github.com/spring-projects/spring-boot/blob/756b9b9254ec4b09f46aba110ca837b50f7d7a92/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcProperties.java#L404) shows that the default value is `path-pattern-parser`. I submitted [an issue](https://github.com/spring-projects/spring-boot/issues/28936).","title":"Serving static files with spaces in file names with Spring Boot","body":"<p>I have found a workaround for this issue.</p>\n<p>Just add the following in your Spring Boot configuration file <code>application.properties</code>:</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant-path-matcher\n</code></pre>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#application-properties.web.spring.mvc.pathmatch.matching-strategy\" rel=\"nofollow noreferrer\">documentation for this property</a> states that <code>ant-path-matcher</code> is the default value, but it is not. The <a href=\"https://github.com/spring-projects/spring-boot/blob/756b9b9254ec4b09f46aba110ca837b50f7d7a92/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/WebMvcProperties.java#L404\" rel=\"nofollow noreferrer\">source code</a> shows that the default value is <code>path-pattern-parser</code>. I submitted <a href=\"https://github.com/spring-projects/spring-boot/issues/28936\" rel=\"nofollow noreferrer\">an issue</a>.</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645734538,"creation_date":1645734538,"answer_id":71257879,"question_id":70252350,"body_markdown":"in Spring 5 a new [PathPatternParser](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html) was introduced\r\n\r\ntry replacing \r\n```\r\nregistry.addResourceHandler(&quot;/files/**&quot;)\r\n```\r\nwith:\r\n```\r\nregistry.addResourceHandler(&quot;/files/{*path}&quot;)\r\n```\r\n","title":"Serving static files with spaces in file names with Spring Boot","body":"<p>in Spring 5 a new <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html\" rel=\"nofollow noreferrer\">PathPatternParser</a> was introduced</p>\n<p>try replacing</p>\n<pre><code>registry.addResourceHandler(&quot;/files/**&quot;)\n</code></pre>\n<p>with:</p>\n<pre><code>registry.addResourceHandler(&quot;/files/{*path}&quot;)\n</code></pre>\n"}],"owner":{"account_id":1382232,"reputation":1080,"user_id":1314986,"display_name":"aaguilera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70262239,"answer_count":3,"score":0,"last_activity_date":1654324162,"creation_date":1638827103,"question_id":70252350,"body_markdown":"I&#39;ve found a very strange behavior in Spring Boot when trying to serve static files with spaces (or any other special chars, like accents) in file names.\r\n\r\nI&#39;m using Spring Boot 2.6.1 with Spring Web MVC and the following customization:\r\n\r\n```java\r\n@Configuration\r\npublic class MyConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/repo/**&quot;)\r\n                .addResourceLocations(&quot;file:///srv/intranet/repo/&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have two files under `/srv/intranet/repo`, named `foo.txt` and `foo bar.txt` (note the space in the second file name).\r\n\r\nWhen I start my application, I can access the first file at `http://localhost:8080/repo/foo.txt`. But I cannot access the second file (the one with the space in the file name) at `http://localhost:8080/repo/foo%20bar.txt` (I get a 404 error).\r\n\r\nBUT if I put the file `foo bar.txt` under `src/main/resources/static`, then I can acces the file at `http://localhost:8080/foo%20bar.txt`.\r\n\r\nI&#39;m aware that Spring Boot [configures several directories](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content) by default to serve static content (one of them being `classpath:/static/`), so I&#39;m wondering: what is the difference between the preconfigured directories and the one I&#39;m adding in my @Configuration class via `addResourceHandler().addResourceLocations()`? Am I missing some details when adding the new resourceHandler?\r\n\r\n**WORKAROUND**\r\n\r\nYou can set the following property in your `application.properties` (or equivalent .yml) to get the old behavior in Spring Boot (pre-v2.6.0):\r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\n**UPDATE**\r\n\r\nI believe this is probably a bug in `PathPattern`, which replaces `AntPathMatcher`, and was introduced in Spring Framework 5.3 and adopted in Spring Boot 2.6.0. [I submitted a bug report](https://github.com/spring-projects/spring-boot/issues/28939).\r\n\r\n**UPDATE (2022-06-04)**\r\n\r\nThe bug has been [fixed](https://github.com/spring-projects/spring-framework/issues/27791). The fix will be included in Spring Framework 5.3.21.","title":"Serving static files with spaces in file names with Spring Boot","body":"<p>I've found a very strange behavior in Spring Boot when trying to serve static files with spaces (or any other special chars, like accents) in file names.</p>\n<p>I'm using Spring Boot 2.6.1 with Spring Web MVC and the following customization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/repo/**&quot;)\n                .addResourceLocations(&quot;file:///srv/intranet/repo/&quot;);\n    }\n}\n</code></pre>\n<p>I have two files under <code>/srv/intranet/repo</code>, named <code>foo.txt</code> and <code>foo bar.txt</code> (note the space in the second file name).</p>\n<p>When I start my application, I can access the first file at <code>http://localhost:8080/repo/foo.txt</code>. But I cannot access the second file (the one with the space in the file name) at <code>http://localhost:8080/repo/foo%20bar.txt</code> (I get a 404 error).</p>\n<p>BUT if I put the file <code>foo bar.txt</code> under <code>src/main/resources/static</code>, then I can acces the file at <code>http://localhost:8080/foo%20bar.txt</code>.</p>\n<p>I'm aware that Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.static-content\" rel=\"nofollow noreferrer\">configures several directories</a> by default to serve static content (one of them being <code>classpath:/static/</code>), so I'm wondering: what is the difference between the preconfigured directories and the one I'm adding in my @Configuration class via <code>addResourceHandler().addResourceLocations()</code>? Am I missing some details when adding the new resourceHandler?</p>\n<p><strong>WORKAROUND</strong></p>\n<p>You can set the following property in your <code>application.properties</code> (or equivalent .yml) to get the old behavior in Spring Boot (pre-v2.6.0):</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant-path-matcher\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I believe this is probably a bug in <code>PathPattern</code>, which replaces <code>AntPathMatcher</code>, and was introduced in Spring Framework 5.3 and adopted in Spring Boot 2.6.0. <a href=\"https://github.com/spring-projects/spring-boot/issues/28939\" rel=\"nofollow noreferrer\">I submitted a bug report</a>.</p>\n<p><strong>UPDATE (2022-06-04)</strong></p>\n<p>The bug has been <a href=\"https://github.com/spring-projects/spring-framework/issues/27791\" rel=\"nofollow noreferrer\">fixed</a>. The fix will be included in Spring Framework 5.3.21.</p>\n"},{"tags":["java","android","webview","android-webview","google-chrome-webview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650274841,"post_id":71909902,"comment_id":127069798,"body_markdown":"Don&#39;t you think u need to decrease the number of lines of error? Its too big","body":"Don&#39;t you think u need to decrease the number of lines of error? Its too big"},{"owner":{"account_id":991388,"reputation":2610,"user_id":1008588,"accept_rate":96,"display_name":"Nicolaesse"},"score":0,"creation_date":1650275480,"post_id":71909902,"comment_id":127069977,"body_markdown":"Thanks @Sambhav.K I edited the post and show a more concise log","body":"Thanks @Sambhav.K I edited the post and show a more concise log"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650275616,"post_id":71909902,"comment_id":127070009,"body_markdown":"I don&#39;t think this is a crash in your app. It is a suppressible error i guess","body":"I don&#39;t think this is a crash in your app. It is a suppressible error i guess"},{"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"score":0,"creation_date":1669176250,"post_id":71909902,"comment_id":131582812,"body_markdown":"from last few weeks, Cordova app also throwing error code 3 timeout, without any app changes. anyone have same issue or have luck on it?","body":"from last few weeks, Cordova app also throwing error code 3 timeout, without any app changes. anyone have same issue or have luck on it?"}],"answers":[{"tags":[],"owner":{"account_id":10798473,"reputation":138,"user_id":7943338,"display_name":"Big Pete"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654322846,"creation_date":1654322846,"answer_id":72497505,"question_id":71909902,"body_markdown":"Yes. I had a similar problem. Location permissions for an android webview and geolocation are no longer handled by the webChromeClient. They are now handled in the same way as an Android native app. I used the following as a guide and it worked well.\r\n\r\nhttps://developer.android.com/training/location/permissions","title":"WebChromeClient doesn&#39;t ask for location permission anymore","body":"<p>Yes. I had a similar problem. Location permissions for an android webview and geolocation are no longer handled by the webChromeClient. They are now handled in the same way as an Android native app. I used the following as a guide and it worked well.</p>\n<p><a href=\"https://developer.android.com/training/location/permissions\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/permissions</a></p>\n"}],"owner":{"account_id":991388,"reputation":2610,"user_id":1008588,"accept_rate":96,"display_name":"Nicolaesse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72497505,"answer_count":1,"score":2,"last_activity_date":1654322846,"creation_date":1650273640,"question_id":71909902,"body_markdown":"I have an Android App which uses WebView to show a map on Open Street Map and few weeks stop working properly. \r\n\r\nA few weeks ago when the user tap on show my location on the web page Android shows a prompt to allow the app to load the current position but at the moment just an error is shown: `Geolocation error: user denied Geolocation`.\r\n\r\nI looked here on SO and on Google to find if some part of my code became deprecated or blocked but I didn&#39;t find anything useful. The only information I found was about `ActionBarActivity` but also using `AppCompatActivity` the problem was the same.\r\n\r\nThe MVP version of the MainActivity is the following (I deleted other unuseful lines for this example):\r\n\r\n    package com.vinaysomawat.careerhigh;\r\n    \r\n    import android.Manifest;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v4.app.ActivityCompat;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v7.app.ActionBarActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    import android.webkit.GeolocationPermissions;\r\n    import android.webkit.WebChromeClient;\r\n    \r\n    \r\n    public class MainActivity extends ActionBarActivity {\r\n        public String mGeolocationOrigin;\r\n        public GeolocationPermissions.Callback mGeolocationCallback;\r\n        private static final int REQUEST_FINE_LOCATION=0;\r\n    \r\n        public class GeoWebViewClient extends WebViewClient {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                // When user clicks a hyperlink, load in the existing WebView\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        public class GeoWebChromeClient extends WebChromeClient {\r\n            @Override\r\n            public void onGeolocationPermissionsShowPrompt(String origin,\r\n                                                           GeolocationPermissions.Callback callback) {\r\n                String perm = Manifest.permission.ACCESS_FINE_LOCATION;\r\n                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M ||\r\n                        ContextCompat.checkSelfPermission(MainActivity.this, perm) == PackageManager.PERMISSION_GRANTED) {\r\n                    // we&#39;re on SDK &lt; 23 OR user has already granted permission\r\n                    callback.invoke(origin, true, false);\r\n                } else {\r\n                    if (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, perm)) {\r\n                        // ask the user for permission\r\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[] {perm}, REQUEST_FINE_LOCATION);\r\n    \r\n                        // we will use these when user responds\r\n                        mGeolocationOrigin = origin;\r\n                        mGeolocationCallback = callback;\r\n                    }\r\n                }}\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            switch (requestCode) {\r\n                case REQUEST_FINE_LOCATION:\r\n                    boolean allow = false;\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        // user has allowed this permission\r\n                        allow = true;\r\n                    }\r\n                    if (mGeolocationCallback != null) {\r\n                        // call back to web chrome client\r\n                        mGeolocationCallback.invoke(mGeolocationOrigin, allow, false);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        WebView mywebview;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            //Hide TopBar\r\n            getSupportActionBar().hide();\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mywebview = (WebView)findViewById(R.id.webView);\r\n            WebSettings webSettings = mywebview.getSettings();\r\n    \r\n            // Empty Cache\r\n            mywebview.clearCache(true);\r\n    \r\n            // Hide Zoom buttons\r\n            mywebview.getSettings().setDisplayZoomControls(false);\r\n    \r\n            mywebview.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n            mywebview.getSettings().setBuiltInZoomControls(true);\r\n            mywebview.setWebViewClient(new GeoWebViewClient());\r\n            // Below required for geolocation\r\n            mywebview.getSettings().setJavaScriptEnabled(true);\r\n            mywebview.getSettings().setGeolocationEnabled(true);\r\n            mywebview.setWebChromeClient(new GeoWebChromeClient());\r\n    \r\n            mywebview.setWebChromeClient(new WebChromeClient() {\r\n                @Override\r\n                public boolean onCreateWindow(WebView view, boolean dialog, boolean userGesture, android.os.Message resultMsg)\r\n                {\r\n                    WebView.HitTestResult result = view.getHitTestResult();\r\n                    String data = result.getExtra();\r\n                    Context context = view.getContext();\r\n                    Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(data));\r\n                    context.startActivity(browserIntent);\r\n                    return false;\r\n                }\r\n            });\r\n    \r\n            mywebview.loadUrl(&quot;https://mycurrentlocation.net/&quot;);\r\n            \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onBackPressed(){\r\n            if(mywebview.canGoBack()) {\r\n                mywebview.goBack();\r\n            } else\r\n            {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu){\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item){\r\n            int id = item.getItemId();\r\n    \r\n            if(id == R.id.action_settings){\r\n                return true;\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n    }\r\n\r\nWhen I click the button to show my current position, in Android Studio I get the following log:\r\n\r\n&gt; E/Resource: printErrorResource, maybe not a error because module has\r\n&gt; entative access to resource called by\r\n&gt; =android.content.res.HwResourcesImpl.printErrorResource:2634 android.content.res.ResourcesImpl.openRawResource:444\r\n&gt; android.content.res.Resources.openRawResource:1418\r\n&gt; android.content.res.Resources.openRawResource:1362\r\n&gt; android.support.v4.graphics.TypefaceCompatBaseImpl.createFromResourcesFontFile:304\r\n&gt; android.support.v4.graphics.TypefaceCompat.createFromResourcesFontFile:232\r\n&gt; I/ResourcesImplEx: The apk asset path =\r\n&gt; ApkAssets{path=/system/framework/framework-res.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/system/framework/framework-res-hwext.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/preas/oversea/overlay/GmsConfigOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/preas/oversea/overlay/GmsGsaConfigOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/preas/oversea/overlay/GoogleExtServicesConfigOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/preas/oversea/overlay/GoogleModuleMetadataConfigOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/preas/oversea/overlay/GooglePermissionControllerConfigOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/hw_product/overlay/frameworkResOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/odm/overlay/frameworkResOverlay.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/data/app/com.vinaysomawat.careerhigh-3JvsuNOhaJTzUZrEdMaQnA==/base.apk}\r\n&gt; I/ResourcesImplEx: The apk asset path =\r\n&gt; ApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/base.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/split_config.it.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/split_weblayer.apk}\r\n&gt;     The apk asset path = ApkAssets{path=/data/app/com.google.android.trichromelibrary_489608833-ndmJcgRaxXQPmZ7r_KqT-w==/base.apk}\r\n\r\nand then this log is shown (I think this is the error banner that say that can&#39;t load the position):\r\n\r\n&gt; D/HiTouch_PressGestureDetector: onAttached,\r\n&gt; package=com.vinaysomawat.careerhigh, windowType=2,\r\n&gt; mHiTouchRestricted=false D/mali_winsys: EGLint\r\n&gt; new_window_surface(egl_winsys_display *, void *, EGLSurface,\r\n&gt; EGLConfig, egl_winsys_surface **, EGLBoolean) returns 0x3000\r\n\r\n","title":"WebChromeClient doesn&#39;t ask for location permission anymore","body":"<p>I have an Android App which uses WebView to show a map on Open Street Map and few weeks stop working properly.</p>\n<p>A few weeks ago when the user tap on show my location on the web page Android shows a prompt to allow the app to load the current position but at the moment just an error is shown: <code>Geolocation error: user denied Geolocation</code>.</p>\n<p>I looked here on SO and on Google to find if some part of my code became deprecated or blocked but I didn't find anything useful. The only information I found was about <code>ActionBarActivity</code> but also using <code>AppCompatActivity</code> the problem was the same.</p>\n<p>The MVP version of the MainActivity is the following (I deleted other unuseful lines for this example):</p>\n<pre><code>package com.vinaysomawat.careerhigh;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.support.annotation.NonNull;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.ActionBarActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport android.webkit.GeolocationPermissions;\nimport android.webkit.WebChromeClient;\n\n\npublic class MainActivity extends ActionBarActivity {\n    public String mGeolocationOrigin;\n    public GeolocationPermissions.Callback mGeolocationCallback;\n    private static final int REQUEST_FINE_LOCATION=0;\n\n    public class GeoWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            // When user clicks a hyperlink, load in the existing WebView\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n    public class GeoWebChromeClient extends WebChromeClient {\n        @Override\n        public void onGeolocationPermissionsShowPrompt(String origin,\n                                                       GeolocationPermissions.Callback callback) {\n            String perm = Manifest.permission.ACCESS_FINE_LOCATION;\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M ||\n                    ContextCompat.checkSelfPermission(MainActivity.this, perm) == PackageManager.PERMISSION_GRANTED) {\n                // we're on SDK &lt; 23 OR user has already granted permission\n                callback.invoke(origin, true, false);\n            } else {\n                if (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, perm)) {\n                    // ask the user for permission\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[] {perm}, REQUEST_FINE_LOCATION);\n\n                    // we will use these when user responds\n                    mGeolocationOrigin = origin;\n                    mGeolocationCallback = callback;\n                }\n            }}\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case REQUEST_FINE_LOCATION:\n                boolean allow = false;\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    // user has allowed this permission\n                    allow = true;\n                }\n                if (mGeolocationCallback != null) {\n                    // call back to web chrome client\n                    mGeolocationCallback.invoke(mGeolocationOrigin, allow, false);\n                }\n                break;\n        }\n    }\n\n    WebView mywebview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //Hide TopBar\n        getSupportActionBar().hide();\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mywebview = (WebView)findViewById(R.id.webView);\n        WebSettings webSettings = mywebview.getSettings();\n\n        // Empty Cache\n        mywebview.clearCache(true);\n\n        // Hide Zoom buttons\n        mywebview.getSettings().setDisplayZoomControls(false);\n\n        mywebview.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        mywebview.getSettings().setBuiltInZoomControls(true);\n        mywebview.setWebViewClient(new GeoWebViewClient());\n        // Below required for geolocation\n        mywebview.getSettings().setJavaScriptEnabled(true);\n        mywebview.getSettings().setGeolocationEnabled(true);\n        mywebview.setWebChromeClient(new GeoWebChromeClient());\n\n        mywebview.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public boolean onCreateWindow(WebView view, boolean dialog, boolean userGesture, android.os.Message resultMsg)\n            {\n                WebView.HitTestResult result = view.getHitTestResult();\n                String data = result.getExtra();\n                Context context = view.getContext();\n                Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(data));\n                context.startActivity(browserIntent);\n                return false;\n            }\n        });\n\n        mywebview.loadUrl(&quot;https://mycurrentlocation.net/&quot;);\n        \n    }\n\n\n    @Override\n    public void onBackPressed(){\n        if(mywebview.canGoBack()) {\n            mywebview.goBack();\n        } else\n        {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu){\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item){\n        int id = item.getItemId();\n\n        if(id == R.id.action_settings){\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n}\n</code></pre>\n<p>When I click the button to show my current position, in Android Studio I get the following log:</p>\n<blockquote>\n<p>E/Resource: printErrorResource, maybe not a error because module has\nentative access to resource called by\n=android.content.res.HwResourcesImpl.printErrorResource:2634 android.content.res.ResourcesImpl.openRawResource:444\nandroid.content.res.Resources.openRawResource:1418\nandroid.content.res.Resources.openRawResource:1362\nandroid.support.v4.graphics.TypefaceCompatBaseImpl.createFromResourcesFontFile:304\nandroid.support.v4.graphics.TypefaceCompat.createFromResourcesFontFile:232\nI/ResourcesImplEx: The apk asset path =\nApkAssets{path=/system/framework/framework-res.apk}\nThe apk asset path = ApkAssets{path=/system/framework/framework-res-hwext.apk}\nThe apk asset path = ApkAssets{path=/preas/oversea/overlay/GmsConfigOverlay.apk}\nThe apk asset path = ApkAssets{path=/preas/oversea/overlay/GmsGsaConfigOverlay.apk}\nThe apk asset path = ApkAssets{path=/preas/oversea/overlay/GoogleExtServicesConfigOverlay.apk}\nThe apk asset path = ApkAssets{path=/preas/oversea/overlay/GoogleModuleMetadataConfigOverlay.apk}\nThe apk asset path = ApkAssets{path=/preas/oversea/overlay/GooglePermissionControllerConfigOverlay.apk}\nThe apk asset path = ApkAssets{path=/hw_product/overlay/frameworkResOverlay.apk}\nThe apk asset path = ApkAssets{path=/odm/overlay/frameworkResOverlay.apk}\nThe apk asset path = ApkAssets{path=/data/app/com.vinaysomawat.careerhigh-3JvsuNOhaJTzUZrEdMaQnA==/base.apk}\nI/ResourcesImplEx: The apk asset path =\nApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/base.apk}\nThe apk asset path = ApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/split_config.it.apk}\nThe apk asset path = ApkAssets{path=/data/app/com.google.android.webview-Lw6x1ElnmD4d1UEVSG95iA==/split_weblayer.apk}\nThe apk asset path = ApkAssets{path=/data/app/com.google.android.trichromelibrary_489608833-ndmJcgRaxXQPmZ7r_KqT-w==/base.apk}</p>\n</blockquote>\n<p>and then this log is shown (I think this is the error banner that say that can't load the position):</p>\n<blockquote>\n<p>D/HiTouch_PressGestureDetector: onAttached,\npackage=com.vinaysomawat.careerhigh, windowType=2,\nmHiTouchRestricted=false D/mali_winsys: EGLint\nnew_window_surface(egl_winsys_display *, void *, EGLSurface,\nEGLConfig, egl_winsys_surface **, EGLBoolean) returns 0x3000</p>\n</blockquote>\n"},{"tags":["java","spring-boot","swagger","openapi","springdoc-openui"],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1654321725,"creation_date":1654321725,"answer_id":72497415,"question_id":72485521,"body_markdown":"Finally I found that I changed the json converter cause this problem, this is a solved way:\r\n\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConvertConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            MappingJackson2HttpMessageConverter jackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\r\n            converters.add(new StringHttpMessageConverter());\r\n        }\r\n    }\r\n\r\n\r\n\r\nthis `StringHttpMessageConverter` should be the first one added into converter. I think this is the openapi design problem to make it hard to use. More information from here:\r\n\r\n\r\n\r\n * https://github.com/springdoc/springdoc-openapi/issues/624\r\n * https://stackoverflow.com/questions/59393191/endpoint-api-docs-doesnt-work-with-custom-gsonhttpmessageconverter\r\n * https://github.com/springdoc/springdoc-openapi/issues/683\r\n * https://github.com/swagger-api/swagger-core/issues/1826\r\n * https://github.com/springdoc/springdoc-openapi/issues/900\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The provided definition does not specify a valid version field when render openapi","body":"<p>Finally I found that I changed the json converter cause this problem, this is a solved way:</p>\n<pre><code>@EnableWebMvc\n@Configuration\npublic class WebConvertConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        MappingJackson2HttpMessageConverter jackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\n        converters.add(new StringHttpMessageConverter());\n    }\n}\n</code></pre>\n<p>this <code>StringHttpMessageConverter</code> should be the first one added into converter. I think this is the openapi design problem to make it hard to use. More information from here:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/624\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/624</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59393191/endpoint-api-docs-doesnt-work-with-custom-gsonhttpmessageconverter\">Endpoint &quot;/api-docs&quot; doesn&#39;t work with custom GsonHttpMessageConverter</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/683\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/683</a></li>\n<li><a href=\"https://github.com/swagger-api/swagger-core/issues/1826\" rel=\"noreferrer\">https://github.com/swagger-api/swagger-core/issues/1826</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/900\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/900</a></li>\n</ul>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7782,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1654321725,"creation_date":1654237766,"question_id":72485521,"body_markdown":"I am integrate the OpenAPI with my project, when I access the url: `http://127.0.0.1:11014/swagger-ui/index.html`, shows error like this:\r\n\r\n\r\n\r\n    Unable to render this definition\r\n    The provided definition does not specify a valid version field.\r\n    \r\n    Please indicate a valid Swagger or OpenAPI version field. Supported version fields are swagger: &quot;2.0&quot; and those that match openapi: 3.0.n (for example, openapi: 3.0.0).\r\n    \r\n     \r\n\r\n\r\nthis is the OpenAPI config:\r\n\r\n\r\n\r\n    package misc.config.openapi;\r\n    \r\n    import io.swagger.v3.oas.models.ExternalDocumentation;\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import io.swagger.v3.oas.models.info.Info;\r\n    import io.swagger.v3.oas.models.info.License;\r\n    import org.springdoc.core.GroupedOpenApi;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    /**\r\n     * https://springdoc.org/\r\n     * https://github.com/springdoc/springdoc-openapi\r\n     */\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        @Bean\r\n        public GroupedOpenApi fortuneApi() {\r\n            GroupedOpenApi.Builder builder = GroupedOpenApi.builder()\r\n                    .pathsToMatch(&quot;/fortune/**&quot;)\r\n                    .group(&quot;dddd&quot;);\r\n            GroupedOpenApi groupedOpenApi = builder.build();\r\n            return groupedOpenApi;\r\n        }\r\n    \r\n        @Bean\r\n        public OpenAPI fortuneAPI() {\r\n            return new OpenAPI()\r\n                    .info(new Info().title(&quot;Fortune API&quot;)\r\n                            .description(&quot;Spring shop sample application&quot;)\r\n                            .version(&quot;v0.0.1&quot;)\r\n                            .license(new License().name(&quot;Apache 2.0&quot;).url(&quot;http://springdoc.org&quot;)))\r\n                    .externalDocs(new ExternalDocumentation()\r\n                            .description(&quot;SpringShop Wiki Documentation&quot;)\r\n                            .url(&quot;https://springshop.wiki.github.org/docs&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nI have read the question https://stackoverflow.com/questions/51951641/swagger-unable-to-render-this-definition-the-provided-definition-does-not-speci and tried the answer, both did not work. what should I do to specify the version? This is the dependencies looks like:\r\n\r\n\r\n\r\n        api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\r\n\r\n\r\n\r\nI make a minimal reproduce and found the normal response is json object, but the problem response return string. This is the correct response:\r\n\r\n\r\n    {\r\n        &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n        &quot;info&quot;: {\r\n            &quot;title&quot;: &quot;Fortune API&quot;,\r\n            &quot;description&quot;: &quot;Spring shop sample application&quot;,\r\n            &quot;license&quot;: {\r\n                &quot;name&quot;: &quot;Apache 2.0&quot;,\r\n                &quot;url&quot;: &quot;http://springdoc.org&quot;\r\n            },\r\n            &quot;version&quot;: &quot;v0.0.1&quot;\r\n        },\r\n        &quot;externalDocs&quot;: {\r\n            &quot;description&quot;: &quot;SpringShop Wiki Documentation&quot;,\r\n            &quot;url&quot;: &quot;https://springshop.wiki.github.org/docs&quot;\r\n        },\r\n        &quot;servers&quot;: [\r\n            {\r\n                &quot;url&quot;: &quot;http://127.0.0.1:11018&quot;,\r\n                &quot;description&quot;: &quot;Generated server url&quot;\r\n            }\r\n        ],\r\n        &quot;paths&quot;: {},\r\n        &quot;components&quot;: {}\r\n    }\r\n\r\n\r\n\r\n\r\nthis is the problem response in my project:\r\n\r\n\r\n\r\n    &quot;{\\&quot;openapi\\&quot;:\\&quot;3.0.1\\&quot;,\\&quot;info\\&quot;:{\\&quot;title\\&quot;:\\&quot;Fortune API\\&quot;,\\&quot;description\\&quot;:\\&quot;Spri......\r\n\r\n\r\n\r\n\r\n","title":"The provided definition does not specify a valid version field when render openapi","body":"<p>I am integrate the OpenAPI with my project, when I access the url: <code>http://127.0.0.1:11014/swagger-ui/index.html</code>, shows error like this:</p>\n<pre><code>Unable to render this definition\nThe provided definition does not specify a valid version field.\n\nPlease indicate a valid Swagger or OpenAPI version field. Supported version fields are swagger: &quot;2.0&quot; and those that match openapi: 3.0.n (for example, openapi: 3.0.0).\n\n \n</code></pre>\n<p>this is the OpenAPI config:</p>\n<pre><code>package misc.config.openapi;\n\nimport io.swagger.v3.oas.models.ExternalDocumentation;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.info.License;\nimport org.springdoc.core.GroupedOpenApi;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * https://springdoc.org/\n * https://github.com/springdoc/springdoc-openapi\n */\n@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public GroupedOpenApi fortuneApi() {\n        GroupedOpenApi.Builder builder = GroupedOpenApi.builder()\n                .pathsToMatch(&quot;/fortune/**&quot;)\n                .group(&quot;dddd&quot;);\n        GroupedOpenApi groupedOpenApi = builder.build();\n        return groupedOpenApi;\n    }\n\n    @Bean\n    public OpenAPI fortuneAPI() {\n        return new OpenAPI()\n                .info(new Info().title(&quot;Fortune API&quot;)\n                        .description(&quot;Spring shop sample application&quot;)\n                        .version(&quot;v0.0.1&quot;)\n                        .license(new License().name(&quot;Apache 2.0&quot;).url(&quot;http://springdoc.org&quot;)))\n                .externalDocs(new ExternalDocumentation()\n                        .description(&quot;SpringShop Wiki Documentation&quot;)\n                        .url(&quot;https://springshop.wiki.github.org/docs&quot;));\n    }\n\n}\n</code></pre>\n<p>I have read the question <a href=\"https://stackoverflow.com/questions/51951641/swagger-unable-to-render-this-definition-the-provided-definition-does-not-speci\">Swagger..Unable to render this definition The provided definition does not specify a valid version field</a> and tried the answer, both did not work. what should I do to specify the version? This is the dependencies looks like:</p>\n<pre><code>    api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\n</code></pre>\n<p>I make a minimal reproduce and found the normal response is json object, but the problem response return string. This is the correct response:</p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;Fortune API&quot;,\n        &quot;description&quot;: &quot;Spring shop sample application&quot;,\n        &quot;license&quot;: {\n            &quot;name&quot;: &quot;Apache 2.0&quot;,\n            &quot;url&quot;: &quot;http://springdoc.org&quot;\n        },\n        &quot;version&quot;: &quot;v0.0.1&quot;\n    },\n    &quot;externalDocs&quot;: {\n        &quot;description&quot;: &quot;SpringShop Wiki Documentation&quot;,\n        &quot;url&quot;: &quot;https://springshop.wiki.github.org/docs&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://127.0.0.1:11018&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {},\n    &quot;components&quot;: {}\n}\n</code></pre>\n<p>this is the problem response in my project:</p>\n<pre><code>&quot;{\\&quot;openapi\\&quot;:\\&quot;3.0.1\\&quot;,\\&quot;info\\&quot;:{\\&quot;title\\&quot;:\\&quot;Fortune API\\&quot;,\\&quot;description\\&quot;:\\&quot;Spri......\n</code></pre>\n"},{"tags":["java","android","dao"],"answers":[{"tags":[],"owner":{"account_id":8142527,"reputation":679,"user_id":6132190,"display_name":"Dissident Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640175830,"creation_date":1640165791,"answer_id":70446961,"question_id":70446759,"body_markdown":"&gt; error: Not sure how to convert a Cursor to this method&#39;s return type\r\n&gt; (java.util.List&lt;com.hashmac.store.dao.CartOffline&gt;). List getall();\r\n\r\nThis means you are trying to query the database directly for a CartOffline object without providing a [TypeConverter][1]. Room can only convert complex data to a [SQLite primitive type][2], i.e. TEXT if you provide a TypeConverter.\r\n\r\nMore info: [Referencing complex data using Room][3]\r\n\r\nYou have to create a class that contains methods that convert the type returned (or taken as parameter) by your DAO queries into SQLite primitive equivalents and vice-versa, so Room knows how to convert a Cursor to your DAO query&#39;s return/parameter type.\r\n\r\nFor example, your getCartProduct() query returns List&lt;CartOffline&gt;, so you probably want to parse that into a JSON String that will get stored as SQLite TEXT (you could also parse it differently and store it as BLOB). You can use JSON libraries like Moshi or GSON for that.\r\n\r\n(Apologies if there are any typos in the code, but I switched to Kotlin some time ago and my Java is getting rusty.)\r\n\r\n     public static class Converters {\r\n       @TypeConverter\r\n       public List&lt;CartOffline&gt; fromJSON(String json) {\r\n    \r\n         //here goes code to parse a JSON String into a List&lt;CartOffline&gt;\r\n         //using your JSON library of choice\r\n       \r\n         return listOfCartOffline;\r\n       }\r\n    \r\n       @TypeConverter\r\n       public String fromListOfCartOffline(List&lt;CartOffline&gt; listOfCartOffline) {\r\n\r\n         //here goes code to parse List&lt;CartOffline&gt; into a JSON string\r\n         //using your JSON library of choice\r\n       \r\n         return json;\r\n       }\r\n      }\r\n\r\nBy annotating those methods with @TypeConverter, Room automatically knows how to convert your objects into SQLite types. You will need a converter pair for every non-primitive type that your DAO methods return or take as parameter. If your queries only return primitives like Strings, Integers, or  collections of them (like List&lt;Int&gt;), you should not need a @TypeConverter.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/room/TypeConverter\r\n  [2]: https://www.sqlite.org/datatype3.html\r\n  [3]: https://developer.android.com/training/data-storage/room/referencing-data\r\n\r\n","title":"Getting the error error: Not sure how to convert a Cursor to this method&#39;s return type","body":"<blockquote>\n<p>error: Not sure how to convert a Cursor to this method's return type\n(java.util.List&lt;com.hashmac.store.dao.CartOffline&gt;). List getall();</p>\n</blockquote>\n<p>This means you are trying to query the database directly for a CartOffline object without providing a <a href=\"https://developer.android.com/reference/androidx/room/TypeConverter\" rel=\"nofollow noreferrer\">TypeConverter</a>. Room can only convert complex data to a <a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">SQLite primitive type</a>, i.e. TEXT if you provide a TypeConverter.</p>\n<p>More info: <a href=\"https://developer.android.com/training/data-storage/room/referencing-data\" rel=\"nofollow noreferrer\">Referencing complex data using Room</a></p>\n<p>You have to create a class that contains methods that convert the type returned (or taken as parameter) by your DAO queries into SQLite primitive equivalents and vice-versa, so Room knows how to convert a Cursor to your DAO query's return/parameter type.</p>\n<p>For example, your getCartProduct() query returns List, so you probably want to parse that into a JSON String that will get stored as SQLite TEXT (you could also parse it differently and store it as BLOB). You can use JSON libraries like Moshi or GSON for that.</p>\n<p>(Apologies if there are any typos in the code, but I switched to Kotlin some time ago and my Java is getting rusty.)</p>\n<pre><code> public static class Converters {\n   @TypeConverter\n   public List&lt;CartOffline&gt; fromJSON(String json) {\n\n     //here goes code to parse a JSON String into a List&lt;CartOffline&gt;\n     //using your JSON library of choice\n   \n     return listOfCartOffline;\n   }\n\n   @TypeConverter\n   public String fromListOfCartOffline(List&lt;CartOffline&gt; listOfCartOffline) {\n\n     //here goes code to parse List&lt;CartOffline&gt; into a JSON string\n     //using your JSON library of choice\n   \n     return json;\n   }\n  }\n</code></pre>\n<p>By annotating those methods with @TypeConverter, Room automatically knows how to convert your objects into SQLite types. You will need a converter pair for every non-primitive type that your DAO methods return or take as parameter. If your queries only return primitives like Strings, Integers, or  collections of them (like List), you should not need a @TypeConverter.</p>\n"},{"tags":[],"owner":{"account_id":3345487,"reputation":1483,"user_id":2810726,"accept_rate":0,"display_name":"Mbuodile Obiosio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654319760,"creation_date":1654318354,"answer_id":72497174,"question_id":70446759,"body_markdown":"I have written a kotlin extension to handle this for me so I&#39;m hoping it helps. I use Moshi converter so you may want to consider your options.\r\n\r\n    /**\r\n     * [Moshi] extension to transform a [List] to Json\r\n     * */\r\n    inline fun &lt;reified T&gt; Moshi.listToJson(data: List&lt;T&gt;): String =\r\n        adapter&lt;List&lt;T&gt;&gt;(\r\n            Types.newParameterizedType(\r\n                List::class.java, T::class.java\r\n            )\r\n        ).toJson(data)\r\n    \r\n    /**\r\n     * [Moshi] extension to transform a json object to a [List]\r\n     * */\r\n    inline fun &lt;reified T&gt; Moshi.jsonToList(json: String): List&lt;T&gt;? =\r\n        adapter&lt;List&lt;T&gt;&gt;(\r\n            Types.newParameterizedType(\r\n                List::class.java, T::class.java\r\n            )\r\n        ).fromJson(json)\r\n\r\nFor your usage, create an instance of Moshi and then transform json to List using\r\n\r\n    moshi.jsonToList(json)\r\n\r\nand\r\n\r\n    moshi.listToJson(listOfCartOffline)\r\n\r\n\r\n  [1]: https://gist.github.com/mbobiosio/8eff7b96fe5969c5dd3e1e53a7134fae","title":"Getting the error error: Not sure how to convert a Cursor to this method&#39;s return type","body":"<p>I have written a kotlin extension to handle this for me so I'm hoping it helps. I use Moshi converter so you may want to consider your options.</p>\n<pre><code>/**\n * [Moshi] extension to transform a [List] to Json\n * */\ninline fun &lt;reified T&gt; Moshi.listToJson(data: List&lt;T&gt;): String =\n    adapter&lt;List&lt;T&gt;&gt;(\n        Types.newParameterizedType(\n            List::class.java, T::class.java\n        )\n    ).toJson(data)\n\n/**\n * [Moshi] extension to transform a json object to a [List]\n * */\ninline fun &lt;reified T&gt; Moshi.jsonToList(json: String): List&lt;T&gt;? =\n    adapter&lt;List&lt;T&gt;&gt;(\n        Types.newParameterizedType(\n            List::class.java, T::class.java\n        )\n    ).fromJson(json)\n</code></pre>\n<p>For your usage, create an instance of Moshi and then transform json to List using</p>\n<pre><code>moshi.jsonToList(json)\n</code></pre>\n<p>and</p>\n<pre><code>moshi.listToJson(listOfCartOffline)\n</code></pre>\n"}],"owner":{"account_id":17410316,"reputation":161,"user_id":14552563,"display_name":"pro_hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2748,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654319760,"creation_date":1640164866,"question_id":70446759,"body_markdown":"I need some help to resolve the following error\r\n\r\n&gt; error: There is a problem with the query: The prepared statement has\r\n&gt; been finalized\r\n&gt;     List&lt;CartOffline&gt; getall();\r\n&gt; \r\n&gt; error: Not sure how to convert a Cursor to this method&#39;s return type\r\n&gt; (java.util.List&lt;com.hashmac.store.dao.CartOffline&gt;).\r\n&gt;     List&lt;CartOffline&gt; getall();\r\n&gt; \r\n&gt; error: Must have exactly 1 query in the value of @Query or\r\n&gt; @DatabaseView\r\n&gt;     List&lt;CartOffline&gt; getCartProduct(String priceUnitId);\r\n\r\n\r\n\r\nMy Code is:\r\n\r\n    package com.hashmac.store.dao;\r\n    \r\n    import androidx.room.Dao;\r\n    import androidx.room.Delete;\r\n    import androidx.room.Insert;\r\n    import androidx.room.Query;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Dao\r\n    public interface CartDao {\r\n    \r\n        @Insert\r\n        void insertNew(CartOffline cartOffline);\r\n    \r\n        @Query(&quot;&quot;)\r\n        List&lt;CartOffline&gt; getall();\r\n    \r\n        @Query(&quot;&quot;)\r\n        List&lt;CartOffline&gt; getCartProduct(String priceUnitId);\r\n    \r\n        @Query(&quot;&quot;)\r\n        void updateObj(long quantity, String priceunitid);\r\n    \r\n    \r\n        @Query(&quot;&quot;)\r\n        void deleteObjbyPid(String priceunitid);\r\n    \r\n        @Delete\r\n        void deleteObj(CartOffline cartOffline);\r\n    \r\n        @Query(&quot;&quot;)\r\n        int getProductCount(String pId);\r\n    \r\n        @Query(&quot;&quot;)\r\n        void deleteAll();\r\n        /*@Query(&quot;UPDATE CartOffline SET quantity = :quantity&quot;)\r\n        void updetCart()*/\r\n    \r\n    }\r\n\r\n","title":"Getting the error error: Not sure how to convert a Cursor to this method&#39;s return type","body":"<p>I need some help to resolve the following error</p>\n<blockquote>\n<p>error: There is a problem with the query: The prepared statement has\nbeen finalized\nList getall();</p>\n<p>error: Not sure how to convert a Cursor to this method's return type\n(java.util.List&lt;com.hashmac.store.dao.CartOffline&gt;).\nList getall();</p>\n<p>error: Must have exactly 1 query in the value of @Query or\n@DatabaseView\nList getCartProduct(String priceUnitId);</p>\n</blockquote>\n<p>My Code is:</p>\n<pre><code>package com.hashmac.store.dao;\n\nimport androidx.room.Dao;\nimport androidx.room.Delete;\nimport androidx.room.Insert;\nimport androidx.room.Query;\n\nimport java.util.List;\n\n@Dao\npublic interface CartDao {\n\n    @Insert\n    void insertNew(CartOffline cartOffline);\n\n    @Query(&quot;&quot;)\n    List&lt;CartOffline&gt; getall();\n\n    @Query(&quot;&quot;)\n    List&lt;CartOffline&gt; getCartProduct(String priceUnitId);\n\n    @Query(&quot;&quot;)\n    void updateObj(long quantity, String priceunitid);\n\n\n    @Query(&quot;&quot;)\n    void deleteObjbyPid(String priceunitid);\n\n    @Delete\n    void deleteObj(CartOffline cartOffline);\n\n    @Query(&quot;&quot;)\n    int getProductCount(String pId);\n\n    @Query(&quot;&quot;)\n    void deleteAll();\n    /*@Query(&quot;UPDATE CartOffline SET quantity = :quantity&quot;)\n    void updetCart()*/\n\n}\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1654313510,"post_id":72496794,"comment_id":128067253,"body_markdown":"just change the return type to `List&lt;String&gt;` instead of `void`, and return your list from the method. in the Main method its just simple assignment `combinations = display()`;","body":"just change the return type to <code>List&lt;String&gt;</code> instead of <code>void</code>, and return your list from the method. in the Main method its just simple assignment <code>combinations = display()</code>;"},{"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"score":0,"creation_date":1654317193,"post_id":72496794,"comment_id":128067618,"body_markdown":"Thank you Sayan. Would you be able to show me how?","body":"Thank you Sayan. Would you be able to show me how?"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654318820,"creation_date":1654318820,"answer_id":72497194,"question_id":72496794,"body_markdown":"Modifiy the `display` method by :\r\n\r\n1. Change the method `display` return type from `void` to `List&lt;String&gt;` . \r\n2. return the `combination` list .\r\n\r\n```\r\npublic static  List&lt;String&gt; display(ArrayList&lt;String&gt; combinations){\r\n\r\n//rest of your code\r\n\r\nreturn combinations;\r\n}\r\n```\r\nAnd now all you have to to is just call the method fromm `main`and assign the returned value into a `List` variable.\r\n```\r\nList&lt;String&gt; combinations = display(new ArrayList&lt;&gt;());\r\n```\r\n\r\nYou need have a basic idea what is return and how its work. [Refer here][1] \r\n\r\n\r\n  [1]: https://www.javatpoint.com/return-statement-in-java#:~:text=Returning%20a%20Value%20from%20a,t%20require%20any%20return%20statement.","title":"Java Arraylist Function Program","body":"<p>Modifiy the <code>display</code> method by :</p>\n<ol>\n<li>Change the method <code>display</code> return type from <code>void</code> to <code>List&lt;String&gt;</code> .</li>\n<li>return the <code>combination</code> list .</li>\n</ol>\n<pre><code>public static  List&lt;String&gt; display(ArrayList&lt;String&gt; combinations){\n\n//rest of your code\n\nreturn combinations;\n}\n</code></pre>\n<p>And now all you have to to is just call the method fromm <code>main</code>and assign the returned value into a <code>List</code> variable.</p>\n<pre><code>List&lt;String&gt; combinations = display(new ArrayList&lt;&gt;());\n</code></pre>\n<p>You need have a basic idea what is return and how its work. <a href=\"https://www.javatpoint.com/return-statement-in-java#:%7E:text=Returning%20a%20Value%20from%20a,t%20require%20any%20return%20statement.\" rel=\"nofollow noreferrer\">Refer here</a></p>\n"}],"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72497194,"answer_count":1,"score":0,"last_activity_date":1654318820,"creation_date":1654312338,"question_id":72496794,"body_markdown":"I have this function:\r\n\r\n    public static void display(ArrayList&lt;String&gt; combinations) {\r\n        \r\n        int counter = 1;\r\n\r\n        for (char c1 = &#39;a&#39;; c1 &lt;= &#39;z&#39;; c1++) {\r\n            for (char c2 = &#39;a&#39;; c2 &lt;= &#39;z&#39;; c2++) {\r\n                for (char c3 = &#39;a&#39;; c3 &lt;= &#39;z&#39;; c3++) {\r\n                    String combo = &quot;&quot; + c1 + c2 + c3;                    \r\n                    combinations.add(combo);\r\n                    System.out.println(&quot;&quot; + counter++ + &quot; &quot; + c1 + c2 + c3);\r\n                }\r\n            } \r\n        }\r\n\r\nAnd this: \r\n\r\n    public static void main(String[] args) throws IOException{\r\n    List&lt;String&gt; combinations = new ArrayList&lt;&gt;();\r\n        System.out.println(combinations);\r\n\r\nI want to use the function I developed and store in array list. Then output the data stored in the arraylist to the user using the function/method.","title":"Java Arraylist Function Program","body":"<p>I have this function:</p>\n<pre><code>public static void display(ArrayList&lt;String&gt; combinations) {\n    \n    int counter = 1;\n\n    for (char c1 = 'a'; c1 &lt;= 'z'; c1++) {\n        for (char c2 = 'a'; c2 &lt;= 'z'; c2++) {\n            for (char c3 = 'a'; c3 &lt;= 'z'; c3++) {\n                String combo = &quot;&quot; + c1 + c2 + c3;                    \n                combinations.add(combo);\n                System.out.println(&quot;&quot; + counter++ + &quot; &quot; + c1 + c2 + c3);\n            }\n        } \n    }\n</code></pre>\n<p>And this:</p>\n<pre><code>public static void main(String[] args) throws IOException{\nList&lt;String&gt; combinations = new ArrayList&lt;&gt;();\n    System.out.println(combinations);\n</code></pre>\n<p>I want to use the function I developed and store in array list. Then output the data stored in the arraylist to the user using the function/method.</p>\n"},{"tags":["java","jlayer"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654317514,"post_id":72497097,"comment_id":128067650,"body_markdown":"Your code works for me, but, I would recommend against extending from `Thread` and instead prefer implementing `Runnable`. I&#39;m also a bit dubious about your `do-while` loop and I need to explore JLayer more","body":"Your code works for me, but, I would recommend against extending from <code>Thread</code> and instead prefer implementing <code>Runnable</code>. I&#39;m also a bit dubious about your <code>do-while</code> loop and I need to explore JLayer more"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654317872,"post_id":72497097,"comment_id":128067689,"body_markdown":"`file = new File(` &lt;- This is a problem","body":"<code>file = new File(</code> &lt;- This is a problem"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654318760,"creation_date":1654318760,"answer_id":72497192,"question_id":72497097,"body_markdown":"Your problem starts here -&gt; `file = new File(Main.class.getResource(&quot;/music/&quot; + name).toURI());`\r\n\r\nAn embedded resource can&#39;t be reference as a `File`, because, well, it&#39;s not.  Instead use `Class#getResourceAsStream` directly.\r\n\r\nNext, you should avoid extending from `Thread`, thread&#39;s are not re-entrant, that is, once stopped, you can&#39;t restart them.  Instead, implement `Runnable`, for example...\r\n\r\n    public class Music implements Runnable {\r\n        private String name;\r\n        private Player player;\r\n        private boolean isLoop;\r\n\r\n        private Thread playerThread;\r\n\r\n        public Music(String name, boolean isLoop) {\r\n            this.isLoop = isLoop;\r\n            this.name = name;\r\n        }\r\n        //Get the time of the music, how long it is played \r\n\r\n        public int getTime() {\r\n            if (player == null) {\r\n                return 0;\r\n            }\r\n            return player.getPosition();\r\n        }\r\n        //Stop the music played\r\n\r\n        public void stop() {\r\n            isLoop = false;\r\n            if (player == null) {\r\n                return;\r\n            }\r\n            player.close();\r\n            playerThread = null;\r\n        }\r\n\r\n        public void waitFor() throws InterruptedException {\r\n            if (playerThread == null) {\r\n                return;\r\n            }\r\n            playerThread.join();\r\n        }\r\n\r\n        public void play() throws InterruptedException {\r\n            if (playerThread != null) {\r\n                stop();\r\n                waitFor();\r\n            }\r\n            playerThread = new Thread(this);\r\n            playerThread.start();\r\n        }\r\n\r\n        protected void playAudio() throws IOException, JavaLayerException {\r\n            try (BufferedInputStream bis = new BufferedInputStream(getClass().getResourceAsStream(&quot;/music/&quot; + name))) {\r\n                player = new Player(bis);\r\n                player.play();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                do {\r\n                    System.out.println(&quot;Start playing&quot;);\r\n                    playAudio();\r\n                    System.out.println(&quot;All done&quot;);\r\n                } while (isLoop);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            stop();\r\n        }\r\n    }\r\n","title":"Cannot play the sound of music with no error for Java","body":"<p>Your problem starts here -&gt; <code>file = new File(Main.class.getResource(&quot;/music/&quot; + name).toURI());</code></p>\n<p>An embedded resource can't be reference as a <code>File</code>, because, well, it's not.  Instead use <code>Class#getResourceAsStream</code> directly.</p>\n<p>Next, you should avoid extending from <code>Thread</code>, thread's are not re-entrant, that is, once stopped, you can't restart them.  Instead, implement <code>Runnable</code>, for example...</p>\n<pre><code>public class Music implements Runnable {\n    private String name;\n    private Player player;\n    private boolean isLoop;\n\n    private Thread playerThread;\n\n    public Music(String name, boolean isLoop) {\n        this.isLoop = isLoop;\n        this.name = name;\n    }\n    //Get the time of the music, how long it is played \n\n    public int getTime() {\n        if (player == null) {\n            return 0;\n        }\n        return player.getPosition();\n    }\n    //Stop the music played\n\n    public void stop() {\n        isLoop = false;\n        if (player == null) {\n            return;\n        }\n        player.close();\n        playerThread = null;\n    }\n\n    public void waitFor() throws InterruptedException {\n        if (playerThread == null) {\n            return;\n        }\n        playerThread.join();\n    }\n\n    public void play() throws InterruptedException {\n        if (playerThread != null) {\n            stop();\n            waitFor();\n        }\n        playerThread = new Thread(this);\n        playerThread.start();\n    }\n\n    protected void playAudio() throws IOException, JavaLayerException {\n        try (BufferedInputStream bis = new BufferedInputStream(getClass().getResourceAsStream(&quot;/music/&quot; + name))) {\n            player = new Player(bis);\n            player.play();\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            do {\n                System.out.println(&quot;Start playing&quot;);\n                playAudio();\n                System.out.println(&quot;All done&quot;);\n            } while (isLoop);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        stop();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19655589,"reputation":11,"user_id":14388313,"display_name":"brokers125"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654318760,"creation_date":1654317220,"question_id":72497097,"body_markdown":"I am trying to run the music that I have, but it does not work. There is no error showing up in the eclipse any more, but the sound is not played. This is my code that I have\r\n\r\n    public class Music extends Thread {\r\n\t\tprivate Player player;\r\n\t\tprivate boolean isLoop;\r\n\t\tprivate File file;\r\n\t\tprivate FileInputStream fis;\r\n\t\tprivate BufferedInputStream bis;\r\n\t\t\r\n\t\tpublic Music(String name, boolean isLoop)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tthis.isLoop = isLoop;\r\n\t\t\t\t//Find the link to the file and play, save the file to the buffer\r\n\t\t\t\tfile = new File(Main.class.getResource(&quot;/music/&quot; + name).toURI());\r\n\t\t\t\tfis = new FileInputStream(file);\r\n\t\t\t\tbis = new BufferedInputStream(fis);\r\n\t\t\t\tplayer = new Player(bis);\r\n\t\t\t} catch(Exception e){\r\n\t\t\t\tSystem.out.println(&quot;No music&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//Get the time of the music, how long it is played \r\n\t\tpublic int getTime() {\r\n\t\t\tif(player == null)\r\n\t\t\t{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\treturn player.getPosition();\r\n\t\t}\r\n\t\t//Stop the music played\r\n\t\tpublic void close() {\r\n\t\t\tisLoop = false;\r\n\t\t\tplayer.close();\r\n\t\t\tthis.interrupt();\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tplayer.play();\r\n\t\t\t\tdo {\r\n\t\t\t\t\tplayer.play();\r\n\t\t\t\t    fis = new FileInputStream(file);\r\n\t\t\t\t\tbis = new BufferedInputStream(fis);\r\n\t\t\t\t\tplayer = new Player(bis);\r\n\t\t\t\t} while(isLoop);\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAlso this my setting I have\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oagg3.png\r\n\r\nThank you for the help","title":"Cannot play the sound of music with no error for Java","body":"<p>I am trying to run the music that I have, but it does not work. There is no error showing up in the eclipse any more, but the sound is not played. This is my code that I have</p>\n<pre><code>public class Music extends Thread {\n    private Player player;\n    private boolean isLoop;\n    private File file;\n    private FileInputStream fis;\n    private BufferedInputStream bis;\n    \n    public Music(String name, boolean isLoop)\n    {\n        try {\n            this.isLoop = isLoop;\n            //Find the link to the file and play, save the file to the buffer\n            file = new File(Main.class.getResource(&quot;/music/&quot; + name).toURI());\n            fis = new FileInputStream(file);\n            bis = new BufferedInputStream(fis);\n            player = new Player(bis);\n        } catch(Exception e){\n            System.out.println(&quot;No music&quot;);\n        }\n    }\n    //Get the time of the music, how long it is played \n    public int getTime() {\n        if(player == null)\n        {\n            return 0;\n        }\n        return player.getPosition();\n    }\n    //Stop the music played\n    public void close() {\n        isLoop = false;\n        player.close();\n        this.interrupt();\n    }\n    @Override\n    public void run() {\n        try {\n            player.play();\n            do {\n                player.play();\n                fis = new FileInputStream(file);\n                bis = new BufferedInputStream(fis);\n                player = new Player(bis);\n            } while(isLoop);\n        } catch(Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Also this my setting I have\n<a href=\"https://i.stack.imgur.com/oagg3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oagg3.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for the help</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":418298,"reputation":368,"user_id":3759031,"display_name":"Vijayan Kani"},"score":0,"creation_date":1654391424,"post_id":72497083,"comment_id":128079476,"body_markdown":"Adding &quot;Collections.shuffle(list);&quot; before the stream call will ensure a shuffle happens.\nAnd one more option is to add the Random find as an intermediate operation.\n\t\tInteger anyElement = list\n\t\t        .parallelStream()\n\t\t        .skip(new Random().nextInt(list.size()))\n\t\t        .findAny()\n\t\t        .get();","body":"Adding &quot;Collections.shuffle(list);&quot; before the stream call will ensure a shuffle happens. And one more option is to add the Random find as an intermediate operation. \t\tInteger anyElement = list \t\t        .parallelStream() \t\t        .skip(new Random().nextInt(list.size())) \t\t        .findAny() \t\t        .get();"},{"owner":{"account_id":25469923,"reputation":31,"user_id":19268307,"display_name":"xiaozhu"},"score":0,"creation_date":1654499741,"post_id":72497083,"comment_id":128096860,"body_markdown":"I use your method ,It was pretty much what I wanted. thank you!!!","body":"I use your method ,It was pretty much what I wanted. thank you!!!"}],"owner":{"account_id":25469923,"reputation":31,"user_id":19268307,"display_name":"xiaozhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654319089,"answer_count":0,"score":1,"last_activity_date":1654318402,"creation_date":1654317079,"question_id":72497083,"body_markdown":"I&#39;m trying to use this method to get a random element from a stream. Why does it always print &quot;9&quot;?\r\n\r\nI know I can use `list.get(new Random().nextInt(list.size()))` but I only want to use the Stream API, even though it may not be efficient. How can I do that?\r\n\r\n```java\r\nInteger[] array = {1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14};\r\nList&lt;Integer&gt; list = Arrays.asList(array);\r\n\r\nInteger anyElement = list.stream()\r\n        .parallel()\r\n        .findAny()\r\n        .get();\r\nSystem.out.println(anyElement);\r\n```\r\n","title":"How to get a random element using Java Stream API?","body":"<p>I'm trying to use this method to get a random element from a stream. Why does it always print &quot;9&quot;?</p>\n<p>I know I can use <code>list.get(new Random().nextInt(list.size()))</code> but I only want to use the Stream API, even though it may not be efficient. How can I do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] array = {1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14};\nList&lt;Integer&gt; list = Arrays.asList(array);\n\nInteger anyElement = list.stream()\n        .parallel()\n        .findAny()\n        .get();\nSystem.out.println(anyElement);\n</code></pre>\n"},{"tags":["java","java-stream","string-conversion","inetaddress"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1654283952,"post_id":72494208,"comment_id":128062582,"body_markdown":"This code is perfectly fine. Using streams would be slower, not &quot;more efficient&quot;.","body":"This code is perfectly fine. Using streams would be slower, not &quot;more efficient&quot;."}],"answers":[{"tags":[],"owner":{"account_id":20002555,"reputation":1,"user_id":14661251,"display_name":"Mohamedabotir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654318319,"creation_date":1654284098,"answer_id":72494302,"question_id":72494208,"body_markdown":"I think this is good way to implement but you should handle `null` as expected input to prevent localhost as it is the default value returned by `getHostName`. Then ensure that input is pure url without port to prevent `UnknownHostException`.","title":"Convert Set&lt;String&gt; to Set&lt;InetAddress&gt; in Java in a cleaner way","body":"<p>I think this is good way to implement but you should handle <code>null</code> as expected input to prevent localhost as it is the default value returned by <code>getHostName</code>. Then ensure that input is pure url without port to prevent <code>UnknownHostException</code>.</p>\n"},{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654289725,"creation_date":1654284189,"answer_id":72494313,"question_id":72494208,"body_markdown":"Ideally you could use `map` to call `InetAddress.getByName` on each string:\r\n\r\n```java\r\n// Doesn&#39;t compile.\r\nSet&lt;InetAddress&gt; allowedIpsInetAddr = ips.stream()\r\n    .map(InetAddress::getByName)\r\n    .collect(Collectors.toSet());\r\n```\r\n\r\nUnfortunately this fails to compile:\r\n\r\n```none\r\nerror: incompatible thrown types UnknownHostException in functional expression\r\n    .map(InetAddress::getByName)\r\n         ^\r\n```\r\n\r\n`map` callbacks can&#39;t throw checked exceptions like `UnknownHostException`. You can work around this by converting them into [`UncheckedIOException`s](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/UncheckedIOException.html):\r\n\r\n```java\r\nSet&lt;InetAddress&gt; allowedIpsInetAddr = ips.stream()\r\n    .map(ip -&gt; {\r\n        try {\r\n            return InetAddress.getByName(ip);\r\n        }\r\n        catch (UnknownHostException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    })\r\n    .collect(Collectors.toSet());\r\n```","title":"Convert Set&lt;String&gt; to Set&lt;InetAddress&gt; in Java in a cleaner way","body":"<p>Ideally you could use <code>map</code> to call <code>InetAddress.getByName</code> on each string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Doesn't compile.\nSet&lt;InetAddress&gt; allowedIpsInetAddr = ips.stream()\n    .map(InetAddress::getByName)\n    .collect(Collectors.toSet());\n</code></pre>\n<p>Unfortunately this fails to compile:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: incompatible thrown types UnknownHostException in functional expression\n    .map(InetAddress::getByName)\n         ^\n</code></pre>\n<p><code>map</code> callbacks can't throw checked exceptions like <code>UnknownHostException</code>. You can work around this by converting them into <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/UncheckedIOException.html\" rel=\"nofollow noreferrer\"><code>UncheckedIOException</code>s</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;InetAddress&gt; allowedIpsInetAddr = ips.stream()\n    .map(ip -&gt; {\n        try {\n            return InetAddress.getByName(ip);\n        }\n        catch (UnknownHostException e) {\n            throw new UncheckedIOException(e);\n        }\n    })\n    .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":5967922,"reputation":115,"user_id":4691180,"accept_rate":100,"display_name":"jayteezer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654318319,"creation_date":1654283560,"question_id":72494208,"body_markdown":"I have the following code:\r\n\r\n    Set&lt;String&gt; ips = allowedIpsToDescriptions.keySet();\r\n\r\nwhere `allowedIpsToDescriptions` is a `Map&lt;String, String&gt;`\r\n\r\nI&#39;m trying to convert `Set&lt;String&gt;` to `Set&lt;InetAddress&gt;` and here&#39;s my code:\r\n\r\n    Set&lt;InetAddress&gt; allowedIpsInetAddr = new HashSet&lt;&gt;();\r\n        \r\n        for (String ip : ips) {\r\n          InetAddress inetAddress = InetAddress.getByName(ip);\r\n          allowedIpsInetAddr.add(inetAddress);\r\n        }\r\n\r\nIs there a cleaner / more efficient way of doing this using streams perhaps?","title":"Convert Set&lt;String&gt; to Set&lt;InetAddress&gt; in Java in a cleaner way","body":"<p>I have the following code:</p>\n<pre><code>Set&lt;String&gt; ips = allowedIpsToDescriptions.keySet();\n</code></pre>\n<p>where <code>allowedIpsToDescriptions</code> is a <code>Map&lt;String, String&gt;</code></p>\n<p>I'm trying to convert <code>Set&lt;String&gt;</code> to <code>Set&lt;InetAddress&gt;</code> and here's my code:</p>\n<pre><code>Set&lt;InetAddress&gt; allowedIpsInetAddr = new HashSet&lt;&gt;();\n    \n    for (String ip : ips) {\n      InetAddress inetAddress = InetAddress.getByName(ip);\n      allowedIpsInetAddr.add(inetAddress);\n    }\n</code></pre>\n<p>Is there a cleaner / more efficient way of doing this using streams perhaps?</p>\n"},{"tags":["java","android","date","monthcalendar"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654256293,"creation_date":1654256293,"answer_id":72489045,"question_id":72488823,"body_markdown":"You can use the `YearMonth` class from the `java.time` api to parse your input and get the first and last day of month as `LocalDate`:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.YearMonth;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    ....\r\n\r\n    String input = &quot;Apr 22&quot;;\r\n    DateTimeFormatter ymFormater = DateTimeFormatter.ofPattern(&quot;MMM uu&quot;);\r\n    DateTimeFormatter dtFormater = DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;);\r\n\r\n    LocalDate startOfMonth = YearMonth.parse(input, ymFormater).atDay(1);\r\n    LocalDate endOfMonth   = YearMonth.parse(input, ymFormater).atEndOfMonth();\r\n\r\n    System.out.println(startOfMonth.format(dtFormater));\r\n    System.out.println(endOfMonth.format(dtFormater));","title":"How can I get start date and end date of a given month like Apr 22 in java android?","body":"<p>You can use the <code>YearMonth</code> class from the <code>java.time</code> api to parse your input and get the first and last day of month as <code>LocalDate</code>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\n\n....\n\nString input = &quot;Apr 22&quot;;\nDateTimeFormatter ymFormater = DateTimeFormatter.ofPattern(&quot;MMM uu&quot;);\nDateTimeFormatter dtFormater = DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;);\n\nLocalDate startOfMonth = YearMonth.parse(input, ymFormater).atDay(1);\nLocalDate endOfMonth   = YearMonth.parse(input, ymFormater).atEndOfMonth();\n\nSystem.out.println(startOfMonth.format(dtFormater));\nSystem.out.println(endOfMonth.format(dtFormater));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13736277,"reputation":404,"user_id":9912464,"display_name":"Gouranga Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654318311,"creation_date":1654266675,"answer_id":72491126,"question_id":72488823,"body_markdown":"&gt; **Solution 1:**\r\n\r\nAs per your need to get support from API level 23 you can use ```SimpleDateFormat``` &amp; ```Calendar``` to get desired result like below:\r\n```\r\nprivate void getFirstAndLastDate() {\r\n    String input = &quot;Apr 22&quot;;\r\n\r\n    // Create two date format\r\n    //One to read the date from the input string, the other to string the date\r\n    SimpleDateFormat formats = new SimpleDateFormat(&quot;MMM yy&quot;, Locale.US);\r\n    SimpleDateFormat newFormat = new SimpleDateFormat(&quot;ddMMyyyy&quot;, Locale.US);\r\n    \r\n    String firstDate, lastDate;\r\n\r\n    try {\r\n        Date date = formats.parse(input);\r\n        Calendar myCalendar = Calendar.getInstance();\r\n        myCalendar.setTime(date);\r\n\r\n        // Just set the day to 1\r\n        myCalendar.set(Calendar.DAY_OF_MONTH, 1);\r\n        firstDate = newFormat.format(myCalendar.getTime());\r\n\r\n        // Add a month\r\n        // add day -1\r\n        myCalendar.add(Calendar.MONTH, 1);\r\n        myCalendar.add(Calendar.DAY_OF_MONTH, -1);\r\n        lastDate = newFormat.format(myCalendar.getTime());\r\n\r\n        Log.e(&quot;firstDate: &quot;, firstDate);\r\n        Log.e(&quot;lastDate: &quot;, lastDate);\r\n\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nIt may not be the best way, but thus wanted results can be obtained.\r\n\r\n&gt; **Solution 2:**\r\n\r\n\r\n(***Added as per advice of @Ole V.V,*** thanks for guidance)\r\n\r\nThe best way to get desired result, you should use [@Eritrean&#39;s suggestion][1] which I have adding as quoted below.\r\n\r\n```\r\nimport java.time.LocalDate;\r\nimport java.time.YearMonth;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\n....\r\n\r\nString input = &quot;Apr 22&quot;;\r\nDateTimeFormatter ymFormater = DateTimeFormatter.ofPattern(&quot;MMM uu&quot;);\r\nDateTimeFormatter dtFormater = DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;);\r\n\r\nLocalDate startOfMonth = YearMonth.parse(input, ymFormater).atDay(1);\r\nLocalDate endOfMonth   = YearMonth.parse(input, ymFormater).atEndOfMonth();\r\n\r\nSystem.out.println(startOfMonth.format(dtFormater));\r\nSystem.out.println(endOfMonth.format(dtFormater));\r\n```\r\n\r\n&gt; This solution require @RequiresApi(api = Build.VERSION_CODES.O)\r\n&gt; but I need to get support from api level 23\r\n\r\nIn that case please add the following code to &quot;build.gradle (module)&quot; in order to get support from API level 23.\r\n\r\n\r\n```\r\nandroid {\r\n\r\n    ...\r\n\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled true\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    ...\r\n\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n}\r\n```\r\n\r\nYou should check the links for more details ([desugaring][2], [Java 8+ API desugaring support][3]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72489045/9912464\r\n  [2]: https://developer.android.com/studio/write/java8-support-table\r\n  [3]: https://developer.android.com/studio/write/java8-support#groovy","title":"How can I get start date and end date of a given month like Apr 22 in java android?","body":"<blockquote>\n<p><strong>Solution 1:</strong></p>\n</blockquote>\n<p>As per your need to get support from API level 23 you can use <code>SimpleDateFormat</code> &amp; <code>Calendar</code> to get desired result like below:</p>\n<pre><code>private void getFirstAndLastDate() {\n    String input = &quot;Apr 22&quot;;\n\n    // Create two date format\n    //One to read the date from the input string, the other to string the date\n    SimpleDateFormat formats = new SimpleDateFormat(&quot;MMM yy&quot;, Locale.US);\n    SimpleDateFormat newFormat = new SimpleDateFormat(&quot;ddMMyyyy&quot;, Locale.US);\n    \n    String firstDate, lastDate;\n\n    try {\n        Date date = formats.parse(input);\n        Calendar myCalendar = Calendar.getInstance();\n        myCalendar.setTime(date);\n\n        // Just set the day to 1\n        myCalendar.set(Calendar.DAY_OF_MONTH, 1);\n        firstDate = newFormat.format(myCalendar.getTime());\n\n        // Add a month\n        // add day -1\n        myCalendar.add(Calendar.MONTH, 1);\n        myCalendar.add(Calendar.DAY_OF_MONTH, -1);\n        lastDate = newFormat.format(myCalendar.getTime());\n\n        Log.e(&quot;firstDate: &quot;, firstDate);\n        Log.e(&quot;lastDate: &quot;, lastDate);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It may not be the best way, but thus wanted results can be obtained.</p>\n<blockquote>\n<p><strong>Solution 2:</strong></p>\n</blockquote>\n<p>(<em><strong>Added as per advice of @Ole V.V,</strong></em> thanks for guidance)</p>\n<p>The best way to get desired result, you should use <a href=\"https://stackoverflow.com/a/72489045/9912464\">@Eritrean's suggestion</a> which I have adding as quoted below.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\n\n....\n\nString input = &quot;Apr 22&quot;;\nDateTimeFormatter ymFormater = DateTimeFormatter.ofPattern(&quot;MMM uu&quot;);\nDateTimeFormatter dtFormater = DateTimeFormatter.ofPattern(&quot;ddMMuuuu&quot;);\n\nLocalDate startOfMonth = YearMonth.parse(input, ymFormater).atDay(1);\nLocalDate endOfMonth   = YearMonth.parse(input, ymFormater).atEndOfMonth();\n\nSystem.out.println(startOfMonth.format(dtFormater));\nSystem.out.println(endOfMonth.format(dtFormater));\n</code></pre>\n<blockquote>\n<p>This solution require @RequiresApi(api = Build.VERSION_CODES.O)\nbut I need to get support from api level 23</p>\n</blockquote>\n<p>In that case please add the following code to &quot;build.gradle (module)&quot; in order to get support from API level 23.</p>\n<pre><code>android {\n\n    ...\n\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    ...\n\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n</code></pre>\n<p>You should check the links for more details (<a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a>, <a href=\"https://developer.android.com/studio/write/java8-support#groovy\" rel=\"nofollow noreferrer\">Java 8+ API desugaring support</a>).</p>\n"}],"owner":{"account_id":1820600,"reputation":201,"user_id":1654760,"accept_rate":30,"display_name":"T B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654335379,"accepted_answer_id":72489045,"answer_count":2,"score":0,"last_activity_date":1654318311,"creation_date":1654255147,"question_id":72488823,"body_markdown":"How can I get start date and end date of a given month. But here the month is coming in the format    of &#39;Apr 22&#39; .\r\nSo I need to get the start date and end date of April 2022.\r\n\r\nHow can I get this in java? \r\nThe format I am looking is ddMMyyyy.","title":"How can I get start date and end date of a given month like Apr 22 in java android?","body":"<p>How can I get start date and end date of a given month. But here the month is coming in the format    of 'Apr 22' .\nSo I need to get the start date and end date of April 2022.</p>\n<p>How can I get this in java?\nThe format I am looking is ddMMyyyy.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":292903,"reputation":1827,"user_id":595943,"display_name":"habsq"},"score":0,"creation_date":1436173582,"post_id":31241654,"comment_id":50481192,"body_markdown":"See this: http://stackoverflow.com/questions/9063558/java-gson-replace-password-value-while-serialization","body":"See this: <a href=\"http://stackoverflow.com/questions/9063558/java-gson-replace-password-value-while-serialization\" title=\"java gson replace password value while serialization\">stackoverflow.com/questions/9063558/&hellip;</a>"},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":0,"creation_date":1436173726,"post_id":31241654,"comment_id":50481286,"body_markdown":"http://stackoverflow.com/questions/15159610/update-elements-in-a-jsonobject","body":"<a href=\"http://stackoverflow.com/questions/15159610/update-elements-in-a-jsonobject\" title=\"update elements in a jsonobject\">stackoverflow.com/questions/15159610/&hellip;</a>"},{"owner":{"account_id":6290063,"reputation":161,"user_id":4888068,"accept_rate":100,"display_name":"jdev"},"score":0,"creation_date":1436173757,"post_id":31241654,"comment_id":50481304,"body_markdown":"I checked that question, but I want the masking to be dynamic, for any Json, just select key and mask value","body":"I checked that question, but I want the masking to be dynamic, for any Json, just select key and mask value"}],"answers":[{"tags":[],"owner":{"account_id":4417126,"reputation":1671,"user_id":3598359,"accept_rate":100,"display_name":"codeaholicguy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1436175710,"creation_date":1436173736,"answer_id":31241798,"question_id":31241654,"body_markdown":"I think you should exclude that fields from log. Below is a simple example using `Gson` and `@Expose` annotation.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json = &quot;{\\&quot;username\\&quot;:\\&quot;user1\\&quot;,\\&quot;password\\&quot;:\\&quot;123456\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;creditCardNumber\\&quot;:\\&quot;1283-1238-0458-3458\\&quot;}&quot;;\r\n    \r\n        Gson gson = new Gson();\r\n        User user = gson.fromJson(json, User.class);\r\n    \r\n        System.out.println(gson.toJson(user));\r\n    \r\n        Gson gsonExpose = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\r\n        System.out.println(gsonExpose.toJson(user));\r\n    }\r\n    \r\n    public class User {\r\n        @Expose\r\n        private String username;\r\n        private String password;\r\n        @Expose\r\n        private String country;\r\n        private String creditCardNumber;\r\n    }\r\n\r\nOutput will be:\r\n\r\n    {&quot;username&quot;:&quot;user1&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;country&quot;:&quot;US&quot;,&quot;creditCardNumber&quot;:&quot;1283-1238-0458-3458&quot;}\r\n    {&quot;username&quot;:&quot;user1&quot;,&quot;country&quot;:&quot;US&quot;}\r\n\r\nAnother solution using Reflection:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json = &quot;{\\&quot;username\\&quot;:\\&quot;user1\\&quot;,\\&quot;password\\&quot;:\\&quot;123456\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;creditCardNumber\\&quot;:\\&quot;1283-1238-0458-3458\\&quot;}&quot;;\r\n    \r\n        Gson gson = new Gson();\r\n        User user = gson.fromJson(json, User.class);\r\n    \r\n        List&lt;String&gt; fieldNames = Arrays.asList(&quot;password&quot;, &quot;creditCardNumber&quot;);\r\n        System.out.println(mask(user, fieldNames, &quot;XXXXXXX&quot;));\r\n    }\r\n    \r\n    public static String mask(Object object, List&lt;String&gt; fieldNames, String mask) {\r\n        Field[] fields = object.getClass().getDeclaredFields();\r\n        for (int i = 0; i &lt; fields.length; i++) {\r\n            if (fieldNames.contains(fields[i].getName())) {\r\n                try {\r\n                    fields[i].setAccessible(true);\r\n                    if (fields[i].get(object) != null) {\r\n                        fields[i].set(object, mask);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        Gson gson = new Gson();\r\n    \r\n        return gson.toJson(object);\r\n    }","title":"Mask value of selected key in JSON","body":"<p>I think you should exclude that fields from log. Below is a simple example using <code>Gson</code> and <code>@Expose</code> annotation.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    String json = \"{\\\"username\\\":\\\"user1\\\",\\\"password\\\":\\\"123456\\\",\\\"country\\\":\\\"US\\\",\\\"creditCardNumber\\\":\\\"1283-1238-0458-3458\\\"}\";\n\n    Gson gson = new Gson();\n    User user = gson.fromJson(json, User.class);\n\n    System.out.println(gson.toJson(user));\n\n    Gson gsonExpose = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\n    System.out.println(gsonExpose.toJson(user));\n}\n\npublic class User {\n    @Expose\n    private String username;\n    private String password;\n    @Expose\n    private String country;\n    private String creditCardNumber;\n}\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>{\"username\":\"user1\",\"password\":\"123456\",\"country\":\"US\",\"creditCardNumber\":\"1283-1238-0458-3458\"}\n{\"username\":\"user1\",\"country\":\"US\"}\n</code></pre>\n\n<p>Another solution using Reflection:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    String json = \"{\\\"username\\\":\\\"user1\\\",\\\"password\\\":\\\"123456\\\",\\\"country\\\":\\\"US\\\",\\\"creditCardNumber\\\":\\\"1283-1238-0458-3458\\\"}\";\n\n    Gson gson = new Gson();\n    User user = gson.fromJson(json, User.class);\n\n    List&lt;String&gt; fieldNames = Arrays.asList(\"password\", \"creditCardNumber\");\n    System.out.println(mask(user, fieldNames, \"XXXXXXX\"));\n}\n\npublic static String mask(Object object, List&lt;String&gt; fieldNames, String mask) {\n    Field[] fields = object.getClass().getDeclaredFields();\n    for (int i = 0; i &lt; fields.length; i++) {\n        if (fieldNames.contains(fields[i].getName())) {\n            try {\n                fields[i].setAccessible(true);\n                if (fields[i].get(object) != null) {\n                    fields[i].set(object, mask);\n                }\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n    Gson gson = new Gson();\n\n    return gson.toJson(object);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21977894,"reputation":1,"user_id":16253425,"display_name":"umang pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654317668,"creation_date":1654069683,"answer_id":72458137,"question_id":31241654,"body_markdown":"I like the above solution to mask using reflection but wanted to extend same for other field types and saving masked field to unmask again.\r\n        \r\nCreate annotation `@MaskedField` on top of field.\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface MaskedField {\r\n}\r\n```\r\n``` \r\npublic &lt;T&gt; Map&lt;String,? super Object&gt;  maskObjectFields(T object){\r\n    Map&lt;String,? super Object&gt; values = new HashMap&lt;&gt;();\r\n    Arrays.stream(object.getClass().getDeclaredFields()).filter(field-&gt;null != field.getAnnotation(MaskedField.class)).\r\n            forEach(annotatedField-&gt;{\r\n                try {\r\n                    if(annotatedField.getType().isAssignableFrom(String.class)) {\r\n                        annotatedField.setAccessible(true);\r\n                        values.put(annotatedField.getName(),annotatedField.get(object));\r\n                        annotatedField.set(object, maskString((String) annotatedField.get(object)));\r\n                    }\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    return values;\r\n}\r\n\r\n\r\npublic &lt;T&gt; void unMaskObjectFields(T object,Map values){\r\n    Arrays.stream(object.getClass().getDeclaredFields()).filter(field-&gt;null != field.getAnnotation(MaskedField.class)).\r\n            forEach(annotatedField-&gt;{\r\n                try {\r\n                    annotatedField.setAccessible(true);\r\n                    annotatedField.set(object,values.get(annotatedField.getName()));\r\n                } catch (IllegalAccessException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n}\r\n\r\nprivate String maskString(String value){\r\n    if(Objects.isNull(value)) return null;\r\n    return null; //TODO: your logic goes here for masking\r\n}\r\n```","title":"Mask value of selected key in JSON","body":"<p>I like the above solution to mask using reflection but wanted to extend same for other field types and saving masked field to unmask again.</p>\n<p>Create annotation <code>@MaskedField</code> on top of field.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface MaskedField {\n}\n</code></pre>\n<pre><code>public &lt;T&gt; Map&lt;String,? super Object&gt;  maskObjectFields(T object){\n    Map&lt;String,? super Object&gt; values = new HashMap&lt;&gt;();\n    Arrays.stream(object.getClass().getDeclaredFields()).filter(field-&gt;null != field.getAnnotation(MaskedField.class)).\n            forEach(annotatedField-&gt;{\n                try {\n                    if(annotatedField.getType().isAssignableFrom(String.class)) {\n                        annotatedField.setAccessible(true);\n                        values.put(annotatedField.getName(),annotatedField.get(object));\n                        annotatedField.set(object, maskString((String) annotatedField.get(object)));\n                    }\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            });\n    return values;\n}\n\n\npublic &lt;T&gt; void unMaskObjectFields(T object,Map values){\n    Arrays.stream(object.getClass().getDeclaredFields()).filter(field-&gt;null != field.getAnnotation(MaskedField.class)).\n            forEach(annotatedField-&gt;{\n                try {\n                    annotatedField.setAccessible(true);\n                    annotatedField.set(object,values.get(annotatedField.getName()));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            });\n}\n\nprivate String maskString(String value){\n    if(Objects.isNull(value)) return null;\n    return null; //TODO: your logic goes here for masking\n}\n</code></pre>\n"}],"owner":{"account_id":6290063,"reputation":161,"user_id":4888068,"accept_rate":100,"display_name":"jdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12864,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31241798,"answer_count":2,"score":3,"last_activity_date":1654317668,"creation_date":1436173267,"question_id":31241654,"body_markdown":"I have JSON request and response, I want to print the JSONs in the log, but there are some secured fields which I want to avoid to print in the log, I am trying to mask fields keys:\r\nexample:\r\n\r\nbefore masking:\r\n  \r\n\r\n      {&quot;username&quot;:&quot;user1&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;country&quot;:&quot;US&quot;,&quot;creditCardNumber&quot;:&quot;1283-1238-0458-3458&quot;}\r\n\r\n\r\nafter masking\r\n\r\n    {&quot;username&quot;:&quot;user1&quot;,&quot;password&quot;:&quot;XXXXXX&quot;,&quot;country&quot;:&quot;US&quot;,&quot;creditCardNumber&quot;:&quot;XXXXXX&quot;}\r\n\r\nI am using java Gson lib, please help me to do that\r\n\r\nEDIT\r\n\r\nI want to pass the keys dynamically, so in function `a` I want to mask these fields, but in function `b` different fields.","title":"Mask value of selected key in JSON","body":"<p>I have JSON request and response, I want to print the JSONs in the log, but there are some secured fields which I want to avoid to print in the log, I am trying to mask fields keys:\nexample:</p>\n\n<p>before masking:</p>\n\n<pre><code>  {\"username\":\"user1\",\"password\":\"123456\",\"country\":\"US\",\"creditCardNumber\":\"1283-1238-0458-3458\"}\n</code></pre>\n\n<p>after masking</p>\n\n<pre><code>{\"username\":\"user1\",\"password\":\"XXXXXX\",\"country\":\"US\",\"creditCardNumber\":\"XXXXXX\"}\n</code></pre>\n\n<p>I am using java Gson lib, please help me to do that</p>\n\n<p>EDIT</p>\n\n<p>I want to pass the keys dynamically, so in function <code>a</code> I want to mask these fields, but in function <code>b</code> different fields.</p>\n"},{"tags":["java","swing","button"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654314182,"post_id":72496865,"comment_id":128067324,"body_markdown":"Honestly, make an image","body":"Honestly, make an image"},{"owner":{"account_id":24368856,"reputation":103,"user_id":18651879,"display_name":"Qwj_38"},"score":0,"creation_date":1654314316,"post_id":72496865,"comment_id":128067332,"body_markdown":"@MadProgrammer Hm... I think that is great idea!, but how do I add ```ActionListener``` with Image?","body":"@MadProgrammer Hm... I think that is great idea!, but how do I add <code>ActionListener</code> with Image?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654314436,"post_id":72496865,"comment_id":128067346,"body_markdown":"Well, since `JLabel` doesn&#39;t support `ActionListener`, then you&#39;d have to use a `JButton`","body":"Well, since <code>JLabel</code> doesn&#39;t support <code>ActionListener</code>, then you&#39;d have to use a <code>JButton</code>"},{"owner":{"account_id":24368856,"reputation":103,"user_id":18651879,"display_name":"Qwj_38"},"score":0,"creation_date":1654314538,"post_id":72496865,"comment_id":128067355,"body_markdown":"Oh, I didn&#39;t know that, thank you. So I think I supposed to edit the question about ```How to add decoration with JButton```","body":"Oh, I didn&#39;t know that, thank you. So I think I supposed to edit the question about <code>How to add decoration with JButton</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654316075,"post_id":72496865,"comment_id":128067502,"body_markdown":"There&#39;s no &quot;simple&quot; way to do it.  You&#39;re going to have to create your own button class to do (or create your own look and feel delegate)","body":"There&#39;s no &quot;simple&quot; way to do it.  You&#39;re going to have to create your own button class to do (or create your own look and feel delegate)"},{"owner":{"account_id":24368856,"reputation":103,"user_id":18651879,"display_name":"Qwj_38"},"score":0,"creation_date":1654316294,"post_id":72496865,"comment_id":128067524,"body_markdown":"@MadProgrammer I see, thank you very much for telling me that. I will try to create my own button class as you have taught me.","body":"@MadProgrammer I see, thank you very much for telling me that. I will try to create my own button class as you have taught me."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1654316412,"post_id":72496865,"comment_id":128067534,"body_markdown":"I have had success in small experiments like this to use subclass of JLabel with custom paintComponent with addMouseListener/MouseAdapter, roughly like https://stackoverflow.com/questions/14297448/jlabel-after-overriding-paintcomponent-how-to-make-settext-render-the-text does","body":"I have had success in small experiments like this to use subclass of JLabel with custom paintComponent with addMouseListener/MouseAdapter, roughly like <a href=\"https://stackoverflow.com/questions/14297448/jlabel-after-overriding-paintcomponent-how-to-make-settext-render-the-text\" title=\"jlabel after overriding paintcomponent how to make settext render the text\">stackoverflow.com/questions/14297448/&hellip;</a> does"},{"owner":{"account_id":24368856,"reputation":103,"user_id":18651879,"display_name":"Qwj_38"},"score":0,"creation_date":1654316936,"post_id":72496865,"comment_id":128067590,"body_markdown":"!! this is just what I wanted to know, thank you for sharing","body":"!! this is just what I wanted to know, thank you for sharing"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654317055,"creation_date":1654317055,"answer_id":72497080,"question_id":72496865,"body_markdown":"There&#39;s no &quot;simple&quot; way to do this, you&#39;re either going to have to create your own custom button (extending from `JButton`) or your own UI delegate class (which might be the preferred direction, but it&#39;s complicated)\r\n\r\n&gt; Why not use a `Border`\r\n\r\nBecause a `Border` can&#39;t be filled ... and if you do, it will paint over the text of the button &#128531;\r\n\r\nYou should start by looking at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html), [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [2D Graphics](https://docs.oracle.com/javase/tutorial/2d/index.html) to get a better understanding of how the solution works.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                FancyButton btn = new FancyButton();\r\n                btn.setText(&quot;Click me&quot;);\r\n                add(btn);\r\n            }\r\n        }\r\n\r\n        public class FancyButton extends JButton {\r\n\r\n            private int cornerRadius = 32;\r\n            private BufferedImage backgroundImage;\r\n\r\n            private float alpha = 0.25f;\r\n\r\n            public FancyButton() {\r\n                setBackground(Color.RED);\r\n                setForeground(Color.WHITE);\r\n                // This is important\r\n                setBorderPainted(false);\r\n                // This is important\r\n                setContentAreaFilled(false);\r\n                // This is important\r\n                int padding = cornerRadius / 2;\r\n                setBorder(new EmptyBorder(padding, padding, padding, padding));\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseEntered(MouseEvent e) {\r\n                        alpha = 1;\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseExited(MouseEvent e) {\r\n                        alpha = 0.25f;\r\n                        repaint();\r\n                    }\r\n                });\r\n                addComponentListener(new ComponentAdapter() {\r\n                    @Override\r\n                    public void componentResized(ComponentEvent e) {\r\n                        backgroundImage = null;\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public boolean isOpaque() {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public Insets getInsets() {\r\n                Insets insets = super.getInsets(); \r\n                insets.bottom += 5;\r\n                return insets;\r\n            }\r\n\r\n            @Override\r\n            public Insets getInsets(Insets insets) {\r\n                super.getInsets(insets);\r\n                insets.bottom += 5;\r\n                return insets;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                if (backgroundImage == null) {\r\n                    backgroundImage = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                    Graphics2D g2d = backgroundImage.createGraphics();\r\n                    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                    g2d.setColor(getBackground().darker());\r\n                    g2d.fillRoundRect(0, 5, getWidth(), getHeight() - 5, cornerRadius, cornerRadius);\r\n                    g2d.setColor(getBackground());\r\n                    g2d.fillRoundRect(0, 0, getWidth(), getHeight() - 5, cornerRadius, cornerRadius);\r\n                    g2d.dispose();\r\n                }\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n                g2d.drawImage(backgroundImage, 0, 0, this);\r\n                super.paintComponent(g2d);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oMCHv.gif","title":"Add decorations in JButton","body":"<p>There's no &quot;simple&quot; way to do this, you're either going to have to create your own custom button (extending from <code>JButton</code>) or your own UI delegate class (which might be the preferred direction, but it's complicated)</p>\n<blockquote>\n<p>Why not use a <code>Border</code></p>\n</blockquote>\n<p>Because a <code>Border</code> can't be filled ... and if you do, it will paint over the text of the button </p>\n<p>You should start by looking at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html\" rel=\"nofollow noreferrer\">2D Graphics</a> to get a better understanding of how the solution works.</p>\n<p><a href=\"https://i.stack.imgur.com/oMCHv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oMCHv.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.RenderingHints;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            FancyButton btn = new FancyButton();\n            btn.setText(&quot;Click me&quot;);\n            add(btn);\n        }\n    }\n\n    public class FancyButton extends JButton {\n\n        private int cornerRadius = 32;\n        private BufferedImage backgroundImage;\n\n        private float alpha = 0.25f;\n\n        public FancyButton() {\n            setBackground(Color.RED);\n            setForeground(Color.WHITE);\n            // This is important\n            setBorderPainted(false);\n            // This is important\n            setContentAreaFilled(false);\n            // This is important\n            int padding = cornerRadius / 2;\n            setBorder(new EmptyBorder(padding, padding, padding, padding));\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseEntered(MouseEvent e) {\n                    alpha = 1;\n                    repaint();\n                }\n\n                @Override\n                public void mouseExited(MouseEvent e) {\n                    alpha = 0.25f;\n                    repaint();\n                }\n            });\n            addComponentListener(new ComponentAdapter() {\n                @Override\n                public void componentResized(ComponentEvent e) {\n                    backgroundImage = null;\n                }\n            });\n        }\n\n        @Override\n        public boolean isOpaque() {\n            return false;\n        }\n\n        @Override\n        public Insets getInsets() {\n            Insets insets = super.getInsets(); \n            insets.bottom += 5;\n            return insets;\n        }\n\n        @Override\n        public Insets getInsets(Insets insets) {\n            super.getInsets(insets);\n            insets.bottom += 5;\n            return insets;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            if (backgroundImage == null) {\n                backgroundImage = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_ARGB);\n                Graphics2D g2d = backgroundImage.createGraphics();\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n                g2d.setColor(getBackground().darker());\n                g2d.fillRoundRect(0, 5, getWidth(), getHeight() - 5, cornerRadius, cornerRadius);\n                g2d.setColor(getBackground());\n                g2d.fillRoundRect(0, 0, getWidth(), getHeight() - 5, cornerRadius, cornerRadius);\n                g2d.dispose();\n            }\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(alpha));\n            g2d.drawImage(backgroundImage, 0, 0, this);\n            super.paintComponent(g2d);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24368856,"reputation":103,"user_id":18651879,"display_name":"Qwj_38"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72497080,"answer_count":1,"score":0,"last_activity_date":1654317073,"creation_date":1654313559,"question_id":72496865,"body_markdown":"I am currently doing GUI development in ```JavaSwing```.\r\nI am trying to create a ```button``` like the ```HTML``` code described below using ```JButton```, which was added to ```getContentPane()```, but I don&#39;t know how to do it and am at a loss.\r\n\r\n----------\r\n\r\n**Current Code:**\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n\r\n    JFrame frame = new JFrame();\r\n    frame.setTitle(&quot;TITLE&quot;);\r\n    frame.setVisible(true);\r\n    frame.setLocationRelativeTo(null);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setSize(1000, 800);\r\n    frame.getContentPane().setLayout(new FlowLayout());\r\n\r\n    JButton button = new JButton(&quot;Click Here&quot;);\r\n    frame.getContentPane().add(button);\r\n    button.setBackground(Color.RED);\r\n    button.setForeground(Color.WHITE);\r\n    button.setOpaque(true);\r\n    button.setPreferredSize(new Dimension(150, 50));\r\n\r\n    }\r\n\r\n  }\r\n```\r\n\r\n----------\r\n\r\nThe entity I am trying to create is a little hard to explain by mouth, so I have tried to reproduce what I am trying to create using HTML. It is as follows:\r\n\r\n----------\r\n\r\n**HTML CODE:**\r\n```\r\n&lt;div class=&quot;btn&quot;&gt;Click Here&lt;/div&gt;\r\n\r\n&lt;style&gt;\r\n.btn {\r\n  background-color: red;\r\n  display: inline-block;\r\n  height: 70px;\r\n  width: 150px;\r\n  text-align: center;\r\n  color: white;\r\n  padding-top: 35px;\r\n  font-size: 25px;\r\n  border-radius: 50px;\r\n  box-shadow: 0px 5px #b70d0b;\r\n  opacity: 0.7;\r\n  cursor: pointer;\r\n}\r\n  .btn:hover {\r\n    opacity: 1;\r\n  }\r\n  .btn:active{\r\n    position: relative;\r\n    top: 5px;\r\n    box-shadow: none;\r\n  }\r\n&lt;/style&gt;\r\n```\r\n----------\r\n\r\nThis is what it looks like when executed: The following image is my ideal in ```JavaSwing```.\r\n[![Button][1]][1]\r\n\r\n**The question this time is:**\r\n\r\n- Setting ```opacity``` to ```JButton``` in ```JavaSwing```\r\n\r\n- To set ```border-radius``` to ```button```\r\n\r\n- To set ```opacity``` to 1 only when the mouse ```hovers``` over the ```button``` and ```MouseEvent``` detects it.\r\n\r\n- Set ```box-shadow``` to ```5px```, and use ```ActionListener``` to detect the interval of active, and make it look like a ```button``` is being pressed.\r\n\r\n- To reproduce the ```cursor:pointer``` code while the mouse is hovering over the ```button```.\r\n\r\nI am not sure if this is too much to ask or not. I am fully aware that there are too many questions, so I would appreciate it if you could answer only the ones that I can answer.\r\n\r\nIn the meantime, I have done my own Google research on the question, but none of it fits my ideal, so I am asking it here.\r\n\r\n----------\r\n\r\n**As for what I did, here&#39;s what I did:**\r\n\r\nI looked [here](https://www.codegrepper.com/code-examples/java/how+do+I+change+the+opacity+of+a+JButton), but when I enter a decimal point, like ```setOpacity(0.5)```, I get an error that ```setOpacity(double) is undefined```.\r\n\r\nI referred to the border-radius [here](https://stackoverflow.com/questions/15025092/border-with-rounded-corners-transparency), but nothing happened when I ran it. Perhaps there is a problem with my writing style or version. I think there is a problem with the way I wrote it or the version, but I could not find out the cause.\r\n\r\nI tried copying the ```MouseEvent``` for the hover [here](https://stackoverflow.com/questions/25393134/how-to-get-mouse-hover-event-in-java-swing), but the version may be different, or an error occurred.\r\n\r\nSo, what code should I write to achieve what I am asking?\r\nI would appreciate it if you could help me.\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n9nXG.png","title":"Add decorations in JButton","body":"<p>I am currently doing GUI development in <code>JavaSwing</code>.\nI am trying to create a <code>button</code> like the <code>HTML</code> code described below using <code>JButton</code>, which was added to <code>getContentPane()</code>, but I don't know how to do it and am at a loss.</p>\n<hr />\n<p><strong>Current Code:</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Main {\n  public static void main(String[] args) {\n\n    JFrame frame = new JFrame();\n    frame.setTitle(&quot;TITLE&quot;);\n    frame.setVisible(true);\n    frame.setLocationRelativeTo(null);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(1000, 800);\n    frame.getContentPane().setLayout(new FlowLayout());\n\n    JButton button = new JButton(&quot;Click Here&quot;);\n    frame.getContentPane().add(button);\n    button.setBackground(Color.RED);\n    button.setForeground(Color.WHITE);\n    button.setOpaque(true);\n    button.setPreferredSize(new Dimension(150, 50));\n\n    }\n\n  }\n</code></pre>\n<hr />\n<p>The entity I am trying to create is a little hard to explain by mouth, so I have tried to reproduce what I am trying to create using HTML. It is as follows:</p>\n<hr />\n<p><strong>HTML CODE:</strong></p>\n<pre><code>&lt;div class=&quot;btn&quot;&gt;Click Here&lt;/div&gt;\n\n&lt;style&gt;\n.btn {\n  background-color: red;\n  display: inline-block;\n  height: 70px;\n  width: 150px;\n  text-align: center;\n  color: white;\n  padding-top: 35px;\n  font-size: 25px;\n  border-radius: 50px;\n  box-shadow: 0px 5px #b70d0b;\n  opacity: 0.7;\n  cursor: pointer;\n}\n  .btn:hover {\n    opacity: 1;\n  }\n  .btn:active{\n    position: relative;\n    top: 5px;\n    box-shadow: none;\n  }\n&lt;/style&gt;\n</code></pre>\n<hr />\n<p>This is what it looks like when executed: The following image is my ideal in <code>JavaSwing</code>.\n<a href=\"https://i.stack.imgur.com/n9nXG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9nXG.png\" alt=\"Button\" /></a></p>\n<p><strong>The question this time is:</strong></p>\n<ul>\n<li><p>Setting <code>opacity</code> to <code>JButton</code> in <code>JavaSwing</code></p>\n</li>\n<li><p>To set <code>border-radius</code> to <code>button</code></p>\n</li>\n<li><p>To set <code>opacity</code> to 1 only when the mouse <code>hovers</code> over the <code>button</code> and <code>MouseEvent</code> detects it.</p>\n</li>\n<li><p>Set <code>box-shadow</code> to <code>5px</code>, and use <code>ActionListener</code> to detect the interval of active, and make it look like a <code>button</code> is being pressed.</p>\n</li>\n<li><p>To reproduce the <code>cursor:pointer</code> code while the mouse is hovering over the <code>button</code>.</p>\n</li>\n</ul>\n<p>I am not sure if this is too much to ask or not. I am fully aware that there are too many questions, so I would appreciate it if you could answer only the ones that I can answer.</p>\n<p>In the meantime, I have done my own Google research on the question, but none of it fits my ideal, so I am asking it here.</p>\n<hr />\n<p><strong>As for what I did, here's what I did:</strong></p>\n<p>I looked <a href=\"https://www.codegrepper.com/code-examples/java/how+do+I+change+the+opacity+of+a+JButton\" rel=\"nofollow noreferrer\">here</a>, but when I enter a decimal point, like <code>setOpacity(0.5)</code>, I get an error that <code>setOpacity(double) is undefined</code>.</p>\n<p>I referred to the border-radius <a href=\"https://stackoverflow.com/questions/15025092/border-with-rounded-corners-transparency\">here</a>, but nothing happened when I ran it. Perhaps there is a problem with my writing style or version. I think there is a problem with the way I wrote it or the version, but I could not find out the cause.</p>\n<p>I tried copying the <code>MouseEvent</code> for the hover <a href=\"https://stackoverflow.com/questions/25393134/how-to-get-mouse-hover-event-in-java-swing\">here</a>, but the version may be different, or an error occurred.</p>\n<p>So, what code should I write to achieve what I am asking?\nI would appreciate it if you could help me.</p>\n<p>Thank you.</p>\n"},{"tags":["java","oracle","swing","deployment"],"comments":[{"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"score":0,"creation_date":1398937786,"post_id":23405397,"comment_id":35861924,"body_markdown":"jar works itself.. does not need to create debian package for ubuntu.","body":"jar works itself.. does not need to create debian package for ubuntu."},{"owner":{"account_id":3670323,"reputation":1,"user_id":3057769,"accept_rate":0,"display_name":"shrikant.sharma"},"score":0,"creation_date":1398938033,"post_id":23405397,"comment_id":35862027,"body_markdown":"than how to uplad jar on software center","body":"than how to uplad jar on software center"},{"owner":{"account_id":3670323,"reputation":1,"user_id":3057769,"accept_rate":0,"display_name":"shrikant.sharma"},"score":0,"creation_date":1398938126,"post_id":23405397,"comment_id":35862065,"body_markdown":"and i want to make it open source project so where i have to put source code.","body":"and i want to make it open source project so where i have to put source code."}],"answers":[{"tags":[],"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398940494,"creation_date":1398938284,"answer_id":23405526,"question_id":23405397,"body_markdown":"Check out this Reference site. It gives you step-by-step information about create .deb for your swing application.\r\n\r\n[Swing applications deployment on Linux: DEB packages][1]\r\n\r\nDEB packages are created using dpkg-deb tool, found in most Linux distributions\r\n\r\n**For updated questions.**\r\n\r\n[\r\nUploading your app on ubuntu software center.][2]\r\n\r\nThanks..\r\n\r\n\r\n  [1]: http://www.richjavablog.com/2012/02/swing-applications-deployment-on-linux.html\r\n  [2]: http://developer.ubuntu.com/publish/apps/other-forms-of-submitting-apps/my-apps-packages/","title":"How to package a NetBeans Java project for Ubuntu","body":"<p>Check out this Reference site. It gives you step-by-step information about create .deb for your swing application.</p>\n\n<p><a href=\"http://www.richjavablog.com/2012/02/swing-applications-deployment-on-linux.html\" rel=\"nofollow\">Swing applications deployment on Linux: DEB packages</a></p>\n\n<p>DEB packages are created using dpkg-deb tool, found in most Linux distributions</p>\n\n<p><strong>For updated questions.</strong></p>\n\n<p><a href=\"http://developer.ubuntu.com/publish/apps/other-forms-of-submitting-apps/my-apps-packages/\" rel=\"nofollow\">\nUploading your app on ubuntu software center.</a></p>\n\n<p>Thanks..</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1398939959,"creation_date":1398939959,"answer_id":23405909,"question_id":23405397,"body_markdown":"&gt; I have used swing ,\r\n\r\nFor deploying Java desktop apps., the best option is usually to install the app. using [Java Web Start](https://stackoverflow.com/tags/java-web-start/info).  JWS works on Windows, OS X &amp; *nix.\r\n\r\n&gt; ..oracle data base 10g for words storage \r\n\r\nInstall it using an `installer-desc` JNLP (a JWS launch file).  They are run once on install, and a 2nd time on uninstall.\r\n\r\n&gt; ..and external jar rs2xml which is not provided by oracle by default, ..\r\n\r\nAdd them to the run-time class-path using a `jar` element in the JNLP.","title":"How to package a NetBeans Java project for Ubuntu","body":"<blockquote>\n  <p>I have used swing ,</p>\n</blockquote>\n\n<p>For deploying Java desktop apps., the best option is usually to install the app. using <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.  JWS works on Windows, OS X &amp; *nix.</p>\n\n<blockquote>\n  <p>..oracle data base 10g for words storage </p>\n</blockquote>\n\n<p>Install it using an <code>installer-desc</code> JNLP (a JWS launch file).  They are run once on install, and a 2nd time on uninstall.</p>\n\n<blockquote>\n  <p>..and external jar rs2xml which is not provided by oracle by default, ..</p>\n</blockquote>\n\n<p>Add them to the run-time class-path using a <code>jar</code> element in the JNLP.</p>\n"}],"owner":{"account_id":3670323,"reputation":1,"user_id":3057769,"accept_rate":0,"display_name":"shrikant.sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654316981,"creation_date":1398937702,"question_id":23405397,"body_markdown":"I&#39;m in final year of my B.Tech. For a project, I have created an multilingual dictionary in Java (with NetBeans 6.7.1) in which we can search a word&#39;s meaning, its synonyms, antonyms and an example, or if it&#39;s not available then we can add a new word in the database.\r\n\r\nI have used Swing and Oracle database 10g for word storage and external jar rs2xml which is not provided by Oracle by default. I have many more ideas in my mind which I will apply to this project after my finals.\r\n\r\nNow I want to publish it on the Ubuntu Software Center as an open source project so others can also share new ideas and make it successful.\r\n\r\nI have no idea how to convert a NetBeans Java project into a Debian package.\r\n\r\nIs there any criteria that needs to be fulfilled in order to publish a project on Software Center?\r\n\r\nI assume I will have to back up a database table and check if the user has Java or Oracle installed on their computer or prompt them to install these first etc.\r\n","title":"How to package a NetBeans Java project for Ubuntu","body":"<p>I'm in final year of my B.Tech. For a project, I have created an multilingual dictionary in Java (with NetBeans 6.7.1) in which we can search a word's meaning, its synonyms, antonyms and an example, or if it's not available then we can add a new word in the database.</p>\n<p>I have used Swing and Oracle database 10g for word storage and external jar rs2xml which is not provided by Oracle by default. I have many more ideas in my mind which I will apply to this project after my finals.</p>\n<p>Now I want to publish it on the Ubuntu Software Center as an open source project so others can also share new ideas and make it successful.</p>\n<p>I have no idea how to convert a NetBeans Java project into a Debian package.</p>\n<p>Is there any criteria that needs to be fulfilled in order to publish a project on Software Center?</p>\n<p>I assume I will have to back up a database table and check if the user has Java or Oracle installed on their computer or prompt them to install these first etc.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654316906,"creation_date":1653592701,"answer_id":72396937,"question_id":57668895,"body_markdown":"I&#39;m looking for the same answer. I&#39;m using this workaround for now... Don&#39;t specify `&lt;outputFile&gt;` or `&lt;finalName&gt;` in the maven shade plugin when attaching the shaded artifact. Maven will then install both jars, using the classifier as the differentiator between the two.\r\n\r\nDownstream projects can depend on the shaded jar this way:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;abc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t&lt;classifier&gt;SHADED&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to install shaded jar instead of the original jar","body":"<p>I'm looking for the same answer. I'm using this workaround for now... Don't specify <code>&lt;outputFile&gt;</code> or <code>&lt;finalName&gt;</code> in the maven shade plugin when attaching the shaded artifact. Maven will then install both jars, using the classifier as the differentiator between the two.</p>\n<p>Downstream projects can depend on the shaded jar this way:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;abc&lt;/groupId&gt;\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;classifier&gt;SHADED&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1654316906,"creation_date":1566887869,"question_id":57668895,"body_markdown":"I add maven-shaded-plugin into my project and it correctly built the shaded uber jar, but still installed the original thin jar. I&#39;d like to install the shaded uber jar so that downstream projects can depend on this shaded uber jar. How can I do it? Thanks.\r\n\r\nHere&#39;s my pom file.\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${plugin.shade.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;shadeTestJar&gt;true&lt;/shadeTestJar&gt;\r\n              &lt;shadedClassifierName&gt;SHADED&lt;/shadedClassifierName&gt;\r\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n              &lt;filters&gt;\r\n                &lt;filter&gt;\r\n                  &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;/filter&gt;\r\n              &lt;/filters&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                  &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n              &lt;artifactSet&gt;\r\n\r\n              &lt;/artifactSet&gt;\r\n              &lt;!--&lt;outputDirectory&gt;${project.build.directory}/../../interpreter/python&lt;/outputDirectory&gt;--&gt;\r\n              &lt;outputFile&gt;${project.build.directory}/../../interpreter/python/${interpreter.jar.name}-${project.version}.jar&lt;/outputFile&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;","title":"How to install shaded jar instead of the original jar","body":"<p>I add maven-shaded-plugin into my project and it correctly built the shaded uber jar, but still installed the original thin jar. I'd like to install the shaded uber jar so that downstream projects can depend on this shaded uber jar. How can I do it? Thanks.</p>\n<p>Here's my pom file.</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${plugin.shade.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;shadeTestJar&gt;true&lt;/shadeTestJar&gt;\n          &lt;shadedClassifierName&gt;SHADED&lt;/shadedClassifierName&gt;\n          &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n          &lt;filters&gt;\n            &lt;filter&gt;\n              &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;/filter&gt;\n          &lt;/filters&gt;\n          &lt;transformers&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n              &lt;resource&gt;reference.conf&lt;/resource&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n          &lt;artifactSet&gt;\n\n          &lt;/artifactSet&gt;\n          &lt;!--&lt;outputDirectory&gt;${project.build.directory}/../../interpreter/python&lt;/outputDirectory&gt;--&gt;\n          &lt;outputFile&gt;${project.build.directory}/../../interpreter/python/${interpreter.jar.name}-${project.version}.jar&lt;/outputFile&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":11724567,"reputation":13477,"user_id":8582353,"display_name":"yong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654316753,"creation_date":1505973661,"answer_id":46336488,"question_id":46336109,"body_markdown":"You need to cast driver to JavascriptExecutor type\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor) deiver;\r\n    WebElement scrollElement = driver.findElement();\r\n    jse.executeScript(&quot;return arguments[0].scrollIntoView();&quot;, scrollElement);","title":"Why am I unable to scroll down the page using Selenium 2?","body":"<p>You need to cast driver to JavascriptExecutor type</p>\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor) deiver;\nWebElement scrollElement = driver.findElement();\njse.executeScript(&quot;return arguments[0].scrollIntoView();&quot;, scrollElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8795879,"reputation":31,"user_id":6573791,"display_name":"Priyanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506014864,"creation_date":1506014864,"answer_id":46349872,"question_id":46336109,"body_markdown":"The Syntax of findElementByXpath must be\r\n\r\n driver.findElement(By.xpath(&quot;.//*[@id=&#39;login-password&#39;]&quot;));\r\n\r\nTry the below mentioned code for scrolling to element, it worked for me\r\n\r\n       driver.get(&quot;https://prod4.qandle.com&quot;);\r\n      WebDriverWait webwait = new WebDriverWait(driver,120);\r\n      \r\n      webwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(&quot;.//*[@id=&#39;login-email&#39;]&quot;))));\r\n      WebElement web = driver.findElement(By.xpath(&quot;.//*[@id=&#39;login-email&#39;]&quot;));\r\n      web.sendKeys(&quot;Anil@gmail.com&quot;);\r\n      WebDriverWait webwait1 = new WebDriverWait(driver,20);\r\n      webwait1.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(&quot;.//*[@id=&#39;login-password&#39;]&quot;))));\r\n      WebElement web1 = driver.findElement(By.xpath(&quot;.//*[@id=&#39;login-password&#39;]&quot;));\r\n      web1.sendKeys(&quot;Abc12345&quot;);\r\n      WebElement web2 = driver.findElement(By.xpath(&quot;.//*[@id=&#39;signInSubmit&#39;]&quot;));\r\n      web2.submit();\r\n\r\n      //Assert.assertEquals(my_Title, my_ExpectedTitle);\r\n      try {\r\n\tThread.sleep(5000);\r\n\t} catch (InterruptedException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n      String my_Title = driver.getCurrentUrl();\r\n      String my_ExpectedTitle = &quot;https://prod4.qandle.com/#/&quot;;\r\n\r\n      if(my_Title.equals(my_ExpectedTitle)){\r\n    \t  JavascriptExecutor js = (JavascriptExecutor) driver;  \r\n       // Mention the xpath of the element to be scrolled for\r\n           WebElement tempElement=driver.findElement(By.xpath(&quot;//*[contains(text(),&#39;Reports&#39;)]&quot;));\r\n           \r\n    \t  \r\n    \t  ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, tempElement);\r\n      }else{\r\n          System.out.println(&quot;Test Case Failed&quot;);\r\n\r\n      }  \r\n\r\n","title":"Why am I unable to scroll down the page using Selenium 2?","body":"<p>The Syntax of findElementByXpath must be</p>\n\n<p>driver.findElement(By.xpath(\".//*[@id='login-password']\"));</p>\n\n<p>Try the below mentioned code for scrolling to element, it worked for me</p>\n\n<pre><code>   driver.get(\"https://prod4.qandle.com\");\n  WebDriverWait webwait = new WebDriverWait(driver,120);\n\n  webwait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(\".//*[@id='login-email']\"))));\n  WebElement web = driver.findElement(By.xpath(\".//*[@id='login-email']\"));\n  web.sendKeys(\"Anil@gmail.com\");\n  WebDriverWait webwait1 = new WebDriverWait(driver,20);\n  webwait1.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(\".//*[@id='login-password']\"))));\n  WebElement web1 = driver.findElement(By.xpath(\".//*[@id='login-password']\"));\n  web1.sendKeys(\"Abc12345\");\n  WebElement web2 = driver.findElement(By.xpath(\".//*[@id='signInSubmit']\"));\n  web2.submit();\n\n  //Assert.assertEquals(my_Title, my_ExpectedTitle);\n  try {\nThread.sleep(5000);\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n  String my_Title = driver.getCurrentUrl();\n  String my_ExpectedTitle = \"https://prod4.qandle.com/#/\";\n\n  if(my_Title.equals(my_ExpectedTitle)){\n      JavascriptExecutor js = (JavascriptExecutor) driver;  \n   // Mention the xpath of the element to be scrolled for\n       WebElement tempElement=driver.findElement(By.xpath(\"//*[contains(text(),'Reports')]\"));\n\n\n      ((JavascriptExecutor) driver).executeScript(\"arguments[0].scrollIntoView(true);\", tempElement);\n  }else{\n      System.out.println(\"Test Case Failed\");\n\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619422,"reputation":985,"user_id":3018563,"display_name":"IamBatman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506031712,"creation_date":1506031712,"answer_id":46353876,"question_id":46336109,"body_markdown":"If you are using &quot;Chrome&quot; use:\r\n\r\n    js.ExecuteScript(&quot;arguments[0].scrollIntoViewIfNeeded(true);&quot;, e)\r\n\r\nFor &quot;Firefox&quot; and &quot;IE&quot; use:\r\n\r\n    js.ExecuteScript(&quot;arguments[0].scrollIntoView(true);&quot; +\r\n                                         &quot;window.scrollBy(0,-100);&quot;, e);","title":"Why am I unable to scroll down the page using Selenium 2?","body":"<p>If you are using \"Chrome\" use:</p>\n\n<pre><code>js.ExecuteScript(\"arguments[0].scrollIntoViewIfNeeded(true);\", e)\n</code></pre>\n\n<p>For \"Firefox\" and \"IE\" use:</p>\n\n<pre><code>js.ExecuteScript(\"arguments[0].scrollIntoView(true);\" +\n                                     \"window.scrollBy(0,-100);\", e);\n</code></pre>\n"}],"owner":{"account_id":11771147,"reputation":3,"user_id":8614145,"display_name":"Real one"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1654316893,"creation_date":1505971906,"question_id":46336109,"body_markdown":"I have gecko driver installed already.  \r\nI am little bit confused in page scroll down.Console is not showing me any error as I have written Test Case failed if (if condition fails):\r\n\r\n    package PackageQandle;\r\n    \r\n    //import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebElement;\r\n    //import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    //import org.openqa.selenium.support.ui.ExpectedCondition;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    //import junit.framework.Assert;\r\n    \r\n    public class Adduser {\r\n    \tpublic static void main(String[] args) throws Throwable  {\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:/Users/sudhir/geckodriver-v0.18.0-win32/geckodriver.exe&quot;);\r\n    \t\tFirefoxDriver driver = new FirefoxDriver();\r\n    \t\tdriver.get(&quot;https://prod4.qandle.com&quot;);\r\n    \t\tWebDriverWait webwait = new WebDriverWait(driver,120);\r\n    \t\twebwait.until(ExpectedConditions.elementToBeClickable(driver.findElementByXPath(&quot;.//*[@id=&#39;login-email&#39;]&quot;)));\r\n    \t\tWebElement web = driver.findElementByXPath(&quot;.//*[@id=&#39;login-email&#39;]&quot;);\r\n    \t\tweb.sendKeys(&quot;Anil@gmail.com&quot;);\r\n    \t\tWebDriverWait webwait1 = new WebDriverWait(driver,20);\r\n    \t\twebwait1.until(ExpectedConditions.elementToBeClickable(driver.findElementByXPath(&quot;.//*[@id=&#39;login-password&#39;]&quot;)));\r\n    \t\tWebElement web1 = driver.findElementByXPath(&quot;.//*[@id=&#39;login-password&#39;]&quot;);\r\n    \t\tweb1.sendKeys(&quot;Abc12345&quot;);\r\n    \t\tWebElement web2 = driver.findElementByXPath(&quot;.//*[@id=&#39;signInSubmit&#39;]&quot;);\r\n    \t\tweb2.submit();\r\n    \r\n    \t\t//Assert.assertEquals(my_Title, my_ExpectedTitle);\r\n    \t\tThread.sleep(5000);\r\n    \r\n    \t\t//JavascriptExecutor j = new JavascriptExecutor();\r\n    \t\tString my_Title = driver.getCurrentUrl();\r\n    \t\t//System.out.println(my_Title);\r\n    \t\tString my_ExpectedTitle = &quot;https://prod4.qandle.com/#/&quot;;\r\n    \r\n    \t\tif(my_Title.equals(my_ExpectedTitle)){\r\n    \t\t\t driver.executeScript(&quot;Scroll(0,600);&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;Test Case Failed&quot;);\r\n    \r\n    \t\t}\r\n   \r\n    \t}\r\n    \r\n    }\r\n\r\n        \r\nI am using this code to inspect element which appears when I scroll down the page.","title":"Why am I unable to scroll down the page using Selenium 2?","body":"<p>I have gecko driver installed already.<br />\nI am little bit confused in page scroll down.Console is not showing me any error as I have written Test Case failed if (if condition fails):</p>\n<pre><code>package PackageQandle;\n\n//import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebElement;\n//import org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n//import org.openqa.selenium.support.ui.ExpectedCondition;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\n//import junit.framework.Assert;\n\npublic class Adduser {\n    public static void main(String[] args) throws Throwable  {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:/Users/sudhir/geckodriver-v0.18.0-win32/geckodriver.exe&quot;);\n        FirefoxDriver driver = new FirefoxDriver();\n        driver.get(&quot;https://prod4.qandle.com&quot;);\n        WebDriverWait webwait = new WebDriverWait(driver,120);\n        webwait.until(ExpectedConditions.elementToBeClickable(driver.findElementByXPath(&quot;.//*[@id='login-email']&quot;)));\n        WebElement web = driver.findElementByXPath(&quot;.//*[@id='login-email']&quot;);\n        web.sendKeys(&quot;Anil@gmail.com&quot;);\n        WebDriverWait webwait1 = new WebDriverWait(driver,20);\n        webwait1.until(ExpectedConditions.elementToBeClickable(driver.findElementByXPath(&quot;.//*[@id='login-password']&quot;)));\n        WebElement web1 = driver.findElementByXPath(&quot;.//*[@id='login-password']&quot;);\n        web1.sendKeys(&quot;Abc12345&quot;);\n        WebElement web2 = driver.findElementByXPath(&quot;.//*[@id='signInSubmit']&quot;);\n        web2.submit();\n\n        //Assert.assertEquals(my_Title, my_ExpectedTitle);\n        Thread.sleep(5000);\n\n        //JavascriptExecutor j = new JavascriptExecutor();\n        String my_Title = driver.getCurrentUrl();\n        //System.out.println(my_Title);\n        String my_ExpectedTitle = &quot;https://prod4.qandle.com/#/&quot;;\n\n        if(my_Title.equals(my_ExpectedTitle)){\n             driver.executeScript(&quot;Scroll(0,600);&quot;);\n        }else{\n            System.out.println(&quot;Test Case Failed&quot;);\n\n        }\n\n    }\n\n}\n\n    \n</code></pre>\n<p>I am using this code to inspect element which appears when I scroll down the page.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654318733,"post_id":72497066,"comment_id":128067785,"body_markdown":"parse it yourself maybe, use regex to split numbers and variables do the calculation on your own","body":"parse it yourself maybe, use regex to split numbers and variables do the calculation on your own"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654325824,"post_id":72497066,"comment_id":128068668,"body_markdown":"See also: [*How to use Nashorn in Java 15 and later?*](https://stackoverflow.com/q/65265629/642706) and [*Nashorn removal: GraalVM to the rescue!*](https://medium.com/graalvm/nashorn-removal-graalvm-to-the-rescue-d4da3605b6cb)","body":"See also: <a href=\"https://stackoverflow.com/q/65265629/642706\"><i>How to use Nashorn in Java 15 and later?</i></a> and <a href=\"https://medium.com/graalvm/nashorn-removal-graalvm-to-the-rescue-d4da3605b6cb\" rel=\"nofollow noreferrer\"><i>Nashorn removal: GraalVM to the rescue!</i></a>"}],"owner":{"account_id":24106008,"reputation":1,"user_id":18077193,"display_name":"Hunter Szabo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654325634,"answer_count":0,"score":0,"last_activity_date":1654316882,"creation_date":1654316759,"question_id":72497066,"body_markdown":"```\r\nString num = &quot;9+9&quot;;\r\ndouble answer = Double.parseDouble(num);\r\n```\r\n\r\nI understand I could use something called [ScriptEngineManager](https://stackoverflow.com/questions/52900739/string-to-double-a-b). I copied that code, and was given the following error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null\r\n\tat WritingClasses.Test.EvalMath(Test.java:25)\r\n\tat WritingClasses.Test.main(Test.java:11)\r\n```","title":"How can I evaluate a String to double where String is double (a+b)","body":"<pre><code>String num = &quot;9+9&quot;;\ndouble answer = Double.parseDouble(num);\n</code></pre>\n<p>I understand I could use something called <a href=\"https://stackoverflow.com/questions/52900739/string-to-double-a-b\">ScriptEngineManager</a>. I copied that code, and was given the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null\n    at WritingClasses.Test.EvalMath(Test.java:25)\n    at WritingClasses.Test.main(Test.java:11)\n</code></pre>\n"},{"tags":["java","xml","xpath"],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1573485151,"creation_date":1573483374,"answer_id":58803525,"question_id":58803264,"body_markdown":"Take advantage of the XML date format and do a string comparison there, annd combine your conditions\r\n\r\n    /catalog/book[(publish_date &gt; &#39;2005&#39;) and (number(price) &gt; 10)]\r\n\r\nAnd thus\r\n\r\n    XPathExpression xPathExpression = xPath.compile(&quot;/catalog/book[(publish_date &gt; &#39;2005&#39;) and (number(price) &gt; 10)]&quot;);\r\n    NodeList bookNodes = (NodeList)xPathExpression.evaluate(inputSource, XPathConstants.NODESET);\r\n    for (int i = 0; i &lt; bookNodes.getLength(); i++) {\r\n        Element bookElement = bookNodes.item(i);\r\n        System.out.println(&quot;Author: &quot; + bookElement.getElementsByTagName(&quot;author&quot;).item(0).getNodeValue());\r\n    }\r\n\r\nYou&#39;ll need to add the remaining, necessary tags. Also, if you book elements might no all contain all expected node, you&#39;ll need to check the collection returned by getElementsByTagName()","title":"How can I properly parse this XML file with xPath in Java?","body":"<p>Take advantage of the XML date format and do a string comparison there, annd combine your conditions</p>\n\n<pre><code>/catalog/book[(publish_date &gt; '2005') and (number(price) &gt; 10)]\n</code></pre>\n\n<p>And thus</p>\n\n<pre><code>XPathExpression xPathExpression = xPath.compile(\"/catalog/book[(publish_date &gt; '2005') and (number(price) &gt; 10)]\");\nNodeList bookNodes = (NodeList)xPathExpression.evaluate(inputSource, XPathConstants.NODESET);\nfor (int i = 0; i &lt; bookNodes.getLength(); i++) {\n    Element bookElement = bookNodes.item(i);\n    System.out.println(\"Author: \" + bookElement.getElementsByTagName(\"author\").item(0).getNodeValue());\n}\n</code></pre>\n\n<p>You'll need to add the remaining, necessary tags. Also, if you book elements might no all contain all expected node, you'll need to check the collection returned by getElementsByTagName()</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573489046,"creation_date":1573488014,"answer_id":58804740,"question_id":58803264,"body_markdown":"You almost have it right.  The problem is that, according the specification, a numeric comparison (`&lt;` or `&gt;`) requires implicitly converting each operand to a number.  A nodes text content is only a valid number if it consists entirely of ASCII digits, with an optional leading minus, optional period, and optional surrounding whitespace.\r\n\r\nA date like `2002-12-16` obviously does not qualify.  However, you can turn that into a string that can be implicitly converted into a number, using [substring-before](https://www.w3.org/TR/1999/REC-xpath-19991116/#function-substring-before):\r\n\r\n    XPathExpression xPathExpression = xPath.compile(\r\n        &quot;catalog/book[substring-before(publish_date,&#39;-&#39;)&gt;2005 and price&gt;10]/price&quot;);\r\n","title":"How can I properly parse this XML file with xPath in Java?","body":"<p>You almost have it right.  The problem is that, according the specification, a numeric comparison (<code>&lt;</code> or <code>&gt;</code>) requires implicitly converting each operand to a number.  A nodes text content is only a valid number if it consists entirely of ASCII digits, with an optional leading minus, optional period, and optional surrounding whitespace.</p>\n\n<p>A date like <code>2002-12-16</code> obviously does not qualify.  However, you can turn that into a string that can be implicitly converted into a number, using <a href=\"https://www.w3.org/TR/1999/REC-xpath-19991116/#function-substring-before\" rel=\"nofollow noreferrer\">substring-before</a>:</p>\n\n<pre><code>XPathExpression xPathExpression = xPath.compile(\n    \"catalog/book[substring-before(publish_date,'-')&gt;2005 and price&gt;10]/price\");\n</code></pre>\n"}],"owner":{"account_id":16328846,"reputation":35,"user_id":11792755,"display_name":"jova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58804740,"answer_count":2,"score":2,"last_activity_date":1654316047,"creation_date":1573482370,"question_id":58803264,"body_markdown":"This is my XML file that I need to parse:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;catalog&gt;\r\n       &lt;book id=&quot;bk101&quot;&gt;\r\n          &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\r\n          &lt;title&gt;XML Developer&#39;s Guide&lt;/title&gt;\r\n          &lt;genre&gt;Computer&lt;/genre&gt;\r\n          &lt;price&gt;44.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\r\n          &lt;description&gt;An in-depth look at creating applications \r\n          with XML.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk102&quot;&gt;\r\n          &lt;author&gt;Ralls, Kim&lt;/author&gt;\r\n          &lt;title&gt;Midnight Rain&lt;/title&gt;\r\n          &lt;genre&gt;Fantasy&lt;/genre&gt;\r\n          &lt;price&gt;5.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2002-12-16&lt;/publish_date&gt;\r\n          &lt;description&gt;A former architect battles corporate zombies, \r\n          an evil sorceress, and her own childhood to become queen \r\n          of the world.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk103&quot;&gt;\r\n          &lt;author&gt;Corets, Eva&lt;/author&gt;\r\n          &lt;title&gt;Maeve Ascendant&lt;/title&gt;\r\n          &lt;genre&gt;Fantasy&lt;/genre&gt;\r\n          &lt;price&gt;5.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2000-11-17&lt;/publish_date&gt;\r\n          &lt;description&gt;After the collapse of a nanotechnology \r\n          society in England, the young survivors lay the \r\n          foundation for a new society.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk104&quot;&gt;\r\n          &lt;author&gt;Corets, Eva&lt;/author&gt;\r\n          &lt;title&gt;Oberon&#39;s Legacy&lt;/title&gt;\r\n          &lt;genre&gt;Fantasy&lt;/genre&gt;\r\n          &lt;price&gt;5.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2001-03-10&lt;/publish_date&gt;\r\n          &lt;description&gt;In post-apocalypse England, the mysterious \r\n          agent known only as Oberon helps to create a new life \r\n          for the inhabitants of London. Sequel to Maeve \r\n          Ascendant.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk105&quot;&gt;\r\n          &lt;author&gt;Corets, Eva&lt;/author&gt;\r\n          &lt;title&gt;The Sundered Grail&lt;/title&gt;\r\n          &lt;genre&gt;Fantasy&lt;/genre&gt;\r\n          &lt;price&gt;5.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2001-09-10&lt;/publish_date&gt;\r\n          &lt;description&gt;The two daughters of Maeve, half-sisters, \r\n          battle one another for control of England. Sequel to \r\n          Oberon&#39;s Legacy.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk106&quot;&gt;\r\n          &lt;author&gt;Randall, Cynthia&lt;/author&gt;\r\n          &lt;title&gt;Lover Birds&lt;/title&gt;\r\n          &lt;genre&gt;Romance&lt;/genre&gt;\r\n          &lt;price&gt;4.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2003-09-02&lt;/publish_date&gt;\r\n          &lt;description&gt;When Carla meets Paul at an ornithology \r\n          conference, tempers fly as feathers get ruffled.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk107&quot;&gt;\r\n          &lt;author&gt;Thurman, Paula&lt;/author&gt;\r\n          &lt;title&gt;Splish Splash&lt;/title&gt;\r\n          &lt;genre&gt;Romance&lt;/genre&gt;\r\n          &lt;price&gt;4.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2004-11-02&lt;/publish_date&gt;\r\n          &lt;description&gt;A deep sea diver finds true love twenty \r\n          thousand leagues beneath the sea.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk108&quot;&gt;\r\n          &lt;author&gt;Knorr, Stefan&lt;/author&gt;\r\n          &lt;title&gt;Creepy Crawlies&lt;/title&gt;\r\n          &lt;genre&gt;Horror&lt;/genre&gt;\r\n          &lt;price&gt;4.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2005-12-06&lt;/publish_date&gt;\r\n          &lt;description&gt;An anthology of horror stories about roaches,\r\n          centipedes, scorpions  and other insects.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk109&quot;&gt;\r\n          &lt;author&gt;Kress, Peter&lt;/author&gt;\r\n          &lt;title&gt;Paradox Lost&lt;/title&gt;\r\n          &lt;genre&gt;Science Fiction&lt;/genre&gt;\r\n          &lt;price&gt;6.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2006-11-02&lt;/publish_date&gt;\r\n          &lt;description&gt;After an inadvertant trip through a Heisenberg\r\n          Uncertainty Device, James Salway discovers the problems \r\n          of being quantum.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk110&quot;&gt;\r\n          &lt;author&gt;O&#39;Brien, Tim&lt;/author&gt;\r\n          &lt;title&gt;Microsoft .NET: The Programming Bible&lt;/title&gt;\r\n          &lt;genre&gt;Computer&lt;/genre&gt;\r\n          &lt;price&gt;36.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2006-12-09&lt;/publish_date&gt;\r\n          &lt;description&gt;Microsoft&#39;s .NET initiative is explored in \r\n          detail in this deep programmer&#39;s reference.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk111&quot;&gt;\r\n          &lt;author&gt;O&#39;Brien, Tim&lt;/author&gt;\r\n          &lt;title&gt;MSXML3: A Comprehensive Guide&lt;/title&gt;\r\n          &lt;genre&gt;Computer&lt;/genre&gt;\r\n          &lt;price&gt;36.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2007-12-01&lt;/publish_date&gt;\r\n          &lt;description&gt;The Microsoft MSXML3 parser is covered in \r\n          detail, with attention to XML DOM interfaces, XSLT processing, \r\n          SAX and more.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n       &lt;book id=&quot;bk112&quot;&gt;\r\n          &lt;author&gt;Galos, Mike&lt;/author&gt;\r\n          &lt;title&gt;Visual Studio 7: A Comprehensive Guide&lt;/title&gt;\r\n          &lt;genre&gt;Computer&lt;/genre&gt;\r\n          &lt;price&gt;49.95&lt;/price&gt;\r\n          &lt;publish_date&gt;2008-04-16&lt;/publish_date&gt;\r\n          &lt;description&gt;Microsoft Visual Studio 7 is explored in depth,\r\n          looking at how Visual Basic, Visual C++, C#, and ASP+ are \r\n          integrated into a comprehensive development \r\n          environment.&lt;/description&gt;\r\n       &lt;/book&gt;\r\n    &lt;/catalog&gt;\r\n\r\nI want to show every book and its information that has a publish date after 2005. and the price is bigger than 10.\r\nThis is my Java code:\r\n\r\n    package xml;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathExpression;\r\n    import javax.xml.xpath.XPathExpressionException;\r\n    import javax.xml.xpath.XPathFactory;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws XPathExpressionException, FileNotFoundException {\r\n    \r\n            XPathFactory factory = XPathFactory.newInstance();\r\n            XPath xPath = factory.newXPath();\r\n    \r\n            XPathExpression xPathExpression = xPath.compile(&quot;catalog/book[publish_date&gt;2005]/price | catalog/book[price&gt;10]/price&quot;);\r\n    \r\n            File xmlDocument = new File(&quot;Books.xml&quot;);\r\n            InputSource inputSource = new InputSource(new FileInputStream(xmlDocument));\r\n            \r\n            Object result = xPathExpression.evaluate(inputSource, XPathConstants.NODESET);\r\n            \r\n            NodeList nodeList = (NodeList)result;\r\n            \r\n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                System.out.println(&quot;Info: &quot; + nodeList.item(i).getFirstChild().getNodeValue());\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHow should I do this properly with this query?","title":"How can I properly parse this XML file with xPath in Java?","body":"<p>This is my XML file that I need to parse:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;catalog&gt;\n   &lt;book id=&quot;bk101&quot;&gt;\n      &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n      &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n      &lt;genre&gt;Computer&lt;/genre&gt;\n      &lt;price&gt;44.95&lt;/price&gt;\n      &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n      &lt;description&gt;An in-depth look at creating applications \n      with XML.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk102&quot;&gt;\n      &lt;author&gt;Ralls, Kim&lt;/author&gt;\n      &lt;title&gt;Midnight Rain&lt;/title&gt;\n      &lt;genre&gt;Fantasy&lt;/genre&gt;\n      &lt;price&gt;5.95&lt;/price&gt;\n      &lt;publish_date&gt;2002-12-16&lt;/publish_date&gt;\n      &lt;description&gt;A former architect battles corporate zombies, \n      an evil sorceress, and her own childhood to become queen \n      of the world.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk103&quot;&gt;\n      &lt;author&gt;Corets, Eva&lt;/author&gt;\n      &lt;title&gt;Maeve Ascendant&lt;/title&gt;\n      &lt;genre&gt;Fantasy&lt;/genre&gt;\n      &lt;price&gt;5.95&lt;/price&gt;\n      &lt;publish_date&gt;2000-11-17&lt;/publish_date&gt;\n      &lt;description&gt;After the collapse of a nanotechnology \n      society in England, the young survivors lay the \n      foundation for a new society.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk104&quot;&gt;\n      &lt;author&gt;Corets, Eva&lt;/author&gt;\n      &lt;title&gt;Oberon's Legacy&lt;/title&gt;\n      &lt;genre&gt;Fantasy&lt;/genre&gt;\n      &lt;price&gt;5.95&lt;/price&gt;\n      &lt;publish_date&gt;2001-03-10&lt;/publish_date&gt;\n      &lt;description&gt;In post-apocalypse England, the mysterious \n      agent known only as Oberon helps to create a new life \n      for the inhabitants of London. Sequel to Maeve \n      Ascendant.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk105&quot;&gt;\n      &lt;author&gt;Corets, Eva&lt;/author&gt;\n      &lt;title&gt;The Sundered Grail&lt;/title&gt;\n      &lt;genre&gt;Fantasy&lt;/genre&gt;\n      &lt;price&gt;5.95&lt;/price&gt;\n      &lt;publish_date&gt;2001-09-10&lt;/publish_date&gt;\n      &lt;description&gt;The two daughters of Maeve, half-sisters, \n      battle one another for control of England. Sequel to \n      Oberon's Legacy.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk106&quot;&gt;\n      &lt;author&gt;Randall, Cynthia&lt;/author&gt;\n      &lt;title&gt;Lover Birds&lt;/title&gt;\n      &lt;genre&gt;Romance&lt;/genre&gt;\n      &lt;price&gt;4.95&lt;/price&gt;\n      &lt;publish_date&gt;2003-09-02&lt;/publish_date&gt;\n      &lt;description&gt;When Carla meets Paul at an ornithology \n      conference, tempers fly as feathers get ruffled.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk107&quot;&gt;\n      &lt;author&gt;Thurman, Paula&lt;/author&gt;\n      &lt;title&gt;Splish Splash&lt;/title&gt;\n      &lt;genre&gt;Romance&lt;/genre&gt;\n      &lt;price&gt;4.95&lt;/price&gt;\n      &lt;publish_date&gt;2004-11-02&lt;/publish_date&gt;\n      &lt;description&gt;A deep sea diver finds true love twenty \n      thousand leagues beneath the sea.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk108&quot;&gt;\n      &lt;author&gt;Knorr, Stefan&lt;/author&gt;\n      &lt;title&gt;Creepy Crawlies&lt;/title&gt;\n      &lt;genre&gt;Horror&lt;/genre&gt;\n      &lt;price&gt;4.95&lt;/price&gt;\n      &lt;publish_date&gt;2005-12-06&lt;/publish_date&gt;\n      &lt;description&gt;An anthology of horror stories about roaches,\n      centipedes, scorpions  and other insects.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk109&quot;&gt;\n      &lt;author&gt;Kress, Peter&lt;/author&gt;\n      &lt;title&gt;Paradox Lost&lt;/title&gt;\n      &lt;genre&gt;Science Fiction&lt;/genre&gt;\n      &lt;price&gt;6.95&lt;/price&gt;\n      &lt;publish_date&gt;2006-11-02&lt;/publish_date&gt;\n      &lt;description&gt;After an inadvertant trip through a Heisenberg\n      Uncertainty Device, James Salway discovers the problems \n      of being quantum.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk110&quot;&gt;\n      &lt;author&gt;O'Brien, Tim&lt;/author&gt;\n      &lt;title&gt;Microsoft .NET: The Programming Bible&lt;/title&gt;\n      &lt;genre&gt;Computer&lt;/genre&gt;\n      &lt;price&gt;36.95&lt;/price&gt;\n      &lt;publish_date&gt;2006-12-09&lt;/publish_date&gt;\n      &lt;description&gt;Microsoft's .NET initiative is explored in \n      detail in this deep programmer's reference.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk111&quot;&gt;\n      &lt;author&gt;O'Brien, Tim&lt;/author&gt;\n      &lt;title&gt;MSXML3: A Comprehensive Guide&lt;/title&gt;\n      &lt;genre&gt;Computer&lt;/genre&gt;\n      &lt;price&gt;36.95&lt;/price&gt;\n      &lt;publish_date&gt;2007-12-01&lt;/publish_date&gt;\n      &lt;description&gt;The Microsoft MSXML3 parser is covered in \n      detail, with attention to XML DOM interfaces, XSLT processing, \n      SAX and more.&lt;/description&gt;\n   &lt;/book&gt;\n   &lt;book id=&quot;bk112&quot;&gt;\n      &lt;author&gt;Galos, Mike&lt;/author&gt;\n      &lt;title&gt;Visual Studio 7: A Comprehensive Guide&lt;/title&gt;\n      &lt;genre&gt;Computer&lt;/genre&gt;\n      &lt;price&gt;49.95&lt;/price&gt;\n      &lt;publish_date&gt;2008-04-16&lt;/publish_date&gt;\n      &lt;description&gt;Microsoft Visual Studio 7 is explored in depth,\n      looking at how Visual Basic, Visual C++, C#, and ASP+ are \n      integrated into a comprehensive development \n      environment.&lt;/description&gt;\n   &lt;/book&gt;\n&lt;/catalog&gt;\n</code></pre>\n<p>I want to show every book and its information that has a publish date after 2005. and the price is bigger than 10.\nThis is my Java code:</p>\n<pre><code>package xml;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpression;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\n\npublic class Main {\n\n    public static void main(String[] args) throws XPathExpressionException, FileNotFoundException {\n\n        XPathFactory factory = XPathFactory.newInstance();\n        XPath xPath = factory.newXPath();\n\n        XPathExpression xPathExpression = xPath.compile(&quot;catalog/book[publish_date&gt;2005]/price | catalog/book[price&gt;10]/price&quot;);\n\n        File xmlDocument = new File(&quot;Books.xml&quot;);\n        InputSource inputSource = new InputSource(new FileInputStream(xmlDocument));\n        \n        Object result = xPathExpression.evaluate(inputSource, XPathConstants.NODESET);\n        \n        NodeList nodeList = (NodeList)result;\n        \n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            System.out.println(&quot;Info: &quot; + nodeList.item(i).getFirstChild().getNodeValue());\n        }\n\n    }\n\n}\n</code></pre>\n<p>How should I do this properly with this query?</p>\n"},{"tags":["java","google-bigquery","siddhi"],"answers":[{"tags":[],"owner":{"account_id":8978080,"reputation":128,"user_id":6694167,"display_name":"Anusha Jayasundara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1654315551,"creation_date":1654315551,"answer_id":72496975,"question_id":72426542,"body_markdown":"Currently, Siddhi doesn&#39;t have a native implementation to support this. A list of currently available extensions is listed [here][1]. You can try writing a custom connector by following [this][2] and [this][3]\r\n\r\n\r\n  [1]: https://siddhi.io/en/v5.1/docs/extensions/#siddhi-extensions\r\n  [2]: https://siddhi.io/en/v5.1/docs/extensions/#writing-custom-extensions\r\n  [3]: https://cloud.google.com/bigquery/docs/reference/storage/libraries#client-libraries-install-java","title":"How to stream (query) data from BigQuery as source in a Siddhi App","body":"<p>Currently, Siddhi doesn't have a native implementation to support this. A list of currently available extensions is listed <a href=\"https://siddhi.io/en/v5.1/docs/extensions/#siddhi-extensions\" rel=\"nofollow noreferrer\">here</a>. You can try writing a custom connector by following <a href=\"https://siddhi.io/en/v5.1/docs/extensions/#writing-custom-extensions\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://cloud.google.com/bigquery/docs/reference/storage/libraries#client-libraries-install-java\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":186658,"reputation":789,"user_id":3572263,"accept_rate":80,"display_name":"Smruti R Tripathy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72496975,"answer_count":1,"score":-1,"last_activity_date":1654315551,"creation_date":1653850999,"question_id":72426542,"body_markdown":"Would like to develop a data processing pipeline application using siddhi (https://siddhi.io/) to read data from BigQuery and generate events. There are many references to use HTTP, RDBMS and TCP as sources, but not sure how exactly we could deal with BigQuery. Any reference or example on how to connect to BigQuery from Siddhi Application as source will help.\r\n\r\n\r\n","title":"How to stream (query) data from BigQuery as source in a Siddhi App","body":"<p>Would like to develop a data processing pipeline application using siddhi (<a href=\"https://siddhi.io/\" rel=\"nofollow noreferrer\">https://siddhi.io/</a>) to read data from BigQuery and generate events. There are many references to use HTTP, RDBMS and TCP as sources, but not sure how exactly we could deal with BigQuery. Any reference or example on how to connect to BigQuery from Siddhi Application as source will help.</p>\n"},{"tags":["java","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654200320,"creation_date":1654191464,"answer_id":72480230,"question_id":72479810,"body_markdown":"There&#39;s no need to wrap each and every string with its own *map*, as the *function* you&#39;ve created does.\r\n\r\nInstead, you need to provide proper *arguments* while calling [`Collectors.toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) : \r\n* `keyMapper` - a function responsible for extracting a *key* from the stream element.\r\n* `valueMapper` - a function that generates a *value* from the stream element. \r\n\r\nHence, you need the stream element itself to be a *key* we can use [`Function.identity()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/Function.html#identity()), which is more descriptive than lambda `str -&gt; str`, but does precisely the same.\r\n```\r\nMap&lt;String,Integer&gt; lengthByStr = ls.stream()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(), // extracting a key\r\n                String::length       // extracting a value\r\n            ));\r\n```\r\n\r\nIn case when the source list might contain duplicates, you need to provide the third argument - *mergeFunction* that will be responsible for resolving duplicates.\r\n\r\n```\r\nMap&lt;String,Integer&gt; lengthByStr = ls.stream()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),   // key\r\n                String::length,        // value\r\n                (left, right) -&gt; left  // resolving duplicates\r\n            ));\r\n```","title":"Generate a Map from a list using Streams with Java 8","body":"<p>There's no need to wrap each and every string with its own <em>map</em>, as the <em>function</em> you've created does.</p>\n<p>Instead, you need to provide proper <em>arguments</em> while calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap()</code></a> :</p>\n<ul>\n<li><code>keyMapper</code> - a function responsible for extracting a <em>key</em> from the stream element.</li>\n<li><code>valueMapper</code> - a function that generates a <em>value</em> from the stream element.</li>\n</ul>\n<p>Hence, you need the stream element itself to be a <em>key</em> we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/Function.html#identity()\" rel=\"nofollow noreferrer\"><code>Function.identity()</code></a>, which is more descriptive than lambda <code>str -&gt; str</code>, but does precisely the same.</p>\n<pre><code>Map&lt;String,Integer&gt; lengthByStr = ls.stream()\n            .collect(Collectors.toMap(\n                Function.identity(), // extracting a key\n                String::length       // extracting a value\n            ));\n</code></pre>\n<p>In case when the source list might contain duplicates, you need to provide the third argument - <em>mergeFunction</em> that will be responsible for resolving duplicates.</p>\n<pre><code>Map&lt;String,Integer&gt; lengthByStr = ls.stream()\n            .collect(Collectors.toMap(\n                Function.identity(),   // key\n                String::length,        // value\n                (left, right) -&gt; left  // resolving duplicates\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654313112,"creation_date":1654195836,"answer_id":72481019,"question_id":72479810,"body_markdown":"You said there would be no duplicate Strings.  But if one gets by you can use `distinct()` (which internally uses set) to ensure it doesn&#39;t cause issues.\r\n\r\n- `a-&gt; a` is a shorthand for using the stream value. Essentially a lambda that returns its argument.\r\n- `distinct()` removes any duplicate strings\r\n```\r\nMap&lt;String, Integer&gt; result = names.stream().distinct()\r\n\t\t.collect(Collectors.toMap(a -&gt; a, String::length));\r\n```\r\n\r\nIf you want to get the length of a `String`, you can do it immediately as `someString.length()`.  But suppose you want to get a map of all the Strings keyed by a particular length.  You can do it using `Collectors.groupingBy()` which by default puts duplicates in a list.  In this case, the duplicate would be the length of the String.\r\n\r\n- use the `length` of the string as a key.\r\n- the value will be a `List&lt;String&gt;` to hold all strings that match that length.\r\n```\r\nList&lt;String&gt; names = List.of(&quot;James&quot;, &quot;Sam&quot;, &quot;Scot&quot;,\r\n          &quot;Elich&quot;, &quot;lucy&quot;, &quot;Jennifer&quot;,&quot;Bob&quot;, &quot;Joe&quot;, &quot;William&quot;);\r\n\r\nMap&lt;Integer, List&lt;String&gt;&gt; lengthMap = names.stream()\r\n        .distinct()\r\n\t\t.collect(Collectors.groupingBy(String::length));\r\n\r\nlengthMap.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n3=[Sam, Bob, Joe]\r\n4=[Scot, lucy]\r\n5=[James, Elich]\r\n7=[William]\r\n8=[Jennifer]","title":"Generate a Map from a list using Streams with Java 8","body":"<p>You said there would be no duplicate Strings.  But if one gets by you can use <code>distinct()</code> (which internally uses set) to ensure it doesn't cause issues.</p>\n<ul>\n<li><code>a-&gt; a</code> is a shorthand for using the stream value. Essentially a lambda that returns its argument.</li>\n<li><code>distinct()</code> removes any duplicate strings</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; result = names.stream().distinct()\n        .collect(Collectors.toMap(a -&gt; a, String::length));\n</code></pre>\n<p>If you want to get the length of a <code>String</code>, you can do it immediately as <code>someString.length()</code>.  But suppose you want to get a map of all the Strings keyed by a particular length.  You can do it using <code>Collectors.groupingBy()</code> which by default puts duplicates in a list.  In this case, the duplicate would be the length of the String.</p>\n<ul>\n<li>use the <code>length</code> of the string as a key.</li>\n<li>the value will be a <code>List&lt;String&gt;</code> to hold all strings that match that length.</li>\n</ul>\n<pre><code>List&lt;String&gt; names = List.of(&quot;James&quot;, &quot;Sam&quot;, &quot;Scot&quot;,\n          &quot;Elich&quot;, &quot;lucy&quot;, &quot;Jennifer&quot;,&quot;Bob&quot;, &quot;Joe&quot;, &quot;William&quot;);\n\nMap&lt;Integer, List&lt;String&gt;&gt; lengthMap = names.stream()\n        .distinct()\n        .collect(Collectors.groupingBy(String::length));\n\nlengthMap.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>3=[Sam, Bob, Joe]\n4=[Scot, lucy]\n5=[James, Elich]\n7=[William]\n8=[Jennifer]\n</code></pre>\n"}],"owner":{"account_id":9184639,"reputation":103,"user_id":10432355,"display_name":"SUVAM ROY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72480230,"answer_count":2,"score":0,"last_activity_date":1654313112,"creation_date":1654189206,"question_id":72479810,"body_markdown":"I have a *list* of `String`. \r\n\r\nI want to store each *string* as *key* and the string&#39;s *length* as *value* in a `Map` (say `HashMap`). \r\n\r\nI&#39;m not able to achieve it.\r\n```\r\nList&lt;String&gt; ls = Arrays.asList(&quot;James&quot;, &quot;Sam&quot;, &quot;Scot&quot;, &quot;Elich&quot;);\r\nMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\nFunction&lt;String, Map&lt;String, Integer&gt;&gt; fs = new Function&lt;&gt;() {\r\n    @Override\r\n    public Map&lt;String, Integer&gt; apply(String s) {\r\n        map.put(s,s.length());\r\n        return map;\r\n    }\r\n};\r\n\r\nMap&lt;String, Integer&gt; nmap = ls\r\n        .stream()\r\n        .map(fs).\r\n        .collect(Collectors.toMap()); //Lost here\r\n\r\nSystem.out.println(nmap);\r\n```\r\nAll strings are *unique*.","title":"Generate a Map from a list using Streams with Java 8","body":"<p>I have a <em>list</em> of <code>String</code>.</p>\n<p>I want to store each <em>string</em> as <em>key</em> and the string's <em>length</em> as <em>value</em> in a <code>Map</code> (say <code>HashMap</code>).</p>\n<p>I'm not able to achieve it.</p>\n<pre><code>List&lt;String&gt; ls = Arrays.asList(&quot;James&quot;, &quot;Sam&quot;, &quot;Scot&quot;, &quot;Elich&quot;);\nMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n\nFunction&lt;String, Map&lt;String, Integer&gt;&gt; fs = new Function&lt;&gt;() {\n    @Override\n    public Map&lt;String, Integer&gt; apply(String s) {\n        map.put(s,s.length());\n        return map;\n    }\n};\n\nMap&lt;String, Integer&gt; nmap = ls\n        .stream()\n        .map(fs).\n        .collect(Collectors.toMap()); //Lost here\n\nSystem.out.println(nmap);\n</code></pre>\n<p>All strings are <em>unique</em>.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":21890154,"reputation":1433,"user_id":16177247,"display_name":"TheFungusAmongUs"},"score":1,"creation_date":1654310642,"post_id":72496688,"comment_id":128067026,"body_markdown":"As it&#39;s currently written, this question is opinion-based (elegant is subjective). Please [edit] your post to clarify an objective standard you are looking for.","body":"As it&#39;s currently written, this question is opinion-based (elegant is subjective). Please <a href=\"https://stackoverflow.com/posts/72496688/edit\">edit</a> your post to clarify an objective standard you are looking for."},{"owner":{"account_id":7786524,"reputation":51,"user_id":5891135,"display_name":"StruckCroissant"},"score":0,"creation_date":1654311946,"post_id":72496688,"comment_id":128067116,"body_markdown":"@TheFungusAmongUs done. Changed the wording to be more specific.","body":"@TheFungusAmongUs done. Changed the wording to be more specific."}],"owner":{"account_id":7786524,"reputation":51,"user_id":5891135,"display_name":"StruckCroissant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654311911,"creation_date":1654310339,"question_id":72496688,"body_markdown":"I am writing a Spring-boot RESTful api/Angular webapp that retrieves information about games from a database. I ran into an issue where I needed to add metadata to the api responses.\r\n\r\nAs of right now I am using this class to wrap the responses within a HashMap in order to add the metadata. I feel like this implementation isn&#39;t the best - ultimately I would like to be using a Spring annotation such as `@ControllerAdvice`, although I already attempted that and had some issues handling exceptions. \r\n\r\nI would like to know if there is a more efficient solution that uses built-in Spring annotations/structures. I feel like there is most likely an annotation that I can use to automatically pass each controller response through `addMetadata`\r\n\r\n\r\nHere is the current metadata wrapper that I&#39;ve implemented:\r\n\r\n__MetadataHandler.class__\r\n```\r\n@Service\r\npublic class MetadataHandler {\r\n    public HashMap&lt;String, Object&gt; addMetadata(Object obj){\r\n        HashMap&lt;String, Object&gt; response = new HashMap&lt;String,Object&gt;();\r\n        HashMap&lt;String, Object&gt; metadata = new HashMap&lt;String,Object&gt;();\r\n        if(obj == null){\r\n            return null;\r\n        } else if(obj instanceof List){\r\n            metadata.put(&quot;_records&quot;, ((List&lt;?&gt;) obj).size());\r\n\r\n            response.put(&quot;data&quot;, obj);\r\n            response.put(&quot;metadata&quot;, metadata);\r\n        } else if(obj instanceof DbModelObj) {\r\n            metadata.put(&quot;_records&quot;, 1);\r\n\r\n            response.put(&quot;data&quot;, obj);\r\n            response.put(&quot;metadata&quot;, metadata);\r\n        }\r\n\r\n        return response;\r\n    }\r\n}\r\n```\r\n\r\nAnd here are the controllers that use the handler class:\r\n\r\n__GameController.class__\r\n```\r\n@RequestMapping(&quot;api/v1/game&quot;)\r\n@RestController\r\npublic class GameController {\r\n\r\n    private final GameService gameService;\r\n\r\n    private final MetadataHandler metadataHandler;\r\n\r\n    @Autowired\r\n    public GameController(GameService gameService, MetadataHandler metadataHandler) {\r\n        this.gameService = gameService;\r\n        this.metadataHandler = metadataHandler;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/all&quot;)\r\n    public HashMap&lt;String, Object&gt; getAllGames(){\r\n        return metadataHandler.addMetadata(gameService.getAllGames());\r\n    }\r\n\r\n    @GetMapping(path = &quot;/byId&quot;)\r\n    public HashMap&lt;String, Object&gt; getGameById(@RequestParam(&quot;id&quot;) int id){\r\n        return metadataHandler.addMetadata(gameService.getGameById(id));\r\n    }\r\n}\r\n```\r\n\r\n__UserController.class__\r\n```\r\n@RequestMapping(&quot;api/v1/user&quot;)\r\n@RestController\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    private final MetadataHandler metadataHandler;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService, MetadataHandler metadataHandler) {\r\n        this.metadataHandler = metadataHandler;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping\r\n    public void addUser(@Valid @NonNull @RequestBody User user){\r\n        userService.addUser(user);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/all&quot;)\r\n    public HashMap&lt;String, Object&gt; getAllUsers() {\r\n        return metadataHandler.addMetadata(userService.getAllUsers());\r\n    }\r\n\r\n    @GetMapping(path = &quot;/byId&quot;)\r\n    public HashMap&lt;String, Object&gt; getUserById(@RequestParam(&quot;id&quot;) int id) {\r\n        return metadataHandler.addMetadata(userService.getUserById(id));\r\n    }\r\n\r\n    @GetMapping(path = &quot;/byUsername&quot;)\r\n    public HashMap&lt;String, Object&gt; getUserByUsername(@RequestParam(&quot;username&quot;) String username) {\r\n        return metadataHandler.addMetadata(userService.getUserByUsername(username));\r\n    }\r\n\r\n    @DeleteMapping(path = &quot;/byId&quot;)\r\n    public void deleteUserById(@RequestParam(&quot;id&quot;) int id){\r\n        userService.deleteUser(id);\r\n    }\r\n\r\n    @PutMapping(path = &quot;/byId&quot;)\r\n    public void updateUser(@RequestParam(&quot;id&quot;) int id, @Valid @NonNull @RequestBody User userToUpdate){\r\n        userService.updateUser(id, userToUpdate);\r\n    }\r\n}\r\n```\r\n","title":"Is there a way to wrap REST Controller responses with metadata using Spring-Boot annotations?","body":"<p>I am writing a Spring-boot RESTful api/Angular webapp that retrieves information about games from a database. I ran into an issue where I needed to add metadata to the api responses.</p>\n<p>As of right now I am using this class to wrap the responses within a HashMap in order to add the metadata. I feel like this implementation isn't the best - ultimately I would like to be using a Spring annotation such as <code>@ControllerAdvice</code>, although I already attempted that and had some issues handling exceptions.</p>\n<p>I would like to know if there is a more efficient solution that uses built-in Spring annotations/structures. I feel like there is most likely an annotation that I can use to automatically pass each controller response through <code>addMetadata</code></p>\n<p>Here is the current metadata wrapper that I've implemented:</p>\n<p><strong>MetadataHandler.class</strong></p>\n<pre><code>@Service\npublic class MetadataHandler {\n    public HashMap&lt;String, Object&gt; addMetadata(Object obj){\n        HashMap&lt;String, Object&gt; response = new HashMap&lt;String,Object&gt;();\n        HashMap&lt;String, Object&gt; metadata = new HashMap&lt;String,Object&gt;();\n        if(obj == null){\n            return null;\n        } else if(obj instanceof List){\n            metadata.put(&quot;_records&quot;, ((List&lt;?&gt;) obj).size());\n\n            response.put(&quot;data&quot;, obj);\n            response.put(&quot;metadata&quot;, metadata);\n        } else if(obj instanceof DbModelObj) {\n            metadata.put(&quot;_records&quot;, 1);\n\n            response.put(&quot;data&quot;, obj);\n            response.put(&quot;metadata&quot;, metadata);\n        }\n\n        return response;\n    }\n}\n</code></pre>\n<p>And here are the controllers that use the handler class:</p>\n<p><strong>GameController.class</strong></p>\n<pre><code>@RequestMapping(&quot;api/v1/game&quot;)\n@RestController\npublic class GameController {\n\n    private final GameService gameService;\n\n    private final MetadataHandler metadataHandler;\n\n    @Autowired\n    public GameController(GameService gameService, MetadataHandler metadataHandler) {\n        this.gameService = gameService;\n        this.metadataHandler = metadataHandler;\n    }\n\n    @GetMapping(path = &quot;/all&quot;)\n    public HashMap&lt;String, Object&gt; getAllGames(){\n        return metadataHandler.addMetadata(gameService.getAllGames());\n    }\n\n    @GetMapping(path = &quot;/byId&quot;)\n    public HashMap&lt;String, Object&gt; getGameById(@RequestParam(&quot;id&quot;) int id){\n        return metadataHandler.addMetadata(gameService.getGameById(id));\n    }\n}\n</code></pre>\n<p><strong>UserController.class</strong></p>\n<pre><code>@RequestMapping(&quot;api/v1/user&quot;)\n@RestController\npublic class UserController {\n\n    private final UserService userService;\n\n    private final MetadataHandler metadataHandler;\n\n    @Autowired\n    public UserController(UserService userService, MetadataHandler metadataHandler) {\n        this.metadataHandler = metadataHandler;\n        this.userService = userService;\n    }\n\n    @PostMapping\n    public void addUser(@Valid @NonNull @RequestBody User user){\n        userService.addUser(user);\n    }\n\n    @GetMapping(path = &quot;/all&quot;)\n    public HashMap&lt;String, Object&gt; getAllUsers() {\n        return metadataHandler.addMetadata(userService.getAllUsers());\n    }\n\n    @GetMapping(path = &quot;/byId&quot;)\n    public HashMap&lt;String, Object&gt; getUserById(@RequestParam(&quot;id&quot;) int id) {\n        return metadataHandler.addMetadata(userService.getUserById(id));\n    }\n\n    @GetMapping(path = &quot;/byUsername&quot;)\n    public HashMap&lt;String, Object&gt; getUserByUsername(@RequestParam(&quot;username&quot;) String username) {\n        return metadataHandler.addMetadata(userService.getUserByUsername(username));\n    }\n\n    @DeleteMapping(path = &quot;/byId&quot;)\n    public void deleteUserById(@RequestParam(&quot;id&quot;) int id){\n        userService.deleteUser(id);\n    }\n\n    @PutMapping(path = &quot;/byId&quot;)\n    public void updateUser(@RequestParam(&quot;id&quot;) int id, @Valid @NonNull @RequestBody User userToUpdate){\n        userService.updateUser(id, userToUpdate);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653857156,"creation_date":1653857156,"answer_id":72427168,"question_id":72427037,"body_markdown":"You shared two public methods, which in itself seems fine. I can&#39;t reproduce the same output as you, but I would recommend you two things, which might solve the problem for you.\r\n\r\n1. rename the first method to `readImage`\r\n2. Make the second method return a copy of the array, other methods might tinker with it and hence you experience some strange behaviour.\r\n\r\n```java\r\nreturn Arrays.copyOf(this.arrOfCols, this.arrOfCols.length);\r\n```","title":"Unable to get correct values from array","body":"<p>You shared two public methods, which in itself seems fine. I can't reproduce the same output as you, but I would recommend you two things, which might solve the problem for you.</p>\n<ol>\n<li>rename the first method to <code>readImage</code></li>\n<li>Make the second method return a copy of the array, other methods might tinker with it and hence you experience some strange behaviour.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>return Arrays.copyOf(this.arrOfCols, this.arrOfCols.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19342882,"reputation":13,"user_id":14142031,"display_name":"Ethan C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654311604,"creation_date":1654311604,"answer_id":72496745,"question_id":72427037,"body_markdown":"The .getRed() and other color methods were getting colors from a different image","title":"Unable to get correct values from array","body":"<p>The .getRed() and other color methods were getting colors from a different image</p>\n"}],"owner":{"account_id":19342882,"reputation":13,"user_id":14142031,"display_name":"Ethan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72496745,"answer_count":2,"score":1,"last_activity_date":1654311604,"creation_date":1653855896,"question_id":72427037,"body_markdown":"So when i set an array and print out the values, they are correct. But when printing it out from my get array method, they are wrong.\r\n\r\n    public void setArrOfCols(BufferedImage bi){\r\n        for(int i = 0; i &lt; this.arrOfCols.length; i++){\r\n            int value = bi.getRGB(i, 0);\r\n            int red = (value &gt;&gt; 16) &amp; 0xff;\r\n            int green = (value &gt;&gt; 8) &amp; 0xff;\r\n            int blue = value &amp; 0xff;\r\n            int alpha = (value &gt;&gt; 24) &amp; 0xff;\r\n            \r\n            this.arrOfCols[i] = new Pixel(red, green, blue, alpha, i, 0);\r\n        }\r\n        String retStr = &quot;&quot;;\r\n        \r\n         for(int i = 0; i &lt; this.arrOfCols.length; i++){\r\n            retStr += this.arrOfCols[i].getRed() + &quot; &quot;\r\n                    + this.arrOfCols[i].getGreen() + &quot; &quot;\r\n                    + this.arrOfCols[i].getBlue();\r\n            retStr += &quot;\\n&quot;;\r\n        }\r\n        System.out.println(retStr + &quot; TestSet&quot;);\r\n    }\r\n    \r\n    public Pixel[] getArrOfCols(){\r\n        String retStr = &quot;&quot;;\r\n        \r\n         for(int i = 0; i &lt; this.arrOfCols.length; i++){\r\n            retStr += this.arrOfCols[i].getRed() + &quot; &quot;\r\n                    + this.arrOfCols[i].getGreen() + &quot; &quot;\r\n                    + this.arrOfCols[i].getBlue();\r\n            retStr += &quot;\\n&quot;;\r\n        }\r\n        System.out.println(retStr + &quot; testGet&quot;);\r\n        \r\n        return this.arrOfCols;\r\n    }\r\n\r\nIs it a possible pass by reference issue? Both outputs should be the same:\r\n\r\n    16 43 62\r\n    70 73 48\r\n    39 61 85\r\n    42 65 81\r\n    64 75 79\r\n    113 106 85\r\n    TestSet\r\n    103 148 190\r\n    103 148 190\r\n    103 148 190\r\n    103 148 190\r\n    103 148 190\r\n    103 148 190\r\n    testGet","title":"Unable to get correct values from array","body":"<p>So when i set an array and print out the values, they are correct. But when printing it out from my get array method, they are wrong.</p>\n<pre><code>public void setArrOfCols(BufferedImage bi){\n    for(int i = 0; i &lt; this.arrOfCols.length; i++){\n        int value = bi.getRGB(i, 0);\n        int red = (value &gt;&gt; 16) &amp; 0xff;\n        int green = (value &gt;&gt; 8) &amp; 0xff;\n        int blue = value &amp; 0xff;\n        int alpha = (value &gt;&gt; 24) &amp; 0xff;\n        \n        this.arrOfCols[i] = new Pixel(red, green, blue, alpha, i, 0);\n    }\n    String retStr = &quot;&quot;;\n    \n     for(int i = 0; i &lt; this.arrOfCols.length; i++){\n        retStr += this.arrOfCols[i].getRed() + &quot; &quot;\n                + this.arrOfCols[i].getGreen() + &quot; &quot;\n                + this.arrOfCols[i].getBlue();\n        retStr += &quot;\\n&quot;;\n    }\n    System.out.println(retStr + &quot; TestSet&quot;);\n}\n\npublic Pixel[] getArrOfCols(){\n    String retStr = &quot;&quot;;\n    \n     for(int i = 0; i &lt; this.arrOfCols.length; i++){\n        retStr += this.arrOfCols[i].getRed() + &quot; &quot;\n                + this.arrOfCols[i].getGreen() + &quot; &quot;\n                + this.arrOfCols[i].getBlue();\n        retStr += &quot;\\n&quot;;\n    }\n    System.out.println(retStr + &quot; testGet&quot;);\n    \n    return this.arrOfCols;\n}\n</code></pre>\n<p>Is it a possible pass by reference issue? Both outputs should be the same:</p>\n<pre><code>16 43 62\n70 73 48\n39 61 85\n42 65 81\n64 75 79\n113 106 85\nTestSet\n103 148 190\n103 148 190\n103 148 190\n103 148 190\n103 148 190\n103 148 190\ntestGet\n</code></pre>\n"},{"tags":["java","android","nullpointerexception","android-room"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654161601,"post_id":72473753,"comment_id":128027176,"body_markdown":"Hello and welcome. Please don&#39;t dump all your code (including commented-out methods) on us. Instead provide a [Minimal, Complete, and Verifiable Example](http://stackoverflow.com/help/mcve). Also, a stack trace would help in narrowing the problem down.","body":"Hello and welcome. Please don&#39;t dump all your code (including commented-out methods) on us. Instead provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>. Also, a stack trace would help in narrowing the problem down."},{"owner":{"account_id":16972831,"reputation":11,"user_id":12276986,"display_name":"Sri"},"score":0,"creation_date":1654163564,"post_id":72473753,"comment_id":128027806,"body_markdown":"@FedericoklezCulloca oops, my bad. It&#39;s my first time asking on this site, is it better now though?","body":"@FedericoklezCulloca oops, my bad. It&#39;s my first time asking on this site, is it better now though?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654165424,"post_id":72473753,"comment_id":128028453,"body_markdown":"Yes, much better. Now let&#39;s wait and see if someone has an answer.","body":"Yes, much better. Now let&#39;s wait and see if someone has an answer."}],"answers":[{"tags":[],"owner":{"account_id":20452684,"reputation":3,"user_id":15007092,"display_name":"yonimal777"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654195286,"creation_date":1654195286,"answer_id":72480932,"question_id":72473753,"body_markdown":"I don&#39;t quite understand this specific code, however, this error is easily solvable by opening &quot;run&quot; at the bottom of the screen, scrolling up, and you&#39;ll see at which line you&#39;ve tried to invoke the null object reference.\r\ngenerally, this problem shows up when you activate a function with/on the null object, good luck.\r\n","title":"Attempt to invoke interface method on a null object reference and I don&#39;t know how to solve it","body":"<p>I don't quite understand this specific code, however, this error is easily solvable by opening &quot;run&quot; at the bottom of the screen, scrolling up, and you'll see at which line you've tried to invoke the null object reference.\ngenerally, this problem shows up when you activate a function with/on the null object, good luck.</p>\n"},{"tags":[],"owner":{"account_id":16972831,"reputation":11,"user_id":12276986,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654311098,"creation_date":1654311082,"answer_id":72496717,"question_id":72473753,"body_markdown":"I solved my problem by replacing ```getTargetFragment()``` with ```getParentFragment()``` in these lines\r\n\r\n```\r\n@Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        mListener = (CreatePelangganListener) getParentFragment();\r\n    }\r\n```","title":"Attempt to invoke interface method on a null object reference and I don&#39;t know how to solve it","body":"<p>I solved my problem by replacing <code>getTargetFragment()</code> with <code>getParentFragment()</code> in these lines</p>\n<pre><code>@Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        mListener = (CreatePelangganListener) getParentFragment();\n    }\n</code></pre>\n"}],"owner":{"account_id":16972831,"reputation":11,"user_id":12276986,"display_name":"Sri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72496717,"answer_count":2,"score":0,"last_activity_date":1654311098,"creation_date":1654161501,"question_id":72473753,"body_markdown":"I&#39;m new to Android Studio and I&#39;m learning on how to use Fragament Dialog from inside a Fragment. I&#39;d like to ask why it says &quot;null objext reference&quot;. \r\n\r\nHere is the code for the fragment : \r\n\r\n```\r\npublic class PelangganFragment extends Fragment implements CreatePelangganDialog.CreatePelangganListener,\r\n        PelangganLVAdapter.OnPelangganClickListner,\r\n        UpdatePelangganDialog.UpdatePelangganListener {\r\n\r\n    private RecyclerView mRecyclerView;\r\n    private View parent;\r\n    private Context context;\r\n\r\n    private PelangganViewModel mViewModel;\r\n    private FragmentPelangganBinding fragmentPelangganBinding;\r\n    private PelangganLVAdapter mAdapter;\r\n\r\n    public static PelangganFragment newInstance() {\r\n        return new PelangganFragment();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        //return inflater.inflate(R.layout.fragment_pelanggan, container, false);\r\n        mViewModel = new ViewModelProvider(this).get(PelangganViewModel.class);\r\n\r\n\r\n        fragmentPelangganBinding = FragmentPelangganBinding.inflate(inflater,container,false);\r\n        View root = fragmentPelangganBinding.getRoot();\r\n\r\n        parent = root.findViewById(android.R.id.content);\r\n        FloatingActionButton fab = root.findViewById(R.id.fab);\r\n        mRecyclerView = root.findViewById(R.id.recyclerView);\r\n\r\n        //context = this;\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this.getContext());\r\n        mRecyclerView.setLayoutManager(linearLayoutManager);\r\n        mRecyclerView.setHasFixedSize(true);\r\n\r\n        //Set adapter to RecyclerView\r\n        mAdapter = new PelangganLVAdapter();\r\n        mAdapter.setItemOnClick(this);\r\n        mRecyclerView.setAdapter(mAdapter);\r\n\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openCreatePelangganDialog();\r\n            }\r\n        });\r\n\r\n\r\n        return root;\r\n    }\r\n\r\n    private void openCreatePelangganDialog() {\r\n        CreatePelangganDialog createPelangganDialog = new CreatePelangganDialog();\r\n        createPelangganDialog.show(\r\n                getChildFragmentManager(), CreatePelangganDialog.TAG);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void saveNewPelanggan(ListViewModelPelanggan pelanggan) {\r\n        mViewModel.insert(pelanggan);\r\n        snackBar(&quot;Pelanggan Saved&quot;);\r\n    }\r\n}\r\n```\r\n\r\nhere is the code for the FragmentDialog, the error occurs on this class and I commented on which line the error occurs :\r\n```\r\npublic class CreatePelangganDialog extends DialogFragment {\r\n\r\n    private EditText mNama;\r\n    private EditText mNik;\r\n    private EditText mALamat;\r\n    private EditText mPekerjaan;\r\n    private EditText mKeperluan;\r\n    private Button mSaveBtn;\r\n    private CreatePelangganListener mListener;\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.pelanggan_dialog,null);\r\n\r\n        builder.setView(view);\r\n        builder.setCancelable(true);\r\n        builder.setTitle(&quot;Tambah Pelanggan&quot;);\r\n\r\n        mNama = view.findViewById(R.id.et_nama);\r\n        mNik = view.findViewById(R.id.et_nik);\r\n        mALamat = view.findViewById(R.id.et_alamat);\r\n        mPekerjaan = view.findViewById(R.id.et_Pekerjaan);\r\n        mKeperluan = view.findViewById(R.id.et_keperluan);\r\n        mSaveBtn = view.findViewById(R.id.btn_save);\r\n\r\n        mSaveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String nama = mNama.getText().toString();\r\n                String nik = mNik.getText().toString();\r\n                String alamat = mALamat.getText().toString();\r\n                String pekerjaan = mPekerjaan.getText().toString();\r\n                String keperluan = mKeperluan.getText().toString();\r\n\r\n                if(nama.isEmpty()||nik.isEmpty()||alamat.isEmpty()||pekerjaan.isEmpty()||keperluan.isEmpty()) {\r\n                    return;\r\n                }\r\n                else {\r\n                    ListViewModelPelanggan pelanggan = new ListViewModelPelanggan(nama,nik,alamat,\r\n                            pekerjaan,keperluan);\r\n                    mListener.saveNewPelanggan(pelanggan); //the error occurs here\r\n                    dismiss();\r\n                }\r\n            }\r\n        });\r\n\r\n        return builder.create();\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        mListener = (CreatePelangganListener) getTargetFragment();\r\n    }\r\n\r\n    public interface CreatePelangganListener{\r\n        void saveNewPelanggan(ListViewModelPelanggan pelanggan);\r\n    }\r\n\r\n    public static String TAG = &quot;Tambah Pelanggan Dialog&quot;;\r\n}\r\n\r\n```\r\n\r\n","title":"Attempt to invoke interface method on a null object reference and I don&#39;t know how to solve it","body":"<p>I'm new to Android Studio and I'm learning on how to use Fragament Dialog from inside a Fragment. I'd like to ask why it says &quot;null objext reference&quot;.</p>\n<p>Here is the code for the fragment :</p>\n<pre><code>public class PelangganFragment extends Fragment implements CreatePelangganDialog.CreatePelangganListener,\n        PelangganLVAdapter.OnPelangganClickListner,\n        UpdatePelangganDialog.UpdatePelangganListener {\n\n    private RecyclerView mRecyclerView;\n    private View parent;\n    private Context context;\n\n    private PelangganViewModel mViewModel;\n    private FragmentPelangganBinding fragmentPelangganBinding;\n    private PelangganLVAdapter mAdapter;\n\n    public static PelangganFragment newInstance() {\n        return new PelangganFragment();\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        //return inflater.inflate(R.layout.fragment_pelanggan, container, false);\n        mViewModel = new ViewModelProvider(this).get(PelangganViewModel.class);\n\n\n        fragmentPelangganBinding = FragmentPelangganBinding.inflate(inflater,container,false);\n        View root = fragmentPelangganBinding.getRoot();\n\n        parent = root.findViewById(android.R.id.content);\n        FloatingActionButton fab = root.findViewById(R.id.fab);\n        mRecyclerView = root.findViewById(R.id.recyclerView);\n\n        //context = this;\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this.getContext());\n        mRecyclerView.setLayoutManager(linearLayoutManager);\n        mRecyclerView.setHasFixedSize(true);\n\n        //Set adapter to RecyclerView\n        mAdapter = new PelangganLVAdapter();\n        mAdapter.setItemOnClick(this);\n        mRecyclerView.setAdapter(mAdapter);\n\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openCreatePelangganDialog();\n            }\n        });\n\n\n        return root;\n    }\n\n    private void openCreatePelangganDialog() {\n        CreatePelangganDialog createPelangganDialog = new CreatePelangganDialog();\n        createPelangganDialog.show(\n                getChildFragmentManager(), CreatePelangganDialog.TAG);\n    }\n\n\n    @Override\n    public void saveNewPelanggan(ListViewModelPelanggan pelanggan) {\n        mViewModel.insert(pelanggan);\n        snackBar(&quot;Pelanggan Saved&quot;);\n    }\n}\n</code></pre>\n<p>here is the code for the FragmentDialog, the error occurs on this class and I commented on which line the error occurs :</p>\n<pre><code>public class CreatePelangganDialog extends DialogFragment {\n\n    private EditText mNama;\n    private EditText mNik;\n    private EditText mALamat;\n    private EditText mPekerjaan;\n    private EditText mKeperluan;\n    private Button mSaveBtn;\n    private CreatePelangganListener mListener;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.pelanggan_dialog,null);\n\n        builder.setView(view);\n        builder.setCancelable(true);\n        builder.setTitle(&quot;Tambah Pelanggan&quot;);\n\n        mNama = view.findViewById(R.id.et_nama);\n        mNik = view.findViewById(R.id.et_nik);\n        mALamat = view.findViewById(R.id.et_alamat);\n        mPekerjaan = view.findViewById(R.id.et_Pekerjaan);\n        mKeperluan = view.findViewById(R.id.et_keperluan);\n        mSaveBtn = view.findViewById(R.id.btn_save);\n\n        mSaveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String nama = mNama.getText().toString();\n                String nik = mNik.getText().toString();\n                String alamat = mALamat.getText().toString();\n                String pekerjaan = mPekerjaan.getText().toString();\n                String keperluan = mKeperluan.getText().toString();\n\n                if(nama.isEmpty()||nik.isEmpty()||alamat.isEmpty()||pekerjaan.isEmpty()||keperluan.isEmpty()) {\n                    return;\n                }\n                else {\n                    ListViewModelPelanggan pelanggan = new ListViewModelPelanggan(nama,nik,alamat,\n                            pekerjaan,keperluan);\n                    mListener.saveNewPelanggan(pelanggan); //the error occurs here\n                    dismiss();\n                }\n            }\n        });\n\n        return builder.create();\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        mListener = (CreatePelangganListener) getTargetFragment();\n    }\n\n    public interface CreatePelangganListener{\n        void saveNewPelanggan(ListViewModelPelanggan pelanggan);\n    }\n\n    public static String TAG = &quot;Tambah Pelanggan Dialog&quot;;\n}\n\n</code></pre>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":2683656,"reputation":186,"user_id":2318458,"display_name":"JJ_Jacob"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1440750292,"creation_date":1440750292,"answer_id":32266538,"question_id":32266331,"body_markdown":"Right click your project `folder` or `pom.xml`, and `Run as` -&gt; `Run configurations`,\r\nthis will open `Run Configurations` `dialog`. you will see the maven build configurations already exists. and delete the duplicates and try again.\r\n\r\nhope this helpful.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KkEYR.png","title":"A maven build configuration with this name already exists","body":"<p>Right click your project <code>folder</code> or <code>pom.xml</code>, and <code>Run as</code> -> <code>Run configurations</code>,\nthis will open <code>Run Configurations</code> <code>dialog</code>. you will see the maven build configurations already exists. and delete the duplicates and try again.</p>\n\n<p>hope this helpful.\n<a href=\"https://i.stack.imgur.com/KkEYR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KkEYR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3605275,"reputation":198,"user_id":3007575,"accept_rate":20,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440753920,"creation_date":1440753920,"answer_id":32267679,"question_id":32266331,"body_markdown":"Go to eclipse Window - &gt; Preferences -&gt; maven -&gt; Installations and find the maven version installed. If you have multiple versions delete one then Apply and Save then try it.","title":"A maven build configuration with this name already exists","body":"<p>Go to eclipse Window - > Preferences -> maven -> Installations and find the maven version installed. If you have multiple versions delete one then Apply and Save then try it.</p>\n"},{"tags":[],"owner":{"account_id":17543100,"reputation":129,"user_id":12724927,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654310202,"creation_date":1654310202,"answer_id":72496678,"question_id":32266331,"body_markdown":"Coming to the question asked by DehengYe, the configuration files are located at &lt;workspaceFolder&gt;\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches\r\n\r\nI have come across the same error message. But, there were no duplicates listed in the dialog &quot;Run Configurations&quot;. When I opened the config file folder, I found some ghost launch files present. I call them ghost, because the launch files is present without any entry listed in the &quot;Run Configurations&quot; dialog.\r\n\r\nSolution: I stopped Eclipse, deleted the ghost launch files and restarted the Eclipse. Finally, I am able to rename the config in the &quot;Run Configurations&quot; dialog","title":"A maven build configuration with this name already exists","body":"<p>Coming to the question asked by DehengYe, the configuration files are located at .metadata.plugins\\org.eclipse.debug.core.launches</p>\n<p>I have come across the same error message. But, there were no duplicates listed in the dialog &quot;Run Configurations&quot;. When I opened the config file folder, I found some ghost launch files present. I call them ghost, because the launch files is present without any entry listed in the &quot;Run Configurations&quot; dialog.</p>\n<p>Solution: I stopped Eclipse, deleted the ghost launch files and restarted the Eclipse. Finally, I am able to rename the config in the &quot;Run Configurations&quot; dialog</p>\n"}],"owner":{"account_id":3233737,"reputation":619,"user_id":2728388,"accept_rate":73,"display_name":"DehengYe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4314,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32266538,"answer_count":3,"score":3,"last_activity_date":1654310202,"creation_date":1440749540,"question_id":32266331,"body_markdown":"I am running a `maven build` in eclipse with m2eclipse installed, it shows: \r\n\r\n&gt;a maven build configuration with this name already exists. \r\n\r\nWhere are the configuration files located and can I delete them so that I won&#39;t have such naming conflicts further?","title":"A maven build configuration with this name already exists","body":"<p>I am running a <code>maven build</code> in eclipse with m2eclipse installed, it shows: </p>\n\n<blockquote>\n  <p>a maven build configuration with this name already exists. </p>\n</blockquote>\n\n<p>Where are the configuration files located and can I delete them so that I won't have such naming conflicts further?</p>\n"},{"tags":["java","lwjgl","matrix-multiplication"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1654306677,"post_id":72496472,"comment_id":128066679,"body_markdown":"A `Vector3f` consists of three numbers. A `Matrix4f` is a 4x4 matrix and consists of 16. How do you plan to do this conversion? There&#39;s not an immediate, canonical way to do so.","body":"A <code>Vector3f</code> consists of three numbers. A <code>Matrix4f</code> is a 4x4 matrix and consists of 16. How do you plan to do this conversion? There&#39;s not an immediate, canonical way to do so."},{"owner":{"account_id":16345947,"reputation":13,"user_id":11805675,"display_name":"James G"},"score":0,"creation_date":1654306867,"post_id":72496472,"comment_id":128066691,"body_markdown":"I do not know exactly how matrices work, but I know that they can define a position in world space, and so I want this position, but as a vector3f.","body":"I do not know exactly how matrices work, but I know that they can define a position in world space, and so I want this position, but as a vector3f."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1656170173,"post_id":72496472,"comment_id":128508545,"body_markdown":"@JamesG A humble request - we take a good amount of our time and care when writing answers. Please follow up on our efforts (not just on this question but on your other questions where relevant\n), add comments if you need the answer improved or clarified, and once your issue is resolved please follow the guidelines listed [here](https://stackoverflow.com/help/someone-answers).","body":"@JamesG A humble request - we take a good amount of our time and care when writing answers. Please follow up on our efforts (not just on this question but on your other questions where relevant ), add comments if you need the answer improved or clarified, and once your issue is resolved please follow the guidelines listed <a href=\"https://stackoverflow.com/help/someone-answers\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654308215,"creation_date":1654307837,"answer_id":72496553,"question_id":72496472,"body_markdown":"I&#39;m not going to get into the implementation details of lwjgl and I&#39;m going to focus on the math itself, because the issue is fundamentally a mathematical understanding issue, rather than one of APIs. I&#39;m also very confused as to why you create a perfectly good transformation matrix, and then do something *other* than multiplying your position vectors by it.\r\n\r\n**First, the tl;dr**:\r\n\r\n* Convert your 3D vector **v** to homogeneous coordinates to obtain a 4D vector **w**.\r\n* Perform a matrix multiplication by your transformation matrix M, to obtain a transformed (4D, homogeneous coordinates) vector **w&#39;** = M * **w**.\r\n* If you need non-homogeneous coordinates, convert the result back.\r\n\r\n**and second, a nit:**\r\n\r\n&gt; I do not know exactly how matrices work, but I know that they can define a position in world space, and so I want this position, but as a vector3f.\r\n\r\nNo. Matrices define *linear transformations* in the linear algebra sense, not positions. When dealing with homogeneous coordinates, they also represent *affine transformations* of the coordinates involved.\r\n\r\n**Now, an explanation of the process:**\r\n\r\nYou have a vector **v**  &lt;sup&gt;3&lt;/sup&gt;, representing a point in 3D space in standard coordinates. \r\n\r\nYour transformation matrix M is 4x4, meaning that it operates on [homogeneous coordinates](https://en.wikipedia.org/wiki/Homogeneous_coordinates). This allows your transformation matrix to encode rotations/scalings (i.e. *linear* transforms), by placing a rotation/scaling matrix in the upper 3x3 block of the matrix:\r\n\r\n```\r\na b c 0\r\nd e f 0\r\ng h i 0\r\n0 0 0 1\r\n```\r\n\r\nThis matrix can also encode a translation (i.e. an *affine* transform), by placing offset coordinates in the upper right block and an identity or rotation matrix in the subblock for the linear portion of the transformation:\r\n\r\n```\r\n1 0 0 a\r\n0 1 0 b\r\n0 0 1 c\r\n0 0 0 1\r\n```\r\n\r\n**If you just wanted to know the translation contributed by your homogeneous-coordinates-transformation-matrix, you could pull it right out of that subblock.**\r\n\r\nRecall your vector **v**  &lt;sup&gt;3&lt;/sup&gt; from before Suppose it&#39;s `&lt;x y z&gt;`. The same point can be represented in homogeneous coordinates as **w** = `&lt;x y z 1&gt;`  &lt;sup&gt;4&lt;/sup&gt;. It should be clear, by inspection of the matrix multiplication process, how the three coordinates interact with the main 3x3 subblock of the matrix, and the 1 interacts with the upper right subblock, to achieve the desired *affine* transformation (as opposed to a purely *linear* one if we didn&#39;t have homogeneous coordinates. It should also be clear that\r\n\r\n```\r\n[1 0 0 a]    [0]     [a]\r\n[0 1 0 b]  * [0]  =  [b]\r\n[0 0 1 c]    [0]     [c]\r\n[0 0 0 1]    [1]     [1]\r\n```\r\n\r\nwhich shows that this transformation matrix definitely translates the origin by `&lt;a,b,c&gt;`\r\n\r\n**Now, the important part:**\r\n\r\nGiven a transformation matrix and a vector, you can multiply them. Assuming your vector is a column vector, the multiplication of a 4x4 matrix by a 4x1 vector is well-defined, and yields a new 4x1 vector. This new 4x1 vector is the result of the transformation, also in homogeneous coordinates. As long as the last row of the transformation matrix was `[0,0,0,1]`, the new vector is of the form `&lt;x&#39;, y&#39;, z&#39;, 1&gt;`. It&#39;s in homogeneous coordinates, so you could go ahead and immediately multiply it by another transformation matrix (e.g. if the first was model to world space and the second was world to camera space).\r\n\r\nOn the other hand, the sub-vector `&lt;x&#39; ,y&#39; ,z&#39;&gt;` represents the result of your transformation, if you did want it in non-homogeneous coordinates. This is the case because the fourth element was indeed 1.","title":"How to convert a Matrix4f to Vector3f","body":"<p>I'm not going to get into the implementation details of lwjgl and I'm going to focus on the math itself, because the issue is fundamentally a mathematical understanding issue, rather than one of APIs. I'm also very confused as to why you create a perfectly good transformation matrix, and then do something <em>other</em> than multiplying your position vectors by it.</p>\n<p><strong>First, the tl;dr</strong>:</p>\n<ul>\n<li>Convert your 3D vector <strong>v</strong> to homogeneous coordinates to obtain a 4D vector <strong>w</strong>.</li>\n<li>Perform a matrix multiplication by your transformation matrix M, to obtain a transformed (4D, homogeneous coordinates) vector <strong>w'</strong> = M * <strong>w</strong>.</li>\n<li>If you need non-homogeneous coordinates, convert the result back.</li>\n</ul>\n<p><strong>and second, a nit:</strong></p>\n<blockquote>\n<p>I do not know exactly how matrices work, but I know that they can define a position in world space, and so I want this position, but as a vector3f.</p>\n</blockquote>\n<p>No. Matrices define <em>linear transformations</em> in the linear algebra sense, not positions. When dealing with homogeneous coordinates, they also represent <em>affine transformations</em> of the coordinates involved.</p>\n<p><strong>Now, an explanation of the process:</strong></p>\n<p>You have a vector <strong>v</strong>  <sup>3</sup>, representing a point in 3D space in standard coordinates.</p>\n<p>Your transformation matrix M is 4x4, meaning that it operates on <a href=\"https://en.wikipedia.org/wiki/Homogeneous_coordinates\" rel=\"nofollow noreferrer\">homogeneous coordinates</a>. This allows your transformation matrix to encode rotations/scalings (i.e. <em>linear</em> transforms), by placing a rotation/scaling matrix in the upper 3x3 block of the matrix:</p>\n<pre><code>a b c 0\nd e f 0\ng h i 0\n0 0 0 1\n</code></pre>\n<p>This matrix can also encode a translation (i.e. an <em>affine</em> transform), by placing offset coordinates in the upper right block and an identity or rotation matrix in the subblock for the linear portion of the transformation:</p>\n<pre><code>1 0 0 a\n0 1 0 b\n0 0 1 c\n0 0 0 1\n</code></pre>\n<p><strong>If you just wanted to know the translation contributed by your homogeneous-coordinates-transformation-matrix, you could pull it right out of that subblock.</strong></p>\n<p>Recall your vector <strong>v</strong>  <sup>3</sup> from before Suppose it's <code>&lt;x y z&gt;</code>. The same point can be represented in homogeneous coordinates as <strong>w</strong> = <code>&lt;x y z 1&gt;</code>  <sup>4</sup>. It should be clear, by inspection of the matrix multiplication process, how the three coordinates interact with the main 3x3 subblock of the matrix, and the 1 interacts with the upper right subblock, to achieve the desired <em>affine</em> transformation (as opposed to a purely <em>linear</em> one if we didn't have homogeneous coordinates. It should also be clear that</p>\n<pre><code>[1 0 0 a]    [0]     [a]\n[0 1 0 b]  * [0]  =  [b]\n[0 0 1 c]    [0]     [c]\n[0 0 0 1]    [1]     [1]\n</code></pre>\n<p>which shows that this transformation matrix definitely translates the origin by <code>&lt;a,b,c&gt;</code></p>\n<p><strong>Now, the important part:</strong></p>\n<p>Given a transformation matrix and a vector, you can multiply them. Assuming your vector is a column vector, the multiplication of a 4x4 matrix by a 4x1 vector is well-defined, and yields a new 4x1 vector. This new 4x1 vector is the result of the transformation, also in homogeneous coordinates. As long as the last row of the transformation matrix was <code>[0,0,0,1]</code>, the new vector is of the form <code>&lt;x', y', z', 1&gt;</code>. It's in homogeneous coordinates, so you could go ahead and immediately multiply it by another transformation matrix (e.g. if the first was model to world space and the second was world to camera space).</p>\n<p>On the other hand, the sub-vector <code>&lt;x' ,y' ,z'&gt;</code> represents the result of your transformation, if you did want it in non-homogeneous coordinates. This is the case because the fourth element was indeed 1.</p>\n"}],"owner":{"account_id":16345947,"reputation":13,"user_id":11805675,"display_name":"James G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1654308215,"creation_date":1654306171,"question_id":72496472,"body_markdown":"I need to rotate a Vector3f in my lwjgl java game, and I do this by converting it into a Matrix4f object, then rotating it, but I need to convert it back into a Vector3f in order for it to be useful.\r\n\r\n```\r\npublic static Vector3f transformVector(Vector3f vector, Vector3f rotation, Vector3f transformation) {\r\n\t\tvector = new Vector3f(vector.x * 5f, vector.y, vector.z);\r\n\t\t\r\n\t\tMatrix4f matrix = Maths.createTransformationMatrix(vector, rotation.x, rotation.y, rotation.z, 1);\r\n\t\t\r\n\t\tmatrix.rotate(0, new Vector3f(1f, 0, 0), matrix, matrix);\r\n\t\t\r\n\t\tSystem.out.println(matrix.m01);\r\n\r\n\t\tSystem.out.println(matrix);\r\n\t\t\r\n\t\treturn vector.translate(transformation.x, transformation.y, transformation.z);\r\n\t}\r\n```","title":"How to convert a Matrix4f to Vector3f","body":"<p>I need to rotate a Vector3f in my lwjgl java game, and I do this by converting it into a Matrix4f object, then rotating it, but I need to convert it back into a Vector3f in order for it to be useful.</p>\n<pre><code>public static Vector3f transformVector(Vector3f vector, Vector3f rotation, Vector3f transformation) {\n        vector = new Vector3f(vector.x * 5f, vector.y, vector.z);\n        \n        Matrix4f matrix = Maths.createTransformationMatrix(vector, rotation.x, rotation.y, rotation.z, 1);\n        \n        matrix.rotate(0, new Vector3f(1f, 0, 0), matrix, matrix);\n        \n        System.out.println(matrix.m01);\n\n        System.out.println(matrix);\n        \n        return vector.translate(transformation.x, transformation.y, transformation.z);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1624120864,"post_id":68039387,"comment_id":120274089,"body_markdown":"Are you sure the `namespace` is correct?","body":"Are you sure the <code>namespace</code> is correct?"},{"owner":{"account_id":1855902,"reputation":41,"user_id":1681492,"display_name":"Kingtoadz"},"score":0,"creation_date":1624258738,"post_id":68039387,"comment_id":120299057,"body_markdown":"The class is being generated in te correct packages and can be imported in the code so I assume the namespace is correct","body":"The class is being generated in te correct packages and can be imported in the code so I assume the namespace is correct"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1624306934,"post_id":68039387,"comment_id":120318284,"body_markdown":"So you created the schema yourself with that namespace? Or did you download the schema from the Registry, then add/modify the namespace? The JDBC Source connector doesn&#39;t use that namespace name, by default (not even sure it can be changed at all), and so the Avro parser thinks you&#39;re trying to use two different classes","body":"So you created the schema yourself with that namespace? Or did you download the schema from the Registry, then add/modify the namespace? The JDBC Source connector doesn&#39;t use that namespace name, by default (not even sure it can be changed at all), and so the Avro parser thinks you&#39;re trying to use two different classes"},{"owner":{"account_id":1855902,"reputation":41,"user_id":1681492,"display_name":"Kingtoadz"},"score":1,"creation_date":1624915889,"post_id":68039387,"comment_id":120483193,"body_markdown":"Yes that was the problem. The &quot;connector.name&quot; was used as the full path. So it was indeed the namespace. It is working now. Thanks!","body":"Yes that was the problem. The &quot;connector.name&quot; was used as the full path. So it was indeed the namespace. It is working now. Thanks!"},{"owner":{"account_id":9188458,"reputation":504,"user_id":6829778,"display_name":"Kamal Kumar"},"score":0,"creation_date":1656849962,"post_id":68039387,"comment_id":128667118,"body_markdown":"@OneCricketeer Thanks a lot, I was stuck for more than 1 hour on this, I copied the schema but forgot to update namespace.","body":"@OneCricketeer Thanks a lot, I was stuck for more than 1 hour on this, I copied the schema but forgot to update namespace."},{"owner":{"account_id":24120104,"reputation":78,"user_id":18089412,"display_name":"EustassX"},"score":0,"creation_date":1680093932,"post_id":68039387,"comment_id":133838344,"body_markdown":"I recently stumbled across this problem as well and just wanted to provide a possible solution for this problem that worked for me:\n\nIt is possible that the dependencies in the target folder are not correctly marked and therefore the corresponding classes are not found. In this case, simply right-click on the pom.xml file in the root directory and select Maven -&gt; Generate Sources and Update Folders. This will mark the folders correctly and hopefully fix errors that occur when importing these generated classes.","body":"I recently stumbled across this problem as well and just wanted to provide a possible solution for this problem that worked for me:  It is possible that the dependencies in the target folder are not correctly marked and therefore the corresponding classes are not found. In this case, simply right-click on the pom.xml file in the root directory and select Maven -&gt; Generate Sources and Update Folders. This will mark the folders correctly and hopefully fix errors that occur when importing these generated classes."}],"answers":[{"tags":[],"owner":{"account_id":1855902,"reputation":41,"user_id":1681492,"display_name":"Kingtoadz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654307371,"creation_date":1628003376,"answer_id":68638567,"question_id":68039387,"body_markdown":"The deserialiser used the connect.name field instead of the namespace to find the correct class.\r\n\r\nI&#39;ve added the following lines to the config of the JDBC_connector to let the connector generate the correct namespace\r\n```\r\n&quot;transforms&quot;:&quot;AddNamespace&quot;,\r\n&quot;transforms.AddNamespace.type&quot;:&quot;org.apache.kafka.connect.transforms.SetSchemaMetadata$Value&quot;,\r\n&quot;transforms.AddNamespace.schema.name&quot;: &quot;com.company.api.kafkademo.ps_git_repo&quot;\r\n```","title":"Spring kafka AVRO generated class not found","body":"<p>The deserialiser used the connect.name field instead of the namespace to find the correct class.</p>\n<p>I've added the following lines to the config of the JDBC_connector to let the connector generate the correct namespace</p>\n<pre><code>&quot;transforms&quot;:&quot;AddNamespace&quot;,\n&quot;transforms.AddNamespace.type&quot;:&quot;org.apache.kafka.connect.transforms.SetSchemaMetadata$Value&quot;,\n&quot;transforms.AddNamespace.schema.name&quot;: &quot;com.company.api.kafkademo.ps_git_repo&quot;\n</code></pre>\n"}],"owner":{"account_id":1855902,"reputation":41,"user_id":1681492,"display_name":"Kingtoadz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68638567,"answer_count":1,"score":2,"last_activity_date":1654307371,"creation_date":1624037864,"question_id":68039387,"body_markdown":"I&#39;m using confluent JDBC connector to connect to a postgres database to retrieve changes and put them in a kafka topic. Now I want to consume these messages with a spring boot consumer. These messages are in AVRO format. I have the schema from the connector and generated a POJO class for it with the avro maven plugin. \r\n\r\nBut when the listener starts there are only the following error\r\n ```\r\n    java.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n    \tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:194) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:112) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1598) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1210) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition ps_git_repo-0 at offset 0. If needed, please seek past the record to continue consumption.\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Could not find class ps_git_repo specified in writer&#39;s schema whilst finding reader&#39;s schema for a SpecificRecord.\r\n\r\n```\r\n\r\nWhen I do not use avro to deserialise the data then I will receive data but unreadable.\r\n\r\nIn the pom.xml I have the following dependencies \r\n```xml\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.2.0&lt;/version&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;artifactId&gt;netty&lt;/artifactId&gt;\r\n    \t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\nand in the application.properties i&#39;ve added the deserialiser and schema registry url.\r\n\r\n```\r\n\r\n    spring.kafka.consumer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer = io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    spring.kafka.bootstrap-servers = http://localhost:9092\r\n    spring.kafka.consumer.properties.specific.avro.reader = true\r\n    spring.kafka.consumer.properties.schema.registry.url = http://localhost:8081\r\n\r\n```\r\nIn the build I use the avro maven plugin to generate a POJO from the schema created by the connector.\r\n\r\nplugin in pom.xml\r\n```xml\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10.2&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;schema&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;stringType&gt;String&lt;/stringType&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```\r\n\r\nI&#39;ve put the following schema into the folder and generate to pojo with `mvn generate-sources`\r\n\r\nSchema.avsc\r\n```json\r\n\r\n    {\r\n      &quot;connect.name&quot;: &quot;ps_git_repo&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;id&quot;,\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        {\r\n          &quot;default&quot;: null,\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            &quot;string&quot;\r\n          ]\r\n        }\r\n      ],\r\n      &quot;name&quot;: &quot;ps_git_repo&quot;,\r\n      &quot;namespace&quot;: &quot;com.company.api.kafkademo&quot;,\r\n      &quot;type&quot;: &quot;record&quot;\r\n    }\r\n\r\n```\r\nI get the ps_git_repo.java class in the correct then I have this listener to retrieve the messages. \r\n\r\n```java\r\n    @SpringBootApplication\r\n    @EnableKafka\r\n    public class KafkaDemoApplication {\r\n    \r\n    \t@KafkaListener(groupId = &quot;test123&quot;, topics = &quot;ps_git_repo_test&quot;)\r\n    \tpublic void handleMessage(ps_git_repo message) {\r\n    \t\tSystem.out.println(message);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(KafkaDemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n```\r\n\r\nThe schema cannot be found.\r\n\r\n\r\nDoes anybody know what is wrong? ","title":"Spring kafka AVRO generated class not found","body":"<p>I'm using confluent JDBC connector to connect to a postgres database to retrieve changes and put them in a kafka topic. Now I want to consume these messages with a spring boot consumer. These messages are in AVRO format. I have the schema from the connector and generated a POJO class for it with the avro maven plugin.</p>\n<p>But when the listener starts there are only the following error</p>\n<pre><code>   java.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n       at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:194) ~[spring-kafka-2.7.2.jar:2.7.2]\n       at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:112) ~[spring-kafka-2.7.2.jar:2.7.2]\n       at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1598) ~[spring-kafka-2.7.2.jar:2.7.2]\n       at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1210) ~[spring-kafka-2.7.2.jar:2.7.2]\n       at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n       at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n   Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition ps_git_repo-0 at offset 0. If needed, please seek past the record to continue consumption.\n   Caused by: org.apache.kafka.common.errors.SerializationException: Could not find class ps_git_repo specified in writer's schema whilst finding reader's schema for a SpecificRecord.\n\n</code></pre>\n<p>When I do not use avro to deserialise the data then I will receive data but unreadable.</p>\n<p>In the pom.xml I have the following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;version&gt;1.10.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n        &lt;version&gt;6.2.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;netty&lt;/artifactId&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p>and in the application.properties i've added the deserialiser and schema registry url.</p>\n<pre><code>\n    spring.kafka.consumer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\n    spring.kafka.consumer.value-deserializer = io.confluent.kafka.serializers.KafkaAvroDeserializer\n    spring.kafka.bootstrap-servers = http://localhost:9092\n    spring.kafka.consumer.properties.specific.avro.reader = true\n    spring.kafka.consumer.properties.schema.registry.url = http://localhost:8081\n\n</code></pre>\n<p>In the build I use the avro maven plugin to generate a POJO from the schema created by the connector.</p>\n<p>plugin in pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.10.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;schema&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;sourceDirectory&gt;${project.basedir}/src/main/avro/&lt;/sourceDirectory&gt;\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n                    &lt;stringType&gt;String&lt;/stringType&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<p>I've put the following schema into the folder and generate to pojo with <code>mvn generate-sources</code></p>\n<p>Schema.avsc</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n    {\n      &quot;connect.name&quot;: &quot;ps_git_repo&quot;,\n      &quot;fields&quot;: [\n        {\n          &quot;name&quot;: &quot;id&quot;,\n          &quot;type&quot;: &quot;long&quot;\n        },\n        {\n          &quot;default&quot;: null,\n          &quot;name&quot;: &quot;name&quot;,\n          &quot;type&quot;: [\n            &quot;null&quot;,\n            &quot;string&quot;\n          ]\n        }\n      ],\n      &quot;name&quot;: &quot;ps_git_repo&quot;,\n      &quot;namespace&quot;: &quot;com.company.api.kafkademo&quot;,\n      &quot;type&quot;: &quot;record&quot;\n    }\n\n</code></pre>\n<p>I get the ps_git_repo.java class in the correct then I have this listener to retrieve the messages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootApplication\n    @EnableKafka\n    public class KafkaDemoApplication {\n    \n        @KafkaListener(groupId = &quot;test123&quot;, topics = &quot;ps_git_repo_test&quot;)\n        public void handleMessage(ps_git_repo message) {\n            System.out.println(message);\n        }\n    \n        public static void main(String[] args) {\n            SpringApplication.run(KafkaDemoApplication.class, args);\n        }\n    \n    }\n\n</code></pre>\n<p>The schema cannot be found.</p>\n<p>Does anybody know what is wrong?</p>\n"},{"tags":["java","arrays","sorting","char"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654304838,"post_id":72496182,"comment_id":128066507,"body_markdown":"Please show a complete, minimal, runnable example *that doesn&#39;t use Swing*. But think about why `eingabe.charAt(b)` might cause this problem? Have you stepped through your code with the debugger?","body":"Please show a complete, minimal, runnable example <i>that doesn&#39;t use Swing</i>. But think about why <code>eingabe.charAt(b)</code> might cause this problem? Have you stepped through your code with the debugger?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1654307099,"post_id":72496182,"comment_id":128066716,"body_markdown":"What are the constraints on `eingabe`? Is there something that forces its length to be equal to or longer than the length of the longest element of  `ergebnisse` ? If there isn&#39;t, you should guard against that possibility.","body":"What are the constraints on <code>eingabe</code>? Is there something that forces its length to be equal to or longer than the length of the longest element of  <code>ergebnisse</code> ? If there isn&#39;t, you should guard against that possibility."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654306984,"creation_date":1654306984,"answer_id":72496521,"question_id":72496182,"body_markdown":"Let&#39;s say you input &quot;Pferd&quot;.\r\n\r\nYour code runs once for each `ergebnisse`, so eventually it gets to `Schule`.\r\n\r\nschule&#39;s length is 6, of course. So that `for (int b `) loop is going to run 6 times. Unfortunately, you&#39;re going to run into real issues on that 6th run (where `b` is `5`): `eingabe.charAt(5)` - __that does not work__ - there is no 6th character in `eingabe`, as eingabe has only 5 letters in it.\r\n\r\nThe fix is to deal with that. You can&#39;t switch it up and change the loop to `for (int b = 0; b &lt; eingabe.length(); b++)` either - what if the eingabe is longer than one of the ergebnisse?\r\n\r\nYou could go by whichever one is smaller:\r\n\r\n```\r\nfor (int b = 0; i &lt; Math.min(eingabe.length(), ergebnisse[w].length()); b++)`\r\n```\r\n\r\nYou could also simply &#39;detect&#39; this is pick some action:\r\n\r\n```\r\nif (b &lt; eingabe.length() &amp;&amp; ergebnisse[w].charAt(b) == eingabe.charAt(b)) {\r\n```\r\n\r\nfor example.\r\n\r\nYou need to pick one of the two to &#39;scan length&#39;","title":"Scan 2 Strings and give points for each right char","body":"<p>Let's say you input &quot;Pferd&quot;.</p>\n<p>Your code runs once for each <code>ergebnisse</code>, so eventually it gets to <code>Schule</code>.</p>\n<p>schule's length is 6, of course. So that <code>for (int b </code>) loop is going to run 6 times. Unfortunately, you're going to run into real issues on that 6th run (where <code>b</code> is <code>5</code>): <code>eingabe.charAt(5)</code> - <strong>that does not work</strong> - there is no 6th character in <code>eingabe</code>, as eingabe has only 5 letters in it.</p>\n<p>The fix is to deal with that. You can't switch it up and change the loop to <code>for (int b = 0; b &lt; eingabe.length(); b++)</code> either - what if the eingabe is longer than one of the ergebnisse?</p>\n<p>You could go by whichever one is smaller:</p>\n<pre><code>for (int b = 0; i &lt; Math.min(eingabe.length(), ergebnisse[w].length()); b++)`\n</code></pre>\n<p>You could also simply 'detect' this is pick some action:</p>\n<pre><code>if (b &lt; eingabe.length() &amp;&amp; ergebnisse[w].charAt(b) == eingabe.charAt(b)) {\n</code></pre>\n<p>for example.</p>\n<p>You need to pick one of the two to 'scan length'</p>\n"}],"owner":{"account_id":25469073,"reputation":3,"user_id":19267595,"display_name":"Helke Aeissen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72496521,"answer_count":1,"score":0,"last_activity_date":1654306984,"creation_date":1654300995,"question_id":72496182,"body_markdown":"    String[] ergebnisse = {&quot;Err&quot;, &quot;Baum&quot;, &quot;Schule&quot;, &quot;Pferd&quot;, &quot;Maschine&quot;};\r\n    String eingabe = textField1.getText();\r\n    int[] punkte = new int[ergebnisse.length];\r\n    \r\n    for (int w = 0; w &lt; ergebnisse.length; w++) {\r\n          for (int b = 0; b &lt; ergebnisse[w].length(); b++) {\r\n            if (ergebnisse[w].charAt(b) == eingabe.charAt(b)) {\r\n              punkte[w]++;   \r\n            }\r\n          }\r\n        }\r\n\r\n\r\nError Oud of Bounds only apears in the if case on the second run. \r\n if i replace if(ergebnisse[w].charAt(b)) == eingabe.charAt(X))\r\nit works but only for thr one caracter.","title":"Scan 2 Strings and give points for each right char","body":"<pre><code>String[] ergebnisse = {&quot;Err&quot;, &quot;Baum&quot;, &quot;Schule&quot;, &quot;Pferd&quot;, &quot;Maschine&quot;};\nString eingabe = textField1.getText();\nint[] punkte = new int[ergebnisse.length];\n\nfor (int w = 0; w &lt; ergebnisse.length; w++) {\n      for (int b = 0; b &lt; ergebnisse[w].length(); b++) {\n        if (ergebnisse[w].charAt(b) == eingabe.charAt(b)) {\n          punkte[w]++;   \n        }\n      }\n    }\n</code></pre>\n<p>Error Oud of Bounds only apears in the if case on the second run.\nif i replace if(ergebnisse[w].charAt(b)) == eingabe.charAt(X))\nit works but only for thr one caracter.</p>\n"},{"tags":["java","spring","spring-boot","security"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1654301622,"post_id":72496033,"comment_id":128066176,"body_markdown":"Having it in maps is no more or less safe than having it elsewhere.","body":"Having it in maps is no more or less safe than having it elsewhere."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1654302835,"post_id":72496033,"comment_id":128066280,"body_markdown":"Agreed.  Furthermore, any question about whether something is &quot;safe&quot; needs to start by explaining the attack vectors you want to protect against.  For example, if you assume that the hacker is able to attach a debugger to the running application, then absolutely nothing is safe.","body":"Agreed.  Furthermore, any question about whether something is &quot;safe&quot; needs to start by explaining the attack vectors you want to protect against.  For example, if you assume that the hacker is able to attach a debugger to the running application, then absolutely nothing is safe."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654306597,"creation_date":1654306597,"answer_id":72496499,"question_id":72496033,"body_markdown":"This isn&#39;t how security works. You can&#39;t point at measured and code styles and claim that &quot;this one is 94.1835% secure&quot; or some such nonsense.\r\n\r\nInstead, you first create thread models: Which attack vector are you trying to protect against?\r\n\r\nNote that there are attack vectors that are incredibly had to protect against (read: Costs millions and imposes a _lot_ of inconvenience on legitimate users). That is, &quot;Security at any cost&quot; is a stupid thing to say and not something you can put in practice.\r\n\r\nThat is _why_ you want those attack vectors: As a programmer and a technically capable operator you can explain precisely which attack vector(s) a given application is capable of defending against and which ones they aren&#39;t, as well as which measure(s) will stop a given attack vector and how much they cost.\r\n\r\nIt&#39;s up to a product decision maker to take the list of attack vectors and cost(s) to mitigate them, and decide which ones to mitigate and which ones to leave. There will always be some you leave out.\r\n\r\nFor storing sensitive authentication data like this, the attack vectors fall in 3 broad strokes:\r\n\r\n### Outside parties that do not have physical access to the machine the code runs on, nor are they capable of logging in on that machine as either a &#39;root&#39; user or the user under which the server runs\r\n\r\nThe only way they are going to read that map is if you write code that somehow leaks it. For example, you have some web page endpoint that is programmed so that if I go to, say, `https://www.user16353001.com/getAuthInfo?k=hello`, that it gives `world` back, i.e. you programmed it that way.\r\n\r\nYou solve that by.. not doing that.\r\n\r\n### Parties that have physical access to the machine, or can log in as root, or can log in as the user under which the process runs\r\n\r\nThen you&#39;re in deep trouble and in general __nothing is safe anyway__ - if an attacker can do that, you have far bigger problems than &#39;oh dear they can read the auth map&#39;. However, there is a __vanishingly exotic__ situation where you may still care about this.\r\n\r\n__IF__ the attacker can access the box pretty much whenever they want and for long periods of time, no tricks in the code are ever going to solve the problem. So we now pile yet another exotic condition on top of more exotic conditions and, let&#39;s say we want to protect against an attacker that has physical access / root / user access, but only intermittently.\r\n\r\nAnd then we pile a third condition on top and that is: You, the server code, only need the auth info sometime during the bootup procedure and then you don&#39;t need it any more.\r\n\r\nIn this __one__ case there is a thing you can do: Store the data as a `new char[]`, and then explicitly zero out the char array when you&#39;re done with it. In addition, do not __ever__ let the password be transformed into any other data type. Never turn it into a string, bytebuffer, or anything else.\r\n\r\nThis is in fact __why__ e.g. `Console`&#39;s [`readPassword()`](https://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readPassword()) method returns a `char[]` and not a `String`. For this one exotic-wrapped-in-an-exotic-wrapped-in-an-exotic case. I think it&#39;s a ridiculous measure no sane person who judges attack vectors could possibly identify as reasonable to spend even one smidge of time on, but then that&#39;s why I said: You just explain the technical parts and code it. Someone else can make the call, even a bad one.\r\n\r\nThe reason why `char[]` works and nothing else will, and only if you _never_ convert that char[] to anything else, is because e.g. a string is an object that lives on the heap and will continue to do so until the garbage collector gets rid of it, and that might be __days__ from now. Java&#39;s garbage collectors that run immediately once some object turns into garbage. They only run when neccessary, which can be &#39;never&#39; if you have a simple app and tons of memory. In addition you can&#39;t tell java: Please garbage collect this object, __right now__. Even `System.gc()` doesn&#39;t guarantee anything. So, once it&#39;s a string, there&#39;s a chance that the password stays in your process memory for days and there&#39;s nothing you can do about it. If it&#39;s in `char[]` form you can zero out that array and have very slightly more guarantee that the password is now no longer in your process memory. Which is worth almost nothing, so, mostly, this doesn&#39;t matter.\r\n\r\nJust calling out that it is the one thing you can do, useless as it is, and why some auth stuff takes/provides `char[]` instead of `String`.\r\n\r\n## TPM / T2 systems\r\n\r\nThere&#39;s one final thing you can do to truly secure it way down, protect even against long-lasting root access: Security chips.\r\n\r\nOn windows, there&#39;s the TPM chip that most modern windows-targeted hardware has. On macs there&#39;s the T2, I think baked into the Mx family of apple&#39;s own chips these days.\r\n\r\nThese systems are extremely hard to integrate from java code (you&#39;d need some native bridges), basically nobody does this, and the auth protocol __has to be__ a challenge/response affair (i.e. a simple password cannot be protected using TPM infrastructure), further complicating matters.\r\n\r\nIf you can jump through all those hoops, you can set up a system whereby the secret is loaded into the TPM/T2 chip, by the TPM/T2 chip, and even a few million dollars of hardware cannot get it out, by anybody.\r\n\r\nYou need to look really really far to find implementations of this principle. It&#39;ll also be extremely complicated to try to do this with java, and most existing auth protocols simply cannot be adopted to use these. So, you can probably forget about their existence.\r\n","title":"Is it safe to have sensitive Information like passwords or hash pepper in HashMap?","body":"<p>This isn't how security works. You can't point at measured and code styles and claim that &quot;this one is 94.1835% secure&quot; or some such nonsense.</p>\n<p>Instead, you first create thread models: Which attack vector are you trying to protect against?</p>\n<p>Note that there are attack vectors that are incredibly had to protect against (read: Costs millions and imposes a <em>lot</em> of inconvenience on legitimate users). That is, &quot;Security at any cost&quot; is a stupid thing to say and not something you can put in practice.</p>\n<p>That is <em>why</em> you want those attack vectors: As a programmer and a technically capable operator you can explain precisely which attack vector(s) a given application is capable of defending against and which ones they aren't, as well as which measure(s) will stop a given attack vector and how much they cost.</p>\n<p>It's up to a product decision maker to take the list of attack vectors and cost(s) to mitigate them, and decide which ones to mitigate and which ones to leave. There will always be some you leave out.</p>\n<p>For storing sensitive authentication data like this, the attack vectors fall in 3 broad strokes:</p>\n<h3>Outside parties that do not have physical access to the machine the code runs on, nor are they capable of logging in on that machine as either a 'root' user or the user under which the server runs</h3>\n<p>The only way they are going to read that map is if you write code that somehow leaks it. For example, you have some web page endpoint that is programmed so that if I go to, say, <code>https://www.user16353001.com/getAuthInfo?k=hello</code>, that it gives <code>world</code> back, i.e. you programmed it that way.</p>\n<p>You solve that by.. not doing that.</p>\n<h3>Parties that have physical access to the machine, or can log in as root, or can log in as the user under which the process runs</h3>\n<p>Then you're in deep trouble and in general <strong>nothing is safe anyway</strong> - if an attacker can do that, you have far bigger problems than 'oh dear they can read the auth map'. However, there is a <strong>vanishingly exotic</strong> situation where you may still care about this.</p>\n<p><strong>IF</strong> the attacker can access the box pretty much whenever they want and for long periods of time, no tricks in the code are ever going to solve the problem. So we now pile yet another exotic condition on top of more exotic conditions and, let's say we want to protect against an attacker that has physical access / root / user access, but only intermittently.</p>\n<p>And then we pile a third condition on top and that is: You, the server code, only need the auth info sometime during the bootup procedure and then you don't need it any more.</p>\n<p>In this <strong>one</strong> case there is a thing you can do: Store the data as a <code>new char[]</code>, and then explicitly zero out the char array when you're done with it. In addition, do not <strong>ever</strong> let the password be transformed into any other data type. Never turn it into a string, bytebuffer, or anything else.</p>\n<p>This is in fact <strong>why</strong> e.g. <code>Console</code>'s <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readPassword()\" rel=\"nofollow noreferrer\"><code>readPassword()</code></a> method returns a <code>char[]</code> and not a <code>String</code>. For this one exotic-wrapped-in-an-exotic-wrapped-in-an-exotic case. I think it's a ridiculous measure no sane person who judges attack vectors could possibly identify as reasonable to spend even one smidge of time on, but then that's why I said: You just explain the technical parts and code it. Someone else can make the call, even a bad one.</p>\n<p>The reason why <code>char[]</code> works and nothing else will, and only if you <em>never</em> convert that char[] to anything else, is because e.g. a string is an object that lives on the heap and will continue to do so until the garbage collector gets rid of it, and that might be <strong>days</strong> from now. Java's garbage collectors that run immediately once some object turns into garbage. They only run when neccessary, which can be 'never' if you have a simple app and tons of memory. In addition you can't tell java: Please garbage collect this object, <strong>right now</strong>. Even <code>System.gc()</code> doesn't guarantee anything. So, once it's a string, there's a chance that the password stays in your process memory for days and there's nothing you can do about it. If it's in <code>char[]</code> form you can zero out that array and have very slightly more guarantee that the password is now no longer in your process memory. Which is worth almost nothing, so, mostly, this doesn't matter.</p>\n<p>Just calling out that it is the one thing you can do, useless as it is, and why some auth stuff takes/provides <code>char[]</code> instead of <code>String</code>.</p>\n<h2>TPM / T2 systems</h2>\n<p>There's one final thing you can do to truly secure it way down, protect even against long-lasting root access: Security chips.</p>\n<p>On windows, there's the TPM chip that most modern windows-targeted hardware has. On macs there's the T2, I think baked into the Mx family of apple's own chips these days.</p>\n<p>These systems are extremely hard to integrate from java code (you'd need some native bridges), basically nobody does this, and the auth protocol <strong>has to be</strong> a challenge/response affair (i.e. a simple password cannot be protected using TPM infrastructure), further complicating matters.</p>\n<p>If you can jump through all those hoops, you can set up a system whereby the secret is loaded into the TPM/T2 chip, by the TPM/T2 chip, and even a few million dollars of hardware cannot get it out, by anybody.</p>\n<p>You need to look really really far to find implementations of this principle. It'll also be extremely complicated to try to do this with java, and most existing auth protocols simply cannot be adopted to use these. So, you can probably forget about their existence.</p>\n"}],"owner":{"account_id":22095634,"reputation":59,"user_id":16353001,"display_name":"user16353001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654306597,"creation_date":1654298960,"question_id":72496033,"body_markdown":"I am trying to find out if my approach of using secrets in my application can be not a good practice or potential security issue.\r\n\r\nOur deployment pipeline will fetch the secrets from vault and provided to application as an environment variable which will be in the format of JSON string. When I have to access one secret in my application, \r\nI am letting @Value convert JSON String into Map KV&#39;s and using .get() to get desired value. Please let me know if I this can be issue or better way to do this. \r\n```\r\nSECRETS - Provided as Environment variable\r\nEx: export SECRETS = &quot;{&quot;hello&quot;:&quot;world&quot;,&quot;foo&quot;:&quot;bar&quot;}&quot;\r\n\r\n@Bean\r\npublic Object method(@Value(&quot;#{${SECRETS}}&quot;) Map&lt;String, String&gt; secrets) {\r\n    new Object(secrets.get(&quot;hello&quot;));  //passing secret as constructor argument\r\n}\r\n```","title":"Is it safe to have sensitive Information like passwords or hash pepper in HashMap?","body":"<p>I am trying to find out if my approach of using secrets in my application can be not a good practice or potential security issue.</p>\n<p>Our deployment pipeline will fetch the secrets from vault and provided to application as an environment variable which will be in the format of JSON string. When I have to access one secret in my application,\nI am letting @Value convert JSON String into Map KV's and using .get() to get desired value. Please let me know if I this can be issue or better way to do this.</p>\n<pre><code>SECRETS - Provided as Environment variable\nEx: export SECRETS = &quot;{&quot;hello&quot;:&quot;world&quot;,&quot;foo&quot;:&quot;bar&quot;}&quot;\n\n@Bean\npublic Object method(@Value(&quot;#{${SECRETS}}&quot;) Map&lt;String, String&gt; secrets) {\n    new Object(secrets.get(&quot;hello&quot;));  //passing secret as constructor argument\n}\n</code></pre>\n"},{"tags":["java","arrays","math","double"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1646033054,"post_id":71291691,"comment_id":126015740,"body_markdown":"You are not using the values in `doubles[i]` at all.  `a` is your loop variable.","body":"You are not using the values in <code>doubles[i]</code> at all.  <code>a</code> is your loop variable."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1646033079,"post_id":71291691,"comment_id":126015747,"body_markdown":"you haven&#39;t completely implemented your code. How do you expect it to work perfectly?\nAlso: what do you want to print? integers or doubles?","body":"you haven&#39;t completely implemented your code. How do you expect it to work perfectly? Also: what do you want to print? integers or doubles?"},{"owner":{"account_id":22998160,"reputation":25,"user_id":17122570,"display_name":"Lucky Rabbit"},"score":0,"creation_date":1646033647,"post_id":71291691,"comment_id":126015868,"body_markdown":"I&#39;m hoping to print doubles","body":"I&#39;m hoping to print doubles"}],"answers":[{"tags":[],"owner":{"account_id":14476595,"reputation":489,"user_id":10457088,"display_name":"Tom&#225; turm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646034565,"creation_date":1646034565,"answer_id":71291946,"question_id":71291691,"body_markdown":"Closest to 0 is the smallest number in absolute value. Then you only have to find the minimum. Update closestToZero if a smaller number is found.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Code {\r\n\tpublic static void main(String[] args){\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Read input for the test cases\r\n        int N = scanner.nextInt();\r\n        double[] doubles = new double[N];\r\n        double closestToZero = Double.MAX_VALUE;\r\n        for(int i = 0; i &lt; N; i++) {\r\n            doubles[i] = scanner.nextDouble();\r\n        }\r\n\r\n        // Your code here\r\n        for(int a = 0; a &lt; N; a++) {\r\n            if (Math.abs(doubles[a]) &lt; Math.abs(closestToZero)) {\r\n                closestToZero = doubles[a];\r\n            }\r\n        }   \r\n        \r\n        System.out.println(&quot;The double closest to 0 is &quot; + closestToZero );\r\n    }\r\n}\r\n```","title":"How can I print the nearest integer to zero given an array of doubles?","body":"<p>Closest to 0 is the smallest number in absolute value. Then you only have to find the minimum. Update closestToZero if a smaller number is found.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Code {\n    public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n        // Read input for the test cases\n        int N = scanner.nextInt();\n        double[] doubles = new double[N];\n        double closestToZero = Double.MAX_VALUE;\n        for(int i = 0; i &lt; N; i++) {\n            doubles[i] = scanner.nextDouble();\n        }\n\n        // Your code here\n        for(int a = 0; a &lt; N; a++) {\n            if (Math.abs(doubles[a]) &lt; Math.abs(closestToZero)) {\n                closestToZero = doubles[a];\n            }\n        }   \n        \n        System.out.println(&quot;The double closest to 0 is &quot; + closestToZero );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24383263,"reputation":1,"user_id":18314451,"display_name":"aryan-763"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654305976,"creation_date":1646034878,"answer_id":71292000,"question_id":71291691,"body_markdown":"here is a faster and more efficient way of finding the closent value to zero from a Double[] array.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class StackOverflow_Tester {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter number of integers: &quot;);\r\n            int N = in.nextInt();\r\n            double[] doubles = new double[N];\r\n            for(int i = 0; i &lt; N; i++) {\r\n                doubles[i] = in.nextDouble();\r\n            }\r\n            double curr = 0;\r\n            double near = doubles[0];\r\n            // find the element nearest to zero\r\n            for ( int i=0; i &lt; doubles.length; i++ ){\r\n                curr = doubles[i] * doubles[i];\r\n                if ( curr &lt;= (near * near) )  {\r\n                    near = doubles[i];\r\n                }\r\n            }\r\n            System.out.println( near );\r\n        }\r\n    }","title":"How can I print the nearest integer to zero given an array of doubles?","body":"<p>here is a faster and more efficient way of finding the closent value to zero from a Double[] array.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class StackOverflow_Tester {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter number of integers: &quot;);\n        int N = in.nextInt();\n        double[] doubles = new double[N];\n        for(int i = 0; i &lt; N; i++) {\n            doubles[i] = in.nextDouble();\n        }\n        double curr = 0;\n        double near = doubles[0];\n        // find the element nearest to zero\n        for ( int i=0; i &lt; doubles.length; i++ ){\n            curr = doubles[i] * doubles[i];\n            if ( curr &lt;= (near * near) )  {\n                near = doubles[i];\n            }\n        }\n        System.out.println( near );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22998160,"reputation":25,"user_id":17122570,"display_name":"Lucky Rabbit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646191388,"accepted_answer_id":71291946,"answer_count":2,"score":0,"last_activity_date":1654306060,"creation_date":1646032808,"question_id":71291691,"body_markdown":"I am stuck on this homework problem: \r\n```\r\nPrint out the double that is closest to 0, positive or negative.\r\n```\r\nMy current code is: \r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Code {\r\n\r\n    public static void main(String[] args){\r\n        Scanner scanner = new Scanner(System.in);\r\n        // Read input for the test cases\r\n        int N = scanner.nextInt();\r\n        double[] doubles = new double[N];\r\n        double closestToZero = N;\r\n        for(int i = 0; i &lt; N; i++) {\r\n            doubles[i] = scanner.nextDouble();\r\n        }\r\n\r\n        // Your code here\r\n        for(int a = 0; a &lt; N; a++) {\r\n            if (Math.abs(a) &lt; 0) {\r\n                closestToZero = a;\r\n            }\r\n\r\n                else if(Math.abs(a) == 0.0) {\r\n                    closestToZero = a;\r\n                }\r\n                else {\r\n\r\n                }\r\n            }         \r\n        System.out.println(&quot;The double closest to 0 is &quot; + closestToZero);\r\n\r\n    }\r\n}\r\n```\r\nIssue: The code keeps printing out 0.0 even though it is the incorrect answer, What would be the cause for the error?","title":"How can I print the nearest integer to zero given an array of doubles?","body":"<p>I am stuck on this homework problem:</p>\n<pre><code>Print out the double that is closest to 0, positive or negative.\n</code></pre>\n<p>My current code is:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Code {\n\n    public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n        // Read input for the test cases\n        int N = scanner.nextInt();\n        double[] doubles = new double[N];\n        double closestToZero = N;\n        for(int i = 0; i &lt; N; i++) {\n            doubles[i] = scanner.nextDouble();\n        }\n\n        // Your code here\n        for(int a = 0; a &lt; N; a++) {\n            if (Math.abs(a) &lt; 0) {\n                closestToZero = a;\n            }\n\n                else if(Math.abs(a) == 0.0) {\n                    closestToZero = a;\n                }\n                else {\n\n                }\n            }         \n        System.out.println(&quot;The double closest to 0 is &quot; + closestToZero);\n\n    }\n}\n</code></pre>\n<p>Issue: The code keeps printing out 0.0 even though it is the incorrect answer, What would be the cause for the error?</p>\n"},{"tags":["java","automation","appium"],"answers":[{"tags":[],"owner":{"account_id":21070619,"reputation":1,"user_id":15486934,"display_name":"downburst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653759997,"creation_date":1653759952,"answer_id":72417967,"question_id":72416121,"body_markdown":"Try to get instance from **UiAutomator2Options** class to applies specific capabilities instead of **DesiredCapabilities** when you get instance from AndroidDriver.\r\n\r\nhttps://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n\r\n    UiAutomator2Options options = new UiAutomator2Options();\r\n    options.setDeviceName(&quot;testemulator&quot;);\r\n\r\n\r\n","title":"Support for Legacy Capabilities is deprecated; You are sending &quot;deviceName&quot; which is an invalid capability","body":"<p>Try to get instance from <strong>UiAutomator2Options</strong> class to applies specific capabilities instead of <strong>DesiredCapabilities</strong> when you get instance from AndroidDriver.</p>\n<p><a href=\"https://www.selenium.dev/blog/2022/legacy-protocol-support/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/blog/2022/legacy-protocol-support/</a></p>\n<pre><code>UiAutomator2Options options = new UiAutomator2Options();\noptions.setDeviceName(&quot;testemulator&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1389462,"reputation":181,"user_id":1320656,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653963512,"creation_date":1653963512,"answer_id":72441622,"question_id":72416121,"body_markdown":"I think there was a change to the &quot;latest&quot; tag for  selenium/standalone-chrome which is causing this problem. \r\n\r\nTry pulling a prior version. I had your the same error you had with &quot;latest&quot; but I pulled &quot;101.0.4951.41&quot; and my tests are working again.","title":"Support for Legacy Capabilities is deprecated; You are sending &quot;deviceName&quot; which is an invalid capability","body":"<p>I think there was a change to the &quot;latest&quot; tag for  selenium/standalone-chrome which is causing this problem.</p>\n<p>Try pulling a prior version. I had your the same error you had with &quot;latest&quot; but I pulled &quot;101.0.4951.41&quot; and my tests are working again.</p>\n"},{"tags":[],"owner":{"account_id":9707680,"reputation":1,"user_id":7200630,"display_name":"bjacharya24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654167049,"creation_date":1654167049,"answer_id":72475003,"question_id":72416121,"body_markdown":"Try pulling a prior version. I had your the same error you had with &quot;latest&quot; but I pulled &quot;101.0.4951.41&quot; and my tests are working again.\r\n\r\nHi, It&#39;s not clear to me. Prior version of what please.\r\n\r\n","title":"Support for Legacy Capabilities is deprecated; You are sending &quot;deviceName&quot; which is an invalid capability","body":"<p>Try pulling a prior version. I had your the same error you had with &quot;latest&quot; but I pulled &quot;101.0.4951.41&quot; and my tests are working again.</p>\n<p>Hi, It's not clear to me. Prior version of what please.</p>\n"},{"tags":[],"owner":{"account_id":25469330,"reputation":21,"user_id":19267810,"display_name":"Will"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654305785,"creation_date":1654305785,"answer_id":72496450,"question_id":72416121,"body_markdown":"You can try adding &quot;appium:&quot; to the capabilities\r\n\r\n    DesiredCapabilities cap = new DesiredCapabilities();\r\n    cap.setCapability(&quot;appium:deviceName&quot;, &quot;deviceName&quot;);\r\n    cap.setCapability(&quot;appium:app&quot;, fs.getAbsolutePath());\r\n\r\n","title":"Support for Legacy Capabilities is deprecated; You are sending &quot;deviceName&quot; which is an invalid capability","body":"<p>You can try adding &quot;appium:&quot; to the capabilities</p>\n<pre><code>DesiredCapabilities cap = new DesiredCapabilities();\ncap.setCapability(&quot;appium:deviceName&quot;, &quot;deviceName&quot;);\ncap.setCapability(&quot;appium:app&quot;, fs.getAbsolutePath());\n</code></pre>\n"}],"owner":{"account_id":25413119,"reputation":11,"user_id":19220567,"display_name":"Aksel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1654305785,"creation_date":1653744920,"question_id":72416121,"body_markdown":"I was trying to setup a project with Java and Appium. Thing is that I am just learning it and I got stuck on first few lines of the code\r\n[Screenshot of the issue][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uEDRq.png\r\nI am trying to set the &quot;Desired Capabilities&quot; but there is an issue stating that these are invalid capabilities. I have tried to look into the docs as well but cannot figure out how to fix it. Would be great help if anyone can help it out.\r\n\r\n","title":"Support for Legacy Capabilities is deprecated; You are sending &quot;deviceName&quot; which is an invalid capability","body":"<p>I was trying to setup a project with Java and Appium. Thing is that I am just learning it and I got stuck on first few lines of the code\n<a href=\"https://i.stack.imgur.com/uEDRq.png\" rel=\"nofollow noreferrer\">Screenshot of the issue</a></p>\n<p>I am trying to set the &quot;Desired Capabilities&quot; but there is an issue stating that these are invalid capabilities. I have tried to look into the docs as well but cannot figure out how to fix it. Would be great help if anyone can help it out.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1654276676,"post_id":72492977,"comment_id":128060447,"body_markdown":"Use the `javafx.animation` API. In this case, you can set the effect, create a `PauseTransition` with the desired duration and a `setOnFinished` handler that removes the effect, then start the animation.","body":"Use the <code>javafx.animation</code> API. In this case, you can set the effect, create a <code>PauseTransition</code> with the desired duration and a <code>setOnFinished</code> handler that removes the effect, then start the animation."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1654279236,"post_id":72492977,"comment_id":128061179,"body_markdown":"Check out [my answer here](https://stackoverflow.com/a/60685975/6395627). You should be able to easily adapt an example to your situation (all the examples deal with _periodic_ tasks, but you can simply set it up to execute only once).","body":"Check out <a href=\"https://stackoverflow.com/a/60685975/6395627\">my answer here</a>. You should be able to easily adapt an example to your situation (all the examples deal with <i>periodic</i> tasks, but you can simply set it up to execute only once)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654302462,"creation_date":1654290417,"answer_id":72495159,"question_id":72492977,"body_markdown":"**General Information**\r\n\r\nGeneric info on this task is in:\r\n\r\n * https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\r\n\r\nDoing something just once, is just a simpler version of doing it periodically.\r\n\r\n**Lighting example**\r\n\r\nA simple example that uses a lighting effect to make Smurfette turn green with envy when you click on her.  A PauseTransition is used.\r\n\r\n    import javafx.animation.PauseTransition;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.effect.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class EnvyApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Image image = new Image(\r\n                    &quot;http://icons.iconarchive.com/icons/designbolts/smurfs-movie/128/smurfette-icon.png&quot;\r\n            );\r\n    \r\n            ImageView imageView = new ImageView(image);\r\n    \r\n            PauseTransition hitAnimation = new PauseTransition(Duration.seconds(1));\r\n            hitAnimation.setOnFinished(e -&gt; imageView.setEffect(null));\r\n    \r\n            Light light = new Light.Distant();\r\n            light.setColor(Color.PALEGREEN);\r\n            Lighting lighting = new Lighting(light);\r\n    \r\n            imageView.setOnMouseClicked(e -&gt; {\r\n                imageView.setEffect(lighting);\r\n                hitAnimation.playFromStart();\r\n            });\r\n    \r\n            stage.setScene(new Scene(new Group(imageView), Color.AQUA));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    }\r\n\r\n**Gradiated Color Change Example**\r\n\r\nExample of a fading temporary color overlay effect on clicking an ImageView.  A timeline is used for the effect display.\r\n\r\nThe example for the color change is based on this answer:\r\n\r\n * https://stackoverflow.com/questions/18124364/how-to-change-color-of-image-in-javafx\r\n\r\nThe clicked image turns red, then gradually fades from red through gray and back to the original color.  There are probably simpler ways of doing this, but this is what I came up with.\r\n\r\nThe timeline for the effect is stored in the properties of the affected node, but it could be stored in an instance variable (e.g. an attribute of a generic Sprite class) somewhere if preferred.  The timeline is stored so that if you click on the image before the effect completes, then the existing timeline can be restarted from the start.\r\n\r\n**Applying different effects**\r\n\r\nThe effect is just an example, you could adjust it as wished.\r\n\r\nThe general principle can be used to adjust any effect (or node) properties. You can adjust the actual specifics of the effect used to how you want.  For example, on click in addition to the color adjustment, you could make a node bounce via translations or apply a glow effect or a drop shadow effect, etc.\r\n\r\n*Example Code*\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.effect.*;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class Blush extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            HitEffectGenerator effectGenerator = new HitEffectGenerator();\r\n            Image image = new Image(\r\n                    &quot;http://icons.iconarchive.com/icons/designbolts/smurfs-movie/128/smurfette-icon.png&quot;\r\n            );\r\n    \r\n            ImageView imageView = new ImageView(image);\r\n            // try with clip on and off to see the difference . . .\r\n            imageView.setClip(new ImageView(image));\r\n    \r\n            imageView.setOnMouseClicked(e -&gt; effectGenerator.apply(imageView));\r\n    \r\n            stage.setScene(new Scene(new Group(imageView), Color.AQUA));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    }\r\n    \r\n    class HitEffectGenerator {\r\n        public void apply(ImageView target) {\r\n            Timeline effectTimeline = (Timeline) target.getProperties().get(HitEffectGenerator.class);\r\n    \r\n            if (effectTimeline == null) {\r\n                ColorAdjust monochrome = new ColorAdjust();\r\n                monochrome.setSaturation(-1.0);\r\n    \r\n                ColorInput colorInput = new ColorInput(\r\n                        0,\r\n                        0,\r\n                        target.getImage().getWidth(),\r\n                        target.getImage().getHeight(),\r\n                        Color.RED\r\n                );\r\n    \r\n                Blend blush = new Blend(\r\n                        BlendMode.MULTIPLY,\r\n                        monochrome,\r\n                        colorInput\r\n                );\r\n    \r\n                target.setEffect(blush);\r\n    \r\n                effectTimeline = new Timeline(\r\n                        new KeyFrame(\r\n                                Duration.ZERO,\r\n                                new KeyValue(monochrome.saturationProperty(), -1.0),\r\n                                new KeyValue(colorInput.paintProperty(), Color.RED)\r\n                        ),\r\n                        new KeyFrame(\r\n                                Duration.seconds(1),\r\n                                new KeyValue(monochrome.saturationProperty(), 0.0),\r\n                                new KeyValue(colorInput.paintProperty(), Color.TRANSPARENT)\r\n                        )\r\n                );\r\n    \r\n                effectTimeline.setOnFinished(e -&gt; remove(target));\r\n            }\r\n    \r\n            target.getProperties().put(HitEffectGenerator.class, effectTimeline);\r\n    \r\n            effectTimeline.playFromStart();\r\n        }\r\n    \r\n        public void remove(ImageView target) {\r\n            Timeline effectTimeline = (Timeline) target.getProperties().get(HitEffectGenerator.class);\r\n    \r\n            if (effectTimeline != null) {\r\n                target.setEffect(null);\r\n                target.getProperties().remove(HitEffectGenerator.class);\r\n                effectTimeline.stop();\r\n            }\r\n        }\r\n    }\r\n\r\n**Various animation effects on click**\r\n\r\nSee:\r\n\r\n * [FXExperience canned animations](https://github.com/fxexperience/code/tree/master/FXExperienceControls/src/com/fxexperience/javafx/animation), with [blog post](http://fxexperience.com/2012/03/canned-animations/) and [example app](https://github.com/fxexperience/code/blob/master/Blog-Demos/CannedAnimations/src/cannedanimations/CannedAnimations.java).\r\n\r\nThose examples are old and use the deprecated builder API, but are easy to convert to modern code which uses constructors and setters rather than the builders.\r\n\r\n","title":"How to show something in JavaFX for a brief time only?","body":"<p><strong>General Information</strong></p>\n<p>Generic info on this task is in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\">JavaFX periodic background task</a></li>\n</ul>\n<p>Doing something just once, is just a simpler version of doing it periodically.</p>\n<p><strong>Lighting example</strong></p>\n<p>A simple example that uses a lighting effect to make Smurfette turn green with envy when you click on her.  A PauseTransition is used.</p>\n<pre><code>import javafx.animation.PauseTransition;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.effect.*;\nimport javafx.scene.image.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class EnvyApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Image image = new Image(\n                &quot;http://icons.iconarchive.com/icons/designbolts/smurfs-movie/128/smurfette-icon.png&quot;\n        );\n\n        ImageView imageView = new ImageView(image);\n\n        PauseTransition hitAnimation = new PauseTransition(Duration.seconds(1));\n        hitAnimation.setOnFinished(e -&gt; imageView.setEffect(null));\n\n        Light light = new Light.Distant();\n        light.setColor(Color.PALEGREEN);\n        Lighting lighting = new Lighting(light);\n\n        imageView.setOnMouseClicked(e -&gt; {\n            imageView.setEffect(lighting);\n            hitAnimation.playFromStart();\n        });\n\n        stage.setScene(new Scene(new Group(imageView), Color.AQUA));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n</code></pre>\n<p><strong>Gradiated Color Change Example</strong></p>\n<p>Example of a fading temporary color overlay effect on clicking an ImageView.  A timeline is used for the effect display.</p>\n<p>The example for the color change is based on this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18124364/how-to-change-color-of-image-in-javafx\">How to change color of image in JavaFX</a></li>\n</ul>\n<p>The clicked image turns red, then gradually fades from red through gray and back to the original color.  There are probably simpler ways of doing this, but this is what I came up with.</p>\n<p>The timeline for the effect is stored in the properties of the affected node, but it could be stored in an instance variable (e.g. an attribute of a generic Sprite class) somewhere if preferred.  The timeline is stored so that if you click on the image before the effect completes, then the existing timeline can be restarted from the start.</p>\n<p><strong>Applying different effects</strong></p>\n<p>The effect is just an example, you could adjust it as wished.</p>\n<p>The general principle can be used to adjust any effect (or node) properties. You can adjust the actual specifics of the effect used to how you want.  For example, on click in addition to the color adjustment, you could make a node bounce via translations or apply a glow effect or a drop shadow effect, etc.</p>\n<p><em>Example Code</em></p>\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.effect.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class Blush extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        HitEffectGenerator effectGenerator = new HitEffectGenerator();\n        Image image = new Image(\n                &quot;http://icons.iconarchive.com/icons/designbolts/smurfs-movie/128/smurfette-icon.png&quot;\n        );\n\n        ImageView imageView = new ImageView(image);\n        // try with clip on and off to see the difference . . .\n        imageView.setClip(new ImageView(image));\n\n        imageView.setOnMouseClicked(e -&gt; effectGenerator.apply(imageView));\n\n        stage.setScene(new Scene(new Group(imageView), Color.AQUA));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n\nclass HitEffectGenerator {\n    public void apply(ImageView target) {\n        Timeline effectTimeline = (Timeline) target.getProperties().get(HitEffectGenerator.class);\n\n        if (effectTimeline == null) {\n            ColorAdjust monochrome = new ColorAdjust();\n            monochrome.setSaturation(-1.0);\n\n            ColorInput colorInput = new ColorInput(\n                    0,\n                    0,\n                    target.getImage().getWidth(),\n                    target.getImage().getHeight(),\n                    Color.RED\n            );\n\n            Blend blush = new Blend(\n                    BlendMode.MULTIPLY,\n                    monochrome,\n                    colorInput\n            );\n\n            target.setEffect(blush);\n\n            effectTimeline = new Timeline(\n                    new KeyFrame(\n                            Duration.ZERO,\n                            new KeyValue(monochrome.saturationProperty(), -1.0),\n                            new KeyValue(colorInput.paintProperty(), Color.RED)\n                    ),\n                    new KeyFrame(\n                            Duration.seconds(1),\n                            new KeyValue(monochrome.saturationProperty(), 0.0),\n                            new KeyValue(colorInput.paintProperty(), Color.TRANSPARENT)\n                    )\n            );\n\n            effectTimeline.setOnFinished(e -&gt; remove(target));\n        }\n\n        target.getProperties().put(HitEffectGenerator.class, effectTimeline);\n\n        effectTimeline.playFromStart();\n    }\n\n    public void remove(ImageView target) {\n        Timeline effectTimeline = (Timeline) target.getProperties().get(HitEffectGenerator.class);\n\n        if (effectTimeline != null) {\n            target.setEffect(null);\n            target.getProperties().remove(HitEffectGenerator.class);\n            effectTimeline.stop();\n        }\n    }\n}\n</code></pre>\n<p><strong>Various animation effects on click</strong></p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://github.com/fxexperience/code/tree/master/FXExperienceControls/src/com/fxexperience/javafx/animation\" rel=\"nofollow noreferrer\">FXExperience canned animations</a>, with <a href=\"http://fxexperience.com/2012/03/canned-animations/\" rel=\"nofollow noreferrer\">blog post</a> and <a href=\"https://github.com/fxexperience/code/blob/master/Blog-Demos/CannedAnimations/src/cannedanimations/CannedAnimations.java\" rel=\"nofollow noreferrer\">example app</a>.</li>\n</ul>\n<p>Those examples are old and use the deprecated builder API, but are easy to convert to modern code which uses constructors and setters rather than the builders.</p>\n"}],"owner":{"account_id":24674302,"reputation":15,"user_id":18568910,"display_name":"marvin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72495159,"answer_count":1,"score":-1,"last_activity_date":1654302462,"creation_date":1654276014,"question_id":72492977,"body_markdown":"I&#39;m looking for an uncomplicated way to add an effect to an ImageView in JavaFX for only a brief period, but I haven&#39;t found an effective way yet. &lt;br&gt;\r\nIt&#39;s a game and the players are shown as ImageViews on Planes. When a player attacks the other player, I want to show an effect on the attacked ImageView, like a color overlay or something like that. &lt;br&gt;\r\nBut what is the best approach to do so? And is there a way around a timer or do i need one?&lt;br&gt;&lt;br&gt;\r\nThanks for your help!","title":"How to show something in JavaFX for a brief time only?","body":"<p>I'm looking for an uncomplicated way to add an effect to an ImageView in JavaFX for only a brief period, but I haven't found an effective way yet. <br>\nIt's a game and the players are shown as ImageViews on Planes. When a player attacks the other player, I want to show an effect on the attacked ImageView, like a color overlay or something like that. <br>\nBut what is the best approach to do so? And is there a way around a timer or do i need one?<br><br>\nThanks for your help!</p>\n"},{"tags":["java","character"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1654301314,"post_id":72496192,"comment_id":128066138,"body_markdown":"Well, they&#39;re the same when interpreted in hex, which is basically what `getNumericValue` is doing...  (Basically: reread the docs.)","body":"Well, they&#39;re the same when interpreted in hex, which is basically what <code>getNumericValue</code> is doing...  (Basically: reread the docs.)"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1654305422,"post_id":72496192,"comment_id":128066578,"body_markdown":"[Base 36, actually](https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char)\" rel=\"nofollow noreferrer\">Base 36, actually</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1654302255,"creation_date":1654301926,"answer_id":72496234,"question_id":72496192,"body_markdown":"# Read the doc\r\n\r\nProgramming by intuition is risky business. Best to read the documentation before typing the code.\r\n\r\nAs explained in the Javadoc, [`Character.getNumericValue`][1] parses the character as a digit or some other numerical representation. The Javadoc explicitly says that a-z and A-Z produce numbers in range of 10-35. \r\n\r\nYou can configure your [IDE][2] to automatically display the Javadoc for the code in your code editor.\r\n\r\n# Code point\r\n\r\nApparently you want the [code point][3] number for a particular character. \r\n\r\n    int codePoint_a = Character.codePointAt( &quot;a&quot; , 0 ) ;  // Annoying zero-based index counting.\r\n    int codePoint_A = Character.codePointAt( &quot;A&quot; , 0 ) ;\r\n\r\nSee this [code run live at IdeOne.com][4].\r\n\r\n&gt;codePoint_a = 97\r\n&gt;\r\n&gt;codePoint_A = 65\r\n\r\n# Avoid legacy `char`\r\n\r\nBest to avoid `char`. As a 16-bit value, the `char` type is physically incapable of representing most characters. The `char` type has been essentially broken since Java 2.\r\n\r\nConsider `char` to be a legacy type, generally supplanted by code point integer numbers. You will find `codePoint` methods on classes such as `String`, `StringBuilder`, `Character`, etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#getNumericValue(char)\r\n  [2]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [3]: https://en.wikipedia.org/wiki/Code_point\r\n  [4]: https://ideone.com/xoUtjr","title":"Why do lower case and uppercase letters have the same Java Character getNumericValue() value?","body":"<h1>Read the doc</h1>\n<p>Programming by intuition is risky business. Best to read the documentation before typing the code.</p>\n<p>As explained in the Javadoc, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#getNumericValue(char)\" rel=\"noreferrer\"><code>Character.getNumericValue</code></a> parses the character as a digit or some other numerical representation. The Javadoc explicitly says that a-z and A-Z produce numbers in range of 10-35.</p>\n<p>You can configure your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"noreferrer\">IDE</a> to automatically display the Javadoc for the code in your code editor.</p>\n<h1>Code point</h1>\n<p>Apparently you want the <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">code point</a> number for a particular character.</p>\n<pre><code>int codePoint_a = Character.codePointAt( &quot;a&quot; , 0 ) ;  // Annoying zero-based index counting.\nint codePoint_A = Character.codePointAt( &quot;A&quot; , 0 ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/xoUtjr\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>codePoint_a = 97</p>\n<p>codePoint_A = 65</p>\n</blockquote>\n<h1>Avoid legacy <code>char</code></h1>\n<p>Best to avoid <code>char</code>. As a 16-bit value, the <code>char</code> type is physically incapable of representing most characters. The <code>char</code> type has been essentially broken since Java 2.</p>\n<p>Consider <code>char</code> to be a legacy type, generally supplanted by code point integer numbers. You will find <code>codePoint</code> methods on classes such as <code>String</code>, <code>StringBuilder</code>, <code>Character</code>, etc.</p>\n"}],"owner":{"account_id":10333847,"reputation":13,"user_id":16568973,"display_name":"ajc"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1654306042,"answer_count":1,"score":-4,"last_activity_date":1654302255,"creation_date":1654301107,"question_id":72496192,"body_markdown":"Why does getNumericValue(&#39;a&#39;) and getNumericValue(&#39;A&#39;) both return 10 when they&#39;re technically different characters?","title":"Why do lower case and uppercase letters have the same Java Character getNumericValue() value?","body":"<p>Why does getNumericValue('a') and getNumericValue('A') both return 10 when they're technically different characters?</p>\n"},{"tags":["java","apache-beam","flatten"],"answers":[{"tags":[],"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654203220,"creation_date":1654203220,"answer_id":72482234,"question_id":72477656,"body_markdown":"Please refer to the Apache Beam programming guide https://beam.apache.org/documentation/programming-guide/#flatten:\r\n\r\n    PCollectionList&lt;String&gt; collections = PCollectionList.of(pc1).and(pc2).and(pc3);\r\n\r\n    PCollection&lt;String&gt; merged = collections.apply(Flatten.&lt;String&gt;pCollections());\r\n\r\n","title":"Apache Beam: Flattening PCollection&lt;List&lt;Foo&gt;&gt; to PCollection&lt;Foo&gt;","body":"<p>Please refer to the Apache Beam programming guide <a href=\"https://beam.apache.org/documentation/programming-guide/#flatten\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/programming-guide/#flatten</a>:</p>\n<pre><code>PCollectionList&lt;String&gt; collections = PCollectionList.of(pc1).and(pc2).and(pc3);\n\nPCollection&lt;String&gt; merged = collections.apply(Flatten.&lt;String&gt;pCollections());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20700740,"reputation":56,"user_id":15199880,"display_name":"deercoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654300532,"creation_date":1654300532,"answer_id":72496151,"question_id":72477656,"body_markdown":"&quot;.apply(Flatten.iterables())&quot; \r\nit will convert &quot;PCollection&lt;List&lt;Foo&gt;&gt;&quot; to &quot;PCollection&lt;Foo&gt;&quot;","title":"Apache Beam: Flattening PCollection&lt;List&lt;Foo&gt;&gt; to PCollection&lt;Foo&gt;","body":"<p>&quot;.apply(Flatten.iterables())&quot;\nit will convert &quot;PCollection&lt;List&gt;&quot; to &quot;PCollection&quot;</p>\n"}],"owner":{"account_id":9790557,"reputation":85,"user_id":10217464,"display_name":"Plus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72496151,"answer_count":2,"score":1,"last_activity_date":1654300532,"creation_date":1654179046,"question_id":72477656,"body_markdown":"Say we have some nested list:\r\n\r\n```\r\n[&quot;a&quot;, &quot;b&quot;]\r\n[&quot;c&quot;, &quot;d&quot;]\r\n```\r\n\r\nAnd we can easily do the flap map in Stream API like this:\r\n\r\n```java\r\nStream\r\n        .of(List.of(&quot;a&quot;, &quot;b&quot;), List.of(&quot;c&quot;, &quot;d&quot;))\r\n        .flatMap(List::stream)\r\n        .forEach(System.out::println);\r\n```\r\n\r\nBut doing it with &quot;FlatMapElements&quot;, it was quite a mess:\r\n\r\n```\r\nPipeline pipeline = Pipeline.create();\r\npipeline.apply(Create.of(List.of(List.of(&quot;a&quot;, &quot;b&quot;), List.of(&quot;c&quot;, &quot;d&quot;))))\r\n        .apply(FlatMapElements.into(TypeDescriptor.of(String.class)).via(list -&gt; list))\r\n        .apply(ParDo.of(new SomeOutputFunction()));\r\n```\r\n\r\nCan we do anything else better with the flat map function?  \r\nA simple flatmap job should not be that complicated so I think I am missing something.  \r\nI cannot even replace `.via(list -&gt; list)` to `.via(Function.identity())` due to the type inference problem.\r\n\r\n","title":"Apache Beam: Flattening PCollection&lt;List&lt;Foo&gt;&gt; to PCollection&lt;Foo&gt;","body":"<p>Say we have some nested list:</p>\n<pre><code>[&quot;a&quot;, &quot;b&quot;]\n[&quot;c&quot;, &quot;d&quot;]\n</code></pre>\n<p>And we can easily do the flap map in Stream API like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream\n        .of(List.of(&quot;a&quot;, &quot;b&quot;), List.of(&quot;c&quot;, &quot;d&quot;))\n        .flatMap(List::stream)\n        .forEach(System.out::println);\n</code></pre>\n<p>But doing it with &quot;FlatMapElements&quot;, it was quite a mess:</p>\n<pre><code>Pipeline pipeline = Pipeline.create();\npipeline.apply(Create.of(List.of(List.of(&quot;a&quot;, &quot;b&quot;), List.of(&quot;c&quot;, &quot;d&quot;))))\n        .apply(FlatMapElements.into(TypeDescriptor.of(String.class)).via(list -&gt; list))\n        .apply(ParDo.of(new SomeOutputFunction()));\n</code></pre>\n<p>Can we do anything else better with the flat map function?<br />\nA simple flatmap job should not be that complicated so I think I am missing something.<br />\nI cannot even replace <code>.via(list -&gt; list)</code> to <code>.via(Function.identity())</code> due to the type inference problem.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654299708,"creation_date":1654299126,"answer_id":72496048,"question_id":72493484,"body_markdown":"I think I figured out the problem, the problem is in your *`onTouchEvent`* at\r\n\r\n    brushList1.add(currentbrush1);\r\nYou are adding to the ArrayList of brush&#39;s size the Color of the Path which is Black by default is *-16777216* so when in `draw` you set the **strokeWidth** to a negative value it uses the Paint current value. So create a `static int strokeWidth` inside `display2` and add to all your brush methods `strokeWidth = //width number;` like so\r\n\r\n\r\n    public void SmallBrush1(View view){\r\n        paintbrush1.setStrokeWidth(10f);\r\n        strokeWidth = 10; //ADD THIS\r\n        paintbrush1.setColor(Color.BLACK);\r\n        \r\n        currentColor1(paintbrush1.getColor());\r\n    }\r\n\r\nDo for all your brush methods\r\n\r\nSo change this\r\n\r\n    brushList1.add(currentbrush1);\r\nto\r\n\r\n    brushList1.add(strokeWidth);\r\n\r\nthis should fix your problem\r\n\r\nHope that helps","title":"Android Studio Changing brush sizes","body":"<p>I think I figured out the problem, the problem is in your <em><code>onTouchEvent</code></em> at</p>\n<pre><code>brushList1.add(currentbrush1);\n</code></pre>\n<p>You are adding to the ArrayList of brush's size the Color of the Path which is Black by default is <em>-16777216</em> so when in <code>draw</code> you set the <strong>strokeWidth</strong> to a negative value it uses the Paint current value. So create a <code>static int strokeWidth</code> inside <code>display2</code> and add to all your brush methods <code>strokeWidth = //width number;</code> like so</p>\n<pre><code>public void SmallBrush1(View view){\n    paintbrush1.setStrokeWidth(10f);\n    strokeWidth = 10; //ADD THIS\n    paintbrush1.setColor(Color.BLACK);\n    \n    currentColor1(paintbrush1.getColor());\n}\n</code></pre>\n<p>Do for all your brush methods</p>\n<p>So change this</p>\n<pre><code>brushList1.add(currentbrush1);\n</code></pre>\n<p>to</p>\n<pre><code>brushList1.add(strokeWidth);\n</code></pre>\n<p>this should fix your problem</p>\n<p>Hope that helps</p>\n"}],"owner":{"account_id":18295346,"reputation":23,"user_id":13321402,"display_name":"Kuga Terunori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72496048,"answer_count":1,"score":0,"last_activity_date":1654299708,"creation_date":1654279209,"question_id":72493484,"body_markdown":"In my Application if the brush size is selected it changes the brush size but it also changes the size of the brush inside the canvas how to make it so that the brush size inside the canvas doesn&#39;t change.\r\n\r\n**This is my code for the EasyOne.Java - This contains contain the brushsizes:**\r\n\r\n    import static com.example.artbit.display2.colorList1;\r\n    import static com.example.artbit.display2.currentbrush1;\r\n    import static com.example.artbit.display2.pathlist1;\r\n\r\n    public class EasyOne extends AppCompatActivity {\r\n    public static Path path1 = new Path();\r\n\r\n    public static Paint paintbrush1 = new Paint();\r\n    public static String brushsize1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_easy_one);\r\n\r\n**This is for the brushes**\r\n  \r\n    public void SmallBrush1(View view){\r\n        paintbrush1.setStrokeWidth(10f);\r\n        paintbrush1.setColor(Color.BLACK);\r\n\r\n        currentColor1(paintbrush1.getColor());\r\n    }\r\n\r\n    public static void BigBrush1(View view){\r\n       /* brushsize1 = &quot;1&quot;;\r\n\r\n        paintbrush1.setColor(Color.BLACK);\r\n        currentColor1(paintbrush1.getColor());*/\r\n\r\n\r\n        paintbrush1.setStrokeWidth(50f);\r\n        currentColor1(paintbrush1.getColor());\r\n    }\r\n\r\n    public void Brush1(View view) {\r\n\r\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.selecttools);\r\n        mediaPlayer.start();\r\n\r\n        paintbrush1.setStrokeWidth(20f);\r\n        paintbrush1.setColor(Color.BLACK);\r\n        currentColor1(paintbrush1.getColor());\r\n    }\r\n\r\n    public void Clear1(View view){\r\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.selecttools);\r\n        mediaPlayer.start();\r\n\r\n        pathlist1.clear();\r\n        path1.reset();\r\n        colorList1.clear();\r\n\r\n    }\r\n\r\n\r\n\r\n   \r\n    public static void currentColor1 (int c){\r\n        currentbrush1 = c;\r\n        path1 = new Path();\r\n    }\r\n\r\n    public static void currentsizebrush1(int c){\r\n        currentbrush1 = c;\r\n        path1 = new Path();\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n**and this is the code for display which is the canvas this contains the pathlist and arrays for colors**\r\n\r\n    import static com.example.artbit.EasyOne.paintbrush1;\r\n    import static com.example.artbit.EasyOne.path1;\r\n    import static com.example.artbit.EasyOne.brushsize1;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Path;\r\n    \r\n    public class display2 extends View {\r\n    \r\n    public static MediaPlayer player;\r\n        public static ArrayList&lt;Path&gt; pathlist1 = new ArrayList&lt;&gt;();\r\n        public static ArrayList&lt;Path&gt; pathlist2 = new ArrayList&lt;&gt;();\r\n        public static ArrayList&lt;Integer&gt; brushList1 = new ArrayList&lt;&gt;();\r\n        public static ArrayList&lt;Integer&gt; colorList1 = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        public ViewGroup.LayoutParams params;\r\n    \r\n        public static int currentbrush1 = Color.BLACK;\r\n    \r\n        public display2(Context context) {\r\n            super(context);\r\n            init(context);\r\n        }\r\n    \r\n        public display2(Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init(context);\r\n        }\r\n    \r\n        public display2(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init(context);\r\n        }\r\n    \r\n        private void init(Context context){\r\n            \r\n                paintbrush1.setAntiAlias(true);\r\n                paintbrush1.setColor(Color.BLACK);\r\n                paintbrush1.setStyle(Paint.Style.STROKE);\r\n                paintbrush1.setStrokeCap(Paint.Cap.ROUND);\r\n                paintbrush1.setStrokeJoin(Paint.Join.ROUND);\r\n                paintbrush1.setStrokeWidth(10f);\r\n            \r\n    \r\n    \r\n    \r\n    \r\n            params = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n    \r\n            float x = event.getX();\r\n            float y = event.getY();\r\n    \r\n            switch (event.getAction()){\r\n                case MotionEvent.ACTION_DOWN:\r\n                    path1.moveTo(x,y);\r\n    \r\n    \r\n                    invalidate();\r\n                    return true;\r\n    \r\n                case MotionEvent.ACTION_MOVE:\r\n                    path1.lineTo(x,y);\r\n    \r\n    \r\n                    pathlist1.add(path1);\r\n    \r\n    \r\n                    colorList1.add(currentbrush1);\r\n                    brushList1.add(currentbrush1);\r\n    \r\n                    invalidate();\r\n                    return true;\r\n                    default:\r\n                    return false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(android.graphics.Canvas canvas) {\r\n            for (int i=0; i&lt;pathlist1.size(); i++){\r\n                paintbrush1.setColor(colorList1.get(i));\r\n                paintbrush1.setStrokeWidth(brushList1.get(i));\r\n                canvas.drawPath(pathlist1.get(i),paintbrush1);\r\n                invalidate();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n \r\n\r\n","title":"Android Studio Changing brush sizes","body":"<p>In my Application if the brush size is selected it changes the brush size but it also changes the size of the brush inside the canvas how to make it so that the brush size inside the canvas doesn't change.</p>\n<p><strong>This is my code for the EasyOne.Java - This contains contain the brushsizes:</strong></p>\n<pre><code>import static com.example.artbit.display2.colorList1;\nimport static com.example.artbit.display2.currentbrush1;\nimport static com.example.artbit.display2.pathlist1;\n\npublic class EasyOne extends AppCompatActivity {\npublic static Path path1 = new Path();\n\npublic static Paint paintbrush1 = new Paint();\npublic static String brushsize1;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_easy_one);\n</code></pre>\n<p><strong>This is for the brushes</strong></p>\n<pre><code>public void SmallBrush1(View view){\n    paintbrush1.setStrokeWidth(10f);\n    paintbrush1.setColor(Color.BLACK);\n\n    currentColor1(paintbrush1.getColor());\n}\n\npublic static void BigBrush1(View view){\n   /* brushsize1 = &quot;1&quot;;\n\n    paintbrush1.setColor(Color.BLACK);\n    currentColor1(paintbrush1.getColor());*/\n\n\n    paintbrush1.setStrokeWidth(50f);\n    currentColor1(paintbrush1.getColor());\n}\n\npublic void Brush1(View view) {\n\n    MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.selecttools);\n    mediaPlayer.start();\n\n    paintbrush1.setStrokeWidth(20f);\n    paintbrush1.setColor(Color.BLACK);\n    currentColor1(paintbrush1.getColor());\n}\n\npublic void Clear1(View view){\n    MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.selecttools);\n    mediaPlayer.start();\n\n    pathlist1.clear();\n    path1.reset();\n    colorList1.clear();\n\n}\n\n\n\n\npublic static void currentColor1 (int c){\n    currentbrush1 = c;\n    path1 = new Path();\n}\n\npublic static void currentsizebrush1(int c){\n    currentbrush1 = c;\n    path1 = new Path();\n\n}\n</code></pre>\n<p>}</p>\n<p><strong>and this is the code for display which is the canvas this contains the pathlist and arrays for colors</strong></p>\n<pre><code>import static com.example.artbit.EasyOne.paintbrush1;\nimport static com.example.artbit.EasyOne.path1;\nimport static com.example.artbit.EasyOne.brushsize1;\nimport android.graphics.Paint;\nimport android.graphics.Path;\n\npublic class display2 extends View {\n\npublic static MediaPlayer player;\n    public static ArrayList&lt;Path&gt; pathlist1 = new ArrayList&lt;&gt;();\n    public static ArrayList&lt;Path&gt; pathlist2 = new ArrayList&lt;&gt;();\n    public static ArrayList&lt;Integer&gt; brushList1 = new ArrayList&lt;&gt;();\n    public static ArrayList&lt;Integer&gt; colorList1 = new ArrayList&lt;&gt;();\n\n\n    public ViewGroup.LayoutParams params;\n\n    public static int currentbrush1 = Color.BLACK;\n\n    public display2(Context context) {\n        super(context);\n        init(context);\n    }\n\n    public display2(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init(context);\n    }\n\n    public display2(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context);\n    }\n\n    private void init(Context context){\n        \n            paintbrush1.setAntiAlias(true);\n            paintbrush1.setColor(Color.BLACK);\n            paintbrush1.setStyle(Paint.Style.STROKE);\n            paintbrush1.setStrokeCap(Paint.Cap.ROUND);\n            paintbrush1.setStrokeJoin(Paint.Join.ROUND);\n            paintbrush1.setStrokeWidth(10f);\n        \n\n\n\n\n        params = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()){\n            case MotionEvent.ACTION_DOWN:\n                path1.moveTo(x,y);\n\n\n                invalidate();\n                return true;\n\n            case MotionEvent.ACTION_MOVE:\n                path1.lineTo(x,y);\n\n\n                pathlist1.add(path1);\n\n\n                colorList1.add(currentbrush1);\n                brushList1.add(currentbrush1);\n\n                invalidate();\n                return true;\n                default:\n                return false;\n        }\n    }\n\n    @Override\n    protected void onDraw(android.graphics.Canvas canvas) {\n        for (int i=0; i&lt;pathlist1.size(); i++){\n            paintbrush1.setColor(colorList1.get(i));\n            paintbrush1.setStrokeWidth(brushList1.get(i));\n            canvas.drawPath(pathlist1.get(i),paintbrush1);\n            invalidate();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495446316,"creation_date":1475451410,"answer_id":39822821,"question_id":39822532,"body_markdown":"The `doNothing` method doesn&#39;t change the behaviour of a `mocked&#39; method, but the declaration of the `doThrow` does. If you have a spy and don&#39;t want a method to be executed, then `doNothing` will change the behaviour.","title":"Mockito, Usages of doNothing() When()","body":"<p>The <code>doNothing</code> method doesn't change the behaviour of a <code>mocked' method, but the declaration of the</code>doThrow<code>does. If you have a spy and don't want a method to be executed, then</code>doNothing` will change the behaviour.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475459173,"creation_date":1475459173,"answer_id":39823532,"question_id":39822532,"body_markdown":"A few points, numbered just for ease of reference:\r\n\r\n 1. The default behavior of a _mock_ is to return an appropriate dummy value every time, often zero, `null`, or an empty string. The default behavior of a spy is to call the spy&#39;s real implementation. Of course, through parameters to `@Mock` or `Mockito.mock`, you can use an arbitrary Answer or any of Mockito&#39;s [standard](http://site.mockito.org/mockito/docs/current/org/mockito/Answers.html) or [additional](http://site.mockito.org/mockito/docs/current/org/mockito/AdditionalAnswers.html) answers.\r\n\r\n 2.  When multiple actions are given as a part of a chain, Mockito will do each action in sequence and forever repeat the final action.\r\n\r\n        // calls to foo.bar() return 1, 2, 3, 3, 3...\r\n        doReturn(1).thenReturn(2, 3).when(foo).bar();\r\n\r\n    Note that this is within the same chain; the most-recently-defined matching chain wins, so separate statements wouldn&#39;t have the same effect.\r\n\r\n        doReturn(1).thenReturn(2).when(foo).baz();\r\n        doReturn(3).thenReturn(4).when(foo).baz();\r\n        // calls return 3, 4, 4, 4... because the first chain is entirely overridden.\r\n\r\n 3. `doNothing`, then, gets most of its value from either _overriding default behavior_ or _setting up an action in a chain_.\r\n\r\nSo what the test is _trying_ to do is to `doNothing` the first time such that the verification will succeed, and then `doThrow` the second time to satisfy the expected exception. Though a failed `verify` would (correctly) fail the test because [Mockito&#39;s errors subclass Error and not Exception](http://site.mockito.org/mockito/docs/current/org/mockito/exceptions/base/MockitoAssertionError.html), you&#39;re right that a removal of the `doNothing` would still cause the test to pass by throwing the exception on the first call to `a.usesVoidMethod()`. Though this is fine enough for the test--after all, you can see the `doNothing` in the test itself--a more robust test might look like this:\r\n\r\n    @Test\r\n    public void testConsecutiveCalls() throws Exception(){\r\n      doNothing().doThrow(SomeKnownException.class).when(b).voidMethod();\r\n      a.usesVoidMethod();\r\n      verify(b).voidMethod();\r\n      try {\r\n        a.usesVoidMethod();\r\n        fail();\r\n      } catch (SomeKnownException expected) { /* OK */ }\r\n    }","title":"Mockito, Usages of doNothing() When()","body":"<p>A few points, numbered just for ease of reference:</p>\n\n<ol>\n<li><p>The default behavior of a <em>mock</em> is to return an appropriate dummy value every time, often zero, <code>null</code>, or an empty string. The default behavior of a spy is to call the spy's real implementation. Of course, through parameters to <code>@Mock</code> or <code>Mockito.mock</code>, you can use an arbitrary Answer or any of Mockito's <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Answers.html\" rel=\"noreferrer\">standard</a> or <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/AdditionalAnswers.html\" rel=\"noreferrer\">additional</a> answers.</p></li>\n<li><p>When multiple actions are given as a part of a chain, Mockito will do each action in sequence and forever repeat the final action.</p>\n\n<pre><code>// calls to foo.bar() return 1, 2, 3, 3, 3...\ndoReturn(1).thenReturn(2, 3).when(foo).bar();\n</code></pre>\n\n<p>Note that this is within the same chain; the most-recently-defined matching chain wins, so separate statements wouldn't have the same effect.</p>\n\n<pre><code>doReturn(1).thenReturn(2).when(foo).baz();\ndoReturn(3).thenReturn(4).when(foo).baz();\n// calls return 3, 4, 4, 4... because the first chain is entirely overridden.\n</code></pre></li>\n<li><p><code>doNothing</code>, then, gets most of its value from either <em>overriding default behavior</em> or <em>setting up an action in a chain</em>.</p></li>\n</ol>\n\n<p>So what the test is <em>trying</em> to do is to <code>doNothing</code> the first time such that the verification will succeed, and then <code>doThrow</code> the second time to satisfy the expected exception. Though a failed <code>verify</code> would (correctly) fail the test because <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/exceptions/base/MockitoAssertionError.html\" rel=\"noreferrer\">Mockito's errors subclass Error and not Exception</a>, you're right that a removal of the <code>doNothing</code> would still cause the test to pass by throwing the exception on the first call to <code>a.usesVoidMethod()</code>. Though this is fine enough for the test--after all, you can see the <code>doNothing</code> in the test itself--a more robust test might look like this:</p>\n\n<pre><code>@Test\npublic void testConsecutiveCalls() throws Exception(){\n  doNothing().doThrow(SomeKnownException.class).when(b).voidMethod();\n  a.usesVoidMethod();\n  verify(b).voidMethod();\n  try {\n    a.usesVoidMethod();\n    fail();\n  } catch (SomeKnownException expected) { /* OK */ }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654299691,"creation_date":1654299691,"answer_id":72496092,"question_id":39822532,"body_markdown":"This test is a poor test because (a) it doesn&#39;t make much sense, (b) it&#39;s testing two different things:\r\n\r\n1. `a.usesVoidMethod()` calls `b.voidMethod()`.\r\n2. When the dependency `b` throws a `Exception`, the object under test `a` throws a `RuntimeException`.\r\n\r\nand (c), it&#39;s named incorrectly.  It&#39;s testing the two things above independently, and the fact that they&#39;re consecutive calls is irrelevant.\r\n\r\nIf you remove the first line of this test method, then you remove the behavior of `b` that is being mocked.  The test will then fail since a void method call on a mock will do nothing by default; i.e., there will be no `Exception` from `b`, and thus no `RuntimeException` from `a`.\r\n\r\nYou are correct that if `a` was actually coded so that it threw a `RuntimeException` if it was called twice, then the mocking of `b` would not be needed.  But that would be even less reasonable than it is already.","title":"Mockito, Usages of doNothing() When()","body":"<p>This test is a poor test because (a) it doesn't make much sense, (b) it's testing two different things:</p>\n<ol>\n<li><code>a.usesVoidMethod()</code> calls <code>b.voidMethod()</code>.</li>\n<li>When the dependency <code>b</code> throws a <code>Exception</code>, the object under test <code>a</code> throws a <code>RuntimeException</code>.</li>\n</ol>\n<p>and (c), it's named incorrectly.  It's testing the two things above independently, and the fact that they're consecutive calls is irrelevant.</p>\n<p>If you remove the first line of this test method, then you remove the behavior of <code>b</code> that is being mocked.  The test will then fail since a void method call on a mock will do nothing by default; i.e., there will be no <code>Exception</code> from <code>b</code>, and thus no <code>RuntimeException</code> from <code>a</code>.</p>\n<p>You are correct that if <code>a</code> was actually coded so that it threw a <code>RuntimeException</code> if it was called twice, then the mocking of <code>b</code> would not be needed.  But that would be even less reasonable than it is already.</p>\n"}],"owner":{"account_id":6780537,"reputation":105,"user_id":5220958,"accept_rate":0,"display_name":"MIKE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654299691,"creation_date":1475448578,"question_id":39822532,"body_markdown":"I&#39;m new to Mockito, and I went over this example but there is one step that I do not understand when it calls `doNothing()` on the first line of the method:\r\n\r\n\r\n    @Test(expected = RuntimeException.class)\r\n    public void testConsecutiveCalls() throws Exception(){\r\n      doNothing().doThrow(Exception.class).when(b).voidMethod();\r\n      a.usesVoidMethod()\r\n      verify(b).voidMethod();\r\n      a.usesVoidMethod()\r\n    }\r\n\r\n\r\nI do understand that when the first time `voidMehtod()` is called is returning nothing and in the second time it is giving an exception.\r\n\r\nBut if we remove the `doNothing.doThrow(Exception.class).when(b).voidMethod();`, won&#39;t the test still be valid and will test what we want to test that the method throw an exception in the second time? ","title":"Mockito, Usages of doNothing() When()","body":"<p>I'm new to Mockito, and I went over this example but there is one step that I do not understand when it calls <code>doNothing()</code> on the first line of the method:</p>\n\n<pre><code>@Test(expected = RuntimeException.class)\npublic void testConsecutiveCalls() throws Exception(){\n  doNothing().doThrow(Exception.class).when(b).voidMethod();\n  a.usesVoidMethod()\n  verify(b).voidMethod();\n  a.usesVoidMethod()\n}\n</code></pre>\n\n<p>I do understand that when the first time <code>voidMehtod()</code> is called is returning nothing and in the second time it is giving an exception.</p>\n\n<p>But if we remove the <code>doNothing.doThrow(Exception.class).when(b).voidMethod();</code>, won't the test still be valid and will test what we want to test that the method throw an exception in the second time? </p>\n"},{"tags":["java","spring-boot","cassandra","datastax"],"owner":{"account_id":2848563,"reputation":23,"user_id":2446250,"display_name":"PickleR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654298948,"creation_date":1654298948,"question_id":72496030,"body_markdown":"I am trying to get data directly from the Cassandra and store it using model class but failing to do so. I am able to do it by object mapper which I am not trying to use to keep the number of lines less as possible. I tried many stack answers but none of them worked. I am still new to Cassandra and not sure if this could be achieved. Please go easy on me, Thanks!\r\n\r\n**This is my model class**\r\n```\r\n@Table(&quot;ticket_data&quot;)\r\npublic class TicketData {\r\n\r\n    @PrimaryKeyColumn(name=&quot;user_id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String customerId;\r\n\r\n    @Column(&quot;tickets&quot;)\r\n    private Set&lt;Map&lt;String, Double&gt;&gt; tickets;\r\n\r\n}\r\n```\r\n**My repositoryClass**\r\n```\r\n@Repository\r\npublic interface TicketDataRepository extends CrudRepository&lt;TicketData, String&gt; {\r\n\r\n    @Query(&quot;SELECT * FROM ticket_data WHERE customerId=?0 LIMIT 1&quot;)\r\n    TicketData findByCustomerId(String customerId);\r\n}\r\n```\r\n\r\n**Table Schema**\r\n```\r\ncreate table ticket_data\r\n(\r\n    customerId            text primary key,\r\n    tickets               set&lt;frozen&lt;map&lt;text, double&gt;&gt;&gt;\r\n)\r\n```\r\n\r\n**Error that I am getting:**\r\n```\r\nCodec not found for requested operation: [map&lt;varchar, double&gt; &lt;-&gt; java.util.Map]; nested exception is com.datastax.driver.core.exceptions.CodecNotFoundException: Codec not found for requested operation: [map&lt;varchar, double&gt; &lt;-&gt; java.util.Map]\r\n\r\n```","title":"Getting codec registry error &quot;Codec not found for requested operation: [map&lt;varchar, double&gt; &lt;-&gt; java.util.Map]&quot; when not using ObjectMapper","body":"<p>I am trying to get data directly from the Cassandra and store it using model class but failing to do so. I am able to do it by object mapper which I am not trying to use to keep the number of lines less as possible. I tried many stack answers but none of them worked. I am still new to Cassandra and not sure if this could be achieved. Please go easy on me, Thanks!</p>\n<p><strong>This is my model class</strong></p>\n<pre><code>@Table(&quot;ticket_data&quot;)\npublic class TicketData {\n\n    @PrimaryKeyColumn(name=&quot;user_id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String customerId;\n\n    @Column(&quot;tickets&quot;)\n    private Set&lt;Map&lt;String, Double&gt;&gt; tickets;\n\n}\n</code></pre>\n<p><strong>My repositoryClass</strong></p>\n<pre><code>@Repository\npublic interface TicketDataRepository extends CrudRepository&lt;TicketData, String&gt; {\n\n    @Query(&quot;SELECT * FROM ticket_data WHERE customerId=?0 LIMIT 1&quot;)\n    TicketData findByCustomerId(String customerId);\n}\n</code></pre>\n<p><strong>Table Schema</strong></p>\n<pre><code>create table ticket_data\n(\n    customerId            text primary key,\n    tickets               set&lt;frozen&lt;map&lt;text, double&gt;&gt;&gt;\n)\n</code></pre>\n<p><strong>Error that I am getting:</strong></p>\n<pre><code>Codec not found for requested operation: [map&lt;varchar, double&gt; &lt;-&gt; java.util.Map]; nested exception is com.datastax.driver.core.exceptions.CodecNotFoundException: Codec not found for requested operation: [map&lt;varchar, double&gt; &lt;-&gt; java.util.Map]\n\n</code></pre>\n"},{"tags":["java","spring-boot","shell"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654298891,"creation_date":1654298891,"answer_id":72496027,"question_id":72495169,"body_markdown":"First, code that you posted doesn&#39;t compile.\r\n\r\nWhen you write this line of code:\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);\r\n\r\nProcess is executed, but you need to write code that will display result of this process in console.\r\n\r\nYou can get result of process by calling :\r\n\r\n     process.getInputStream()\r\n`getInputStream()` method gets the input stream of the subprocess. The stream obtains data piped from the standard output stream of the process represented by Process object.\r\n\r\nThird,  to display all directories in C drive, you should use this path:\r\n\r\n    Process process = Runtime.getRuntime().exec(String.format(&quot;cmd /c dir %s&quot;, &quot;C:\\\\&quot;));\r\n\r\n\r\nTo summarize, if you want to see all directories in your C: drive, first you will need to create a class which will used to output result of process to java console as I mentioned above.\r\nLet&#39;s call that class `HelperReader`.\r\n\r\nHere is the code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.function.Consumer;\r\n    \r\n    public  class HelperReader implements Runnable {\r\n        private InputStream inputStream;\r\n        private Consumer&lt;String&gt; consumer;\r\n    \r\n        public HelperReader(InputStream inputStream, Consumer&lt;String&gt; consumer) {\r\n            this.inputStream = inputStream;\r\n            this.consumer = consumer;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            new BufferedReader(new InputStreamReader(inputStream)).lines()\r\n                    .forEach(consumer);\r\n        }\r\n    }\r\n\r\n\r\nChange code in your `Application` class to something like this:\r\n\r\n\r\n       import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner  {\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n    \r\n         \r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            Process process = Runtime.getRuntime().exec(String.format(&quot;cmd /c dir %s&quot;, &quot;C:\\\\&quot;));\r\n            HelperReader streamGobbler =\r\n                    new HelperReader(process.getInputStream(), System.out::println);\r\n            Executors.newSingleThreadExecutor().submit(streamGobbler);\r\n    \r\n        }\r\n    }\r\n\r\nRun the application and you should see something like following picture in console.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZgW6.png","title":"Command not running in Spring-Boot application","body":"<p>First, code that you posted doesn't compile.</p>\n<p>When you write this line of code:</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);\n</code></pre>\n<p>Process is executed, but you need to write code that will display result of this process in console.</p>\n<p>You can get result of process by calling :</p>\n<pre><code> process.getInputStream()\n</code></pre>\n<p><code>getInputStream()</code> method gets the input stream of the subprocess. The stream obtains data piped from the standard output stream of the process represented by Process object.</p>\n<p>Third,  to display all directories in C drive, you should use this path:</p>\n<pre><code>Process process = Runtime.getRuntime().exec(String.format(&quot;cmd /c dir %s&quot;, &quot;C:\\\\&quot;));\n</code></pre>\n<p>To summarize, if you want to see all directories in your C: drive, first you will need to create a class which will used to output result of process to java console as I mentioned above.\nLet's call that class <code>HelperReader</code>.</p>\n<p>Here is the code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.function.Consumer;\n\npublic  class HelperReader implements Runnable {\n    private InputStream inputStream;\n    private Consumer&lt;String&gt; consumer;\n\n    public HelperReader(InputStream inputStream, Consumer&lt;String&gt; consumer) {\n        this.inputStream = inputStream;\n        this.consumer = consumer;\n    }\n\n    @Override\n    public void run() {\n        new BufferedReader(new InputStreamReader(inputStream)).lines()\n                .forEach(consumer);\n    }\n}\n</code></pre>\n<p>Change code in your <code>Application</code> class to something like this:</p>\n<pre><code>   import org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport java.util.concurrent.Executors;\n\n@SpringBootApplication\npublic class Application implements CommandLineRunner  {\n\n\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n\n     \n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        Process process = Runtime.getRuntime().exec(String.format(&quot;cmd /c dir %s&quot;, &quot;C:\\\\&quot;));\n        HelperReader streamGobbler =\n                new HelperReader(process.getInputStream(), System.out::println);\n        Executors.newSingleThreadExecutor().submit(streamGobbler);\n\n    }\n}\n</code></pre>\n<p>Run the application and you should see something like following picture in console.\n<a href=\"https://i.stack.imgur.com/yZgW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZgW6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":955858,"reputation":127,"user_id":981182,"accept_rate":33,"display_name":"Yi Qian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72496027,"answer_count":1,"score":0,"last_activity_date":1654298891,"creation_date":1654290528,"question_id":72495169,"body_markdown":"I created a simplest Spring-Boot application to test running command, see the completed code below, after click `Run &#39;Application&#39;` in InteliJ, console ends up with `Process finished with exit code 0`, no directory structures in console display.    \r\n\r\nRun `dir c:` in terminal returns all the files and directories, seems `Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);` does not run at all.\r\n\r\nI put `process = Runtime.getRuntime().exec(&quot;dir C:&quot;);`, running application again, this time console output ends up with `java.io.IOException: CreateProcess error=2`, apparently Java runtime recognized command as invalid.\r\n\r\nWhy `Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);` does not return any result?\r\n\r\n    package\r\n\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\t    public static void main(String[] args) { SpringApplication.run(Application.class); }\r\n\t\r\n\t    @Bean\r\n\t    public CommandLineRunner CommandLineRunnerBean() {\r\n\t\t    return (args) -&gt; {\r\n\t\t\t    Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);\r\n\t//\t\t    process = Runtime.getRuntime().exec(&quot;dir C:&quot;);\r\n\t\t    }\r\n\t    }\r\n    }\r\n","title":"Command not running in Spring-Boot application","body":"<p>I created a simplest Spring-Boot application to test running command, see the completed code below, after click <code>Run 'Application'</code> in InteliJ, console ends up with <code>Process finished with exit code 0</code>, no directory structures in console display.</p>\n<p>Run <code>dir c:</code> in terminal returns all the files and directories, seems <code>Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);</code> does not run at all.</p>\n<p>I put <code>process = Runtime.getRuntime().exec(&quot;dir C:&quot;);</code>, running application again, this time console output ends up with <code>java.io.IOException: CreateProcess error=2</code>, apparently Java runtime recognized command as invalid.</p>\n<p>Why <code>Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);</code> does not return any result?</p>\n<pre><code>package\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) { SpringApplication.run(Application.class); }\n\n    @Bean\n    public CommandLineRunner CommandLineRunnerBean() {\n        return (args) -&gt; {\n            Process process = Runtime.getRuntime().exec(&quot;cmd /c dir C:&quot;);\n//          process = Runtime.getRuntime().exec(&quot;dir C:&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","compareto"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1654298469,"post_id":72495981,"comment_id":128065790,"body_markdown":"Yes, you have a loose `&gt;` after `o.getValue()` which shouldn&#39;t be there. Remove it.","body":"Yes, you have a loose <code>&gt;</code> after <code>o.getValue()</code> which shouldn&#39;t be there. Remove it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1654300845,"post_id":72495981,"comment_id":128066097,"body_markdown":"Java doesn&#39;t support operator overloading by the user. You can&#39;t use `&gt;` and such with implementations of `Comparable`. You have to call the `compareTo` method and inspect the result.","body":"Java doesn&#39;t support operator overloading by the user. You can&#39;t use <code>&gt;</code> and such with implementations of <code>Comparable</code>. You have to call the <code>compareTo</code> method and inspect the result."}],"owner":{"account_id":25468941,"reputation":11,"user_id":19267488,"display_name":"MickeyCoote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654298627,"answer_count":0,"score":1,"last_activity_date":1654298809,"creation_date":1654298290,"question_id":72495981,"body_markdown":"i&#39;m trying to run this but i can&#39;t compare that type with &lt; or &gt; it gets this error:\r\nThe operator &gt; is undefined for the argument type(s) T, T, anytips on how to fix it????????????????????????????\r\n\r\n    public class GenericElement&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;GenericElement&lt;T&gt;&gt;\r\n{    \r\n\t\r\n\tprivate GenericElement next;\r\n\tprivate T value; \r\n\t\r\n\tpublic GenericElement(T value, GenericElement next) {\r\n\t\tthis.value = value;\r\n\t\tthis.next = next;\r\n\t}\r\n\t\r\n\tpublic GenericElement getNext() {\t\r\n\t\treturn next;\r\n\t}\r\n\t\r\n\tpublic void setNext(GenericElement next) {\r\n\t\tthis.next = next;\r\n\t}\r\n\t\r\n\tpublic T getValue() {\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\tpublic void setValue(T value) {\r\n\t\tthis.value = value;\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic int compareTo(GenericElement&lt;T&gt; o) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tif(o.getValue()&gt;this.getValue()) //i get error here The operator &gt; is undefined for the argument type(s) T, T {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\telse if(o.getValue()==this.getValue()) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n \r\n   }\r\n\r\n","title":"comparing generic types java, compareto override","body":"<p>i'm trying to run this but i can't compare that type with &lt; or &gt; it gets this error:\nThe operator &gt; is undefined for the argument type(s) T, T, anytips on how to fix it????????????????????????????</p>\n<pre><code>public class GenericElement&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;GenericElement&lt;T&gt;&gt;\n</code></pre>\n<p>{</p>\n<pre><code>private GenericElement next;\nprivate T value; \n\npublic GenericElement(T value, GenericElement next) {\n    this.value = value;\n    this.next = next;\n}\n\npublic GenericElement getNext() {   \n    return next;\n}\n\npublic void setNext(GenericElement next) {\n    this.next = next;\n}\n\npublic T getValue() {\n    return value;\n}\n\npublic void setValue(T value) {\n    this.value = value;\n}\n\n\n@Override\npublic int compareTo(GenericElement&lt;T&gt; o) {\n    // TODO Auto-generated method stub\n    if(o.getValue()&gt;this.getValue()) //i get error here The operator &gt; is undefined for the argument type(s) T, T {\n        return -1;\n    }\n    else if(o.getValue()==this.getValue()) {\n        return 0;\n    }\n    else {\n        return 1;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654295639,"creation_date":1654294730,"answer_id":72495649,"question_id":72495117,"body_markdown":"See [Cryptographic Strength Configuration](https://docs.oracle.com/en/java/javase/11/security/java-cryptography-architecture-jca-reference-guide.html#GUID-EFA5AC2D-644E-4CD9-8523-C6D3936D5FB1) ...and build the path with `$JAVA_HOME`.\r\n\r\nOn Linux the default paths are: \r\n\r\n - JDK8: `$JAVA_HOME/jre/lib/security/java.security`\r\n - JDK11: `$JAVA_HOME/conf/security`\r\n - JDK14: `$JAVA_HOME/conf/security`, mostly sym-linked to `/etc/java-14-openjdk/security`.\r\n\r\n&quot;Jurisdiction Policy File&quot; `java.security` should have `crypto.policy = unlimited` set from JDK9 onwards; policies can be found `$JAVA_HOME/conf/security/unlimited/default_US_export.policy`.","title":"SecurityException: Can not initialize cryptographic mechanism","body":"<p>See <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-cryptography-architecture-jca-reference-guide.html#GUID-EFA5AC2D-644E-4CD9-8523-C6D3936D5FB1\" rel=\"nofollow noreferrer\">Cryptographic Strength Configuration</a> ...and build the path with <code>$JAVA_HOME</code>.</p>\n<p>On Linux the default paths are:</p>\n<ul>\n<li>JDK8: <code>$JAVA_HOME/jre/lib/security/java.security</code></li>\n<li>JDK11: <code>$JAVA_HOME/conf/security</code></li>\n<li>JDK14: <code>$JAVA_HOME/conf/security</code>, mostly sym-linked to <code>/etc/java-14-openjdk/security</code>.</li>\n</ul>\n<p>&quot;Jurisdiction Policy File&quot; <code>java.security</code> should have <code>crypto.policy = unlimited</code> set from JDK9 onwards; policies can be found <code>$JAVA_HOME/conf/security/unlimited/default_US_export.policy</code>.</p>\n"}],"owner":{"account_id":2435926,"reputation":21157,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72495649,"answer_count":1,"score":0,"last_activity_date":1654298464,"creation_date":1654290014,"question_id":72495117,"body_markdown":"I need to fix the problem of\r\n\r\n`SecurityException: Can not initialize cryptographic mechanism`\r\n\r\nFollowing up on https://stackoverflow.com/questions/58182231/openjdk-11-error-can-not-initialize-cryptographic-mechanism, as its answer is unable to solve my problem\r\n\r\n&gt; inspecting  `java.security.properties` from within running JVM:\r\n&gt; \r\n&gt;         System.getProperty(&quot;java.security.properties&quot;);\r\n&gt; \r\n&gt;  It should be present and pointing at a file. Inspect that file and make sure it has the following property `crypto.policy=unlimited` and the folder called **unlimited** is available from where the policy file is. \r\n\r\nHowever, I got `null` output for both java under Windows and Linux.\r\n\r\nThe above answer said that\r\n\r\nit is `&lt;jre_home&gt;/conf/security/policy/`\r\n\r\nand my situation is that I don&#39;t have `jre` however I do have the `/conf/security/policy/` directory under `java_home`, for both java under Windows and Linux.\r\n\r\n```\r\n Directory of C:\\Program Files\\OpenJDK\\jdk-18.0.1.1\\conf\\security\\policy\r\n\r\n04/25/2022  04:59 PM    &lt;DIR&gt;          .\r\n04/25/2022  04:59 PM    &lt;DIR&gt;          ..\r\n04/25/2022  04:59 PM    &lt;DIR&gt;          limited\r\n04/25/2022  04:59 PM             2,390 README.txt\r\n04/25/2022  04:59 PM    &lt;DIR&gt;          unlimited\r\n               1 File(s)          2,390 bytes\r\n```\r\n\r\n```\r\n$ ls -l /home/foo/.sdkman/candidates/java/17.0.3-oracle/conf/security/policy\r\ntotal 4\r\n-rw-r----- 1 foo foo 2390 2022-03-09 17:40 READfoo.txt\r\ndrwxrwx--x 1 foo foo 4096 2022-06-03 12:45 limited\r\ndrwxrwx--x 1 foo foo 4096 2022-06-03 12:45 unlimited\r\n```\r\n","title":"SecurityException: Can not initialize cryptographic mechanism","body":"<p>I need to fix the problem of</p>\n<p><code>SecurityException: Can not initialize cryptographic mechanism</code></p>\n<p>Following up on <a href=\"https://stackoverflow.com/questions/58182231/openjdk-11-error-can-not-initialize-cryptographic-mechanism\">OpenJDK 11 error &quot;Can not initialize cryptographic mechanism&quot;</a>, as its answer is unable to solve my problem</p>\n<blockquote>\n<p>inspecting  <code>java.security.properties</code> from within running JVM:</p>\n<pre><code>    System.getProperty(&quot;java.security.properties&quot;);\n</code></pre>\n<p>It should be present and pointing at a file. Inspect that file and make sure it has the following property <code>crypto.policy=unlimited</code> and the folder called <strong>unlimited</strong> is available from where the policy file is.</p>\n</blockquote>\n<p>However, I got <code>null</code> output for both java under Windows and Linux.</p>\n<p>The above answer said that</p>\n<p>it is <code>&lt;jre_home&gt;/conf/security/policy/</code></p>\n<p>and my situation is that I don't have <code>jre</code> however I do have the <code>/conf/security/policy/</code> directory under <code>java_home</code>, for both java under Windows and Linux.</p>\n<pre><code> Directory of C:\\Program Files\\OpenJDK\\jdk-18.0.1.1\\conf\\security\\policy\n\n04/25/2022  04:59 PM    &lt;DIR&gt;          .\n04/25/2022  04:59 PM    &lt;DIR&gt;          ..\n04/25/2022  04:59 PM    &lt;DIR&gt;          limited\n04/25/2022  04:59 PM             2,390 README.txt\n04/25/2022  04:59 PM    &lt;DIR&gt;          unlimited\n               1 File(s)          2,390 bytes\n</code></pre>\n<pre><code>$ ls -l /home/foo/.sdkman/candidates/java/17.0.3-oracle/conf/security/policy\ntotal 4\n-rw-r----- 1 foo foo 2390 2022-03-09 17:40 READfoo.txt\ndrwxrwx--x 1 foo foo 4096 2022-06-03 12:45 limited\ndrwxrwx--x 1 foo foo 4096 2022-06-03 12:45 unlimited\n</code></pre>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654297731,"creation_date":1654297731,"answer_id":72495925,"question_id":72495507,"body_markdown":"You want `batchGetItem()` where you can retrieve up to 100 in one call. The RCU cost is the same but the latency will improved due to less network traffic. You can find an example in the very useful AWS Samples repo:\r\n\r\nhttps://github.com/aws-samples/aws-dynamodb-examples/blob/master/DynamoDB-SDK-Examples/java/WorkingWithItems/BatchGetItem.java","title":"From an String Array of ids get all objects from DynamoDB SDK Java","body":"<p>You want <code>batchGetItem()</code> where you can retrieve up to 100 in one call. The RCU cost is the same but the latency will improved due to less network traffic. You can find an example in the very useful AWS Samples repo:</p>\n<p><a href=\"https://github.com/aws-samples/aws-dynamodb-examples/blob/master/DynamoDB-SDK-Examples/java/WorkingWithItems/BatchGetItem.java\" rel=\"nofollow noreferrer\">https://github.com/aws-samples/aws-dynamodb-examples/blob/master/DynamoDB-SDK-Examples/java/WorkingWithItems/BatchGetItem.java</a></p>\n"}],"owner":{"account_id":20829064,"reputation":186,"user_id":15298806,"display_name":"AMM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654297731,"creation_date":1654293245,"question_id":72495507,"body_markdown":"What I want to achieve is from an String array of ids, get all items with those ids from the DynamoDB.\r\nI actually accomplished that in a very lazy way:\r\n```\r\npublic Note findNote(final String noteID) {\r\n        DynamoDbTable&lt;Note&gt; noteTable = getTable();\r\n        Key key = Key.builder().partitionValue(noteID).build();\r\n\r\n        Note result = noteTable.getItem(key);\r\n        return result;\r\n    }\r\n\r\npublic ArrayList&lt;Note&gt; findNotes(String[] notes){\r\n        ArrayList&lt;Note&gt; notess= new ArrayList&lt;Note&gt;();\r\n        for (int i = 0; i &lt; notes.length; i++) {\r\n           notess.add(findNote(notes[i]));\r\n        }\r\n        return notess;\r\n    }\r\n``` \r\nBut its pretty inefficient, does the work, but for big arrays I will have do as many queries as the array length.\r\n\r\nAny way to do this more efficient or with a single query?\r\n\r\nThanks!\r\n","title":"From an String Array of ids get all objects from DynamoDB SDK Java","body":"<p>What I want to achieve is from an String array of ids, get all items with those ids from the DynamoDB.\nI actually accomplished that in a very lazy way:</p>\n<pre><code>public Note findNote(final String noteID) {\n        DynamoDbTable&lt;Note&gt; noteTable = getTable();\n        Key key = Key.builder().partitionValue(noteID).build();\n\n        Note result = noteTable.getItem(key);\n        return result;\n    }\n\npublic ArrayList&lt;Note&gt; findNotes(String[] notes){\n        ArrayList&lt;Note&gt; notess= new ArrayList&lt;Note&gt;();\n        for (int i = 0; i &lt; notes.length; i++) {\n           notess.add(findNote(notes[i]));\n        }\n        return notess;\n    }\n</code></pre>\n<p>But its pretty inefficient, does the work, but for big arrays I will have do as many queries as the array length.</p>\n<p>Any way to do this more efficient or with a single query?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","awt","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654295441,"post_id":72494708,"comment_id":128065310,"body_markdown":"I&#39;d look towards using `JLayer`, a few examples using the previous iteration of the library `JXLayer`, [example](https://stackoverflow.com/questions/35079444/brightness-implementation-for-jpanel-in-swing/35079995#35079995); [example](https://stackoverflow.com/questions/19799451/java-blocking-focus-from-jcomponent/19801009#19801009); [example](https://stackoverflow.com/questions/29143251/how-to-make-a-blurry-jframe-jdialog-in-java-using-swing-and-jlayer/29143478#29143478)","body":"I&#39;d look towards using <code>JLayer</code>, a few examples using the previous iteration of the library <code>JXLayer</code>, <a href=\"https://stackoverflow.com/questions/35079444/brightness-implementation-for-jpanel-in-swing/35079995#35079995\">example</a>; <a href=\"https://stackoverflow.com/questions/19799451/java-blocking-focus-from-jcomponent/19801009#19801009\">example</a>; <a href=\"https://stackoverflow.com/questions/29143251/how-to-make-a-blurry-jframe-jdialog-in-java-using-swing-and-jlayer/29143478#29143478\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654297596,"creation_date":1654297596,"answer_id":72495918,"question_id":72494708,"body_markdown":"I would start by taking a look at [How to Decorate Components with the JLayer Class](https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html)\r\n\r\n# Blurred...\r\n\r\n    JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new BlurLayerUI());\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public class BlurLayerUI extends LayerUI&lt;JComponent&gt; {\r\n        private BufferedImage mOffscreenImage;\r\n        private BufferedImageOp mOperation;\r\n        \r\n        private int radius = 3;\r\n\r\n        public BlurLayerUI() {            \r\n            int size = radius * 2 + 1;\r\n            float weight = 1.0f / (float)(size * size);\r\n            float[] blurKernel = new float[size * size];\r\n            for (int index = 0; index &lt; blurKernel.length; index++) {\r\n                blurKernel[index] = weight;\r\n            };\r\n            mOperation = new ConvolveOp(\r\n                    new Kernel(size, size, blurKernel),\r\n                    ConvolveOp.EDGE_NO_OP, null);\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g, JComponent c) {\r\n            int w = c.getWidth();\r\n            int h = c.getHeight();\r\n\r\n            if (w == 0 || h == 0) {\r\n                return;\r\n            }\r\n\r\n            // Only create the off-screen image if the one we have\r\n            // is the wrong size.\r\n            if (mOffscreenImage == null\r\n                    || mOffscreenImage.getWidth() != w\r\n                    || mOffscreenImage.getHeight() != h) {\r\n                mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            }\r\n\r\n            Graphics2D ig2 = mOffscreenImage.createGraphics();\r\n            ig2.setClip(g.getClip());\r\n            super.paint(ig2, c);\r\n            ig2.dispose();\r\n\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.drawImage(mOffscreenImage, mOperation, 0, 0);\r\n        }\r\n    }\r\n\r\n*nb: I prefer to use [JH Lab&#39;s filters](http://www.jhlabs.com/ip/filters/index.html) for blurring, it generally produces better results.  [GitHub](https://github.com/ajmas/JH-Labs-Java-Image-Filters), apparently it&#39;s also available in Maven*\r\n\r\n# Alpha...\r\n\r\n    JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new AlphaLayerUI(0.1f));\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    public class AlphaLayerUI extends LayerUI&lt;JComponent&gt; {\r\n        private BufferedImage mOffscreenImage;\r\n        private BufferedImageOp mOperation;\r\n        \r\n        private float alpha;\r\n\r\n        public AlphaLayerUI(float alpha) {            \r\n            this.alpha = alpha;\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g, JComponent c) {\r\n            int w = c.getWidth();\r\n            int h = c.getHeight();\r\n\r\n            if (w == 0 || h == 0) {\r\n                return;\r\n            }\r\n\r\n            // Only create the off-screen image if the one we have\r\n            // is the wrong size.\r\n            if (mOffscreenImage == null\r\n                    || mOffscreenImage.getWidth() != w\r\n                    || mOffscreenImage.getHeight() != h) {\r\n                mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            }\r\n\r\n            Graphics2D ig2 = mOffscreenImage.createGraphics();\r\n            ig2.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n            ig2.setClip(g.getClip());\r\n            super.paint(ig2, c);\r\n            ig2.dispose();\r\n\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.drawImage(mOffscreenImage, mOperation, 0, 0);\r\n        }\r\n    }\r\n\r\n# Combined...\r\n\r\n    JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new SandPaperLayerUI(0.25f));\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    public class SandPaperLayerUI extends LayerUI&lt;JComponent&gt; {\r\n        private BufferedImage mOffscreenImage;\r\n        private BufferedImageOp mOperation;\r\n        \r\n        private int radius = 3;\r\n        private float alpha = 1.0f;\r\n\r\n        public SandPaperLayerUI(float alpha) {            \r\n            this.alpha = alpha;\r\n            int size = radius * 2 + 1;\r\n            float weight = 1.0f / (float)(size * size);\r\n            float[] blurKernel = new float[size * size];\r\n            for (int index = 0; index &lt; blurKernel.length; index++) {\r\n                blurKernel[index] = weight;\r\n            };\r\n            mOperation = new ConvolveOp(\r\n                    new Kernel(size, size, blurKernel),\r\n                    ConvolveOp.EDGE_NO_OP, null);\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g, JComponent c) {\r\n            int w = c.getWidth();\r\n            int h = c.getHeight();\r\n\r\n            if (w == 0 || h == 0) {\r\n                return;\r\n            }\r\n\r\n            // Only create the off-screen image if the one we have\r\n            // is the wrong size.\r\n            if (mOffscreenImage == null\r\n                    || mOffscreenImage.getWidth() != w\r\n                    || mOffscreenImage.getHeight() != h) {\r\n                mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            }\r\n\r\n            Graphics2D ig2 = mOffscreenImage.createGraphics();\r\n            ig2.setComposite(AlphaComposite.SrcOver.derive(alpha));\r\n            ig2.setClip(g.getClip());\r\n            super.paint(ig2, c);\r\n            ig2.dispose();\r\n\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.drawImage(mOffscreenImage, mOperation, 0, 0);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JG8F4.png\r\n  [2]: https://i.stack.imgur.com/ABQE0.png\r\n  [3]: https://i.stack.imgur.com/2TXxR.png","title":"How to create a semi-transparent JButton?","body":"<p>I would start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html\" rel=\"nofollow noreferrer\">How to Decorate Components with the JLayer Class</a></p>\n<h1>Blurred...</h1>\n<pre><code>JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new BlurLayerUI());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JG8F4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JG8F4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class BlurLayerUI extends LayerUI&lt;JComponent&gt; {\n    private BufferedImage mOffscreenImage;\n    private BufferedImageOp mOperation;\n    \n    private int radius = 3;\n\n    public BlurLayerUI() {            \n        int size = radius * 2 + 1;\n        float weight = 1.0f / (float)(size * size);\n        float[] blurKernel = new float[size * size];\n        for (int index = 0; index &lt; blurKernel.length; index++) {\n            blurKernel[index] = weight;\n        };\n        mOperation = new ConvolveOp(\n                new Kernel(size, size, blurKernel),\n                ConvolveOp.EDGE_NO_OP, null);\n    }\n\n    @Override\n    public void paint(Graphics g, JComponent c) {\n        int w = c.getWidth();\n        int h = c.getHeight();\n\n        if (w == 0 || h == 0) {\n            return;\n        }\n\n        // Only create the off-screen image if the one we have\n        // is the wrong size.\n        if (mOffscreenImage == null\n                || mOffscreenImage.getWidth() != w\n                || mOffscreenImage.getHeight() != h) {\n            mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        }\n\n        Graphics2D ig2 = mOffscreenImage.createGraphics();\n        ig2.setClip(g.getClip());\n        super.paint(ig2, c);\n        ig2.dispose();\n\n        Graphics2D g2 = (Graphics2D) g;\n        g2.drawImage(mOffscreenImage, mOperation, 0, 0);\n    }\n}\n</code></pre>\n<p><em>nb: I prefer to use <a href=\"http://www.jhlabs.com/ip/filters/index.html\" rel=\"nofollow noreferrer\">JH Lab's filters</a> for blurring, it generally produces better results.  <a href=\"https://github.com/ajmas/JH-Labs-Java-Image-Filters\" rel=\"nofollow noreferrer\">GitHub</a>, apparently it's also available in Maven</em></p>\n<h1>Alpha...</h1>\n<pre><code>JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new AlphaLayerUI(0.1f));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ABQE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABQE0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class AlphaLayerUI extends LayerUI&lt;JComponent&gt; {\n    private BufferedImage mOffscreenImage;\n    private BufferedImageOp mOperation;\n    \n    private float alpha;\n\n    public AlphaLayerUI(float alpha) {            \n        this.alpha = alpha;\n    }\n\n    @Override\n    public void paint(Graphics g, JComponent c) {\n        int w = c.getWidth();\n        int h = c.getHeight();\n\n        if (w == 0 || h == 0) {\n            return;\n        }\n\n        // Only create the off-screen image if the one we have\n        // is the wrong size.\n        if (mOffscreenImage == null\n                || mOffscreenImage.getWidth() != w\n                || mOffscreenImage.getHeight() != h) {\n            mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        }\n\n        Graphics2D ig2 = mOffscreenImage.createGraphics();\n        ig2.setComposite(AlphaComposite.SrcOver.derive(alpha));\n        ig2.setClip(g.getClip());\n        super.paint(ig2, c);\n        ig2.dispose();\n\n        Graphics2D g2 = (Graphics2D) g;\n        g2.drawImage(mOffscreenImage, mOperation, 0, 0);\n    }\n}\n</code></pre>\n<h1>Combined...</h1>\n<pre><code>JLayer&lt;JComponent&gt; layeredButton = new JLayer&lt;&gt;(bluredButton, new SandPaperLayerUI(0.25f));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2TXxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TXxR.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class SandPaperLayerUI extends LayerUI&lt;JComponent&gt; {\n    private BufferedImage mOffscreenImage;\n    private BufferedImageOp mOperation;\n    \n    private int radius = 3;\n    private float alpha = 1.0f;\n\n    public SandPaperLayerUI(float alpha) {            \n        this.alpha = alpha;\n        int size = radius * 2 + 1;\n        float weight = 1.0f / (float)(size * size);\n        float[] blurKernel = new float[size * size];\n        for (int index = 0; index &lt; blurKernel.length; index++) {\n            blurKernel[index] = weight;\n        };\n        mOperation = new ConvolveOp(\n                new Kernel(size, size, blurKernel),\n                ConvolveOp.EDGE_NO_OP, null);\n    }\n\n    @Override\n    public void paint(Graphics g, JComponent c) {\n        int w = c.getWidth();\n        int h = c.getHeight();\n\n        if (w == 0 || h == 0) {\n            return;\n        }\n\n        // Only create the off-screen image if the one we have\n        // is the wrong size.\n        if (mOffscreenImage == null\n                || mOffscreenImage.getWidth() != w\n                || mOffscreenImage.getHeight() != h) {\n            mOffscreenImage = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        }\n\n        Graphics2D ig2 = mOffscreenImage.createGraphics();\n        ig2.setComposite(AlphaComposite.SrcOver.derive(alpha));\n        ig2.setClip(g.getClip());\n        super.paint(ig2, c);\n        ig2.dispose();\n\n        Graphics2D g2 = (Graphics2D) g;\n        g2.drawImage(mOffscreenImage, mOperation, 0, 0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22984064,"reputation":13,"user_id":17110525,"display_name":"M.Ismail"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72495918,"answer_count":1,"score":-1,"last_activity_date":1654297596,"creation_date":1654287069,"question_id":72494708,"body_markdown":"I want to create a button that is not completely transparent but it has just a blurry background, like if someone sanded a piece of transparent plastic.\r\nHow do I create something like that? Because all I found so far is how to make it completely transparent.","title":"How to create a semi-transparent JButton?","body":"<p>I want to create a button that is not completely transparent but it has just a blurry background, like if someone sanded a piece of transparent plastic.\nHow do I create something like that? Because all I found so far is how to make it completely transparent.</p>\n"},{"tags":["java","database","firebase","google-cloud-firestore","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654297512,"creation_date":1654297512,"answer_id":72495916,"question_id":72495396,"body_markdown":"As the error message says, your `db` field is never initialized. You probably want to do that in the `Database()` method:\r\n\r\n```\r\ndb = FirestoreDatabase.getInstance();\r\n```\r\n\r\nAlso see the Firebase documentation on [initializing Firestore](https://firebase.google.com/docs/firestore/quickstart#java_2).","title":"Getting error while trying to retrieve all documents from &quot;users&quot; collection with Firestore Database","body":"<p>As the error message says, your <code>db</code> field is never initialized. You probably want to do that in the <code>Database()</code> method:</p>\n<pre><code>db = FirestoreDatabase.getInstance();\n</code></pre>\n<p>Also see the Firebase documentation on <a href=\"https://firebase.google.com/docs/firestore/quickstart#java_2\" rel=\"nofollow noreferrer\">initializing Firestore</a>.</p>\n"}],"owner":{"account_id":23686175,"reputation":171,"user_id":17711080,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72495916,"answer_count":1,"score":2,"last_activity_date":1654297512,"creation_date":1654292263,"question_id":72495396,"body_markdown":"I&#39;m trying to retrieve all documents from my Firestore collection called &quot;users&#39;, but I get an error message. I&#39;ve tried to retrieve a single document too, but got the same error.\r\n\r\nError:\r\n[![error message pic][1]][1]\r\n\r\nDatabase connection | Database.java\r\n\r\n      public Firestore db;\r\n\r\n    public Database() throws IOException {\r\n        // Use a service account\r\n        try {\r\n\r\n            InputStream serviceAccount = new FileInputStream(&quot;./serviceAccount.json&quot;);\r\n            GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount);\r\n            FirebaseOptions options = FirebaseOptions.builder()\r\n               .setCredentials(credentials)\r\n               .setDatabaseUrl(&quot;https://riskgameverycool.firebaseio.com/&quot;)\r\n               .build();\r\n\r\n            FirebaseApp.initializeApp(options);\r\n            System.out.println(&quot;Connection  GREAT Success!&quot;);\r\n        } catch(Exception e) {\r\n          //  Block of code to handle errors\r\n          e.printStackTrace();\r\n          System.out.println(&quot;Connection Failed.&quot;);\r\n        }\r\n    }\r\n\r\nDatabase.java:\r\n\r\n    public void getAllUsers() {\r\n        try {\r\n            // asynchronously retrieve all documents\r\n            ApiFuture&lt;QuerySnapshot&gt; future = db.collection(&quot;users&quot;).get();\r\n            // future.get() blocks on response\r\n            List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\r\n            for (QueryDocumentSnapshot document : documents) {\r\n              System.out.println(document.getId() + &quot; =&gt; &quot; + document.toObject(User.class));\r\n            }\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Query messed up.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nFirestore:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EU9Bf.png\r\n  [2]: https://i.stack.imgur.com/xSY0i.png","title":"Getting error while trying to retrieve all documents from &quot;users&quot; collection with Firestore Database","body":"<p>I'm trying to retrieve all documents from my Firestore collection called &quot;users', but I get an error message. I've tried to retrieve a single document too, but got the same error.</p>\n<p>Error:\n<a href=\"https://i.stack.imgur.com/EU9Bf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EU9Bf.png\" alt=\"error message pic\" /></a></p>\n<p>Database connection | Database.java</p>\n<pre><code>  public Firestore db;\n\npublic Database() throws IOException {\n    // Use a service account\n    try {\n\n        InputStream serviceAccount = new FileInputStream(&quot;./serviceAccount.json&quot;);\n        GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount);\n        FirebaseOptions options = FirebaseOptions.builder()\n           .setCredentials(credentials)\n           .setDatabaseUrl(&quot;https://riskgameverycool.firebaseio.com/&quot;)\n           .build();\n\n        FirebaseApp.initializeApp(options);\n        System.out.println(&quot;Connection  GREAT Success!&quot;);\n    } catch(Exception e) {\n      //  Block of code to handle errors\n      e.printStackTrace();\n      System.out.println(&quot;Connection Failed.&quot;);\n    }\n}\n</code></pre>\n<p>Database.java:</p>\n<pre><code>public void getAllUsers() {\n    try {\n        // asynchronously retrieve all documents\n        ApiFuture&lt;QuerySnapshot&gt; future = db.collection(&quot;users&quot;).get();\n        // future.get() blocks on response\n        List&lt;QueryDocumentSnapshot&gt; documents = future.get().getDocuments();\n        for (QueryDocumentSnapshot document : documents) {\n          System.out.println(document.getId() + &quot; =&gt; &quot; + document.toObject(User.class));\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Query messed up.&quot;);\n    }\n}\n</code></pre>\n<p>Firestore:</p>\n<p><a href=\"https://i.stack.imgur.com/xSY0i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xSY0i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","producer-consumer"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1654285966,"post_id":72494349,"comment_id":128063176,"body_markdown":"First thing you should do is move the `int value = 0` in the `produce()` outside of loop (before) assuming you want each produced value to be 1 greater than previous.","body":"First thing you should do is move the <code>int value = 0</code> in the <code>produce()</code> outside of loop (before) assuming you want each produced value to be 1 greater than previous."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1654286961,"post_id":72494349,"comment_id":128063453,"body_markdown":"Your singleton is not thread-safe `getInstance` so its possible two instances are being created which would result in the consumer being starved.  Simplify things and create one in `main` and pass the one instance to a constructor for both the `Consumer` and `Producer`.","body":"Your singleton is not thread-safe <code>getInstance</code> so its possible two instances are being created which would result in the consumer being starved.  Simplify things and create one in <code>main</code> and pass the one instance to a constructor for both the <code>Consumer</code> and <code>Producer</code>."},{"owner":{"account_id":23945202,"reputation":13,"user_id":17937636,"display_name":"MohishKhadse55"},"score":0,"creation_date":1654287097,"post_id":72494349,"comment_id":128063488,"body_markdown":"Ok gonna try that thanks brother","body":"Ok gonna try that thanks brother"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654297415,"creation_date":1654297415,"answer_id":72495905,"question_id":72494349,"body_markdown":"This is bad:\r\n\r\n``` lang-java\r\nsynchronized(this) {\r\n    ...\r\n    Thread.sleep(...);\r\n    ...\r\n}\r\n```\r\n\r\nIt&#39;s bad because the thread that&#39;s sleeping has locked other threads out of the critical section for no good reason. It&#39;s like, two housemates share a car, but one of the housemates takes the keys and then goes to bed. Why should the other housemate not be allowed to use the car when the first housemate is sleeping?\r\n\r\nThis also is bad:\r\n\r\n``` lang-java\r\nwhile (true) {\r\n    synchronized(this) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s bad because the very next thing that the thread does after leaving the critical section is, it tries to re-enter the critical section. Java&#39;s intrinsic locks are not [_fair_](https://cs.stackexchange.com/q/70125/43896). The thread that just left the synchronized blocks is already running when it tries to re-enter. The other thread is blocked waiting its turn. In that situation, the OS is always going to choose the thread that already is running, because in well-architected programI.e., in a program where one housemate doesn&#39;t go to bed with the car keysthat&#39;s the strategy that usually will yield the best performance.\r\n\r\nMove the `System.out.println()` calls and the `Thread.sleep()` calls out of the `synchronized(this)` block, and that will give the other thread a better chance to run:\r\n\r\n``` lang-java\r\nwhile (true) {\r\n    synchronized(this) {\r\n        ...\r\n        notify();\r\n    }\r\n    System.out.println(&quot;...&quot;);\r\n    Thread.sleep(500);\r\n}\r\n```\r\n\r\n---------------\r\n\r\n@Gardener may already have identified your problem: Your singleton is not thread-safe (see Gardener&#39;s comment, above). You should synchronize the static getInstance() method on some static object. (the PC class object would work.)\r\n\r\n``` lang-java\r\npublic static PC getInstance()\r\n{\r\n    synchronized(PC.class) {\r\n        if (single_instance == null) {\r\n            single_instance = new PC();\r\n        }\r\n\r\n        return single_instance;\r\n    }\r\n}\r\n```\r\n\r\n-------------------\r\n\r\nThis is not great:\r\n\r\n``` lang-java\r\n...\r\ncatch (Exception e) {\r\n    System.out.println(e);              // not great\r\n    System.out.println(&quot;interrupted&quot;);  // even less great\r\n}\r\n```\r\n\r\nIt&#39;s not great because it gives you only minimal information if an exception occurs. Do this instead to get a detailed message on the standard error output stream that tells exactly where the exception happened:\r\n\r\n``` lang-java\r\n...\r\ncatch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"In Producer consumer problem inter thread communication is not happening the code gets stuck at a certain point","body":"<p>This is bad:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized(this) {\n    ...\n    Thread.sleep(...);\n    ...\n}\n</code></pre>\n<p>It's bad because the thread that's sleeping has locked other threads out of the critical section for no good reason. It's like, two housemates share a car, but one of the housemates takes the keys and then goes to bed. Why should the other housemate not be allowed to use the car when the first housemate is sleeping?</p>\n<p>This also is bad:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    synchronized(this) {\n        ...\n    }\n}\n</code></pre>\n<p>It's bad because the very next thing that the thread does after leaving the critical section is, it tries to re-enter the critical section. Java's intrinsic locks are not <a href=\"https://cs.stackexchange.com/q/70125/43896\"><em>fair</em></a>. The thread that just left the synchronized blocks is already running when it tries to re-enter. The other thread is blocked waiting its turn. In that situation, the OS is always going to choose the thread that already is running, because in well-architected programI.e., in a program where one housemate doesn't go to bed with the car keysthat's the strategy that usually will yield the best performance.</p>\n<p>Move the <code>System.out.println()</code> calls and the <code>Thread.sleep()</code> calls out of the <code>synchronized(this)</code> block, and that will give the other thread a better chance to run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    synchronized(this) {\n        ...\n        notify();\n    }\n    System.out.println(&quot;...&quot;);\n    Thread.sleep(500);\n}\n</code></pre>\n<hr />\n<p>@Gardener may already have identified your problem: Your singleton is not thread-safe (see Gardener's comment, above). You should synchronize the static getInstance() method on some static object. (the PC class object would work.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static PC getInstance()\n{\n    synchronized(PC.class) {\n        if (single_instance == null) {\n            single_instance = new PC();\n        }\n\n        return single_instance;\n    }\n}\n</code></pre>\n<hr />\n<p>This is not great:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\ncatch (Exception e) {\n    System.out.println(e);              // not great\n    System.out.println(&quot;interrupted&quot;);  // even less great\n}\n</code></pre>\n<p>It's not great because it gives you only minimal information if an exception occurs. Do this instead to get a detailed message on the standard error output stream that tells exactly where the exception happened:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":23945202,"reputation":13,"user_id":17937636,"display_name":"MohishKhadse55"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72495905,"answer_count":1,"score":0,"last_activity_date":1654297415,"creation_date":1654284460,"question_id":72494349,"body_markdown":"I was doing the producer consumer problem in java  but my code is getting stuck at `System.out.println(&quot;In condition in produce method &quot; )` this line.I think due to which my code is not abele to execute the `consume method`. So can anyone help me with this and tell me what is the reason behind this and what modifications should be done in the code.\r\n\r\n```\r\n\r\nimport java.util.LinkedList;\r\nclass Consumer extends Thread {\r\n    public void run()\r\n    {\r\n        try{\r\n            PC p = PC.getInstance();\r\n\r\n            p.consume();\r\n            Thread.sleep(500);\r\n        }\r\n        catch(Exception e ){\r\n        System.out.println(e);\r\n    }\r\n    }\r\n}\r\nclass Producer extends Thread{\r\n\r\n    public void run (){\r\n        PC p = PC.getInstance();\r\n        try{\r\n\r\n            p.produce();\r\n            Thread.sleep(500);\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;interrupted&quot;);\r\n        }\r\n    }\r\n}\r\nclass PC {\r\n     LinkedList a = new LinkedList();\r\n    int capacity = 2;\r\n    private static PC single_instance = null;\r\n\r\n    public static PC getInstance()\r\n    {\r\n        if (single_instance == null)\r\n            single_instance = new PC();\r\n\r\n        return single_instance;\r\n    }\r\n\r\n    public    void consume() throws InterruptedException{\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (a.size() == 0) {\r\n                    System.out.println(&quot;here I am  &quot;);\r\n                    wait();\r\n                }\r\n\r\n                int val = (int) a.removeFirst();\r\n                System.out.println(&quot;consumer consumed&quot; + val);\r\n                notify();\r\n                Thread.sleep(500);\r\n            }\r\n        }\r\n    }\r\n    public    void produce() throws InterruptedException {\r\n\r\n       while(true) {\r\n           int value = 0;\r\n           synchronized (this) {\r\n\r\n               while (a.size() == capacity) {\r\n                   System.out.println(&quot;In condition in produce method &quot; );////\r\n                   wait();\r\n               }\r\n\r\n\r\n               System.out.println(&quot;producing  value &quot; + value);\r\n               a.add(value++);\r\n               notify();\r\n               System.out.println(&quot;after notify in produce method&quot; );\r\n               Thread.sleep(500);\r\n           }\r\n       }\r\n    }\r\n}\r\npublic class multithreading {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Producer p1 = new Producer();\r\n       // Producer p2 = new Producer();\r\n\r\n        Consumer c1 = new Consumer();\r\n        p1.start();\r\n        c1.start();\r\n\r\n        p1.join();\r\n        c1.join();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am getting output till this only \r\n```here I am  \r\nproducing  value 0\r\nafter notify in produce method\r\nproducing  value 0\r\nafter notify in produce method\r\nIn condition in produce method \r\n\r\nProcess finished with exit code 130\r\n```\r\n\r\n","title":"In Producer consumer problem inter thread communication is not happening the code gets stuck at a certain point","body":"<p>I was doing the producer consumer problem in java  but my code is getting stuck at <code>System.out.println(&quot;In condition in produce method &quot; )</code> this line.I think due to which my code is not abele to execute the <code>consume method</code>. So can anyone help me with this and tell me what is the reason behind this and what modifications should be done in the code.</p>\n<pre><code>\nimport java.util.LinkedList;\nclass Consumer extends Thread {\n    public void run()\n    {\n        try{\n            PC p = PC.getInstance();\n\n            p.consume();\n            Thread.sleep(500);\n        }\n        catch(Exception e ){\n        System.out.println(e);\n    }\n    }\n}\nclass Producer extends Thread{\n\n    public void run (){\n        PC p = PC.getInstance();\n        try{\n\n            p.produce();\n            Thread.sleep(500);\n        }\n        catch(Exception e){\n            System.out.println(&quot;interrupted&quot;);\n        }\n    }\n}\nclass PC {\n     LinkedList a = new LinkedList();\n    int capacity = 2;\n    private static PC single_instance = null;\n\n    public static PC getInstance()\n    {\n        if (single_instance == null)\n            single_instance = new PC();\n\n        return single_instance;\n    }\n\n    public    void consume() throws InterruptedException{\n        while (true) {\n            synchronized (this) {\n                while (a.size() == 0) {\n                    System.out.println(&quot;here I am  &quot;);\n                    wait();\n                }\n\n                int val = (int) a.removeFirst();\n                System.out.println(&quot;consumer consumed&quot; + val);\n                notify();\n                Thread.sleep(500);\n            }\n        }\n    }\n    public    void produce() throws InterruptedException {\n\n       while(true) {\n           int value = 0;\n           synchronized (this) {\n\n               while (a.size() == capacity) {\n                   System.out.println(&quot;In condition in produce method &quot; );////\n                   wait();\n               }\n\n\n               System.out.println(&quot;producing  value &quot; + value);\n               a.add(value++);\n               notify();\n               System.out.println(&quot;after notify in produce method&quot; );\n               Thread.sleep(500);\n           }\n       }\n    }\n}\npublic class multithreading {\n    public static void main(String[] args) throws InterruptedException {\n\n        Producer p1 = new Producer();\n       // Producer p2 = new Producer();\n\n        Consumer c1 = new Consumer();\n        p1.start();\n        c1.start();\n\n        p1.join();\n        c1.join();\n    }\n}\n\n</code></pre>\n<p>I am getting output till this only</p>\n<pre><code>producing  value 0\nafter notify in produce method\nproducing  value 0\nafter notify in produce method\nIn condition in produce method \n\nProcess finished with exit code 130\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654297383,"creation_date":1654297383,"answer_id":72495900,"question_id":72495676,"body_markdown":"You don&#39;t need to use an update mapping here.\r\nYou can just specify the mappings like this at (3):\r\n\r\n```java\r\n@Mapping(target = &quot;.&quot;, source = &quot;property&quot;) // handles the 100 fields\r\n@Mapping(target = &quot;fetchDetail&quot;, source = &quot;.&quot;) // handles the status\r\nTargetProperty map(SourceRecord val);\r\n```\r\n\r\nThe complete class can look something like this:\r\n\r\n```java\r\n@Mapper\r\ninterface ResponseMapper {\r\n\r\n    TargetResponse map(SourceResponse val);\r\n\r\n    @Mapping(target = &quot;.&quot;, source = &quot;property&quot;)\r\n    @Mapping(target = &quot;fetchDetail&quot;, source = &quot;.&quot;)\r\n    TargetProperty map(SourceRecord val);\r\n}\r\n```\r\n\r\nThis will generate something like this:\r\n\r\n```java\r\n\r\n    @Override\r\n    public TargetResponse map(SourceResponse val) {\r\n        if ( val == null ) {\r\n            return null;\r\n        }\r\n\r\n        TargetResponse targetResponse = new TargetResponse();\r\n\r\n        targetResponse.setResults( sourceRecordListToTargetPropertyList( val.getResults() ) );\r\n\r\n        return targetResponse;\r\n    }\r\n\r\n    @Override\r\n    public TargetProperty map(SourceRecord val) {\r\n        if ( val == null ) {\r\n            return null;\r\n        }\r\n\r\n        TargetProperty targetProperty = new TargetProperty();\r\n\r\n        targetProperty.setFetchDetail( sourceRecordToFetchDetail( val ) );\r\n        targetProperty.setAddress( valPropertyAddress( val ) );\r\n        targetProperty.setLatitude( valPropertyLatitude( val ) );\r\n\r\n        return targetProperty;\r\n    }\r\n\r\n    protected List&lt;TargetProperty&gt; sourceRecordListToTargetPropertyList(List&lt;SourceRecord&gt; list) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;TargetProperty&gt; list1 = new ArrayList&lt;TargetProperty&gt;( list.size() );\r\n        for ( SourceRecord sourceRecord : list ) {\r\n            list1.add( map( sourceRecord ) );\r\n        }\r\n\r\n        return list1;\r\n    }\r\n\r\n    protected FetchDetail sourceRecordToFetchDetail(SourceRecord sourceRecord) {\r\n        if ( sourceRecord == null ) {\r\n            return null;\r\n        }\r\n\r\n        FetchDetail fetchDetail = new FetchDetail();\r\n\r\n        fetchDetail.setStatus( sourceRecord.getStatus() );\r\n\r\n        return fetchDetail;\r\n    }\r\n\r\n    private String valPropertyAddress(SourceRecord sourceRecord) {\r\n        if ( sourceRecord == null ) {\r\n            return null;\r\n        }\r\n        SourceProperty property = sourceRecord.getProperty();\r\n        if ( property == null ) {\r\n            return null;\r\n        }\r\n        String address = property.getAddress();\r\n        if ( address == null ) {\r\n            return null;\r\n        }\r\n        return address;\r\n    }\r\n\r\n    private Double valPropertyLatitude(SourceRecord sourceRecord) {\r\n        if ( sourceRecord == null ) {\r\n            return null;\r\n        }\r\n        SourceProperty property = sourceRecord.getProperty();\r\n        if ( property == null ) {\r\n            return null;\r\n        }\r\n        Double latitude = property.getLatitude();\r\n        if ( latitude == null ) {\r\n            return null;\r\n        }\r\n        return latitude;\r\n    }\r\n```\r\n\r\nThis does generate a lot of unnecessary null-checks for the mapping with source `property`. But all the required functionality is there.","title":"Call filling method with `@TargetMapping` from parent&#39;s mapping method","body":"<p>You don't need to use an update mapping here.\nYou can just specify the mappings like this at (3):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;.&quot;, source = &quot;property&quot;) // handles the 100 fields\n@Mapping(target = &quot;fetchDetail&quot;, source = &quot;.&quot;) // handles the status\nTargetProperty map(SourceRecord val);\n</code></pre>\n<p>The complete class can look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\ninterface ResponseMapper {\n\n    TargetResponse map(SourceResponse val);\n\n    @Mapping(target = &quot;.&quot;, source = &quot;property&quot;)\n    @Mapping(target = &quot;fetchDetail&quot;, source = &quot;.&quot;)\n    TargetProperty map(SourceRecord val);\n}\n</code></pre>\n<p>This will generate something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    public TargetResponse map(SourceResponse val) {\n        if ( val == null ) {\n            return null;\n        }\n\n        TargetResponse targetResponse = new TargetResponse();\n\n        targetResponse.setResults( sourceRecordListToTargetPropertyList( val.getResults() ) );\n\n        return targetResponse;\n    }\n\n    @Override\n    public TargetProperty map(SourceRecord val) {\n        if ( val == null ) {\n            return null;\n        }\n\n        TargetProperty targetProperty = new TargetProperty();\n\n        targetProperty.setFetchDetail( sourceRecordToFetchDetail( val ) );\n        targetProperty.setAddress( valPropertyAddress( val ) );\n        targetProperty.setLatitude( valPropertyLatitude( val ) );\n\n        return targetProperty;\n    }\n\n    protected List&lt;TargetProperty&gt; sourceRecordListToTargetPropertyList(List&lt;SourceRecord&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;TargetProperty&gt; list1 = new ArrayList&lt;TargetProperty&gt;( list.size() );\n        for ( SourceRecord sourceRecord : list ) {\n            list1.add( map( sourceRecord ) );\n        }\n\n        return list1;\n    }\n\n    protected FetchDetail sourceRecordToFetchDetail(SourceRecord sourceRecord) {\n        if ( sourceRecord == null ) {\n            return null;\n        }\n\n        FetchDetail fetchDetail = new FetchDetail();\n\n        fetchDetail.setStatus( sourceRecord.getStatus() );\n\n        return fetchDetail;\n    }\n\n    private String valPropertyAddress(SourceRecord sourceRecord) {\n        if ( sourceRecord == null ) {\n            return null;\n        }\n        SourceProperty property = sourceRecord.getProperty();\n        if ( property == null ) {\n            return null;\n        }\n        String address = property.getAddress();\n        if ( address == null ) {\n            return null;\n        }\n        return address;\n    }\n\n    private Double valPropertyLatitude(SourceRecord sourceRecord) {\n        if ( sourceRecord == null ) {\n            return null;\n        }\n        SourceProperty property = sourceRecord.getProperty();\n        if ( property == null ) {\n            return null;\n        }\n        Double latitude = property.getLatitude();\n        if ( latitude == null ) {\n            return null;\n        }\n        return latitude;\n    }\n</code></pre>\n<p>This does generate a lot of unnecessary null-checks for the mapping with source <code>property</code>. But all the required functionality is there.</p>\n"}],"owner":{"account_id":1593821,"reputation":305,"user_id":1476530,"display_name":"D S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654297383,"creation_date":1654294933,"question_id":72495676,"body_markdown":"I have a scenario where I need to use the source&#39;s parent to resolve few fields, as well as the source itself, as well as have source create a target child too. I will explain:\r\n\r\n```\r\nclass SourceResponse {\r\n   List&lt;SourceRecord&gt; results;\r\n}\r\n\r\nclass SourceRecord {\r\n   String status;\r\n   SourceProperty property;\r\n}\r\n\r\nclass SourceProperty {\r\n   String address;\r\n   Double latitude;...(100+ fields)\r\n}\r\n```\r\n\r\nThe target look like this:\r\n```\r\nclass TargetResponse {\r\n   List&lt;TargetProperty&gt; results;\r\n}\r\n\r\nclass TargetProperty {\r\n   FetchDetail fetchDetail;\r\n   \r\n   String address;\r\n   Double latitude; ... those same 100+fields\r\n}\r\n\r\nclass FetchDetail {\r\n   String status;\r\n}\r\n```\r\n\r\nIf I write this mapping :\r\n\r\n```\r\n1. TargetResponse map(SourceResponse val);\r\n\r\n2. List&lt;TargetProperty&gt; map (List&lt;SourceRecord&gt; val);\r\n\r\n   @Mapping(target = &quot;address&quot;, ignore = true)\r\n   @Mapping(target = &quot;latitude&quot;, ignore = true)\r\n   ...\r\n   @Mapping(source = &quot;.&quot;, target = &quot;fetchDetail&quot;)\r\n3. TargetProperty map(SourceRecord val);\r\n\r\n   @Mapping(source = &quot;status&quot;, target = &quot;status&quot;)\r\n4. FetchDetail map(SourceRecord val);\r\n\r\n5. void map(@MappingTarget TargetProperty property, SourceProperty val);\r\n```\r\n\r\nHow do I make (5) to be called by (3)?\r\n\r\n","title":"Call filling method with `@TargetMapping` from parent&#39;s mapping method","body":"<p>I have a scenario where I need to use the source's parent to resolve few fields, as well as the source itself, as well as have source create a target child too. I will explain:</p>\n<pre><code>class SourceResponse {\n   List&lt;SourceRecord&gt; results;\n}\n\nclass SourceRecord {\n   String status;\n   SourceProperty property;\n}\n\nclass SourceProperty {\n   String address;\n   Double latitude;...(100+ fields)\n}\n</code></pre>\n<p>The target look like this:</p>\n<pre><code>class TargetResponse {\n   List&lt;TargetProperty&gt; results;\n}\n\nclass TargetProperty {\n   FetchDetail fetchDetail;\n   \n   String address;\n   Double latitude; ... those same 100+fields\n}\n\nclass FetchDetail {\n   String status;\n}\n</code></pre>\n<p>If I write this mapping :</p>\n<pre><code>1. TargetResponse map(SourceResponse val);\n\n2. List&lt;TargetProperty&gt; map (List&lt;SourceRecord&gt; val);\n\n   @Mapping(target = &quot;address&quot;, ignore = true)\n   @Mapping(target = &quot;latitude&quot;, ignore = true)\n   ...\n   @Mapping(source = &quot;.&quot;, target = &quot;fetchDetail&quot;)\n3. TargetProperty map(SourceRecord val);\n\n   @Mapping(source = &quot;status&quot;, target = &quot;status&quot;)\n4. FetchDetail map(SourceRecord val);\n\n5. void map(@MappingTarget TargetProperty property, SourceProperty val);\n</code></pre>\n<p>How do I make (5) to be called by (3)?</p>\n"},{"tags":["java","synchronization","lock-free"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1654297884,"post_id":72495870,"comment_id":128065709,"body_markdown":"&quot;looks like they can only sum the numbers atomically.&quot;  Why is that a problem?  You only need to do atomic sums, you can read them freely and then divide.","body":"&quot;looks like they can only sum the numbers atomically.&quot;  Why is that a problem?  You only need to do atomic sums, you can read them freely and then divide."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":1,"creation_date":1654298265,"post_id":72495870,"comment_id":128065769,"body_markdown":"@Louis Wasserman Well, I would need two separate AtomicLongs/LongAdders (one for sum, one for count). And there is no way to increment both of them atomically together, right?","body":"@Louis Wasserman Well, I would need two separate AtomicLongs/LongAdders (one for sum, one for count). And there is no way to increment both of them atomically together, right?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654298571,"post_id":72495870,"comment_id":128065801,"body_markdown":"That&#39;s true.  Are you using longs, or doubles?  At a glance, I might consider something like [striped](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/Striped.html) locking, to avoid having only one single lock of granularity.","body":"That&#39;s true.  Are you using longs, or doubles?  At a glance, I might consider something like <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/Striped.html\" rel=\"nofollow noreferrer\">striped</a> locking, to avoid having only one single lock of granularity."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1654299358,"post_id":72495870,"comment_id":128065918,"body_markdown":"Why use locks at all?  Since the add and compute methods seem to be operating independently, then just make the methods themselves synchronized.","body":"Why use locks at all?  Since the add and compute methods seem to be operating independently, then just make the methods themselves synchronized."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":1,"creation_date":1654300294,"post_id":72495870,"comment_id":128066029,"body_markdown":"@Ryan I could but using a read lock for compute() has an advantage that it allows multiple threads to call it (if no thread is calling add()). It makes the solution a little more scalable.","body":"@Ryan I could but using a read lock for compute() has an advantage that it allows multiple threads to call it (if no thread is calling add()). It makes the solution a little more scalable."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654303347,"post_id":72495870,"comment_id":128066330,"body_markdown":"By the way Why use `BigDecimal` if your inputs arrive as a `double`? The inaccuracy of floating-point technology has already been introduced into your calculation by way of `double`. No point in using `BigDecimal` after that.","body":"By the way Why use <code>BigDecimal</code> if your inputs arrive as a <code>double</code>? The inaccuracy of floating-point technology has already been introduced into your calculation by way of <code>double</code>. No point in using <code>BigDecimal</code> after that."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1654397236,"post_id":72495870,"comment_id":128080005,"body_markdown":"@BasilBourque: That&#39;s not necessarily true.  `1e300 + 1.0 == 1e300` with `double` (because the whole `+1` is lost to rounding error.  The 1 being way to the right of the 53 mantissa bits in the huge number).  But an extended-precision representation could use as many significant digits as necessary to compute exactly.  So it totally depends on the use-case whether your need to prevent any *further* rounding error (if there was any).  `double` should be much faster so is preferred if it&#39;s acceptable.","body":"@BasilBourque: That&#39;s not necessarily true.  <code>1e300 + 1.0 == 1e300</code> with <code>double</code> (because the whole <code>+1</code> is lost to rounding error.  The 1 being way to the right of the 53 mantissa bits in the huge number).  But an extended-precision representation could use as many significant digits as necessary to compute exactly.  So it totally depends on the use-case whether your need to prevent any <i>further</i> rounding error (if there was any).  <code>double</code> should be much faster so is preferred if it&#39;s acceptable."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1654521038,"post_id":72495870,"comment_id":128103153,"body_markdown":"@CaptainHastings  That doesn&#39;t make any sense. The way you have it coded, you can synchronize both methods and they&#39;d have the same multi-threaded functionality.  `Compute()` only locks on the `readlock` and `add()` only locks using `writeLock`, You&#39;d simplify your code by synchronizing the method and perhaps adding a `volatile` keyword to `sum`.","body":"@CaptainHastings  That doesn&#39;t make any sense. The way you have it coded, you can synchronize both methods and they&#39;d have the same multi-threaded functionality.  <code>Compute()</code> only locks on the <code>readlock</code> and <code>add()</code> only locks using <code>writeLock</code>, You&#39;d simplify your code by synchronizing the method and perhaps adding a <code>volatile</code> keyword to <code>sum</code>."}],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654297026,"creation_date":1654297026,"question_id":72495870,"body_markdown":"I am writing a class to calculate average of prices. We use it to generate buy/sell signal for some financial instruments therefore latency is crucial.  Prices are sent via different threads therefore class needs to be thread-safe.\r\n\r\nBelow is my current solution. Am I correct in understanding that I have to use a lock to make the two operations (adding and incrementing) atomic? I have looked at AtomicLong/LongAdder/LongAccumulator but looks like they can only sum the numbers atomically.\r\n\r\nIn other words, there is no way to do this in a lock-free manner? \r\n\r\nThank you!\r\n\r\n\r\n\r\n    public final class Computer{\r\n    \r\n    private ReentrantReadWriteLock rwLock;\r\n    private ReadLock readLock;\r\n    private WriteLock writeLock;\r\n    \r\n    private BigDecimal sum;\r\n    private int count;\r\n    \r\n    public AverageCalculatorThreadSafeImplementation2( ){\r\n        this.rwLock = new ReentrantReadWriteLock();\r\n        this.readLock = rwLock.readLock();\r\n        this.writeLock = rwLock.writeLock();\r\n        this.sum = new BigDecimal(0);\r\n    }\r\n    \r\n    public final void add( double value ){\r\n        writeLock.lock();\r\n        try{\r\n           sum = sum.add( BigDecimal.valueOf(value) );\r\n           ++count;\r\n        }finally{\r\n           writeLock.unlock();\r\n        }\r\n     }\r\n    \r\n     public final double compute( ){\r\n        readLock.lock();\r\n        try{\r\n            return sum.divide(BigDecimal.valueOf(count)).doubleValue();\r\n        }finally{\r\n            readLock.unlock();\r\n        }\r\n    }\r\n\r\n}","title":"Compute in a lock free manner","body":"<p>I am writing a class to calculate average of prices. We use it to generate buy/sell signal for some financial instruments therefore latency is crucial.  Prices are sent via different threads therefore class needs to be thread-safe.</p>\n<p>Below is my current solution. Am I correct in understanding that I have to use a lock to make the two operations (adding and incrementing) atomic? I have looked at AtomicLong/LongAdder/LongAccumulator but looks like they can only sum the numbers atomically.</p>\n<p>In other words, there is no way to do this in a lock-free manner?</p>\n<p>Thank you!</p>\n<pre><code>public final class Computer{\n\nprivate ReentrantReadWriteLock rwLock;\nprivate ReadLock readLock;\nprivate WriteLock writeLock;\n\nprivate BigDecimal sum;\nprivate int count;\n\npublic AverageCalculatorThreadSafeImplementation2( ){\n    this.rwLock = new ReentrantReadWriteLock();\n    this.readLock = rwLock.readLock();\n    this.writeLock = rwLock.writeLock();\n    this.sum = new BigDecimal(0);\n}\n\npublic final void add( double value ){\n    writeLock.lock();\n    try{\n       sum = sum.add( BigDecimal.valueOf(value) );\n       ++count;\n    }finally{\n       writeLock.unlock();\n    }\n }\n\n public final double compute( ){\n    readLock.lock();\n    try{\n        return sum.divide(BigDecimal.valueOf(count)).doubleValue();\n    }finally{\n        readLock.unlock();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","java-8","java-stream","option-type"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1654289601,"post_id":72494711,"comment_id":128064139,"body_markdown":"Using streams to modify outside data structures is not a good idea as it can have negative side effects.  The best way is to modify the object and return it in a new data structure.   There is nothing wrong with using a loop to do this.","body":"Using streams to modify outside data structures is not a good idea as it can have negative side effects.  The best way is to modify the object and return it in a new data structure.   There is nothing wrong with using a loop to do this."},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1654290479,"post_id":72494711,"comment_id":128064358,"body_markdown":"ok , But even if its bad is there any way we can do it ?","body":"ok , But even if its bad is there any way we can do it ?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1654291024,"post_id":72494711,"comment_id":128064481,"body_markdown":"I 100% agree not to write it if its not efficient way to code. But every time this kind of situation comes i used to think is there any way to write it .  I couldn&#39;t figure out to write it . So curious to know how to do it .","body":"I 100% agree not to write it if its not efficient way to code. But every time this kind of situation comes i used to think is there any way to write it .  I couldn&#39;t figure out to write it . So curious to know how to do it ."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654294728,"creation_date":1654291603,"answer_id":72495313,"question_id":72494711,"body_markdown":"Changing the state of objects outside the stream is **discouraged** by the [*Stream API documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects).\r\n\r\nBut you can leverage the functionality provided by the `Optional` class.\r\n\r\nMethod [`Optional.ifPresent()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)) which allows providing an optional action in the form of `Consumer` that will be executed when result is present. \r\n\r\nIt&#39;s also worth to extract the stream-statement into a separate method (*nothing specific to streams - just the* [*Single-responsibility principle*](https://en.wikipedia.org/wiki/Single-responsibility_principle)).\r\n\r\n```\r\nfinal Model validationModel = // something\r\n\r\nfindByProperty(ddlTables, &quot;restrict&quot;)\r\n    .ifPresent(something -&gt; validationModel.setFailMessage(&quot;Fail&quot;));\r\n```\r\n\r\n    public static Optional&lt;Something&gt; findByProperty(List&lt;Something&gt; list, String targetValue) {\r\n        return list.stream()\r\n            .filter(d -&gt; d.getFieldName().equalsIgnoreCase(targetValue))\r\n            .findFirst();\r\n    }\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/rQL)","title":"How to Set an Object&#39;s Property using Streams","body":"<p>Changing the state of objects outside the stream is <strong>discouraged</strong> by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>Stream API documentation</em></a>.</p>\n<p>But you can leverage the functionality provided by the <code>Optional</code> class.</p>\n<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Optional.ifPresent()</code></a> which allows providing an optional action in the form of <code>Consumer</code> that will be executed when result is present.</p>\n<p>It's also worth to extract the stream-statement into a separate method (<em>nothing specific to streams - just the</em> <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single-responsibility principle</em></a>).</p>\n<pre><code>final Model validationModel = // something\n\nfindByProperty(ddlTables, &quot;restrict&quot;)\n    .ifPresent(something -&gt; validationModel.setFailMessage(&quot;Fail&quot;));\n</code></pre>\n<pre><code>public static Optional&lt;Something&gt; findByProperty(List&lt;Something&gt; list, String targetValue) {\n    return list.stream()\n        .filter(d -&gt; d.getFieldName().equalsIgnoreCase(targetValue))\n        .findFirst();\n}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rQL\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654293461,"creation_date":1654292711,"answer_id":72495451,"question_id":72494711,"body_markdown":"The only thing I can offer is this.  It uses the result of the `isPresent` method to form a logical expression.  But you must always return something from a stream or print a value using a terminal operation which triggers the flow of values.  And let me reiterate that your first way of doing it was fine and that is exactly how I would do it.\r\n```\r\nif (ddlTables.stream().filter(d-&gt; \r\n           d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;)).findFirst().isPresent()) {\r\n                            validationModel.setFailMessage(&quot;Fail&quot;);\r\n}","title":"How to Set an Object&#39;s Property using Streams","body":"<p>The only thing I can offer is this.  It uses the result of the <code>isPresent</code> method to form a logical expression.  But you must always return something from a stream or print a value using a terminal operation which triggers the flow of values.  And let me reiterate that your first way of doing it was fine and that is exactly how I would do it.</p>\n<pre><code>if (ddlTables.stream().filter(d-&gt; \n           d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;)).findFirst().isPresent()) {\n                            validationModel.setFailMessage(&quot;Fail&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72495313,"answer_count":2,"score":0,"last_activity_date":1654296779,"creation_date":1654287082,"question_id":72494711,"body_markdown":"I am streaming and filtering values . Is there any way i can set another object value after the filter. I dont want to collect or return anything. \r\n```\r\nboolean b = ddlTables.stream()\r\n    .filter(d -&gt; d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;))\r\n    .findFirst()\r\n    .isPresent();\r\n\r\nif (b) {\r\n    validationModel.setFailMessage(&quot;Fail&quot;);\r\n}\r\n```\r\n\r\nI don&#39;t want to do it in the way shown above. \r\n\r\nI&#39;m trying to avoid the return and `if` condition and set the value like below.\r\n```\r\nddlTables.stream()\r\n    .filter(d -&gt; d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;))\r\n    //  validationModel.setFailMessage(&quot;failed&quot;); &lt;- Need to set the object value \r\n```\r\nIs there any way to achieve it?","title":"How to Set an Object&#39;s Property using Streams","body":"<p>I am streaming and filtering values . Is there any way i can set another object value after the filter. I dont want to collect or return anything.</p>\n<pre><code>boolean b = ddlTables.stream()\n    .filter(d -&gt; d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;))\n    .findFirst()\n    .isPresent();\n\nif (b) {\n    validationModel.setFailMessage(&quot;Fail&quot;);\n}\n</code></pre>\n<p>I don't want to do it in the way shown above.</p>\n<p>I'm trying to avoid the return and <code>if</code> condition and set the value like below.</p>\n<pre><code>ddlTables.stream()\n    .filter(d -&gt; d.getFieldName().equalsIgnoreCase(&quot;restrict&quot;))\n    //  validationModel.setFailMessage(&quot;failed&quot;); &lt;- Need to set the object value \n</code></pre>\n<p>Is there any way to achieve it?</p>\n"},{"tags":["java","linux","intellij-idea","nvidia","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":10162439,"reputation":85,"user_id":7505473,"accept_rate":50,"display_name":"w3Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654296633,"creation_date":1654296633,"answer_id":72495831,"question_id":72374793,"body_markdown":"fixed.\r\nroot cause was broken IntelliJ installation via flatpak\r\nand not driver issue","title":"LWJGL problems with linux +nvidia 510 driver","body":"<p>fixed.\nroot cause was broken IntelliJ installation via flatpak\nand not driver issue</p>\n"}],"owner":{"account_id":10162439,"reputation":85,"user_id":7505473,"accept_rate":50,"display_name":"w3Charlie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72495831,"answer_count":1,"score":-3,"last_activity_date":1654296633,"creation_date":1653469690,"question_id":72374793,"body_markdown":"I try to learn lwjgl a bit, but stuggle with the basics.\r\nI installed it about 2-3 weeks ago and it worked...at least partly\r\nthe first 8 chapters from &quot;lwjglbook&quot; project from git were running and now I can&#39;t even start an hello world with lwjgl window.\r\n\r\nHave someone an idea what the problem is?\r\n\r\nMy System: Linux Mint, Nvidia 2060 with 510 drivers\r\nglxgears and other graphic benchmarks works\r\n(I&#39;m not an Linux expert,switched few months ago)\r\nIn the IntelliJ I got this:\r\n\r\n ```\r\nHello LWJGL 3.3.1 build 7!\r\n[LWJGL] GLFW_API_UNAVAILABLE error\r\n\tDescription : GLX: No GLXFBConfigs returned\r\n\tStacktrace  :\r\n\t\torg.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:2024)\r\n\t\torg.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:2197)\r\n\t\tHelloWorld.init(HelloWorld.java:49)\r\n\t\tHelloWorld.run(HelloWorld.java:22)\r\n\t\tHelloWorld.main(HelloWorld.java:112)\r\n[LWJGL] GLFW_FORMAT_UNAVAILABLE error\r\n\tDescription : GLX: Failed to find a suitable GLXFBConfig\r\n\tStacktrace  :\r\n\t\torg.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:2024)\r\n\t\torg.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:2197)\r\n\t\tHelloWorld.init(HelloWorld.java:49)\r\n\t\tHelloWorld.run(HelloWorld.java:22)\r\n\t\tHelloWorld.main(HelloWorld.java:112)\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create the GLFW window\r\n\tat HelloWorld.init(HelloWorld.java:51)\r\n\tat HelloWorld.run(HelloWorld.java:22)\r\n\tat HelloWorld.main(HelloWorld.java:112)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Lwjgltraining1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lwjgl-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\r\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\ncode:\r\n```\r\nimport org.lwjgl.*;\r\nimport org.lwjgl.glfw.*;\r\nimport org.lwjgl.opengl.*;\r\nimport org.lwjgl.system.*;\r\n\r\nimport java.nio.*;\r\n\r\nimport static org.lwjgl.glfw.Callbacks.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport static org.lwjgl.opengl.GL11.*;\r\nimport static org.lwjgl.system.MemoryStack.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\n\r\npublic class HelloWorld {\r\n\r\n    // The window handle\r\n    private long window;\r\n\r\n    public void run() {\r\n        System.out.println(&quot;Hello LWJGL &quot; + Version.getVersion() + &quot;!&quot;);\r\n\r\n        init();\r\n        loop();\r\n\r\n        // Free the window callbacks and destroy the window\r\n        glfwFreeCallbacks(window);\r\n        glfwDestroyWindow(window);\r\n\r\n        // Terminate GLFW and free the error callback\r\n        glfwTerminate();\r\n        glfwSetErrorCallback(null).free();\r\n    }\r\n\r\n    private void init() {\r\n        // Setup an error callback. The default implementation\r\n        // will print the error message in System.err.\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n\r\n        // Initialize GLFW. Most GLFW functions will not work before doing this.\r\n        if ( !glfwInit() )\r\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n\r\n        // Configure GLFW\r\n        glfwDefaultWindowHints(); // optional, the current window hints are already the default\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\r\n\r\n        // Create the window\r\n        window = glfwCreateWindow(300, 300, &quot;Hello World!&quot;, NULL, NULL);\r\n        if ( window == NULL )\r\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n\r\n        // Setup a key callback. It will be called every time a key is pressed, repeated or released.\r\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n            if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\r\n                glfwSetWindowShouldClose(window, true); // We will detect this in the rendering loop\r\n        });\r\n\r\n        // Get the thread stack and push a new frame\r\n        try ( MemoryStack stack = stackPush() ) {\r\n            IntBuffer pWidth = stack.mallocInt(1); // int*\r\n            IntBuffer pHeight = stack.mallocInt(1); // int*\r\n\r\n            // Get the window size passed to glfwCreateWindow\r\n            glfwGetWindowSize(window, pWidth, pHeight);\r\n\r\n            // Get the resolution of the primary monitor\r\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n\r\n            // Center the window\r\n            glfwSetWindowPos(\r\n                    window,\r\n                    (vidmode.width() - pWidth.get(0)) / 2,\r\n                    (vidmode.height() - pHeight.get(0)) / 2\r\n            );\r\n        } // the stack frame is popped automatically\r\n\r\n        // Make the OpenGL context current\r\n        glfwMakeContextCurrent(window);\r\n        // Enable v-sync\r\n        glfwSwapInterval(1);\r\n\r\n        // Make the window visible\r\n        glfwShowWindow(window);\r\n    }\r\n\r\n    private void loop() {\r\n        // This line is critical for LWJGL&#39;s interoperation with GLFW&#39;s\r\n        // OpenGL context, or any context that is managed externally.\r\n        // LWJGL detects the context that is current in the current thread,\r\n        // creates the GLCapabilities instance and makes the OpenGL\r\n        // bindings available for use.\r\n        GL.createCapabilities();\r\n\r\n        // Set the clear color\r\n        glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\r\n\r\n        // Run the rendering loop until the user has attempted to close\r\n        // the window or has pressed the ESCAPE key.\r\n        while ( !glfwWindowShouldClose(window) ) {\r\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // clear the framebuffer\r\n\r\n            glfwSwapBuffers(window); // swap the color buffers\r\n\r\n            // Poll for window events. The key callback above will only be\r\n            // invoked during this call.\r\n            glfwPollEvents();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new HelloWorld().run();\r\n    }\r\n\r\n}\r\n```\r\nedit:\r\nit seems something is missing\r\n```\r\n{Integer@1165} 65537 -&gt; &quot;GLFW_NOT_INITIALIZED&quot;\r\n{Integer@1167} 65539 -&gt; &quot;GLFW_INVALID_ENUM&quot;\r\n{Integer@1169} 65538 -&gt; &quot;GLFW_NO_CURRENT_CONTEXT&quot;\r\n{Integer@1171} 65541 -&gt; &quot;GLFW_OUT_OF_MEMORY&quot;\r\n{Integer@1173} 65540 -&gt; &quot;GLFW_INVALID_VALUE&quot;\r\n{Integer@1175} 65543 -&gt; &quot;GLFW_VERSION_UNAVAILABLE&quot;\r\n{Integer@1177} 65542 -&gt; &quot;GLFW_API_UNAVAILABLE&quot;\r\n{Integer@1179} 65545 -&gt; &quot;GLFW_FORMAT_UNAVAILABLE&quot;\r\n{Integer@1181} 65544 -&gt; &quot;GLFW_PLATFORM_ERROR&quot;\r\n{Integer@1183} 65547 -&gt; &quot;GLFW_CURSOR_UNAVAILABLE&quot;\r\n{Integer@1185} 65546 -&gt; &quot;GLFW_NO_WINDOW_CONTEXT&quot;\r\n{Integer@1187} 65549 -&gt; &quot;GLFW_FEATURE_UNIMPLEMENTED&quot;\r\n{Integer@1189} 65548 -&gt; &quot;GLFW_FEATURE_UNAVAILABLE&quot;\r\n{Integer@1191} 65550 -&gt; &quot;GLFW_PLATFORM_UNAVAILABLE&quot;\r\n```\r\nedit\r\n\r\n\r\nhave maybe an solution:\r\n\r\nsudo apt purge nvidia-*\r\nsudo apt autoremove\r\nsudo apt autoclean\r\n\r\n\r\n[![triangle][1]][1]\r\nmesa is fallback driver I think\r\n\r\nnow I have to test what is working or not , glxgears starts.\r\n\r\nedit: still not the final solution, performance on games is &lt; 0\r\n\r\ncan I kick mesa and keep nvidia 510 driver? maybe mesa+nvidia is an issue\r\n\r\nedit2: I have tried nouveau drivers, lwjgl starts but performance is on 30-50%, some games do not even starts\r\n\r\n  [1]: https://i.stack.imgur.com/bqxGr.png","title":"LWJGL problems with linux +nvidia 510 driver","body":"<p>I try to learn lwjgl a bit, but stuggle with the basics.\nI installed it about 2-3 weeks ago and it worked...at least partly\nthe first 8 chapters from &quot;lwjglbook&quot; project from git were running and now I can't even start an hello world with lwjgl window.</p>\n<p>Have someone an idea what the problem is?</p>\n<p>My System: Linux Mint, Nvidia 2060 with 510 drivers\nglxgears and other graphic benchmarks works\n(I'm not an Linux expert,switched few months ago)\nIn the IntelliJ I got this:</p>\n<pre><code>Hello LWJGL 3.3.1 build 7!\n[LWJGL] GLFW_API_UNAVAILABLE error\n   Description : GLX: No GLXFBConfigs returned\n   Stacktrace  :\n       org.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:2024)\n       org.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:2197)\n       HelloWorld.init(HelloWorld.java:49)\n       HelloWorld.run(HelloWorld.java:22)\n       HelloWorld.main(HelloWorld.java:112)\n[LWJGL] GLFW_FORMAT_UNAVAILABLE error\n   Description : GLX: Failed to find a suitable GLXFBConfig\n   Stacktrace  :\n       org.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:2024)\n       org.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:2197)\n       HelloWorld.init(HelloWorld.java:49)\n       HelloWorld.run(HelloWorld.java:22)\n       HelloWorld.main(HelloWorld.java:112)\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create the GLFW window\n   at HelloWorld.init(HelloWorld.java:51)\n   at HelloWorld.run(HelloWorld.java:22)\n   at HelloWorld.main(HelloWorld.java:112)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Lwjgltraining1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n                &lt;artifactId&gt;lwjgl-bom&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\n            &lt;classifier&gt;natives-linux&lt;/classifier&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>code:</p>\n<pre><code>import org.lwjgl.*;\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\n\nimport java.nio.*;\n\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\npublic class HelloWorld {\n\n    // The window handle\n    private long window;\n\n    public void run() {\n        System.out.println(&quot;Hello LWJGL &quot; + Version.getVersion() + &quot;!&quot;);\n\n        init();\n        loop();\n\n        // Free the window callbacks and destroy the window\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n\n        // Terminate GLFW and free the error callback\n        glfwTerminate();\n        glfwSetErrorCallback(null).free();\n    }\n\n    private void init() {\n        // Setup an error callback. The default implementation\n        // will print the error message in System.err.\n        GLFWErrorCallback.createPrint(System.err).set();\n\n        // Initialize GLFW. Most GLFW functions will not work before doing this.\n        if ( !glfwInit() )\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\n\n        // Configure GLFW\n        glfwDefaultWindowHints(); // optional, the current window hints are already the default\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\n\n        // Create the window\n        window = glfwCreateWindow(300, 300, &quot;Hello World!&quot;, NULL, NULL);\n        if ( window == NULL )\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n\n        // Setup a key callback. It will be called every time a key is pressed, repeated or released.\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\n                glfwSetWindowShouldClose(window, true); // We will detect this in the rendering loop\n        });\n\n        // Get the thread stack and push a new frame\n        try ( MemoryStack stack = stackPush() ) {\n            IntBuffer pWidth = stack.mallocInt(1); // int*\n            IntBuffer pHeight = stack.mallocInt(1); // int*\n\n            // Get the window size passed to glfwCreateWindow\n            glfwGetWindowSize(window, pWidth, pHeight);\n\n            // Get the resolution of the primary monitor\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n\n            // Center the window\n            glfwSetWindowPos(\n                    window,\n                    (vidmode.width() - pWidth.get(0)) / 2,\n                    (vidmode.height() - pHeight.get(0)) / 2\n            );\n        } // the stack frame is popped automatically\n\n        // Make the OpenGL context current\n        glfwMakeContextCurrent(window);\n        // Enable v-sync\n        glfwSwapInterval(1);\n\n        // Make the window visible\n        glfwShowWindow(window);\n    }\n\n    private void loop() {\n        // This line is critical for LWJGL's interoperation with GLFW's\n        // OpenGL context, or any context that is managed externally.\n        // LWJGL detects the context that is current in the current thread,\n        // creates the GLCapabilities instance and makes the OpenGL\n        // bindings available for use.\n        GL.createCapabilities();\n\n        // Set the clear color\n        glClearColor(1.0f, 0.0f, 0.0f, 0.0f);\n\n        // Run the rendering loop until the user has attempted to close\n        // the window or has pressed the ESCAPE key.\n        while ( !glfwWindowShouldClose(window) ) {\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // clear the framebuffer\n\n            glfwSwapBuffers(window); // swap the color buffers\n\n            // Poll for window events. The key callback above will only be\n            // invoked during this call.\n            glfwPollEvents();\n        }\n    }\n\n    public static void main(String[] args) {\n        new HelloWorld().run();\n    }\n\n}\n</code></pre>\n<p>edit:\nit seems something is missing</p>\n<pre><code>{Integer@1165} 65537 -&gt; &quot;GLFW_NOT_INITIALIZED&quot;\n{Integer@1167} 65539 -&gt; &quot;GLFW_INVALID_ENUM&quot;\n{Integer@1169} 65538 -&gt; &quot;GLFW_NO_CURRENT_CONTEXT&quot;\n{Integer@1171} 65541 -&gt; &quot;GLFW_OUT_OF_MEMORY&quot;\n{Integer@1173} 65540 -&gt; &quot;GLFW_INVALID_VALUE&quot;\n{Integer@1175} 65543 -&gt; &quot;GLFW_VERSION_UNAVAILABLE&quot;\n{Integer@1177} 65542 -&gt; &quot;GLFW_API_UNAVAILABLE&quot;\n{Integer@1179} 65545 -&gt; &quot;GLFW_FORMAT_UNAVAILABLE&quot;\n{Integer@1181} 65544 -&gt; &quot;GLFW_PLATFORM_ERROR&quot;\n{Integer@1183} 65547 -&gt; &quot;GLFW_CURSOR_UNAVAILABLE&quot;\n{Integer@1185} 65546 -&gt; &quot;GLFW_NO_WINDOW_CONTEXT&quot;\n{Integer@1187} 65549 -&gt; &quot;GLFW_FEATURE_UNIMPLEMENTED&quot;\n{Integer@1189} 65548 -&gt; &quot;GLFW_FEATURE_UNAVAILABLE&quot;\n{Integer@1191} 65550 -&gt; &quot;GLFW_PLATFORM_UNAVAILABLE&quot;\n</code></pre>\n<p>edit</p>\n<p>have maybe an solution:</p>\n<p>sudo apt purge nvidia-*\nsudo apt autoremove\nsudo apt autoclean</p>\n<p><a href=\"https://i.stack.imgur.com/bqxGr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqxGr.png\" alt=\"triangle\" /></a>\nmesa is fallback driver I think</p>\n<p>now I have to test what is working or not , glxgears starts.</p>\n<p>edit: still not the final solution, performance on games is &lt; 0</p>\n<p>can I kick mesa and keep nvidia 510 driver? maybe mesa+nvidia is an issue</p>\n<p>edit2: I have tried nouveau drivers, lwjgl starts but performance is on 30-50%, some games do not even starts</p>\n"},{"tags":["java","spring","oauth-2.0","spring-cloud-gateway"],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1868,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1654296566,"creation_date":1654296566,"question_id":72495825,"body_markdown":"I am very confused about this architecture. I am not even sure is it possible.\r\n\r\nI have more than 10 microservises and a API Gateway. I want to add authentication and authorization to this system. One of this services is `authentication-server` and it has\r\nan endpoint which is `/signin` \r\n\r\n    @PostMapping(value = &quot;/signin&quot;)\r\n    public UserLoginResponse login(@Valid @RequestBody UserLoginRequest userLoginRequest) {\r\n        return authService.login(userLoginRequest);\r\n    }\r\n    \r\n    public class UserLoginResponse {\r\n        private String accessToken; //accessToken is jwt token and it has ROLE field.\r\n    }\r\n    \r\n    public class UserLoginRequest {\r\n        private String username;\r\n        private String password;\r\n    }\r\n\r\nHere is the confusing part for me: Right now gateway creates code duplication. When I add to a new endpoint, I need to add almost same controller/service/models to API Gateway.\r\nFor example:\r\nLets say `microservice A` has `/product` endpoint, these are (veeery roughly) the classes I should have\r\n\r\n    // Controller\r\n    class ProductController {\r\n        @GetMapping(&quot;/product/{id}&quot;)\r\n        public ProductResponse getProduct(@PathVariable String id) {\r\n            return productService.getProduct(id)\r\n        }\r\n    }\r\n    \r\n    // Service\r\n    class ProductService {\r\n        public getProduct(String id){\r\n            return productRepository.get(id);\r\n        }    \r\n    }\r\n    \r\n    // Response DTO\r\n    class ProductResponse(){\r\n        private String id;\r\n        private String name;\r\n    }\r\n\r\nOur team also has implemented classes in the gateway.\r\n\r\n\r\n    //Controller has authorization with @PreAuthorize annotation.\r\n    @RestController\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;USER&#39;, &#39;ADMIN&#39;)&quot;)\r\n    class ProductController {\r\n        @GetMapping(&quot;/product/{id}&quot;)\r\n        public ProductResponse getProduct(PathVariable String id) {\r\n            return productService.getProduct(id)\r\n        }\r\n    }\r\n    \r\n    // Service\r\n    class ProductService {\r\n        private final ClientApi productClientApi;\r\n    \r\n        public ProductService(ClientApi productClientApi) {\r\n            this.productClientApi = productClientApi;\r\n        }\r\n    \r\n        public getProduct(String id){\r\n            return productClientApi.getProduct(id);\r\n        }    \r\n    }\r\n    \r\n    //This is feign client. It makes http requests to product-api\r\n    @FeignClient(\r\n        &quot;product-api&quot;,\r\n        url = &quot;\\${product-api.base-url}&quot;,\r\n        configuration = [FeignClientConfiguration::class]\r\n    )\r\n    interface ClientApi(){\r\n        @GetMapping( value = {&quot;product/{id}&quot;}, consumes = {&quot;application/json&quot;} )\r\n        ProductResponse getProduct(@PathVariable String id);\r\n    }\r\n    \r\n    // Response DTO\r\n    class ProductResponse(){\r\n        private String id;\r\n        private String name;\r\n    }\r\n\r\n\r\n\r\n 1. When a request comes to `/product` its jwt token controlled here and if it has proper permission, it goes to the service layer, \r\n 2. Service layer makes request to `product-api`(which is microservice A)\r\n 3. returns the response\r\n\r\nQuestion: There should be easier way. Every new endpoint in the services costs us code duplication in Gateway. I think I want just routing. Whatever comes to gateway directly should be routed to services and it should still has the authentication/authorization responsibility. I know that I can do that as below with spring-cloud-gateway but I couldn&#39;t figure out how can i do that with authentication and authorization. Can anyone explain me that am i thinking wrong ?\r\n\r\n\r\n\r\n    spring:\r\n      application:\r\n      name: &quot;API-GATEWAY&quot;\r\n    \r\n    \r\n      cloud:\r\n       gateway:\r\n        routes:\r\n          - id: product-service\r\n            uri: &#39;http://product-url:8083&#39;\r\n            predicates:\r\n              - Path=/product/**\r\n\r\n\r\n\r\n","title":"How to use spring-cloud-gateway for authentication and authorization?","body":"<p>I am very confused about this architecture. I am not even sure is it possible.</p>\n<p>I have more than 10 microservises and a API Gateway. I want to add authentication and authorization to this system. One of this services is <code>authentication-server</code> and it has\nan endpoint which is <code>/signin</code></p>\n<pre><code>@PostMapping(value = &quot;/signin&quot;)\npublic UserLoginResponse login(@Valid @RequestBody UserLoginRequest userLoginRequest) {\n    return authService.login(userLoginRequest);\n}\n\npublic class UserLoginResponse {\n    private String accessToken; //accessToken is jwt token and it has ROLE field.\n}\n\npublic class UserLoginRequest {\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>Here is the confusing part for me: Right now gateway creates code duplication. When I add to a new endpoint, I need to add almost same controller/service/models to API Gateway.\nFor example:\nLets say <code>microservice A</code> has <code>/product</code> endpoint, these are (veeery roughly) the classes I should have</p>\n<pre><code>// Controller\nclass ProductController {\n    @GetMapping(&quot;/product/{id}&quot;)\n    public ProductResponse getProduct(@PathVariable String id) {\n        return productService.getProduct(id)\n    }\n}\n\n// Service\nclass ProductService {\n    public getProduct(String id){\n        return productRepository.get(id);\n    }    \n}\n\n// Response DTO\nclass ProductResponse(){\n    private String id;\n    private String name;\n}\n</code></pre>\n<p>Our team also has implemented classes in the gateway.</p>\n<pre><code>//Controller has authorization with @PreAuthorize annotation.\n@RestController\n@PreAuthorize(&quot;hasAnyRole('USER', 'ADMIN')&quot;)\nclass ProductController {\n    @GetMapping(&quot;/product/{id}&quot;)\n    public ProductResponse getProduct(PathVariable String id) {\n        return productService.getProduct(id)\n    }\n}\n\n// Service\nclass ProductService {\n    private final ClientApi productClientApi;\n\n    public ProductService(ClientApi productClientApi) {\n        this.productClientApi = productClientApi;\n    }\n\n    public getProduct(String id){\n        return productClientApi.getProduct(id);\n    }    \n}\n\n//This is feign client. It makes http requests to product-api\n@FeignClient(\n    &quot;product-api&quot;,\n    url = &quot;\\${product-api.base-url}&quot;,\n    configuration = [FeignClientConfiguration::class]\n)\ninterface ClientApi(){\n    @GetMapping( value = {&quot;product/{id}&quot;}, consumes = {&quot;application/json&quot;} )\n    ProductResponse getProduct(@PathVariable String id);\n}\n\n// Response DTO\nclass ProductResponse(){\n    private String id;\n    private String name;\n}\n</code></pre>\n<ol>\n<li>When a request comes to <code>/product</code> its jwt token controlled here and if it has proper permission, it goes to the service layer,</li>\n<li>Service layer makes request to <code>product-api</code>(which is microservice A)</li>\n<li>returns the response</li>\n</ol>\n<p>Question: There should be easier way. Every new endpoint in the services costs us code duplication in Gateway. I think I want just routing. Whatever comes to gateway directly should be routed to services and it should still has the authentication/authorization responsibility. I know that I can do that as below with spring-cloud-gateway but I couldn't figure out how can i do that with authentication and authorization. Can anyone explain me that am i thinking wrong ?</p>\n<pre><code>spring:\n  application:\n  name: &quot;API-GATEWAY&quot;\n\n\n  cloud:\n   gateway:\n    routes:\n      - id: product-service\n        uri: 'http://product-url:8083'\n        predicates:\n          - Path=/product/**\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654291930,"post_id":72495317,"comment_id":128064705,"body_markdown":"A JList does not support editing and was not designed to display multiple columns of data. Maybe try a `JTable` which allows editing on individual columns. See: [Concepts: Editors and Renderers](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender). If you need to be able to edit the text of a simple JList then check out [List Editor](https://tips4java.wordpress.com/2008/10/19/list-editor/) for a limited implementation.","body":"A JList does not support editing and was not designed to display multiple columns of data. Maybe try a <code>JTable</code> which allows editing on individual columns. See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\" rel=\"nofollow noreferrer\">Concepts: Editors and Renderers</a>. If you need to be able to edit the text of a simple JList then check out <a href=\"https://tips4java.wordpress.com/2008/10/19/list-editor/\" rel=\"nofollow noreferrer\">List Editor</a> for a limited implementation."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654294994,"post_id":72495317,"comment_id":128065240,"body_markdown":"[This](https://stackoverflow.com/questions/23796471/how-to-change-description-image-in-jlist-java/23797943#23797943) is why we would recommend a `JTable` over trying to make `JList` editable","body":"<a href=\"https://stackoverflow.com/questions/23796471/how-to-change-description-image-in-jlist-java/23797943#23797943\">This</a> is why we would recommend a <code>JTable</code> over trying to make <code>JList</code> editable"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654295618,"creation_date":1654295618,"answer_id":72495733,"question_id":72495317,"body_markdown":"So basically the answer is to favour JTable over JList. For anyone questioning that, the JTable can be configured to show one column only, and the difference would not be visible to the user.\r\n\r\nProgramming wise JTable is more complex and thus justifies that JList is used in simple cases (only one columne, no editing required).","title":"JList and ListCellEditor?","body":"<p>So basically the answer is to favour JTable over JList. For anyone questioning that, the JTable can be configured to show one column only, and the difference would not be visible to the user.</p>\n<p>Programming wise JTable is more complex and thus justifies that JList is used in simple cases (only one columne, no editing required).</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654295618,"creation_date":1654291639,"question_id":72495317,"body_markdown":"I have a Swing application that shows a list of complex objects to the user. These are nicely rendered using a ListCellRender, which fills a JPanel with more UI controls. Obviously editing does not work and the components are not enabled to accept input.\r\n\r\nNow I want the user to be able to edit the entries. Basically you could think of in-place editing. I tried to simply enable the panel that renders the list entries - but it does not work. What else could/should I do to have an editable list?","title":"JList and ListCellEditor?","body":"<p>I have a Swing application that shows a list of complex objects to the user. These are nicely rendered using a ListCellRender, which fills a JPanel with more UI controls. Obviously editing does not work and the components are not enabled to accept input.</p>\n<p>Now I want the user to be able to edit the entries. Basically you could think of in-place editing. I tried to simply enable the panel that renders the list entries - but it does not work. What else could/should I do to have an editable list?</p>\n"},{"tags":["java","angular","spring-boot","foreign-keys","addition"],"answers":[{"tags":[],"owner":{"account_id":6210211,"reputation":230,"user_id":4836701,"display_name":"BOUALI ALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654273418,"creation_date":1654273418,"answer_id":72492516,"question_id":72491864,"body_markdown":"You need to specifiy the category ID when creating a new product. ","title":"How to post a new product with foreign key to add a product with a category_id , Angular and SpringBoot","body":"<p>You need to specifiy the category ID when creating a new product.</p>\n"}],"owner":{"account_id":20985880,"reputation":33,"user_id":15419698,"display_name":"Houda Boukhobza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654294927,"creation_date":1654270081,"question_id":72491864,"body_markdown":"I have two entities Product and Category (Many to one) relation.I wanna add a new product but it always failed.\r\n\r\n**Error Both in console and postman**\r\n : cause: {cause: {}, message: &#39;could not execute statement&#39;}\r\nmessage: &quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException:\r\n\r\n**who can help please!!**\r\n\r\n**Product.ts**\r\n```\r\nexport class Product {\r\n  public id: number;\r\n  public description;\r\n  public name: string;\r\n  public unitPrice: number;\r\n  public materiaux: string;\r\n  public categoryId:number;}\r\n```\r\n** ProductCategory.ts**\r\n\r\n```\r\nexport class ProductCategory {\r\n  public id:number;\r\n  public categoryName:string;\r\n}\r\n```\r\n\r\n\r\n**catalogue.service.ts**:  Post Methode \r\n```\r\npublic postData(value)  {\r\n    return this.httpClient.post(this.host+&quot;products&quot;,value);\r\n  }\r\n```\r\n\r\n**new-product.component.ts**\r\n\r\n```\r\nimport { Component, OnInit } from &#39;@angular/core&#39;;\r\nimport {CatalogueService} from &quot;../services/catalogue.service&quot;;\r\nimport {Router} from &quot;@angular/router&quot;;\r\nimport {Product} from &quot;../model/product.model&quot;;\r\n\r\n@Component({\r\n  selector: &#39;app-new-product&#39;,\r\n  templateUrl: &#39;./new-product.component.html&#39;,\r\n  styleUrls: [&#39;./new-product.component.css&#39;]\r\n})\r\nexport class NewProductComponent implements OnInit {\r\n  ProductCategories: any;\r\n  products:any;\r\n  size:number=5;\r\n  currentPage:number=0\r\n  totalPages:number=0\r\n  pages:Array&lt;number&gt;;\r\n  ProductCategory:any;\r\n\r\n  private  currentProduct:any;\r\n  constructor(private service:CatalogueService, private router:Router) { }\r\n\r\n  ngOnInit() {\r\n    this.onGetProducts();\r\n    this.service.findAllCategory().subscribe(data =&gt;{\r\n      this.ProductCategories=data ;\r\n    },error=&gt;{\r\n      console.log(error);\r\n    })\r\n  }\r\n  saveProduct(value) {\r\n\r\n    this.service.findCategory(value.category).subscribe(data=&gt;{\r\n      this.ProductCategory = data;\r\n      console.log(data);\r\n    });\r\n    value = {\r\n      &quot;name&quot;: value.name,\r\n      &quot;quantity&quot;:value.quantity,\r\n      &quot;unitPrice&quot;:value.unitPrice,\r\n      &quot;materiaux&quot;:value.materiaux,\r\n      &quot;category&quot;: this.ProductCategory,\r\n\r\n    }\r\n    this.service.postData(value).subscribe(d =&gt;{\r\n      this.currentProduct =  d;\r\n    return this.router.navigateByUrl(&quot;/new-product&quot;);\r\n    });\r\n  }\r\n  }\r\n```\r\n**new-product.html**\r\n\r\n```\r\n&lt;div class=&quot;card&quot;&gt;\r\n    &lt;div class=&quot;card-body&quot;&gt;\r\n        &lt;form #f=&quot;ngForm&quot; (ngSubmit)=&quot;saveProduct(f.value)&quot;&gt;\r\n        &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;label for=&quot;name&quot;&gt;Designation&lt;/label&gt;\r\n              &lt;input ngModel placeholder=&quot;Designation&quot; type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; class=&quot;form-control&quot;&gt;\r\n            &lt;/div&gt;\r\n            \r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label for=&quot;unitPrice&quot;&gt;Prix&lt;/label&gt;\r\n            &lt;input ngModel placeholder=&quot;Price&quot; type=&quot;number&quot; name=&quot;unitPrice&quot; id=&quot;unitPrice&quot; class=&quot;form-control&quot;&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label for=&quot;quantity&quot;&gt;Quantite&lt;/label&gt;\r\n            &lt;input ngModel placeholder=&quot;Quantite&quot; type=&quot;number&quot; name=&quot;quantity&quot; id=&quot;quantity&quot; class=&quot;form-control&quot;&gt;\r\n          &lt;/div&gt;\r\n         \r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label for=&quot;materiaux&quot;&gt;Materiaux du  produit &lt;/label&gt;\r\n            &lt;select class=&quot;form-control&quot; ngModel  name=&quot;materiaux&quot; id=&quot;materiaux&quot;&gt;\r\n              &lt;option value=&quot;&quot;&gt;----------&lt;/option&gt;\r\n              &lt;option  value=&quot;Gold&quot;&gt;Gold&lt;/option&gt;\r\n              &lt;option  value=&quot;Diamond&quot;&gt;Diamond&lt;/option&gt;\r\n              &lt;option  value=&quot;Silver&quot;&gt;Silver&lt;/option&gt;\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n            &lt;label for=&quot;category&quot;&gt;Categorie du produit &lt;/label&gt;\r\n            &lt;select *ngIf=&quot;ProductCategories&quot;  class=&quot;form-control&quot; ngModel  name=&quot;category&quot; id=&quot;category&quot;&gt;\r\n              &lt;option value=&quot;&quot;&gt;----------&lt;/option&gt;\r\n              &lt;option *ngFor=&quot;let c of ProductCategories._embedded.productCategories&quot; value=&quot;{{c.id}}&quot;&gt;{{c.categoryName}}&lt;/option&gt;\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n          &lt;button class=&quot;btn btn-sm btn-primary&quot;&gt;Ajouter&lt;/button&gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n  &lt;/div&gt;\r\n```\r\n**Product.java**\r\n``` \r\n@Entity\r\n@Table(name=&quot;product&quot;)\r\n@Data\r\npublic class Product {\r\n\r\n @Id\r\n @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n @Column(name = &quot;id&quot;)\r\n private Long id;\r\n\r\n @ManyToOne\r\n @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n private ProductCategory category;\r\n\r\n\r\n\r\n @Column(name = &quot;sku&quot;)\r\n private String sku;\r\n\r\n @Column(name = &quot;materiaux&quot;)\r\n private String materiaux;\r\n\r\n[and other Attributes.............]\r\n\r\n ```\r\n    \r\n**ProductCategory**\r\n\r\n``` @Entity\r\n@Table(name=&quot;product_category&quot;)\r\n// @Data -- known bug\r\n@Getter\r\n@Setter\r\npublic class ProductCategory {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;category_name&quot;)\r\n    private String categoryName;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;category&quot;)\r\n    private Set&lt;Product&gt; products;\r\n\r\n}\r\n ```\r\n","title":"How to post a new product with foreign key to add a product with a category_id , Angular and SpringBoot","body":"<p>I have two entities Product and Category (Many to one) relation.I wanna add a new product but it always failed.</p>\n<p><strong>Error Both in console and postman</strong>\n: cause: {cause: {}, message: 'could not execute statement'}\nmessage: &quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException:</p>\n<p><strong>who can help please!!</strong></p>\n<p><strong>Product.ts</strong></p>\n<pre><code>export class Product {\n  public id: number;\n  public description;\n  public name: string;\n  public unitPrice: number;\n  public materiaux: string;\n  public categoryId:number;}\n</code></pre>\n<p>** ProductCategory.ts**</p>\n<pre><code>export class ProductCategory {\n  public id:number;\n  public categoryName:string;\n}\n</code></pre>\n<p><strong>catalogue.service.ts</strong>:  Post Methode</p>\n<pre><code>public postData(value)  {\n    return this.httpClient.post(this.host+&quot;products&quot;,value);\n  }\n</code></pre>\n<p><strong>new-product.component.ts</strong></p>\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {CatalogueService} from &quot;../services/catalogue.service&quot;;\nimport {Router} from &quot;@angular/router&quot;;\nimport {Product} from &quot;../model/product.model&quot;;\n\n@Component({\n  selector: 'app-new-product',\n  templateUrl: './new-product.component.html',\n  styleUrls: ['./new-product.component.css']\n})\nexport class NewProductComponent implements OnInit {\n  ProductCategories: any;\n  products:any;\n  size:number=5;\n  currentPage:number=0\n  totalPages:number=0\n  pages:Array&lt;number&gt;;\n  ProductCategory:any;\n\n  private  currentProduct:any;\n  constructor(private service:CatalogueService, private router:Router) { }\n\n  ngOnInit() {\n    this.onGetProducts();\n    this.service.findAllCategory().subscribe(data =&gt;{\n      this.ProductCategories=data ;\n    },error=&gt;{\n      console.log(error);\n    })\n  }\n  saveProduct(value) {\n\n    this.service.findCategory(value.category).subscribe(data=&gt;{\n      this.ProductCategory = data;\n      console.log(data);\n    });\n    value = {\n      &quot;name&quot;: value.name,\n      &quot;quantity&quot;:value.quantity,\n      &quot;unitPrice&quot;:value.unitPrice,\n      &quot;materiaux&quot;:value.materiaux,\n      &quot;category&quot;: this.ProductCategory,\n\n    }\n    this.service.postData(value).subscribe(d =&gt;{\n      this.currentProduct =  d;\n    return this.router.navigateByUrl(&quot;/new-product&quot;);\n    });\n  }\n  }\n</code></pre>\n<p><strong>new-product.html</strong></p>\n<pre><code>&lt;div class=&quot;card&quot;&gt;\n    &lt;div class=&quot;card-body&quot;&gt;\n        &lt;form #f=&quot;ngForm&quot; (ngSubmit)=&quot;saveProduct(f.value)&quot;&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n              &lt;label for=&quot;name&quot;&gt;Designation&lt;/label&gt;\n              &lt;input ngModel placeholder=&quot;Designation&quot; type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; class=&quot;form-control&quot;&gt;\n            &lt;/div&gt;\n            \n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;unitPrice&quot;&gt;Prix&lt;/label&gt;\n            &lt;input ngModel placeholder=&quot;Price&quot; type=&quot;number&quot; name=&quot;unitPrice&quot; id=&quot;unitPrice&quot; class=&quot;form-control&quot;&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;quantity&quot;&gt;Quantite&lt;/label&gt;\n            &lt;input ngModel placeholder=&quot;Quantite&quot; type=&quot;number&quot; name=&quot;quantity&quot; id=&quot;quantity&quot; class=&quot;form-control&quot;&gt;\n          &lt;/div&gt;\n         \n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;materiaux&quot;&gt;Materiaux du  produit &lt;/label&gt;\n            &lt;select class=&quot;form-control&quot; ngModel  name=&quot;materiaux&quot; id=&quot;materiaux&quot;&gt;\n              &lt;option value=&quot;&quot;&gt;----------&lt;/option&gt;\n              &lt;option  value=&quot;Gold&quot;&gt;Gold&lt;/option&gt;\n              &lt;option  value=&quot;Diamond&quot;&gt;Diamond&lt;/option&gt;\n              &lt;option  value=&quot;Silver&quot;&gt;Silver&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;category&quot;&gt;Categorie du produit &lt;/label&gt;\n            &lt;select *ngIf=&quot;ProductCategories&quot;  class=&quot;form-control&quot; ngModel  name=&quot;category&quot; id=&quot;category&quot;&gt;\n              &lt;option value=&quot;&quot;&gt;----------&lt;/option&gt;\n              &lt;option *ngFor=&quot;let c of ProductCategories._embedded.productCategories&quot; value=&quot;{{c.id}}&quot;&gt;{{c.categoryName}}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n          &lt;button class=&quot;btn btn-sm btn-primary&quot;&gt;Ajouter&lt;/button&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n<p><strong>Product.java</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;product&quot;)\n@Data\npublic class Product {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n @Column(name = &quot;id&quot;)\n private Long id;\n\n @ManyToOne\n @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n private ProductCategory category;\n\n\n\n @Column(name = &quot;sku&quot;)\n private String sku;\n\n @Column(name = &quot;materiaux&quot;)\n private String materiaux;\n\n[and other Attributes.............]\n\n</code></pre>\n<p><strong>ProductCategory</strong></p>\n<pre><code>@Table(name=&quot;product_category&quot;)\n// @Data -- known bug\n@Getter\n@Setter\npublic class ProductCategory {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;category_name&quot;)\n    private String categoryName;\n\n    @JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;category&quot;)\n    private Set&lt;Product&gt; products;\n\n}\n</code></pre>\n"},{"tags":["java","selenium","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":18490732,"reputation":1487,"user_id":13470437,"display_name":"Asmoun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654286174,"creation_date":1654286174,"answer_id":72494595,"question_id":72493809,"body_markdown":"according to [documentation][1]\r\n\r\n&gt; A HeadlessException is thrown when code that depends on a display\r\n&gt; device, keyboard, or mouse is called in an environment that does not\r\n&gt; support any of these\r\n&gt; \r\n\r\ntry to execute when headless mode is False\r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/javase/headless.html","title":"Getting java.awt.HeadlessException in Java code","body":"<p>according to <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>A HeadlessException is thrown when code that depends on a display\ndevice, keyboard, or mouse is called in an environment that does not\nsupport any of these</p>\n</blockquote>\n<p>try to execute when headless mode is False</p>\n"}],"owner":{"account_id":24109599,"reputation":85,"user_id":18080361,"display_name":"Pratik P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72494595,"answer_count":1,"score":1,"last_activity_date":1654294919,"creation_date":1654281152,"question_id":72493809,"body_markdown":"Trying to run the code below and I am getting java.awt.HeadlessException. Not getting where is the issue. \r\n\r\n    public void uploadFile(String filename) throws Exception {\r\n    \t\tclickOnAddFilesAndComment();\r\n    \t\tWaitActions.waitForElementToBeClickable(driver, uploadButton, Utils.EXPLICIT_WAIT_VALUE_LONG);\r\n    \t\tuploadButton.click();\r\n    \r\n    \t\tWaitActions.wait(4000);\r\n    \t\tString testDataPath = &quot;\\\\src\\\\test\\\\resources\\\\testFiles\\\\&quot;;\r\n    \t\tString uploadPath = System.getProperty(&quot;user.dir&quot;) + testDataPath + filename;\r\n    \t\tSystem.out.println(uploadPath);\r\n    \r\n    \t\tStringSelection str = new StringSelection(uploadPath);\r\n    \t\tToolkit.getDefaultToolkit().getSystemClipboard().setContents(str, null);\r\n    \r\n    \t\t// uploadButton.sendKeys(uploadPath);\r\n    \t\tRobot r = new Robot();\r\n    \t\t// pressing enter\r\n    \t\tr.keyPress(KeyEvent.VK_CONTROL);\r\n    \t\t// releasing enter\r\n    \t\tr.keyPress(KeyEvent.VK_V);\r\n    \t\t// pressing ctrl+v\r\n    \t\tr.keyRelease(KeyEvent.VK_V);\r\n    \t\tr.keyPress(KeyEvent.VK_CONTROL);\r\n    \t\t// releasing ctrl+v\r\n    \t\tr.keyRelease(KeyEvent.VK_CONTROL);\r\n    \t\t// pressing enter\r\n    \t\tr.keyPress(KeyEvent.VK_ENTER);\r\n    \r\n    \t\tWaitActions.wait(Utils.LONG_WAIT_DEFAULT_MILLS);\r\n    \r\n    \t\tcommentTextArea.sendKeys(&quot;test_&quot; + filename);\r\n    \t\tWaitActions.waitForElementToBeClickable(driver, commentButton, Utils.EXPLICIT_WAIT_VALUE_LONG);\r\n    \t\tcommentButton.click();\r\n    \t\tWaitActions.wait(Utils.LONG_WAIT_DEFAULT_MILLS);\r\n    \t}\r\n\r\nI am getting the following error:\r\n\r\n    java.awt.HeadlessException\r\n    \tat java.desktop/sun.awt.HeadlessToolkit.getSystemClipboard(HeadlessToolkit.java:216)\r\n    \tat pageObjects.ShareHolderInputScreenPage.uploadFile(ShareHolderInputScreenPage.java:725)\r\n    \tat stepDefinitions.ShareHolderInputScreenStepDefinitions.uploadFileAndComments(ShareHolderInputScreenStepDefinitions.java:338)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nNot getting what headless toolkit is been passed. I tried to debug the upload path but it is taking proper value. Tested that manually as well as whether that upload path is working or not.\r\n","title":"Getting java.awt.HeadlessException in Java code","body":"<p>Trying to run the code below and I am getting java.awt.HeadlessException. Not getting where is the issue.</p>\n<pre><code>public void uploadFile(String filename) throws Exception {\n        clickOnAddFilesAndComment();\n        WaitActions.waitForElementToBeClickable(driver, uploadButton, Utils.EXPLICIT_WAIT_VALUE_LONG);\n        uploadButton.click();\n\n        WaitActions.wait(4000);\n        String testDataPath = &quot;\\\\src\\\\test\\\\resources\\\\testFiles\\\\&quot;;\n        String uploadPath = System.getProperty(&quot;user.dir&quot;) + testDataPath + filename;\n        System.out.println(uploadPath);\n\n        StringSelection str = new StringSelection(uploadPath);\n        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(str, null);\n\n        // uploadButton.sendKeys(uploadPath);\n        Robot r = new Robot();\n        // pressing enter\n        r.keyPress(KeyEvent.VK_CONTROL);\n        // releasing enter\n        r.keyPress(KeyEvent.VK_V);\n        // pressing ctrl+v\n        r.keyRelease(KeyEvent.VK_V);\n        r.keyPress(KeyEvent.VK_CONTROL);\n        // releasing ctrl+v\n        r.keyRelease(KeyEvent.VK_CONTROL);\n        // pressing enter\n        r.keyPress(KeyEvent.VK_ENTER);\n\n        WaitActions.wait(Utils.LONG_WAIT_DEFAULT_MILLS);\n\n        commentTextArea.sendKeys(&quot;test_&quot; + filename);\n        WaitActions.waitForElementToBeClickable(driver, commentButton, Utils.EXPLICIT_WAIT_VALUE_LONG);\n        commentButton.click();\n        WaitActions.wait(Utils.LONG_WAIT_DEFAULT_MILLS);\n    }\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>java.awt.HeadlessException\n    at java.desktop/sun.awt.HeadlessToolkit.getSystemClipboard(HeadlessToolkit.java:216)\n    at pageObjects.ShareHolderInputScreenPage.uploadFile(ShareHolderInputScreenPage.java:725)\n    at stepDefinitions.ShareHolderInputScreenStepDefinitions.uploadFileAndComments(ShareHolderInputScreenStepDefinitions.java:338)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>Not getting what headless toolkit is been passed. I tried to debug the upload path but it is taking proper value. Tested that manually as well as whether that upload path is working or not.</p>\n"},{"tags":["java","file","filewriter"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1654202975,"post_id":72481216,"comment_id":128041877,"body_markdown":"Could you add the way the methods in the FileManagement class are called?  \nBesides, the toString() method doesn&#39;t return the ID of an object stored in RAM, rather it returns a string with the object class name and its hashcode as shows the documentation [here](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--)","body":"Could you add the way the methods in the FileManagement class are called?   Besides, the toString() method doesn&#39;t return the ID of an object stored in RAM, rather it returns a string with the object class name and its hashcode as shows the documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654222426,"post_id":72481216,"comment_id":128045137,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654252278,"post_id":72481216,"comment_id":128052037,"body_markdown":"You should not confuse the array `allFiles` (which is initialized with `directory.list()`) and `eBanking.accounts`.","body":"You should not confuse the array <code>allFiles</code> (which is initialized with <code>directory.list()</code>) and <code>eBanking.accounts</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1654252634,"post_id":72481216,"comment_id":128052133,"body_markdown":"There is no code here that behaves as you have described.","body":"There is no code here that behaves as you have described."}],"answers":[{"tags":[],"owner":{"account_id":25458886,"reputation":1,"user_id":19259066,"display_name":"Klaus Kazazi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654294893,"creation_date":1654198030,"answer_id":72481384,"question_id":72481216,"body_markdown":"I think I have found a solution. I just remembered that when using FileWriter if a file does not exist it creates one automatically. So i have cancelled the method which creates a file whenever a new object is created and now whenever the program is closed the files are created if needed or overwritten if they already exist.\r\n\r\nI have provided all the current code on my program and the fix I implemented on FileManagment class","title":"Is it possible to create a text file and then on the same run or runtime of the code also read and write in these files? Java","body":"<p>I think I have found a solution. I just remembered that when using FileWriter if a file does not exist it creates one automatically. So i have cancelled the method which creates a file whenever a new object is created and now whenever the program is closed the files are created if needed or overwritten if they already exist.</p>\n<p>I have provided all the current code on my program and the fix I implemented on FileManagment class</p>\n"}],"owner":{"account_id":25458886,"reputation":1,"user_id":19259066,"display_name":"Klaus Kazazi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654294893,"creation_date":1654197060,"question_id":72481216,"body_markdown":"I was working on a Uni project for the end of the semester. The program is a simple bank system. My issue is that when the program first launches it creates a &quot;Log&quot; folder. Then when an account object is created using a Constructor a new txt file is created in the folder with the name of the account holder. Up until here I have managed to do it. \r\n\r\nThe issue is that when closing the program via the option menu but before closing the program, all the details from all the created objects (which are stored in a array) are written in their respective files following the order they are stored in the object array but on the first run the files are created but nothing is written in them.\r\n\r\nThen on the 2nd run if I close the program again the details are written correctly. Can I have some suggestions please I could not find anything regarding this online? \r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class FileManagement {\r\n\r\n  static String pathnameFile = &quot;src\\\\Log&quot;;\r\n  static File directory = new File(pathnameFile);\r\n  static String[] allFiles = directory.list();\r\n\r\n  public static void createFolder() {\r\n    File logFile = new File(pathnameFile);\r\n    if (!logFile.exists()) {\r\n      logFile.mkdir();\r\n    }\r\n  }\r\n  public static void writeFiles() throws IOException {\r\n    FileWriter writer;\r\n    for (int i = 0; i &lt; allFiles.length; i++) {\r\n      writer = new FileWriter(pathnameFile + &quot;\\\\&quot; + allFiles[i]);\r\n      writer.write(&quot;accountName= &quot; + eBanking.accounts[i].getAccountName() + &quot;\\n&quot;);\r\n      writer.write(&quot;PIN= &quot; + eBanking.accounts[i].getPIN() + &quot;\\n&quot;);\r\n      writer.write(&quot;balance= &quot; + Integer.toString(eBanking.accounts[i].getBalance()) + &quot;\\n&quot;);\r\n      writer.write(&quot;Object ID stored in RAM= &quot; + eBanking.accounts[i].toString() + &quot;\\n&quot;);\r\n      writer.close();\r\n    }\r\n  }\r\n//original method\r\n  /*public static void readFiles() {\r\n    Scanner reader;\r\n    for (int i = 0; i &lt; allFiles.length; i++) {\r\n      reader = new Scanner(pathnameFile + allFiles[i]);\r\n    }\r\n  }*/\r\n//My solution\r\n  public static void readFiles() throws IOException{\r\n        if(directory.exists() == false || allFiles == null) {\r\n            return;\r\n        }\r\n        Scanner reader;\r\n        File currentFile;\r\n        String[] data = new String[4];\r\n        for(int i = 0; i &lt; allFiles.length; i++) {\r\n            currentFile = new File(pathnameFile + &quot;\\\\&quot; +allFiles[i]);\r\n            reader = new Scanner(currentFile);\r\n            int count = 0;\r\n            while(reader.hasNextLine()) {\r\n                if(!reader.hasNext()) {\r\n                    break;\r\n                }\r\n                reader.next();\r\n                data[count] = reader.next();\r\n                count++;\r\n            }\r\n            reader.close();\r\n            String accountName = data[0];\r\n            String PIN = data[1];\r\n            int balance = Integer.parseInt(data[2]);\r\n            eBanking.accounts[i] = new eBanking(accountName, PIN, balance);\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class App {\r\n    public static eBanking currentAccount;\r\n    public static void mainMenu() throws Exception{\r\n        while (true) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;&quot;&quot;\r\n                --------------------------------------------------------\r\n                1. Log in\r\n                2. Register\r\n                0. Exit.\r\n                --------------------------------------------------------\r\n                    &quot;&quot;&quot;);\r\n            int menuOption = input.nextInt();\r\n            switch (menuOption) {\r\n                case 1 -&gt; {\r\n                    System.out.println(&quot;Please enter your account name and PIN below.&quot;);\r\n                    System.out.print(&quot;Account name: &quot;);\r\n                    String accountName = input.next();\r\n                    System.out.print(&quot;PIN: &quot;);\r\n                    String PIN = input.next();\r\n                    System.out.println();\r\n\r\n                    for (int i = 0; i &lt; eBanking.accounts.length; i++) {\r\n                        if (accountName.equals(eBanking.accounts[i].getAccountName()) &amp;&amp; PIN.equals(eBanking.accounts[i].getPIN())) {\r\n                            eBanking.accounts[i].welcome();\r\n                            currentAccount = eBanking.accounts[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                    menu();\r\n                }\r\n                case 2 -&gt; {\r\n                    System.out.println(&quot;Please enter the account name, PIN and inital balance of your new account.&quot;);\r\n                    System.out.print(&quot;Account name:&quot;);\r\n                    String accountNameRegister = input.next();\r\n                    System.out.print(&quot;PIN: &quot;);\r\n                    String registerPIN = input.next();\r\n                    System.out.print(&quot;Initial balance: &quot;);\r\n                    int initialBalance = input.nextInt();\r\n\r\n                    currentAccount = new eBanking(accountNameRegister, registerPIN, initialBalance);\r\n                    menu();\r\n                }\r\n                default -&gt; {\r\n                    FileManagement.writeFiles();\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void menu() {\r\n        Scanner input = new Scanner(System.in); \r\n        while (true) {\r\n            System.out.println(&quot;&quot;&quot;\r\n                --------------------------------------------------------\r\n                1. Show your balance.\r\n                2. Withdraw money.\r\n                3. Deposit money.\r\n                4. Change your PIN.\r\n                5. Transfer money to another person.\r\n                0. Back.\r\n                --------------------------------------------------------\r\n                    &quot;&quot;&quot;);\r\n            int menuOption = input.nextInt();\r\n            switch (menuOption) {\r\n                case 1 -&gt; {\r\n                    currentAccount.showBalance();\r\n                }\r\n                case 2 -&gt; {\r\n                    System.out.println(&quot;Please enter the amount you want to withdraw: &quot;);\r\n                    int withdrawAmount = input.nextInt();\r\n                    currentAccount.withdraw(withdrawAmount);\r\n                }\r\n                case 3 -&gt; {\r\n                    System.out.println(&quot;Please enter the amount you want to deposit: &quot;);\r\n                    int depositAmount = input.nextInt();\r\n                    currentAccount.deposit(depositAmount);\r\n                }\r\n                case 4 -&gt; {\r\n                    currentAccount.changePIN();\r\n                }\r\n                case 5 -&gt; {\r\n                    System.out.println(&quot;Please enter the amount you want to send: &quot;);\r\n                    int amount = input.nextInt();\r\n                    System.out.println(&quot;Please enter the account number you want to send the money to: &quot;);\r\n                    String transferAccount = input.next();// Me nextLine(); duhet ta shkruaj 2 here qe ta marri, duke perdor next(); problemi evitohet (E kam hasur edhe tek c++ kete problem)  \r\n                    System.out.println(&quot;The amount of money is completed&quot;);\r\n                    currentAccount.transfer(amount, transferAccount);\r\n                }\r\n                case 0 -&gt; {\r\n                    return;\r\n                }\r\n                default -&gt; {\r\n                    System.out.println(&quot;Please enter a number from the menu list!&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        FileManagement.createFolder();\r\n        FileManagement.readFiles();\r\n        mainMenu();\r\n    }\r\n}\r\n```\r\n```java\r\nimport java.util.Scanner;\r\nimport java.io.*;\r\n\r\npublic class eBanking extends BankAccount {\r\n    // Variable declaration\r\n    Scanner input = new Scanner(System.in);\r\n    private String accountName;\r\n    private String accountID;\r\n\r\n    public static eBanking[] accounts = new eBanking[100];\r\n\r\n    // Methods\r\n    public String getAccountName() {\r\n        return accountName;\r\n    }\r\n    public void welcome() {\r\n        System.out.println(&quot;---------------------------------------------------------------------------------------&quot;);\r\n        System.out.println(&quot;Hello &quot; + accountName + &quot;. Welcome to eBanking! Your account number is: &quot; + this.accountID);\r\n    }\r\n    public void transfer(int x, String str) {\r\n        boolean foundID = false;\r\n        withdraw(x);\r\n        if (initialBalance == 0) {\r\n            System.out.println(&quot;Transaction failed!&quot;);\r\n        } else if (initialBalance &lt; x) {\r\n            for(int i = 0; i &lt; numberOfAccount; i++) {\r\n                if (str.equals(accounts[i].accountID)) {\r\n                    accounts[i].balance += initialBalance;\r\n                    System.out.println(&quot;Transaction completed!&quot;);\r\n                    foundID = true;\r\n                } \r\n            }\r\n            if (foundID = false) {\r\n                System.out.println(&quot;Account not found. Transaction failed. Deposit reimbursed&quot;);\r\n                this.balance += initialBalance;\r\n                return;\r\n            }\r\n        } else {\r\n            for(int i = 0; i &lt;= numberOfAccount; i++) {\r\n                if (str.equals(accounts[i].accountID)) {\r\n                    accounts[i].balance += x;\r\n                    System.out.println(&quot;Transaction completed!&quot;);\r\n                    foundID=true;\r\n                    return;\r\n                }\r\n            }\r\n            if (foundID = false) {\r\n                System.out.println(&quot;Account not found. Transaction failed. Deposit reimbursed&quot;);\r\n                this.balance += x;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    // Constructors\r\n    public eBanking(String name){\r\n        int firstDigit = (int)(Math.random() * 10);\r\n        int secondDigit = (int)(Math.random() * 10);\r\n        int thirdDigit = (int)(Math.random() * 10);\r\n        int forthDigit = (int)(Math.random() * 10);\r\n        accountID = this.toString();\r\n\r\n        PIN = Integer.toString(firstDigit) + secondDigit + thirdDigit + forthDigit; //Nuk e kuptova perse nese i jap Integer.toString te pares i merr te gjitha \r\n        balance = 0;                                                                //dhe nuk duhet ta perseris per the gjitha\r\n        accountName = name;\r\n        accounts[numberOfAccount] = this;\r\n        numberOfAccount++;\r\n\r\n        System.out.println(&quot;---------------------------------------------------------------------------------------&quot;);\r\n        System.out.println(accountName + &quot;: Your balance is &quot; + balance + &quot;, your PIN is: &quot; + PIN + &quot; and your account number is: &quot; + accountID);\r\n    }\r\n    public eBanking(String name, String pin, int x){\r\n        if (checkPIN(pin) == false) {\r\n            System.out.println(&quot;Incorrect PIN format!&quot;);\r\n            return;\r\n        }\r\n        accountID = this.toString();\r\n        accountName = name;\r\n        balance = x;\r\n        PIN = pin;\r\n        accounts[numberOfAccount] = this;\r\n        numberOfAccount++;\r\n\r\n        welcome();\r\n    }\r\n}\r\n```\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic abstract class BankAccount {\r\n    // Variable declaration\r\n    protected String PIN;\r\n    protected int balance;\r\n\r\n    public static int numberOfAccount = 0;\r\n    protected static int initialBalance; // E kam perdorur per te bere menune me dinamike sidomos per metoden transfer();\r\n\r\n    //Methods\r\n    //Balance\r\n    public int getBalance() {\r\n        return balance;\r\n    }\r\n    public void showBalance() {\r\n        System.out.println(&quot;The total balance of the account is &quot; + balance);\r\n    }\r\n    public void withdraw(int x) {\r\n        initialBalance = balance;\r\n        if (balance == 0) {\r\n            System.out.println(&quot;The deduction has failed due to lack of balance!&quot;);\r\n            return;\r\n        }\r\n        if (balance &lt; x) {\r\n            balance = 0;\r\n            System.out.println(&quot;The deduction of &quot; + initialBalance + &quot; from your balance is completed!&quot;);\r\n        } else {\r\n            balance -= x;\r\n            System.out.println(&quot;The deduction of &quot; + x + &quot; from your balance is completed!&quot;);\r\n        }\r\n    }\r\n    public void deposit(int x) {\r\n        balance += x;\r\n        System.out.println(&quot;You have made a deposit of  &quot; + x + &quot; and your current balance is &quot; + balance);\r\n    }\r\n    \r\n    //PIN\r\n    public String getPIN() {\r\n        return PIN;\r\n    }\r\n    public void changePIN() {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Please enter your previous PIN: &quot;);\r\n        String tryPIN = input.nextLine();\r\n\r\n        if (tryPIN.equals(PIN)) {\r\n            System.out.print(&quot;Please enter your new PIN: &quot;);\r\n            String newPIN = input.nextLine();\r\n            if (checkPIN(newPIN) == false) {\r\n                System.out.println(&quot;The PIN is not in the correct format!&quot;);\r\n            } else {\r\n                System.out.println(&quot;The PIN has been changed&quot;);\r\n                PIN = newPIN;\r\n            }\r\n        } else {\r\n            System.out.println(&quot;The PIN does not match!&quot;);\r\n        }\r\n    }\r\n    protected static boolean checkPIN(String str) {\r\n        boolean isValid;\r\n\r\n        if(str.length() != 4) {\r\n            isValid = false;\r\n        } else {\r\n            try {\r\n                int x = Integer.parseInt(str);\r\n                isValid = true;\r\n            } catch (NumberFormatException e) {\r\n                isValid = false;\r\n            }\r\n        }\r\n        return isValid;\r\n    }\r\n    //Kjo metode duhet per testim\r\n    public void getDetails() {\r\n        System.out.println(balance + &quot; and PIN &quot; + PIN);\r\n    }\r\n}\r\n```\r\n\r\nI have updated the post showing how I fixed it and providing all my classes. Please do not mind the messy code as I am first trying it out with a switch and then will ditch that when the time comes and use GUI as soon as I learn how to use it. Also I know that the classes can be organized better but BankAccount and eBanking are 2 salvaged classes I used on a different exercise.","title":"Is it possible to create a text file and then on the same run or runtime of the code also read and write in these files? Java","body":"<p>I was working on a Uni project for the end of the semester. The program is a simple bank system. My issue is that when the program first launches it creates a &quot;Log&quot; folder. Then when an account object is created using a Constructor a new txt file is created in the folder with the name of the account holder. Up until here I have managed to do it.</p>\n<p>The issue is that when closing the program via the option menu but before closing the program, all the details from all the created objects (which are stored in a array) are written in their respective files following the order they are stored in the object array but on the first run the files are created but nothing is written in them.</p>\n<p>Then on the 2nd run if I close the program again the details are written correctly. Can I have some suggestions please I could not find anything regarding this online?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class FileManagement {\n\n  static String pathnameFile = &quot;src\\\\Log&quot;;\n  static File directory = new File(pathnameFile);\n  static String[] allFiles = directory.list();\n\n  public static void createFolder() {\n    File logFile = new File(pathnameFile);\n    if (!logFile.exists()) {\n      logFile.mkdir();\n    }\n  }\n  public static void writeFiles() throws IOException {\n    FileWriter writer;\n    for (int i = 0; i &lt; allFiles.length; i++) {\n      writer = new FileWriter(pathnameFile + &quot;\\\\&quot; + allFiles[i]);\n      writer.write(&quot;accountName= &quot; + eBanking.accounts[i].getAccountName() + &quot;\\n&quot;);\n      writer.write(&quot;PIN= &quot; + eBanking.accounts[i].getPIN() + &quot;\\n&quot;);\n      writer.write(&quot;balance= &quot; + Integer.toString(eBanking.accounts[i].getBalance()) + &quot;\\n&quot;);\n      writer.write(&quot;Object ID stored in RAM= &quot; + eBanking.accounts[i].toString() + &quot;\\n&quot;);\n      writer.close();\n    }\n  }\n//original method\n  /*public static void readFiles() {\n    Scanner reader;\n    for (int i = 0; i &lt; allFiles.length; i++) {\n      reader = new Scanner(pathnameFile + allFiles[i]);\n    }\n  }*/\n//My solution\n  public static void readFiles() throws IOException{\n        if(directory.exists() == false || allFiles == null) {\n            return;\n        }\n        Scanner reader;\n        File currentFile;\n        String[] data = new String[4];\n        for(int i = 0; i &lt; allFiles.length; i++) {\n            currentFile = new File(pathnameFile + &quot;\\\\&quot; +allFiles[i]);\n            reader = new Scanner(currentFile);\n            int count = 0;\n            while(reader.hasNextLine()) {\n                if(!reader.hasNext()) {\n                    break;\n                }\n                reader.next();\n                data[count] = reader.next();\n                count++;\n            }\n            reader.close();\n            String accountName = data[0];\n            String PIN = data[1];\n            int balance = Integer.parseInt(data[2]);\n            eBanking.accounts[i] = new eBanking(accountName, PIN, balance);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class App {\n    public static eBanking currentAccount;\n    public static void mainMenu() throws Exception{\n        while (true) {\n            Scanner input = new Scanner(System.in);\n            System.out.println(&quot;&quot;&quot;\n                --------------------------------------------------------\n                1. Log in\n                2. Register\n                0. Exit.\n                --------------------------------------------------------\n                    &quot;&quot;&quot;);\n            int menuOption = input.nextInt();\n            switch (menuOption) {\n                case 1 -&gt; {\n                    System.out.println(&quot;Please enter your account name and PIN below.&quot;);\n                    System.out.print(&quot;Account name: &quot;);\n                    String accountName = input.next();\n                    System.out.print(&quot;PIN: &quot;);\n                    String PIN = input.next();\n                    System.out.println();\n\n                    for (int i = 0; i &lt; eBanking.accounts.length; i++) {\n                        if (accountName.equals(eBanking.accounts[i].getAccountName()) &amp;&amp; PIN.equals(eBanking.accounts[i].getPIN())) {\n                            eBanking.accounts[i].welcome();\n                            currentAccount = eBanking.accounts[i];\n                            break;\n                        }\n                    }\n                    menu();\n                }\n                case 2 -&gt; {\n                    System.out.println(&quot;Please enter the account name, PIN and inital balance of your new account.&quot;);\n                    System.out.print(&quot;Account name:&quot;);\n                    String accountNameRegister = input.next();\n                    System.out.print(&quot;PIN: &quot;);\n                    String registerPIN = input.next();\n                    System.out.print(&quot;Initial balance: &quot;);\n                    int initialBalance = input.nextInt();\n\n                    currentAccount = new eBanking(accountNameRegister, registerPIN, initialBalance);\n                    menu();\n                }\n                default -&gt; {\n                    FileManagement.writeFiles();\n                    System.exit(0);\n                }\n            }\n        }\n    }\n    public static void menu() {\n        Scanner input = new Scanner(System.in); \n        while (true) {\n            System.out.println(&quot;&quot;&quot;\n                --------------------------------------------------------\n                1. Show your balance.\n                2. Withdraw money.\n                3. Deposit money.\n                4. Change your PIN.\n                5. Transfer money to another person.\n                0. Back.\n                --------------------------------------------------------\n                    &quot;&quot;&quot;);\n            int menuOption = input.nextInt();\n            switch (menuOption) {\n                case 1 -&gt; {\n                    currentAccount.showBalance();\n                }\n                case 2 -&gt; {\n                    System.out.println(&quot;Please enter the amount you want to withdraw: &quot;);\n                    int withdrawAmount = input.nextInt();\n                    currentAccount.withdraw(withdrawAmount);\n                }\n                case 3 -&gt; {\n                    System.out.println(&quot;Please enter the amount you want to deposit: &quot;);\n                    int depositAmount = input.nextInt();\n                    currentAccount.deposit(depositAmount);\n                }\n                case 4 -&gt; {\n                    currentAccount.changePIN();\n                }\n                case 5 -&gt; {\n                    System.out.println(&quot;Please enter the amount you want to send: &quot;);\n                    int amount = input.nextInt();\n                    System.out.println(&quot;Please enter the account number you want to send the money to: &quot;);\n                    String transferAccount = input.next();// Me nextLine(); duhet ta shkruaj 2 here qe ta marri, duke perdor next(); problemi evitohet (E kam hasur edhe tek c++ kete problem)  \n                    System.out.println(&quot;The amount of money is completed&quot;);\n                    currentAccount.transfer(amount, transferAccount);\n                }\n                case 0 -&gt; {\n                    return;\n                }\n                default -&gt; {\n                    System.out.println(&quot;Please enter a number from the menu list!&quot;);\n                }\n            }\n        }\n    }\n    public static void main(String[] args) throws Exception {\n        FileManagement.createFolder();\n        FileManagement.readFiles();\n        mainMenu();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.io.*;\n\npublic class eBanking extends BankAccount {\n    // Variable declaration\n    Scanner input = new Scanner(System.in);\n    private String accountName;\n    private String accountID;\n\n    public static eBanking[] accounts = new eBanking[100];\n\n    // Methods\n    public String getAccountName() {\n        return accountName;\n    }\n    public void welcome() {\n        System.out.println(&quot;---------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Hello &quot; + accountName + &quot;. Welcome to eBanking! Your account number is: &quot; + this.accountID);\n    }\n    public void transfer(int x, String str) {\n        boolean foundID = false;\n        withdraw(x);\n        if (initialBalance == 0) {\n            System.out.println(&quot;Transaction failed!&quot;);\n        } else if (initialBalance &lt; x) {\n            for(int i = 0; i &lt; numberOfAccount; i++) {\n                if (str.equals(accounts[i].accountID)) {\n                    accounts[i].balance += initialBalance;\n                    System.out.println(&quot;Transaction completed!&quot;);\n                    foundID = true;\n                } \n            }\n            if (foundID = false) {\n                System.out.println(&quot;Account not found. Transaction failed. Deposit reimbursed&quot;);\n                this.balance += initialBalance;\n                return;\n            }\n        } else {\n            for(int i = 0; i &lt;= numberOfAccount; i++) {\n                if (str.equals(accounts[i].accountID)) {\n                    accounts[i].balance += x;\n                    System.out.println(&quot;Transaction completed!&quot;);\n                    foundID=true;\n                    return;\n                }\n            }\n            if (foundID = false) {\n                System.out.println(&quot;Account not found. Transaction failed. Deposit reimbursed&quot;);\n                this.balance += x;\n                return;\n            }\n        }\n    }\n    // Constructors\n    public eBanking(String name){\n        int firstDigit = (int)(Math.random() * 10);\n        int secondDigit = (int)(Math.random() * 10);\n        int thirdDigit = (int)(Math.random() * 10);\n        int forthDigit = (int)(Math.random() * 10);\n        accountID = this.toString();\n\n        PIN = Integer.toString(firstDigit) + secondDigit + thirdDigit + forthDigit; //Nuk e kuptova perse nese i jap Integer.toString te pares i merr te gjitha \n        balance = 0;                                                                //dhe nuk duhet ta perseris per the gjitha\n        accountName = name;\n        accounts[numberOfAccount] = this;\n        numberOfAccount++;\n\n        System.out.println(&quot;---------------------------------------------------------------------------------------&quot;);\n        System.out.println(accountName + &quot;: Your balance is &quot; + balance + &quot;, your PIN is: &quot; + PIN + &quot; and your account number is: &quot; + accountID);\n    }\n    public eBanking(String name, String pin, int x){\n        if (checkPIN(pin) == false) {\n            System.out.println(&quot;Incorrect PIN format!&quot;);\n            return;\n        }\n        accountID = this.toString();\n        accountName = name;\n        balance = x;\n        PIN = pin;\n        accounts[numberOfAccount] = this;\n        numberOfAccount++;\n\n        welcome();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic abstract class BankAccount {\n    // Variable declaration\n    protected String PIN;\n    protected int balance;\n\n    public static int numberOfAccount = 0;\n    protected static int initialBalance; // E kam perdorur per te bere menune me dinamike sidomos per metoden transfer();\n\n    //Methods\n    //Balance\n    public int getBalance() {\n        return balance;\n    }\n    public void showBalance() {\n        System.out.println(&quot;The total balance of the account is &quot; + balance);\n    }\n    public void withdraw(int x) {\n        initialBalance = balance;\n        if (balance == 0) {\n            System.out.println(&quot;The deduction has failed due to lack of balance!&quot;);\n            return;\n        }\n        if (balance &lt; x) {\n            balance = 0;\n            System.out.println(&quot;The deduction of &quot; + initialBalance + &quot; from your balance is completed!&quot;);\n        } else {\n            balance -= x;\n            System.out.println(&quot;The deduction of &quot; + x + &quot; from your balance is completed!&quot;);\n        }\n    }\n    public void deposit(int x) {\n        balance += x;\n        System.out.println(&quot;You have made a deposit of  &quot; + x + &quot; and your current balance is &quot; + balance);\n    }\n    \n    //PIN\n    public String getPIN() {\n        return PIN;\n    }\n    public void changePIN() {\n        Scanner input = new Scanner(System.in);\n        \n        System.out.print(&quot;Please enter your previous PIN: &quot;);\n        String tryPIN = input.nextLine();\n\n        if (tryPIN.equals(PIN)) {\n            System.out.print(&quot;Please enter your new PIN: &quot;);\n            String newPIN = input.nextLine();\n            if (checkPIN(newPIN) == false) {\n                System.out.println(&quot;The PIN is not in the correct format!&quot;);\n            } else {\n                System.out.println(&quot;The PIN has been changed&quot;);\n                PIN = newPIN;\n            }\n        } else {\n            System.out.println(&quot;The PIN does not match!&quot;);\n        }\n    }\n    protected static boolean checkPIN(String str) {\n        boolean isValid;\n\n        if(str.length() != 4) {\n            isValid = false;\n        } else {\n            try {\n                int x = Integer.parseInt(str);\n                isValid = true;\n            } catch (NumberFormatException e) {\n                isValid = false;\n            }\n        }\n        return isValid;\n    }\n    //Kjo metode duhet per testim\n    public void getDetails() {\n        System.out.println(balance + &quot; and PIN &quot; + PIN);\n    }\n}\n</code></pre>\n<p>I have updated the post showing how I fixed it and providing all my classes. Please do not mind the messy code as I am first trying it out with a switch and then will ditch that when the time comes and use GUI as soon as I learn how to use it. Also I know that the classes can be organized better but BankAccount and eBanking are 2 salvaged classes I used on a different exercise.</p>\n"},{"tags":["java","java-11","java-9","java-platform-module-system"],"comments":[{"owner":{"display_name":"user7655213"},"score":11,"creation_date":1594976603,"post_id":62950667,"comment_id":111321237,"body_markdown":"It&#39;s the same risk you already faced in Java 8: ending up in &quot;Classpath Hell&quot;.","body":"It&#39;s the same risk you already faced in Java 8: ending up in &quot;Classpath Hell&quot;."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":4,"creation_date":1594981328,"post_id":62950667,"comment_id":111323519,"body_markdown":"The [sotms/#summary](http://openjdk.java.net/projects/jigsaw/spec/sotms/#summary) would answer to an extent. You can check, if your project goals are aligned to the project [Jigsaw](http://openjdk.java.net/projects/jigsaw/). Apart from that, in my opinion, its a matter of being up to date as well that matters for libraries/services providing support to its consumers.","body":"The <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#summary\" rel=\"nofollow noreferrer\">sotms/#summary</a> would answer to an extent. You can check, if your project goals are aligned to the project <a href=\"http://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">Jigsaw</a>. Apart from that, in my opinion, its a matter of being up to date as well that matters for libraries/services providing support to its consumers."},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":4,"creation_date":1594996163,"post_id":62950667,"comment_id":111330793,"body_markdown":"@Taschi I don&#39;t think classpath hell alone justifies going modular, as all code prior to Java 9 had that issue and in most case we&#39;ve been fine with it (personally never had a problem with it).","body":"@Taschi I don&#39;t think classpath hell alone justifies going modular, as all code prior to Java 9 had that issue and in most case we&#39;ve been fine with it (personally never had a problem with it)."},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":1,"creation_date":1594996519,"post_id":62950667,"comment_id":111330960,"body_markdown":"@Naman bringing up the goals of project jigsaw is indeed a very good argument.","body":"@Naman bringing up the goals of project jigsaw is indeed a very good argument."},{"owner":{"display_name":"user7655213"},"score":9,"creation_date":1594999599,"post_id":62950667,"comment_id":111332711,"body_markdown":"@Younes El Ouarti, removing &quot;Classpath Hell&quot; is one of the two stated goals of Project Jigsaw. If you think that it is not a sufficient reason for dealing with Jigsaw, well... I agree with you, and I avoid Jigsaw whenever I can.","body":"@Younes El Ouarti, removing &quot;Classpath Hell&quot; is one of the two stated goals of Project Jigsaw. If you think that it is not a sufficient reason for dealing with Jigsaw, well... I agree with you, and I avoid Jigsaw whenever I can."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1594995014,"creation_date":1594995014,"answer_id":62955784,"question_id":62950667,"body_markdown":"I can only tell you my organization opinion on the matter. We _are_ in the process of moving to modules, for every single project that we are working on. What we are building is basically micro-services + some client libraries. For micro-services the transition to `modules` is somehow a lower priority: the code there is already somehow isolated in the docker container, so &quot;adding&quot; modules in there does not seem (to us) very important. This work is being picked up slowly, but it&#39;s low priority.\r\n\r\nOn the other hand, client libraries is an entirely different story. I can not tell you the mess we have sometimes. I&#39;ll explain one point that I hated before `jigsaw`. You expose an interface to clients, for everyone to use. Automatically that `interface` is `public` - exposed to the world. Usually, what I do, is have then some `package-private` classes, that are not exposed to the clients, that use that interface. I don&#39;t want clients to use that, it is internal. Sounds good? Wrong.\r\n\r\nThe first problem is that when those `package-private` classes grow, and you want more classes, the only way to keep everything hidden is to create classes in _the same_ package:\r\n\r\n      package abc:\r\n            -- /* non-public */ Usage.java\r\n            -- /* non-public */ HelperUsage.java\r\n            -- /* non-public */ FactoryUsage.java\r\n            ....\r\n\r\nWhen it grows (in our cases it does), those packages are way too big. Moving to a separate package you say? Sure, but then that `HelperUsage` and `FactoryUsage` will be `public` and we tried to avoid that from the beginning.\r\n\r\nProblem number two: any user/caller of our clients can create _the same package_ name and extend those hidden classes. It happened a few times to us already, fun times. \r\n\r\n`modules` solves this problem in a beautiful way : `public` is not _really_ `public` anymore; I can have `friend` access via `exports to` directive. This makes our code lifecycle and management much easier. And we get away from classpath hell. Of course `maven/gradle` handle that for us, mainly, but when _there is_ a problem, the pain will be very real. There could be many other examples, too.\r\n\r\nThat said, transition is (still) not easy. First of all, everyone on the team needs to be aligned; second there are hurdles. The biggest two I still see is: how do you separate each module, based on what, specifically? I don&#39;t have a definite answer, yet. The second is `split-packages`, oh the beautiful &quot;same class is exported by different modules&quot;. If this happens with your libraries, there are ways to mitigate; but if these are external libraries... not _that_ easy. \r\n\r\nIf you depend on `jarA` and `jarB` (separate modules), but they both export `abc.def.Util`, you are in for a surprise. There are ways to solve this, though. Somehow painful, but solvable. \r\n\r\nOverall, since we migrated to modules (and still do), our code has become _much_ cleaner. And if your company is &quot;code-first&quot; company, this matters. On the other hand, I have been involved in companies were this was seen as &quot;too expensive&quot;, &quot;no real benefit&quot; by senior architects.  ","title":"Is there any need to switch to modules when migrating to Java 9 or later?","body":"<p>I can only tell you my organization opinion on the matter. We <em>are</em> in the process of moving to modules, for every single project that we are working on. What we are building is basically micro-services + some client libraries. For micro-services the transition to <code>modules</code> is somehow a lower priority: the code there is already somehow isolated in the docker container, so &quot;adding&quot; modules in there does not seem (to us) very important. This work is being picked up slowly, but it's low priority.</p>\n<p>On the other hand, client libraries is an entirely different story. I can not tell you the mess we have sometimes. I'll explain one point that I hated before <code>jigsaw</code>. You expose an interface to clients, for everyone to use. Automatically that <code>interface</code> is <code>public</code> - exposed to the world. Usually, what I do, is have then some <code>package-private</code> classes, that are not exposed to the clients, that use that interface. I don't want clients to use that, it is internal. Sounds good? Wrong.</p>\n<p>The first problem is that when those <code>package-private</code> classes grow, and you want more classes, the only way to keep everything hidden is to create classes in <em>the same</em> package:</p>\n<pre><code>  package abc:\n        -- /* non-public */ Usage.java\n        -- /* non-public */ HelperUsage.java\n        -- /* non-public */ FactoryUsage.java\n        ....\n</code></pre>\n<p>When it grows (in our cases it does), those packages are way too big. Moving to a separate package you say? Sure, but then that <code>HelperUsage</code> and <code>FactoryUsage</code> will be <code>public</code> and we tried to avoid that from the beginning.</p>\n<p>Problem number two: any user/caller of our clients can create <em>the same package</em> name and extend those hidden classes. It happened a few times to us already, fun times.</p>\n<p><code>modules</code> solves this problem in a beautiful way : <code>public</code> is not <em>really</em> <code>public</code> anymore; I can have <code>friend</code> access via <code>exports to</code> directive. This makes our code lifecycle and management much easier. And we get away from classpath hell. Of course <code>maven/gradle</code> handle that for us, mainly, but when <em>there is</em> a problem, the pain will be very real. There could be many other examples, too.</p>\n<p>That said, transition is (still) not easy. First of all, everyone on the team needs to be aligned; second there are hurdles. The biggest two I still see is: how do you separate each module, based on what, specifically? I don't have a definite answer, yet. The second is <code>split-packages</code>, oh the beautiful &quot;same class is exported by different modules&quot;. If this happens with your libraries, there are ways to mitigate; but if these are external libraries... not <em>that</em> easy.</p>\n<p>If you depend on <code>jarA</code> and <code>jarB</code> (separate modules), but they both export <code>abc.def.Util</code>, you are in for a surprise. There are ways to solve this, though. Somehow painful, but solvable.</p>\n<p>Overall, since we migrated to modules (and still do), our code has become <em>much</em> cleaner. And if your company is &quot;code-first&quot; company, this matters. On the other hand, I have been involved in companies were this was seen as &quot;too expensive&quot;, &quot;no real benefit&quot; by senior architects.</p>\n"},{"tags":[],"owner":{"account_id":5430245,"reputation":5075,"user_id":4321344,"display_name":"Mark Reinhold"},"down_vote_count":2,"up_vote_count":178,"is_accepted":true,"score":176,"last_activity_date":1598996565,"creation_date":1595006937,"answer_id":62959016,"question_id":62950667,"body_markdown":"No.\r\n\r\nThere is no need to switch to modules.\r\n\r\nThere has never been a need to switch to modules.\r\n\r\nJava 9 and later releases support traditional JAR files on the\r\ntraditional class path, via the concept of the unnamed module, and will\r\nlikely do so until the heat death of the universe.\r\n\r\nWhether to start using modules is entirely up to you.\r\n\r\nIf you maintain a large legacy project that isnt changing very much,\r\nthen its probably not worth the effort.\r\n\r\nIf you work on a large project thats grown difficult to maintain over\r\nthe years then the clarity and discipline that modularization brings\r\ncould be beneficial, but it could also be a lot of work, so think\r\ncarefully before you begin.\r\n\r\nIf youre starting a new project then I highly recommend starting with\r\nmodules if you can.  Many popular libraries have, by now, been [upgraded\r\nto be modules](https://github.com/sormuras/modules), so theres a good\r\nchance that all of the dependencies that you need are already available\r\nin modular form.\r\n\r\nIf you maintain a library then I strongly recommend that you\r\nupgrade it to be a module if you havent done so already, and if all of\r\nyour librarys dependencies have been converted.\r\n\r\nAll this isnt to say that you wont encounter a few stumbling blocks\r\nwhen moving past Java&amp;nbsp;8.  Those that you do encounter will, however,\r\nlikely have nothing to do with modules _per se_.  The most common\r\nmigration problems that weve heard about since we released Java&amp;nbsp;9 in\r\n2017 have to do with [changes to the syntax of the version\r\nstring](https://openjdk.java.net/jeps/322) and to the [removal or\r\nencapsulation of internal APIs](https://openjdk.java.net/jeps/260)\r\n(_e.g._, `sun.misc.Base64Decoder`) for which public, supported\r\nreplacements have been available for years.","title":"Is there any need to switch to modules when migrating to Java 9 or later?","body":"<p>No.</p>\n<p>There is no need to switch to modules.</p>\n<p>There has never been a need to switch to modules.</p>\n<p>Java 9 and later releases support traditional JAR files on the\ntraditional class path, via the concept of the unnamed module, and will\nlikely do so until the heat death of the universe.</p>\n<p>Whether to start using modules is entirely up to you.</p>\n<p>If you maintain a large legacy project that isnt changing very much,\nthen its probably not worth the effort.</p>\n<p>If you work on a large project thats grown difficult to maintain over\nthe years then the clarity and discipline that modularization brings\ncould be beneficial, but it could also be a lot of work, so think\ncarefully before you begin.</p>\n<p>If youre starting a new project then I highly recommend starting with\nmodules if you can.  Many popular libraries have, by now, been <a href=\"https://github.com/sormuras/modules\" rel=\"noreferrer\">upgraded\nto be modules</a>, so theres a good\nchance that all of the dependencies that you need are already available\nin modular form.</p>\n<p>If you maintain a library then I strongly recommend that you\nupgrade it to be a module if you havent done so already, and if all of\nyour librarys dependencies have been converted.</p>\n<p>All this isnt to say that you wont encounter a few stumbling blocks\nwhen moving past Java8.  Those that you do encounter will, however,\nlikely have nothing to do with modules <em>per se</em>.  The most common\nmigration problems that weve heard about since we released Java9 in\n2017 have to do with <a href=\"https://openjdk.java.net/jeps/322\" rel=\"noreferrer\">changes to the syntax of the version\nstring</a> and to the <a href=\"https://openjdk.java.net/jeps/260\" rel=\"noreferrer\">removal or\nencapsulation of internal APIs</a>\n(<em>e.g.</em>, <code>sun.misc.Base64Decoder</code>) for which public, supported\nreplacements have been available for years.</p>\n"}],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13478,"favorite_count":0,"down_vote_count":2,"up_vote_count":105,"accepted_answer_id":62959016,"answer_count":2,"score":103,"last_activity_date":1654294179,"creation_date":1594976503,"question_id":62950667,"body_markdown":"We&#39;re currently migrating from Java 8 to Java 11. However, upgrading our services was less painful, than we anticipated. We basically only had to change the version number in our `build.gradle` file and the services were happily up and running. We upgraded libraries as well as (micro) services that use those libs. No problems until now.\r\n\r\nIs there any *need* to actually switch to modules? This would generate needless costs IMHO. Any suggestion or further reading material is appreciated.\r\n\r\nTo clarify, are there any consequences if Java 9+ code is used without introducing modules? E.g. can it become incompatible with other code?","title":"Is there any need to switch to modules when migrating to Java 9 or later?","body":"<p>We're currently migrating from Java 8 to Java 11. However, upgrading our services was less painful, than we anticipated. We basically only had to change the version number in our <code>build.gradle</code> file and the services were happily up and running. We upgraded libraries as well as (micro) services that use those libs. No problems until now.</p>\n<p>Is there any <em>need</em> to actually switch to modules? This would generate needless costs IMHO. Any suggestion or further reading material is appreciated.</p>\n<p>To clarify, are there any consequences if Java 9+ code is used without introducing modules? E.g. can it become incompatible with other code?</p>\n"},{"tags":["java","hibernate","jakarta-ee","configuration","persistence.xml"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1314756991,"post_id":7251751,"comment_id":8724246,"body_markdown":"What kind of a project have you created in Eclipse? Is it a JPA project? If you created a JPA project, it should have a `persistence.xml` file.","body":"What kind of a project have you created in Eclipse? Is it a JPA project? If you created a JPA project, it should have a <code>persistence.xml</code> file."},{"owner":{"account_id":248044,"reputation":16466,"user_id":523168,"accept_rate":77,"display_name":"Valter Silva"},"score":0,"creation_date":1314872407,"post_id":7251751,"comment_id":8749169,"body_markdown":"@Vineet Reynolds, my project it is a Dynamic Web Project in Eclips Web Java EE Developers, i didn&#39;t find it any persistence.xml file.","body":"@Vineet Reynolds, my project it is a Dynamic Web Project in Eclips Web Java EE Developers, i didn&#39;t find it any persistence.xml file."},{"owner":{"account_id":248044,"reputation":16466,"user_id":523168,"accept_rate":77,"display_name":"Valter Silva"},"score":0,"creation_date":1315058863,"post_id":7251751,"comment_id":8785928,"body_markdown":"this post help me out :\nhttp://stackoverflow.com/questions/703043/eclipse-turn-an-existing-project-into-a-jpa-project","body":"this post help me out : <a href=\"http://stackoverflow.com/questions/703043/eclipse-turn-an-existing-project-into-a-jpa-project\" title=\"eclipse turn an existing project into a jpa project\">stackoverflow.com/questions/703043/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2744793,"reputation":171,"user_id":2365438,"display_name":"nir"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1378908673,"creation_date":1378908673,"answer_id":18743562,"question_id":7251751,"body_markdown":"Create a persistence.xml file that resides in the META-INF folder. \r\n\r\nExample:\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n             version=&quot;2.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\r\n      &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n      &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;\r\n      &lt;mapping-file&gt;ormap.xml&lt;/mapping-file&gt;\r\n      &lt;jar-file&gt;MyApp.jar&lt;/jar-file&gt;\r\n      &lt;class&gt;org.acme.Employee&lt;/class&gt;\r\n      &lt;class&gt;org.acme.Person&lt;/class&gt;\r\n      &lt;class&gt;org.acme.Address&lt;/class&gt;\r\n      &lt;properties&gt;\r\n         &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.connection.password&quot;&gt;XXXXXX&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://&lt;hostname&gt;/&lt;database&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.connection.username&quot;&gt;XXXXX&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.default_schema&quot;&gt;XXXXXX&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n       &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;","title":"How do I create a persistence.xml file for JPA and Hibernate?","body":"<p>Create a persistence.xml file that resides in the META-INF folder. </p>\n\n<p>Example:</p>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"\n         version=\"2.0\"&gt;\n&lt;persistence-unit name=\"sample\"&gt;\n  &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n  &lt;jta-data-source&gt;java:/DefaultDS&lt;/jta-data-source&gt;\n  &lt;mapping-file&gt;ormap.xml&lt;/mapping-file&gt;\n  &lt;jar-file&gt;MyApp.jar&lt;/jar-file&gt;\n  &lt;class&gt;org.acme.Employee&lt;/class&gt;\n  &lt;class&gt;org.acme.Person&lt;/class&gt;\n  &lt;class&gt;org.acme.Address&lt;/class&gt;\n  &lt;properties&gt;\n     &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n     &lt;property name=\"hibernate.connection.password\"&gt;XXXXXX&lt;/property&gt;\n     &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://&lt;hostname&gt;/&lt;database&gt;&lt;/property&gt;\n     &lt;property name=\"hibernate.connection.username\"&gt;XXXXX&lt;/property&gt;\n     &lt;property name=\"hibernate.default_schema\"&gt;XXXXXX&lt;/property&gt;\n     &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n   &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1610145173,"creation_date":1583858818,"answer_id":60622264,"question_id":7251751,"body_markdown":"JPA persistence XML file location\r\n---------------------------------\r\n\r\nTraditionally, the persistence.xml is located in a `META-INF` folder that needs to reside in the root of the Java classpath. If youre using Maven, you can store it in the `resources` folder, like this:\r\n\r\n    src/main/resources/META-INF/persistence.xml\r\n\r\nJPA persistence XML file structure\r\n----------------------------------\r\n\r\nThe `persistence.xml configuration file is structured as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.2&quot;\r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n         http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n     \r\n        &lt;persistence-unit\r\n            name=&quot;HypersistenceOptimizer&quot;\r\n            transaction-type=&quot;JTA&quot;&gt;\r\n     \r\n            &lt;description&gt;\r\n                Hypersistence Optimizer is a dynamic analyzing tool that can scan\r\n                your JPA and Hibernate application and provide you tips about the\r\n                changes you need to make to entity mappings, configurations, queries,\r\n                and Persistence Context actions to speed up your data access layer.\r\n            &lt;/description&gt;\r\n     \r\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n     \r\n            &lt;jta-data-source&gt;java:global/jdbc/default&lt;/jta-data-source&gt;\r\n     \r\n            &lt;properties&gt;          \r\n                &lt;property\r\n                    name=&quot;hibernate.transaction.jta.platform&quot;\r\n                    value=&quot;SunOne&quot;\r\n                /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nThe `persistence` tag is the root XML element, and it defines the JPA version and the XML schema used to validate the `persistence.xml` configuration file.\r\n\r\n&lt;h3&gt;persistence-unit&lt;/h3&gt;\r\n\r\nThe `persistence-unit` element defines the name of the associated JPA Persistence Unit, which you can later use to reference it when using the `@PersistenceUnit` JPA annotation to inject the associated `EntityManagerFactory` instance:\r\n\r\n````\r\n@PersistenceUnit(name = &quot;HypersistenceOptimizer&quot;)\r\nprivate EntityManagerFactory entityManagerFactory;\r\n````\r\n\r\nThe `transaction-type` attribute defines the JPA transaction strategy, and it can take one of the following two values:\r\n\r\n- `JTA`\r\n- `RESOURCE_LOCAL`\r\n\r\nTraditionally, Java EE applications used JTA by default, which requires having a JTA transaction manager that uses the 2PC (Two-Phase Commit) protocol to apply changes atomically to multiple sources of data (e.g., database systems, JMS queues, Caches).\r\n\r\nIf you want to propagate changes to a single data source, then you don&#39;t need JTA, so the `RESOURCE_LOCAL` transaction type is a much more efficient alternative. For instance, by default, Spring applications use `RESOURCE_LOCAL` transactions, and to use `JTA`, you need to explicitly choose the `JtaTranscationManager` Spring bean.\r\n\r\n&lt;h3&gt;description&lt;/h3&gt;\r\n\r\nThe `description` element allows you to provide more details about the goals of the current Persistence Unit.\r\n\r\n&lt;h3&gt;provider&lt;/h3&gt;\r\n\r\nThe `provider` XML element defines the fully-qualified class name implementing the JPA `PersistenceProvider` interface. \r\n\r\n&gt; If you are using Hibernate 4.3 or newer versions, then you need to use the `org.hibernate.jpa.HibernatePersistenceProvider` class name.\r\n&gt; \r\n&gt; If you are using Hibernate 4.2 or older versions, then you need to use the `org.hibernate.ejb.HibernatePersistence` class name instead.\r\n\r\n&lt;h3&gt;jta-data-source and non-jta-data-source&lt;/h3&gt;\r\n\r\nIt&#39;s very unusual that the JPA spec defines two different XML tags to provide the JNDI `DataSource` name. There should have been a single `data-source` attribute for that since the `transaction-type` already specifies whether JTA is used or not.\r\n\r\nNo, if you&#39;re using JTA, you can use the `jta-data-source` to specify the JNDI name for the associated JTA `DataSource`, while for `RESOURCE_LOCAL`, you need to use the `non-jta-data-source`.\r\n\r\n&gt; If you&#39;re using Hibernate, you can also use the `hibernate.connection.datasource` configuration property to specify the JDBC `DataSource` to be used.\r\n\r\n&lt;h3&gt;properties&lt;/h3&gt;\r\n\r\nThe `properties` element allows you to define JPA or JPA provider-specific properties to configure:\r\n\r\n- the Hibernate `Dialect`\r\n- the JTA transaction platform (e.g., GlassFish, JBoss, Bitronix, Atomikos)\r\n- whether the database schema should be auto-generated\r\n- whether Hibernate should [skip the auto-commit check for RESOURCE_LOCAL transactions](https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/)\r\n- [activate the slow SQL query log](https://vladmihalcea.com/hibernate-slow-query-log/)\r\n- and many more properties you can find in the `org.hibernate.cfg.AvailableSettings` interface.\r\n\r\n&lt;h3&gt;Entity mapping settings&lt;/h3&gt;\r\n\r\nBy default, Hibernate is capable of finding the JPA entity classes based on the presence of the `@Entity` annotation, so you don&#39;t need to declare the entity classes.\r\n\r\n&lt;h4&gt;exclude-unlisted-classes&lt;/h4&gt;\r\n\r\nHowever, if you want to explicitly set the entity classes to be be used, and exclude any other entity classes found on the current Java classpath, then you need to set the `exclude-unlisted-classes` element to the value of `true`:\r\n\r\n````\r\n&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n````\r\n\r\n&lt;h4&gt;class&lt;/h4&gt;\r\n\r\nAfter setting the `exclude-unlisted-classes` XML element above, you need to specify the list of entity classes registered by the current Persistence Unit via the `class` XML element:\r\n\r\n````\r\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.Post&lt;/class&gt;\r\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.PostComment&lt;/class&gt;\r\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.PostDetails&lt;/class&gt;\r\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.Tag&lt;/class&gt;\r\n````\r\n\r\nThe vast majority of JPA and Hibernate applications use annotations to build the object-relational mapping metadata. However, even if you are using annotations, you can still use XML mappings to override the static annotation metadata with the one provided via an `orm.xml` configuration file.\r\n\r\n&gt; For instance, you can use the `SEQUENCE` identifier generator by default using the `@SequenceGenerator` annotation and substitute that with `IDENTITY` for MySQL, which does not support database sequences. \r\n\r\n&lt;h4&gt;mapping-file&lt;/h4&gt;\r\n\r\nBy default, the `orm.xml` configuration file is located in the `META-INF` folder. If you want to use a different file location, you can use the `mapping-file` XML element in the `persistence.xml` file, like this:\r\n\r\n````\r\n&lt;mapping-file&gt;file:///D:/Vlad/Work/Examples/mappings/orm.xml&lt;/mapping-file&gt;\r\n````\r\n\r\n&lt;h4&gt;jar-file&lt;/h4&gt;\r\n\r\nBu default, the JPA provider is going to scan the current Java classpath to load entity classes or XML mappings. If you want to provide one or more JAR files to be scanned, you can use the `jar-file` element, like this: \r\n\r\n````\r\n&lt;jar-file&gt;lib/hypersistence-optimizer-glassfish-hibernate-example.jar&lt;/jar-file&gt;\r\n````\r\n\r\n&lt;h3&gt;shared-cache-mode&lt;/h3&gt;\r\n\r\nThe `shared-cache-mode` element allows you to define the [`SharedCacheMode`](https://docs.oracle.com/javaee/7/api/javax/persistence/SharedCacheMode.html) strategy for storing entities in the second-level cache, and it can take one of the following values:\r\n\r\n- `ALL` - stores all entities in the second-level cache, \r\n- `NONE` - entities are not stored in the second-level cache, \r\n- `ENABLE_SELECTIVE` - no entity is cached by default, except for the ones marked with the `@Cacheable(true)` annotation, which are going to be cached\r\n- `DISABLE_SELECTIVE` - all entities are cached by default, except for the ones marked with the `@Cacheable(false)` annotation\r\n- `UNSPECIFIED` - uses the JPA provider default caching strategy. This is also the default value that&#39;s used when the `shared-cache-mode` element is not set.\r\n\r\nYou can also override the `shared-cache-mode` strategy programmatically using the `javax.persistence.cache.storeMode` property, like this:\r\n\r\n````\r\nEntityManagerFactory entityManagerFactory = Persistence\r\n.createEntityManagerFactory(\r\n    &quot;HypersistenceOptimizer&quot;, \r\n    Collections.singletonMap(\r\n        &quot;javax.persistence.cache.storeMode&quot;,\r\n        SharedCacheMode.ENABLE_SELECTIVE\r\n    )\r\n);\r\n````\r\n\r\n&lt;h3&gt;validation-mode&lt;/h3&gt;\r\n\r\nThe `validation-mode` XML element specifies the [`ValidationMode`](https://docs.oracle.com/javaee/7/api/javax/persistence/ValidationMode.html) strategy, which instructs the JPA provider whether it should check the entities Bean Validation at runtime.\r\n\r\nThe `validation-mode` element can take the following values:\r\n\r\n- `AUTO` - If a Bean Validation provider is found in the current Java classpath, it will be registered automatically, and all entities are going to be validated. If no Bean Validation provider is found, entities are not validated. This is the default value.\r\n- `CALLBACK` - Entities must always be validated by a Bean Validation provider. If the JPA provider does no found a Bean Validation implementation on the classpath, the bootstrap process will fail.\r\n- `NONE` - Entities are not validated even if a Bean Validation provider is found on the classpath.\r\n\r\nYou can also override the `validation-mode` strategy programmatically using the `javax.persistence.validation.mode` property, like this:\r\n\r\n    EntityManagerFactory entityManagerFactory = Persistence\r\n    .createEntityManagerFactory(\r\n        &quot;HypersistenceOptimizer&quot;, \r\n        Collections.singletonMap(\r\n            &quot;javax.persistence.validation.mode&quot;,\r\n            ValidationMode.CALLBACK\r\n        )\r\n    );\r\n\r\n","title":"How do I create a persistence.xml file for JPA and Hibernate?","body":"<h2>JPA persistence XML file location</h2>\n<p>Traditionally, the persistence.xml is located in a <code>META-INF</code> folder that needs to reside in the root of the Java classpath. If youre using Maven, you can store it in the <code>resources</code> folder, like this:</p>\n<pre><code>src/main/resources/META-INF/persistence.xml\n</code></pre>\n<h2>JPA persistence XML file structure</h2>\n<p>The `persistence.xml configuration file is structured as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot;\n     xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n     http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n \n    &lt;persistence-unit\n        name=&quot;HypersistenceOptimizer&quot;\n        transaction-type=&quot;JTA&quot;&gt;\n \n        &lt;description&gt;\n            Hypersistence Optimizer is a dynamic analyzing tool that can scan\n            your JPA and Hibernate application and provide you tips about the\n            changes you need to make to entity mappings, configurations, queries,\n            and Persistence Context actions to speed up your data access layer.\n        &lt;/description&gt;\n \n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n \n        &lt;jta-data-source&gt;java:global/jdbc/default&lt;/jta-data-source&gt;\n \n        &lt;properties&gt;          \n            &lt;property\n                name=&quot;hibernate.transaction.jta.platform&quot;\n                value=&quot;SunOne&quot;\n            /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>The <code>persistence</code> tag is the root XML element, and it defines the JPA version and the XML schema used to validate the <code>persistence.xml</code> configuration file.</p>\n<h3>persistence-unit</h3>\n<p>The <code>persistence-unit</code> element defines the name of the associated JPA Persistence Unit, which you can later use to reference it when using the <code>@PersistenceUnit</code> JPA annotation to inject the associated <code>EntityManagerFactory</code> instance:</p>\n<pre><code>@PersistenceUnit(name = &quot;HypersistenceOptimizer&quot;)\nprivate EntityManagerFactory entityManagerFactory;\n</code></pre>\n<p>The <code>transaction-type</code> attribute defines the JPA transaction strategy, and it can take one of the following two values:</p>\n<ul>\n<li><code>JTA</code></li>\n<li><code>RESOURCE_LOCAL</code></li>\n</ul>\n<p>Traditionally, Java EE applications used JTA by default, which requires having a JTA transaction manager that uses the 2PC (Two-Phase Commit) protocol to apply changes atomically to multiple sources of data (e.g., database systems, JMS queues, Caches).</p>\n<p>If you want to propagate changes to a single data source, then you don't need JTA, so the <code>RESOURCE_LOCAL</code> transaction type is a much more efficient alternative. For instance, by default, Spring applications use <code>RESOURCE_LOCAL</code> transactions, and to use <code>JTA</code>, you need to explicitly choose the <code>JtaTranscationManager</code> Spring bean.</p>\n<h3>description</h3>\n<p>The <code>description</code> element allows you to provide more details about the goals of the current Persistence Unit.</p>\n<h3>provider</h3>\n<p>The <code>provider</code> XML element defines the fully-qualified class name implementing the JPA <code>PersistenceProvider</code> interface.</p>\n<blockquote>\n<p>If you are using Hibernate 4.3 or newer versions, then you need to use the <code>org.hibernate.jpa.HibernatePersistenceProvider</code> class name.</p>\n<p>If you are using Hibernate 4.2 or older versions, then you need to use the <code>org.hibernate.ejb.HibernatePersistence</code> class name instead.</p>\n</blockquote>\n<h3>jta-data-source and non-jta-data-source</h3>\n<p>It's very unusual that the JPA spec defines two different XML tags to provide the JNDI <code>DataSource</code> name. There should have been a single <code>data-source</code> attribute for that since the <code>transaction-type</code> already specifies whether JTA is used or not.</p>\n<p>No, if you're using JTA, you can use the <code>jta-data-source</code> to specify the JNDI name for the associated JTA <code>DataSource</code>, while for <code>RESOURCE_LOCAL</code>, you need to use the <code>non-jta-data-source</code>.</p>\n<blockquote>\n<p>If you're using Hibernate, you can also use the <code>hibernate.connection.datasource</code> configuration property to specify the JDBC <code>DataSource</code> to be used.</p>\n</blockquote>\n<h3>properties</h3>\n<p>The <code>properties</code> element allows you to define JPA or JPA provider-specific properties to configure:</p>\n<ul>\n<li>the Hibernate <code>Dialect</code></li>\n<li>the JTA transaction platform (e.g., GlassFish, JBoss, Bitronix, Atomikos)</li>\n<li>whether the database schema should be auto-generated</li>\n<li>whether Hibernate should <a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"noreferrer\">skip the auto-commit check for RESOURCE_LOCAL transactions</a></li>\n<li><a href=\"https://vladmihalcea.com/hibernate-slow-query-log/\" rel=\"noreferrer\">activate the slow SQL query log</a></li>\n<li>and many more properties you can find in the <code>org.hibernate.cfg.AvailableSettings</code> interface.</li>\n</ul>\n<h3>Entity mapping settings</h3>\n<p>By default, Hibernate is capable of finding the JPA entity classes based on the presence of the <code>@Entity</code> annotation, so you don't need to declare the entity classes.</p>\nexclude-unlisted-classes\n<p>However, if you want to explicitly set the entity classes to be be used, and exclude any other entity classes found on the current Java classpath, then you need to set the <code>exclude-unlisted-classes</code> element to the value of <code>true</code>:</p>\n<pre><code>&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n</code></pre>\nclass\n<p>After setting the <code>exclude-unlisted-classes</code> XML element above, you need to specify the list of entity classes registered by the current Persistence Unit via the <code>class</code> XML element:</p>\n<pre><code>&lt;class&gt;io.hypersistence.optimizer.forum.domain.Post&lt;/class&gt;\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.PostComment&lt;/class&gt;\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.PostDetails&lt;/class&gt;\n&lt;class&gt;io.hypersistence.optimizer.forum.domain.Tag&lt;/class&gt;\n</code></pre>\n<p>The vast majority of JPA and Hibernate applications use annotations to build the object-relational mapping metadata. However, even if you are using annotations, you can still use XML mappings to override the static annotation metadata with the one provided via an <code>orm.xml</code> configuration file.</p>\n<blockquote>\n<p>For instance, you can use the <code>SEQUENCE</code> identifier generator by default using the <code>@SequenceGenerator</code> annotation and substitute that with <code>IDENTITY</code> for MySQL, which does not support database sequences.</p>\n</blockquote>\nmapping-file\n<p>By default, the <code>orm.xml</code> configuration file is located in the <code>META-INF</code> folder. If you want to use a different file location, you can use the <code>mapping-file</code> XML element in the <code>persistence.xml</code> file, like this:</p>\n<pre><code>&lt;mapping-file&gt;file:///D:/Vlad/Work/Examples/mappings/orm.xml&lt;/mapping-file&gt;\n</code></pre>\njar-file\n<p>Bu default, the JPA provider is going to scan the current Java classpath to load entity classes or XML mappings. If you want to provide one or more JAR files to be scanned, you can use the <code>jar-file</code> element, like this:</p>\n<pre><code>&lt;jar-file&gt;lib/hypersistence-optimizer-glassfish-hibernate-example.jar&lt;/jar-file&gt;\n</code></pre>\n<h3>shared-cache-mode</h3>\n<p>The <code>shared-cache-mode</code> element allows you to define the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/SharedCacheMode.html\" rel=\"noreferrer\"><code>SharedCacheMode</code></a> strategy for storing entities in the second-level cache, and it can take one of the following values:</p>\n<ul>\n<li><code>ALL</code> - stores all entities in the second-level cache,</li>\n<li><code>NONE</code> - entities are not stored in the second-level cache,</li>\n<li><code>ENABLE_SELECTIVE</code> - no entity is cached by default, except for the ones marked with the <code>@Cacheable(true)</code> annotation, which are going to be cached</li>\n<li><code>DISABLE_SELECTIVE</code> - all entities are cached by default, except for the ones marked with the <code>@Cacheable(false)</code> annotation</li>\n<li><code>UNSPECIFIED</code> - uses the JPA provider default caching strategy. This is also the default value that's used when the <code>shared-cache-mode</code> element is not set.</li>\n</ul>\n<p>You can also override the <code>shared-cache-mode</code> strategy programmatically using the <code>javax.persistence.cache.storeMode</code> property, like this:</p>\n<pre><code>EntityManagerFactory entityManagerFactory = Persistence\n.createEntityManagerFactory(\n    &quot;HypersistenceOptimizer&quot;, \n    Collections.singletonMap(\n        &quot;javax.persistence.cache.storeMode&quot;,\n        SharedCacheMode.ENABLE_SELECTIVE\n    )\n);\n</code></pre>\n<h3>validation-mode</h3>\n<p>The <code>validation-mode</code> XML element specifies the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/ValidationMode.html\" rel=\"noreferrer\"><code>ValidationMode</code></a> strategy, which instructs the JPA provider whether it should check the entities Bean Validation at runtime.</p>\n<p>The <code>validation-mode</code> element can take the following values:</p>\n<ul>\n<li><code>AUTO</code> - If a Bean Validation provider is found in the current Java classpath, it will be registered automatically, and all entities are going to be validated. If no Bean Validation provider is found, entities are not validated. This is the default value.</li>\n<li><code>CALLBACK</code> - Entities must always be validated by a Bean Validation provider. If the JPA provider does no found a Bean Validation implementation on the classpath, the bootstrap process will fail.</li>\n<li><code>NONE</code> - Entities are not validated even if a Bean Validation provider is found on the classpath.</li>\n</ul>\n<p>You can also override the <code>validation-mode</code> strategy programmatically using the <code>javax.persistence.validation.mode</code> property, like this:</p>\n<pre><code>EntityManagerFactory entityManagerFactory = Persistence\n.createEntityManagerFactory(\n    &quot;HypersistenceOptimizer&quot;, \n    Collections.singletonMap(\n        &quot;javax.persistence.validation.mode&quot;,\n        ValidationMode.CALLBACK\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25468742,"reputation":11,"user_id":19267332,"display_name":"Pranay Harjai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654294129,"creation_date":1654294129,"answer_id":72495588,"question_id":7251751,"body_markdown":"In intellij, one good approach would be to just go to &quot;File &gt; Project structure &gt; Facets&quot;. \r\nThen Add new persistence.xml in src/main/resources/META-INF/persistence.xml.\r\nClick apply and it will be created for you.","title":"How do I create a persistence.xml file for JPA and Hibernate?","body":"<p>In intellij, one good approach would be to just go to &quot;File &gt; Project structure &gt; Facets&quot;.\nThen Add new persistence.xml in src/main/resources/META-INF/persistence.xml.\nClick apply and it will be created for you.</p>\n"}],"owner":{"account_id":248044,"reputation":16466,"user_id":523168,"accept_rate":77,"display_name":"Valter Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109599,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1654294129,"creation_date":1314755140,"question_id":7251751,"body_markdown":"I&#39;m trying to use Hibernate JPA but I need to create my persistence.xml (so I can use the entity manager correctly). I am unsure of what to create and where to place it.\r\n\r\nThis is how my hibernate.cfg.xml in &#39;Core&#39; mode configured.\r\nI&#39;m using Eclipse Java EE IDE Web Developers (Indigo Release):\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    \t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    \t\t&quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;XXXXXX&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://&lt;hostname&gt;/&lt;database&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;XXXXX&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.default_schema&quot;&gt;XXXXXX&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n","title":"How do I create a persistence.xml file for JPA and Hibernate?","body":"<p>I'm trying to use Hibernate JPA but I need to create my persistence.xml (so I can use the entity manager correctly). I am unsure of what to create and where to place it.</p>\n<p>This is how my hibernate.cfg.xml in 'Core' mode configured.\nI'm using Eclipse Java EE IDE Web Developers (Indigo Release):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;XXXXXX&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://&lt;hostname&gt;/&lt;database&gt;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;XXXXX&lt;/property&gt;\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;XXXXXX&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","queue","microservices","load-balancing","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1654251718,"post_id":72486246,"comment_id":128051856,"body_markdown":"Maybe a picture would help illustrate your environment?","body":"Maybe a picture would help illustrate your environment?"},{"owner":{"display_name":"user18790868"},"score":0,"creation_date":1654268250,"post_id":72486246,"comment_id":128057664,"body_markdown":"I don&#39;t hv a figure. But essentially its like 2 server clients connecting to one destination IP address by way of message queue and one nat ip subnet point.","body":"I don&#39;t hv a figure. But essentially its like 2 server clients connecting to one destination IP address by way of message queue and one nat ip subnet point."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1654315118,"post_id":72486246,"comment_id":128067427,"body_markdown":"Do you have any TCP/IP error codes to help explain the problem you are seeing?","body":"Do you have any TCP/IP error codes to help explain the problem you are seeing?"}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654293961,"creation_date":1654293961,"answer_id":72495572,"question_id":72486246,"body_markdown":"Your question is not very clear and then you go off on a tangent about your solution which again is not clear and appears to be creating an overly complex system.  \r\n\r\nSo, let me guess what your setup is:\r\n\r\n- Server 1 has an IBM MQ client running a C# .NET application. Is this correct?  If so, what version is the IBM MQ Client software?  i.e. 9.1.0.9\r\n\r\n- Server 2 is running IBM MQ queue manager.  Is this correct?  If so, what version is the IBM MQ Server software? i.e. 9.2.0.4  Use the ***dspmqver*** command to get this information.\r\n\r\nIf the above is correct then it is pretty much a basic IBM MQ environment.\r\n\r\nSo, when your application has this issue, MQ would have thrown an ***MQException***.  What was the Completion Code and Reason Code?  The reason code would probably been one of the following\r\n\r\n - 2009 [MQRC_CONNECTION_BROKEN] \r\n - 2059 [MQRC_Q_MGR_NOT_AVAILABLE]\r\n - 2538 [MQRC_HOST_NOT_AVAILABLE]\r\n\r\nWhat did your application do when it received the MQException?  Crash or die or loop forever?  \r\n\r\nDid you add reconnection login to your code to reconnect to the queue manager after the failure?\r\n","title":"Connect from server 1 to server 2 using ibm mq series","body":"<p>Your question is not very clear and then you go off on a tangent about your solution which again is not clear and appears to be creating an overly complex system.</p>\n<p>So, let me guess what your setup is:</p>\n<ul>\n<li><p>Server 1 has an IBM MQ client running a C# .NET application. Is this correct?  If so, what version is the IBM MQ Client software?  i.e. 9.1.0.9</p>\n</li>\n<li><p>Server 2 is running IBM MQ queue manager.  Is this correct?  If so, what version is the IBM MQ Server software? i.e. 9.2.0.4  Use the <em><strong>dspmqver</strong></em> command to get this information.</p>\n</li>\n</ul>\n<p>If the above is correct then it is pretty much a basic IBM MQ environment.</p>\n<p>So, when your application has this issue, MQ would have thrown an <em><strong>MQException</strong></em>.  What was the Completion Code and Reason Code?  The reason code would probably been one of the following</p>\n<ul>\n<li>2009 [MQRC_CONNECTION_BROKEN]</li>\n<li>2059 [MQRC_Q_MGR_NOT_AVAILABLE]</li>\n<li>2538 [MQRC_HOST_NOT_AVAILABLE]</li>\n</ul>\n<p>What did your application do when it received the MQException?  Crash or die or loop forever?</p>\n<p>Did you add reconnection login to your code to reconnect to the queue manager after the failure?</p>\n"}],"owner":{"display_name":"user18790868"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654293961,"creation_date":1654242013,"question_id":72486246,"body_markdown":"I am connecting from server 1 to server 2 using ibm mq series(single queue manager group) using single subnet NAT ip address. Destination of server 2 is single ip address point. Problem is: whenever i connect different custodian data(client data) to upload data and whenever server restart happens on one custodian point, other custodian client resets and not able to connect to server2 ip address. \r\nSolution i have attempted: instead of ibm mq series and regular c# code, using combination of microservices with java8 parallel processing and Apache Kafka to render parallel threads to connect with single nat ip subnet, so that none of the custodian codes get resetted.is this solution correct? But the destination server is giving single ip address point to connect for n custodians. Is there something i can do in nat gateway to parallel render data to destination IP address? Please help me with my solution.will be happy to help with any info.","title":"Connect from server 1 to server 2 using ibm mq series","body":"<p>I am connecting from server 1 to server 2 using ibm mq series(single queue manager group) using single subnet NAT ip address. Destination of server 2 is single ip address point. Problem is: whenever i connect different custodian data(client data) to upload data and whenever server restart happens on one custodian point, other custodian client resets and not able to connect to server2 ip address.\nSolution i have attempted: instead of ibm mq series and regular c# code, using combination of microservices with java8 parallel processing and Apache Kafka to render parallel threads to connect with single nat ip subnet, so that none of the custodian codes get resetted.is this solution correct? But the destination server is giving single ip address point to connect for n custodians. Is there something i can do in nat gateway to parallel render data to destination IP address? Please help me with my solution.will be happy to help with any info.</p>\n"},{"tags":["java","android","multithreading","background","runnable"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1654293737,"creation_date":1332262928,"answer_id":9791479,"question_id":9791361,"body_markdown":"You are calling `interrupt()` on the playing thread but it is probably waiting in `sleep` at the time.  This will cause sleep to throw a `InterruptedException`.  You need to catch that exception _and_ exit the loop to stop the playing:\r\n\r\n    try {\r\n        Thread.sleep(NOTE_DURATION);\r\n    } catch (InterruptedException e) {\r\n        // XXX need to stop playing here, maybe return or break?\r\n        return;\r\n    }\r\n\r\nSince the `interrupt()` can also come at a different time, you need to test for interrupt status and quit your loop:\r\n\r\n    if (!paused &amp;&amp; !Thread.currentThread().isInterrupted()) {\r\n       ...\r\n\r\nAlso, all variables that are shared between two threads either need to be `synchronized` or be marked `volatile`.  The `paused` flag should probably be `volatile` here:\r\n\r\n    volatile boolean paused = false\r\n\r\nLastly, for posterity, when you catch `InterruptedException`, it clears the interrupt status of the thread.  It is usually good practice to immediately set the interrupt flag on the thread so others can test for it:\r\n\r\n    try {\r\n        Thread.sleep(NOTE_DURATION);\r\n    } catch (InterruptedException e) {\r\n        // re-establish the interrupt condition\r\n        Thread.currentThread.interrupt();\r\n        ...\r\n    }\r\n","title":"Thread not interrupting even though I&#39;m calling thread.interrupt()","body":"<p>You are calling <code>interrupt()</code> on the playing thread but it is probably waiting in <code>sleep</code> at the time.  This will cause sleep to throw a <code>InterruptedException</code>.  You need to catch that exception <em>and</em> exit the loop to stop the playing:</p>\n<pre><code>try {\n    Thread.sleep(NOTE_DURATION);\n} catch (InterruptedException e) {\n    // XXX need to stop playing here, maybe return or break?\n    return;\n}\n</code></pre>\n<p>Since the <code>interrupt()</code> can also come at a different time, you need to test for interrupt status and quit your loop:</p>\n<pre><code>if (!paused &amp;&amp; !Thread.currentThread().isInterrupted()) {\n   ...\n</code></pre>\n<p>Also, all variables that are shared between two threads either need to be <code>synchronized</code> or be marked <code>volatile</code>.  The <code>paused</code> flag should probably be <code>volatile</code> here:</p>\n<pre><code>volatile boolean paused = false\n</code></pre>\n<p>Lastly, for posterity, when you catch <code>InterruptedException</code>, it clears the interrupt status of the thread.  It is usually good practice to immediately set the interrupt flag on the thread so others can test for it:</p>\n<pre><code>try {\n    Thread.sleep(NOTE_DURATION);\n} catch (InterruptedException e) {\n    // re-establish the interrupt condition\n    Thread.currentThread.interrupt();\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1326175,"reputation":1874,"user_id":1270930,"accept_rate":67,"display_name":"Zero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6945,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9791479,"answer_count":1,"score":7,"last_activity_date":1654293737,"creation_date":1332262549,"question_id":9791361,"body_markdown":"I&#39;m learning how to use threads in Android, and to do that I&#39;ve made a small application that plays a series of notes. The idea is that there is a start button and an end button and that (obviously) if you press the start button it starts playing music, and if you press the end button, it stops. The start button works just fine, but the problem is that the end button doesn&#39;t. I&#39;m having trouble figuring out why, so maybe some of you can help me out. This is the code:\r\n\r\n    public class PressAndPlay extends Activity {\r\n    \tprivate volatile Thread initBkgdThread;\r\n        \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            \r\n            Button startButton = (Button) findViewById(R.id.trigger);\r\n            startButton.setOnClickListener(new View.OnClickListener() {\r\n            \tpublic void onClick(View view) {\r\n           \t\t\r\n            \t\t// create thread\r\n            \t\tinitBkgdThread = new Thread(new Runnable() {\r\n            \t\t\tpublic void run() {\r\n            \t\t\t\tplay_music();\r\n            \t\t\t}\r\n            \t\t});\r\n            \t\tinitBkgdThread.start();\r\n            \t}\r\n            });\r\n            \r\n            Button endButton = (Button) findViewById(R.id.end);\r\n            endButton.setOnClickListener(new View.OnClickListener() {\r\n            \tpublic void onClick(View view) {\r\n            \t\tend_music();\r\n            \t}\r\n            });\r\n        }\r\n        \r\n        int[] notes = {R.raw.c5, R.raw.b4, R.raw.a4, R.raw.g4};\r\n        int NOTE_DURATION = 400;\r\n        MediaPlayer m_mediaPlayer;\r\n        \r\n        private void play_music() {\r\n        \tfor(int ii=0; ii&lt;12; ii++) {\r\n        \t\t//check to ensure main activity is not paused\r\n        \t\tif(!paused) {\r\n        \t\t\tif (m_mediaPlayer != null) {m_mediaPlayer.release();}\r\n        \t\t\tm_mediaPlayer = MediaPlayer.create(this, notes[ii%4]);\r\n        \t\t\tm_mediaPlayer.start();\r\n        \t\t\ttry {\r\n        \t\t\t\tThread.sleep(NOTE_DURATION);\r\n        \t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n        \r\n        private void end_music() {\r\n        \t if(initBkgdThread != null) {\r\n        \t\t initBkgdThread.interrupt();\r\n        \t\t initBkgdThread = null;\r\n        \t }\r\n        }\r\n        \r\n        boolean paused = false;\r\n        @Override\r\n        protected void onPause() {\r\n        \tpaused = true;\r\n        \tsuper.onPause();\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n        \tsuper.onResume();\r\n        \tpaused = false;\r\n        }\r\n    }","title":"Thread not interrupting even though I&#39;m calling thread.interrupt()","body":"<p>I'm learning how to use threads in Android, and to do that I've made a small application that plays a series of notes. The idea is that there is a start button and an end button and that (obviously) if you press the start button it starts playing music, and if you press the end button, it stops. The start button works just fine, but the problem is that the end button doesn't. I'm having trouble figuring out why, so maybe some of you can help me out. This is the code:</p>\n\n<pre><code>public class PressAndPlay extends Activity {\n    private volatile Thread initBkgdThread;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        Button startButton = (Button) findViewById(R.id.trigger);\n        startButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n\n                // create thread\n                initBkgdThread = new Thread(new Runnable() {\n                    public void run() {\n                        play_music();\n                    }\n                });\n                initBkgdThread.start();\n            }\n        });\n\n        Button endButton = (Button) findViewById(R.id.end);\n        endButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                end_music();\n            }\n        });\n    }\n\n    int[] notes = {R.raw.c5, R.raw.b4, R.raw.a4, R.raw.g4};\n    int NOTE_DURATION = 400;\n    MediaPlayer m_mediaPlayer;\n\n    private void play_music() {\n        for(int ii=0; ii&lt;12; ii++) {\n            //check to ensure main activity is not paused\n            if(!paused) {\n                if (m_mediaPlayer != null) {m_mediaPlayer.release();}\n                m_mediaPlayer = MediaPlayer.create(this, notes[ii%4]);\n                m_mediaPlayer.start();\n                try {\n                    Thread.sleep(NOTE_DURATION);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void end_music() {\n         if(initBkgdThread != null) {\n             initBkgdThread.interrupt();\n             initBkgdThread = null;\n         }\n    }\n\n    boolean paused = false;\n    @Override\n    protected void onPause() {\n        paused = true;\n        super.onPause();\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        paused = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654293616,"creation_date":1654293616,"answer_id":72495541,"question_id":72495101,"body_markdown":"MapStruct has the concept of `@ValueMapping` that can be used to map a String into an `Enum`.\r\n\r\ne.g.\r\n\r\n```\r\n@Mapper\r\npublic interface TypeMapper {\r\n\r\n\r\n    @ValueMapping(target = &quot;T1&quot;, source = &quot;SomeValue&quot;)\r\n    @ValueMapping(target = &quot;T2&quot;, source = &quot;AnotherValue&quot;)\r\n    Type map(String type);\r\n\r\n\r\n}\r\n```\r\n\r\nDoing the above MapStruct will implement a method for you. However, an alternative approach would be to use a custom method to do the mapping:\r\n\r\ne.g.\r\n\r\n```\r\npublic interface TypeMapper {\r\n\r\n    default Type map(String type) {\r\n        if (type == null) {\r\n            return null;\r\n        }\r\n\r\n        for(Type t: Type.values()) {\r\n            if (type.equals(t.label()) {\r\n                return t;\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;Cannot map label &quot; + type + &quot; to type&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Map enum to string value","body":"<p>MapStruct has the concept of <code>@ValueMapping</code> that can be used to map a String into an <code>Enum</code>.</p>\n<p>e.g.</p>\n<pre><code>@Mapper\npublic interface TypeMapper {\n\n\n    @ValueMapping(target = &quot;T1&quot;, source = &quot;SomeValue&quot;)\n    @ValueMapping(target = &quot;T2&quot;, source = &quot;AnotherValue&quot;)\n    Type map(String type);\n\n\n}\n</code></pre>\n<p>Doing the above MapStruct will implement a method for you. However, an alternative approach would be to use a custom method to do the mapping:</p>\n<p>e.g.</p>\n<pre><code>public interface TypeMapper {\n\n    default Type map(String type) {\n        if (type == null) {\n            return null;\n        }\n\n        for(Type t: Type.values()) {\n            if (type.equals(t.label()) {\n                return t;\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;Cannot map label &quot; + type + &quot; to type&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72495541,"answer_count":1,"score":1,"last_activity_date":1654293616,"creation_date":1654289887,"question_id":72495101,"body_markdown":"I&#39;m using a recent version of `MapStruct`. I&#39;m trying to map the values of the corresponding string values to the actual `enum` value.\r\n\r\nFor instance, this is my `enum`:\r\n\r\n```java\r\n@Getter\r\n@RequiredArgsConstructor\r\n@Accessors(fluent = true)\r\npublic enum Type {\r\n  T1(&quot;SomeValue&quot;),\r\n  T2(&quot;AnotherValue&quot;);\r\n\r\n  private final String label;\r\n}\r\n```\r\n\r\nI have a `Java` type (`ForeignType`) with a field/member that receives the data (one of the string values in the `enum`): `SomeValue` or `AnotherValue`. Then I have a &quot;controlled&quot; type (`MyType`) and I would like to use in this one the actual enumeration constant (`T1` or `T2`), based on string value sent.\r\n\r\nI&#39;m looking for a way to use `MapStruct` to do this, because the application currently uses it for all mapping purposes, but so far I can&#39;t find a way to achieve this.","title":"Map enum to string value","body":"<p>I'm using a recent version of <code>MapStruct</code>. I'm trying to map the values of the corresponding string values to the actual <code>enum</code> value.</p>\n<p>For instance, this is my <code>enum</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgsConstructor\n@Accessors(fluent = true)\npublic enum Type {\n  T1(&quot;SomeValue&quot;),\n  T2(&quot;AnotherValue&quot;);\n\n  private final String label;\n}\n</code></pre>\n<p>I have a <code>Java</code> type (<code>ForeignType</code>) with a field/member that receives the data (one of the string values in the <code>enum</code>): <code>SomeValue</code> or <code>AnotherValue</code>. Then I have a &quot;controlled&quot; type (<code>MyType</code>) and I would like to use in this one the actual enumeration constant (<code>T1</code> or <code>T2</code>), based on string value sent.</p>\n<p>I'm looking for a way to use <code>MapStruct</code> to do this, because the application currently uses it for all mapping purposes, but so far I can't find a way to achieve this.</p>\n"},{"tags":["java","swing","opacity","alpha"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654292750,"creation_date":1597170959,"answer_id":63364379,"question_id":63362910,"body_markdown":"    this.setBackground(new Color(255, 212, 100, opacity));\r\n\r\nSwing does not support semi transparent backgrounds.\r\n\r\nSwing expects a component to be either:\r\n\r\n1. opaque - which implies the component will repaint the entire background with an opaque color first before doing custom painting, or\r\n2. fully transparent - in which case Swing will first paint the background of the first opaque parent component before doing custom painting.\r\n\r\nThe `setOpaque(...)` method is used to control the opaque property of a component. \r\n\r\nIn either case this makes sure any painting artifacts are removed and custom painting can be done properly.\r\n\r\nIf you want to use tranparency, then you need to do custom painting yourself to make sure the background is cleared.\r\n\r\nThe custom painting for the panel would be:\r\n\r\n    JPanel panel = new JPanel()\r\n    {\r\n        protected void paintComponent(Graphics g)\r\n        {\r\n            g.setColor( getBackground() );\r\n            g.fillRect(0, 0, getWidth(), getHeight());\r\n            super.paintComponent(g);\r\n        }\r\n    };\r\n    panel.setOpaque(false); // background of parent will be painted first\r\n\r\nSimilar code would be required for every component that uses transparency.\r\n\r\nOr, you can check out [Background With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for custom class that can be used on any component that will do the above work for you.\r\n","title":"Why does the alpha in this timer draw on top of itself in this Java Swing Panel?","body":"<pre><code>this.setBackground(new Color(255, 212, 100, opacity));\n</code></pre>\n<p>Swing does not support semi transparent backgrounds.</p>\n<p>Swing expects a component to be either:</p>\n<ol>\n<li>opaque - which implies the component will repaint the entire background with an opaque color first before doing custom painting, or</li>\n<li>fully transparent - in which case Swing will first paint the background of the first opaque parent component before doing custom painting.</li>\n</ol>\n<p>The <code>setOpaque(...)</code> method is used to control the opaque property of a component.</p>\n<p>In either case this makes sure any painting artifacts are removed and custom painting can be done properly.</p>\n<p>If you want to use tranparency, then you need to do custom painting yourself to make sure the background is cleared.</p>\n<p>The custom painting for the panel would be:</p>\n<pre><code>JPanel panel = new JPanel()\n{\n    protected void paintComponent(Graphics g)\n    {\n        g.setColor( getBackground() );\n        g.fillRect(0, 0, getWidth(), getHeight());\n        super.paintComponent(g);\n    }\n};\npanel.setOpaque(false); // background of parent will be painted first\n</code></pre>\n<p>Similar code would be required for every component that uses transparency.</p>\n<p>Or, you can check out <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Background With Transparency</a> for custom class that can be used on any component that will do the above work for you.</p>\n"}],"owner":{"account_id":19275223,"reputation":13,"user_id":14088403,"display_name":"TallYate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63364379,"answer_count":1,"score":1,"last_activity_date":1654292750,"creation_date":1597165132,"question_id":63362910,"body_markdown":"```java\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setLayout(new FlowLayout());\r\n    \t\tframe.setSize(new Dimension(100, 100));\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tTestPanel panel = new TestPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(50,50));\r\n    \t\tframe.add(panel);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tstatic class TestPanel extends JPanel implements ActionListener{\r\n    \t\t\r\n    \t\tprivate static final long serialVersionUID = 8518959671689548069L;\r\n    \t\t\r\n    \t\tpublic TestPanel() {\r\n    \t\t\tsuper();\r\n    \t\t\tTimer t = new Timer(1000, this);\r\n    \t\t\tt.setRepeats(true);\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t\t\r\n    \t\tint opacity = 10;\r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tif(opacity &gt;= 250) {\r\n    \t\t\t\topacity = 0;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tthis.setBackground(new Color(255, 212, 100, opacity));\r\n    \t\t\t\tthis.repaint();\r\n    \t\t\t\topacity+=10;\r\n    \t\t\t\tSystem.out.println(&quot;opacity is &quot; + opacity);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n```\r\n\r\nThe rate the alpha changes is faster than it should be. After it reaches a certain point, the opacity drops, while the the opacity printed in the console is less than 250. Resizing the window &quot;resets&quot; it, making the alpha correct.\r\n\r\nHow do I make it actually draw the alpha correctly?","title":"Why does the alpha in this timer draw on top of itself in this Java Swing Panel?","body":"<pre class=\"lang-java prettyprint-override\"><code>    import java.awt.Color;\n    import java.awt.Dimension;\n    import java.awt.FlowLayout;\n    import java.awt.event.ActionEvent;\n    import java.awt.event.ActionListener;\n\n    import javax.swing.JFrame;\n    import javax.swing.JLabel;\n    import javax.swing.JPanel;\n    import javax.swing.Timer;\n\n    public class Main {\n        \n        \n        public static void main(String[] args) {\n            JFrame frame = new JFrame();\n            frame.setLayout(new FlowLayout());\n            frame.setSize(new Dimension(100, 100));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            TestPanel panel = new TestPanel();\n            panel.setPreferredSize(new Dimension(50,50));\n            frame.add(panel);\n            frame.setVisible(true);\n        }\n        \n        static class TestPanel extends JPanel implements ActionListener{\n            \n            private static final long serialVersionUID = 8518959671689548069L;\n            \n            public TestPanel() {\n                super();\n                Timer t = new Timer(1000, this);\n                t.setRepeats(true);\n                t.start();\n            }\n            \n            int opacity = 10;\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(opacity &gt;= 250) {\n                    opacity = 0;\n                }\n                else {\n                    this.setBackground(new Color(255, 212, 100, opacity));\n                    this.repaint();\n                    opacity+=10;\n                    System.out.println(&quot;opacity is &quot; + opacity);\n                }\n            }\n            \n        }\n    }\n</code></pre>\n<p>The rate the alpha changes is faster than it should be. After it reaches a certain point, the opacity drops, while the the opacity printed in the console is less than 250. Resizing the window &quot;resets&quot; it, making the alpha correct.</p>\n<p>How do I make it actually draw the alpha correctly?</p>\n"},{"tags":["java","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"score":0,"creation_date":1652819463,"post_id":72279988,"comment_id":127697729,"body_markdown":"Hello and welcome to the community ;). Plz make sure to share at least some of your code here (what you have tried so far, what the records look like etc..)","body":"Hello and welcome to the community ;). Plz make sure to share at least some of your code here (what you have tried so far, what the records look like etc..)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652819472,"post_id":72279988,"comment_id":127697730,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1652819947,"post_id":72279988,"comment_id":127697876,"body_markdown":"Please edit to show your query, sample input, and expected vs actual output. Probably helps to show both the raw SQL query as well as your Java code (to see how you&#39;re attempting to read the results). Be sure to include all details, such as Cosmos DB SDK version, etc.","body":"Please edit to show your query, sample input, and expected vs actual output. Probably helps to show both the raw SQL query as well as your Java code (to see how you&#39;re attempting to read the results). Be sure to include all details, such as Cosmos DB SDK version, etc."}],"answers":[{"tags":[],"owner":{"account_id":24514163,"reputation":1587,"user_id":18428148,"display_name":"Sairam Tadepalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654292696,"creation_date":1654292696,"answer_id":72495449,"question_id":72279988,"body_markdown":"    SELECT DISTINCT Column_Name FROM TestTable1 WHERE Column_Name in (&#39;dup1&#39;,&#39;dup1&#39;,&#39;dup2&#39;)\r\n\r\nUsing the **DISTINCT** can retrieve only the normal values by avoiding the duplicate from DB.","title":"Cosmos db java api result same record in a list","body":"<pre><code>SELECT DISTINCT Column_Name FROM TestTable1 WHERE Column_Name in ('dup1','dup1','dup2')\n</code></pre>\n<p>Using the <strong>DISTINCT</strong> can retrieve only the normal values by avoiding the duplicate from DB.</p>\n"}],"owner":{"account_id":18588189,"reputation":1,"user_id":13546002,"display_name":"Rahul Singhai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654292696,"creation_date":1652817567,"question_id":72279988,"body_markdown":"I am using cosmos client in java for connecting Cosmos db. I am successful to get the data but when there are multiple records matching the where condition i get the same elements in the list.for example if 10 records match then also same records is coming 10 times  The container has partition key . Any help ","title":"Cosmos db java api result same record in a list","body":"<p>I am using cosmos client in java for connecting Cosmos db. I am successful to get the data but when there are multiple records matching the where condition i get the same elements in the list.for example if 10 records match then also same records is coming 10 times  The container has partition key . Any help</p>\n"},{"tags":["java","spring-boot","configuration","lombok"],"answers":[{"tags":[],"owner":{"account_id":10368273,"reputation":742,"user_id":10195307,"display_name":"BugsForBreakfast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560803720,"creation_date":1560799010,"answer_id":56637569,"question_id":56637271,"body_markdown":"Did you try with java ResourceBundle library?\r\n\r\nfor example:\r\n\r\n    ResourceBundle configApp = ResourceBundle.getBundle(&quot;path to your configuration file&quot;);\r\n\r\nafter that you can use configApp like so:\r\n\r\n    configApp.getString(&quot;first-crossroad&quot;);\r\n\r\ncan you try that and tell me how it goes.\r\n\r\nEDIT:\r\n\r\nThe data in your configuration file if your planning to use ResourceBundle should look like this:\r\n\r\n    allowed=[first-crossroad= ONE, second-crossroad= TWO, third-crossroad= TWO,fourth-crossroad= THREE,first-crossroad= ONE, second-crossroad= THREE,third-crossroad= TWO, fourth-crossroad= ONE]\r\n\r\nthe &quot;[]&quot; isn&#39;t neccesary but it makes it look more readable\r\n\r\nthen you call it like this:\r\n\r\nconfigApp.getObject(&quot;allowed&quot;);\r\n\r\nthat will store it like this:\r\n\r\n    [first-crossroad= ONE, second-crossroad= TWO, third-crossroad= TWO,fourth-crossroad= THREE,first-crossroad= ONE, second-crossroad= THREE,third-crossroad= TWO, fourth-crossroad= ONE]\r\n\r\nthen you can cast this to an array or play with it like this.\r\n","title":"Reason: The elements were left unbound","body":"<p>Did you try with java ResourceBundle library?</p>\n\n<p>for example:</p>\n\n<pre><code>ResourceBundle configApp = ResourceBundle.getBundle(\"path to your configuration file\");\n</code></pre>\n\n<p>after that you can use configApp like so:</p>\n\n<pre><code>configApp.getString(\"first-crossroad\");\n</code></pre>\n\n<p>can you try that and tell me how it goes.</p>\n\n<p>EDIT:</p>\n\n<p>The data in your configuration file if your planning to use ResourceBundle should look like this:</p>\n\n<pre><code>allowed=[first-crossroad= ONE, second-crossroad= TWO, third-crossroad= TWO,fourth-crossroad= THREE,first-crossroad= ONE, second-crossroad= THREE,third-crossroad= TWO, fourth-crossroad= ONE]\n</code></pre>\n\n<p>the \"[]\" isn't neccesary but it makes it look more readable</p>\n\n<p>then you call it like this:</p>\n\n<p>configApp.getObject(\"allowed\");</p>\n\n<p>that will store it like this:</p>\n\n<pre><code>[first-crossroad= ONE, second-crossroad= TWO, third-crossroad= TWO,fourth-crossroad= THREE,first-crossroad= ONE, second-crossroad= THREE,third-crossroad= TWO, fourth-crossroad= ONE]\n</code></pre>\n\n<p>then you can cast this to an array or play with it like this.</p>\n"},{"tags":[],"owner":{"account_id":14990352,"reputation":568,"user_id":10821695,"display_name":"Dominik"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1560840263,"creation_date":1560840263,"answer_id":56643142,"question_id":56637271,"body_markdown":"(One of many) Solution:\r\n\r\n- add: @NoArgsConstructor\r\n\r\n\r\nto java class:\r\n\r\n``` java\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CrossroadCombination {\r\n\r\n  private String firstCrossroad;\r\n  private String secondCrossroad;\r\n  private String thirdCrossroad;\r\n  private String fourthCrossroad;\r\n}\r\n\r\n```\r\n\r\nExplanation:\r\n\r\nIt is because when we create an object, we need to have an empty object and then fill it with data. This is why we need no args constructor.\r\n\r\nAnyway solution from &quot;@Daniel V&quot; is also correct and thanks for that one!","title":"Reason: The elements were left unbound","body":"<p>(One of many) Solution:</p>\n\n<ul>\n<li>add: @NoArgsConstructor</li>\n</ul>\n\n<p>to java class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CrossroadCombination {\n\n  private String firstCrossroad;\n  private String secondCrossroad;\n  private String thirdCrossroad;\n  private String fourthCrossroad;\n}\n\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>It is because when we create an object, we need to have an empty object and then fill it with data. This is why we need no args constructor.</p>\n\n<p>Anyway solution from \"@Daniel V\" is also correct and thanks for that one!</p>\n"},{"tags":[],"owner":{"account_id":17908362,"reputation":129,"user_id":13010974,"display_name":"Chethan Kumar"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1583396894,"creation_date":1583396242,"answer_id":60540849,"question_id":56637271,"body_markdown":"Making The Inner class as static will work \r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties(prefix = &quot;&quot;)\r\n@Data\r\npublic class AllowedCrossroads {\r\n\r\n    private List&lt;CrossroadCombination&gt; allowed;\r\n\r\n    @Data\r\n    public static class CrossroadCombination {\r\n        private String firstCrossroad;\r\n        private String secondCrossroad;\r\n        private String thirdCrossroad;\r\n        private String fourthCrossroad;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Reason: The elements were left unbound","body":"<p>Making The Inner class as static will work </p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = \"\")\n@Data\npublic class AllowedCrossroads {\n\n    private List&lt;CrossroadCombination&gt; allowed;\n\n    @Data\n    public static class CrossroadCombination {\n        private String firstCrossroad;\n        private String secondCrossroad;\n        private String thirdCrossroad;\n        private String fourthCrossroad;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604577975,"creation_date":1604577975,"answer_id":64696867,"question_id":56637271,"body_markdown":"including Getters and Setters for all fields solved the issue","title":"Reason: The elements were left unbound","body":"<p>including Getters and Setters for all fields solved the issue</p>\n"},{"tags":[],"owner":{"account_id":7792452,"reputation":21,"user_id":5894883,"display_name":"Saravanakumar Arunachalam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650439963,"creation_date":1650439963,"answer_id":71935782,"question_id":56637271,"body_markdown":"In my case the variable name is not matched. Please check all fields names and mapping configuration key names.","title":"Reason: The elements were left unbound","body":"<p>In my case the variable name is not matched. Please check all fields names and mapping configuration key names.</p>\n"}],"owner":{"account_id":14990352,"reputation":568,"user_id":10821695,"display_name":"Dominik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27887,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":56643142,"answer_count":5,"score":12,"last_activity_date":1654292648,"creation_date":1560797611,"question_id":56637271,"body_markdown":"How can I load List of objects from configuration yml file in java springboot application?\r\n\r\nI already tried several sources:\r\n\r\n[configuration-properties-in-spring-boot](https://www.baeldung.com/configuration-properties-in-spring-boot)\r\n\r\n[spring-boot-configurationproperties-example](https://www.mkyong.com/spring-boot/spring-boot-configurationproperties-example/)\r\n\r\nhttps://stackoverflow.com/questions/53167040/springboot-2-the-elements-were-left-unbound\r\n\r\nStack: Java 11, SpringBoot 2.1.4, Lombok, configuration file in .yml format.\r\n\r\nI tried to implement simple @Component, which will load data from configuration file.\r\n\r\nConfiguration values are:\r\n\r\n``` yml\r\nallowed:\r\n  - first-crossroad: ONE\r\n    second-crossroad: TWO\r\n    third-crossroad: TWO\r\n    fourth-crossroad: THREE\r\n  - first-crossroad: ONE\r\n    second-crossroad: THREE\r\n    third-crossroad: TWO\r\n    fourth-crossroad: ONE\r\n```\r\n\r\nJava class for data loading is: \r\n\r\n``` java\r\n@Configuration\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties(prefix = &quot;&quot;)\r\n@Data\r\npublic class AllowedCrossroads {\r\n\r\n  private List&lt;CrossroadCombination&gt; allowed;\r\n}\r\n\r\n```\r\n\r\nJava CrossroadCombination object definition:\r\n\r\n``` java\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\npublic class CrossroadCombination {\r\n\r\n  private String firstCrossroad;\r\n  private String secondCrossroad;\r\n  private String thirdCrossroad;\r\n  private String fourthCrossroad;\r\n}\r\n```\r\n\r\n\r\n\r\nI expected values to be loaded during application run. But I am getting error:\r\n```\r\nProperty: allowed[0].first-crossroad\r\n    Value: ONE\r\n    Origin: class path resource [application.yml]:644:17\r\n    Reason: The elements [allowed[0].first-crossroad,allowed[0].fourth-crossroad,allowed[0].second-crossroad,allowed[0].third-crossroad,allowed[1].first-crossroad,allowed[1].fourth-crossroad,allowed[1].second-crossroad,allowed[1].third-crossroad,allowed[2].first-crossroad,allowed[2].fourth-crossroad,allowed[2].second-crossroad,allowed[2].third-crossroad] were left unbound.\r\n```","title":"Reason: The elements were left unbound","body":"<p>How can I load List of objects from configuration yml file in java springboot application?</p>\n\n<p>I already tried several sources:</p>\n\n<p><a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"noreferrer\">configuration-properties-in-spring-boot</a></p>\n\n<p><a href=\"https://www.mkyong.com/spring-boot/spring-boot-configurationproperties-example/\" rel=\"noreferrer\">spring-boot-configurationproperties-example</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/53167040/springboot-2-the-elements-were-left-unbound\">SpringBoot 2 the elements were left unbound</a></p>\n\n<p>Stack: Java 11, SpringBoot 2.1.4, Lombok, configuration file in .yml format.</p>\n\n<p>I tried to implement simple @Component, which will load data from configuration file.</p>\n\n<p>Configuration values are:</p>\n\n<pre><code>allowed:\n  - first-crossroad: ONE\n    second-crossroad: TWO\n    third-crossroad: TWO\n    fourth-crossroad: THREE\n  - first-crossroad: ONE\n    second-crossroad: THREE\n    third-crossroad: TWO\n    fourth-crossroad: ONE\n</code></pre>\n\n<p>Java class for data loading is: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = \"\")\n@Data\npublic class AllowedCrossroads {\n\n  private List&lt;CrossroadCombination&gt; allowed;\n}\n\n</code></pre>\n\n<p>Java CrossroadCombination object definition:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@AllArgsConstructor\npublic class CrossroadCombination {\n\n  private String firstCrossroad;\n  private String secondCrossroad;\n  private String thirdCrossroad;\n  private String fourthCrossroad;\n}\n</code></pre>\n\n<p>I expected values to be loaded during application run. But I am getting error:</p>\n\n<pre><code>Property: allowed[0].first-crossroad\n    Value: ONE\n    Origin: class path resource [application.yml]:644:17\n    Reason: The elements [allowed[0].first-crossroad,allowed[0].fourth-crossroad,allowed[0].second-crossroad,allowed[0].third-crossroad,allowed[1].first-crossroad,allowed[1].fourth-crossroad,allowed[1].second-crossroad,allowed[1].third-crossroad,allowed[2].first-crossroad,allowed[2].fourth-crossroad,allowed[2].second-crossroad,allowed[2].third-crossroad] were left unbound.\n</code></pre>\n"},{"tags":["java","arrays","arraylist","collections"],"comments":[{"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"score":1,"creation_date":1292421577,"post_id":4450628,"comment_id":4861117,"body_markdown":"The best way to find out is to actually read the source code. But beware. Here be dragons.","body":"The best way to find out is to actually read the source code. But beware. Here be dragons."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1292421618,"post_id":4450628,"comment_id":4861123,"body_markdown":"[Here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java)&#39;s the source of ArrayList from OpenJDK 6. Be aware there are many implementations of it (GNU Classpath, Apache Harmony, OpenJDK, ...) and they may differ.","body":"<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">Here</a>&#39;s the source of ArrayList from OpenJDK 6. Be aware there are many implementations of it (GNU Classpath, Apache Harmony, OpenJDK, ...) and they may differ."},{"owner":{"account_id":1178044,"reputation":607,"user_id":1153563,"display_name":"Jerome L"},"score":0,"creation_date":1521623688,"post_id":4450628,"comment_id":85805585,"body_markdown":"Most implementation grow by a factor of 1.5x: https://octoperf.com/blog/2018/03/19/java-arraylist/","body":"Most implementation grow by a factor of 1.5x: <a href=\"https://octoperf.com/blog/2018/03/19/java-arraylist/\" rel=\"nofollow noreferrer\">octoperf.com/blog/2018/03/19/java-arraylist</a>"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1292422400,"creation_date":1292421434,"answer_id":4450659,"question_id":4450628,"body_markdown":"A new array is created and the contents of the old one are copied over. That&#39;s all you know at the API level. Quoting from [the docs][1] (my emphasis):\r\n\r\n&gt; Each `ArrayList` instance has a capacity. The capacity is the size of the array used to store the elements in the list. It is always at least as large as the list size. As elements are added to an ArrayList, its capacity grows automatically. **The details of the growth policy are not specified beyond the fact that adding an element has constant amortized time cost.**\r\n\r\nIn terms of how it actually happens with a specific implementation of `ArrayList` (such as Sun&#39;s), in their case you can see the gory details in the source. But of course, relying on the details of a specific implementation isn&#39;t usually a good idea...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n","title":"ArrayList: how does the size increase?","body":"<p>A new array is created and the contents of the old one are copied over. That's all you know at the API level. Quoting from <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">the docs</a> (my emphasis):</p>\n\n<blockquote>\n  <p>Each <code>ArrayList</code> instance has a capacity. The capacity is the size of the array used to store the elements in the list. It is always at least as large as the list size. As elements are added to an ArrayList, its capacity grows automatically. <strong>The details of the growth policy are not specified beyond the fact that adding an element has constant amortized time cost.</strong></p>\n</blockquote>\n\n<p>In terms of how it actually happens with a specific implementation of <code>ArrayList</code> (such as Sun's), in their case you can see the gory details in the source. But of course, relying on the details of a specific implementation isn't usually a good idea...</p>\n"},{"tags":[],"owner":{"account_id":74847,"reputation":11293,"user_id":214892,"accept_rate":70,"display_name":"Jason"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1292421438,"creation_date":1292421438,"answer_id":4450661,"question_id":4450628,"body_markdown":"What happens is a new Array is created with n*2 spaces, then all items in the old array are copied over and the new item is inserted in the first free space.  All in all, this results in O(N) add time for the ArrayList.\r\n\r\nIf you&#39;re using Eclipse, install [Jad][2] and [Jadclipse][1] to decompile the JARs held in the library.  I did this to read the original source code.\r\n\r\n\r\n  [1]: http://jadclipse.sourceforge.net/wiki/index.php/Main_Page\r\n  [2]: http://www.varaneckas.com/jad\r\n","title":"ArrayList: how does the size increase?","body":"<p>What happens is a new Array is created with n*2 spaces, then all items in the old array are copied over and the new item is inserted in the first free space.  All in all, this results in O(N) add time for the ArrayList.</p>\n\n<p>If you're using Eclipse, install <a href=\"http://www.varaneckas.com/jad\" rel=\"nofollow\">Jad</a> and <a href=\"http://jadclipse.sourceforge.net/wiki/index.php/Main_Page\" rel=\"nofollow\">Jadclipse</a> to decompile the JARs held in the library.  I did this to read the original source code.</p>\n"},{"tags":[],"owner":{"account_id":17744,"reputation":7653,"user_id":40047,"accept_rate":89,"display_name":"John K&#228;ll&#233;n"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1292421479,"creation_date":1292421479,"answer_id":4450667,"question_id":4450628,"body_markdown":"Typically, the memory for ArrayList type containers is increased by doubling it. Thus, if you initially had space for 10 items and you added 10, the eleventh item will be added to a new (internal) array of 20 items. The reason for this is that the incremental cost of adding items is reduced from O(n^2) if the array had been incremented in fixed size increments to a nice O(n) when doubling the size each time the internal array is full.","title":"ArrayList: how does the size increase?","body":"<p>Typically, the memory for ArrayList type containers is increased by doubling it. Thus, if you initially had space for 10 items and you added 10, the eleventh item will be added to a new (internal) array of 20 items. The reason for this is that the incremental cost of adding items is reduced from O(n^2) if the array had been incremented in fixed size increments to a nice O(n) when doubling the size each time the internal array is full.</p>\n"},{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1292421609,"creation_date":1292421609,"answer_id":4450689,"question_id":4450628,"body_markdown":"It will depend on the implementation, but from the Sun Java 6 source code:\r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\nThat&#39;s in the `ensureCapacity` method. Other JDK implementations may vary.","title":"ArrayList: how does the size increase?","body":"<p>It will depend on the implementation, but from the Sun Java 6 source code:</p>\n\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n\n<p>That's in the <code>ensureCapacity</code> method. Other JDK implementations may vary.</p>\n"},{"tags":[],"owner":{"account_id":1802711,"reputation":5,"user_id":1640619,"display_name":"sumitkaushik"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1348578338,"creation_date":1346509312,"answer_id":12228531,"question_id":4450628,"body_markdown":"The default size of the arraylist is 10. When we add the 11th ....arraylist increases the size (n*2). The values stored in old arraylist are copied into the new arraylist whose size is 20.","title":"ArrayList: how does the size increase?","body":"<p>The default size of the arraylist is 10. When we add the 11th ....arraylist increases the size (n*2). The values stored in old arraylist are copied into the new arraylist whose size is 20.</p>\n"},{"tags":[],"owner":{"account_id":2023793,"reputation":71,"user_id":1809380,"display_name":"rajagopala reddy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1352381111,"creation_date":1352381111,"answer_id":13289750,"question_id":4450628,"body_markdown":"when a ArrayList is declared and initialized using default \r\nconstructor, memory space for 10 elements will be created.\r\nnow, when i add 11 th element, what happens is\r\n\r\nArrayList create a new object with the following size\r\n\r\ni.e  OldCapacity*3/2+1 = 10*3/2+1 =16\r\n","title":"ArrayList: how does the size increase?","body":"<p>when a ArrayList is declared and initialized using default \nconstructor, memory space for 10 elements will be created.\nnow, when i add 11 th element, what happens is</p>\n\n<p>ArrayList create a new object with the following size</p>\n\n<p>i.e  OldCapacity*3/2+1 = 10*3/2+1 =16</p>\n"},{"tags":[],"owner":{"account_id":203405,"reputation":473,"user_id":451042,"display_name":"mgmiller"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1421141733,"creation_date":1357161590,"answer_id":14129344,"question_id":4450628,"body_markdown":"Sun&#39;s JDK6:\r\n\r\nI believe that it grows to 15 elements. Not coding it out, but looking at the grow()\r\ncode in the jdk.\r\n\r\nint newCapacity then = 10 + (10 &gt;&gt; 1) = 15.\r\n\r\n\r\n\r\n    /**\r\n     * Increases the capacity to ensure that it can hold at least the\r\n     * number of elements specified by the minimum capacity argument.\r\n     *\r\n     * @param minCapacity the desired minimum capacity\r\n     */\r\n    private void grow(int minCapacity) {\r\n        // overflow-conscious code\r\n        int oldCapacity = elementData.length;\r\n        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n        if (newCapacity - minCapacity &lt; 0)\r\n            newCapacity = minCapacity;\r\n        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n            newCapacity = hugeCapacity(minCapacity);\r\n        // minCapacity is usually close to size, so this is a win:\r\n        elementData = Arrays.copyOf(elementData, newCapacity);\r\n    }\r\n\r\nFrom the Javadoc, it says this is from Java 2 and on, so its a safe bet in the Sun JDK. \r\n\r\n**EDIT** : for those who didn&#39;t get what&#39;s the connection between multiplying factor `1.5` and `int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);`\r\n\r\n`&gt;&gt;` is right shift operator which reduces a number to its half.\r\nThus,&lt;br&gt; `int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);`&lt;br&gt;\r\n=&gt; `int newCapacity = oldCapacity + 0.5*oldCapacity;` &lt;br&gt;\r\n=&gt; `int newCapacity = 1.5*oldCapacity ;`\r\n","title":"ArrayList: how does the size increase?","body":"<p>Sun's JDK6:</p>\n\n<p>I believe that it grows to 15 elements. Not coding it out, but looking at the grow()\ncode in the jdk.</p>\n\n<p>int newCapacity then = 10 + (10 >> 1) = 15.</p>\n\n<pre><code>/**\n * Increases the capacity to ensure that it can hold at least the\n * number of elements specified by the minimum capacity argument.\n *\n * @param minCapacity the desired minimum capacity\n */\nprivate void grow(int minCapacity) {\n    // overflow-conscious code\n    int oldCapacity = elementData.length;\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n    if (newCapacity - minCapacity &lt; 0)\n        newCapacity = minCapacity;\n    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n        newCapacity = hugeCapacity(minCapacity);\n    // minCapacity is usually close to size, so this is a win:\n    elementData = Arrays.copyOf(elementData, newCapacity);\n}\n</code></pre>\n\n<p>From the Javadoc, it says this is from Java 2 and on, so its a safe bet in the Sun JDK. </p>\n\n<p><strong>EDIT</strong> : for those who didn't get what's the connection between multiplying factor <code>1.5</code> and <code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</code></p>\n\n<p><code>&gt;&gt;</code> is right shift operator which reduces a number to its half.\nThus,<br> <code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</code><br>\n=> <code>int newCapacity = oldCapacity + 0.5*oldCapacity;</code> <br>\n=> <code>int newCapacity = 1.5*oldCapacity ;</code></p>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1441800707,"creation_date":1410325306,"answer_id":25757618,"question_id":4450628,"body_markdown":"When we try to add an object to the arraylist, \r\n\r\n**Java checks** to ensure that there is enough capacity in the existing array to hold the new object. If not, a **new array of a greater size is created**, the **old array is copied to new array** using **Arrays.copyOf** and the new array is assigned to the existing array. \r\n\r\nLook at the code below (taken from Java ArrayList Code at GrepCode.com).\r\n\r\n![Check this example][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n&gt;Edit:\r\n\r\n**public ArrayList()** Constructs an empty list with an initial capacity of ten.\r\n\r\n**public ArrayList(int initialCapacity)** we can specify initial capacity.\r\n\r\n**public ArrayList(Collection&lt;? extends E&gt; c)** Constructs a list containing the elements of the specified collection, in the order they are returned by the collection&#39;s iterator.\r\n\r\n\r\nNow when we use ArrayList() constructore we get a ArrayList with **Size=10**\r\nOn adding 11th element in the list new Arraylist is created inside ensureCapacity() method.\r\n\r\nUsing following formula:\r\n\r\n\r\n      int newCapacity= (oldCapacity * 3)/2 +1;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6Sjuo.jpg\r\n  [2]: http://i.stack.imgur.com/KgBwQ.jpg","title":"ArrayList: how does the size increase?","body":"<p>When we try to add an object to the arraylist, </p>\n\n<p><strong>Java checks</strong> to ensure that there is enough capacity in the existing array to hold the new object. If not, a <strong>new array of a greater size is created</strong>, the <strong>old array is copied to new array</strong> using <strong>Arrays.copyOf</strong> and the new array is assigned to the existing array. </p>\n\n<p>Look at the code below (taken from Java ArrayList Code at GrepCode.com).</p>\n\n<p><img src=\"https://i.stack.imgur.com/6Sjuo.jpg\" alt=\"Check this example\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/KgBwQ.jpg\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p>Edit:</p>\n</blockquote>\n\n<p><strong>public ArrayList()</strong> Constructs an empty list with an initial capacity of ten.</p>\n\n<p><strong>public ArrayList(int initialCapacity)</strong> we can specify initial capacity.</p>\n\n<p><strong>public ArrayList(Collection c)</strong> Constructs a list containing the elements of the specified collection, in the order they are returned by the collection's iterator.</p>\n\n<p>Now when we use ArrayList() constructore we get a ArrayList with <strong>Size=10</strong>\nOn adding 11th element in the list new Arraylist is created inside ensureCapacity() method.</p>\n\n<p>Using following formula:</p>\n\n<pre><code>  int newCapacity= (oldCapacity * 3)/2 +1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521971154,"creation_date":1437715675,"answer_id":31602815,"question_id":4450628,"body_markdown":"ArrayList does increases the size on load factor on following cases: \r\n\r\n- **Initial Capacity:** 10\r\n- **Load Factor:** 1 (i.e. when the list is full)\r\n- **Growth Rate:** current_size + current_size/2\r\n\r\n\r\n&gt;Context : JDK 7  \r\n\r\nWhile adding an element into the `ArrayList`, the following `public ensureCapacityInternal` calls and the other private method calls happen internally to increase the size. This is what dynamically increase the size of `ArrayList`. \r\nwhile viewing the code you can understand the logic by naming conventions, because of this reason I am not adding explicit description\r\n\r\n    public boolean add(E paramE) {\r\n    \t\tensureCapacityInternal(this.size + 1);\r\n    \t\tthis.elementData[(this.size++)] = paramE;\r\n    \t\treturn true;\r\n    \t}\r\n\r\n    private void ensureCapacityInternal(int paramInt) {\r\n    \t\tif (this.elementData == EMPTY_ELEMENTDATA)\r\n    \t\t\tparamInt = Math.max(10, paramInt);\r\n    \t\tensureExplicitCapacity(paramInt);\r\n    \t}\r\n    private void ensureExplicitCapacity(int paramInt) {\r\n    \t\tthis.modCount += 1;\r\n    \t\tif (paramInt - this.elementData.length &lt;= 0)\r\n    \t\t\treturn;\r\n    \t\tgrow(paramInt);\r\n    \t}\r\n\r\n\tprivate void grow(int paramInt) {\r\n\t\tint i = this.elementData.length;\r\n\t\tint j = i + (i &gt;&gt; 1);\r\n\t\tif (j - paramInt &lt; 0)\r\n\t\t\tj = paramInt;\r\n\t\tif (j - 2147483639 &gt; 0)\r\n\t\t\tj = hugeCapacity(paramInt);\r\n\t\tthis.elementData = Arrays.copyOf(this.elementData, j);\r\n\t}\r\n","title":"ArrayList: how does the size increase?","body":"<p>ArrayList does increases the size on load factor on following cases: </p>\n\n<ul>\n<li><strong>Initial Capacity:</strong> 10</li>\n<li><strong>Load Factor:</strong> 1 (i.e. when the list is full)</li>\n<li><strong>Growth Rate:</strong> current_size + current_size/2</li>\n</ul>\n\n<blockquote>\n  <p>Context : JDK 7  </p>\n</blockquote>\n\n<p>While adding an element into the <code>ArrayList</code>, the following <code>public ensureCapacityInternal</code> calls and the other private method calls happen internally to increase the size. This is what dynamically increase the size of <code>ArrayList</code>. \nwhile viewing the code you can understand the logic by naming conventions, because of this reason I am not adding explicit description</p>\n\n<pre><code>public boolean add(E paramE) {\n        ensureCapacityInternal(this.size + 1);\n        this.elementData[(this.size++)] = paramE;\n        return true;\n    }\n\nprivate void ensureCapacityInternal(int paramInt) {\n        if (this.elementData == EMPTY_ELEMENTDATA)\n            paramInt = Math.max(10, paramInt);\n        ensureExplicitCapacity(paramInt);\n    }\nprivate void ensureExplicitCapacity(int paramInt) {\n        this.modCount += 1;\n        if (paramInt - this.elementData.length &lt;= 0)\n            return;\n        grow(paramInt);\n    }\n\nprivate void grow(int paramInt) {\n    int i = this.elementData.length;\n    int j = i + (i &gt;&gt; 1);\n    if (j - paramInt &lt; 0)\n        j = paramInt;\n    if (j - 2147483639 &gt; 0)\n        j = hugeCapacity(paramInt);\n    this.elementData = Arrays.copyOf(this.elementData, j);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477474178,"creation_date":1477474178,"answer_id":40258527,"question_id":4450628,"body_markdown":"&gt; Context java 8\r\n\r\nI give my answer here in the context of Oracle java 8 implementation, since after reading all the answers, I found that an answer in the context of java 6 has given by gmgmiller, and another answer has been given in the context of java 7.  But how java 8 implementes the size increasement has not been given. \r\n\r\n\r\nIn java 8, the size increasement behavior is the same as java 6, see the `grow` method of ArrayList:\r\n\r\n \r\n\r\n       private void grow(int minCapacity) {\r\n            // overflow-conscious code\r\n            int oldCapacity = elementData.length;\r\n            int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n            if (newCapacity - minCapacity &lt; 0)\r\n                newCapacity = minCapacity;\r\n            if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n                newCapacity = hugeCapacity(minCapacity);\r\n            // minCapacity is usually close to size, so this is a win:\r\n            elementData = Arrays.copyOf(elementData, newCapacity);\r\n        }\r\n\r\n\r\nthe key code is this line:\r\n\r\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\nSo clearly, the growth factor is also 1.5, the same as java 6. \r\n\r\n","title":"ArrayList: how does the size increase?","body":"<blockquote>\n  <p>Context java 8</p>\n</blockquote>\n\n<p>I give my answer here in the context of Oracle java 8 implementation, since after reading all the answers, I found that an answer in the context of java 6 has given by gmgmiller, and another answer has been given in the context of java 7.  But how java 8 implementes the size increasement has not been given. </p>\n\n<p>In java 8, the size increasement behavior is the same as java 6, see the <code>grow</code> method of ArrayList:</p>\n\n<pre><code>   private void grow(int minCapacity) {\n        // overflow-conscious code\n        int oldCapacity = elementData.length;\n        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n        if (newCapacity - minCapacity &lt; 0)\n            newCapacity = minCapacity;\n        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n            newCapacity = hugeCapacity(minCapacity);\n        // minCapacity is usually close to size, so this is a win:\n        elementData = Arrays.copyOf(elementData, newCapacity);\n    }\n</code></pre>\n\n<p>the key code is this line:</p>\n\n<pre><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n\n<p>So clearly, the growth factor is also 1.5, the same as java 6. </p>\n"},{"tags":[],"owner":{"account_id":6252797,"reputation":429,"user_id":4862362,"accept_rate":50,"display_name":"sumit sachdeva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479112260,"creation_date":1479112260,"answer_id":40584577,"question_id":4450628,"body_markdown":"&gt;When ArrayList is declared and initialized using the default constructor, memory space for 10 elements is created. \r\n\r\nNO. When ArrayList is initialized, memory allocation is made for an empty array. Memory allocation for default capacity (10) is made only upon addition of first element to ArrayList.\r\n\r\n     /**\r\n     * The array buffer into which the elements of the ArrayList are stored.\r\n     * The capacity of the ArrayList is the length of this array buffer. Any\r\n     * empty ArrayList with elementData == EMPTY_ELEMENTDATA will be expanded to\r\n     * DEFAULT_CAPACITY when the first element is added.\r\n     */\r\n    private transient Object[] elementData;\r\n\r\nP.S. Don&#39;t have enough reputation to comment on question, so I am putting this as an answer as nobody pointed out this incorrect assumption earlier.","title":"ArrayList: how does the size increase?","body":"<blockquote>\n  <p>When ArrayList is declared and initialized using the default constructor, memory space for 10 elements is created. </p>\n</blockquote>\n\n<p>NO. When ArrayList is initialized, memory allocation is made for an empty array. Memory allocation for default capacity (10) is made only upon addition of first element to ArrayList.</p>\n\n<pre><code> /**\n * The array buffer into which the elements of the ArrayList are stored.\n * The capacity of the ArrayList is the length of this array buffer. Any\n * empty ArrayList with elementData == EMPTY_ELEMENTDATA will be expanded to\n * DEFAULT_CAPACITY when the first element is added.\n */\nprivate transient Object[] elementData;\n</code></pre>\n\n<p>P.S. Don't have enough reputation to comment on question, so I am putting this as an answer as nobody pointed out this incorrect assumption earlier.</p>\n"},{"tags":[],"owner":{"account_id":11884314,"reputation":1,"user_id":8697134,"display_name":"Rajesh Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509007639,"creation_date":1509006099,"answer_id":46949174,"question_id":4450628,"body_markdown":"Size of `ArrayList` increases with `n+n/2+1` always.","title":"ArrayList: how does the size increase?","body":"<p>Size of <code>ArrayList</code> increases with <code>n+n/2+1</code> always.</p>\n"},{"tags":[],"owner":{"account_id":12178797,"reputation":163,"user_id":8891016,"display_name":"Eswaran Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509922299,"creation_date":1509916860,"answer_id":47126754,"question_id":4450628,"body_markdown":"Default capacity of ArrayList is 10.\r\nOnce the Capacity reaches its maximum capacity, Size of the ArrayList will be 16, once the capacity reaches its maximum capacity of 16, size of the ArrayList will be 25 and keep on increasing based on Data size.....\r\n\r\nHow? Here is the Answer and Formula\r\n\r\n    New capacity = (Current Capacity * 3/2) + 1\r\n\r\nSo, if the default capacity is 10, then \r\n\r\n    Current Capacity = 10\r\n    New capacity = (10 * 3/2) + 1\r\n    Output is 16\r\n\r\n","title":"ArrayList: how does the size increase?","body":"<p>Default capacity of ArrayList is 10.\nOnce the Capacity reaches its maximum capacity, Size of the ArrayList will be 16, once the capacity reaches its maximum capacity of 16, size of the ArrayList will be 25 and keep on increasing based on Data size.....</p>\n\n<p>How? Here is the Answer and Formula</p>\n\n<pre><code>New capacity = (Current Capacity * 3/2) + 1\n</code></pre>\n\n<p>So, if the default capacity is 10, then </p>\n\n<pre><code>Current Capacity = 10\nNew capacity = (10 * 3/2) + 1\nOutput is 16\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10297348,"reputation":161,"user_id":7597068,"display_name":"James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517560909,"creation_date":1517560909,"answer_id":48578809,"question_id":4450628,"body_markdown":"    static int getCapacity(ArrayList&lt;?&gt; list) throws Exception {\r\n    \t        Field dataField = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n    \t        dataField.setAccessible(true);\r\n    \t        return ((Object[]) dataField.get(list)).length;\r\n    \t}\r\n\r\nuse the above method to check the size when the arraylist is being modified. ","title":"ArrayList: how does the size increase?","body":"<pre><code>static int getCapacity(ArrayList&lt;?&gt; list) throws Exception {\n            Field dataField = ArrayList.class.getDeclaredField(\"elementData\");\n            dataField.setAccessible(true);\n            return ((Object[]) dataField.get(list)).length;\n    }\n</code></pre>\n\n<p>use the above method to check the size when the arraylist is being modified. </p>\n"},{"tags":[],"owner":{"account_id":3430283,"reputation":1,"user_id":2874920,"display_name":"Kprasanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519393346,"creation_date":1519393346,"answer_id":48949202,"question_id":4450628,"body_markdown":"In Jdk 1.6:\r\nNew capacity = (Current Capacity * 3/2) + 1;\r\n\r\nIn Jdk 1.7:\r\n\r\nint j = i + (i &gt;&gt; 1);\r\nthis is same as \r\nNew capacity = (Current Capacity * 1/2) + Current Capacity;\r\n\r\nex:size will increase like :10--&gt;15--&gt;22--&gt;33\r\n\r\n","title":"ArrayList: how does the size increase?","body":"<p>In Jdk 1.6:\nNew capacity = (Current Capacity * 3/2) + 1;</p>\n\n<p>In Jdk 1.7:</p>\n\n<p>int j = i + (i >> 1);\nthis is same as \nNew capacity = (Current Capacity * 1/2) + Current Capacity;</p>\n\n<p>ex:size will increase like :10-->15-->22-->33</p>\n"},{"tags":[],"owner":{"account_id":10909625,"reputation":3249,"user_id":8019439,"accept_rate":58,"display_name":"Almas Abdrazak"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1622994772,"creation_date":1535176029,"answer_id":52014409,"question_id":4450628,"body_markdown":"Lets look at this test case (jdk1.8)\r\n\r\n    @Test\r\n        public void testArraySize() throws Exception {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(&quot;ds&quot;);\r\n            list.add(&quot;cx&quot;);\r\n            list.add(&quot;cx&quot;);\r\n            list.add(&quot;ww&quot;);\r\n            list.add(&quot;ds&quot;);\r\n            list.add(&quot;cx&quot;);\r\n            list.add(&quot;cx&quot;);\r\n            list.add(&quot;ww&quot;);\r\n            list.add(&quot;ds&quot;);\r\n            list.add(&quot;cx&quot;);\r\n            list.add(&quot;last&quot;);\r\n        }\r\n\r\n1)Put break point on the line when &quot;last&quot; is inserted \r\n\r\n2)Go to the add method of `ArrayList`\r\nYou will see\r\n\r\n    ensureCapacityInternal(size + 1);  // Increments modCount!!\r\n            elementData[size++] = e;\r\n\r\n3) Go to ensureCapacityInternal method, this method calls `ensureExplicitCapacity`\r\n\r\n4) \r\n\r\n    private void ensureExplicitCapacity(int minCapacity) {\r\n            modCount++;\r\n    \r\n            // overflow-conscious code\r\n            if (minCapacity - elementData.length &gt; 0)\r\n                grow(minCapacity);\r\n        }\r\n                return true;\r\n\r\nIn our example minCapacity is equal to 11 `11-10 &gt; 0` therefore   `grow` method will be called\r\n\r\n5)\r\n\r\n    private void grow(int minCapacity) {\r\n            // overflow-conscious code\r\n            int oldCapacity = elementData.length;\r\n            int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n            if (newCapacity - minCapacity &lt; 0)\r\n                newCapacity = minCapacity;\r\n            if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n                newCapacity = hugeCapacity(minCapacity);\r\n            // minCapacity is usually close to size, so this is a win:\r\n            elementData = Arrays.copyOf(elementData, newCapacity);\r\n        }\r\n\r\n   Lets describe each step:\r\n\r\n   1) `oldCapacity` = 10 by default, in java 8 arraylist&#39;s capacity is 10 , you can override it by passing another value in constructor\r\n\r\n  2) `int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);`\r\nHere newCapacity is equal to oldCapacity plus oldCapacity with right shift by one\r\n(`oldCapacity is 10` this is the binary representation `00001010` moving one bit to right will make `00000101` which is 5 in decimal therefore `newCapacity` is `10 + 5 = 15`)\r\n\r\n3) \r\n\r\n    if (newCapacity - minCapacity &lt; 0)\r\n                    newCapacity = minCapacity;\r\nFor example your initial capacity was 1(`new ArrayList&lt;&gt;(1)`), when you add the second element `newCapacity` will be equal to `1(oldCapacity) + 0 (moved to right by one bit) = 1`\r\nIn this case newCapacity is less than minCapacity and `elementData`( objects array`Object[]` inside arrayList that stores the data) can&#39;t hold new element therefore newCapacity will be equal to minCapacity\r\n\r\n4) \r\n\r\n    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\r\n                newCapacity = hugeCapacity(minCapacity);\r\n\r\nCheck if array size reached MAX_ARRAY_SIZE (which is Integer.MAX - 8) https://stackoverflow.com/questions/35756277/why-the-maximum-array-size-of-arraylist-is-integer-max-value-8\r\n\r\n5) Finally it copies old values to the newArray with length 15","title":"ArrayList: how does the size increase?","body":"<p>Lets look at this test case (jdk1.8)</p>\n<pre><code>@Test\n    public void testArraySize() throws Exception {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;ds&quot;);\n        list.add(&quot;cx&quot;);\n        list.add(&quot;cx&quot;);\n        list.add(&quot;ww&quot;);\n        list.add(&quot;ds&quot;);\n        list.add(&quot;cx&quot;);\n        list.add(&quot;cx&quot;);\n        list.add(&quot;ww&quot;);\n        list.add(&quot;ds&quot;);\n        list.add(&quot;cx&quot;);\n        list.add(&quot;last&quot;);\n    }\n</code></pre>\n<p>1)Put break point on the line when &quot;last&quot; is inserted</p>\n<p>2)Go to the add method of <code>ArrayList</code>\nYou will see</p>\n<pre><code>ensureCapacityInternal(size + 1);  // Increments modCount!!\n        elementData[size++] = e;\n</code></pre>\n<ol start=\"3\">\n<li><p>Go to ensureCapacityInternal method, this method calls <code>ensureExplicitCapacity</code></p>\n</li>\n<li><p>private void ensureExplicitCapacity(int minCapacity) {\nmodCount++;</p>\n<pre><code>      // overflow-conscious code\n      if (minCapacity - elementData.length &gt; 0)\n          grow(minCapacity);\n  }\n          return true;\n</code></pre>\n</li>\n</ol>\n<p>In our example minCapacity is equal to 11 <code>11-10 &gt; 0</code> therefore   <code>grow</code> method will be called</p>\n<p>5)</p>\n<pre><code>private void grow(int minCapacity) {\n        // overflow-conscious code\n        int oldCapacity = elementData.length;\n        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n        if (newCapacity - minCapacity &lt; 0)\n            newCapacity = minCapacity;\n        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\n            newCapacity = hugeCapacity(minCapacity);\n        // minCapacity is usually close to size, so this is a win:\n        elementData = Arrays.copyOf(elementData, newCapacity);\n    }\n</code></pre>\n<p>Lets describe each step:</p>\n<ol>\n<li><p><code>oldCapacity</code> = 10 by default, in java 8 arraylist's capacity is 10 , you can override it by passing another value in constructor</p>\n</li>\n<li><p><code>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</code>\nHere newCapacity is equal to oldCapacity plus oldCapacity with right shift by one\n(<code>oldCapacity is 10</code> this is the binary representation <code>00001010</code> moving one bit to right will make <code>00000101</code> which is 5 in decimal therefore <code>newCapacity</code> is <code>10 + 5 = 15</code>)</p>\n</li>\n<li><p>if (newCapacity - minCapacity &lt; 0)\nnewCapacity = minCapacity;\nFor example your initial capacity was 1(<code>new ArrayList&lt;&gt;(1)</code>), when you add the second element <code>newCapacity</code> will be equal to <code>1(oldCapacity) + 0 (moved to right by one bit) = 1</code>\nIn this case newCapacity is less than minCapacity and <code>elementData</code>( objects array<code>Object[]</code> inside arrayList that stores the data) can't hold new element therefore newCapacity will be equal to minCapacity</p>\n</li>\n<li><p>if (newCapacity - MAX_ARRAY_SIZE &gt; 0)\nnewCapacity = hugeCapacity(minCapacity);</p>\n</li>\n</ol>\n<p>Check if array size reached MAX_ARRAY_SIZE (which is Integer.MAX - 8) <a href=\"https://stackoverflow.com/questions/35756277/why-the-maximum-array-size-of-arraylist-is-integer-max-value-8\">Why the maximum array size of ArrayList is Integer.MAX_VALUE - 8?</a></p>\n<ol start=\"5\">\n<li>Finally it copies old values to the newArray with length 15</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1589090353,"creation_date":1537110596,"answer_id":52355461,"question_id":4450628,"body_markdown":"Up to JDK 6 the the capacity grow with formula `newCapacity = (oldCapacity * 3/2) + 1`. \r\n\r\nIn JDK 7 and above the formula changes to `newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1)`.\r\n\r\nSo if initial capacity is `10` then new capacity will be `16 in JDK6` and `15 in above JDK7`","title":"ArrayList: how does the size increase?","body":"<p>Up to JDK 6 the the capacity grow with formula <code>newCapacity = (oldCapacity * 3/2) + 1</code>. </p>\n\n<p>In JDK 7 and above the formula changes to <code>newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1)</code>.</p>\n\n<p>So if initial capacity is <code>10</code> then new capacity will be <code>16 in JDK6</code> and <code>15 in above JDK7</code></p>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567687916,"creation_date":1567687916,"answer_id":57805933,"question_id":4450628,"body_markdown":"From JDK source code, I found below code\r\n\r\n    int oldCapacity = elementData.length;\r\n    int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\n","title":"ArrayList: how does the size increase?","body":"<p>From JDK source code, I found below code</p>\n\n<pre><code>int oldCapacity = elementData.length;\nint newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12510916,"reputation":265,"user_id":9106074,"display_name":"Null Pointer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583588634,"creation_date":1582710960,"answer_id":60411179,"question_id":4450628,"body_markdown":"**(oldSize * 3)/2 + 1**\r\n\r\n*If you are using default constructor then initial size of `ArrayList` will be `10` else you can pass the initial size of array while creating the object of `ArrayList`.*\r\n\r\nExample: In case default constructor\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    list.size()\r\n\r\n*Example: In case parameterized constructor*\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(5);\r\n    list.size()","title":"ArrayList: how does the size increase?","body":"<p><strong>(oldSize * 3)/2 + 1</strong></p>\n\n<p><em>If you are using default constructor then initial size of <code>ArrayList</code> will be <code>10</code> else you can pass the initial size of array while creating the object of <code>ArrayList</code>.</em></p>\n\n<p>Example: In case default constructor</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nlist.size()\n</code></pre>\n\n<p><em>Example: In case parameterized constructor</em></p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(5);\nlist.size()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20389073,"reputation":21,"user_id":14957373,"display_name":"Shobha Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611316228,"creation_date":1611222591,"answer_id":65824856,"question_id":4450628,"body_markdown":"1. Arraylist default capacity is 10.\r\n2. [1,2,3,4,5.....10]\r\n3. if you want to increase the size of Arraylist in java, you can apply this \r\n4.   formula-\r\n\r\n5. int newcapacity, current capacity;\r\n6. newcapacity =((current capacity*3/2)+1)\r\n7. arralist will be [1,2,3,4,5.....10,11] and arraylist capacity is 16.\r\n","title":"ArrayList: how does the size increase?","body":"<ol>\n<li><p>Arraylist default capacity is 10.</p>\n</li>\n<li><p>[1,2,3,4,5.....10]</p>\n</li>\n<li><p>if you want to increase the size of Arraylist in java, you can apply this</p>\n</li>\n<li><p>formula-</p>\n</li>\n<li><p>int newcapacity, current capacity;</p>\n</li>\n<li><p>newcapacity =((current capacity*3/2)+1)</p>\n</li>\n<li><p>arralist will be [1,2,3,4,5.....10,11] and arraylist capacity is 16.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3201740,"reputation":11,"user_id":2703666,"display_name":"user2703666"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611533326,"creation_date":1611533326,"answer_id":65877367,"question_id":4450628,"body_markdown":"ArrayList in Java grows by 50% of its original capacity once it is full.","title":"ArrayList: how does the size increase?","body":"<p>ArrayList in Java grows by 50% of its original capacity once it is full.</p>\n"},{"tags":[],"owner":{"account_id":10890030,"reputation":1,"user_id":8006154,"display_name":"himanshu soni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628674289,"creation_date":1628674289,"answer_id":68739426,"question_id":4450628,"body_markdown":"ArrayList is the class of  Collection Interface.\r\nJava is open source language we can change its implementation.\r\nhere java predefined implementation is:\r\nnew capacity = (currentCapacity*3)/2 + 1;\r\nor \r\nin JAVASE8\r\nnewcapacity = oldCapacity+(oldcapacity&gt;&gt;1);","title":"ArrayList: how does the size increase?","body":"<p>ArrayList is the class of  Collection Interface.\nJava is open source language we can change its implementation.\nhere java predefined implementation is:\nnew capacity = (currentCapacity*3)/2 + 1;\nor\nin JAVASE8\nnewcapacity = oldCapacity+(oldcapacity&gt;&gt;1);</p>\n"},{"tags":[],"owner":{"account_id":24238330,"reputation":442,"user_id":18191094,"display_name":"Henry S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654291934,"creation_date":1654291934,"answer_id":72495353,"question_id":4450628,"body_markdown":"This is the lastest JDK version (2022 June), JDK 18, and you can download it on https://jdk.java.net/18/\r\nor we can look the source on Github \r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\r\n\r\nWhen you add an item into your ArrayList, Java will ensure that it can hold at least the items was in it and the new item. Java prefer to increase the capacity to 1.5* current capacity according to this expression            \r\n\r\n    int newCapacity = ArraysSupport.newLength(oldCapacity,\r\n                    minCapacity - oldCapacity, /* minimum growth */\r\n                    oldCapacity &gt;&gt; 1           /* preferred growth */);.\r\n\r\n`oldCapacity &gt;&gt; 1` means 0.5 * oldCapacity\r\nso newLength will be 1.5 * oldCapacity if it is positive and not overflow\r\n\r\nHere are the code snippets:\r\n\r\nsrc/java.base/share/classes/java/util/ArrayList.java\r\n\r\n    public boolean add(E e) {\r\n        modCount++;\r\n        add(e, elementData, size);\r\n        return true;\r\n    }\r\n\t\r\n\tprivate void add(E e, Object[] elementData, int s) {\r\n        if (s == elementData.length)\r\n            elementData = grow();\r\n        elementData[s] = e;\r\n        size = s + 1;\r\n    }\r\n\r\n\tprivate Object[] grow() {\r\n        return grow(size + 1);\r\n    }\r\n    \r\n    private Object[] grow(int minCapacity) {\r\n        int oldCapacity = elementData.length;\r\n        if (oldCapacity &gt; 0 || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\r\n            int newCapacity = ArraysSupport.newLength(oldCapacity,\r\n                    minCapacity - oldCapacity, /* minimum growth */\r\n                    oldCapacity &gt;&gt; 1           /* preferred growth */);\r\n            return elementData = Arrays.copyOf(elementData, newCapacity);\r\n        } else {\r\n            return elementData = new Object[Math.max(DEFAULT_CAPACITY, minCapacity)];\r\n        }\r\n    }\r\n\r\n    \r\nsrc/java.base/share/classes/jdk/internal/util/ArraysSupport.java\r\n\r\n\tpublic static int newLength(int oldLength, int minGrowth, int prefGrowth) {\r\n        int prefLength = oldLength + Math.max(minGrowth, prefGrowth); // might overflow\r\n        if (0 &lt; prefLength &amp;&amp; prefLength &lt;= SOFT_MAX_ARRAY_LENGTH) {\r\n            return prefLength;\r\n        } else {\r\n            return hugeLength(oldLength, minGrowth);\r\n        }\r\n    }\r\n\r\n","title":"ArrayList: how does the size increase?","body":"<p>This is the lastest JDK version (2022 June), JDK 18, and you can download it on <a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\">https://jdk.java.net/18/</a>\nor we can look the source on Github\n<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java</a></p>\n<p>When you add an item into your ArrayList, Java will ensure that it can hold at least the items was in it and the new item. Java prefer to increase the capacity to 1.5* current capacity according to this expression</p>\n<pre><code>int newCapacity = ArraysSupport.newLength(oldCapacity,\n                minCapacity - oldCapacity, /* minimum growth */\n                oldCapacity &gt;&gt; 1           /* preferred growth */);.\n</code></pre>\n<p><code>oldCapacity &gt;&gt; 1</code> means 0.5 * oldCapacity\nso newLength will be 1.5 * oldCapacity if it is positive and not overflow</p>\n<p>Here are the code snippets:</p>\n<p>src/java.base/share/classes/java/util/ArrayList.java</p>\n<pre><code>public boolean add(E e) {\n    modCount++;\n    add(e, elementData, size);\n    return true;\n}\n\nprivate void add(E e, Object[] elementData, int s) {\n    if (s == elementData.length)\n        elementData = grow();\n    elementData[s] = e;\n    size = s + 1;\n}\n\nprivate Object[] grow() {\n    return grow(size + 1);\n}\n\nprivate Object[] grow(int minCapacity) {\n    int oldCapacity = elementData.length;\n    if (oldCapacity &gt; 0 || elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {\n        int newCapacity = ArraysSupport.newLength(oldCapacity,\n                minCapacity - oldCapacity, /* minimum growth */\n                oldCapacity &gt;&gt; 1           /* preferred growth */);\n        return elementData = Arrays.copyOf(elementData, newCapacity);\n    } else {\n        return elementData = new Object[Math.max(DEFAULT_CAPACITY, minCapacity)];\n    }\n}\n</code></pre>\n<p>src/java.base/share/classes/jdk/internal/util/ArraysSupport.java</p>\n<pre><code>public static int newLength(int oldLength, int minGrowth, int prefGrowth) {\n    int prefLength = oldLength + Math.max(minGrowth, prefGrowth); // might overflow\n    if (0 &lt; prefLength &amp;&amp; prefLength &lt;= SOFT_MAX_ARRAY_LENGTH) {\n        return prefLength;\n    } else {\n        return hugeLength(oldLength, minGrowth);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":71036,"reputation":2527,"user_id":205505,"accept_rate":88,"display_name":"crazyTechie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178670,"favorite_count":0,"down_vote_count":1,"up_vote_count":95,"accepted_answer_id":4450659,"answer_count":23,"score":94,"last_activity_date":1654291934,"creation_date":1292421239,"question_id":4450628,"body_markdown":"I have a basic question on Java `ArrayList`.\r\n\r\nWhen `ArrayList` is declared and initialized using the default constructor, memory space for 10 elements is created. Now, when I add an 11th element, what happens? Will new memory space be created with 20 (or more) element capacity (this requires copying elements from 1st memory location to new location) OR some thing else?\r\n\r\nI checked the `ArrayList` API documentation for Java 1.4.2. But I didn&#39;t find an answer.\r\n\r\nPlease share the knowledge. \r\nThanks.\r\n\r\nEdit: New links:\r\n\r\n - [`ArrayList` in the Java 11 API documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html)\r\n - [Java(TM) 2 SDK, Standard Edition Documentation 1.4.2](https://www.oracle.com/java/technologies/java-archive-142docs-downloads.html)","title":"ArrayList: how does the size increase?","body":"<p>I have a basic question on Java <code>ArrayList</code>.</p>\n<p>When <code>ArrayList</code> is declared and initialized using the default constructor, memory space for 10 elements is created. Now, when I add an 11th element, what happens? Will new memory space be created with 20 (or more) element capacity (this requires copying elements from 1st memory location to new location) OR some thing else?</p>\n<p>I checked the <code>ArrayList</code> API documentation for Java 1.4.2. But I didn't find an answer.</p>\n<p>Please share the knowledge.\nThanks.</p>\n<p>Edit: New links:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code> in the Java 11 API documentation</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/java-archive-142docs-downloads.html\" rel=\"nofollow noreferrer\">Java(TM) 2 SDK, Standard Edition Documentation 1.4.2</a></li>\n</ul>\n"},{"tags":["java","encryption","google-authenticator"],"comments":[{"owner":{"account_id":9083,"reputation":5633,"user_id":16631,"accept_rate":85,"display_name":"Organiccat"},"score":0,"creation_date":1654291564,"post_id":72467982,"comment_id":128064627,"body_markdown":"Was incorrectly using a random number in a bean that was randomized on startup (and never stored anywhere). The salt and passphrase, etc. must be stored (securely) and not random for the encryption to work after being generated again.","body":"Was incorrectly using a random number in a bean that was randomized on startup (and never stored anywhere). The salt and passphrase, etc. must be stored (securely) and not random for the encryption to work after being generated again."}],"answers":[{"tags":[],"owner":{"account_id":9083,"reputation":5633,"user_id":16631,"accept_rate":85,"display_name":"Organiccat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654291595,"creation_date":1654291595,"answer_id":72495311,"question_id":72467982,"body_markdown":"Was incorrectly using a random number in a bean that was randomized on startup (and never stored anywhere). The salt and passphrase, etc. must be stored (securely) and not random for the encryption to work after being generated again. ","title":"Google Authenticator code failure using j256 after server restart","body":"<p>Was incorrectly using a random number in a bean that was randomized on startup (and never stored anywhere). The salt and passphrase, etc. must be stored (securely) and not random for the encryption to work after being generated again.</p>\n"}],"owner":{"account_id":9083,"reputation":5633,"user_id":16631,"accept_rate":85,"display_name":"Organiccat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654291595,"creation_date":1654117160,"question_id":72467982,"body_markdown":"The keys work fine for any period of time after generating, as long as the server continues to run.\r\n\r\nIs there some link between validation and the server that gets stored in cache, and wiped upon restart? Not doing anything custom, just generating QR codes and keys, scanning them with Google Authenticator, and using the validation engine built in. It works 100% of the time right up until a server restart. The secret is stored securely, regardless of what&#39;s going on, and it doesn&#39;t change when rebooting or anything like that.\r\n\r\nIs there a step I&#39;m missing that&#39;s causing this issue?\r\n\r\nI know the great solution would be never dropping the server, haha, but we can&#39;t have our users set up auth again every time the server needs to be updated or rebooted. **Generating a new code  on the server after the server is restarted, works.**\r\n\r\nReproducing:\r\n\r\n 1. Generate new secret\r\n 2. Add secret to google auth with QR code scanner\r\n 3. Test google key with auth system &#128077;\r\n 4. Restart server Test google key\r\n 5. Test with auth system again (failure &#128078; )\r\n\r\n*&quot;Unable to invoke Cipher due to bad padding&quot;*","title":"Google Authenticator code failure using j256 after server restart","body":"<p>The keys work fine for any period of time after generating, as long as the server continues to run.</p>\n<p>Is there some link between validation and the server that gets stored in cache, and wiped upon restart? Not doing anything custom, just generating QR codes and keys, scanning them with Google Authenticator, and using the validation engine built in. It works 100% of the time right up until a server restart. The secret is stored securely, regardless of what's going on, and it doesn't change when rebooting or anything like that.</p>\n<p>Is there a step I'm missing that's causing this issue?</p>\n<p>I know the great solution would be never dropping the server, haha, but we can't have our users set up auth again every time the server needs to be updated or rebooted. <strong>Generating a new code  on the server after the server is restarted, works.</strong></p>\n<p>Reproducing:</p>\n<ol>\n<li>Generate new secret</li>\n<li>Add secret to google auth with QR code scanner</li>\n<li>Test google key with auth system </li>\n<li>Restart server Test google key</li>\n<li>Test with auth system again (failure  )</li>\n</ol>\n<p><em>&quot;Unable to invoke Cipher due to bad padding&quot;</em></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1654219507,"post_id":72483612,"comment_id":128044752,"body_markdown":"Please include the activity xml files for both activities.","body":"Please include the activity xml files for both activities."},{"owner":{"account_id":7160407,"reputation":449,"user_id":7023751,"display_name":"Vishal Naikawadi"},"score":0,"creation_date":1654232404,"post_id":72483612,"comment_id":128046452,"body_markdown":"check the ID you have given to the textview. it should be textView only.","body":"check the ID you have given to the textview. it should be textView only."}],"answers":[{"tags":[],"owner":{"account_id":6814985,"reputation":130,"user_id":5243996,"display_name":"Marcos Melgosa V&#225;zquez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654221451,"creation_date":1654221451,"answer_id":72483990,"question_id":72483612,"body_markdown":"I read the tutorial and I think they missed this part of code:\r\n\r\n    android:onClick=&quot;sendMessage&quot;\r\n\r\nso, the code should be like this:\r\n\r\n    &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:onClick=&quot;sendMessage&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:text=&quot;@string/button_send&quot;\r\n            app:layout_constraintBaseline_toBaselineOf=&quot;@+id/editText&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/editText&quot; /&gt;\r\n\r\nand I think that&#39;s it, let me know if it helps","title":"Android Studio: cannot resolve symbol R.id.textView","body":"<p>I read the tutorial and I think they missed this part of code:</p>\n<pre><code>android:onClick=&quot;sendMessage&quot;\n</code></pre>\n<p>so, the code should be like this:</p>\n<pre><code>&lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:onClick=&quot;sendMessage&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:text=&quot;@string/button_send&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/editText&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/editText&quot; /&gt;\n</code></pre>\n<p>and I think that's it, let me know if it helps</p>\n"},{"tags":[],"owner":{"account_id":13408893,"reputation":3,"user_id":9676061,"display_name":"CalciumBromide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654291493,"creation_date":1654291493,"answer_id":72495300,"question_id":72483612,"body_markdown":"After looking more closely at @Vishal Naikawadi&#39;s comment, I realised what the problem was. `R.id.textView` is not some sort of variable, placeholder, or constant as I had assumed, it is literally getting the object with id `&quot;textView&quot;` (or so I think). I had accidentally changed the id of the object I was trying to reference in the visual editor, so there was no object with that id. I changed the id of the object back to the same as is referenced in the code and everything seems to be fine now.\r\n\r\nApologies to anyone whose time I&#39;ve wasted with this, I&#39;m really new to this concept in Java.","title":"Android Studio: cannot resolve symbol R.id.textView","body":"<p>After looking more closely at @Vishal Naikawadi's comment, I realised what the problem was. <code>R.id.textView</code> is not some sort of variable, placeholder, or constant as I had assumed, it is literally getting the object with id <code>&quot;textView&quot;</code> (or so I think). I had accidentally changed the id of the object I was trying to reference in the visual editor, so there was no object with that id. I changed the id of the object back to the same as is referenced in the code and everything seems to be fine now.</p>\n<p>Apologies to anyone whose time I've wasted with this, I'm really new to this concept in Java.</p>\n"}],"owner":{"account_id":13408893,"reputation":3,"user_id":9676061,"display_name":"CalciumBromide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654291493,"creation_date":1654216802,"question_id":72483612,"body_markdown":"I&#39;m currently following the Android Studio &quot;Build Your First App&quot; tutorial (https://developer.android.com/training/basics/firstapp/starting-activity) and I can&#39;t seem to get the DisplayMessageActivity working. The variable &quot;R.id.textView&quot; doesn&#39;t seem to exist and I can&#39;t see any differences between the tutorial and my own code. I know this is just me being stupid somewhere but I can&#39;t pinpoint it.\r\n\r\nHere&#39;s my code for DisplayMessageActivity.java:\r\n```package com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\n\r\npublic class DisplayMessageActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_display_message);\r\n\r\n        // Get the Intent that started this activity and extract the string\r\n        Intent intent = getIntent();\r\n        String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);\r\n\r\n        // Capture the layout&#39;s TextView and set the string as its text\r\n        TextView textView = findViewById(R.id.textView); &lt;-- Cannot resolve symbol &#39;textView&#39;\r\n        textView.setText(message);\r\n    }\r\n}\r\n```\r\nAnd MainActivity.java, which is trying to run it:\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    /** Called when the user taps the Send button */\r\n    public void sendMessage(View view) {\r\n        Intent intent = new Intent(this, DisplayMessageActivity.class);\r\n        EditText editText = (EditText) findViewById(R.id.editTextTextPersonName);\r\n        String message = editText.getText().toString();\r\n        intent.putExtra(EXTRA_MESSAGE, message);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\nWhen I try to run the app on the virtual device it doesn&#39;t crash, but the button which calls the DisplayMessage activity does nothing.\r\n\r\nEDIT: As requested, the xml code for both activities:\r\n\r\nactivity_display_message.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.DisplayMessageActivity&quot;&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextPersonName&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;@string/edit_message&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/button2&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:onClick=&quot;sendMessage&quot;\r\n        android:text=&quot;@string/button_send&quot;\r\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/editTextTextPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/editTextTextPersonName&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"Android Studio: cannot resolve symbol R.id.textView","body":"<p>I'm currently following the Android Studio &quot;Build Your First App&quot; tutorial (<a href=\"https://developer.android.com/training/basics/firstapp/starting-activity\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/firstapp/starting-activity</a>) and I can't seem to get the DisplayMessageActivity working. The variable &quot;R.id.textView&quot; doesn't seem to exist and I can't see any differences between the tutorial and my own code. I know this is just me being stupid somewhere but I can't pinpoint it.</p>\n<p>Here's my code for DisplayMessageActivity.java:</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class DisplayMessageActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_display_message);\n\n        // Get the Intent that started this activity and extract the string\n        Intent intent = getIntent();\n        String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);\n\n        // Capture the layout's TextView and set the string as its text\n        TextView textView = findViewById(R.id.textView); &lt;-- Cannot resolve symbol 'textView'\n        textView.setText(message);\n    }\n}\n</code></pre>\n<p>And MainActivity.java, which is trying to run it:</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    /** Called when the user taps the Send button */\n    public void sendMessage(View view) {\n        Intent intent = new Intent(this, DisplayMessageActivity.class);\n        EditText editText = (EditText) findViewById(R.id.editTextTextPersonName);\n        String message = editText.getText().toString();\n        intent.putExtra(EXTRA_MESSAGE, message);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>When I try to run the app on the virtual device it doesn't crash, but the button which calls the DisplayMessage activity does nothing.</p>\n<p>EDIT: As requested, the xml code for both activities:</p>\n<p>activity_display_message.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.DisplayMessageActivity&quot;&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextPersonName&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;@string/edit_message&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/button2&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:onClick=&quot;sendMessage&quot;\n        android:text=&quot;@string/button_send&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/editTextTextPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/editTextTextPersonName&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654291072,"post_id":72495192,"comment_id":128064497,"body_markdown":"Well, call `a`, then check the state of `b`...","body":"Well, call <code>a</code>, then check the state of <code>b</code>..."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1654344893,"post_id":72495192,"comment_id":128071633,"body_markdown":"@Shan Lu how would `c + CONSTANT` work, java doesn&#39;t support operator overloading","body":"@Shan Lu how would <code>c + CONSTANT</code> work, java doesn&#39;t support operator overloading"}],"answers":[{"tags":[],"owner":{"account_id":9444879,"reputation":1502,"user_id":7024019,"display_name":"Crusha K. Rool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654291403,"creation_date":1654291403,"answer_id":72495285,"question_id":72495192,"body_markdown":"You could use a mocking framework like Mockito, EasyMock or PowerMock and create a mock for `B`, which you then assign to `b` in the instance of the class you want to test.\r\n\r\nYou can tell the mock which methods you expect to have called, which parameters you expect to be passed and then you can verify that all your expectations were fulfilled.\r\n\r\nSee the respective framework&#39;s documentation for an example of how to use them.","title":"How to write unit test for void method with for loop and utilization of method from another class?","body":"<p>You could use a mocking framework like Mockito, EasyMock or PowerMock and create a mock for <code>B</code>, which you then assign to <code>b</code> in the instance of the class you want to test.</p>\n<p>You can tell the mock which methods you expect to have called, which parameters you expect to be passed and then you can verify that all your expectations were fulfilled.</p>\n<p>See the respective framework's documentation for an example of how to use them.</p>\n"}],"owner":{"account_id":20558797,"reputation":5,"user_id":15089727,"display_name":"lslslsls"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72495285,"answer_count":1,"score":0,"last_activity_date":1654291403,"creation_date":1654290733,"question_id":72495192,"body_markdown":"I have a void method in the following format, and I am struggling with how to test it. Thanks for your comments and help! \r\n```\r\npublic class A {\r\n    @NonNull\r\n    B b;\r\n\r\n    @NonNull\r\n    C c;\r\n   \r\n    public void a(String region){\r\n        for (M m: M.getMarketplacesForRegion(REGION_MAP.get(region))) {\r\n            b.initialize(CONSTANT, m.getId());\r\n            b.initialize(c + CONSTANT, m.getId());\r\n        }  \r\n    } \r\n}\r\n```","title":"How to write unit test for void method with for loop and utilization of method from another class?","body":"<p>I have a void method in the following format, and I am struggling with how to test it. Thanks for your comments and help!</p>\n<pre><code>public class A {\n    @NonNull\n    B b;\n\n    @NonNull\n    C c;\n   \n    public void a(String region){\n        for (M m: M.getMarketplacesForRegion(REGION_MAP.get(region))) {\n            b.initialize(CONSTANT, m.getId());\n            b.initialize(c + CONSTANT, m.getId());\n        }  \n    } \n}\n</code></pre>\n"},{"tags":["java","generics","overload-resolution"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1638309763,"post_id":70176307,"comment_id":124053883,"body_markdown":"Need more information, particularly details on what `Xyz` is, the exact actual error message, and the compiler version you&#39;re using.","body":"Need more information, particularly details on what <code>Xyz</code> is, the exact actual error message, and the compiler version you&#39;re using."},{"owner":{"account_id":23507043,"reputation":304,"user_id":17556153,"display_name":"Timothy Cole"},"score":1,"creation_date":1638310511,"post_id":70176307,"comment_id":124054077,"body_markdown":"@chrylis-cautiouslyoptimistic- `Xyz` is defined in the example, see the bottom of the source for `static class Xyz {}`. Occurs on all Java compilers that I have tested from Java 8 to Java 16. The error message is `reference to bar is ambiguous`.","body":"@chrylis-cautiouslyoptimistic- <code>Xyz</code> is defined in the example, see the bottom of the source for <code>static class Xyz {}</code>. Occurs on all Java compilers that I have tested from Java 8 to Java 16. The error message is <code>reference to bar is ambiguous</code>."},{"owner":{"account_id":23507043,"reputation":304,"user_id":17556153,"display_name":"Timothy Cole"},"score":0,"creation_date":1638310854,"post_id":70176307,"comment_id":124054161,"body_markdown":"I have attached a runnable example to the original post. Uncomment the labelled line to see the ambiguity error.","body":"I have attached a runnable example to the original post. Uncomment the labelled line to see the ambiguity error."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638311038,"post_id":70176307,"comment_id":124054206,"body_markdown":"Please note that your analysis of the first error (_not valid (does not extend Xyz)_) is wrong. `foo(Xyz::new);` does not compile because the method `foo()` expects an instance of `Xyz` but you try to pass in a method reference which would require that `Xyz` is a functional interface - but `Xyz` is a class, not a functional interface.","body":"Please note that your analysis of the first error (<i>not valid (does not extend Xyz)</i>) is wrong. <code>foo(Xyz::new);</code> does not compile because the method <code>foo()</code> expects an instance of <code>Xyz</code> but you try to pass in a method reference which would require that <code>Xyz</code> is a functional interface - but <code>Xyz</code> is a class, not a functional interface."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1638313428,"post_id":70176307,"comment_id":124054803,"body_markdown":"@ThomasKl&#228;ger &quot;*you try to pass in a method reference which would require that Xyz is a functional interface*&quot; This is either outright wrong, or very badly phrased. If the param was declared as `Supplier&lt;T&gt;` then `Xyz::new` would be a perfectly valid argument. A class does not need to be a functional interface to use method references.","body":"@ThomasKl&#228;ger &quot;<i>you try to pass in a method reference which would require that Xyz is a functional interface</i>&quot; This is either outright wrong, or very badly phrased. If the param was declared as <code>Supplier&lt;T&gt;</code> then <code>Xyz::new</code> would be a perfectly valid argument. A class does not need to be a functional interface to use method references."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638338522,"post_id":70176307,"comment_id":124059002,"body_markdown":"@Michael may be the wording of my comment is bad but the argument still holds. _If the param was declared as `Supplier&lt;T&gt;`_: then yes the code would work. But  the param of `foo(T s)` is declared as `&lt;T extends Xyz&gt;` and the Java compiler cannot convert the method reference `Xyz::new` into an instance of the concrete class `Xyz` or a subclass of `Xyz`. That is why the Java compiler writes this error message: &quot;(argument mismatch; Xyz is not a functional interface)&quot; for the line `foo(Xyz::new);`","body":"@Michael may be the wording of my comment is bad but the argument still holds. <i>If the param was declared as <code>Supplier&lt;T&gt;</code></i>: then yes the code would work. But  the param of <code>foo(T s)</code> is declared as <code>&lt;T extends Xyz&gt;</code> and the Java compiler cannot convert the method reference <code>Xyz::new</code> into an instance of the concrete class <code>Xyz</code> or a subclass of <code>Xyz</code>. That is why the Java compiler writes this error message: &quot;(argument mismatch; Xyz is not a functional interface)&quot; for the line <code>foo(Xyz::new);</code>"},{"owner":{"account_id":18231558,"reputation":969,"user_id":13270392,"display_name":"GACy20"},"score":3,"creation_date":1638349477,"post_id":70176307,"comment_id":124061937,"body_markdown":"Type inference  is *hard*. Basically any non-toy type system which mixes together stuff like generics, subtypes and the like will have a non-decidable typeinference problem. This means that, in order to have a working specification, you *must* restrict how type inference is done so that compilers can actually be written and agree on how the valid programs. This obviously means that some programs that could be inferred by some other algorithm wont be correctly inferred by the specification. In these cases usually adding explicit types can help since you switch from inferece to type checking.","body":"Type inference  is <i>hard</i>. Basically any non-toy type system which mixes together stuff like generics, subtypes and the like will have a non-decidable typeinference problem. This means that, in order to have a working specification, you <i>must</i> restrict how type inference is done so that compilers can actually be written and agree on how the valid programs. This obviously means that some programs that could be inferred by some other algorithm wont be correctly inferred by the specification. In these cases usually adding explicit types can help since you switch from inferece to type checking."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1638316248,"creation_date":1638315934,"answer_id":70177494,"question_id":70176307,"body_markdown":"You&#39;re right that a smarter compiler should be able to resolve this unambiguously.\r\n\r\nThe way Java resolves method invocations is *complex*. It&#39;s [defined by the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12), and I make it 7500 words purely to determine how to resolve a method. Pasted into a text editor, it was 15 pages.\r\n\r\nThe general approach is:\r\n\r\n1. Compile-Time Step 1: Determine Type to Search (no issue here)\r\n2. Compile-Time Step 2: Determine Method Signature\r\n   1. Identify Potentially Applicable Methods\r\n   2. Phase 1: Identify Matching Arity Methods Applicable by Strict Invocation\r\n   3. Phase 2: Identify Matching Arity Methods Applicable by Loose Invocation\r\n   4. Phase 3: Identify Methods Applicable by Variable Arity Invocation\r\n   5. Choosing the Most Specific Method\r\n   6. Method Invocation Type\r\n3. Compile-Time Step 3: Is the Chosen Method Appropriate?\r\n\r\nI don&#39;t understand anywhere close to all of the details and how it pertains to your specific case. If you care to dive into it then I&#39;ve already linked the full spec. Hopefully this explanation is good enough for your purposes: \r\n\r\n*Ambiguousness* is determined at step 2.6, but there is still a further *appropriateness* check at step 3. Your `foo` method must be failing at step 3. Your `bar` method never makes it that far because the compiler still considers both methods to be valid possibilities. A human can make the determination that the non-appropriateness resolves the ambiguity, but that&#39;s not order the compiler does things. I could only speculate why - performance might be a factor. \r\n\r\nYour code is operating at the intersection of generics, overloading and method references, all three of which were introduced at different times; it&#39;s not massively surprising to me that the compiler would struggle.","title":"Why is this Java generic method call ambiguous when only one method is valid when separate?","body":"<p>You're right that a smarter compiler should be able to resolve this unambiguously.</p>\n<p>The way Java resolves method invocations is <em>complex</em>. It's <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12\" rel=\"noreferrer\">defined by the JLS</a>, and I make it 7500 words purely to determine how to resolve a method. Pasted into a text editor, it was 15 pages.</p>\n<p>The general approach is:</p>\n<ol>\n<li>Compile-Time Step 1: Determine Type to Search (no issue here)</li>\n<li>Compile-Time Step 2: Determine Method Signature\n<ol>\n<li>Identify Potentially Applicable Methods</li>\n<li>Phase 1: Identify Matching Arity Methods Applicable by Strict Invocation</li>\n<li>Phase 2: Identify Matching Arity Methods Applicable by Loose Invocation</li>\n<li>Phase 3: Identify Methods Applicable by Variable Arity Invocation</li>\n<li>Choosing the Most Specific Method</li>\n<li>Method Invocation Type</li>\n</ol>\n</li>\n<li>Compile-Time Step 3: Is the Chosen Method Appropriate?</li>\n</ol>\n<p>I don't understand anywhere close to all of the details and how it pertains to your specific case. If you care to dive into it then I've already linked the full spec. Hopefully this explanation is good enough for your purposes:</p>\n<p><em>Ambiguousness</em> is determined at step 2.6, but there is still a further <em>appropriateness</em> check at step 3. Your <code>foo</code> method must be failing at step 3. Your <code>bar</code> method never makes it that far because the compiler still considers both methods to be valid possibilities. A human can make the determination that the non-appropriateness resolves the ambiguity, but that's not order the compiler does things. I could only speculate why - performance might be a factor.</p>\n<p>Your code is operating at the intersection of generics, overloading and method references, all three of which were introduced at different times; it's not massively surprising to me that the compiler would struggle.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1654290324,"creation_date":1638317302,"answer_id":70177632,"question_id":70176307,"body_markdown":"Your problem is mostly a problem of type inference than a problem of ambiguous method:\r\n\r\n    public &lt;T extends Xyz&gt; void bar(T s) {} // bar(Xyz)\r\n    public void bar(String s) {}\r\n    public &lt;T extends Zyx&gt; void bar(T s) {} // bar(Zyx)\r\n    public &lt;T extends Xyz&gt; void bar(Supplier&lt;T&gt; s) {}\r\n    public static class Xyz {}\r\n    public static class Zyx {}\r\n\r\nIf you use:\r\n\r\n        bar(new Xyz());  // ok\r\n        bar(&quot;a&quot;);   // ok\r\n        bar(new Zyx());   // ok\r\n        bar((Supplier&lt;Xyz&gt;) Xyz::new); // ok\r\n        bar(Xyz::new); // ambiguous\r\n\r\nYou get this error (tried with Java 17) which is not about the lambda, but about the type `T`: **cannot infer type-variable(s) T**\r\n\r\n      both method &lt;T#1&gt;bar(T#1) in Example and method &lt;T#2&gt;bar(Supplier&lt;T#2&gt;) in Example match\r\n      where T#1,T#2 are type-variables:\r\n        T#1 extends Zyx declared in method &lt;T#1&gt;bar(T#1)\r\n        T#2 extends Xyz declared in method &lt;T#2&gt;bar(Supplier&lt;T#2&gt;)\r\n    Example.java:18: error: incompatible types: cannot infer type-variable(s) T\r\n\r\nJava is not smart enough to find the concrete type T is this case, and you have to help it:\r\n\r\n    Example.&lt;Xyz&gt;bar(Xyz::new);\r\n\r\nI tried to look into the JLS, driven by Michael answer, and the section that should better answer your question is the [18.5.1. Invocation Applicability Inference](https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.1).\r\n\r\nI had the same kind of errors frequently occurring with Java 7 and Collections:\r\n\r\n    public static &lt;T extends Zyx&gt; void bar(java.util.List&lt;T&gt; s) {} // bar(Zyx)\r\n    public static &lt;T extends Zyx&gt; void bar(T s) {} // bar(List)\r\n    bar(new Zyx()); \r\n    bar(java.util.Collections.emptyList()); \r\n\r\nThe worse of it being that Eclipse was having no trouble, while javac failed.\r\n\r\nI suppose that in the case of lambdas, the compiler does not infer the type T from the &quot;Xyz&quot;. \r\n\r\n\r\n","title":"Why is this Java generic method call ambiguous when only one method is valid when separate?","body":"<p>Your problem is mostly a problem of type inference than a problem of ambiguous method:</p>\n<pre><code>public &lt;T extends Xyz&gt; void bar(T s) {} // bar(Xyz)\npublic void bar(String s) {}\npublic &lt;T extends Zyx&gt; void bar(T s) {} // bar(Zyx)\npublic &lt;T extends Xyz&gt; void bar(Supplier&lt;T&gt; s) {}\npublic static class Xyz {}\npublic static class Zyx {}\n</code></pre>\n<p>If you use:</p>\n<pre><code>    bar(new Xyz());  // ok\n    bar(&quot;a&quot;);   // ok\n    bar(new Zyx());   // ok\n    bar((Supplier&lt;Xyz&gt;) Xyz::new); // ok\n    bar(Xyz::new); // ambiguous\n</code></pre>\n<p>You get this error (tried with Java 17) which is not about the lambda, but about the type <code>T</code>: <strong>cannot infer type-variable(s) T</strong></p>\n<pre><code>  both method &lt;T#1&gt;bar(T#1) in Example and method &lt;T#2&gt;bar(Supplier&lt;T#2&gt;) in Example match\n  where T#1,T#2 are type-variables:\n    T#1 extends Zyx declared in method &lt;T#1&gt;bar(T#1)\n    T#2 extends Xyz declared in method &lt;T#2&gt;bar(Supplier&lt;T#2&gt;)\nExample.java:18: error: incompatible types: cannot infer type-variable(s) T\n</code></pre>\n<p>Java is not smart enough to find the concrete type T is this case, and you have to help it:</p>\n<pre><code>Example.&lt;Xyz&gt;bar(Xyz::new);\n</code></pre>\n<p>I tried to look into the JLS, driven by Michael answer, and the section that should better answer your question is the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.1\" rel=\"nofollow noreferrer\">18.5.1. Invocation Applicability Inference</a>.</p>\n<p>I had the same kind of errors frequently occurring with Java 7 and Collections:</p>\n<pre><code>public static &lt;T extends Zyx&gt; void bar(java.util.List&lt;T&gt; s) {} // bar(Zyx)\npublic static &lt;T extends Zyx&gt; void bar(T s) {} // bar(List)\nbar(new Zyx()); \nbar(java.util.Collections.emptyList()); \n</code></pre>\n<p>The worse of it being that Eclipse was having no trouble, while javac failed.</p>\n<p>I suppose that in the case of lambdas, the compiler does not infer the type T from the &quot;Xyz&quot;.</p>\n"}],"owner":{"account_id":23507043,"reputation":304,"user_id":17556153,"display_name":"Timothy Cole"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":70177494,"answer_count":2,"score":30,"last_activity_date":1654290324,"creation_date":1638307687,"question_id":70176307,"body_markdown":"I am trying to understand why the compiler is unable to resolve the `bar` method call. I would expect `bar(Xyz::new)` to always select `bar(Supplier)` as `bar(T extends Xyz)` can never match due to the upper bound on `Xyz`.\r\n\r\n```java\r\npublic &lt;T extends Xyz&gt; void foo(T s) {}\r\npublic &lt;T extends Xyz&gt; void bar(T s) {}\r\npublic &lt;T extends Xyz&gt; void bar(Supplier&lt;T&gt; s) {}\r\n\r\npublic void example() {\r\n    foo(Xyz::new); // not valid (does not extend Xyz)\r\n\r\n    bar((Supplier&lt;Xyz&gt;) Xyz::new); // valid (explicitly a Supplier)\r\n    bar(Xyz::new); // ambiguous - but only one method is valid?\r\n}\r\n\r\npublic static class Xyz {}\r\n```\r\n\r\nIf `bar(T)` is not applicable, even when alone (as shown with `foo(T)`), then surely the only option is `bar(Supplier)` making this a non-ambiguous overload.\r\n\r\nWhy is the `bar` call ambiguous, especially when the `foo` and `bar(T)` calls are not valid resolutions themselves?\r\n\r\nRunnable example of above code: https://www.jdoodle.com/ia/kqP","title":"Why is this Java generic method call ambiguous when only one method is valid when separate?","body":"<p>I am trying to understand why the compiler is unable to resolve the <code>bar</code> method call. I would expect <code>bar(Xyz::new)</code> to always select <code>bar(Supplier)</code> as <code>bar(T extends Xyz)</code> can never match due to the upper bound on <code>Xyz</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Xyz&gt; void foo(T s) {}\npublic &lt;T extends Xyz&gt; void bar(T s) {}\npublic &lt;T extends Xyz&gt; void bar(Supplier&lt;T&gt; s) {}\n\npublic void example() {\n    foo(Xyz::new); // not valid (does not extend Xyz)\n\n    bar((Supplier&lt;Xyz&gt;) Xyz::new); // valid (explicitly a Supplier)\n    bar(Xyz::new); // ambiguous - but only one method is valid?\n}\n\npublic static class Xyz {}\n</code></pre>\n<p>If <code>bar(T)</code> is not applicable, even when alone (as shown with <code>foo(T)</code>), then surely the only option is <code>bar(Supplier)</code> making this a non-ambiguous overload.</p>\n<p>Why is the <code>bar</code> call ambiguous, especially when the <code>foo</code> and <code>bar(T)</code> calls are not valid resolutions themselves?</p>\n<p>Runnable example of above code: <a href=\"https://www.jdoodle.com/ia/kqP\" rel=\"noreferrer\">https://www.jdoodle.com/ia/kqP</a></p>\n"},{"tags":["java","spring","spring-security","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":448569,"reputation":3796,"user_id":842832,"accept_rate":33,"display_name":"demaniak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483683016,"creation_date":1483683016,"answer_id":41499961,"question_id":36868114,"body_markdown":"Disclaimer: NOT an expert.\r\n\r\nThe preferred way seems to be by using the `@PreAuthorize` annotation.\r\n\r\nThis thing accepts SpEL expressions, which then allows you (assuming all the security and oauth2 stuff has been configured correctly - for example global method level security needs to be enabled) to do interesting things like:\r\n\r\n    @PreAuthorize(&quot;#oauth2.hasScope(&#39;read&#39;) and hasAuthority(&#39;USER&#39;)&quot;)\r\n\r\nI would (humbly) also suggest that your REST endpoints be thin wrappers around service classes (that then do the actual work). AND that the security annotations then be pushed down into those service classes (or their interfaces - apparently you can annotate the interface and it still works).\r\n\r\nThat should be more secure since nothing can then get to the &quot;job&quot; code without proper security clearance. ","title":"Secure Spring Boot app with custom scopes/roles","body":"<p>Disclaimer: NOT an expert.</p>\n\n<p>The preferred way seems to be by using the <code>@PreAuthorize</code> annotation.</p>\n\n<p>This thing accepts SpEL expressions, which then allows you (assuming all the security and oauth2 stuff has been configured correctly - for example global method level security needs to be enabled) to do interesting things like:</p>\n\n<pre><code>@PreAuthorize(\"#oauth2.hasScope('read') and hasAuthority('USER')\")\n</code></pre>\n\n<p>I would (humbly) also suggest that your REST endpoints be thin wrappers around service classes (that then do the actual work). AND that the security annotations then be pushed down into those service classes (or their interfaces - apparently you can annotate the interface and it still works).</p>\n\n<p>That should be more secure since nothing can then get to the \"job\" code without proper security clearance. </p>\n"},{"tags":[],"owner":{"account_id":1467686,"reputation":512,"user_id":1380090,"display_name":"ccellist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654289720,"creation_date":1654289720,"answer_id":72495078,"question_id":36868114,"body_markdown":"I know this is an old post but as it&#39;s not yet been &quot;answered&quot;, but here goes. \r\n\r\nAs is often the case with Spring the answer is actually more complicated than it seems, and there is more than one way to do this. (By the way, there is a fair amount of reading material on this. See https://developer.okta.com/blog/2019/06/20/spring-preauthorize and https://www.marcobehler.com/guides/spring-security for a more in-depth discussion on this topic.)\r\n\r\nMethod annotation or method security is what you&#39;re trying to do with `@PreAuthorize`, which is one of three annotations supported by Spring Security. OP mentioned `@RolesAllowed`, and `@Secured` is the more Spring-specific third annotation. As has been mentioned, the ability to use SPeL expressions is an advantage of using `@PreAuthorize`, but not the primary reason people use it. I think it is a matter of opinion whether you use one versus another annotation, but they&#39;re supposed to work the same, provided you&#39;ve annotated your application to support them, namely with `@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)` depending on what support you need.\r\n\r\nIn general, method annotation works fine. You just need to be aware that the method annotation will only work if you&#39;ve enabled it with the flags I&#39;ve just indicated. It also means your security is distributed across your controllers, which means you can view how your controllers/services are secured simply by looking at them. It does also mean, however, that authorization happens later in the Spring call sequence, so at least in theory access denials take just a tiny bit longer.\r\n\r\nThe alternative is using HttpSecurity configuration via `WebSecurityConfigurerAdapter`. The advantage I see here is you have all your security in one place, and you still get to use SPeL by using the `.access()` chain method. Because Spring handles security at this level much sooner your access denials will, in theory, happen faster. How much faster I couldn&#39;t say, maybe it doesn&#39;t matter, but sooner anyway if that matters to you. Where this doesn&#39;t work is if you have a controller that calls multiple `@Service` components depending on your access. In this scenario you have to use method security because authorization needs to happen right before the service method is called. Admittedly not the best design, but I could see a use case for this. Basically, if security is not determined or determinable by URI, then you have to rely on method security via these annotations.\r\n\r\nI don&#39;t know if this answers the question, but hopefully it helps someone.","title":"Secure Spring Boot app with custom scopes/roles","body":"<p>I know this is an old post but as it's not yet been &quot;answered&quot;, but here goes.</p>\n<p>As is often the case with Spring the answer is actually more complicated than it seems, and there is more than one way to do this. (By the way, there is a fair amount of reading material on this. See <a href=\"https://developer.okta.com/blog/2019/06/20/spring-preauthorize\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2019/06/20/spring-preauthorize</a> and <a href=\"https://www.marcobehler.com/guides/spring-security\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/spring-security</a> for a more in-depth discussion on this topic.)</p>\n<p>Method annotation or method security is what you're trying to do with <code>@PreAuthorize</code>, which is one of three annotations supported by Spring Security. OP mentioned <code>@RolesAllowed</code>, and <code>@Secured</code> is the more Spring-specific third annotation. As has been mentioned, the ability to use SPeL expressions is an advantage of using <code>@PreAuthorize</code>, but not the primary reason people use it. I think it is a matter of opinion whether you use one versus another annotation, but they're supposed to work the same, provided you've annotated your application to support them, namely with <code>@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)</code> depending on what support you need.</p>\n<p>In general, method annotation works fine. You just need to be aware that the method annotation will only work if you've enabled it with the flags I've just indicated. It also means your security is distributed across your controllers, which means you can view how your controllers/services are secured simply by looking at them. It does also mean, however, that authorization happens later in the Spring call sequence, so at least in theory access denials take just a tiny bit longer.</p>\n<p>The alternative is using HttpSecurity configuration via <code>WebSecurityConfigurerAdapter</code>. The advantage I see here is you have all your security in one place, and you still get to use SPeL by using the <code>.access()</code> chain method. Because Spring handles security at this level much sooner your access denials will, in theory, happen faster. How much faster I couldn't say, maybe it doesn't matter, but sooner anyway if that matters to you. Where this doesn't work is if you have a controller that calls multiple <code>@Service</code> components depending on your access. In this scenario you have to use method security because authorization needs to happen right before the service method is called. Admittedly not the best design, but I could see a use case for this. Basically, if security is not determined or determinable by URI, then you have to rely on method security via these annotations.</p>\n<p>I don't know if this answers the question, but hopefully it helps someone.</p>\n"}],"owner":{"account_id":53428,"reputation":8315,"user_id":159679,"accept_rate":64,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654289720,"creation_date":1461681419,"question_id":36868114,"body_markdown":"In my Jersey app Ive used `@RolesAllowed(&quot;my-scope-or-role-name&quot;)` together with an implementation of how to read scopes from a request to ensure authorization. E.g. when HTTP header `my-role-header` had the value `my-scope-or-role-name` I was processing the request.\r\n\r\n    @RolesAllowed(&quot;my-scope-or-role-name&quot;)\r\n    public ResponseEntity&lt;Object&gt; post(@RequestBody final String plainText) {\r\n     // process request\r\n    }\r\n\r\nAs the service was behind a proxy, only this proxy could set the value of `my-header`, depending on the access token it got. \r\n\r\nWhat is the idiomatic way to resolve this problem in Spring Boot? I also read about using `@Secured` annotation But the `@RolesAllowed()` seems to be pretty straight forward.  ","title":"Secure Spring Boot app with custom scopes/roles","body":"<p>In my Jersey app Ive used <code>@RolesAllowed(\"my-scope-or-role-name\")</code> together with an implementation of how to read scopes from a request to ensure authorization. E.g. when HTTP header <code>my-role-header</code> had the value <code>my-scope-or-role-name</code> I was processing the request.</p>\n\n<pre><code>@RolesAllowed(\"my-scope-or-role-name\")\npublic ResponseEntity&lt;Object&gt; post(@RequestBody final String plainText) {\n // process request\n}\n</code></pre>\n\n<p>As the service was behind a proxy, only this proxy could set the value of <code>my-header</code>, depending on the access token it got. </p>\n\n<p>What is the idiomatic way to resolve this problem in Spring Boot? I also read about using <code>@Secured</code> annotation But the <code>@RolesAllowed()</code> seems to be pretty straight forward.  </p>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"score":0,"creation_date":1654096336,"post_id":72464186,"comment_id":128011290,"body_markdown":"Did you have any attempt?","body":"Did you have any attempt?"},{"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"score":0,"creation_date":1654096975,"post_id":72464186,"comment_id":128011550,"body_markdown":"Couldn&#39;t find anything to achieve this. I could either get Map&lt;integer, Optional&lt;MyObject&gt;&gt; by doing groupBy ans maxBy on it.","body":"Couldn&#39;t find anything to achieve this. I could either get Map&lt;integer, Optional&lt;MyObject&gt;&gt; by doing groupBy ans maxBy on it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1654097904,"post_id":72464186,"comment_id":128011931,"body_markdown":"@jasmeet It would be match better if you would share the code you&#39;ve tried, even if it was not successful (*there would be no need for you in posting the question if you had a code that you&#39;re satisfied with*). The question should demonstrate effort, that why it&#39;s always better to show your attempt to approach the problem. [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"@jasmeet It would be match better if you would share the code you&#39;ve tried, even if it was not successful (<i>there would be no need for you in posting the question if you had a code that you&#39;re satisfied with</i>). The question should demonstrate effort, that why it&#39;s always better to show your attempt to approach the problem. <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654098153,"creation_date":1654096910,"answer_id":72464378,"question_id":72464186,"body_markdown":"It can be done using collector `groupingBy()` in conjunction with `collectingAndThen()` and `maxBy()`.\r\n\r\nCollector `maxBy()` expect a *comparator* as an argument and produces an optional result. To create a comparator, we can make use of the Java 8 method [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)).\r\n\r\n```\r\nList&lt;MyObject&gt; objects = // initializing the source list.\r\n        \r\nMap&lt;Integer, String&gt; statusByObjectId = objects.stream()\r\n    .collect(Collectors.groupingBy(\r\n        MyObject::getObjectId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.maxBy(Comparator.comparing(MyObject::getUpdatedTimestamp)),\r\n            (Optional&lt;MyObject&gt; result) -&gt; result.orElseThrow().getStatus())\r\n        ));\r\n```","title":"Converting a List&lt;MyObject&gt; into a Map&lt;Integer, String&gt; based on the Max MyObject property in Java 8","body":"<p>It can be done using collector <code>groupingBy()</code> in conjunction with <code>collectingAndThen()</code> and <code>maxBy()</code>.</p>\n<p>Collector <code>maxBy()</code> expect a <em>comparator</em> as an argument and produces an optional result. To create a comparator, we can make use of the Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a>.</p>\n<pre><code>List&lt;MyObject&gt; objects = // initializing the source list.\n        \nMap&lt;Integer, String&gt; statusByObjectId = objects.stream()\n    .collect(Collectors.groupingBy(\n        MyObject::getObjectId,\n        Collectors.collectingAndThen(\n            Collectors.maxBy(Comparator.comparing(MyObject::getUpdatedTimestamp)),\n            (Optional&lt;MyObject&gt; result) -&gt; result.orElseThrow().getStatus())\n        ));\n</code></pre>\n"}],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72464378,"answer_count":1,"score":-1,"last_activity_date":1654287227,"creation_date":1654096117,"question_id":72464186,"body_markdown":"I have a `List&lt;MyObject&gt;`. It contains multiple records for one `objectId`.\r\n\r\n`MyObject` class looks like\r\n\r\n    class MyObject{\r\n      int id;\r\n      int objectId;\r\n      String status;\r\n      LocalDate updatedTimestamp;\r\n    }\r\n\r\nI need a `Map&lt;Integer, String&gt;` with `objectId` as *Key* and corresponding `status` as a *Value*.\r\n\r\nI need to consider only the record for one `objectId` with latest `updatedTimestamp`.\r\n\r\nDifferent timestamps will have different `status`. Need only the latest one.\r\n\r\nI didn&#39;t find a way of achieving this. I know I can get `Map&lt;integer, Optional&lt;MyObject&gt;&gt;` by applying `groupingBy()` and `maxBy()`. \r\n\r\nPlease advise.","title":"Converting a List&lt;MyObject&gt; into a Map&lt;Integer, String&gt; based on the Max MyObject property in Java 8","body":"<p>I have a <code>List&lt;MyObject&gt;</code>. It contains multiple records for one <code>objectId</code>.</p>\n<p><code>MyObject</code> class looks like</p>\n<pre><code>class MyObject{\n  int id;\n  int objectId;\n  String status;\n  LocalDate updatedTimestamp;\n}\n</code></pre>\n<p>I need a <code>Map&lt;Integer, String&gt;</code> with <code>objectId</code> as <em>Key</em> and corresponding <code>status</code> as a <em>Value</em>.</p>\n<p>I need to consider only the record for one <code>objectId</code> with latest <code>updatedTimestamp</code>.</p>\n<p>Different timestamps will have different <code>status</code>. Need only the latest one.</p>\n<p>I didn't find a way of achieving this. I know I can get <code>Map&lt;integer, Optional&lt;MyObject&gt;&gt;</code> by applying <code>groupingBy()</code> and <code>maxBy()</code>.</p>\n<p>Please advise.</p>\n"},{"tags":["java","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653752866,"creation_date":1653752866,"answer_id":72417077,"question_id":72415943,"body_markdown":"You have to configure Hibernate to speak the PostgreSQL dialect of SQL.\r\n\r\nIn Oracle you get the next value of a sequence with a pseudo-column (`hibernate_sequence.nextval`), while in PostgreSQL you use a function (`nextval(hibernate_sequence)`). Using the Oracle syntax with PostgreSQL will cause the error you quote.","title":"Hibernate Identity differences when moving from Oracle To Postgres","body":"<p>You have to configure Hibernate to speak the PostgreSQL dialect of SQL.</p>\n<p>In Oracle you get the next value of a sequence with a pseudo-column (<code>hibernate_sequence.nextval</code>), while in PostgreSQL you use a function (<code>nextval(hibernate_sequence)</code>). Using the Oracle syntax with PostgreSQL will cause the error you quote.</p>\n"},{"tags":[],"owner":{"account_id":51688,"reputation":4537,"user_id":154477,"accept_rate":87,"display_name":"ryber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654286943,"creation_date":1654286943,"answer_id":72494696,"question_id":72415943,"body_markdown":"The main problem I had was not setting the ```hibernate.dialect``` property correctly. \r\n\r\nIt was\r\n```xml\r\n&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;\r\n```\r\n\r\nand changing it to \r\n\r\n```xml\r\n&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\r\n```\r\n\r\nfixed it and started using the correct sequence function as Laurenze Able pointed out","title":"Hibernate Identity differences when moving from Oracle To Postgres","body":"<p>The main problem I had was not setting the <code>hibernate.dialect</code> property correctly.</p>\n<p>It was</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;\n</code></pre>\n<p>and changing it to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQL95Dialect&quot;/&gt;\n</code></pre>\n<p>fixed it and started using the correct sequence function as Laurenze Able pointed out</p>\n"}],"owner":{"account_id":51688,"reputation":4537,"user_id":154477,"accept_rate":87,"display_name":"ryber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654286943,"creation_date":1653743211,"question_id":72415943,"body_markdown":"I am switching a Java application using Hibernate from Oracle to Postgres and encountering a issue with Id GeneratedValues.\r\n\r\nThe Domain objects have Ids configured like this:\r\n```java\r\n    @Id @GeneratedValue(strategy = GenerationType.AUTO) @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n```\r\n\r\nUnder Oracle there was a sequence called &quot;HIBERNATE_SEQUENCE&quot; that provided this. I have created this sequence in Postgres like this:\r\n\r\n```\r\n CREATE SEQUENCE HIBERNATE_SEQUENCE MINVALUE 1 MAXVALUE 9223372036854775807 INCREMENT BY 1 START WITH 50000 CACHE 20   NO CYCLE ;\r\n```  \r\n\r\nHowever, when persisting an object I&#39;m getting an error of:\r\n\r\n```\r\n org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;\r\n```\r\n\r\nI have tried:\r\n\r\n - switching the &quot;GenerationType&quot; to &quot;SEQUENCE&quot;\r\n - creating the sequence in lower case (hibernate_sequence)\r\n\r\nBut I get the same error in both cases.\r\n","title":"Hibernate Identity differences when moving from Oracle To Postgres","body":"<p>I am switching a Java application using Hibernate from Oracle to Postgres and encountering a issue with Id GeneratedValues.</p>\n<p>The Domain objects have Ids configured like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Id @GeneratedValue(strategy = GenerationType.AUTO) @Column(name = &quot;id&quot;)\n    private Long id;\n</code></pre>\n<p>Under Oracle there was a sequence called &quot;HIBERNATE_SEQUENCE&quot; that provided this. I have created this sequence in Postgres like this:</p>\n<pre><code> CREATE SEQUENCE HIBERNATE_SEQUENCE MINVALUE 1 MAXVALUE 9223372036854775807 INCREMENT BY 1 START WITH 50000 CACHE 20   NO CYCLE ;\n</code></pre>\n<p>However, when persisting an object I'm getting an error of:</p>\n<pre><code> org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;hibernate_sequence&quot;\n</code></pre>\n<p>I have tried:</p>\n<ul>\n<li>switching the &quot;GenerationType&quot; to &quot;SEQUENCE&quot;</li>\n<li>creating the sequence in lower case (hibernate_sequence)</li>\n</ul>\n<p>But I get the same error in both cases.</p>\n"},{"tags":["java","google-app-engine","gwt","timezone","gwt-rpc"],"comments":[{"owner":{"account_id":1682343,"reputation":1117,"user_id":1546324,"accept_rate":88,"display_name":"jrochette"},"score":0,"creation_date":1345128016,"post_id":11989219,"comment_id":15987492,"body_markdown":"There is probably something i&#39;m missing, but can&#39;t you just convert the date on the server side with java.util.TimeZone and send the converted date to the client?","body":"There is probably something i&#39;m missing, but can&#39;t you just convert the date on the server side with java.util.TimeZone and send the converted date to the client?"},{"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"score":0,"creation_date":1345129162,"post_id":11989219,"comment_id":15988239,"body_markdown":"I don&#39;t think you can do that can you? surely the timezone is only a formatting thing applied to the date itself, unless you are suggesting that I apply the timezone, format as a string then parse it and send back as a string array? EG `string[]={&quot;2012&quot;,&quot;09&quot;,&quot;03&quot;,&quot;09&quot;,&quot;00&quot;,&quot;00&quot;};`","body":"I don&#39;t think you can do that can you? surely the timezone is only a formatting thing applied to the date itself, unless you are suggesting that I apply the timezone, format as a string then parse it and send back as a string array? EG <code>string[]={&quot;2012&quot;,&quot;09&quot;,&quot;03&quot;,&quot;09&quot;,&quot;00&quot;,&quot;00&quot;};</code>"},{"owner":{"account_id":1682343,"reputation":1117,"user_id":1546324,"accept_rate":88,"display_name":"jrochette"},"score":0,"creation_date":1345129817,"post_id":11989219,"comment_id":15988608,"body_markdown":"yes, that is pretty much what I meant (sorry for not being clearer)","body":"yes, that is pretty much what I meant (sorry for not being clearer)"},{"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"score":0,"creation_date":1345130456,"post_id":11989219,"comment_id":15988978,"body_markdown":"No problem I am currently testing that out as, at the very least, an interim solution! Still surprised that there is not a better solution though....","body":"No problem I am currently testing that out as, at the very least, an interim solution! Still surprised that there is not a better solution though...."},{"owner":{"account_id":1682343,"reputation":1117,"user_id":1546324,"accept_rate":88,"display_name":"jrochette"},"score":0,"creation_date":1345131133,"post_id":11989219,"comment_id":15989358,"body_markdown":"By looking at the doc, the other solution I see is using TimeZone and TimeZoneConstants from the com.google.gwt.i18n.client package. Maybe something like TimeZone.createTimeZone(timeZoneConstants.europeLondno())?","body":"By looking at the doc, the other solution I see is using TimeZone and TimeZoneConstants from the com.google.gwt.i18n.client package. Maybe something like TimeZone.createTimeZone(timeZoneConstants.europeLondno())?"},{"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"score":0,"creation_date":1345132053,"post_id":11989219,"comment_id":15989813,"body_markdown":"Yes, I tried that, but I dont know how to establish that i should be using `timeZoneConstants.europeLondon()` rather than say `timeZoneConstants.americaLosAngeles()`\n\nBut your earlier suggestion ACTUALLY does work (or seems to so far anyway) more testing required of course!","body":"Yes, I tried that, but I dont know how to establish that i should be using <code>timeZoneConstants.europeLondon()</code> rather than say <code>timeZoneConstants.americaLosAngeles()</code>  But your earlier suggestion ACTUALLY does work (or seems to so far anyway) more testing required of course!"},{"owner":{"account_id":1682343,"reputation":1117,"user_id":1546324,"accept_rate":88,"display_name":"jrochette"},"score":0,"creation_date":1345132140,"post_id":11989219,"comment_id":15989860,"body_markdown":"Great. If it turns out to work, i&#39;ll write these comments as an answer to the question","body":"Great. If it turns out to work, i&#39;ll write these comments as an answer to the question"}],"answers":[{"tags":[],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345143827,"creation_date":1345143827,"answer_id":11993779,"question_id":11989219,"body_markdown":"Have you tried, for example, `TimeZone.createTimeZone(&quot;Europe/London&quot;);`?  At least in newer versions of GWT, this method accepts a whole bunch of names, evidently prepared &quot;from CLDR and Olson time zone database[sic]&quot;.  The documentation specifically references your use case: transferring timezone via json.\r\n\r\nSee [the properties file][1] - it seems like it has all of the standard names for timezones.\r\n\r\nIf that doesn&#39;t do it for you, you could transmit the offset of the timezone in minutes, and then create your timezone with `TimeZone.createTimeZone(offsetInMinutes)`.\r\n\r\n\r\n  [1]: http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/i18n/client/constants/TimeZoneConstants.properties?r=3655","title":"Sending a date and timezone from GAE server to GWT client","body":"<p>Have you tried, for example, <code>TimeZone.createTimeZone(\"Europe/London\");</code>?  At least in newer versions of GWT, this method accepts a whole bunch of names, evidently prepared \"from CLDR and Olson time zone database[sic]\".  The documentation specifically references your use case: transferring timezone via json.</p>\n\n<p>See <a href=\"http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/src/com/google/gwt/i18n/client/constants/TimeZoneConstants.properties?r=3655\" rel=\"nofollow\">the properties file</a> - it seems like it has all of the standard names for timezones.</p>\n\n<p>If that doesn't do it for you, you could transmit the offset of the timezone in minutes, and then create your timezone with <code>TimeZone.createTimeZone(offsetInMinutes)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1310001,"reputation":3639,"user_id":1258245,"accept_rate":92,"display_name":"user1258245"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345169578,"creation_date":1345169578,"answer_id":11998962,"question_id":11989219,"body_markdown":" \r\nI have a similar issue with v2.4.  \r\n\r\nI think Riley Lark is right.\r\n\r\n*TimeZone.createTimeZone(&quot;Asia/Tokyo&quot;)* did not work in GWT 2.4\r\n\r\nHowever, I found I could get the Tokyo zone by using the browser&#39;s default setting via:\r\n\r\n    Date d = new Date();\r\n    TimeZone timezone = TimeZone.createTimeZone(d.getTimezoneOffset());\r\n\r\nThat is really what Riley Lark is suggesting for you since europeLondon has &quot;std_offset&quot;: 0...\r\n\r\n&gt; TimeZone timezone = TimeZone.createTimeZone(0);\r\n\r\n","title":"Sending a date and timezone from GAE server to GWT client","body":"<p>I have a similar issue with v2.4.  </p>\n\n<p>I think Riley Lark is right.</p>\n\n<p><em>TimeZone.createTimeZone(\"Asia/Tokyo\")</em> did not work in GWT 2.4</p>\n\n<p>However, I found I could get the Tokyo zone by using the browser's default setting via:</p>\n\n<pre><code>Date d = new Date();\nTimeZone timezone = TimeZone.createTimeZone(d.getTimezoneOffset());\n</code></pre>\n\n<p>That is really what Riley Lark is suggesting for you since europeLondon has \"std_offset\": 0...</p>\n\n<blockquote>\n  <p>TimeZone timezone = TimeZone.createTimeZone(0);</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5619031,"reputation":49,"user_id":4449474,"display_name":"soLegacy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654286607,"creation_date":1654286607,"answer_id":72494658,"question_id":11989219,"body_markdown":"I had a similar issue where I needed to keep the server timezone on the client side. It was a bit challenging since GWT doesn&#39;t allow serialization of object  s from recent java libraries for example java.time.ZonedDateTime. Here is a hack I did to create a java.util.Date object with a timezone of your choice.\r\n\r\n```\r\n/*\r\n    * This method forces a java.util.Date object to use a hard coded timezone.\r\n    * The method first discards any local timezone from the Date object,\r\n    * then adds a given timezone with the time. The purpose is to keep the \r\n    * original timestamp unchanged to avoid server-clinet timezone mismatch and use the \r\n    * server side timestamp. \r\n    */\r\n    public java.util.Date updateZonedUtil(java.util.Date aDate)\r\n    {\r\n        // hard coding timezone with server timezone.\r\n        String timezone = &quot;America/Toronto&quot;;\r\n        \r\n        java.util.Date utilDate = new java.util.Date(aDate.getTime());\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n        String strDate = formatter.format(utilDate);        \r\n   \r\n        DateTimeFormatter localFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n        LocalDateTime localdt = LocalDateTime.parse(strDate, localFormatter);\r\n\r\n        ZonedDateTime zdt = localdt.atZone(ZoneId.of(timezone));\r\n                \r\n        return Date.from(zdt.toInstant());\r\n    }\r\n```  ","title":"Sending a date and timezone from GAE server to GWT client","body":"<p>I had a similar issue where I needed to keep the server timezone on the client side. It was a bit challenging since GWT doesn't allow serialization of object  s from recent java libraries for example java.time.ZonedDateTime. Here is a hack I did to create a java.util.Date object with a timezone of your choice.</p>\n<pre><code>/*\n    * This method forces a java.util.Date object to use a hard coded timezone.\n    * The method first discards any local timezone from the Date object,\n    * then adds a given timezone with the time. The purpose is to keep the \n    * original timestamp unchanged to avoid server-clinet timezone mismatch and use the \n    * server side timestamp. \n    */\n    public java.util.Date updateZonedUtil(java.util.Date aDate)\n    {\n        // hard coding timezone with server timezone.\n        String timezone = &quot;America/Toronto&quot;;\n        \n        java.util.Date utilDate = new java.util.Date(aDate.getTime());\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n        String strDate = formatter.format(utilDate);        \n   \n        DateTimeFormatter localFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n        LocalDateTime localdt = LocalDateTime.parse(strDate, localFormatter);\n\n        ZonedDateTime zdt = localdt.atZone(ZoneId.of(timezone));\n                \n        return Date.from(zdt.toInstant());\n    }\n</code></pre>\n"}],"owner":{"account_id":129624,"reputation":739,"user_id":328327,"accept_rate":78,"display_name":"johnvdenley"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4578,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1654286607,"creation_date":1345126860,"question_id":11989219,"body_markdown":"OK folks, I have been going around this problem for about 2 weeks now trying everything I can think of and looking at tons of answers on here that feel like they are going to answer it, but I just cant work out how I am meant to do what I am trying to do and it is driving me absolutely NUTS! No one seems to have an answer anywhere, there are half answers all over the place, but none seem to actually do what I need it to do, surely SOMEONE has solved this problem before! Please excuse the REALLY long question, but its important that the question is asked right, so that the answers actually answer the need! :D\r\n\r\n&lt;also as I have never worked in a commercial environment with this stuff, and have only ever had to work it all out for myself online, I may not always phrase things in the &quot;correct&quot; way and/or I might not use the right words for things, so PLEASE make allowances for this in my question and ALSO please try to assume that I know NOTHING when you are replying because saying something like &quot;oh, you just do this by using XYZ widget&quot; is just not going to be at all helpful! I need actual real examples with all the code needed to be able to figure it all out without having to google something else and end up having to ask another question on here somewhere else!&gt;\r\n\r\nAlso please don&#39;t bother reading any further if you are likely to provide any answer which does not take into account that my datastore/server is Google App Engine (GAE), and my Client is written in Google Web Toolkit (GWT) and everything is written in Java, I dont know anything about Python or MySQL or PHP or anything like that\r\n\r\nFinally if anyone knows of a better place to figure stuff out like this, PLEASE do let me know as I keep coming up with issues like this and have no idea how to find a solution other than in here, or spend hours and hours searching google for someone else who has already managed to figure it out. I also dont understand how to figure anything out from JavaDocs - sorry, but until someone explains it to me, Im just not going to get it\r\n\r\nI have a datetime stored on the server (in UTC obviously) I also have stored on the server a TimeZone for each business owner stored as a string (eg `&quot;America/New_York&quot;`). This string is obtained by using `java.util.TimeZone.getAvailableIDs()` on the server and getting the business owner to select the relavant timezone for their business (default is `&quot;Europe/London&quot;` if they don&#39;t choose anything - no need to get hung up on that bit) I need to pass any datetimes back to the client PC at some point in the future, IGNORING the local timezone on their PC, because the datetime needs to be displayed according to the timezone of the business owner.\r\n\r\nSo as an example the business owner is a hairdressers in London and they have an online appointment schedule which is available to be viewed by any potential customer of theirs. One of these customers (also in London) wants to book an appointment, sees a slot at 9am BST on Monday 3rd September and books it.\r\n\r\nThis is then stored in the Datastore as the UTC time (which is actually 0800 as BST is UTC+1), and of course the business owner has selected `&quot;Europe/London&quot;` as their timezone. Everything fine so far.\r\n\r\nNOW, at some point in the future, the customer is on a business meeting in New York, and realises that they have an appointment the following week for a haircut in London and they want to move it by a week, so they then try to VIEW the appointment (in the hairdressers appointment book), but they don&#39;t want to see it as 4am New York Time, they want to see it as 9am British time.\r\n\r\nSo my problem is that when the customer clicks to VIEW appointments on 3rd September, the server can send back a UTC datetime of 0800 and a `java.util.TimeZone` ID String of `&quot;Europe/London&quot;`\r\n\r\nBut because on the client I can only use \r\n\r\n    com.google.gwt.i18n.client.TimeZone\r\n\r\nit doesn&#39;t allow me to use the function\r\n\r\n    TimeZone bizTimeZone=TimeZone.getTimeZone(&quot;Europe/London&quot;)\r\n    (which works for `java.util.TimeZone`)\r\n\r\nas it causes the error \r\n\r\n    &quot;The method getTimeZone(String) is undefined for the type TimeZone&quot;\r\n\r\n it suggests changing it to \r\n\r\n    com.google.gwt.i18n.client.TimeZone.createTimeZone(&quot;Europe/London&quot;)\r\n\r\nbut this version, is expecting a GWT `com.google.gwt.i18n.client.TimeZoneConstants` &quot;object&quot; (example shown at the end of this message) and not the simple string that the `java.util.TimeZone.createTimeZone()` will accept.\r\n\r\nI can create this by using:\r\n\r\n    final TimeZoneConstants constTz = GWT.create(TimeZoneConstants.class);\r\n    final TimeZone timeZoneCali = TimeZone.createTimeZone(constTz.europeLondon());\r\n\r\nBut I dont know how to do this when Im starting with `&quot;Europe/London&quot;` and/or I dont know how to store this object into the App Engine DataBase and then retrieve it later.\r\n\r\nIncidentally amongst the commented text I have also tried using the following lines:\r\n\r\n    //Calendar tmad = new GregorianCalendar(TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n    //Calendar cal = Calendar.getInstance(someTimeZone);\r\n    //DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    //df1.setTimeZone(TimeZone.getTimeZone(&quot;Europe/London&quot;));\r\n    //final TimeZone timeZoneClient = TimeZone.createTimeZone(&quot;Europe/London&quot;);\r\n    //dtf.format(date,timeZoneClient)\r\n\r\nThere MUST be a standard way of doing this SURELY, I really cant be the first person to ever have to solve this issue!\r\n\r\n&gt; constTz.europeLondon()={&quot;transitions&quot;: [19394, 60, 24770, 0, 28130,\r\n&gt; 60, 33506, 0, 36866, 60, 42242, 0, 45602, 60, 50978, 0, 54506, 60,\r\n&gt; 59714, 0, 63242, 60, 68450, 0, 71978, 60, 77354, 0, 80714, 60, 86090,\r\n&gt; 0, 89450, 60, 94826, 0, 98521, 60, 103561, 0, 107257, 60, 112297, 0,\r\n&gt; 115993, 60, 121033, 0, 124729, 60, 129937, 0, 133633, 60, 138673, 0,\r\n&gt; 142369, 60, 147409, 0, 151105, 60, 156145, 0, 159841, 60, 164881, 0,\r\n&gt; 168577, 60, 173785, 0, 177313, 60, 182521, 0, 186217, 60, 191257, 0,\r\n&gt; 194953, 60, 199993, 0, 203689, 60, 208729, 0, 212425, 60, 217465, 0,\r\n&gt; 221161, 60, 226201, 0, 230065, 60, 235105, 0, 238801, 60, 243841, 0,\r\n&gt; 247537, 60, 252577, 0, 256273, 60, 261481, 0, 265009, 60, 270217, 0,\r\n&gt; 273745, 60, 278953, 0, 282649, 60, 287689, 0, 291385, 60, 296425, 0,\r\n&gt; 300121, 60, 305329, 0, 308857, 60, 314065, 0, 317593, 60, 322801, 0,\r\n&gt; 326329, 60, 331537, 0, 335233, 60, 340273, 0, 343969, 60, 349009, 0,\r\n&gt; 352705, 60, 357913, 0, 361441, 60, 366649, 0, 370177, 60, 375385, 0,\r\n&gt; 379081, 60, 384121, 0, 387817, 60, 392857, 0, 396553, 60, 401593, 0,\r\n&gt; 405289, 60, 410497, 0, 414025, 60, 419233, 0, 422761, 60, 427969, 0,\r\n&gt; 431665, 60, 436705, 0, 440401, 60, 445441, 0, 449137, 60, 454345, 0,\r\n&gt; 457873, 60, 463081, 0, 466609, 60, 471817, 0, 475513, 60, 480553, 0,\r\n&gt; 484249, 60, 489289, 0, 492985, 60, 498025, 0, 501721, 60, 506929, 0,\r\n&gt; 510457, 60, 515665, 0, 519193, 60, 524401, 0, 528097, 60, 533137, 0,\r\n&gt; 536833, 60, 541873, 0, 545569, 60, 550777, 0, 554305, 60, 559513, 0,\r\n&gt; 563041, 60, 568249, 0, 571777, 60, 576985, 0, 580681, 60, 585721, 0,\r\n&gt; 589417, 60, 594457, 0], &quot;names&quot;: [&quot;GMT&quot;, &quot;Greenwich Mean Time&quot;, &quot;BST&quot;,\r\n&gt; &quot;British Summer Time&quot;], &quot;id&quot;: &quot;Europe/London&quot;, &quot;std_offset&quot;: 0}\r\n\r\n\r\n","title":"Sending a date and timezone from GAE server to GWT client","body":"<p>OK folks, I have been going around this problem for about 2 weeks now trying everything I can think of and looking at tons of answers on here that feel like they are going to answer it, but I just cant work out how I am meant to do what I am trying to do and it is driving me absolutely NUTS! No one seems to have an answer anywhere, there are half answers all over the place, but none seem to actually do what I need it to do, surely SOMEONE has solved this problem before! Please excuse the REALLY long question, but its important that the question is asked right, so that the answers actually answer the need! :D</p>\n\n<p></p>\n\n<p>Also please don't bother reading any further if you are likely to provide any answer which does not take into account that my datastore/server is Google App Engine (GAE), and my Client is written in Google Web Toolkit (GWT) and everything is written in Java, I dont know anything about Python or MySQL or PHP or anything like that</p>\n\n<p>Finally if anyone knows of a better place to figure stuff out like this, PLEASE do let me know as I keep coming up with issues like this and have no idea how to find a solution other than in here, or spend hours and hours searching google for someone else who has already managed to figure it out. I also dont understand how to figure anything out from JavaDocs - sorry, but until someone explains it to me, Im just not going to get it</p>\n\n<p>I have a datetime stored on the server (in UTC obviously) I also have stored on the server a TimeZone for each business owner stored as a string (eg <code>\"America/New_York\"</code>). This string is obtained by using <code>java.util.TimeZone.getAvailableIDs()</code> on the server and getting the business owner to select the relavant timezone for their business (default is <code>\"Europe/London\"</code> if they don't choose anything - no need to get hung up on that bit) I need to pass any datetimes back to the client PC at some point in the future, IGNORING the local timezone on their PC, because the datetime needs to be displayed according to the timezone of the business owner.</p>\n\n<p>So as an example the business owner is a hairdressers in London and they have an online appointment schedule which is available to be viewed by any potential customer of theirs. One of these customers (also in London) wants to book an appointment, sees a slot at 9am BST on Monday 3rd September and books it.</p>\n\n<p>This is then stored in the Datastore as the UTC time (which is actually 0800 as BST is UTC+1), and of course the business owner has selected <code>\"Europe/London\"</code> as their timezone. Everything fine so far.</p>\n\n<p>NOW, at some point in the future, the customer is on a business meeting in New York, and realises that they have an appointment the following week for a haircut in London and they want to move it by a week, so they then try to VIEW the appointment (in the hairdressers appointment book), but they don't want to see it as 4am New York Time, they want to see it as 9am British time.</p>\n\n<p>So my problem is that when the customer clicks to VIEW appointments on 3rd September, the server can send back a UTC datetime of 0800 and a <code>java.util.TimeZone</code> ID String of <code>\"Europe/London\"</code></p>\n\n<p>But because on the client I can only use </p>\n\n<pre><code>com.google.gwt.i18n.client.TimeZone\n</code></pre>\n\n<p>it doesn't allow me to use the function</p>\n\n<pre><code>TimeZone bizTimeZone=TimeZone.getTimeZone(\"Europe/London\")\n(which works for `java.util.TimeZone`)\n</code></pre>\n\n<p>as it causes the error </p>\n\n<pre><code>\"The method getTimeZone(String) is undefined for the type TimeZone\"\n</code></pre>\n\n<p>it suggests changing it to </p>\n\n<pre><code>com.google.gwt.i18n.client.TimeZone.createTimeZone(\"Europe/London\")\n</code></pre>\n\n<p>but this version, is expecting a GWT <code>com.google.gwt.i18n.client.TimeZoneConstants</code> \"object\" (example shown at the end of this message) and not the simple string that the <code>java.util.TimeZone.createTimeZone()</code> will accept.</p>\n\n<p>I can create this by using:</p>\n\n<pre><code>final TimeZoneConstants constTz = GWT.create(TimeZoneConstants.class);\nfinal TimeZone timeZoneCali = TimeZone.createTimeZone(constTz.europeLondon());\n</code></pre>\n\n<p>But I dont know how to do this when Im starting with <code>\"Europe/London\"</code> and/or I dont know how to store this object into the App Engine DataBase and then retrieve it later.</p>\n\n<p>Incidentally amongst the commented text I have also tried using the following lines:</p>\n\n<pre><code>//Calendar tmad = new GregorianCalendar(TimeZone.getTimeZone(\"Europe/London\"));\n//Calendar cal = Calendar.getInstance(someTimeZone);\n//DateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n//df1.setTimeZone(TimeZone.getTimeZone(\"Europe/London\"));\n//final TimeZone timeZoneClient = TimeZone.createTimeZone(\"Europe/London\");\n//dtf.format(date,timeZoneClient)\n</code></pre>\n\n<p>There MUST be a standard way of doing this SURELY, I really cant be the first person to ever have to solve this issue!</p>\n\n<blockquote>\n  <p>constTz.europeLondon()={\"transitions\": [19394, 60, 24770, 0, 28130,\n  60, 33506, 0, 36866, 60, 42242, 0, 45602, 60, 50978, 0, 54506, 60,\n  59714, 0, 63242, 60, 68450, 0, 71978, 60, 77354, 0, 80714, 60, 86090,\n  0, 89450, 60, 94826, 0, 98521, 60, 103561, 0, 107257, 60, 112297, 0,\n  115993, 60, 121033, 0, 124729, 60, 129937, 0, 133633, 60, 138673, 0,\n  142369, 60, 147409, 0, 151105, 60, 156145, 0, 159841, 60, 164881, 0,\n  168577, 60, 173785, 0, 177313, 60, 182521, 0, 186217, 60, 191257, 0,\n  194953, 60, 199993, 0, 203689, 60, 208729, 0, 212425, 60, 217465, 0,\n  221161, 60, 226201, 0, 230065, 60, 235105, 0, 238801, 60, 243841, 0,\n  247537, 60, 252577, 0, 256273, 60, 261481, 0, 265009, 60, 270217, 0,\n  273745, 60, 278953, 0, 282649, 60, 287689, 0, 291385, 60, 296425, 0,\n  300121, 60, 305329, 0, 308857, 60, 314065, 0, 317593, 60, 322801, 0,\n  326329, 60, 331537, 0, 335233, 60, 340273, 0, 343969, 60, 349009, 0,\n  352705, 60, 357913, 0, 361441, 60, 366649, 0, 370177, 60, 375385, 0,\n  379081, 60, 384121, 0, 387817, 60, 392857, 0, 396553, 60, 401593, 0,\n  405289, 60, 410497, 0, 414025, 60, 419233, 0, 422761, 60, 427969, 0,\n  431665, 60, 436705, 0, 440401, 60, 445441, 0, 449137, 60, 454345, 0,\n  457873, 60, 463081, 0, 466609, 60, 471817, 0, 475513, 60, 480553, 0,\n  484249, 60, 489289, 0, 492985, 60, 498025, 0, 501721, 60, 506929, 0,\n  510457, 60, 515665, 0, 519193, 60, 524401, 0, 528097, 60, 533137, 0,\n  536833, 60, 541873, 0, 545569, 60, 550777, 0, 554305, 60, 559513, 0,\n  563041, 60, 568249, 0, 571777, 60, 576985, 0, 580681, 60, 585721, 0,\n  589417, 60, 594457, 0], \"names\": [\"GMT\", \"Greenwich Mean Time\", \"BST\",\n  \"British Summer Time\"], \"id\": \"Europe/London\", \"std_offset\": 0}</p>\n</blockquote>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654286523,"creation_date":1654284963,"answer_id":72494419,"question_id":72492882,"body_markdown":"Fields must be either `public` or have (public) getters to be serialized to JSON and (public) setters to be deserialized from JSON.\r\n\r\n## Issue\r\nYour fields have no access modifier, thus by default they are `package private`.\r\nWithout getters your fields are neither visible for classes outside the package.\r\n```\r\npublic class UserDetails {\r\n    String userid;  // package private\r\n    String username;\r\n}\r\n```\r\nBy default Jackson can only access public fields directly or by (public) getters/setters. \r\n\r\n### Spring can&#39;t provide the accepted response format\r\n\r\nBecause the requesting client (your Postman) only seems to accept only media-type `application/json` (see [`Accept`][1] request-header) the content-negotiation fails because Jackson through [`MappingJackson2HttpMessageConverter`][2] can&#39;t serialize the class.\r\n\r\nThus Spring fails to write the requested response format JSON out of returned object of type `UserDetails`. \r\n\r\nAs a consequence Spring throws a `HttpMediaTypeNotAcceptableException` resulting in a response with HTTP status [**406 Not Acceptable**][3].\r\n\r\n&gt; The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.\r\n\r\n### Try something simple\r\nTry `Accept: text/plain` as request-header in Postman. Spring should choose the [`StringHttpMessageConverter`][4] and try to call the method `toString()` of your class instance to get the accepted `text/plain` representation.\r\n\r\n### See also\r\n\r\n* https://stackoverflow.com/questions/7462202/spring-json-request-getting-406-not-acceptable\r\n* Java By Examples: [Serialize Package-Private Fields using Jackson](http://www.javabyexamples.com/jackson-can-serialize-package-private-fields/)\r\n* Baeldung: [Jackson - Decide What Fields Get (De)Serialized](https://www.baeldung.com/jackson-field-serializable-deserializable-or-not)\r\n* Baeldung: [Http Message Converters with the Spring Framework](https://www.baeldung.com/spring-httpmessageconverter-rest#2-responsebody)\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html","title":"Spring Boot:- [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]","body":"<p>Fields must be either <code>public</code> or have (public) getters to be serialized to JSON and (public) setters to be deserialized from JSON.</p>\n<h2>Issue</h2>\n<p>Your fields have no access modifier, thus by default they are <code>package private</code>.\nWithout getters your fields are neither visible for classes outside the package.</p>\n<pre><code>public class UserDetails {\n    String userid;  // package private\n    String username;\n}\n</code></pre>\n<p>By default Jackson can only access public fields directly or by (public) getters/setters.</p>\n<h3>Spring can't provide the accepted response format</h3>\n<p>Because the requesting client (your Postman) only seems to accept only media-type <code>application/json</code> (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\" rel=\"nofollow noreferrer\"><code>Accept</code></a> request-header) the content-negotiation fails because Jackson through <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>MappingJackson2HttpMessageConverter</code></a> can't serialize the class.</p>\n<p>Thus Spring fails to write the requested response format JSON out of returned object of type <code>UserDetails</code>.</p>\n<p>As a consequence Spring throws a <code>HttpMediaTypeNotAcceptableException</code> resulting in a response with HTTP status <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406\" rel=\"nofollow noreferrer\"><strong>406 Not Acceptable</strong></a>.</p>\n<blockquote>\n<p>The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.</p>\n</blockquote>\n<h3>Try something simple</h3>\n<p>Try <code>Accept: text/plain</code> as request-header in Postman. Spring should choose the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>StringHttpMessageConverter</code></a> and try to call the method <code>toString()</code> of your class instance to get the accepted <code>text/plain</code> representation.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7462202/spring-json-request-getting-406-not-acceptable\">Spring JSON request getting 406 (not Acceptable)</a></li>\n<li>Java By Examples: <a href=\"http://www.javabyexamples.com/jackson-can-serialize-package-private-fields/\" rel=\"nofollow noreferrer\">Serialize Package-Private Fields using Jackson</a></li>\n<li>Baeldung: <a href=\"https://www.baeldung.com/jackson-field-serializable-deserializable-or-not\" rel=\"nofollow noreferrer\">Jackson - Decide What Fields Get (De)Serialized</a></li>\n<li>Baeldung: <a href=\"https://www.baeldung.com/spring-httpmessageconverter-rest#2-responsebody\" rel=\"nofollow noreferrer\">Http Message Converters with the Spring Framework</a></li>\n</ul>\n"}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654286523,"creation_date":1654275412,"question_id":72492882,"body_markdown":"I am currently learning Spring Boot. I tried creating a method with PostMapping Annotation on it which will return a UserDetails object. I shared the code samples below. In the UserDetails Bean Class I have not created any setters or getters.  I have just created a parameterized constructor. When I hit the URL, I am getting a error in the console and also 406 status in the PostMan. When I add the getters and setters, I am getting the correct response. Kindly help me why there is no response when I don&#39;t add the getter and setter in the bean class.\r\n\r\nUserDetails.java\r\n\r\n```java\r\npackage com.example.VideoVerification.request;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n\r\n\r\npublic class UserDetails {\r\n    String userid;\r\n    String username;\r\n\r\n    public UserDetails(String userid, String username)\r\n    {\r\n        this.username = username;\r\n        this.userid = userid;\r\n    }\r\n\r\n    /*public String getUserid() {\r\n        return userid;\r\n    }\r\n\r\n    public void setUserid(String userid) {\r\n        this.userid = userid;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }*/\r\n}\r\n```\r\n\r\nController class\r\n\r\n```java\r\npackage com.example.VideoVerification.controller;\r\n\r\nimport com.example.VideoVerification.request.UserDetails;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.print.attribute.standard.Media;\r\n\r\n@RestController\r\npublic class APIController\r\n{\r\n    @PostMapping(value = &quot;/getUserDetails&quot;)\r\n    public UserDetails getUserDetails()\r\n    {\r\n       return new UserDetails(&quot;1111&quot;,&quot;Tom&quot;);\r\n    }\r\n}\r\n```\r\n\r\nResponse in PostMan without getter and setter in Bean class\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-06-03T16:46:14.562+00:00&quot;,\r\n    &quot;status&quot;: 406,\r\n    &quot;error&quot;: &quot;Not Acceptable&quot;,\r\n    &quot;path&quot;: &quot;/getUserDetails&quot;\r\n}\r\n```\r\n\r\nException in Console\r\n\r\n```none\r\n[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\r\n```\r\n\r\nResponse when I add getter and setter in Bean class\r\n\r\n```json\r\n{\r\n    &quot;userid&quot;: &quot;1111&quot;,\r\n    &quot;username&quot;: &quot;Tom&quot;\r\n}\r\n```\r\n\r\nPlease help me to know why Spring Boot behaves in this way.","title":"Spring Boot:- [org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]","body":"<p>I am currently learning Spring Boot. I tried creating a method with PostMapping Annotation on it which will return a UserDetails object. I shared the code samples below. In the UserDetails Bean Class I have not created any setters or getters.  I have just created a parameterized constructor. When I hit the URL, I am getting a error in the console and also 406 status in the PostMan. When I add the getters and setters, I am getting the correct response. Kindly help me why there is no response when I don't add the getter and setter in the bean class.</p>\n<p>UserDetails.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.VideoVerification.request;\n\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\n\n\npublic class UserDetails {\n    String userid;\n    String username;\n\n    public UserDetails(String userid, String username)\n    {\n        this.username = username;\n        this.userid = userid;\n    }\n\n    /*public String getUserid() {\n        return userid;\n    }\n\n    public void setUserid(String userid) {\n        this.userid = userid;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }*/\n}\n</code></pre>\n<p>Controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.VideoVerification.controller;\n\nimport com.example.VideoVerification.request.UserDetails;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.print.attribute.standard.Media;\n\n@RestController\npublic class APIController\n{\n    @PostMapping(value = &quot;/getUserDetails&quot;)\n    public UserDetails getUserDetails()\n    {\n       return new UserDetails(&quot;1111&quot;,&quot;Tom&quot;);\n    }\n}\n</code></pre>\n<p>Response in PostMan without getter and setter in Bean class</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2022-06-03T16:46:14.562+00:00&quot;,\n    &quot;status&quot;: 406,\n    &quot;error&quot;: &quot;Not Acceptable&quot;,\n    &quot;path&quot;: &quot;/getUserDetails&quot;\n}\n</code></pre>\n<p>Exception in Console</p>\n<pre class=\"lang-none prettyprint-override\"><code>[org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation]\n</code></pre>\n<p>Response when I add getter and setter in Bean class</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userid&quot;: &quot;1111&quot;,\n    &quot;username&quot;: &quot;Tom&quot;\n}\n</code></pre>\n<p>Please help me to know why Spring Boot behaves in this way.</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":4,"creation_date":1317230431,"post_id":7587027,"comment_id":9201829,"body_markdown":"What does &quot;first&quot; mean, specifically?","body":"What does &quot;first&quot; mean, specifically?"},{"owner":{"account_id":13885664,"reputation":417,"user_id":10024860,"display_name":"Joe C."},"score":0,"creation_date":1651971925,"post_id":7587027,"comment_id":127492642,"body_markdown":"If you want the position of the first 1, from the left: use Integer.numberOfLeadingZeroes","body":"If you want the position of the first 1, from the left: use Integer.numberOfLeadingZeroes"}],"answers":[{"tags":[],"owner":{"account_id":13133,"reputation":22190,"user_id":26197,"accept_rate":89,"display_name":"Aaron Silverman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317230810,"creation_date":1317230282,"answer_id":7587040,"question_id":7587027,"body_markdown":"Assuming you mean leftmost bit, bitwise and it with 0x80 and check if it is zero nor not:\r\n\r\n    public boolean isFirstBitSet(byte b) {\r\n        System.out.println((b &amp; (byte)0x80));\r\n        return (b &amp; (byte)0x80) &lt; 0;\r\n    }\r\n\r\nIf you mean lowest order bit you will need to and with 0x01 and check a different condition:\r\n\r\n    public boolean isFirstBitSet(byte b) {\r\n        System.out.println((b &amp; (byte)0x01));\r\n        return (b &amp; (byte)0x80) &gt; 0;\r\n    }","title":"How to find most significant bit (MSB)","body":"<p>Assuming you mean leftmost bit, bitwise and it with 0x80 and check if it is zero nor not:</p>\n\n<pre><code>public boolean isFirstBitSet(byte b) {\n    System.out.println((b &amp; (byte)0x80));\n    return (b &amp; (byte)0x80) &lt; 0;\n}\n</code></pre>\n\n<p>If you mean lowest order bit you will need to and with 0x01 and check a different condition:</p>\n\n<pre><code>public boolean isFirstBitSet(byte b) {\n    System.out.println((b &amp; (byte)0x01));\n    return (b &amp; (byte)0x80) &gt; 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317230349,"creation_date":1317230349,"answer_id":7587054,"question_id":7587027,"body_markdown":"If the first bit is the lowest bit (ie bit 0), then \r\n\r\n    if((m &amp; 1) &gt;0) ...\r\n\r\nshould do it.\r\n\r\nIn general, \r\n\r\n    if ((m &amp; (1&lt;&lt;N)) &gt; 0) ...\r\n\r\nwill give you whether or not bit `N` is set.\r\nIf, however, you meant the highest bit (bit 7), then use N=7.","title":"How to find most significant bit (MSB)","body":"<p>If the first bit is the lowest bit (ie bit 0), then </p>\n\n<pre><code>if((m &amp; 1) &gt;0) ...\n</code></pre>\n\n<p>should do it.</p>\n\n<p>In general, </p>\n\n<pre><code>if ((m &amp; (1&lt;&lt;N)) &gt; 0) ...\n</code></pre>\n\n<p>will give you whether or not bit <code>N</code> is set.\nIf, however, you meant the highest bit (bit 7), then use N=7.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1317230353,"creation_date":1317230353,"answer_id":7587055,"question_id":7587027,"body_markdown":"It depends what you mean by &quot;first bit&quot;. If you mean &quot;most significant bit&quot; you can use:\r\n\r\n    // 0 or 1\r\n    int msb = (m &amp; 0xff) &gt;&gt; 7;\r\n\r\nOr if you don&#39;t mind the values being 0x80 or 0, just use:\r\n\r\n    // 0 or 0x80\r\n    int msb = m &amp; 0x80;\r\n\r\nOr in fact, as a `boolean`:\r\n\r\n    // Uses the fact that byte is signed using 2s complement\r\n    // True or false\r\n    boolean msb = m &lt; 0;\r\n\r\nIf you mean the least significant bit, you can just use:\r\n\r\n    // 0 or 1\r\n    int lsb = m &amp; 1;\r\n\r\n","title":"How to find most significant bit (MSB)","body":"<p>It depends what you mean by \"first bit\". If you mean \"most significant bit\" you can use:</p>\n\n<pre><code>// 0 or 1\nint msb = (m &amp; 0xff) &gt;&gt; 7;\n</code></pre>\n\n<p>Or if you don't mind the values being 0x80 or 0, just use:</p>\n\n<pre><code>// 0 or 0x80\nint msb = m &amp; 0x80;\n</code></pre>\n\n<p>Or in fact, as a <code>boolean</code>:</p>\n\n<pre><code>// Uses the fact that byte is signed using 2s complement\n// True or false\nboolean msb = m &lt; 0;\n</code></pre>\n\n<p>If you mean the least significant bit, you can just use:</p>\n\n<pre><code>// 0 or 1\nint lsb = m &amp; 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195556,"reputation":6174,"user_id":438512,"display_name":"Spike Gronim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317230406,"creation_date":1317230406,"answer_id":7587065,"question_id":7587027,"body_markdown":"Use the bitwise and operator.\r\n\r\n    public class BitExample {\r\n        public static void main(String args[]) throws Exception {\r\n            byte m = (byte)0x8C;\r\n            System.out.println(&quot;The first bit is &quot; + (m &amp; (byte)0x01));\r\n            m = (byte)0xFF;\r\n            System.out.println(&quot;The first bit is &quot; + (m &amp; (byte)0x01));\r\n        }\r\n    }\r\n\r\n    // output is...\r\n    The first bit is 0\r\n    The first bit is 1\r\n","title":"How to find most significant bit (MSB)","body":"<p>Use the bitwise and operator.</p>\n\n<pre><code>public class BitExample {\n    public static void main(String args[]) throws Exception {\n        byte m = (byte)0x8C;\n        System.out.println(\"The first bit is \" + (m &amp; (byte)0x01));\n        m = (byte)0xFF;\n        System.out.println(\"The first bit is \" + (m &amp; (byte)0x01));\n    }\n}\n\n// output is...\nThe first bit is 0\nThe first bit is 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317233484,"creation_date":1317233484,"answer_id":7587573,"question_id":7587027,"body_markdown":"Its a bit of a hack but you can use\r\n\r\n    if(x &gt;&gt; -1 != 0) // top bit set.\r\n\r\nThis works for `byte`, `short`, `int`, `long` data types.\r\n\r\nHowever for most types the simplest approach is to compare with 0\r\n\r\n    if (x &lt; 0) // top bit set.\r\n\r\nThis works for `byte`, `short`, `int`, `long`, `float`, or `double` \r\n\r\n(Ignoring negative zero and negative NaN, most people do ;)\r\n\r\nFor `char` type you need to know the number of bits. ;)\r\n\r\n    if (ch &gt;&gt;&gt; 15 != 0) // top bit set.\r\n\r\n","title":"How to find most significant bit (MSB)","body":"<p>Its a bit of a hack but you can use</p>\n\n<pre><code>if(x &gt;&gt; -1 != 0) // top bit set.\n</code></pre>\n\n<p>This works for <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code> data types.</p>\n\n<p>However for most types the simplest approach is to compare with 0</p>\n\n<pre><code>if (x &lt; 0) // top bit set.\n</code></pre>\n\n<p>This works for <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, or <code>double</code> </p>\n\n<p>(Ignoring negative zero and negative NaN, most people do ;)</p>\n\n<p>For <code>char</code> type you need to know the number of bits. ;)</p>\n\n<pre><code>if (ch &gt;&gt;&gt; 15 != 0) // top bit set.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20352514,"reputation":1,"user_id":14928851,"display_name":"ASHISH Kumar Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654286298,"creation_date":1654247402,"answer_id":72487301,"question_id":7587027,"body_markdown":"&gt; This code gives you msb(most significant bit)/biggest number which is a\r\n&gt; power of 2 and less than any given number.\r\n\r\n    class msb{\r\n    void main(){\r\n            int n=155;//let 110001010\r\n            int l=(Integer.toBinaryString(n)).length();//9\r\n            String w=&quot;0&quot;+Integer.toBinaryString(i).substring(1);//010001010\r\n            i=Integer.parseInt(w,2);\r\n            System.out.println(n^i);//110001010^010001010=100000000\r\n    }\r\n    }","title":"How to find most significant bit (MSB)","body":"<blockquote>\n<p>This code gives you msb(most significant bit)/biggest number which is a\npower of 2 and less than any given number.</p>\n</blockquote>\n<pre><code>class msb{\nvoid main(){\n        int n=155;//let 110001010\n        int l=(Integer.toBinaryString(n)).length();//9\n        String w=&quot;0&quot;+Integer.toBinaryString(i).substring(1);//010001010\n        i=Integer.parseInt(w,2);\n        System.out.println(n^i);//110001010^010001010=100000000\n}\n}\n</code></pre>\n"}],"owner":{"account_id":930070,"reputation":711,"user_id":960099,"accept_rate":52,"display_name":"Jo&#227;o Nunes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30886,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":6,"score":5,"last_activity_date":1654286298,"creation_date":1317230203,"question_id":7587027,"body_markdown":"I want to know which value the first bit of a byte has.\r\n\r\nFor example:\r\n\r\nI have `byte m = (byte) 0x8C;` \r\n\r\nHow could I know if the first bit is an 1 or a 0 ?\r\n\r\nCan anyone help me out ?","title":"How to find most significant bit (MSB)","body":"<p>I want to know which value the first bit of a byte has.</p>\n\n<p>For example:</p>\n\n<p>I have <code>byte m = (byte) 0x8C;</code> </p>\n\n<p>How could I know if the first bit is an 1 or a 0 ?</p>\n\n<p>Can anyone help me out ?</p>\n"},{"tags":["java","android","http-post","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558553656,"creation_date":1558553656,"answer_id":56263775,"question_id":56263599,"body_markdown":"You are using a Gson converter factory. It might be easier to create a single object that represents your body, and use that instead of all individual parameters. That way, you should be able to simple follow along with the examples on the Retrofit website.[enter link description here][1]\r\nThere are also many site that let you generate your Plain Old Java Objects for you, like [this one][2]:\r\n\r\nE.g. your Api call:\r\n\r\n    @POST(&quot;api/android-feedback&quot;)\r\n    Call&lt;String&gt; sendFeedback(@Body FeedbackBody feedback);    \r\n\r\nAnd your FeedbackBody class:\r\n    \r\n    public class FeedbackBody{\r\n        private final String email;\r\n        private final String feedback;\r\n\r\n        public FeedbackBody(String email, String feedback){\r\n            this.email = email;\r\n            this.feedback = feedback;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://square.github.io/retrofit/#requestBody\r\n  [2]: http://www.objgen.com/pojo","title":"Retrofit POST Request with body parameters android","body":"<p>You are using a Gson converter factory. It might be easier to create a single object that represents your body, and use that instead of all individual parameters. That way, you should be able to simple follow along with the examples on the Retrofit website.<a href=\"https://square.github.io/retrofit/#requestBody\" rel=\"nofollow noreferrer\">enter link description here</a>\nThere are also many site that let you generate your Plain Old Java Objects for you, like <a href=\"http://www.objgen.com/pojo\" rel=\"nofollow noreferrer\">this one</a>:</p>\n\n<p>E.g. your Api call:</p>\n\n<pre><code>@POST(\"api/android-feedback\")\nCall&lt;String&gt; sendFeedback(@Body FeedbackBody feedback);    \n</code></pre>\n\n<p>And your FeedbackBody class:</p>\n\n<pre><code>public class FeedbackBody{\n    private final String email;\n    private final String feedback;\n\n    public FeedbackBody(String email, String feedback){\n        this.email = email;\n        this.feedback = feedback;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9907154,"reputation":733,"user_id":7335321,"display_name":"Sajith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558554144,"creation_date":1558554144,"answer_id":56263882,"question_id":56263599,"body_markdown":"First you need to create request( POJO Class)\r\n\r\n    public class FeedbackRequest {\r\n       public String email;\r\n       public String feedback;\r\n    }\r\n\r\nwhen you call `sendFeedbackRequest()` pass the `FeedbackRequest` like below&quot;\r\n\r\n    FeedbackRequest req = new FeedbackRequest();\r\n    req.email= &quot;email&quot;;\r\n    req.feedback= &quot;feedback&quot;\r\n    sendFeedbackRequest(req)\r\n\r\n\r\nafter that your `sendFeedbackRequest()` should be like this\r\n\r\n      private void sendFeedbackRequest(FeedbackRequest request){\r\n          API.request().sendFeedback(request).enqueue(new Callback&lt;String&gt;() {\r\n          @Override\r\n          public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n            goToMainActivity();\r\n          }\r\n\r\n          @Override\r\n          public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n            Toast.makeText(SplashScreenActivity.this, R.string.try_again_later, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\n\r\nAnd your retrofit request should be like this,\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;api/android-feedback&quot;)\r\n    @Headers({&quot;Content-Type: application/json&quot;, &quot;Authorization: F31daaw313415&quot;})\r\n    Call&lt;String&gt; sendFeedback(@Body FeedbackRequest request);\r\n    \r\nNow it should work. feel free to ask anything.  ","title":"Retrofit POST Request with body parameters android","body":"<p>First you need to create request( POJO Class)</p>\n\n<pre><code>public class FeedbackRequest {\n   public String email;\n   public String feedback;\n}\n</code></pre>\n\n<p>when you call <code>sendFeedbackRequest()</code> pass the <code>FeedbackRequest</code> like below\"</p>\n\n<pre><code>FeedbackRequest req = new FeedbackRequest();\nreq.email= \"email\";\nreq.feedback= \"feedback\"\nsendFeedbackRequest(req)\n</code></pre>\n\n<p>after that your <code>sendFeedbackRequest()</code> should be like this</p>\n\n<pre><code>  private void sendFeedbackRequest(FeedbackRequest request){\n      API.request().sendFeedback(request).enqueue(new Callback&lt;String&gt;() {\n      @Override\n      public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n        goToMainActivity();\n      }\n\n      @Override\n      public void onFailure(Call&lt;String&gt; call, Throwable t) {\n        Toast.makeText(SplashScreenActivity.this, R.string.try_again_later, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n\n<p>And your retrofit request should be like this,</p>\n\n<pre><code>@FormUrlEncoded\n@POST(\"api/android-feedback\")\n@Headers({\"Content-Type: application/json\", \"Authorization: F31daaw313415\"})\nCall&lt;String&gt; sendFeedback(@Body FeedbackRequest request);\n</code></pre>\n\n<p>Now it should work. feel free to ask anything.  </p>\n"},{"tags":[],"owner":{"account_id":2003380,"reputation":1,"user_id":4787909,"display_name":"brayskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558554750,"creation_date":1558554750,"answer_id":56264038,"question_id":56263599,"body_markdown":"Java:\r\n\r\n\r\n    @POST(&quot;/api/android-feedback&quot;)\r\n    Call&lt;String&gt; sendFeedback(@Body FeedbackBody feedback);\r\n\r\nKotlin:\r\n\r\n    @POST(&quot;/api/android-feedback&quot;)\r\n    fun sendFeedback(@Body feedback: FeedbackBody): Call&lt;String&gt;\r\n\r\nAlso, probably you forgot leading slash in the endpoint.\r\n","title":"Retrofit POST Request with body parameters android","body":"<p>Java:</p>\n\n<pre><code>@POST(\"/api/android-feedback\")\nCall&lt;String&gt; sendFeedback(@Body FeedbackBody feedback);\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>@POST(\"/api/android-feedback\")\nfun sendFeedback(@Body feedback: FeedbackBody): Call&lt;String&gt;\n</code></pre>\n\n<p>Also, probably you forgot leading slash in the endpoint.</p>\n"},{"tags":[],"owner":{"account_id":25468004,"reputation":1,"user_id":19266722,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654285619,"creation_date":1654285576,"answer_id":72494515,"question_id":56263599,"body_markdown":"      val formBody: RequestBody = FormBody.Builder()\r\n                .add(&quot;username&quot;, LoginRequest.username)\r\n                .add(&quot;password&quot;, LoginRequest.password)\r\n                .add(&quot;grant_type&quot;,LoginRequest.grant_type)\r\n                .add(&quot;client_id&quot;, LoginRequest.client_id)\r\n                .add(&quot;client_secret&quot;, LoginRequest.client_secret)\r\n                .add(&quot;cleartext&quot;, LoginRequest.cleartext)\r\n                .build()\r\n    \r\n    @POST(EndPoints.GENERATE_TOKEN_URL)\r\n        @Headers(&quot;Content-Type: application/x-www-form-urlencoded&quot;)\r\n        suspend fun getLogin(\r\n            @Body formBody: RequestBody\r\n        ): LoginResponse","title":"Retrofit POST Request with body parameters android","body":"<pre><code>  val formBody: RequestBody = FormBody.Builder()\n            .add(&quot;username&quot;, LoginRequest.username)\n            .add(&quot;password&quot;, LoginRequest.password)\n            .add(&quot;grant_type&quot;,LoginRequest.grant_type)\n            .add(&quot;client_id&quot;, LoginRequest.client_id)\n            .add(&quot;client_secret&quot;, LoginRequest.client_secret)\n            .add(&quot;cleartext&quot;, LoginRequest.cleartext)\n            .build()\n\n@POST(EndPoints.GENERATE_TOKEN_URL)\n    @Headers(&quot;Content-Type: application/x-www-form-urlencoded&quot;)\n    suspend fun getLogin(\n        @Body formBody: RequestBody\n    ): LoginResponse\n</code></pre>\n"}],"owner":{"account_id":3558575,"reputation":2459,"user_id":2971619,"accept_rate":50,"display_name":"Kristiyan Varbanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1654285619,"creation_date":1558552820,"question_id":56263599,"body_markdown":"I need to execute post request with retrofit but i have a problem which i can&#39;t understand very well. Before trying with code i tested api call with **Postman** and request look like this:\r\n\r\n[![capture1][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nHere is my android code:\r\n\r\n    public class API {\r\n\r\n    private static &lt;T&gt; T builder(Class&lt;T&gt; endpoint) {\r\n\r\n        return new Retrofit.Builder()\r\n                .baseUrl(Utils.API_BASE_URL)\r\n                .addConverterFactory(ScalarsConverterFactory.create())\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n                .create(endpoint);\r\n    }\r\n    public static AllRequests request() {\r\n        return builder(AllRequests.class);\r\n    }\r\n    }\r\n\r\n\r\n**EDIT** request:\r\n\r\n    @POST(&quot;api/android-feedback&quot;)\r\n    @Headers({&quot;Content-Type: application/x-www-form-urlencoded&quot;, &quot;Authorization: F#@3FA@#Rad!@%!2s&quot;})\r\n    Call&lt;String&gt; sendFeedback(@Body FeedbackBody body);\r\n\r\nFeedbackBody:\r\n\r\n    public class FeedbackBody{\r\n    private final String email;\r\n    private final String feedback;\r\n\r\n    public FeedbackBody(String email, String feedback){\r\n        this.email = email;\r\n        this.feedback = feedback;\r\n    }\r\n}\r\n\r\nAnd finally i construct the request and wait for response, the problem is that i receive message in onFail method\r\n\r\n       private void sendFeedbackRequest(){\r\n        API.request().sendFeedback(new FeedbackBody(&quot;testmeil@meil.com&quot;, &quot;test feedback&quot;).enqueue(new Callback&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                goToMainActivity();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                Toast.makeText(SplashScreenActivity.this, R.string.try_again_later, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n**EDIT:**\r\nStill not working.. i think i figure it out where can be the problem, because server side wait for simple POST request without Json formatting, i think Retrofit use JSON formatting by default, and if i send POST request and format Body parameters with JSON the server will fail to parse my request, is there any chance to send simple POST request like at POSTMAN without formatting with JSON ?\r\n\r\n- Php api wait request to be send like this:\r\n\r\n&gt;   $_POST[&#39;feedback&#39;] = &#39;blabla&#39;;\r\n&gt;     $_POST[&#39;email&#39;] = &#39;blabla..&#39;;\r\n\r\nand if he receive Json format request can&#39;t parse it and because of that i receive fail response.\r\n\r\n  [1]: https://i.stack.imgur.com/PJTiy.png\r\n  [2]: https://i.stack.imgur.com/HtBkM.png\r\n","title":"Retrofit POST Request with body parameters android","body":"<p>I need to execute post request with retrofit but i have a problem which i can't understand very well. Before trying with code i tested api call with <strong>Postman</strong> and request look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PJTiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJTiy.png\" alt=\"capture1\"></a>\n<a href=\"https://i.stack.imgur.com/HtBkM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtBkM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my android code:</p>\n\n<pre><code>public class API {\n\nprivate static &lt;T&gt; T builder(Class&lt;T&gt; endpoint) {\n\n    return new Retrofit.Builder()\n            .baseUrl(Utils.API_BASE_URL)\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n            .create(endpoint);\n}\npublic static AllRequests request() {\n    return builder(AllRequests.class);\n}\n}\n</code></pre>\n\n<p><strong>EDIT</strong> request:</p>\n\n<pre><code>@POST(\"api/android-feedback\")\n@Headers({\"Content-Type: application/x-www-form-urlencoded\", \"Authorization: F#@3FA@#Rad!@%!2s\"})\nCall&lt;String&gt; sendFeedback(@Body FeedbackBody body);\n</code></pre>\n\n<p>FeedbackBody:</p>\n\n<pre><code>public class FeedbackBody{\nprivate final String email;\nprivate final String feedback;\n\npublic FeedbackBody(String email, String feedback){\n    this.email = email;\n    this.feedback = feedback;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And finally i construct the request and wait for response, the problem is that i receive message in onFail method</p>\n\n<pre><code>   private void sendFeedbackRequest(){\n    API.request().sendFeedback(new FeedbackBody(\"testmeil@meil.com\", \"test feedback\").enqueue(new Callback&lt;String&gt;() {\n        @Override\n        public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n            goToMainActivity();\n        }\n\n        @Override\n        public void onFailure(Call&lt;String&gt; call, Throwable t) {\n            Toast.makeText(SplashScreenActivity.this, R.string.try_again_later, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n\n<p><strong>EDIT:</strong>\nStill not working.. i think i figure it out where can be the problem, because server side wait for simple POST request without Json formatting, i think Retrofit use JSON formatting by default, and if i send POST request and format Body parameters with JSON the server will fail to parse my request, is there any chance to send simple POST request like at POSTMAN without formatting with JSON ?</p>\n\n<ul>\n<li>Php api wait request to be send like this:</li>\n</ul>\n\n<blockquote>\n  <p>$_POST['feedback'] = 'blabla';\n      $_POST['email'] = 'blabla..';</p>\n</blockquote>\n\n<p>and if he receive Json format request can't parse it and because of that i receive fail response.</p>\n"},{"tags":["java","android-studio","textview"],"answers":[{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654248084,"creation_date":1654248084,"answer_id":72487454,"question_id":72485769,"body_markdown":"I can see that your clicks is changing(dynamic) while your set text is static that means it is only replying at the start and it is not triggered from the next time you do it. one way to tackle this is put the settext value in the trigger block(i.e onclicklistener) and make it set the fresh text as per triggered.","title":"Android studio: How do I show an updating variable at all times using a Textview?","body":"<p>I can see that your clicks is changing(dynamic) while your set text is static that means it is only replying at the start and it is not triggered from the next time you do it. one way to tackle this is put the settext value in the trigger block(i.e onclicklistener) and make it set the fresh text as per triggered.</p>\n"}],"owner":{"account_id":15899027,"reputation":31,"user_id":11471952,"display_name":"Allie Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654285274,"creation_date":1654239334,"question_id":72485769,"body_markdown":"[![enter image description here][1]][1]    \r\nThe android studio code works as intended. However, points are made in the background since it&#39;s an idle game. An on click method only shows the points that were made as of the last click. I need the points to be shown at all times. \r\n\r\nI have been testing this new added bit of code but the points are not updating when the button is clicked. Example in photo. Evolution Points = 0; The on click method is updating but there are also points made in the background that need to be shown without a button click. Any suggestions? \r\n\r\n            \r\n\r\n    visibletotals.setText(&quot;Evolutions Points: &quot; + clicks);\r\n\r\nfull code for reference\r\n\r\n\r\n    package com.example.idleclicker;\r\n        \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        \r\n        import android.os.Bundle;\r\n        import android.view.View;\r\n        import android.widget.Button;\r\n        import android.widget.TextView;\r\n        \r\n        import java.util.Timer;\r\n        import java.util.TimerTask;\r\n        \r\n        \r\n        public class MainActivity extends AppCompatActivity {\r\n        \r\n            TextView points;\r\n        TextView visibletotals;\r\n            Button click;\r\n            Button upgradebtn;\r\n            TextView Leveltext;\r\n        int clicks = 0;\r\n        int clickcost = 10;\r\n        int upgradelevel = 1;\r\n            Timer myTimer = new Timer();\r\n        \r\n        \r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                click = (Button) findViewById(R.id.click);\r\n                points = (TextView) findViewById(R.id.points);\r\n                upgradebtn = (Button) findViewById(R.id.upgradebtn);\r\n                Leveltext = (TextView) findViewById(R.id.leveltext);\r\n                visibletotals = (TextView) findViewById(R.id.visibletotals);\r\n        \r\n        \r\n                visibletotals.setText(&quot;Evolutions Points: &quot; + clicks);\r\n        \r\n        \r\n                click.setEnabled(true);\r\n        \r\n                upgradebtn.setEnabled(true);\r\n        \r\n                myTimer.schedule(new TimerTask() {\r\n                                     @Override\r\n                                     public void run() {\r\n                                         clicks+= upgradelevel;\r\n        \r\n                                     }\r\n                                 }, 0, 1000);\r\n        \r\n        \r\n        \r\n                click.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View view) {\r\n                                clicks++;\r\n                                points.setText(getResources().getString(R.string.evol) + clicks);\r\n        \r\n                            }\r\n        \r\n        \r\n                        });\r\n        \r\n                upgradebtn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        if (clicks &gt;= clickcost) {\r\n        \r\n                            clicks -= clickcost;\r\n        \r\n                            upgradelevel += 1;\r\n        \r\n                            clickcost *= 2;\r\n                            upgradebtn.setText(getResources().getString(R.string.Upgrade) +\r\n                                    clickcost +\r\n                                    getString(R.string.LevelText)\r\n                                    + upgradelevel);\r\n        \r\n                        };\r\n                    }\r\n        \r\n                    });\r\n        \r\n        \r\n            }}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ztOKk.png","title":"Android studio: How do I show an updating variable at all times using a Textview?","body":"<p><a href=\"https://i.stack.imgur.com/ztOKk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztOKk.png\" alt=\"enter image description here\" /></a><br />\nThe android studio code works as intended. However, points are made in the background since it's an idle game. An on click method only shows the points that were made as of the last click. I need the points to be shown at all times.</p>\n<p>I have been testing this new added bit of code but the points are not updating when the button is clicked. Example in photo. Evolution Points = 0; The on click method is updating but there are also points made in the background that need to be shown without a button click. Any suggestions?</p>\n<pre><code>visibletotals.setText(&quot;Evolutions Points: &quot; + clicks);\n</code></pre>\n<p>full code for reference</p>\n<pre><code>package com.example.idleclicker;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.TextView;\n    \n    import java.util.Timer;\n    import java.util.TimerTask;\n    \n    \n    public class MainActivity extends AppCompatActivity {\n    \n        TextView points;\n    TextView visibletotals;\n        Button click;\n        Button upgradebtn;\n        TextView Leveltext;\n    int clicks = 0;\n    int clickcost = 10;\n    int upgradelevel = 1;\n        Timer myTimer = new Timer();\n    \n    \n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            click = (Button) findViewById(R.id.click);\n            points = (TextView) findViewById(R.id.points);\n            upgradebtn = (Button) findViewById(R.id.upgradebtn);\n            Leveltext = (TextView) findViewById(R.id.leveltext);\n            visibletotals = (TextView) findViewById(R.id.visibletotals);\n    \n    \n            visibletotals.setText(&quot;Evolutions Points: &quot; + clicks);\n    \n    \n            click.setEnabled(true);\n    \n            upgradebtn.setEnabled(true);\n    \n            myTimer.schedule(new TimerTask() {\n                                 @Override\n                                 public void run() {\n                                     clicks+= upgradelevel;\n    \n                                 }\n                             }, 0, 1000);\n    \n    \n    \n            click.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            clicks++;\n                            points.setText(getResources().getString(R.string.evol) + clicks);\n    \n                        }\n    \n    \n                    });\n    \n            upgradebtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (clicks &gt;= clickcost) {\n    \n                        clicks -= clickcost;\n    \n                        upgradelevel += 1;\n    \n                        clickcost *= 2;\n                        upgradebtn.setText(getResources().getString(R.string.Upgrade) +\n                                clickcost +\n                                getString(R.string.LevelText)\n                                + upgradelevel);\n    \n                    };\n                }\n    \n                });\n    \n    \n        }}\n</code></pre>\n"},{"tags":["java","optimization","treemap"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654295992,"post_id":72494459,"comment_id":128065410,"body_markdown":"What do you mean by &quot;update the current key&quot; You should never update the key of a map. Do you actually mean &quot;change the value associated with the current key&quot;?","body":"What do you mean by &quot;update the current key&quot; You should never update the key of a map. Do you actually mean &quot;change the value associated with the current key&quot;?"},{"owner":{"account_id":17128960,"reputation":61,"user_id":12395473,"display_name":"Jyon Nyre"},"score":0,"creation_date":1654301290,"post_id":72494459,"comment_id":128066135,"body_markdown":"By &quot;update the current key&quot; I did not mean changing any of the keys but rather changing which key represents the current position in the TreeMap. The value associated with a variable is changed, but that variable is not part of the map.","body":"By &quot;update the current key&quot; I did not mean changing any of the keys but rather changing which key represents the current position in the TreeMap. The value associated with a variable is changed, but that variable is not part of the map."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655883900,"post_id":72494459,"comment_id":128434581,"body_markdown":"The creation of those views shouldnt be too expensive. Its a bit surprising that it outweighs the iteration savings. Which raises the question whether some context is missing. How large is the map on average? How often do you perform this operation a) on this same map with different keys or b) on different maps.","body":"The creation of those views shouldnt be too expensive. Its a bit surprising that it outweighs the iteration savings. Which raises the question whether some context is missing. How large is the map on average? How often do you perform this operation a) on this same map with different keys or b) on different maps."}],"owner":{"account_id":17128960,"reputation":61,"user_id":12395473,"display_name":"Jyon Nyre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654285169,"creation_date":1654285169,"question_id":72494459,"body_markdown":"I have several TreeMaps. Given some key, something needs to be done with each entry whose key is within some distance of the key in each TreeMap according to some measure specific to that TreeMap. What I currently have uses the lowerKey and higherKey methods repeatedly to find the next key, which is then used to get the entry and update the current key. I tried optimizing this by making iterators that start from the key&#39;s position in the TreeMap&#39;s entry set\r\n```lower=tree.descendingMap().tailMap(key).entrySet().iterator();```\r\n\r\n```higher=tree.tailMap(key).entrySet().iterator();```\r\n\r\nThis actually took longer. The code that used the iterators instead of lowerKey and higherKey was faster, but creating the iterators in this way took long enough to outweigh that, leading to my question.\r\nIs there a way to iterate through a TreeMap from a specific starting key faster than using lowerKey and higherKey that does not outweigh the speedup with the overhead of creating sub maps?","title":"Is there a faster way to iterate over a TreeMap from a specific starting key?","body":"<p>I have several TreeMaps. Given some key, something needs to be done with each entry whose key is within some distance of the key in each TreeMap according to some measure specific to that TreeMap. What I currently have uses the lowerKey and higherKey methods repeatedly to find the next key, which is then used to get the entry and update the current key. I tried optimizing this by making iterators that start from the key's position in the TreeMap's entry set\n<code>lower=tree.descendingMap().tailMap(key).entrySet().iterator();</code></p>\n<p><code>higher=tree.tailMap(key).entrySet().iterator();</code></p>\n<p>This actually took longer. The code that used the iterators instead of lowerKey and higherKey was faster, but creating the iterators in this way took long enough to outweigh that, leading to my question.\nIs there a way to iterate through a TreeMap from a specific starting key faster than using lowerKey and higherKey that does not outweigh the speedup with the overhead of creating sub maps?</p>\n"},{"tags":["java","maven","jboss","wildfly","pom.xml"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1654285268,"post_id":72494423,"comment_id":128062971,"body_markdown":"Importing the BOM doesnt add any dependencies - it just adds what is essentially a `dependencyManagent` block. You need to add the dependencies themselves somewhere.","body":"Importing the BOM doesnt add any dependencies - it just adds what is essentially a <code>dependencyManagent</code> block. You need to add the dependencies themselves somewhere."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1654285353,"post_id":72494423,"comment_id":128062995,"body_markdown":"The specific dependencies you mention should be added as a `provided` scope as the web server will provide its versions at run time. Its actually an error to include Javax dependencies in your war.","body":"The specific dependencies you mention should be added as a <code>provided</code> scope as the web server will provide its versions at run time. Its actually an error to include Javax dependencies in your war."},{"owner":{"account_id":11270861,"reputation":349,"user_id":8266370,"display_name":"Dusayanta Prasad"},"score":0,"creation_date":1654285931,"post_id":72494423,"comment_id":128063166,"body_markdown":"@BoristheSpider I want to use the dependencies only during build time and I am not going to create an uber jar/war.","body":"@BoristheSpider I want to use the dependencies only during build time and I am not going to create an uber jar/war."},{"owner":{"account_id":11270861,"reputation":349,"user_id":8266370,"display_name":"Dusayanta Prasad"},"score":0,"creation_date":1654286077,"post_id":72494423,"comment_id":128063205,"body_markdown":"Also, if you provide an example on how I need to use the dependency in the sub module ```pom.xml``` so that it downloads all the related jar and doesn&#39;t error out during compilation.","body":"Also, if you provide an example on how I need to use the dependency in the sub module <code>pom.xml</code> so that it downloads all the related jar and doesn&#39;t error out during compilation."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1654443951,"post_id":72494423,"comment_id":128087172,"body_markdown":"@DusayantaPrasad You only need to reference your dependencies without their `&lt;version&gt;` tag, because they are alredy set inside the parent pom.","body":"@DusayantaPrasad You only need to reference your dependencies without their <code>&lt;version&gt;</code> tag, because they are alredy set inside the parent pom."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1654462056,"post_id":72494423,"comment_id":128091343,"body_markdown":"Also, don&#39;t use the parent POM to load dependencies. Not all those dependencies should be used in your application. It&#39;s better to use the the [bom](https://github.com/wildfly/boms) or the Jakarta EE BOM.","body":"Also, don&#39;t use the parent POM to load dependencies. Not all those dependencies should be used in your application. It&#39;s better to use the the <a href=\"https://github.com/wildfly/boms\" rel=\"nofollow noreferrer\">bom</a> or the Jakarta EE BOM."}],"owner":{"account_id":11270861,"reputation":349,"user_id":8266370,"display_name":"Dusayanta Prasad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654284977,"creation_date":1654284977,"question_id":72494423,"body_markdown":"I have Multi Module Maven Project and in the parent ```pom.xml``` I am importing Wildfly dependency like below -\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wildfly-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;21.0.2.Final&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen I try to run ```mvn install``` the sub modules start failing with compilation errors -\r\n```\r\npackage javax.servlet.http does not exist\r\npackage org.apache.commons.beanutils does not exist\r\npackage javax.xml.ws does not exist\r\npackage javax.mail does not exist\r\npackage javax.mail.internet does not exist\r\n```\r\n\r\nNote: I have not mentioned any dependencies in the child ```pom.xml```.\r\n\r\nIf we check the Wildfly Server zip all these jars are present under the modules directory, so probably they should get downloaded via maven as well.\r\n\r\nI read other posts also on StackOverflow like [How to use jars from Wildfly correctly in Maven?](https://stackoverflow.com/questions/25635374/how-to-use-jars-from-wildfly-correctly-in-maven) , but it didn&#39;t help much.\r\n\r\nPlease let me know if I am missing something or doing things wrongly.","title":"What is the correct way to download and use Wildfly Jars in a Maven Project?","body":"<p>I have Multi Module Maven Project and in the parent <code>pom.xml</code> I am importing Wildfly dependency like below -</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n      &lt;artifactId&gt;wildfly-parent&lt;/artifactId&gt;\n      &lt;version&gt;21.0.2.Final&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I try to run <code>mvn install</code> the sub modules start failing with compilation errors -</p>\n<pre><code>package javax.servlet.http does not exist\npackage org.apache.commons.beanutils does not exist\npackage javax.xml.ws does not exist\npackage javax.mail does not exist\npackage javax.mail.internet does not exist\n</code></pre>\n<p>Note: I have not mentioned any dependencies in the child <code>pom.xml</code>.</p>\n<p>If we check the Wildfly Server zip all these jars are present under the modules directory, so probably they should get downloaded via maven as well.</p>\n<p>I read other posts also on StackOverflow like <a href=\"https://stackoverflow.com/questions/25635374/how-to-use-jars-from-wildfly-correctly-in-maven\">How to use jars from Wildfly correctly in Maven?</a> , but it didn't help much.</p>\n<p>Please let me know if I am missing something or doing things wrongly.</p>\n"},{"tags":["java","docker","yourkit"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1638520418,"post_id":70211315,"comment_id":124115316,"body_markdown":"It works for me without any issues. Are you sure you updated `libyjpagent.so` ?","body":"It works for me without any issues. Are you sure you updated <code>libyjpagent.so</code> ?"},{"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"score":0,"creation_date":1638520803,"post_id":70211315,"comment_id":124115453,"body_markdown":"this file exists inside of yourkit.zip under bin folder, should i copy it somewhere else?","body":"this file exists inside of yourkit.zip under bin folder, should i copy it somewhere else?"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":2,"creation_date":1638521029,"post_id":70211315,"comment_id":124115523,"body_markdown":"`libyjpagent.so` is the only file that you have to deploy together with your application, it just has to be in such a location so that you can reference it  from run script. I.e if it&#39;s in `libs` directory you&#39;d add `-agentpath:./libs/libyjpagent.so=port=&lt;PORT&gt;` to the param list when running java.","body":"<code>libyjpagent.so</code> is the only file that you have to deploy together with your application, it just has to be in such a location so that you can reference it  from run script. I.e if it&#39;s in <code>libs</code> directory you&#39;d add <code>-agentpath:.&#47;libs&#47;libyjpagent.so=port=&lt;PORT&gt;</code> to the param list when running java."},{"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"score":0,"creation_date":1638521328,"post_id":70211315,"comment_id":124115623,"body_markdown":"I did but getting error mentioned above","body":"I did but getting error mentioned above"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638521735,"post_id":70211315,"comment_id":124115767,"body_markdown":"Then you&#39;ll have to check that log file. What do you mean by &quot;How I can see what inside of ...&quot; ? Do you mean, how to open file that is within the docker container? If you have access to that machine then you can run a bash command to get &quot;inside&quot; of container, i.e. `docker exec -it &lt;container-name&gt; bash`.","body":"Then you&#39;ll have to check that log file. What do you mean by &quot;How I can see what inside of ...&quot; ? Do you mean, how to open file that is within the docker container? If you have access to that machine then you can run a bash command to get &quot;inside&quot; of container, i.e. <code>docker exec -it &lt;container-name&gt; bash</code>."},{"owner":{"account_id":1938264,"reputation":93,"user_id":1745156,"display_name":"mdaliyan"},"score":0,"creation_date":1638521955,"post_id":70211315,"comment_id":124115844,"body_markdown":"Appearently `yourkit 2021.11` should work on Java 17... I followed [Yourkit Profiling in Docker container](https://www.yourkit.com/docs/java/help/docker.jsp) instructions but I have the same issue here.","body":"Appearently <code>yourkit 2021.11</code> should work on Java 17... I followed <a href=\"https://www.yourkit.com/docs/java/help/docker.jsp\" rel=\"nofollow noreferrer\">Yourkit Profiling in Docker container</a> instructions but I have the same issue here."},{"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"score":0,"creation_date":1638522347,"post_id":70211315,"comment_id":124115972,"body_markdown":"I meant that docker crashing with error and can&#39;t  get inside of the container to see what&#39;s inside, I thought if I can check what was inside of the file might give me some hints why it&#39;s happening","body":"I meant that docker crashing with error and can&#39;t  get inside of the container to see what&#39;s inside, I thought if I can check what was inside of the file might give me some hints why it&#39;s happening"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638522680,"post_id":70211315,"comment_id":124116076,"body_markdown":"You can mount local directory to the path within container, so that everything that app in the container writes in there you could access outside of the container as well.","body":"You can mount local directory to the path within container, so that everything that app in the container writes in there you could access outside of the container as well."},{"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"score":0,"creation_date":1638522719,"post_id":70211315,"comment_id":124116092,"body_markdown":"thanks, forgot about this option, will try","body":"thanks, forgot about this option, will try"}],"answers":[{"tags":[],"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638844547,"creation_date":1638844547,"answer_id":70254273,"question_id":70211315,"body_markdown":"The issue was that `azul/zulu-openjdk-alpine:17-jre-headless` and `yourkit` not compatible, some library were not there for `yourkit`(didn&#39;t dig much), so by moving to `azul/zulu-openjdk-debian:17-jre-headless` fixed incompatibility for me.  ","title":"Java 17 and Yourkit 2021.11","body":"<p>The issue was that <code>azul/zulu-openjdk-alpine:17-jre-headless</code> and <code>yourkit</code> not compatible, some library were not there for <code>yourkit</code>(didn't dig much), so by moving to <code>azul/zulu-openjdk-debian:17-jre-headless</code> fixed incompatibility for me.</p>\n"},{"tags":[],"owner":{"account_id":1738115,"reputation":717,"user_id":1590214,"display_name":"Vladimir Kondratyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654284717,"creation_date":1654284717,"answer_id":72494383,"question_id":70211315,"body_markdown":"There might be problems with v2021.11 in musl-based Linuxes. Please use v2022.3 which has special profiling agent for musl https://www.yourkit.com/docs/java/help/docker.jsp","title":"Java 17 and Yourkit 2021.11","body":"<p>There might be problems with v2021.11 in musl-based Linuxes. Please use v2022.3 which has special profiling agent for musl <a href=\"https://www.yourkit.com/docs/java/help/docker.jsp\" rel=\"nofollow noreferrer\">https://www.yourkit.com/docs/java/help/docker.jsp</a></p>\n"}],"owner":{"account_id":13255069,"reputation":586,"user_id":9571426,"display_name":"Serhii Zadorozhnyi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654284717,"creation_date":1638519529,"question_id":70211315,"body_markdown":"Java 11 and yourkit 2020.9 working for me. Made upgrade to java 17 and yourkit 2021.11, yourkit not working for me.\r\n\r\nUsed this doc: https://www.yourkit.com/docs/java/help/docker.jsp to add yourkit 2021.11 to docker but getting error when running it:\r\n\r\n    [YourKit Java Profiler 2021.11-b220] Log file: /home/kek/.yjp/log/test-8.log\r\n    terminate called after throwing an instance of &#39;std::system_error&#39;\r\n    what():  No error information\r\nHow I can see what inside of `/home/kek/.yjp/log/test-8.log`or does java 17 and yourkit 2021.11 work for you?","title":"Java 17 and Yourkit 2021.11","body":"<p>Java 11 and yourkit 2020.9 working for me. Made upgrade to java 17 and yourkit 2021.11, yourkit not working for me.</p>\n<p>Used this doc: <a href=\"https://www.yourkit.com/docs/java/help/docker.jsp\" rel=\"nofollow noreferrer\">https://www.yourkit.com/docs/java/help/docker.jsp</a> to add yourkit 2021.11 to docker but getting error when running it:</p>\n<pre><code>[YourKit Java Profiler 2021.11-b220] Log file: /home/kek/.yjp/log/test-8.log\nterminate called after throwing an instance of 'std::system_error'\nwhat():  No error information\n</code></pre>\n<p>How I can see what inside of <code>/home/kek/.yjp/log/test-8.log</code>or does java 17 and yourkit 2021.11 work for you?</p>\n"},{"tags":["java","syntax","operators","special-characters"],"answers":[{"tags":[],"owner":{"account_id":46833,"reputation":396593,"user_id":138475,"display_name":"Pascal MARTIN"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1438052249,"creation_date":1254055118,"answer_id":1483509,"question_id":1483504,"body_markdown":"It is the [Unary ~ Bitwise complement][1] operator *(quoting)* :\r\n\r\n - only used with integer values\r\n - inverts the bits ie a 0-bit becomes 1-bit and vice versa\r\n - in all cases ~x equals (-x)-1 \r\n\r\nSee also [this page on Bitwise operators on wikipedia][2], which states :\r\n\r\n&gt; The bitwise NOT, or complement, is a\r\n&gt; unary operation that performs logical\r\n&gt; negation on each bit, forming the\r\n&gt; ones&#39; complement of the given binary\r\n&gt; value. Digits which were 0 become 1,\r\n&gt; and vice versa. &lt;br&gt;For example:\r\n\r\n    NOT 0111  (decimal 7)\r\n      = 1000  (decimal 8)\r\n\r\n&gt; In many programming languages\r\n&gt; *(including those in the C family)*, the bitwise NOT operator is &quot;`~`&quot;\r\n&gt; (tilde).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unary_operation#C_family_of_languages\r\n  [2]: http://en.wikipedia.org/wiki/Bitwise_operation#NOT","title":"Java: What does ~ mean","body":"<p>It is the <a href=\"https://en.wikipedia.org/wiki/Unary_operation#C_family_of_languages\" rel=\"noreferrer\">Unary ~ Bitwise complement</a> operator <em>(quoting)</em> :</p>\n\n<ul>\n<li>only used with integer values</li>\n<li>inverts the bits ie a 0-bit becomes 1-bit and vice versa</li>\n<li>in all cases ~x equals (-x)-1 </li>\n</ul>\n\n<p>See also <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#NOT\" rel=\"noreferrer\">this page on Bitwise operators on wikipedia</a>, which states :</p>\n\n<blockquote>\n  <p>The bitwise NOT, or complement, is a\n  unary operation that performs logical\n  negation on each bit, forming the\n  ones' complement of the given binary\n  value. Digits which were 0 become 1,\n  and vice versa. <br>For example:</p>\n</blockquote>\n\n<pre><code>NOT 0111  (decimal 7)\n  = 1000  (decimal 8)\n</code></pre>\n\n<blockquote>\n  <p>In many programming languages\n  <em>(including those in the C family)</em>, the bitwise NOT operator is \"<code>~</code>\"\n  (tilde).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":60132,"reputation":1630,"user_id":179737,"accept_rate":83,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1517729819,"creation_date":1254055169,"answer_id":1483510,"question_id":1483504,"body_markdown":"The Tilde (`~`) performs a bitwise complement of a numerical value in Java.\r\n\r\nSee: [Bitwise complement (`~`): inverts ones and zeroes in a number][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Language-Basics/Bitwisecomplementinvertsonesandzeroesinanumber.htm","title":"Java: What does ~ mean","body":"<p>The Tilde (<code>~</code>) performs a bitwise complement of a numerical value in Java.</p>\n\n<p>See: <a href=\"http://www.java2s.com/Code/Java/Language-Basics/Bitwisecomplementinvertsonesandzeroesinanumber.htm\" rel=\"noreferrer\">Bitwise complement (<code>~</code>): inverts ones and zeroes in a number</a></p>\n"},{"tags":[],"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254055327,"creation_date":1254055327,"answer_id":1483513,"question_id":1483504,"body_markdown":"From the official docs http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html:\r\n\r\n&gt; The unary bitwise complement operator &quot;~&quot; inverts a bit pattern; it can be applied to any of the integral types, making every &quot;0&quot; a &quot;1&quot; and every &quot;1&quot; a &quot;0&quot;. For example, a byte contains 8 bits; applying this operator to a value whose bit pattern is &quot;00000000&quot; would change its pattern to &quot;11111111&quot;. \r\n\r\n","title":"Java: What does ~ mean","body":"<p>From the official docs <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/java/nutsandbolts/op3.html</a>:</p>\n\n<blockquote>\n  <p>The unary bitwise complement operator \"~\" inverts a bit pattern; it can be applied to any of the integral types, making every \"0\" a \"1\" and every \"1\" a \"0\". For example, a byte contains 8 bits; applying this operator to a value whose bit pattern is \"00000000\" would change its pattern to \"11111111\". </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3352,"reputation":95608,"user_id":4833,"accept_rate":83,"display_name":"VolkerK"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1517729839,"creation_date":1254056336,"answer_id":1483533,"question_id":1483504,"body_markdown":"As said before `~` is the unary bitwise NOT operator.  \r\nYour example tests whether `modifiers` contains bits other than those defined in `KeyEvent.SHIFT_MASK`.\r\n\r\n * `~KeyEvent.SHIFT_MASK` -&amp;gt; all bits except those in KeyEvent.SHIFT_MASK are set to 1.  \r\n * `(modifiers &amp; ~KeyEvent.SHIFT_MASK)` -&amp;gt; every 1-bit in `modifiers` that &quot;does not belong&quot; to `KeyEvent.SHIFT_MASK`  \r\n * `if ((modifiers &amp; ~KeyEvent.SHIFT_MASK) != 0)` -&amp;gt; if there was at least one other bit set to 1 besides `KeyEvent.SHIFT_MASK` do something...\r\n","title":"Java: What does ~ mean","body":"<p>As said before <code>~</code> is the unary bitwise NOT operator.<br>\nYour example tests whether <code>modifiers</code> contains bits other than those defined in <code>KeyEvent.SHIFT_MASK</code>.</p>\n\n<ul>\n<li><code>~KeyEvent.SHIFT_MASK</code> -&gt; all bits except those in KeyEvent.SHIFT_MASK are set to 1.  </li>\n<li><code>(modifiers &amp; ~KeyEvent.SHIFT_MASK)</code> -&gt; every 1-bit in <code>modifiers</code> that \"does not belong\" to <code>KeyEvent.SHIFT_MASK</code>  </li>\n<li><code>if ((modifiers &amp; ~KeyEvent.SHIFT_MASK) != 0)</code> -&gt; if there was at least one other bit set to 1 besides <code>KeyEvent.SHIFT_MASK</code> do something...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3795432,"reputation":541,"user_id":3150652,"display_name":"Dhwaneel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1654284408,"creation_date":1487395850,"answer_id":42311432,"question_id":1483504,"body_markdown":"From Java&#39;s website http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\r\n\r\n&gt; The unary bitwise complement operator &quot;~&quot; inverts a bit pattern; it\r\n&gt; can be applied to any of the integral types, making every &quot;0&quot; a &quot;1&quot;\r\n&gt; and every &quot;1&quot; a &quot;0&quot;. For example, a byte contains 8 bits; applying\r\n&gt; this operator to a value whose bit pattern is &quot;00000000&quot; would change\r\n&gt; its pattern to &quot;11111111&quot;.\r\n\r\nNow, as previously answered by Pascal MARTIN, at any given case the value equals to -(x)-1. E.g. ~2=-3, ~-6=5, etc.\r\n\r\nAlso, in java all **positive integers** are stored as their binary representations and **negative integers** are stored in 2&#39;s complement value of a positive integer.\r\n\r\nNow, let&#39;s see how it works in bit level in case of ~2=-3:\r\n\r\nInitially, 2 is stored in its binary representation:\r\n\r\n    0000 0000 0000 0010\r\nNow ~2 will result in the value (inverse the bits):\r\n\r\n    1111 1111 1111 1101\r\nHow in the world I know it is -3?\r\nWell, it is -3 because it is derived from 2&#39;s complement representation of 3.\r\n\r\nAs we know 2&#39;s(x)= 1&#39;s(x) + 1 (https://delightlylinux.wordpress.com/2014/10/13/binary-lesson-12-ones-complement-and-twos-complement/) &lt;br&gt;\r\n**Our aim is it to find x**: &lt;br&gt;\r\n1&#39;s(x)= 2&#39;s(x) - 1 (based on previous expression)\r\n\r\nAs our answer is in is in 2&#39;s complement,&lt;br&gt;\r\n1&#39;s(x)= `1111 1111 1111 1101 - 0000 0000 0000 0001` &lt;br&gt;\r\n1&#39;s (x)= `1111 1111 1111 1100` (How to subtract -http://sandbox.mc.edu/~bennet/cs110/pm/sub.html) &lt;br&gt;&lt;br&gt;\r\nTherefore x= 1&#39;s complement of value (as the answer we got represents 1&#39;s complement of x). &lt;br&gt;\r\nx = `0000 0000 0000 0011` &lt;br&gt; So, we have found that x is 3 and hence our previous result of ~ operator `1111 1111 1111 1101`is -3 written as 2&#39;s complement of 3.","title":"Java: What does ~ mean","body":"<p>From Java's website <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n<blockquote>\n<p>The unary bitwise complement operator &quot;~&quot; inverts a bit pattern; it\ncan be applied to any of the integral types, making every &quot;0&quot; a &quot;1&quot;\nand every &quot;1&quot; a &quot;0&quot;. For example, a byte contains 8 bits; applying\nthis operator to a value whose bit pattern is &quot;00000000&quot; would change\nits pattern to &quot;11111111&quot;.</p>\n</blockquote>\n<p>Now, as previously answered by Pascal MARTIN, at any given case the value equals to -(x)-1. E.g. ~2=-3, ~-6=5, etc.</p>\n<p>Also, in java all <strong>positive integers</strong> are stored as their binary representations and <strong>negative integers</strong> are stored in 2's complement value of a positive integer.</p>\n<p>Now, let's see how it works in bit level in case of ~2=-3:</p>\n<p>Initially, 2 is stored in its binary representation:</p>\n<pre><code>0000 0000 0000 0010\n</code></pre>\n<p>Now ~2 will result in the value (inverse the bits):</p>\n<pre><code>1111 1111 1111 1101\n</code></pre>\n<p>How in the world I know it is -3?\nWell, it is -3 because it is derived from 2's complement representation of 3.</p>\n<p>As we know 2's(x)= 1's(x) + 1 (<a href=\"https://delightlylinux.wordpress.com/2014/10/13/binary-lesson-12-ones-complement-and-twos-complement/\" rel=\"nofollow noreferrer\">https://delightlylinux.wordpress.com/2014/10/13/binary-lesson-12-ones-complement-and-twos-complement/</a>) <br>\n<strong>Our aim is it to find x</strong>: <br>\n1's(x)= 2's(x) - 1 (based on previous expression)</p>\n<p>As our answer is in is in 2's complement,<br>\n1's(x)= <code>1111 1111 1111 1101 - 0000 0000 0000 0001</code> <br>\n1's (x)= <code>1111 1111 1111 1100</code> (How to subtract -http://sandbox.mc.edu/~bennet/cs110/pm/sub.html) <br><br>\nTherefore x= 1's complement of value (as the answer we got represents 1's complement of x). <br>\nx = <code>0000 0000 0000 0011</code> <br> So, we have found that x is 3 and hence our previous result of ~ operator <code>1111 1111 1111 1101</code>is -3 written as 2's complement of 3.</p>\n"}],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74242,"favorite_count":0,"down_vote_count":1,"up_vote_count":93,"accepted_answer_id":1483510,"answer_count":5,"score":92,"last_activity_date":1654284408,"creation_date":1254054917,"question_id":1483504,"body_markdown":"In this Java source code I have this line:\r\n\r\n    if ((modifiers &amp; ~KeyEvent.SHIFT_MASK) != 0) ....\r\n\r\nWhat does the tilde `~` mean?\r\n\r\n","title":"Java: What does ~ mean","body":"<p>In this Java source code I have this line:</p>\n\n<pre><code>if ((modifiers &amp; ~KeyEvent.SHIFT_MASK) != 0) ....\n</code></pre>\n\n<p>What does the tilde <code>~</code> mean?</p>\n"},{"tags":["java","json","parsing","jackson","fasterxml"],"comments":[{"owner":{"account_id":7752221,"reputation":1258,"user_id":5867784,"accept_rate":75,"display_name":"CodingNagger"},"score":0,"creation_date":1477077329,"post_id":40183890,"comment_id":67635293,"body_markdown":"Any particular reason for not using something much simpler like Gson ?","body":"Any particular reason for not using something much simpler like Gson ?"}],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1477086371,"creation_date":1477086371,"answer_id":40185887,"question_id":40183890,"body_markdown":" You can try something like this.\r\n   \r\n    private static void parse(String json) throws IOException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        JsonParser parser = new JsonFactory().createJsonParser(json);\r\n        while (parser.nextToken() != JsonToken.END_OBJECT) {\r\n            String tok = parser.getCurrentName();\r\n            Page p = new Page();\r\n            if (&quot;address&quot;.equals(tok)) {\r\n                parser.nextToken();\r\n                p.setAddress(parser.getText());\r\n            }\r\n            if (&quot;links&quot;.equals(tok)) {\r\n                parser.nextToken();\r\n                ArrayNode node = objectMapper.readTree(parser);\r\n                Iterator&lt;JsonNode&gt; iterator = node.elements();\r\n                String[] array = new String[node.size()];\r\n                for (int i = 0; i &lt; node.size(); i++) {\r\n                    if (iterator.hasNext()) {\r\n                        array[i] = iterator.next().asText();\r\n                    }\r\n                }\r\n                p.setLinks(array);\r\n            }\r\n            net.add(p);\r\n        }\r\n    }","title":"Jackson JsonParser get Array token","body":"<p>You can try something like this.</p>\n\n<pre><code>private static void parse(String json) throws IOException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    JsonParser parser = new JsonFactory().createJsonParser(json);\n    while (parser.nextToken() != JsonToken.END_OBJECT) {\n        String tok = parser.getCurrentName();\n        Page p = new Page();\n        if (\"address\".equals(tok)) {\n            parser.nextToken();\n            p.setAddress(parser.getText());\n        }\n        if (\"links\".equals(tok)) {\n            parser.nextToken();\n            ArrayNode node = objectMapper.readTree(parser);\n            Iterator&lt;JsonNode&gt; iterator = node.elements();\n            String[] array = new String[node.size()];\n            for (int i = 0; i &lt; node.size(); i++) {\n                if (iterator.hasNext()) {\n                    array[i] = iterator.next().asText();\n                }\n            }\n            p.setLinks(array);\n        }\n        net.add(p);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8254444,"reputation":1,"user_id":14826633,"display_name":"mfg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654283973,"creation_date":1654283973,"answer_id":72494275,"question_id":40183890,"body_markdown":"I would use this;\r\n```\r\nif (&quot;links&quot;.equals(tok)) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    parser.nextToken();\r\n    if (parser.currentToken() == JsonToken.START_ARRAY) {\r\n        parser.nextToken();\r\n        while (parser.currentToken() != JsonToken.END_ARRAY) {\r\n            list.add(parser.getText());\r\n            parser.nextToken();\r\n        }\r\n    }\r\n    p.setLinks(list.toArray(new String[list.size()]));\r\n}\r\n```","title":"Jackson JsonParser get Array token","body":"<p>I would use this;</p>\n<pre><code>if (&quot;links&quot;.equals(tok)) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    parser.nextToken();\n    if (parser.currentToken() == JsonToken.START_ARRAY) {\n        parser.nextToken();\n        while (parser.currentToken() != JsonToken.END_ARRAY) {\n            list.add(parser.getText());\n            parser.nextToken();\n        }\n    }\n    p.setLinks(list.toArray(new String[list.size()]));\n}\n</code></pre>\n"}],"owner":{"account_id":8546640,"reputation":23,"user_id":6404979,"display_name":"Jacob Nerney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40185887,"answer_count":2,"score":2,"last_activity_date":1654283973,"creation_date":1477077010,"question_id":40183890,"body_markdown":"I am using Jackson Json Parser to get values out of a JSON string and then plugging them into a Java Object. Here is a chunk of the sort of JSON I am dealing with:\r\n\r\n    {\r\n        &quot;address&quot;:&quot;aURL&quot;,\r\n        &quot;links&quot;:[\r\n            &quot;aURL&quot;,\r\n            &quot;aURL&quot;,\r\n            &quot;aURL&quot;\r\n        ]\r\n    }\r\n\r\nHere is what I have going on in my Java code. net is a global ArrayList&lt;Page&gt;, Page objects have a String address field and a String[] links field. I want to get the String array of links out of the JSON and plug them into a Page object. While I can easily extract the address string with the getText() method, I cannot figure a convenient way to just grab the String array. Here&#39;s my code right now:\r\n\r\n    private static void parse(String json) throws IOException {\r\n        JsonParser parser = new JsonFactory().createJsonParser(json);\r\n        while (parser.nextToken() != JsonToken.END_OBJECT) {\r\n            String tok = parser.getCurrentName();\r\n            Page p = new Page();\r\n            if (&quot;address&quot;.equals(tok)) {\r\n                parser.nextToken();\r\n                p.setAddress(parser.getText());\r\n            }\r\n            if (&quot;links&quot;.equals(tok)) {\r\n                parser.nextToken();\r\n                //p.setLinks(HOW TO GET STRING ARRAY)\r\n            }\r\n            net.add(p);\r\n        }\r\n    }\r\n\r\nI would prefer to stick with the JsonParser nexting method I am using, unless it&#39;s just gonna be too unwieldy. ","title":"Jackson JsonParser get Array token","body":"<p>I am using Jackson Json Parser to get values out of a JSON string and then plugging them into a Java Object. Here is a chunk of the sort of JSON I am dealing with:</p>\n\n<pre><code>{\n    \"address\":\"aURL\",\n    \"links\":[\n        \"aURL\",\n        \"aURL\",\n        \"aURL\"\n    ]\n}\n</code></pre>\n\n<p>Here is what I have going on in my Java code. net is a global ArrayList, Page objects have a String address field and a String[] links field. I want to get the String array of links out of the JSON and plug them into a Page object. While I can easily extract the address string with the getText() method, I cannot figure a convenient way to just grab the String array. Here's my code right now:</p>\n\n<pre><code>private static void parse(String json) throws IOException {\n    JsonParser parser = new JsonFactory().createJsonParser(json);\n    while (parser.nextToken() != JsonToken.END_OBJECT) {\n        String tok = parser.getCurrentName();\n        Page p = new Page();\n        if (\"address\".equals(tok)) {\n            parser.nextToken();\n            p.setAddress(parser.getText());\n        }\n        if (\"links\".equals(tok)) {\n            parser.nextToken();\n            //p.setLinks(HOW TO GET STRING ARRAY)\n        }\n        net.add(p);\n    }\n}\n</code></pre>\n\n<p>I would prefer to stick with the JsonParser nexting method I am using, unless it's just gonna be too unwieldy. </p>\n"},{"tags":["java","imgscalr"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653427561,"post_id":72369339,"comment_id":127849535,"body_markdown":"Your example code doesn&#39;t actually encode the resized image","body":"Your example code doesn&#39;t actually encode the resized image"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653427862,"post_id":72369339,"comment_id":127849615,"body_markdown":"So I used `java.util.Base64` to do the encoding and decoding without issue.  I &quot;think&quot; your issue has more to do with `os.toString(&quot;UTF-8&quot;);` and the possibility that the stream is already exhausted, but since I don&#39;t know what API `OutputStream b64 = new Base64.OutputStream(os);` is coming from, it&#39;s impossible to say","body":"So I used <code>java.util.Base64</code> to do the encoding and decoding without issue.  I &quot;think&quot; your issue has more to do with <code>os.toString(&quot;UTF-8&quot;);</code> and the possibility that the stream is already exhausted, but since I don&#39;t know what API <code>OutputStream b64 = new Base64.OutputStream(os);</code> is coming from, it&#39;s impossible to say"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653428186,"post_id":72369339,"comment_id":127849681,"body_markdown":"Maybe, you should also be using `b64.toString(&quot;UTF-8&quot;);` instead (I have no idea) and `b64.flush()` might also help","body":"Maybe, you should also be using <code>b64.toString(&quot;UTF-8&quot;);</code> instead (I have no idea) and <code>b64.flush()</code> might also help"},{"owner":{"account_id":15455395,"reputation":95,"user_id":11149636,"display_name":"m3_"},"score":0,"creation_date":1653551331,"post_id":72369339,"comment_id":127880779,"body_markdown":"@MadProgrammer Oh my.. I imported the wrong Base64 Library. When using the correct one, everything works fine.\nThanks","body":"@MadProgrammer Oh my.. I imported the wrong Base64 Library. When using the correct one, everything works fine. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654283940,"creation_date":1654283940,"answer_id":72494265,"question_id":72369339,"body_markdown":"When you convert to Base64, every aligned block of 3 input bytes become 4 output bytes. Because of this, each input byte partially affects 2 output bytes, so the Base64 encoder cannot generate output bytes on a one-to-one basis; the encoder must buffer some input bytes and write output blocks.\r\n\r\nDoing `b64.flush()` will not help due to the partial byte problem. The solution is to do `b64.close()` after all input bytes are finished. This will cause remaining partial bytes to be flushed, and it will append the special Base64 termination bytes.","title":"Java Scalr resize image corrupted file","body":"<p>When you convert to Base64, every aligned block of 3 input bytes become 4 output bytes. Because of this, each input byte partially affects 2 output bytes, so the Base64 encoder cannot generate output bytes on a one-to-one basis; the encoder must buffer some input bytes and write output blocks.</p>\n<p>Doing <code>b64.flush()</code> will not help due to the partial byte problem. The solution is to do <code>b64.close()</code> after all input bytes are finished. This will cause remaining partial bytes to be flushed, and it will append the special Base64 termination bytes.</p>\n"}],"owner":{"account_id":15455395,"reputation":95,"user_id":11149636,"display_name":"m3_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654283940,"creation_date":1653425597,"question_id":72369339,"body_markdown":"I&#39;m trying to resize PNG images, convert them to data URL and then download them in frontend.\r\nThe whole process works just fine but when I try to open the file (for example) in Photoshop I get &quot;unexpected End of file (EOF)&quot;.\r\nThis only happens when I resize the image using Scalr. When I convert to data URL without any resizing I don&#39;t have any problems.\r\n\r\n    public String designToDataURL(Design design, Integer width, Integer height)\r\n            throws IOException {\r\n        \r\n        URL url = new URL(design.getPreviewUrl());\r\n        BufferedImage bufferedImage = ImageIO.read(url);\r\n        \r\n        // If I comment this line, everything works quite fine:\r\n        BufferedImage resized = Scalr.resize(bufferedImage, width, height);\r\n        \r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        OutputStream b64 = new Base64.OutputStream(os);\r\n        ImageIO.write(bufferedImage, &quot;png&quot;, b64);\r\n        return os.toString(&quot;UTF-8&quot;);\r\n    }\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nEDIT:\r\nUsing https://www.nayuki.io/page/png-file-chunk-inspector to inspect the PNG chunks.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ptTfE.png","title":"Java Scalr resize image corrupted file","body":"<p>I'm trying to resize PNG images, convert them to data URL and then download them in frontend.\nThe whole process works just fine but when I try to open the file (for example) in Photoshop I get &quot;unexpected End of file (EOF)&quot;.\nThis only happens when I resize the image using Scalr. When I convert to data URL without any resizing I don't have any problems.</p>\n<pre><code>public String designToDataURL(Design design, Integer width, Integer height)\n        throws IOException {\n    \n    URL url = new URL(design.getPreviewUrl());\n    BufferedImage bufferedImage = ImageIO.read(url);\n    \n    // If I comment this line, everything works quite fine:\n    BufferedImage resized = Scalr.resize(bufferedImage, width, height);\n    \n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n    OutputStream b64 = new Base64.OutputStream(os);\n    ImageIO.write(bufferedImage, &quot;png&quot;, b64);\n    return os.toString(&quot;UTF-8&quot;);\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>EDIT:\nUsing <a href=\"https://www.nayuki.io/page/png-file-chunk-inspector\" rel=\"nofollow noreferrer\">https://www.nayuki.io/page/png-file-chunk-inspector</a> to inspect the PNG chunks.\n<a href=\"https://i.stack.imgur.com/ptTfE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptTfE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1654284728,"post_id":72493856,"comment_id":128062823,"body_markdown":"Similar question: [Loading new fxml in the same scene](https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene)","body":"Similar question: <a href=\"https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene\">Loading new fxml in the same scene</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654283872,"creation_date":1654282745,"answer_id":72494071,"question_id":72493856,"body_markdown":"Just [pass an appropriate object](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml) to the `LoginController` telling it what to do when the button is pressed:\r\n\r\n    public class MainController {\r\n    \r\n        @FXML\r\n        public BorderPane borderpane;\r\n        @FXML\r\n        private Button exitButton;\r\n    \r\n        @FXML\r\n        private void btnExit() {\r\n            Platform.exit();\r\n        }\r\n    \r\n        @FXML\r\n        private void initialize() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/ui/LoginScene.fxml&quot;));\r\n            AnchorPane view = loader.load();\r\n            LoginController loginController = loader.getController();\r\n            loginController.setOnLogin(() -&gt; loadManagerView());\r\n            borderpane.setCenter(view);\r\n        }\r\n\r\n        private void loadManagerView() {\r\n            try {\r\n                Parent managerView = FXMLLoader.load(getClass().getResource(&quot;/ui/ManagerScene.fxml&quot;));\r\n                borderpane.setCenter(managerView);\r\n            } catch (Exception exc) {\r\n                exc.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    \r\n    public class LoginController {\r\n        @FXML\r\n        private Button loginButton;\r\n    \r\n        private Runnable onLogin ;\r\n    \r\n        @FXML\r\n        void btnLogin(ActionEvent event) {\r\n            onLogin.run();\r\n        }\r\n    \r\n        public void setOnLogin(Runnable onLogin) {\r\n            this.onLogin = onLogin ;\r\n        }\r\n    }\r\n\r\nThere are many other options; e.g. using a view model which keeps track of the &quot;current view&quot; as a JavaFX Property, observing that from the `MainController` and updating it from the `LoginController`. See, among quite a few examples, [this question](https://stackoverflow.com/questions/42937083/javafx-change-window-without-new-controller-constructor).\r\n","title":"How to load a new scene in border pane center through button in the scene that is currently loaded in the center?","body":"<p>Just <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">pass an appropriate object</a> to the <code>LoginController</code> telling it what to do when the button is pressed:</p>\n<pre><code>public class MainController {\n\n    @FXML\n    public BorderPane borderpane;\n    @FXML\n    private Button exitButton;\n\n    @FXML\n    private void btnExit() {\n        Platform.exit();\n    }\n\n    @FXML\n    private void initialize() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/ui/LoginScene.fxml&quot;));\n        AnchorPane view = loader.load();\n        LoginController loginController = loader.getController();\n        loginController.setOnLogin(() -&gt; loadManagerView());\n        borderpane.setCenter(view);\n    }\n\n    private void loadManagerView() {\n        try {\n            Parent managerView = FXMLLoader.load(getClass().getResource(&quot;/ui/ManagerScene.fxml&quot;));\n            borderpane.setCenter(managerView);\n        } catch (Exception exc) {\n            exc.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\n\npublic class LoginController {\n    @FXML\n    private Button loginButton;\n\n    private Runnable onLogin ;\n\n    @FXML\n    void btnLogin(ActionEvent event) {\n        onLogin.run();\n    }\n\n    public void setOnLogin(Runnable onLogin) {\n        this.onLogin = onLogin ;\n    }\n}\n</code></pre>\n<p>There are many other options; e.g. using a view model which keeps track of the &quot;current view&quot; as a JavaFX Property, observing that from the <code>MainController</code> and updating it from the <code>LoginController</code>. See, among quite a few examples, <a href=\"https://stackoverflow.com/questions/42937083/javafx-change-window-without-new-controller-constructor\">this question</a>.</p>\n"}],"owner":{"account_id":25467366,"reputation":5,"user_id":19266174,"display_name":"Trizakz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72494071,"answer_count":1,"score":-1,"last_activity_date":1654283872,"creation_date":1654281431,"question_id":72493856,"body_markdown":"I&#39;m new to JavaFx and I&#39;ve been trying to get this working for the last 2 days:\r\n\r\nI have a scene (MainScene.fxml) that only consists of a border pane. In the border pane head I have an anchor pane that should always stay the same. And in the border pane center, I&#39;ve already managed to load another scene (LoginScene.fxml) with my &quot;MainController.java&quot; when initializing.\r\n\r\nNow the following problem: My LoginScene has a button with which I want to change the scene in my Border Pane center again. So far I haven&#39;t found a solution how I can load the scene in my &quot;MainController.java&quot; from my &quot;LoginController.java&quot; with a button ActionEvent. Is that even possible or is there a better solution?\r\n\r\n**MainController.java**\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.BorderPane;\r\n\r\npublic class MainController {\r\n\r\n    @FXML\r\n    public BorderPane borderpane;\r\n    @FXML\r\n    private Button exitButton;\r\n\r\n    @FXML\r\n    private void btnExit() {\r\n        Platform.exit();\r\n    }\r\n\r\n    @FXML\r\n    private void initialize() throws IOException {\r\n        AnchorPane view = FXMLLoader.load(getClass().getResource(&quot;/ui/LoginScene.fxml&quot;));\r\n        borderpane.setCenter(view);\r\n    }\r\n}\r\n```\r\n\r\n**LoginController.java**\r\n```\r\npackage application;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\n\r\npublic class LoginController {\r\n    @FXML\r\n    private Button loginButton;\r\n\r\n    @FXML\r\n    void btnLogin(ActionEvent event) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n**MainScene.fxml**\r\n[MainScene][1]\r\n\r\n**LoginScene.fxml**\r\n[LoginScene][2]\r\n\r\n**ManagerScene.fxml** \r\n[ManagerScene][3] \r\nshould replace the login scene inside my Border Pane center when the login button is pressed.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYpNr.jpg\r\n  [2]: https://i.stack.imgur.com/JWCxJ.jpg\r\n  [3]: https://i.stack.imgur.com/BpGQ1.jpg","title":"How to load a new scene in border pane center through button in the scene that is currently loaded in the center?","body":"<p>I'm new to JavaFx and I've been trying to get this working for the last 2 days:</p>\n<p>I have a scene (MainScene.fxml) that only consists of a border pane. In the border pane head I have an anchor pane that should always stay the same. And in the border pane center, I've already managed to load another scene (LoginScene.fxml) with my &quot;MainController.java&quot; when initializing.</p>\n<p>Now the following problem: My LoginScene has a button with which I want to change the scene in my Border Pane center again. So far I haven't found a solution how I can load the scene in my &quot;MainController.java&quot; from my &quot;LoginController.java&quot; with a button ActionEvent. Is that even possible or is there a better solution?</p>\n<p><strong>MainController.java</strong></p>\n<pre><code>package application;\n\nimport java.io.IOException;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.BorderPane;\n\npublic class MainController {\n\n    @FXML\n    public BorderPane borderpane;\n    @FXML\n    private Button exitButton;\n\n    @FXML\n    private void btnExit() {\n        Platform.exit();\n    }\n\n    @FXML\n    private void initialize() throws IOException {\n        AnchorPane view = FXMLLoader.load(getClass().getResource(&quot;/ui/LoginScene.fxml&quot;));\n        borderpane.setCenter(view);\n    }\n}\n</code></pre>\n<p><strong>LoginController.java</strong></p>\n<pre><code>package application;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\n\npublic class LoginController {\n    @FXML\n    private Button loginButton;\n\n    @FXML\n    void btnLogin(ActionEvent event) {\n\n    }\n}\n</code></pre>\n<p><strong>MainScene.fxml</strong>\n<a href=\"https://i.stack.imgur.com/tYpNr.jpg\" rel=\"nofollow noreferrer\">MainScene</a></p>\n<p><strong>LoginScene.fxml</strong>\n<a href=\"https://i.stack.imgur.com/JWCxJ.jpg\" rel=\"nofollow noreferrer\">LoginScene</a></p>\n<p><strong>ManagerScene.fxml</strong>\n<a href=\"https://i.stack.imgur.com/BpGQ1.jpg\" rel=\"nofollow noreferrer\">ManagerScene</a>\nshould replace the login scene inside my Border Pane center when the login button is pressed.</p>\n"},{"tags":["java","hibernate","inheritance","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":2448837,"reputation":341,"user_id":2135580,"display_name":"Meenakshi Shri"},"score":0,"creation_date":1582547846,"post_id":8494367,"comment_id":106803343,"body_markdown":"how did you solved the issue?","body":"how did you solved the issue?"}],"answers":[{"tags":[],"owner":{"account_id":326971,"reputation":9867,"user_id":649048,"display_name":"millhouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323826076,"creation_date":1323826076,"answer_id":8498541,"question_id":8494367,"body_markdown":"Did you try `hibernateTemplate.find(&quot;from Mammal&quot;)` ?\r\n\r\nYour `find` query needs to be in terms of &lt;b&gt;JPA entities&lt;/b&gt; not table names. \r\n\r\nBTW tables are typically named in the singular - it generally makes complex queries read a bit better - e.g. `WHERE chicken.id = egg.id`\r\n","title":"mixing joined and single table inheritance and querying for all objects","body":"<p>Did you try <code>hibernateTemplate.find(\"from Mammal\")</code> ?</p>\n\n<p>Your <code>find</code> query needs to be in terms of <b>JPA entities</b> not table names. </p>\n\n<p>BTW tables are typically named in the singular - it generally makes complex queries read a bit better - e.g. <code>WHERE chicken.id = egg.id</code></p>\n"}],"owner":{"account_id":1104713,"reputation":516,"user_id":1096370,"display_name":"Boris Lopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654283752,"creation_date":1323801481,"question_id":8494367,"body_markdown":"I have a webapp that is working with the following configuration (I changed the entity names):\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @Table(name = &quot;animals&quot;)\r\n    public abstract class Animal { ...\r\n\r\n    @MappedSuperclass\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;type&quot;)\r\n    public abstract class Mammal extends Animal { ...\r\n\r\n    @Entity\r\n    @Table(name = &quot;mammals&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;mammal_id&quot;)\r\n    @DiscriminatorValue(value = &quot;dog&quot;)\r\n    public class Dog extends Mammal { ...\r\n\r\n    @Entity\r\n    @Table(name = &quot;mammals&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;mammal_id&quot;)\r\n    @DiscriminatorValue(value = &quot;cat&quot;)\r\n    public class Cat extends Mammal { ...\r\n\r\nSo I have 2 tables: animals and mammals.\r\nThis configuration is working, unless I don&#39;t completely understand how.\r\nThe inheritance type is changed from JOINED to SINGLE_TABLE in Mammal, so  cats and dogs are stored in mammals table joined with animals table by mammal_id column.\r\n\r\nThe problem is that is not possible to retrieve a mammal (cat or dog) in a polymorphic way:\r\n\r\n    Mammal mammal = (Mammal) hibernateTemplate.get(Mammal.class, id);\r\n\r\nor a list of mammals (dogs and cats) with a single Hibernate query:\r\n\r\n    List&lt;Mammal&gt; list = (List&lt;Mammal&gt;) hibernateTemplate.find(&quot;from Mammal&quot;);\r\n\r\nI get: &quot;Unknown entity: Mammal&quot;, because Mammal is not an entity, it is just a mapped super class.\r\n\r\nI tried several changes in configuration for example the one below. This seems to make sense, but in that case I got &quot;Could not load entity: Mammal&quot; because it looks for tables cats and dogs (which doesn&#39;t exist).\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @Table(name = &quot;animals&quot;)\r\n    public abstract class Animal { ...\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @Table(name = &quot;mammals&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;mammal_id&quot;)\r\n    @DiscriminatorColumn(name = &quot;type&quot;)\r\n    public abstract class Mammal extends Animal { ...\r\n\r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;dog&quot;)\r\n    public class Dog extends Mammal { ...\r\n\r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;cat&quot;)\r\n    public class Cat extends Mammal { ...\r\n\r\nSo, to summarize: I want to keep the webapp working the same way (2 tables: animals and mammals) but at the same time be able to do a polymorphic query: retrieve a list of mammals (cats and dogs) with one query.\r\n\r\nI hope I was clear enough and thanks in advance for any help.\r\n\r\n\r\nANOTHER TRY:\r\n\r\n&quot;Foreign key circularity dependency involving the following tables: &quot;\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @Table(name = &quot;animals&quot;)\r\n    public abstract class Animal { ...\r\n\r\n    @Entity\r\n    @Table(name = &quot;mammals&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;mammal_id&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name = &quot;type&quot;)\r\n    public abstract class Mammal extends Animal { ...\r\n\r\n    @Entity\r\n    @Table(name = &quot;mammals&quot;)\r\n    @DiscriminatorValue(value = &quot;dog&quot;)\r\n    public class Dog extends Mammal { ...\r\n\r\n    @Entity\r\n    @Table(name = &quot;mammals&quot;)\r\n    @DiscriminatorValue(value = &quot;cat&quot;)\r\n    public class Cat extends Mammal { ...\r\n\r\n","title":"mixing joined and single table inheritance and querying for all objects","body":"<p>I have a webapp that is working with the following configuration (I changed the entity names):</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = \"animals\")\npublic abstract class Animal { ...\n\n@MappedSuperclass\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"type\")\npublic abstract class Mammal extends Animal { ...\n\n@Entity\n@Table(name = \"mammals\")\n@PrimaryKeyJoinColumn(name = \"mammal_id\")\n@DiscriminatorValue(value = \"dog\")\npublic class Dog extends Mammal { ...\n\n@Entity\n@Table(name = \"mammals\")\n@PrimaryKeyJoinColumn(name = \"mammal_id\")\n@DiscriminatorValue(value = \"cat\")\npublic class Cat extends Mammal { ...\n</code></pre>\n\n<p>So I have 2 tables: animals and mammals.\nThis configuration is working, unless I don't completely understand how.\nThe inheritance type is changed from JOINED to SINGLE_TABLE in Mammal, so  cats and dogs are stored in mammals table joined with animals table by mammal_id column.</p>\n\n<p>The problem is that is not possible to retrieve a mammal (cat or dog) in a polymorphic way:</p>\n\n<pre><code>Mammal mammal = (Mammal) hibernateTemplate.get(Mammal.class, id);\n</code></pre>\n\n<p>or a list of mammals (dogs and cats) with a single Hibernate query:</p>\n\n<pre><code>List&lt;Mammal&gt; list = (List&lt;Mammal&gt;) hibernateTemplate.find(\"from Mammal\");\n</code></pre>\n\n<p>I get: \"Unknown entity: Mammal\", because Mammal is not an entity, it is just a mapped super class.</p>\n\n<p>I tried several changes in configuration for example the one below. This seems to make sense, but in that case I got \"Could not load entity: Mammal\" because it looks for tables cats and dogs (which doesn't exist).</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = \"animals\")\npublic abstract class Animal { ...\n\n@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@Table(name = \"mammals\")\n@PrimaryKeyJoinColumn(name = \"mammal_id\")\n@DiscriminatorColumn(name = \"type\")\npublic abstract class Mammal extends Animal { ...\n\n@Entity\n@DiscriminatorValue(value = \"dog\")\npublic class Dog extends Mammal { ...\n\n@Entity\n@DiscriminatorValue(value = \"cat\")\npublic class Cat extends Mammal { ...\n</code></pre>\n\n<p>So, to summarize: I want to keep the webapp working the same way (2 tables: animals and mammals) but at the same time be able to do a polymorphic query: retrieve a list of mammals (cats and dogs) with one query.</p>\n\n<p>I hope I was clear enough and thanks in advance for any help.</p>\n\n<p>ANOTHER TRY:</p>\n\n<p>\"Foreign key circularity dependency involving the following tables: \"</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = \"animals\")\npublic abstract class Animal { ...\n\n@Entity\n@Table(name = \"mammals\")\n@PrimaryKeyJoinColumn(name = \"mammal_id\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"type\")\npublic abstract class Mammal extends Animal { ...\n\n@Entity\n@Table(name = \"mammals\")\n@DiscriminatorValue(value = \"dog\")\npublic class Dog extends Mammal { ...\n\n@Entity\n@Table(name = \"mammals\")\n@DiscriminatorValue(value = \"cat\")\npublic class Cat extends Mammal { ...\n</code></pre>\n"},{"tags":["java","spring","hibernate","lombok"],"owner":{"account_id":18773357,"reputation":11,"user_id":13689708,"display_name":"snnhbyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654283382,"creation_date":1654283382,"question_id":72494176,"body_markdown":"I&#39;m trying to make a ToDo app and I&#39;m getting this error. I checked for the solutions but it didn&#39;t work. Are there any solutions? I&#39;m using Lombok also. \r\n\r\nI looked at the solutions here and on other sites and tried but couldn&#39;t. Before that, there was an entityManagerFactory issue. I solved it using some dependencies but couldn&#39;t find what to do here\r\n\r\n&#39;&#39;&#39;\r\n\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is \r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n &#39;&#39;&#39;\r\n\r\nMy POM File\r\n\r\n&#39;&#39;&#39;\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt;\r\n            &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;minitodomanagement&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;minitodomanagement&lt;/name&gt;\r\n        &lt;description&gt;minitodomanagement&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4.Final &lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.0-M1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.18.24&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n&#39;&#39;&#39;\r\n\r\nI&#39;m using controller, model, repository, security and service classes. \r\n\r\nHere my model class\r\n\r\n    package com.example.minitodomanagement.model;\r\n    \r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.experimental.FieldDefaults;\r\n    import org.springframework.data.annotation.AccessType;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;todos&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class Todo {\r\n        @Id\r\n        @GeneratedValue\r\n        Long id;\r\n    \r\n        String username;\r\n        String description;\r\n        Date targetDate;\r\n    \r\n        public Todo(String user, String desc, Date targetDate, boolean isDone) {\r\n            super();\r\n            this.username = user;\r\n            this.description = desc;\r\n            this.targetDate = targetDate;\r\n        }\r\n    }\r\n\r\n","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource","body":"<p>I'm trying to make a ToDo app and I'm getting this error. I checked for the solutions but it didn't work. Are there any solutions? I'm using Lombok also.</p>\n<p>I looked at the solutions here and on other sites and tried but couldn't. Before that, there was an entityManagerFactory issue. I solved it using some dependencies but couldn't find what to do here</p>\n<p>'''</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is \n\n\nProcess finished with exit code 0\n</code></pre>\n<p>'''</p>\n<p>My POM File</p>\n<p>'''</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;minitodomanagement&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;minitodomanagement&lt;/name&gt;\n    &lt;description&gt;minitodomanagement&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final &lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0-M1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.24&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>'''</p>\n<p>I'm using controller, model, repository, security and service classes.</p>\n<p>Here my model class</p>\n<pre><code>package com.example.minitodomanagement.model;\n\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.FieldDefaults;\nimport org.springframework.data.annotation.AccessType;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;todos&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Todo {\n    @Id\n    @GeneratedValue\n    Long id;\n\n    String username;\n    String description;\n    Date targetDate;\n\n    public Todo(String user, String desc, Date targetDate, boolean isDone) {\n        super();\n        this.username = user;\n        this.description = desc;\n        this.targetDate = targetDate;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-boot","maven"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1624933863,"post_id":68171743,"comment_id":120486249,"body_markdown":"Do you have application-dev.properties file too in your project? If not add that and should work fine.","body":"Do you have application-dev.properties file too in your project? If not add that and should work fine."},{"owner":{"account_id":18186753,"reputation":61,"user_id":13236995,"display_name":"charlesw"},"score":0,"creation_date":1624934026,"post_id":68171743,"comment_id":120486277,"body_markdown":"@AjayKumar yes I do have it in the project. Under src/main/resources.","body":"@AjayKumar yes I do have it in the project. Under src/main/resources."},{"owner":{"account_id":72512,"reputation":1061,"user_id":209334,"accept_rate":86,"display_name":"Andreas Mattisson"},"score":0,"creation_date":1634291259,"post_id":68171743,"comment_id":122990391,"body_markdown":"Using profile in Eclipse when starting was working, but a bug in eclipse forced me to restart eclipse to discover the profile. Don&#39;t know why Eclipse/Springboot just stopped finding it.","body":"Using profile in Eclipse when starting was working, but a bug in eclipse forced me to restart eclipse to discover the profile. Don&#39;t know why Eclipse/Springboot just stopped finding it."},{"owner":{"account_id":18186753,"reputation":61,"user_id":13236995,"display_name":"charlesw"},"score":0,"creation_date":1634432128,"post_id":68171743,"comment_id":123022664,"body_markdown":"@Andreas Mattisson Same here. Turned to IntelliJ after all these hassles. Problem gone now:)","body":"@Andreas Mattisson Same here. Turned to IntelliJ after all these hassles. Problem gone now:)"}],"answers":[{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625045722,"creation_date":1625045722,"answer_id":68192196,"question_id":68171743,"body_markdown":"Each enterprise application has many environments, like: `dev`, `stage`, `prod`.\r\n\r\nEvery environment requires a setting that is specific to them. For example, the database settings for **dev env** are not the same for **prod env**.\r\n\r\nTo create multiple environments in spring we should create a properties file for each one.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n***NB:** No matter what type of file you use .properties or .yml, it will work*\r\n\r\nThe `application.yml` will remain as a master properties file, but if we override any key in the profile-specific file, the latter will gain precedence.\r\n\r\nIn the normal Spring way, you can use a `spring.profiles.active` property to specify which profiles are active. You can specify the property in any of the usual ways, for example you could include it in your application.yml:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou should specify the profiles to enable on the command line, if you you need to use multiple profiles make sure to separate them with a comma :\r\n\r\n    $ mvn spring-boot:run -Dspring-boot.run.profiles=dev\r\n\r\n  [1]: https://i.stack.imgur.com/736k8.png\r\n  [2]: https://i.stack.imgur.com/fNhFq.png","title":"Eclipse: no active profile set, falling back to default profiles: default","body":"<p>Each enterprise application has many environments, like: <code>dev</code>, <code>stage</code>, <code>prod</code>.</p>\n<p>Every environment requires a setting that is specific to them. For example, the database settings for <strong>dev env</strong> are not the same for <strong>prod env</strong>.</p>\n<p>To create multiple environments in spring we should create a properties file for each one.</p>\n<p><a href=\"https://i.stack.imgur.com/736k8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/736k8.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>NB:</strong> No matter what type of file you use .properties or .yml, it will work</em></p>\n<p>The <code>application.yml</code> will remain as a master properties file, but if we override any key in the profile-specific file, the latter will gain precedence.</p>\n<p>In the normal Spring way, you can use a <code>spring.profiles.active</code> property to specify which profiles are active. You can specify the property in any of the usual ways, for example you could include it in your application.yml:</p>\n<p><a href=\"https://i.stack.imgur.com/fNhFq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fNhFq.png\" alt=\"enter image description here\" /></a></p>\n<p>You should specify the profiles to enable on the command line, if you you need to use multiple profiles make sure to separate them with a comma :</p>\n<pre><code>$ mvn spring-boot:run -Dspring-boot.run.profiles=dev\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13071916,"reputation":467,"user_id":9445226,"display_name":"Atiksha"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1654282396,"creation_date":1654282396,"answer_id":72494022,"question_id":68171743,"body_markdown":"I was getting the same Problem. \r\n\r\nAfter adding the below dependency in the pom.xml file, the application starts running.\r\n\r\n    \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Eclipse: no active profile set, falling back to default profiles: default","body":"<p>I was getting the same Problem.</p>\n<p>After adding the below dependency in the pom.xml file, the application starts running.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18186753,"reputation":61,"user_id":13236995,"display_name":"charlesw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41748,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1654282396,"creation_date":1624932193,"question_id":68171743,"body_markdown":"In `application.properties`, I specified\r\n\r\n    spring.profiles.active=dev\r\n\r\nwhich should have picked `application-dev.properties` as the profile to activate.\r\n\r\nHowever, when I Run As Java Application in Eclipse, I got the following message.\r\n\r\n    No active profile set, falling back to default profiles: default.\r\n\r\nMy best guess is this has something to do with Eclipse. Any comments?\r\n\r\nEdit: I have tried Maven Update Project, followed by `mvn clean install -U`, also tried restarting Eclipse and cleaning the project. None of these worked...","title":"Eclipse: no active profile set, falling back to default profiles: default","body":"<p>In <code>application.properties</code>, I specified</p>\n<pre><code>spring.profiles.active=dev\n</code></pre>\n<p>which should have picked <code>application-dev.properties</code> as the profile to activate.</p>\n<p>However, when I Run As Java Application in Eclipse, I got the following message.</p>\n<pre><code>No active profile set, falling back to default profiles: default.\n</code></pre>\n<p>My best guess is this has something to do with Eclipse. Any comments?</p>\n<p>Edit: I have tried Maven Update Project, followed by <code>mvn clean install -U</code>, also tried restarting Eclipse and cleaning the project. None of these worked...</p>\n"},{"tags":["java","javafx","javafx-2","fxml","scene"],"comments":[{"owner":{"account_id":12118689,"reputation":196,"user_id":8851293,"display_name":"Oshan Mendis"},"score":0,"creation_date":1524048717,"post_id":27453113,"comment_id":86810981,"body_markdown":"checkout this library it does everything you want to do to a stage : https://github.com/Oshan96/CustomStage","body":"checkout this library it does everything you want to do to a stage : <a href=\"https://github.com/Oshan96/CustomStage\" rel=\"nofollow noreferrer\">github.com/Oshan96/CustomStage</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418424825,"creation_date":1418424825,"answer_id":27453381,"question_id":27453113,"body_markdown":"Just call `getWidth()` and `getHeight()` on the current `Scene`. If you don&#39;t have a reference to the current scene, you can get one with `stage.getScene()`.","title":"JavaFx keep window size after user resizes","body":"<p>Just call <code>getWidth()</code> and <code>getHeight()</code> on the current <code>Scene</code>. If you don't have a reference to the current scene, you can get one with <code>stage.getScene()</code>.</p>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654281679,"creation_date":1611846320,"answer_id":65939806,"question_id":27453113,"body_markdown":"I created this class:\r\n\r\n    public class AppSize {\r\n\r\n\t    private static final String HEIGHT = &quot;Height&quot;;\r\n\t    private static final String WIDTH = &quot;Width&quot;;\r\n\t    private static final String Y = &quot;Y&quot;;\r\n\t    private static final String X = &quot;X&quot;;\r\n\r\n\t    private final static Preferences prefs =  Preferences.userNodeForPackage(AppSize.class);\r\n\r\n\t    public static void setSize(Stage stage) {\r\n\r\n\t\tOptional.ofNullable(prefs.getDouble(X, -1)).filter(x-&gt;x&gt;=0).ifPresent(stage::setX);\r\n\t\tOptional.ofNullable(prefs.getDouble(Y, -1)).filter(y-&gt;y&gt;=0).ifPresent(stage::setY);\r\n\t\tOptional.ofNullable(prefs.getDouble(WIDTH, -1)).filter(width-&gt;width&gt;=0).ifPresent(stage::setWidth);\r\n\t\tOptional.ofNullable(prefs.getDouble(HEIGHT, -1)).filter(height-&gt;height&gt;=0).ifPresent(stage::setHeight);\r\n\r\n\t\tstage.setOnCloseRequest(\r\n\t\t\t\te-&gt;{\r\n\r\n\t\t\t\t\tif(stage.isFullScreen()) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tprefs.putDouble(X, stage.getX());\r\n\t\t\t\t\tprefs.putDouble(Y, stage.getY());\r\n\t\t\t\t\tprefs.putDouble(WIDTH, stage.getWidth());\r\n\t\t\t\t\tprefs.putDouble(HEIGHT, stage.getHeight());\r\n\t\t\t\t});\r\n\t    }\r\n    }\r\n\r\nits use:\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n     \r\n            var label = new Label(&quot;AppSize test.&quot;);\r\n            var scene = new Scene(new StackPane(label), 640, 480);\r\n            stage.setScene(scene);\r\n            AppSize.setSize(stage);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"JavaFx keep window size after user resizes","body":"<p>I created this class:</p>\n<pre><code>public class AppSize {\n\n    private static final String HEIGHT = &quot;Height&quot;;\n    private static final String WIDTH = &quot;Width&quot;;\n    private static final String Y = &quot;Y&quot;;\n    private static final String X = &quot;X&quot;;\n\n    private final static Preferences prefs =  Preferences.userNodeForPackage(AppSize.class);\n\n    public static void setSize(Stage stage) {\n\n    Optional.ofNullable(prefs.getDouble(X, -1)).filter(x-&gt;x&gt;=0).ifPresent(stage::setX);\n    Optional.ofNullable(prefs.getDouble(Y, -1)).filter(y-&gt;y&gt;=0).ifPresent(stage::setY);\n    Optional.ofNullable(prefs.getDouble(WIDTH, -1)).filter(width-&gt;width&gt;=0).ifPresent(stage::setWidth);\n    Optional.ofNullable(prefs.getDouble(HEIGHT, -1)).filter(height-&gt;height&gt;=0).ifPresent(stage::setHeight);\n\n    stage.setOnCloseRequest(\n            e-&gt;{\n\n                if(stage.isFullScreen()) {\n                    return;\n                }\n\n                prefs.putDouble(X, stage.getX());\n                prefs.putDouble(Y, stage.getY());\n                prefs.putDouble(WIDTH, stage.getWidth());\n                prefs.putDouble(HEIGHT, stage.getHeight());\n            });\n    }\n}\n</code></pre>\n<p>its use:</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n \n        var label = new Label(&quot;AppSize test.&quot;);\n        var scene = new Scene(new StackPane(label), 640, 480);\n        stage.setScene(scene);\n        AppSize.setSize(stage);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":66967,"reputation":500,"user_id":196207,"display_name":"Sankozi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634642680,"creation_date":1634642680,"answer_id":69629917,"question_id":27453113,"body_markdown":"Setting width and height in `Stage` worked for me.\r\n\r\n    double prevWidth = stage.getWidth();\r\n    double prevHeight = stage.getHeight();\r\n    stage.setScene(scene);\r\n    stage.setHeight(prevHeight);\r\n    stage.setWidth(prevWidth);","title":"JavaFx keep window size after user resizes","body":"<p>Setting width and height in <code>Stage</code> worked for me.</p>\n<pre><code>double prevWidth = stage.getWidth();\ndouble prevHeight = stage.getHeight();\nstage.setScene(scene);\nstage.setHeight(prevHeight);\nstage.setWidth(prevWidth);\n</code></pre>\n"}],"owner":{"account_id":3644938,"reputation":847,"user_id":3038183,"accept_rate":78,"display_name":"Tim Joseph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2095,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654281679,"creation_date":1418423362,"question_id":27453113,"body_markdown":"I currently use the following code to switch between scenes. I want to switch between windows and KEEP the window size (so when the users change the windows size manually by resizing the window, it will stay at the chosen size even after scene change).\r\n\r\n```\r\nScene scene = new Scene(pane); // new Scene(pane, userChosenWidth??, userChosenHeight??);\r\nstage.setScene(scene);\r\nstage.sizeToScene();\r\n```\r\n\r\nDoes anyone know how to accomplish this?","title":"JavaFx keep window size after user resizes","body":"<p>I currently use the following code to switch between scenes. I want to switch between windows and KEEP the window size (so when the users change the windows size manually by resizing the window, it will stay at the chosen size even after scene change).</p>\n\n<p><code>\nScene scene = new Scene(pane); // new Scene(pane, userChosenWidth??, userChosenHeight??);\nstage.setScene(scene);\nstage.sizeToScene();\n</code></p>\n\n<p>Does anyone know how to accomplish this?</p>\n"},{"tags":["java","excel","apache","apache-poi"],"comments":[{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1415616384,"post_id":26841819,"comment_id":42247686,"body_markdown":"what do you mean u want to hide them? just don&#39;t add them to the excel 0-0","body":"what do you mean u want to hide them? just don&#39;t add them to the excel 0-0"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1415617342,"post_id":26841819,"comment_id":42248183,"body_markdown":"There is nothing hidden or disabled in your attached picture. This is simply the View &quot;Page Break Preview&quot; and a Print Area B1:I??? is defined.","body":"There is nothing hidden or disabled in your attached picture. This is simply the View &quot;Page Break Preview&quot; and a Print Area B1:I??? is defined."},{"owner":{"account_id":2130065,"reputation":460,"user_id":1891088,"accept_rate":50,"display_name":"Saquibul Islam Waheed"},"score":0,"creation_date":1415617689,"post_id":26841819,"comment_id":42248347,"body_markdown":"@nafas, I&#39;ve attached an image with my post. I want to create my excel file just like that. Hide or disable or change color of unused cells to gray, what ever you wish to call it. :)","body":"@nafas, I&#39;ve attached an image with my post. I want to create my excel file just like that. Hide or disable or change color of unused cells to gray, what ever you wish to call it. :)"},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1415618849,"post_id":26841819,"comment_id":42248942,"body_markdown":"@SaquibulIslamWaheed well the attached image is not an excel file to begin with. beside I still not sure what you mean the unused cells","body":"@SaquibulIslamWaheed well the attached image is not an excel file to begin with. beside I still not sure what you mean the unused cells"}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654281440,"creation_date":1654281440,"answer_id":72493858,"question_id":26841819,"body_markdown":"In case this helps someone, you can set `row.setZeroHeight(true)` to hide a row. So if you loop through all the rows you want to hide using their indices and set their heights to zero, you&#39;ll be able to hide all of them","title":"How to disable/hide excel rows using Apache POI + Java","body":"<p>In case this helps someone, you can set <code>row.setZeroHeight(true)</code> to hide a row. So if you loop through all the rows you want to hide using their indices and set their heights to zero, you'll be able to hide all of them</p>\n"}],"owner":{"account_id":2130065,"reputation":460,"user_id":1891088,"accept_rate":50,"display_name":"Saquibul Islam Waheed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654281440,"creation_date":1415616029,"question_id":26841819,"body_markdown":"I am creating an excel file using apache poi. Here is my code snippet:\r\n\r\n    Workbook workbook = new Workbook();\r\n    XSSFSheet sheet = (XSSFSheet) workbook.createSheet(); \r\n    for (Payment payment : paymentList) {    \r\n            \t XSSFRow row = sheet.createRow(rowCount++);\r\n            \t row.createCell(0).setCellValue(i);\r\n            \t row.createCell(1).setCellValue(payment.getBenificiaryName());\r\n            \t row.createCell(2).setCellValue(payment.getMobileNo());\r\n            \t row.createCell(3).setCellValue(payment.getCompanyName());\r\n            \t row.createCell(4).setCellValue(payment.getAddress());   \t\r\n    \t\t}\r\nI want to disable all the rest of the cells, columns, rows except my created cells just like the attached picture. How can I do this using Apache POI. Any help, suggestion is highly appreciated. Thanks\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zLCoR.jpg","title":"How to disable/hide excel rows using Apache POI + Java","body":"<p>I am creating an excel file using apache poi. Here is my code snippet:</p>\n\n<pre><code>Workbook workbook = new Workbook();\nXSSFSheet sheet = (XSSFSheet) workbook.createSheet(); \nfor (Payment payment : paymentList) {    \n             XSSFRow row = sheet.createRow(rowCount++);\n             row.createCell(0).setCellValue(i);\n             row.createCell(1).setCellValue(payment.getBenificiaryName());\n             row.createCell(2).setCellValue(payment.getMobileNo());\n             row.createCell(3).setCellValue(payment.getCompanyName());\n             row.createCell(4).setCellValue(payment.getAddress());      \n        }\n</code></pre>\n\n<p>I want to disable all the rest of the cells, columns, rows except my created cells just like the attached picture. How can I do this using Apache POI. Any help, suggestion is highly appreciated. Thanks</p>\n\n<p><img src=\"https://i.stack.imgur.com/zLCoR.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","swing","javafx","openjfx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1654271703,"post_id":72492037,"comment_id":128058954,"body_markdown":"I have to frame challenge this.  Why do you need Swing?  Why do you need MigLayout?  Why is [GridPane](https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/layout/GridPane.html) not sufficient?","body":"I have to frame challenge this.  Why do you need Swing?  Why do you need MigLayout?  Why is <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/layout/GridPane.html\" rel=\"nofollow noreferrer\">GridPane</a> not sufficient?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1654272745,"post_id":72492037,"comment_id":128059280,"body_markdown":"Can you [edit] your question and post the entire stack trace?","body":"Can you <a href=\"https://stackoverflow.com/posts/72492037/edit\">edit</a> your question and post the entire stack trace?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1654273426,"post_id":72492037,"comment_id":128059490,"body_markdown":"Not sure if it makes a difference (probably not) but you **must not** create and show a `JFrame` from a thread other than the AWT Event Dispatch Thread.","body":"Not sure if it makes a difference (probably not) but you <b>must not</b> create and show a <code>JFrame</code> from a thread other than the AWT Event Dispatch Thread."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1654274857,"post_id":72492037,"comment_id":128059907,"body_markdown":"I see `miglayout-javafx`, but not `miglayout-swing`. Amplifying on @James_D&#39;s aside, a program that ignores the [threading rule](https://stackoverflow.com/a/7158505/230513) &quot;may _appear_ to work correctly, only to fail mysteriously in a different environment.&quot;","body":"I see <code>miglayout-javafx</code>, but not <code>miglayout-swing</code>. Amplifying on @James_D&#39;s aside, a program that ignores the <a href=\"https://stackoverflow.com/a/7158505/230513\">threading rule</a> &quot;may <i>appear</i> to work correctly, only to fail mysteriously in a different environment.&quot;"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1654281945,"post_id":72492037,"comment_id":128062037,"body_markdown":"@VGR, you really can&#39;t compare GridPane with MigLayout. It is much more than just a grid pane and, if you are used to it, much easier to use.","body":"@VGR, you really can&#39;t compare GridPane with MigLayout. It is much more than just a grid pane and, if you are used to it, much easier to use."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654281030,"creation_date":1654281030,"answer_id":72493793,"question_id":72492037,"body_markdown":"I guess you have to use at least the same version for Swing and JavaFX otherwise conflicts are to be expected because both implementations share some code. You should also use the latest versions so I think this should be ok.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\r\n        &lt;artifactId&gt;miglayout-javafx&lt;/artifactId&gt;\r\n        &lt;version&gt;11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\r\n        &lt;artifactId&gt;miglayout-swing&lt;/artifactId&gt;\r\n        &lt;version&gt;11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Cannot use miglayout with swing and javafx at the same time","body":"<p>I guess you have to use at least the same version for Swing and JavaFX otherwise conflicts are to be expected because both implementations share some code. You should also use the latest versions so I think this should be ok.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\n    &lt;artifactId&gt;miglayout-javafx&lt;/artifactId&gt;\n    &lt;version&gt;11.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\n    &lt;artifactId&gt;miglayout-swing&lt;/artifactId&gt;\n    &lt;version&gt;11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9572330,"reputation":924,"user_id":7930987,"accept_rate":50,"display_name":"BabaNew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72493793,"answer_count":1,"score":0,"last_activity_date":1654281030,"creation_date":1654270894,"question_id":72492037,"body_markdown":"My application needs to start as a javafx application and create some swing jframe istances. I Would like to use MigLayout both for java swing container and javafx panes. The app works fine as long as i use miglayout only in javafx. As i use it for swing too, i get this error:\r\n\r\n    java.lang.AbstractMethodError: Receiver class net.miginfocom.swing.SwingComponentWrapper does not define or inherit an implementation of the resolved method abstract getContentBias()I of interface net.miginfocom.layout.ComponentWrapper.\r\n\r\nAnd this is my code:\r\n\r\n    package com.myproj.mavenproject13;\r\n    \r\n    import java.awt.Dimension;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.Stage;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n    import net.miginfocom.swing.MigLayout;\r\n    import org.tbee.javafx.scene.layout.MigPane;\r\n    \r\n    \r\n    public class HelloWorld extends Application {\r\n        private MigLayout migLayout = new MigLayout(&quot;debug, fillx&quot;, &quot;&quot;, &quot;&quot;);\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            MigPane migPane = new MigPane(&quot;debug, fillx&quot;, &quot;&quot;, &quot;&quot;);\r\n            migPane.add(getButton1(), &quot;grow, push, wrap&quot;);\r\n            migPane.add(getButton2(), &quot;grow, push&quot;);\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            primaryStage.setScene(new Scene(migPane, 300, 250));\r\n            primaryStage.show();\r\n        }\r\n        \r\n        private Button getButton1(){\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n            btn.setOnAction(new javafx.event.EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    System.out.println(&quot;asd&quot;);\r\n                }\r\n            });\r\n            return btn;\r\n        }\r\n        \r\n        private Button getButton2(){\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Create frame&quot;);\r\n            btn.setOnAction(new javafx.event.EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    JFrame f = new JFrame();\r\n                    f.setLayout(migLayout);\r\n                    JTextField jtf = new JTextField(&quot;asd&quot;);\r\n                    f.add(jtf, &quot;growx, pushx&quot;);\r\n                    f.setTitle(&quot;my frame&quot;);\r\n                    f.setPreferredSize(new Dimension(400, 400));\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n            return btn;\r\n        }\r\n    }\r\n\r\n\r\nThe main class is:\r\n\r\n    package com.proj.mavenproject13;\r\n    \r\n    import javafx.application.Application;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(HelloWorld.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nAnd this is my project&#39;s pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.proj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mavenproject13&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\r\n                &lt;artifactId&gt;miglayout-javafx&lt;/artifactId&gt;\r\n                &lt;version&gt;11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\r\n                &lt;artifactId&gt;miglayout&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Cannot use miglayout with swing and javafx at the same time","body":"<p>My application needs to start as a javafx application and create some swing jframe istances. I Would like to use MigLayout both for java swing container and javafx panes. The app works fine as long as i use miglayout only in javafx. As i use it for swing too, i get this error:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class net.miginfocom.swing.SwingComponentWrapper does not define or inherit an implementation of the resolved method abstract getContentBias()I of interface net.miginfocom.layout.ComponentWrapper.\n</code></pre>\n<p>And this is my code:</p>\n<pre><code>package com.myproj.mavenproject13;\n\nimport java.awt.Dimension;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport net.miginfocom.swing.MigLayout;\nimport org.tbee.javafx.scene.layout.MigPane;\n\n\npublic class HelloWorld extends Application {\n    private MigLayout migLayout = new MigLayout(&quot;debug, fillx&quot;, &quot;&quot;, &quot;&quot;);\n    \n    @Override\n    public void start(Stage primaryStage) {\n        MigPane migPane = new MigPane(&quot;debug, fillx&quot;, &quot;&quot;, &quot;&quot;);\n        migPane.add(getButton1(), &quot;grow, push, wrap&quot;);\n        migPane.add(getButton2(), &quot;grow, push&quot;);\n        primaryStage.setTitle(&quot;Hello World!&quot;);\n        primaryStage.setScene(new Scene(migPane, 300, 250));\n        primaryStage.show();\n    }\n    \n    private Button getButton1(){\n        Button btn = new Button();\n        btn.setText(&quot;Say 'Hello World'&quot;);\n        btn.setOnAction(new javafx.event.EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent t) {\n                System.out.println(&quot;asd&quot;);\n            }\n        });\n        return btn;\n    }\n    \n    private Button getButton2(){\n        Button btn = new Button();\n        btn.setText(&quot;Create frame&quot;);\n        btn.setOnAction(new javafx.event.EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent t) {\n                JFrame f = new JFrame();\n                f.setLayout(migLayout);\n                JTextField jtf = new JTextField(&quot;asd&quot;);\n                f.add(jtf, &quot;growx, pushx&quot;);\n                f.setTitle(&quot;my frame&quot;);\n                f.setPreferredSize(new Dimension(400, 400));\n                f.setVisible(true);\n            }\n        });\n        return btn;\n    }\n}\n</code></pre>\n<p>The main class is:</p>\n<pre><code>package com.proj.mavenproject13;\n\nimport javafx.application.Application;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Application.launch(HelloWorld.class, args);\n    }\n\n}\n</code></pre>\n<p>And this is my project's pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.proj&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenproject13&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\n            &lt;artifactId&gt;miglayout-javafx&lt;/artifactId&gt;\n            &lt;version&gt;11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.miglayout&lt;/groupId&gt;\n            &lt;artifactId&gt;miglayout&lt;/artifactId&gt;\n            &lt;version&gt;3.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654280211,"post_id":72493621,"comment_id":128061478,"body_markdown":"What about, instead of *return columnTypes[columnIndex];* `return columnIndex &gt;= 1 Boolean.class : String.class;`?","body":"What about, instead of <i>return columnTypes[columnIndex];</i> <code>return columnIndex &gt;= 1 Boolean.class : String.class;</code>?"},{"owner":{"account_id":20685293,"reputation":1,"user_id":15187857,"display_name":"fadolfo"},"score":0,"creation_date":1654281183,"post_id":72493621,"comment_id":128061825,"body_markdown":"It says syntax error","body":"It says syntax error"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1654281607,"post_id":72493621,"comment_id":128061946,"body_markdown":"Small typo in g00ses suggestion, but its definitely a good solution: `return columnIndex &gt;= 1 ? Boolean.class : String.class;` (note the `?` after the number 1)","body":"Small typo in g00ses suggestion, but its definitely a good solution: <code>return columnIndex &gt;= 1 ? Boolean.class : String.class;</code> (note the <code>?</code> after the number 1)"},{"owner":{"account_id":20685293,"reputation":1,"user_id":15187857,"display_name":"fadolfo"},"score":0,"creation_date":1654282100,"post_id":72493621,"comment_id":128062071,"body_markdown":"Thank you sirs for the help. I will also take cliff2310&#39;s advice in regarding in asking questions in this site. I am sorry for any imperfections in my question.","body":"Thank you sirs for the help. I will also take cliff2310&#39;s advice in regarding in asking questions in this site. I am sorry for any imperfections in my question."}],"owner":{"account_id":20685293,"reputation":1,"user_id":15187857,"display_name":"fadolfo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654280619,"creation_date":1654279972,"question_id":72493621,"body_markdown":"I am trying to make a program that whenever a button is clicked, it adds a column with a boolean type. I was guessing that calling the `columnTypes` variable inside the `ActionEvent` of the button that adds column would be valid but it turns out it is not. Is there a way that whenever I add a column to the table, it would automatically be set as a Boolean type?\r\n\r\n```mainTable = new JTable();\r\n\t\tscrollPane.setViewportView(mainTable);\r\n\t\tmainTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\t\tmainTable.setColumnSelectionAllowed(true);\r\n\t\tmainTable.setModel(new DefaultTableModel(\r\n\t\t\tnew Object[][] {\r\n\t\t\t\t{null, null},\r\n\t\t\t},\r\n\t\t\tnew String[] {\r\n\t\t\t\t&quot;Name&quot;, &quot;New column&quot;\r\n\t\t\t}\r\n\t\t) {\r\n\t\t\tClass[] columnTypes = new Class[] {\r\n\t\t\t\tString.class, Boolean.class\r\n\t\t\t};\r\n\t\t\tpublic Class getColumnClass(int columnIndex) {\r\n\t\t\t\treturn columnTypes[columnIndex];\r\n\t\t\t}\r\n\t\t});\r\n\t\tmainPanel.add(addStuBTN);\r\n\t\t\r\n\t\tJButton addDayBTN = new JButton(&quot;Add Day&quot;);\r\n\t\taddDayBTN.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tDefaultTableModel mdl = (DefaultTableModel)mainTable.getModel();\r\n\t\t\t\t\r\n\t\t\t\tmdl.addColumn(&quot;Day &quot;+(i+1));\r\n\t\t\t\tcolumnTypes[i] = Boolean.class;\r\n\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t});\r\n\r\n\t\taddDayBTN.setBounds(10, 387, 113, 23);\r\n\t\tmainPanel.add(addDayBTN);\r\n```\r\n\r\nI am sorry if I may have been using the wrong terminologies. I am still a beginner in Java.","title":"Adding a column with type Boolean in button click","body":"<p>I am trying to make a program that whenever a button is clicked, it adds a column with a boolean type. I was guessing that calling the <code>columnTypes</code> variable inside the <code>ActionEvent</code> of the button that adds column would be valid but it turns out it is not. Is there a way that whenever I add a column to the table, it would automatically be set as a Boolean type?</p>\n<pre><code>        scrollPane.setViewportView(mainTable);\n        mainTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        mainTable.setColumnSelectionAllowed(true);\n        mainTable.setModel(new DefaultTableModel(\n            new Object[][] {\n                {null, null},\n            },\n            new String[] {\n                &quot;Name&quot;, &quot;New column&quot;\n            }\n        ) {\n            Class[] columnTypes = new Class[] {\n                String.class, Boolean.class\n            };\n            public Class getColumnClass(int columnIndex) {\n                return columnTypes[columnIndex];\n            }\n        });\n        mainPanel.add(addStuBTN);\n        \n        JButton addDayBTN = new JButton(&quot;Add Day&quot;);\n        addDayBTN.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                DefaultTableModel mdl = (DefaultTableModel)mainTable.getModel();\n                \n                mdl.addColumn(&quot;Day &quot;+(i+1));\n                columnTypes[i] = Boolean.class;\n                i++;\n                }\n        });\n\n        addDayBTN.setBounds(10, 387, 113, 23);\n        mainPanel.add(addDayBTN);\n</code></pre>\n<p>I am sorry if I may have been using the wrong terminologies. I am still a beginner in Java.</p>\n"},{"tags":["java","selenium","junit"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1654256795,"post_id":72489132,"comment_id":128053535,"body_markdown":"Does this answer your question? [Wait for page load in Selenium](https://stackoverflow.com/questions/5868439/wait-for-page-load-in-selenium)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5868439/wait-for-page-load-in-selenium\">Wait for page load in Selenium</a>"},{"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"score":0,"creation_date":1654257090,"post_id":72489132,"comment_id":128053650,"body_markdown":"No, since I&#39;m aleady trying to use waits, but it doesnt solve my problem.","body":"No, since I&#39;m aleady trying to use waits, but it doesnt solve my problem."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654271285,"post_id":72489132,"comment_id":128058806,"body_markdown":"As an aside, you&#39;re confusing the meaning of _actual_ and _expected_. _Expected_ is what *you* think the value should be, and _actual_ is the actual value produced by the code.","body":"As an aside, you&#39;re confusing the meaning of <i>actual</i> and <i>expected</i>. <i>Expected</i> is what <i>you</i> think the value should be, and <i>actual</i> is the actual value produced by the code."}],"answers":[{"tags":[],"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654280504,"creation_date":1654277830,"answer_id":72493247,"question_id":72489132,"body_markdown":"Implicit wait is not a sleep.  It&#39;s a polling loop that triggers when finding an element and ignores element not found.  It&#39;ll throw a timeout if the timeout period is met.  Since Selenium will not wait automatically for a redirect, you need a standard sleep, or use a driver find element method that attempts to find an element that appears once logged in (this would be quicker than a standard sleep.) The reason you need this is because the browser needs time to save login state, usually via cookies, and then to perform the redirect.  Your current code does not wait at all.  \r\n\r\n(I also recommend ditching the implicit wait and using explicit waits throughout your code.)","title":"How to make selenium wait till page is loaded after registration?","body":"<p>Implicit wait is not a sleep.  It's a polling loop that triggers when finding an element and ignores element not found.  It'll throw a timeout if the timeout period is met.  Since Selenium will not wait automatically for a redirect, you need a standard sleep, or use a driver find element method that attempts to find an element that appears once logged in (this would be quicker than a standard sleep.) The reason you need this is because the browser needs time to save login state, usually via cookies, and then to perform the redirect.  Your current code does not wait at all.</p>\n<p>(I also recommend ditching the implicit wait and using explicit waits throughout your code.)</p>\n"}],"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1654280504,"creation_date":1654256710,"question_id":72489132,"body_markdown":"I&#39;m making an UI test, where I should check out, if the registration was successful. My code gets executed, and it does make the registration successfully, however when I want to assert that the URL gets redirected to the `&quot;http://localhost:8080/sportsbetting-web/home&quot;;`\r\n\r\nMy code fails, stating that:\r\n\r\n    org.junit.ComparisonFailure: \r\n    Expected :http://localhost:8080/sportsbetting-web/register\r\n    Actual   :http://localhost:8080/sportsbetting-web/home\r\n\r\nMy assertion looks like this:\r\n\r\n    button.click(); //registration button is clicked\r\n    driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS); //wait so it has time to redirect\r\n    String actualUrl = &quot;http://localhost:8080/sportsbetting-web/home&quot;;\r\n    String expectedUrl = driver.getCurrentUrl();\r\n    Assert.assertEquals(actualUrl,expectedUrl);\r\n\r\nI tried switching the expectedUrl and actualUrl, but it doesn&#39;t work.","title":"How to make selenium wait till page is loaded after registration?","body":"<p>I'm making an UI test, where I should check out, if the registration was successful. My code gets executed, and it does make the registration successfully, however when I want to assert that the URL gets redirected to the <code>&quot;http://localhost:8080/sportsbetting-web/home&quot;;</code></p>\n<p>My code fails, stating that:</p>\n<pre><code>org.junit.ComparisonFailure: \nExpected :http://localhost:8080/sportsbetting-web/register\nActual   :http://localhost:8080/sportsbetting-web/home\n</code></pre>\n<p>My assertion looks like this:</p>\n<pre><code>button.click(); //registration button is clicked\ndriver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS); //wait so it has time to redirect\nString actualUrl = &quot;http://localhost:8080/sportsbetting-web/home&quot;;\nString expectedUrl = driver.getCurrentUrl();\nAssert.assertEquals(actualUrl,expectedUrl);\n</code></pre>\n<p>I tried switching the expectedUrl and actualUrl, but it doesn't work.</p>\n"},{"tags":["java","windows","cmd","version"],"comments":[{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":0,"creation_date":1654100356,"post_id":72465088,"comment_id":128012858,"body_markdown":"Have you tried turning it off and on again? Environment variables that you change in the system settings will not affect processes that are already running. Restart wherever you want to use the new version of Java, including your git bash, cmd.exe, or PowerShell.","body":"Have you tried turning it off and on again? Environment variables that you change in the system settings will not affect processes that are already running. Restart wherever you want to use the new version of Java, including your git bash, cmd.exe, or PowerShell."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1654100540,"post_id":72465088,"comment_id":128012914,"body_markdown":"java -version in the command shell will show the version of Java that&#39;s installed, without referring to your environment variables.  Why are you reverting to an older version of a JDK that is already past its support life end date?  You should be using JDK 17 or, at worst, 11.","body":"java -version in the command shell will show the version of Java that&#39;s installed, without referring to your environment variables.  Why are you reverting to an older version of a JDK that is already past its support life end date?  You should be using JDK 17 or, at worst, 11."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654101781,"post_id":72465088,"comment_id":128013347,"body_markdown":"It will refer to an environment variable: the `PATH`.","body":"It will refer to an environment variable: the <code>PATH</code>."}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1654173128,"creation_date":1654100724,"answer_id":72465201,"question_id":72465088,"body_markdown":"Please follow instructions in first part of this tutorial [How to Change Java Versions in Windows][1] for setting your default Java version.\r\n\r\nThen use Windows batch files such as these for switching between Java versions:\r\n\r\nActivateJava_8.bat:\r\n\r\n    @echo off\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_31\r\n    setx JAVA_HOME &quot;%JAVA_HOME%&quot;\r\n    set Path=%JAVA_HOME%\\bin;%Path%\r\n    echo Java 8 activated as user default.\r\n\r\nActivateJava_11.bat\r\n\r\n    @echo off\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.12\r\n    setx JAVA_HOME &quot;%JAVA_HOME%&quot;\r\n    set Path=%JAVA_HOME%\\bin;%Path%\r\n    echo Java 11 activated as user default.\r\n\r\nChange JAVA_HOME based on your installed version and directory.\r\n\r\nTo check that Environment variables are changed as expected, run following commands on command line:\r\n\r\n    echo %JAVA_HOME%\r\n    echo %path%\r\n\r\n  [1]: https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/","title":"Java version is not changing on windows","body":"<p>Please follow instructions in first part of this tutorial <a href=\"https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/\" rel=\"nofollow noreferrer\">How to Change Java Versions in Windows</a> for setting your default Java version.</p>\n<p>Then use Windows batch files such as these for switching between Java versions:</p>\n<p>ActivateJava_8.bat:</p>\n<pre><code>@echo off\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_31\nsetx JAVA_HOME &quot;%JAVA_HOME%&quot;\nset Path=%JAVA_HOME%\\bin;%Path%\necho Java 8 activated as user default.\n</code></pre>\n<p>ActivateJava_11.bat</p>\n<pre><code>@echo off\nset JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.12\nsetx JAVA_HOME &quot;%JAVA_HOME%&quot;\nset Path=%JAVA_HOME%\\bin;%Path%\necho Java 11 activated as user default.\n</code></pre>\n<p>Change JAVA_HOME based on your installed version and directory.</p>\n<p>To check that Environment variables are changed as expected, run following commands on command line:</p>\n<pre><code>echo %JAVA_HOME%\necho %path%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25444674,"reputation":33,"user_id":19247038,"display_name":"Nick Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654102972,"creation_date":1654102972,"answer_id":72465604,"question_id":72465088,"body_markdown":"I guess you have already tried the obvious ways with paths etc, so maybe you broke the symbolic links.\r\n\r\nSo, try to write the following commands in the terminal with elevated rights:\r\n\r\n    mklink java.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java.exe&quot;\r\n    mklink javaw.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javaw.exe&quot;\r\n    mklink javaws.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javaws.exe&quot;\r\n\r\n(Adjust the path according to the paths of your computer)","title":"Java version is not changing on windows","body":"<p>I guess you have already tried the obvious ways with paths etc, so maybe you broke the symbolic links.</p>\n<p>So, try to write the following commands in the terminal with elevated rights:</p>\n<pre><code>mklink java.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java.exe&quot;\nmklink javaw.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javaw.exe&quot;\nmklink javaws.exe &quot;C:\\Program Files\\Java\\jdk1.8.0_131\\bin\\javaws.exe&quot;\n</code></pre>\n<p>(Adjust the path according to the paths of your computer)</p>\n"},{"tags":[],"owner":{"account_id":24714276,"reputation":21,"user_id":18604139,"display_name":"LeonFRivera"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1654141466,"creation_date":1654108660,"answer_id":72466611,"question_id":72465088,"body_markdown":"Make sure that you have installed only 1 version of java 1.8 and uninstall the others in the control panel like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhHMP.png","title":"Java version is not changing on windows","body":"<p>Make sure that you have installed only 1 version of java 1.8 and uninstall the others in the control panel like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KhHMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KhHMP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25448174,"reputation":1,"user_id":19250054,"display_name":"Debjit Dutta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2414,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1654280435,"creation_date":1654100221,"question_id":72465088,"body_markdown":"Previously I had Java `1.8.0_131`, then I installed JDK `1.8.0_102`. Then changed the version in environment variables also, but while checking the  Java version in `cmd` it&#39;s still showing Java `1.8.0_131`. Any solution to this?","title":"Java version is not changing on windows","body":"<p>Previously I had Java <code>1.8.0_131</code>, then I installed JDK <code>1.8.0_102</code>. Then changed the version in environment variables also, but while checking the  Java version in <code>cmd</code> it's still showing Java <code>1.8.0_131</code>. Any solution to this?</p>\n"},{"tags":["java","multithreading","sleep","interrupted-exception","interruption"],"comments":[{"owner":{"account_id":5894,"reputation":19311,"user_id":9702,"accept_rate":91,"display_name":"Jeremy Stein"},"score":2,"creation_date":1246893186,"post_id":1087475,"comment_id":901190,"body_markdown":"http://stackoverflow.com/questions/1024651/do-i-have-to-worry-about-interruptedexceptions-if-i-dont-interrupt-anything-myse","body":"<a href=\"http://stackoverflow.com/questions/1024651/do-i-have-to-worry-about-interruptedexceptions-if-i-dont-interrupt-anything-myse\" title=\"do i have to worry about interruptedexceptions if i dont interrupt anything myse\">stackoverflow.com/questions/1024651/&hellip;</a>"},{"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":1,"creation_date":1392293052,"post_id":1087475,"comment_id":32904096,"body_markdown":"Depends in which sense you mean &quot;ignore&quot;. `InterruptedException` is a caught exception, so you can&#39;t compile unless you handle or declare this type of exception on any method which joins or sleeps a `Thread`, or calls `wait()` on `Object`.","body":"Depends in which sense you mean &quot;ignore&quot;. <code>InterruptedException</code> is a caught exception, so you can&#39;t compile unless you handle or declare this type of exception on any method which joins or sleeps a <code>Thread</code>, or calls <code>wait()</code> on <code>Object</code>."}],"answers":[{"tags":[],"owner":{"account_id":41443,"reputation":24989,"user_id":120444,"accept_rate":53,"display_name":"Brandon E Taylor"},"down_vote_count":12,"up_vote_count":69,"is_accepted":true,"score":57,"last_activity_date":1654280435,"creation_date":1246892783,"answer_id":1087504,"question_id":1087475,"body_markdown":"You should generally NOT ignore the exception. Take a look at the following paper:\r\n\r\n&gt; **Don&#39;t swallow interrupts**\r\n&gt;\r\n&gt; Sometimes throwing InterruptedException is\r\n&gt; not an option, such as when a task defined by Runnable calls an\r\n&gt; interruptible method. In this case, you can&#39;t rethrow\r\n&gt; InterruptedException, but you also do not want to do nothing. When a\r\n&gt; blocking method detects interruption and throws InterruptedException,\r\n&gt; it clears the interrupted status. If you catch InterruptedException\r\n&gt; but cannot rethrow it, you should preserve evidence that the\r\n&gt; interruption occurred so that code higher up on the call stack can\r\n&gt; learn of the interruption and respond to it if it wants to. This task\r\n&gt; is accomplished by calling interrupt() to &quot;reinterrupt&quot; the current\r\n&gt; thread, as shown in Listing 3. At the very least, whenever you catch\r\n&gt; InterruptedException and don&#39;t rethrow it, reinterrupt the current\r\n&gt; thread before returning.\r\n&gt;\r\n&gt;     public class TaskRunner implements Runnable {\r\n&gt;         private BlockingQueue&lt;Task&gt; queue;\r\n&gt;      \r\n&gt;         public TaskRunner(BlockingQueue&lt;Task&gt; queue) { \r\n&gt;             this.queue = queue; \r\n&gt;         }\r\n&gt;      \r\n&gt;         public void run() { \r\n&gt;             try {\r\n&gt;                  while (true) {\r\n&gt;                      Task task = queue.take(10, TimeUnit.SECONDS);\r\n&gt;                      task.execute();\r\n&gt;                  }\r\n&gt;              }\r\n&gt;              catch (InterruptedException e) { \r\n&gt;                  // Restore the interrupted status\r\n&gt;                  Thread.currentThread().interrupt();\r\n&gt;              }\r\n&gt;         }\r\n&gt;     }\r\n&gt;\r\n&gt; - From [Don&#39;t swallow interrupts][1]\r\n\r\n----------\r\n\r\nSee the entire paper here: \r\n\r\n[http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html?ca=drs-][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20210301203607/http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html?ca=drs-","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>You should generally NOT ignore the exception. Take a look at the following paper:</p>\n<blockquote>\n<p><strong>Don't swallow interrupts</strong></p>\n<p>Sometimes throwing InterruptedException is\nnot an option, such as when a task defined by Runnable calls an\ninterruptible method. In this case, you can't rethrow\nInterruptedException, but you also do not want to do nothing. When a\nblocking method detects interruption and throws InterruptedException,\nit clears the interrupted status. If you catch InterruptedException\nbut cannot rethrow it, you should preserve evidence that the\ninterruption occurred so that code higher up on the call stack can\nlearn of the interruption and respond to it if it wants to. This task\nis accomplished by calling interrupt() to &quot;reinterrupt&quot; the current\nthread, as shown in Listing 3. At the very least, whenever you catch\nInterruptedException and don't rethrow it, reinterrupt the current\nthread before returning.</p>\n<pre><code>public class TaskRunner implements Runnable {\n    private BlockingQueue&lt;Task&gt; queue;\n \n    public TaskRunner(BlockingQueue&lt;Task&gt; queue) { \n        this.queue = queue; \n    }\n \n    public void run() { \n        try {\n             while (true) {\n                 Task task = queue.take(10, TimeUnit.SECONDS);\n                 task.execute();\n             }\n         }\n         catch (InterruptedException e) { \n             // Restore the interrupted status\n             Thread.currentThread().interrupt();\n         }\n    }\n}\n</code></pre>\n<ul>\n<li>From <a href=\"https://web.archive.org/web/20210301203607/http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html?ca=drs-\" rel=\"noreferrer\">Don't swallow interrupts</a></li>\n</ul>\n</blockquote>\n<hr />\n<p>See the entire paper here:</p>\n<p><a href=\"https://web.archive.org/web/20210301203607/http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html?ca=drs-\" rel=\"noreferrer\">http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html?ca=drs-</a></p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1246893239,"creation_date":1246893239,"answer_id":1087545,"question_id":1087475,"body_markdown":"A solid and easy way to handle it in single threaded code would be to catch it and retrow it in a RuntimeException, to avoid the need to declare it for every method.","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>A solid and easy way to handle it in single threaded code would be to catch it and retrow it in a RuntimeException, to avoid the need to declare it for every method.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1246893359,"creation_date":1246893359,"answer_id":1087554,"question_id":1087475,"body_markdown":"The Java Specialists newsletter  (which I can unreservedly recommend) had an [interesting article on this][1], and how to handle the `InterruptedException`. It&#39;s well worth reading and digesting.\r\n\r\n\r\n  [1]: http://www.javaspecialists.co.za/archive/Issue056.html","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>The Java Specialists newsletter  (which I can unreservedly recommend) had an <a href=\"http://www.javaspecialists.co.za/archive/Issue056.html\" rel=\"noreferrer\">interesting article on this</a>, and how to handle the <code>InterruptedException</code>. It's well worth reading and digesting.</p>\n"},{"tags":[],"owner":{"account_id":1047592,"reputation":1,"user_id":1052280,"display_name":"BrutalOst"},"down_vote_count":10,"up_vote_count":3,"is_accepted":false,"score":-7,"last_activity_date":1321548626,"creation_date":1321548626,"answer_id":8171038,"question_id":1087475,"body_markdown":"The `InterruptedException` is usually thrown when a sleep is interrupted.","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>The <code>InterruptedException</code> is usually thrown when a sleep is interrupted.</p>\n"},{"tags":[],"owner":{"account_id":59715,"reputation":3561,"user_id":178597,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1558339324,"creation_date":1395700223,"answer_id":22621931,"question_id":1087475,"body_markdown":"If an `InterruptedException` is thrown it means that something wants to interrupt (usually terminate) that thread. This is triggered by a call to the threads `interrupt()` method. The wait method detects that and throws an `InterruptedException` so the catch code can handle the request for termination immediately and does not have to wait till the specified time is up.\r\n\r\nIf you use it in a single-threaded app (and also in some multi-threaded apps), that exception will never be triggered. Ignoring it by having an empty catch clause I would not recommend. The throwing of the `InterruptedException` clears the interrupted state of the thread, so if not handled properly that info gets lost. Therefore I would propose to run:\r\n\r\n    } catch (InterruptedException e) {\r\n      Thread.currentThread().interrupt();\r\n      // code for stopping current task so thread stops\r\n    }\r\n\r\nWhich sets that state again. After that, finish execution. This would be correct behaviour, even tough never used.\r\n\r\nWhat might be better is to add this:\r\n\r\n    } catch (InterruptedException e) {\r\n      throw new RuntimeException(&quot;Unexpected interrupt&quot;, e);\r\n    }\r\n\r\n...statement to the catch block. That basically means that it must never happen. So if the code is re-used in an environment where it might happen it will complain about it.\r\n\r\n","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>If an <code>InterruptedException</code> is thrown it means that something wants to interrupt (usually terminate) that thread. This is triggered by a call to the threads <code>interrupt()</code> method. The wait method detects that and throws an <code>InterruptedException</code> so the catch code can handle the request for termination immediately and does not have to wait till the specified time is up.</p>\n\n<p>If you use it in a single-threaded app (and also in some multi-threaded apps), that exception will never be triggered. Ignoring it by having an empty catch clause I would not recommend. The throwing of the <code>InterruptedException</code> clears the interrupted state of the thread, so if not handled properly that info gets lost. Therefore I would propose to run:</p>\n\n<pre><code>} catch (InterruptedException e) {\n  Thread.currentThread().interrupt();\n  // code for stopping current task so thread stops\n}\n</code></pre>\n\n<p>Which sets that state again. After that, finish execution. This would be correct behaviour, even tough never used.</p>\n\n<p>What might be better is to add this:</p>\n\n<pre><code>} catch (InterruptedException e) {\n  throw new RuntimeException(\"Unexpected interrupt\", e);\n}\n</code></pre>\n\n<p>...statement to the catch block. That basically means that it must never happen. So if the code is re-used in an environment where it might happen it will complain about it.</p>\n"},{"tags":[],"owner":{"account_id":10596562,"reputation":1,"user_id":7805041,"display_name":"Anshika"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491147662,"creation_date":1491147339,"answer_id":43170174,"question_id":1087475,"body_markdown":"Methods like `sleep()` and `wait()` of class `Thread` might throw an `InterruptedException`. This will happen if some other `thread` wanted to interrupt the `thread` that is waiting or sleeping.\r\n","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>Methods like <code>sleep()</code> and <code>wait()</code> of class <code>Thread</code> might throw an <code>InterruptedException</code>. This will happen if some other <code>thread</code> wanted to interrupt the <code>thread</code> that is waiting or sleeping.</p>\n"},{"tags":[],"owner":{"account_id":23924760,"reputation":1,"user_id":17919999,"display_name":"Yuvi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642062552,"creation_date":1642040649,"answer_id":70690700,"question_id":1087475,"body_markdown":"From personal experience, I simply changed `thread.sleep()` into `this.sleep()`","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>From personal experience, I simply changed <code>thread.sleep()</code> into <code>this.sleep()</code></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646865329,"creation_date":1646865329,"answer_id":71416788,"question_id":1087475,"body_markdown":"From the [docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/InterruptedException.html):\r\n\r\n&gt; An _`InterruptedException`_ is thrown when a thread is waiting,\r\n&gt; sleeping, or otherwise occupied, and the thread is interrupted, either\r\n&gt; before or during the activity.\r\n\r\n \r\n\r\nIn other words, _`InterruptedException`_ occurs when some code has called the `interrupt()` method on a specific thread. It&#39;s a checked exception, and many blocking operations in Java can throw it.\r\n\r\nThe purpose of the interrupt system is to provide a alternative workflow for allowing threads to interrupt tasks in other threads. An interruption necessarily may not interrupt a running thread but it can also request that the thread interrupt itself at the next convenient opportunity. \r\n\r\nThreads may get blocked for several reasons: \r\n- waiting to wake up from a `Thread.sleep()`\r\n- waiting to acquire a lock, waiting for I/O completion\r\n- waiting for the result of a computation in another thread, etc. \r\n\r\nThe InterruptedException is usually thrown by all blocking methods so that it can be handled and the corrective action can be performed.\r\n\r\nHowever, in majority of the cases as our code is a part of a Runnable, in this situation, we must catch it and restore the status.\r\n\r\nThere are a handfull of methods in Java that throws [InterruptedException](https://www.baeldung.com/java-interrupted-exception#what-is-an-interruptedexception). Some examples are:\r\n\r\n- Object class:\r\n  - _`Thread.sleep()`_\r\n  - _`Thread.join()`_\r\n  - _`wait()`_ \r\n\r\n- BlockingQueue:  \r\n  - _`put()`_\r\n  - _`take()`_","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/InterruptedException.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>An <em><code>InterruptedException</code></em> is thrown when a thread is waiting,\nsleeping, or otherwise occupied, and the thread is interrupted, either\nbefore or during the activity.</p>\n</blockquote>\n<p>In other words, <em><code>InterruptedException</code></em> occurs when some code has called the <code>interrupt()</code> method on a specific thread. It's a checked exception, and many blocking operations in Java can throw it.</p>\n<p>The purpose of the interrupt system is to provide a alternative workflow for allowing threads to interrupt tasks in other threads. An interruption necessarily may not interrupt a running thread but it can also request that the thread interrupt itself at the next convenient opportunity.</p>\n<p>Threads may get blocked for several reasons:</p>\n<ul>\n<li>waiting to wake up from a <code>Thread.sleep()</code></li>\n<li>waiting to acquire a lock, waiting for I/O completion</li>\n<li>waiting for the result of a computation in another thread, etc.</li>\n</ul>\n<p>The InterruptedException is usually thrown by all blocking methods so that it can be handled and the corrective action can be performed.</p>\n<p>However, in majority of the cases as our code is a part of a Runnable, in this situation, we must catch it and restore the status.</p>\n<p>There are a handfull of methods in Java that throws <a href=\"https://www.baeldung.com/java-interrupted-exception#what-is-an-interruptedexception\" rel=\"nofollow noreferrer\">InterruptedException</a>. Some examples are:</p>\n<ul>\n<li><p>Object class:</p>\n<ul>\n<li><em><code>Thread.sleep()</code></em></li>\n<li><em><code>Thread.join()</code></em></li>\n<li><em><code>wait()</code></em></li>\n</ul>\n</li>\n<li><p>BlockingQueue:</p>\n<ul>\n<li><em><code>put()</code></em></li>\n<li><em><code>take()</code></em></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":7643,"reputation":3809,"user_id":13326,"accept_rate":50,"display_name":"Manki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141999,"favorite_count":0,"down_vote_count":0,"up_vote_count":132,"accepted_answer_id":1087504,"answer_count":8,"score":132,"last_activity_date":1654280435,"creation_date":1246892511,"question_id":1087475,"body_markdown":"When does Java&#39;s Thread.sleep throw InterruptedException?  Is it safe to ignore it?  I am not doing any multithreading.  I just want to wait for a few seconds before retrying some operation.","title":"When does Java&#39;s Thread.sleep throw InterruptedException?","body":"<p>When does Java's Thread.sleep throw InterruptedException?  Is it safe to ignore it?  I am not doing any multithreading.  I just want to wait for a few seconds before retrying some operation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1654273804,"post_id":72492444,"comment_id":128059604,"body_markdown":"From [the Javadoc](https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html): &quot;_Virtual threads are daemon threads and so do not prevent the Java virtual machine from terminating_&quot;. Seems similar to, but not exactly the same as, [this problem](https://stackoverflow.com/questions/51879659/completablefuture-is-not-getting-executed-if-i-use-the-executorservice-pool-it) (though you can&#39;t apply the same fix, as it looks like virtual threads are _always_ daemon threads, and you can&#39;t change that).","body":"From <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">the Javadoc</a>: &quot;<i>Virtual threads are daemon threads and so do not prevent the Java virtual machine from terminating</i>&quot;. Seems similar to, but not exactly the same as, <a href=\"https://stackoverflow.com/questions/51879659/completablefuture-is-not-getting-executed-if-i-use-the-executorservice-pool-it\">this problem</a> (though you can&#39;t apply the same fix, as it looks like virtual threads are <i>always</i> daemon threads, and you can&#39;t change that)."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654280332,"creation_date":1654279767,"answer_id":72493580,"question_id":72492444,"body_markdown":"From [the documentation][1]:\r\n\r\n&gt; Virtual threads are daemon threads and so do not prevent the Java virtual machine from terminating.\r\n\r\nThis appears to be absolute; there&#39;s no way to make a virtual thread _non-daemon_.\r\n\r\nSo, if you want to use a thread pool (scheduled or not) which uses virtual threads, then you&#39;ll need to make sure at least one _non-daemon_ platform thread remains alive for as long as you need. Your `while (true);` loop currently does this, but in a way I strongly discourage; even sleeping the thread would be better, though still not great. In a more complex application, like a server or desktop application, you&#39;ll likely have one or more _non-daemon_ threads doing work anyway (e.g., the &quot;event loop&quot; in a desktop application) that will keep the JVM alive.\r\n\r\n  [1]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html\r\n  [2]: https://stackoverflow.com/questions/51879659/completablefuture-is-not-getting-executed-if-i-use-the-executorservice-pool-it","title":"ScheduledExecutorService exiting before executing virtual thread","body":"<p>From <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Virtual threads are daemon threads and so do not prevent the Java virtual machine from terminating.</p>\n</blockquote>\n<p>This appears to be absolute; there's no way to make a virtual thread <em>non-daemon</em>.</p>\n<p>So, if you want to use a thread pool (scheduled or not) which uses virtual threads, then you'll need to make sure at least one <em>non-daemon</em> platform thread remains alive for as long as you need. Your <code>while (true);</code> loop currently does this, but in a way I strongly discourage; even sleeping the thread would be better, though still not great. In a more complex application, like a server or desktop application, you'll likely have one or more <em>non-daemon</em> threads doing work anyway (e.g., the &quot;event loop&quot; in a desktop application) that will keep the JVM alive.</p>\n"}],"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72493580,"answer_count":1,"score":1,"last_activity_date":1654280332,"creation_date":1654272960,"question_id":72492444,"body_markdown":"I&#39;m facing an unusual behavior when trying to experiment with java 19 virtual thread, the code below works perfectly with platform thread. but it exits suddenly when i switch to virtual thread. adding while(true); at the end solves the problem and the program keeps printing &quot;hello&quot;.\r\nis it possible to use virtual thread with ScheduledExecutorService?\r\n```\r\n        ThreadFactory factory = Thread.ofVirtual().factory();\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(factory);\r\n            scheduledExecutorService.scheduleAtFixedRate(() -&gt; {\r\n                System.out.println(&quot;hello&quot;);\r\n            }, 0, 5000, TimeUnit.MILLISECONDS);\r\n    }\r\n   //while(true);\r\n```","title":"ScheduledExecutorService exiting before executing virtual thread","body":"<p>I'm facing an unusual behavior when trying to experiment with java 19 virtual thread, the code below works perfectly with platform thread. but it exits suddenly when i switch to virtual thread. adding while(true); at the end solves the problem and the program keeps printing &quot;hello&quot;.\nis it possible to use virtual thread with ScheduledExecutorService?</p>\n<pre><code>        ThreadFactory factory = Thread.ofVirtual().factory();\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(factory);\n            scheduledExecutorService.scheduleAtFixedRate(() -&gt; {\n                System.out.println(&quot;hello&quot;);\n            }, 0, 5000, TimeUnit.MILLISECONDS);\n    }\n   //while(true);\n</code></pre>\n"},{"tags":["java","exception","rx-java"],"comments":[{"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"score":0,"creation_date":1568147436,"post_id":57875237,"comment_id":102180455,"body_markdown":"Why can&#39;t your unwrap the `CompositeException`?","body":"Why can&#39;t your unwrap the <code>CompositeException</code>?"},{"owner":{"account_id":16670421,"reputation":81,"user_id":12048022,"display_name":"Cemenotar"},"score":0,"creation_date":1568174876,"post_id":57875237,"comment_id":102186768,"body_markdown":"never get to see it in my code - error handling is snatched by Rx stuff way before any of my handling can get a word in that....","body":"never get to see it in my code - error handling is snatched by Rx stuff way before any of my handling can get a word in that...."}],"answers":[{"tags":[],"owner":{"account_id":11597370,"reputation":432,"user_id":8495710,"display_name":"Arslan Shoukat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568180821,"creation_date":1568180821,"answer_id":57882838,"question_id":57875237,"body_markdown":"One way to handle this is by using try-catch block in your test, unwraping CompositeException and then asserting caught exception.\r\n\r\n    fun testSummarizationException() {\r\n        try {\r\n            summarizeConfirmedTransactions()\r\n        } catch (ex: Exception) {\r\n            val customException = (ex as? CompositeException)?.exceptions?.get(0)\r\n            //  assert to make sure thrown exception is of custom type\r\n            assert(customException is SummarizationException)\r\n        }\r\n    }\r\nThis is where CompositeException is unwrapped to get custom exception.\r\n\r\n&gt; val customException = (ex as? CompositeException)?.exceptions?.get(0)\r\n\r\nException is type-casted to CompositeException if it&#39;s permissible. If casting is not allowed for this type, this will return null and fails the test.","title":"Preventing RxJava from wrapping my custom exception into composite one","body":"<p>One way to handle this is by using try-catch block in your test, unwraping CompositeException and then asserting caught exception.</p>\n\n<pre><code>fun testSummarizationException() {\n    try {\n        summarizeConfirmedTransactions()\n    } catch (ex: Exception) {\n        val customException = (ex as? CompositeException)?.exceptions?.get(0)\n        //  assert to make sure thrown exception is of custom type\n        assert(customException is SummarizationException)\n    }\n}\n</code></pre>\n\n<p>This is where CompositeException is unwrapped to get custom exception.</p>\n\n<blockquote>\n  <p>val customException = (ex as? CompositeException)?.exceptions?.get(0)</p>\n</blockquote>\n\n<p>Exception is type-casted to CompositeException if it's permissible. If casting is not allowed for this type, this will return null and fails the test.</p>\n"},{"tags":[],"owner":{"account_id":16670421,"reputation":81,"user_id":12048022,"display_name":"Cemenotar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654280071,"creation_date":1568217719,"answer_id":57892936,"question_id":57875237,"body_markdown":"Ok, so after a little bit of more digging, and with helpful tip from a friend I&#39;ve managed to nail down intention of the task:\r\n\r\nWhat I was supposed to do there was:\r\n```java\r\nSingle&lt;BigDecimal&gt; summarizeConfirmedTransactions() throws SummarizationException {\r\n  Observable&lt;Transaction&gt; observableTransactions = transactions.get();\r\n  Observable&lt;Confirmation&gt; observableConfirmations = confirmations.get();\r\n\r\n  return Observable.zip(observableTransactions, observableConfirmations,\r\n    (t, c) -&gt; new ConfirmableTransaction(c.isConfirmed, t.value))\r\n      .filter(confirmableTransaction -&gt; confirmableTransaction.isConfirmed)\r\n      .map(t -&gt; t.value)\r\n      .reduce(BigDecimal::add)\r\n      .toSingle()\r\n      .onErrorResumeNext(th -&gt; Single.error(new SummarizationException(th.getMessage())));\r\n}\r\n```\r\n\r\nTL:DR I was not supposed to &quot;wrap&quot; errors into thrown exception but wrap them into error response containing exception.","title":"Preventing RxJava from wrapping my custom exception into composite one","body":"<p>Ok, so after a little bit of more digging, and with helpful tip from a friend I've managed to nail down intention of the task:</p>\n<p>What I was supposed to do there was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Single&lt;BigDecimal&gt; summarizeConfirmedTransactions() throws SummarizationException {\n  Observable&lt;Transaction&gt; observableTransactions = transactions.get();\n  Observable&lt;Confirmation&gt; observableConfirmations = confirmations.get();\n\n  return Observable.zip(observableTransactions, observableConfirmations,\n    (t, c) -&gt; new ConfirmableTransaction(c.isConfirmed, t.value))\n      .filter(confirmableTransaction -&gt; confirmableTransaction.isConfirmed)\n      .map(t -&gt; t.value)\n      .reduce(BigDecimal::add)\n      .toSingle()\n      .onErrorResumeNext(th -&gt; Single.error(new SummarizationException(th.getMessage())));\n}\n</code></pre>\n<p>TL:DR I was not supposed to &quot;wrap&quot; errors into thrown exception but wrap them into error response containing exception.</p>\n"}],"owner":{"account_id":16670421,"reputation":81,"user_id":12048022,"display_name":"Cemenotar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2536,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57892936,"answer_count":2,"score":4,"last_activity_date":1654280071,"creation_date":1568134365,"question_id":57875237,"body_markdown":"I was given a task to make implementation using RxJava, and safeguard in such way, that if any error happens, it gets wrapped into custom exception.\r\n\r\nProblem is, that regardless of what I do RxJavaPlugin decides to wrap my exception into CompositeException even when there is only one. Which fails tests.\r\n\r\nI&#39;ve tried everything I could find on the google all the way up to actually overwriting RxJavaPlugin&#39;s global error handler, but it ignores attempted changes.\r\n\r\nimplementation of function that is supposed to throw it at the moment of writing this post\r\n```java\r\nSingle&lt;BigDecimal&gt; summarizeConfirmedTransactions() throws SummarizationException {\r\n        try{\r\n            Observable&lt;Transaction&gt; observableTransactions = transactions.get()\r\n                    .doOnError(throwable -&gt; {\r\n                        Exceptions.propagate(throwable);\r\n                    });\r\n            Observable&lt;Confirmation&gt; observableConfirmations = confirmations.get()\r\n                    .doOnError(throwable -&gt; {\r\n                        Exceptions.propagate(throwable);\r\n                    });\r\n            return Observable.zip(observableTransactions, observableConfirmations, (t, c) -&gt; new ConfirmableTransaction(t.transactionId, c.isConfirmed, t.value))\r\n                    .filter(confirmableTransaction -&gt; confirmableTransaction.isConfirmed)\r\n                    .map(t -&gt; t.value)\r\n                    .reduce(BigDecimal::add)\r\n                    .toSingle()\r\n                    .doOnError(throwable -&gt; {\r\n                        Exceptions.propagate(throwable);\r\n                    });\r\n        }catch(Exception e)\r\n        {\r\n            throw new SummarizationException(e.getMessage());\r\n        }\r\n```\r\n\r\nAssertion in test fails because exception ultimately thrown is CompositeException with single exception inside of it. and I am required to have it be of SummarizationException.class\r\n\r\nbig thanks in advance.\r\n\r\nEdit:\r\nOn request, here is code used to test the solution. I am not allowed to modify this one.\r\n```\r\n    @Test\r\n    public void shouldWrapErrorIntoException() {\r\n        final ConfirmedTransactionSummarizer summarizer =\r\n                new ConfirmedTransactionSummarizer(ALL_CONFIRMED::transactions, () -&gt; Observable.error(new RuntimeException(&quot;Booom&quot;)));\r\n\r\n\r\n        summarizer\r\n                .summarizeConfirmedTransactions()\r\n                .subscribe(testObserver);\r\n\r\n        testObserver.assertError(SummarizationException.class);\r\n        testObserver.assertErrorMessage(&quot;Booom&quot;);\r\n    }\r\n```\r\nPS. I&#39;ve asked the giver of the task, he said that &quot;I&#39;m the only one with such problem&quot; and that I should not overcomplicate things and go for easiest solution.... which results in composite exception of 3 exceptions - one of which is my exception wrap and other two are instances of RuntimeException inserted by test code.","title":"Preventing RxJava from wrapping my custom exception into composite one","body":"<p>I was given a task to make implementation using RxJava, and safeguard in such way, that if any error happens, it gets wrapped into custom exception.</p>\n\n<p>Problem is, that regardless of what I do RxJavaPlugin decides to wrap my exception into CompositeException even when there is only one. Which fails tests.</p>\n\n<p>I've tried everything I could find on the google all the way up to actually overwriting RxJavaPlugin's global error handler, but it ignores attempted changes.</p>\n\n<p>implementation of function that is supposed to throw it at the moment of writing this post</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Single&lt;BigDecimal&gt; summarizeConfirmedTransactions() throws SummarizationException {\n        try{\n            Observable&lt;Transaction&gt; observableTransactions = transactions.get()\n                    .doOnError(throwable -&gt; {\n                        Exceptions.propagate(throwable);\n                    });\n            Observable&lt;Confirmation&gt; observableConfirmations = confirmations.get()\n                    .doOnError(throwable -&gt; {\n                        Exceptions.propagate(throwable);\n                    });\n            return Observable.zip(observableTransactions, observableConfirmations, (t, c) -&gt; new ConfirmableTransaction(t.transactionId, c.isConfirmed, t.value))\n                    .filter(confirmableTransaction -&gt; confirmableTransaction.isConfirmed)\n                    .map(t -&gt; t.value)\n                    .reduce(BigDecimal::add)\n                    .toSingle()\n                    .doOnError(throwable -&gt; {\n                        Exceptions.propagate(throwable);\n                    });\n        }catch(Exception e)\n        {\n            throw new SummarizationException(e.getMessage());\n        }\n</code></pre>\n\n<p>Assertion in test fails because exception ultimately thrown is CompositeException with single exception inside of it. and I am required to have it be of SummarizationException.class</p>\n\n<p>big thanks in advance.</p>\n\n<p>Edit:\nOn request, here is code used to test the solution. I am not allowed to modify this one.</p>\n\n<pre><code>    @Test\n    public void shouldWrapErrorIntoException() {\n        final ConfirmedTransactionSummarizer summarizer =\n                new ConfirmedTransactionSummarizer(ALL_CONFIRMED::transactions, () -&gt; Observable.error(new RuntimeException(\"Booom\")));\n\n\n        summarizer\n                .summarizeConfirmedTransactions()\n                .subscribe(testObserver);\n\n        testObserver.assertError(SummarizationException.class);\n        testObserver.assertErrorMessage(\"Booom\");\n    }\n</code></pre>\n\n<p>PS. I've asked the giver of the task, he said that \"I'm the only one with such problem\" and that I should not overcomplicate things and go for easiest solution.... which results in composite exception of 3 exceptions - one of which is my exception wrap and other two are instances of RuntimeException inserted by test code.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":1,"creation_date":1654237129,"post_id":72485414,"comment_id":128047458,"body_markdown":"This is more likely a database design problem and not a JPA or Spring (or even Java for that matter) problem. My suggestion is you give IDs to entities and if one entity is inheriting other, then look into compound primary keys.","body":"This is more likely a database design problem and not a JPA or Spring (or even Java for that matter) problem. My suggestion is you give IDs to entities and if one entity is inheriting other, then look into compound primary keys."}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654242124,"creation_date":1654242124,"answer_id":72486267,"question_id":72485414,"body_markdown":"There shouldn&#39;t be multiple `@Id` columns in the entity hierarchy. It&#39;s only logical because essentially they describe the same object, although with some differences. \r\n\r\nIf your intention was to have `mitgliedID` value autogenerated one solution would be to use Hibernate&#39;s `@Generated`/`@ValueGenerationType` annotations (https://docs.jboss.org/hibernate/orm/6.0/topical/html_single/generated/GeneratedValues.html#generated-values-guide).\r\n\r\nAlso, check out this question for other ways to achieve the same result: https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id","title":"Spring Data JPA Inheritance is not working","body":"<p>There shouldn't be multiple <code>@Id</code> columns in the entity hierarchy. It's only logical because essentially they describe the same object, although with some differences.</p>\n<p>If your intention was to have <code>mitgliedID</code> value autogenerated one solution would be to use Hibernate's <code>@Generated</code>/<code>@ValueGenerationType</code> annotations (<a href=\"https://docs.jboss.org/hibernate/orm/6.0/topical/html_single/generated/GeneratedValues.html#generated-values-guide\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/topical/html_single/generated/GeneratedValues.html#generated-values-guide</a>).</p>\n<p>Also, check out this question for other ways to achieve the same result: <a href=\"https://stackoverflow.com/questions/277630/hibernate-jpa-sequence-non-id\">Hibernate JPA Sequence (non-Id)</a></p>\n"}],"owner":{"account_id":20527461,"reputation":67,"user_id":15065565,"display_name":"salteax1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654279970,"creation_date":1654236998,"question_id":72485414,"body_markdown":"This is my person class.\r\n\r\n    @Entity\r\n    @Table(name = &quot;Person&quot;)\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;PersonID&quot;)\r\n        private Long personID;\r\n        @Column(name = &quot;Name&quot;)\r\n        @Convert(converter = NameConverter.class)\r\n        private Name name;\r\n        @Column(name = &quot;Geburtsdatum&quot;)\r\n        private LocalDate geburtsdatum;\r\n        @Column(name = &quot;Strasse&quot;)\r\n        private String strasse;\r\n        @Column(name = &quot;Hausnummer&quot;)\r\n        private String hausnummer;\r\n        @Column(name = &quot;PLZ&quot;)\r\n        private String plz;\r\n        @Column(name = &quot;Ort&quot;)\r\n        private String ort;\r\n        @Column(name = &quot;EMail&quot;)\r\n        private String email;\r\n        @Column(name = &quot;Telefonnummer&quot;)\r\n        private String telefonnummer;\r\n    \r\n        protected Person() {}\r\n    \r\n        public Person(Name name, LocalDate geburtsdatum, String strasse, String hausnummer, String plz, String ort, String email, String telefonnummer) {\r\n            this.name = name;\r\n            this.geburtsdatum = geburtsdatum;\r\n            this.strasse = strasse;\r\n            this.hausnummer = hausnummer;\r\n            this.plz = plz;\r\n            this.ort = ort;\r\n            this.email = email;\r\n            this.telefonnummer = telefonnummer;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;PersonID: %d\\nName: %s\\nGeburtsdatum: %s\\nE-Mail: %s\\nTelefonnummer: %s\\nAdresse: %s %s, %s %s\\n&quot;,personID,name.getFullName(),geburtsdatum,email,telefonnummer,strasse,hausnummer,plz,ort);\r\n        }\r\n    \r\n        /* Getter &amp; Setters */\r\n    }\r\n\r\nThis is my Mitglied class which should be based of the person.\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Mitglied&quot;)\r\n    public class Mitglied extends Person {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;MitgliedID&quot;)\r\n        private Long mitgliedID;\r\n        @Column(name = &quot;ZPS&quot;)\r\n        private String zps;\r\n        @Column(name = &quot;ZPSNummer&quot;)\r\n        private String zpsNummer;\r\n        @Column(name = &quot;Eintrittsdatum&quot;)\r\n        private LocalDate eintrittsDatum;\r\n        @Column(name = &quot;Austrittsdatum&quot;)\r\n        private LocalDate austrittsDatum;\r\n        @Column(name = &quot;DWZ&quot;)\r\n        private String dwz;\r\n        @Column(name = &quot;Elo&quot;)\r\n        private String elo;\r\n        @Column(name = &quot;FIDETitel&quot;)\r\n        private String fideTitel;\r\n    \r\n        protected Mitglied() {}\r\n    \r\n        public Mitglied(Name name, LocalDate geburtsdatum, String strasse, String hausnummer, String plz, String ort, String email, String telefonnummer, String zps, LocalDate eintrittsDatum, LocalDate austrittsDatum, String dwz, String elo, String fideTitel) {\r\n            super(name, geburtsdatum, strasse, hausnummer, plz, ort, email, telefonnummer);\r\n            this.zps = zps;\r\n            this.eintrittsDatum = eintrittsDatum;\r\n            this.austrittsDatum = austrittsDatum;\r\n            this.dwz = dwz;\r\n            this.elo = elo;\r\n            this.fideTitel = fideTitel;\r\n        }\r\n        \r\n        /* Getter &amp; Setters */\r\n    \r\n    }\r\n\r\nI&#39;m having the problem that if the Mitglied inherits from the Person than i got 2 unique IDs...\r\nMy guess would be to fix my problem i could change the Person class so it would not be a table anymore, but i don&#39;t really know how i would make my Mitglied Table have a column for each value.","title":"Spring Data JPA Inheritance is not working","body":"<p>This is my person class.</p>\n<pre><code>@Entity\n@Table(name = &quot;Person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;PersonID&quot;)\n    private Long personID;\n    @Column(name = &quot;Name&quot;)\n    @Convert(converter = NameConverter.class)\n    private Name name;\n    @Column(name = &quot;Geburtsdatum&quot;)\n    private LocalDate geburtsdatum;\n    @Column(name = &quot;Strasse&quot;)\n    private String strasse;\n    @Column(name = &quot;Hausnummer&quot;)\n    private String hausnummer;\n    @Column(name = &quot;PLZ&quot;)\n    private String plz;\n    @Column(name = &quot;Ort&quot;)\n    private String ort;\n    @Column(name = &quot;EMail&quot;)\n    private String email;\n    @Column(name = &quot;Telefonnummer&quot;)\n    private String telefonnummer;\n\n    protected Person() {}\n\n    public Person(Name name, LocalDate geburtsdatum, String strasse, String hausnummer, String plz, String ort, String email, String telefonnummer) {\n        this.name = name;\n        this.geburtsdatum = geburtsdatum;\n        this.strasse = strasse;\n        this.hausnummer = hausnummer;\n        this.plz = plz;\n        this.ort = ort;\n        this.email = email;\n        this.telefonnummer = telefonnummer;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;PersonID: %d\\nName: %s\\nGeburtsdatum: %s\\nE-Mail: %s\\nTelefonnummer: %s\\nAdresse: %s %s, %s %s\\n&quot;,personID,name.getFullName(),geburtsdatum,email,telefonnummer,strasse,hausnummer,plz,ort);\n    }\n\n    /* Getter &amp; Setters */\n}\n</code></pre>\n<p>This is my Mitglied class which should be based of the person.</p>\n<pre><code>@Entity\n@Table(name = &quot;Mitglied&quot;)\npublic class Mitglied extends Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;MitgliedID&quot;)\n    private Long mitgliedID;\n    @Column(name = &quot;ZPS&quot;)\n    private String zps;\n    @Column(name = &quot;ZPSNummer&quot;)\n    private String zpsNummer;\n    @Column(name = &quot;Eintrittsdatum&quot;)\n    private LocalDate eintrittsDatum;\n    @Column(name = &quot;Austrittsdatum&quot;)\n    private LocalDate austrittsDatum;\n    @Column(name = &quot;DWZ&quot;)\n    private String dwz;\n    @Column(name = &quot;Elo&quot;)\n    private String elo;\n    @Column(name = &quot;FIDETitel&quot;)\n    private String fideTitel;\n\n    protected Mitglied() {}\n\n    public Mitglied(Name name, LocalDate geburtsdatum, String strasse, String hausnummer, String plz, String ort, String email, String telefonnummer, String zps, LocalDate eintrittsDatum, LocalDate austrittsDatum, String dwz, String elo, String fideTitel) {\n        super(name, geburtsdatum, strasse, hausnummer, plz, ort, email, telefonnummer);\n        this.zps = zps;\n        this.eintrittsDatum = eintrittsDatum;\n        this.austrittsDatum = austrittsDatum;\n        this.dwz = dwz;\n        this.elo = elo;\n        this.fideTitel = fideTitel;\n    }\n    \n    /* Getter &amp; Setters */\n\n}\n</code></pre>\n<p>I'm having the problem that if the Mitglied inherits from the Person than i got 2 unique IDs...\nMy guess would be to fix my problem i could change the Person class so it would not be a table anymore, but i don't really know how i would make my Mitglied Table have a column for each value.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8702,"page":1290,"page_size":100}
